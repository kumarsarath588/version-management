{"status":{"description":"* sudo mysql -u root -p[PASSWORD]  \n* default password [ nutanix\/4u ]","source_mpi":"","state":"ACTIVE","is_cloned":false,"message_list":[],"resources":{"service_definition_list":[{"port_list":[],"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"d9c3da29-0fe3-4cb9-ba01-55ca37770ede","name":"action_create","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"DAG","uuid":"ca74ce27-b239-4b13-ba79-7bcd4d284857","child_tasks_local_reference_list":[{"kind":"app_task","name":"ConfigureMaster","uuid":"fa33f672-bd27-4b32-bb00-17d3f5828775"},{"kind":"app_task","name":"GetDBState","uuid":"f9e583f0-842d-4f6a-b7f6-2c1939fdc991"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"ConfigureMaster","uuid":"fa33f672-bd27-4b32-bb00-17d3f5828775"},"edge_type":"user_defined","type":"","uuid":"8a87f35c-8e1c-4831-b633-2b1716c8bbb0","to_task_reference":{"kind":"app_task","name":"GetDBState","uuid":"f9e583f0-842d-4f6a-b7f6-2c1939fdc991"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"a6df9f70_dag"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"EXEC","uuid":"fa33f672-bd27-4b32-bb00-17d3f5828775","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\n# -*- Setup variables\nmysql_password=\"@@{MYSQL_PASSWORD}@@\"\n\nserver_id=`sudo cat \/etc\/my.cnf.d\/nutanix.cnf | grep  \"server-id=\" | cut -d= -f2`\nis_master=`sudo cat \/etc\/my.cnf.d\/nutanix.cnf | grep -q -w \"#master=$server_id\"; echo $?`\n\n# -*- Run only on master\nif [ ${is_master} -eq 0 ]\nthen\nsudo sed -i \"\/\\[mysqld\\]\/a innodb_flush_log_at_trx_commit=1\" \/etc\/my.cnf.d\/nutanix.cnf\nsudo sed -i \"\/\\[mysqld\\]\/a sync_binlog=1\" \/etc\/my.cnf.d\/nutanix.cnf\n\nsudo mysql -u root -p${mysql_password}<<EOF\nCREATE USER 'replica'@'%' IDENTIFIED BY \"${mysql_password}\";\nGRANT REPLICATION SLAVE ON *.* to replica@'%';\nFLUSH PRIVILEGES;\nEOF\n\nfi\n\nsudo touch \/var\/run\/mysqld\/mysqld.sock\nsudo chown mysql:mysql \/var\/run\/mysqld\/mysqld.sock\nsudo systemctl restart mysqld\n\nsleep 5\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"ConfigureMaster"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"SET_VARIABLE","uuid":"f9e583f0-842d-4f6a-b7f6-2c1939fdc991","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\nmysql_password=\"@@{MYSQL_PASSWORD}@@\"\nmaster_ip=\"@@{address}@@\"\n\nserver_id=`sudo cat \/etc\/my.cnf.d\/nutanix.cnf | grep  \"server-id=\" | cut -d= -f2`\nis_master=`sudo cat \/etc\/my.cnf.d\/nutanix.cnf | grep -q -w \"#master=$server_id\"; echo $?`\n\n\nif [ ${is_master} -eq 0 ]\nthen\n    while true\n    do\n      status=`sudo systemctl status mysqld | grep Active: | awk ' { print $3 }' | sed 's#[(|)]##g'`\n  \t  [ $status = \"running\" ] && break\n      echo $status\n  \t  sleep 2\n    done\n    \n    MYSQL_BIN=$(sudo mysql -u root -p${mysql_password} -e 'show master status;' | grep mysql-bin | awk '{print $1}')\n\tMYSQL_POSITION=$(sudo mysql -u root -p${mysql_password} -e 'show master status;' | grep mysql-bin | awk '{print $2}')\n    \n  echo \"MYSQL_BIN=$MYSQL_BIN\"\n  echo \"MYSQL_POSITION=$MYSQL_POSITION\"\nfi\n\n","eval_variables":["MYSQL_BIN","MYSQL_POSITION"],"eval_scope":"local","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"},"type":"","script_type":"sh"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"GetDBState"}],"description":"","message_list":[],"uuid":"f2803b23-af0b-4afd-8a2f-ef666adf85c8","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"a6df9f70_dag","uuid":"ca74ce27-b239-4b13-ba79-7bcd4d284857"},"name":"0a970522_runbook"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"914d7528-532c-4939-b742-7ce4b00e5ba3","name":"action_delete","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"DAG","uuid":"bffac7c8-bc0f-4a15-bae5-9205907d4a19","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"3f9277cd_dag"}],"description":"","message_list":[],"uuid":"7e58dd6b-1da9-495c-97e7-84bb6e288586","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"3f9277cd_dag","uuid":"bffac7c8-bc0f-4a15-bae5-9205907d4a19"},"name":"5fd47ec3_runbook"}},{"description":"System action for starting an application","message_list":[],"uuid":"e1f7324c-e843-4026-a2de-46eb3c64e673","name":"action_start","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"DAG","uuid":"f108881d-8990-40ce-a85a-57ded2f2ea1b","child_tasks_local_reference_list":[{"kind":"app_task","name":"Start","uuid":"2097ad4d-29b2-42cd-a677-3af18d6e4ef6"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"32e9c292_dag"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"EXEC","uuid":"2097ad4d-29b2-42cd-a677-3af18d6e4ef6","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\nsudo systemctl start mysqld\nsudo systemctl enable mysqld"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Start"}],"description":"","message_list":[],"uuid":"f88c4d73-c0ab-488b-a016-3e1453b91891","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"32e9c292_dag","uuid":"f108881d-8990-40ce-a85a-57ded2f2ea1b"},"name":"5ddb28d1_runbook"}},{"description":"System action for stopping an application","message_list":[],"uuid":"67e13d13-fabd-4238-a5f9-05bb0ec86977","name":"action_stop","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"DAG","uuid":"f06779b8-b3f8-439e-91ce-68c484274972","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"ce63573f_dag"}],"description":"","message_list":[],"uuid":"a75d0021-cf2d-4da4-85dc-56ee0ed9e9eb","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"ce63573f_dag","uuid":"f06779b8-b3f8-439e-91ce-68c484274972"},"name":"0aefbca3_runbook"}},{"description":"System action for restarting an application","message_list":[],"uuid":"0e49454c-082a-4a1b-ba9a-d4b18b7dd69b","name":"action_restart","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"DAG","uuid":"052eea8e-d1ce-4988-94f4-27d35e76d814","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"c4afa1a6_dag"}],"description":"","message_list":[],"uuid":"6beb8e29-06b2-4218-a1fd-18c28d8c6218","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"c4afa1a6_dag","uuid":"052eea8e-d1ce-4988-94f4-27d35e76d814"},"name":"7e709238_runbook"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"6fd3f7de-cc3b-4bb4-98f5-886e58a3d47e","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"DAG","uuid":"426c282c-b297-43c0-b43c-285e238e8deb","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Service_Element_Delete_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"ea9299f8-be52-42ee-85cf-e539558f15a7"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Service_f9269cde_e6a4_4381_8979_810e76afd1bd"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"ea9299f8-be52-42ee-85cf-e539558f15a7","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Service_Element_Delete_f9269cde_e6a4_4381_8979_810e76afd1bd"}],"description":"","message_list":[],"uuid":"9b57420b-3c50-4fbe-8880-9c7651fd25ad","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"426c282c-b297-43c0-b43c-285e238e8deb"},"name":"SYS_GEN__Runbook_Service_f9269cde_e6a4_4381_8979_810e76afd1bd"}}],"message_list":[],"uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd","state":"ACTIVE","depends_on_list":[],"editables":{},"tier":"","singleton":false,"variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"a90abb5e-24f7-4339-b853-9774b141a693","value":"","label":"","state":"ACTIVE","attrs":{"type":""},"editables":{},"is_hidden":false,"type":"LOCAL","options":{},"name":"MYSQL_BIN"},{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"041405f1-03f5-457a-9263-6838413fdf89","value":"","label":"","state":"ACTIVE","attrs":{"type":""},"editables":{},"is_hidden":false,"type":"LOCAL","options":{},"name":"MYSQL_POSITION"}],"name":"MySQL_Master"},{"port_list":[],"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"d44055a1-c778-4725-8f46-701a3e03e1f8","name":"action_create","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"DAG","uuid":"599a8fb9-46df-45dd-bd55-a997bf5f02aa","child_tasks_local_reference_list":[{"kind":"app_task","name":"ConfigureSlaves","uuid":"49e2c1ee-bd8c-498c-bae0-dbc064973641"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"93f99bda_dag"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"EXEC","uuid":"49e2c1ee-bd8c-498c-bae0-dbc064973641","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\n\n# -*- Setup variables\nmysql_password=\"@@{MYSQL_PASSWORD}@@\"\nmaster_ip=\"@@{MySQL_Master.address}@@\"\nmaster_bin=\"@@{MySQL_Master.MYSQL_BIN}@@\"\nmaster_position=\"@@{MySQL_Master.MYSQL_POSITION}@@\"\n\nserver_id=`sudo cat \/etc\/my.cnf.d\/nutanix.cnf | grep  \"server-id=\" | cut -d= -f2`\nis_master=`sudo cat \/etc\/my.cnf.d\/nutanix.cnf | grep -q -w \"#master=$server_id\"; echo $?`\n\n# -*- Runs on slaves\nif [ ${is_master} -ne 0 ]\nthen\n  sudo mysql -u root -p${mysql_password} -e \"change master to master_host='${master_ip}',master_user='replica',master_password='${mysql_password}',master_log_file='${master_bin}',master_log_pos=${master_position};\"\n  sudo mysql -u root -p${mysql_password} -e 'start slave;'\n  sudo mysql -u root -p${mysql_password} -e 'show slave status\\G' | grep -A11 Slave_IO_State\nfi\n"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"ConfigureSlaves"}],"description":"","message_list":[],"uuid":"e509001d-6b88-4a64-813c-0ce8ea81991a","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"93f99bda_dag","uuid":"599a8fb9-46df-45dd-bd55-a997bf5f02aa"},"name":"d54168c9_runbook"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"945908c2-b1c2-4db6-ba11-ba693eb7731c","name":"action_delete","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"DAG","uuid":"5555ecea-c918-4901-9f1d-f4cee3f5e18b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"5066b603_dag"}],"description":"","message_list":[],"uuid":"497a8a35-a955-4f76-8fb0-21dbd9acb6e0","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"5066b603_dag","uuid":"5555ecea-c918-4901-9f1d-f4cee3f5e18b"},"name":"92247e35_runbook"}},{"description":"System action for starting an application","message_list":[],"uuid":"704edffc-dca5-45cd-9acc-7e0c8f0e172a","name":"action_start","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"DAG","uuid":"4cc424cd-c143-4178-9c04-304f40906702","child_tasks_local_reference_list":[{"kind":"app_task","name":"Start","uuid":"f8dbe5d9-ed35-4340-b08b-b63a2186d4af"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"abefdcaf_dag"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"EXEC","uuid":"f8dbe5d9-ed35-4340-b08b-b63a2186d4af","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\nsudo systemctl start mysqld\nsudo systemctl enable mysqld"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Start"}],"description":"","message_list":[],"uuid":"0afbc7f3-5541-415f-9616-c459f09806b2","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"abefdcaf_dag","uuid":"4cc424cd-c143-4178-9c04-304f40906702"},"name":"a027cde0_runbook"}},{"description":"System action for stopping an application","message_list":[],"uuid":"d7505d77-e9e7-437f-b19e-09c4d56a030e","name":"action_stop","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"DAG","uuid":"3c6ea136-2d98-420e-8d99-795754817351","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"097fa65d_dag"}],"description":"","message_list":[],"uuid":"09b1c8a9-6223-4e38-acfb-ff4754413c85","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"097fa65d_dag","uuid":"3c6ea136-2d98-420e-8d99-795754817351"},"name":"4a2ad0be_runbook"}},{"description":"System action for restarting an application","message_list":[],"uuid":"799d6891-7292-4fe4-8cf8-56738e7f9923","name":"action_restart","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"DAG","uuid":"77b3c0c3-f1aa-48c3-9aac-d92074b4927c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"e1f94389_dag"}],"description":"","message_list":[],"uuid":"b7162b3b-d4ba-4fba-875d-fc9c8c2c5b79","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"e1f94389_dag","uuid":"77b3c0c3-f1aa-48c3-9aac-d92074b4927c"},"name":"f2b2a076_runbook"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"4037b8a1-9690-4b3c-94dd-2e00558b2b82","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"DAG","uuid":"4498547a-f09a-4dea-b4eb-4c0af9a3a005","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Service_Element_Delete_faa35c46_57f5_4415_8253_af16e0849400","uuid":"945b721e-ac62-419a-84f2-3eb3f3cda067"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Service_faa35c46_57f5_4415_8253_af16e0849400"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"945b721e-ac62-419a-84f2-3eb3f3cda067","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Service_Element_Delete_faa35c46_57f5_4415_8253_af16e0849400"}],"description":"","message_list":[],"uuid":"6cdcc89d-fd42-4e8a-9e97-40576d559005","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"4498547a-f09a-4dea-b4eb-4c0af9a3a005"},"name":"SYS_GEN__Runbook_Service_faa35c46_57f5_4415_8253_af16e0849400"}}],"message_list":[],"uuid":"faa35c46-57f5-4415-8253-af16e0849400","state":"ACTIVE","depends_on_list":[{"kind":"app_service","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd","name":"MySQL_Master"}],"editables":{},"tier":"","singleton":false,"variable_list":[],"name":"MySQL_Slave"}],"substrate_definition_list":[{"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"2866efee-b560-4280-a404-4c501703485f","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AHVMaster","uuid":"fcfab67a-6fcb-47c1-866e-ef3e11899887"},"retries":"0","description":"","type":"DAG","uuid":"d6621083-cdf0-4037-9925-d408204cf203","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Nutanix_Provision_fcfab67a_6fcb_47c1_866e_ef3e11899887","uuid":"9ec34102-3c57-406d-92c1-5089b55eb1c1"},{"kind":"app_task","name":"SYS_GEN__check_login_for_AHVMaster_fcfab67a_6fcb_47c1_866e_ef3e11899887","uuid":"b56ab026-56a8-4060-8012-992bf4e2f51a"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Nutanix_Provision_fcfab67a_6fcb_47c1_866e_ef3e11899887","uuid":"9ec34102-3c57-406d-92c1-5089b55eb1c1"},"edge_type":"inherent","type":"","uuid":"8a199fc0-57c4-4aee-9bed-9998200dbf97","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_AHVMaster_fcfab67a_6fcb_47c1_866e_ef3e11899887","uuid":"b56ab026-56a8-4060-8012-992bf4e2f51a"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_fcfab67a_6fcb_47c1_866e_ef3e11899887"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVMaster","uuid":"fcfab67a-6fcb-47c1-866e-ef3e11899887"},"retries":"0","description":"","type":"PROVISION_NUTANIX","uuid":"9ec34102-3c57-406d-92c1-5089b55eb1c1","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"name":"mysql-master-@@{calm_time}@@","categories":{"AppFamily":"Databases"},"availability_zone_reference":null,"backup_policy":null,"type":"","cluster_reference":null,"resources":{"nic_list":[{"nic_type":"NORMAL_NIC","ip_endpoint_list":[],"network_function_chain_reference":null,"network_function_nic_type":"INGRESS","mac_address":"","subnet_reference":{"kind":"subnet","type":"","name":"","uuid":"efc034e3-b50e-4a48-b02d-25036aeb8bd3"},"type":""}],"parent_reference":null,"guest_tools":null,"num_vcpus_per_socket":2,"num_sockets":2,"serial_port_list":[],"gpu_list":[],"memory_size_mib":8192,"power_state":"ON","hardware_clock_timezone":"","guest_customization":{"cloud_init":{"meta_data":"","type":"","user_data":"#cloud-config\nusers:\n  - name: centos\n    ssh-authorized-keys:\n      - @@{CENTOS.public_key}@@\n    sudo: ['ALL=(ALL) NOPASSWD:ALL']"},"type":"","sysprep":null},"type":"","boot_config":{"boot_device":{"type":"","disk_address":{"adapter_type":"SCSI","device_index":0,"type":""}},"type":"","mac_address":""},"disk_list":[{"data_source_reference":{"kind":"app_package","type":"","name":"AHV_CENTOS_76","uuid":"a7955a04-2023-483b-8c51-1284d919a1c7"},"type":"","disk_size_mib":0,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":0,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":51200,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":1,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":51200,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":2,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":51200,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":3,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":51200,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":4,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":25600,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":5,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":25600,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":6,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":25600,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":7,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":25600,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":8,"type":""}}}]}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Nutanix_Provision_fcfab67a_6fcb_47c1_866e_ef3e11899887"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVMaster","uuid":"fcfab67a-6fcb-47c1-866e-ef3e11899887"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"b56ab026-56a8-4060-8012-992bf4e2f51a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"300","address":"@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_AHVMaster_fcfab67a_6fcb_47c1_866e_ef3e11899887"}],"description":"","message_list":[],"uuid":"338f05f2-b6b8-4672-aa98-009d21f24f5f","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_fcfab67a_6fcb_47c1_866e_ef3e11899887","uuid":"d6621083-cdf0-4037-9925-d408204cf203"},"name":"SYS_GEN__Runbook_Substrate_fcfab67a_6fcb_47c1_866e_ef3e11899887"}},{"description":"System action for powering on an application","message_list":[],"uuid":"81737db3-655f-401d-81e1-21b5822b8176","name":"action_poweron","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AHVMaster","uuid":"fcfab67a-6fcb-47c1-866e-ef3e11899887"},"retries":"0","description":"","type":"DAG","uuid":"33142e18-cfb0-4f33-b6fe-de53641d0902","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Nutanix_Operation_PowerOn_fcfab67a_6fcb_47c1_866e_ef3e11899887","uuid":"99223bfe-f360-475d-a928-213e9aa3c3b8"},{"kind":"app_task","name":"SYS_GEN__check_login_for_AHVMaster_fcfab67a_6fcb_47c1_866e_ef3e11899887","uuid":"4114135f-79de-4b74-bc83-0646f7bc2900"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Nutanix_Operation_PowerOn_fcfab67a_6fcb_47c1_866e_ef3e11899887","uuid":"99223bfe-f360-475d-a928-213e9aa3c3b8"},"edge_type":"inherent","type":"","uuid":"3740be54-b011-455b-8f4b-13df30724676","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_AHVMaster_fcfab67a_6fcb_47c1_866e_ef3e11899887","uuid":"4114135f-79de-4b74-bc83-0646f7bc2900"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_fcfab67a_6fcb_47c1_866e_ef3e11899887"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVMaster","uuid":"fcfab67a-6fcb-47c1-866e-ef3e11899887"},"retries":"0","description":"","type":"VMOPERATION_NUTANIX","uuid":"99223bfe-f360-475d-a928-213e9aa3c3b8","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Nutanix_Operation_PowerOn_fcfab67a_6fcb_47c1_866e_ef3e11899887"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVMaster","uuid":"fcfab67a-6fcb-47c1-866e-ef3e11899887"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"4114135f-79de-4b74-bc83-0646f7bc2900","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"300","address":"@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_AHVMaster_fcfab67a_6fcb_47c1_866e_ef3e11899887"}],"description":"","message_list":[],"uuid":"d9b8158f-321e-423e-8b62-429217ddd8c6","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_fcfab67a_6fcb_47c1_866e_ef3e11899887","uuid":"33142e18-cfb0-4f33-b6fe-de53641d0902"},"name":"SYS_GEN__Runbook_Substrate_fcfab67a_6fcb_47c1_866e_ef3e11899887"}},{"description":"System action for restarting an application","message_list":[],"uuid":"9bc2e390-c46a-4634-8aa7-d237f5962f32","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AHVMaster","uuid":"fcfab67a-6fcb-47c1-866e-ef3e11899887"},"retries":"0","description":"","type":"DAG","uuid":"78062531-1c9f-4589-a563-964f7aa8c96e","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Nutanix_Operation_Restart_fcfab67a_6fcb_47c1_866e_ef3e11899887","uuid":"63cb519b-260b-4cb1-8178-510c481554f5"},{"kind":"app_task","name":"SYS_GEN__check_login_for_AHVMaster_fcfab67a_6fcb_47c1_866e_ef3e11899887","uuid":"ca537ce6-5efe-43bb-9108-bff6d0ce9291"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Nutanix_Operation_Restart_fcfab67a_6fcb_47c1_866e_ef3e11899887","uuid":"63cb519b-260b-4cb1-8178-510c481554f5"},"edge_type":"inherent","type":"","uuid":"37318237-acb3-412f-9e3a-fcb8e9b2b43a","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_AHVMaster_fcfab67a_6fcb_47c1_866e_ef3e11899887","uuid":"ca537ce6-5efe-43bb-9108-bff6d0ce9291"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_fcfab67a_6fcb_47c1_866e_ef3e11899887"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVMaster","uuid":"fcfab67a-6fcb-47c1-866e-ef3e11899887"},"retries":"0","description":"","type":"VMOPERATION_NUTANIX","uuid":"63cb519b-260b-4cb1-8178-510c481554f5","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Nutanix_Operation_Restart_fcfab67a_6fcb_47c1_866e_ef3e11899887"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVMaster","uuid":"fcfab67a-6fcb-47c1-866e-ef3e11899887"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"ca537ce6-5efe-43bb-9108-bff6d0ce9291","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"300","address":"@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_AHVMaster_fcfab67a_6fcb_47c1_866e_ef3e11899887"}],"description":"","message_list":[],"uuid":"e439f74a-6a84-418e-8f2a-80c8d0096cab","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_fcfab67a_6fcb_47c1_866e_ef3e11899887","uuid":"78062531-1c9f-4589-a563-964f7aa8c96e"},"name":"SYS_GEN__Runbook_Substrate_fcfab67a_6fcb_47c1_866e_ef3e11899887"}},{"description":"System action for suspending an application","message_list":[],"uuid":"c5bab3ea-a1f2-4c8d-b2c5-eb33dfa2fcb7","name":"action_suspend","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AHVMaster","uuid":"fcfab67a-6fcb-47c1-866e-ef3e11899887"},"retries":"0","description":"","type":"DAG","uuid":"7e2d1f15-ba39-45ce-9984-f8a48ec93d60","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_fcfab67a_6fcb_47c1_866e_ef3e11899887"}],"description":"","message_list":[],"uuid":"524daa3e-cdeb-4fdb-a769-2d3fb4197a56","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_fcfab67a_6fcb_47c1_866e_ef3e11899887","uuid":"7e2d1f15-ba39-45ce-9984-f8a48ec93d60"},"name":"SYS_GEN__Runbook_Substrate_fcfab67a_6fcb_47c1_866e_ef3e11899887"}},{"description":"System action for modifying an application","message_list":[],"uuid":"bd76c398-04ce-4d89-9327-36b6f008f130","name":"action_modify","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AHVMaster","uuid":"fcfab67a-6fcb-47c1-866e-ef3e11899887"},"retries":"0","description":"","type":"DAG","uuid":"2ee66ec6-1b86-4e46-993d-8b43b754b298","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_fcfab67a_6fcb_47c1_866e_ef3e11899887"}],"description":"","message_list":[],"uuid":"f923d40f-b200-419c-ace1-b8c7d5035328","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_fcfab67a_6fcb_47c1_866e_ef3e11899887","uuid":"2ee66ec6-1b86-4e46-993d-8b43b754b298"},"name":"SYS_GEN__Runbook_Substrate_fcfab67a_6fcb_47c1_866e_ef3e11899887"}},{"description":"System action for powering off an application","message_list":[],"uuid":"497a5a3b-701a-4ba5-86ac-de247192df5a","name":"action_poweroff","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AHVMaster","uuid":"fcfab67a-6fcb-47c1-866e-ef3e11899887"},"retries":"0","description":"","type":"DAG","uuid":"aba1b00e-9d74-44f9-95c6-e8e984eea7c5","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Nutanix_Operation_PowerOff_fcfab67a_6fcb_47c1_866e_ef3e11899887","uuid":"cb87403e-de41-416f-ace0-cfbc4264e337"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_fcfab67a_6fcb_47c1_866e_ef3e11899887"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVMaster","uuid":"fcfab67a-6fcb-47c1-866e-ef3e11899887"},"retries":"0","description":"","type":"VMOPERATION_NUTANIX","uuid":"cb87403e-de41-416f-ace0-cfbc4264e337","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Nutanix_Operation_PowerOff_fcfab67a_6fcb_47c1_866e_ef3e11899887"}],"description":"","message_list":[],"uuid":"b1ca51f0-0c70-453a-b9e3-3aa0d6aaa266","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_fcfab67a_6fcb_47c1_866e_ef3e11899887","uuid":"aba1b00e-9d74-44f9-95c6-e8e984eea7c5"},"name":"SYS_GEN__Runbook_Substrate_fcfab67a_6fcb_47c1_866e_ef3e11899887"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"128da29c-09ac-43cd-9c43-1138cae32f71","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AHVMaster","uuid":"fcfab67a-6fcb-47c1-866e-ef3e11899887"},"retries":"0","description":"","type":"DAG","uuid":"ff34140b-e053-4472-bd0c-fb0f60c38394","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Nutanix_Delete_fcfab67a_6fcb_47c1_866e_ef3e11899887","uuid":"0ab94de3-33c7-44fb-8939-742519a1f320"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_fcfab67a_6fcb_47c1_866e_ef3e11899887"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVMaster","uuid":"fcfab67a-6fcb-47c1-866e-ef3e11899887"},"retries":"0","description":"","type":"DELETE_NUTANIX","uuid":"0ab94de3-33c7-44fb-8939-742519a1f320","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Nutanix_Delete_fcfab67a_6fcb_47c1_866e_ef3e11899887"}],"description":"","message_list":[],"uuid":"a7eb8bfb-3449-4090-a1fc-b28350cb1aea","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_fcfab67a_6fcb_47c1_866e_ef3e11899887","uuid":"ff34140b-e053-4472-bd0c-fb0f60c38394"},"name":"SYS_GEN__Runbook_Substrate_fcfab67a_6fcb_47c1_866e_ef3e11899887"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"9d207e1e-1849-4817-857d-156c6964d85b","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AHVMaster","uuid":"fcfab67a-6fcb-47c1-866e-ef3e11899887"},"retries":"0","description":"","type":"DAG","uuid":"c94d3ca3-fd62-4909-a0e9-6d1361a8c599","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Substrate_Element_Delete_fcfab67a_6fcb_47c1_866e_ef3e11899887","uuid":"8414927f-99e9-4f12-8e80-55dc1e977c9c"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_fcfab67a_6fcb_47c1_866e_ef3e11899887"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVMaster","uuid":"fcfab67a-6fcb-47c1-866e-ef3e11899887"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"8414927f-99e9-4f12-8e80-55dc1e977c9c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Substrate_Element_Delete_fcfab67a_6fcb_47c1_866e_ef3e11899887"}],"description":"","message_list":[],"uuid":"129cde6d-0577-4ffb-bf60-d3a3386fb101","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_fcfab67a_6fcb_47c1_866e_ef3e11899887","uuid":"c94d3ca3-fd62-4909-a0e9-6d1361a8c599"},"name":"SYS_GEN__Runbook_Substrate_fcfab67a_6fcb_47c1_866e_ef3e11899887"}}],"message_list":[],"uuid":"fcfab67a-6fcb-47c1-866e-ef3e11899887","state":"ACTIVE","readiness_probe":{"connection_type":"SSH","retries":"5","disable_readiness_probe":false,"address":"@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@","delay_secs":"60","connection_port":22,"login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"editables":{"readiness_probe":{"connection_type":true,"retries":true,"delay_secs":true,"connection_port":true,"timeout_secs":true},"create_spec":{"resources":{"nic_list":{"0":{"subnet_reference":true}},"serial_port_list":{},"num_vcpus_per_socket":true,"num_sockets":true,"memory_size_mib":true,"guest_customization":true,"disk_list":{"1":{"disk_size_mib":true},"0":{"device_properties":{"disk_address":{}}},"3":{"disk_size_mib":true},"2":{"disk_size_mib":true},"5":{"disk_size_mib":true},"4":{"disk_size_mib":true},"7":{"disk_size_mib":true},"6":{"disk_size_mib":true},"8":{"disk_size_mib":true}}},"name":true,"categories":true}},"os_type":"Linux","type":"AHV_VM","create_spec":{"name":"mysql-master-@@{calm_time}@@","categories":{"AppFamily":"Databases"},"availability_zone_reference":null,"backup_policy":null,"type":"","cluster_reference":null,"resources":{"nic_list":[{"nic_type":"NORMAL_NIC","ip_endpoint_list":[],"network_function_chain_reference":null,"network_function_nic_type":"INGRESS","mac_address":"","subnet_reference":{"kind":"subnet","type":"","name":"","uuid":"efc034e3-b50e-4a48-b02d-25036aeb8bd3"},"type":""}],"parent_reference":null,"guest_tools":null,"num_vcpus_per_socket":2,"num_sockets":2,"serial_port_list":[],"gpu_list":[],"memory_size_mib":8192,"power_state":"ON","hardware_clock_timezone":"","guest_customization":{"cloud_init":{"meta_data":"","type":"","user_data":"#cloud-config\nusers:\n  - name: centos\n    ssh-authorized-keys:\n      - @@{CENTOS.public_key}@@\n    sudo: ['ALL=(ALL) NOPASSWD:ALL']"},"type":"","sysprep":null},"type":"","boot_config":{"boot_device":{"type":"","disk_address":{"adapter_type":"SCSI","device_index":0,"type":""}},"type":"","mac_address":""},"disk_list":[{"data_source_reference":{"kind":"app_package","type":"","name":"AHV_CENTOS_76","uuid":"a7955a04-2023-483b-8c51-1284d919a1c7"},"type":"","disk_size_mib":0,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":0,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":51200,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":1,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":51200,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":2,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":51200,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":3,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":51200,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":4,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":25600,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":5,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":25600,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":6,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":25600,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":7,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":25600,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":8,"type":""}}}]}},"variable_list":[],"name":"AHVMaster"},{"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"89a5e8d5-2e85-40ac-9663-7c4a63b16c0a","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AHVSlave","uuid":"277d02d7-e5c9-4fac-9649-73d662f89b80"},"retries":"0","description":"","type":"DAG","uuid":"bf16e722-39c0-417b-8f92-ecea8730c312","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Nutanix_Provision_277d02d7_e5c9_4fac_9649_73d662f89b80","uuid":"7c6881c2-9510-4318-a96b-677b2882369b"},{"kind":"app_task","name":"SYS_GEN__check_login_for_AHVSlave_277d02d7_e5c9_4fac_9649_73d662f89b80","uuid":"723f7150-96db-4981-b38f-92916de3d0ae"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Nutanix_Provision_277d02d7_e5c9_4fac_9649_73d662f89b80","uuid":"7c6881c2-9510-4318-a96b-677b2882369b"},"edge_type":"inherent","type":"","uuid":"56ec191e-ead9-4c11-b29f-7b7c8f0a695f","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_AHVSlave_277d02d7_e5c9_4fac_9649_73d662f89b80","uuid":"723f7150-96db-4981-b38f-92916de3d0ae"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_277d02d7_e5c9_4fac_9649_73d662f89b80"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVSlave","uuid":"277d02d7-e5c9-4fac-9649-73d662f89b80"},"retries":"0","description":"","type":"PROVISION_NUTANIX","uuid":"7c6881c2-9510-4318-a96b-677b2882369b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"name":"mysql-slave-@@{calm_array_index}@@-@@{calm_time}@@","categories":{"AppFamily":"Databases"},"availability_zone_reference":null,"backup_policy":null,"type":"","cluster_reference":null,"resources":{"nic_list":[{"nic_type":"NORMAL_NIC","ip_endpoint_list":[],"network_function_chain_reference":null,"network_function_nic_type":"INGRESS","mac_address":"","subnet_reference":{"kind":"subnet","type":"","name":"","uuid":"efc034e3-b50e-4a48-b02d-25036aeb8bd3"},"type":""}],"parent_reference":null,"guest_tools":null,"num_vcpus_per_socket":1,"num_sockets":2,"serial_port_list":[],"gpu_list":[],"memory_size_mib":8192,"power_state":"ON","hardware_clock_timezone":"","guest_customization":{"cloud_init":{"meta_data":"","type":"","user_data":"#cloud-config\nusers:\n  - name: centos\n    ssh-authorized-keys:\n      - @@{CENTOS.public_key}@@\n    sudo: ['ALL=(ALL) NOPASSWD:ALL']"},"type":"","sysprep":null},"type":"","boot_config":{"boot_device":{"type":"","disk_address":{"adapter_type":"SCSI","device_index":0,"type":""}},"type":"","mac_address":""},"disk_list":[{"data_source_reference":{"kind":"app_package","type":"","name":"AHV_CENTOS_76","uuid":"a7955a04-2023-483b-8c51-1284d919a1c7"},"type":"","disk_size_mib":0,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":0,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":51200,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":1,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":51200,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":2,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":51200,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":3,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":51200,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":4,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":25600,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":5,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":25600,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":6,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":25600,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":7,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":25600,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":8,"type":""}}}]}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Nutanix_Provision_277d02d7_e5c9_4fac_9649_73d662f89b80"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVSlave","uuid":"277d02d7-e5c9-4fac-9649-73d662f89b80"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"723f7150-96db-4981-b38f-92916de3d0ae","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"300","address":"@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_AHVSlave_277d02d7_e5c9_4fac_9649_73d662f89b80"}],"description":"","message_list":[],"uuid":"4558e5e0-dc42-4fc8-aa1d-eee29b8c73ed","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_277d02d7_e5c9_4fac_9649_73d662f89b80","uuid":"bf16e722-39c0-417b-8f92-ecea8730c312"},"name":"SYS_GEN__Runbook_Substrate_277d02d7_e5c9_4fac_9649_73d662f89b80"}},{"description":"System action for powering on an application","message_list":[],"uuid":"d1d7085f-cb4d-45ca-b9ae-bb7d3e263672","name":"action_poweron","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AHVSlave","uuid":"277d02d7-e5c9-4fac-9649-73d662f89b80"},"retries":"0","description":"","type":"DAG","uuid":"457f3cc3-650f-4e1a-b08a-1ab7a604815a","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Nutanix_Operation_PowerOn_277d02d7_e5c9_4fac_9649_73d662f89b80","uuid":"91f1fba0-fe26-4de0-9d51-e607785486e2"},{"kind":"app_task","name":"SYS_GEN__check_login_for_AHVSlave_277d02d7_e5c9_4fac_9649_73d662f89b80","uuid":"908973af-9289-4472-8cf0-e00093939562"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Nutanix_Operation_PowerOn_277d02d7_e5c9_4fac_9649_73d662f89b80","uuid":"91f1fba0-fe26-4de0-9d51-e607785486e2"},"edge_type":"inherent","type":"","uuid":"d6e19abb-1426-48db-9666-84d61c668623","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_AHVSlave_277d02d7_e5c9_4fac_9649_73d662f89b80","uuid":"908973af-9289-4472-8cf0-e00093939562"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_277d02d7_e5c9_4fac_9649_73d662f89b80"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVSlave","uuid":"277d02d7-e5c9-4fac-9649-73d662f89b80"},"retries":"0","description":"","type":"VMOPERATION_NUTANIX","uuid":"91f1fba0-fe26-4de0-9d51-e607785486e2","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Nutanix_Operation_PowerOn_277d02d7_e5c9_4fac_9649_73d662f89b80"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVSlave","uuid":"277d02d7-e5c9-4fac-9649-73d662f89b80"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"908973af-9289-4472-8cf0-e00093939562","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"300","address":"@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_AHVSlave_277d02d7_e5c9_4fac_9649_73d662f89b80"}],"description":"","message_list":[],"uuid":"6738a8cc-4db5-4f23-8b3e-d3e3c513954d","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_277d02d7_e5c9_4fac_9649_73d662f89b80","uuid":"457f3cc3-650f-4e1a-b08a-1ab7a604815a"},"name":"SYS_GEN__Runbook_Substrate_277d02d7_e5c9_4fac_9649_73d662f89b80"}},{"description":"System action for restarting an application","message_list":[],"uuid":"b260f9ba-d0da-4a42-997f-2849db5a438a","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AHVSlave","uuid":"277d02d7-e5c9-4fac-9649-73d662f89b80"},"retries":"0","description":"","type":"DAG","uuid":"6e1b66ef-7f63-4cb0-8aee-9b5ac8b9257c","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Nutanix_Operation_Restart_277d02d7_e5c9_4fac_9649_73d662f89b80","uuid":"bbea62b2-1595-45dd-a03d-fca04af156a3"},{"kind":"app_task","name":"SYS_GEN__check_login_for_AHVSlave_277d02d7_e5c9_4fac_9649_73d662f89b80","uuid":"067b7e50-42a0-4a6b-926e-70d8dd49ceac"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Nutanix_Operation_Restart_277d02d7_e5c9_4fac_9649_73d662f89b80","uuid":"bbea62b2-1595-45dd-a03d-fca04af156a3"},"edge_type":"inherent","type":"","uuid":"7c10a0c8-5eb3-4646-9567-095169a1d8a6","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_AHVSlave_277d02d7_e5c9_4fac_9649_73d662f89b80","uuid":"067b7e50-42a0-4a6b-926e-70d8dd49ceac"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_277d02d7_e5c9_4fac_9649_73d662f89b80"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVSlave","uuid":"277d02d7-e5c9-4fac-9649-73d662f89b80"},"retries":"0","description":"","type":"VMOPERATION_NUTANIX","uuid":"bbea62b2-1595-45dd-a03d-fca04af156a3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Nutanix_Operation_Restart_277d02d7_e5c9_4fac_9649_73d662f89b80"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVSlave","uuid":"277d02d7-e5c9-4fac-9649-73d662f89b80"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"067b7e50-42a0-4a6b-926e-70d8dd49ceac","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"300","address":"@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_AHVSlave_277d02d7_e5c9_4fac_9649_73d662f89b80"}],"description":"","message_list":[],"uuid":"6196ce93-8b50-458a-b43a-3aa25c58917f","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_277d02d7_e5c9_4fac_9649_73d662f89b80","uuid":"6e1b66ef-7f63-4cb0-8aee-9b5ac8b9257c"},"name":"SYS_GEN__Runbook_Substrate_277d02d7_e5c9_4fac_9649_73d662f89b80"}},{"description":"System action for suspending an application","message_list":[],"uuid":"6081990e-2481-4eb6-8710-4f4fc05655bd","name":"action_suspend","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AHVSlave","uuid":"277d02d7-e5c9-4fac-9649-73d662f89b80"},"retries":"0","description":"","type":"DAG","uuid":"96837b3d-2887-4c73-b5bc-9fb30f471867","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_277d02d7_e5c9_4fac_9649_73d662f89b80"}],"description":"","message_list":[],"uuid":"7336fc65-f97b-4859-b000-9425eda31ec3","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_277d02d7_e5c9_4fac_9649_73d662f89b80","uuid":"96837b3d-2887-4c73-b5bc-9fb30f471867"},"name":"SYS_GEN__Runbook_Substrate_277d02d7_e5c9_4fac_9649_73d662f89b80"}},{"description":"System action for modifying an application","message_list":[],"uuid":"92ce871b-467f-412b-9ed2-caddcb754328","name":"action_modify","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AHVSlave","uuid":"277d02d7-e5c9-4fac-9649-73d662f89b80"},"retries":"0","description":"","type":"DAG","uuid":"a0344f42-7194-427e-b3b8-0aac361e3162","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_277d02d7_e5c9_4fac_9649_73d662f89b80"}],"description":"","message_list":[],"uuid":"dac9fb74-8052-40c4-912e-95c29a773a85","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_277d02d7_e5c9_4fac_9649_73d662f89b80","uuid":"a0344f42-7194-427e-b3b8-0aac361e3162"},"name":"SYS_GEN__Runbook_Substrate_277d02d7_e5c9_4fac_9649_73d662f89b80"}},{"description":"System action for powering off an application","message_list":[],"uuid":"a3c87fdc-5d83-4495-9d47-07cd7bc10af8","name":"action_poweroff","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AHVSlave","uuid":"277d02d7-e5c9-4fac-9649-73d662f89b80"},"retries":"0","description":"","type":"DAG","uuid":"3ccc7944-97fb-41fe-a862-05ccfbfeca1a","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Nutanix_Operation_PowerOff_277d02d7_e5c9_4fac_9649_73d662f89b80","uuid":"5ff320bc-8490-4e09-af01-a1ab191a81e6"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_277d02d7_e5c9_4fac_9649_73d662f89b80"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVSlave","uuid":"277d02d7-e5c9-4fac-9649-73d662f89b80"},"retries":"0","description":"","type":"VMOPERATION_NUTANIX","uuid":"5ff320bc-8490-4e09-af01-a1ab191a81e6","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Nutanix_Operation_PowerOff_277d02d7_e5c9_4fac_9649_73d662f89b80"}],"description":"","message_list":[],"uuid":"a34c2052-2480-46e5-987a-1289c240a821","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_277d02d7_e5c9_4fac_9649_73d662f89b80","uuid":"3ccc7944-97fb-41fe-a862-05ccfbfeca1a"},"name":"SYS_GEN__Runbook_Substrate_277d02d7_e5c9_4fac_9649_73d662f89b80"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"33186115-c60b-45fd-be3c-dcfcab2cb486","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AHVSlave","uuid":"277d02d7-e5c9-4fac-9649-73d662f89b80"},"retries":"0","description":"","type":"DAG","uuid":"25609f77-552d-4105-a964-6eafe28d526f","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Nutanix_Delete_277d02d7_e5c9_4fac_9649_73d662f89b80","uuid":"1caeddd6-4c57-4a36-818b-455a310079d9"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_277d02d7_e5c9_4fac_9649_73d662f89b80"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVSlave","uuid":"277d02d7-e5c9-4fac-9649-73d662f89b80"},"retries":"0","description":"","type":"DELETE_NUTANIX","uuid":"1caeddd6-4c57-4a36-818b-455a310079d9","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Nutanix_Delete_277d02d7_e5c9_4fac_9649_73d662f89b80"}],"description":"","message_list":[],"uuid":"9bca066f-1cdb-4632-a826-de10823f16dd","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_277d02d7_e5c9_4fac_9649_73d662f89b80","uuid":"25609f77-552d-4105-a964-6eafe28d526f"},"name":"SYS_GEN__Runbook_Substrate_277d02d7_e5c9_4fac_9649_73d662f89b80"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"99095745-9666-46ff-966f-e1c31b653359","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AHVSlave","uuid":"277d02d7-e5c9-4fac-9649-73d662f89b80"},"retries":"0","description":"","type":"DAG","uuid":"a24bf76a-2831-4325-88a3-320b346eec33","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Substrate_Element_Delete_277d02d7_e5c9_4fac_9649_73d662f89b80","uuid":"28a631c0-d2de-4aa6-ba47-a3eb3bd5dc76"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_277d02d7_e5c9_4fac_9649_73d662f89b80"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVSlave","uuid":"277d02d7-e5c9-4fac-9649-73d662f89b80"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"28a631c0-d2de-4aa6-ba47-a3eb3bd5dc76","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Substrate_Element_Delete_277d02d7_e5c9_4fac_9649_73d662f89b80"}],"description":"","message_list":[],"uuid":"50e9c358-38d6-4cf9-965d-f6a5a58d7df4","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_277d02d7_e5c9_4fac_9649_73d662f89b80","uuid":"a24bf76a-2831-4325-88a3-320b346eec33"},"name":"SYS_GEN__Runbook_Substrate_277d02d7_e5c9_4fac_9649_73d662f89b80"}}],"message_list":[],"uuid":"277d02d7-e5c9-4fac-9649-73d662f89b80","state":"ACTIVE","readiness_probe":{"connection_type":"SSH","retries":"5","disable_readiness_probe":false,"address":"@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@","delay_secs":"60","connection_port":22,"login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"editables":{"readiness_probe":{"connection_type":true,"retries":true,"delay_secs":true,"connection_port":true,"timeout_secs":true},"create_spec":{"name":true,"resources":{"nic_list":{"0":{"subnet_reference":true}},"serial_port_list":{},"num_vcpus_per_socket":true,"num_sockets":true,"memory_size_mib":true,"guest_customization":true,"disk_list":{"1":{"disk_size_mib":true},"0":{"device_properties":{"disk_address":{}}},"3":{"disk_size_mib":true},"2":{"disk_size_mib":true},"5":{"disk_size_mib":true},"4":{"disk_size_mib":true},"7":{"disk_size_mib":true},"6":{"disk_size_mib":true},"8":{"disk_size_mib":true}}}}},"os_type":"Linux","type":"AHV_VM","create_spec":{"name":"mysql-slave-@@{calm_array_index}@@-@@{calm_time}@@","categories":{"AppFamily":"Databases"},"availability_zone_reference":null,"backup_policy":null,"type":"","cluster_reference":null,"resources":{"nic_list":[{"nic_type":"NORMAL_NIC","ip_endpoint_list":[],"network_function_chain_reference":null,"network_function_nic_type":"INGRESS","mac_address":"","subnet_reference":{"kind":"subnet","type":"","name":"","uuid":"efc034e3-b50e-4a48-b02d-25036aeb8bd3"},"type":""}],"parent_reference":null,"guest_tools":null,"num_vcpus_per_socket":1,"num_sockets":2,"serial_port_list":[],"gpu_list":[],"memory_size_mib":8192,"power_state":"ON","hardware_clock_timezone":"","guest_customization":{"cloud_init":{"meta_data":"","type":"","user_data":"#cloud-config\nusers:\n  - name: centos\n    ssh-authorized-keys:\n      - @@{CENTOS.public_key}@@\n    sudo: ['ALL=(ALL) NOPASSWD:ALL']"},"type":"","sysprep":null},"type":"","boot_config":{"boot_device":{"type":"","disk_address":{"adapter_type":"SCSI","device_index":0,"type":""}},"type":"","mac_address":""},"disk_list":[{"data_source_reference":{"kind":"app_package","type":"","name":"AHV_CENTOS_76","uuid":"a7955a04-2023-483b-8c51-1284d919a1c7"},"type":"","disk_size_mib":0,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":0,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":51200,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":1,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":51200,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":2,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":51200,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":3,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":51200,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":4,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":25600,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":5,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":25600,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":6,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":25600,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":7,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":25600,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":8,"type":""}}}]}},"variable_list":[],"name":"AHVSlave"},{"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"46318184-1e60-4564-a67d-384af3c0341c","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AWSMaster","uuid":"15c65762-bc8d-4c60-93d7-d64c377a99d4"},"retries":"0","description":"","type":"DAG","uuid":"90dbcb81-3fa2-4424-ab27-22e30917276a","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Aws_Provision_15c65762_bc8d_4c60_93d7_d64c377a99d4","uuid":"03a47e50-115e-46fd-8a08-50eb354a49d2"},{"kind":"app_task","name":"SYS_GEN__check_login_for_AWSMaster_15c65762_bc8d_4c60_93d7_d64c377a99d4","uuid":"068f2b96-4a7d-4252-beb4-c1b671068689"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Aws_Provision_15c65762_bc8d_4c60_93d7_d64c377a99d4","uuid":"03a47e50-115e-46fd-8a08-50eb354a49d2"},"edge_type":"inherent","type":"","uuid":"68996d40-81f7-4306-9f8b-7d8292d6fb7a","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_AWSMaster_15c65762_bc8d_4c60_93d7_d64c377a99d4","uuid":"068f2b96-4a7d-4252-beb4-c1b671068689"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_15c65762_bc8d_4c60_93d7_d64c377a99d4"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSMaster","uuid":"15c65762-bc8d-4c60-93d7-d64c377a99d4"},"retries":"0","description":"","type":"PROVISION_AWS_VM","uuid":"03a47e50-115e-46fd-8a08-50eb354a49d2","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"name":"mysql-master-@@{calm_time}@@","availability_zone_reference":null,"backup_policy":null,"type":"PROVISION_AWS_VM","cluster_reference":null,"resources":{"instance_profile_name":"ecsInstanceRole","instance_type":"t2.medium","subnet_id":"subnet-0d4197c2d13088ef4","key_name":"calm-blueprints","region":"us-east-1","availability_zone":"us-east-1a","instance_initiated_shutdown_behavior":"","user_data":"","image_id":"ami-1a003360","state":"RUNNING","security_group_list":[{"type":"","security_group_id":"sg-12a3f662"}],"block_device_map":{"data_disk_list":[{"size_gb":50,"volume_type":"GP2","device_name":"\/dev\/sdb","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":50,"volume_type":"GP2","device_name":"\/dev\/sdc","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":50,"volume_type":"GP2","device_name":"\/dev\/sdd","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":50,"volume_type":"GP2","device_name":"\/dev\/sde","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":25,"volume_type":"GP2","device_name":"\/dev\/sdf","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":25,"volume_type":"GP2","device_name":"\/dev\/sdg","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":25,"volume_type":"GP2","device_name":"\/dev\/sdh","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":25,"volume_type":"GP2","device_name":"\/dev\/sdi","iops":1,"snapshot_id":"","type":"","delete_on_termination":true}],"type":"","root_disk":{"size_gb":10,"volume_type":"GP2","device_name":"\/dev\/sda1","iops":1,"snapshot_id":"","type":"","delete_on_termination":true}},"private_ip_address":"","vpc_id":"vpc-ffd54d98","tag_list":[],"type":"","account_uuid":"8c2e0a6b-620a-c62a-c3f4-e58b101dfd0d","associate_public_ip_address":true}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Aws_Provision_15c65762_bc8d_4c60_93d7_d64c377a99d4"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSMaster","uuid":"15c65762-bc8d-4c60-93d7-d64c377a99d4"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"068f2b96-4a7d-4252-beb4-c1b671068689","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"300","address":"@@{public_ip_address}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_AWSMaster_15c65762_bc8d_4c60_93d7_d64c377a99d4"}],"description":"","message_list":[],"uuid":"78efd171-4be8-4883-ac20-c5dc2dd6227f","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_15c65762_bc8d_4c60_93d7_d64c377a99d4","uuid":"90dbcb81-3fa2-4424-ab27-22e30917276a"},"name":"SYS_GEN__Runbook_Substrate_15c65762_bc8d_4c60_93d7_d64c377a99d4"}},{"description":"System action for powering on an application","message_list":[],"uuid":"8f4fbad1-aec6-45b3-aa45-f972d9838e87","name":"action_poweron","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AWSMaster","uuid":"15c65762-bc8d-4c60-93d7-d64c377a99d4"},"retries":"0","description":"","type":"DAG","uuid":"44e9d3da-d302-4eb6-84da-36e8a7311334","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Aws_Operation_PowerOn_15c65762_bc8d_4c60_93d7_d64c377a99d4","uuid":"76734f76-a347-43ff-a1b8-d42fc9818ba4"},{"kind":"app_task","name":"SYS_GEN__check_login_for_AWSMaster_15c65762_bc8d_4c60_93d7_d64c377a99d4","uuid":"e8972ad6-967a-4694-9fc1-d18b33e93519"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Aws_Operation_PowerOn_15c65762_bc8d_4c60_93d7_d64c377a99d4","uuid":"76734f76-a347-43ff-a1b8-d42fc9818ba4"},"edge_type":"inherent","type":"","uuid":"eda41ee5-bab0-420c-a8a5-3cad98e4a3da","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_AWSMaster_15c65762_bc8d_4c60_93d7_d64c377a99d4","uuid":"e8972ad6-967a-4694-9fc1-d18b33e93519"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_15c65762_bc8d_4c60_93d7_d64c377a99d4"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSMaster","uuid":"15c65762-bc8d-4c60-93d7-d64c377a99d4"},"retries":"0","description":"","type":"VMOPERATION_AWS_VM","uuid":"76734f76-a347-43ff-a1b8-d42fc9818ba4","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Aws_Operation_PowerOn_15c65762_bc8d_4c60_93d7_d64c377a99d4"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSMaster","uuid":"15c65762-bc8d-4c60-93d7-d64c377a99d4"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"e8972ad6-967a-4694-9fc1-d18b33e93519","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"300","address":"@@{public_ip_address}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_AWSMaster_15c65762_bc8d_4c60_93d7_d64c377a99d4"}],"description":"","message_list":[],"uuid":"0e8a3726-7346-4150-a062-1407d86c7b60","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_15c65762_bc8d_4c60_93d7_d64c377a99d4","uuid":"44e9d3da-d302-4eb6-84da-36e8a7311334"},"name":"SYS_GEN__Runbook_Substrate_15c65762_bc8d_4c60_93d7_d64c377a99d4"}},{"description":"System action for restarting an application","message_list":[],"uuid":"c762f189-44fe-42cb-a9e0-12cf29ebddce","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AWSMaster","uuid":"15c65762-bc8d-4c60-93d7-d64c377a99d4"},"retries":"0","description":"","type":"DAG","uuid":"fe207a1a-6173-4038-9df6-c32a28521b03","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Aws_Operation_Restart_15c65762_bc8d_4c60_93d7_d64c377a99d4","uuid":"a85a1f20-9640-483a-b27a-6fa3c5f6803b"},{"kind":"app_task","name":"SYS_GEN__check_login_for_AWSMaster_15c65762_bc8d_4c60_93d7_d64c377a99d4","uuid":"5578395c-4aa9-4c8f-88a0-f87df4d6f660"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Aws_Operation_Restart_15c65762_bc8d_4c60_93d7_d64c377a99d4","uuid":"a85a1f20-9640-483a-b27a-6fa3c5f6803b"},"edge_type":"inherent","type":"","uuid":"e6e3fe22-48a0-4e8e-a26d-fddae8cd8854","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_AWSMaster_15c65762_bc8d_4c60_93d7_d64c377a99d4","uuid":"5578395c-4aa9-4c8f-88a0-f87df4d6f660"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_15c65762_bc8d_4c60_93d7_d64c377a99d4"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSMaster","uuid":"15c65762-bc8d-4c60-93d7-d64c377a99d4"},"retries":"0","description":"","type":"VMOPERATION_AWS_VM","uuid":"a85a1f20-9640-483a-b27a-6fa3c5f6803b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Aws_Operation_Restart_15c65762_bc8d_4c60_93d7_d64c377a99d4"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSMaster","uuid":"15c65762-bc8d-4c60-93d7-d64c377a99d4"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"5578395c-4aa9-4c8f-88a0-f87df4d6f660","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"300","address":"@@{public_ip_address}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_AWSMaster_15c65762_bc8d_4c60_93d7_d64c377a99d4"}],"description":"","message_list":[],"uuid":"df58d810-8043-4640-a723-19994bc9c404","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_15c65762_bc8d_4c60_93d7_d64c377a99d4","uuid":"fe207a1a-6173-4038-9df6-c32a28521b03"},"name":"SYS_GEN__Runbook_Substrate_15c65762_bc8d_4c60_93d7_d64c377a99d4"}},{"description":"System action for suspending an application","message_list":[],"uuid":"41bc33cd-1712-4c50-a20a-83840da436e3","name":"action_suspend","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AWSMaster","uuid":"15c65762-bc8d-4c60-93d7-d64c377a99d4"},"retries":"0","description":"","type":"DAG","uuid":"86fedade-56c0-4d36-b937-53ff75d5d36c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_15c65762_bc8d_4c60_93d7_d64c377a99d4"}],"description":"","message_list":[],"uuid":"4e5d2307-5819-4a24-98a3-d40834a26be0","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_15c65762_bc8d_4c60_93d7_d64c377a99d4","uuid":"86fedade-56c0-4d36-b937-53ff75d5d36c"},"name":"SYS_GEN__Runbook_Substrate_15c65762_bc8d_4c60_93d7_d64c377a99d4"}},{"description":"System action for modifying an application","message_list":[],"uuid":"ab20530c-6ac8-4d26-89b9-d0512ce6b99f","name":"action_modify","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AWSMaster","uuid":"15c65762-bc8d-4c60-93d7-d64c377a99d4"},"retries":"0","description":"","type":"DAG","uuid":"fbad5e3d-59bd-41ac-8826-83c638641591","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_15c65762_bc8d_4c60_93d7_d64c377a99d4"}],"description":"","message_list":[],"uuid":"cfaff5c0-a11d-47c6-b2ea-5447d71bffe7","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_15c65762_bc8d_4c60_93d7_d64c377a99d4","uuid":"fbad5e3d-59bd-41ac-8826-83c638641591"},"name":"SYS_GEN__Runbook_Substrate_15c65762_bc8d_4c60_93d7_d64c377a99d4"}},{"description":"System action for powering off an application","message_list":[],"uuid":"cbc7d20c-d8d9-4ec4-8c52-084bc8f1a179","name":"action_poweroff","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AWSMaster","uuid":"15c65762-bc8d-4c60-93d7-d64c377a99d4"},"retries":"0","description":"","type":"DAG","uuid":"e9eea4a3-5cbf-493d-a16a-ca4c47a5b954","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Aws_Operation_PowerOff_15c65762_bc8d_4c60_93d7_d64c377a99d4","uuid":"b5a642b0-b375-4800-a9a2-702fb0c73040"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_15c65762_bc8d_4c60_93d7_d64c377a99d4"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSMaster","uuid":"15c65762-bc8d-4c60-93d7-d64c377a99d4"},"retries":"0","description":"","type":"VMOPERATION_AWS_VM","uuid":"b5a642b0-b375-4800-a9a2-702fb0c73040","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Aws_Operation_PowerOff_15c65762_bc8d_4c60_93d7_d64c377a99d4"}],"description":"","message_list":[],"uuid":"c5ff068b-7cad-4deb-99ab-3c1abcb335f4","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_15c65762_bc8d_4c60_93d7_d64c377a99d4","uuid":"e9eea4a3-5cbf-493d-a16a-ca4c47a5b954"},"name":"SYS_GEN__Runbook_Substrate_15c65762_bc8d_4c60_93d7_d64c377a99d4"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"e9650fe0-62d4-4b37-951a-d525c9d22442","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AWSMaster","uuid":"15c65762-bc8d-4c60-93d7-d64c377a99d4"},"retries":"0","description":"","type":"DAG","uuid":"b0cf65cc-afcb-4555-89f8-e5a3360f90de","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Aws_Delete_15c65762_bc8d_4c60_93d7_d64c377a99d4","uuid":"0810ce84-fe3a-4dbf-8db6-4b30a695f664"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_15c65762_bc8d_4c60_93d7_d64c377a99d4"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSMaster","uuid":"15c65762-bc8d-4c60-93d7-d64c377a99d4"},"retries":"0","description":"","type":"DELETE_AWS_VM","uuid":"0810ce84-fe3a-4dbf-8db6-4b30a695f664","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Aws_Delete_15c65762_bc8d_4c60_93d7_d64c377a99d4"}],"description":"","message_list":[],"uuid":"a8fb86f0-8633-4bf8-a9f7-f9f3c4e4259e","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_15c65762_bc8d_4c60_93d7_d64c377a99d4","uuid":"b0cf65cc-afcb-4555-89f8-e5a3360f90de"},"name":"SYS_GEN__Runbook_Substrate_15c65762_bc8d_4c60_93d7_d64c377a99d4"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"70dd50a1-9d4e-4552-8df3-4869e902c35a","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AWSMaster","uuid":"15c65762-bc8d-4c60-93d7-d64c377a99d4"},"retries":"0","description":"","type":"DAG","uuid":"c6d07d6b-57d2-4530-8db5-09468b2205f5","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Substrate_Element_Delete_15c65762_bc8d_4c60_93d7_d64c377a99d4","uuid":"71858c63-1b07-4a0f-a8d6-9a1b3be93d35"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_15c65762_bc8d_4c60_93d7_d64c377a99d4"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSMaster","uuid":"15c65762-bc8d-4c60-93d7-d64c377a99d4"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"71858c63-1b07-4a0f-a8d6-9a1b3be93d35","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Substrate_Element_Delete_15c65762_bc8d_4c60_93d7_d64c377a99d4"}],"description":"","message_list":[],"uuid":"eef4e90d-1a4a-4167-b004-327da44d09fe","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_15c65762_bc8d_4c60_93d7_d64c377a99d4","uuid":"c6d07d6b-57d2-4530-8db5-09468b2205f5"},"name":"SYS_GEN__Runbook_Substrate_15c65762_bc8d_4c60_93d7_d64c377a99d4"}}],"message_list":[],"uuid":"15c65762-bc8d-4c60-93d7-d64c377a99d4","state":"ACTIVE","readiness_probe":{"connection_type":"SSH","retries":"5","disable_readiness_probe":false,"address":"@@{public_ip_address}@@","delay_secs":"0","connection_port":22,"login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"editables":{"readiness_probe":{"connection_type":true,"delay_secs":true,"connection_port":true,"timeout_secs":true},"create_spec":{"name":true,"resources":{"instance_profile_name":true,"availability_zone":true,"subnet_id":true,"key_name":true,"region":true,"user_data":true,"image_id":true,"instance_type":true,"security_group_list":true,"block_device_map":{"data_disk_list":{"1":{"size_gb":true},"0":{"size_gb":true},"3":{"size_gb":true},"2":{"size_gb":true},"5":{"size_gb":true},"4":{"size_gb":true},"7":{"size_gb":true},"6":{"size_gb":true}},"root_disk":{"size_gb":true}},"associate_public_ip_address":true,"vpc_id":true,"tag_list":true}}},"os_type":"Linux","type":"AWS_VM","create_spec":{"name":"mysql-master-@@{calm_time}@@","availability_zone_reference":null,"backup_policy":null,"type":"PROVISION_AWS_VM","cluster_reference":null,"resources":{"instance_profile_name":"ecsInstanceRole","instance_type":"t2.medium","subnet_id":"subnet-0d4197c2d13088ef4","key_name":"calm-blueprints","region":"us-east-1","availability_zone":"us-east-1a","instance_initiated_shutdown_behavior":"","user_data":"","image_id":"ami-1a003360","state":"RUNNING","security_group_list":[{"type":"","security_group_id":"sg-12a3f662"}],"block_device_map":{"data_disk_list":[{"size_gb":50,"volume_type":"GP2","device_name":"\/dev\/sdb","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":50,"volume_type":"GP2","device_name":"\/dev\/sdc","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":50,"volume_type":"GP2","device_name":"\/dev\/sdd","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":50,"volume_type":"GP2","device_name":"\/dev\/sde","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":25,"volume_type":"GP2","device_name":"\/dev\/sdf","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":25,"volume_type":"GP2","device_name":"\/dev\/sdg","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":25,"volume_type":"GP2","device_name":"\/dev\/sdh","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":25,"volume_type":"GP2","device_name":"\/dev\/sdi","iops":1,"snapshot_id":"","type":"","delete_on_termination":true}],"type":"","root_disk":{"size_gb":10,"volume_type":"GP2","device_name":"\/dev\/sda1","iops":1,"snapshot_id":"","type":"","delete_on_termination":true}},"private_ip_address":"","vpc_id":"vpc-ffd54d98","tag_list":[],"type":"","account_uuid":"8c2e0a6b-620a-c62a-c3f4-e58b101dfd0d","associate_public_ip_address":true}},"variable_list":[],"name":"AWSMaster"},{"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"c633e2ee-dc17-4ae1-b919-112d9c0808dd","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AWSSlave","uuid":"f19c2ea6-884f-47c7-be9a-facfa3b1d1a9"},"retries":"0","description":"","type":"DAG","uuid":"cb73d998-dd78-4017-a6a4-829e318ef3de","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Aws_Provision_f19c2ea6_884f_47c7_be9a_facfa3b1d1a9","uuid":"208f0270-5035-4f40-9c54-50071f3fb838"},{"kind":"app_task","name":"SYS_GEN__check_login_for_AWSSlave_f19c2ea6_884f_47c7_be9a_facfa3b1d1a9","uuid":"219ff822-6b93-471b-a399-cf2f629f82a6"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Aws_Provision_f19c2ea6_884f_47c7_be9a_facfa3b1d1a9","uuid":"208f0270-5035-4f40-9c54-50071f3fb838"},"edge_type":"inherent","type":"","uuid":"7e599d6f-3b33-4057-8c42-dea6c1983a79","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_AWSSlave_f19c2ea6_884f_47c7_be9a_facfa3b1d1a9","uuid":"219ff822-6b93-471b-a399-cf2f629f82a6"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_f19c2ea6_884f_47c7_be9a_facfa3b1d1a9"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSSlave","uuid":"f19c2ea6-884f-47c7-be9a-facfa3b1d1a9"},"retries":"0","description":"","type":"PROVISION_AWS_VM","uuid":"208f0270-5035-4f40-9c54-50071f3fb838","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"name":"mysql-slave-@@{calm_array_index}@@-@@{calm_time}@@","availability_zone_reference":null,"backup_policy":null,"type":"PROVISION_AWS_VM","cluster_reference":null,"resources":{"instance_profile_name":"ecsInstanceRole","instance_type":"t2.medium","subnet_id":"subnet-c599a5ef","key_name":"calm-blueprints","region":"us-east-1","availability_zone":"us-east-1a","instance_initiated_shutdown_behavior":"","user_data":"","image_id":"ami-1a003360","state":"RUNNING","security_group_list":[{"type":"","security_group_id":"sg-12a3f662"}],"block_device_map":{"data_disk_list":[{"size_gb":50,"volume_type":"GP2","device_name":"\/dev\/sdb","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":50,"volume_type":"GP2","device_name":"\/dev\/sdc","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":50,"volume_type":"GP2","device_name":"\/dev\/sdd","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":50,"volume_type":"GP2","device_name":"\/dev\/sde","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":25,"volume_type":"GP2","device_name":"\/dev\/sdf","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":25,"volume_type":"GP2","device_name":"\/dev\/sdg","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":25,"volume_type":"GP2","device_name":"\/dev\/sdh","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":25,"volume_type":"GP2","device_name":"\/dev\/sdi","iops":1,"snapshot_id":"","type":"","delete_on_termination":true}],"type":"","root_disk":{"size_gb":10,"volume_type":"GP2","device_name":"\/dev\/sda1","iops":1,"snapshot_id":"","type":"","delete_on_termination":true}},"private_ip_address":"","vpc_id":"vpc-ffd54d98","tag_list":[],"type":"","account_uuid":"8c2e0a6b-620a-c62a-c3f4-e58b101dfd0d","associate_public_ip_address":true}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Aws_Provision_f19c2ea6_884f_47c7_be9a_facfa3b1d1a9"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSSlave","uuid":"f19c2ea6-884f-47c7-be9a-facfa3b1d1a9"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"219ff822-6b93-471b-a399-cf2f629f82a6","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"300","address":"@@{public_ip_address}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_AWSSlave_f19c2ea6_884f_47c7_be9a_facfa3b1d1a9"}],"description":"","message_list":[],"uuid":"9bc1e2d2-f7b0-4736-a385-eb963e598e5d","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_f19c2ea6_884f_47c7_be9a_facfa3b1d1a9","uuid":"cb73d998-dd78-4017-a6a4-829e318ef3de"},"name":"SYS_GEN__Runbook_Substrate_f19c2ea6_884f_47c7_be9a_facfa3b1d1a9"}},{"description":"System action for powering on an application","message_list":[],"uuid":"12ce2c9b-bb8b-42b5-95e7-7c9c0b650248","name":"action_poweron","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AWSSlave","uuid":"f19c2ea6-884f-47c7-be9a-facfa3b1d1a9"},"retries":"0","description":"","type":"DAG","uuid":"6c745343-983d-4bc1-88ac-1e511e6c621e","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Aws_Operation_PowerOn_f19c2ea6_884f_47c7_be9a_facfa3b1d1a9","uuid":"a8561e9f-f9e9-4cf9-a798-440ed2af614f"},{"kind":"app_task","name":"SYS_GEN__check_login_for_AWSSlave_f19c2ea6_884f_47c7_be9a_facfa3b1d1a9","uuid":"8da80a44-b39d-45af-81cd-89af3699ab63"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Aws_Operation_PowerOn_f19c2ea6_884f_47c7_be9a_facfa3b1d1a9","uuid":"a8561e9f-f9e9-4cf9-a798-440ed2af614f"},"edge_type":"inherent","type":"","uuid":"07428e38-3b71-439a-b89f-f799cc9b65fd","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_AWSSlave_f19c2ea6_884f_47c7_be9a_facfa3b1d1a9","uuid":"8da80a44-b39d-45af-81cd-89af3699ab63"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_f19c2ea6_884f_47c7_be9a_facfa3b1d1a9"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSSlave","uuid":"f19c2ea6-884f-47c7-be9a-facfa3b1d1a9"},"retries":"0","description":"","type":"VMOPERATION_AWS_VM","uuid":"a8561e9f-f9e9-4cf9-a798-440ed2af614f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Aws_Operation_PowerOn_f19c2ea6_884f_47c7_be9a_facfa3b1d1a9"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSSlave","uuid":"f19c2ea6-884f-47c7-be9a-facfa3b1d1a9"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"8da80a44-b39d-45af-81cd-89af3699ab63","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"300","address":"@@{public_ip_address}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_AWSSlave_f19c2ea6_884f_47c7_be9a_facfa3b1d1a9"}],"description":"","message_list":[],"uuid":"276e96c8-3fc7-4858-a969-8583a4dc09c6","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_f19c2ea6_884f_47c7_be9a_facfa3b1d1a9","uuid":"6c745343-983d-4bc1-88ac-1e511e6c621e"},"name":"SYS_GEN__Runbook_Substrate_f19c2ea6_884f_47c7_be9a_facfa3b1d1a9"}},{"description":"System action for restarting an application","message_list":[],"uuid":"a84a61b3-71ec-4b3c-b1f4-88139f7734a1","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AWSSlave","uuid":"f19c2ea6-884f-47c7-be9a-facfa3b1d1a9"},"retries":"0","description":"","type":"DAG","uuid":"63dde5ce-4966-475e-ad44-617f81047ce8","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Aws_Operation_Restart_f19c2ea6_884f_47c7_be9a_facfa3b1d1a9","uuid":"35ded874-cb23-44a2-bd44-5893a6449e58"},{"kind":"app_task","name":"SYS_GEN__check_login_for_AWSSlave_f19c2ea6_884f_47c7_be9a_facfa3b1d1a9","uuid":"d137ef85-f531-492c-a2f1-2c8294684c4c"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Aws_Operation_Restart_f19c2ea6_884f_47c7_be9a_facfa3b1d1a9","uuid":"35ded874-cb23-44a2-bd44-5893a6449e58"},"edge_type":"inherent","type":"","uuid":"ecfa46d0-97c9-4a83-bfcd-d5336995d620","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_AWSSlave_f19c2ea6_884f_47c7_be9a_facfa3b1d1a9","uuid":"d137ef85-f531-492c-a2f1-2c8294684c4c"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_f19c2ea6_884f_47c7_be9a_facfa3b1d1a9"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSSlave","uuid":"f19c2ea6-884f-47c7-be9a-facfa3b1d1a9"},"retries":"0","description":"","type":"VMOPERATION_AWS_VM","uuid":"35ded874-cb23-44a2-bd44-5893a6449e58","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Aws_Operation_Restart_f19c2ea6_884f_47c7_be9a_facfa3b1d1a9"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSSlave","uuid":"f19c2ea6-884f-47c7-be9a-facfa3b1d1a9"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"d137ef85-f531-492c-a2f1-2c8294684c4c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"300","address":"@@{public_ip_address}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_AWSSlave_f19c2ea6_884f_47c7_be9a_facfa3b1d1a9"}],"description":"","message_list":[],"uuid":"227783c6-9eec-4efd-a1fb-9293b0325d2e","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_f19c2ea6_884f_47c7_be9a_facfa3b1d1a9","uuid":"63dde5ce-4966-475e-ad44-617f81047ce8"},"name":"SYS_GEN__Runbook_Substrate_f19c2ea6_884f_47c7_be9a_facfa3b1d1a9"}},{"description":"System action for suspending an application","message_list":[],"uuid":"1dbf137f-49d0-4dcd-b42c-a1c750e33fa2","name":"action_suspend","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AWSSlave","uuid":"f19c2ea6-884f-47c7-be9a-facfa3b1d1a9"},"retries":"0","description":"","type":"DAG","uuid":"5a83a714-c595-480d-8ca4-481d8f7a33c2","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_f19c2ea6_884f_47c7_be9a_facfa3b1d1a9"}],"description":"","message_list":[],"uuid":"522947e6-4305-4ce3-9206-47508e3cd513","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_f19c2ea6_884f_47c7_be9a_facfa3b1d1a9","uuid":"5a83a714-c595-480d-8ca4-481d8f7a33c2"},"name":"SYS_GEN__Runbook_Substrate_f19c2ea6_884f_47c7_be9a_facfa3b1d1a9"}},{"description":"System action for modifying an application","message_list":[],"uuid":"fdb9ccf9-4809-4f00-9a92-833d930ba8dd","name":"action_modify","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AWSSlave","uuid":"f19c2ea6-884f-47c7-be9a-facfa3b1d1a9"},"retries":"0","description":"","type":"DAG","uuid":"0616e0d0-4f85-44c7-bd72-9c90f4c1e6fc","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_f19c2ea6_884f_47c7_be9a_facfa3b1d1a9"}],"description":"","message_list":[],"uuid":"bb6c31a5-d1f4-492d-8592-5399b2b7cd0a","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_f19c2ea6_884f_47c7_be9a_facfa3b1d1a9","uuid":"0616e0d0-4f85-44c7-bd72-9c90f4c1e6fc"},"name":"SYS_GEN__Runbook_Substrate_f19c2ea6_884f_47c7_be9a_facfa3b1d1a9"}},{"description":"System action for powering off an application","message_list":[],"uuid":"476d44f5-1622-4d88-8e4a-3629f5a297a0","name":"action_poweroff","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AWSSlave","uuid":"f19c2ea6-884f-47c7-be9a-facfa3b1d1a9"},"retries":"0","description":"","type":"DAG","uuid":"ca2d93f3-818a-4640-86a0-d8d183cdadd6","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Aws_Operation_PowerOff_f19c2ea6_884f_47c7_be9a_facfa3b1d1a9","uuid":"8c225711-b71a-46de-a631-fe623c26ee84"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_f19c2ea6_884f_47c7_be9a_facfa3b1d1a9"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSSlave","uuid":"f19c2ea6-884f-47c7-be9a-facfa3b1d1a9"},"retries":"0","description":"","type":"VMOPERATION_AWS_VM","uuid":"8c225711-b71a-46de-a631-fe623c26ee84","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Aws_Operation_PowerOff_f19c2ea6_884f_47c7_be9a_facfa3b1d1a9"}],"description":"","message_list":[],"uuid":"c6771673-1d07-46cc-a84b-c4305d76748a","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_f19c2ea6_884f_47c7_be9a_facfa3b1d1a9","uuid":"ca2d93f3-818a-4640-86a0-d8d183cdadd6"},"name":"SYS_GEN__Runbook_Substrate_f19c2ea6_884f_47c7_be9a_facfa3b1d1a9"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"6b6c7101-dac6-412d-84b7-c036392f4be3","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AWSSlave","uuid":"f19c2ea6-884f-47c7-be9a-facfa3b1d1a9"},"retries":"0","description":"","type":"DAG","uuid":"a66d3a04-71df-498d-b2eb-86641b589194","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Aws_Delete_f19c2ea6_884f_47c7_be9a_facfa3b1d1a9","uuid":"0f4eea37-c5eb-4108-ba3e-3bdcbea0fe6e"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_f19c2ea6_884f_47c7_be9a_facfa3b1d1a9"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSSlave","uuid":"f19c2ea6-884f-47c7-be9a-facfa3b1d1a9"},"retries":"0","description":"","type":"DELETE_AWS_VM","uuid":"0f4eea37-c5eb-4108-ba3e-3bdcbea0fe6e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Aws_Delete_f19c2ea6_884f_47c7_be9a_facfa3b1d1a9"}],"description":"","message_list":[],"uuid":"543ab595-1f78-40fe-8442-a76f2b025e65","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_f19c2ea6_884f_47c7_be9a_facfa3b1d1a9","uuid":"a66d3a04-71df-498d-b2eb-86641b589194"},"name":"SYS_GEN__Runbook_Substrate_f19c2ea6_884f_47c7_be9a_facfa3b1d1a9"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"7e81b2f4-95b4-461b-b8c9-5f917c902a77","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AWSSlave","uuid":"f19c2ea6-884f-47c7-be9a-facfa3b1d1a9"},"retries":"0","description":"","type":"DAG","uuid":"a23417e1-4f31-4b1c-9e23-9d46c7385183","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Substrate_Element_Delete_f19c2ea6_884f_47c7_be9a_facfa3b1d1a9","uuid":"4d6b1f66-6e69-4586-a69b-02440fa123fd"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_f19c2ea6_884f_47c7_be9a_facfa3b1d1a9"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSSlave","uuid":"f19c2ea6-884f-47c7-be9a-facfa3b1d1a9"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"4d6b1f66-6e69-4586-a69b-02440fa123fd","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Substrate_Element_Delete_f19c2ea6_884f_47c7_be9a_facfa3b1d1a9"}],"description":"","message_list":[],"uuid":"d1f1fa8d-3863-4123-b050-ce68df3cb6c7","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_f19c2ea6_884f_47c7_be9a_facfa3b1d1a9","uuid":"a23417e1-4f31-4b1c-9e23-9d46c7385183"},"name":"SYS_GEN__Runbook_Substrate_f19c2ea6_884f_47c7_be9a_facfa3b1d1a9"}}],"message_list":[],"uuid":"f19c2ea6-884f-47c7-be9a-facfa3b1d1a9","state":"ACTIVE","readiness_probe":{"connection_type":"SSH","retries":"5","disable_readiness_probe":false,"address":"@@{public_ip_address}@@","delay_secs":"0","connection_port":22,"login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"editables":{"readiness_probe":{"connection_type":true,"delay_secs":true,"connection_port":true,"timeout_secs":true},"create_spec":{"name":true,"resources":{"instance_profile_name":true,"availability_zone":true,"subnet_id":true,"key_name":true,"region":true,"user_data":true,"image_id":true,"instance_type":true,"security_group_list":true,"block_device_map":{"data_disk_list":{"1":{"size_gb":true},"0":{"size_gb":true},"3":{"size_gb":true},"2":{"size_gb":true},"5":{"size_gb":true},"4":{"size_gb":true},"7":{"size_gb":true},"6":{"size_gb":true}},"root_disk":{"size_gb":true}},"associate_public_ip_address":true,"vpc_id":true,"tag_list":true}}},"os_type":"Linux","type":"AWS_VM","create_spec":{"name":"mysql-slave-@@{calm_array_index}@@-@@{calm_time}@@","availability_zone_reference":null,"backup_policy":null,"type":"PROVISION_AWS_VM","cluster_reference":null,"resources":{"instance_profile_name":"ecsInstanceRole","instance_type":"t2.medium","subnet_id":"subnet-c599a5ef","key_name":"calm-blueprints","region":"us-east-1","availability_zone":"us-east-1a","instance_initiated_shutdown_behavior":"","user_data":"","image_id":"ami-1a003360","state":"RUNNING","security_group_list":[{"type":"","security_group_id":"sg-12a3f662"}],"block_device_map":{"data_disk_list":[{"size_gb":50,"volume_type":"GP2","device_name":"\/dev\/sdb","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":50,"volume_type":"GP2","device_name":"\/dev\/sdc","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":50,"volume_type":"GP2","device_name":"\/dev\/sdd","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":50,"volume_type":"GP2","device_name":"\/dev\/sde","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":25,"volume_type":"GP2","device_name":"\/dev\/sdf","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":25,"volume_type":"GP2","device_name":"\/dev\/sdg","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":25,"volume_type":"GP2","device_name":"\/dev\/sdh","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":25,"volume_type":"GP2","device_name":"\/dev\/sdi","iops":1,"snapshot_id":"","type":"","delete_on_termination":true}],"type":"","root_disk":{"size_gb":10,"volume_type":"GP2","device_name":"\/dev\/sda1","iops":1,"snapshot_id":"","type":"","delete_on_termination":true}},"private_ip_address":"","vpc_id":"vpc-ffd54d98","tag_list":[],"type":"","account_uuid":"8c2e0a6b-620a-c62a-c3f4-e58b101dfd0d","associate_public_ip_address":true}},"variable_list":[],"name":"AWSSlave"},{"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"2a6e0bf0-1c01-48e8-889a-7a8190b59646","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"GCPMaster","uuid":"d9edbd06-05b7-4e69-bc4b-ba5c99bab83f"},"retries":"0","description":"","type":"DAG","uuid":"b2049488-a77a-4773-89a4-0b0fc418b7ed","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Gcp_Provision_d9edbd06_05b7_4e69_bc4b_ba5c99bab83f","uuid":"7c1ce188-6900-4e37-b0e0-66865bb6d782"},{"kind":"app_task","name":"SYS_GEN__check_login_for_GCPMaster_d9edbd06_05b7_4e69_bc4b_ba5c99bab83f","uuid":"58a8fef8-1385-46a6-803f-b4524a43be48"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Gcp_Provision_d9edbd06_05b7_4e69_bc4b_ba5c99bab83f","uuid":"7c1ce188-6900-4e37-b0e0-66865bb6d782"},"edge_type":"inherent","type":"","uuid":"abb72dbf-7093-4fc0-b80f-0d741a0c516e","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_GCPMaster_d9edbd06_05b7_4e69_bc4b_ba5c99bab83f","uuid":"58a8fef8-1385-46a6-803f-b4524a43be48"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_d9edbd06_05b7_4e69_bc4b_ba5c99bab83f"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPMaster","uuid":"d9edbd06-05b7-4e69-bc4b-ba5c99bab83f"},"retries":"0","description":"","type":"PROVISION_GCP_VM","uuid":"7c1ce188-6900-4e37-b0e0-66865bb6d782","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"PROVISION_GCP_VM","resources":{"labels":[],"machineType":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/machineTypes\/n1-standard-1","description":"","zone":"us-central1-c","tags":{"items":["tensorflow"],"type":"","fingerprint":""},"guestCustomization":{"type":"","sysprep":"","startupScript":""},"labelFingerprint":"","disks":[{"diskEncryptionKey":{},"deviceName":"","initializeParams":{"sourceImageEncryptionKey":{},"diskName":"","diskType":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","diskSizeGb":-1,"sourceImage":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/global\/images\/centos-7","type":""},"autoDelete":true,"boot":true,"source":"","mode":"","interface":"","disk_type":"PERSISTENT","type":""}],"metadata":{"items":[{"type":"","value":"centos:ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDMGAS\/K0Mb\/uwFXwD+hkjguy7VMZk2hpuhwPl9FUZwVBrURf\/i9QMJ5\/paPEZixu8VlRx7Inu4iun7rQfrnfeIYInmBwspXHYiTK3oHJAgZnrAHVEf1p6YaxLINlT1NI5yOAGPRWW6of8rBDBH1ObwU2+wcSx\/1H0uIs3aZNLufr+Rh628ACxAum2Gt8AVRj6ua2BPFyt5VTdclyysAmeh1AiixNgOZXOz6y\/i4TbzpY78I3isuKpxsUeXX6jxEMQol406jHDUF6njEOPIQG2zVZ3QJlTG9OlN+NiyZG9WkZz0VG\/6M8ixxIHHI2dNwUbBFv2HUu+8X9LTLFq2O7KjX9Hp7uZKBAySHA3eKaKHIp2bZuU1bT5PRPkggngX86xg+T+OMNnutbAiMnRJ8+FvD5So+5TIx4b9GgxAxure3x2yRPT9lOiQOB+CVpJPxR0Rn9bOI+wiPnD0kAGvK\/fHT+pqL4PM+hTnJtp9rrCRzIQApBx1263jEcYffhW2epZQRO+he5CMawFJ5TBe08om2AaDJ8GQdrpF6YA3W8DzHbmL3DPVVHdmqPLn10o+LX4gv5SdIIDVGdjKOc1BCnLTRmM28d5+sLDt\/M+kvcQgf0y0yDjMVjGECZkt39hbm4ELMHzZtzYLmHNhBZxRqHeJ7qFTuv1kx88OW3Xc5mbBNQ== centos@nutanix.com","key":"ssh-keys"}],"type":"","fingerprint":""},"sshKeys":["centos:ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDMGAS\/K0Mb\/uwFXwD+hkjguy7VMZk2hpuhwPl9FUZwVBrURf\/i9QMJ5\/paPEZixu8VlRx7Inu4iun7rQfrnfeIYInmBwspXHYiTK3oHJAgZnrAHVEf1p6YaxLINlT1NI5yOAGPRWW6of8rBDBH1ObwU2+wcSx\/1H0uIs3aZNLufr+Rh628ACxAum2Gt8AVRj6ua2BPFyt5VTdclyysAmeh1AiixNgOZXOz6y\/i4TbzpY78I3isuKpxsUeXX6jxEMQol406jHDUF6njEOPIQG2zVZ3QJlTG9OlN+NiyZG9WkZz0VG\/6M8ixxIHHI2dNwUbBFv2HUu+8X9LTLFq2O7KjX9Hp7uZKBAySHA3eKaKHIp2bZuU1bT5PRPkggngX86xg+T+OMNnutbAiMnRJ8+FvD5So+5TIx4b9GgxAxure3x2yRPT9lOiQOB+CVpJPxR0Rn9bOI+wiPnD0kAGvK\/fHT+pqL4PM+hTnJtp9rrCRzIQApBx1263jEcYffhW2epZQRO+he5CMawFJ5TBe08om2AaDJ8GQdrpF6YA3W8DzHbmL3DPVVHdmqPLn10o+LX4gv5SdIIDVGdjKOc1BCnLTRmM28d5+sLDt\/M+kvcQgf0y0yDjMVjGECZkt39hbm4ELMHzZtzYLmHNhBZxRqHeJ7qFTuv1kx88OW3Xc5mbBNQ== centos@nutanix.com\n"],"minCpuPlatform":"","scheduling":{"automaticRestart":true,"type":"","preemptible":false,"onHostMaintenance":"TERMINATE"},"canIpForward":false,"blankDisks":[{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-master-dev-0-@@{calm_time}@@","sizeGb":50,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-master-dev-1-@@{calm_time}@@","sizeGb":50,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-master-dev-2-@@{calm_time}@@","sizeGb":50,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-master-dev-3-@@{calm_time}@@","sizeGb":50,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-master-dev-4-@@{calm_time}@@","sizeGb":25,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-master-dev-5-@@{calm_time}@@","sizeGb":25,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-master-dev-6-@@{calm_time}@@","sizeGb":25,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-master-dev-7-@@{calm_time}@@","sizeGb":25,"autoDelete":true}],"networkInterfaces":[{"aliasIpRanges":[],"network":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/global\/networks\/default","accessConfigs":[{"config_type":"ONE_TO_ONE_NAT","type":"","name":"master-default-acn","natIP":""}],"networkIP":"","subnetwork":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/regions\/us-central1\/subnetworks\/default","type":"","associatePublicIP":true}],"type":"","account_uuid":"84213a31-4fe8-7e39-3799-e093e5d0dc2e","serviceAccounts":[{"scopes":["https:\/\/www.googleapis.com\/auth\/cloud-platform"],"type":"","email":"108048128720-compute@developer.gserviceaccount.com"}],"name":"mysql-master-@@{calm_time}@@"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Gcp_Provision_d9edbd06_05b7_4e69_bc4b_ba5c99bab83f"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPMaster","uuid":"d9edbd06-05b7-4e69-bc4b-ba5c99bab83f"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"58a8fef8-1385-46a6-803f-b4524a43be48","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"300","address":"@@{public_ip_address}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_GCPMaster_d9edbd06_05b7_4e69_bc4b_ba5c99bab83f"}],"description":"","message_list":[],"uuid":"48ea4f94-f54e-4e19-a212-812411c5fae9","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_d9edbd06_05b7_4e69_bc4b_ba5c99bab83f","uuid":"b2049488-a77a-4773-89a4-0b0fc418b7ed"},"name":"SYS_GEN__Runbook_Substrate_d9edbd06_05b7_4e69_bc4b_ba5c99bab83f"}},{"description":"System action for powering on an application","message_list":[],"uuid":"d41d09f8-5cd1-4627-83ba-a6017f0d4a49","name":"action_poweron","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"GCPMaster","uuid":"d9edbd06-05b7-4e69-bc4b-ba5c99bab83f"},"retries":"0","description":"","type":"DAG","uuid":"ed2541aa-4f6e-49b9-826b-0b2a3080d060","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Gcp_Operation_PowerOn_d9edbd06_05b7_4e69_bc4b_ba5c99bab83f","uuid":"37ebf3d2-ac0e-4a30-833b-7b294bdb81c8"},{"kind":"app_task","name":"SYS_GEN__check_login_for_GCPMaster_d9edbd06_05b7_4e69_bc4b_ba5c99bab83f","uuid":"44842de4-9c15-4e86-8383-73248a6ec3bd"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Gcp_Operation_PowerOn_d9edbd06_05b7_4e69_bc4b_ba5c99bab83f","uuid":"37ebf3d2-ac0e-4a30-833b-7b294bdb81c8"},"edge_type":"inherent","type":"","uuid":"9feaa298-a3a6-44bf-b581-15bce9cce627","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_GCPMaster_d9edbd06_05b7_4e69_bc4b_ba5c99bab83f","uuid":"44842de4-9c15-4e86-8383-73248a6ec3bd"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_d9edbd06_05b7_4e69_bc4b_ba5c99bab83f"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPMaster","uuid":"d9edbd06-05b7-4e69-bc4b-ba5c99bab83f"},"retries":"0","description":"","type":"VMOPERATION_GCP_VM","uuid":"37ebf3d2-ac0e-4a30-833b-7b294bdb81c8","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Gcp_Operation_PowerOn_d9edbd06_05b7_4e69_bc4b_ba5c99bab83f"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPMaster","uuid":"d9edbd06-05b7-4e69-bc4b-ba5c99bab83f"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"44842de4-9c15-4e86-8383-73248a6ec3bd","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"300","address":"@@{public_ip_address}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_GCPMaster_d9edbd06_05b7_4e69_bc4b_ba5c99bab83f"}],"description":"","message_list":[],"uuid":"ae88ca55-e86f-46ea-aac3-1a2b3fe7c853","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_d9edbd06_05b7_4e69_bc4b_ba5c99bab83f","uuid":"ed2541aa-4f6e-49b9-826b-0b2a3080d060"},"name":"SYS_GEN__Runbook_Substrate_d9edbd06_05b7_4e69_bc4b_ba5c99bab83f"}},{"description":"System action for restarting an application","message_list":[],"uuid":"7bb0c9e0-129d-4143-865c-5531cf6e4104","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"GCPMaster","uuid":"d9edbd06-05b7-4e69-bc4b-ba5c99bab83f"},"retries":"0","description":"","type":"DAG","uuid":"f187c54d-b103-4a56-b1ec-045b7e266f23","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Gcp_Operation_Restart_d9edbd06_05b7_4e69_bc4b_ba5c99bab83f","uuid":"3b6dfac1-173e-4ba6-a10b-bf421f74c456"},{"kind":"app_task","name":"SYS_GEN__check_login_for_GCPMaster_d9edbd06_05b7_4e69_bc4b_ba5c99bab83f","uuid":"995b4010-7263-4867-859d-4d301c42e4c7"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Gcp_Operation_Restart_d9edbd06_05b7_4e69_bc4b_ba5c99bab83f","uuid":"3b6dfac1-173e-4ba6-a10b-bf421f74c456"},"edge_type":"inherent","type":"","uuid":"694f0e89-01c7-42b7-828c-9be61ed9ef27","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_GCPMaster_d9edbd06_05b7_4e69_bc4b_ba5c99bab83f","uuid":"995b4010-7263-4867-859d-4d301c42e4c7"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_d9edbd06_05b7_4e69_bc4b_ba5c99bab83f"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPMaster","uuid":"d9edbd06-05b7-4e69-bc4b-ba5c99bab83f"},"retries":"0","description":"","type":"VMOPERATION_GCP_VM","uuid":"3b6dfac1-173e-4ba6-a10b-bf421f74c456","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Gcp_Operation_Restart_d9edbd06_05b7_4e69_bc4b_ba5c99bab83f"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPMaster","uuid":"d9edbd06-05b7-4e69-bc4b-ba5c99bab83f"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"995b4010-7263-4867-859d-4d301c42e4c7","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"300","address":"@@{public_ip_address}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_GCPMaster_d9edbd06_05b7_4e69_bc4b_ba5c99bab83f"}],"description":"","message_list":[],"uuid":"5989d056-474f-4db9-bd5f-4c9219497f66","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_d9edbd06_05b7_4e69_bc4b_ba5c99bab83f","uuid":"f187c54d-b103-4a56-b1ec-045b7e266f23"},"name":"SYS_GEN__Runbook_Substrate_d9edbd06_05b7_4e69_bc4b_ba5c99bab83f"}},{"description":"System action for suspending an application","message_list":[],"uuid":"53837073-18fa-4ac3-8c61-2db6eae99807","name":"action_suspend","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"GCPMaster","uuid":"d9edbd06-05b7-4e69-bc4b-ba5c99bab83f"},"retries":"0","description":"","type":"DAG","uuid":"6bee6fcf-5c7e-4ad9-b1c2-58f3dabf830d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_d9edbd06_05b7_4e69_bc4b_ba5c99bab83f"}],"description":"","message_list":[],"uuid":"cb06864d-426d-43e1-bbbd-b6644cf62fd8","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_d9edbd06_05b7_4e69_bc4b_ba5c99bab83f","uuid":"6bee6fcf-5c7e-4ad9-b1c2-58f3dabf830d"},"name":"SYS_GEN__Runbook_Substrate_d9edbd06_05b7_4e69_bc4b_ba5c99bab83f"}},{"description":"System action for modifying an application","message_list":[],"uuid":"5c4e1cf5-c5f8-48f3-836f-2f5dff78d581","name":"action_modify","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"GCPMaster","uuid":"d9edbd06-05b7-4e69-bc4b-ba5c99bab83f"},"retries":"0","description":"","type":"DAG","uuid":"9937a93b-e97e-45e0-a4e3-ceb772c6e15e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_d9edbd06_05b7_4e69_bc4b_ba5c99bab83f"}],"description":"","message_list":[],"uuid":"83e37606-7aed-42e6-b159-e886d8eb22eb","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_d9edbd06_05b7_4e69_bc4b_ba5c99bab83f","uuid":"9937a93b-e97e-45e0-a4e3-ceb772c6e15e"},"name":"SYS_GEN__Runbook_Substrate_d9edbd06_05b7_4e69_bc4b_ba5c99bab83f"}},{"description":"System action for powering off an application","message_list":[],"uuid":"fdffc126-4238-4d99-afdc-669c2abd1479","name":"action_poweroff","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"GCPMaster","uuid":"d9edbd06-05b7-4e69-bc4b-ba5c99bab83f"},"retries":"0","description":"","type":"DAG","uuid":"ca3034a2-125e-48ac-8c42-7b7211dd2106","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Gcp_Operation_PowerOff_d9edbd06_05b7_4e69_bc4b_ba5c99bab83f","uuid":"ac77406e-c838-43a2-9dc8-3829ba6c11a2"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_d9edbd06_05b7_4e69_bc4b_ba5c99bab83f"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPMaster","uuid":"d9edbd06-05b7-4e69-bc4b-ba5c99bab83f"},"retries":"0","description":"","type":"VMOPERATION_GCP_VM","uuid":"ac77406e-c838-43a2-9dc8-3829ba6c11a2","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Gcp_Operation_PowerOff_d9edbd06_05b7_4e69_bc4b_ba5c99bab83f"}],"description":"","message_list":[],"uuid":"43e89bae-46cd-4079-a0e4-d6357ccddb3e","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_d9edbd06_05b7_4e69_bc4b_ba5c99bab83f","uuid":"ca3034a2-125e-48ac-8c42-7b7211dd2106"},"name":"SYS_GEN__Runbook_Substrate_d9edbd06_05b7_4e69_bc4b_ba5c99bab83f"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"f8fd6b02-75fd-49c8-a3a9-9580c795047c","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"GCPMaster","uuid":"d9edbd06-05b7-4e69-bc4b-ba5c99bab83f"},"retries":"0","description":"","type":"DAG","uuid":"1f462c8d-8114-4c04-9cd4-a362f3519f01","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Gcp_Delete_d9edbd06_05b7_4e69_bc4b_ba5c99bab83f","uuid":"398f71f5-81be-45d9-a972-60c42b6a0898"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_d9edbd06_05b7_4e69_bc4b_ba5c99bab83f"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPMaster","uuid":"d9edbd06-05b7-4e69-bc4b-ba5c99bab83f"},"retries":"0","description":"","type":"DELETE_GCP_VM","uuid":"398f71f5-81be-45d9-a972-60c42b6a0898","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Gcp_Delete_d9edbd06_05b7_4e69_bc4b_ba5c99bab83f"}],"description":"","message_list":[],"uuid":"1966ba07-f29f-4224-ba54-acccba667fd2","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_d9edbd06_05b7_4e69_bc4b_ba5c99bab83f","uuid":"1f462c8d-8114-4c04-9cd4-a362f3519f01"},"name":"SYS_GEN__Runbook_Substrate_d9edbd06_05b7_4e69_bc4b_ba5c99bab83f"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"d0ea03de-8a05-4c48-bfee-81c00a09c1d6","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"GCPMaster","uuid":"d9edbd06-05b7-4e69-bc4b-ba5c99bab83f"},"retries":"0","description":"","type":"DAG","uuid":"e813db0d-f207-4eb9-b3f5-919231a419b7","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Substrate_Element_Delete_d9edbd06_05b7_4e69_bc4b_ba5c99bab83f","uuid":"b944e7c2-413c-4376-97c8-6f2c38f698b0"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_d9edbd06_05b7_4e69_bc4b_ba5c99bab83f"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPMaster","uuid":"d9edbd06-05b7-4e69-bc4b-ba5c99bab83f"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"b944e7c2-413c-4376-97c8-6f2c38f698b0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Substrate_Element_Delete_d9edbd06_05b7_4e69_bc4b_ba5c99bab83f"}],"description":"","message_list":[],"uuid":"c9cb978b-c8e5-4ca7-8ff0-7990e7c00580","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_d9edbd06_05b7_4e69_bc4b_ba5c99bab83f","uuid":"e813db0d-f207-4eb9-b3f5-919231a419b7"},"name":"SYS_GEN__Runbook_Substrate_d9edbd06_05b7_4e69_bc4b_ba5c99bab83f"}}],"message_list":[],"uuid":"d9edbd06-05b7-4e69-bc4b-ba5c99bab83f","state":"ACTIVE","readiness_probe":{"connection_type":"SSH","retries":"5","disable_readiness_probe":false,"address":"@@{public_ip_address}@@","delay_secs":"60","connection_port":22,"login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"editables":{"readiness_probe":{"connection_type":true,"retries":true,"timeout_secs":true,"address":true,"delay_secs":true,"connection_port":true},"create_spec":{"resources":{"labels":true,"machineType":true,"name":true,"zone":true,"tags":{"items":true},"disks":{"0":{"initializeParams":{"diskSizeGb":true,"sourceImage":true,"diskType":true},"autoDelete":true}},"blankDisks":{"1":{"disk_type":true,"name":true,"sizeGb":true,"autoDelete":true},"0":{"disk_type":true,"name":true,"sizeGb":true,"autoDelete":true},"3":{"disk_type":true,"name":true,"sizeGb":true,"autoDelete":true},"2":{"disk_type":true,"name":true,"sizeGb":true,"autoDelete":true},"5":{"disk_type":true,"name":true,"sizeGb":true,"autoDelete":true},"4":{"disk_type":true,"name":true,"sizeGb":true,"autoDelete":true},"7":{"disk_type":true,"name":true,"sizeGb":true,"autoDelete":true},"6":{"disk_type":true,"name":true,"sizeGb":true,"autoDelete":true}},"networkInterfaces":{"0":{"accessConfigs":{"0":{"config_type":true,"name":true}},"network":true,"subnetwork":true,"associatePublicIP":true}},"sshKeys":{"0":true},"serviceAccounts":{"0":{"scopes":true,"email":true}},"metadata":{"items":true}}}},"os_type":"Linux","type":"GCP_VM","create_spec":{"type":"PROVISION_GCP_VM","resources":{"labels":[],"machineType":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/machineTypes\/n1-standard-1","description":"","zone":"us-central1-c","tags":{"items":["tensorflow"],"type":"","fingerprint":""},"guestCustomization":{"type":"","sysprep":"","startupScript":""},"labelFingerprint":"","disks":[{"diskEncryptionKey":{},"deviceName":"","initializeParams":{"sourceImageEncryptionKey":{},"diskName":"","diskType":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","diskSizeGb":-1,"sourceImage":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/global\/images\/centos-7","type":""},"autoDelete":true,"boot":true,"source":"","mode":"","interface":"","disk_type":"PERSISTENT","type":""}],"metadata":{"items":[{"type":"","value":"centos:ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDMGAS\/K0Mb\/uwFXwD+hkjguy7VMZk2hpuhwPl9FUZwVBrURf\/i9QMJ5\/paPEZixu8VlRx7Inu4iun7rQfrnfeIYInmBwspXHYiTK3oHJAgZnrAHVEf1p6YaxLINlT1NI5yOAGPRWW6of8rBDBH1ObwU2+wcSx\/1H0uIs3aZNLufr+Rh628ACxAum2Gt8AVRj6ua2BPFyt5VTdclyysAmeh1AiixNgOZXOz6y\/i4TbzpY78I3isuKpxsUeXX6jxEMQol406jHDUF6njEOPIQG2zVZ3QJlTG9OlN+NiyZG9WkZz0VG\/6M8ixxIHHI2dNwUbBFv2HUu+8X9LTLFq2O7KjX9Hp7uZKBAySHA3eKaKHIp2bZuU1bT5PRPkggngX86xg+T+OMNnutbAiMnRJ8+FvD5So+5TIx4b9GgxAxure3x2yRPT9lOiQOB+CVpJPxR0Rn9bOI+wiPnD0kAGvK\/fHT+pqL4PM+hTnJtp9rrCRzIQApBx1263jEcYffhW2epZQRO+he5CMawFJ5TBe08om2AaDJ8GQdrpF6YA3W8DzHbmL3DPVVHdmqPLn10o+LX4gv5SdIIDVGdjKOc1BCnLTRmM28d5+sLDt\/M+kvcQgf0y0yDjMVjGECZkt39hbm4ELMHzZtzYLmHNhBZxRqHeJ7qFTuv1kx88OW3Xc5mbBNQ== centos@nutanix.com","key":"ssh-keys"}],"type":"","fingerprint":""},"sshKeys":["centos:ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDMGAS\/K0Mb\/uwFXwD+hkjguy7VMZk2hpuhwPl9FUZwVBrURf\/i9QMJ5\/paPEZixu8VlRx7Inu4iun7rQfrnfeIYInmBwspXHYiTK3oHJAgZnrAHVEf1p6YaxLINlT1NI5yOAGPRWW6of8rBDBH1ObwU2+wcSx\/1H0uIs3aZNLufr+Rh628ACxAum2Gt8AVRj6ua2BPFyt5VTdclyysAmeh1AiixNgOZXOz6y\/i4TbzpY78I3isuKpxsUeXX6jxEMQol406jHDUF6njEOPIQG2zVZ3QJlTG9OlN+NiyZG9WkZz0VG\/6M8ixxIHHI2dNwUbBFv2HUu+8X9LTLFq2O7KjX9Hp7uZKBAySHA3eKaKHIp2bZuU1bT5PRPkggngX86xg+T+OMNnutbAiMnRJ8+FvD5So+5TIx4b9GgxAxure3x2yRPT9lOiQOB+CVpJPxR0Rn9bOI+wiPnD0kAGvK\/fHT+pqL4PM+hTnJtp9rrCRzIQApBx1263jEcYffhW2epZQRO+he5CMawFJ5TBe08om2AaDJ8GQdrpF6YA3W8DzHbmL3DPVVHdmqPLn10o+LX4gv5SdIIDVGdjKOc1BCnLTRmM28d5+sLDt\/M+kvcQgf0y0yDjMVjGECZkt39hbm4ELMHzZtzYLmHNhBZxRqHeJ7qFTuv1kx88OW3Xc5mbBNQ== centos@nutanix.com\n"],"minCpuPlatform":"","scheduling":{"automaticRestart":true,"type":"","preemptible":false,"onHostMaintenance":"TERMINATE"},"canIpForward":false,"blankDisks":[{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-master-dev-0-@@{calm_time}@@","sizeGb":50,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-master-dev-1-@@{calm_time}@@","sizeGb":50,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-master-dev-2-@@{calm_time}@@","sizeGb":50,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-master-dev-3-@@{calm_time}@@","sizeGb":50,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-master-dev-4-@@{calm_time}@@","sizeGb":25,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-master-dev-5-@@{calm_time}@@","sizeGb":25,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-master-dev-6-@@{calm_time}@@","sizeGb":25,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-master-dev-7-@@{calm_time}@@","sizeGb":25,"autoDelete":true}],"networkInterfaces":[{"aliasIpRanges":[],"network":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/global\/networks\/default","accessConfigs":[{"config_type":"ONE_TO_ONE_NAT","type":"","name":"master-default-acn","natIP":""}],"networkIP":"","subnetwork":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/regions\/us-central1\/subnetworks\/default","type":"","associatePublicIP":true}],"type":"","account_uuid":"84213a31-4fe8-7e39-3799-e093e5d0dc2e","serviceAccounts":[{"scopes":["https:\/\/www.googleapis.com\/auth\/cloud-platform"],"type":"","email":"108048128720-compute@developer.gserviceaccount.com"}],"name":"mysql-master-@@{calm_time}@@"}},"variable_list":[],"name":"GCPMaster"},{"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"fb774e86-44b0-41db-9eca-829939b66eb0","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"GCPSlave","uuid":"952ad6d6-fef1-417d-9c7d-75a978b7cfbd"},"retries":"0","description":"","type":"DAG","uuid":"907a5b82-f37d-4540-b202-5d34bb5dac60","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Gcp_Provision_952ad6d6_fef1_417d_9c7d_75a978b7cfbd","uuid":"af6db40c-c343-43ef-b743-ff4fa531656f"},{"kind":"app_task","name":"SYS_GEN__check_login_for_GCPSlave_952ad6d6_fef1_417d_9c7d_75a978b7cfbd","uuid":"7a19b821-81bd-4884-b47d-637e4e374e9f"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Gcp_Provision_952ad6d6_fef1_417d_9c7d_75a978b7cfbd","uuid":"af6db40c-c343-43ef-b743-ff4fa531656f"},"edge_type":"inherent","type":"","uuid":"b1b6cfb8-2666-4d20-be03-6ad5aadf0beb","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_GCPSlave_952ad6d6_fef1_417d_9c7d_75a978b7cfbd","uuid":"7a19b821-81bd-4884-b47d-637e4e374e9f"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_952ad6d6_fef1_417d_9c7d_75a978b7cfbd"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPSlave","uuid":"952ad6d6-fef1-417d-9c7d-75a978b7cfbd"},"retries":"0","description":"","type":"PROVISION_GCP_VM","uuid":"af6db40c-c343-43ef-b743-ff4fa531656f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"PROVISION_GCP_VM","resources":{"labels":[],"machineType":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/machineTypes\/n1-standard-1","description":"","zone":"us-central1-c","tags":{"items":["tensorflow"],"type":"","fingerprint":""},"guestCustomization":{"type":"","sysprep":"","startupScript":""},"labelFingerprint":"","disks":[{"diskEncryptionKey":{},"deviceName":"","initializeParams":{"sourceImageEncryptionKey":{},"diskName":"","diskType":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","diskSizeGb":-1,"sourceImage":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/global\/images\/centos-7","type":""},"autoDelete":true,"boot":true,"source":"","mode":"","interface":"","disk_type":"PERSISTENT","type":""}],"metadata":{"items":[{"type":"","value":"centos:ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDMGAS\/K0Mb\/uwFXwD+hkjguy7VMZk2hpuhwPl9FUZwVBrURf\/i9QMJ5\/paPEZixu8VlRx7Inu4iun7rQfrnfeIYInmBwspXHYiTK3oHJAgZnrAHVEf1p6YaxLINlT1NI5yOAGPRWW6of8rBDBH1ObwU2+wcSx\/1H0uIs3aZNLufr+Rh628ACxAum2Gt8AVRj6ua2BPFyt5VTdclyysAmeh1AiixNgOZXOz6y\/i4TbzpY78I3isuKpxsUeXX6jxEMQol406jHDUF6njEOPIQG2zVZ3QJlTG9OlN+NiyZG9WkZz0VG\/6M8ixxIHHI2dNwUbBFv2HUu+8X9LTLFq2O7KjX9Hp7uZKBAySHA3eKaKHIp2bZuU1bT5PRPkggngX86xg+T+OMNnutbAiMnRJ8+FvD5So+5TIx4b9GgxAxure3x2yRPT9lOiQOB+CVpJPxR0Rn9bOI+wiPnD0kAGvK\/fHT+pqL4PM+hTnJtp9rrCRzIQApBx1263jEcYffhW2epZQRO+he5CMawFJ5TBe08om2AaDJ8GQdrpF6YA3W8DzHbmL3DPVVHdmqPLn10o+LX4gv5SdIIDVGdjKOc1BCnLTRmM28d5+sLDt\/M+kvcQgf0y0yDjMVjGECZkt39hbm4ELMHzZtzYLmHNhBZxRqHeJ7qFTuv1kx88OW3Xc5mbBNQ== centos@nutanix.com","key":"ssh-keys"}],"type":"","fingerprint":""},"sshKeys":["centos:ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDMGAS\/K0Mb\/uwFXwD+hkjguy7VMZk2hpuhwPl9FUZwVBrURf\/i9QMJ5\/paPEZixu8VlRx7Inu4iun7rQfrnfeIYInmBwspXHYiTK3oHJAgZnrAHVEf1p6YaxLINlT1NI5yOAGPRWW6of8rBDBH1ObwU2+wcSx\/1H0uIs3aZNLufr+Rh628ACxAum2Gt8AVRj6ua2BPFyt5VTdclyysAmeh1AiixNgOZXOz6y\/i4TbzpY78I3isuKpxsUeXX6jxEMQol406jHDUF6njEOPIQG2zVZ3QJlTG9OlN+NiyZG9WkZz0VG\/6M8ixxIHHI2dNwUbBFv2HUu+8X9LTLFq2O7KjX9Hp7uZKBAySHA3eKaKHIp2bZuU1bT5PRPkggngX86xg+T+OMNnutbAiMnRJ8+FvD5So+5TIx4b9GgxAxure3x2yRPT9lOiQOB+CVpJPxR0Rn9bOI+wiPnD0kAGvK\/fHT+pqL4PM+hTnJtp9rrCRzIQApBx1263jEcYffhW2epZQRO+he5CMawFJ5TBe08om2AaDJ8GQdrpF6YA3W8DzHbmL3DPVVHdmqPLn10o+LX4gv5SdIIDVGdjKOc1BCnLTRmM28d5+sLDt\/M+kvcQgf0y0yDjMVjGECZkt39hbm4ELMHzZtzYLmHNhBZxRqHeJ7qFTuv1kx88OW3Xc5mbBNQ== centos@nutanix.com\n"],"minCpuPlatform":"","scheduling":{"automaticRestart":true,"type":"","preemptible":false,"onHostMaintenance":"TERMINATE"},"canIpForward":false,"blankDisks":[{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-slave-dev-0-@@{calm_time}@@","sizeGb":50,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-slave-dev-1-@@{calm_time}@@","sizeGb":50,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-slave-dev-2-@@{calm_time}@@","sizeGb":50,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-slave-dev-3-@@{calm_time}@@","sizeGb":50,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-slave-dev-4-@@{calm_time}@@","sizeGb":25,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-slave-dev-5-@@{calm_time}@@","sizeGb":25,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-slave-dev-6-@@{calm_time}@@","sizeGb":25,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-slave-dev-7-@@{calm_time}@@","sizeGb":25,"autoDelete":true}],"networkInterfaces":[{"aliasIpRanges":[],"network":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/global\/networks\/default","accessConfigs":[{"config_type":"ONE_TO_ONE_NAT","type":"","name":"slave-default-acn","natIP":""}],"networkIP":"","subnetwork":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/regions\/us-central1\/subnetworks\/default","type":"","associatePublicIP":true}],"type":"","account_uuid":"84213a31-4fe8-7e39-3799-e093e5d0dc2e","serviceAccounts":[{"scopes":["https:\/\/www.googleapis.com\/auth\/cloud-platform"],"type":"","email":""}],"name":"mysql-slave-@@{calm_array_index}@@-@@{calm_time}@@"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Gcp_Provision_952ad6d6_fef1_417d_9c7d_75a978b7cfbd"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPSlave","uuid":"952ad6d6-fef1-417d-9c7d-75a978b7cfbd"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"7a19b821-81bd-4884-b47d-637e4e374e9f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"300","address":"@@{public_ip_address}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_GCPSlave_952ad6d6_fef1_417d_9c7d_75a978b7cfbd"}],"description":"","message_list":[],"uuid":"3fdf5d8f-26b0-45df-acf5-3a9b4aa48d88","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_952ad6d6_fef1_417d_9c7d_75a978b7cfbd","uuid":"907a5b82-f37d-4540-b202-5d34bb5dac60"},"name":"SYS_GEN__Runbook_Substrate_952ad6d6_fef1_417d_9c7d_75a978b7cfbd"}},{"description":"System action for powering on an application","message_list":[],"uuid":"1e07268c-a98c-4038-8472-ef7a9c16a62d","name":"action_poweron","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"GCPSlave","uuid":"952ad6d6-fef1-417d-9c7d-75a978b7cfbd"},"retries":"0","description":"","type":"DAG","uuid":"0a0e220a-983c-4d75-a202-b6d59980f200","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Gcp_Operation_PowerOn_952ad6d6_fef1_417d_9c7d_75a978b7cfbd","uuid":"b5007a69-354c-4697-bb39-3230a8cab919"},{"kind":"app_task","name":"SYS_GEN__check_login_for_GCPSlave_952ad6d6_fef1_417d_9c7d_75a978b7cfbd","uuid":"2d51df4b-fc2c-41da-9dd6-ae259ac385c2"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Gcp_Operation_PowerOn_952ad6d6_fef1_417d_9c7d_75a978b7cfbd","uuid":"b5007a69-354c-4697-bb39-3230a8cab919"},"edge_type":"inherent","type":"","uuid":"aac5d01c-95ae-403a-ae25-235aff1ed828","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_GCPSlave_952ad6d6_fef1_417d_9c7d_75a978b7cfbd","uuid":"2d51df4b-fc2c-41da-9dd6-ae259ac385c2"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_952ad6d6_fef1_417d_9c7d_75a978b7cfbd"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPSlave","uuid":"952ad6d6-fef1-417d-9c7d-75a978b7cfbd"},"retries":"0","description":"","type":"VMOPERATION_GCP_VM","uuid":"b5007a69-354c-4697-bb39-3230a8cab919","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Gcp_Operation_PowerOn_952ad6d6_fef1_417d_9c7d_75a978b7cfbd"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPSlave","uuid":"952ad6d6-fef1-417d-9c7d-75a978b7cfbd"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"2d51df4b-fc2c-41da-9dd6-ae259ac385c2","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"300","address":"@@{public_ip_address}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_GCPSlave_952ad6d6_fef1_417d_9c7d_75a978b7cfbd"}],"description":"","message_list":[],"uuid":"71b4788f-f304-4669-99f8-c4b07ce7bf59","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_952ad6d6_fef1_417d_9c7d_75a978b7cfbd","uuid":"0a0e220a-983c-4d75-a202-b6d59980f200"},"name":"SYS_GEN__Runbook_Substrate_952ad6d6_fef1_417d_9c7d_75a978b7cfbd"}},{"description":"System action for restarting an application","message_list":[],"uuid":"fa71045f-46ec-40cc-8010-c0d941555a17","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"GCPSlave","uuid":"952ad6d6-fef1-417d-9c7d-75a978b7cfbd"},"retries":"0","description":"","type":"DAG","uuid":"f7f3c316-2447-4664-81d3-2f6d1abaea77","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Gcp_Operation_Restart_952ad6d6_fef1_417d_9c7d_75a978b7cfbd","uuid":"f7dac495-b2d4-4538-9ee6-6e5d6c794a11"},{"kind":"app_task","name":"SYS_GEN__check_login_for_GCPSlave_952ad6d6_fef1_417d_9c7d_75a978b7cfbd","uuid":"4810b493-08c0-4f06-b490-ff1dfad83b80"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Gcp_Operation_Restart_952ad6d6_fef1_417d_9c7d_75a978b7cfbd","uuid":"f7dac495-b2d4-4538-9ee6-6e5d6c794a11"},"edge_type":"inherent","type":"","uuid":"59183dd0-5f32-4e40-80d2-e55ed7ada236","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_GCPSlave_952ad6d6_fef1_417d_9c7d_75a978b7cfbd","uuid":"4810b493-08c0-4f06-b490-ff1dfad83b80"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_952ad6d6_fef1_417d_9c7d_75a978b7cfbd"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPSlave","uuid":"952ad6d6-fef1-417d-9c7d-75a978b7cfbd"},"retries":"0","description":"","type":"VMOPERATION_GCP_VM","uuid":"f7dac495-b2d4-4538-9ee6-6e5d6c794a11","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Gcp_Operation_Restart_952ad6d6_fef1_417d_9c7d_75a978b7cfbd"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPSlave","uuid":"952ad6d6-fef1-417d-9c7d-75a978b7cfbd"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"4810b493-08c0-4f06-b490-ff1dfad83b80","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"300","address":"@@{public_ip_address}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_GCPSlave_952ad6d6_fef1_417d_9c7d_75a978b7cfbd"}],"description":"","message_list":[],"uuid":"bdd9518d-32ae-44ff-951f-984a3b8ebf0a","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_952ad6d6_fef1_417d_9c7d_75a978b7cfbd","uuid":"f7f3c316-2447-4664-81d3-2f6d1abaea77"},"name":"SYS_GEN__Runbook_Substrate_952ad6d6_fef1_417d_9c7d_75a978b7cfbd"}},{"description":"System action for suspending an application","message_list":[],"uuid":"3f7dc08f-3b76-4e5e-ae87-d47d76440a38","name":"action_suspend","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"GCPSlave","uuid":"952ad6d6-fef1-417d-9c7d-75a978b7cfbd"},"retries":"0","description":"","type":"DAG","uuid":"ae23fca3-5ce7-4b87-a32e-ef161763b255","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_952ad6d6_fef1_417d_9c7d_75a978b7cfbd"}],"description":"","message_list":[],"uuid":"49e15df8-a63a-4059-8639-a7faf1df0c6d","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_952ad6d6_fef1_417d_9c7d_75a978b7cfbd","uuid":"ae23fca3-5ce7-4b87-a32e-ef161763b255"},"name":"SYS_GEN__Runbook_Substrate_952ad6d6_fef1_417d_9c7d_75a978b7cfbd"}},{"description":"System action for modifying an application","message_list":[],"uuid":"7b03f2b0-66ce-44d6-854a-2db2d0d5e17a","name":"action_modify","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"GCPSlave","uuid":"952ad6d6-fef1-417d-9c7d-75a978b7cfbd"},"retries":"0","description":"","type":"DAG","uuid":"bb5f468c-f33c-47e3-8155-77e1e0081fe5","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_952ad6d6_fef1_417d_9c7d_75a978b7cfbd"}],"description":"","message_list":[],"uuid":"e332fae7-03a4-412e-a05f-5e80f010b134","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_952ad6d6_fef1_417d_9c7d_75a978b7cfbd","uuid":"bb5f468c-f33c-47e3-8155-77e1e0081fe5"},"name":"SYS_GEN__Runbook_Substrate_952ad6d6_fef1_417d_9c7d_75a978b7cfbd"}},{"description":"System action for powering off an application","message_list":[],"uuid":"d984cbc1-a21a-4d80-bb72-54bc4b614b30","name":"action_poweroff","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"GCPSlave","uuid":"952ad6d6-fef1-417d-9c7d-75a978b7cfbd"},"retries":"0","description":"","type":"DAG","uuid":"c626fae8-52e5-4f21-8688-ef0e0f10b333","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Gcp_Operation_PowerOff_952ad6d6_fef1_417d_9c7d_75a978b7cfbd","uuid":"9b63cb81-f40d-48ac-a54b-cb8a412c9cd0"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_952ad6d6_fef1_417d_9c7d_75a978b7cfbd"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPSlave","uuid":"952ad6d6-fef1-417d-9c7d-75a978b7cfbd"},"retries":"0","description":"","type":"VMOPERATION_GCP_VM","uuid":"9b63cb81-f40d-48ac-a54b-cb8a412c9cd0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Gcp_Operation_PowerOff_952ad6d6_fef1_417d_9c7d_75a978b7cfbd"}],"description":"","message_list":[],"uuid":"76d01cb0-61dc-45d3-b272-3543d1966c41","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_952ad6d6_fef1_417d_9c7d_75a978b7cfbd","uuid":"c626fae8-52e5-4f21-8688-ef0e0f10b333"},"name":"SYS_GEN__Runbook_Substrate_952ad6d6_fef1_417d_9c7d_75a978b7cfbd"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"53aec9f7-3fd6-43f1-b81c-6adce372f6b0","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"GCPSlave","uuid":"952ad6d6-fef1-417d-9c7d-75a978b7cfbd"},"retries":"0","description":"","type":"DAG","uuid":"fcf48f88-223a-450e-820f-3f43dea20a26","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Gcp_Delete_952ad6d6_fef1_417d_9c7d_75a978b7cfbd","uuid":"8c40e53b-564e-41ad-98b6-676dfe549f13"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_952ad6d6_fef1_417d_9c7d_75a978b7cfbd"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPSlave","uuid":"952ad6d6-fef1-417d-9c7d-75a978b7cfbd"},"retries":"0","description":"","type":"DELETE_GCP_VM","uuid":"8c40e53b-564e-41ad-98b6-676dfe549f13","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Gcp_Delete_952ad6d6_fef1_417d_9c7d_75a978b7cfbd"}],"description":"","message_list":[],"uuid":"fd2e626d-f5a4-4330-84ee-f71fc5bf8858","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_952ad6d6_fef1_417d_9c7d_75a978b7cfbd","uuid":"fcf48f88-223a-450e-820f-3f43dea20a26"},"name":"SYS_GEN__Runbook_Substrate_952ad6d6_fef1_417d_9c7d_75a978b7cfbd"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"112da3f4-01d0-4f5d-8bfb-93bc40b58b3c","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"GCPSlave","uuid":"952ad6d6-fef1-417d-9c7d-75a978b7cfbd"},"retries":"0","description":"","type":"DAG","uuid":"c3013de5-f9af-4a6a-9103-32ee1c0e45f1","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Substrate_Element_Delete_952ad6d6_fef1_417d_9c7d_75a978b7cfbd","uuid":"c9f95980-f297-4531-a086-2062d9092c84"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_952ad6d6_fef1_417d_9c7d_75a978b7cfbd"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPSlave","uuid":"952ad6d6-fef1-417d-9c7d-75a978b7cfbd"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"c9f95980-f297-4531-a086-2062d9092c84","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Substrate_Element_Delete_952ad6d6_fef1_417d_9c7d_75a978b7cfbd"}],"description":"","message_list":[],"uuid":"38790575-d595-48ff-87f1-155e2cfdae56","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_952ad6d6_fef1_417d_9c7d_75a978b7cfbd","uuid":"c3013de5-f9af-4a6a-9103-32ee1c0e45f1"},"name":"SYS_GEN__Runbook_Substrate_952ad6d6_fef1_417d_9c7d_75a978b7cfbd"}}],"message_list":[],"uuid":"952ad6d6-fef1-417d-9c7d-75a978b7cfbd","state":"ACTIVE","readiness_probe":{"connection_type":"SSH","retries":"5","disable_readiness_probe":false,"address":"@@{public_ip_address}@@","delay_secs":"60","connection_port":22,"login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"editables":{"readiness_probe":{"connection_type":true,"retries":true,"timeout_secs":true,"address":true,"delay_secs":true,"connection_port":true},"create_spec":{"resources":{"labels":true,"machineType":true,"name":true,"zone":true,"tags":{"items":true},"guestCustomization":{"startupScript":true},"disks":{"0":{"initializeParams":{"diskSizeGb":true,"sourceImage":true,"diskType":true},"autoDelete":true}},"blankDisks":{"1":{"disk_type":true,"name":true,"sizeGb":true,"autoDelete":true},"0":{"disk_type":true,"name":true,"sizeGb":true,"autoDelete":true},"3":{"disk_type":true,"name":true,"sizeGb":true,"autoDelete":true},"2":{"disk_type":true,"name":true,"sizeGb":true,"autoDelete":true},"5":{"disk_type":true,"name":true,"sizeGb":true,"autoDelete":true},"4":{"disk_type":true,"name":true,"sizeGb":true,"autoDelete":true},"7":{"disk_type":true,"name":true,"sizeGb":true,"autoDelete":true},"6":{"disk_type":true,"name":true,"sizeGb":true,"autoDelete":true}},"networkInterfaces":{"0":{"accessConfigs":{"0":{"config_type":true,"name":true}},"network":true,"subnetwork":true,"associatePublicIP":true}},"sshKeys":{"0":true},"serviceAccounts":{"0":{"scopes":true,"email":true}},"metadata":{"items":true}}}},"os_type":"Linux","type":"GCP_VM","create_spec":{"type":"PROVISION_GCP_VM","resources":{"labels":[],"machineType":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/machineTypes\/n1-standard-1","description":"","zone":"us-central1-c","tags":{"items":["tensorflow"],"type":"","fingerprint":""},"guestCustomization":{"type":"","sysprep":"","startupScript":""},"labelFingerprint":"","disks":[{"diskEncryptionKey":{},"deviceName":"","initializeParams":{"sourceImageEncryptionKey":{},"diskName":"","diskType":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","diskSizeGb":-1,"sourceImage":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/global\/images\/centos-7","type":""},"autoDelete":true,"boot":true,"source":"","mode":"","interface":"","disk_type":"PERSISTENT","type":""}],"metadata":{"items":[{"type":"","value":"centos:ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDMGAS\/K0Mb\/uwFXwD+hkjguy7VMZk2hpuhwPl9FUZwVBrURf\/i9QMJ5\/paPEZixu8VlRx7Inu4iun7rQfrnfeIYInmBwspXHYiTK3oHJAgZnrAHVEf1p6YaxLINlT1NI5yOAGPRWW6of8rBDBH1ObwU2+wcSx\/1H0uIs3aZNLufr+Rh628ACxAum2Gt8AVRj6ua2BPFyt5VTdclyysAmeh1AiixNgOZXOz6y\/i4TbzpY78I3isuKpxsUeXX6jxEMQol406jHDUF6njEOPIQG2zVZ3QJlTG9OlN+NiyZG9WkZz0VG\/6M8ixxIHHI2dNwUbBFv2HUu+8X9LTLFq2O7KjX9Hp7uZKBAySHA3eKaKHIp2bZuU1bT5PRPkggngX86xg+T+OMNnutbAiMnRJ8+FvD5So+5TIx4b9GgxAxure3x2yRPT9lOiQOB+CVpJPxR0Rn9bOI+wiPnD0kAGvK\/fHT+pqL4PM+hTnJtp9rrCRzIQApBx1263jEcYffhW2epZQRO+he5CMawFJ5TBe08om2AaDJ8GQdrpF6YA3W8DzHbmL3DPVVHdmqPLn10o+LX4gv5SdIIDVGdjKOc1BCnLTRmM28d5+sLDt\/M+kvcQgf0y0yDjMVjGECZkt39hbm4ELMHzZtzYLmHNhBZxRqHeJ7qFTuv1kx88OW3Xc5mbBNQ== centos@nutanix.com","key":"ssh-keys"}],"type":"","fingerprint":""},"sshKeys":["centos:ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDMGAS\/K0Mb\/uwFXwD+hkjguy7VMZk2hpuhwPl9FUZwVBrURf\/i9QMJ5\/paPEZixu8VlRx7Inu4iun7rQfrnfeIYInmBwspXHYiTK3oHJAgZnrAHVEf1p6YaxLINlT1NI5yOAGPRWW6of8rBDBH1ObwU2+wcSx\/1H0uIs3aZNLufr+Rh628ACxAum2Gt8AVRj6ua2BPFyt5VTdclyysAmeh1AiixNgOZXOz6y\/i4TbzpY78I3isuKpxsUeXX6jxEMQol406jHDUF6njEOPIQG2zVZ3QJlTG9OlN+NiyZG9WkZz0VG\/6M8ixxIHHI2dNwUbBFv2HUu+8X9LTLFq2O7KjX9Hp7uZKBAySHA3eKaKHIp2bZuU1bT5PRPkggngX86xg+T+OMNnutbAiMnRJ8+FvD5So+5TIx4b9GgxAxure3x2yRPT9lOiQOB+CVpJPxR0Rn9bOI+wiPnD0kAGvK\/fHT+pqL4PM+hTnJtp9rrCRzIQApBx1263jEcYffhW2epZQRO+he5CMawFJ5TBe08om2AaDJ8GQdrpF6YA3W8DzHbmL3DPVVHdmqPLn10o+LX4gv5SdIIDVGdjKOc1BCnLTRmM28d5+sLDt\/M+kvcQgf0y0yDjMVjGECZkt39hbm4ELMHzZtzYLmHNhBZxRqHeJ7qFTuv1kx88OW3Xc5mbBNQ== centos@nutanix.com\n"],"minCpuPlatform":"","scheduling":{"automaticRestart":true,"type":"","preemptible":false,"onHostMaintenance":"TERMINATE"},"canIpForward":false,"blankDisks":[{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-slave-dev-0-@@{calm_time}@@","sizeGb":50,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-slave-dev-1-@@{calm_time}@@","sizeGb":50,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-slave-dev-2-@@{calm_time}@@","sizeGb":50,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-slave-dev-3-@@{calm_time}@@","sizeGb":50,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-slave-dev-4-@@{calm_time}@@","sizeGb":25,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-slave-dev-5-@@{calm_time}@@","sizeGb":25,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-slave-dev-6-@@{calm_time}@@","sizeGb":25,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-slave-dev-7-@@{calm_time}@@","sizeGb":25,"autoDelete":true}],"networkInterfaces":[{"aliasIpRanges":[],"network":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/global\/networks\/default","accessConfigs":[{"config_type":"ONE_TO_ONE_NAT","type":"","name":"slave-default-acn","natIP":""}],"networkIP":"","subnetwork":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/regions\/us-central1\/subnetworks\/default","type":"","associatePublicIP":true}],"type":"","account_uuid":"84213a31-4fe8-7e39-3799-e093e5d0dc2e","serviceAccounts":[{"scopes":["https:\/\/www.googleapis.com\/auth\/cloud-platform"],"type":"","email":""}],"name":"mysql-slave-@@{calm_array_index}@@-@@{calm_time}@@"}},"variable_list":[],"name":"GCPSlave"},{"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"eefb34df-6cba-4d9e-9d7e-dd18f0088212","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AzureMaster","uuid":"e4ca30de-9aef-4f99-9e43-a5397e5782c0"},"retries":"0","description":"","type":"DAG","uuid":"a4434796-7c73-4153-92bd-992b0655a16e","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Azure_Provision_e4ca30de_9aef_4f99_9e43_a5397e5782c0","uuid":"50ac74c3-4164-428c-bd42-a50df261ad6f"},{"kind":"app_task","name":"SYS_GEN__check_login_for_AzureMaster_e4ca30de_9aef_4f99_9e43_a5397e5782c0","uuid":"2546588a-5c8b-40ce-9e09-c2239ea40364"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Azure_Provision_e4ca30de_9aef_4f99_9e43_a5397e5782c0","uuid":"50ac74c3-4164-428c-bd42-a50df261ad6f"},"edge_type":"inherent","type":"","uuid":"c8f78a86-0032-4f7e-b5fb-11790a918d39","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_AzureMaster_e4ca30de_9aef_4f99_9e43_a5397e5782c0","uuid":"2546588a-5c8b-40ce-9e09-c2239ea40364"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_e4ca30de_9aef_4f99_9e43_a5397e5782c0"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureMaster","uuid":"e4ca30de-9aef-4f99-9e43-a5397e5782c0"},"retries":"0","description":"","type":"PROVISION_AZURE_VM","uuid":"50ac74c3-4164-428c-bd42-a50df261ad6f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"PROVISION_AZURE_VM","name":"","resources":{"vm_name":"mysql-master-@@{calm_unique_hash}@@-@@{calm_array_index}@@","storage_profile":{"is_managed":true,"image_details":{"sku":"7.4","publisher":"OpenLogic","offer":"CentOS-HPC","source_image_id":"","use_custom_image":false,"version":"7.4.20180719","type":""},"type":"","os_disk_details":{"size_in_gb":127,"name":"os-@@{calm_unique_hash}@@-@@{calm_array_index}@@-disk","storage_name":"","storage_type":"Standard_LRS","lun":-1,"type":"","create_option":"FromImage","caching_type":"ReadWrite"},"data_disk_list":[]},"nw_profile":{"nic_list":[{"nsg_name":"nutanix-test-sg","vnet_name":"NUTANIX-vnet","private_ip_info":{"ip_address":"","ip_allocation_method":"Dynamic","type":""},"nic_name":"nic-@@{calm_unique_hash}@@-@@{calm_array_index}@@-0","subnet_name":"default","type":"","public_ip_info":{"ip_name":"public-ip-@@{calm_unique_hash}@@-@@{calm_array_index}@@-0","dns_label":"dns-@@{calm_unique_hash}@@-@@{calm_array_index}@@-0","ip_allocation_method":"Dynamic","type":""}}],"primary_nic":-1,"type":""},"resource_group":"NUTANIX","os_profile":{"secrets":[],"type":"","windows_config":{"winrm_listeners":[],"time_zone":"","additional_unattend_content":[],"provision_vm_agent":true,"auto_updates":false,"type":""},"linux_config":{"disable_password_auth":false,"custom_data":"","type":"","public_keys":[]}},"hw_profile":{"max_data_disk_count":4,"vm_size":"Standard_DS1_v2","type":""},"location":"eastus","availability_set_id":"\/subscriptions\/6b1ac087-d237-4e42-89bf-e136161f2654\/resourceGroups\/NUTANIX\/providers\/Microsoft.Compute\/availabilitySets\/TestAvailabilitySet1","tag_list":[],"type":"","account_uuid":"3c0f2d94-878c-f34c-6d39-90b854129782"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Azure_Provision_e4ca30de_9aef_4f99_9e43_a5397e5782c0"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureMaster","uuid":"e4ca30de-9aef-4f99-9e43-a5397e5782c0"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"2546588a-5c8b-40ce-9e09-c2239ea40364","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"300","address":"@@{platform.publicIPAddressList[0]}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_AzureMaster_e4ca30de_9aef_4f99_9e43_a5397e5782c0"}],"description":"","message_list":[],"uuid":"e584cab2-abb4-41ae-a7d2-3259cb07d3ee","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_e4ca30de_9aef_4f99_9e43_a5397e5782c0","uuid":"a4434796-7c73-4153-92bd-992b0655a16e"},"name":"SYS_GEN__Runbook_Substrate_e4ca30de_9aef_4f99_9e43_a5397e5782c0"}},{"description":"System action for powering on an application","message_list":[],"uuid":"e6f2a16a-aa75-4ccf-a4a3-c1a4c3465f89","name":"action_poweron","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AzureMaster","uuid":"e4ca30de-9aef-4f99-9e43-a5397e5782c0"},"retries":"0","description":"","type":"DAG","uuid":"b09d3ef5-9120-4fd6-a61b-96d6752f1cb7","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Azure_Operation_PowerOn_e4ca30de_9aef_4f99_9e43_a5397e5782c0","uuid":"b485460e-cc9b-4a14-ab12-cb315be7afd1"},{"kind":"app_task","name":"SYS_GEN__check_login_for_AzureMaster_e4ca30de_9aef_4f99_9e43_a5397e5782c0","uuid":"f72272c4-2d5f-4610-9da6-46c875c0d7c0"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Azure_Operation_PowerOn_e4ca30de_9aef_4f99_9e43_a5397e5782c0","uuid":"b485460e-cc9b-4a14-ab12-cb315be7afd1"},"edge_type":"inherent","type":"","uuid":"8b94b3b4-07de-44ee-87d4-2e4e58b50145","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_AzureMaster_e4ca30de_9aef_4f99_9e43_a5397e5782c0","uuid":"f72272c4-2d5f-4610-9da6-46c875c0d7c0"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_e4ca30de_9aef_4f99_9e43_a5397e5782c0"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureMaster","uuid":"e4ca30de-9aef-4f99-9e43-a5397e5782c0"},"retries":"0","description":"","type":"VMOPERATION_AZURE_VM","uuid":"b485460e-cc9b-4a14-ab12-cb315be7afd1","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Azure_Operation_PowerOn_e4ca30de_9aef_4f99_9e43_a5397e5782c0"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureMaster","uuid":"e4ca30de-9aef-4f99-9e43-a5397e5782c0"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"f72272c4-2d5f-4610-9da6-46c875c0d7c0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"300","address":"@@{platform.publicIPAddressList[0]}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_AzureMaster_e4ca30de_9aef_4f99_9e43_a5397e5782c0"}],"description":"","message_list":[],"uuid":"bb308f22-3744-4895-9cdc-bd6bbf792008","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_e4ca30de_9aef_4f99_9e43_a5397e5782c0","uuid":"b09d3ef5-9120-4fd6-a61b-96d6752f1cb7"},"name":"SYS_GEN__Runbook_Substrate_e4ca30de_9aef_4f99_9e43_a5397e5782c0"}},{"description":"System action for restarting an application","message_list":[],"uuid":"9f97e679-9a30-4fb8-9016-9c7abd4bfe30","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AzureMaster","uuid":"e4ca30de-9aef-4f99-9e43-a5397e5782c0"},"retries":"0","description":"","type":"DAG","uuid":"b71f4c0e-83e1-4fc0-bd55-3f20991dfecf","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Azure_Operation_Restarte4ca30de_9aef_4f99_9e43_a5397e5782c0","uuid":"f06cedc9-b63d-4355-8d39-63c40bcc566b"},{"kind":"app_task","name":"SYS_GEN__check_login_for_AzureMaster_e4ca30de_9aef_4f99_9e43_a5397e5782c0","uuid":"2f90a252-de10-46da-8145-05a32cb631ee"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Azure_Operation_Restarte4ca30de_9aef_4f99_9e43_a5397e5782c0","uuid":"f06cedc9-b63d-4355-8d39-63c40bcc566b"},"edge_type":"inherent","type":"","uuid":"4ced8b94-0c91-4eee-ae22-4a2584d28f16","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_AzureMaster_e4ca30de_9aef_4f99_9e43_a5397e5782c0","uuid":"2f90a252-de10-46da-8145-05a32cb631ee"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_e4ca30de_9aef_4f99_9e43_a5397e5782c0"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureMaster","uuid":"e4ca30de-9aef-4f99-9e43-a5397e5782c0"},"retries":"0","description":"","type":"VMOPERATION_AZURE_VM","uuid":"f06cedc9-b63d-4355-8d39-63c40bcc566b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Azure_Operation_Restarte4ca30de_9aef_4f99_9e43_a5397e5782c0"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureMaster","uuid":"e4ca30de-9aef-4f99-9e43-a5397e5782c0"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"2f90a252-de10-46da-8145-05a32cb631ee","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"300","address":"@@{platform.publicIPAddressList[0]}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_AzureMaster_e4ca30de_9aef_4f99_9e43_a5397e5782c0"}],"description":"","message_list":[],"uuid":"bfc1cd38-db08-4279-80b0-a88e6d5bb3b1","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_e4ca30de_9aef_4f99_9e43_a5397e5782c0","uuid":"b71f4c0e-83e1-4fc0-bd55-3f20991dfecf"},"name":"SYS_GEN__Runbook_Substrate_e4ca30de_9aef_4f99_9e43_a5397e5782c0"}},{"description":"System action for suspending an application","message_list":[],"uuid":"a4f375af-65c9-4f28-ad2a-9dec5e3c496d","name":"action_suspend","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AzureMaster","uuid":"e4ca30de-9aef-4f99-9e43-a5397e5782c0"},"retries":"0","description":"","type":"DAG","uuid":"63626f05-eeea-423a-9232-e1740c66b228","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_e4ca30de_9aef_4f99_9e43_a5397e5782c0"}],"description":"","message_list":[],"uuid":"ff73b7a4-fb88-4239-a8f7-5706010d5b5e","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_e4ca30de_9aef_4f99_9e43_a5397e5782c0","uuid":"63626f05-eeea-423a-9232-e1740c66b228"},"name":"SYS_GEN__Runbook_Substrate_e4ca30de_9aef_4f99_9e43_a5397e5782c0"}},{"description":"System action for modifying an application","message_list":[],"uuid":"dc55ff4b-5695-4274-92de-c297ae1de217","name":"action_modify","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AzureMaster","uuid":"e4ca30de-9aef-4f99-9e43-a5397e5782c0"},"retries":"0","description":"","type":"DAG","uuid":"72a976b5-b7b6-4ab7-abf8-bc4f21b158c4","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_e4ca30de_9aef_4f99_9e43_a5397e5782c0"}],"description":"","message_list":[],"uuid":"91dc5356-fc16-492c-8e5e-13c96fe59f0a","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_e4ca30de_9aef_4f99_9e43_a5397e5782c0","uuid":"72a976b5-b7b6-4ab7-abf8-bc4f21b158c4"},"name":"SYS_GEN__Runbook_Substrate_e4ca30de_9aef_4f99_9e43_a5397e5782c0"}},{"description":"System action for powering off an application","message_list":[],"uuid":"a6ea4d02-2e38-4caf-84ab-d5a27ed422ee","name":"action_poweroff","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AzureMaster","uuid":"e4ca30de-9aef-4f99-9e43-a5397e5782c0"},"retries":"0","description":"","type":"DAG","uuid":"e1f8a234-1c9d-4a43-b044-1baacdb06c44","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Azure_Operation_Poweroff_e4ca30de_9aef_4f99_9e43_a5397e5782c0","uuid":"6a304b8b-31b8-4c93-8ee6-4808c0c53467"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_e4ca30de_9aef_4f99_9e43_a5397e5782c0"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureMaster","uuid":"e4ca30de-9aef-4f99-9e43-a5397e5782c0"},"retries":"0","description":"","type":"VMOPERATION_AZURE_VM","uuid":"6a304b8b-31b8-4c93-8ee6-4808c0c53467","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Azure_Operation_Poweroff_e4ca30de_9aef_4f99_9e43_a5397e5782c0"}],"description":"","message_list":[],"uuid":"cd879ac7-ba63-4d1e-877f-ba1112d147f8","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_e4ca30de_9aef_4f99_9e43_a5397e5782c0","uuid":"e1f8a234-1c9d-4a43-b044-1baacdb06c44"},"name":"SYS_GEN__Runbook_Substrate_e4ca30de_9aef_4f99_9e43_a5397e5782c0"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"ce3efbb3-cfdb-4793-b122-970913159367","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AzureMaster","uuid":"e4ca30de-9aef-4f99-9e43-a5397e5782c0"},"retries":"0","description":"","type":"DAG","uuid":"0a3ec144-4ce9-4ad1-9faa-e804e950e62d","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Azure_Delete_e4ca30de_9aef_4f99_9e43_a5397e5782c0","uuid":"5aaa7868-b115-4445-b95a-4d697f94b525"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_e4ca30de_9aef_4f99_9e43_a5397e5782c0"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureMaster","uuid":"e4ca30de-9aef-4f99-9e43-a5397e5782c0"},"retries":"0","description":"","type":"DELETE_AZURE_VM","uuid":"5aaa7868-b115-4445-b95a-4d697f94b525","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Azure_Delete_e4ca30de_9aef_4f99_9e43_a5397e5782c0"}],"description":"","message_list":[],"uuid":"15571c03-6f15-4783-9ea0-76df1aaef49a","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_e4ca30de_9aef_4f99_9e43_a5397e5782c0","uuid":"0a3ec144-4ce9-4ad1-9faa-e804e950e62d"},"name":"SYS_GEN__Runbook_Substrate_e4ca30de_9aef_4f99_9e43_a5397e5782c0"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"7f455c8b-49e3-4ab3-a52c-fa843a6ac047","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AzureMaster","uuid":"e4ca30de-9aef-4f99-9e43-a5397e5782c0"},"retries":"0","description":"","type":"DAG","uuid":"bace4b2a-4f75-453f-ad31-6f255a1990dc","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Substrate_Element_Delete_e4ca30de_9aef_4f99_9e43_a5397e5782c0","uuid":"17bb8e73-63aa-4766-88b8-8cda2cc012e4"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_e4ca30de_9aef_4f99_9e43_a5397e5782c0"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureMaster","uuid":"e4ca30de-9aef-4f99-9e43-a5397e5782c0"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"17bb8e73-63aa-4766-88b8-8cda2cc012e4","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Substrate_Element_Delete_e4ca30de_9aef_4f99_9e43_a5397e5782c0"}],"description":"","message_list":[],"uuid":"fb212e46-2ac7-420e-b3b3-f8652018efbe","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_e4ca30de_9aef_4f99_9e43_a5397e5782c0","uuid":"bace4b2a-4f75-453f-ad31-6f255a1990dc"},"name":"SYS_GEN__Runbook_Substrate_e4ca30de_9aef_4f99_9e43_a5397e5782c0"}}],"message_list":[],"uuid":"e4ca30de-9aef-4f99-9e43-a5397e5782c0","state":"ACTIVE","readiness_probe":{"connection_type":"SSH","retries":"5","disable_readiness_probe":false,"address":"@@{platform.publicIPAddressList[0]}@@","delay_secs":"60","connection_port":22,"login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"editables":{"readiness_probe":{"connection_type":true,"delay_secs":true,"connection_port":true,"timeout_secs":null},"create_spec":{"resources":{"vm_name":true,"storage_profile":{"is_managed":true,"image_details":{"sku":true,"publisher":true,"offer":true,"version":true,"use_custom_image":true},"os_disk_details":{"storage_type":true,"create_option":true,"caching_type":true,"name":true}},"nw_profile":{"nic_list":{"0":{"nsg_name":true,"vnet_name":true,"private_ip_info":{"ip_allocation_method":true},"nic_name":true,"subnet_name":true,"public_ip_info":{"ip_allocation_method":true,"dns_label":true,"ip_name":true}}}},"resource_group":true,"os_profile":{"linux_config":{"custom_data":true}},"hw_profile":{"vm_size":true},"location":true,"availability_set_id":true,"tag_list":true}}},"os_type":"Linux","type":"AZURE_VM","create_spec":{"type":"PROVISION_AZURE_VM","name":"","resources":{"vm_name":"mysql-master-@@{calm_unique_hash}@@-@@{calm_array_index}@@","storage_profile":{"is_managed":true,"image_details":{"sku":"7.4","publisher":"OpenLogic","offer":"CentOS-HPC","source_image_id":"","use_custom_image":false,"version":"7.4.20180719","type":""},"type":"","os_disk_details":{"size_in_gb":127,"name":"os-@@{calm_unique_hash}@@-@@{calm_array_index}@@-disk","storage_name":"","storage_type":"Standard_LRS","lun":-1,"type":"","create_option":"FromImage","caching_type":"ReadWrite"},"data_disk_list":[]},"nw_profile":{"nic_list":[{"nsg_name":"nutanix-test-sg","vnet_name":"NUTANIX-vnet","private_ip_info":{"ip_address":"","ip_allocation_method":"Dynamic","type":""},"nic_name":"nic-@@{calm_unique_hash}@@-@@{calm_array_index}@@-0","subnet_name":"default","type":"","public_ip_info":{"ip_name":"public-ip-@@{calm_unique_hash}@@-@@{calm_array_index}@@-0","dns_label":"dns-@@{calm_unique_hash}@@-@@{calm_array_index}@@-0","ip_allocation_method":"Dynamic","type":""}}],"primary_nic":-1,"type":""},"resource_group":"NUTANIX","os_profile":{"secrets":[],"type":"","windows_config":{"winrm_listeners":[],"time_zone":"","additional_unattend_content":[],"provision_vm_agent":true,"auto_updates":false,"type":""},"linux_config":{"disable_password_auth":false,"custom_data":"","type":"","public_keys":[]}},"hw_profile":{"max_data_disk_count":4,"vm_size":"Standard_DS1_v2","type":""},"location":"eastus","availability_set_id":"\/subscriptions\/6b1ac087-d237-4e42-89bf-e136161f2654\/resourceGroups\/NUTANIX\/providers\/Microsoft.Compute\/availabilitySets\/TestAvailabilitySet1","tag_list":[],"type":"","account_uuid":"3c0f2d94-878c-f34c-6d39-90b854129782"}},"variable_list":[],"name":"AzureMaster"},{"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"7e398b45-140c-4bf1-9274-3b645d26ce52","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AzureSlave","uuid":"923f313b-a051-46c9-85d0-1beb4ed96b2c"},"retries":"0","description":"","type":"DAG","uuid":"c03a6e11-eaf5-497f-b3ad-8f1e418a62e3","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Azure_Provision_923f313b_a051_46c9_85d0_1beb4ed96b2c","uuid":"450fea40-5474-427f-b72f-e3a028c43beb"},{"kind":"app_task","name":"SYS_GEN__check_login_for_AzureSlave_923f313b_a051_46c9_85d0_1beb4ed96b2c","uuid":"031800e4-ad93-4e7a-88be-850d129a7d2f"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Azure_Provision_923f313b_a051_46c9_85d0_1beb4ed96b2c","uuid":"450fea40-5474-427f-b72f-e3a028c43beb"},"edge_type":"inherent","type":"","uuid":"dd15d1f6-baed-41f4-b536-02166906b752","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_AzureSlave_923f313b_a051_46c9_85d0_1beb4ed96b2c","uuid":"031800e4-ad93-4e7a-88be-850d129a7d2f"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_923f313b_a051_46c9_85d0_1beb4ed96b2c"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureSlave","uuid":"923f313b-a051-46c9-85d0-1beb4ed96b2c"},"retries":"0","description":"","type":"PROVISION_AZURE_VM","uuid":"450fea40-5474-427f-b72f-e3a028c43beb","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"PROVISION_AZURE_VM","name":"","resources":{"vm_name":"mysql-slave-@@{calm_unique_hash}@@-@@{calm_array_index}@@","storage_profile":{"is_managed":true,"image_details":{"sku":"7.4","publisher":"OpenLogic","offer":"CentOS-HPC","source_image_id":"","use_custom_image":false,"version":"7.4.20180719","type":""},"type":"","os_disk_details":{"size_in_gb":127,"name":"os-@@{calm_unique_hash}@@-@@{calm_array_index}@@-disk","storage_name":"","storage_type":"Standard_LRS","lun":-1,"type":"","create_option":"FromImage","caching_type":"ReadWrite"},"data_disk_list":[]},"nw_profile":{"nic_list":[{"nsg_name":"nutanix-test-sg","vnet_name":"NUTANIX-vnet","private_ip_info":{"ip_address":"","ip_allocation_method":"Dynamic","type":""},"nic_name":"nic-@@{calm_unique_hash}@@-@@{calm_array_index}@@-0","subnet_name":"default","type":"","public_ip_info":{"ip_name":"public-ip-@@{calm_unique_hash}@@-@@{calm_array_index}@@-0","dns_label":"dns-@@{calm_unique_hash}@@-@@{calm_array_index}@@-0","ip_allocation_method":"Dynamic","type":""}}],"primary_nic":-1,"type":""},"resource_group":"NUTANIX","os_profile":{"secrets":[],"type":"","windows_config":{"winrm_listeners":[],"time_zone":"","additional_unattend_content":[],"provision_vm_agent":true,"auto_updates":false,"type":""},"linux_config":{"disable_password_auth":false,"custom_data":"","type":"","public_keys":[]}},"hw_profile":{"max_data_disk_count":4,"vm_size":"Standard_DS1_v2","type":""},"location":"eastus","availability_set_id":"\/subscriptions\/6b1ac087-d237-4e42-89bf-e136161f2654\/resourceGroups\/NUTANIX\/providers\/Microsoft.Compute\/availabilitySets\/TestAvailabilitySet1","tag_list":[],"type":"","account_uuid":"3c0f2d94-878c-f34c-6d39-90b854129782"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Azure_Provision_923f313b_a051_46c9_85d0_1beb4ed96b2c"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureSlave","uuid":"923f313b-a051-46c9-85d0-1beb4ed96b2c"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"031800e4-ad93-4e7a-88be-850d129a7d2f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"300","address":"@@{platform.publicIPAddressList[0]}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_AzureSlave_923f313b_a051_46c9_85d0_1beb4ed96b2c"}],"description":"","message_list":[],"uuid":"cd7f2244-129e-4740-a6b0-3fa262dcac45","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_923f313b_a051_46c9_85d0_1beb4ed96b2c","uuid":"c03a6e11-eaf5-497f-b3ad-8f1e418a62e3"},"name":"SYS_GEN__Runbook_Substrate_923f313b_a051_46c9_85d0_1beb4ed96b2c"}},{"description":"System action for powering on an application","message_list":[],"uuid":"e9ed7afa-c381-4777-942f-6ca3c683212d","name":"action_poweron","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AzureSlave","uuid":"923f313b-a051-46c9-85d0-1beb4ed96b2c"},"retries":"0","description":"","type":"DAG","uuid":"d9b5048d-1ce0-40e7-8565-2a3b7693d5b9","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Azure_Operation_PowerOn_923f313b_a051_46c9_85d0_1beb4ed96b2c","uuid":"b88869eb-d1f2-4b25-b926-f75d7e2569e4"},{"kind":"app_task","name":"SYS_GEN__check_login_for_AzureSlave_923f313b_a051_46c9_85d0_1beb4ed96b2c","uuid":"927493d0-b5ad-4ceb-b94b-6402fb0dc1ec"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Azure_Operation_PowerOn_923f313b_a051_46c9_85d0_1beb4ed96b2c","uuid":"b88869eb-d1f2-4b25-b926-f75d7e2569e4"},"edge_type":"inherent","type":"","uuid":"2a0743e6-bf7d-44e2-960d-0325a8fbff35","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_AzureSlave_923f313b_a051_46c9_85d0_1beb4ed96b2c","uuid":"927493d0-b5ad-4ceb-b94b-6402fb0dc1ec"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_923f313b_a051_46c9_85d0_1beb4ed96b2c"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureSlave","uuid":"923f313b-a051-46c9-85d0-1beb4ed96b2c"},"retries":"0","description":"","type":"VMOPERATION_AZURE_VM","uuid":"b88869eb-d1f2-4b25-b926-f75d7e2569e4","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Azure_Operation_PowerOn_923f313b_a051_46c9_85d0_1beb4ed96b2c"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureSlave","uuid":"923f313b-a051-46c9-85d0-1beb4ed96b2c"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"927493d0-b5ad-4ceb-b94b-6402fb0dc1ec","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"300","address":"@@{platform.publicIPAddressList[0]}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_AzureSlave_923f313b_a051_46c9_85d0_1beb4ed96b2c"}],"description":"","message_list":[],"uuid":"2ff95431-0c63-4458-8a21-f9c12aea7877","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_923f313b_a051_46c9_85d0_1beb4ed96b2c","uuid":"d9b5048d-1ce0-40e7-8565-2a3b7693d5b9"},"name":"SYS_GEN__Runbook_Substrate_923f313b_a051_46c9_85d0_1beb4ed96b2c"}},{"description":"System action for restarting an application","message_list":[],"uuid":"a49b1437-e03c-4a31-9d13-5ac74c49f377","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AzureSlave","uuid":"923f313b-a051-46c9-85d0-1beb4ed96b2c"},"retries":"0","description":"","type":"DAG","uuid":"870e9d87-d7c3-4686-84a8-71bac750377b","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Azure_Operation_Restart923f313b_a051_46c9_85d0_1beb4ed96b2c","uuid":"b27542f4-0281-49e3-b937-ae42a3296c7d"},{"kind":"app_task","name":"SYS_GEN__check_login_for_AzureSlave_923f313b_a051_46c9_85d0_1beb4ed96b2c","uuid":"e99b6d04-769d-45a4-90a4-521512e7ce2a"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Azure_Operation_Restart923f313b_a051_46c9_85d0_1beb4ed96b2c","uuid":"b27542f4-0281-49e3-b937-ae42a3296c7d"},"edge_type":"inherent","type":"","uuid":"b0ccab58-8acd-4f57-be07-366ace9281e9","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_AzureSlave_923f313b_a051_46c9_85d0_1beb4ed96b2c","uuid":"e99b6d04-769d-45a4-90a4-521512e7ce2a"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_923f313b_a051_46c9_85d0_1beb4ed96b2c"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureSlave","uuid":"923f313b-a051-46c9-85d0-1beb4ed96b2c"},"retries":"0","description":"","type":"VMOPERATION_AZURE_VM","uuid":"b27542f4-0281-49e3-b937-ae42a3296c7d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Azure_Operation_Restart923f313b_a051_46c9_85d0_1beb4ed96b2c"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureSlave","uuid":"923f313b-a051-46c9-85d0-1beb4ed96b2c"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"e99b6d04-769d-45a4-90a4-521512e7ce2a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"300","address":"@@{platform.publicIPAddressList[0]}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_AzureSlave_923f313b_a051_46c9_85d0_1beb4ed96b2c"}],"description":"","message_list":[],"uuid":"770e890c-6844-4048-bc1c-405f55b616ce","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_923f313b_a051_46c9_85d0_1beb4ed96b2c","uuid":"870e9d87-d7c3-4686-84a8-71bac750377b"},"name":"SYS_GEN__Runbook_Substrate_923f313b_a051_46c9_85d0_1beb4ed96b2c"}},{"description":"System action for suspending an application","message_list":[],"uuid":"928d86b0-0fb3-405c-8c47-8d37307640c8","name":"action_suspend","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AzureSlave","uuid":"923f313b-a051-46c9-85d0-1beb4ed96b2c"},"retries":"0","description":"","type":"DAG","uuid":"906604c5-395f-4955-ae3c-dfc0ff5d2ebd","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_923f313b_a051_46c9_85d0_1beb4ed96b2c"}],"description":"","message_list":[],"uuid":"67a38d7f-d093-452a-8527-e8dec4b910bd","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_923f313b_a051_46c9_85d0_1beb4ed96b2c","uuid":"906604c5-395f-4955-ae3c-dfc0ff5d2ebd"},"name":"SYS_GEN__Runbook_Substrate_923f313b_a051_46c9_85d0_1beb4ed96b2c"}},{"description":"System action for modifying an application","message_list":[],"uuid":"1a8aa69d-f1c0-49e3-88ad-17535a743aab","name":"action_modify","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AzureSlave","uuid":"923f313b-a051-46c9-85d0-1beb4ed96b2c"},"retries":"0","description":"","type":"DAG","uuid":"61742a22-c212-4ad0-8aef-2de742699c82","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_923f313b_a051_46c9_85d0_1beb4ed96b2c"}],"description":"","message_list":[],"uuid":"f8328525-15b6-4484-b179-927e62b611f6","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_923f313b_a051_46c9_85d0_1beb4ed96b2c","uuid":"61742a22-c212-4ad0-8aef-2de742699c82"},"name":"SYS_GEN__Runbook_Substrate_923f313b_a051_46c9_85d0_1beb4ed96b2c"}},{"description":"System action for powering off an application","message_list":[],"uuid":"4dc48c8b-7866-44fb-9290-1c4c79f5ff64","name":"action_poweroff","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AzureSlave","uuid":"923f313b-a051-46c9-85d0-1beb4ed96b2c"},"retries":"0","description":"","type":"DAG","uuid":"84a61f6a-6b50-4136-9f9c-7b33fb79ea3a","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Azure_Operation_Poweroff_923f313b_a051_46c9_85d0_1beb4ed96b2c","uuid":"8a843db8-c0da-415a-a0d1-5d13fb2ebd00"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_923f313b_a051_46c9_85d0_1beb4ed96b2c"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureSlave","uuid":"923f313b-a051-46c9-85d0-1beb4ed96b2c"},"retries":"0","description":"","type":"VMOPERATION_AZURE_VM","uuid":"8a843db8-c0da-415a-a0d1-5d13fb2ebd00","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Azure_Operation_Poweroff_923f313b_a051_46c9_85d0_1beb4ed96b2c"}],"description":"","message_list":[],"uuid":"1bb8d5c4-a757-493b-ab7b-ba80c39a7903","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_923f313b_a051_46c9_85d0_1beb4ed96b2c","uuid":"84a61f6a-6b50-4136-9f9c-7b33fb79ea3a"},"name":"SYS_GEN__Runbook_Substrate_923f313b_a051_46c9_85d0_1beb4ed96b2c"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"92be16f8-17f1-4615-a518-d5e062c1517a","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AzureSlave","uuid":"923f313b-a051-46c9-85d0-1beb4ed96b2c"},"retries":"0","description":"","type":"DAG","uuid":"44ef36d9-30ab-42fc-9bf6-56b497e0f611","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Azure_Delete_923f313b_a051_46c9_85d0_1beb4ed96b2c","uuid":"37c4ed9d-c286-4715-b36c-492ade521224"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_923f313b_a051_46c9_85d0_1beb4ed96b2c"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureSlave","uuid":"923f313b-a051-46c9-85d0-1beb4ed96b2c"},"retries":"0","description":"","type":"DELETE_AZURE_VM","uuid":"37c4ed9d-c286-4715-b36c-492ade521224","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Azure_Delete_923f313b_a051_46c9_85d0_1beb4ed96b2c"}],"description":"","message_list":[],"uuid":"8656ce04-7f0f-4c9e-9cae-a2f46af9d88f","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_923f313b_a051_46c9_85d0_1beb4ed96b2c","uuid":"44ef36d9-30ab-42fc-9bf6-56b497e0f611"},"name":"SYS_GEN__Runbook_Substrate_923f313b_a051_46c9_85d0_1beb4ed96b2c"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"cad0a4e6-8901-4d97-8c86-3bddfa8bc8d1","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AzureSlave","uuid":"923f313b-a051-46c9-85d0-1beb4ed96b2c"},"retries":"0","description":"","type":"DAG","uuid":"c35c987c-4a45-40c3-bfc7-d3428c339b21","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Substrate_Element_Delete_923f313b_a051_46c9_85d0_1beb4ed96b2c","uuid":"89ef20b3-d99c-46b3-9f0c-0373543c2c05"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_923f313b_a051_46c9_85d0_1beb4ed96b2c"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureSlave","uuid":"923f313b-a051-46c9-85d0-1beb4ed96b2c"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"89ef20b3-d99c-46b3-9f0c-0373543c2c05","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Substrate_Element_Delete_923f313b_a051_46c9_85d0_1beb4ed96b2c"}],"description":"","message_list":[],"uuid":"0c983dbe-108f-414c-a248-a2172d0aac6a","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_923f313b_a051_46c9_85d0_1beb4ed96b2c","uuid":"c35c987c-4a45-40c3-bfc7-d3428c339b21"},"name":"SYS_GEN__Runbook_Substrate_923f313b_a051_46c9_85d0_1beb4ed96b2c"}}],"message_list":[],"uuid":"923f313b-a051-46c9-85d0-1beb4ed96b2c","state":"ACTIVE","readiness_probe":{"connection_type":"SSH","retries":"5","disable_readiness_probe":false,"address":"@@{platform.publicIPAddressList[0]}@@","delay_secs":"60","connection_port":22,"login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"editables":{"readiness_probe":{"connection_type":true,"delay_secs":true,"connection_port":true,"timeout_secs":null},"create_spec":{"resources":{"vm_name":true,"storage_profile":{"is_managed":true,"image_details":{"sku":true,"publisher":true,"offer":true,"version":true,"use_custom_image":true},"os_disk_details":{"storage_type":true,"create_option":true,"caching_type":true,"name":true}},"nw_profile":{"nic_list":{"0":{"nsg_name":true,"vnet_name":true,"private_ip_info":{"ip_allocation_method":true},"nic_name":true,"subnet_name":true,"public_ip_info":{"ip_allocation_method":true,"dns_label":true,"ip_name":true}}}},"resource_group":true,"os_profile":{"linux_config":{"custom_data":true}},"hw_profile":{"vm_size":true},"location":true,"availability_set_id":true,"tag_list":true}}},"os_type":"Linux","type":"AZURE_VM","create_spec":{"type":"PROVISION_AZURE_VM","name":"","resources":{"vm_name":"mysql-slave-@@{calm_unique_hash}@@-@@{calm_array_index}@@","storage_profile":{"is_managed":true,"image_details":{"sku":"7.4","publisher":"OpenLogic","offer":"CentOS-HPC","source_image_id":"","use_custom_image":false,"version":"7.4.20180719","type":""},"type":"","os_disk_details":{"size_in_gb":127,"name":"os-@@{calm_unique_hash}@@-@@{calm_array_index}@@-disk","storage_name":"","storage_type":"Standard_LRS","lun":-1,"type":"","create_option":"FromImage","caching_type":"ReadWrite"},"data_disk_list":[]},"nw_profile":{"nic_list":[{"nsg_name":"nutanix-test-sg","vnet_name":"NUTANIX-vnet","private_ip_info":{"ip_address":"","ip_allocation_method":"Dynamic","type":""},"nic_name":"nic-@@{calm_unique_hash}@@-@@{calm_array_index}@@-0","subnet_name":"default","type":"","public_ip_info":{"ip_name":"public-ip-@@{calm_unique_hash}@@-@@{calm_array_index}@@-0","dns_label":"dns-@@{calm_unique_hash}@@-@@{calm_array_index}@@-0","ip_allocation_method":"Dynamic","type":""}}],"primary_nic":-1,"type":""},"resource_group":"NUTANIX","os_profile":{"secrets":[],"type":"","windows_config":{"winrm_listeners":[],"time_zone":"","additional_unattend_content":[],"provision_vm_agent":true,"auto_updates":false,"type":""},"linux_config":{"disable_password_auth":false,"custom_data":"","type":"","public_keys":[]}},"hw_profile":{"max_data_disk_count":4,"vm_size":"Standard_DS1_v2","type":""},"location":"eastus","availability_set_id":"\/subscriptions\/6b1ac087-d237-4e42-89bf-e136161f2654\/resourceGroups\/NUTANIX\/providers\/Microsoft.Compute\/availabilitySets\/TestAvailabilitySet1","tag_list":[],"type":"","account_uuid":"3c0f2d94-878c-f34c-6d39-90b854129782"}},"variable_list":[],"name":"AzureSlave"},{"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"4a77b3e0-13a9-4e3a-9b64-30f8d73c7ab9","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareMaster","uuid":"7d3e29ba-e3d9-4356-e47d-3392002f315d"},"retries":"0","description":"","type":"DAG","uuid":"0dabbea6-a49e-47d4-bc13-a797cf5493a9","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Vmware_Provision_7d3e29ba_e3d9_4356_e47d_3392002f315d","uuid":"10c6564b-62cd-4799-bf82-78d008036002"},{"kind":"app_task","name":"SYS_GEN__check_login_for_VmwareMaster_7d3e29ba_e3d9_4356_e47d_3392002f315d","uuid":"c094957b-a6b1-4333-a39d-b2ab25db98df"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Vmware_Provision_7d3e29ba_e3d9_4356_e47d_3392002f315d","uuid":"10c6564b-62cd-4799-bf82-78d008036002"},"edge_type":"inherent","type":"","uuid":"cf63955b-3abe-482b-8f49-955099c88ad9","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_VmwareMaster_7d3e29ba_e3d9_4356_e47d_3392002f315d","uuid":"c094957b-a6b1-4333-a39d-b2ab25db98df"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_7d3e29ba_e3d9_4356_e47d_3392002f315d"},{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareMaster","uuid":"7d3e29ba-e3d9-4356-e47d-3392002f315d"},"retries":"0","description":"","type":"PROVISION_VCENTER","uuid":"10c6564b-62cd-4799-bf82-78d008036002","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"name":"master-@@{calm_array_index}@@-@@{calm_time}@@","storage_pod":"DatastoreCluster","drs_mode":true,"cluster":"Sabine59-Cluster","host":"","clone_is_template":false,"template":"c5df1e7b-d73b-a7c4-17ef-81c1bd0d24fa","datastore":"","type":"PROVISION_VMWARE_VM","resources":{"nic_list":[{"nic_type":"vmxnet3","type":"","net_name":"key-vim.host.PortGroup-VM Network"}],"template_nic_list":[],"template_controller_list":[],"num_vcpus_per_socket":2,"num_sockets":2,"controller_list":[],"memory_size_mib":4096,"power_state":"poweron","guest_customization":{"type":"","cloud_init":"#cloud-config\nusers:\n  - name: centos\n    ssh-authorized-keys:\n      - @@{CENTOS.public_key}@@\n    sudo: ['ALL=(ALL) NOPASSWD:ALL']","linux_data":null,"customization_name":"","customization_type":"GUEST_OS_LINUX","windows_data":null},"template_disk_list":[],"type":"","account_uuid":"7f90399d-ed3d-1c70-447d-17004ef1bd0a","disk_list":[{"disk_size_mb":8192,"disk_mode":"persistent","adapter_type":"SCSI","iso_path":"","location":"ds:\/\/\/vmfs\/volumes\/7b773e05-e06fc970\/","disk_type":"disk","type":""},{"disk_size_mb":8192,"disk_mode":"persistent","adapter_type":"SCSI","iso_path":"","location":"ds:\/\/\/vmfs\/volumes\/7b773e05-e06fc970\/","disk_type":"disk","type":""},{"disk_size_mb":8192,"disk_mode":"persistent","adapter_type":"SCSI","iso_path":"","location":"ds:\/\/\/vmfs\/volumes\/7b773e05-e06fc970\/","disk_type":"disk","type":""},{"disk_size_mb":8192,"disk_mode":"persistent","adapter_type":"SCSI","iso_path":"","location":"ds:\/\/\/vmfs\/volumes\/7b773e05-e06fc970\/","disk_type":"disk","type":""},{"disk_size_mb":8192,"disk_mode":"persistent","adapter_type":"SCSI","iso_path":"","location":"ds:\/\/\/vmfs\/volumes\/7b773e05-e06fc970\/","disk_type":"disk","type":""},{"disk_size_mb":8192,"disk_mode":"persistent","adapter_type":"SCSI","iso_path":"","location":"ds:\/\/\/vmfs\/volumes\/7b773e05-e06fc970\/","disk_type":"disk","type":""},{"disk_size_mb":8192,"disk_mode":"persistent","adapter_type":"SCSI","iso_path":"","location":"ds:\/\/\/vmfs\/volumes\/7b773e05-e06fc970\/","disk_type":"disk","type":""},{"disk_size_mb":8192,"disk_mode":"persistent","adapter_type":"SCSI","iso_path":"","location":"ds:\/\/\/vmfs\/volumes\/7b773e05-e06fc970\/","disk_type":"disk","type":""}]}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Vmware_Provision_7d3e29ba_e3d9_4356_e47d_3392002f315d"},{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareMaster","uuid":"7d3e29ba-e3d9-4356-e47d-3392002f315d"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"c094957b-a6b1-4333-a39d-b2ab25db98df","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"300","address":"@@{platform.ipAddressList[0]}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_VmwareMaster_7d3e29ba_e3d9_4356_e47d_3392002f315d"}],"description":"","message_list":[],"uuid":"89e33d28-9a33-4d32-b01f-ed4e1f31968f","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_7d3e29ba_e3d9_4356_e47d_3392002f315d","uuid":"0dabbea6-a49e-47d4-bc13-a797cf5493a9"},"name":"SYS_GEN__Runbook_Substrate_7d3e29ba_e3d9_4356_e47d_3392002f315d"}},{"description":"System action for powering on an application","message_list":[],"uuid":"b914b7b8-e76c-4a52-b172-1225e396da25","name":"action_poweron","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareMaster","uuid":"7d3e29ba-e3d9-4356-e47d-3392002f315d"},"retries":"0","description":"","type":"DAG","uuid":"f6fb40b9-04e3-455b-8875-100d0932f89c","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Vmware_Operation_PowerOn_7d3e29ba_e3d9_4356_e47d_3392002f315d","uuid":"e0a39180-6794-4e57-b3a8-ebbab6c02126"},{"kind":"app_task","name":"SYS_GEN__check_login_for_VmwareMaster_7d3e29ba_e3d9_4356_e47d_3392002f315d","uuid":"7e892c6e-39db-40fe-b782-1e89be40e5d4"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Vmware_Operation_PowerOn_7d3e29ba_e3d9_4356_e47d_3392002f315d","uuid":"e0a39180-6794-4e57-b3a8-ebbab6c02126"},"edge_type":"inherent","type":"","uuid":"9c6bdce9-1e56-46da-81ab-da6335dcdd75","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_VmwareMaster_7d3e29ba_e3d9_4356_e47d_3392002f315d","uuid":"7e892c6e-39db-40fe-b782-1e89be40e5d4"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_7d3e29ba_e3d9_4356_e47d_3392002f315d"},{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareMaster","uuid":"7d3e29ba-e3d9-4356-e47d-3392002f315d"},"retries":"0","description":"","type":"VMOPERATION_VCENTER","uuid":"e0a39180-6794-4e57-b3a8-ebbab6c02126","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Vmware_Operation_PowerOn_7d3e29ba_e3d9_4356_e47d_3392002f315d"},{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareMaster","uuid":"7d3e29ba-e3d9-4356-e47d-3392002f315d"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"7e892c6e-39db-40fe-b782-1e89be40e5d4","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"300","address":"@@{platform.ipAddressList[0]}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_VmwareMaster_7d3e29ba_e3d9_4356_e47d_3392002f315d"}],"description":"","message_list":[],"uuid":"baf3e33c-3a0a-43cf-8924-dca301b70017","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_7d3e29ba_e3d9_4356_e47d_3392002f315d","uuid":"f6fb40b9-04e3-455b-8875-100d0932f89c"},"name":"SYS_GEN__Runbook_Substrate_7d3e29ba_e3d9_4356_e47d_3392002f315d"}},{"description":"System action for restarting an application","message_list":[],"uuid":"342020a2-fd93-4ac6-8e90-42c741471684","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareMaster","uuid":"7d3e29ba-e3d9-4356-e47d-3392002f315d"},"retries":"0","description":"","type":"DAG","uuid":"a0fb7573-a9b9-4270-a00a-87633b958993","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Vmware_Operation_Restart7d3e29ba_e3d9_4356_e47d_3392002f315d","uuid":"1c7f51bd-58e9-4c83-b2b8-0dc377a369a9"},{"kind":"app_task","name":"SYS_GEN__check_login_for_VmwareMaster_7d3e29ba_e3d9_4356_e47d_3392002f315d","uuid":"6b397c56-c752-4b61-b8d5-379c7da222a4"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Vmware_Operation_Restart7d3e29ba_e3d9_4356_e47d_3392002f315d","uuid":"1c7f51bd-58e9-4c83-b2b8-0dc377a369a9"},"edge_type":"inherent","type":"","uuid":"5b6c251d-82f8-455b-a501-213706519901","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_VmwareMaster_7d3e29ba_e3d9_4356_e47d_3392002f315d","uuid":"6b397c56-c752-4b61-b8d5-379c7da222a4"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_7d3e29ba_e3d9_4356_e47d_3392002f315d"},{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareMaster","uuid":"7d3e29ba-e3d9-4356-e47d-3392002f315d"},"retries":"0","description":"","type":"VMOPERATION_VCENTER","uuid":"1c7f51bd-58e9-4c83-b2b8-0dc377a369a9","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Vmware_Operation_Restart7d3e29ba_e3d9_4356_e47d_3392002f315d"},{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareMaster","uuid":"7d3e29ba-e3d9-4356-e47d-3392002f315d"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"6b397c56-c752-4b61-b8d5-379c7da222a4","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"300","address":"@@{platform.ipAddressList[0]}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_VmwareMaster_7d3e29ba_e3d9_4356_e47d_3392002f315d"}],"description":"","message_list":[],"uuid":"919b4425-2bd7-4a94-b164-6072a051dc98","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_7d3e29ba_e3d9_4356_e47d_3392002f315d","uuid":"a0fb7573-a9b9-4270-a00a-87633b958993"},"name":"SYS_GEN__Runbook_Substrate_7d3e29ba_e3d9_4356_e47d_3392002f315d"}},{"description":"System action for suspending an application","message_list":[],"uuid":"bdecd470-4ce4-449a-99b4-ea457a80c0ee","name":"action_suspend","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareMaster","uuid":"7d3e29ba-e3d9-4356-e47d-3392002f315d"},"retries":"0","description":"","type":"DAG","uuid":"39d67083-25d7-46e0-a63e-6921abdebc53","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_7d3e29ba_e3d9_4356_e47d_3392002f315d"}],"description":"","message_list":[],"uuid":"bb792a6c-358c-4469-a4b3-94cd398067c9","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_7d3e29ba_e3d9_4356_e47d_3392002f315d","uuid":"39d67083-25d7-46e0-a63e-6921abdebc53"},"name":"SYS_GEN__Runbook_Substrate_7d3e29ba_e3d9_4356_e47d_3392002f315d"}},{"description":"System action for modifying an application","message_list":[],"uuid":"77a8d8b6-b857-460a-a763-7f74605de09b","name":"action_modify","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareMaster","uuid":"7d3e29ba-e3d9-4356-e47d-3392002f315d"},"retries":"0","description":"","type":"DAG","uuid":"6e7263e9-8a47-4767-8a69-9b885b37de1f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_7d3e29ba_e3d9_4356_e47d_3392002f315d"}],"description":"","message_list":[],"uuid":"de515211-eaab-4abf-8fed-8dc1d191bf26","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_7d3e29ba_e3d9_4356_e47d_3392002f315d","uuid":"6e7263e9-8a47-4767-8a69-9b885b37de1f"},"name":"SYS_GEN__Runbook_Substrate_7d3e29ba_e3d9_4356_e47d_3392002f315d"}},{"description":"System action for powering off an application","message_list":[],"uuid":"1558ba9c-6290-4fc4-bbc0-c8b9508f07fc","name":"action_poweroff","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareMaster","uuid":"7d3e29ba-e3d9-4356-e47d-3392002f315d"},"retries":"0","description":"","type":"DAG","uuid":"27079f6e-720c-4457-82e0-df44d5f39a84","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Vmware_Operation_Poweroff_7d3e29ba_e3d9_4356_e47d_3392002f315d","uuid":"4c737eea-1072-4300-9955-a1310ad37895"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_7d3e29ba_e3d9_4356_e47d_3392002f315d"},{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareMaster","uuid":"7d3e29ba-e3d9-4356-e47d-3392002f315d"},"retries":"0","description":"","type":"VMOPERATION_VCENTER","uuid":"4c737eea-1072-4300-9955-a1310ad37895","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Vmware_Operation_Poweroff_7d3e29ba_e3d9_4356_e47d_3392002f315d"}],"description":"","message_list":[],"uuid":"7946b93b-b47a-4c89-9c50-adf13243b1ac","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_7d3e29ba_e3d9_4356_e47d_3392002f315d","uuid":"27079f6e-720c-4457-82e0-df44d5f39a84"},"name":"SYS_GEN__Runbook_Substrate_7d3e29ba_e3d9_4356_e47d_3392002f315d"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"b24d49fa-575b-413b-9517-e3986ea5228a","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareMaster","uuid":"7d3e29ba-e3d9-4356-e47d-3392002f315d"},"retries":"0","description":"","type":"DAG","uuid":"9eaad6c7-e58d-4280-8328-52fa539db0a6","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Vmware_Delete_7d3e29ba_e3d9_4356_e47d_3392002f315d","uuid":"d14e9515-7ffa-4622-a4ab-267d344058bd"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_7d3e29ba_e3d9_4356_e47d_3392002f315d"},{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareMaster","uuid":"7d3e29ba-e3d9-4356-e47d-3392002f315d"},"retries":"0","description":"","type":"DELETE_VCENTER","uuid":"d14e9515-7ffa-4622-a4ab-267d344058bd","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Vmware_Delete_7d3e29ba_e3d9_4356_e47d_3392002f315d"}],"description":"","message_list":[],"uuid":"6483b6de-9688-453b-bb32-11980f622774","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_7d3e29ba_e3d9_4356_e47d_3392002f315d","uuid":"9eaad6c7-e58d-4280-8328-52fa539db0a6"},"name":"SYS_GEN__Runbook_Substrate_7d3e29ba_e3d9_4356_e47d_3392002f315d"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"da049ecd-736d-4147-9c4a-83b36b6c420b","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareMaster","uuid":"7d3e29ba-e3d9-4356-e47d-3392002f315d"},"retries":"0","description":"","type":"DAG","uuid":"0504ff14-ba96-4d26-9073-c4002f3f1e1b","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Substrate_Element_Delete_7d3e29ba_e3d9_4356_e47d_3392002f315d","uuid":"881d3229-08e7-4c01-a46d-279458b879d0"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_7d3e29ba_e3d9_4356_e47d_3392002f315d"},{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareMaster","uuid":"7d3e29ba-e3d9-4356-e47d-3392002f315d"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"881d3229-08e7-4c01-a46d-279458b879d0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Substrate_Element_Delete_7d3e29ba_e3d9_4356_e47d_3392002f315d"}],"description":"","message_list":[],"uuid":"e7adf35c-26f9-401a-8ae8-8da5719a0c84","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_7d3e29ba_e3d9_4356_e47d_3392002f315d","uuid":"0504ff14-ba96-4d26-9073-c4002f3f1e1b"},"name":"SYS_GEN__Runbook_Substrate_7d3e29ba_e3d9_4356_e47d_3392002f315d"}}],"message_list":[],"uuid":"7d3e29ba-e3d9-4356-e47d-3392002f315d","state":"ACTIVE","readiness_probe":{"connection_type":"SSH","retries":"5","disable_readiness_probe":false,"address":"@@{platform.ipAddressList[0]}@@","delay_secs":"60","connection_port":22,"login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"editables":{"readiness_probe":{"connection_type":true,"retries":true,"delay_secs":true,"connection_port":true,"timeout_secs":null},"create_spec":{"name":true,"resources":{"template_nic_list":{},"nic_list":{"0":{"nic_type":true,"net_name":true}},"template_controller_list":{},"num_vcpus_per_socket":true,"num_sockets":true,"controller_list":{},"memory_size_mib":true,"template_disk_list":{},"disk_list":{"1":{"disk_size_mb":true,"disk_mode":true,"adapter_type":true,"location":true,"controller_key":true,"disk_type":true},"0":{"disk_size_mb":true,"disk_type":true,"adapter_type":true,"location":true,"disk_mode":true},"3":{"disk_size_mb":true,"disk_mode":true,"adapter_type":true,"location":true,"controller_key":true,"disk_type":true},"2":{"disk_size_mb":true,"disk_mode":true,"adapter_type":true,"location":true,"controller_key":true,"disk_type":true},"5":{"disk_size_mb":true,"disk_mode":true,"adapter_type":true,"location":true,"controller_key":true,"disk_type":true},"4":{"disk_size_mb":true,"disk_mode":true,"adapter_type":true,"location":true,"controller_key":true,"disk_type":true},"7":{"disk_size_mb":true,"disk_mode":true,"adapter_type":true,"location":true,"controller_key":true,"disk_type":true},"6":{"disk_size_mb":true,"disk_mode":true,"adapter_type":true,"location":true,"controller_key":true,"disk_type":true}}}}},"os_type":"Linux","type":"VMWARE_VM","create_spec":{"name":"master-@@{calm_array_index}@@-@@{calm_time}@@","storage_pod":"DatastoreCluster","drs_mode":true,"cluster":"Sabine59-Cluster","host":"","clone_is_template":false,"template":"c5df1e7b-d73b-a7c4-17ef-81c1bd0d24fa","datastore":"","type":"PROVISION_VMWARE_VM","resources":{"nic_list":[{"nic_type":"vmxnet3","type":"","net_name":"key-vim.host.PortGroup-VM Network"}],"template_nic_list":[],"template_controller_list":[],"num_vcpus_per_socket":2,"num_sockets":2,"controller_list":[],"memory_size_mib":4096,"power_state":"poweron","guest_customization":{"type":"","cloud_init":"#cloud-config\nusers:\n  - name: centos\n    ssh-authorized-keys:\n      - @@{CENTOS.public_key}@@\n    sudo: ['ALL=(ALL) NOPASSWD:ALL']","linux_data":null,"customization_name":"","customization_type":"GUEST_OS_LINUX","windows_data":null},"template_disk_list":[],"type":"","account_uuid":"7f90399d-ed3d-1c70-447d-17004ef1bd0a","disk_list":[{"disk_size_mb":8192,"disk_mode":"persistent","adapter_type":"SCSI","iso_path":"","location":"ds:\/\/\/vmfs\/volumes\/7b773e05-e06fc970\/","disk_type":"disk","type":""},{"disk_size_mb":8192,"disk_mode":"persistent","adapter_type":"SCSI","iso_path":"","location":"ds:\/\/\/vmfs\/volumes\/7b773e05-e06fc970\/","disk_type":"disk","type":""},{"disk_size_mb":8192,"disk_mode":"persistent","adapter_type":"SCSI","iso_path":"","location":"ds:\/\/\/vmfs\/volumes\/7b773e05-e06fc970\/","disk_type":"disk","type":""},{"disk_size_mb":8192,"disk_mode":"persistent","adapter_type":"SCSI","iso_path":"","location":"ds:\/\/\/vmfs\/volumes\/7b773e05-e06fc970\/","disk_type":"disk","type":""},{"disk_size_mb":8192,"disk_mode":"persistent","adapter_type":"SCSI","iso_path":"","location":"ds:\/\/\/vmfs\/volumes\/7b773e05-e06fc970\/","disk_type":"disk","type":""},{"disk_size_mb":8192,"disk_mode":"persistent","adapter_type":"SCSI","iso_path":"","location":"ds:\/\/\/vmfs\/volumes\/7b773e05-e06fc970\/","disk_type":"disk","type":""},{"disk_size_mb":8192,"disk_mode":"persistent","adapter_type":"SCSI","iso_path":"","location":"ds:\/\/\/vmfs\/volumes\/7b773e05-e06fc970\/","disk_type":"disk","type":""},{"disk_size_mb":8192,"disk_mode":"persistent","adapter_type":"SCSI","iso_path":"","location":"ds:\/\/\/vmfs\/volumes\/7b773e05-e06fc970\/","disk_type":"disk","type":""}]}},"variable_list":[],"name":"VMwareMaster"},{"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"951b7aaf-1a10-40c7-aa1c-c7e4352efa56","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareSlave","uuid":"4cb413a9-76dd-0ba2-fa36-64463ec9029a"},"retries":"0","description":"","type":"DAG","uuid":"7624c444-95cc-420d-bed3-383b3508007b","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Vmware_Provision_4cb413a9_76dd_0ba2_fa36_64463ec9029a","uuid":"85da337a-02ae-4a19-a35d-ca086782957b"},{"kind":"app_task","name":"SYS_GEN__check_login_for_VmwareSlave_4cb413a9_76dd_0ba2_fa36_64463ec9029a","uuid":"bde44670-adfa-4737-ba8a-b51b970e2dca"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Vmware_Provision_4cb413a9_76dd_0ba2_fa36_64463ec9029a","uuid":"85da337a-02ae-4a19-a35d-ca086782957b"},"edge_type":"inherent","type":"","uuid":"2c14ab34-b801-4c4b-a9d2-095a7d30cdf6","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_VmwareSlave_4cb413a9_76dd_0ba2_fa36_64463ec9029a","uuid":"bde44670-adfa-4737-ba8a-b51b970e2dca"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_4cb413a9_76dd_0ba2_fa36_64463ec9029a"},{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareSlave","uuid":"4cb413a9-76dd-0ba2-fa36-64463ec9029a"},"retries":"0","description":"","type":"PROVISION_VCENTER","uuid":"85da337a-02ae-4a19-a35d-ca086782957b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"name":"slave-@@{calm_array_index}@@-@@{calm_time}@@","storage_pod":"DatastoreCluster","drs_mode":true,"cluster":"Sabine59-Cluster","host":"","clone_is_template":false,"template":"c5df1e7b-d73b-a7c4-17ef-81c1bd0d24fa","datastore":"","type":"PROVISION_VMWARE_VM","resources":{"nic_list":[{"nic_type":"vmxnet3","type":"","net_name":"key-vim.host.PortGroup-VM Network"}],"template_nic_list":[],"template_controller_list":[],"num_vcpus_per_socket":2,"num_sockets":2,"controller_list":[],"memory_size_mib":4096,"power_state":"poweron","guest_customization":{"type":"","cloud_init":"#cloud-config\nusers:\n  - name: centos\n    ssh-authorized-keys:\n      - @@{CENTOS.public_key}@@\n    sudo: ['ALL=(ALL) NOPASSWD:ALL']","linux_data":null,"customization_name":"","customization_type":"GUEST_OS_LINUX","windows_data":null},"template_disk_list":[],"type":"","account_uuid":"7f90399d-ed3d-1c70-447d-17004ef1bd0a","disk_list":[{"disk_size_mb":8192,"disk_mode":"persistent","adapter_type":"SCSI","iso_path":"","location":"ds:\/\/\/vmfs\/volumes\/7b773e05-e06fc970\/","disk_type":"disk","type":""},{"disk_size_mb":8192,"disk_mode":"persistent","adapter_type":"SCSI","iso_path":"","location":"ds:\/\/\/vmfs\/volumes\/7b773e05-e06fc970\/","disk_type":"disk","type":""},{"disk_size_mb":8192,"disk_mode":"persistent","adapter_type":"SCSI","iso_path":"","location":"ds:\/\/\/vmfs\/volumes\/7b773e05-e06fc970\/","disk_type":"disk","type":""},{"disk_size_mb":8192,"disk_mode":"persistent","adapter_type":"SCSI","iso_path":"","location":"ds:\/\/\/vmfs\/volumes\/7b773e05-e06fc970\/","disk_type":"disk","type":""},{"disk_size_mb":8192,"disk_mode":"persistent","adapter_type":"SCSI","iso_path":"","location":"ds:\/\/\/vmfs\/volumes\/7b773e05-e06fc970\/","disk_type":"disk","type":""},{"disk_size_mb":8192,"disk_mode":"persistent","adapter_type":"SCSI","iso_path":"","location":"ds:\/\/\/vmfs\/volumes\/7b773e05-e06fc970\/","disk_type":"disk","type":""},{"disk_size_mb":8192,"disk_mode":"persistent","adapter_type":"SCSI","iso_path":"","location":"ds:\/\/\/vmfs\/volumes\/7b773e05-e06fc970\/","disk_type":"disk","type":""},{"disk_size_mb":8192,"disk_mode":"persistent","adapter_type":"SCSI","iso_path":"","location":"ds:\/\/\/vmfs\/volumes\/7b773e05-e06fc970\/","disk_type":"disk","type":""}]}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Vmware_Provision_4cb413a9_76dd_0ba2_fa36_64463ec9029a"},{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareSlave","uuid":"4cb413a9-76dd-0ba2-fa36-64463ec9029a"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"bde44670-adfa-4737-ba8a-b51b970e2dca","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"300","address":"@@{platform.ipAddressList[0]}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_VmwareSlave_4cb413a9_76dd_0ba2_fa36_64463ec9029a"}],"description":"","message_list":[],"uuid":"8aabf43c-5132-4156-8f1f-4faec4b7f29a","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_4cb413a9_76dd_0ba2_fa36_64463ec9029a","uuid":"7624c444-95cc-420d-bed3-383b3508007b"},"name":"SYS_GEN__Runbook_Substrate_4cb413a9_76dd_0ba2_fa36_64463ec9029a"}},{"description":"System action for powering on an application","message_list":[],"uuid":"59206782-4fce-479a-ae43-091099bdfc69","name":"action_poweron","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareSlave","uuid":"4cb413a9-76dd-0ba2-fa36-64463ec9029a"},"retries":"0","description":"","type":"DAG","uuid":"eca5aab9-98c8-4a92-bfff-e441552d07a1","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Vmware_Operation_PowerOn_4cb413a9_76dd_0ba2_fa36_64463ec9029a","uuid":"278e85dd-5ed3-4af7-acb3-bdf6c0aed680"},{"kind":"app_task","name":"SYS_GEN__check_login_for_VmwareSlave_4cb413a9_76dd_0ba2_fa36_64463ec9029a","uuid":"ccb18f26-78c9-485e-872f-90dacf64d5d2"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Vmware_Operation_PowerOn_4cb413a9_76dd_0ba2_fa36_64463ec9029a","uuid":"278e85dd-5ed3-4af7-acb3-bdf6c0aed680"},"edge_type":"inherent","type":"","uuid":"60535995-f218-489f-97c5-ac2d3e430702","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_VmwareSlave_4cb413a9_76dd_0ba2_fa36_64463ec9029a","uuid":"ccb18f26-78c9-485e-872f-90dacf64d5d2"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_4cb413a9_76dd_0ba2_fa36_64463ec9029a"},{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareSlave","uuid":"4cb413a9-76dd-0ba2-fa36-64463ec9029a"},"retries":"0","description":"","type":"VMOPERATION_VCENTER","uuid":"278e85dd-5ed3-4af7-acb3-bdf6c0aed680","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Vmware_Operation_PowerOn_4cb413a9_76dd_0ba2_fa36_64463ec9029a"},{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareSlave","uuid":"4cb413a9-76dd-0ba2-fa36-64463ec9029a"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"ccb18f26-78c9-485e-872f-90dacf64d5d2","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"300","address":"@@{platform.ipAddressList[0]}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_VmwareSlave_4cb413a9_76dd_0ba2_fa36_64463ec9029a"}],"description":"","message_list":[],"uuid":"3b4c2163-a57e-4c57-a2ff-d2a8c48468e9","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_4cb413a9_76dd_0ba2_fa36_64463ec9029a","uuid":"eca5aab9-98c8-4a92-bfff-e441552d07a1"},"name":"SYS_GEN__Runbook_Substrate_4cb413a9_76dd_0ba2_fa36_64463ec9029a"}},{"description":"System action for restarting an application","message_list":[],"uuid":"c21c84e5-e8d7-40c2-98e9-1af9621e4f16","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareSlave","uuid":"4cb413a9-76dd-0ba2-fa36-64463ec9029a"},"retries":"0","description":"","type":"DAG","uuid":"58c7b557-d5f2-4080-8706-faffcf5548b0","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Vmware_Operation_Restart4cb413a9_76dd_0ba2_fa36_64463ec9029a","uuid":"5586cfa5-a343-4cf1-a633-1d80c03f166e"},{"kind":"app_task","name":"SYS_GEN__check_login_for_VmwareSlave_4cb413a9_76dd_0ba2_fa36_64463ec9029a","uuid":"9a4b763a-5cd3-48e0-81d3-2781b5fe3bf5"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Vmware_Operation_Restart4cb413a9_76dd_0ba2_fa36_64463ec9029a","uuid":"5586cfa5-a343-4cf1-a633-1d80c03f166e"},"edge_type":"inherent","type":"","uuid":"206c2a6f-82c6-4613-b5e7-2bc29d2ead33","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_VmwareSlave_4cb413a9_76dd_0ba2_fa36_64463ec9029a","uuid":"9a4b763a-5cd3-48e0-81d3-2781b5fe3bf5"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_4cb413a9_76dd_0ba2_fa36_64463ec9029a"},{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareSlave","uuid":"4cb413a9-76dd-0ba2-fa36-64463ec9029a"},"retries":"0","description":"","type":"VMOPERATION_VCENTER","uuid":"5586cfa5-a343-4cf1-a633-1d80c03f166e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Vmware_Operation_Restart4cb413a9_76dd_0ba2_fa36_64463ec9029a"},{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareSlave","uuid":"4cb413a9-76dd-0ba2-fa36-64463ec9029a"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"9a4b763a-5cd3-48e0-81d3-2781b5fe3bf5","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"300","address":"@@{platform.ipAddressList[0]}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_VmwareSlave_4cb413a9_76dd_0ba2_fa36_64463ec9029a"}],"description":"","message_list":[],"uuid":"e3ceb0c8-27a8-492a-bcd4-8c4446756200","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_4cb413a9_76dd_0ba2_fa36_64463ec9029a","uuid":"58c7b557-d5f2-4080-8706-faffcf5548b0"},"name":"SYS_GEN__Runbook_Substrate_4cb413a9_76dd_0ba2_fa36_64463ec9029a"}},{"description":"System action for suspending an application","message_list":[],"uuid":"1536d3ab-7beb-4db0-bd9f-12ab8a63623f","name":"action_suspend","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareSlave","uuid":"4cb413a9-76dd-0ba2-fa36-64463ec9029a"},"retries":"0","description":"","type":"DAG","uuid":"ac376913-80d3-4fa1-9f6c-cc9b069de617","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_4cb413a9_76dd_0ba2_fa36_64463ec9029a"}],"description":"","message_list":[],"uuid":"628ad6c9-f931-40e9-980f-1ef914318ace","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_4cb413a9_76dd_0ba2_fa36_64463ec9029a","uuid":"ac376913-80d3-4fa1-9f6c-cc9b069de617"},"name":"SYS_GEN__Runbook_Substrate_4cb413a9_76dd_0ba2_fa36_64463ec9029a"}},{"description":"System action for modifying an application","message_list":[],"uuid":"3c736b78-2c2a-46e1-9747-c9573ebbe0c5","name":"action_modify","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareSlave","uuid":"4cb413a9-76dd-0ba2-fa36-64463ec9029a"},"retries":"0","description":"","type":"DAG","uuid":"94394b81-b936-43a7-9c21-7ef3f8ea2e49","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_4cb413a9_76dd_0ba2_fa36_64463ec9029a"}],"description":"","message_list":[],"uuid":"c4b8c8f1-1da4-4416-8a1f-ac9003d6b8f2","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_4cb413a9_76dd_0ba2_fa36_64463ec9029a","uuid":"94394b81-b936-43a7-9c21-7ef3f8ea2e49"},"name":"SYS_GEN__Runbook_Substrate_4cb413a9_76dd_0ba2_fa36_64463ec9029a"}},{"description":"System action for powering off an application","message_list":[],"uuid":"5a3efb2c-c4b2-4821-b9fd-070c6639f07a","name":"action_poweroff","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareSlave","uuid":"4cb413a9-76dd-0ba2-fa36-64463ec9029a"},"retries":"0","description":"","type":"DAG","uuid":"6789a858-b163-4c3d-95c2-d131664df452","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Vmware_Operation_Poweroff_4cb413a9_76dd_0ba2_fa36_64463ec9029a","uuid":"d1e19869-301d-427e-b2b5-5ff22e0326f4"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_4cb413a9_76dd_0ba2_fa36_64463ec9029a"},{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareSlave","uuid":"4cb413a9-76dd-0ba2-fa36-64463ec9029a"},"retries":"0","description":"","type":"VMOPERATION_VCENTER","uuid":"d1e19869-301d-427e-b2b5-5ff22e0326f4","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Vmware_Operation_Poweroff_4cb413a9_76dd_0ba2_fa36_64463ec9029a"}],"description":"","message_list":[],"uuid":"23f88025-0b57-47b0-a8c5-d3e518e84843","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_4cb413a9_76dd_0ba2_fa36_64463ec9029a","uuid":"6789a858-b163-4c3d-95c2-d131664df452"},"name":"SYS_GEN__Runbook_Substrate_4cb413a9_76dd_0ba2_fa36_64463ec9029a"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"d6dbd389-80ec-4be1-baee-42e23807b396","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareSlave","uuid":"4cb413a9-76dd-0ba2-fa36-64463ec9029a"},"retries":"0","description":"","type":"DAG","uuid":"90aed822-3b6f-4b31-980b-9495b53f2260","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Vmware_Delete_4cb413a9_76dd_0ba2_fa36_64463ec9029a","uuid":"465becc5-c3b7-4c57-8db2-cd4139a3d45a"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_4cb413a9_76dd_0ba2_fa36_64463ec9029a"},{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareSlave","uuid":"4cb413a9-76dd-0ba2-fa36-64463ec9029a"},"retries":"0","description":"","type":"DELETE_VCENTER","uuid":"465becc5-c3b7-4c57-8db2-cd4139a3d45a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Vmware_Delete_4cb413a9_76dd_0ba2_fa36_64463ec9029a"}],"description":"","message_list":[],"uuid":"ad92f8f0-3364-4910-9434-b761a2c4eb93","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_4cb413a9_76dd_0ba2_fa36_64463ec9029a","uuid":"90aed822-3b6f-4b31-980b-9495b53f2260"},"name":"SYS_GEN__Runbook_Substrate_4cb413a9_76dd_0ba2_fa36_64463ec9029a"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"0e825f71-0d4d-49ce-94e7-f8fc29296763","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareSlave","uuid":"4cb413a9-76dd-0ba2-fa36-64463ec9029a"},"retries":"0","description":"","type":"DAG","uuid":"867a20d6-2e20-41b2-8eed-7c932b8f19ad","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Substrate_Element_Delete_4cb413a9_76dd_0ba2_fa36_64463ec9029a","uuid":"f24a9000-ff66-4d28-94b3-86ed00fc57c2"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_4cb413a9_76dd_0ba2_fa36_64463ec9029a"},{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareSlave","uuid":"4cb413a9-76dd-0ba2-fa36-64463ec9029a"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"f24a9000-ff66-4d28-94b3-86ed00fc57c2","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Substrate_Element_Delete_4cb413a9_76dd_0ba2_fa36_64463ec9029a"}],"description":"","message_list":[],"uuid":"096d6feb-79ff-435a-b01b-0d4a12d231dc","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_4cb413a9_76dd_0ba2_fa36_64463ec9029a","uuid":"867a20d6-2e20-41b2-8eed-7c932b8f19ad"},"name":"SYS_GEN__Runbook_Substrate_4cb413a9_76dd_0ba2_fa36_64463ec9029a"}}],"message_list":[],"uuid":"4cb413a9-76dd-0ba2-fa36-64463ec9029a","state":"ACTIVE","readiness_probe":{"connection_type":"SSH","retries":"5","disable_readiness_probe":false,"address":"@@{platform.ipAddressList[0]}@@","delay_secs":"60","connection_port":22,"login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"editables":{"readiness_probe":{"connection_type":true,"retries":true,"delay_secs":true,"connection_port":true,"timeout_secs":null},"create_spec":{"name":true,"resources":{"template_nic_list":{},"nic_list":{"0":{"nic_type":true,"net_name":true}},"template_controller_list":{},"num_vcpus_per_socket":true,"num_sockets":true,"controller_list":{},"memory_size_mib":true,"template_disk_list":{},"disk_list":{"1":{"disk_size_mb":true,"disk_mode":true,"adapter_type":true,"location":true,"controller_key":true,"disk_type":true},"0":{"disk_size_mb":true,"disk_mode":true,"adapter_type":true,"location":true,"controller_key":true,"disk_type":true},"3":{"disk_size_mb":true,"disk_mode":true,"adapter_type":true,"location":true,"controller_key":true,"disk_type":true},"2":{"disk_size_mb":true,"disk_mode":true,"adapter_type":true,"location":true,"controller_key":true,"disk_type":true},"5":{"disk_size_mb":true,"disk_mode":true,"adapter_type":true,"location":true,"controller_key":true,"disk_type":true},"4":{"disk_size_mb":true,"disk_mode":true,"adapter_type":true,"location":true,"controller_key":true,"disk_type":true},"7":{"disk_size_mb":true,"disk_mode":true,"adapter_type":true,"location":true,"controller_key":true,"disk_type":true},"6":{"disk_size_mb":true,"disk_mode":true,"adapter_type":true,"location":true,"controller_key":true,"disk_type":true}}}}},"os_type":"Linux","type":"VMWARE_VM","create_spec":{"name":"slave-@@{calm_array_index}@@-@@{calm_time}@@","storage_pod":"DatastoreCluster","drs_mode":true,"cluster":"Sabine59-Cluster","host":"","clone_is_template":false,"template":"c5df1e7b-d73b-a7c4-17ef-81c1bd0d24fa","datastore":"","type":"PROVISION_VMWARE_VM","resources":{"nic_list":[{"nic_type":"vmxnet3","type":"","net_name":"key-vim.host.PortGroup-VM Network"}],"template_nic_list":[],"template_controller_list":[],"num_vcpus_per_socket":2,"num_sockets":2,"controller_list":[],"memory_size_mib":4096,"power_state":"poweron","guest_customization":{"type":"","cloud_init":"#cloud-config\nusers:\n  - name: centos\n    ssh-authorized-keys:\n      - @@{CENTOS.public_key}@@\n    sudo: ['ALL=(ALL) NOPASSWD:ALL']","linux_data":null,"customization_name":"","customization_type":"GUEST_OS_LINUX","windows_data":null},"template_disk_list":[],"type":"","account_uuid":"7f90399d-ed3d-1c70-447d-17004ef1bd0a","disk_list":[{"disk_size_mb":8192,"disk_mode":"persistent","adapter_type":"SCSI","iso_path":"","location":"ds:\/\/\/vmfs\/volumes\/7b773e05-e06fc970\/","disk_type":"disk","type":""},{"disk_size_mb":8192,"disk_mode":"persistent","adapter_type":"SCSI","iso_path":"","location":"ds:\/\/\/vmfs\/volumes\/7b773e05-e06fc970\/","disk_type":"disk","type":""},{"disk_size_mb":8192,"disk_mode":"persistent","adapter_type":"SCSI","iso_path":"","location":"ds:\/\/\/vmfs\/volumes\/7b773e05-e06fc970\/","disk_type":"disk","type":""},{"disk_size_mb":8192,"disk_mode":"persistent","adapter_type":"SCSI","iso_path":"","location":"ds:\/\/\/vmfs\/volumes\/7b773e05-e06fc970\/","disk_type":"disk","type":""},{"disk_size_mb":8192,"disk_mode":"persistent","adapter_type":"SCSI","iso_path":"","location":"ds:\/\/\/vmfs\/volumes\/7b773e05-e06fc970\/","disk_type":"disk","type":""},{"disk_size_mb":8192,"disk_mode":"persistent","adapter_type":"SCSI","iso_path":"","location":"ds:\/\/\/vmfs\/volumes\/7b773e05-e06fc970\/","disk_type":"disk","type":""},{"disk_size_mb":8192,"disk_mode":"persistent","adapter_type":"SCSI","iso_path":"","location":"ds:\/\/\/vmfs\/volumes\/7b773e05-e06fc970\/","disk_type":"disk","type":""},{"disk_size_mb":8192,"disk_mode":"persistent","adapter_type":"SCSI","iso_path":"","location":"ds:\/\/\/vmfs\/volumes\/7b773e05-e06fc970\/","disk_type":"disk","type":""}]}},"variable_list":[],"name":"VMwareSlave"}],"credential_definition_list":[{"username":"centos","description":"","state":"ACTIVE","message_list":[],"uuid":"ed074117-957a-4513-a084-7b706dfad28b","secret":{"attrs":{"is_secret_modified":false,"secret_reference":{}}},"editables":{"username":true,"secret":true},"type":"KEY","name":"CENTOS"}],"type":"USER","app_profile_list":[{"deployment_create_list":[{"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"03a13c24-fcf2-480b-a94e-eb58cbcff18e","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"baaebcb4-0874-4eab-9b07-7ff13ee8a86c"},"retries":"0","description":"","type":"DAG","uuid":"37750085-980a-4ba0-85f4-bfb55d91fd6c","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__DE_Provision_baaebcb4_0874_4eab_9b07_7ff13ee8a86c","uuid":"ed515c47-29b4-4a26-ae60-b1300af9e3f4"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_a7955a04_2023_483b_8c51_1284d919a1c7","uuid":"2ebcf348-2f0b-452c-8d47-e1c349f58495"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_fcfab67a_6fcb_47c1_866e_ef3e11899887","uuid":"8e4acd78-bc0d-4f29-ab11-ef1f7f601ce8"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_e322b0f6_258b_4378_9523_eab4a877f899","uuid":"656e38d8-61f5-4584-8ddc-7968546e3666"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"ef9eb1c0-4199-43c0-979e-133e477c524e"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"89e54960-f891-4614-906c-fc674d209948"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"ef9eb1c0-4199-43c0-979e-133e477c524e"},"edge_type":"inherent","type":"","uuid":"0f4dcf6c-4415-4c40-a760-aeb09cae0f63","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"89e54960-f891-4614-906c-fc674d209948"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_e322b0f6_258b_4378_9523_eab4a877f899","uuid":"656e38d8-61f5-4584-8ddc-7968546e3666"},"edge_type":"inherent","type":"","uuid":"5d0b17a5-8997-4df4-a0fb-377679dc5286","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"ef9eb1c0-4199-43c0-979e-133e477c524e"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_fcfab67a_6fcb_47c1_866e_ef3e11899887","uuid":"8e4acd78-bc0d-4f29-ab11-ef1f7f601ce8"},"edge_type":"inherent","type":"","uuid":"02a177a4-97c1-417e-a3c1-0cf224392589","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_e322b0f6_258b_4378_9523_eab4a877f899","uuid":"656e38d8-61f5-4584-8ddc-7968546e3666"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_a7955a04_2023_483b_8c51_1284d919a1c7","uuid":"2ebcf348-2f0b-452c-8d47-e1c349f58495"},"edge_type":"inherent","type":"","uuid":"4271612b-53b0-49e9-99ef-d053acc186e4","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_fcfab67a_6fcb_47c1_866e_ef3e11899887","uuid":"8e4acd78-bc0d-4f29-ab11-ef1f7f601ce8"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_baaebcb4_0874_4eab_9b07_7ff13ee8a86c","uuid":"ed515c47-29b4-4a26-ae60-b1300af9e3f4"},"edge_type":"inherent","type":"","uuid":"48b98e0e-67f9-420b-8843-f80d22c2f045","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_fcfab67a_6fcb_47c1_866e_ef3e11899887","uuid":"8e4acd78-bc0d-4f29-ab11-ef1f7f601ce8"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_baaebcb4_0874_4eab_9b07_7ff13ee8a86c","uuid":"ed515c47-29b4-4a26-ae60-b1300af9e3f4"},"edge_type":"inherent","type":"","uuid":"52577e63-cbb6-4354-8754-d6c52ac24652","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_a7955a04_2023_483b_8c51_1284d919a1c7","uuid":"2ebcf348-2f0b-452c-8d47-e1c349f58495"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_baaebcb4_0874_4eab_9b07_7ff13ee8a86c"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"baaebcb4-0874-4eab-9b07-7ff13ee8a86c"},"retries":"0","description":"","type":"CREATE_DEPLOYMENT_ELEMENT","uuid":"ed515c47-29b4-4a26-ae60-b1300af9e3f4","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Provision_baaebcb4_0874_4eab_9b07_7ff13ee8a86c"},{"target_any_local_reference":{"kind":"app_package","name":"AHV_CENTOS_76","uuid":"a7955a04-2023-483b-8c51-1284d919a1c7"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"2ebcf348-2f0b-452c-8d47-e1c349f58495","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"baaebcb4-0874-4eab-9b07-7ff13ee8a86c"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_a7955a04_2023_483b_8c51_1284d919a1c7","uuid":"20a24a3f-4d04-4b57-9901-38603512a361"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_a7955a04_2023_483b_8c51_1284d919a1c7"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVMaster","uuid":"fcfab67a-6fcb-47c1-866e-ef3e11899887"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"8e4acd78-bc0d-4f29-ab11-ef1f7f601ce8","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"baaebcb4-0874-4eab-9b07-7ff13ee8a86c"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_fcfab67a_6fcb_47c1_866e_ef3e11899887","uuid":"338f05f2-b6b8-4672-aa98-009d21f24f5f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Substrate_fcfab67a_6fcb_47c1_866e_ef3e11899887"},{"target_any_local_reference":{"kind":"app_package","name":"AHVMasterPackage","uuid":"e322b0f6-258b-4378-9523-eab4a877f899"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"656e38d8-61f5-4584-8ddc-7968546e3666","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"baaebcb4-0874-4eab-9b07-7ff13ee8a86c"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_e322b0f6_258b_4378_9523_eab4a877f899","uuid":"6fb2000e-8a69-456f-b822-775fe78d2565"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_e322b0f6_258b_4378_9523_eab4a877f899"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"ef9eb1c0-4199-43c0-979e-133e477c524e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"baaebcb4-0874-4eab-9b07-7ff13ee8a86c"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0a970522_runbook","uuid":"f2803b23-af0b-4afd-8a2f-ef666adf85c8"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"89e54960-f891-4614-906c-fc674d209948","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"baaebcb4-0874-4eab-9b07-7ff13ee8a86c"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"5ddb28d1_runbook","uuid":"f88c4d73-c0ab-488b-a016-3e1453b91891"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd"}],"description":"","message_list":[],"uuid":"52a58ca1-3db8-493c-acb7-74206bac4d59","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_baaebcb4_0874_4eab_9b07_7ff13ee8a86c","uuid":"37750085-980a-4ba0-85f4-bfb55d91fd6c"},"name":"SYS_GEN__Runbook_Deployment_baaebcb4_0874_4eab_9b07_7ff13ee8a86c"}},{"description":"System action for starting an application","message_list":[],"uuid":"af8cd1d7-a38c-4805-a582-1e0007f2cfc6","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"baaebcb4-0874-4eab-9b07-7ff13ee8a86c"},"retries":"0","description":"","type":"DAG","uuid":"6f8ff12c-98d0-401a-967f-3c7c5c6bb197","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_fcfab67a_6fcb_47c1_866e_ef3e11899887","uuid":"dd6df682-70c9-42cd-a240-5de034445029"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"af5d63f2-4487-4621-9a09-c11dc735db63"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_fcfab67a_6fcb_47c1_866e_ef3e11899887","uuid":"dd6df682-70c9-42cd-a240-5de034445029"},"edge_type":"inherent","type":"","uuid":"9e592a1a-8ca1-4e01-90c0-5a7fe3390d1a","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"af5d63f2-4487-4621-9a09-c11dc735db63"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_baaebcb4_0874_4eab_9b07_7ff13ee8a86c"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVMaster","uuid":"fcfab67a-6fcb-47c1-866e-ef3e11899887"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"dd6df682-70c9-42cd-a240-5de034445029","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"baaebcb4-0874-4eab-9b07-7ff13ee8a86c"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_fcfab67a_6fcb_47c1_866e_ef3e11899887","uuid":"d9b8158f-321e-423e-8b62-429217ddd8c6"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Substrate_fcfab67a_6fcb_47c1_866e_ef3e11899887"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"af5d63f2-4487-4621-9a09-c11dc735db63","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"baaebcb4-0874-4eab-9b07-7ff13ee8a86c"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"5ddb28d1_runbook","uuid":"f88c4d73-c0ab-488b-a016-3e1453b91891"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd"}],"description":"","message_list":[],"uuid":"27708e3b-cadd-4fde-816b-8eee122592a2","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_baaebcb4_0874_4eab_9b07_7ff13ee8a86c","uuid":"6f8ff12c-98d0-401a-967f-3c7c5c6bb197"},"name":"SYS_GEN__Runbook_Deployment_baaebcb4_0874_4eab_9b07_7ff13ee8a86c"}},{"description":"System action for restarting an application","message_list":[],"uuid":"cf9745e9-7eee-4a45-87ee-f8d119d2516b","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"baaebcb4-0874-4eab-9b07-7ff13ee8a86c"},"retries":"0","description":"","type":"DAG","uuid":"5a9f92d9-ddf0-4f1c-855b-eebb6cd9f0f8","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_fcfab67a_6fcb_47c1_866e_ef3e11899887","uuid":"309cf765-0e0a-4631-93f5-6ffc9ad501ec"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"699dfa1c-9957-46dd-80cc-6a2251515421"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_fcfab67a_6fcb_47c1_866e_ef3e11899887","uuid":"309cf765-0e0a-4631-93f5-6ffc9ad501ec"},"edge_type":"inherent","type":"","uuid":"30e804c8-9084-4ff7-b68d-cddef8d67696","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"699dfa1c-9957-46dd-80cc-6a2251515421"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_baaebcb4_0874_4eab_9b07_7ff13ee8a86c"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVMaster","uuid":"fcfab67a-6fcb-47c1-866e-ef3e11899887"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"309cf765-0e0a-4631-93f5-6ffc9ad501ec","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"baaebcb4-0874-4eab-9b07-7ff13ee8a86c"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_fcfab67a_6fcb_47c1_866e_ef3e11899887","uuid":"e439f74a-6a84-418e-8f2a-80c8d0096cab"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Substrate_fcfab67a_6fcb_47c1_866e_ef3e11899887"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"699dfa1c-9957-46dd-80cc-6a2251515421","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"baaebcb4-0874-4eab-9b07-7ff13ee8a86c"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"7e709238_runbook","uuid":"6beb8e29-06b2-4218-a1fd-18c28d8c6218"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd"}],"description":"","message_list":[],"uuid":"b44e8277-b527-4c49-a0a9-826cecf9c10e","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_baaebcb4_0874_4eab_9b07_7ff13ee8a86c","uuid":"5a9f92d9-ddf0-4f1c-855b-eebb6cd9f0f8"},"name":"SYS_GEN__Runbook_Deployment_baaebcb4_0874_4eab_9b07_7ff13ee8a86c"}},{"description":"System action for stopping an application","message_list":[],"uuid":"0199efb1-75b6-4f1b-a9f8-16706d0e6fb4","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"baaebcb4-0874-4eab-9b07-7ff13ee8a86c"},"retries":"0","description":"","type":"DAG","uuid":"ec2c9d46-344e-4e3f-ba7e-160a99e63c72","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"8490b869-e654-40c9-94ea-468bad5d233a"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_fcfab67a_6fcb_47c1_866e_ef3e11899887","uuid":"d7d96ac7-7502-481b-bd88-926d0445d640"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"8490b869-e654-40c9-94ea-468bad5d233a"},"edge_type":"inherent","type":"","uuid":"dfd1540c-8320-448c-b851-345af608a37f","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_fcfab67a_6fcb_47c1_866e_ef3e11899887","uuid":"d7d96ac7-7502-481b-bd88-926d0445d640"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_baaebcb4_0874_4eab_9b07_7ff13ee8a86c"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"8490b869-e654-40c9-94ea-468bad5d233a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"baaebcb4-0874-4eab-9b07-7ff13ee8a86c"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0aefbca3_runbook","uuid":"a75d0021-cf2d-4da4-85dc-56ee0ed9e9eb"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVMaster","uuid":"fcfab67a-6fcb-47c1-866e-ef3e11899887"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"d7d96ac7-7502-481b-bd88-926d0445d640","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"baaebcb4-0874-4eab-9b07-7ff13ee8a86c"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_fcfab67a_6fcb_47c1_866e_ef3e11899887","uuid":"b1ca51f0-0c70-453a-b9e3-3aa0d6aaa266"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Substrate_fcfab67a_6fcb_47c1_866e_ef3e11899887"}],"description":"","message_list":[],"uuid":"47b2e5f1-f18e-4ed6-afd7-bf5a04554d7b","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_baaebcb4_0874_4eab_9b07_7ff13ee8a86c","uuid":"ec2c9d46-344e-4e3f-ba7e-160a99e63c72"},"name":"SYS_GEN__Runbook_Deployment_baaebcb4_0874_4eab_9b07_7ff13ee8a86c"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"9bcaf0ee-8451-4f17-b0ff-873f17d8e38c","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"baaebcb4-0874-4eab-9b07-7ff13ee8a86c"},"retries":"0","description":"","type":"DAG","uuid":"8ad88a34-a2f0-4160-b382-a9fe62a4f036","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"c0a0db15-c809-467d-a0a4-0c2e3acab78f"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"73315530-f5c0-44c2-87ec-2241e566b8cf"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_e322b0f6_258b_4378_9523_eab4a877f899","uuid":"583c0783-bf42-4ca4-b170-6c6bc75e8ec6"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_fcfab67a_6fcb_47c1_866e_ef3e11899887","uuid":"f481cc56-227e-41ce-8290-aef1fe7a796a"},{"kind":"app_task","name":"SYS_GEN__DE_Delete_baaebcb4_0874_4eab_9b07_7ff13ee8a86c","uuid":"9a286a60-f0d5-494b-a248-eaf618be26ea"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"c0a0db15-c809-467d-a0a4-0c2e3acab78f"},"edge_type":"inherent","type":"","uuid":"b988f63c-772f-42e4-b573-f908ed7084cf","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"73315530-f5c0-44c2-87ec-2241e566b8cf"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"73315530-f5c0-44c2-87ec-2241e566b8cf"},"edge_type":"inherent","type":"","uuid":"3849985e-e2b4-4987-9e65-7b952d41cf70","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_e322b0f6_258b_4378_9523_eab4a877f899","uuid":"583c0783-bf42-4ca4-b170-6c6bc75e8ec6"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_fcfab67a_6fcb_47c1_866e_ef3e11899887","uuid":"f481cc56-227e-41ce-8290-aef1fe7a796a"},"edge_type":"inherent","type":"","uuid":"af556122-73de-45e0-9973-45996af16bf7","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Delete_baaebcb4_0874_4eab_9b07_7ff13ee8a86c","uuid":"9a286a60-f0d5-494b-a248-eaf618be26ea"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_e322b0f6_258b_4378_9523_eab4a877f899","uuid":"583c0783-bf42-4ca4-b170-6c6bc75e8ec6"},"edge_type":"inherent","type":"","uuid":"8d5b6cf8-24af-468d-b1ee-fc36037ce88d","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_fcfab67a_6fcb_47c1_866e_ef3e11899887","uuid":"f481cc56-227e-41ce-8290-aef1fe7a796a"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_baaebcb4_0874_4eab_9b07_7ff13ee8a86c"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"c0a0db15-c809-467d-a0a4-0c2e3acab78f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"baaebcb4-0874-4eab-9b07-7ff13ee8a86c"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0aefbca3_runbook","uuid":"a75d0021-cf2d-4da4-85dc-56ee0ed9e9eb"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"73315530-f5c0-44c2-87ec-2241e566b8cf","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"baaebcb4-0874-4eab-9b07-7ff13ee8a86c"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"5fd47ec3_runbook","uuid":"7e58dd6b-1da9-495c-97e7-84bb6e288586"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd"},{"target_any_local_reference":{"kind":"app_package","name":"AHVMasterPackage","uuid":"e322b0f6-258b-4378-9523-eab4a877f899"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"583c0783-bf42-4ca4-b170-6c6bc75e8ec6","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"baaebcb4-0874-4eab-9b07-7ff13ee8a86c"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_e322b0f6_258b_4378_9523_eab4a877f899","uuid":"e593fc52-7d65-4ff6-80f3-7c68c3bc1aca"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_e322b0f6_258b_4378_9523_eab4a877f899"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVMaster","uuid":"fcfab67a-6fcb-47c1-866e-ef3e11899887"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"f481cc56-227e-41ce-8290-aef1fe7a796a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"baaebcb4-0874-4eab-9b07-7ff13ee8a86c"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_fcfab67a_6fcb_47c1_866e_ef3e11899887","uuid":"a7eb8bfb-3449-4090-a1fc-b28350cb1aea"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Substrate_fcfab67a_6fcb_47c1_866e_ef3e11899887"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"baaebcb4-0874-4eab-9b07-7ff13ee8a86c"},"retries":"0","description":"","type":"DELETE_DEPLOYMENT_ELEMENT","uuid":"9a286a60-f0d5-494b-a248-eaf618be26ea","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Delete_baaebcb4_0874_4eab_9b07_7ff13ee8a86c"}],"description":"","message_list":[],"uuid":"128e55a1-574e-4c71-b744-9f7aa58de057","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_baaebcb4_0874_4eab_9b07_7ff13ee8a86c","uuid":"8ad88a34-a2f0-4160-b382-a9fe62a4f036"},"name":"SYS_GEN__Runbook_Deployment_baaebcb4_0874_4eab_9b07_7ff13ee8a86c"}},{"description":"System action for scaleout","message_list":[],"uuid":"5c0c8041-6816-4e9c-97dd-8e19f50da8e5","name":"action_scaleout","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"baaebcb4-0874-4eab-9b07-7ff13ee8a86c"},"retries":"0","description":"","type":"DAG","uuid":"f1add637-5985-4691-a5c9-ffd6629dc480","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Deployment_Scaleout_baaebcb4_0874_4eab_9b07_7ff13ee8a86c","uuid":"7a09accb-adf0-4160-a36e-1aa284ca3cef"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_baaebcb4_0874_4eab_9b07_7ff13ee8a86c"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"baaebcb4-0874-4eab-9b07-7ff13ee8a86c"},"retries":"0","description":"","type":"SCALING","uuid":"7a09accb-adf0-4160-a36e-1aa284ca3cef","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{scaling_count}@@","type":"","scaling_type":"SCALEOUT"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Deployment_Scaleout_baaebcb4_0874_4eab_9b07_7ff13ee8a86c"}],"description":"","message_list":[],"uuid":"9a1897ba-49ad-4450-b0f7-2976be35c825","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"b2ee8324-6163-4df9-ab01-e6c28cf9fd5f","value":"0","label":"","state":"NOT_VALIDATED","attrs":{},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"scaling_count"}],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_baaebcb4_0874_4eab_9b07_7ff13ee8a86c","uuid":"f1add637-5985-4691-a5c9-ffd6629dc480"},"name":"SYS_GEN__Runbook_Deployment_baaebcb4_0874_4eab_9b07_7ff13ee8a86c"}},{"description":"System action for scalein","message_list":[],"uuid":"5336425c-3940-4336-93b4-78a8093c8f99","name":"action_scalein","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"baaebcb4-0874-4eab-9b07-7ff13ee8a86c"},"retries":"0","description":"","type":"DAG","uuid":"3d3e09ea-71d7-438d-8fba-0c5eb07f0655","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Deployment_Scalein_baaebcb4_0874_4eab_9b07_7ff13ee8a86c","uuid":"003cc6b8-9177-457f-9fc0-14e1d4f517f0"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_baaebcb4_0874_4eab_9b07_7ff13ee8a86c"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"baaebcb4-0874-4eab-9b07-7ff13ee8a86c"},"retries":"0","description":"","type":"SCALING","uuid":"003cc6b8-9177-457f-9fc0-14e1d4f517f0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{scaling_count}@@","type":"","scaling_type":"SCALEIN"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Deployment_Scalein_baaebcb4_0874_4eab_9b07_7ff13ee8a86c"}],"description":"","message_list":[],"uuid":"be50844f-6ca2-4b14-aa67-cfa09cca4c01","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"07bf696a-e6e9-405a-818f-106c09ecc52d","value":"0","label":"","state":"NOT_VALIDATED","attrs":{},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"scaling_count"}],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_baaebcb4_0874_4eab_9b07_7ff13ee8a86c","uuid":"3d3e09ea-71d7-438d-8fba-0c5eb07f0655"},"name":"SYS_GEN__Runbook_Deployment_baaebcb4_0874_4eab_9b07_7ff13ee8a86c"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"16ad7cff-0325-49f5-854f-f6562a11c8c0","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"baaebcb4-0874-4eab-9b07-7ff13ee8a86c"},"retries":"0","description":"","type":"DAG","uuid":"e1b95288-032f-4ba5-8a09-851090d040a0","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"44335bc4-adc3-4d6b-a147-3bb26adb8991"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_e322b0f6_258b_4378_9523_eab4a877f899","uuid":"d13a6694-b9b0-4821-89e2-224a34fcefc4"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_fcfab67a_6fcb_47c1_866e_ef3e11899887","uuid":"2569c0cb-097a-4f8a-866b-62bd21bba33f"},{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_baaebcb4_0874_4eab_9b07_7ff13ee8a86c","uuid":"1d49ff2e-f73f-4406-95bf-c87783d6cd20"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"44335bc4-adc3-4d6b-a147-3bb26adb8991"},"edge_type":"inherent","type":"","uuid":"69a2bfb0-f361-4ffa-a28b-63d1a67bd33e","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_e322b0f6_258b_4378_9523_eab4a877f899","uuid":"d13a6694-b9b0-4821-89e2-224a34fcefc4"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_fcfab67a_6fcb_47c1_866e_ef3e11899887","uuid":"2569c0cb-097a-4f8a-866b-62bd21bba33f"},"edge_type":"inherent","type":"","uuid":"8a0ec042-c488-4679-b34d-51f89e4db6e1","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_baaebcb4_0874_4eab_9b07_7ff13ee8a86c","uuid":"1d49ff2e-f73f-4406-95bf-c87783d6cd20"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_e322b0f6_258b_4378_9523_eab4a877f899","uuid":"d13a6694-b9b0-4821-89e2-224a34fcefc4"},"edge_type":"inherent","type":"","uuid":"a2b6674c-2484-41b5-8202-8b95530f28f6","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_fcfab67a_6fcb_47c1_866e_ef3e11899887","uuid":"2569c0cb-097a-4f8a-866b-62bd21bba33f"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_baaebcb4_0874_4eab_9b07_7ff13ee8a86c"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"44335bc4-adc3-4d6b-a147-3bb26adb8991","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"baaebcb4-0874-4eab-9b07-7ff13ee8a86c"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"9b57420b-3c50-4fbe-8880-9c7651fd25ad"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd"},{"target_any_local_reference":{"kind":"app_package","name":"AHVMasterPackage","uuid":"e322b0f6-258b-4378-9523-eab4a877f899"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"d13a6694-b9b0-4821-89e2-224a34fcefc4","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_e322b0f6_258b_4378_9523_eab4a877f899"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVMaster","uuid":"fcfab67a-6fcb-47c1-866e-ef3e11899887"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"2569c0cb-097a-4f8a-866b-62bd21bba33f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"baaebcb4-0874-4eab-9b07-7ff13ee8a86c"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_fcfab67a_6fcb_47c1_866e_ef3e11899887","uuid":"129cde6d-0577-4ffb-bf60-d3a3386fb101"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Substrate_fcfab67a_6fcb_47c1_866e_ef3e11899887"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"baaebcb4-0874-4eab-9b07-7ff13ee8a86c"},"retries":"0","description":"","type":"SOFT_DELETE_DEPLOYMENT_ELEMENT","uuid":"1d49ff2e-f73f-4406-95bf-c87783d6cd20","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Soft_Delete_baaebcb4_0874_4eab_9b07_7ff13ee8a86c"}],"description":"","message_list":[],"uuid":"79ae65f3-5d35-4d7a-b75a-23ca055f42b0","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_baaebcb4_0874_4eab_9b07_7ff13ee8a86c","uuid":"e1b95288-032f-4ba5-8a09-851090d040a0"},"name":"SYS_GEN__Runbook_Deployment_baaebcb4_0874_4eab_9b07_7ff13ee8a86c"}}],"message_list":[],"published_service_local_reference_list":[],"uuid":"baaebcb4-0874-4eab-9b07-7ff13ee8a86c","min_replicas":"1","state":"ACTIVE","max_replicas":"1","depends_on_list":[],"editables":{"min_replicas":true,"max_replicas":true},"package_local_reference_list":[{"kind":"app_package","name":"AHVMasterPackage","uuid":"e322b0f6-258b-4378-9523-eab4a877f899"}],"substrate_local_reference":{"kind":"app_substrate","name":"AHVMaster","uuid":"fcfab67a-6fcb-47c1-866e-ef3e11899887"},"type":"GREENFIELD","options":{},"variable_list":[],"name":"9098b02b_deployment"},{"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"d967a1b3-e01f-4c89-93df-553d4e1c187f","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"117283f8-25bc-4d51-ad1c-b7894358b467"},"retries":"0","description":"","type":"DAG","uuid":"15078f44-6db8-408d-85b8-4bc8bc795c40","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__DE_Provision_117283f8_25bc_4d51_ad1c_b7894358b467","uuid":"647790af-1373-4b1f-a8a5-d4ca58bcf2d5"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_a7955a04_2023_483b_8c51_1284d919a1c7","uuid":"a732bbec-b191-4361-8105-8900f964fc0d"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_277d02d7_e5c9_4fac_9649_73d662f89b80","uuid":"e0d91b94-8253-4fb8-9f6d-4286719addf6"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_bb4017ed_6571_4577_b76b_c2ae42903b6e","uuid":"f9ec9aa4-3793-429c-aade-c0e64cea6773"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"6fd7b876-f741-4665-8c77-ca98c67ff35e"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"b34b5f72-6000-40fe-9d1d-64c76b916d7a"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"6fd7b876-f741-4665-8c77-ca98c67ff35e"},"edge_type":"inherent","type":"","uuid":"5846c8b3-6223-454b-b2e3-4b56afc32a85","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"b34b5f72-6000-40fe-9d1d-64c76b916d7a"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_bb4017ed_6571_4577_b76b_c2ae42903b6e","uuid":"f9ec9aa4-3793-429c-aade-c0e64cea6773"},"edge_type":"inherent","type":"","uuid":"a9dccfe6-9626-409f-aab4-08aeead75fc8","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"6fd7b876-f741-4665-8c77-ca98c67ff35e"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_a7955a04_2023_483b_8c51_1284d919a1c7","uuid":"a732bbec-b191-4361-8105-8900f964fc0d"},"edge_type":"inherent","type":"","uuid":"86af0608-0b0f-4fcb-bb37-abfd812e6fb0","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_277d02d7_e5c9_4fac_9649_73d662f89b80","uuid":"e0d91b94-8253-4fb8-9f6d-4286719addf6"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_277d02d7_e5c9_4fac_9649_73d662f89b80","uuid":"e0d91b94-8253-4fb8-9f6d-4286719addf6"},"edge_type":"inherent","type":"","uuid":"cf4edf1d-8cc4-4861-b5fd-31bb2f8c8c0b","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_bb4017ed_6571_4577_b76b_c2ae42903b6e","uuid":"f9ec9aa4-3793-429c-aade-c0e64cea6773"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_117283f8_25bc_4d51_ad1c_b7894358b467","uuid":"647790af-1373-4b1f-a8a5-d4ca58bcf2d5"},"edge_type":"inherent","type":"","uuid":"9225eee7-293b-4a40-ad68-5b17bed9ab56","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_277d02d7_e5c9_4fac_9649_73d662f89b80","uuid":"e0d91b94-8253-4fb8-9f6d-4286719addf6"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_117283f8_25bc_4d51_ad1c_b7894358b467","uuid":"647790af-1373-4b1f-a8a5-d4ca58bcf2d5"},"edge_type":"inherent","type":"","uuid":"853d2c42-8fb4-458b-a1a0-2efe96848f45","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_a7955a04_2023_483b_8c51_1284d919a1c7","uuid":"a732bbec-b191-4361-8105-8900f964fc0d"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_117283f8_25bc_4d51_ad1c_b7894358b467"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"117283f8-25bc-4d51-ad1c-b7894358b467"},"retries":"0","description":"","type":"CREATE_DEPLOYMENT_ELEMENT","uuid":"647790af-1373-4b1f-a8a5-d4ca58bcf2d5","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Provision_117283f8_25bc_4d51_ad1c_b7894358b467"},{"target_any_local_reference":{"kind":"app_package","name":"AHV_CENTOS_76","uuid":"a7955a04-2023-483b-8c51-1284d919a1c7"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"a732bbec-b191-4361-8105-8900f964fc0d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"117283f8-25bc-4d51-ad1c-b7894358b467"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_a7955a04_2023_483b_8c51_1284d919a1c7","uuid":"20a24a3f-4d04-4b57-9901-38603512a361"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_a7955a04_2023_483b_8c51_1284d919a1c7"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVSlave","uuid":"277d02d7-e5c9-4fac-9649-73d662f89b80"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"e0d91b94-8253-4fb8-9f6d-4286719addf6","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"117283f8-25bc-4d51-ad1c-b7894358b467"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_277d02d7_e5c9_4fac_9649_73d662f89b80","uuid":"4558e5e0-dc42-4fc8-aa1d-eee29b8c73ed"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Substrate_277d02d7_e5c9_4fac_9649_73d662f89b80"},{"target_any_local_reference":{"kind":"app_package","name":"AHVSlavePackage","uuid":"bb4017ed-6571-4577-b76b-c2ae42903b6e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"f9ec9aa4-3793-429c-aade-c0e64cea6773","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"117283f8-25bc-4d51-ad1c-b7894358b467"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_bb4017ed_6571_4577_b76b_c2ae42903b6e","uuid":"976af3b1-7d68-435a-a609-0792b922844b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_bb4017ed_6571_4577_b76b_c2ae42903b6e"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"6fd7b876-f741-4665-8c77-ca98c67ff35e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"117283f8-25bc-4d51-ad1c-b7894358b467"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"d54168c9_runbook","uuid":"e509001d-6b88-4a64-813c-0ce8ea81991a"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"b34b5f72-6000-40fe-9d1d-64c76b916d7a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"117283f8-25bc-4d51-ad1c-b7894358b467"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"a027cde0_runbook","uuid":"0afbc7f3-5541-415f-9616-c459f09806b2"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400"}],"description":"","message_list":[],"uuid":"96fb9bd3-a806-4c4f-9010-e6d8aa678dc1","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_117283f8_25bc_4d51_ad1c_b7894358b467","uuid":"15078f44-6db8-408d-85b8-4bc8bc795c40"},"name":"SYS_GEN__Runbook_Deployment_117283f8_25bc_4d51_ad1c_b7894358b467"}},{"description":"System action for starting an application","message_list":[],"uuid":"955099cc-a6cc-49ec-840a-ed46925711da","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"117283f8-25bc-4d51-ad1c-b7894358b467"},"retries":"0","description":"","type":"DAG","uuid":"94449352-5bd6-4585-b834-a4f269aa86fc","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_277d02d7_e5c9_4fac_9649_73d662f89b80","uuid":"19f09f9a-dbd3-4d30-a8bd-05fbd6b1610a"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"2a2b909f-9468-4f4d-8b27-ba4a562eb28e"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_277d02d7_e5c9_4fac_9649_73d662f89b80","uuid":"19f09f9a-dbd3-4d30-a8bd-05fbd6b1610a"},"edge_type":"inherent","type":"","uuid":"29d052ec-8345-4135-9806-b2a2d975303a","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"2a2b909f-9468-4f4d-8b27-ba4a562eb28e"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_117283f8_25bc_4d51_ad1c_b7894358b467"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVSlave","uuid":"277d02d7-e5c9-4fac-9649-73d662f89b80"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"19f09f9a-dbd3-4d30-a8bd-05fbd6b1610a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"117283f8-25bc-4d51-ad1c-b7894358b467"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_277d02d7_e5c9_4fac_9649_73d662f89b80","uuid":"6738a8cc-4db5-4f23-8b3e-d3e3c513954d"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Substrate_277d02d7_e5c9_4fac_9649_73d662f89b80"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"2a2b909f-9468-4f4d-8b27-ba4a562eb28e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"117283f8-25bc-4d51-ad1c-b7894358b467"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"a027cde0_runbook","uuid":"0afbc7f3-5541-415f-9616-c459f09806b2"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400"}],"description":"","message_list":[],"uuid":"caf20452-a929-4a5f-aca3-f5b9bf950af1","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_117283f8_25bc_4d51_ad1c_b7894358b467","uuid":"94449352-5bd6-4585-b834-a4f269aa86fc"},"name":"SYS_GEN__Runbook_Deployment_117283f8_25bc_4d51_ad1c_b7894358b467"}},{"description":"System action for restarting an application","message_list":[],"uuid":"4512cacf-99b2-4e52-a4a8-0da01e2b1a19","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"117283f8-25bc-4d51-ad1c-b7894358b467"},"retries":"0","description":"","type":"DAG","uuid":"bcbc14a1-625b-4cdd-983b-78b390251fbb","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_277d02d7_e5c9_4fac_9649_73d662f89b80","uuid":"155efa1d-0e36-43cc-b81b-16f230cc802c"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"b3483221-d39f-4a78-bb17-30ddab2fd2a4"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_277d02d7_e5c9_4fac_9649_73d662f89b80","uuid":"155efa1d-0e36-43cc-b81b-16f230cc802c"},"edge_type":"inherent","type":"","uuid":"9e5a6db7-478d-42ff-a9be-d94533efaf99","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"b3483221-d39f-4a78-bb17-30ddab2fd2a4"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_117283f8_25bc_4d51_ad1c_b7894358b467"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVSlave","uuid":"277d02d7-e5c9-4fac-9649-73d662f89b80"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"155efa1d-0e36-43cc-b81b-16f230cc802c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"117283f8-25bc-4d51-ad1c-b7894358b467"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_277d02d7_e5c9_4fac_9649_73d662f89b80","uuid":"6196ce93-8b50-458a-b43a-3aa25c58917f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Substrate_277d02d7_e5c9_4fac_9649_73d662f89b80"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"b3483221-d39f-4a78-bb17-30ddab2fd2a4","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"117283f8-25bc-4d51-ad1c-b7894358b467"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"f2b2a076_runbook","uuid":"b7162b3b-d4ba-4fba-875d-fc9c8c2c5b79"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400"}],"description":"","message_list":[],"uuid":"f7718b65-a473-4def-ab2f-ad35f1109420","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_117283f8_25bc_4d51_ad1c_b7894358b467","uuid":"bcbc14a1-625b-4cdd-983b-78b390251fbb"},"name":"SYS_GEN__Runbook_Deployment_117283f8_25bc_4d51_ad1c_b7894358b467"}},{"description":"System action for stopping an application","message_list":[],"uuid":"fa5793c7-07eb-4c34-8d18-fb9843eb6513","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"117283f8-25bc-4d51-ad1c-b7894358b467"},"retries":"0","description":"","type":"DAG","uuid":"8824b62c-fcec-418d-8633-14e863404374","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"566e5523-1df7-42f4-8d07-7d971a9dd248"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_277d02d7_e5c9_4fac_9649_73d662f89b80","uuid":"78ddb4a1-6992-4377-8c5a-f7bd72c291d4"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"566e5523-1df7-42f4-8d07-7d971a9dd248"},"edge_type":"inherent","type":"","uuid":"6b53cf4e-cd3e-40c4-b018-34371696d0f4","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_277d02d7_e5c9_4fac_9649_73d662f89b80","uuid":"78ddb4a1-6992-4377-8c5a-f7bd72c291d4"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_117283f8_25bc_4d51_ad1c_b7894358b467"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"566e5523-1df7-42f4-8d07-7d971a9dd248","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"117283f8-25bc-4d51-ad1c-b7894358b467"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"4a2ad0be_runbook","uuid":"09b1c8a9-6223-4e38-acfb-ff4754413c85"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVSlave","uuid":"277d02d7-e5c9-4fac-9649-73d662f89b80"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"78ddb4a1-6992-4377-8c5a-f7bd72c291d4","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"117283f8-25bc-4d51-ad1c-b7894358b467"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_277d02d7_e5c9_4fac_9649_73d662f89b80","uuid":"a34c2052-2480-46e5-987a-1289c240a821"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Substrate_277d02d7_e5c9_4fac_9649_73d662f89b80"}],"description":"","message_list":[],"uuid":"ff4c1b56-f583-4b5f-b65a-52a3ba334176","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_117283f8_25bc_4d51_ad1c_b7894358b467","uuid":"8824b62c-fcec-418d-8633-14e863404374"},"name":"SYS_GEN__Runbook_Deployment_117283f8_25bc_4d51_ad1c_b7894358b467"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"bec92a79-951d-4496-a77b-3657ae838c07","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"117283f8-25bc-4d51-ad1c-b7894358b467"},"retries":"0","description":"","type":"DAG","uuid":"803ac7c7-3466-4839-8c3d-48e32f9c9e53","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"d36fc203-5d9a-4959-8f8a-c1ef38e2b9d0"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"11176f55-9063-4d6d-b4cb-e5bdf1c8062d"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_bb4017ed_6571_4577_b76b_c2ae42903b6e","uuid":"4298886e-4340-4926-9248-23d022ed2224"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_277d02d7_e5c9_4fac_9649_73d662f89b80","uuid":"5abe1526-c08d-4de5-b866-dacb7a466d95"},{"kind":"app_task","name":"SYS_GEN__DE_Delete_117283f8_25bc_4d51_ad1c_b7894358b467","uuid":"fbfd37ea-daca-4373-992f-c05bffd5db6e"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"d36fc203-5d9a-4959-8f8a-c1ef38e2b9d0"},"edge_type":"inherent","type":"","uuid":"fcd614a1-3450-4cb3-a768-8e52b6721607","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"11176f55-9063-4d6d-b4cb-e5bdf1c8062d"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"11176f55-9063-4d6d-b4cb-e5bdf1c8062d"},"edge_type":"inherent","type":"","uuid":"3dcac7f9-f947-46b2-8c0b-84c34736ea34","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_bb4017ed_6571_4577_b76b_c2ae42903b6e","uuid":"4298886e-4340-4926-9248-23d022ed2224"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_bb4017ed_6571_4577_b76b_c2ae42903b6e","uuid":"4298886e-4340-4926-9248-23d022ed2224"},"edge_type":"inherent","type":"","uuid":"76d10181-ba90-4070-b3e7-761ce376f0ee","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_277d02d7_e5c9_4fac_9649_73d662f89b80","uuid":"5abe1526-c08d-4de5-b866-dacb7a466d95"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_277d02d7_e5c9_4fac_9649_73d662f89b80","uuid":"5abe1526-c08d-4de5-b866-dacb7a466d95"},"edge_type":"inherent","type":"","uuid":"7b9f6b9a-8813-4caa-acb9-37ecbff25032","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Delete_117283f8_25bc_4d51_ad1c_b7894358b467","uuid":"fbfd37ea-daca-4373-992f-c05bffd5db6e"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_117283f8_25bc_4d51_ad1c_b7894358b467"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"d36fc203-5d9a-4959-8f8a-c1ef38e2b9d0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"117283f8-25bc-4d51-ad1c-b7894358b467"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"4a2ad0be_runbook","uuid":"09b1c8a9-6223-4e38-acfb-ff4754413c85"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"11176f55-9063-4d6d-b4cb-e5bdf1c8062d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"117283f8-25bc-4d51-ad1c-b7894358b467"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"92247e35_runbook","uuid":"497a8a35-a955-4f76-8fb0-21dbd9acb6e0"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400"},{"target_any_local_reference":{"kind":"app_package","name":"AHVSlavePackage","uuid":"bb4017ed-6571-4577-b76b-c2ae42903b6e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"4298886e-4340-4926-9248-23d022ed2224","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"117283f8-25bc-4d51-ad1c-b7894358b467"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_bb4017ed_6571_4577_b76b_c2ae42903b6e","uuid":"5a1b42d3-b23f-4f90-bfe5-8b638c2d28f1"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_bb4017ed_6571_4577_b76b_c2ae42903b6e"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVSlave","uuid":"277d02d7-e5c9-4fac-9649-73d662f89b80"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"5abe1526-c08d-4de5-b866-dacb7a466d95","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"117283f8-25bc-4d51-ad1c-b7894358b467"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_277d02d7_e5c9_4fac_9649_73d662f89b80","uuid":"9bca066f-1cdb-4632-a826-de10823f16dd"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Substrate_277d02d7_e5c9_4fac_9649_73d662f89b80"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"117283f8-25bc-4d51-ad1c-b7894358b467"},"retries":"0","description":"","type":"DELETE_DEPLOYMENT_ELEMENT","uuid":"fbfd37ea-daca-4373-992f-c05bffd5db6e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Delete_117283f8_25bc_4d51_ad1c_b7894358b467"}],"description":"","message_list":[],"uuid":"00698d7b-910f-4b39-904b-59a7b9df5bc1","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_117283f8_25bc_4d51_ad1c_b7894358b467","uuid":"803ac7c7-3466-4839-8c3d-48e32f9c9e53"},"name":"SYS_GEN__Runbook_Deployment_117283f8_25bc_4d51_ad1c_b7894358b467"}},{"description":"System action for scaleout","message_list":[],"uuid":"3d827bd7-18a5-4a3f-b929-c21dad0a13dc","name":"action_scaleout","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"117283f8-25bc-4d51-ad1c-b7894358b467"},"retries":"0","description":"","type":"DAG","uuid":"0e2c3959-bc2a-40bc-9a07-c00e353e23c5","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Deployment_Scaleout_117283f8_25bc_4d51_ad1c_b7894358b467","uuid":"f186a23c-bd8c-4bb0-a35f-1a3150d9e712"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_117283f8_25bc_4d51_ad1c_b7894358b467"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"117283f8-25bc-4d51-ad1c-b7894358b467"},"retries":"0","description":"","type":"SCALING","uuid":"f186a23c-bd8c-4bb0-a35f-1a3150d9e712","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{scaling_count}@@","type":"","scaling_type":"SCALEOUT"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Deployment_Scaleout_117283f8_25bc_4d51_ad1c_b7894358b467"}],"description":"","message_list":[],"uuid":"481edc8c-28e3-47d5-9d1e-d5be97bfb1f2","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"bb3f652b-d186-4653-b0c9-c5dce3fe491f","value":"0","label":"","state":"NOT_VALIDATED","attrs":{},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"scaling_count"}],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_117283f8_25bc_4d51_ad1c_b7894358b467","uuid":"0e2c3959-bc2a-40bc-9a07-c00e353e23c5"},"name":"SYS_GEN__Runbook_Deployment_117283f8_25bc_4d51_ad1c_b7894358b467"}},{"description":"System action for scalein","message_list":[],"uuid":"ab7d29b9-6fd3-49f2-8018-7c4370e2922c","name":"action_scalein","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"117283f8-25bc-4d51-ad1c-b7894358b467"},"retries":"0","description":"","type":"DAG","uuid":"775be2fb-bbd2-4e27-a0b8-622d265f9559","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Deployment_Scalein_117283f8_25bc_4d51_ad1c_b7894358b467","uuid":"fb8f02da-c46a-4f68-b786-b45b3ea207c6"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_117283f8_25bc_4d51_ad1c_b7894358b467"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"117283f8-25bc-4d51-ad1c-b7894358b467"},"retries":"0","description":"","type":"SCALING","uuid":"fb8f02da-c46a-4f68-b786-b45b3ea207c6","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{scaling_count}@@","type":"","scaling_type":"SCALEIN"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Deployment_Scalein_117283f8_25bc_4d51_ad1c_b7894358b467"}],"description":"","message_list":[],"uuid":"361efa66-f477-4e58-9946-17bb3dfa42a4","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"53c15137-c792-42f0-808a-04abc4c68513","value":"0","label":"","state":"NOT_VALIDATED","attrs":{},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"scaling_count"}],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_117283f8_25bc_4d51_ad1c_b7894358b467","uuid":"775be2fb-bbd2-4e27-a0b8-622d265f9559"},"name":"SYS_GEN__Runbook_Deployment_117283f8_25bc_4d51_ad1c_b7894358b467"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"17680fef-0500-42d7-864f-abd30b31b335","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"117283f8-25bc-4d51-ad1c-b7894358b467"},"retries":"0","description":"","type":"DAG","uuid":"81d04b68-2a95-48a0-84ed-b7c4911618d3","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"ac87bebd-e1bc-4e37-98e3-c212e666a97e"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_bb4017ed_6571_4577_b76b_c2ae42903b6e","uuid":"083f9ad2-4cd9-45b7-b30e-9522a26f5627"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_277d02d7_e5c9_4fac_9649_73d662f89b80","uuid":"7365bc0c-2e6a-49df-a82d-6c7b9b5a5641"},{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_117283f8_25bc_4d51_ad1c_b7894358b467","uuid":"963d036b-0ce8-4aae-9536-97ef253adc88"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"ac87bebd-e1bc-4e37-98e3-c212e666a97e"},"edge_type":"inherent","type":"","uuid":"c5341cba-8a00-4091-9d3e-00f99517008d","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_bb4017ed_6571_4577_b76b_c2ae42903b6e","uuid":"083f9ad2-4cd9-45b7-b30e-9522a26f5627"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_277d02d7_e5c9_4fac_9649_73d662f89b80","uuid":"7365bc0c-2e6a-49df-a82d-6c7b9b5a5641"},"edge_type":"inherent","type":"","uuid":"9d90c71b-80bd-4c29-b6ec-4caf7d8cfb6e","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_117283f8_25bc_4d51_ad1c_b7894358b467","uuid":"963d036b-0ce8-4aae-9536-97ef253adc88"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_bb4017ed_6571_4577_b76b_c2ae42903b6e","uuid":"083f9ad2-4cd9-45b7-b30e-9522a26f5627"},"edge_type":"inherent","type":"","uuid":"301f68ab-cda8-4fce-819e-62f2a2b831b3","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_277d02d7_e5c9_4fac_9649_73d662f89b80","uuid":"7365bc0c-2e6a-49df-a82d-6c7b9b5a5641"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_117283f8_25bc_4d51_ad1c_b7894358b467"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"ac87bebd-e1bc-4e37-98e3-c212e666a97e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"117283f8-25bc-4d51-ad1c-b7894358b467"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"6cdcc89d-fd42-4e8a-9e97-40576d559005"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400"},{"target_any_local_reference":{"kind":"app_package","name":"AHVSlavePackage","uuid":"bb4017ed-6571-4577-b76b-c2ae42903b6e"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"083f9ad2-4cd9-45b7-b30e-9522a26f5627","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_bb4017ed_6571_4577_b76b_c2ae42903b6e"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVSlave","uuid":"277d02d7-e5c9-4fac-9649-73d662f89b80"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"7365bc0c-2e6a-49df-a82d-6c7b9b5a5641","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"117283f8-25bc-4d51-ad1c-b7894358b467"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_277d02d7_e5c9_4fac_9649_73d662f89b80","uuid":"50e9c358-38d6-4cf9-965d-f6a5a58d7df4"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Substrate_277d02d7_e5c9_4fac_9649_73d662f89b80"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"117283f8-25bc-4d51-ad1c-b7894358b467"},"retries":"0","description":"","type":"SOFT_DELETE_DEPLOYMENT_ELEMENT","uuid":"963d036b-0ce8-4aae-9536-97ef253adc88","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Soft_Delete_117283f8_25bc_4d51_ad1c_b7894358b467"}],"description":"","message_list":[],"uuid":"dcd5a287-fe44-4095-8a95-69840c3a8cc4","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_117283f8_25bc_4d51_ad1c_b7894358b467","uuid":"81d04b68-2a95-48a0-84ed-b7c4911618d3"},"name":"SYS_GEN__Runbook_Deployment_117283f8_25bc_4d51_ad1c_b7894358b467"}}],"message_list":[],"published_service_local_reference_list":[],"uuid":"117283f8-25bc-4d51-ad1c-b7894358b467","min_replicas":"1","state":"ACTIVE","max_replicas":"3","depends_on_list":[],"editables":{"min_replicas":true,"max_replicas":true},"package_local_reference_list":[{"kind":"app_package","name":"AHVSlavePackage","uuid":"bb4017ed-6571-4577-b76b-c2ae42903b6e"}],"substrate_local_reference":{"kind":"app_substrate","name":"AHVSlave","uuid":"277d02d7-e5c9-4fac-9649-73d662f89b80"},"type":"GREENFIELD","options":{},"variable_list":[],"name":"de329770_deployment"}],"description":"","action_list":[{"description":"Take DB Backup. Specify absolute directory path for BACKUP_FILE_PATH","message_list":[],"uuid":"1f29a818-7b2f-4bdf-b84f-0b7580c582ba","name":"Backup","state":"ACTIVE","critical":false,"attrs":{},"type":"user","runbook":{"task_definition_list":[{"retries":"0","description":"","type":"DAG","uuid":"81f2d495-1229-4fb6-83f7-8188b9875df3","child_tasks_local_reference_list":[{"kind":"app_task","name":"DB Backup","uuid":"d1a087cc-eebc-4d18-ac59-5781ce298756"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"3e7d744d_dag"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"EXEC","uuid":"d1a087cc-eebc-4d18-ac59-5781ce298756","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n### Setup variables\nmysql_password=\"@@{MYSQL_PASSWORD}@@\"\ndate_part=`date +%F`\nmkdir -p @@{BACKUP_FILE_PATH}@@\nsudo mysqldump -u root -p${mysql_password} --all-databases | sudo gzip -9 > @@{BACKUP_FILE_PATH}@@\/db_dump.sql.gz","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"DB Backup"}],"description":"","message_list":[],"uuid":"8003fe12-f08d-4d3a-80f2-09a0fd6c4272","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"41a841c7-521e-463d-bd51-376cb4461621","value":"~\/db_backup","label":"","state":"ACTIVE","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"BACKUP_FILE_PATH"}],"main_task_local_reference":{"kind":"app_task","name":"3e7d744d_dag","uuid":"81f2d495-1229-4fb6-83f7-8188b9875df3"},"name":"c6cd4595_runbook"}},{"description":"To restore DB from dump file. Specify absolute directory path for RESTORE_FILE_PATH","message_list":[],"uuid":"ca885a40-9cea-420d-a37c-5aa7f220b55d","name":"Restore","state":"ACTIVE","critical":false,"attrs":{},"type":"user","runbook":{"task_definition_list":[{"retries":"0","description":"","type":"DAG","uuid":"947b81f0-2e9d-47c9-a6c5-002b19473357","child_tasks_local_reference_list":[{"kind":"app_task","name":"DB Restore","uuid":"3c7ed9a4-99db-43e5-b8b5-e7c09c119bc1"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"458965d2_dag"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"EXEC","uuid":"3c7ed9a4-99db-43e5-b8b5-e7c09c119bc1","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n### Setup variables\nmysql_password=\"@@{MYSQL_PASSWORD}@@\"\ndb_file=@@{RESTORE_FILE_PATH}@@\n\nsudo gunzip < $db_file | sudo mysql -u root -p${mysql_password} ","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"DB Restore"}],"description":"","message_list":[],"uuid":"960b389b-0fb1-4c76-9de1-0c6e71ef284c","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"492900f8-166d-4bd9-acf0-676a5b39faa1","value":"~\/db_backup\/db_dump.sql.gz","label":"","state":"ACTIVE","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"RESTORE_FILE_PATH"}],"main_task_local_reference":{"kind":"app_task","name":"458965d2_dag","uuid":"947b81f0-2e9d-47c9-a6c5-002b19473357"},"name":"412d41ad_runbook"}},{"description":"This action will scale out db slaves by given scale out count.","message_list":[],"uuid":"708e8bb3-f0bb-4703-88c5-b892de8060cc","name":"ScaleOut","state":"ACTIVE","critical":false,"attrs":{},"type":"user","runbook":{"task_definition_list":[{"retries":"0","description":"","type":"DAG","uuid":"613c72b5-1e57-48fd-a46c-2794aaec49ec","child_tasks_local_reference_list":[{"kind":"app_task","name":"Scale Out","uuid":"2a22b13c-d148-432f-97e2-408ffc091bc9"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"0d5ad4a7_dag"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"117283f8-25bc-4d51-ad1c-b7894358b467"},"retries":"0","description":"","type":"SCALING","uuid":"2a22b13c-d148-432f-97e2-408ffc091bc9","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{COUNT}@@","type":"","scaling_type":"SCALEOUT"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Scale Out"}],"description":"","message_list":[],"uuid":"c513c1a3-f204-4cea-9a26-5de7d6fe423b","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"cd78eb71-5af2-4519-af76-3d2bcdf9562b","value":"1","label":"","state":"ACTIVE","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"COUNT"}],"main_task_local_reference":{"kind":"app_task","name":"0d5ad4a7_dag","uuid":"613c72b5-1e57-48fd-a46c-2794aaec49ec"},"name":"45be859a_runbook"}},{"description":"This action will scale in db slaves by given scale out count.","message_list":[],"uuid":"0658f42d-980c-45aa-adb5-bb21761c018c","name":"ScaleIn","state":"ACTIVE","critical":false,"attrs":{},"type":"user","runbook":{"task_definition_list":[{"retries":"0","description":"","type":"DAG","uuid":"f0482dff-e531-4b52-a5d8-abe84804df1d","child_tasks_local_reference_list":[{"kind":"app_task","name":"Scale In","uuid":"4e91e371-7a25-41d6-beaa-d6ce1ba8157b"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"6baa6164_dag"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"117283f8-25bc-4d51-ad1c-b7894358b467"},"retries":"0","description":"","type":"SCALING","uuid":"4e91e371-7a25-41d6-beaa-d6ce1ba8157b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{COUNT}@@","type":"","scaling_type":"SCALEIN"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Scale In"}],"description":"","message_list":[],"uuid":"16ad9b40-0745-4a94-ae4b-4ef7e557c4fc","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"f473331c-5f63-4422-b631-8af3361c5495","value":"1","label":"","state":"ACTIVE","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"COUNT"}],"main_task_local_reference":{"kind":"app_task","name":"6baa6164_dag","uuid":"f0482dff-e531-4b52-a5d8-abe84804df1d"},"name":"16496c32_runbook"}},{"description":"System action for creating an application","message_list":[],"uuid":"3493f99e-e10e-4a14-8ab6-0ec8810ed309","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"Nutanix","uuid":"38b3e6e0-d6fb-46d4-8afe-8d60d458c2ca"},"retries":"0","description":"","type":"DAG","uuid":"0bc273fd-663d-4fc4-8d94-8914e1bebb45","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__DE_Provision_baaebcb4_0874_4eab_9b07_7ff13ee8a86c","uuid":"d2508470-a0d3-4c42-899f-9795dff7b0b0"},{"kind":"app_task","name":"SYS_GEN__DE_Provision_117283f8_25bc_4d51_ad1c_b7894358b467","uuid":"e64d77c0-5b32-4be4-969d-a592f2202050"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_a7955a04_2023_483b_8c51_1284d919a1c7","uuid":"feec6c6d-11e6-42be-b917-2482570bf894"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_a7955a04_2023_483b_8c51_1284d919a1c7_1","uuid":"a0e5c8f3-7e15-4c79-8c90-156764f5f5bc"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_277d02d7_e5c9_4fac_9649_73d662f89b80","uuid":"27023259-e5be-471b-b022-e6803f6b4f2d"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_fcfab67a_6fcb_47c1_866e_ef3e11899887","uuid":"147bcc19-6766-4c68-995e-b0ae5e2029c3"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_e322b0f6_258b_4378_9523_eab4a877f899","uuid":"fdf26aff-c10b-4c47-9878-4ca162dd2a62"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_bb4017ed_6571_4577_b76b_c2ae42903b6e","uuid":"31d90353-25d8-49a8-baf2-0ded406f7cd9"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"61d408a0-665f-4017-8626-a67017874e1a"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"4aaea17f-1f12-4794-a5b5-1046fae0c0eb"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"f19336f7-bf7e-4390-ab87-cfb982980308"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"353561eb-819f-46cc-930d-5a81e0044c73"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"f19336f7-bf7e-4390-ab87-cfb982980308"},"edge_type":"inherent","type":"","uuid":"70bffdba-91a3-48a7-a537-62e62c11de5e","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"353561eb-819f-46cc-930d-5a81e0044c73"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_bb4017ed_6571_4577_b76b_c2ae42903b6e","uuid":"31d90353-25d8-49a8-baf2-0ded406f7cd9"},"edge_type":"inherent","type":"","uuid":"96aeff5b-483d-42ed-b606-7fd12ae7507a","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"f19336f7-bf7e-4390-ab87-cfb982980308"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_a7955a04_2023_483b_8c51_1284d919a1c7","uuid":"feec6c6d-11e6-42be-b917-2482570bf894"},"edge_type":"inherent","type":"","uuid":"1fcec8d7-d64d-4495-af59-59bc5c0da85d","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_277d02d7_e5c9_4fac_9649_73d662f89b80","uuid":"27023259-e5be-471b-b022-e6803f6b4f2d"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_277d02d7_e5c9_4fac_9649_73d662f89b80","uuid":"27023259-e5be-471b-b022-e6803f6b4f2d"},"edge_type":"inherent","type":"","uuid":"ae6c9a81-c43b-4438-b6bd-0effe0e1caad","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_bb4017ed_6571_4577_b76b_c2ae42903b6e","uuid":"31d90353-25d8-49a8-baf2-0ded406f7cd9"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_117283f8_25bc_4d51_ad1c_b7894358b467","uuid":"e64d77c0-5b32-4be4-969d-a592f2202050"},"edge_type":"inherent","type":"","uuid":"6e0cc791-fa8c-47f9-a62b-ab824e5ed8f9","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_277d02d7_e5c9_4fac_9649_73d662f89b80","uuid":"27023259-e5be-471b-b022-e6803f6b4f2d"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_117283f8_25bc_4d51_ad1c_b7894358b467","uuid":"e64d77c0-5b32-4be4-969d-a592f2202050"},"edge_type":"inherent","type":"","uuid":"fda0f983-85a4-4a71-8ad7-30671ea3563c","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_a7955a04_2023_483b_8c51_1284d919a1c7","uuid":"feec6c6d-11e6-42be-b917-2482570bf894"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"61d408a0-665f-4017-8626-a67017874e1a"},"edge_type":"inherent","type":"","uuid":"55937725-d96f-4470-b541-d39d134e880e","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"4aaea17f-1f12-4794-a5b5-1046fae0c0eb"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_e322b0f6_258b_4378_9523_eab4a877f899","uuid":"fdf26aff-c10b-4c47-9878-4ca162dd2a62"},"edge_type":"inherent","type":"","uuid":"476370bc-9600-47b0-aed0-f83ccdfd5457","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"61d408a0-665f-4017-8626-a67017874e1a"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_fcfab67a_6fcb_47c1_866e_ef3e11899887","uuid":"147bcc19-6766-4c68-995e-b0ae5e2029c3"},"edge_type":"inherent","type":"","uuid":"41f68ce4-c721-4945-9a64-2d7afa1dba47","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_e322b0f6_258b_4378_9523_eab4a877f899","uuid":"fdf26aff-c10b-4c47-9878-4ca162dd2a62"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_a7955a04_2023_483b_8c51_1284d919a1c7_1","uuid":"a0e5c8f3-7e15-4c79-8c90-156764f5f5bc"},"edge_type":"inherent","type":"","uuid":"36af429e-a30c-4713-8daf-cfd1122e89d8","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_fcfab67a_6fcb_47c1_866e_ef3e11899887","uuid":"147bcc19-6766-4c68-995e-b0ae5e2029c3"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_baaebcb4_0874_4eab_9b07_7ff13ee8a86c","uuid":"d2508470-a0d3-4c42-899f-9795dff7b0b0"},"edge_type":"inherent","type":"","uuid":"b7358d82-5b5a-48c7-b2a7-027eba8cd9a9","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_fcfab67a_6fcb_47c1_866e_ef3e11899887","uuid":"147bcc19-6766-4c68-995e-b0ae5e2029c3"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_baaebcb4_0874_4eab_9b07_7ff13ee8a86c","uuid":"d2508470-a0d3-4c42-899f-9795dff7b0b0"},"edge_type":"inherent","type":"","uuid":"a8da67fe-4772-42e0-b4c7-89ba9491ebb1","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_a7955a04_2023_483b_8c51_1284d919a1c7_1","uuid":"a0e5c8f3-7e15-4c79-8c90-156764f5f5bc"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"4aaea17f-1f12-4794-a5b5-1046fae0c0eb"},"edge_type":"depends_on","type":"","uuid":"aa7cd1b8-959c-4387-a17a-2547c74a16bd","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"f19336f7-bf7e-4390-ab87-cfb982980308"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_38b3e6e0_d6fb_46d4_8afe_8d60d458c2ca"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"baaebcb4-0874-4eab-9b07-7ff13ee8a86c"},"retries":"0","description":"","type":"CREATE_DEPLOYMENT_ELEMENT","uuid":"d2508470-a0d3-4c42-899f-9795dff7b0b0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Provision_baaebcb4_0874_4eab_9b07_7ff13ee8a86c"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"117283f8-25bc-4d51-ad1c-b7894358b467"},"retries":"0","description":"","type":"CREATE_DEPLOYMENT_ELEMENT","uuid":"e64d77c0-5b32-4be4-969d-a592f2202050","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Provision_117283f8_25bc_4d51_ad1c_b7894358b467"},{"target_any_local_reference":{"kind":"app_package","name":"AHV_CENTOS_76","uuid":"a7955a04-2023-483b-8c51-1284d919a1c7"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"feec6c6d-11e6-42be-b917-2482570bf894","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"117283f8-25bc-4d51-ad1c-b7894358b467"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_a7955a04_2023_483b_8c51_1284d919a1c7","uuid":"20a24a3f-4d04-4b57-9901-38603512a361"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_a7955a04_2023_483b_8c51_1284d919a1c7"},{"target_any_local_reference":{"kind":"app_package","name":"AHV_CENTOS_76","uuid":"a7955a04-2023-483b-8c51-1284d919a1c7"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"a0e5c8f3-7e15-4c79-8c90-156764f5f5bc","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"baaebcb4-0874-4eab-9b07-7ff13ee8a86c"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_a7955a04_2023_483b_8c51_1284d919a1c7","uuid":"20a24a3f-4d04-4b57-9901-38603512a361"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_a7955a04_2023_483b_8c51_1284d919a1c7_1"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVSlave","uuid":"277d02d7-e5c9-4fac-9649-73d662f89b80"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"27023259-e5be-471b-b022-e6803f6b4f2d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"117283f8-25bc-4d51-ad1c-b7894358b467"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_277d02d7_e5c9_4fac_9649_73d662f89b80","uuid":"4558e5e0-dc42-4fc8-aa1d-eee29b8c73ed"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Substrate_277d02d7_e5c9_4fac_9649_73d662f89b80"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVMaster","uuid":"fcfab67a-6fcb-47c1-866e-ef3e11899887"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"147bcc19-6766-4c68-995e-b0ae5e2029c3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"baaebcb4-0874-4eab-9b07-7ff13ee8a86c"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_fcfab67a_6fcb_47c1_866e_ef3e11899887","uuid":"338f05f2-b6b8-4672-aa98-009d21f24f5f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Substrate_fcfab67a_6fcb_47c1_866e_ef3e11899887"},{"target_any_local_reference":{"kind":"app_package","name":"AHVMasterPackage","uuid":"e322b0f6-258b-4378-9523-eab4a877f899"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"fdf26aff-c10b-4c47-9878-4ca162dd2a62","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"baaebcb4-0874-4eab-9b07-7ff13ee8a86c"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_e322b0f6_258b_4378_9523_eab4a877f899","uuid":"6fb2000e-8a69-456f-b822-775fe78d2565"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_e322b0f6_258b_4378_9523_eab4a877f899"},{"target_any_local_reference":{"kind":"app_package","name":"AHVSlavePackage","uuid":"bb4017ed-6571-4577-b76b-c2ae42903b6e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"31d90353-25d8-49a8-baf2-0ded406f7cd9","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"117283f8-25bc-4d51-ad1c-b7894358b467"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_bb4017ed_6571_4577_b76b_c2ae42903b6e","uuid":"976af3b1-7d68-435a-a609-0792b922844b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_bb4017ed_6571_4577_b76b_c2ae42903b6e"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"61d408a0-665f-4017-8626-a67017874e1a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"baaebcb4-0874-4eab-9b07-7ff13ee8a86c"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0a970522_runbook","uuid":"f2803b23-af0b-4afd-8a2f-ef666adf85c8"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"4aaea17f-1f12-4794-a5b5-1046fae0c0eb","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"baaebcb4-0874-4eab-9b07-7ff13ee8a86c"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"5ddb28d1_runbook","uuid":"f88c4d73-c0ab-488b-a016-3e1453b91891"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"f19336f7-bf7e-4390-ab87-cfb982980308","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"117283f8-25bc-4d51-ad1c-b7894358b467"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"d54168c9_runbook","uuid":"e509001d-6b88-4a64-813c-0ce8ea81991a"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"353561eb-819f-46cc-930d-5a81e0044c73","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"117283f8-25bc-4d51-ad1c-b7894358b467"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"a027cde0_runbook","uuid":"0afbc7f3-5541-415f-9616-c459f09806b2"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400"}],"description":"","message_list":[],"uuid":"cc8beabe-3fd8-463e-b2ca-0ee4f91eb7f4","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_38b3e6e0_d6fb_46d4_8afe_8d60d458c2ca","uuid":"0bc273fd-663d-4fc4-8d94-8914e1bebb45"},"name":"SYS_GEN__Runbook_Application_38b3e6e0_d6fb_46d4_8afe_8d60d458c2ca"}},{"description":"System action for starting an application","message_list":[],"uuid":"b46c3a55-46cc-45be-a3ae-afc14ce0d9ea","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"Nutanix","uuid":"38b3e6e0-d6fb-46d4-8afe-8d60d458c2ca"},"retries":"0","description":"","type":"DAG","uuid":"ca577b38-7e11-4c70-84f6-68a1c885ba63","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_277d02d7_e5c9_4fac_9649_73d662f89b80","uuid":"3c549c22-4c86-4473-8440-31d638379608"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_fcfab67a_6fcb_47c1_866e_ef3e11899887","uuid":"49544784-0030-4e05-ad1d-642448c506c7"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"c34e046b-4c03-4961-a0c6-8383b130282b"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"e57fd356-0f7e-4bb0-8fcc-cfb2020b7429"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_277d02d7_e5c9_4fac_9649_73d662f89b80","uuid":"3c549c22-4c86-4473-8440-31d638379608"},"edge_type":"inherent","type":"","uuid":"61dfb641-822b-49f2-b2c2-583e5b38b68c","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"e57fd356-0f7e-4bb0-8fcc-cfb2020b7429"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_fcfab67a_6fcb_47c1_866e_ef3e11899887","uuid":"49544784-0030-4e05-ad1d-642448c506c7"},"edge_type":"inherent","type":"","uuid":"932fcd29-b1d2-41c4-9746-ccfa75faa655","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"c34e046b-4c03-4961-a0c6-8383b130282b"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"c34e046b-4c03-4961-a0c6-8383b130282b"},"edge_type":"depends_on","type":"","uuid":"4daea082-8e88-40ac-b826-f370ff815ab9","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"e57fd356-0f7e-4bb0-8fcc-cfb2020b7429"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_38b3e6e0_d6fb_46d4_8afe_8d60d458c2ca"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVSlave","uuid":"277d02d7-e5c9-4fac-9649-73d662f89b80"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"3c549c22-4c86-4473-8440-31d638379608","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"117283f8-25bc-4d51-ad1c-b7894358b467"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_277d02d7_e5c9_4fac_9649_73d662f89b80","uuid":"6738a8cc-4db5-4f23-8b3e-d3e3c513954d"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Substrate_277d02d7_e5c9_4fac_9649_73d662f89b80"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVMaster","uuid":"fcfab67a-6fcb-47c1-866e-ef3e11899887"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"49544784-0030-4e05-ad1d-642448c506c7","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"baaebcb4-0874-4eab-9b07-7ff13ee8a86c"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_fcfab67a_6fcb_47c1_866e_ef3e11899887","uuid":"d9b8158f-321e-423e-8b62-429217ddd8c6"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Substrate_fcfab67a_6fcb_47c1_866e_ef3e11899887"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"c34e046b-4c03-4961-a0c6-8383b130282b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"baaebcb4-0874-4eab-9b07-7ff13ee8a86c"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"5ddb28d1_runbook","uuid":"f88c4d73-c0ab-488b-a016-3e1453b91891"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"e57fd356-0f7e-4bb0-8fcc-cfb2020b7429","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"117283f8-25bc-4d51-ad1c-b7894358b467"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"a027cde0_runbook","uuid":"0afbc7f3-5541-415f-9616-c459f09806b2"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400"}],"description":"","message_list":[],"uuid":"0db89e86-76ff-4822-8f2d-48821ee16e4b","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_38b3e6e0_d6fb_46d4_8afe_8d60d458c2ca","uuid":"ca577b38-7e11-4c70-84f6-68a1c885ba63"},"name":"SYS_GEN__Runbook_Application_38b3e6e0_d6fb_46d4_8afe_8d60d458c2ca"}},{"description":"System action for restarting an application","message_list":[],"uuid":"707982a7-436d-4da4-83e7-96b8d4046539","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"Nutanix","uuid":"38b3e6e0-d6fb-46d4-8afe-8d60d458c2ca"},"retries":"0","description":"","type":"DAG","uuid":"90b94ef6-af4c-4374-a95e-7cba0372adc9","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_fcfab67a_6fcb_47c1_866e_ef3e11899887","uuid":"fe9c2d75-d475-4c9f-8919-dd5afedd20dc"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_277d02d7_e5c9_4fac_9649_73d662f89b80","uuid":"413f790c-81b7-4324-a937-c7691e9c90c2"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"6f9b2d3b-8532-435f-9f0f-a31398593125"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"5d1580d5-d43b-4d28-b5ff-6fe6212653e8"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_277d02d7_e5c9_4fac_9649_73d662f89b80","uuid":"413f790c-81b7-4324-a937-c7691e9c90c2"},"edge_type":"inherent","type":"","uuid":"41423d38-9aef-43fe-9ec0-ad8bcf511810","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"5d1580d5-d43b-4d28-b5ff-6fe6212653e8"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_fcfab67a_6fcb_47c1_866e_ef3e11899887","uuid":"fe9c2d75-d475-4c9f-8919-dd5afedd20dc"},"edge_type":"inherent","type":"","uuid":"c2c86676-ba48-4726-9e09-5d3f5996b241","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"6f9b2d3b-8532-435f-9f0f-a31398593125"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"6f9b2d3b-8532-435f-9f0f-a31398593125"},"edge_type":"depends_on","type":"","uuid":"86fe812e-e9c3-4c75-b397-fa98eea475df","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"5d1580d5-d43b-4d28-b5ff-6fe6212653e8"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_38b3e6e0_d6fb_46d4_8afe_8d60d458c2ca"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVMaster","uuid":"fcfab67a-6fcb-47c1-866e-ef3e11899887"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"fe9c2d75-d475-4c9f-8919-dd5afedd20dc","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"baaebcb4-0874-4eab-9b07-7ff13ee8a86c"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_fcfab67a_6fcb_47c1_866e_ef3e11899887","uuid":"e439f74a-6a84-418e-8f2a-80c8d0096cab"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Substrate_fcfab67a_6fcb_47c1_866e_ef3e11899887"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVSlave","uuid":"277d02d7-e5c9-4fac-9649-73d662f89b80"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"413f790c-81b7-4324-a937-c7691e9c90c2","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"117283f8-25bc-4d51-ad1c-b7894358b467"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_277d02d7_e5c9_4fac_9649_73d662f89b80","uuid":"6196ce93-8b50-458a-b43a-3aa25c58917f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Substrate_277d02d7_e5c9_4fac_9649_73d662f89b80"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"6f9b2d3b-8532-435f-9f0f-a31398593125","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"baaebcb4-0874-4eab-9b07-7ff13ee8a86c"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"7e709238_runbook","uuid":"6beb8e29-06b2-4218-a1fd-18c28d8c6218"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"5d1580d5-d43b-4d28-b5ff-6fe6212653e8","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"117283f8-25bc-4d51-ad1c-b7894358b467"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"f2b2a076_runbook","uuid":"b7162b3b-d4ba-4fba-875d-fc9c8c2c5b79"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400"}],"description":"","message_list":[],"uuid":"014527d5-407a-4cc4-92cc-79be8ef6a0f8","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_38b3e6e0_d6fb_46d4_8afe_8d60d458c2ca","uuid":"90b94ef6-af4c-4374-a95e-7cba0372adc9"},"name":"SYS_GEN__Runbook_Application_38b3e6e0_d6fb_46d4_8afe_8d60d458c2ca"}},{"description":"System action for stopping an application","message_list":[],"uuid":"eddf6596-3730-4539-8006-da9becc09070","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"Nutanix","uuid":"38b3e6e0-d6fb-46d4-8afe-8d60d458c2ca"},"retries":"0","description":"","type":"DAG","uuid":"6dd946cb-07fa-4b1c-95c9-0b244c430a4e","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"ea53a068-00d2-4e96-baef-2804cf3bb51b"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_277d02d7_e5c9_4fac_9649_73d662f89b80","uuid":"dd8cc49b-c84e-4c17-a2da-6d23de0b1636"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"e556a4b3-d145-424f-b936-7192971ea604"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_fcfab67a_6fcb_47c1_866e_ef3e11899887","uuid":"64c29c06-9b1e-41d8-a6f4-3b90834e0b52"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"ea53a068-00d2-4e96-baef-2804cf3bb51b"},"edge_type":"inherent","type":"","uuid":"17351894-fd58-480c-8b24-b578938a8617","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_277d02d7_e5c9_4fac_9649_73d662f89b80","uuid":"dd8cc49b-c84e-4c17-a2da-6d23de0b1636"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"e556a4b3-d145-424f-b936-7192971ea604"},"edge_type":"inherent","type":"","uuid":"dff1c074-1011-4dd5-ba11-536c93569622","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_fcfab67a_6fcb_47c1_866e_ef3e11899887","uuid":"64c29c06-9b1e-41d8-a6f4-3b90834e0b52"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"ea53a068-00d2-4e96-baef-2804cf3bb51b"},"edge_type":"depends_on","type":"","uuid":"35c2f013-8b6d-46cc-a53b-9635605bc031","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"e556a4b3-d145-424f-b936-7192971ea604"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_38b3e6e0_d6fb_46d4_8afe_8d60d458c2ca"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"ea53a068-00d2-4e96-baef-2804cf3bb51b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"117283f8-25bc-4d51-ad1c-b7894358b467"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"4a2ad0be_runbook","uuid":"09b1c8a9-6223-4e38-acfb-ff4754413c85"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVSlave","uuid":"277d02d7-e5c9-4fac-9649-73d662f89b80"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"dd8cc49b-c84e-4c17-a2da-6d23de0b1636","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"117283f8-25bc-4d51-ad1c-b7894358b467"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_277d02d7_e5c9_4fac_9649_73d662f89b80","uuid":"a34c2052-2480-46e5-987a-1289c240a821"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Substrate_277d02d7_e5c9_4fac_9649_73d662f89b80"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"e556a4b3-d145-424f-b936-7192971ea604","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"baaebcb4-0874-4eab-9b07-7ff13ee8a86c"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0aefbca3_runbook","uuid":"a75d0021-cf2d-4da4-85dc-56ee0ed9e9eb"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVMaster","uuid":"fcfab67a-6fcb-47c1-866e-ef3e11899887"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"64c29c06-9b1e-41d8-a6f4-3b90834e0b52","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"baaebcb4-0874-4eab-9b07-7ff13ee8a86c"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_fcfab67a_6fcb_47c1_866e_ef3e11899887","uuid":"b1ca51f0-0c70-453a-b9e3-3aa0d6aaa266"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Substrate_fcfab67a_6fcb_47c1_866e_ef3e11899887"}],"description":"","message_list":[],"uuid":"11c9580b-cbea-4c8b-9ae9-cbb367411421","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_38b3e6e0_d6fb_46d4_8afe_8d60d458c2ca","uuid":"6dd946cb-07fa-4b1c-95c9-0b244c430a4e"},"name":"SYS_GEN__Runbook_Application_38b3e6e0_d6fb_46d4_8afe_8d60d458c2ca"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"3311d5e8-e13c-4eb7-8047-43ac4788475e","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"Nutanix","uuid":"38b3e6e0-d6fb-46d4-8afe-8d60d458c2ca"},"retries":"0","description":"","type":"DAG","uuid":"a83b91ae-2c09-449d-bd11-e006b9ee1533","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"d776c347-2a10-4017-96b5-7c7216e02521"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"3a1a54b0-d21e-4357-9395-8bdd457c8516"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_bb4017ed_6571_4577_b76b_c2ae42903b6e","uuid":"e7f74e9f-13d5-466f-bfd4-c4171bd9adad"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"5d468369-b013-4267-bd0b-025e33420e46"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"d754fa27-6c4b-4319-8832-aa1d7671fe24"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_277d02d7_e5c9_4fac_9649_73d662f89b80","uuid":"bddcf90a-c874-4f01-a7c4-83835225bfe9"},{"kind":"app_task","name":"SYS_GEN__DE_Delete_117283f8_25bc_4d51_ad1c_b7894358b467","uuid":"bccee969-558b-4b59-88ba-f3f50b3b34aa"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_e322b0f6_258b_4378_9523_eab4a877f899","uuid":"90484177-4ae3-44f7-9511-18a400d1bf2b"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_fcfab67a_6fcb_47c1_866e_ef3e11899887","uuid":"4e0216a3-a1ec-451a-a59a-57220cb05b5c"},{"kind":"app_task","name":"SYS_GEN__DE_Delete_baaebcb4_0874_4eab_9b07_7ff13ee8a86c","uuid":"d4cdf1a9-8289-4165-b45a-9a7a16ada8b2"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"d776c347-2a10-4017-96b5-7c7216e02521"},"edge_type":"inherent","type":"","uuid":"ecf90230-e31c-4c78-9c1f-18e2b286d2fc","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"3a1a54b0-d21e-4357-9395-8bdd457c8516"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"3a1a54b0-d21e-4357-9395-8bdd457c8516"},"edge_type":"inherent","type":"","uuid":"4ff83839-9be8-41ad-936d-faf8f3e0b77c","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_bb4017ed_6571_4577_b76b_c2ae42903b6e","uuid":"e7f74e9f-13d5-466f-bfd4-c4171bd9adad"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_bb4017ed_6571_4577_b76b_c2ae42903b6e","uuid":"e7f74e9f-13d5-466f-bfd4-c4171bd9adad"},"edge_type":"inherent","type":"","uuid":"15794749-0cb5-4548-be05-49de44a76166","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_277d02d7_e5c9_4fac_9649_73d662f89b80","uuid":"bddcf90a-c874-4f01-a7c4-83835225bfe9"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_277d02d7_e5c9_4fac_9649_73d662f89b80","uuid":"bddcf90a-c874-4f01-a7c4-83835225bfe9"},"edge_type":"inherent","type":"","uuid":"526416e1-0049-46c3-a0e4-089f7f131cfe","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Delete_117283f8_25bc_4d51_ad1c_b7894358b467","uuid":"bccee969-558b-4b59-88ba-f3f50b3b34aa"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"5d468369-b013-4267-bd0b-025e33420e46"},"edge_type":"inherent","type":"","uuid":"581ae836-4fc7-44b7-b8a0-bc557c147bf6","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"d754fa27-6c4b-4319-8832-aa1d7671fe24"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"d754fa27-6c4b-4319-8832-aa1d7671fe24"},"edge_type":"inherent","type":"","uuid":"dd14177f-4f64-4406-a039-aed8a65b122f","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_e322b0f6_258b_4378_9523_eab4a877f899","uuid":"90484177-4ae3-44f7-9511-18a400d1bf2b"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_fcfab67a_6fcb_47c1_866e_ef3e11899887","uuid":"4e0216a3-a1ec-451a-a59a-57220cb05b5c"},"edge_type":"inherent","type":"","uuid":"d09dc564-7d02-42da-b847-67c208d8e97b","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Delete_baaebcb4_0874_4eab_9b07_7ff13ee8a86c","uuid":"d4cdf1a9-8289-4165-b45a-9a7a16ada8b2"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_e322b0f6_258b_4378_9523_eab4a877f899","uuid":"90484177-4ae3-44f7-9511-18a400d1bf2b"},"edge_type":"inherent","type":"","uuid":"76bcbe64-8ca8-413e-a947-38f9a75629ff","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_fcfab67a_6fcb_47c1_866e_ef3e11899887","uuid":"4e0216a3-a1ec-451a-a59a-57220cb05b5c"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"3a1a54b0-d21e-4357-9395-8bdd457c8516"},"edge_type":"depends_on","type":"","uuid":"2484a950-733d-4c51-991f-6e7cdd54147c","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"5d468369-b013-4267-bd0b-025e33420e46"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_38b3e6e0_d6fb_46d4_8afe_8d60d458c2ca"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"d776c347-2a10-4017-96b5-7c7216e02521","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"117283f8-25bc-4d51-ad1c-b7894358b467"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"4a2ad0be_runbook","uuid":"09b1c8a9-6223-4e38-acfb-ff4754413c85"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"3a1a54b0-d21e-4357-9395-8bdd457c8516","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"117283f8-25bc-4d51-ad1c-b7894358b467"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"92247e35_runbook","uuid":"497a8a35-a955-4f76-8fb0-21dbd9acb6e0"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400"},{"target_any_local_reference":{"kind":"app_package","name":"AHVSlavePackage","uuid":"bb4017ed-6571-4577-b76b-c2ae42903b6e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"e7f74e9f-13d5-466f-bfd4-c4171bd9adad","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"117283f8-25bc-4d51-ad1c-b7894358b467"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_bb4017ed_6571_4577_b76b_c2ae42903b6e","uuid":"5a1b42d3-b23f-4f90-bfe5-8b638c2d28f1"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_bb4017ed_6571_4577_b76b_c2ae42903b6e"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"5d468369-b013-4267-bd0b-025e33420e46","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"baaebcb4-0874-4eab-9b07-7ff13ee8a86c"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0aefbca3_runbook","uuid":"a75d0021-cf2d-4da4-85dc-56ee0ed9e9eb"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"d754fa27-6c4b-4319-8832-aa1d7671fe24","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"baaebcb4-0874-4eab-9b07-7ff13ee8a86c"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"5fd47ec3_runbook","uuid":"7e58dd6b-1da9-495c-97e7-84bb6e288586"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVSlave","uuid":"277d02d7-e5c9-4fac-9649-73d662f89b80"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"bddcf90a-c874-4f01-a7c4-83835225bfe9","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"117283f8-25bc-4d51-ad1c-b7894358b467"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_277d02d7_e5c9_4fac_9649_73d662f89b80","uuid":"9bca066f-1cdb-4632-a826-de10823f16dd"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Substrate_277d02d7_e5c9_4fac_9649_73d662f89b80"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"117283f8-25bc-4d51-ad1c-b7894358b467"},"retries":"0","description":"","type":"DELETE_DEPLOYMENT_ELEMENT","uuid":"bccee969-558b-4b59-88ba-f3f50b3b34aa","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Delete_117283f8_25bc_4d51_ad1c_b7894358b467"},{"target_any_local_reference":{"kind":"app_package","name":"AHVMasterPackage","uuid":"e322b0f6-258b-4378-9523-eab4a877f899"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"90484177-4ae3-44f7-9511-18a400d1bf2b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"baaebcb4-0874-4eab-9b07-7ff13ee8a86c"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_e322b0f6_258b_4378_9523_eab4a877f899","uuid":"e593fc52-7d65-4ff6-80f3-7c68c3bc1aca"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_e322b0f6_258b_4378_9523_eab4a877f899"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVMaster","uuid":"fcfab67a-6fcb-47c1-866e-ef3e11899887"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"4e0216a3-a1ec-451a-a59a-57220cb05b5c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"baaebcb4-0874-4eab-9b07-7ff13ee8a86c"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_fcfab67a_6fcb_47c1_866e_ef3e11899887","uuid":"a7eb8bfb-3449-4090-a1fc-b28350cb1aea"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Substrate_fcfab67a_6fcb_47c1_866e_ef3e11899887"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"baaebcb4-0874-4eab-9b07-7ff13ee8a86c"},"retries":"0","description":"","type":"DELETE_DEPLOYMENT_ELEMENT","uuid":"d4cdf1a9-8289-4165-b45a-9a7a16ada8b2","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Delete_baaebcb4_0874_4eab_9b07_7ff13ee8a86c"}],"description":"","message_list":[],"uuid":"6abfd24e-cdce-4e45-b273-6743ac89bcba","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_38b3e6e0_d6fb_46d4_8afe_8d60d458c2ca","uuid":"a83b91ae-2c09-449d-bd11-e006b9ee1533"},"name":"SYS_GEN__Runbook_Application_38b3e6e0_d6fb_46d4_8afe_8d60d458c2ca"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"1f61f4eb-bd91-47c0-af2d-d290072828a0","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"Nutanix","uuid":"38b3e6e0-d6fb-46d4-8afe-8d60d458c2ca"},"retries":"0","description":"","type":"DAG","uuid":"198864a9-b734-4eae-b360-bc71fcc1050a","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"987cbf7e-496e-4ed5-84d2-511b112e4f95"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"3743b996-3cb6-470d-a47a-a3012572b26c"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_bb4017ed_6571_4577_b76b_c2ae42903b6e","uuid":"4995ceeb-20e4-490e-ae0c-b341b5785a15"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_277d02d7_e5c9_4fac_9649_73d662f89b80","uuid":"9a40f6d7-7f66-40e4-8337-72fa3151db5a"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_e322b0f6_258b_4378_9523_eab4a877f899","uuid":"45d99787-8ec2-4111-b021-6e5c5c866208"},{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_117283f8_25bc_4d51_ad1c_b7894358b467","uuid":"9fb03c1a-afbb-4de1-a25d-9301e7f06d21"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_fcfab67a_6fcb_47c1_866e_ef3e11899887","uuid":"389091f0-4bf4-46c8-92c9-a2387275ed56"},{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_baaebcb4_0874_4eab_9b07_7ff13ee8a86c","uuid":"73fc04b4-f468-42ea-b93b-5cc36714943a"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"987cbf7e-496e-4ed5-84d2-511b112e4f95"},"edge_type":"inherent","type":"","uuid":"5ba23de9-d6c6-4e68-86cf-93889b9de95f","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_bb4017ed_6571_4577_b76b_c2ae42903b6e","uuid":"4995ceeb-20e4-490e-ae0c-b341b5785a15"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_277d02d7_e5c9_4fac_9649_73d662f89b80","uuid":"9a40f6d7-7f66-40e4-8337-72fa3151db5a"},"edge_type":"inherent","type":"","uuid":"b71cb922-a371-4239-9bca-99422efd4926","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_117283f8_25bc_4d51_ad1c_b7894358b467","uuid":"9fb03c1a-afbb-4de1-a25d-9301e7f06d21"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_bb4017ed_6571_4577_b76b_c2ae42903b6e","uuid":"4995ceeb-20e4-490e-ae0c-b341b5785a15"},"edge_type":"inherent","type":"","uuid":"8a7a23db-a08e-4432-a1bf-fdd568ed9a1c","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_277d02d7_e5c9_4fac_9649_73d662f89b80","uuid":"9a40f6d7-7f66-40e4-8337-72fa3151db5a"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"3743b996-3cb6-470d-a47a-a3012572b26c"},"edge_type":"inherent","type":"","uuid":"149db7cf-838a-4974-8154-0ac553e9a40b","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_e322b0f6_258b_4378_9523_eab4a877f899","uuid":"45d99787-8ec2-4111-b021-6e5c5c866208"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_fcfab67a_6fcb_47c1_866e_ef3e11899887","uuid":"389091f0-4bf4-46c8-92c9-a2387275ed56"},"edge_type":"inherent","type":"","uuid":"23064e42-8dcf-4bba-8a00-a9547f03fe53","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_baaebcb4_0874_4eab_9b07_7ff13ee8a86c","uuid":"73fc04b4-f468-42ea-b93b-5cc36714943a"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_e322b0f6_258b_4378_9523_eab4a877f899","uuid":"45d99787-8ec2-4111-b021-6e5c5c866208"},"edge_type":"inherent","type":"","uuid":"de3329a7-5c22-4c9d-a9ac-df30df84e7fc","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_fcfab67a_6fcb_47c1_866e_ef3e11899887","uuid":"389091f0-4bf4-46c8-92c9-a2387275ed56"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"987cbf7e-496e-4ed5-84d2-511b112e4f95"},"edge_type":"depends_on","type":"","uuid":"d20448ad-f9d1-47ae-b48b-73f452397d0a","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"3743b996-3cb6-470d-a47a-a3012572b26c"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_38b3e6e0_d6fb_46d4_8afe_8d60d458c2ca"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"987cbf7e-496e-4ed5-84d2-511b112e4f95","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"117283f8-25bc-4d51-ad1c-b7894358b467"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"6cdcc89d-fd42-4e8a-9e97-40576d559005"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"3743b996-3cb6-470d-a47a-a3012572b26c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"baaebcb4-0874-4eab-9b07-7ff13ee8a86c"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"9b57420b-3c50-4fbe-8880-9c7651fd25ad"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd"},{"target_any_local_reference":{"kind":"app_package","name":"AHVSlavePackage","uuid":"bb4017ed-6571-4577-b76b-c2ae42903b6e"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"4995ceeb-20e4-490e-ae0c-b341b5785a15","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_bb4017ed_6571_4577_b76b_c2ae42903b6e"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVSlave","uuid":"277d02d7-e5c9-4fac-9649-73d662f89b80"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"9a40f6d7-7f66-40e4-8337-72fa3151db5a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"117283f8-25bc-4d51-ad1c-b7894358b467"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_277d02d7_e5c9_4fac_9649_73d662f89b80","uuid":"50e9c358-38d6-4cf9-965d-f6a5a58d7df4"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Substrate_277d02d7_e5c9_4fac_9649_73d662f89b80"},{"target_any_local_reference":{"kind":"app_package","name":"AHVMasterPackage","uuid":"e322b0f6-258b-4378-9523-eab4a877f899"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"45d99787-8ec2-4111-b021-6e5c5c866208","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_e322b0f6_258b_4378_9523_eab4a877f899"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"117283f8-25bc-4d51-ad1c-b7894358b467"},"retries":"0","description":"","type":"SOFT_DELETE_DEPLOYMENT_ELEMENT","uuid":"9fb03c1a-afbb-4de1-a25d-9301e7f06d21","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Soft_Delete_117283f8_25bc_4d51_ad1c_b7894358b467"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVMaster","uuid":"fcfab67a-6fcb-47c1-866e-ef3e11899887"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"389091f0-4bf4-46c8-92c9-a2387275ed56","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"baaebcb4-0874-4eab-9b07-7ff13ee8a86c"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_fcfab67a_6fcb_47c1_866e_ef3e11899887","uuid":"129cde6d-0577-4ffb-bf60-d3a3386fb101"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Substrate_fcfab67a_6fcb_47c1_866e_ef3e11899887"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"baaebcb4-0874-4eab-9b07-7ff13ee8a86c"},"retries":"0","description":"","type":"SOFT_DELETE_DEPLOYMENT_ELEMENT","uuid":"73fc04b4-f468-42ea-b93b-5cc36714943a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Soft_Delete_baaebcb4_0874_4eab_9b07_7ff13ee8a86c"}],"description":"","message_list":[],"uuid":"422639a1-7805-4dca-93a3-16f2d4a2f9bb","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_38b3e6e0_d6fb_46d4_8afe_8d60d458c2ca","uuid":"198864a9-b734-4eae-b360-bc71fcc1050a"},"name":"SYS_GEN__Runbook_Application_38b3e6e0_d6fb_46d4_8afe_8d60d458c2ca"}}],"message_list":[],"uuid":"38b3e6e0-d6fb-46d4-8afe-8d60d458c2ca","state":"ACTIVE","dependency_list":[{"getter_resource_kind":"ServiceCfg","setter_resource_attr":"MYSQL_BIN","setter_resource_kind":"ServiceCfg","setter_resource_name":"MySQL_Master","action_name":"action_create","action_resource_name":"Nutanix","getter_resource_name":"MySQL_Slave","action_resource_kind":"ApplicationCfg"},{"getter_resource_kind":"ServiceCfg","setter_resource_attr":"MYSQL_POSITION","setter_resource_kind":"ServiceCfg","setter_resource_name":"MySQL_Master","action_name":"action_create","action_resource_name":"Nutanix","getter_resource_name":"MySQL_Slave","action_resource_kind":"ApplicationCfg"},{"getter_resource_kind":"ServiceCfg","setter_resource_attr":"address","setter_resource_kind":"ServiceCfg","setter_resource_name":"MySQL_Master","action_name":"action_create","action_resource_name":"Nutanix","getter_resource_name":"MySQL_Slave","action_resource_kind":"ApplicationCfg"}],"variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"9d17a61b-3c9f-4728-99ac-86ea5b2f91e6","value":"","label":"","state":"ACTIVE","attrs":{"is_secret_modified":false,"secret_reference":{"uuid":"195450ec-1ff9-4cc0-a522-a0cf29c3d32e"},"type":""},"editables":{"value":true},"is_hidden":false,"type":"SECRET","options":{},"name":"MYSQL_PASSWORD"}],"name":"Nutanix"},{"deployment_create_list":[{"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"dcc8d02e-6693-4a7a-a5a1-c39f3c78f2ab","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"62ee1671_deployment","uuid":"268dbb82-6984-46ce-b947-a284d9d5c84b"},"retries":"0","description":"","type":"DAG","uuid":"b4e03835-c168-4684-9132-70653c2afa8b","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__DE_Provision_268dbb82_6984_46ce_b947_a284d9d5c84b","uuid":"44859d7a-f20e-42cc-982f-4c200838b570"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_15c65762_bc8d_4c60_93d7_d64c377a99d4","uuid":"ae248c22-fba1-41f2-bd3b-a51b0f7f36f9"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_6d64cb98_1346_48c4_a14e_f2858fbc3058","uuid":"8308e133-3a3e-4e8e-8e83-ff5126c5eae7"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"03bf6e29-8a53-4636-88ed-9d49b13b91e2"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"c84d5251-8ab1-49f1-9edc-552f355f5e9e"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"03bf6e29-8a53-4636-88ed-9d49b13b91e2"},"edge_type":"inherent","type":"","uuid":"55f458b7-86fa-47f9-a6c9-5f5f7c8d92b6","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"c84d5251-8ab1-49f1-9edc-552f355f5e9e"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_6d64cb98_1346_48c4_a14e_f2858fbc3058","uuid":"8308e133-3a3e-4e8e-8e83-ff5126c5eae7"},"edge_type":"inherent","type":"","uuid":"f195a050-d8c6-4a04-9079-778f161dcea3","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"03bf6e29-8a53-4636-88ed-9d49b13b91e2"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_268dbb82_6984_46ce_b947_a284d9d5c84b","uuid":"44859d7a-f20e-42cc-982f-4c200838b570"},"edge_type":"inherent","type":"","uuid":"69c903f3-7231-445f-a110-922ffa1bec06","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_15c65762_bc8d_4c60_93d7_d64c377a99d4","uuid":"ae248c22-fba1-41f2-bd3b-a51b0f7f36f9"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_15c65762_bc8d_4c60_93d7_d64c377a99d4","uuid":"ae248c22-fba1-41f2-bd3b-a51b0f7f36f9"},"edge_type":"inherent","type":"","uuid":"325951e1-524f-4952-9447-c8b5e77329bd","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_6d64cb98_1346_48c4_a14e_f2858fbc3058","uuid":"8308e133-3a3e-4e8e-8e83-ff5126c5eae7"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_268dbb82_6984_46ce_b947_a284d9d5c84b"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"62ee1671_deployment","uuid":"268dbb82-6984-46ce-b947-a284d9d5c84b"},"retries":"0","description":"","type":"CREATE_DEPLOYMENT_ELEMENT","uuid":"44859d7a-f20e-42cc-982f-4c200838b570","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Provision_268dbb82_6984_46ce_b947_a284d9d5c84b"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSMaster","uuid":"15c65762-bc8d-4c60-93d7-d64c377a99d4"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"ae248c22-fba1-41f2-bd3b-a51b0f7f36f9","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"62ee1671_deployment","uuid":"268dbb82-6984-46ce-b947-a284d9d5c84b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_15c65762_bc8d_4c60_93d7_d64c377a99d4","uuid":"78efd171-4be8-4883-ac20-c5dc2dd6227f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Substrate_15c65762_bc8d_4c60_93d7_d64c377a99d4"},{"target_any_local_reference":{"kind":"app_package","name":"AWSMasterPackage","uuid":"6d64cb98-1346-48c4-a14e-f2858fbc3058"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"8308e133-3a3e-4e8e-8e83-ff5126c5eae7","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"62ee1671_deployment","uuid":"268dbb82-6984-46ce-b947-a284d9d5c84b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_6d64cb98_1346_48c4_a14e_f2858fbc3058","uuid":"6f443716-700e-47e7-8d54-10a891b748e8"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_6d64cb98_1346_48c4_a14e_f2858fbc3058"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"03bf6e29-8a53-4636-88ed-9d49b13b91e2","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"62ee1671_deployment","uuid":"268dbb82-6984-46ce-b947-a284d9d5c84b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0a970522_runbook","uuid":"f2803b23-af0b-4afd-8a2f-ef666adf85c8"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"c84d5251-8ab1-49f1-9edc-552f355f5e9e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"62ee1671_deployment","uuid":"268dbb82-6984-46ce-b947-a284d9d5c84b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"5ddb28d1_runbook","uuid":"f88c4d73-c0ab-488b-a016-3e1453b91891"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd"}],"description":"","message_list":[],"uuid":"cce7145d-bf77-4a07-a7dd-09cb3110023b","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_268dbb82_6984_46ce_b947_a284d9d5c84b","uuid":"b4e03835-c168-4684-9132-70653c2afa8b"},"name":"SYS_GEN__Runbook_Deployment_268dbb82_6984_46ce_b947_a284d9d5c84b"}},{"description":"System action for starting an application","message_list":[],"uuid":"5ef6b04c-524e-48d1-8b31-5f4ae7f1d7f0","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"62ee1671_deployment","uuid":"268dbb82-6984-46ce-b947-a284d9d5c84b"},"retries":"0","description":"","type":"DAG","uuid":"54a96e13-f852-4f78-bc96-1fec0255a527","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_15c65762_bc8d_4c60_93d7_d64c377a99d4","uuid":"41eaeb64-df88-4be9-a507-d4f7da5db435"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"6da1bac2-bdb1-488e-813b-950c62c0ac8c"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_15c65762_bc8d_4c60_93d7_d64c377a99d4","uuid":"41eaeb64-df88-4be9-a507-d4f7da5db435"},"edge_type":"inherent","type":"","uuid":"57e52928-e794-40ac-aafe-e7f695eb1856","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"6da1bac2-bdb1-488e-813b-950c62c0ac8c"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_268dbb82_6984_46ce_b947_a284d9d5c84b"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSMaster","uuid":"15c65762-bc8d-4c60-93d7-d64c377a99d4"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"41eaeb64-df88-4be9-a507-d4f7da5db435","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"62ee1671_deployment","uuid":"268dbb82-6984-46ce-b947-a284d9d5c84b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_15c65762_bc8d_4c60_93d7_d64c377a99d4","uuid":"0e8a3726-7346-4150-a062-1407d86c7b60"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Substrate_15c65762_bc8d_4c60_93d7_d64c377a99d4"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"6da1bac2-bdb1-488e-813b-950c62c0ac8c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"62ee1671_deployment","uuid":"268dbb82-6984-46ce-b947-a284d9d5c84b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"5ddb28d1_runbook","uuid":"f88c4d73-c0ab-488b-a016-3e1453b91891"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd"}],"description":"","message_list":[],"uuid":"d2ef2eb3-216a-4c73-9769-c71d888172f9","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_268dbb82_6984_46ce_b947_a284d9d5c84b","uuid":"54a96e13-f852-4f78-bc96-1fec0255a527"},"name":"SYS_GEN__Runbook_Deployment_268dbb82_6984_46ce_b947_a284d9d5c84b"}},{"description":"System action for restarting an application","message_list":[],"uuid":"fb7b7ad9-25b9-43d6-8881-986e4509e094","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"62ee1671_deployment","uuid":"268dbb82-6984-46ce-b947-a284d9d5c84b"},"retries":"0","description":"","type":"DAG","uuid":"4704f4c0-e406-4289-9a4d-0585491f7380","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_15c65762_bc8d_4c60_93d7_d64c377a99d4","uuid":"1d15f4f9-956a-40a1-b5d4-ecc88e769ed3"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"969624b6-924e-4da5-baeb-bbff85219205"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_15c65762_bc8d_4c60_93d7_d64c377a99d4","uuid":"1d15f4f9-956a-40a1-b5d4-ecc88e769ed3"},"edge_type":"inherent","type":"","uuid":"27b83c3b-bfeb-48d0-a7d2-0522e23f4df3","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"969624b6-924e-4da5-baeb-bbff85219205"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_268dbb82_6984_46ce_b947_a284d9d5c84b"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSMaster","uuid":"15c65762-bc8d-4c60-93d7-d64c377a99d4"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"1d15f4f9-956a-40a1-b5d4-ecc88e769ed3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"62ee1671_deployment","uuid":"268dbb82-6984-46ce-b947-a284d9d5c84b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_15c65762_bc8d_4c60_93d7_d64c377a99d4","uuid":"df58d810-8043-4640-a723-19994bc9c404"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Substrate_15c65762_bc8d_4c60_93d7_d64c377a99d4"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"969624b6-924e-4da5-baeb-bbff85219205","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"62ee1671_deployment","uuid":"268dbb82-6984-46ce-b947-a284d9d5c84b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"7e709238_runbook","uuid":"6beb8e29-06b2-4218-a1fd-18c28d8c6218"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd"}],"description":"","message_list":[],"uuid":"24077f83-5a7f-47a7-aeae-65f6c9f9874b","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_268dbb82_6984_46ce_b947_a284d9d5c84b","uuid":"4704f4c0-e406-4289-9a4d-0585491f7380"},"name":"SYS_GEN__Runbook_Deployment_268dbb82_6984_46ce_b947_a284d9d5c84b"}},{"description":"System action for stopping an application","message_list":[],"uuid":"03434d97-8e18-46dd-9947-3dd34376cb98","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"62ee1671_deployment","uuid":"268dbb82-6984-46ce-b947-a284d9d5c84b"},"retries":"0","description":"","type":"DAG","uuid":"0b77892f-7f2c-4dd5-8583-b7ff240eb735","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"1916189f-0998-4578-8ad7-277a4c7b3cef"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_15c65762_bc8d_4c60_93d7_d64c377a99d4","uuid":"2ffedf8b-7684-4c2e-a469-61f9f8fc8424"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"1916189f-0998-4578-8ad7-277a4c7b3cef"},"edge_type":"inherent","type":"","uuid":"b1c904db-62b0-4c5e-9533-181d8da987c1","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_15c65762_bc8d_4c60_93d7_d64c377a99d4","uuid":"2ffedf8b-7684-4c2e-a469-61f9f8fc8424"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_268dbb82_6984_46ce_b947_a284d9d5c84b"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"1916189f-0998-4578-8ad7-277a4c7b3cef","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"62ee1671_deployment","uuid":"268dbb82-6984-46ce-b947-a284d9d5c84b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0aefbca3_runbook","uuid":"a75d0021-cf2d-4da4-85dc-56ee0ed9e9eb"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSMaster","uuid":"15c65762-bc8d-4c60-93d7-d64c377a99d4"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"2ffedf8b-7684-4c2e-a469-61f9f8fc8424","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"62ee1671_deployment","uuid":"268dbb82-6984-46ce-b947-a284d9d5c84b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_15c65762_bc8d_4c60_93d7_d64c377a99d4","uuid":"c5ff068b-7cad-4deb-99ab-3c1abcb335f4"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Substrate_15c65762_bc8d_4c60_93d7_d64c377a99d4"}],"description":"","message_list":[],"uuid":"bf177797-29d1-4893-b71c-a01d97633b24","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_268dbb82_6984_46ce_b947_a284d9d5c84b","uuid":"0b77892f-7f2c-4dd5-8583-b7ff240eb735"},"name":"SYS_GEN__Runbook_Deployment_268dbb82_6984_46ce_b947_a284d9d5c84b"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"2359bb2e-a824-4a2c-98ea-30636693ff7c","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"62ee1671_deployment","uuid":"268dbb82-6984-46ce-b947-a284d9d5c84b"},"retries":"0","description":"","type":"DAG","uuid":"c0fa6b28-30e0-4fef-bdf6-ea8b8be888ae","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"d10c0484-2c97-48d8-900a-b666e397a3a5"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"222464f4-9590-435a-aa91-8ea97a26a723"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_6d64cb98_1346_48c4_a14e_f2858fbc3058","uuid":"c1ed7000-352f-4319-b505-584bd130da22"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_15c65762_bc8d_4c60_93d7_d64c377a99d4","uuid":"beb00ed2-4b17-4a29-b9b2-5a178d0476ba"},{"kind":"app_task","name":"SYS_GEN__DE_Delete_268dbb82_6984_46ce_b947_a284d9d5c84b","uuid":"ab4ad10b-1a35-4104-bab5-2cdef1b538ba"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"d10c0484-2c97-48d8-900a-b666e397a3a5"},"edge_type":"inherent","type":"","uuid":"49c6006c-5348-417f-bd27-faa2e46f22a0","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"222464f4-9590-435a-aa91-8ea97a26a723"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"222464f4-9590-435a-aa91-8ea97a26a723"},"edge_type":"inherent","type":"","uuid":"9ed06b87-70cf-4798-b6e4-f54cf06bb863","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_6d64cb98_1346_48c4_a14e_f2858fbc3058","uuid":"c1ed7000-352f-4319-b505-584bd130da22"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_15c65762_bc8d_4c60_93d7_d64c377a99d4","uuid":"beb00ed2-4b17-4a29-b9b2-5a178d0476ba"},"edge_type":"inherent","type":"","uuid":"80cfff17-6296-4644-b272-60d4431e8538","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Delete_268dbb82_6984_46ce_b947_a284d9d5c84b","uuid":"ab4ad10b-1a35-4104-bab5-2cdef1b538ba"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_6d64cb98_1346_48c4_a14e_f2858fbc3058","uuid":"c1ed7000-352f-4319-b505-584bd130da22"},"edge_type":"inherent","type":"","uuid":"feb5a041-2dfd-4ed0-bc19-628c3fcd2b4e","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_15c65762_bc8d_4c60_93d7_d64c377a99d4","uuid":"beb00ed2-4b17-4a29-b9b2-5a178d0476ba"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_268dbb82_6984_46ce_b947_a284d9d5c84b"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"d10c0484-2c97-48d8-900a-b666e397a3a5","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"62ee1671_deployment","uuid":"268dbb82-6984-46ce-b947-a284d9d5c84b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0aefbca3_runbook","uuid":"a75d0021-cf2d-4da4-85dc-56ee0ed9e9eb"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"222464f4-9590-435a-aa91-8ea97a26a723","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"62ee1671_deployment","uuid":"268dbb82-6984-46ce-b947-a284d9d5c84b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"5fd47ec3_runbook","uuid":"7e58dd6b-1da9-495c-97e7-84bb6e288586"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd"},{"target_any_local_reference":{"kind":"app_package","name":"AWSMasterPackage","uuid":"6d64cb98-1346-48c4-a14e-f2858fbc3058"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"c1ed7000-352f-4319-b505-584bd130da22","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"62ee1671_deployment","uuid":"268dbb82-6984-46ce-b947-a284d9d5c84b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_6d64cb98_1346_48c4_a14e_f2858fbc3058","uuid":"29d253ae-db2b-4a32-b987-36896530bcc9"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_6d64cb98_1346_48c4_a14e_f2858fbc3058"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSMaster","uuid":"15c65762-bc8d-4c60-93d7-d64c377a99d4"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"beb00ed2-4b17-4a29-b9b2-5a178d0476ba","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"62ee1671_deployment","uuid":"268dbb82-6984-46ce-b947-a284d9d5c84b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_15c65762_bc8d_4c60_93d7_d64c377a99d4","uuid":"a8fb86f0-8633-4bf8-a9f7-f9f3c4e4259e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Substrate_15c65762_bc8d_4c60_93d7_d64c377a99d4"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"62ee1671_deployment","uuid":"268dbb82-6984-46ce-b947-a284d9d5c84b"},"retries":"0","description":"","type":"DELETE_DEPLOYMENT_ELEMENT","uuid":"ab4ad10b-1a35-4104-bab5-2cdef1b538ba","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Delete_268dbb82_6984_46ce_b947_a284d9d5c84b"}],"description":"","message_list":[],"uuid":"4f129168-3fb3-4729-8ada-d76a7d785e08","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_268dbb82_6984_46ce_b947_a284d9d5c84b","uuid":"c0fa6b28-30e0-4fef-bdf6-ea8b8be888ae"},"name":"SYS_GEN__Runbook_Deployment_268dbb82_6984_46ce_b947_a284d9d5c84b"}},{"description":"System action for scaleout","message_list":[],"uuid":"485371fc-46a5-4a10-abad-0b1030826439","name":"action_scaleout","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"62ee1671_deployment","uuid":"268dbb82-6984-46ce-b947-a284d9d5c84b"},"retries":"0","description":"","type":"DAG","uuid":"621347e9-5163-4502-bf84-eb3350fe4de5","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Deployment_Scaleout_268dbb82_6984_46ce_b947_a284d9d5c84b","uuid":"255ceb86-d204-49a8-a68e-a577f4c163df"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_268dbb82_6984_46ce_b947_a284d9d5c84b"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"62ee1671_deployment","uuid":"268dbb82-6984-46ce-b947-a284d9d5c84b"},"retries":"0","description":"","type":"SCALING","uuid":"255ceb86-d204-49a8-a68e-a577f4c163df","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{scaling_count}@@","type":"","scaling_type":"SCALEOUT"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Deployment_Scaleout_268dbb82_6984_46ce_b947_a284d9d5c84b"}],"description":"","message_list":[],"uuid":"a00bb1cd-d1a6-49ea-aba2-92e3798fabc7","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"b252afd5-daaf-4637-8af9-1a09030b05e7","value":"0","label":"","state":"NOT_VALIDATED","attrs":{},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"scaling_count"}],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_268dbb82_6984_46ce_b947_a284d9d5c84b","uuid":"621347e9-5163-4502-bf84-eb3350fe4de5"},"name":"SYS_GEN__Runbook_Deployment_268dbb82_6984_46ce_b947_a284d9d5c84b"}},{"description":"System action for scalein","message_list":[],"uuid":"2c80e320-0f40-4c26-ad27-0036b73c0e82","name":"action_scalein","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"62ee1671_deployment","uuid":"268dbb82-6984-46ce-b947-a284d9d5c84b"},"retries":"0","description":"","type":"DAG","uuid":"a46ff607-5215-4e98-8196-20a26a045022","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Deployment_Scalein_268dbb82_6984_46ce_b947_a284d9d5c84b","uuid":"d77ec1a4-d041-4862-add6-f42a778070c4"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_268dbb82_6984_46ce_b947_a284d9d5c84b"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"62ee1671_deployment","uuid":"268dbb82-6984-46ce-b947-a284d9d5c84b"},"retries":"0","description":"","type":"SCALING","uuid":"d77ec1a4-d041-4862-add6-f42a778070c4","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{scaling_count}@@","type":"","scaling_type":"SCALEIN"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Deployment_Scalein_268dbb82_6984_46ce_b947_a284d9d5c84b"}],"description":"","message_list":[],"uuid":"420cbcda-2867-424a-ab97-203b351802fd","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"07030952-01b7-4dca-ae5b-e7be8ccd0457","value":"0","label":"","state":"NOT_VALIDATED","attrs":{},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"scaling_count"}],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_268dbb82_6984_46ce_b947_a284d9d5c84b","uuid":"a46ff607-5215-4e98-8196-20a26a045022"},"name":"SYS_GEN__Runbook_Deployment_268dbb82_6984_46ce_b947_a284d9d5c84b"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"a5850bb1-dc95-4eb9-b0e5-bd85c84cd8ef","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"62ee1671_deployment","uuid":"268dbb82-6984-46ce-b947-a284d9d5c84b"},"retries":"0","description":"","type":"DAG","uuid":"6cabd153-f922-4674-a806-444800a1ebf3","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"d2fea24a-a75c-456d-9bdb-f68c08b6af1a"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_6d64cb98_1346_48c4_a14e_f2858fbc3058","uuid":"af8cc53a-5079-4a92-9cb9-f094279a5de6"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_15c65762_bc8d_4c60_93d7_d64c377a99d4","uuid":"f6eeafea-596b-42fe-81c3-04a4d78ac99c"},{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_268dbb82_6984_46ce_b947_a284d9d5c84b","uuid":"ab4e5cfa-968a-4f9a-872b-97c4769a7b8e"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"d2fea24a-a75c-456d-9bdb-f68c08b6af1a"},"edge_type":"inherent","type":"","uuid":"bc81de7a-a79c-4594-a848-94be1ef91279","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_6d64cb98_1346_48c4_a14e_f2858fbc3058","uuid":"af8cc53a-5079-4a92-9cb9-f094279a5de6"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_15c65762_bc8d_4c60_93d7_d64c377a99d4","uuid":"f6eeafea-596b-42fe-81c3-04a4d78ac99c"},"edge_type":"inherent","type":"","uuid":"01f53b18-c5c0-4b47-9647-7f969695458a","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_268dbb82_6984_46ce_b947_a284d9d5c84b","uuid":"ab4e5cfa-968a-4f9a-872b-97c4769a7b8e"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_6d64cb98_1346_48c4_a14e_f2858fbc3058","uuid":"af8cc53a-5079-4a92-9cb9-f094279a5de6"},"edge_type":"inherent","type":"","uuid":"e43e271e-bfa7-4ea6-a6c6-41bdc5e6e92c","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_15c65762_bc8d_4c60_93d7_d64c377a99d4","uuid":"f6eeafea-596b-42fe-81c3-04a4d78ac99c"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_268dbb82_6984_46ce_b947_a284d9d5c84b"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"d2fea24a-a75c-456d-9bdb-f68c08b6af1a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"62ee1671_deployment","uuid":"268dbb82-6984-46ce-b947-a284d9d5c84b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"9b57420b-3c50-4fbe-8880-9c7651fd25ad"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd"},{"target_any_local_reference":{"kind":"app_package","name":"AWSMasterPackage","uuid":"6d64cb98-1346-48c4-a14e-f2858fbc3058"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"af8cc53a-5079-4a92-9cb9-f094279a5de6","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_6d64cb98_1346_48c4_a14e_f2858fbc3058"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSMaster","uuid":"15c65762-bc8d-4c60-93d7-d64c377a99d4"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"f6eeafea-596b-42fe-81c3-04a4d78ac99c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"62ee1671_deployment","uuid":"268dbb82-6984-46ce-b947-a284d9d5c84b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_15c65762_bc8d_4c60_93d7_d64c377a99d4","uuid":"eef4e90d-1a4a-4167-b004-327da44d09fe"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Substrate_15c65762_bc8d_4c60_93d7_d64c377a99d4"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"62ee1671_deployment","uuid":"268dbb82-6984-46ce-b947-a284d9d5c84b"},"retries":"0","description":"","type":"SOFT_DELETE_DEPLOYMENT_ELEMENT","uuid":"ab4e5cfa-968a-4f9a-872b-97c4769a7b8e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Soft_Delete_268dbb82_6984_46ce_b947_a284d9d5c84b"}],"description":"","message_list":[],"uuid":"a3875dfd-1102-4836-8e6c-84770b510d19","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_268dbb82_6984_46ce_b947_a284d9d5c84b","uuid":"6cabd153-f922-4674-a806-444800a1ebf3"},"name":"SYS_GEN__Runbook_Deployment_268dbb82_6984_46ce_b947_a284d9d5c84b"}}],"message_list":[],"published_service_local_reference_list":[],"uuid":"268dbb82-6984-46ce-b947-a284d9d5c84b","min_replicas":"1","state":"ACTIVE","max_replicas":"1","depends_on_list":[],"editables":{},"package_local_reference_list":[{"kind":"app_package","name":"AWSMasterPackage","uuid":"6d64cb98-1346-48c4-a14e-f2858fbc3058"}],"substrate_local_reference":{"kind":"app_substrate","name":"AWSMaster","uuid":"15c65762-bc8d-4c60-93d7-d64c377a99d4"},"type":"GREENFIELD","options":{},"variable_list":[],"name":"62ee1671_deployment"},{"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"02321f7c-5814-49d4-89a2-a68bdc511d5b","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"f1101b61-03c5-41c1-b196-595a304cb935"},"retries":"0","description":"","type":"DAG","uuid":"242d1516-d569-46ae-a0d3-23f224cf80d8","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__DE_Provision_f1101b61_03c5_41c1_b196_595a304cb935","uuid":"0b3cf3aa-45da-4c00-80ff-f35a3d54127c"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_f19c2ea6_884f_47c7_be9a_facfa3b1d1a9","uuid":"c0ffacef-0677-4853-9ee1-6c3b7b80c376"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_34c00323_d209_4ed6_ab82_48e007095d9d","uuid":"4ddfe75f-8c91-436d-a740-bb2fca5d7798"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"5921bd67-1706-4acd-8e55-e17ab3cb4002"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"6c08283d-2cdd-43e2-8707-d60b4fee9275"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"5921bd67-1706-4acd-8e55-e17ab3cb4002"},"edge_type":"inherent","type":"","uuid":"f799909b-fecc-4036-b1e9-26c404317dd7","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"6c08283d-2cdd-43e2-8707-d60b4fee9275"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_34c00323_d209_4ed6_ab82_48e007095d9d","uuid":"4ddfe75f-8c91-436d-a740-bb2fca5d7798"},"edge_type":"inherent","type":"","uuid":"6b92a6d5-803d-4bac-a136-d206e82cb62b","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"5921bd67-1706-4acd-8e55-e17ab3cb4002"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_f1101b61_03c5_41c1_b196_595a304cb935","uuid":"0b3cf3aa-45da-4c00-80ff-f35a3d54127c"},"edge_type":"inherent","type":"","uuid":"22bacfd8-8d58-480a-b407-65a75a392476","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_f19c2ea6_884f_47c7_be9a_facfa3b1d1a9","uuid":"c0ffacef-0677-4853-9ee1-6c3b7b80c376"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_f19c2ea6_884f_47c7_be9a_facfa3b1d1a9","uuid":"c0ffacef-0677-4853-9ee1-6c3b7b80c376"},"edge_type":"inherent","type":"","uuid":"4750f953-f756-48a5-9bb1-f096de7bf602","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_34c00323_d209_4ed6_ab82_48e007095d9d","uuid":"4ddfe75f-8c91-436d-a740-bb2fca5d7798"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_f1101b61_03c5_41c1_b196_595a304cb935"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"f1101b61-03c5-41c1-b196-595a304cb935"},"retries":"0","description":"","type":"CREATE_DEPLOYMENT_ELEMENT","uuid":"0b3cf3aa-45da-4c00-80ff-f35a3d54127c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Provision_f1101b61_03c5_41c1_b196_595a304cb935"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSSlave","uuid":"f19c2ea6-884f-47c7-be9a-facfa3b1d1a9"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"c0ffacef-0677-4853-9ee1-6c3b7b80c376","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"f1101b61-03c5-41c1-b196-595a304cb935"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_f19c2ea6_884f_47c7_be9a_facfa3b1d1a9","uuid":"9bc1e2d2-f7b0-4736-a385-eb963e598e5d"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Substrate_f19c2ea6_884f_47c7_be9a_facfa3b1d1a9"},{"target_any_local_reference":{"kind":"app_package","name":"AWSSlavePackage","uuid":"34c00323-d209-4ed6-ab82-48e007095d9d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"4ddfe75f-8c91-436d-a740-bb2fca5d7798","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"f1101b61-03c5-41c1-b196-595a304cb935"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_34c00323_d209_4ed6_ab82_48e007095d9d","uuid":"cc81ea86-cb57-4a7e-b6b5-93d29ac3838c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_34c00323_d209_4ed6_ab82_48e007095d9d"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"5921bd67-1706-4acd-8e55-e17ab3cb4002","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"f1101b61-03c5-41c1-b196-595a304cb935"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"d54168c9_runbook","uuid":"e509001d-6b88-4a64-813c-0ce8ea81991a"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"6c08283d-2cdd-43e2-8707-d60b4fee9275","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"f1101b61-03c5-41c1-b196-595a304cb935"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"a027cde0_runbook","uuid":"0afbc7f3-5541-415f-9616-c459f09806b2"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400"}],"description":"","message_list":[],"uuid":"35ca2196-20b2-4588-a20c-c54948831aaa","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_f1101b61_03c5_41c1_b196_595a304cb935","uuid":"242d1516-d569-46ae-a0d3-23f224cf80d8"},"name":"SYS_GEN__Runbook_Deployment_f1101b61_03c5_41c1_b196_595a304cb935"}},{"description":"System action for starting an application","message_list":[],"uuid":"9dd6dae5-a049-4ec0-8751-0455b4cf6963","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"f1101b61-03c5-41c1-b196-595a304cb935"},"retries":"0","description":"","type":"DAG","uuid":"ced3fd1e-f2bb-445f-acf5-a0db7257f649","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_f19c2ea6_884f_47c7_be9a_facfa3b1d1a9","uuid":"466cdac0-df1d-424a-acba-b887c60137a7"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"6ed9138f-c2e5-49f2-b96d-b89e3d0bd624"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_f19c2ea6_884f_47c7_be9a_facfa3b1d1a9","uuid":"466cdac0-df1d-424a-acba-b887c60137a7"},"edge_type":"inherent","type":"","uuid":"d3738adc-5dfc-43b1-a30f-0afbe7c0c6dd","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"6ed9138f-c2e5-49f2-b96d-b89e3d0bd624"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_f1101b61_03c5_41c1_b196_595a304cb935"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSSlave","uuid":"f19c2ea6-884f-47c7-be9a-facfa3b1d1a9"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"466cdac0-df1d-424a-acba-b887c60137a7","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"f1101b61-03c5-41c1-b196-595a304cb935"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_f19c2ea6_884f_47c7_be9a_facfa3b1d1a9","uuid":"276e96c8-3fc7-4858-a969-8583a4dc09c6"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Substrate_f19c2ea6_884f_47c7_be9a_facfa3b1d1a9"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"6ed9138f-c2e5-49f2-b96d-b89e3d0bd624","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"f1101b61-03c5-41c1-b196-595a304cb935"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"a027cde0_runbook","uuid":"0afbc7f3-5541-415f-9616-c459f09806b2"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400"}],"description":"","message_list":[],"uuid":"09741d7e-00be-46dd-967f-cc68a175a3a2","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_f1101b61_03c5_41c1_b196_595a304cb935","uuid":"ced3fd1e-f2bb-445f-acf5-a0db7257f649"},"name":"SYS_GEN__Runbook_Deployment_f1101b61_03c5_41c1_b196_595a304cb935"}},{"description":"System action for restarting an application","message_list":[],"uuid":"6140654f-6ab5-463e-9290-2448e69e598a","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"f1101b61-03c5-41c1-b196-595a304cb935"},"retries":"0","description":"","type":"DAG","uuid":"73b8abfc-4152-4b22-af36-95447f7f0a2d","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_f19c2ea6_884f_47c7_be9a_facfa3b1d1a9","uuid":"8636cbbb-fbc3-402c-b1a9-acd50db396c9"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"79e142fc-867e-45e2-b7c6-a09f42b6e312"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_f19c2ea6_884f_47c7_be9a_facfa3b1d1a9","uuid":"8636cbbb-fbc3-402c-b1a9-acd50db396c9"},"edge_type":"inherent","type":"","uuid":"fba7de06-c701-447d-95fc-3598edd7a0a7","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"79e142fc-867e-45e2-b7c6-a09f42b6e312"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_f1101b61_03c5_41c1_b196_595a304cb935"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSSlave","uuid":"f19c2ea6-884f-47c7-be9a-facfa3b1d1a9"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"8636cbbb-fbc3-402c-b1a9-acd50db396c9","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"f1101b61-03c5-41c1-b196-595a304cb935"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_f19c2ea6_884f_47c7_be9a_facfa3b1d1a9","uuid":"227783c6-9eec-4efd-a1fb-9293b0325d2e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Substrate_f19c2ea6_884f_47c7_be9a_facfa3b1d1a9"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"79e142fc-867e-45e2-b7c6-a09f42b6e312","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"f1101b61-03c5-41c1-b196-595a304cb935"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"f2b2a076_runbook","uuid":"b7162b3b-d4ba-4fba-875d-fc9c8c2c5b79"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400"}],"description":"","message_list":[],"uuid":"3f7a85a3-fc5d-4d0a-adc6-99f6dad91e34","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_f1101b61_03c5_41c1_b196_595a304cb935","uuid":"73b8abfc-4152-4b22-af36-95447f7f0a2d"},"name":"SYS_GEN__Runbook_Deployment_f1101b61_03c5_41c1_b196_595a304cb935"}},{"description":"System action for stopping an application","message_list":[],"uuid":"8b892a7e-6ea2-4bd6-b7fb-102601c19969","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"f1101b61-03c5-41c1-b196-595a304cb935"},"retries":"0","description":"","type":"DAG","uuid":"94d420f0-c532-45e7-b683-08acc0602c5d","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"6b2fee5b-32e2-4ecf-aeb7-6cf50c07dc40"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_f19c2ea6_884f_47c7_be9a_facfa3b1d1a9","uuid":"26af5035-4a0e-4f93-a874-fb88124f6693"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"6b2fee5b-32e2-4ecf-aeb7-6cf50c07dc40"},"edge_type":"inherent","type":"","uuid":"e51f6605-4b01-4bd7-9548-b2aed0093135","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_f19c2ea6_884f_47c7_be9a_facfa3b1d1a9","uuid":"26af5035-4a0e-4f93-a874-fb88124f6693"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_f1101b61_03c5_41c1_b196_595a304cb935"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"6b2fee5b-32e2-4ecf-aeb7-6cf50c07dc40","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"f1101b61-03c5-41c1-b196-595a304cb935"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"4a2ad0be_runbook","uuid":"09b1c8a9-6223-4e38-acfb-ff4754413c85"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSSlave","uuid":"f19c2ea6-884f-47c7-be9a-facfa3b1d1a9"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"26af5035-4a0e-4f93-a874-fb88124f6693","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"f1101b61-03c5-41c1-b196-595a304cb935"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_f19c2ea6_884f_47c7_be9a_facfa3b1d1a9","uuid":"c6771673-1d07-46cc-a84b-c4305d76748a"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Substrate_f19c2ea6_884f_47c7_be9a_facfa3b1d1a9"}],"description":"","message_list":[],"uuid":"eb21c103-59a1-45b8-90fe-23f04a3be465","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_f1101b61_03c5_41c1_b196_595a304cb935","uuid":"94d420f0-c532-45e7-b683-08acc0602c5d"},"name":"SYS_GEN__Runbook_Deployment_f1101b61_03c5_41c1_b196_595a304cb935"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"bc32abd5-279d-4c25-b178-cd5ffba963fd","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"f1101b61-03c5-41c1-b196-595a304cb935"},"retries":"0","description":"","type":"DAG","uuid":"e7c146a2-ada4-4da0-a1ac-6cf3eeb12b44","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"43ecae84-5e01-444f-8e21-fd5eba06bf80"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"dcd879d7-0677-4baa-a41f-5471eda9ec04"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_34c00323_d209_4ed6_ab82_48e007095d9d","uuid":"a80a489f-8dcc-46ab-bef6-652ca5e709bc"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_f19c2ea6_884f_47c7_be9a_facfa3b1d1a9","uuid":"97919e62-fb5d-4c85-b2ee-cd4b10f6df71"},{"kind":"app_task","name":"SYS_GEN__DE_Delete_f1101b61_03c5_41c1_b196_595a304cb935","uuid":"ac9eba37-459f-4d4c-af08-d75cc50e4e9c"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"43ecae84-5e01-444f-8e21-fd5eba06bf80"},"edge_type":"inherent","type":"","uuid":"a8d13f63-287e-4875-80ea-8c337c9a35bd","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"dcd879d7-0677-4baa-a41f-5471eda9ec04"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"dcd879d7-0677-4baa-a41f-5471eda9ec04"},"edge_type":"inherent","type":"","uuid":"652a6455-8c24-4403-ab8e-d8fcd58adaa8","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_34c00323_d209_4ed6_ab82_48e007095d9d","uuid":"a80a489f-8dcc-46ab-bef6-652ca5e709bc"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_f19c2ea6_884f_47c7_be9a_facfa3b1d1a9","uuid":"97919e62-fb5d-4c85-b2ee-cd4b10f6df71"},"edge_type":"inherent","type":"","uuid":"27940475-d7c7-4a16-ac6d-db7a2af6051c","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Delete_f1101b61_03c5_41c1_b196_595a304cb935","uuid":"ac9eba37-459f-4d4c-af08-d75cc50e4e9c"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_34c00323_d209_4ed6_ab82_48e007095d9d","uuid":"a80a489f-8dcc-46ab-bef6-652ca5e709bc"},"edge_type":"inherent","type":"","uuid":"44d892e1-96c6-4956-80cd-17b086af1c43","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_f19c2ea6_884f_47c7_be9a_facfa3b1d1a9","uuid":"97919e62-fb5d-4c85-b2ee-cd4b10f6df71"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_f1101b61_03c5_41c1_b196_595a304cb935"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"43ecae84-5e01-444f-8e21-fd5eba06bf80","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"f1101b61-03c5-41c1-b196-595a304cb935"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"4a2ad0be_runbook","uuid":"09b1c8a9-6223-4e38-acfb-ff4754413c85"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"dcd879d7-0677-4baa-a41f-5471eda9ec04","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"f1101b61-03c5-41c1-b196-595a304cb935"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"92247e35_runbook","uuid":"497a8a35-a955-4f76-8fb0-21dbd9acb6e0"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400"},{"target_any_local_reference":{"kind":"app_package","name":"AWSSlavePackage","uuid":"34c00323-d209-4ed6-ab82-48e007095d9d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"a80a489f-8dcc-46ab-bef6-652ca5e709bc","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"f1101b61-03c5-41c1-b196-595a304cb935"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_34c00323_d209_4ed6_ab82_48e007095d9d","uuid":"5400957d-b7df-4140-bf65-bd847ee16519"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_34c00323_d209_4ed6_ab82_48e007095d9d"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSSlave","uuid":"f19c2ea6-884f-47c7-be9a-facfa3b1d1a9"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"97919e62-fb5d-4c85-b2ee-cd4b10f6df71","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"f1101b61-03c5-41c1-b196-595a304cb935"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_f19c2ea6_884f_47c7_be9a_facfa3b1d1a9","uuid":"543ab595-1f78-40fe-8442-a76f2b025e65"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Substrate_f19c2ea6_884f_47c7_be9a_facfa3b1d1a9"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"f1101b61-03c5-41c1-b196-595a304cb935"},"retries":"0","description":"","type":"DELETE_DEPLOYMENT_ELEMENT","uuid":"ac9eba37-459f-4d4c-af08-d75cc50e4e9c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Delete_f1101b61_03c5_41c1_b196_595a304cb935"}],"description":"","message_list":[],"uuid":"8718db0f-6caa-4fff-9def-1c9f2c344787","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_f1101b61_03c5_41c1_b196_595a304cb935","uuid":"e7c146a2-ada4-4da0-a1ac-6cf3eeb12b44"},"name":"SYS_GEN__Runbook_Deployment_f1101b61_03c5_41c1_b196_595a304cb935"}},{"description":"System action for scaleout","message_list":[],"uuid":"1076bbed-b290-4940-ae44-8624fcf0d9cd","name":"action_scaleout","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"f1101b61-03c5-41c1-b196-595a304cb935"},"retries":"0","description":"","type":"DAG","uuid":"7a408b1e-9a7c-4e5c-b5b5-7fdaf487a7d5","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Deployment_Scaleout_f1101b61_03c5_41c1_b196_595a304cb935","uuid":"31eaedad-4034-4539-95da-0c52cc880b82"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_f1101b61_03c5_41c1_b196_595a304cb935"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"f1101b61-03c5-41c1-b196-595a304cb935"},"retries":"0","description":"","type":"SCALING","uuid":"31eaedad-4034-4539-95da-0c52cc880b82","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{scaling_count}@@","type":"","scaling_type":"SCALEOUT"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Deployment_Scaleout_f1101b61_03c5_41c1_b196_595a304cb935"}],"description":"","message_list":[],"uuid":"2056e349-0eed-47c3-9c96-067ebf19a8b2","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"8d115684-8308-43db-9f5b-bb243bc52ee7","value":"0","label":"","state":"NOT_VALIDATED","attrs":{},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"scaling_count"}],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_f1101b61_03c5_41c1_b196_595a304cb935","uuid":"7a408b1e-9a7c-4e5c-b5b5-7fdaf487a7d5"},"name":"SYS_GEN__Runbook_Deployment_f1101b61_03c5_41c1_b196_595a304cb935"}},{"description":"System action for scalein","message_list":[],"uuid":"a1cc3b17-5944-46f7-ac37-3ac8602bfca5","name":"action_scalein","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"f1101b61-03c5-41c1-b196-595a304cb935"},"retries":"0","description":"","type":"DAG","uuid":"c2fa28f3-6c69-41ce-9674-0c902c759d12","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Deployment_Scalein_f1101b61_03c5_41c1_b196_595a304cb935","uuid":"fdf71353-d793-4eec-923e-da3efef0aa62"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_f1101b61_03c5_41c1_b196_595a304cb935"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"f1101b61-03c5-41c1-b196-595a304cb935"},"retries":"0","description":"","type":"SCALING","uuid":"fdf71353-d793-4eec-923e-da3efef0aa62","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{scaling_count}@@","type":"","scaling_type":"SCALEIN"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Deployment_Scalein_f1101b61_03c5_41c1_b196_595a304cb935"}],"description":"","message_list":[],"uuid":"4b59d295-23e0-4220-946e-6efd2d8af7fc","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"f7fd7be7-64c2-4fef-8685-67e8f164e962","value":"0","label":"","state":"NOT_VALIDATED","attrs":{},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"scaling_count"}],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_f1101b61_03c5_41c1_b196_595a304cb935","uuid":"c2fa28f3-6c69-41ce-9674-0c902c759d12"},"name":"SYS_GEN__Runbook_Deployment_f1101b61_03c5_41c1_b196_595a304cb935"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"3e74912b-2bf1-4233-98d3-01bf0536e0f3","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"f1101b61-03c5-41c1-b196-595a304cb935"},"retries":"0","description":"","type":"DAG","uuid":"6fad3198-793e-48a7-8fe3-43f0578b1847","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"f1656981-0862-4a2e-bdc5-94bd51da4fd9"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_34c00323_d209_4ed6_ab82_48e007095d9d","uuid":"5a323734-dd94-4c2a-b6e1-07bdd6b26d57"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_f19c2ea6_884f_47c7_be9a_facfa3b1d1a9","uuid":"9e99463d-833d-4c45-9bf1-1b4dde98a9c1"},{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_f1101b61_03c5_41c1_b196_595a304cb935","uuid":"11d95ead-7783-48a9-9de7-7bf4484373a2"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"f1656981-0862-4a2e-bdc5-94bd51da4fd9"},"edge_type":"inherent","type":"","uuid":"c2ac995e-2411-4a37-abd1-47add2140a14","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_34c00323_d209_4ed6_ab82_48e007095d9d","uuid":"5a323734-dd94-4c2a-b6e1-07bdd6b26d57"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_f19c2ea6_884f_47c7_be9a_facfa3b1d1a9","uuid":"9e99463d-833d-4c45-9bf1-1b4dde98a9c1"},"edge_type":"inherent","type":"","uuid":"3a7b633c-577a-424a-b9e4-e7e246a5c02d","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_f1101b61_03c5_41c1_b196_595a304cb935","uuid":"11d95ead-7783-48a9-9de7-7bf4484373a2"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_34c00323_d209_4ed6_ab82_48e007095d9d","uuid":"5a323734-dd94-4c2a-b6e1-07bdd6b26d57"},"edge_type":"inherent","type":"","uuid":"b0c6ef2f-5600-4351-8c70-ec0a6d549e29","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_f19c2ea6_884f_47c7_be9a_facfa3b1d1a9","uuid":"9e99463d-833d-4c45-9bf1-1b4dde98a9c1"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_f1101b61_03c5_41c1_b196_595a304cb935"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"f1656981-0862-4a2e-bdc5-94bd51da4fd9","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"f1101b61-03c5-41c1-b196-595a304cb935"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"6cdcc89d-fd42-4e8a-9e97-40576d559005"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400"},{"target_any_local_reference":{"kind":"app_package","name":"AWSSlavePackage","uuid":"34c00323-d209-4ed6-ab82-48e007095d9d"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"5a323734-dd94-4c2a-b6e1-07bdd6b26d57","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_34c00323_d209_4ed6_ab82_48e007095d9d"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSSlave","uuid":"f19c2ea6-884f-47c7-be9a-facfa3b1d1a9"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"9e99463d-833d-4c45-9bf1-1b4dde98a9c1","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"f1101b61-03c5-41c1-b196-595a304cb935"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_f19c2ea6_884f_47c7_be9a_facfa3b1d1a9","uuid":"d1f1fa8d-3863-4123-b050-ce68df3cb6c7"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Substrate_f19c2ea6_884f_47c7_be9a_facfa3b1d1a9"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"f1101b61-03c5-41c1-b196-595a304cb935"},"retries":"0","description":"","type":"SOFT_DELETE_DEPLOYMENT_ELEMENT","uuid":"11d95ead-7783-48a9-9de7-7bf4484373a2","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Soft_Delete_f1101b61_03c5_41c1_b196_595a304cb935"}],"description":"","message_list":[],"uuid":"7c9dbfc1-d7a4-4d1c-a19c-ab5b32533c48","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_f1101b61_03c5_41c1_b196_595a304cb935","uuid":"6fad3198-793e-48a7-8fe3-43f0578b1847"},"name":"SYS_GEN__Runbook_Deployment_f1101b61_03c5_41c1_b196_595a304cb935"}}],"message_list":[],"published_service_local_reference_list":[],"uuid":"f1101b61-03c5-41c1-b196-595a304cb935","min_replicas":"1","state":"ACTIVE","max_replicas":"3","depends_on_list":[],"editables":{"min_replicas":true,"max_replicas":true},"package_local_reference_list":[{"kind":"app_package","name":"AWSSlavePackage","uuid":"34c00323-d209-4ed6-ab82-48e007095d9d"}],"substrate_local_reference":{"kind":"app_substrate","name":"AWSSlave","uuid":"f19c2ea6-884f-47c7-be9a-facfa3b1d1a9"},"type":"GREENFIELD","options":{},"variable_list":[],"name":"a7e03ed8_deployment"}],"description":"","action_list":[{"description":"Take DB Backup. Specify absolute directory path for BACKUP_FILE_PATH","message_list":[],"uuid":"93752b80-2d20-4457-872c-27bac0dbd589","name":"Backup","state":"ACTIVE","critical":false,"attrs":{},"type":"user","runbook":{"task_definition_list":[{"retries":"0","description":"","type":"DAG","uuid":"7f337716-5438-4180-82bb-a3d9bcfa7fe0","child_tasks_local_reference_list":[{"kind":"app_task","name":"DB Backup","uuid":"0cae526d-a15f-4eeb-80db-710dfb9135bd"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"80ef9728_dag"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"EXEC","uuid":"0cae526d-a15f-4eeb-80db-710dfb9135bd","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n### Setup variables\nmysql_password=\"@@{MYSQL_PASSWORD}@@\"\ndate_part=`date +%F`\nmkdir -p @@{BACKUP_FILE_PATH}@@\nsudo mysqldump -u root -p${mysql_password} --all-databases | sudo gzip -9 > @@{BACKUP_FILE_PATH}@@\/db_dump.sql.gz","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"DB Backup"}],"description":"","message_list":[],"uuid":"5ac60b79-e502-4c0c-bd7f-cd26556b3093","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"d5617205-a97e-45bb-89d3-272c06576189","value":"~\/db_backup","label":"","state":"ACTIVE","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"BACKUP_FILE_PATH"}],"main_task_local_reference":{"kind":"app_task","name":"80ef9728_dag","uuid":"7f337716-5438-4180-82bb-a3d9bcfa7fe0"},"name":"11eaa560_runbook"}},{"description":"To restore DB from dump file. Specify absolute directory path for RESTORE_FILE_PATH","message_list":[],"uuid":"f94d3c9f-979b-48e9-bb9d-348c28007396","name":"Restore","state":"ACTIVE","critical":false,"attrs":{},"type":"user","runbook":{"task_definition_list":[{"retries":"0","description":"","type":"DAG","uuid":"b36a432e-e5e8-4051-be32-c7aa4619ca7c","child_tasks_local_reference_list":[{"kind":"app_task","name":"DB Restore","uuid":"85752690-abd8-44fc-9337-731817c154de"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"6d512a54_dag"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"EXEC","uuid":"85752690-abd8-44fc-9337-731817c154de","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n### Setup variables\nmysql_password=\"@@{MYSQL_PASSWORD}@@\"\ndb_file=@@{RESTORE_FILE_PATH}@@\n\nsudo gunzip < $db_file | sudo mysql -u root -p${mysql_password} ","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"DB Restore"}],"description":"","message_list":[],"uuid":"f64397df-f95c-4b2a-99b2-d8fdd927f9c2","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"ac3c1f99-0398-4a9d-82f6-77bd1e44321a","value":"~\/db_backup\/db_dump.sql.gz","label":"","state":"ACTIVE","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"RESTORE_FILE_PATH"}],"main_task_local_reference":{"kind":"app_task","name":"6d512a54_dag","uuid":"b36a432e-e5e8-4051-be32-c7aa4619ca7c"},"name":"9651af2f_runbook"}},{"description":"","message_list":[],"uuid":"debfeaba-a488-47fe-8f94-45bdfb449af9","name":"ScaleOut","state":"ACTIVE","critical":false,"attrs":{},"type":"user","runbook":{"task_definition_list":[{"retries":"0","description":"","type":"DAG","uuid":"02ec6c78-6517-4784-b30b-069d6a9d898d","child_tasks_local_reference_list":[{"kind":"app_task","name":"Scale Out","uuid":"c63b1649-022a-41a6-98de-48b04d1cdaa2"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"768e7ea3_dag"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"f1101b61-03c5-41c1-b196-595a304cb935"},"retries":"0","description":"","type":"SCALING","uuid":"c63b1649-022a-41a6-98de-48b04d1cdaa2","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{COUNT}@@","type":"","scaling_type":"SCALEOUT"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Scale Out"}],"description":"","message_list":[],"uuid":"3a42e040-6e55-48b1-bdb9-1d87bbe6b621","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"15ff5d26-cdfa-49af-9acb-8fe213005b5d","value":"1","label":"","state":"ACTIVE","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"COUNT"}],"main_task_local_reference":{"kind":"app_task","name":"768e7ea3_dag","uuid":"02ec6c78-6517-4784-b30b-069d6a9d898d"},"name":"b6420156_runbook"}},{"description":"","message_list":[],"uuid":"c6509590-ffc5-4fdd-a680-caa41a0f4c67","name":"ScaleIn","state":"ACTIVE","critical":false,"attrs":{},"type":"user","runbook":{"task_definition_list":[{"retries":"0","description":"","type":"DAG","uuid":"09c35e37-ebb4-470e-824d-e06a96b65bf2","child_tasks_local_reference_list":[{"kind":"app_task","name":"Scale In","uuid":"78e3dfc9-675a-46b4-88c3-e5922aab1bcd"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"26dc3690_dag"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"f1101b61-03c5-41c1-b196-595a304cb935"},"retries":"0","description":"","type":"SCALING","uuid":"78e3dfc9-675a-46b4-88c3-e5922aab1bcd","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{COUNT}@@","type":"","scaling_type":"SCALEIN"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Scale In"}],"description":"","message_list":[],"uuid":"55519733-04db-4e01-be94-ffb79c641c08","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"bf0ccf3f-658d-4a1c-9127-b3a55264f6a1","value":"1","label":"","state":"ACTIVE","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"COUNT"}],"main_task_local_reference":{"kind":"app_task","name":"26dc3690_dag","uuid":"09c35e37-ebb4-470e-824d-e06a96b65bf2"},"name":"5271ed6b_runbook"}},{"description":"System action for creating an application","message_list":[],"uuid":"f708ca20-c015-447e-9958-3f24d05dbb85","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"AWS","uuid":"318f3f17-cb56-466d-8463-78d0fa5de75f"},"retries":"0","description":"","type":"DAG","uuid":"080e8478-1ba5-414b-ad38-3060dbf69054","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__DE_Provision_268dbb82_6984_46ce_b947_a284d9d5c84b","uuid":"1533b7cc-9551-4235-9259-c0e49fc4271c"},{"kind":"app_task","name":"SYS_GEN__DE_Provision_f1101b61_03c5_41c1_b196_595a304cb935","uuid":"b1a04787-7bb8-4d39-a9c0-a30976079995"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_f19c2ea6_884f_47c7_be9a_facfa3b1d1a9","uuid":"8a2a47c1-c05f-4428-8065-159bfc5b20ad"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_15c65762_bc8d_4c60_93d7_d64c377a99d4","uuid":"4f856e3e-1d92-4185-ab07-21962a6a0a05"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_34c00323_d209_4ed6_ab82_48e007095d9d","uuid":"4a887f12-3cdf-40de-b17c-1bb4afdfc85c"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_6d64cb98_1346_48c4_a14e_f2858fbc3058","uuid":"78c847d4-d7fd-4fc5-96a0-73dbbb111b12"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"140fe8b6-8e55-4814-9523-0bb5dae60198"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"7fae55d3-fc9c-4224-b6e4-884f2e532222"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"c9e337f8-8306-4e84-add4-88817aa1cf71"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"1a74ff0a-8f97-465b-9e31-2c991e09a3d1"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"140fe8b6-8e55-4814-9523-0bb5dae60198"},"edge_type":"inherent","type":"","uuid":"d130ad5e-cd1a-4d1a-918b-2e18e3a0f8e4","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"7fae55d3-fc9c-4224-b6e4-884f2e532222"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_6d64cb98_1346_48c4_a14e_f2858fbc3058","uuid":"78c847d4-d7fd-4fc5-96a0-73dbbb111b12"},"edge_type":"inherent","type":"","uuid":"419047fa-f4a8-41d9-b7a5-f90404a5a745","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"140fe8b6-8e55-4814-9523-0bb5dae60198"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_268dbb82_6984_46ce_b947_a284d9d5c84b","uuid":"1533b7cc-9551-4235-9259-c0e49fc4271c"},"edge_type":"inherent","type":"","uuid":"6140d5b2-864e-444b-9ac7-4c36dccb5756","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_15c65762_bc8d_4c60_93d7_d64c377a99d4","uuid":"4f856e3e-1d92-4185-ab07-21962a6a0a05"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_15c65762_bc8d_4c60_93d7_d64c377a99d4","uuid":"4f856e3e-1d92-4185-ab07-21962a6a0a05"},"edge_type":"inherent","type":"","uuid":"f7076283-e8fe-451f-9441-ebbad6b97397","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_6d64cb98_1346_48c4_a14e_f2858fbc3058","uuid":"78c847d4-d7fd-4fc5-96a0-73dbbb111b12"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"c9e337f8-8306-4e84-add4-88817aa1cf71"},"edge_type":"inherent","type":"","uuid":"67beecb7-025f-48a9-8fce-73b6d26895f3","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"1a74ff0a-8f97-465b-9e31-2c991e09a3d1"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_34c00323_d209_4ed6_ab82_48e007095d9d","uuid":"4a887f12-3cdf-40de-b17c-1bb4afdfc85c"},"edge_type":"inherent","type":"","uuid":"b6eb6944-3cfb-4c4b-95c8-3cc2b55d8214","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"c9e337f8-8306-4e84-add4-88817aa1cf71"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_f1101b61_03c5_41c1_b196_595a304cb935","uuid":"b1a04787-7bb8-4d39-a9c0-a30976079995"},"edge_type":"inherent","type":"","uuid":"01f0ca88-9c66-48a5-bf1c-bcc3cda0ff2f","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_f19c2ea6_884f_47c7_be9a_facfa3b1d1a9","uuid":"8a2a47c1-c05f-4428-8065-159bfc5b20ad"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_f19c2ea6_884f_47c7_be9a_facfa3b1d1a9","uuid":"8a2a47c1-c05f-4428-8065-159bfc5b20ad"},"edge_type":"inherent","type":"","uuid":"42de8d0a-c2d1-4f4d-9197-e2055b72f87a","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_34c00323_d209_4ed6_ab82_48e007095d9d","uuid":"4a887f12-3cdf-40de-b17c-1bb4afdfc85c"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"7fae55d3-fc9c-4224-b6e4-884f2e532222"},"edge_type":"depends_on","type":"","uuid":"48ea6b91-bbc8-48c5-8c3a-cb3e2bfbab2e","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"c9e337f8-8306-4e84-add4-88817aa1cf71"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_318f3f17_cb56_466d_8463_78d0fa5de75f"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"62ee1671_deployment","uuid":"268dbb82-6984-46ce-b947-a284d9d5c84b"},"retries":"0","description":"","type":"CREATE_DEPLOYMENT_ELEMENT","uuid":"1533b7cc-9551-4235-9259-c0e49fc4271c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Provision_268dbb82_6984_46ce_b947_a284d9d5c84b"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"f1101b61-03c5-41c1-b196-595a304cb935"},"retries":"0","description":"","type":"CREATE_DEPLOYMENT_ELEMENT","uuid":"b1a04787-7bb8-4d39-a9c0-a30976079995","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Provision_f1101b61_03c5_41c1_b196_595a304cb935"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSSlave","uuid":"f19c2ea6-884f-47c7-be9a-facfa3b1d1a9"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"8a2a47c1-c05f-4428-8065-159bfc5b20ad","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"f1101b61-03c5-41c1-b196-595a304cb935"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_f19c2ea6_884f_47c7_be9a_facfa3b1d1a9","uuid":"9bc1e2d2-f7b0-4736-a385-eb963e598e5d"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Substrate_f19c2ea6_884f_47c7_be9a_facfa3b1d1a9"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSMaster","uuid":"15c65762-bc8d-4c60-93d7-d64c377a99d4"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"4f856e3e-1d92-4185-ab07-21962a6a0a05","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"62ee1671_deployment","uuid":"268dbb82-6984-46ce-b947-a284d9d5c84b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_15c65762_bc8d_4c60_93d7_d64c377a99d4","uuid":"78efd171-4be8-4883-ac20-c5dc2dd6227f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Substrate_15c65762_bc8d_4c60_93d7_d64c377a99d4"},{"target_any_local_reference":{"kind":"app_package","name":"AWSSlavePackage","uuid":"34c00323-d209-4ed6-ab82-48e007095d9d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"4a887f12-3cdf-40de-b17c-1bb4afdfc85c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"f1101b61-03c5-41c1-b196-595a304cb935"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_34c00323_d209_4ed6_ab82_48e007095d9d","uuid":"cc81ea86-cb57-4a7e-b6b5-93d29ac3838c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_34c00323_d209_4ed6_ab82_48e007095d9d"},{"target_any_local_reference":{"kind":"app_package","name":"AWSMasterPackage","uuid":"6d64cb98-1346-48c4-a14e-f2858fbc3058"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"78c847d4-d7fd-4fc5-96a0-73dbbb111b12","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"62ee1671_deployment","uuid":"268dbb82-6984-46ce-b947-a284d9d5c84b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_6d64cb98_1346_48c4_a14e_f2858fbc3058","uuid":"6f443716-700e-47e7-8d54-10a891b748e8"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_6d64cb98_1346_48c4_a14e_f2858fbc3058"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"140fe8b6-8e55-4814-9523-0bb5dae60198","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"62ee1671_deployment","uuid":"268dbb82-6984-46ce-b947-a284d9d5c84b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0a970522_runbook","uuid":"f2803b23-af0b-4afd-8a2f-ef666adf85c8"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"7fae55d3-fc9c-4224-b6e4-884f2e532222","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"62ee1671_deployment","uuid":"268dbb82-6984-46ce-b947-a284d9d5c84b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"5ddb28d1_runbook","uuid":"f88c4d73-c0ab-488b-a016-3e1453b91891"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"c9e337f8-8306-4e84-add4-88817aa1cf71","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"f1101b61-03c5-41c1-b196-595a304cb935"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"d54168c9_runbook","uuid":"e509001d-6b88-4a64-813c-0ce8ea81991a"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"1a74ff0a-8f97-465b-9e31-2c991e09a3d1","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"f1101b61-03c5-41c1-b196-595a304cb935"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"a027cde0_runbook","uuid":"0afbc7f3-5541-415f-9616-c459f09806b2"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400"}],"description":"","message_list":[],"uuid":"9542acc1-88d3-4ca7-b129-e80f6d923a65","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_318f3f17_cb56_466d_8463_78d0fa5de75f","uuid":"080e8478-1ba5-414b-ad38-3060dbf69054"},"name":"SYS_GEN__Runbook_Application_318f3f17_cb56_466d_8463_78d0fa5de75f"}},{"description":"System action for starting an application","message_list":[],"uuid":"d567d8de-1499-44cb-b783-4a38fbadc681","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"AWS","uuid":"318f3f17-cb56-466d-8463-78d0fa5de75f"},"retries":"0","description":"","type":"DAG","uuid":"105fc57e-c240-4bc3-8b33-410ca9076def","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_15c65762_bc8d_4c60_93d7_d64c377a99d4","uuid":"1f0d4a8b-61fb-4329-89a4-8364b4dc7464"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_f19c2ea6_884f_47c7_be9a_facfa3b1d1a9","uuid":"ade92895-6328-4e03-b40a-5de085980449"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"94991906-503c-4f54-beac-8ec709da0d39"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"5ec6f252-ebfe-4367-9cc5-b3f86b508b12"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_15c65762_bc8d_4c60_93d7_d64c377a99d4","uuid":"1f0d4a8b-61fb-4329-89a4-8364b4dc7464"},"edge_type":"inherent","type":"","uuid":"aa829856-dc84-452c-9e1a-b2d22ef9ab05","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"94991906-503c-4f54-beac-8ec709da0d39"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_f19c2ea6_884f_47c7_be9a_facfa3b1d1a9","uuid":"ade92895-6328-4e03-b40a-5de085980449"},"edge_type":"inherent","type":"","uuid":"f6ec7786-22e5-4f93-bba5-87ed8fbf7537","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"5ec6f252-ebfe-4367-9cc5-b3f86b508b12"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"94991906-503c-4f54-beac-8ec709da0d39"},"edge_type":"depends_on","type":"","uuid":"c94900e3-97a1-46d9-889f-36f2483bb09c","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"5ec6f252-ebfe-4367-9cc5-b3f86b508b12"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_318f3f17_cb56_466d_8463_78d0fa5de75f"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSMaster","uuid":"15c65762-bc8d-4c60-93d7-d64c377a99d4"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"1f0d4a8b-61fb-4329-89a4-8364b4dc7464","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"62ee1671_deployment","uuid":"268dbb82-6984-46ce-b947-a284d9d5c84b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_15c65762_bc8d_4c60_93d7_d64c377a99d4","uuid":"0e8a3726-7346-4150-a062-1407d86c7b60"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Substrate_15c65762_bc8d_4c60_93d7_d64c377a99d4"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSSlave","uuid":"f19c2ea6-884f-47c7-be9a-facfa3b1d1a9"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"ade92895-6328-4e03-b40a-5de085980449","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"f1101b61-03c5-41c1-b196-595a304cb935"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_f19c2ea6_884f_47c7_be9a_facfa3b1d1a9","uuid":"276e96c8-3fc7-4858-a969-8583a4dc09c6"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Substrate_f19c2ea6_884f_47c7_be9a_facfa3b1d1a9"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"94991906-503c-4f54-beac-8ec709da0d39","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"62ee1671_deployment","uuid":"268dbb82-6984-46ce-b947-a284d9d5c84b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"5ddb28d1_runbook","uuid":"f88c4d73-c0ab-488b-a016-3e1453b91891"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"5ec6f252-ebfe-4367-9cc5-b3f86b508b12","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"f1101b61-03c5-41c1-b196-595a304cb935"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"a027cde0_runbook","uuid":"0afbc7f3-5541-415f-9616-c459f09806b2"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400"}],"description":"","message_list":[],"uuid":"c8051e60-0c22-483b-82e0-3e2c5297a1f0","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_318f3f17_cb56_466d_8463_78d0fa5de75f","uuid":"105fc57e-c240-4bc3-8b33-410ca9076def"},"name":"SYS_GEN__Runbook_Application_318f3f17_cb56_466d_8463_78d0fa5de75f"}},{"description":"System action for restarting an application","message_list":[],"uuid":"f20779f9-8389-40c2-a2b2-e0a4fafde90e","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"AWS","uuid":"318f3f17-cb56-466d-8463-78d0fa5de75f"},"retries":"0","description":"","type":"DAG","uuid":"f8c19413-b60d-471f-bb37-bec2e569df3e","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_f19c2ea6_884f_47c7_be9a_facfa3b1d1a9","uuid":"d9f2b93d-5753-4484-bad7-bc5b9d946c65"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_15c65762_bc8d_4c60_93d7_d64c377a99d4","uuid":"92aaa09b-8442-4a76-b3d4-f9025948052d"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"f07bb718-1ec5-432f-8dc2-30f1a0b6917f"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"b6a948d8-9b04-4ef1-b74a-6e948c67fa08"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_15c65762_bc8d_4c60_93d7_d64c377a99d4","uuid":"92aaa09b-8442-4a76-b3d4-f9025948052d"},"edge_type":"inherent","type":"","uuid":"ee9047d3-1ada-46d5-ad3a-e0a0dff9c142","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"f07bb718-1ec5-432f-8dc2-30f1a0b6917f"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_f19c2ea6_884f_47c7_be9a_facfa3b1d1a9","uuid":"d9f2b93d-5753-4484-bad7-bc5b9d946c65"},"edge_type":"inherent","type":"","uuid":"4f37c49a-aa92-478e-affb-95380da52665","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"b6a948d8-9b04-4ef1-b74a-6e948c67fa08"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"f07bb718-1ec5-432f-8dc2-30f1a0b6917f"},"edge_type":"depends_on","type":"","uuid":"f71eb387-2a1c-40b7-b565-2d502650a471","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"b6a948d8-9b04-4ef1-b74a-6e948c67fa08"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_318f3f17_cb56_466d_8463_78d0fa5de75f"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSSlave","uuid":"f19c2ea6-884f-47c7-be9a-facfa3b1d1a9"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"d9f2b93d-5753-4484-bad7-bc5b9d946c65","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"f1101b61-03c5-41c1-b196-595a304cb935"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_f19c2ea6_884f_47c7_be9a_facfa3b1d1a9","uuid":"227783c6-9eec-4efd-a1fb-9293b0325d2e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Substrate_f19c2ea6_884f_47c7_be9a_facfa3b1d1a9"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSMaster","uuid":"15c65762-bc8d-4c60-93d7-d64c377a99d4"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"92aaa09b-8442-4a76-b3d4-f9025948052d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"62ee1671_deployment","uuid":"268dbb82-6984-46ce-b947-a284d9d5c84b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_15c65762_bc8d_4c60_93d7_d64c377a99d4","uuid":"df58d810-8043-4640-a723-19994bc9c404"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Substrate_15c65762_bc8d_4c60_93d7_d64c377a99d4"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"f07bb718-1ec5-432f-8dc2-30f1a0b6917f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"62ee1671_deployment","uuid":"268dbb82-6984-46ce-b947-a284d9d5c84b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"7e709238_runbook","uuid":"6beb8e29-06b2-4218-a1fd-18c28d8c6218"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"b6a948d8-9b04-4ef1-b74a-6e948c67fa08","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"f1101b61-03c5-41c1-b196-595a304cb935"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"f2b2a076_runbook","uuid":"b7162b3b-d4ba-4fba-875d-fc9c8c2c5b79"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400"}],"description":"","message_list":[],"uuid":"8d15fd8b-1b90-470e-80b3-3e678d9d021e","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_318f3f17_cb56_466d_8463_78d0fa5de75f","uuid":"f8c19413-b60d-471f-bb37-bec2e569df3e"},"name":"SYS_GEN__Runbook_Application_318f3f17_cb56_466d_8463_78d0fa5de75f"}},{"description":"System action for stopping an application","message_list":[],"uuid":"a7163f6b-bb48-4ac2-916d-accd97f1ffe8","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"AWS","uuid":"318f3f17-cb56-466d-8463-78d0fa5de75f"},"retries":"0","description":"","type":"DAG","uuid":"0646dd32-a0ff-4336-b6a3-818cba80648a","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"420edcd4-af20-45a5-babc-626ba790a56a"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"0f26c07d-17a5-4000-b658-01bc4b2262db"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_f19c2ea6_884f_47c7_be9a_facfa3b1d1a9","uuid":"05b7627b-27b9-4eee-b20d-dfb52f487fd2"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_15c65762_bc8d_4c60_93d7_d64c377a99d4","uuid":"8cb53423-ceb3-45d5-a15f-ac40bd6630cf"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"0f26c07d-17a5-4000-b658-01bc4b2262db"},"edge_type":"inherent","type":"","uuid":"084810b6-158b-47a6-825d-4ea673daebbc","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_15c65762_bc8d_4c60_93d7_d64c377a99d4","uuid":"8cb53423-ceb3-45d5-a15f-ac40bd6630cf"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"420edcd4-af20-45a5-babc-626ba790a56a"},"edge_type":"inherent","type":"","uuid":"72f40e32-fe51-41b9-954f-ea736744dca4","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_f19c2ea6_884f_47c7_be9a_facfa3b1d1a9","uuid":"05b7627b-27b9-4eee-b20d-dfb52f487fd2"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"420edcd4-af20-45a5-babc-626ba790a56a"},"edge_type":"depends_on","type":"","uuid":"629f3b23-905a-4f69-966e-a36838c3926c","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"0f26c07d-17a5-4000-b658-01bc4b2262db"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_318f3f17_cb56_466d_8463_78d0fa5de75f"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"420edcd4-af20-45a5-babc-626ba790a56a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"f1101b61-03c5-41c1-b196-595a304cb935"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"4a2ad0be_runbook","uuid":"09b1c8a9-6223-4e38-acfb-ff4754413c85"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"0f26c07d-17a5-4000-b658-01bc4b2262db","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"62ee1671_deployment","uuid":"268dbb82-6984-46ce-b947-a284d9d5c84b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0aefbca3_runbook","uuid":"a75d0021-cf2d-4da4-85dc-56ee0ed9e9eb"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSSlave","uuid":"f19c2ea6-884f-47c7-be9a-facfa3b1d1a9"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"05b7627b-27b9-4eee-b20d-dfb52f487fd2","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"f1101b61-03c5-41c1-b196-595a304cb935"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_f19c2ea6_884f_47c7_be9a_facfa3b1d1a9","uuid":"c6771673-1d07-46cc-a84b-c4305d76748a"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Substrate_f19c2ea6_884f_47c7_be9a_facfa3b1d1a9"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSMaster","uuid":"15c65762-bc8d-4c60-93d7-d64c377a99d4"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"8cb53423-ceb3-45d5-a15f-ac40bd6630cf","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"62ee1671_deployment","uuid":"268dbb82-6984-46ce-b947-a284d9d5c84b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_15c65762_bc8d_4c60_93d7_d64c377a99d4","uuid":"c5ff068b-7cad-4deb-99ab-3c1abcb335f4"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Substrate_15c65762_bc8d_4c60_93d7_d64c377a99d4"}],"description":"","message_list":[],"uuid":"b93ea01e-de03-4505-b6be-6c2cc46d70dd","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_318f3f17_cb56_466d_8463_78d0fa5de75f","uuid":"0646dd32-a0ff-4336-b6a3-818cba80648a"},"name":"SYS_GEN__Runbook_Application_318f3f17_cb56_466d_8463_78d0fa5de75f"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"5da71cf1-f6cc-462c-8d59-a1f393897403","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"AWS","uuid":"318f3f17-cb56-466d-8463-78d0fa5de75f"},"retries":"0","description":"","type":"DAG","uuid":"fba6fd9f-d644-4e28-96aa-137c06aedef1","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"585c2009-09f5-4f6e-b25b-a5f8b62fbd66"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"163c6c55-8dd7-4a9a-8832-dfd617e8e5cb"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"6da50d90-f03b-4283-b06e-1b81f1b774e7"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_34c00323_d209_4ed6_ab82_48e007095d9d","uuid":"0580f7d3-22b6-4fc8-8d99-b8c0ed8bf288"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"b426925e-b849-4584-a193-a6460ce7b675"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_f19c2ea6_884f_47c7_be9a_facfa3b1d1a9","uuid":"655c8bb2-8fc3-4740-8679-aac8e2c16f37"},{"kind":"app_task","name":"SYS_GEN__DE_Delete_f1101b61_03c5_41c1_b196_595a304cb935","uuid":"6e07b425-fe60-4405-8819-2c35eb208bcf"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_6d64cb98_1346_48c4_a14e_f2858fbc3058","uuid":"f6ccd89c-5414-4419-86c2-d9c7f6aba590"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_15c65762_bc8d_4c60_93d7_d64c377a99d4","uuid":"a6b8c451-9afc-4b15-8be1-147f81d661c8"},{"kind":"app_task","name":"SYS_GEN__DE_Delete_268dbb82_6984_46ce_b947_a284d9d5c84b","uuid":"06d855c2-6778-4ffc-a36b-c6771f20355f"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"6da50d90-f03b-4283-b06e-1b81f1b774e7"},"edge_type":"inherent","type":"","uuid":"3ae0c949-3a08-48d2-ba64-473032a13503","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"b426925e-b849-4584-a193-a6460ce7b675"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"b426925e-b849-4584-a193-a6460ce7b675"},"edge_type":"inherent","type":"","uuid":"60d1fbf5-8037-4140-b08b-8c18bd00070e","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_6d64cb98_1346_48c4_a14e_f2858fbc3058","uuid":"f6ccd89c-5414-4419-86c2-d9c7f6aba590"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_15c65762_bc8d_4c60_93d7_d64c377a99d4","uuid":"a6b8c451-9afc-4b15-8be1-147f81d661c8"},"edge_type":"inherent","type":"","uuid":"b329bbe8-4059-4feb-b2e2-ac1a2e342771","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Delete_268dbb82_6984_46ce_b947_a284d9d5c84b","uuid":"06d855c2-6778-4ffc-a36b-c6771f20355f"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_6d64cb98_1346_48c4_a14e_f2858fbc3058","uuid":"f6ccd89c-5414-4419-86c2-d9c7f6aba590"},"edge_type":"inherent","type":"","uuid":"c7c526bb-a8bd-4508-8067-72a79bd8bbd5","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_15c65762_bc8d_4c60_93d7_d64c377a99d4","uuid":"a6b8c451-9afc-4b15-8be1-147f81d661c8"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"585c2009-09f5-4f6e-b25b-a5f8b62fbd66"},"edge_type":"inherent","type":"","uuid":"2d7ee784-d7fb-4e3d-8514-975595aae52a","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"163c6c55-8dd7-4a9a-8832-dfd617e8e5cb"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"163c6c55-8dd7-4a9a-8832-dfd617e8e5cb"},"edge_type":"inherent","type":"","uuid":"1f20189c-ab27-4f95-ab18-5128f9aaa881","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_34c00323_d209_4ed6_ab82_48e007095d9d","uuid":"0580f7d3-22b6-4fc8-8d99-b8c0ed8bf288"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_f19c2ea6_884f_47c7_be9a_facfa3b1d1a9","uuid":"655c8bb2-8fc3-4740-8679-aac8e2c16f37"},"edge_type":"inherent","type":"","uuid":"4d2788f1-29cd-4287-a7e1-5329a1427c0d","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Delete_f1101b61_03c5_41c1_b196_595a304cb935","uuid":"6e07b425-fe60-4405-8819-2c35eb208bcf"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_34c00323_d209_4ed6_ab82_48e007095d9d","uuid":"0580f7d3-22b6-4fc8-8d99-b8c0ed8bf288"},"edge_type":"inherent","type":"","uuid":"1fded7b0-b632-47ff-b8a5-585aae01a2bb","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_f19c2ea6_884f_47c7_be9a_facfa3b1d1a9","uuid":"655c8bb2-8fc3-4740-8679-aac8e2c16f37"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"163c6c55-8dd7-4a9a-8832-dfd617e8e5cb"},"edge_type":"depends_on","type":"","uuid":"e7abac00-3963-41a4-a623-c7b0893abc10","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"6da50d90-f03b-4283-b06e-1b81f1b774e7"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_318f3f17_cb56_466d_8463_78d0fa5de75f"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"585c2009-09f5-4f6e-b25b-a5f8b62fbd66","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"f1101b61-03c5-41c1-b196-595a304cb935"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"4a2ad0be_runbook","uuid":"09b1c8a9-6223-4e38-acfb-ff4754413c85"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"163c6c55-8dd7-4a9a-8832-dfd617e8e5cb","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"f1101b61-03c5-41c1-b196-595a304cb935"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"92247e35_runbook","uuid":"497a8a35-a955-4f76-8fb0-21dbd9acb6e0"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"6da50d90-f03b-4283-b06e-1b81f1b774e7","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"62ee1671_deployment","uuid":"268dbb82-6984-46ce-b947-a284d9d5c84b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0aefbca3_runbook","uuid":"a75d0021-cf2d-4da4-85dc-56ee0ed9e9eb"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd"},{"target_any_local_reference":{"kind":"app_package","name":"AWSSlavePackage","uuid":"34c00323-d209-4ed6-ab82-48e007095d9d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"0580f7d3-22b6-4fc8-8d99-b8c0ed8bf288","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"f1101b61-03c5-41c1-b196-595a304cb935"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_34c00323_d209_4ed6_ab82_48e007095d9d","uuid":"5400957d-b7df-4140-bf65-bd847ee16519"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_34c00323_d209_4ed6_ab82_48e007095d9d"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"b426925e-b849-4584-a193-a6460ce7b675","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"62ee1671_deployment","uuid":"268dbb82-6984-46ce-b947-a284d9d5c84b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"5fd47ec3_runbook","uuid":"7e58dd6b-1da9-495c-97e7-84bb6e288586"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSSlave","uuid":"f19c2ea6-884f-47c7-be9a-facfa3b1d1a9"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"655c8bb2-8fc3-4740-8679-aac8e2c16f37","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"f1101b61-03c5-41c1-b196-595a304cb935"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_f19c2ea6_884f_47c7_be9a_facfa3b1d1a9","uuid":"543ab595-1f78-40fe-8442-a76f2b025e65"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Substrate_f19c2ea6_884f_47c7_be9a_facfa3b1d1a9"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"f1101b61-03c5-41c1-b196-595a304cb935"},"retries":"0","description":"","type":"DELETE_DEPLOYMENT_ELEMENT","uuid":"6e07b425-fe60-4405-8819-2c35eb208bcf","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Delete_f1101b61_03c5_41c1_b196_595a304cb935"},{"target_any_local_reference":{"kind":"app_package","name":"AWSMasterPackage","uuid":"6d64cb98-1346-48c4-a14e-f2858fbc3058"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"f6ccd89c-5414-4419-86c2-d9c7f6aba590","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"62ee1671_deployment","uuid":"268dbb82-6984-46ce-b947-a284d9d5c84b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_6d64cb98_1346_48c4_a14e_f2858fbc3058","uuid":"29d253ae-db2b-4a32-b987-36896530bcc9"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_6d64cb98_1346_48c4_a14e_f2858fbc3058"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSMaster","uuid":"15c65762-bc8d-4c60-93d7-d64c377a99d4"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"a6b8c451-9afc-4b15-8be1-147f81d661c8","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"62ee1671_deployment","uuid":"268dbb82-6984-46ce-b947-a284d9d5c84b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_15c65762_bc8d_4c60_93d7_d64c377a99d4","uuid":"a8fb86f0-8633-4bf8-a9f7-f9f3c4e4259e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Substrate_15c65762_bc8d_4c60_93d7_d64c377a99d4"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"62ee1671_deployment","uuid":"268dbb82-6984-46ce-b947-a284d9d5c84b"},"retries":"0","description":"","type":"DELETE_DEPLOYMENT_ELEMENT","uuid":"06d855c2-6778-4ffc-a36b-c6771f20355f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Delete_268dbb82_6984_46ce_b947_a284d9d5c84b"}],"description":"","message_list":[],"uuid":"18020b57-c46b-44d0-89d1-d148a6dde138","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_318f3f17_cb56_466d_8463_78d0fa5de75f","uuid":"fba6fd9f-d644-4e28-96aa-137c06aedef1"},"name":"SYS_GEN__Runbook_Application_318f3f17_cb56_466d_8463_78d0fa5de75f"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"ab1ade73-8362-4179-a984-391ec2d2e458","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"AWS","uuid":"318f3f17-cb56-466d-8463-78d0fa5de75f"},"retries":"0","description":"","type":"DAG","uuid":"88eecf9e-a2a3-4239-9523-8c79a1aab3ab","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"f74b1e76-51dd-4a6c-89ca-e359637bb781"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_34c00323_d209_4ed6_ab82_48e007095d9d","uuid":"3e0b1596-a676-4557-8969-68ad0b6c7666"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"c4fc9d71-9dbc-451c-bc3d-757f5d95790a"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_f19c2ea6_884f_47c7_be9a_facfa3b1d1a9","uuid":"92d4420e-95e8-47bc-9d38-ab2d25313732"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_6d64cb98_1346_48c4_a14e_f2858fbc3058","uuid":"afb60a55-8acd-446c-8288-19c8e5901292"},{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_f1101b61_03c5_41c1_b196_595a304cb935","uuid":"871be8f8-b6d7-488f-ba48-69da9b8200e4"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_15c65762_bc8d_4c60_93d7_d64c377a99d4","uuid":"302001db-196b-4c63-b8f0-d192785ac4b7"},{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_268dbb82_6984_46ce_b947_a284d9d5c84b","uuid":"cb1f0450-402c-46d1-9c7c-6140789618d5"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"c4fc9d71-9dbc-451c-bc3d-757f5d95790a"},"edge_type":"inherent","type":"","uuid":"9de55ce7-c47f-4728-be8a-9e8d812527f3","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_6d64cb98_1346_48c4_a14e_f2858fbc3058","uuid":"afb60a55-8acd-446c-8288-19c8e5901292"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_15c65762_bc8d_4c60_93d7_d64c377a99d4","uuid":"302001db-196b-4c63-b8f0-d192785ac4b7"},"edge_type":"inherent","type":"","uuid":"63bc3a9e-da3b-4fbf-b49d-c5db9839f23e","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_268dbb82_6984_46ce_b947_a284d9d5c84b","uuid":"cb1f0450-402c-46d1-9c7c-6140789618d5"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_6d64cb98_1346_48c4_a14e_f2858fbc3058","uuid":"afb60a55-8acd-446c-8288-19c8e5901292"},"edge_type":"inherent","type":"","uuid":"8ffedf8b-9e7c-4d51-8587-74604d0e7eab","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_15c65762_bc8d_4c60_93d7_d64c377a99d4","uuid":"302001db-196b-4c63-b8f0-d192785ac4b7"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"f74b1e76-51dd-4a6c-89ca-e359637bb781"},"edge_type":"inherent","type":"","uuid":"279c34e8-121e-4645-8fc5-4d256e0d7226","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_34c00323_d209_4ed6_ab82_48e007095d9d","uuid":"3e0b1596-a676-4557-8969-68ad0b6c7666"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_f19c2ea6_884f_47c7_be9a_facfa3b1d1a9","uuid":"92d4420e-95e8-47bc-9d38-ab2d25313732"},"edge_type":"inherent","type":"","uuid":"8f054903-cacc-4e97-ac55-8eb83b612575","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_f1101b61_03c5_41c1_b196_595a304cb935","uuid":"871be8f8-b6d7-488f-ba48-69da9b8200e4"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_34c00323_d209_4ed6_ab82_48e007095d9d","uuid":"3e0b1596-a676-4557-8969-68ad0b6c7666"},"edge_type":"inherent","type":"","uuid":"e3ba95a8-d401-48f0-b6c3-ef4af8b5adca","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_f19c2ea6_884f_47c7_be9a_facfa3b1d1a9","uuid":"92d4420e-95e8-47bc-9d38-ab2d25313732"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"f74b1e76-51dd-4a6c-89ca-e359637bb781"},"edge_type":"depends_on","type":"","uuid":"955bcd41-a48b-4e9d-a677-55363e463013","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"c4fc9d71-9dbc-451c-bc3d-757f5d95790a"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_318f3f17_cb56_466d_8463_78d0fa5de75f"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"f74b1e76-51dd-4a6c-89ca-e359637bb781","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"f1101b61-03c5-41c1-b196-595a304cb935"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"6cdcc89d-fd42-4e8a-9e97-40576d559005"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400"},{"target_any_local_reference":{"kind":"app_package","name":"AWSSlavePackage","uuid":"34c00323-d209-4ed6-ab82-48e007095d9d"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"3e0b1596-a676-4557-8969-68ad0b6c7666","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_34c00323_d209_4ed6_ab82_48e007095d9d"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"c4fc9d71-9dbc-451c-bc3d-757f5d95790a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"62ee1671_deployment","uuid":"268dbb82-6984-46ce-b947-a284d9d5c84b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"9b57420b-3c50-4fbe-8880-9c7651fd25ad"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSSlave","uuid":"f19c2ea6-884f-47c7-be9a-facfa3b1d1a9"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"92d4420e-95e8-47bc-9d38-ab2d25313732","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"f1101b61-03c5-41c1-b196-595a304cb935"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_f19c2ea6_884f_47c7_be9a_facfa3b1d1a9","uuid":"d1f1fa8d-3863-4123-b050-ce68df3cb6c7"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Substrate_f19c2ea6_884f_47c7_be9a_facfa3b1d1a9"},{"target_any_local_reference":{"kind":"app_package","name":"AWSMasterPackage","uuid":"6d64cb98-1346-48c4-a14e-f2858fbc3058"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"afb60a55-8acd-446c-8288-19c8e5901292","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_6d64cb98_1346_48c4_a14e_f2858fbc3058"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"f1101b61-03c5-41c1-b196-595a304cb935"},"retries":"0","description":"","type":"SOFT_DELETE_DEPLOYMENT_ELEMENT","uuid":"871be8f8-b6d7-488f-ba48-69da9b8200e4","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Soft_Delete_f1101b61_03c5_41c1_b196_595a304cb935"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSMaster","uuid":"15c65762-bc8d-4c60-93d7-d64c377a99d4"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"302001db-196b-4c63-b8f0-d192785ac4b7","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"62ee1671_deployment","uuid":"268dbb82-6984-46ce-b947-a284d9d5c84b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_15c65762_bc8d_4c60_93d7_d64c377a99d4","uuid":"eef4e90d-1a4a-4167-b004-327da44d09fe"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Substrate_15c65762_bc8d_4c60_93d7_d64c377a99d4"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"62ee1671_deployment","uuid":"268dbb82-6984-46ce-b947-a284d9d5c84b"},"retries":"0","description":"","type":"SOFT_DELETE_DEPLOYMENT_ELEMENT","uuid":"cb1f0450-402c-46d1-9c7c-6140789618d5","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Soft_Delete_268dbb82_6984_46ce_b947_a284d9d5c84b"}],"description":"","message_list":[],"uuid":"da30b735-af0d-4cf8-8852-e061ed727b73","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_318f3f17_cb56_466d_8463_78d0fa5de75f","uuid":"88eecf9e-a2a3-4239-9523-8c79a1aab3ab"},"name":"SYS_GEN__Runbook_Application_318f3f17_cb56_466d_8463_78d0fa5de75f"}}],"message_list":[],"uuid":"318f3f17-cb56-466d-8463-78d0fa5de75f","state":"ACTIVE","dependency_list":[{"getter_resource_kind":"ServiceCfg","setter_resource_attr":"MYSQL_BIN","setter_resource_kind":"ServiceCfg","setter_resource_name":"MySQL_Master","action_name":"action_create","action_resource_name":"AWS","getter_resource_name":"MySQL_Slave","action_resource_kind":"ApplicationCfg"},{"getter_resource_kind":"ServiceCfg","setter_resource_attr":"MYSQL_POSITION","setter_resource_kind":"ServiceCfg","setter_resource_name":"MySQL_Master","action_name":"action_create","action_resource_name":"AWS","getter_resource_name":"MySQL_Slave","action_resource_kind":"ApplicationCfg"},{"getter_resource_kind":"ServiceCfg","setter_resource_attr":"address","setter_resource_kind":"ServiceCfg","setter_resource_name":"MySQL_Master","action_name":"action_create","action_resource_name":"AWS","getter_resource_name":"MySQL_Slave","action_resource_kind":"ApplicationCfg"}],"variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"bb26a286-3765-4dce-8abb-510d2eb2a439","value":"","label":"","state":"ACTIVE","attrs":{"is_secret_modified":false,"secret_reference":{"uuid":"ac227aaf-f26f-4f16-b96a-6c48ac3dbf3b"},"type":""},"editables":{"value":true},"is_hidden":false,"type":"SECRET","options":{},"name":"MYSQL_PASSWORD"}],"name":"AWS"},{"deployment_create_list":[{"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"81a5f197-3f55-4a49-8c00-7ea82bb1adf2","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9b1d29e6_deployment","uuid":"95b261f0-da10-45b6-a3e9-0e31feec6fdc"},"retries":"0","description":"","type":"DAG","uuid":"cb5e6816-49ee-4b53-8db4-ec1604614c55","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__DE_Provision_95b261f0_da10_45b6_a3e9_0e31feec6fdc","uuid":"f55952c5-927c-46d9-b784-59a2a47cac82"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_d9edbd06_05b7_4e69_bc4b_ba5c99bab83f","uuid":"9f062815-f047-4c16-8667-29df10c2ade3"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_77a18b5d_4cbc_4548_bb28_2c4fb6308d50","uuid":"2733b77e-c8ed-4932-9111-a4d9f24e4842"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"a2a827a1-574b-40c5-9616-23fa713ec8db"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"38c612f4-0843-4ae3-80c4-e9955e4860bf"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"a2a827a1-574b-40c5-9616-23fa713ec8db"},"edge_type":"inherent","type":"","uuid":"e8235af8-7d71-4ad4-8924-0f87ec453165","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"38c612f4-0843-4ae3-80c4-e9955e4860bf"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_77a18b5d_4cbc_4548_bb28_2c4fb6308d50","uuid":"2733b77e-c8ed-4932-9111-a4d9f24e4842"},"edge_type":"inherent","type":"","uuid":"724a1e94-ca5e-46bc-b291-a74c56563099","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"a2a827a1-574b-40c5-9616-23fa713ec8db"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_95b261f0_da10_45b6_a3e9_0e31feec6fdc","uuid":"f55952c5-927c-46d9-b784-59a2a47cac82"},"edge_type":"inherent","type":"","uuid":"46447ec6-8800-431e-93c9-b0a410a0f227","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_d9edbd06_05b7_4e69_bc4b_ba5c99bab83f","uuid":"9f062815-f047-4c16-8667-29df10c2ade3"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_d9edbd06_05b7_4e69_bc4b_ba5c99bab83f","uuid":"9f062815-f047-4c16-8667-29df10c2ade3"},"edge_type":"inherent","type":"","uuid":"89a8c322-2a61-476a-9404-b848085690c7","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_77a18b5d_4cbc_4548_bb28_2c4fb6308d50","uuid":"2733b77e-c8ed-4932-9111-a4d9f24e4842"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_95b261f0_da10_45b6_a3e9_0e31feec6fdc"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9b1d29e6_deployment","uuid":"95b261f0-da10-45b6-a3e9-0e31feec6fdc"},"retries":"0","description":"","type":"CREATE_DEPLOYMENT_ELEMENT","uuid":"f55952c5-927c-46d9-b784-59a2a47cac82","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Provision_95b261f0_da10_45b6_a3e9_0e31feec6fdc"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPMaster","uuid":"d9edbd06-05b7-4e69-bc4b-ba5c99bab83f"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"9f062815-f047-4c16-8667-29df10c2ade3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9b1d29e6_deployment","uuid":"95b261f0-da10-45b6-a3e9-0e31feec6fdc"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_d9edbd06_05b7_4e69_bc4b_ba5c99bab83f","uuid":"48ea4f94-f54e-4e19-a212-812411c5fae9"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Substrate_d9edbd06_05b7_4e69_bc4b_ba5c99bab83f"},{"target_any_local_reference":{"kind":"app_package","name":"GCPMasterPackage","uuid":"77a18b5d-4cbc-4548-bb28-2c4fb6308d50"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"2733b77e-c8ed-4932-9111-a4d9f24e4842","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9b1d29e6_deployment","uuid":"95b261f0-da10-45b6-a3e9-0e31feec6fdc"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_77a18b5d_4cbc_4548_bb28_2c4fb6308d50","uuid":"7f0699cc-1581-453a-967c-a5c193e57f8b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_77a18b5d_4cbc_4548_bb28_2c4fb6308d50"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"a2a827a1-574b-40c5-9616-23fa713ec8db","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9b1d29e6_deployment","uuid":"95b261f0-da10-45b6-a3e9-0e31feec6fdc"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0a970522_runbook","uuid":"f2803b23-af0b-4afd-8a2f-ef666adf85c8"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"38c612f4-0843-4ae3-80c4-e9955e4860bf","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9b1d29e6_deployment","uuid":"95b261f0-da10-45b6-a3e9-0e31feec6fdc"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"5ddb28d1_runbook","uuid":"f88c4d73-c0ab-488b-a016-3e1453b91891"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd"}],"description":"","message_list":[],"uuid":"85b8ae60-99f7-42c7-8ffa-9722fd69664f","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_95b261f0_da10_45b6_a3e9_0e31feec6fdc","uuid":"cb5e6816-49ee-4b53-8db4-ec1604614c55"},"name":"SYS_GEN__Runbook_Deployment_95b261f0_da10_45b6_a3e9_0e31feec6fdc"}},{"description":"System action for starting an application","message_list":[],"uuid":"31a143b0-e316-4a84-81b1-6aacbd135638","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9b1d29e6_deployment","uuid":"95b261f0-da10-45b6-a3e9-0e31feec6fdc"},"retries":"0","description":"","type":"DAG","uuid":"48e61005-f499-4375-aeab-16331d2de11f","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_d9edbd06_05b7_4e69_bc4b_ba5c99bab83f","uuid":"8ed7d483-8caa-4cfa-9775-76425c64ded8"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"4dda26a9-cc13-489a-9052-9316043f4d88"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_d9edbd06_05b7_4e69_bc4b_ba5c99bab83f","uuid":"8ed7d483-8caa-4cfa-9775-76425c64ded8"},"edge_type":"inherent","type":"","uuid":"fb96b833-9b2d-4043-b9d4-5986a54abe82","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"4dda26a9-cc13-489a-9052-9316043f4d88"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_95b261f0_da10_45b6_a3e9_0e31feec6fdc"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPMaster","uuid":"d9edbd06-05b7-4e69-bc4b-ba5c99bab83f"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"8ed7d483-8caa-4cfa-9775-76425c64ded8","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9b1d29e6_deployment","uuid":"95b261f0-da10-45b6-a3e9-0e31feec6fdc"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_d9edbd06_05b7_4e69_bc4b_ba5c99bab83f","uuid":"ae88ca55-e86f-46ea-aac3-1a2b3fe7c853"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Substrate_d9edbd06_05b7_4e69_bc4b_ba5c99bab83f"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"4dda26a9-cc13-489a-9052-9316043f4d88","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9b1d29e6_deployment","uuid":"95b261f0-da10-45b6-a3e9-0e31feec6fdc"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"5ddb28d1_runbook","uuid":"f88c4d73-c0ab-488b-a016-3e1453b91891"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd"}],"description":"","message_list":[],"uuid":"2a61d0ca-a3c4-4cfd-b800-1230b1d275c0","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_95b261f0_da10_45b6_a3e9_0e31feec6fdc","uuid":"48e61005-f499-4375-aeab-16331d2de11f"},"name":"SYS_GEN__Runbook_Deployment_95b261f0_da10_45b6_a3e9_0e31feec6fdc"}},{"description":"System action for restarting an application","message_list":[],"uuid":"adba6d84-7e74-4b72-a90a-298107b2f67d","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9b1d29e6_deployment","uuid":"95b261f0-da10-45b6-a3e9-0e31feec6fdc"},"retries":"0","description":"","type":"DAG","uuid":"350540f7-898c-49cd-8a71-5f5402b08c5a","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_d9edbd06_05b7_4e69_bc4b_ba5c99bab83f","uuid":"04bc7024-be7f-4fd7-9d8d-2ab5fa1ade25"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"45aaca26-e4c4-4a55-affe-b2068eb895b2"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_d9edbd06_05b7_4e69_bc4b_ba5c99bab83f","uuid":"04bc7024-be7f-4fd7-9d8d-2ab5fa1ade25"},"edge_type":"inherent","type":"","uuid":"4f2c68ab-50c5-472a-8a8c-0cf3e2835717","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"45aaca26-e4c4-4a55-affe-b2068eb895b2"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_95b261f0_da10_45b6_a3e9_0e31feec6fdc"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPMaster","uuid":"d9edbd06-05b7-4e69-bc4b-ba5c99bab83f"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"04bc7024-be7f-4fd7-9d8d-2ab5fa1ade25","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9b1d29e6_deployment","uuid":"95b261f0-da10-45b6-a3e9-0e31feec6fdc"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_d9edbd06_05b7_4e69_bc4b_ba5c99bab83f","uuid":"5989d056-474f-4db9-bd5f-4c9219497f66"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Substrate_d9edbd06_05b7_4e69_bc4b_ba5c99bab83f"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"45aaca26-e4c4-4a55-affe-b2068eb895b2","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9b1d29e6_deployment","uuid":"95b261f0-da10-45b6-a3e9-0e31feec6fdc"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"7e709238_runbook","uuid":"6beb8e29-06b2-4218-a1fd-18c28d8c6218"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd"}],"description":"","message_list":[],"uuid":"f1c65467-e55c-42d1-9816-cd248018f035","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_95b261f0_da10_45b6_a3e9_0e31feec6fdc","uuid":"350540f7-898c-49cd-8a71-5f5402b08c5a"},"name":"SYS_GEN__Runbook_Deployment_95b261f0_da10_45b6_a3e9_0e31feec6fdc"}},{"description":"System action for stopping an application","message_list":[],"uuid":"320ad1db-9bb0-44e0-b09a-28109b857ba9","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9b1d29e6_deployment","uuid":"95b261f0-da10-45b6-a3e9-0e31feec6fdc"},"retries":"0","description":"","type":"DAG","uuid":"9af3d532-a938-4bd2-bcac-3b50246023ca","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"803b0966-3711-43f2-a655-c250af6b8c92"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_d9edbd06_05b7_4e69_bc4b_ba5c99bab83f","uuid":"cd441dd4-5739-4243-9bf5-df690e67b6d3"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"803b0966-3711-43f2-a655-c250af6b8c92"},"edge_type":"inherent","type":"","uuid":"20208311-f567-48cb-af16-dea6e778c1e0","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_d9edbd06_05b7_4e69_bc4b_ba5c99bab83f","uuid":"cd441dd4-5739-4243-9bf5-df690e67b6d3"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_95b261f0_da10_45b6_a3e9_0e31feec6fdc"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"803b0966-3711-43f2-a655-c250af6b8c92","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9b1d29e6_deployment","uuid":"95b261f0-da10-45b6-a3e9-0e31feec6fdc"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0aefbca3_runbook","uuid":"a75d0021-cf2d-4da4-85dc-56ee0ed9e9eb"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPMaster","uuid":"d9edbd06-05b7-4e69-bc4b-ba5c99bab83f"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"cd441dd4-5739-4243-9bf5-df690e67b6d3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9b1d29e6_deployment","uuid":"95b261f0-da10-45b6-a3e9-0e31feec6fdc"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_d9edbd06_05b7_4e69_bc4b_ba5c99bab83f","uuid":"43e89bae-46cd-4079-a0e4-d6357ccddb3e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Substrate_d9edbd06_05b7_4e69_bc4b_ba5c99bab83f"}],"description":"","message_list":[],"uuid":"050d8496-08fb-46b0-af08-c94008f22025","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_95b261f0_da10_45b6_a3e9_0e31feec6fdc","uuid":"9af3d532-a938-4bd2-bcac-3b50246023ca"},"name":"SYS_GEN__Runbook_Deployment_95b261f0_da10_45b6_a3e9_0e31feec6fdc"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"ae78993d-f4e2-4655-bd69-cb87ade2b93d","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9b1d29e6_deployment","uuid":"95b261f0-da10-45b6-a3e9-0e31feec6fdc"},"retries":"0","description":"","type":"DAG","uuid":"23fb036b-b4cf-4fa5-9827-4cf942ea75ed","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"9401083a-fe53-48db-922b-a12f3d1c5a1e"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"ea967010-aa24-4221-856e-30e086cba77d"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_77a18b5d_4cbc_4548_bb28_2c4fb6308d50","uuid":"c7fcf9dc-6656-446b-8ab0-bc1969519c73"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_d9edbd06_05b7_4e69_bc4b_ba5c99bab83f","uuid":"8e7d13eb-506a-4a47-81a3-ced6fdf0383f"},{"kind":"app_task","name":"SYS_GEN__DE_Delete_95b261f0_da10_45b6_a3e9_0e31feec6fdc","uuid":"500de98a-26bc-402d-aaa1-6547502eb7dc"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"9401083a-fe53-48db-922b-a12f3d1c5a1e"},"edge_type":"inherent","type":"","uuid":"2f6ac9d1-a3f8-4fac-aaaf-2fe78c683d72","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"ea967010-aa24-4221-856e-30e086cba77d"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"ea967010-aa24-4221-856e-30e086cba77d"},"edge_type":"inherent","type":"","uuid":"e8cad5f6-4a49-4f23-a666-78e9786be625","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_77a18b5d_4cbc_4548_bb28_2c4fb6308d50","uuid":"c7fcf9dc-6656-446b-8ab0-bc1969519c73"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_d9edbd06_05b7_4e69_bc4b_ba5c99bab83f","uuid":"8e7d13eb-506a-4a47-81a3-ced6fdf0383f"},"edge_type":"inherent","type":"","uuid":"58df98d8-c066-4d9f-9ead-1cb9777f1865","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Delete_95b261f0_da10_45b6_a3e9_0e31feec6fdc","uuid":"500de98a-26bc-402d-aaa1-6547502eb7dc"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_77a18b5d_4cbc_4548_bb28_2c4fb6308d50","uuid":"c7fcf9dc-6656-446b-8ab0-bc1969519c73"},"edge_type":"inherent","type":"","uuid":"70e898ec-456c-44bd-a35d-854d710b019c","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_d9edbd06_05b7_4e69_bc4b_ba5c99bab83f","uuid":"8e7d13eb-506a-4a47-81a3-ced6fdf0383f"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_95b261f0_da10_45b6_a3e9_0e31feec6fdc"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"9401083a-fe53-48db-922b-a12f3d1c5a1e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9b1d29e6_deployment","uuid":"95b261f0-da10-45b6-a3e9-0e31feec6fdc"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0aefbca3_runbook","uuid":"a75d0021-cf2d-4da4-85dc-56ee0ed9e9eb"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"ea967010-aa24-4221-856e-30e086cba77d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9b1d29e6_deployment","uuid":"95b261f0-da10-45b6-a3e9-0e31feec6fdc"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"5fd47ec3_runbook","uuid":"7e58dd6b-1da9-495c-97e7-84bb6e288586"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd"},{"target_any_local_reference":{"kind":"app_package","name":"GCPMasterPackage","uuid":"77a18b5d-4cbc-4548-bb28-2c4fb6308d50"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"c7fcf9dc-6656-446b-8ab0-bc1969519c73","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9b1d29e6_deployment","uuid":"95b261f0-da10-45b6-a3e9-0e31feec6fdc"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_77a18b5d_4cbc_4548_bb28_2c4fb6308d50","uuid":"e569afc9-1907-4ca2-9d55-11cf6ccfb34c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_77a18b5d_4cbc_4548_bb28_2c4fb6308d50"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPMaster","uuid":"d9edbd06-05b7-4e69-bc4b-ba5c99bab83f"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"8e7d13eb-506a-4a47-81a3-ced6fdf0383f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9b1d29e6_deployment","uuid":"95b261f0-da10-45b6-a3e9-0e31feec6fdc"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_d9edbd06_05b7_4e69_bc4b_ba5c99bab83f","uuid":"1966ba07-f29f-4224-ba54-acccba667fd2"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Substrate_d9edbd06_05b7_4e69_bc4b_ba5c99bab83f"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9b1d29e6_deployment","uuid":"95b261f0-da10-45b6-a3e9-0e31feec6fdc"},"retries":"0","description":"","type":"DELETE_DEPLOYMENT_ELEMENT","uuid":"500de98a-26bc-402d-aaa1-6547502eb7dc","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Delete_95b261f0_da10_45b6_a3e9_0e31feec6fdc"}],"description":"","message_list":[],"uuid":"af08758f-169b-4853-a007-6bd77429c222","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_95b261f0_da10_45b6_a3e9_0e31feec6fdc","uuid":"23fb036b-b4cf-4fa5-9827-4cf942ea75ed"},"name":"SYS_GEN__Runbook_Deployment_95b261f0_da10_45b6_a3e9_0e31feec6fdc"}},{"description":"System action for scaleout","message_list":[],"uuid":"7b6c8c72-aa1d-424a-8dc6-b710625f8011","name":"action_scaleout","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9b1d29e6_deployment","uuid":"95b261f0-da10-45b6-a3e9-0e31feec6fdc"},"retries":"0","description":"","type":"DAG","uuid":"d78c088a-bd45-490b-9540-c531ef2dc164","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Deployment_Scaleout_95b261f0_da10_45b6_a3e9_0e31feec6fdc","uuid":"12bffbf9-bef3-4226-8dc2-ca92dd4a325f"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_95b261f0_da10_45b6_a3e9_0e31feec6fdc"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9b1d29e6_deployment","uuid":"95b261f0-da10-45b6-a3e9-0e31feec6fdc"},"retries":"0","description":"","type":"SCALING","uuid":"12bffbf9-bef3-4226-8dc2-ca92dd4a325f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{scaling_count}@@","type":"","scaling_type":"SCALEOUT"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Deployment_Scaleout_95b261f0_da10_45b6_a3e9_0e31feec6fdc"}],"description":"","message_list":[],"uuid":"6c008be7-2992-4712-8322-4a6076cc4988","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"ebdc5661-a3d1-4b02-bed0-976687b91a35","value":"0","label":"","state":"NOT_VALIDATED","attrs":{},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"scaling_count"}],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_95b261f0_da10_45b6_a3e9_0e31feec6fdc","uuid":"d78c088a-bd45-490b-9540-c531ef2dc164"},"name":"SYS_GEN__Runbook_Deployment_95b261f0_da10_45b6_a3e9_0e31feec6fdc"}},{"description":"System action for scalein","message_list":[],"uuid":"511fb226-79fb-4f09-8266-5a1c0dd2f3e0","name":"action_scalein","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9b1d29e6_deployment","uuid":"95b261f0-da10-45b6-a3e9-0e31feec6fdc"},"retries":"0","description":"","type":"DAG","uuid":"40fe29d6-c726-4754-b3c0-71279a9b78c1","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Deployment_Scalein_95b261f0_da10_45b6_a3e9_0e31feec6fdc","uuid":"4eab6675-4948-4b84-8eae-32c0d9f31a54"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_95b261f0_da10_45b6_a3e9_0e31feec6fdc"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9b1d29e6_deployment","uuid":"95b261f0-da10-45b6-a3e9-0e31feec6fdc"},"retries":"0","description":"","type":"SCALING","uuid":"4eab6675-4948-4b84-8eae-32c0d9f31a54","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{scaling_count}@@","type":"","scaling_type":"SCALEIN"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Deployment_Scalein_95b261f0_da10_45b6_a3e9_0e31feec6fdc"}],"description":"","message_list":[],"uuid":"89fffa85-f0dd-4309-8441-4ef504d95ec5","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"c184938a-0111-4c8a-bb5d-4ff122655097","value":"0","label":"","state":"NOT_VALIDATED","attrs":{},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"scaling_count"}],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_95b261f0_da10_45b6_a3e9_0e31feec6fdc","uuid":"40fe29d6-c726-4754-b3c0-71279a9b78c1"},"name":"SYS_GEN__Runbook_Deployment_95b261f0_da10_45b6_a3e9_0e31feec6fdc"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"d2068a1f-b16c-464e-91d2-696306290980","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9b1d29e6_deployment","uuid":"95b261f0-da10-45b6-a3e9-0e31feec6fdc"},"retries":"0","description":"","type":"DAG","uuid":"347d6682-121f-4484-ab7d-73df3af32672","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"9fa57e57-79bd-42f2-8ec4-f9fa224317e9"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_77a18b5d_4cbc_4548_bb28_2c4fb6308d50","uuid":"7043e1d4-840a-4a9e-956b-5a63226340d0"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_d9edbd06_05b7_4e69_bc4b_ba5c99bab83f","uuid":"92cd1785-c39e-44cf-aca3-1fe5a81ba97a"},{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_95b261f0_da10_45b6_a3e9_0e31feec6fdc","uuid":"b0e68485-ea8d-4b00-b86f-74dd6911c1cb"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"9fa57e57-79bd-42f2-8ec4-f9fa224317e9"},"edge_type":"inherent","type":"","uuid":"59230415-f1a2-47e2-a2f3-568904b6d836","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_77a18b5d_4cbc_4548_bb28_2c4fb6308d50","uuid":"7043e1d4-840a-4a9e-956b-5a63226340d0"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_77a18b5d_4cbc_4548_bb28_2c4fb6308d50","uuid":"7043e1d4-840a-4a9e-956b-5a63226340d0"},"edge_type":"inherent","type":"","uuid":"cd02b144-f771-4213-93ec-af560f7bbb38","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_d9edbd06_05b7_4e69_bc4b_ba5c99bab83f","uuid":"92cd1785-c39e-44cf-aca3-1fe5a81ba97a"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_d9edbd06_05b7_4e69_bc4b_ba5c99bab83f","uuid":"92cd1785-c39e-44cf-aca3-1fe5a81ba97a"},"edge_type":"inherent","type":"","uuid":"ff9d8919-1ffc-470a-a834-d62df43507dc","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_95b261f0_da10_45b6_a3e9_0e31feec6fdc","uuid":"b0e68485-ea8d-4b00-b86f-74dd6911c1cb"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_95b261f0_da10_45b6_a3e9_0e31feec6fdc"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"9fa57e57-79bd-42f2-8ec4-f9fa224317e9","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9b1d29e6_deployment","uuid":"95b261f0-da10-45b6-a3e9-0e31feec6fdc"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"9b57420b-3c50-4fbe-8880-9c7651fd25ad"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd"},{"target_any_local_reference":{"kind":"app_package","name":"GCPMasterPackage","uuid":"77a18b5d-4cbc-4548-bb28-2c4fb6308d50"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"7043e1d4-840a-4a9e-956b-5a63226340d0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_77a18b5d_4cbc_4548_bb28_2c4fb6308d50"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPMaster","uuid":"d9edbd06-05b7-4e69-bc4b-ba5c99bab83f"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"92cd1785-c39e-44cf-aca3-1fe5a81ba97a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9b1d29e6_deployment","uuid":"95b261f0-da10-45b6-a3e9-0e31feec6fdc"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_d9edbd06_05b7_4e69_bc4b_ba5c99bab83f","uuid":"c9cb978b-c8e5-4ca7-8ff0-7990e7c00580"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Substrate_d9edbd06_05b7_4e69_bc4b_ba5c99bab83f"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9b1d29e6_deployment","uuid":"95b261f0-da10-45b6-a3e9-0e31feec6fdc"},"retries":"0","description":"","type":"SOFT_DELETE_DEPLOYMENT_ELEMENT","uuid":"b0e68485-ea8d-4b00-b86f-74dd6911c1cb","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Soft_Delete_95b261f0_da10_45b6_a3e9_0e31feec6fdc"}],"description":"","message_list":[],"uuid":"c0f0fde1-19b1-4d6d-ace8-c0f54daa22e2","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_95b261f0_da10_45b6_a3e9_0e31feec6fdc","uuid":"347d6682-121f-4484-ab7d-73df3af32672"},"name":"SYS_GEN__Runbook_Deployment_95b261f0_da10_45b6_a3e9_0e31feec6fdc"}}],"message_list":[],"published_service_local_reference_list":[],"uuid":"95b261f0-da10-45b6-a3e9-0e31feec6fdc","min_replicas":"1","state":"ACTIVE","max_replicas":"1","depends_on_list":[],"editables":{},"package_local_reference_list":[{"kind":"app_package","name":"GCPMasterPackage","uuid":"77a18b5d-4cbc-4548-bb28-2c4fb6308d50"}],"substrate_local_reference":{"kind":"app_substrate","name":"GCPMaster","uuid":"d9edbd06-05b7-4e69-bc4b-ba5c99bab83f"},"type":"GREENFIELD","options":{},"variable_list":[],"name":"9b1d29e6_deployment"},{"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"3aa8edc6-8ada-44e8-a4a4-9520761ee63a","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"520c6a79-b4a0-44b3-a7a4-e241ba8674f3"},"retries":"0","description":"","type":"DAG","uuid":"1701ea59-18c6-44c0-a52a-d53cda231c83","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__DE_Provision_520c6a79_b4a0_44b3_a7a4_e241ba8674f3","uuid":"a265fbfc-f5f4-4981-8187-4c7e6c72ba14"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_952ad6d6_fef1_417d_9c7d_75a978b7cfbd","uuid":"70c966c5-dbbc-4be1-b169-7bf86f8f0eac"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_e539041c_dd5e_4d31_b4ad_f1644e8e0679","uuid":"c20f66f6-7033-45ab-ba69-e4852bedff41"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"64a19691-bf01-45b5-b236-966171d63280"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"71152b6b-2d47-43f7-bd90-3eb4c5be3eab"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"64a19691-bf01-45b5-b236-966171d63280"},"edge_type":"inherent","type":"","uuid":"84b003dd-1a5c-45a4-b376-731f5c460cae","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"71152b6b-2d47-43f7-bd90-3eb4c5be3eab"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_e539041c_dd5e_4d31_b4ad_f1644e8e0679","uuid":"c20f66f6-7033-45ab-ba69-e4852bedff41"},"edge_type":"inherent","type":"","uuid":"1f611431-7f39-4dc4-8045-422b275799fc","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"64a19691-bf01-45b5-b236-966171d63280"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_952ad6d6_fef1_417d_9c7d_75a978b7cfbd","uuid":"70c966c5-dbbc-4be1-b169-7bf86f8f0eac"},"edge_type":"inherent","type":"","uuid":"e16c7194-c8b8-497b-8f44-cd4b7b9c5e2a","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_e539041c_dd5e_4d31_b4ad_f1644e8e0679","uuid":"c20f66f6-7033-45ab-ba69-e4852bedff41"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_520c6a79_b4a0_44b3_a7a4_e241ba8674f3","uuid":"a265fbfc-f5f4-4981-8187-4c7e6c72ba14"},"edge_type":"inherent","type":"","uuid":"a27fa726-2e28-4482-880a-a253a3040e05","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_952ad6d6_fef1_417d_9c7d_75a978b7cfbd","uuid":"70c966c5-dbbc-4be1-b169-7bf86f8f0eac"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_520c6a79_b4a0_44b3_a7a4_e241ba8674f3"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"520c6a79-b4a0-44b3-a7a4-e241ba8674f3"},"retries":"0","description":"","type":"CREATE_DEPLOYMENT_ELEMENT","uuid":"a265fbfc-f5f4-4981-8187-4c7e6c72ba14","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Provision_520c6a79_b4a0_44b3_a7a4_e241ba8674f3"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPSlave","uuid":"952ad6d6-fef1-417d-9c7d-75a978b7cfbd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"70c966c5-dbbc-4be1-b169-7bf86f8f0eac","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"520c6a79-b4a0-44b3-a7a4-e241ba8674f3"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_952ad6d6_fef1_417d_9c7d_75a978b7cfbd","uuid":"3fdf5d8f-26b0-45df-acf5-3a9b4aa48d88"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Substrate_952ad6d6_fef1_417d_9c7d_75a978b7cfbd"},{"target_any_local_reference":{"kind":"app_package","name":"GCPSlavePackage","uuid":"e539041c-dd5e-4d31-b4ad-f1644e8e0679"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"c20f66f6-7033-45ab-ba69-e4852bedff41","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"520c6a79-b4a0-44b3-a7a4-e241ba8674f3"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_e539041c_dd5e_4d31_b4ad_f1644e8e0679","uuid":"de3d87dd-a1e7-4d0f-952e-762fe409d003"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_e539041c_dd5e_4d31_b4ad_f1644e8e0679"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"64a19691-bf01-45b5-b236-966171d63280","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"520c6a79-b4a0-44b3-a7a4-e241ba8674f3"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"d54168c9_runbook","uuid":"e509001d-6b88-4a64-813c-0ce8ea81991a"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"71152b6b-2d47-43f7-bd90-3eb4c5be3eab","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"520c6a79-b4a0-44b3-a7a4-e241ba8674f3"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"a027cde0_runbook","uuid":"0afbc7f3-5541-415f-9616-c459f09806b2"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400"}],"description":"","message_list":[],"uuid":"089f782d-1601-4af7-80fd-3d9433d45723","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_520c6a79_b4a0_44b3_a7a4_e241ba8674f3","uuid":"1701ea59-18c6-44c0-a52a-d53cda231c83"},"name":"SYS_GEN__Runbook_Deployment_520c6a79_b4a0_44b3_a7a4_e241ba8674f3"}},{"description":"System action for starting an application","message_list":[],"uuid":"33e53d0c-f4e5-4390-a95f-614e0db5bb75","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"520c6a79-b4a0-44b3-a7a4-e241ba8674f3"},"retries":"0","description":"","type":"DAG","uuid":"fe06d8e8-0f8a-4629-a00b-b1e7f2ca05aa","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_952ad6d6_fef1_417d_9c7d_75a978b7cfbd","uuid":"3c224466-7531-4f02-95a4-6ac338884c70"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"b95312d1-c0a5-44b9-b65d-f9641adb11b4"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_952ad6d6_fef1_417d_9c7d_75a978b7cfbd","uuid":"3c224466-7531-4f02-95a4-6ac338884c70"},"edge_type":"inherent","type":"","uuid":"52f5488e-f360-4c30-9a27-a4ab67fb4f62","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"b95312d1-c0a5-44b9-b65d-f9641adb11b4"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_520c6a79_b4a0_44b3_a7a4_e241ba8674f3"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPSlave","uuid":"952ad6d6-fef1-417d-9c7d-75a978b7cfbd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"3c224466-7531-4f02-95a4-6ac338884c70","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"520c6a79-b4a0-44b3-a7a4-e241ba8674f3"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_952ad6d6_fef1_417d_9c7d_75a978b7cfbd","uuid":"71b4788f-f304-4669-99f8-c4b07ce7bf59"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Substrate_952ad6d6_fef1_417d_9c7d_75a978b7cfbd"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"b95312d1-c0a5-44b9-b65d-f9641adb11b4","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"520c6a79-b4a0-44b3-a7a4-e241ba8674f3"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"a027cde0_runbook","uuid":"0afbc7f3-5541-415f-9616-c459f09806b2"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400"}],"description":"","message_list":[],"uuid":"4cdba9f7-726d-4546-875b-292195ac93bd","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_520c6a79_b4a0_44b3_a7a4_e241ba8674f3","uuid":"fe06d8e8-0f8a-4629-a00b-b1e7f2ca05aa"},"name":"SYS_GEN__Runbook_Deployment_520c6a79_b4a0_44b3_a7a4_e241ba8674f3"}},{"description":"System action for restarting an application","message_list":[],"uuid":"04e82239-e073-4b9b-87fa-2ea0341a92b9","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"520c6a79-b4a0-44b3-a7a4-e241ba8674f3"},"retries":"0","description":"","type":"DAG","uuid":"26fd97af-3739-49d5-9cd8-3511f4d766c9","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_952ad6d6_fef1_417d_9c7d_75a978b7cfbd","uuid":"e8e8c96c-2340-46db-bba6-ce4c2581b9ce"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"06983590-10c3-4e15-b41c-ad0c831dbb89"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_952ad6d6_fef1_417d_9c7d_75a978b7cfbd","uuid":"e8e8c96c-2340-46db-bba6-ce4c2581b9ce"},"edge_type":"inherent","type":"","uuid":"7a5b2912-5c0d-44fd-8927-1c5bef693206","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"06983590-10c3-4e15-b41c-ad0c831dbb89"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_520c6a79_b4a0_44b3_a7a4_e241ba8674f3"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPSlave","uuid":"952ad6d6-fef1-417d-9c7d-75a978b7cfbd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"e8e8c96c-2340-46db-bba6-ce4c2581b9ce","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"520c6a79-b4a0-44b3-a7a4-e241ba8674f3"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_952ad6d6_fef1_417d_9c7d_75a978b7cfbd","uuid":"bdd9518d-32ae-44ff-951f-984a3b8ebf0a"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Substrate_952ad6d6_fef1_417d_9c7d_75a978b7cfbd"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"06983590-10c3-4e15-b41c-ad0c831dbb89","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"520c6a79-b4a0-44b3-a7a4-e241ba8674f3"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"f2b2a076_runbook","uuid":"b7162b3b-d4ba-4fba-875d-fc9c8c2c5b79"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400"}],"description":"","message_list":[],"uuid":"7f7b504e-360a-4249-be9e-dbb79a41e447","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_520c6a79_b4a0_44b3_a7a4_e241ba8674f3","uuid":"26fd97af-3739-49d5-9cd8-3511f4d766c9"},"name":"SYS_GEN__Runbook_Deployment_520c6a79_b4a0_44b3_a7a4_e241ba8674f3"}},{"description":"System action for stopping an application","message_list":[],"uuid":"8a8733c4-5d1e-4cbe-bf19-a01f30313d58","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"520c6a79-b4a0-44b3-a7a4-e241ba8674f3"},"retries":"0","description":"","type":"DAG","uuid":"cf082e58-fab0-4ae8-8a79-4c1719eca256","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"b2e533fe-c5fe-4e7c-a165-cbd443b77128"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_952ad6d6_fef1_417d_9c7d_75a978b7cfbd","uuid":"195455ce-3fdf-47d1-b27f-464b5787ea60"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"b2e533fe-c5fe-4e7c-a165-cbd443b77128"},"edge_type":"inherent","type":"","uuid":"30e10eba-50c2-4fbc-b136-bc459af74e08","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_952ad6d6_fef1_417d_9c7d_75a978b7cfbd","uuid":"195455ce-3fdf-47d1-b27f-464b5787ea60"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_520c6a79_b4a0_44b3_a7a4_e241ba8674f3"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"b2e533fe-c5fe-4e7c-a165-cbd443b77128","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"520c6a79-b4a0-44b3-a7a4-e241ba8674f3"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"4a2ad0be_runbook","uuid":"09b1c8a9-6223-4e38-acfb-ff4754413c85"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPSlave","uuid":"952ad6d6-fef1-417d-9c7d-75a978b7cfbd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"195455ce-3fdf-47d1-b27f-464b5787ea60","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"520c6a79-b4a0-44b3-a7a4-e241ba8674f3"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_952ad6d6_fef1_417d_9c7d_75a978b7cfbd","uuid":"76d01cb0-61dc-45d3-b272-3543d1966c41"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Substrate_952ad6d6_fef1_417d_9c7d_75a978b7cfbd"}],"description":"","message_list":[],"uuid":"2128c8a5-8068-487d-9143-b09b02453d9c","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_520c6a79_b4a0_44b3_a7a4_e241ba8674f3","uuid":"cf082e58-fab0-4ae8-8a79-4c1719eca256"},"name":"SYS_GEN__Runbook_Deployment_520c6a79_b4a0_44b3_a7a4_e241ba8674f3"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"f146aa5c-2949-4406-885b-f0eff80a5580","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"520c6a79-b4a0-44b3-a7a4-e241ba8674f3"},"retries":"0","description":"","type":"DAG","uuid":"9c770abe-a67e-4152-b897-1bf50134e6e3","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"2bd5a456-0b4d-44db-911d-33a6833accc8"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"ab7e727d-5ef1-4dc4-b2e5-020531eed4e0"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_e539041c_dd5e_4d31_b4ad_f1644e8e0679","uuid":"1874249d-10cf-4c31-90a0-5e91937e8edf"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_952ad6d6_fef1_417d_9c7d_75a978b7cfbd","uuid":"e670efb7-7c02-4f07-8561-b6ed9fbfc113"},{"kind":"app_task","name":"SYS_GEN__DE_Delete_520c6a79_b4a0_44b3_a7a4_e241ba8674f3","uuid":"8da87f95-1f46-4f2e-b41c-5e7fdba6911b"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"2bd5a456-0b4d-44db-911d-33a6833accc8"},"edge_type":"inherent","type":"","uuid":"c59ddd37-44e3-40d6-94b6-7ed7670ad303","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"ab7e727d-5ef1-4dc4-b2e5-020531eed4e0"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"ab7e727d-5ef1-4dc4-b2e5-020531eed4e0"},"edge_type":"inherent","type":"","uuid":"4fe4307d-3e12-4857-9cfd-a81d34e0949a","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_e539041c_dd5e_4d31_b4ad_f1644e8e0679","uuid":"1874249d-10cf-4c31-90a0-5e91937e8edf"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_952ad6d6_fef1_417d_9c7d_75a978b7cfbd","uuid":"e670efb7-7c02-4f07-8561-b6ed9fbfc113"},"edge_type":"inherent","type":"","uuid":"473e1aed-43dd-4a65-98c9-9f500abeda34","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Delete_520c6a79_b4a0_44b3_a7a4_e241ba8674f3","uuid":"8da87f95-1f46-4f2e-b41c-5e7fdba6911b"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_e539041c_dd5e_4d31_b4ad_f1644e8e0679","uuid":"1874249d-10cf-4c31-90a0-5e91937e8edf"},"edge_type":"inherent","type":"","uuid":"d71aa0d7-5f8e-490a-b10d-c1b4da0c5e48","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_952ad6d6_fef1_417d_9c7d_75a978b7cfbd","uuid":"e670efb7-7c02-4f07-8561-b6ed9fbfc113"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_520c6a79_b4a0_44b3_a7a4_e241ba8674f3"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"2bd5a456-0b4d-44db-911d-33a6833accc8","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"520c6a79-b4a0-44b3-a7a4-e241ba8674f3"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"4a2ad0be_runbook","uuid":"09b1c8a9-6223-4e38-acfb-ff4754413c85"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"ab7e727d-5ef1-4dc4-b2e5-020531eed4e0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"520c6a79-b4a0-44b3-a7a4-e241ba8674f3"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"92247e35_runbook","uuid":"497a8a35-a955-4f76-8fb0-21dbd9acb6e0"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400"},{"target_any_local_reference":{"kind":"app_package","name":"GCPSlavePackage","uuid":"e539041c-dd5e-4d31-b4ad-f1644e8e0679"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"1874249d-10cf-4c31-90a0-5e91937e8edf","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"520c6a79-b4a0-44b3-a7a4-e241ba8674f3"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_e539041c_dd5e_4d31_b4ad_f1644e8e0679","uuid":"8de1e131-747d-4900-b721-58cd9497c905"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_e539041c_dd5e_4d31_b4ad_f1644e8e0679"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPSlave","uuid":"952ad6d6-fef1-417d-9c7d-75a978b7cfbd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"e670efb7-7c02-4f07-8561-b6ed9fbfc113","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"520c6a79-b4a0-44b3-a7a4-e241ba8674f3"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_952ad6d6_fef1_417d_9c7d_75a978b7cfbd","uuid":"fd2e626d-f5a4-4330-84ee-f71fc5bf8858"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Substrate_952ad6d6_fef1_417d_9c7d_75a978b7cfbd"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"520c6a79-b4a0-44b3-a7a4-e241ba8674f3"},"retries":"0","description":"","type":"DELETE_DEPLOYMENT_ELEMENT","uuid":"8da87f95-1f46-4f2e-b41c-5e7fdba6911b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Delete_520c6a79_b4a0_44b3_a7a4_e241ba8674f3"}],"description":"","message_list":[],"uuid":"f4a34ee0-6ef8-4adb-959e-7f2a3553ebf3","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_520c6a79_b4a0_44b3_a7a4_e241ba8674f3","uuid":"9c770abe-a67e-4152-b897-1bf50134e6e3"},"name":"SYS_GEN__Runbook_Deployment_520c6a79_b4a0_44b3_a7a4_e241ba8674f3"}},{"description":"System action for scaleout","message_list":[],"uuid":"60a83932-4337-434e-bdf3-8c5d7a9221c1","name":"action_scaleout","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"520c6a79-b4a0-44b3-a7a4-e241ba8674f3"},"retries":"0","description":"","type":"DAG","uuid":"8e137e31-4507-4301-b777-b7fbfe412682","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Deployment_Scaleout_520c6a79_b4a0_44b3_a7a4_e241ba8674f3","uuid":"71677d90-8c7c-4663-b19d-f9906026538b"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_520c6a79_b4a0_44b3_a7a4_e241ba8674f3"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"520c6a79-b4a0-44b3-a7a4-e241ba8674f3"},"retries":"0","description":"","type":"SCALING","uuid":"71677d90-8c7c-4663-b19d-f9906026538b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{scaling_count}@@","type":"","scaling_type":"SCALEOUT"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Deployment_Scaleout_520c6a79_b4a0_44b3_a7a4_e241ba8674f3"}],"description":"","message_list":[],"uuid":"7351b067-a179-4255-87de-e29ae3de9f7b","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"02d05c19-4c00-48f6-a81c-9d46b828f22c","value":"0","label":"","state":"NOT_VALIDATED","attrs":{},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"scaling_count"}],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_520c6a79_b4a0_44b3_a7a4_e241ba8674f3","uuid":"8e137e31-4507-4301-b777-b7fbfe412682"},"name":"SYS_GEN__Runbook_Deployment_520c6a79_b4a0_44b3_a7a4_e241ba8674f3"}},{"description":"System action for scalein","message_list":[],"uuid":"4ab85153-e8fc-498d-a4dc-f0c5eedd8a08","name":"action_scalein","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"520c6a79-b4a0-44b3-a7a4-e241ba8674f3"},"retries":"0","description":"","type":"DAG","uuid":"988ee9aa-d5d5-4827-94d5-c254468c914a","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Deployment_Scalein_520c6a79_b4a0_44b3_a7a4_e241ba8674f3","uuid":"680b3306-a882-413b-9032-26fd3031f748"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_520c6a79_b4a0_44b3_a7a4_e241ba8674f3"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"520c6a79-b4a0-44b3-a7a4-e241ba8674f3"},"retries":"0","description":"","type":"SCALING","uuid":"680b3306-a882-413b-9032-26fd3031f748","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{scaling_count}@@","type":"","scaling_type":"SCALEIN"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Deployment_Scalein_520c6a79_b4a0_44b3_a7a4_e241ba8674f3"}],"description":"","message_list":[],"uuid":"a277ca11-4054-436d-a215-d71ce78f1366","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"ddcdec18-6635-46a0-a9d2-c59b1acd9643","value":"0","label":"","state":"NOT_VALIDATED","attrs":{},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"scaling_count"}],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_520c6a79_b4a0_44b3_a7a4_e241ba8674f3","uuid":"988ee9aa-d5d5-4827-94d5-c254468c914a"},"name":"SYS_GEN__Runbook_Deployment_520c6a79_b4a0_44b3_a7a4_e241ba8674f3"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"6a586541-6b1a-45ac-93ba-02c48aae1009","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"520c6a79-b4a0-44b3-a7a4-e241ba8674f3"},"retries":"0","description":"","type":"DAG","uuid":"622255e8-7c9d-4a3a-b518-eaafb4773cdf","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"747e908c-362a-483d-babe-cfda07e6f6d0"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_e539041c_dd5e_4d31_b4ad_f1644e8e0679","uuid":"15f2d005-951a-4428-b5ab-b9582396bea3"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_952ad6d6_fef1_417d_9c7d_75a978b7cfbd","uuid":"052e142d-ea34-4216-a570-fcdd520f4f2f"},{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_520c6a79_b4a0_44b3_a7a4_e241ba8674f3","uuid":"bdb3e7f0-8527-4fa6-9891-f8b400ad3187"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"747e908c-362a-483d-babe-cfda07e6f6d0"},"edge_type":"inherent","type":"","uuid":"da69fc7c-74f2-4cb7-8dc9-b6f061df3a80","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_e539041c_dd5e_4d31_b4ad_f1644e8e0679","uuid":"15f2d005-951a-4428-b5ab-b9582396bea3"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_952ad6d6_fef1_417d_9c7d_75a978b7cfbd","uuid":"052e142d-ea34-4216-a570-fcdd520f4f2f"},"edge_type":"inherent","type":"","uuid":"f75daca9-bfb5-4e16-8200-fc28dbff7d79","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_520c6a79_b4a0_44b3_a7a4_e241ba8674f3","uuid":"bdb3e7f0-8527-4fa6-9891-f8b400ad3187"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_e539041c_dd5e_4d31_b4ad_f1644e8e0679","uuid":"15f2d005-951a-4428-b5ab-b9582396bea3"},"edge_type":"inherent","type":"","uuid":"95ecfed6-cc14-4224-a3da-fc990bc468e0","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_952ad6d6_fef1_417d_9c7d_75a978b7cfbd","uuid":"052e142d-ea34-4216-a570-fcdd520f4f2f"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_520c6a79_b4a0_44b3_a7a4_e241ba8674f3"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"747e908c-362a-483d-babe-cfda07e6f6d0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"520c6a79-b4a0-44b3-a7a4-e241ba8674f3"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"6cdcc89d-fd42-4e8a-9e97-40576d559005"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400"},{"target_any_local_reference":{"kind":"app_package","name":"GCPSlavePackage","uuid":"e539041c-dd5e-4d31-b4ad-f1644e8e0679"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"15f2d005-951a-4428-b5ab-b9582396bea3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_e539041c_dd5e_4d31_b4ad_f1644e8e0679"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPSlave","uuid":"952ad6d6-fef1-417d-9c7d-75a978b7cfbd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"052e142d-ea34-4216-a570-fcdd520f4f2f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"520c6a79-b4a0-44b3-a7a4-e241ba8674f3"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_952ad6d6_fef1_417d_9c7d_75a978b7cfbd","uuid":"38790575-d595-48ff-87f1-155e2cfdae56"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Substrate_952ad6d6_fef1_417d_9c7d_75a978b7cfbd"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"520c6a79-b4a0-44b3-a7a4-e241ba8674f3"},"retries":"0","description":"","type":"SOFT_DELETE_DEPLOYMENT_ELEMENT","uuid":"bdb3e7f0-8527-4fa6-9891-f8b400ad3187","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Soft_Delete_520c6a79_b4a0_44b3_a7a4_e241ba8674f3"}],"description":"","message_list":[],"uuid":"f7579b01-fe89-433f-bb1f-3c4518774c5f","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_520c6a79_b4a0_44b3_a7a4_e241ba8674f3","uuid":"622255e8-7c9d-4a3a-b518-eaafb4773cdf"},"name":"SYS_GEN__Runbook_Deployment_520c6a79_b4a0_44b3_a7a4_e241ba8674f3"}}],"message_list":[],"published_service_local_reference_list":[],"uuid":"520c6a79-b4a0-44b3-a7a4-e241ba8674f3","min_replicas":"1","state":"ACTIVE","max_replicas":"3","depends_on_list":[],"editables":{"min_replicas":true,"max_replicas":true},"package_local_reference_list":[{"kind":"app_package","name":"GCPSlavePackage","uuid":"e539041c-dd5e-4d31-b4ad-f1644e8e0679"}],"substrate_local_reference":{"kind":"app_substrate","name":"GCPSlave","uuid":"952ad6d6-fef1-417d-9c7d-75a978b7cfbd"},"type":"GREENFIELD","options":{},"variable_list":[],"name":"54ee850e_deployment"}],"description":"","action_list":[{"description":"","message_list":[],"uuid":"e8f55ac3-977b-470f-b02e-a766b125ee4f","name":"Backup","state":"ACTIVE","critical":false,"attrs":{},"type":"user","runbook":{"task_definition_list":[{"retries":"0","description":"","type":"DAG","uuid":"e1186af2-c0ae-4eb5-aca0-0ae6f9a7dd24","child_tasks_local_reference_list":[{"kind":"app_task","name":"DB Backup","uuid":"b6bf1579-0560-42ee-bcf7-858ef8f04ffa"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"c8c571b2_dag"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"EXEC","uuid":"b6bf1579-0560-42ee-bcf7-858ef8f04ffa","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\n\n### Setup variables\nmysql_password=\"@@{MYSQL_PASSWORD}@@\"\ndate_part=`date +%F`\nmkdir -p @@{BACKUP_FILE_PATH}@@\nsudo mysqldump -u root -p${mysql_password} --all-databases | sudo gzip -9 > @@{BACKUP_FILE_PATH}@@\/db_dump.sql.gz"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"DB Backup"}],"description":"","message_list":[],"uuid":"3a63285b-3ec3-4ea8-8fc7-2806bcd64754","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"50787fb1-60a8-4bd2-a61d-526463e1ce07","value":"~\/db_backup","label":"","state":"ACTIVE","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"BACKUP_FILE_PATH"}],"main_task_local_reference":{"kind":"app_task","name":"c8c571b2_dag","uuid":"e1186af2-c0ae-4eb5-aca0-0ae6f9a7dd24"},"name":"cf21cddc_runbook"}},{"description":"","message_list":[],"uuid":"a9e7e92e-0987-4d8a-8301-007f96d10c40","name":"Restore","state":"ACTIVE","critical":false,"attrs":{},"type":"user","runbook":{"task_definition_list":[{"retries":"0","description":"","type":"DAG","uuid":"b27cd7a9-72d2-441c-99e4-b94711d40d15","child_tasks_local_reference_list":[{"kind":"app_task","name":"DB Restore","uuid":"6dce6f2c-3fba-45a2-9006-20178950c5e3"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"eff38554_dag"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"EXEC","uuid":"6dce6f2c-3fba-45a2-9006-20178950c5e3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\n\n### Setup variables\nmysql_password=\"@@{MYSQL_PASSWORD}@@\"\ndb_file=@@{RESTORE_FILE_PATH}@@\n\nsudo gunzip < $db_file | sudo mysql -u root -p${mysql_password} "},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"DB Restore"}],"description":"","message_list":[],"uuid":"92cc80f8-1414-421d-a9ad-9e8f62a57ed4","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"2d65f399-bc75-4954-8038-92702fc99b3c","value":"~\/db_backup\/db_dump.sql.gz","label":"","state":"ACTIVE","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"RESTORE_FILE_PATH"}],"main_task_local_reference":{"kind":"app_task","name":"eff38554_dag","uuid":"b27cd7a9-72d2-441c-99e4-b94711d40d15"},"name":"5911aa86_runbook"}},{"description":"","message_list":[],"uuid":"765fc3c0-4e16-415c-ba84-cb0be19d372f","name":"ScaleOut","state":"ACTIVE","critical":false,"attrs":{},"type":"user","runbook":{"task_definition_list":[{"retries":"0","description":"","type":"DAG","uuid":"ae0b45fd-1b73-4482-8511-5872ede220d6","child_tasks_local_reference_list":[{"kind":"app_task","name":"Scale Out","uuid":"94b2294c-231f-457a-90df-37cfc2634e22"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"18ab1dc5_dag"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"520c6a79-b4a0-44b3-a7a4-e241ba8674f3"},"retries":"0","description":"","type":"SCALING","uuid":"94b2294c-231f-457a-90df-37cfc2634e22","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{COUNT}@@","type":"","scaling_type":"SCALEOUT"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Scale Out"}],"description":"","message_list":[],"uuid":"d825c03e-b0b5-4931-8121-2a197dafbfeb","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"a4af17b4-56ac-46e6-897c-1dbe890854c5","value":"1","label":"","state":"ACTIVE","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"COUNT"}],"main_task_local_reference":{"kind":"app_task","name":"18ab1dc5_dag","uuid":"ae0b45fd-1b73-4482-8511-5872ede220d6"},"name":"0efec22d_runbook"}},{"description":"","message_list":[],"uuid":"a9d3dd91-293f-4660-b5e6-2bddc5c55ff7","name":"ScaleIn","state":"ACTIVE","critical":false,"attrs":{},"type":"user","runbook":{"task_definition_list":[{"retries":"0","description":"","type":"DAG","uuid":"4008795d-8082-4633-aad2-ba00b911afdf","child_tasks_local_reference_list":[{"kind":"app_task","name":"Scale In","uuid":"57443061-ac9d-4cf7-b142-2a1e7ad96a4f"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"d25c81bb_dag"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"520c6a79-b4a0-44b3-a7a4-e241ba8674f3"},"retries":"0","description":"","type":"SCALING","uuid":"57443061-ac9d-4cf7-b142-2a1e7ad96a4f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{COUNT}@@","type":"","scaling_type":"SCALEIN"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Scale In"}],"description":"","message_list":[],"uuid":"7c0110d7-180c-440f-a23b-65bb8dc78bef","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"d056d30a-ea82-4bab-a096-c2c67502aeab","value":"1","label":"","state":"ACTIVE","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"COUNT"}],"main_task_local_reference":{"kind":"app_task","name":"d25c81bb_dag","uuid":"4008795d-8082-4633-aad2-ba00b911afdf"},"name":"eb302554_runbook"}},{"description":"System action for creating an application","message_list":[],"uuid":"2b701dcf-439f-4c74-b13c-debd195ffec6","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"GCP","uuid":"2dbca39a-353f-4650-ac9a-b5c84e9aded9"},"retries":"0","description":"","type":"DAG","uuid":"19efa06f-f8ad-4c44-9b89-396b2bb1e17e","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__DE_Provision_95b261f0_da10_45b6_a3e9_0e31feec6fdc","uuid":"69c5ed97-ecd3-4373-9480-328166c95f58"},{"kind":"app_task","name":"SYS_GEN__DE_Provision_520c6a79_b4a0_44b3_a7a4_e241ba8674f3","uuid":"39594b39-e39d-4604-9e57-32542a063ee2"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_d9edbd06_05b7_4e69_bc4b_ba5c99bab83f","uuid":"0024cbc9-6c91-4ec9-84bf-b3dfa56b3aef"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_952ad6d6_fef1_417d_9c7d_75a978b7cfbd","uuid":"8e9a419c-3291-4e72-9e25-f417e51ac6f3"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_77a18b5d_4cbc_4548_bb28_2c4fb6308d50","uuid":"74ddf765-9018-4b34-b090-43bd235957cf"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_e539041c_dd5e_4d31_b4ad_f1644e8e0679","uuid":"9eb41db6-4bdc-4281-beb2-886f21de8811"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"45aafe08-518a-41a4-b2a3-6b166c2940f5"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"92a89821-43a8-4233-aaec-9cc783d5ae28"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"b0333f13-abeb-420d-9fb5-f4afceebaeb2"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"74028dd9-2f2b-490f-97dc-0d013276763a"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"45aafe08-518a-41a4-b2a3-6b166c2940f5"},"edge_type":"inherent","type":"","uuid":"dd424c4c-0f0c-4754-b4c3-e324b914f8b6","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"92a89821-43a8-4233-aaec-9cc783d5ae28"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_77a18b5d_4cbc_4548_bb28_2c4fb6308d50","uuid":"74ddf765-9018-4b34-b090-43bd235957cf"},"edge_type":"inherent","type":"","uuid":"aef92397-63b0-48a3-bf33-22b9c7f95740","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"45aafe08-518a-41a4-b2a3-6b166c2940f5"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_95b261f0_da10_45b6_a3e9_0e31feec6fdc","uuid":"69c5ed97-ecd3-4373-9480-328166c95f58"},"edge_type":"inherent","type":"","uuid":"f5d6ac63-da8b-4b5d-8c51-14f664e7989f","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_d9edbd06_05b7_4e69_bc4b_ba5c99bab83f","uuid":"0024cbc9-6c91-4ec9-84bf-b3dfa56b3aef"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_d9edbd06_05b7_4e69_bc4b_ba5c99bab83f","uuid":"0024cbc9-6c91-4ec9-84bf-b3dfa56b3aef"},"edge_type":"inherent","type":"","uuid":"6d36eb59-7a49-4938-8995-eaa9d3126eca","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_77a18b5d_4cbc_4548_bb28_2c4fb6308d50","uuid":"74ddf765-9018-4b34-b090-43bd235957cf"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"b0333f13-abeb-420d-9fb5-f4afceebaeb2"},"edge_type":"inherent","type":"","uuid":"d779e69a-2fa6-4793-b68d-02289ee56356","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"74028dd9-2f2b-490f-97dc-0d013276763a"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_e539041c_dd5e_4d31_b4ad_f1644e8e0679","uuid":"9eb41db6-4bdc-4281-beb2-886f21de8811"},"edge_type":"inherent","type":"","uuid":"09ed1111-f2a1-4278-bdb2-03c779c1d77f","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"b0333f13-abeb-420d-9fb5-f4afceebaeb2"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_952ad6d6_fef1_417d_9c7d_75a978b7cfbd","uuid":"8e9a419c-3291-4e72-9e25-f417e51ac6f3"},"edge_type":"inherent","type":"","uuid":"05bea741-be20-4058-80b7-37da5c613db7","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_e539041c_dd5e_4d31_b4ad_f1644e8e0679","uuid":"9eb41db6-4bdc-4281-beb2-886f21de8811"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_520c6a79_b4a0_44b3_a7a4_e241ba8674f3","uuid":"39594b39-e39d-4604-9e57-32542a063ee2"},"edge_type":"inherent","type":"","uuid":"6682f730-afe0-4097-83b0-1cfd62d35ce0","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_952ad6d6_fef1_417d_9c7d_75a978b7cfbd","uuid":"8e9a419c-3291-4e72-9e25-f417e51ac6f3"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"92a89821-43a8-4233-aaec-9cc783d5ae28"},"edge_type":"depends_on","type":"","uuid":"b816355f-d533-46de-9803-8c47e54f02bd","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"b0333f13-abeb-420d-9fb5-f4afceebaeb2"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_2dbca39a_353f_4650_ac9a_b5c84e9aded9"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9b1d29e6_deployment","uuid":"95b261f0-da10-45b6-a3e9-0e31feec6fdc"},"retries":"0","description":"","type":"CREATE_DEPLOYMENT_ELEMENT","uuid":"69c5ed97-ecd3-4373-9480-328166c95f58","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Provision_95b261f0_da10_45b6_a3e9_0e31feec6fdc"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"520c6a79-b4a0-44b3-a7a4-e241ba8674f3"},"retries":"0","description":"","type":"CREATE_DEPLOYMENT_ELEMENT","uuid":"39594b39-e39d-4604-9e57-32542a063ee2","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Provision_520c6a79_b4a0_44b3_a7a4_e241ba8674f3"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPMaster","uuid":"d9edbd06-05b7-4e69-bc4b-ba5c99bab83f"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"0024cbc9-6c91-4ec9-84bf-b3dfa56b3aef","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9b1d29e6_deployment","uuid":"95b261f0-da10-45b6-a3e9-0e31feec6fdc"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_d9edbd06_05b7_4e69_bc4b_ba5c99bab83f","uuid":"48ea4f94-f54e-4e19-a212-812411c5fae9"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Substrate_d9edbd06_05b7_4e69_bc4b_ba5c99bab83f"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPSlave","uuid":"952ad6d6-fef1-417d-9c7d-75a978b7cfbd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"8e9a419c-3291-4e72-9e25-f417e51ac6f3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"520c6a79-b4a0-44b3-a7a4-e241ba8674f3"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_952ad6d6_fef1_417d_9c7d_75a978b7cfbd","uuid":"3fdf5d8f-26b0-45df-acf5-3a9b4aa48d88"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Substrate_952ad6d6_fef1_417d_9c7d_75a978b7cfbd"},{"target_any_local_reference":{"kind":"app_package","name":"GCPMasterPackage","uuid":"77a18b5d-4cbc-4548-bb28-2c4fb6308d50"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"74ddf765-9018-4b34-b090-43bd235957cf","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9b1d29e6_deployment","uuid":"95b261f0-da10-45b6-a3e9-0e31feec6fdc"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_77a18b5d_4cbc_4548_bb28_2c4fb6308d50","uuid":"7f0699cc-1581-453a-967c-a5c193e57f8b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_77a18b5d_4cbc_4548_bb28_2c4fb6308d50"},{"target_any_local_reference":{"kind":"app_package","name":"GCPSlavePackage","uuid":"e539041c-dd5e-4d31-b4ad-f1644e8e0679"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"9eb41db6-4bdc-4281-beb2-886f21de8811","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"520c6a79-b4a0-44b3-a7a4-e241ba8674f3"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_e539041c_dd5e_4d31_b4ad_f1644e8e0679","uuid":"de3d87dd-a1e7-4d0f-952e-762fe409d003"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_e539041c_dd5e_4d31_b4ad_f1644e8e0679"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"45aafe08-518a-41a4-b2a3-6b166c2940f5","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9b1d29e6_deployment","uuid":"95b261f0-da10-45b6-a3e9-0e31feec6fdc"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0a970522_runbook","uuid":"f2803b23-af0b-4afd-8a2f-ef666adf85c8"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"92a89821-43a8-4233-aaec-9cc783d5ae28","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9b1d29e6_deployment","uuid":"95b261f0-da10-45b6-a3e9-0e31feec6fdc"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"5ddb28d1_runbook","uuid":"f88c4d73-c0ab-488b-a016-3e1453b91891"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"b0333f13-abeb-420d-9fb5-f4afceebaeb2","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"520c6a79-b4a0-44b3-a7a4-e241ba8674f3"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"d54168c9_runbook","uuid":"e509001d-6b88-4a64-813c-0ce8ea81991a"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"74028dd9-2f2b-490f-97dc-0d013276763a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"520c6a79-b4a0-44b3-a7a4-e241ba8674f3"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"a027cde0_runbook","uuid":"0afbc7f3-5541-415f-9616-c459f09806b2"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400"}],"description":"","message_list":[],"uuid":"db7e23f4-b47b-4a6d-82c4-b48aa52ae059","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_2dbca39a_353f_4650_ac9a_b5c84e9aded9","uuid":"19efa06f-f8ad-4c44-9b89-396b2bb1e17e"},"name":"SYS_GEN__Runbook_Application_2dbca39a_353f_4650_ac9a_b5c84e9aded9"}},{"description":"System action for starting an application","message_list":[],"uuid":"5c6a7cf3-2a3a-4df4-9561-fd64a34bbc1c","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"GCP","uuid":"2dbca39a-353f-4650-ac9a-b5c84e9aded9"},"retries":"0","description":"","type":"DAG","uuid":"dce5d188-247f-4922-a385-fb42e673c23b","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_d9edbd06_05b7_4e69_bc4b_ba5c99bab83f","uuid":"3e447608-3baa-4f97-8db7-6a437f02edb8"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_952ad6d6_fef1_417d_9c7d_75a978b7cfbd","uuid":"aa6f85cc-e246-4288-ab9b-2f7c8cd3085e"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"42ad74fe-cf29-4765-805c-62ebc76fc701"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"0a7d82fe-e631-4442-910f-f63c8ae82a9c"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_d9edbd06_05b7_4e69_bc4b_ba5c99bab83f","uuid":"3e447608-3baa-4f97-8db7-6a437f02edb8"},"edge_type":"inherent","type":"","uuid":"b3c85097-5983-4f92-8605-2be2b1bd36c5","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"42ad74fe-cf29-4765-805c-62ebc76fc701"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_952ad6d6_fef1_417d_9c7d_75a978b7cfbd","uuid":"aa6f85cc-e246-4288-ab9b-2f7c8cd3085e"},"edge_type":"inherent","type":"","uuid":"18aeb941-ec72-4587-af78-d64ec66e67be","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"0a7d82fe-e631-4442-910f-f63c8ae82a9c"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"42ad74fe-cf29-4765-805c-62ebc76fc701"},"edge_type":"depends_on","type":"","uuid":"c074a0e2-ea0b-4776-b1f0-65f300e4c061","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"0a7d82fe-e631-4442-910f-f63c8ae82a9c"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_2dbca39a_353f_4650_ac9a_b5c84e9aded9"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPMaster","uuid":"d9edbd06-05b7-4e69-bc4b-ba5c99bab83f"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"3e447608-3baa-4f97-8db7-6a437f02edb8","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9b1d29e6_deployment","uuid":"95b261f0-da10-45b6-a3e9-0e31feec6fdc"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_d9edbd06_05b7_4e69_bc4b_ba5c99bab83f","uuid":"ae88ca55-e86f-46ea-aac3-1a2b3fe7c853"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Substrate_d9edbd06_05b7_4e69_bc4b_ba5c99bab83f"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPSlave","uuid":"952ad6d6-fef1-417d-9c7d-75a978b7cfbd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"aa6f85cc-e246-4288-ab9b-2f7c8cd3085e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"520c6a79-b4a0-44b3-a7a4-e241ba8674f3"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_952ad6d6_fef1_417d_9c7d_75a978b7cfbd","uuid":"71b4788f-f304-4669-99f8-c4b07ce7bf59"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Substrate_952ad6d6_fef1_417d_9c7d_75a978b7cfbd"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"42ad74fe-cf29-4765-805c-62ebc76fc701","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9b1d29e6_deployment","uuid":"95b261f0-da10-45b6-a3e9-0e31feec6fdc"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"5ddb28d1_runbook","uuid":"f88c4d73-c0ab-488b-a016-3e1453b91891"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"0a7d82fe-e631-4442-910f-f63c8ae82a9c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"520c6a79-b4a0-44b3-a7a4-e241ba8674f3"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"a027cde0_runbook","uuid":"0afbc7f3-5541-415f-9616-c459f09806b2"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400"}],"description":"","message_list":[],"uuid":"6c69ea4f-1042-4bc8-8c98-33ba5938636f","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_2dbca39a_353f_4650_ac9a_b5c84e9aded9","uuid":"dce5d188-247f-4922-a385-fb42e673c23b"},"name":"SYS_GEN__Runbook_Application_2dbca39a_353f_4650_ac9a_b5c84e9aded9"}},{"description":"System action for restarting an application","message_list":[],"uuid":"59819f20-3ac4-4406-92f7-c0efcfbf46ef","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"GCP","uuid":"2dbca39a-353f-4650-ac9a-b5c84e9aded9"},"retries":"0","description":"","type":"DAG","uuid":"4c6084af-af96-4e97-ae76-1a761f5c98f8","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_d9edbd06_05b7_4e69_bc4b_ba5c99bab83f","uuid":"2f79be6b-27fc-4e57-b511-583fe0bcbd44"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_952ad6d6_fef1_417d_9c7d_75a978b7cfbd","uuid":"3cd2d4bd-2f08-499a-9cd7-5e3d226c7a8a"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"eacadf3f-74ed-488f-a311-7d55b592f0cf"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"0acdcde9-2f3a-40ee-96fa-3c20db2c145d"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_d9edbd06_05b7_4e69_bc4b_ba5c99bab83f","uuid":"2f79be6b-27fc-4e57-b511-583fe0bcbd44"},"edge_type":"inherent","type":"","uuid":"4a52b6f2-a16a-474b-99c0-1e3643c7095c","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"eacadf3f-74ed-488f-a311-7d55b592f0cf"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_952ad6d6_fef1_417d_9c7d_75a978b7cfbd","uuid":"3cd2d4bd-2f08-499a-9cd7-5e3d226c7a8a"},"edge_type":"inherent","type":"","uuid":"2a6cfad1-ce1c-45c2-bcd1-613a8252eab2","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"0acdcde9-2f3a-40ee-96fa-3c20db2c145d"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"eacadf3f-74ed-488f-a311-7d55b592f0cf"},"edge_type":"depends_on","type":"","uuid":"c29a7467-081d-4e53-b84f-0e8d3fd7c8fa","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"0acdcde9-2f3a-40ee-96fa-3c20db2c145d"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_2dbca39a_353f_4650_ac9a_b5c84e9aded9"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPMaster","uuid":"d9edbd06-05b7-4e69-bc4b-ba5c99bab83f"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"2f79be6b-27fc-4e57-b511-583fe0bcbd44","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9b1d29e6_deployment","uuid":"95b261f0-da10-45b6-a3e9-0e31feec6fdc"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_d9edbd06_05b7_4e69_bc4b_ba5c99bab83f","uuid":"5989d056-474f-4db9-bd5f-4c9219497f66"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Substrate_d9edbd06_05b7_4e69_bc4b_ba5c99bab83f"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPSlave","uuid":"952ad6d6-fef1-417d-9c7d-75a978b7cfbd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"3cd2d4bd-2f08-499a-9cd7-5e3d226c7a8a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"520c6a79-b4a0-44b3-a7a4-e241ba8674f3"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_952ad6d6_fef1_417d_9c7d_75a978b7cfbd","uuid":"bdd9518d-32ae-44ff-951f-984a3b8ebf0a"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Substrate_952ad6d6_fef1_417d_9c7d_75a978b7cfbd"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"eacadf3f-74ed-488f-a311-7d55b592f0cf","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9b1d29e6_deployment","uuid":"95b261f0-da10-45b6-a3e9-0e31feec6fdc"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"7e709238_runbook","uuid":"6beb8e29-06b2-4218-a1fd-18c28d8c6218"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"0acdcde9-2f3a-40ee-96fa-3c20db2c145d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"520c6a79-b4a0-44b3-a7a4-e241ba8674f3"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"f2b2a076_runbook","uuid":"b7162b3b-d4ba-4fba-875d-fc9c8c2c5b79"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400"}],"description":"","message_list":[],"uuid":"eff3f803-ea9d-4d9b-b7cb-d1582218626c","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_2dbca39a_353f_4650_ac9a_b5c84e9aded9","uuid":"4c6084af-af96-4e97-ae76-1a761f5c98f8"},"name":"SYS_GEN__Runbook_Application_2dbca39a_353f_4650_ac9a_b5c84e9aded9"}},{"description":"System action for stopping an application","message_list":[],"uuid":"b5cc36b4-602d-42b8-b22a-f102a34e5bdb","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"GCP","uuid":"2dbca39a-353f-4650-ac9a-b5c84e9aded9"},"retries":"0","description":"","type":"DAG","uuid":"13fa747d-33b3-4546-8f24-5551f2911c2e","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"fb756800-19c3-4257-be4c-4ea9d3cf7610"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_952ad6d6_fef1_417d_9c7d_75a978b7cfbd","uuid":"16733e2a-f052-45c8-b197-11872d9386ed"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"74fbf138-2518-4ef0-b408-9db70a4d32d5"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_d9edbd06_05b7_4e69_bc4b_ba5c99bab83f","uuid":"f7527b07-cb3f-4825-9ae5-8a2ef3d58632"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"74fbf138-2518-4ef0-b408-9db70a4d32d5"},"edge_type":"inherent","type":"","uuid":"1303870f-da8b-413f-a944-dfd85e0161e7","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_d9edbd06_05b7_4e69_bc4b_ba5c99bab83f","uuid":"f7527b07-cb3f-4825-9ae5-8a2ef3d58632"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"fb756800-19c3-4257-be4c-4ea9d3cf7610"},"edge_type":"inherent","type":"","uuid":"aebb4882-f7f5-450e-872f-c5f03f5130af","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_952ad6d6_fef1_417d_9c7d_75a978b7cfbd","uuid":"16733e2a-f052-45c8-b197-11872d9386ed"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"fb756800-19c3-4257-be4c-4ea9d3cf7610"},"edge_type":"depends_on","type":"","uuid":"246a9a98-ef2d-41cf-86a2-e27ddbd93d17","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"74fbf138-2518-4ef0-b408-9db70a4d32d5"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_2dbca39a_353f_4650_ac9a_b5c84e9aded9"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"fb756800-19c3-4257-be4c-4ea9d3cf7610","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"520c6a79-b4a0-44b3-a7a4-e241ba8674f3"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"4a2ad0be_runbook","uuid":"09b1c8a9-6223-4e38-acfb-ff4754413c85"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPSlave","uuid":"952ad6d6-fef1-417d-9c7d-75a978b7cfbd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"16733e2a-f052-45c8-b197-11872d9386ed","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"520c6a79-b4a0-44b3-a7a4-e241ba8674f3"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_952ad6d6_fef1_417d_9c7d_75a978b7cfbd","uuid":"76d01cb0-61dc-45d3-b272-3543d1966c41"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Substrate_952ad6d6_fef1_417d_9c7d_75a978b7cfbd"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"74fbf138-2518-4ef0-b408-9db70a4d32d5","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9b1d29e6_deployment","uuid":"95b261f0-da10-45b6-a3e9-0e31feec6fdc"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0aefbca3_runbook","uuid":"a75d0021-cf2d-4da4-85dc-56ee0ed9e9eb"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPMaster","uuid":"d9edbd06-05b7-4e69-bc4b-ba5c99bab83f"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"f7527b07-cb3f-4825-9ae5-8a2ef3d58632","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9b1d29e6_deployment","uuid":"95b261f0-da10-45b6-a3e9-0e31feec6fdc"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_d9edbd06_05b7_4e69_bc4b_ba5c99bab83f","uuid":"43e89bae-46cd-4079-a0e4-d6357ccddb3e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Substrate_d9edbd06_05b7_4e69_bc4b_ba5c99bab83f"}],"description":"","message_list":[],"uuid":"64f9c875-6ab2-4dcd-9583-deb432410498","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_2dbca39a_353f_4650_ac9a_b5c84e9aded9","uuid":"13fa747d-33b3-4546-8f24-5551f2911c2e"},"name":"SYS_GEN__Runbook_Application_2dbca39a_353f_4650_ac9a_b5c84e9aded9"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"a2f4aa58-aa09-4e50-9025-ce78c49d8c3e","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"GCP","uuid":"2dbca39a-353f-4650-ac9a-b5c84e9aded9"},"retries":"0","description":"","type":"DAG","uuid":"f8e6cea5-5ecb-4971-9d6c-8b63dad0841e","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"0b84a2eb-fff9-4cb8-90c8-5891426a4744"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"88880a37-0015-4bf6-9a7e-f6be8bfd44d2"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_e539041c_dd5e_4d31_b4ad_f1644e8e0679","uuid":"7b84ba4e-6bb1-484d-97a7-faa071e1af3e"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"4aa42f7a-9f8a-4158-ac7a-d8a3ac0f4850"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_952ad6d6_fef1_417d_9c7d_75a978b7cfbd","uuid":"6bf78261-2173-494a-a905-3f5450a4d7e4"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"d7d2e9e8-0016-478e-99ae-edbf179d9ae2"},{"kind":"app_task","name":"SYS_GEN__DE_Delete_520c6a79_b4a0_44b3_a7a4_e241ba8674f3","uuid":"c8803380-5543-4fdf-862f-f2199d3977ca"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_77a18b5d_4cbc_4548_bb28_2c4fb6308d50","uuid":"2a61422e-3fd5-4b0b-8ba5-a5cb276bcede"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_d9edbd06_05b7_4e69_bc4b_ba5c99bab83f","uuid":"2c4ee720-1a27-4a0b-b326-c2daba4e0154"},{"kind":"app_task","name":"SYS_GEN__DE_Delete_95b261f0_da10_45b6_a3e9_0e31feec6fdc","uuid":"a6539f25-107e-432c-8c24-82498dac1d1a"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"4aa42f7a-9f8a-4158-ac7a-d8a3ac0f4850"},"edge_type":"inherent","type":"","uuid":"17ee3f40-2757-428f-9222-7c013c21fd97","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"d7d2e9e8-0016-478e-99ae-edbf179d9ae2"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"d7d2e9e8-0016-478e-99ae-edbf179d9ae2"},"edge_type":"inherent","type":"","uuid":"e983c317-4c0d-4fc4-91d3-bf539a7dbafb","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_77a18b5d_4cbc_4548_bb28_2c4fb6308d50","uuid":"2a61422e-3fd5-4b0b-8ba5-a5cb276bcede"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_d9edbd06_05b7_4e69_bc4b_ba5c99bab83f","uuid":"2c4ee720-1a27-4a0b-b326-c2daba4e0154"},"edge_type":"inherent","type":"","uuid":"91a8b179-21fe-4f0f-bc29-9abb51d00b4f","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Delete_95b261f0_da10_45b6_a3e9_0e31feec6fdc","uuid":"a6539f25-107e-432c-8c24-82498dac1d1a"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_77a18b5d_4cbc_4548_bb28_2c4fb6308d50","uuid":"2a61422e-3fd5-4b0b-8ba5-a5cb276bcede"},"edge_type":"inherent","type":"","uuid":"8a6947a5-3962-456f-bfb8-6821567a21fc","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_d9edbd06_05b7_4e69_bc4b_ba5c99bab83f","uuid":"2c4ee720-1a27-4a0b-b326-c2daba4e0154"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"0b84a2eb-fff9-4cb8-90c8-5891426a4744"},"edge_type":"inherent","type":"","uuid":"3e223ea3-5ce2-4b7a-a5f1-be5da7392c7c","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"88880a37-0015-4bf6-9a7e-f6be8bfd44d2"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"88880a37-0015-4bf6-9a7e-f6be8bfd44d2"},"edge_type":"inherent","type":"","uuid":"955dd273-e1cb-4d9b-817d-0c543e2e941f","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_e539041c_dd5e_4d31_b4ad_f1644e8e0679","uuid":"7b84ba4e-6bb1-484d-97a7-faa071e1af3e"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_952ad6d6_fef1_417d_9c7d_75a978b7cfbd","uuid":"6bf78261-2173-494a-a905-3f5450a4d7e4"},"edge_type":"inherent","type":"","uuid":"21e68ba6-3784-4185-baa7-1eb62f44f8ab","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Delete_520c6a79_b4a0_44b3_a7a4_e241ba8674f3","uuid":"c8803380-5543-4fdf-862f-f2199d3977ca"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_e539041c_dd5e_4d31_b4ad_f1644e8e0679","uuid":"7b84ba4e-6bb1-484d-97a7-faa071e1af3e"},"edge_type":"inherent","type":"","uuid":"0201e2bd-1d8e-4deb-a854-38546cacd716","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_952ad6d6_fef1_417d_9c7d_75a978b7cfbd","uuid":"6bf78261-2173-494a-a905-3f5450a4d7e4"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"88880a37-0015-4bf6-9a7e-f6be8bfd44d2"},"edge_type":"depends_on","type":"","uuid":"7ae9065d-f14e-408d-8dca-74155a35b134","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"4aa42f7a-9f8a-4158-ac7a-d8a3ac0f4850"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_2dbca39a_353f_4650_ac9a_b5c84e9aded9"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"0b84a2eb-fff9-4cb8-90c8-5891426a4744","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"520c6a79-b4a0-44b3-a7a4-e241ba8674f3"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"4a2ad0be_runbook","uuid":"09b1c8a9-6223-4e38-acfb-ff4754413c85"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"88880a37-0015-4bf6-9a7e-f6be8bfd44d2","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"520c6a79-b4a0-44b3-a7a4-e241ba8674f3"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"92247e35_runbook","uuid":"497a8a35-a955-4f76-8fb0-21dbd9acb6e0"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400"},{"target_any_local_reference":{"kind":"app_package","name":"GCPSlavePackage","uuid":"e539041c-dd5e-4d31-b4ad-f1644e8e0679"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"7b84ba4e-6bb1-484d-97a7-faa071e1af3e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"520c6a79-b4a0-44b3-a7a4-e241ba8674f3"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_e539041c_dd5e_4d31_b4ad_f1644e8e0679","uuid":"8de1e131-747d-4900-b721-58cd9497c905"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_e539041c_dd5e_4d31_b4ad_f1644e8e0679"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"4aa42f7a-9f8a-4158-ac7a-d8a3ac0f4850","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9b1d29e6_deployment","uuid":"95b261f0-da10-45b6-a3e9-0e31feec6fdc"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0aefbca3_runbook","uuid":"a75d0021-cf2d-4da4-85dc-56ee0ed9e9eb"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPSlave","uuid":"952ad6d6-fef1-417d-9c7d-75a978b7cfbd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"6bf78261-2173-494a-a905-3f5450a4d7e4","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"520c6a79-b4a0-44b3-a7a4-e241ba8674f3"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_952ad6d6_fef1_417d_9c7d_75a978b7cfbd","uuid":"fd2e626d-f5a4-4330-84ee-f71fc5bf8858"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Substrate_952ad6d6_fef1_417d_9c7d_75a978b7cfbd"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"d7d2e9e8-0016-478e-99ae-edbf179d9ae2","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9b1d29e6_deployment","uuid":"95b261f0-da10-45b6-a3e9-0e31feec6fdc"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"5fd47ec3_runbook","uuid":"7e58dd6b-1da9-495c-97e7-84bb6e288586"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"520c6a79-b4a0-44b3-a7a4-e241ba8674f3"},"retries":"0","description":"","type":"DELETE_DEPLOYMENT_ELEMENT","uuid":"c8803380-5543-4fdf-862f-f2199d3977ca","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Delete_520c6a79_b4a0_44b3_a7a4_e241ba8674f3"},{"target_any_local_reference":{"kind":"app_package","name":"GCPMasterPackage","uuid":"77a18b5d-4cbc-4548-bb28-2c4fb6308d50"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"2a61422e-3fd5-4b0b-8ba5-a5cb276bcede","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9b1d29e6_deployment","uuid":"95b261f0-da10-45b6-a3e9-0e31feec6fdc"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_77a18b5d_4cbc_4548_bb28_2c4fb6308d50","uuid":"e569afc9-1907-4ca2-9d55-11cf6ccfb34c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_77a18b5d_4cbc_4548_bb28_2c4fb6308d50"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPMaster","uuid":"d9edbd06-05b7-4e69-bc4b-ba5c99bab83f"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"2c4ee720-1a27-4a0b-b326-c2daba4e0154","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9b1d29e6_deployment","uuid":"95b261f0-da10-45b6-a3e9-0e31feec6fdc"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_d9edbd06_05b7_4e69_bc4b_ba5c99bab83f","uuid":"1966ba07-f29f-4224-ba54-acccba667fd2"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Substrate_d9edbd06_05b7_4e69_bc4b_ba5c99bab83f"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9b1d29e6_deployment","uuid":"95b261f0-da10-45b6-a3e9-0e31feec6fdc"},"retries":"0","description":"","type":"DELETE_DEPLOYMENT_ELEMENT","uuid":"a6539f25-107e-432c-8c24-82498dac1d1a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Delete_95b261f0_da10_45b6_a3e9_0e31feec6fdc"}],"description":"","message_list":[],"uuid":"b366f4ee-fed1-4144-9488-8d85cb2024b3","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_2dbca39a_353f_4650_ac9a_b5c84e9aded9","uuid":"f8e6cea5-5ecb-4971-9d6c-8b63dad0841e"},"name":"SYS_GEN__Runbook_Application_2dbca39a_353f_4650_ac9a_b5c84e9aded9"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"f62f7ef1-80d2-4d97-b7c1-3c245c399b1a","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"GCP","uuid":"2dbca39a-353f-4650-ac9a-b5c84e9aded9"},"retries":"0","description":"","type":"DAG","uuid":"a03ada38-9e66-4185-a0fe-cce96afa2bfe","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"c5309b7a-adee-4975-b789-ac06c5e8499b"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"76e1239b-8cee-40f7-aad8-90ca82eb1450"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_e539041c_dd5e_4d31_b4ad_f1644e8e0679","uuid":"b4680a95-5558-4864-b208-16bd6efb15df"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_952ad6d6_fef1_417d_9c7d_75a978b7cfbd","uuid":"05b2164f-b331-410a-b18c-92fb89026eaa"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_77a18b5d_4cbc_4548_bb28_2c4fb6308d50","uuid":"f9e79159-5fb0-4c99-bf6c-e613d42c6922"},{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_520c6a79_b4a0_44b3_a7a4_e241ba8674f3","uuid":"c1af3ae2-b50a-4f16-bd41-46f4a808747a"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_d9edbd06_05b7_4e69_bc4b_ba5c99bab83f","uuid":"0c86bc41-ca5c-4316-8d0b-342d871bf870"},{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_95b261f0_da10_45b6_a3e9_0e31feec6fdc","uuid":"32b68593-16e4-40d0-a95a-2d2463b9708c"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"76e1239b-8cee-40f7-aad8-90ca82eb1450"},"edge_type":"inherent","type":"","uuid":"5dfd1840-dc49-4e62-bd71-05d2c663f2cf","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_77a18b5d_4cbc_4548_bb28_2c4fb6308d50","uuid":"f9e79159-5fb0-4c99-bf6c-e613d42c6922"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_77a18b5d_4cbc_4548_bb28_2c4fb6308d50","uuid":"f9e79159-5fb0-4c99-bf6c-e613d42c6922"},"edge_type":"inherent","type":"","uuid":"1f1ca6e7-07c3-4216-9a76-05a8cacc78ad","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_d9edbd06_05b7_4e69_bc4b_ba5c99bab83f","uuid":"0c86bc41-ca5c-4316-8d0b-342d871bf870"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_d9edbd06_05b7_4e69_bc4b_ba5c99bab83f","uuid":"0c86bc41-ca5c-4316-8d0b-342d871bf870"},"edge_type":"inherent","type":"","uuid":"a922fa5a-195b-4f3f-b8c2-5f483b82080f","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_95b261f0_da10_45b6_a3e9_0e31feec6fdc","uuid":"32b68593-16e4-40d0-a95a-2d2463b9708c"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"c5309b7a-adee-4975-b789-ac06c5e8499b"},"edge_type":"inherent","type":"","uuid":"ac8fb046-5b6e-4a13-9215-0a3baa673d7b","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_e539041c_dd5e_4d31_b4ad_f1644e8e0679","uuid":"b4680a95-5558-4864-b208-16bd6efb15df"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_952ad6d6_fef1_417d_9c7d_75a978b7cfbd","uuid":"05b2164f-b331-410a-b18c-92fb89026eaa"},"edge_type":"inherent","type":"","uuid":"cd40c5b4-1d58-4d5a-a751-45cfc6737e35","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_520c6a79_b4a0_44b3_a7a4_e241ba8674f3","uuid":"c1af3ae2-b50a-4f16-bd41-46f4a808747a"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_e539041c_dd5e_4d31_b4ad_f1644e8e0679","uuid":"b4680a95-5558-4864-b208-16bd6efb15df"},"edge_type":"inherent","type":"","uuid":"46da93a7-0fbd-41c0-8c8b-5c6b42b9d8e2","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_952ad6d6_fef1_417d_9c7d_75a978b7cfbd","uuid":"05b2164f-b331-410a-b18c-92fb89026eaa"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"c5309b7a-adee-4975-b789-ac06c5e8499b"},"edge_type":"depends_on","type":"","uuid":"39546614-852e-4262-b598-2bff9af2c7f7","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"76e1239b-8cee-40f7-aad8-90ca82eb1450"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_2dbca39a_353f_4650_ac9a_b5c84e9aded9"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"c5309b7a-adee-4975-b789-ac06c5e8499b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"520c6a79-b4a0-44b3-a7a4-e241ba8674f3"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"6cdcc89d-fd42-4e8a-9e97-40576d559005"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"76e1239b-8cee-40f7-aad8-90ca82eb1450","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9b1d29e6_deployment","uuid":"95b261f0-da10-45b6-a3e9-0e31feec6fdc"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"9b57420b-3c50-4fbe-8880-9c7651fd25ad"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd"},{"target_any_local_reference":{"kind":"app_package","name":"GCPSlavePackage","uuid":"e539041c-dd5e-4d31-b4ad-f1644e8e0679"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"b4680a95-5558-4864-b208-16bd6efb15df","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_e539041c_dd5e_4d31_b4ad_f1644e8e0679"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPSlave","uuid":"952ad6d6-fef1-417d-9c7d-75a978b7cfbd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"05b2164f-b331-410a-b18c-92fb89026eaa","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"520c6a79-b4a0-44b3-a7a4-e241ba8674f3"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_952ad6d6_fef1_417d_9c7d_75a978b7cfbd","uuid":"38790575-d595-48ff-87f1-155e2cfdae56"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Substrate_952ad6d6_fef1_417d_9c7d_75a978b7cfbd"},{"target_any_local_reference":{"kind":"app_package","name":"GCPMasterPackage","uuid":"77a18b5d-4cbc-4548-bb28-2c4fb6308d50"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"f9e79159-5fb0-4c99-bf6c-e613d42c6922","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_77a18b5d_4cbc_4548_bb28_2c4fb6308d50"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"520c6a79-b4a0-44b3-a7a4-e241ba8674f3"},"retries":"0","description":"","type":"SOFT_DELETE_DEPLOYMENT_ELEMENT","uuid":"c1af3ae2-b50a-4f16-bd41-46f4a808747a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Soft_Delete_520c6a79_b4a0_44b3_a7a4_e241ba8674f3"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPMaster","uuid":"d9edbd06-05b7-4e69-bc4b-ba5c99bab83f"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"0c86bc41-ca5c-4316-8d0b-342d871bf870","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9b1d29e6_deployment","uuid":"95b261f0-da10-45b6-a3e9-0e31feec6fdc"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_d9edbd06_05b7_4e69_bc4b_ba5c99bab83f","uuid":"c9cb978b-c8e5-4ca7-8ff0-7990e7c00580"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Substrate_d9edbd06_05b7_4e69_bc4b_ba5c99bab83f"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9b1d29e6_deployment","uuid":"95b261f0-da10-45b6-a3e9-0e31feec6fdc"},"retries":"0","description":"","type":"SOFT_DELETE_DEPLOYMENT_ELEMENT","uuid":"32b68593-16e4-40d0-a95a-2d2463b9708c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Soft_Delete_95b261f0_da10_45b6_a3e9_0e31feec6fdc"}],"description":"","message_list":[],"uuid":"c9decb52-d2f0-41f0-a5a2-79bc85ee53aa","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_2dbca39a_353f_4650_ac9a_b5c84e9aded9","uuid":"a03ada38-9e66-4185-a0fe-cce96afa2bfe"},"name":"SYS_GEN__Runbook_Application_2dbca39a_353f_4650_ac9a_b5c84e9aded9"}}],"message_list":[],"uuid":"2dbca39a-353f-4650-ac9a-b5c84e9aded9","state":"ACTIVE","dependency_list":[{"getter_resource_kind":"ServiceCfg","setter_resource_attr":"MYSQL_BIN","setter_resource_kind":"ServiceCfg","setter_resource_name":"MySQL_Master","action_name":"action_create","action_resource_name":"GCP","getter_resource_name":"MySQL_Slave","action_resource_kind":"ApplicationCfg"},{"getter_resource_kind":"ServiceCfg","setter_resource_attr":"MYSQL_POSITION","setter_resource_kind":"ServiceCfg","setter_resource_name":"MySQL_Master","action_name":"action_create","action_resource_name":"GCP","getter_resource_name":"MySQL_Slave","action_resource_kind":"ApplicationCfg"},{"getter_resource_kind":"ServiceCfg","setter_resource_attr":"address","setter_resource_kind":"ServiceCfg","setter_resource_name":"MySQL_Master","action_name":"action_create","action_resource_name":"GCP","getter_resource_name":"MySQL_Slave","action_resource_kind":"ApplicationCfg"}],"variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"58876bce-1476-46ac-826b-f3f8e8b0168a","value":"","label":"","state":"ACTIVE","attrs":{"is_secret_modified":false,"secret_reference":{"uuid":"38b607d1-f7cd-46c9-800e-78608adc3610"},"type":""},"editables":{"value":true},"is_hidden":false,"type":"SECRET","options":{},"name":"MYSQL_PASSWORD"}],"name":"GCP"},{"deployment_create_list":[{"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"5fa32c74-4e83-4680-b136-ca3d1ac81368","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"c56e12c0_deployment","uuid":"9542cb3d-f303-433f-9e85-c9a6a24e3ec8"},"retries":"0","description":"","type":"DAG","uuid":"e831ab23-d3ac-4acc-add8-22e1be7850fd","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__DE_Provision_9542cb3d_f303_433f_9e85_c9a6a24e3ec8","uuid":"5c11a37b-4f3b-45bf-b708-2b08b0c3f8e9"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_e4ca30de_9aef_4f99_9e43_a5397e5782c0","uuid":"f2b810b5-8f13-4171-b829-7c1b4d13b322"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_4c188fff_e85e_47fb_8da0_68cd76db155b","uuid":"33d065a3-2f52-436e-87ce-d6730a52462f"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"cbd55c33-75c8-4247-95d3-5dd8578c3ab0"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"41f44468-a95f-4b9c-9a32-6edef49be676"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"cbd55c33-75c8-4247-95d3-5dd8578c3ab0"},"edge_type":"inherent","type":"","uuid":"b8f889fe-6109-406d-94c0-2265b21c01a4","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"41f44468-a95f-4b9c-9a32-6edef49be676"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_4c188fff_e85e_47fb_8da0_68cd76db155b","uuid":"33d065a3-2f52-436e-87ce-d6730a52462f"},"edge_type":"inherent","type":"","uuid":"d8fd17c8-5b7c-4ca7-bf08-7334130be9b2","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"cbd55c33-75c8-4247-95d3-5dd8578c3ab0"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_9542cb3d_f303_433f_9e85_c9a6a24e3ec8","uuid":"5c11a37b-4f3b-45bf-b708-2b08b0c3f8e9"},"edge_type":"inherent","type":"","uuid":"d086a89d-681d-4e09-9b2a-3cf10ab31e5a","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_e4ca30de_9aef_4f99_9e43_a5397e5782c0","uuid":"f2b810b5-8f13-4171-b829-7c1b4d13b322"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_e4ca30de_9aef_4f99_9e43_a5397e5782c0","uuid":"f2b810b5-8f13-4171-b829-7c1b4d13b322"},"edge_type":"inherent","type":"","uuid":"820764d2-1937-4ded-80f5-569410e5ef5f","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_4c188fff_e85e_47fb_8da0_68cd76db155b","uuid":"33d065a3-2f52-436e-87ce-d6730a52462f"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_9542cb3d_f303_433f_9e85_c9a6a24e3ec8"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"c56e12c0_deployment","uuid":"9542cb3d-f303-433f-9e85-c9a6a24e3ec8"},"retries":"0","description":"","type":"CREATE_DEPLOYMENT_ELEMENT","uuid":"5c11a37b-4f3b-45bf-b708-2b08b0c3f8e9","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Provision_9542cb3d_f303_433f_9e85_c9a6a24e3ec8"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureMaster","uuid":"e4ca30de-9aef-4f99-9e43-a5397e5782c0"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"f2b810b5-8f13-4171-b829-7c1b4d13b322","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"c56e12c0_deployment","uuid":"9542cb3d-f303-433f-9e85-c9a6a24e3ec8"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_e4ca30de_9aef_4f99_9e43_a5397e5782c0","uuid":"e584cab2-abb4-41ae-a7d2-3259cb07d3ee"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Substrate_e4ca30de_9aef_4f99_9e43_a5397e5782c0"},{"target_any_local_reference":{"kind":"app_package","name":"AzureMasterPackage","uuid":"4c188fff-e85e-47fb-8da0-68cd76db155b"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"33d065a3-2f52-436e-87ce-d6730a52462f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"c56e12c0_deployment","uuid":"9542cb3d-f303-433f-9e85-c9a6a24e3ec8"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_4c188fff_e85e_47fb_8da0_68cd76db155b","uuid":"c9c28108-1318-48a7-9ba3-5d017b0b2263"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_4c188fff_e85e_47fb_8da0_68cd76db155b"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"cbd55c33-75c8-4247-95d3-5dd8578c3ab0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"c56e12c0_deployment","uuid":"9542cb3d-f303-433f-9e85-c9a6a24e3ec8"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0a970522_runbook","uuid":"f2803b23-af0b-4afd-8a2f-ef666adf85c8"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"41f44468-a95f-4b9c-9a32-6edef49be676","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"c56e12c0_deployment","uuid":"9542cb3d-f303-433f-9e85-c9a6a24e3ec8"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"5ddb28d1_runbook","uuid":"f88c4d73-c0ab-488b-a016-3e1453b91891"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd"}],"description":"","message_list":[],"uuid":"002b24db-7564-4d73-97ca-9d50c541f1b2","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_9542cb3d_f303_433f_9e85_c9a6a24e3ec8","uuid":"e831ab23-d3ac-4acc-add8-22e1be7850fd"},"name":"SYS_GEN__Runbook_Deployment_9542cb3d_f303_433f_9e85_c9a6a24e3ec8"}},{"description":"System action for starting an application","message_list":[],"uuid":"f72ce343-70cd-4a03-b4a3-053d3273f266","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"c56e12c0_deployment","uuid":"9542cb3d-f303-433f-9e85-c9a6a24e3ec8"},"retries":"0","description":"","type":"DAG","uuid":"dca3b13e-4e5f-4e6d-aab3-326881cb5c59","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_e4ca30de_9aef_4f99_9e43_a5397e5782c0","uuid":"f736197a-7ee3-45e2-9de1-d3a37d454696"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"2cfbeafb-a575-4a96-b3d5-57e788d98d39"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_e4ca30de_9aef_4f99_9e43_a5397e5782c0","uuid":"f736197a-7ee3-45e2-9de1-d3a37d454696"},"edge_type":"inherent","type":"","uuid":"4e186480-379a-467d-ae4e-915ffc61be5a","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"2cfbeafb-a575-4a96-b3d5-57e788d98d39"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_9542cb3d_f303_433f_9e85_c9a6a24e3ec8"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureMaster","uuid":"e4ca30de-9aef-4f99-9e43-a5397e5782c0"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"f736197a-7ee3-45e2-9de1-d3a37d454696","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"c56e12c0_deployment","uuid":"9542cb3d-f303-433f-9e85-c9a6a24e3ec8"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_e4ca30de_9aef_4f99_9e43_a5397e5782c0","uuid":"bb308f22-3744-4895-9cdc-bd6bbf792008"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Substrate_e4ca30de_9aef_4f99_9e43_a5397e5782c0"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"2cfbeafb-a575-4a96-b3d5-57e788d98d39","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"c56e12c0_deployment","uuid":"9542cb3d-f303-433f-9e85-c9a6a24e3ec8"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"5ddb28d1_runbook","uuid":"f88c4d73-c0ab-488b-a016-3e1453b91891"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd"}],"description":"","message_list":[],"uuid":"a61a8339-156c-457c-b8cf-76d4ea03b7b8","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_9542cb3d_f303_433f_9e85_c9a6a24e3ec8","uuid":"dca3b13e-4e5f-4e6d-aab3-326881cb5c59"},"name":"SYS_GEN__Runbook_Deployment_9542cb3d_f303_433f_9e85_c9a6a24e3ec8"}},{"description":"System action for restarting an application","message_list":[],"uuid":"99a6e945-f2c2-4e47-a3b7-31d88455409c","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"c56e12c0_deployment","uuid":"9542cb3d-f303-433f-9e85-c9a6a24e3ec8"},"retries":"0","description":"","type":"DAG","uuid":"7a4addf2-1f6a-45ec-a3e8-3b468ac6227f","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_e4ca30de_9aef_4f99_9e43_a5397e5782c0","uuid":"642e9978-d2cc-4cdb-b1ff-53b0da317cc3"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"a7e87635-f7fd-4eb3-b7e5-4f3185a598a0"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_e4ca30de_9aef_4f99_9e43_a5397e5782c0","uuid":"642e9978-d2cc-4cdb-b1ff-53b0da317cc3"},"edge_type":"inherent","type":"","uuid":"3b68b890-168f-4b75-bc84-67b50cc8795a","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"a7e87635-f7fd-4eb3-b7e5-4f3185a598a0"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_9542cb3d_f303_433f_9e85_c9a6a24e3ec8"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureMaster","uuid":"e4ca30de-9aef-4f99-9e43-a5397e5782c0"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"642e9978-d2cc-4cdb-b1ff-53b0da317cc3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"c56e12c0_deployment","uuid":"9542cb3d-f303-433f-9e85-c9a6a24e3ec8"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_e4ca30de_9aef_4f99_9e43_a5397e5782c0","uuid":"bfc1cd38-db08-4279-80b0-a88e6d5bb3b1"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Substrate_e4ca30de_9aef_4f99_9e43_a5397e5782c0"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"a7e87635-f7fd-4eb3-b7e5-4f3185a598a0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"c56e12c0_deployment","uuid":"9542cb3d-f303-433f-9e85-c9a6a24e3ec8"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"7e709238_runbook","uuid":"6beb8e29-06b2-4218-a1fd-18c28d8c6218"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd"}],"description":"","message_list":[],"uuid":"50737c2b-e7a8-49fe-9842-42872e611845","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_9542cb3d_f303_433f_9e85_c9a6a24e3ec8","uuid":"7a4addf2-1f6a-45ec-a3e8-3b468ac6227f"},"name":"SYS_GEN__Runbook_Deployment_9542cb3d_f303_433f_9e85_c9a6a24e3ec8"}},{"description":"System action for stopping an application","message_list":[],"uuid":"06d5fa80-52e0-4973-86a0-4d82ba706b85","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"c56e12c0_deployment","uuid":"9542cb3d-f303-433f-9e85-c9a6a24e3ec8"},"retries":"0","description":"","type":"DAG","uuid":"de8898b4-b86f-4d27-864d-90a6092bd151","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"d7fcfa39-e883-4e97-93fa-04ae9e98cdbf"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_e4ca30de_9aef_4f99_9e43_a5397e5782c0","uuid":"5f90a00c-93da-421c-9763-4b2e5ac16d3e"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"d7fcfa39-e883-4e97-93fa-04ae9e98cdbf"},"edge_type":"inherent","type":"","uuid":"d4d7ef54-379d-4a84-a7a9-5e3c33047023","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_e4ca30de_9aef_4f99_9e43_a5397e5782c0","uuid":"5f90a00c-93da-421c-9763-4b2e5ac16d3e"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_9542cb3d_f303_433f_9e85_c9a6a24e3ec8"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"d7fcfa39-e883-4e97-93fa-04ae9e98cdbf","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"c56e12c0_deployment","uuid":"9542cb3d-f303-433f-9e85-c9a6a24e3ec8"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0aefbca3_runbook","uuid":"a75d0021-cf2d-4da4-85dc-56ee0ed9e9eb"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureMaster","uuid":"e4ca30de-9aef-4f99-9e43-a5397e5782c0"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"5f90a00c-93da-421c-9763-4b2e5ac16d3e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"c56e12c0_deployment","uuid":"9542cb3d-f303-433f-9e85-c9a6a24e3ec8"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_e4ca30de_9aef_4f99_9e43_a5397e5782c0","uuid":"cd879ac7-ba63-4d1e-877f-ba1112d147f8"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Substrate_e4ca30de_9aef_4f99_9e43_a5397e5782c0"}],"description":"","message_list":[],"uuid":"02db773e-3923-4048-9f1b-6b823e5da2a9","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_9542cb3d_f303_433f_9e85_c9a6a24e3ec8","uuid":"de8898b4-b86f-4d27-864d-90a6092bd151"},"name":"SYS_GEN__Runbook_Deployment_9542cb3d_f303_433f_9e85_c9a6a24e3ec8"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"ecac7176-ab57-4d16-9eb2-1d73055dcb46","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"c56e12c0_deployment","uuid":"9542cb3d-f303-433f-9e85-c9a6a24e3ec8"},"retries":"0","description":"","type":"DAG","uuid":"2baacade-40b7-45a4-9a1d-208608702471","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"d26b4205-c979-4316-bd39-8b17173809d5"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"bc2f4f5a-7c7c-429a-99d2-b14e37c41c8b"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_4c188fff_e85e_47fb_8da0_68cd76db155b","uuid":"e57cf9fa-8ea5-4aef-a329-795730c2ad32"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_e4ca30de_9aef_4f99_9e43_a5397e5782c0","uuid":"a53db915-21ce-441e-9ead-4499b530288f"},{"kind":"app_task","name":"SYS_GEN__DE_Delete_9542cb3d_f303_433f_9e85_c9a6a24e3ec8","uuid":"90d0f6b6-eb62-4103-8e72-7751a091084c"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"d26b4205-c979-4316-bd39-8b17173809d5"},"edge_type":"inherent","type":"","uuid":"796948c2-19c9-492b-ac2d-40cf73398915","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"bc2f4f5a-7c7c-429a-99d2-b14e37c41c8b"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"bc2f4f5a-7c7c-429a-99d2-b14e37c41c8b"},"edge_type":"inherent","type":"","uuid":"f21e4a93-c800-44e3-a4ca-3143edc6823e","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_4c188fff_e85e_47fb_8da0_68cd76db155b","uuid":"e57cf9fa-8ea5-4aef-a329-795730c2ad32"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_e4ca30de_9aef_4f99_9e43_a5397e5782c0","uuid":"a53db915-21ce-441e-9ead-4499b530288f"},"edge_type":"inherent","type":"","uuid":"25b095f1-9ad3-4e79-a775-c3b87c54f444","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Delete_9542cb3d_f303_433f_9e85_c9a6a24e3ec8","uuid":"90d0f6b6-eb62-4103-8e72-7751a091084c"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_4c188fff_e85e_47fb_8da0_68cd76db155b","uuid":"e57cf9fa-8ea5-4aef-a329-795730c2ad32"},"edge_type":"inherent","type":"","uuid":"d64b4875-34f0-418e-9474-988f2ec9d4a9","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_e4ca30de_9aef_4f99_9e43_a5397e5782c0","uuid":"a53db915-21ce-441e-9ead-4499b530288f"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_9542cb3d_f303_433f_9e85_c9a6a24e3ec8"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"d26b4205-c979-4316-bd39-8b17173809d5","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"c56e12c0_deployment","uuid":"9542cb3d-f303-433f-9e85-c9a6a24e3ec8"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0aefbca3_runbook","uuid":"a75d0021-cf2d-4da4-85dc-56ee0ed9e9eb"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"bc2f4f5a-7c7c-429a-99d2-b14e37c41c8b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"c56e12c0_deployment","uuid":"9542cb3d-f303-433f-9e85-c9a6a24e3ec8"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"5fd47ec3_runbook","uuid":"7e58dd6b-1da9-495c-97e7-84bb6e288586"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd"},{"target_any_local_reference":{"kind":"app_package","name":"AzureMasterPackage","uuid":"4c188fff-e85e-47fb-8da0-68cd76db155b"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"e57cf9fa-8ea5-4aef-a329-795730c2ad32","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"c56e12c0_deployment","uuid":"9542cb3d-f303-433f-9e85-c9a6a24e3ec8"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_4c188fff_e85e_47fb_8da0_68cd76db155b","uuid":"0fff39b6-86b9-44a2-8421-c50538a784e5"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_4c188fff_e85e_47fb_8da0_68cd76db155b"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureMaster","uuid":"e4ca30de-9aef-4f99-9e43-a5397e5782c0"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"a53db915-21ce-441e-9ead-4499b530288f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"c56e12c0_deployment","uuid":"9542cb3d-f303-433f-9e85-c9a6a24e3ec8"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_e4ca30de_9aef_4f99_9e43_a5397e5782c0","uuid":"15571c03-6f15-4783-9ea0-76df1aaef49a"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Substrate_e4ca30de_9aef_4f99_9e43_a5397e5782c0"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"c56e12c0_deployment","uuid":"9542cb3d-f303-433f-9e85-c9a6a24e3ec8"},"retries":"0","description":"","type":"DELETE_DEPLOYMENT_ELEMENT","uuid":"90d0f6b6-eb62-4103-8e72-7751a091084c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Delete_9542cb3d_f303_433f_9e85_c9a6a24e3ec8"}],"description":"","message_list":[],"uuid":"04e77bdf-73e0-4ea2-8a61-2da029787345","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_9542cb3d_f303_433f_9e85_c9a6a24e3ec8","uuid":"2baacade-40b7-45a4-9a1d-208608702471"},"name":"SYS_GEN__Runbook_Deployment_9542cb3d_f303_433f_9e85_c9a6a24e3ec8"}},{"description":"System action for scaleout","message_list":[],"uuid":"f79ab803-25af-4435-bd6d-ae54047a7918","name":"action_scaleout","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"c56e12c0_deployment","uuid":"9542cb3d-f303-433f-9e85-c9a6a24e3ec8"},"retries":"0","description":"","type":"DAG","uuid":"44937fed-7016-469d-a33c-5c2ff47b823e","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Deployment_Scaleout_9542cb3d_f303_433f_9e85_c9a6a24e3ec8","uuid":"fbda00cb-0175-475f-b14f-0153ed8d532c"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_9542cb3d_f303_433f_9e85_c9a6a24e3ec8"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"c56e12c0_deployment","uuid":"9542cb3d-f303-433f-9e85-c9a6a24e3ec8"},"retries":"0","description":"","type":"SCALING","uuid":"fbda00cb-0175-475f-b14f-0153ed8d532c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{scaling_count}@@","type":"","scaling_type":"SCALEOUT"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Deployment_Scaleout_9542cb3d_f303_433f_9e85_c9a6a24e3ec8"}],"description":"","message_list":[],"uuid":"254dabe3-d382-4df8-ac10-c479bf3450b9","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"00487132-83ac-4bb0-9eef-dc594b088b5f","value":"0","label":"","state":"NOT_VALIDATED","attrs":{},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"scaling_count"}],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_9542cb3d_f303_433f_9e85_c9a6a24e3ec8","uuid":"44937fed-7016-469d-a33c-5c2ff47b823e"},"name":"SYS_GEN__Runbook_Deployment_9542cb3d_f303_433f_9e85_c9a6a24e3ec8"}},{"description":"System action for scalein","message_list":[],"uuid":"1b3416b8-e570-4fa2-8fb6-9ab891e219aa","name":"action_scalein","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"c56e12c0_deployment","uuid":"9542cb3d-f303-433f-9e85-c9a6a24e3ec8"},"retries":"0","description":"","type":"DAG","uuid":"6236a07d-7365-49ad-9448-369243926dcb","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Deployment_Scalein_9542cb3d_f303_433f_9e85_c9a6a24e3ec8","uuid":"bae0940f-6694-4462-a0a5-bb512c58af3c"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_9542cb3d_f303_433f_9e85_c9a6a24e3ec8"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"c56e12c0_deployment","uuid":"9542cb3d-f303-433f-9e85-c9a6a24e3ec8"},"retries":"0","description":"","type":"SCALING","uuid":"bae0940f-6694-4462-a0a5-bb512c58af3c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{scaling_count}@@","type":"","scaling_type":"SCALEIN"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Deployment_Scalein_9542cb3d_f303_433f_9e85_c9a6a24e3ec8"}],"description":"","message_list":[],"uuid":"fb930d8f-4cd0-4cb0-a68f-63e24e1c685c","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"97cfe66c-7c96-4f31-9deb-da1ad1c04363","value":"0","label":"","state":"NOT_VALIDATED","attrs":{},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"scaling_count"}],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_9542cb3d_f303_433f_9e85_c9a6a24e3ec8","uuid":"6236a07d-7365-49ad-9448-369243926dcb"},"name":"SYS_GEN__Runbook_Deployment_9542cb3d_f303_433f_9e85_c9a6a24e3ec8"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"bd06d119-b337-440a-a262-8a0305851673","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"c56e12c0_deployment","uuid":"9542cb3d-f303-433f-9e85-c9a6a24e3ec8"},"retries":"0","description":"","type":"DAG","uuid":"01c7b79e-51b4-474e-90ec-08441c695d20","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"8af7563b-c894-416d-8e0c-50dfd449c719"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_4c188fff_e85e_47fb_8da0_68cd76db155b","uuid":"c5767ab8-5bb4-4221-a93d-76a4ab578d4e"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_e4ca30de_9aef_4f99_9e43_a5397e5782c0","uuid":"c23877f1-5ee3-427a-add9-e6ed26d05e90"},{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_9542cb3d_f303_433f_9e85_c9a6a24e3ec8","uuid":"4f852060-2816-4229-acc8-af3dd693a32e"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"8af7563b-c894-416d-8e0c-50dfd449c719"},"edge_type":"inherent","type":"","uuid":"972d45e4-0ff7-41b6-b9bd-11c14b46756c","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_4c188fff_e85e_47fb_8da0_68cd76db155b","uuid":"c5767ab8-5bb4-4221-a93d-76a4ab578d4e"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_e4ca30de_9aef_4f99_9e43_a5397e5782c0","uuid":"c23877f1-5ee3-427a-add9-e6ed26d05e90"},"edge_type":"inherent","type":"","uuid":"fa8cc998-e98f-4bb3-a462-c69fc1bf23ce","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_9542cb3d_f303_433f_9e85_c9a6a24e3ec8","uuid":"4f852060-2816-4229-acc8-af3dd693a32e"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_4c188fff_e85e_47fb_8da0_68cd76db155b","uuid":"c5767ab8-5bb4-4221-a93d-76a4ab578d4e"},"edge_type":"inherent","type":"","uuid":"e88280b8-939c-4afc-9eb8-96d2f8b8cb7e","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_e4ca30de_9aef_4f99_9e43_a5397e5782c0","uuid":"c23877f1-5ee3-427a-add9-e6ed26d05e90"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_9542cb3d_f303_433f_9e85_c9a6a24e3ec8"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"8af7563b-c894-416d-8e0c-50dfd449c719","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"c56e12c0_deployment","uuid":"9542cb3d-f303-433f-9e85-c9a6a24e3ec8"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"9b57420b-3c50-4fbe-8880-9c7651fd25ad"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd"},{"target_any_local_reference":{"kind":"app_package","name":"AzureMasterPackage","uuid":"4c188fff-e85e-47fb-8da0-68cd76db155b"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"c5767ab8-5bb4-4221-a93d-76a4ab578d4e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_4c188fff_e85e_47fb_8da0_68cd76db155b"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureMaster","uuid":"e4ca30de-9aef-4f99-9e43-a5397e5782c0"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"c23877f1-5ee3-427a-add9-e6ed26d05e90","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"c56e12c0_deployment","uuid":"9542cb3d-f303-433f-9e85-c9a6a24e3ec8"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_e4ca30de_9aef_4f99_9e43_a5397e5782c0","uuid":"fb212e46-2ac7-420e-b3b3-f8652018efbe"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Substrate_e4ca30de_9aef_4f99_9e43_a5397e5782c0"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"c56e12c0_deployment","uuid":"9542cb3d-f303-433f-9e85-c9a6a24e3ec8"},"retries":"0","description":"","type":"SOFT_DELETE_DEPLOYMENT_ELEMENT","uuid":"4f852060-2816-4229-acc8-af3dd693a32e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Soft_Delete_9542cb3d_f303_433f_9e85_c9a6a24e3ec8"}],"description":"","message_list":[],"uuid":"af78221c-5da7-40f4-ada1-eb480f48404b","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_9542cb3d_f303_433f_9e85_c9a6a24e3ec8","uuid":"01c7b79e-51b4-474e-90ec-08441c695d20"},"name":"SYS_GEN__Runbook_Deployment_9542cb3d_f303_433f_9e85_c9a6a24e3ec8"}}],"message_list":[],"published_service_local_reference_list":[],"uuid":"9542cb3d-f303-433f-9e85-c9a6a24e3ec8","min_replicas":"1","state":"ACTIVE","max_replicas":"1","depends_on_list":[],"editables":{},"package_local_reference_list":[{"kind":"app_package","name":"AzureMasterPackage","uuid":"4c188fff-e85e-47fb-8da0-68cd76db155b"}],"substrate_local_reference":{"kind":"app_substrate","name":"AzureMaster","uuid":"e4ca30de-9aef-4f99-9e43-a5397e5782c0"},"type":"GREENFIELD","options":{},"variable_list":[],"name":"c56e12c0_deployment"},{"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"4f01266c-20f3-4623-8470-9807145e0522","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"fc8c528c-c694-44e7-9f41-633cc4c5aeac"},"retries":"0","description":"","type":"DAG","uuid":"2eb60c32-184e-4c4d-83f9-6c61c3f05ddc","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__DE_Provision_fc8c528c_c694_44e7_9f41_633cc4c5aeac","uuid":"2725373d-7932-4314-9a6b-102ff8f057f4"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_923f313b_a051_46c9_85d0_1beb4ed96b2c","uuid":"7ab81d5f-c8e6-4c3a-b830-e8f41a3e33f2"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_f50f37d2_44a7_4159_aa44_051ad043416b","uuid":"38626f2f-7c66-464d-ad47-9d1fa9953154"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"4667ad96-96e2-487d-9e3e-08b84fba3f9b"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"e5914889-95d0-4d3b-9f4e-7d31ac9417a9"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"4667ad96-96e2-487d-9e3e-08b84fba3f9b"},"edge_type":"inherent","type":"","uuid":"eba7feb1-8927-4cc5-ac22-a366576f9004","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"e5914889-95d0-4d3b-9f4e-7d31ac9417a9"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_f50f37d2_44a7_4159_aa44_051ad043416b","uuid":"38626f2f-7c66-464d-ad47-9d1fa9953154"},"edge_type":"inherent","type":"","uuid":"a763f2ad-a4d5-433e-b166-6dc0d540503c","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"4667ad96-96e2-487d-9e3e-08b84fba3f9b"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_923f313b_a051_46c9_85d0_1beb4ed96b2c","uuid":"7ab81d5f-c8e6-4c3a-b830-e8f41a3e33f2"},"edge_type":"inherent","type":"","uuid":"c1dca892-2907-4a7e-92e2-d33e96e1459d","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_f50f37d2_44a7_4159_aa44_051ad043416b","uuid":"38626f2f-7c66-464d-ad47-9d1fa9953154"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_fc8c528c_c694_44e7_9f41_633cc4c5aeac","uuid":"2725373d-7932-4314-9a6b-102ff8f057f4"},"edge_type":"inherent","type":"","uuid":"39961640-4933-435a-adfe-0a9eb1870fdb","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_923f313b_a051_46c9_85d0_1beb4ed96b2c","uuid":"7ab81d5f-c8e6-4c3a-b830-e8f41a3e33f2"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_fc8c528c_c694_44e7_9f41_633cc4c5aeac"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"fc8c528c-c694-44e7-9f41-633cc4c5aeac"},"retries":"0","description":"","type":"CREATE_DEPLOYMENT_ELEMENT","uuid":"2725373d-7932-4314-9a6b-102ff8f057f4","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Provision_fc8c528c_c694_44e7_9f41_633cc4c5aeac"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureSlave","uuid":"923f313b-a051-46c9-85d0-1beb4ed96b2c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"7ab81d5f-c8e6-4c3a-b830-e8f41a3e33f2","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"fc8c528c-c694-44e7-9f41-633cc4c5aeac"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_923f313b_a051_46c9_85d0_1beb4ed96b2c","uuid":"cd7f2244-129e-4740-a6b0-3fa262dcac45"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Substrate_923f313b_a051_46c9_85d0_1beb4ed96b2c"},{"target_any_local_reference":{"kind":"app_package","name":"AzureSlavePackage","uuid":"f50f37d2-44a7-4159-aa44-051ad043416b"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"38626f2f-7c66-464d-ad47-9d1fa9953154","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"fc8c528c-c694-44e7-9f41-633cc4c5aeac"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_f50f37d2_44a7_4159_aa44_051ad043416b","uuid":"38d90c24-c674-4c5d-8dd1-ce770de83eee"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_f50f37d2_44a7_4159_aa44_051ad043416b"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"4667ad96-96e2-487d-9e3e-08b84fba3f9b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"fc8c528c-c694-44e7-9f41-633cc4c5aeac"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"d54168c9_runbook","uuid":"e509001d-6b88-4a64-813c-0ce8ea81991a"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"e5914889-95d0-4d3b-9f4e-7d31ac9417a9","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"fc8c528c-c694-44e7-9f41-633cc4c5aeac"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"a027cde0_runbook","uuid":"0afbc7f3-5541-415f-9616-c459f09806b2"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400"}],"description":"","message_list":[],"uuid":"c8a3637d-a9da-44e3-b113-9202d2beb443","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_fc8c528c_c694_44e7_9f41_633cc4c5aeac","uuid":"2eb60c32-184e-4c4d-83f9-6c61c3f05ddc"},"name":"SYS_GEN__Runbook_Deployment_fc8c528c_c694_44e7_9f41_633cc4c5aeac"}},{"description":"System action for starting an application","message_list":[],"uuid":"57fdbdd3-badb-437b-a0e5-0b10f53d688e","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"fc8c528c-c694-44e7-9f41-633cc4c5aeac"},"retries":"0","description":"","type":"DAG","uuid":"197de2ae-7a6a-4e2a-9a71-9a017692e5d5","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_923f313b_a051_46c9_85d0_1beb4ed96b2c","uuid":"14e52cb4-5435-41cd-9b4c-83819864b321"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"a9dd2791-ac68-4c92-853b-f7a46bc6c9f9"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_923f313b_a051_46c9_85d0_1beb4ed96b2c","uuid":"14e52cb4-5435-41cd-9b4c-83819864b321"},"edge_type":"inherent","type":"","uuid":"767a66ac-05d9-4c03-bc6c-4cf6d0156a3f","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"a9dd2791-ac68-4c92-853b-f7a46bc6c9f9"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_fc8c528c_c694_44e7_9f41_633cc4c5aeac"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureSlave","uuid":"923f313b-a051-46c9-85d0-1beb4ed96b2c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"14e52cb4-5435-41cd-9b4c-83819864b321","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"fc8c528c-c694-44e7-9f41-633cc4c5aeac"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_923f313b_a051_46c9_85d0_1beb4ed96b2c","uuid":"2ff95431-0c63-4458-8a21-f9c12aea7877"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Substrate_923f313b_a051_46c9_85d0_1beb4ed96b2c"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"a9dd2791-ac68-4c92-853b-f7a46bc6c9f9","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"fc8c528c-c694-44e7-9f41-633cc4c5aeac"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"a027cde0_runbook","uuid":"0afbc7f3-5541-415f-9616-c459f09806b2"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400"}],"description":"","message_list":[],"uuid":"4f2c5f13-d364-4552-baa1-279a48e41b07","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_fc8c528c_c694_44e7_9f41_633cc4c5aeac","uuid":"197de2ae-7a6a-4e2a-9a71-9a017692e5d5"},"name":"SYS_GEN__Runbook_Deployment_fc8c528c_c694_44e7_9f41_633cc4c5aeac"}},{"description":"System action for restarting an application","message_list":[],"uuid":"a1f9f1c6-7bb2-43af-8dc2-075d8410893c","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"fc8c528c-c694-44e7-9f41-633cc4c5aeac"},"retries":"0","description":"","type":"DAG","uuid":"222e170c-dcfb-4421-88ea-4f5bb6efe253","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_923f313b_a051_46c9_85d0_1beb4ed96b2c","uuid":"fe96fa50-1835-4d88-966a-55778899fa95"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"b418434c-e5e8-4129-890e-26a59c45ac2b"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_923f313b_a051_46c9_85d0_1beb4ed96b2c","uuid":"fe96fa50-1835-4d88-966a-55778899fa95"},"edge_type":"inherent","type":"","uuid":"bfbb4e6e-235a-4543-8a3a-d0bbd6b0cfe5","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"b418434c-e5e8-4129-890e-26a59c45ac2b"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_fc8c528c_c694_44e7_9f41_633cc4c5aeac"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureSlave","uuid":"923f313b-a051-46c9-85d0-1beb4ed96b2c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"fe96fa50-1835-4d88-966a-55778899fa95","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"fc8c528c-c694-44e7-9f41-633cc4c5aeac"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_923f313b_a051_46c9_85d0_1beb4ed96b2c","uuid":"770e890c-6844-4048-bc1c-405f55b616ce"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Substrate_923f313b_a051_46c9_85d0_1beb4ed96b2c"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"b418434c-e5e8-4129-890e-26a59c45ac2b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"fc8c528c-c694-44e7-9f41-633cc4c5aeac"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"f2b2a076_runbook","uuid":"b7162b3b-d4ba-4fba-875d-fc9c8c2c5b79"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400"}],"description":"","message_list":[],"uuid":"3060ecd1-d6a2-48f9-a195-f66d5f06cf4e","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_fc8c528c_c694_44e7_9f41_633cc4c5aeac","uuid":"222e170c-dcfb-4421-88ea-4f5bb6efe253"},"name":"SYS_GEN__Runbook_Deployment_fc8c528c_c694_44e7_9f41_633cc4c5aeac"}},{"description":"System action for stopping an application","message_list":[],"uuid":"bca74129-bc4f-4153-a242-3cdcf68ff929","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"fc8c528c-c694-44e7-9f41-633cc4c5aeac"},"retries":"0","description":"","type":"DAG","uuid":"4cf5279b-059c-4125-838f-0b152dc3c9f4","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"7d2fe95d-d01d-4269-9cd4-e8e4744a9a50"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_923f313b_a051_46c9_85d0_1beb4ed96b2c","uuid":"5468c362-ef81-4ef7-aa62-b2dc242d2429"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"7d2fe95d-d01d-4269-9cd4-e8e4744a9a50"},"edge_type":"inherent","type":"","uuid":"4829320b-ddda-40a7-a478-708d4195915f","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_923f313b_a051_46c9_85d0_1beb4ed96b2c","uuid":"5468c362-ef81-4ef7-aa62-b2dc242d2429"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_fc8c528c_c694_44e7_9f41_633cc4c5aeac"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"7d2fe95d-d01d-4269-9cd4-e8e4744a9a50","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"fc8c528c-c694-44e7-9f41-633cc4c5aeac"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"4a2ad0be_runbook","uuid":"09b1c8a9-6223-4e38-acfb-ff4754413c85"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureSlave","uuid":"923f313b-a051-46c9-85d0-1beb4ed96b2c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"5468c362-ef81-4ef7-aa62-b2dc242d2429","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"fc8c528c-c694-44e7-9f41-633cc4c5aeac"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_923f313b_a051_46c9_85d0_1beb4ed96b2c","uuid":"1bb8d5c4-a757-493b-ab7b-ba80c39a7903"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Substrate_923f313b_a051_46c9_85d0_1beb4ed96b2c"}],"description":"","message_list":[],"uuid":"3753a00c-567c-4c86-896e-52b31ee0068b","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_fc8c528c_c694_44e7_9f41_633cc4c5aeac","uuid":"4cf5279b-059c-4125-838f-0b152dc3c9f4"},"name":"SYS_GEN__Runbook_Deployment_fc8c528c_c694_44e7_9f41_633cc4c5aeac"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"41bae136-f6fb-4d4d-b5d2-c9085f39e63b","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"fc8c528c-c694-44e7-9f41-633cc4c5aeac"},"retries":"0","description":"","type":"DAG","uuid":"8a48d19d-8471-42bb-b640-e7d084ccfcf9","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"abe14f3a-f9a1-49db-a50a-d131e27c9bd8"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"7af299ff-d674-41f0-9370-5ee7ef07ce06"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_f50f37d2_44a7_4159_aa44_051ad043416b","uuid":"59909c32-be34-43be-94e0-e95fd1949c35"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_923f313b_a051_46c9_85d0_1beb4ed96b2c","uuid":"b3c7662c-9476-4f40-965b-71f51278c544"},{"kind":"app_task","name":"SYS_GEN__DE_Delete_fc8c528c_c694_44e7_9f41_633cc4c5aeac","uuid":"ef4be02b-c3bd-4f08-9b63-b108348105eb"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"abe14f3a-f9a1-49db-a50a-d131e27c9bd8"},"edge_type":"inherent","type":"","uuid":"79fc5751-cea8-4968-8739-b78e62953cec","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"7af299ff-d674-41f0-9370-5ee7ef07ce06"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"7af299ff-d674-41f0-9370-5ee7ef07ce06"},"edge_type":"inherent","type":"","uuid":"703bb4b2-bef1-4265-b65f-d4cc5dcb7cf7","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_f50f37d2_44a7_4159_aa44_051ad043416b","uuid":"59909c32-be34-43be-94e0-e95fd1949c35"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_923f313b_a051_46c9_85d0_1beb4ed96b2c","uuid":"b3c7662c-9476-4f40-965b-71f51278c544"},"edge_type":"inherent","type":"","uuid":"dbfd1d52-68d2-4297-beaa-04d0150e80d6","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Delete_fc8c528c_c694_44e7_9f41_633cc4c5aeac","uuid":"ef4be02b-c3bd-4f08-9b63-b108348105eb"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_f50f37d2_44a7_4159_aa44_051ad043416b","uuid":"59909c32-be34-43be-94e0-e95fd1949c35"},"edge_type":"inherent","type":"","uuid":"514e4c1c-2909-4d9a-b23c-c4b1849c7380","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_923f313b_a051_46c9_85d0_1beb4ed96b2c","uuid":"b3c7662c-9476-4f40-965b-71f51278c544"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_fc8c528c_c694_44e7_9f41_633cc4c5aeac"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"abe14f3a-f9a1-49db-a50a-d131e27c9bd8","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"fc8c528c-c694-44e7-9f41-633cc4c5aeac"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"4a2ad0be_runbook","uuid":"09b1c8a9-6223-4e38-acfb-ff4754413c85"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"7af299ff-d674-41f0-9370-5ee7ef07ce06","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"fc8c528c-c694-44e7-9f41-633cc4c5aeac"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"92247e35_runbook","uuid":"497a8a35-a955-4f76-8fb0-21dbd9acb6e0"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400"},{"target_any_local_reference":{"kind":"app_package","name":"AzureSlavePackage","uuid":"f50f37d2-44a7-4159-aa44-051ad043416b"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"59909c32-be34-43be-94e0-e95fd1949c35","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"fc8c528c-c694-44e7-9f41-633cc4c5aeac"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_f50f37d2_44a7_4159_aa44_051ad043416b","uuid":"9a8fdf45-f53c-4286-ae4e-411f9be11fc2"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_f50f37d2_44a7_4159_aa44_051ad043416b"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureSlave","uuid":"923f313b-a051-46c9-85d0-1beb4ed96b2c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"b3c7662c-9476-4f40-965b-71f51278c544","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"fc8c528c-c694-44e7-9f41-633cc4c5aeac"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_923f313b_a051_46c9_85d0_1beb4ed96b2c","uuid":"8656ce04-7f0f-4c9e-9cae-a2f46af9d88f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Substrate_923f313b_a051_46c9_85d0_1beb4ed96b2c"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"fc8c528c-c694-44e7-9f41-633cc4c5aeac"},"retries":"0","description":"","type":"DELETE_DEPLOYMENT_ELEMENT","uuid":"ef4be02b-c3bd-4f08-9b63-b108348105eb","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Delete_fc8c528c_c694_44e7_9f41_633cc4c5aeac"}],"description":"","message_list":[],"uuid":"d2684979-88ba-4308-b9fd-87fae6951639","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_fc8c528c_c694_44e7_9f41_633cc4c5aeac","uuid":"8a48d19d-8471-42bb-b640-e7d084ccfcf9"},"name":"SYS_GEN__Runbook_Deployment_fc8c528c_c694_44e7_9f41_633cc4c5aeac"}},{"description":"System action for scaleout","message_list":[],"uuid":"39862c8e-27ff-4895-bfb7-6fd4f93e36f4","name":"action_scaleout","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"fc8c528c-c694-44e7-9f41-633cc4c5aeac"},"retries":"0","description":"","type":"DAG","uuid":"6ee06b5d-822c-4602-be0a-1e2592f04020","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Deployment_Scaleout_fc8c528c_c694_44e7_9f41_633cc4c5aeac","uuid":"fa48fff1-a689-40b3-8b82-04acb35b8a1a"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_fc8c528c_c694_44e7_9f41_633cc4c5aeac"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"fc8c528c-c694-44e7-9f41-633cc4c5aeac"},"retries":"0","description":"","type":"SCALING","uuid":"fa48fff1-a689-40b3-8b82-04acb35b8a1a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{scaling_count}@@","type":"","scaling_type":"SCALEOUT"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Deployment_Scaleout_fc8c528c_c694_44e7_9f41_633cc4c5aeac"}],"description":"","message_list":[],"uuid":"483b4310-6363-45d7-a280-fb6a55a7dcc0","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"2da3cc17-a9d7-4fc8-aafe-badcfd95a084","value":"0","label":"","state":"NOT_VALIDATED","attrs":{},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"scaling_count"}],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_fc8c528c_c694_44e7_9f41_633cc4c5aeac","uuid":"6ee06b5d-822c-4602-be0a-1e2592f04020"},"name":"SYS_GEN__Runbook_Deployment_fc8c528c_c694_44e7_9f41_633cc4c5aeac"}},{"description":"System action for scalein","message_list":[],"uuid":"6057a402-48df-44db-9f25-40d03bca6e4c","name":"action_scalein","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"fc8c528c-c694-44e7-9f41-633cc4c5aeac"},"retries":"0","description":"","type":"DAG","uuid":"6c7990b7-346c-4d4a-b892-4462b036ba6e","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Deployment_Scalein_fc8c528c_c694_44e7_9f41_633cc4c5aeac","uuid":"2895a351-a47d-4414-ac9a-642d0c0f8307"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_fc8c528c_c694_44e7_9f41_633cc4c5aeac"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"fc8c528c-c694-44e7-9f41-633cc4c5aeac"},"retries":"0","description":"","type":"SCALING","uuid":"2895a351-a47d-4414-ac9a-642d0c0f8307","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{scaling_count}@@","type":"","scaling_type":"SCALEIN"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Deployment_Scalein_fc8c528c_c694_44e7_9f41_633cc4c5aeac"}],"description":"","message_list":[],"uuid":"89a051e1-026b-4853-974c-079f8e916b27","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"5503e615-25a5-4f07-bb65-4128855f658f","value":"0","label":"","state":"NOT_VALIDATED","attrs":{},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"scaling_count"}],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_fc8c528c_c694_44e7_9f41_633cc4c5aeac","uuid":"6c7990b7-346c-4d4a-b892-4462b036ba6e"},"name":"SYS_GEN__Runbook_Deployment_fc8c528c_c694_44e7_9f41_633cc4c5aeac"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"96efbc4c-5552-429e-bca6-9a2d75a20100","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"fc8c528c-c694-44e7-9f41-633cc4c5aeac"},"retries":"0","description":"","type":"DAG","uuid":"e0a30d00-48fa-4423-a6ee-5f207043fa26","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"3d2cdbaf-92cd-4ef2-a640-f2d2a9a91171"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_f50f37d2_44a7_4159_aa44_051ad043416b","uuid":"280362a2-b5a8-4ba6-8268-bfc18028bad3"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_923f313b_a051_46c9_85d0_1beb4ed96b2c","uuid":"a3795163-540a-4b7f-b0ea-2e1ebbd10aea"},{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_fc8c528c_c694_44e7_9f41_633cc4c5aeac","uuid":"f8cfe6b1-80e5-4d72-bbf7-00e5f7599fdb"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"3d2cdbaf-92cd-4ef2-a640-f2d2a9a91171"},"edge_type":"inherent","type":"","uuid":"0082b949-bb9e-4e96-ac4a-b573d35d2824","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_f50f37d2_44a7_4159_aa44_051ad043416b","uuid":"280362a2-b5a8-4ba6-8268-bfc18028bad3"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_f50f37d2_44a7_4159_aa44_051ad043416b","uuid":"280362a2-b5a8-4ba6-8268-bfc18028bad3"},"edge_type":"inherent","type":"","uuid":"9efc78aa-f326-4da4-bcb0-f3e687e7a5d2","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_923f313b_a051_46c9_85d0_1beb4ed96b2c","uuid":"a3795163-540a-4b7f-b0ea-2e1ebbd10aea"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_923f313b_a051_46c9_85d0_1beb4ed96b2c","uuid":"a3795163-540a-4b7f-b0ea-2e1ebbd10aea"},"edge_type":"inherent","type":"","uuid":"657a6b86-e23c-4da0-93de-15dde207d5c6","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_fc8c528c_c694_44e7_9f41_633cc4c5aeac","uuid":"f8cfe6b1-80e5-4d72-bbf7-00e5f7599fdb"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_fc8c528c_c694_44e7_9f41_633cc4c5aeac"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"3d2cdbaf-92cd-4ef2-a640-f2d2a9a91171","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"fc8c528c-c694-44e7-9f41-633cc4c5aeac"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"6cdcc89d-fd42-4e8a-9e97-40576d559005"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400"},{"target_any_local_reference":{"kind":"app_package","name":"AzureSlavePackage","uuid":"f50f37d2-44a7-4159-aa44-051ad043416b"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"280362a2-b5a8-4ba6-8268-bfc18028bad3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_f50f37d2_44a7_4159_aa44_051ad043416b"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureSlave","uuid":"923f313b-a051-46c9-85d0-1beb4ed96b2c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"a3795163-540a-4b7f-b0ea-2e1ebbd10aea","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"fc8c528c-c694-44e7-9f41-633cc4c5aeac"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_923f313b_a051_46c9_85d0_1beb4ed96b2c","uuid":"0c983dbe-108f-414c-a248-a2172d0aac6a"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Substrate_923f313b_a051_46c9_85d0_1beb4ed96b2c"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"fc8c528c-c694-44e7-9f41-633cc4c5aeac"},"retries":"0","description":"","type":"SOFT_DELETE_DEPLOYMENT_ELEMENT","uuid":"f8cfe6b1-80e5-4d72-bbf7-00e5f7599fdb","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Soft_Delete_fc8c528c_c694_44e7_9f41_633cc4c5aeac"}],"description":"","message_list":[],"uuid":"f7463fe8-b6a8-4663-b244-8c1cf88ed580","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_fc8c528c_c694_44e7_9f41_633cc4c5aeac","uuid":"e0a30d00-48fa-4423-a6ee-5f207043fa26"},"name":"SYS_GEN__Runbook_Deployment_fc8c528c_c694_44e7_9f41_633cc4c5aeac"}}],"message_list":[],"published_service_local_reference_list":[],"uuid":"fc8c528c-c694-44e7-9f41-633cc4c5aeac","min_replicas":"1","state":"ACTIVE","max_replicas":"3","depends_on_list":[],"editables":{"min_replicas":true,"max_replicas":true},"package_local_reference_list":[{"kind":"app_package","name":"AzureSlavePackage","uuid":"f50f37d2-44a7-4159-aa44-051ad043416b"}],"substrate_local_reference":{"kind":"app_substrate","name":"AzureSlave","uuid":"923f313b-a051-46c9-85d0-1beb4ed96b2c"},"type":"GREENFIELD","options":{},"variable_list":[],"name":"797414cb_deployment"}],"description":"","action_list":[{"description":"","message_list":[],"uuid":"473b7a56-27b6-4fec-84a8-a7140b6956d0","name":"Backup","state":"ACTIVE","critical":false,"attrs":{},"type":"user","runbook":{"task_definition_list":[{"retries":"0","description":"","type":"DAG","uuid":"d24c2900-4365-4ab0-a412-3fc8f4282d00","child_tasks_local_reference_list":[{"kind":"app_task","name":"DB Backup","uuid":"2e8237a8-cc43-4b16-8271-3423e181061b"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"966ad697_dag"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"EXEC","uuid":"2e8237a8-cc43-4b16-8271-3423e181061b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\n\n### Setup variables\nmysql_password=\"@@{MYSQL_PASSWORD}@@\"\ndate_part=`date +%F`\nmkdir -p @@{BACKUP_FILE_PATH}@@\nsudo mysqldump -u root -p${mysql_password} --all-databases | sudo gzip -9 > @@{BACKUP_FILE_PATH}@@\/db_dump.sql.gz"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"DB Backup"}],"description":"","message_list":[],"uuid":"68578371-6d2f-4b67-89a6-014d390b142a","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"2964d98b-ba56-4df6-9c5b-824b0a2b9967","value":"~\/db_backup","label":"","state":"ACTIVE","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"BACKUP_FILE_PATH"}],"main_task_local_reference":{"kind":"app_task","name":"966ad697_dag","uuid":"d24c2900-4365-4ab0-a412-3fc8f4282d00"},"name":"f1e44022_runbook"}},{"description":"","message_list":[],"uuid":"d3ebd1ab-a9e8-433f-a809-29b6d9d0463f","name":"Restore","state":"ACTIVE","critical":false,"attrs":{},"type":"user","runbook":{"task_definition_list":[{"retries":"0","description":"","type":"DAG","uuid":"9fe1fe2e-42ed-413b-a0f6-76ff8134d25d","child_tasks_local_reference_list":[{"kind":"app_task","name":"DB Restore","uuid":"c8657906-1256-4a5b-ac54-254e17a3eb6e"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"5ed684d9_dag"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"EXEC","uuid":"c8657906-1256-4a5b-ac54-254e17a3eb6e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\n\n### Setup variables\nmysql_password=\"@@{MYSQL_PASSWORD}@@\"\ndb_file=@@{RESTORE_FILE_PATH}@@\n\nsudo gunzip < $db_file | sudo mysql -u root -p${mysql_password} "},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"DB Restore"}],"description":"","message_list":[],"uuid":"b5d416bc-f0e9-4f0a-97d7-61441e82065c","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"e585ede6-b357-412b-b79b-3638a98409a5","value":"~\/db_backup\/db_dump.sql.gz","label":"","state":"ACTIVE","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"RESTORE_FILE_PATH"}],"main_task_local_reference":{"kind":"app_task","name":"5ed684d9_dag","uuid":"9fe1fe2e-42ed-413b-a0f6-76ff8134d25d"},"name":"70027c7e_runbook"}},{"description":"","message_list":[],"uuid":"d353d146-f6e2-4fe2-bd33-83546fc9b6de","name":"ScaleOut","state":"ACTIVE","critical":false,"attrs":{},"type":"user","runbook":{"task_definition_list":[{"retries":"0","description":"","type":"DAG","uuid":"9723708d-9769-4db7-ba58-3682f0b8c1f6","child_tasks_local_reference_list":[{"kind":"app_task","name":"ScaleOut","uuid":"8f4acc36-35fa-4689-b65c-1d1ee9bc8fb1"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"68006bbc_dag"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"fc8c528c-c694-44e7-9f41-633cc4c5aeac"},"retries":"0","description":"","type":"SCALING","uuid":"8f4acc36-35fa-4689-b65c-1d1ee9bc8fb1","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{COUNT}@@","type":"","scaling_type":"SCALEOUT"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"ScaleOut"}],"description":"","message_list":[],"uuid":"096f8339-3b55-4abd-8edb-170b54c301ef","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"d78635e8-a562-4571-8613-ec802e0a82fe","value":"1","label":"","state":"ACTIVE","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"COUNT"}],"main_task_local_reference":{"kind":"app_task","name":"68006bbc_dag","uuid":"9723708d-9769-4db7-ba58-3682f0b8c1f6"},"name":"7b41b938_runbook"}},{"description":"","message_list":[],"uuid":"382db0cf-0460-4054-b85d-71e6e54fdd13","name":"ScaleIn","state":"ACTIVE","critical":false,"attrs":{},"type":"user","runbook":{"task_definition_list":[{"retries":"0","description":"","type":"DAG","uuid":"70614bf5-29c1-4579-b7c2-7b1571f85793","child_tasks_local_reference_list":[{"kind":"app_task","name":"Scale In","uuid":"825c848c-f794-4ae8-bf6f-613e314c6638"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"b337ca9d_dag"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"fc8c528c-c694-44e7-9f41-633cc4c5aeac"},"retries":"0","description":"","type":"SCALING","uuid":"825c848c-f794-4ae8-bf6f-613e314c6638","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{COUNT}@@","type":"","scaling_type":"SCALEIN"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Scale In"}],"description":"","message_list":[],"uuid":"5acf7d63-4627-4a34-8932-1d1324c159d6","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"ca49e0ee-8209-4e07-b767-6093ae111bd8","value":"1","label":"","state":"ACTIVE","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"COUNT"}],"main_task_local_reference":{"kind":"app_task","name":"b337ca9d_dag","uuid":"70614bf5-29c1-4579-b7c2-7b1571f85793"},"name":"c0c7671a_runbook"}},{"description":"System action for creating an application","message_list":[],"uuid":"e8946f0c-47d6-454e-82ac-cbe5e18b1bf4","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"Azure","uuid":"b78e0a60-f584-4da9-a75c-ffa78d1ce130"},"retries":"0","description":"","type":"DAG","uuid":"95d2f8f5-89bd-4540-987c-4eb6b74ce7a2","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__DE_Provision_fc8c528c_c694_44e7_9f41_633cc4c5aeac","uuid":"1aebbe19-c35f-41bd-83dc-6df70e81eb9d"},{"kind":"app_task","name":"SYS_GEN__DE_Provision_9542cb3d_f303_433f_9e85_c9a6a24e3ec8","uuid":"38397ee9-b5a1-49d6-b365-2f8dd1577ec6"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_e4ca30de_9aef_4f99_9e43_a5397e5782c0","uuid":"ffdca575-9b57-4a20-b547-64918025515a"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_923f313b_a051_46c9_85d0_1beb4ed96b2c","uuid":"57c8c22f-c0ac-496e-89f1-767f2603d7f0"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_f50f37d2_44a7_4159_aa44_051ad043416b","uuid":"0915acf5-a72e-44a3-87db-8d940bc58830"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_4c188fff_e85e_47fb_8da0_68cd76db155b","uuid":"f618204d-7727-4f40-a163-7a0c530a70cb"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"1e867361-37d5-44b9-9580-e8b0ddbb0031"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"224de752-993c-415e-92ac-2f9a26d2489e"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"738e6964-dc18-4d25-bcd7-2ef9f0b2f93d"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"cf855449-2c54-4ab8-8836-708fb252a40f"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"1e867361-37d5-44b9-9580-e8b0ddbb0031"},"edge_type":"inherent","type":"","uuid":"8f4493c0-6d7a-4b5d-8408-2b50f0693da1","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"224de752-993c-415e-92ac-2f9a26d2489e"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_4c188fff_e85e_47fb_8da0_68cd76db155b","uuid":"f618204d-7727-4f40-a163-7a0c530a70cb"},"edge_type":"inherent","type":"","uuid":"d3f27abe-764c-455d-982e-edca850423c1","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"1e867361-37d5-44b9-9580-e8b0ddbb0031"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_9542cb3d_f303_433f_9e85_c9a6a24e3ec8","uuid":"38397ee9-b5a1-49d6-b365-2f8dd1577ec6"},"edge_type":"inherent","type":"","uuid":"f802997a-53cf-43c8-9e22-4957e5277c22","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_e4ca30de_9aef_4f99_9e43_a5397e5782c0","uuid":"ffdca575-9b57-4a20-b547-64918025515a"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_e4ca30de_9aef_4f99_9e43_a5397e5782c0","uuid":"ffdca575-9b57-4a20-b547-64918025515a"},"edge_type":"inherent","type":"","uuid":"9ead1c26-16bf-4d17-919c-1668ad945a2b","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_4c188fff_e85e_47fb_8da0_68cd76db155b","uuid":"f618204d-7727-4f40-a163-7a0c530a70cb"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"738e6964-dc18-4d25-bcd7-2ef9f0b2f93d"},"edge_type":"inherent","type":"","uuid":"221cc418-d02b-4b9d-bcfd-618c25aec53e","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"cf855449-2c54-4ab8-8836-708fb252a40f"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_f50f37d2_44a7_4159_aa44_051ad043416b","uuid":"0915acf5-a72e-44a3-87db-8d940bc58830"},"edge_type":"inherent","type":"","uuid":"fc10fd1a-0adb-4584-8db4-c954fc0f5819","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"738e6964-dc18-4d25-bcd7-2ef9f0b2f93d"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_923f313b_a051_46c9_85d0_1beb4ed96b2c","uuid":"57c8c22f-c0ac-496e-89f1-767f2603d7f0"},"edge_type":"inherent","type":"","uuid":"d016e7ce-60ed-4013-bf06-90dafcbe6a17","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_f50f37d2_44a7_4159_aa44_051ad043416b","uuid":"0915acf5-a72e-44a3-87db-8d940bc58830"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_fc8c528c_c694_44e7_9f41_633cc4c5aeac","uuid":"1aebbe19-c35f-41bd-83dc-6df70e81eb9d"},"edge_type":"inherent","type":"","uuid":"a8082bc6-28ed-4127-9370-e77684e4e2b3","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_923f313b_a051_46c9_85d0_1beb4ed96b2c","uuid":"57c8c22f-c0ac-496e-89f1-767f2603d7f0"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"224de752-993c-415e-92ac-2f9a26d2489e"},"edge_type":"depends_on","type":"","uuid":"216885ac-1391-444e-849f-0717ea1aef54","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"738e6964-dc18-4d25-bcd7-2ef9f0b2f93d"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_b78e0a60_f584_4da9_a75c_ffa78d1ce130"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"fc8c528c-c694-44e7-9f41-633cc4c5aeac"},"retries":"0","description":"","type":"CREATE_DEPLOYMENT_ELEMENT","uuid":"1aebbe19-c35f-41bd-83dc-6df70e81eb9d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Provision_fc8c528c_c694_44e7_9f41_633cc4c5aeac"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"c56e12c0_deployment","uuid":"9542cb3d-f303-433f-9e85-c9a6a24e3ec8"},"retries":"0","description":"","type":"CREATE_DEPLOYMENT_ELEMENT","uuid":"38397ee9-b5a1-49d6-b365-2f8dd1577ec6","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Provision_9542cb3d_f303_433f_9e85_c9a6a24e3ec8"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureMaster","uuid":"e4ca30de-9aef-4f99-9e43-a5397e5782c0"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"ffdca575-9b57-4a20-b547-64918025515a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"c56e12c0_deployment","uuid":"9542cb3d-f303-433f-9e85-c9a6a24e3ec8"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_e4ca30de_9aef_4f99_9e43_a5397e5782c0","uuid":"e584cab2-abb4-41ae-a7d2-3259cb07d3ee"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Substrate_e4ca30de_9aef_4f99_9e43_a5397e5782c0"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureSlave","uuid":"923f313b-a051-46c9-85d0-1beb4ed96b2c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"57c8c22f-c0ac-496e-89f1-767f2603d7f0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"fc8c528c-c694-44e7-9f41-633cc4c5aeac"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_923f313b_a051_46c9_85d0_1beb4ed96b2c","uuid":"cd7f2244-129e-4740-a6b0-3fa262dcac45"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Substrate_923f313b_a051_46c9_85d0_1beb4ed96b2c"},{"target_any_local_reference":{"kind":"app_package","name":"AzureSlavePackage","uuid":"f50f37d2-44a7-4159-aa44-051ad043416b"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"0915acf5-a72e-44a3-87db-8d940bc58830","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"fc8c528c-c694-44e7-9f41-633cc4c5aeac"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_f50f37d2_44a7_4159_aa44_051ad043416b","uuid":"38d90c24-c674-4c5d-8dd1-ce770de83eee"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_f50f37d2_44a7_4159_aa44_051ad043416b"},{"target_any_local_reference":{"kind":"app_package","name":"AzureMasterPackage","uuid":"4c188fff-e85e-47fb-8da0-68cd76db155b"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"f618204d-7727-4f40-a163-7a0c530a70cb","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"c56e12c0_deployment","uuid":"9542cb3d-f303-433f-9e85-c9a6a24e3ec8"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_4c188fff_e85e_47fb_8da0_68cd76db155b","uuid":"c9c28108-1318-48a7-9ba3-5d017b0b2263"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_4c188fff_e85e_47fb_8da0_68cd76db155b"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"1e867361-37d5-44b9-9580-e8b0ddbb0031","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"c56e12c0_deployment","uuid":"9542cb3d-f303-433f-9e85-c9a6a24e3ec8"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0a970522_runbook","uuid":"f2803b23-af0b-4afd-8a2f-ef666adf85c8"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"224de752-993c-415e-92ac-2f9a26d2489e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"c56e12c0_deployment","uuid":"9542cb3d-f303-433f-9e85-c9a6a24e3ec8"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"5ddb28d1_runbook","uuid":"f88c4d73-c0ab-488b-a016-3e1453b91891"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"738e6964-dc18-4d25-bcd7-2ef9f0b2f93d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"fc8c528c-c694-44e7-9f41-633cc4c5aeac"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"d54168c9_runbook","uuid":"e509001d-6b88-4a64-813c-0ce8ea81991a"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"cf855449-2c54-4ab8-8836-708fb252a40f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"fc8c528c-c694-44e7-9f41-633cc4c5aeac"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"a027cde0_runbook","uuid":"0afbc7f3-5541-415f-9616-c459f09806b2"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400"}],"description":"","message_list":[],"uuid":"120c4b2d-f161-4da2-84e9-fe7f3a71a430","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_b78e0a60_f584_4da9_a75c_ffa78d1ce130","uuid":"95d2f8f5-89bd-4540-987c-4eb6b74ce7a2"},"name":"SYS_GEN__Runbook_Application_b78e0a60_f584_4da9_a75c_ffa78d1ce130"}},{"description":"System action for starting an application","message_list":[],"uuid":"0b2753d1-e39a-4ba0-87f1-53a62dea9fea","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"Azure","uuid":"b78e0a60-f584-4da9-a75c-ffa78d1ce130"},"retries":"0","description":"","type":"DAG","uuid":"fca91cc0-6c1e-4158-a9f4-5391e09c8c74","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_e4ca30de_9aef_4f99_9e43_a5397e5782c0","uuid":"0cf23941-16ce-4fda-95b3-27b333a2ccf4"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_923f313b_a051_46c9_85d0_1beb4ed96b2c","uuid":"a800a09e-0c13-493b-8dcf-93f57cda87ed"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"e801c95a-b293-4ec8-aac8-89494dd0e3be"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"a8fc4013-6844-4cc5-a3ea-25e7ba097947"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_e4ca30de_9aef_4f99_9e43_a5397e5782c0","uuid":"0cf23941-16ce-4fda-95b3-27b333a2ccf4"},"edge_type":"inherent","type":"","uuid":"8cce4ca9-1487-4788-bf85-a3ee6c9c154f","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"e801c95a-b293-4ec8-aac8-89494dd0e3be"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_923f313b_a051_46c9_85d0_1beb4ed96b2c","uuid":"a800a09e-0c13-493b-8dcf-93f57cda87ed"},"edge_type":"inherent","type":"","uuid":"1f252dce-9ca1-4043-8501-f1c3a5423e67","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"a8fc4013-6844-4cc5-a3ea-25e7ba097947"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"e801c95a-b293-4ec8-aac8-89494dd0e3be"},"edge_type":"depends_on","type":"","uuid":"21442f4a-bc2f-4b1b-ac4e-97364cba3807","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"a8fc4013-6844-4cc5-a3ea-25e7ba097947"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_b78e0a60_f584_4da9_a75c_ffa78d1ce130"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureMaster","uuid":"e4ca30de-9aef-4f99-9e43-a5397e5782c0"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"0cf23941-16ce-4fda-95b3-27b333a2ccf4","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"c56e12c0_deployment","uuid":"9542cb3d-f303-433f-9e85-c9a6a24e3ec8"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_e4ca30de_9aef_4f99_9e43_a5397e5782c0","uuid":"bb308f22-3744-4895-9cdc-bd6bbf792008"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Substrate_e4ca30de_9aef_4f99_9e43_a5397e5782c0"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureSlave","uuid":"923f313b-a051-46c9-85d0-1beb4ed96b2c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"a800a09e-0c13-493b-8dcf-93f57cda87ed","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"fc8c528c-c694-44e7-9f41-633cc4c5aeac"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_923f313b_a051_46c9_85d0_1beb4ed96b2c","uuid":"2ff95431-0c63-4458-8a21-f9c12aea7877"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Substrate_923f313b_a051_46c9_85d0_1beb4ed96b2c"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"e801c95a-b293-4ec8-aac8-89494dd0e3be","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"c56e12c0_deployment","uuid":"9542cb3d-f303-433f-9e85-c9a6a24e3ec8"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"5ddb28d1_runbook","uuid":"f88c4d73-c0ab-488b-a016-3e1453b91891"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"a8fc4013-6844-4cc5-a3ea-25e7ba097947","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"fc8c528c-c694-44e7-9f41-633cc4c5aeac"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"a027cde0_runbook","uuid":"0afbc7f3-5541-415f-9616-c459f09806b2"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400"}],"description":"","message_list":[],"uuid":"43205cb6-8d3d-4d18-8474-8b230f9410f4","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_b78e0a60_f584_4da9_a75c_ffa78d1ce130","uuid":"fca91cc0-6c1e-4158-a9f4-5391e09c8c74"},"name":"SYS_GEN__Runbook_Application_b78e0a60_f584_4da9_a75c_ffa78d1ce130"}},{"description":"System action for restarting an application","message_list":[],"uuid":"5ed03cff-4276-417f-ab07-76173782e7d6","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"Azure","uuid":"b78e0a60-f584-4da9-a75c-ffa78d1ce130"},"retries":"0","description":"","type":"DAG","uuid":"3bb1ea10-ce46-42cd-b902-bcaa2eaf2641","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_923f313b_a051_46c9_85d0_1beb4ed96b2c","uuid":"92c92755-02e2-400b-a142-e09e6d1977bd"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_e4ca30de_9aef_4f99_9e43_a5397e5782c0","uuid":"04b78b85-4755-49a6-92a6-eff11bdaef4c"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"e80e847e-ca89-40a7-bec3-b41f46be7727"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"58c9faf9-7cbf-4d44-a324-5c8bdf07e574"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_e4ca30de_9aef_4f99_9e43_a5397e5782c0","uuid":"04b78b85-4755-49a6-92a6-eff11bdaef4c"},"edge_type":"inherent","type":"","uuid":"c08ef533-4f9b-4060-9ac1-c4242b035459","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"e80e847e-ca89-40a7-bec3-b41f46be7727"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_923f313b_a051_46c9_85d0_1beb4ed96b2c","uuid":"92c92755-02e2-400b-a142-e09e6d1977bd"},"edge_type":"inherent","type":"","uuid":"8b5b50bb-b550-4366-a765-4e11e7c072af","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"58c9faf9-7cbf-4d44-a324-5c8bdf07e574"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"e80e847e-ca89-40a7-bec3-b41f46be7727"},"edge_type":"depends_on","type":"","uuid":"774fa517-f502-4e76-8bfd-f37e05dbede9","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"58c9faf9-7cbf-4d44-a324-5c8bdf07e574"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_b78e0a60_f584_4da9_a75c_ffa78d1ce130"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureSlave","uuid":"923f313b-a051-46c9-85d0-1beb4ed96b2c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"92c92755-02e2-400b-a142-e09e6d1977bd","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"fc8c528c-c694-44e7-9f41-633cc4c5aeac"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_923f313b_a051_46c9_85d0_1beb4ed96b2c","uuid":"770e890c-6844-4048-bc1c-405f55b616ce"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Substrate_923f313b_a051_46c9_85d0_1beb4ed96b2c"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureMaster","uuid":"e4ca30de-9aef-4f99-9e43-a5397e5782c0"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"04b78b85-4755-49a6-92a6-eff11bdaef4c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"c56e12c0_deployment","uuid":"9542cb3d-f303-433f-9e85-c9a6a24e3ec8"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_e4ca30de_9aef_4f99_9e43_a5397e5782c0","uuid":"bfc1cd38-db08-4279-80b0-a88e6d5bb3b1"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Substrate_e4ca30de_9aef_4f99_9e43_a5397e5782c0"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"e80e847e-ca89-40a7-bec3-b41f46be7727","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"c56e12c0_deployment","uuid":"9542cb3d-f303-433f-9e85-c9a6a24e3ec8"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"7e709238_runbook","uuid":"6beb8e29-06b2-4218-a1fd-18c28d8c6218"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"58c9faf9-7cbf-4d44-a324-5c8bdf07e574","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"fc8c528c-c694-44e7-9f41-633cc4c5aeac"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"f2b2a076_runbook","uuid":"b7162b3b-d4ba-4fba-875d-fc9c8c2c5b79"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400"}],"description":"","message_list":[],"uuid":"2b964947-9fda-4dba-a182-4970cb613f26","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_b78e0a60_f584_4da9_a75c_ffa78d1ce130","uuid":"3bb1ea10-ce46-42cd-b902-bcaa2eaf2641"},"name":"SYS_GEN__Runbook_Application_b78e0a60_f584_4da9_a75c_ffa78d1ce130"}},{"description":"System action for stopping an application","message_list":[],"uuid":"f41a6f23-106e-4aac-ae3d-90d3f6baf951","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"Azure","uuid":"b78e0a60-f584-4da9-a75c-ffa78d1ce130"},"retries":"0","description":"","type":"DAG","uuid":"7a835713-7731-45c9-bd82-c09f871ef2b6","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"d2343b2b-3c64-4981-a781-5161944cea79"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"a380d2e5-2188-42f2-9fd4-accae3baa580"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_923f313b_a051_46c9_85d0_1beb4ed96b2c","uuid":"c7cbb28a-4860-40df-898a-b2139ff6704b"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_e4ca30de_9aef_4f99_9e43_a5397e5782c0","uuid":"ee53ee3f-cb3e-4763-a9cb-722e7abe4b87"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"a380d2e5-2188-42f2-9fd4-accae3baa580"},"edge_type":"inherent","type":"","uuid":"bc56f337-e197-49d2-9e76-98ab59cf93be","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_e4ca30de_9aef_4f99_9e43_a5397e5782c0","uuid":"ee53ee3f-cb3e-4763-a9cb-722e7abe4b87"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"d2343b2b-3c64-4981-a781-5161944cea79"},"edge_type":"inherent","type":"","uuid":"e8e343fa-3340-4eee-9a18-680274c4f1a9","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_923f313b_a051_46c9_85d0_1beb4ed96b2c","uuid":"c7cbb28a-4860-40df-898a-b2139ff6704b"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"d2343b2b-3c64-4981-a781-5161944cea79"},"edge_type":"depends_on","type":"","uuid":"3ab81265-4808-4bce-8d27-e4cc04b4dbb8","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"a380d2e5-2188-42f2-9fd4-accae3baa580"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_b78e0a60_f584_4da9_a75c_ffa78d1ce130"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"d2343b2b-3c64-4981-a781-5161944cea79","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"fc8c528c-c694-44e7-9f41-633cc4c5aeac"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"4a2ad0be_runbook","uuid":"09b1c8a9-6223-4e38-acfb-ff4754413c85"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"a380d2e5-2188-42f2-9fd4-accae3baa580","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"c56e12c0_deployment","uuid":"9542cb3d-f303-433f-9e85-c9a6a24e3ec8"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0aefbca3_runbook","uuid":"a75d0021-cf2d-4da4-85dc-56ee0ed9e9eb"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureSlave","uuid":"923f313b-a051-46c9-85d0-1beb4ed96b2c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"c7cbb28a-4860-40df-898a-b2139ff6704b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"fc8c528c-c694-44e7-9f41-633cc4c5aeac"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_923f313b_a051_46c9_85d0_1beb4ed96b2c","uuid":"1bb8d5c4-a757-493b-ab7b-ba80c39a7903"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Substrate_923f313b_a051_46c9_85d0_1beb4ed96b2c"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureMaster","uuid":"e4ca30de-9aef-4f99-9e43-a5397e5782c0"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"ee53ee3f-cb3e-4763-a9cb-722e7abe4b87","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"c56e12c0_deployment","uuid":"9542cb3d-f303-433f-9e85-c9a6a24e3ec8"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_e4ca30de_9aef_4f99_9e43_a5397e5782c0","uuid":"cd879ac7-ba63-4d1e-877f-ba1112d147f8"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Substrate_e4ca30de_9aef_4f99_9e43_a5397e5782c0"}],"description":"","message_list":[],"uuid":"e02122ef-d7a9-456e-b819-8b59a52287a7","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_b78e0a60_f584_4da9_a75c_ffa78d1ce130","uuid":"7a835713-7731-45c9-bd82-c09f871ef2b6"},"name":"SYS_GEN__Runbook_Application_b78e0a60_f584_4da9_a75c_ffa78d1ce130"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"45310461-3dbf-4a9d-b4b8-085652975309","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"Azure","uuid":"b78e0a60-f584-4da9-a75c-ffa78d1ce130"},"retries":"0","description":"","type":"DAG","uuid":"4860ab8c-27aa-4188-aaa5-89fad5956321","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"c3cad691-4dba-40ba-996e-162dd9ae3339"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"d82fa840-d382-4c54-b607-1612e8369bbc"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_f50f37d2_44a7_4159_aa44_051ad043416b","uuid":"69a36c4c-a719-468a-b7fc-b02c5b6d06c8"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"9930e9a0-9a2c-4ed1-9e55-bcb0fdeeddec"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"db075323-ecb0-4179-ade3-0709cbd2d7bb"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_923f313b_a051_46c9_85d0_1beb4ed96b2c","uuid":"9237f6ed-bb2b-48d0-85f9-fec8857bb195"},{"kind":"app_task","name":"SYS_GEN__DE_Delete_fc8c528c_c694_44e7_9f41_633cc4c5aeac","uuid":"752f3e81-82af-422d-8194-074475db9698"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_4c188fff_e85e_47fb_8da0_68cd76db155b","uuid":"93367e90-8b5a-4d8a-8ece-7f98017a02d3"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_e4ca30de_9aef_4f99_9e43_a5397e5782c0","uuid":"ad5817c7-3e57-4aff-840a-bc7f07e3468c"},{"kind":"app_task","name":"SYS_GEN__DE_Delete_9542cb3d_f303_433f_9e85_c9a6a24e3ec8","uuid":"2c07d08c-6629-4cc4-bb57-2ce3eec6cbeb"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"9930e9a0-9a2c-4ed1-9e55-bcb0fdeeddec"},"edge_type":"inherent","type":"","uuid":"714e09b9-bd62-4221-b114-00c25ae2d2b7","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"db075323-ecb0-4179-ade3-0709cbd2d7bb"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"db075323-ecb0-4179-ade3-0709cbd2d7bb"},"edge_type":"inherent","type":"","uuid":"fbdcbe91-a4f8-48de-bf89-fe7accfcda30","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_4c188fff_e85e_47fb_8da0_68cd76db155b","uuid":"93367e90-8b5a-4d8a-8ece-7f98017a02d3"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_e4ca30de_9aef_4f99_9e43_a5397e5782c0","uuid":"ad5817c7-3e57-4aff-840a-bc7f07e3468c"},"edge_type":"inherent","type":"","uuid":"58487fc8-8913-4eef-9aa9-eba7cdd3e45b","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Delete_9542cb3d_f303_433f_9e85_c9a6a24e3ec8","uuid":"2c07d08c-6629-4cc4-bb57-2ce3eec6cbeb"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_4c188fff_e85e_47fb_8da0_68cd76db155b","uuid":"93367e90-8b5a-4d8a-8ece-7f98017a02d3"},"edge_type":"inherent","type":"","uuid":"6cfe7977-e78a-426f-8ca8-d25c5bc79a86","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_e4ca30de_9aef_4f99_9e43_a5397e5782c0","uuid":"ad5817c7-3e57-4aff-840a-bc7f07e3468c"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"c3cad691-4dba-40ba-996e-162dd9ae3339"},"edge_type":"inherent","type":"","uuid":"5fb23a78-4a5c-4195-9d15-3bae63ee0522","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"d82fa840-d382-4c54-b607-1612e8369bbc"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"d82fa840-d382-4c54-b607-1612e8369bbc"},"edge_type":"inherent","type":"","uuid":"e1d82107-8b60-4816-8da8-22d98a3d17d7","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_f50f37d2_44a7_4159_aa44_051ad043416b","uuid":"69a36c4c-a719-468a-b7fc-b02c5b6d06c8"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_923f313b_a051_46c9_85d0_1beb4ed96b2c","uuid":"9237f6ed-bb2b-48d0-85f9-fec8857bb195"},"edge_type":"inherent","type":"","uuid":"790b7580-4906-4d73-ba32-6f26778b261d","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Delete_fc8c528c_c694_44e7_9f41_633cc4c5aeac","uuid":"752f3e81-82af-422d-8194-074475db9698"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_f50f37d2_44a7_4159_aa44_051ad043416b","uuid":"69a36c4c-a719-468a-b7fc-b02c5b6d06c8"},"edge_type":"inherent","type":"","uuid":"30066e0d-89e2-415c-8fd1-ce9bd803e65d","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_923f313b_a051_46c9_85d0_1beb4ed96b2c","uuid":"9237f6ed-bb2b-48d0-85f9-fec8857bb195"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"d82fa840-d382-4c54-b607-1612e8369bbc"},"edge_type":"depends_on","type":"","uuid":"0bcea4d7-5709-4200-beb0-d7b691a1c3ee","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"9930e9a0-9a2c-4ed1-9e55-bcb0fdeeddec"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_b78e0a60_f584_4da9_a75c_ffa78d1ce130"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"c3cad691-4dba-40ba-996e-162dd9ae3339","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"fc8c528c-c694-44e7-9f41-633cc4c5aeac"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"4a2ad0be_runbook","uuid":"09b1c8a9-6223-4e38-acfb-ff4754413c85"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"d82fa840-d382-4c54-b607-1612e8369bbc","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"fc8c528c-c694-44e7-9f41-633cc4c5aeac"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"92247e35_runbook","uuid":"497a8a35-a955-4f76-8fb0-21dbd9acb6e0"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400"},{"target_any_local_reference":{"kind":"app_package","name":"AzureSlavePackage","uuid":"f50f37d2-44a7-4159-aa44-051ad043416b"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"69a36c4c-a719-468a-b7fc-b02c5b6d06c8","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"fc8c528c-c694-44e7-9f41-633cc4c5aeac"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_f50f37d2_44a7_4159_aa44_051ad043416b","uuid":"9a8fdf45-f53c-4286-ae4e-411f9be11fc2"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_f50f37d2_44a7_4159_aa44_051ad043416b"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"9930e9a0-9a2c-4ed1-9e55-bcb0fdeeddec","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"c56e12c0_deployment","uuid":"9542cb3d-f303-433f-9e85-c9a6a24e3ec8"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0aefbca3_runbook","uuid":"a75d0021-cf2d-4da4-85dc-56ee0ed9e9eb"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"db075323-ecb0-4179-ade3-0709cbd2d7bb","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"c56e12c0_deployment","uuid":"9542cb3d-f303-433f-9e85-c9a6a24e3ec8"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"5fd47ec3_runbook","uuid":"7e58dd6b-1da9-495c-97e7-84bb6e288586"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureSlave","uuid":"923f313b-a051-46c9-85d0-1beb4ed96b2c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"9237f6ed-bb2b-48d0-85f9-fec8857bb195","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"fc8c528c-c694-44e7-9f41-633cc4c5aeac"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_923f313b_a051_46c9_85d0_1beb4ed96b2c","uuid":"8656ce04-7f0f-4c9e-9cae-a2f46af9d88f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Substrate_923f313b_a051_46c9_85d0_1beb4ed96b2c"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"fc8c528c-c694-44e7-9f41-633cc4c5aeac"},"retries":"0","description":"","type":"DELETE_DEPLOYMENT_ELEMENT","uuid":"752f3e81-82af-422d-8194-074475db9698","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Delete_fc8c528c_c694_44e7_9f41_633cc4c5aeac"},{"target_any_local_reference":{"kind":"app_package","name":"AzureMasterPackage","uuid":"4c188fff-e85e-47fb-8da0-68cd76db155b"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"93367e90-8b5a-4d8a-8ece-7f98017a02d3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"c56e12c0_deployment","uuid":"9542cb3d-f303-433f-9e85-c9a6a24e3ec8"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_4c188fff_e85e_47fb_8da0_68cd76db155b","uuid":"0fff39b6-86b9-44a2-8421-c50538a784e5"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_4c188fff_e85e_47fb_8da0_68cd76db155b"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureMaster","uuid":"e4ca30de-9aef-4f99-9e43-a5397e5782c0"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"ad5817c7-3e57-4aff-840a-bc7f07e3468c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"c56e12c0_deployment","uuid":"9542cb3d-f303-433f-9e85-c9a6a24e3ec8"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_e4ca30de_9aef_4f99_9e43_a5397e5782c0","uuid":"15571c03-6f15-4783-9ea0-76df1aaef49a"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Substrate_e4ca30de_9aef_4f99_9e43_a5397e5782c0"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"c56e12c0_deployment","uuid":"9542cb3d-f303-433f-9e85-c9a6a24e3ec8"},"retries":"0","description":"","type":"DELETE_DEPLOYMENT_ELEMENT","uuid":"2c07d08c-6629-4cc4-bb57-2ce3eec6cbeb","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Delete_9542cb3d_f303_433f_9e85_c9a6a24e3ec8"}],"description":"","message_list":[],"uuid":"cb660791-d066-4e2e-8207-52561a992264","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_b78e0a60_f584_4da9_a75c_ffa78d1ce130","uuid":"4860ab8c-27aa-4188-aaa5-89fad5956321"},"name":"SYS_GEN__Runbook_Application_b78e0a60_f584_4da9_a75c_ffa78d1ce130"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"a83c4253-6800-4abe-b0cf-e385d1aa24cb","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"Azure","uuid":"b78e0a60-f584-4da9-a75c-ffa78d1ce130"},"retries":"0","description":"","type":"DAG","uuid":"c6ff297f-aef9-4419-ac59-e49fba2899bd","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"0c39d30d-4ab7-4aa6-8c05-542753cba86b"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"863580e7-7d4f-470d-930c-6e6719987ecd"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_f50f37d2_44a7_4159_aa44_051ad043416b","uuid":"4cc93ec1-4641-4223-bb01-8621c43dea0b"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_4c188fff_e85e_47fb_8da0_68cd76db155b","uuid":"d505e19b-95ae-4252-a911-a07c5e35f568"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_923f313b_a051_46c9_85d0_1beb4ed96b2c","uuid":"7c67d6a0-d649-40e5-880c-825daa88a3b4"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_e4ca30de_9aef_4f99_9e43_a5397e5782c0","uuid":"894bf471-1e00-4f8d-8cfb-176eb2c1b08a"},{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_fc8c528c_c694_44e7_9f41_633cc4c5aeac","uuid":"cef7b894-df13-4331-98d0-c78b7f5e1713"},{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_9542cb3d_f303_433f_9e85_c9a6a24e3ec8","uuid":"b93cc604-f535-488c-974f-109ffaed48d1"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"863580e7-7d4f-470d-930c-6e6719987ecd"},"edge_type":"inherent","type":"","uuid":"27844022-0432-47ed-aca1-0f8cdaa22bf9","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_4c188fff_e85e_47fb_8da0_68cd76db155b","uuid":"d505e19b-95ae-4252-a911-a07c5e35f568"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_e4ca30de_9aef_4f99_9e43_a5397e5782c0","uuid":"894bf471-1e00-4f8d-8cfb-176eb2c1b08a"},"edge_type":"inherent","type":"","uuid":"00367a74-1391-4169-b2ae-99c35982d3d5","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_9542cb3d_f303_433f_9e85_c9a6a24e3ec8","uuid":"b93cc604-f535-488c-974f-109ffaed48d1"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_4c188fff_e85e_47fb_8da0_68cd76db155b","uuid":"d505e19b-95ae-4252-a911-a07c5e35f568"},"edge_type":"inherent","type":"","uuid":"4d72fb69-5d78-4269-9328-879a1a1ea324","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_e4ca30de_9aef_4f99_9e43_a5397e5782c0","uuid":"894bf471-1e00-4f8d-8cfb-176eb2c1b08a"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"0c39d30d-4ab7-4aa6-8c05-542753cba86b"},"edge_type":"inherent","type":"","uuid":"7e389752-0120-4e78-b871-15e1775e444d","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_f50f37d2_44a7_4159_aa44_051ad043416b","uuid":"4cc93ec1-4641-4223-bb01-8621c43dea0b"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_f50f37d2_44a7_4159_aa44_051ad043416b","uuid":"4cc93ec1-4641-4223-bb01-8621c43dea0b"},"edge_type":"inherent","type":"","uuid":"68657eee-41b8-4980-941a-d1e1c71f83f1","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_923f313b_a051_46c9_85d0_1beb4ed96b2c","uuid":"7c67d6a0-d649-40e5-880c-825daa88a3b4"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_923f313b_a051_46c9_85d0_1beb4ed96b2c","uuid":"7c67d6a0-d649-40e5-880c-825daa88a3b4"},"edge_type":"inherent","type":"","uuid":"bafdb75f-5882-422f-919e-64a5d4aa5b8a","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_fc8c528c_c694_44e7_9f41_633cc4c5aeac","uuid":"cef7b894-df13-4331-98d0-c78b7f5e1713"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"0c39d30d-4ab7-4aa6-8c05-542753cba86b"},"edge_type":"depends_on","type":"","uuid":"131b34e8-78c3-472f-b8ae-564c15087324","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"863580e7-7d4f-470d-930c-6e6719987ecd"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_b78e0a60_f584_4da9_a75c_ffa78d1ce130"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"0c39d30d-4ab7-4aa6-8c05-542753cba86b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"fc8c528c-c694-44e7-9f41-633cc4c5aeac"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"6cdcc89d-fd42-4e8a-9e97-40576d559005"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"863580e7-7d4f-470d-930c-6e6719987ecd","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"c56e12c0_deployment","uuid":"9542cb3d-f303-433f-9e85-c9a6a24e3ec8"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"9b57420b-3c50-4fbe-8880-9c7651fd25ad"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd"},{"target_any_local_reference":{"kind":"app_package","name":"AzureSlavePackage","uuid":"f50f37d2-44a7-4159-aa44-051ad043416b"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"4cc93ec1-4641-4223-bb01-8621c43dea0b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_f50f37d2_44a7_4159_aa44_051ad043416b"},{"target_any_local_reference":{"kind":"app_package","name":"AzureMasterPackage","uuid":"4c188fff-e85e-47fb-8da0-68cd76db155b"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"d505e19b-95ae-4252-a911-a07c5e35f568","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_4c188fff_e85e_47fb_8da0_68cd76db155b"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureSlave","uuid":"923f313b-a051-46c9-85d0-1beb4ed96b2c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"7c67d6a0-d649-40e5-880c-825daa88a3b4","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"fc8c528c-c694-44e7-9f41-633cc4c5aeac"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_923f313b_a051_46c9_85d0_1beb4ed96b2c","uuid":"0c983dbe-108f-414c-a248-a2172d0aac6a"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Substrate_923f313b_a051_46c9_85d0_1beb4ed96b2c"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureMaster","uuid":"e4ca30de-9aef-4f99-9e43-a5397e5782c0"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"894bf471-1e00-4f8d-8cfb-176eb2c1b08a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"c56e12c0_deployment","uuid":"9542cb3d-f303-433f-9e85-c9a6a24e3ec8"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_e4ca30de_9aef_4f99_9e43_a5397e5782c0","uuid":"fb212e46-2ac7-420e-b3b3-f8652018efbe"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Substrate_e4ca30de_9aef_4f99_9e43_a5397e5782c0"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"fc8c528c-c694-44e7-9f41-633cc4c5aeac"},"retries":"0","description":"","type":"SOFT_DELETE_DEPLOYMENT_ELEMENT","uuid":"cef7b894-df13-4331-98d0-c78b7f5e1713","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Soft_Delete_fc8c528c_c694_44e7_9f41_633cc4c5aeac"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"c56e12c0_deployment","uuid":"9542cb3d-f303-433f-9e85-c9a6a24e3ec8"},"retries":"0","description":"","type":"SOFT_DELETE_DEPLOYMENT_ELEMENT","uuid":"b93cc604-f535-488c-974f-109ffaed48d1","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Soft_Delete_9542cb3d_f303_433f_9e85_c9a6a24e3ec8"}],"description":"","message_list":[],"uuid":"0dac1e4a-425f-49b8-b529-f29db82ae12d","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_b78e0a60_f584_4da9_a75c_ffa78d1ce130","uuid":"c6ff297f-aef9-4419-ac59-e49fba2899bd"},"name":"SYS_GEN__Runbook_Application_b78e0a60_f584_4da9_a75c_ffa78d1ce130"}}],"message_list":[],"uuid":"b78e0a60-f584-4da9-a75c-ffa78d1ce130","state":"ACTIVE","dependency_list":[{"getter_resource_kind":"ServiceCfg","setter_resource_attr":"MYSQL_BIN","setter_resource_kind":"ServiceCfg","setter_resource_name":"MySQL_Master","action_name":"action_create","action_resource_name":"Azure","getter_resource_name":"MySQL_Slave","action_resource_kind":"ApplicationCfg"},{"getter_resource_kind":"ServiceCfg","setter_resource_attr":"MYSQL_POSITION","setter_resource_kind":"ServiceCfg","setter_resource_name":"MySQL_Master","action_name":"action_create","action_resource_name":"Azure","getter_resource_name":"MySQL_Slave","action_resource_kind":"ApplicationCfg"},{"getter_resource_kind":"ServiceCfg","setter_resource_attr":"address","setter_resource_kind":"ServiceCfg","setter_resource_name":"MySQL_Master","action_name":"action_create","action_resource_name":"Azure","getter_resource_name":"MySQL_Slave","action_resource_kind":"ApplicationCfg"}],"variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"cbdf78aa-7786-4b35-b6d4-259133b46b6c","value":"","label":"","state":"ACTIVE","attrs":{"is_secret_modified":false,"secret_reference":{"uuid":"a04c4c9f-74bc-44f8-aea7-7965eb5d57fd"},"type":""},"editables":{"value":true},"is_hidden":false,"type":"SECRET","options":{},"name":"MYSQL_PASSWORD"}],"name":"Azure"},{"deployment_create_list":[{"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"3089cbd1-8611-470d-b2ea-c5494497a0f6","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment_cloned_0","uuid":"703234ae-ce7c-dbf2-5366-0f91d2c6d2b0"},"retries":"0","description":"","type":"DAG","uuid":"e0c338ce-b814-4782-b695-5cf93b8daa0b","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__DE_Provision_703234ae_ce7c_dbf2_5366_0f91d2c6d2b0","uuid":"1776f3e7-93ec-47f2-b9cf-b4659bae028b"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_c5df1e7b_d73b_a7c4_17ef_81c1bd0d24fa","uuid":"b209ff14-f021-43a6-a60b-4a2d95246315"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_7d3e29ba_e3d9_4356_e47d_3392002f315d","uuid":"c03a8a60-a7fa-40c9-ada1-1c7c9af3c0a0"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_ad5a77a8_44ba_36bb_9693_8c461a120643","uuid":"160985f6-98d2-49cf-b3b3-2bc10e8ecf45"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"150e9782-e7dc-45b3-914a-f965e5050cb0"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"837d6c6d-fdd0-4a0a-97f2-77180d888fa0"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"150e9782-e7dc-45b3-914a-f965e5050cb0"},"edge_type":"inherent","type":"","uuid":"c0a3cec7-43fe-4493-b688-751cfeedff94","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"837d6c6d-fdd0-4a0a-97f2-77180d888fa0"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_ad5a77a8_44ba_36bb_9693_8c461a120643","uuid":"160985f6-98d2-49cf-b3b3-2bc10e8ecf45"},"edge_type":"inherent","type":"","uuid":"e3ef4213-de84-410e-a8f4-66b222abc17d","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"150e9782-e7dc-45b3-914a-f965e5050cb0"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_703234ae_ce7c_dbf2_5366_0f91d2c6d2b0","uuid":"1776f3e7-93ec-47f2-b9cf-b4659bae028b"},"edge_type":"inherent","type":"","uuid":"0ef25ae6-baab-4e7d-a86b-380d9284b18c","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_7d3e29ba_e3d9_4356_e47d_3392002f315d","uuid":"c03a8a60-a7fa-40c9-ada1-1c7c9af3c0a0"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_7d3e29ba_e3d9_4356_e47d_3392002f315d","uuid":"c03a8a60-a7fa-40c9-ada1-1c7c9af3c0a0"},"edge_type":"inherent","type":"","uuid":"cdd32fcd-13f0-40b8-8beb-c7165c61f557","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_ad5a77a8_44ba_36bb_9693_8c461a120643","uuid":"160985f6-98d2-49cf-b3b3-2bc10e8ecf45"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_c5df1e7b_d73b_a7c4_17ef_81c1bd0d24fa","uuid":"b209ff14-f021-43a6-a60b-4a2d95246315"},"edge_type":"inherent","type":"","uuid":"e0d9a7e8-a624-4810-a1d5-9c3063f18302","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_7d3e29ba_e3d9_4356_e47d_3392002f315d","uuid":"c03a8a60-a7fa-40c9-ada1-1c7c9af3c0a0"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_703234ae_ce7c_dbf2_5366_0f91d2c6d2b0","uuid":"1776f3e7-93ec-47f2-b9cf-b4659bae028b"},"edge_type":"inherent","type":"","uuid":"73ba5bae-3b35-451b-89a2-17e3eb4813da","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_c5df1e7b_d73b_a7c4_17ef_81c1bd0d24fa","uuid":"b209ff14-f021-43a6-a60b-4a2d95246315"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_703234ae_ce7c_dbf2_5366_0f91d2c6d2b0"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment_cloned_0","uuid":"703234ae-ce7c-dbf2-5366-0f91d2c6d2b0"},"retries":"0","description":"","type":"CREATE_DEPLOYMENT_ELEMENT","uuid":"1776f3e7-93ec-47f2-b9cf-b4659bae028b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Provision_703234ae_ce7c_dbf2_5366_0f91d2c6d2b0"},{"target_any_local_reference":{"kind":"app_package","name":"ESX_CENTOS_76","uuid":"c5df1e7b-d73b-a7c4-17ef-81c1bd0d24fa"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"b209ff14-f021-43a6-a60b-4a2d95246315","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment_cloned_0","uuid":"703234ae-ce7c-dbf2-5366-0f91d2c6d2b0"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_c5df1e7b_d73b_a7c4_17ef_81c1bd0d24fa","uuid":"65ac7866-8119-44b7-87f8-b44f17ea3c2b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_c5df1e7b_d73b_a7c4_17ef_81c1bd0d24fa"},{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareMaster","uuid":"7d3e29ba-e3d9-4356-e47d-3392002f315d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"c03a8a60-a7fa-40c9-ada1-1c7c9af3c0a0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment_cloned_0","uuid":"703234ae-ce7c-dbf2-5366-0f91d2c6d2b0"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_7d3e29ba_e3d9_4356_e47d_3392002f315d","uuid":"89e33d28-9a33-4d32-b01f-ed4e1f31968f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Substrate_7d3e29ba_e3d9_4356_e47d_3392002f315d"},{"target_any_local_reference":{"kind":"app_package","name":"VMwareMasterPackage","uuid":"ad5a77a8-44ba-36bb-9693-8c461a120643"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"160985f6-98d2-49cf-b3b3-2bc10e8ecf45","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment_cloned_0","uuid":"703234ae-ce7c-dbf2-5366-0f91d2c6d2b0"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_ad5a77a8_44ba_36bb_9693_8c461a120643","uuid":"f054f901-ffb5-4fd3-bb96-69621dbfcfdc"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_ad5a77a8_44ba_36bb_9693_8c461a120643"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"150e9782-e7dc-45b3-914a-f965e5050cb0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment_cloned_0","uuid":"703234ae-ce7c-dbf2-5366-0f91d2c6d2b0"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0a970522_runbook","uuid":"f2803b23-af0b-4afd-8a2f-ef666adf85c8"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"837d6c6d-fdd0-4a0a-97f2-77180d888fa0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment_cloned_0","uuid":"703234ae-ce7c-dbf2-5366-0f91d2c6d2b0"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"5ddb28d1_runbook","uuid":"f88c4d73-c0ab-488b-a016-3e1453b91891"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd"}],"description":"","message_list":[],"uuid":"ec000c80-3ec1-4b60-b5f7-040c274346cb","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_703234ae_ce7c_dbf2_5366_0f91d2c6d2b0","uuid":"e0c338ce-b814-4782-b695-5cf93b8daa0b"},"name":"SYS_GEN__Runbook_Deployment_703234ae_ce7c_dbf2_5366_0f91d2c6d2b0"}},{"description":"System action for starting an application","message_list":[],"uuid":"9b0dfe70-85de-4809-860c-b880ba22edd6","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment_cloned_0","uuid":"703234ae-ce7c-dbf2-5366-0f91d2c6d2b0"},"retries":"0","description":"","type":"DAG","uuid":"6a0ae67b-4859-4429-9f61-34ed48199127","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_7d3e29ba_e3d9_4356_e47d_3392002f315d","uuid":"7f453125-71a6-4b0f-a937-bb39a0086988"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"da1a2630-4b84-40dc-966e-44f70e2c26d1"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_7d3e29ba_e3d9_4356_e47d_3392002f315d","uuid":"7f453125-71a6-4b0f-a937-bb39a0086988"},"edge_type":"inherent","type":"","uuid":"d626904c-c75e-418b-9b79-dcb18f4f45ef","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"da1a2630-4b84-40dc-966e-44f70e2c26d1"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_703234ae_ce7c_dbf2_5366_0f91d2c6d2b0"},{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareMaster","uuid":"7d3e29ba-e3d9-4356-e47d-3392002f315d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"7f453125-71a6-4b0f-a937-bb39a0086988","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment_cloned_0","uuid":"703234ae-ce7c-dbf2-5366-0f91d2c6d2b0"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_7d3e29ba_e3d9_4356_e47d_3392002f315d","uuid":"baf3e33c-3a0a-43cf-8924-dca301b70017"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Substrate_7d3e29ba_e3d9_4356_e47d_3392002f315d"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"da1a2630-4b84-40dc-966e-44f70e2c26d1","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment_cloned_0","uuid":"703234ae-ce7c-dbf2-5366-0f91d2c6d2b0"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"5ddb28d1_runbook","uuid":"f88c4d73-c0ab-488b-a016-3e1453b91891"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd"}],"description":"","message_list":[],"uuid":"319c240b-17ad-410b-a69f-a257d38161f4","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_703234ae_ce7c_dbf2_5366_0f91d2c6d2b0","uuid":"6a0ae67b-4859-4429-9f61-34ed48199127"},"name":"SYS_GEN__Runbook_Deployment_703234ae_ce7c_dbf2_5366_0f91d2c6d2b0"}},{"description":"System action for restarting an application","message_list":[],"uuid":"62c0796a-3a28-4f0b-95c6-27f143aae744","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment_cloned_0","uuid":"703234ae-ce7c-dbf2-5366-0f91d2c6d2b0"},"retries":"0","description":"","type":"DAG","uuid":"35cb2e23-53e2-4174-8239-621a979de356","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_7d3e29ba_e3d9_4356_e47d_3392002f315d","uuid":"a774027f-5f81-47b8-a26a-53c605470f3d"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"c802d5cc-4dbc-4428-9c76-23dca2b7ac88"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_7d3e29ba_e3d9_4356_e47d_3392002f315d","uuid":"a774027f-5f81-47b8-a26a-53c605470f3d"},"edge_type":"inherent","type":"","uuid":"cd2270d6-1822-476a-82dd-cb289657de2c","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"c802d5cc-4dbc-4428-9c76-23dca2b7ac88"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_703234ae_ce7c_dbf2_5366_0f91d2c6d2b0"},{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareMaster","uuid":"7d3e29ba-e3d9-4356-e47d-3392002f315d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"a774027f-5f81-47b8-a26a-53c605470f3d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment_cloned_0","uuid":"703234ae-ce7c-dbf2-5366-0f91d2c6d2b0"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_7d3e29ba_e3d9_4356_e47d_3392002f315d","uuid":"919b4425-2bd7-4a94-b164-6072a051dc98"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Substrate_7d3e29ba_e3d9_4356_e47d_3392002f315d"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"c802d5cc-4dbc-4428-9c76-23dca2b7ac88","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment_cloned_0","uuid":"703234ae-ce7c-dbf2-5366-0f91d2c6d2b0"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"7e709238_runbook","uuid":"6beb8e29-06b2-4218-a1fd-18c28d8c6218"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd"}],"description":"","message_list":[],"uuid":"87314543-a711-40c4-974b-32d3e1c411b4","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_703234ae_ce7c_dbf2_5366_0f91d2c6d2b0","uuid":"35cb2e23-53e2-4174-8239-621a979de356"},"name":"SYS_GEN__Runbook_Deployment_703234ae_ce7c_dbf2_5366_0f91d2c6d2b0"}},{"description":"System action for stopping an application","message_list":[],"uuid":"da98c393-3135-4226-aada-a6b7da082d13","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment_cloned_0","uuid":"703234ae-ce7c-dbf2-5366-0f91d2c6d2b0"},"retries":"0","description":"","type":"DAG","uuid":"b1c88bed-03bd-4720-a934-4b0cf61588ef","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"e34e9662-9844-4a41-9d89-0ea28959fc03"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_7d3e29ba_e3d9_4356_e47d_3392002f315d","uuid":"080a4399-6418-4969-9acb-8a6ff485663f"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"e34e9662-9844-4a41-9d89-0ea28959fc03"},"edge_type":"inherent","type":"","uuid":"1d47f185-0e01-4528-bfa5-c6a67d14902c","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_7d3e29ba_e3d9_4356_e47d_3392002f315d","uuid":"080a4399-6418-4969-9acb-8a6ff485663f"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_703234ae_ce7c_dbf2_5366_0f91d2c6d2b0"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"e34e9662-9844-4a41-9d89-0ea28959fc03","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment_cloned_0","uuid":"703234ae-ce7c-dbf2-5366-0f91d2c6d2b0"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0aefbca3_runbook","uuid":"a75d0021-cf2d-4da4-85dc-56ee0ed9e9eb"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd"},{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareMaster","uuid":"7d3e29ba-e3d9-4356-e47d-3392002f315d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"080a4399-6418-4969-9acb-8a6ff485663f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment_cloned_0","uuid":"703234ae-ce7c-dbf2-5366-0f91d2c6d2b0"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_7d3e29ba_e3d9_4356_e47d_3392002f315d","uuid":"7946b93b-b47a-4c89-9c50-adf13243b1ac"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Substrate_7d3e29ba_e3d9_4356_e47d_3392002f315d"}],"description":"","message_list":[],"uuid":"0453ac3a-51ec-4387-befd-df4073e4836b","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_703234ae_ce7c_dbf2_5366_0f91d2c6d2b0","uuid":"b1c88bed-03bd-4720-a934-4b0cf61588ef"},"name":"SYS_GEN__Runbook_Deployment_703234ae_ce7c_dbf2_5366_0f91d2c6d2b0"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"611347ab-062e-4799-aa1e-8aedbea62fff","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment_cloned_0","uuid":"703234ae-ce7c-dbf2-5366-0f91d2c6d2b0"},"retries":"0","description":"","type":"DAG","uuid":"940f233c-1862-4786-a8c1-a56e420be02c","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"55fd1d02-afab-4384-b5a0-0711ba7a6637"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"497a9546-db90-4b41-8aa4-df7f356712c5"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_ad5a77a8_44ba_36bb_9693_8c461a120643","uuid":"a3910490-4b45-4c16-941a-5fdc32c5fa97"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_7d3e29ba_e3d9_4356_e47d_3392002f315d","uuid":"e10aa59c-a9e5-44e7-97da-7589895d7381"},{"kind":"app_task","name":"SYS_GEN__DE_Delete_703234ae_ce7c_dbf2_5366_0f91d2c6d2b0","uuid":"88e385c8-2e31-41f4-98b8-f10eb327ca5b"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"55fd1d02-afab-4384-b5a0-0711ba7a6637"},"edge_type":"inherent","type":"","uuid":"2c17a0b2-8c37-4fb4-b630-c66012f1bded","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"497a9546-db90-4b41-8aa4-df7f356712c5"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"497a9546-db90-4b41-8aa4-df7f356712c5"},"edge_type":"inherent","type":"","uuid":"993ed924-b339-4ecc-8c47-8ea15832e838","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_ad5a77a8_44ba_36bb_9693_8c461a120643","uuid":"a3910490-4b45-4c16-941a-5fdc32c5fa97"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_7d3e29ba_e3d9_4356_e47d_3392002f315d","uuid":"e10aa59c-a9e5-44e7-97da-7589895d7381"},"edge_type":"inherent","type":"","uuid":"da11f651-cb46-4fb1-87ce-27f514b27886","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Delete_703234ae_ce7c_dbf2_5366_0f91d2c6d2b0","uuid":"88e385c8-2e31-41f4-98b8-f10eb327ca5b"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_ad5a77a8_44ba_36bb_9693_8c461a120643","uuid":"a3910490-4b45-4c16-941a-5fdc32c5fa97"},"edge_type":"inherent","type":"","uuid":"2aee06da-cc40-4dd7-b61e-4a450cf0053b","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_7d3e29ba_e3d9_4356_e47d_3392002f315d","uuid":"e10aa59c-a9e5-44e7-97da-7589895d7381"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_703234ae_ce7c_dbf2_5366_0f91d2c6d2b0"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"55fd1d02-afab-4384-b5a0-0711ba7a6637","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment_cloned_0","uuid":"703234ae-ce7c-dbf2-5366-0f91d2c6d2b0"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0aefbca3_runbook","uuid":"a75d0021-cf2d-4da4-85dc-56ee0ed9e9eb"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"497a9546-db90-4b41-8aa4-df7f356712c5","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment_cloned_0","uuid":"703234ae-ce7c-dbf2-5366-0f91d2c6d2b0"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"5fd47ec3_runbook","uuid":"7e58dd6b-1da9-495c-97e7-84bb6e288586"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd"},{"target_any_local_reference":{"kind":"app_package","name":"VMwareMasterPackage","uuid":"ad5a77a8-44ba-36bb-9693-8c461a120643"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"a3910490-4b45-4c16-941a-5fdc32c5fa97","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment_cloned_0","uuid":"703234ae-ce7c-dbf2-5366-0f91d2c6d2b0"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_ad5a77a8_44ba_36bb_9693_8c461a120643","uuid":"d786637b-4efd-47fe-a363-68565ca0ea71"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_ad5a77a8_44ba_36bb_9693_8c461a120643"},{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareMaster","uuid":"7d3e29ba-e3d9-4356-e47d-3392002f315d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"e10aa59c-a9e5-44e7-97da-7589895d7381","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment_cloned_0","uuid":"703234ae-ce7c-dbf2-5366-0f91d2c6d2b0"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_7d3e29ba_e3d9_4356_e47d_3392002f315d","uuid":"6483b6de-9688-453b-bb32-11980f622774"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Substrate_7d3e29ba_e3d9_4356_e47d_3392002f315d"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment_cloned_0","uuid":"703234ae-ce7c-dbf2-5366-0f91d2c6d2b0"},"retries":"0","description":"","type":"DELETE_DEPLOYMENT_ELEMENT","uuid":"88e385c8-2e31-41f4-98b8-f10eb327ca5b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Delete_703234ae_ce7c_dbf2_5366_0f91d2c6d2b0"}],"description":"","message_list":[],"uuid":"22ba49df-c948-40bd-add4-099822e1dfe0","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_703234ae_ce7c_dbf2_5366_0f91d2c6d2b0","uuid":"940f233c-1862-4786-a8c1-a56e420be02c"},"name":"SYS_GEN__Runbook_Deployment_703234ae_ce7c_dbf2_5366_0f91d2c6d2b0"}},{"description":"System action for scaleout","message_list":[],"uuid":"d85bf451-4469-45a6-88be-243985fcbfda","name":"action_scaleout","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment_cloned_0","uuid":"703234ae-ce7c-dbf2-5366-0f91d2c6d2b0"},"retries":"0","description":"","type":"DAG","uuid":"0cbb5281-3c6a-431b-8cf7-2ba6be0c283f","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Deployment_Scaleout_703234ae_ce7c_dbf2_5366_0f91d2c6d2b0","uuid":"5de47119-e62a-4013-b560-1743de77948e"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_703234ae_ce7c_dbf2_5366_0f91d2c6d2b0"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment_cloned_0","uuid":"703234ae-ce7c-dbf2-5366-0f91d2c6d2b0"},"retries":"0","description":"","type":"SCALING","uuid":"5de47119-e62a-4013-b560-1743de77948e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{scaling_count}@@","type":"","scaling_type":"SCALEOUT"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Deployment_Scaleout_703234ae_ce7c_dbf2_5366_0f91d2c6d2b0"}],"description":"","message_list":[],"uuid":"53978650-b2a8-4fbf-be35-d4676e871af5","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"55e90880-6c71-406d-85d9-16c9d8263ddb","value":"0","label":"","state":"NOT_VALIDATED","attrs":{},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"scaling_count"}],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_703234ae_ce7c_dbf2_5366_0f91d2c6d2b0","uuid":"0cbb5281-3c6a-431b-8cf7-2ba6be0c283f"},"name":"SYS_GEN__Runbook_Deployment_703234ae_ce7c_dbf2_5366_0f91d2c6d2b0"}},{"description":"System action for scalein","message_list":[],"uuid":"7dd1188f-97b5-4fbb-90f2-07da11fbadd3","name":"action_scalein","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment_cloned_0","uuid":"703234ae-ce7c-dbf2-5366-0f91d2c6d2b0"},"retries":"0","description":"","type":"DAG","uuid":"51787aa2-0ad5-437b-b5e8-994dbe61fc50","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Deployment_Scalein_703234ae_ce7c_dbf2_5366_0f91d2c6d2b0","uuid":"60401c0c-5bf3-4492-bd0c-06727aa6af23"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_703234ae_ce7c_dbf2_5366_0f91d2c6d2b0"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment_cloned_0","uuid":"703234ae-ce7c-dbf2-5366-0f91d2c6d2b0"},"retries":"0","description":"","type":"SCALING","uuid":"60401c0c-5bf3-4492-bd0c-06727aa6af23","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{scaling_count}@@","type":"","scaling_type":"SCALEIN"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Deployment_Scalein_703234ae_ce7c_dbf2_5366_0f91d2c6d2b0"}],"description":"","message_list":[],"uuid":"bc2bc122-9978-4fce-9656-5c367c745198","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"1e28dfb8-439e-4856-9004-d83dbfbbf07d","value":"0","label":"","state":"NOT_VALIDATED","attrs":{},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"scaling_count"}],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_703234ae_ce7c_dbf2_5366_0f91d2c6d2b0","uuid":"51787aa2-0ad5-437b-b5e8-994dbe61fc50"},"name":"SYS_GEN__Runbook_Deployment_703234ae_ce7c_dbf2_5366_0f91d2c6d2b0"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"a0b90fbc-1f8c-4269-b20b-7acf3d6ce1ea","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment_cloned_0","uuid":"703234ae-ce7c-dbf2-5366-0f91d2c6d2b0"},"retries":"0","description":"","type":"DAG","uuid":"1d0a0e78-93e4-4565-a0cf-98851e0514ff","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"31655792-cf66-442a-88e9-77bfc11dd6e9"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_ad5a77a8_44ba_36bb_9693_8c461a120643","uuid":"7bc7ec0d-8468-42ec-aae1-06d23fd1849b"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_7d3e29ba_e3d9_4356_e47d_3392002f315d","uuid":"e6dfd152-bcac-497e-aee5-a595cdea1ce0"},{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_703234ae_ce7c_dbf2_5366_0f91d2c6d2b0","uuid":"97ef4964-10e5-449f-b5f2-e249248cad4d"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"31655792-cf66-442a-88e9-77bfc11dd6e9"},"edge_type":"inherent","type":"","uuid":"ebfeefa0-8f85-4eff-a485-5231dfb619ff","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_ad5a77a8_44ba_36bb_9693_8c461a120643","uuid":"7bc7ec0d-8468-42ec-aae1-06d23fd1849b"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_ad5a77a8_44ba_36bb_9693_8c461a120643","uuid":"7bc7ec0d-8468-42ec-aae1-06d23fd1849b"},"edge_type":"inherent","type":"","uuid":"77839a7a-a6c4-4557-8e81-81ad344932ad","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_7d3e29ba_e3d9_4356_e47d_3392002f315d","uuid":"e6dfd152-bcac-497e-aee5-a595cdea1ce0"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_7d3e29ba_e3d9_4356_e47d_3392002f315d","uuid":"e6dfd152-bcac-497e-aee5-a595cdea1ce0"},"edge_type":"inherent","type":"","uuid":"6ad72aeb-aa36-4f9a-9b5c-54ddba77f30e","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_703234ae_ce7c_dbf2_5366_0f91d2c6d2b0","uuid":"97ef4964-10e5-449f-b5f2-e249248cad4d"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_703234ae_ce7c_dbf2_5366_0f91d2c6d2b0"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"31655792-cf66-442a-88e9-77bfc11dd6e9","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment_cloned_0","uuid":"703234ae-ce7c-dbf2-5366-0f91d2c6d2b0"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"9b57420b-3c50-4fbe-8880-9c7651fd25ad"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd"},{"target_any_local_reference":{"kind":"app_package","name":"VMwareMasterPackage","uuid":"ad5a77a8-44ba-36bb-9693-8c461a120643"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"7bc7ec0d-8468-42ec-aae1-06d23fd1849b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_ad5a77a8_44ba_36bb_9693_8c461a120643"},{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareMaster","uuid":"7d3e29ba-e3d9-4356-e47d-3392002f315d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"e6dfd152-bcac-497e-aee5-a595cdea1ce0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment_cloned_0","uuid":"703234ae-ce7c-dbf2-5366-0f91d2c6d2b0"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_7d3e29ba_e3d9_4356_e47d_3392002f315d","uuid":"e7adf35c-26f9-401a-8ae8-8da5719a0c84"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Substrate_7d3e29ba_e3d9_4356_e47d_3392002f315d"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment_cloned_0","uuid":"703234ae-ce7c-dbf2-5366-0f91d2c6d2b0"},"retries":"0","description":"","type":"SOFT_DELETE_DEPLOYMENT_ELEMENT","uuid":"97ef4964-10e5-449f-b5f2-e249248cad4d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Soft_Delete_703234ae_ce7c_dbf2_5366_0f91d2c6d2b0"}],"description":"","message_list":[],"uuid":"70b2362d-a0b9-4278-a752-fbe1bc64d1c4","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_703234ae_ce7c_dbf2_5366_0f91d2c6d2b0","uuid":"1d0a0e78-93e4-4565-a0cf-98851e0514ff"},"name":"SYS_GEN__Runbook_Deployment_703234ae_ce7c_dbf2_5366_0f91d2c6d2b0"}}],"message_list":[],"published_service_local_reference_list":[],"uuid":"703234ae-ce7c-dbf2-5366-0f91d2c6d2b0","min_replicas":"1","state":"ACTIVE","max_replicas":"1","depends_on_list":[],"editables":{},"package_local_reference_list":[{"kind":"app_package","name":"VMwareMasterPackage","uuid":"ad5a77a8-44ba-36bb-9693-8c461a120643"}],"substrate_local_reference":{"kind":"app_substrate","name":"VMwareMaster","uuid":"7d3e29ba-e3d9-4356-e47d-3392002f315d"},"type":"GREENFIELD","options":{},"variable_list":[],"name":"9098b02b_deployment_cloned_0"},{"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"a6625f46-74f2-40d9-b143-5e5b8a86c817","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment_cloned_0","uuid":"cecc902c-3e9d-6b4c-ac3f-d1943301f962"},"retries":"0","description":"","type":"DAG","uuid":"9ba9432b-f19f-439c-be08-ee7a931cb02d","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__DE_Provision_cecc902c_3e9d_6b4c_ac3f_d1943301f962","uuid":"e7ab6d3c-156d-4833-9848-66ded7cd1906"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_c5df1e7b_d73b_a7c4_17ef_81c1bd0d24fa","uuid":"ed9ec7a4-e4a6-48ab-84c4-7502239b3c43"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_4cb413a9_76dd_0ba2_fa36_64463ec9029a","uuid":"ff8f410a-95e0-4354-be35-b278e1a8afdd"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_9b8bdfab_7dac_86a0_15bd_235d3eebd8f7","uuid":"482f5ed2-4a21-419e-80ff-4c5961166db6"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"d5a9a8e8-67db-43ff-a263-cc6cf7a634f6"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"8941ddb2-de5c-49dc-a3eb-2944d40cb197"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"d5a9a8e8-67db-43ff-a263-cc6cf7a634f6"},"edge_type":"inherent","type":"","uuid":"9e1e8f90-114e-4c4b-aab0-e0b874bbfc86","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"8941ddb2-de5c-49dc-a3eb-2944d40cb197"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_9b8bdfab_7dac_86a0_15bd_235d3eebd8f7","uuid":"482f5ed2-4a21-419e-80ff-4c5961166db6"},"edge_type":"inherent","type":"","uuid":"5f5c5c62-a77b-404f-9f92-91fc7e45bf03","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"d5a9a8e8-67db-43ff-a263-cc6cf7a634f6"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_cecc902c_3e9d_6b4c_ac3f_d1943301f962","uuid":"e7ab6d3c-156d-4833-9848-66ded7cd1906"},"edge_type":"inherent","type":"","uuid":"d56d27a7-3b96-47d7-b167-92713451da86","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_4cb413a9_76dd_0ba2_fa36_64463ec9029a","uuid":"ff8f410a-95e0-4354-be35-b278e1a8afdd"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_4cb413a9_76dd_0ba2_fa36_64463ec9029a","uuid":"ff8f410a-95e0-4354-be35-b278e1a8afdd"},"edge_type":"inherent","type":"","uuid":"d2763df1-bd6a-4faf-8be8-209bf5aa327b","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_9b8bdfab_7dac_86a0_15bd_235d3eebd8f7","uuid":"482f5ed2-4a21-419e-80ff-4c5961166db6"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_cecc902c_3e9d_6b4c_ac3f_d1943301f962","uuid":"e7ab6d3c-156d-4833-9848-66ded7cd1906"},"edge_type":"inherent","type":"","uuid":"2ce1a99e-2694-4f56-bbdb-baeceb88f333","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_c5df1e7b_d73b_a7c4_17ef_81c1bd0d24fa","uuid":"ed9ec7a4-e4a6-48ab-84c4-7502239b3c43"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_c5df1e7b_d73b_a7c4_17ef_81c1bd0d24fa","uuid":"ed9ec7a4-e4a6-48ab-84c4-7502239b3c43"},"edge_type":"inherent","type":"","uuid":"c399297a-f425-4b6b-ba53-7ed666cdd8ea","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_4cb413a9_76dd_0ba2_fa36_64463ec9029a","uuid":"ff8f410a-95e0-4354-be35-b278e1a8afdd"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_cecc902c_3e9d_6b4c_ac3f_d1943301f962"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment_cloned_0","uuid":"cecc902c-3e9d-6b4c-ac3f-d1943301f962"},"retries":"0","description":"","type":"CREATE_DEPLOYMENT_ELEMENT","uuid":"e7ab6d3c-156d-4833-9848-66ded7cd1906","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Provision_cecc902c_3e9d_6b4c_ac3f_d1943301f962"},{"target_any_local_reference":{"kind":"app_package","name":"ESX_CENTOS_76","uuid":"c5df1e7b-d73b-a7c4-17ef-81c1bd0d24fa"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"ed9ec7a4-e4a6-48ab-84c4-7502239b3c43","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment_cloned_0","uuid":"cecc902c-3e9d-6b4c-ac3f-d1943301f962"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_c5df1e7b_d73b_a7c4_17ef_81c1bd0d24fa","uuid":"65ac7866-8119-44b7-87f8-b44f17ea3c2b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_c5df1e7b_d73b_a7c4_17ef_81c1bd0d24fa"},{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareSlave","uuid":"4cb413a9-76dd-0ba2-fa36-64463ec9029a"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"ff8f410a-95e0-4354-be35-b278e1a8afdd","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment_cloned_0","uuid":"cecc902c-3e9d-6b4c-ac3f-d1943301f962"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_4cb413a9_76dd_0ba2_fa36_64463ec9029a","uuid":"8aabf43c-5132-4156-8f1f-4faec4b7f29a"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Substrate_4cb413a9_76dd_0ba2_fa36_64463ec9029a"},{"target_any_local_reference":{"kind":"app_package","name":"VMwareSlavePackage","uuid":"9b8bdfab-7dac-86a0-15bd-235d3eebd8f7"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"482f5ed2-4a21-419e-80ff-4c5961166db6","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment_cloned_0","uuid":"cecc902c-3e9d-6b4c-ac3f-d1943301f962"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_9b8bdfab_7dac_86a0_15bd_235d3eebd8f7","uuid":"950fe5fa-8592-4609-9327-c9089feb166a"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_9b8bdfab_7dac_86a0_15bd_235d3eebd8f7"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"d5a9a8e8-67db-43ff-a263-cc6cf7a634f6","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment_cloned_0","uuid":"cecc902c-3e9d-6b4c-ac3f-d1943301f962"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"d54168c9_runbook","uuid":"e509001d-6b88-4a64-813c-0ce8ea81991a"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"8941ddb2-de5c-49dc-a3eb-2944d40cb197","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment_cloned_0","uuid":"cecc902c-3e9d-6b4c-ac3f-d1943301f962"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"a027cde0_runbook","uuid":"0afbc7f3-5541-415f-9616-c459f09806b2"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400"}],"description":"","message_list":[],"uuid":"6eb1cc63-80c1-4ee6-9ca0-95fe788e7de6","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_cecc902c_3e9d_6b4c_ac3f_d1943301f962","uuid":"9ba9432b-f19f-439c-be08-ee7a931cb02d"},"name":"SYS_GEN__Runbook_Deployment_cecc902c_3e9d_6b4c_ac3f_d1943301f962"}},{"description":"System action for starting an application","message_list":[],"uuid":"17d4e5f2-5cc4-4637-a02b-e94b49d60cb4","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment_cloned_0","uuid":"cecc902c-3e9d-6b4c-ac3f-d1943301f962"},"retries":"0","description":"","type":"DAG","uuid":"3a6a28d9-a388-4905-9103-90761428542f","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_4cb413a9_76dd_0ba2_fa36_64463ec9029a","uuid":"161881cf-f4b0-4921-af6f-7e57a28f1400"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"8ef3c7c6-05d3-4719-bf0f-6e2e200779c1"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_4cb413a9_76dd_0ba2_fa36_64463ec9029a","uuid":"161881cf-f4b0-4921-af6f-7e57a28f1400"},"edge_type":"inherent","type":"","uuid":"29f1cfe3-a27e-4484-976c-dde2580381f9","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"8ef3c7c6-05d3-4719-bf0f-6e2e200779c1"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_cecc902c_3e9d_6b4c_ac3f_d1943301f962"},{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareSlave","uuid":"4cb413a9-76dd-0ba2-fa36-64463ec9029a"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"161881cf-f4b0-4921-af6f-7e57a28f1400","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment_cloned_0","uuid":"cecc902c-3e9d-6b4c-ac3f-d1943301f962"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_4cb413a9_76dd_0ba2_fa36_64463ec9029a","uuid":"3b4c2163-a57e-4c57-a2ff-d2a8c48468e9"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Substrate_4cb413a9_76dd_0ba2_fa36_64463ec9029a"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"8ef3c7c6-05d3-4719-bf0f-6e2e200779c1","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment_cloned_0","uuid":"cecc902c-3e9d-6b4c-ac3f-d1943301f962"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"a027cde0_runbook","uuid":"0afbc7f3-5541-415f-9616-c459f09806b2"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400"}],"description":"","message_list":[],"uuid":"738e391b-d2d5-49eb-bcb5-c592ed76e469","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_cecc902c_3e9d_6b4c_ac3f_d1943301f962","uuid":"3a6a28d9-a388-4905-9103-90761428542f"},"name":"SYS_GEN__Runbook_Deployment_cecc902c_3e9d_6b4c_ac3f_d1943301f962"}},{"description":"System action for restarting an application","message_list":[],"uuid":"4f7c9833-4458-49cf-a89e-09f13eb95a2a","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment_cloned_0","uuid":"cecc902c-3e9d-6b4c-ac3f-d1943301f962"},"retries":"0","description":"","type":"DAG","uuid":"9bf72ae3-232f-451b-8fa8-d73f6f058503","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_4cb413a9_76dd_0ba2_fa36_64463ec9029a","uuid":"ae97f909-4ca0-4672-8a2a-cf0c8599df55"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"6f5a973c-73c9-4e23-92df-356e9728e0af"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_4cb413a9_76dd_0ba2_fa36_64463ec9029a","uuid":"ae97f909-4ca0-4672-8a2a-cf0c8599df55"},"edge_type":"inherent","type":"","uuid":"e44e11ce-66a8-46f3-9889-04bc825a450b","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"6f5a973c-73c9-4e23-92df-356e9728e0af"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_cecc902c_3e9d_6b4c_ac3f_d1943301f962"},{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareSlave","uuid":"4cb413a9-76dd-0ba2-fa36-64463ec9029a"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"ae97f909-4ca0-4672-8a2a-cf0c8599df55","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment_cloned_0","uuid":"cecc902c-3e9d-6b4c-ac3f-d1943301f962"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_4cb413a9_76dd_0ba2_fa36_64463ec9029a","uuid":"e3ceb0c8-27a8-492a-bcd4-8c4446756200"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Substrate_4cb413a9_76dd_0ba2_fa36_64463ec9029a"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"6f5a973c-73c9-4e23-92df-356e9728e0af","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment_cloned_0","uuid":"cecc902c-3e9d-6b4c-ac3f-d1943301f962"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"f2b2a076_runbook","uuid":"b7162b3b-d4ba-4fba-875d-fc9c8c2c5b79"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400"}],"description":"","message_list":[],"uuid":"256ec78a-0d1d-465f-b7d9-822b0a75dbe1","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_cecc902c_3e9d_6b4c_ac3f_d1943301f962","uuid":"9bf72ae3-232f-451b-8fa8-d73f6f058503"},"name":"SYS_GEN__Runbook_Deployment_cecc902c_3e9d_6b4c_ac3f_d1943301f962"}},{"description":"System action for stopping an application","message_list":[],"uuid":"acb7fc81-c07c-4dc2-9ea3-33f9ee1802f4","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment_cloned_0","uuid":"cecc902c-3e9d-6b4c-ac3f-d1943301f962"},"retries":"0","description":"","type":"DAG","uuid":"948d6311-276f-4cde-a687-c5b579bc0ad9","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"df247a54-89e0-4cf0-ac0c-803bdcac2fef"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_4cb413a9_76dd_0ba2_fa36_64463ec9029a","uuid":"657b420d-c679-4347-8c14-8806ee7d26bb"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"df247a54-89e0-4cf0-ac0c-803bdcac2fef"},"edge_type":"inherent","type":"","uuid":"0242d2aa-b222-401f-b56f-12c29c823ade","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_4cb413a9_76dd_0ba2_fa36_64463ec9029a","uuid":"657b420d-c679-4347-8c14-8806ee7d26bb"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_cecc902c_3e9d_6b4c_ac3f_d1943301f962"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"df247a54-89e0-4cf0-ac0c-803bdcac2fef","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment_cloned_0","uuid":"cecc902c-3e9d-6b4c-ac3f-d1943301f962"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"4a2ad0be_runbook","uuid":"09b1c8a9-6223-4e38-acfb-ff4754413c85"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400"},{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareSlave","uuid":"4cb413a9-76dd-0ba2-fa36-64463ec9029a"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"657b420d-c679-4347-8c14-8806ee7d26bb","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment_cloned_0","uuid":"cecc902c-3e9d-6b4c-ac3f-d1943301f962"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_4cb413a9_76dd_0ba2_fa36_64463ec9029a","uuid":"23f88025-0b57-47b0-a8c5-d3e518e84843"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Substrate_4cb413a9_76dd_0ba2_fa36_64463ec9029a"}],"description":"","message_list":[],"uuid":"cf4c5c31-185c-41ea-8bed-a073f964e333","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_cecc902c_3e9d_6b4c_ac3f_d1943301f962","uuid":"948d6311-276f-4cde-a687-c5b579bc0ad9"},"name":"SYS_GEN__Runbook_Deployment_cecc902c_3e9d_6b4c_ac3f_d1943301f962"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"94286256-2cd7-42c3-a3b6-544078497552","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment_cloned_0","uuid":"cecc902c-3e9d-6b4c-ac3f-d1943301f962"},"retries":"0","description":"","type":"DAG","uuid":"c2e6da0e-b74c-4a9a-8238-598bb6515a82","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"6dc08d0f-552a-4a38-a682-4ba32516c4e3"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"08312c92-670e-4b2e-8bc2-72ade10acdfd"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_9b8bdfab_7dac_86a0_15bd_235d3eebd8f7","uuid":"5a2d5f35-c9ef-493c-bcb3-59513798d967"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_4cb413a9_76dd_0ba2_fa36_64463ec9029a","uuid":"4a143361-80d7-4d6c-8dbc-ba3e83e4d2e3"},{"kind":"app_task","name":"SYS_GEN__DE_Delete_cecc902c_3e9d_6b4c_ac3f_d1943301f962","uuid":"82173c2d-1bf0-4bec-9c3d-d317ca515ad0"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"6dc08d0f-552a-4a38-a682-4ba32516c4e3"},"edge_type":"inherent","type":"","uuid":"d3fc740b-2a1f-485d-987c-52c74132e39d","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"08312c92-670e-4b2e-8bc2-72ade10acdfd"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"08312c92-670e-4b2e-8bc2-72ade10acdfd"},"edge_type":"inherent","type":"","uuid":"790c49e0-cb02-40ab-b9af-721696d6a754","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_9b8bdfab_7dac_86a0_15bd_235d3eebd8f7","uuid":"5a2d5f35-c9ef-493c-bcb3-59513798d967"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_9b8bdfab_7dac_86a0_15bd_235d3eebd8f7","uuid":"5a2d5f35-c9ef-493c-bcb3-59513798d967"},"edge_type":"inherent","type":"","uuid":"d89505b4-6270-4b78-96fe-13da5c2886f5","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_4cb413a9_76dd_0ba2_fa36_64463ec9029a","uuid":"4a143361-80d7-4d6c-8dbc-ba3e83e4d2e3"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_4cb413a9_76dd_0ba2_fa36_64463ec9029a","uuid":"4a143361-80d7-4d6c-8dbc-ba3e83e4d2e3"},"edge_type":"inherent","type":"","uuid":"f1c84780-d2eb-425a-abe7-66a48ad1d8ba","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Delete_cecc902c_3e9d_6b4c_ac3f_d1943301f962","uuid":"82173c2d-1bf0-4bec-9c3d-d317ca515ad0"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_cecc902c_3e9d_6b4c_ac3f_d1943301f962"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"6dc08d0f-552a-4a38-a682-4ba32516c4e3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment_cloned_0","uuid":"cecc902c-3e9d-6b4c-ac3f-d1943301f962"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"4a2ad0be_runbook","uuid":"09b1c8a9-6223-4e38-acfb-ff4754413c85"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"08312c92-670e-4b2e-8bc2-72ade10acdfd","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment_cloned_0","uuid":"cecc902c-3e9d-6b4c-ac3f-d1943301f962"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"92247e35_runbook","uuid":"497a8a35-a955-4f76-8fb0-21dbd9acb6e0"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400"},{"target_any_local_reference":{"kind":"app_package","name":"VMwareSlavePackage","uuid":"9b8bdfab-7dac-86a0-15bd-235d3eebd8f7"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"5a2d5f35-c9ef-493c-bcb3-59513798d967","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment_cloned_0","uuid":"cecc902c-3e9d-6b4c-ac3f-d1943301f962"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_9b8bdfab_7dac_86a0_15bd_235d3eebd8f7","uuid":"916dbec1-ed5d-41a1-8a0e-67286b011c98"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_9b8bdfab_7dac_86a0_15bd_235d3eebd8f7"},{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareSlave","uuid":"4cb413a9-76dd-0ba2-fa36-64463ec9029a"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"4a143361-80d7-4d6c-8dbc-ba3e83e4d2e3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment_cloned_0","uuid":"cecc902c-3e9d-6b4c-ac3f-d1943301f962"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_4cb413a9_76dd_0ba2_fa36_64463ec9029a","uuid":"ad92f8f0-3364-4910-9434-b761a2c4eb93"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Substrate_4cb413a9_76dd_0ba2_fa36_64463ec9029a"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment_cloned_0","uuid":"cecc902c-3e9d-6b4c-ac3f-d1943301f962"},"retries":"0","description":"","type":"DELETE_DEPLOYMENT_ELEMENT","uuid":"82173c2d-1bf0-4bec-9c3d-d317ca515ad0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Delete_cecc902c_3e9d_6b4c_ac3f_d1943301f962"}],"description":"","message_list":[],"uuid":"5df7f662-c971-46ad-9d66-9e421dffa4ad","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_cecc902c_3e9d_6b4c_ac3f_d1943301f962","uuid":"c2e6da0e-b74c-4a9a-8238-598bb6515a82"},"name":"SYS_GEN__Runbook_Deployment_cecc902c_3e9d_6b4c_ac3f_d1943301f962"}},{"description":"System action for scaleout","message_list":[],"uuid":"fbb9c195-729f-4392-a7fd-495ffca60cf8","name":"action_scaleout","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment_cloned_0","uuid":"cecc902c-3e9d-6b4c-ac3f-d1943301f962"},"retries":"0","description":"","type":"DAG","uuid":"5ced10e9-8f9d-4a10-a2b8-0b09ee3ebfa9","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Deployment_Scaleout_cecc902c_3e9d_6b4c_ac3f_d1943301f962","uuid":"ee2ced40-497a-4af4-b671-223ff81d7491"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_cecc902c_3e9d_6b4c_ac3f_d1943301f962"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment_cloned_0","uuid":"cecc902c-3e9d-6b4c-ac3f-d1943301f962"},"retries":"0","description":"","type":"SCALING","uuid":"ee2ced40-497a-4af4-b671-223ff81d7491","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{scaling_count}@@","type":"","scaling_type":"SCALEOUT"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Deployment_Scaleout_cecc902c_3e9d_6b4c_ac3f_d1943301f962"}],"description":"","message_list":[],"uuid":"0336cee1-0d20-47d0-b8fb-180680751307","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"5a8262b9-819a-4ea3-a58b-8b5ed72d5d53","value":"0","label":"","state":"NOT_VALIDATED","attrs":{},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"scaling_count"}],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_cecc902c_3e9d_6b4c_ac3f_d1943301f962","uuid":"5ced10e9-8f9d-4a10-a2b8-0b09ee3ebfa9"},"name":"SYS_GEN__Runbook_Deployment_cecc902c_3e9d_6b4c_ac3f_d1943301f962"}},{"description":"System action for scalein","message_list":[],"uuid":"b2e8aade-72e6-4863-b57b-8e5b44f7c72a","name":"action_scalein","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment_cloned_0","uuid":"cecc902c-3e9d-6b4c-ac3f-d1943301f962"},"retries":"0","description":"","type":"DAG","uuid":"a0f76efa-0bcd-4358-8cc5-f83c2074581c","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Deployment_Scalein_cecc902c_3e9d_6b4c_ac3f_d1943301f962","uuid":"559733ac-43f5-4e9b-b902-238b91cb26ed"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_cecc902c_3e9d_6b4c_ac3f_d1943301f962"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment_cloned_0","uuid":"cecc902c-3e9d-6b4c-ac3f-d1943301f962"},"retries":"0","description":"","type":"SCALING","uuid":"559733ac-43f5-4e9b-b902-238b91cb26ed","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{scaling_count}@@","type":"","scaling_type":"SCALEIN"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Deployment_Scalein_cecc902c_3e9d_6b4c_ac3f_d1943301f962"}],"description":"","message_list":[],"uuid":"15b582bf-7df3-4ca1-a37d-d8e2b07633a1","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"4de6a6a0-b0a0-4342-8a06-5915efec94c2","value":"0","label":"","state":"NOT_VALIDATED","attrs":{},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"scaling_count"}],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_cecc902c_3e9d_6b4c_ac3f_d1943301f962","uuid":"a0f76efa-0bcd-4358-8cc5-f83c2074581c"},"name":"SYS_GEN__Runbook_Deployment_cecc902c_3e9d_6b4c_ac3f_d1943301f962"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"1a623a55-34b6-4155-a5da-adb1064b07b5","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment_cloned_0","uuid":"cecc902c-3e9d-6b4c-ac3f-d1943301f962"},"retries":"0","description":"","type":"DAG","uuid":"caf3d1df-4672-49de-99ba-791febf29de6","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"d3d916c7-2698-49a3-9820-57a758f1dcf4"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_9b8bdfab_7dac_86a0_15bd_235d3eebd8f7","uuid":"c7fce796-c0d8-4e2d-a40a-f03fb0c88334"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_4cb413a9_76dd_0ba2_fa36_64463ec9029a","uuid":"24203ee8-357e-4bc0-a64c-b5c287cfd300"},{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_cecc902c_3e9d_6b4c_ac3f_d1943301f962","uuid":"7589dddc-e745-441d-a02b-070b3d9da59b"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"d3d916c7-2698-49a3-9820-57a758f1dcf4"},"edge_type":"inherent","type":"","uuid":"5848e7d8-9ef3-401b-bb68-7dc2068b3c4e","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_9b8bdfab_7dac_86a0_15bd_235d3eebd8f7","uuid":"c7fce796-c0d8-4e2d-a40a-f03fb0c88334"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_4cb413a9_76dd_0ba2_fa36_64463ec9029a","uuid":"24203ee8-357e-4bc0-a64c-b5c287cfd300"},"edge_type":"inherent","type":"","uuid":"f9ceae6a-62e6-4db9-bf9f-cc5277123d5e","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_cecc902c_3e9d_6b4c_ac3f_d1943301f962","uuid":"7589dddc-e745-441d-a02b-070b3d9da59b"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_9b8bdfab_7dac_86a0_15bd_235d3eebd8f7","uuid":"c7fce796-c0d8-4e2d-a40a-f03fb0c88334"},"edge_type":"inherent","type":"","uuid":"d5e76af1-c529-47a9-871a-abf9cdee6da4","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_4cb413a9_76dd_0ba2_fa36_64463ec9029a","uuid":"24203ee8-357e-4bc0-a64c-b5c287cfd300"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_cecc902c_3e9d_6b4c_ac3f_d1943301f962"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"d3d916c7-2698-49a3-9820-57a758f1dcf4","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment_cloned_0","uuid":"cecc902c-3e9d-6b4c-ac3f-d1943301f962"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"6cdcc89d-fd42-4e8a-9e97-40576d559005"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400"},{"target_any_local_reference":{"kind":"app_package","name":"VMwareSlavePackage","uuid":"9b8bdfab-7dac-86a0-15bd-235d3eebd8f7"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"c7fce796-c0d8-4e2d-a40a-f03fb0c88334","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_9b8bdfab_7dac_86a0_15bd_235d3eebd8f7"},{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareSlave","uuid":"4cb413a9-76dd-0ba2-fa36-64463ec9029a"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"24203ee8-357e-4bc0-a64c-b5c287cfd300","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment_cloned_0","uuid":"cecc902c-3e9d-6b4c-ac3f-d1943301f962"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_4cb413a9_76dd_0ba2_fa36_64463ec9029a","uuid":"096d6feb-79ff-435a-b01b-0d4a12d231dc"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Substrate_4cb413a9_76dd_0ba2_fa36_64463ec9029a"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment_cloned_0","uuid":"cecc902c-3e9d-6b4c-ac3f-d1943301f962"},"retries":"0","description":"","type":"SOFT_DELETE_DEPLOYMENT_ELEMENT","uuid":"7589dddc-e745-441d-a02b-070b3d9da59b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Soft_Delete_cecc902c_3e9d_6b4c_ac3f_d1943301f962"}],"description":"","message_list":[],"uuid":"5da3c922-3090-4dbe-8417-d568b55520a4","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_cecc902c_3e9d_6b4c_ac3f_d1943301f962","uuid":"caf3d1df-4672-49de-99ba-791febf29de6"},"name":"SYS_GEN__Runbook_Deployment_cecc902c_3e9d_6b4c_ac3f_d1943301f962"}}],"message_list":[],"published_service_local_reference_list":[],"uuid":"cecc902c-3e9d-6b4c-ac3f-d1943301f962","min_replicas":"1","state":"ACTIVE","max_replicas":"3","depends_on_list":[],"editables":{"min_replicas":true,"max_replicas":true},"package_local_reference_list":[{"kind":"app_package","name":"VMwareSlavePackage","uuid":"9b8bdfab-7dac-86a0-15bd-235d3eebd8f7"}],"substrate_local_reference":{"kind":"app_substrate","name":"VMwareSlave","uuid":"4cb413a9-76dd-0ba2-fa36-64463ec9029a"},"type":"GREENFIELD","options":{},"variable_list":[],"name":"de329770_deployment_cloned_0"}],"description":"","action_list":[{"description":"Take DB Backup. Specify absolute directory path for BACKUP_FILE_PATH","message_list":[],"uuid":"434a0041-5214-f3d7-1a0f-d0b9fb74a75f","name":"Backup","state":"ACTIVE","critical":false,"attrs":{},"type":"user","runbook":{"task_definition_list":[{"retries":"0","description":"","type":"DAG","uuid":"0f86dd21-da45-013e-8937-1a4b3e7dac85","child_tasks_local_reference_list":[{"kind":"app_task","name":"DB Backup","uuid":"4f5e5171-52df-c588-f5da-0efeafe24373"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"3e7d744d_dag_cloned_1"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"EXEC","uuid":"4f5e5171-52df-c588-f5da-0efeafe24373","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n### Setup variables\nmysql_password=\"@@{MYSQL_PASSWORD}@@\"\ndate_part=`date +%F`\nmkdir -p @@{BACKUP_FILE_PATH}@@\nsudo mysqldump -u root -p${mysql_password} --all-databases | sudo gzip -9 > @@{BACKUP_FILE_PATH}@@\/db_dump.sql.gz","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"DB Backup"}],"description":"","message_list":[],"uuid":"6d565c95-5d2d-5acc-bc2b-32c4d9e71d7c","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"dab1cc84-23e4-4531-9b6e-ffd0ff841dd8","value":"~\/db_backup","label":"","state":"ACTIVE","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"BACKUP_FILE_PATH"}],"main_task_local_reference":{"kind":"app_task","name":"3e7d744d_dag_cloned_1","uuid":"0f86dd21-da45-013e-8937-1a4b3e7dac85"},"name":"c6cd4595_runbook_cloned_0"}},{"description":"To restore DB from dump file. Specify absolute directory path for RESTORE_FILE_PATH","message_list":[],"uuid":"1348acf0-1b29-23b3-35af-f26445902540","name":"Restore","state":"ACTIVE","critical":false,"attrs":{},"type":"user","runbook":{"task_definition_list":[{"retries":"0","description":"","type":"DAG","uuid":"59b95cbd-79c2-eac6-2c2b-149fff25c374","child_tasks_local_reference_list":[{"kind":"app_task","name":"DB Restore","uuid":"ab6669e1-760f-4b07-cf5e-73d3f73fd097"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"458965d2_dag_cloned_1"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"EXEC","uuid":"ab6669e1-760f-4b07-cf5e-73d3f73fd097","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n### Setup variables\nmysql_password=\"@@{MYSQL_PASSWORD}@@\"\ndb_file=@@{RESTORE_FILE_PATH}@@\n\nsudo gunzip < $db_file | sudo mysql -u root -p${mysql_password} ","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"DB Restore"}],"description":"","message_list":[],"uuid":"27d46e76-328a-d8d5-4609-ed7808fadd51","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"295ae108-b18b-0a48-f804-d8eb26c2029e","value":"~\/db_backup\/db_dump.sql.gz","label":"","state":"ACTIVE","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"RESTORE_FILE_PATH"}],"main_task_local_reference":{"kind":"app_task","name":"458965d2_dag_cloned_1","uuid":"59b95cbd-79c2-eac6-2c2b-149fff25c374"},"name":"412d41ad_runbook_cloned_0"}},{"description":"","message_list":[],"uuid":"30ebee82-4fa7-7310-3f90-4ffd69e2eff0","name":"ScaleOut","state":"ACTIVE","critical":false,"attrs":{},"type":"user","runbook":{"task_definition_list":[{"retries":"0","description":"","type":"DAG","uuid":"153e6795-2e03-ff37-7ad0-bf90ae2e4abc","child_tasks_local_reference_list":[{"kind":"app_task","name":"Scale Out_cloned_1","uuid":"ff20e6f8-da01-f9e2-8186-8b4aff5b01f0"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"0d5ad4a7_dag_cloned_1"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment_cloned_0","uuid":"cecc902c-3e9d-6b4c-ac3f-d1943301f962"},"retries":"0","description":"","type":"SCALING","uuid":"ff20e6f8-da01-f9e2-8186-8b4aff5b01f0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{COUNT}@@","type":"","scaling_type":"SCALEOUT"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Scale Out_cloned_1"}],"description":"","message_list":[],"uuid":"a2c0103f-d770-fbcf-ce92-1397159755be","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"16dd938c-995a-8cb9-c10f-76e704c2b7c3","value":"1","label":"","state":"ACTIVE","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"COUNT"}],"main_task_local_reference":{"kind":"app_task","name":"0d5ad4a7_dag_cloned_1","uuid":"153e6795-2e03-ff37-7ad0-bf90ae2e4abc"},"name":"45be859a_runbook_cloned_0"}},{"description":"","message_list":[],"uuid":"1d84346f-4e1f-f561-71d8-5c2a42fd6c1a","name":"ScaleIn","state":"ACTIVE","critical":false,"attrs":{},"type":"user","runbook":{"task_definition_list":[{"retries":"0","description":"","type":"DAG","uuid":"fb994b68-daad-cfd8-5615-d87d281949e4","child_tasks_local_reference_list":[{"kind":"app_task","name":"Scale In_cloned_1","uuid":"324cf376-cbe3-4e87-cc65-b8a0009cb174"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"6baa6164_dag_cloned_1"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment_cloned_0","uuid":"cecc902c-3e9d-6b4c-ac3f-d1943301f962"},"retries":"0","description":"","type":"SCALING","uuid":"324cf376-cbe3-4e87-cc65-b8a0009cb174","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{COUNT}@@","type":"","scaling_type":"SCALEIN"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Scale In_cloned_1"}],"description":"","message_list":[],"uuid":"142c3c6b-2371-fb56-880e-1fd360a8ecfc","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"aecb2a41-946c-3895-e06d-d9d81142cb0b","value":"1","label":"","state":"ACTIVE","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"COUNT"}],"main_task_local_reference":{"kind":"app_task","name":"6baa6164_dag_cloned_1","uuid":"fb994b68-daad-cfd8-5615-d87d281949e4"},"name":"16496c32_runbook_cloned_0"}},{"description":"System action for creating an application","message_list":[],"uuid":"eec1e0f6-48a9-497c-8a35-aa7b270fa31f","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"VMware","uuid":"7febabe6-95a7-9e9c-0b37-4b38a71ce0f2"},"retries":"0","description":"","type":"DAG","uuid":"991e12f6-45fe-483d-af18-629ece097b26","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__DE_Provision_cecc902c_3e9d_6b4c_ac3f_d1943301f962","uuid":"8296a81c-0987-482a-84ea-1eea34a6f3c8"},{"kind":"app_task","name":"SYS_GEN__DE_Provision_703234ae_ce7c_dbf2_5366_0f91d2c6d2b0","uuid":"125d5c68-ec20-4d85-9e53-b72269ae4c77"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_c5df1e7b_d73b_a7c4_17ef_81c1bd0d24fa","uuid":"234886fc-d7ac-4d03-b8aa-d535f27ef4f5"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_c5df1e7b_d73b_a7c4_17ef_81c1bd0d24fa_1","uuid":"dce6d06d-e7bf-4582-887c-1a0963a84390"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_4cb413a9_76dd_0ba2_fa36_64463ec9029a","uuid":"1c309931-4e20-42cf-8be6-7e288e528f9a"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_7d3e29ba_e3d9_4356_e47d_3392002f315d","uuid":"842093c2-03a6-46c2-a074-71f08d134ca9"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_ad5a77a8_44ba_36bb_9693_8c461a120643","uuid":"dd640002-ab6b-46d3-acaf-2383fe1330e2"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_9b8bdfab_7dac_86a0_15bd_235d3eebd8f7","uuid":"7a715f19-94df-4a52-aa9e-01f44328d755"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"f58e28b8-94b7-4ade-8cb8-946ee1a0ba63"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"e8003fb2-80d9-467b-8f52-514fd99b198d"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"7248323c-c28b-445d-bbea-c46c565733df"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"b9c0bedd-0f9c-49b7-9310-196b1f5e4f09"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"7248323c-c28b-445d-bbea-c46c565733df"},"edge_type":"inherent","type":"","uuid":"4633280b-a856-4283-bf33-fc762dc6e14a","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"b9c0bedd-0f9c-49b7-9310-196b1f5e4f09"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_9b8bdfab_7dac_86a0_15bd_235d3eebd8f7","uuid":"7a715f19-94df-4a52-aa9e-01f44328d755"},"edge_type":"inherent","type":"","uuid":"722bf93a-8d14-47ce-8f07-1589319ffbe7","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"7248323c-c28b-445d-bbea-c46c565733df"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_cecc902c_3e9d_6b4c_ac3f_d1943301f962","uuid":"8296a81c-0987-482a-84ea-1eea34a6f3c8"},"edge_type":"inherent","type":"","uuid":"eb5ef675-f23c-4700-8c76-28bd9db154df","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_4cb413a9_76dd_0ba2_fa36_64463ec9029a","uuid":"1c309931-4e20-42cf-8be6-7e288e528f9a"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_4cb413a9_76dd_0ba2_fa36_64463ec9029a","uuid":"1c309931-4e20-42cf-8be6-7e288e528f9a"},"edge_type":"inherent","type":"","uuid":"65e3b4bc-c3aa-45ea-8cab-7da76bbe0652","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_9b8bdfab_7dac_86a0_15bd_235d3eebd8f7","uuid":"7a715f19-94df-4a52-aa9e-01f44328d755"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_cecc902c_3e9d_6b4c_ac3f_d1943301f962","uuid":"8296a81c-0987-482a-84ea-1eea34a6f3c8"},"edge_type":"inherent","type":"","uuid":"cd326432-8c69-49d8-8e3e-14c92d08410a","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_c5df1e7b_d73b_a7c4_17ef_81c1bd0d24fa","uuid":"234886fc-d7ac-4d03-b8aa-d535f27ef4f5"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_c5df1e7b_d73b_a7c4_17ef_81c1bd0d24fa","uuid":"234886fc-d7ac-4d03-b8aa-d535f27ef4f5"},"edge_type":"inherent","type":"","uuid":"c4d36e5b-722c-4a6e-ac9a-9629c397d854","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_4cb413a9_76dd_0ba2_fa36_64463ec9029a","uuid":"1c309931-4e20-42cf-8be6-7e288e528f9a"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"f58e28b8-94b7-4ade-8cb8-946ee1a0ba63"},"edge_type":"inherent","type":"","uuid":"fae57f1b-771f-4c55-bc74-701536095951","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"e8003fb2-80d9-467b-8f52-514fd99b198d"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_ad5a77a8_44ba_36bb_9693_8c461a120643","uuid":"dd640002-ab6b-46d3-acaf-2383fe1330e2"},"edge_type":"inherent","type":"","uuid":"1dfab115-0cf8-46c2-9284-d7a05ceb3b83","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"f58e28b8-94b7-4ade-8cb8-946ee1a0ba63"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_703234ae_ce7c_dbf2_5366_0f91d2c6d2b0","uuid":"125d5c68-ec20-4d85-9e53-b72269ae4c77"},"edge_type":"inherent","type":"","uuid":"a2cd96d4-0e72-4ec5-a833-0cf10047bd23","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_7d3e29ba_e3d9_4356_e47d_3392002f315d","uuid":"842093c2-03a6-46c2-a074-71f08d134ca9"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_7d3e29ba_e3d9_4356_e47d_3392002f315d","uuid":"842093c2-03a6-46c2-a074-71f08d134ca9"},"edge_type":"inherent","type":"","uuid":"b8ed47f3-f254-4ab1-9933-ed8042441442","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_ad5a77a8_44ba_36bb_9693_8c461a120643","uuid":"dd640002-ab6b-46d3-acaf-2383fe1330e2"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_c5df1e7b_d73b_a7c4_17ef_81c1bd0d24fa_1","uuid":"dce6d06d-e7bf-4582-887c-1a0963a84390"},"edge_type":"inherent","type":"","uuid":"dcc24cd6-a75d-4371-9630-6a164aa97190","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_7d3e29ba_e3d9_4356_e47d_3392002f315d","uuid":"842093c2-03a6-46c2-a074-71f08d134ca9"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_703234ae_ce7c_dbf2_5366_0f91d2c6d2b0","uuid":"125d5c68-ec20-4d85-9e53-b72269ae4c77"},"edge_type":"inherent","type":"","uuid":"04eca9cd-d1fd-43a4-8c73-47827d547d54","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_c5df1e7b_d73b_a7c4_17ef_81c1bd0d24fa_1","uuid":"dce6d06d-e7bf-4582-887c-1a0963a84390"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"e8003fb2-80d9-467b-8f52-514fd99b198d"},"edge_type":"depends_on","type":"","uuid":"bafd4660-f440-4280-95e1-020c5c3c3c2b","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"7248323c-c28b-445d-bbea-c46c565733df"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_7febabe6_95a7_9e9c_0b37_4b38a71ce0f2"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment_cloned_0","uuid":"cecc902c-3e9d-6b4c-ac3f-d1943301f962"},"retries":"0","description":"","type":"CREATE_DEPLOYMENT_ELEMENT","uuid":"8296a81c-0987-482a-84ea-1eea34a6f3c8","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Provision_cecc902c_3e9d_6b4c_ac3f_d1943301f962"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment_cloned_0","uuid":"703234ae-ce7c-dbf2-5366-0f91d2c6d2b0"},"retries":"0","description":"","type":"CREATE_DEPLOYMENT_ELEMENT","uuid":"125d5c68-ec20-4d85-9e53-b72269ae4c77","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Provision_703234ae_ce7c_dbf2_5366_0f91d2c6d2b0"},{"target_any_local_reference":{"kind":"app_package","name":"ESX_CENTOS_76","uuid":"c5df1e7b-d73b-a7c4-17ef-81c1bd0d24fa"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"234886fc-d7ac-4d03-b8aa-d535f27ef4f5","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment_cloned_0","uuid":"cecc902c-3e9d-6b4c-ac3f-d1943301f962"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_c5df1e7b_d73b_a7c4_17ef_81c1bd0d24fa","uuid":"65ac7866-8119-44b7-87f8-b44f17ea3c2b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_c5df1e7b_d73b_a7c4_17ef_81c1bd0d24fa"},{"target_any_local_reference":{"kind":"app_package","name":"ESX_CENTOS_76","uuid":"c5df1e7b-d73b-a7c4-17ef-81c1bd0d24fa"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"dce6d06d-e7bf-4582-887c-1a0963a84390","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment_cloned_0","uuid":"703234ae-ce7c-dbf2-5366-0f91d2c6d2b0"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_c5df1e7b_d73b_a7c4_17ef_81c1bd0d24fa","uuid":"65ac7866-8119-44b7-87f8-b44f17ea3c2b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_c5df1e7b_d73b_a7c4_17ef_81c1bd0d24fa_1"},{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareSlave","uuid":"4cb413a9-76dd-0ba2-fa36-64463ec9029a"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"1c309931-4e20-42cf-8be6-7e288e528f9a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment_cloned_0","uuid":"cecc902c-3e9d-6b4c-ac3f-d1943301f962"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_4cb413a9_76dd_0ba2_fa36_64463ec9029a","uuid":"8aabf43c-5132-4156-8f1f-4faec4b7f29a"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Substrate_4cb413a9_76dd_0ba2_fa36_64463ec9029a"},{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareMaster","uuid":"7d3e29ba-e3d9-4356-e47d-3392002f315d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"842093c2-03a6-46c2-a074-71f08d134ca9","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment_cloned_0","uuid":"703234ae-ce7c-dbf2-5366-0f91d2c6d2b0"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_7d3e29ba_e3d9_4356_e47d_3392002f315d","uuid":"89e33d28-9a33-4d32-b01f-ed4e1f31968f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Substrate_7d3e29ba_e3d9_4356_e47d_3392002f315d"},{"target_any_local_reference":{"kind":"app_package","name":"VMwareMasterPackage","uuid":"ad5a77a8-44ba-36bb-9693-8c461a120643"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"dd640002-ab6b-46d3-acaf-2383fe1330e2","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment_cloned_0","uuid":"703234ae-ce7c-dbf2-5366-0f91d2c6d2b0"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_ad5a77a8_44ba_36bb_9693_8c461a120643","uuid":"f054f901-ffb5-4fd3-bb96-69621dbfcfdc"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_ad5a77a8_44ba_36bb_9693_8c461a120643"},{"target_any_local_reference":{"kind":"app_package","name":"VMwareSlavePackage","uuid":"9b8bdfab-7dac-86a0-15bd-235d3eebd8f7"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"7a715f19-94df-4a52-aa9e-01f44328d755","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment_cloned_0","uuid":"cecc902c-3e9d-6b4c-ac3f-d1943301f962"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_9b8bdfab_7dac_86a0_15bd_235d3eebd8f7","uuid":"950fe5fa-8592-4609-9327-c9089feb166a"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_9b8bdfab_7dac_86a0_15bd_235d3eebd8f7"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"f58e28b8-94b7-4ade-8cb8-946ee1a0ba63","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment_cloned_0","uuid":"703234ae-ce7c-dbf2-5366-0f91d2c6d2b0"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0a970522_runbook","uuid":"f2803b23-af0b-4afd-8a2f-ef666adf85c8"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"e8003fb2-80d9-467b-8f52-514fd99b198d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment_cloned_0","uuid":"703234ae-ce7c-dbf2-5366-0f91d2c6d2b0"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"5ddb28d1_runbook","uuid":"f88c4d73-c0ab-488b-a016-3e1453b91891"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"7248323c-c28b-445d-bbea-c46c565733df","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment_cloned_0","uuid":"cecc902c-3e9d-6b4c-ac3f-d1943301f962"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"d54168c9_runbook","uuid":"e509001d-6b88-4a64-813c-0ce8ea81991a"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"b9c0bedd-0f9c-49b7-9310-196b1f5e4f09","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment_cloned_0","uuid":"cecc902c-3e9d-6b4c-ac3f-d1943301f962"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"a027cde0_runbook","uuid":"0afbc7f3-5541-415f-9616-c459f09806b2"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400"}],"description":"","message_list":[],"uuid":"f198aaa1-ab55-4cad-8822-dbb842310a2a","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_7febabe6_95a7_9e9c_0b37_4b38a71ce0f2","uuid":"991e12f6-45fe-483d-af18-629ece097b26"},"name":"SYS_GEN__Runbook_Application_7febabe6_95a7_9e9c_0b37_4b38a71ce0f2"}},{"description":"System action for starting an application","message_list":[],"uuid":"aa0f220d-0512-4a7e-a0df-a7d43c8db1e4","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"VMware","uuid":"7febabe6-95a7-9e9c-0b37-4b38a71ce0f2"},"retries":"0","description":"","type":"DAG","uuid":"777d6e51-facb-4a3a-b95c-0e4a4e697004","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_4cb413a9_76dd_0ba2_fa36_64463ec9029a","uuid":"d4b286f2-8e2b-4f66-a52c-a6e54199929c"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_7d3e29ba_e3d9_4356_e47d_3392002f315d","uuid":"a4232033-5ffa-4c1a-9f0e-8e1de729066a"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"10174c56-16b6-40c0-86ad-66eb51e83132"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"a2f26bab-64f0-43ee-b03f-cfc8d5abdb73"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_4cb413a9_76dd_0ba2_fa36_64463ec9029a","uuid":"d4b286f2-8e2b-4f66-a52c-a6e54199929c"},"edge_type":"inherent","type":"","uuid":"aebffdad-661e-4bb8-9555-88ed93c01fc8","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"a2f26bab-64f0-43ee-b03f-cfc8d5abdb73"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_7d3e29ba_e3d9_4356_e47d_3392002f315d","uuid":"a4232033-5ffa-4c1a-9f0e-8e1de729066a"},"edge_type":"inherent","type":"","uuid":"407da836-ef49-4edb-bba1-273ae7c65ad6","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"10174c56-16b6-40c0-86ad-66eb51e83132"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"10174c56-16b6-40c0-86ad-66eb51e83132"},"edge_type":"depends_on","type":"","uuid":"019aa25e-72be-49da-8514-c60c6ad8ce5d","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"a2f26bab-64f0-43ee-b03f-cfc8d5abdb73"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_7febabe6_95a7_9e9c_0b37_4b38a71ce0f2"},{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareSlave","uuid":"4cb413a9-76dd-0ba2-fa36-64463ec9029a"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"d4b286f2-8e2b-4f66-a52c-a6e54199929c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment_cloned_0","uuid":"cecc902c-3e9d-6b4c-ac3f-d1943301f962"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_4cb413a9_76dd_0ba2_fa36_64463ec9029a","uuid":"3b4c2163-a57e-4c57-a2ff-d2a8c48468e9"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Substrate_4cb413a9_76dd_0ba2_fa36_64463ec9029a"},{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareMaster","uuid":"7d3e29ba-e3d9-4356-e47d-3392002f315d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"a4232033-5ffa-4c1a-9f0e-8e1de729066a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment_cloned_0","uuid":"703234ae-ce7c-dbf2-5366-0f91d2c6d2b0"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_7d3e29ba_e3d9_4356_e47d_3392002f315d","uuid":"baf3e33c-3a0a-43cf-8924-dca301b70017"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Substrate_7d3e29ba_e3d9_4356_e47d_3392002f315d"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"10174c56-16b6-40c0-86ad-66eb51e83132","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment_cloned_0","uuid":"703234ae-ce7c-dbf2-5366-0f91d2c6d2b0"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"5ddb28d1_runbook","uuid":"f88c4d73-c0ab-488b-a016-3e1453b91891"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"a2f26bab-64f0-43ee-b03f-cfc8d5abdb73","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment_cloned_0","uuid":"cecc902c-3e9d-6b4c-ac3f-d1943301f962"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"a027cde0_runbook","uuid":"0afbc7f3-5541-415f-9616-c459f09806b2"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400"}],"description":"","message_list":[],"uuid":"633042d7-e013-4772-9945-dd93bc828f46","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_7febabe6_95a7_9e9c_0b37_4b38a71ce0f2","uuid":"777d6e51-facb-4a3a-b95c-0e4a4e697004"},"name":"SYS_GEN__Runbook_Application_7febabe6_95a7_9e9c_0b37_4b38a71ce0f2"}},{"description":"System action for restarting an application","message_list":[],"uuid":"2dc178b5-cb27-4302-a414-eff335680a90","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"VMware","uuid":"7febabe6-95a7-9e9c-0b37-4b38a71ce0f2"},"retries":"0","description":"","type":"DAG","uuid":"76d7cf3d-1a13-4fee-8391-6663a081964f","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_4cb413a9_76dd_0ba2_fa36_64463ec9029a","uuid":"1597e616-4a32-4b9c-a70d-0cd067bf2b24"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_7d3e29ba_e3d9_4356_e47d_3392002f315d","uuid":"6b4cfaba-367f-4eb7-873c-5a7d6e55f818"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"a4039b26-5831-4c44-a34a-ba90a5261402"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"8d715df9-347e-4bb1-87c8-7454028416f1"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_4cb413a9_76dd_0ba2_fa36_64463ec9029a","uuid":"1597e616-4a32-4b9c-a70d-0cd067bf2b24"},"edge_type":"inherent","type":"","uuid":"6f686281-6652-4a9a-95e1-bf3920e785b7","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"8d715df9-347e-4bb1-87c8-7454028416f1"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_7d3e29ba_e3d9_4356_e47d_3392002f315d","uuid":"6b4cfaba-367f-4eb7-873c-5a7d6e55f818"},"edge_type":"inherent","type":"","uuid":"82a400d6-7afd-4c9f-9aab-bb958cd9a557","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"a4039b26-5831-4c44-a34a-ba90a5261402"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"a4039b26-5831-4c44-a34a-ba90a5261402"},"edge_type":"depends_on","type":"","uuid":"4dc4c02d-64d8-4f9b-a3fe-19b4ea60376a","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"8d715df9-347e-4bb1-87c8-7454028416f1"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_7febabe6_95a7_9e9c_0b37_4b38a71ce0f2"},{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareSlave","uuid":"4cb413a9-76dd-0ba2-fa36-64463ec9029a"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"1597e616-4a32-4b9c-a70d-0cd067bf2b24","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment_cloned_0","uuid":"cecc902c-3e9d-6b4c-ac3f-d1943301f962"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_4cb413a9_76dd_0ba2_fa36_64463ec9029a","uuid":"e3ceb0c8-27a8-492a-bcd4-8c4446756200"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Substrate_4cb413a9_76dd_0ba2_fa36_64463ec9029a"},{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareMaster","uuid":"7d3e29ba-e3d9-4356-e47d-3392002f315d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"6b4cfaba-367f-4eb7-873c-5a7d6e55f818","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment_cloned_0","uuid":"703234ae-ce7c-dbf2-5366-0f91d2c6d2b0"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_7d3e29ba_e3d9_4356_e47d_3392002f315d","uuid":"919b4425-2bd7-4a94-b164-6072a051dc98"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Substrate_7d3e29ba_e3d9_4356_e47d_3392002f315d"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"a4039b26-5831-4c44-a34a-ba90a5261402","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment_cloned_0","uuid":"703234ae-ce7c-dbf2-5366-0f91d2c6d2b0"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"7e709238_runbook","uuid":"6beb8e29-06b2-4218-a1fd-18c28d8c6218"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"8d715df9-347e-4bb1-87c8-7454028416f1","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment_cloned_0","uuid":"cecc902c-3e9d-6b4c-ac3f-d1943301f962"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"f2b2a076_runbook","uuid":"b7162b3b-d4ba-4fba-875d-fc9c8c2c5b79"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400"}],"description":"","message_list":[],"uuid":"6b1b7431-624a-4a6b-93f9-7ca0539af0c9","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_7febabe6_95a7_9e9c_0b37_4b38a71ce0f2","uuid":"76d7cf3d-1a13-4fee-8391-6663a081964f"},"name":"SYS_GEN__Runbook_Application_7febabe6_95a7_9e9c_0b37_4b38a71ce0f2"}},{"description":"System action for stopping an application","message_list":[],"uuid":"7c2b0344-617b-433e-a189-28c58b363725","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"VMware","uuid":"7febabe6-95a7-9e9c-0b37-4b38a71ce0f2"},"retries":"0","description":"","type":"DAG","uuid":"3322b0f8-d5fb-47f0-bcf6-d6560b777b66","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"719a2193-075c-4c6a-b4b3-cd25a2212dd4"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_4cb413a9_76dd_0ba2_fa36_64463ec9029a","uuid":"b181b15b-9d5f-409c-b134-6b6df9b828ac"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"d47c5a73-476d-4060-bca0-c9447cb20e7b"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_7d3e29ba_e3d9_4356_e47d_3392002f315d","uuid":"103a5cd9-9b2b-4bc8-894f-d53b492c47d1"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"719a2193-075c-4c6a-b4b3-cd25a2212dd4"},"edge_type":"inherent","type":"","uuid":"61fa1ec8-6234-40b8-bbf9-6bb554a484b4","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_4cb413a9_76dd_0ba2_fa36_64463ec9029a","uuid":"b181b15b-9d5f-409c-b134-6b6df9b828ac"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"d47c5a73-476d-4060-bca0-c9447cb20e7b"},"edge_type":"inherent","type":"","uuid":"6ce3b5a5-807f-4f45-bdac-bd95b59a5311","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_7d3e29ba_e3d9_4356_e47d_3392002f315d","uuid":"103a5cd9-9b2b-4bc8-894f-d53b492c47d1"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"719a2193-075c-4c6a-b4b3-cd25a2212dd4"},"edge_type":"depends_on","type":"","uuid":"263d34c2-75d1-4e57-893b-c1a277d1dcd7","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"d47c5a73-476d-4060-bca0-c9447cb20e7b"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_7febabe6_95a7_9e9c_0b37_4b38a71ce0f2"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"719a2193-075c-4c6a-b4b3-cd25a2212dd4","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment_cloned_0","uuid":"cecc902c-3e9d-6b4c-ac3f-d1943301f962"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"4a2ad0be_runbook","uuid":"09b1c8a9-6223-4e38-acfb-ff4754413c85"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400"},{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareSlave","uuid":"4cb413a9-76dd-0ba2-fa36-64463ec9029a"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"b181b15b-9d5f-409c-b134-6b6df9b828ac","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment_cloned_0","uuid":"cecc902c-3e9d-6b4c-ac3f-d1943301f962"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_4cb413a9_76dd_0ba2_fa36_64463ec9029a","uuid":"23f88025-0b57-47b0-a8c5-d3e518e84843"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Substrate_4cb413a9_76dd_0ba2_fa36_64463ec9029a"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"d47c5a73-476d-4060-bca0-c9447cb20e7b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment_cloned_0","uuid":"703234ae-ce7c-dbf2-5366-0f91d2c6d2b0"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0aefbca3_runbook","uuid":"a75d0021-cf2d-4da4-85dc-56ee0ed9e9eb"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd"},{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareMaster","uuid":"7d3e29ba-e3d9-4356-e47d-3392002f315d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"103a5cd9-9b2b-4bc8-894f-d53b492c47d1","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment_cloned_0","uuid":"703234ae-ce7c-dbf2-5366-0f91d2c6d2b0"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_7d3e29ba_e3d9_4356_e47d_3392002f315d","uuid":"7946b93b-b47a-4c89-9c50-adf13243b1ac"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Substrate_7d3e29ba_e3d9_4356_e47d_3392002f315d"}],"description":"","message_list":[],"uuid":"c1c36ab1-47dd-4ec2-b6dd-3abc1ad7aa11","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_7febabe6_95a7_9e9c_0b37_4b38a71ce0f2","uuid":"3322b0f8-d5fb-47f0-bcf6-d6560b777b66"},"name":"SYS_GEN__Runbook_Application_7febabe6_95a7_9e9c_0b37_4b38a71ce0f2"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"231f37f1-5810-4545-a4a7-1227f62e44a4","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"VMware","uuid":"7febabe6-95a7-9e9c-0b37-4b38a71ce0f2"},"retries":"0","description":"","type":"DAG","uuid":"82bd3f40-f1fc-4197-95fa-a277892833f7","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"c1f18d17-075b-474b-9e09-e17e894a5b3d"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"b1895d25-02bd-4c0a-acfc-506bf236303b"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"57fb4905-5c14-4756-b110-a7fa28a4460c"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_9b8bdfab_7dac_86a0_15bd_235d3eebd8f7","uuid":"6e6ce40f-68d0-4aee-be98-8fee57d87860"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"c90b9863-9530-4af1-9f15-7187d0bfa66c"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_4cb413a9_76dd_0ba2_fa36_64463ec9029a","uuid":"46aa461d-7c61-43ba-b9a6-5cfac186a817"},{"kind":"app_task","name":"SYS_GEN__DE_Delete_cecc902c_3e9d_6b4c_ac3f_d1943301f962","uuid":"f4f592b8-642b-4590-83f8-582aeb37945c"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_ad5a77a8_44ba_36bb_9693_8c461a120643","uuid":"bab7f864-eba9-4f44-a9cd-a6d1a7a066a4"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_7d3e29ba_e3d9_4356_e47d_3392002f315d","uuid":"40c30d21-47e5-424a-a4e8-3354e01bf98a"},{"kind":"app_task","name":"SYS_GEN__DE_Delete_703234ae_ce7c_dbf2_5366_0f91d2c6d2b0","uuid":"7582bc12-7c3e-4fc9-acb8-354e7d917880"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"c1f18d17-075b-474b-9e09-e17e894a5b3d"},"edge_type":"inherent","type":"","uuid":"8b31e9cb-8720-41e4-be5c-5cb75bc23233","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"b1895d25-02bd-4c0a-acfc-506bf236303b"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"b1895d25-02bd-4c0a-acfc-506bf236303b"},"edge_type":"inherent","type":"","uuid":"81813b96-a943-47e0-9650-20dc8af6c815","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_9b8bdfab_7dac_86a0_15bd_235d3eebd8f7","uuid":"6e6ce40f-68d0-4aee-be98-8fee57d87860"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_9b8bdfab_7dac_86a0_15bd_235d3eebd8f7","uuid":"6e6ce40f-68d0-4aee-be98-8fee57d87860"},"edge_type":"inherent","type":"","uuid":"aa0cc129-416f-48fa-a773-fe69941bcbaa","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_4cb413a9_76dd_0ba2_fa36_64463ec9029a","uuid":"46aa461d-7c61-43ba-b9a6-5cfac186a817"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_4cb413a9_76dd_0ba2_fa36_64463ec9029a","uuid":"46aa461d-7c61-43ba-b9a6-5cfac186a817"},"edge_type":"inherent","type":"","uuid":"f0d9bbbb-197a-4cfb-bf8a-9fb5923903a2","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Delete_cecc902c_3e9d_6b4c_ac3f_d1943301f962","uuid":"f4f592b8-642b-4590-83f8-582aeb37945c"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"57fb4905-5c14-4756-b110-a7fa28a4460c"},"edge_type":"inherent","type":"","uuid":"69abbbf4-7e96-4c48-9d31-51e5ff19659e","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"c90b9863-9530-4af1-9f15-7187d0bfa66c"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"c90b9863-9530-4af1-9f15-7187d0bfa66c"},"edge_type":"inherent","type":"","uuid":"b8e62a6c-d885-4b34-bc85-e9478b6254ac","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_ad5a77a8_44ba_36bb_9693_8c461a120643","uuid":"bab7f864-eba9-4f44-a9cd-a6d1a7a066a4"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_7d3e29ba_e3d9_4356_e47d_3392002f315d","uuid":"40c30d21-47e5-424a-a4e8-3354e01bf98a"},"edge_type":"inherent","type":"","uuid":"9d48f6ac-9a9d-4472-aea7-f057fb0a584e","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Delete_703234ae_ce7c_dbf2_5366_0f91d2c6d2b0","uuid":"7582bc12-7c3e-4fc9-acb8-354e7d917880"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_ad5a77a8_44ba_36bb_9693_8c461a120643","uuid":"bab7f864-eba9-4f44-a9cd-a6d1a7a066a4"},"edge_type":"inherent","type":"","uuid":"27ce4c1c-ecfd-4fd2-ab18-6d8ac822eb10","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_7d3e29ba_e3d9_4356_e47d_3392002f315d","uuid":"40c30d21-47e5-424a-a4e8-3354e01bf98a"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"b1895d25-02bd-4c0a-acfc-506bf236303b"},"edge_type":"depends_on","type":"","uuid":"d360e22d-08d4-4219-9a28-c52bd756f0d1","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"57fb4905-5c14-4756-b110-a7fa28a4460c"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_7febabe6_95a7_9e9c_0b37_4b38a71ce0f2"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"c1f18d17-075b-474b-9e09-e17e894a5b3d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment_cloned_0","uuid":"cecc902c-3e9d-6b4c-ac3f-d1943301f962"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"4a2ad0be_runbook","uuid":"09b1c8a9-6223-4e38-acfb-ff4754413c85"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"b1895d25-02bd-4c0a-acfc-506bf236303b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment_cloned_0","uuid":"cecc902c-3e9d-6b4c-ac3f-d1943301f962"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"92247e35_runbook","uuid":"497a8a35-a955-4f76-8fb0-21dbd9acb6e0"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"57fb4905-5c14-4756-b110-a7fa28a4460c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment_cloned_0","uuid":"703234ae-ce7c-dbf2-5366-0f91d2c6d2b0"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0aefbca3_runbook","uuid":"a75d0021-cf2d-4da4-85dc-56ee0ed9e9eb"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd"},{"target_any_local_reference":{"kind":"app_package","name":"VMwareSlavePackage","uuid":"9b8bdfab-7dac-86a0-15bd-235d3eebd8f7"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"6e6ce40f-68d0-4aee-be98-8fee57d87860","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment_cloned_0","uuid":"cecc902c-3e9d-6b4c-ac3f-d1943301f962"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_9b8bdfab_7dac_86a0_15bd_235d3eebd8f7","uuid":"916dbec1-ed5d-41a1-8a0e-67286b011c98"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_9b8bdfab_7dac_86a0_15bd_235d3eebd8f7"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"c90b9863-9530-4af1-9f15-7187d0bfa66c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment_cloned_0","uuid":"703234ae-ce7c-dbf2-5366-0f91d2c6d2b0"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"5fd47ec3_runbook","uuid":"7e58dd6b-1da9-495c-97e7-84bb6e288586"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd"},{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareSlave","uuid":"4cb413a9-76dd-0ba2-fa36-64463ec9029a"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"46aa461d-7c61-43ba-b9a6-5cfac186a817","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment_cloned_0","uuid":"cecc902c-3e9d-6b4c-ac3f-d1943301f962"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_4cb413a9_76dd_0ba2_fa36_64463ec9029a","uuid":"ad92f8f0-3364-4910-9434-b761a2c4eb93"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Substrate_4cb413a9_76dd_0ba2_fa36_64463ec9029a"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment_cloned_0","uuid":"cecc902c-3e9d-6b4c-ac3f-d1943301f962"},"retries":"0","description":"","type":"DELETE_DEPLOYMENT_ELEMENT","uuid":"f4f592b8-642b-4590-83f8-582aeb37945c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Delete_cecc902c_3e9d_6b4c_ac3f_d1943301f962"},{"target_any_local_reference":{"kind":"app_package","name":"VMwareMasterPackage","uuid":"ad5a77a8-44ba-36bb-9693-8c461a120643"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"bab7f864-eba9-4f44-a9cd-a6d1a7a066a4","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment_cloned_0","uuid":"703234ae-ce7c-dbf2-5366-0f91d2c6d2b0"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_ad5a77a8_44ba_36bb_9693_8c461a120643","uuid":"d786637b-4efd-47fe-a363-68565ca0ea71"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_ad5a77a8_44ba_36bb_9693_8c461a120643"},{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareMaster","uuid":"7d3e29ba-e3d9-4356-e47d-3392002f315d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"40c30d21-47e5-424a-a4e8-3354e01bf98a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment_cloned_0","uuid":"703234ae-ce7c-dbf2-5366-0f91d2c6d2b0"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_7d3e29ba_e3d9_4356_e47d_3392002f315d","uuid":"6483b6de-9688-453b-bb32-11980f622774"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Substrate_7d3e29ba_e3d9_4356_e47d_3392002f315d"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment_cloned_0","uuid":"703234ae-ce7c-dbf2-5366-0f91d2c6d2b0"},"retries":"0","description":"","type":"DELETE_DEPLOYMENT_ELEMENT","uuid":"7582bc12-7c3e-4fc9-acb8-354e7d917880","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Delete_703234ae_ce7c_dbf2_5366_0f91d2c6d2b0"}],"description":"","message_list":[],"uuid":"d66d21cd-90a2-4324-b25d-bc25f556e85e","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_7febabe6_95a7_9e9c_0b37_4b38a71ce0f2","uuid":"82bd3f40-f1fc-4197-95fa-a277892833f7"},"name":"SYS_GEN__Runbook_Application_7febabe6_95a7_9e9c_0b37_4b38a71ce0f2"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"7d5dd33f-fc33-4963-aecf-9f35cfc40d31","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"VMware","uuid":"7febabe6-95a7-9e9c-0b37-4b38a71ce0f2"},"retries":"0","description":"","type":"DAG","uuid":"4bf384b5-036e-4aa2-a60c-9dc670b2ee61","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"2682c0e9-ba9f-4a81-a028-728accf377c8"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"f262ea91-6e7b-446e-a184-e2eb7deed2d0"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_9b8bdfab_7dac_86a0_15bd_235d3eebd8f7","uuid":"8ae1e0ec-275c-4381-b45f-d10afb84973f"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_ad5a77a8_44ba_36bb_9693_8c461a120643","uuid":"ddf1fb02-af85-48ae-8fbd-e8075d3cc5a5"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_4cb413a9_76dd_0ba2_fa36_64463ec9029a","uuid":"d38c8c41-fb42-4a6d-91e1-85845400df96"},{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_cecc902c_3e9d_6b4c_ac3f_d1943301f962","uuid":"a882d6df-1f83-4c13-acc6-0472e0a49aec"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_7d3e29ba_e3d9_4356_e47d_3392002f315d","uuid":"65696c6e-d083-4df7-bc78-20c2851eb58e"},{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_703234ae_ce7c_dbf2_5366_0f91d2c6d2b0","uuid":"ab2b86b2-433f-47dc-8d63-c43cc35a3a79"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"2682c0e9-ba9f-4a81-a028-728accf377c8"},"edge_type":"inherent","type":"","uuid":"fe993ddb-c50e-4aa6-b1ed-c9ddfe16c9d1","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_9b8bdfab_7dac_86a0_15bd_235d3eebd8f7","uuid":"8ae1e0ec-275c-4381-b45f-d10afb84973f"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_4cb413a9_76dd_0ba2_fa36_64463ec9029a","uuid":"d38c8c41-fb42-4a6d-91e1-85845400df96"},"edge_type":"inherent","type":"","uuid":"322ab846-e116-4e0f-ae19-4559be20318a","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_cecc902c_3e9d_6b4c_ac3f_d1943301f962","uuid":"a882d6df-1f83-4c13-acc6-0472e0a49aec"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_9b8bdfab_7dac_86a0_15bd_235d3eebd8f7","uuid":"8ae1e0ec-275c-4381-b45f-d10afb84973f"},"edge_type":"inherent","type":"","uuid":"afbc4e51-76d5-4cf7-afd9-5489e68bfbb3","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_4cb413a9_76dd_0ba2_fa36_64463ec9029a","uuid":"d38c8c41-fb42-4a6d-91e1-85845400df96"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"f262ea91-6e7b-446e-a184-e2eb7deed2d0"},"edge_type":"inherent","type":"","uuid":"537cab28-fc94-4183-9e16-917dfbc2b5a9","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_ad5a77a8_44ba_36bb_9693_8c461a120643","uuid":"ddf1fb02-af85-48ae-8fbd-e8075d3cc5a5"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_ad5a77a8_44ba_36bb_9693_8c461a120643","uuid":"ddf1fb02-af85-48ae-8fbd-e8075d3cc5a5"},"edge_type":"inherent","type":"","uuid":"2cf8f203-6233-4135-8c76-c3d9e9512a5b","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_7d3e29ba_e3d9_4356_e47d_3392002f315d","uuid":"65696c6e-d083-4df7-bc78-20c2851eb58e"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_7d3e29ba_e3d9_4356_e47d_3392002f315d","uuid":"65696c6e-d083-4df7-bc78-20c2851eb58e"},"edge_type":"inherent","type":"","uuid":"6b113934-a5d1-4490-8504-cdf393ece878","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_703234ae_ce7c_dbf2_5366_0f91d2c6d2b0","uuid":"ab2b86b2-433f-47dc-8d63-c43cc35a3a79"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"2682c0e9-ba9f-4a81-a028-728accf377c8"},"edge_type":"depends_on","type":"","uuid":"db25d319-468d-4136-9c21-4426d3de2eb0","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"f262ea91-6e7b-446e-a184-e2eb7deed2d0"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_7febabe6_95a7_9e9c_0b37_4b38a71ce0f2"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"2682c0e9-ba9f-4a81-a028-728accf377c8","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment_cloned_0","uuid":"cecc902c-3e9d-6b4c-ac3f-d1943301f962"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"6cdcc89d-fd42-4e8a-9e97-40576d559005"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"f262ea91-6e7b-446e-a184-e2eb7deed2d0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment_cloned_0","uuid":"703234ae-ce7c-dbf2-5366-0f91d2c6d2b0"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"9b57420b-3c50-4fbe-8880-9c7651fd25ad"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd"},{"target_any_local_reference":{"kind":"app_package","name":"VMwareSlavePackage","uuid":"9b8bdfab-7dac-86a0-15bd-235d3eebd8f7"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"8ae1e0ec-275c-4381-b45f-d10afb84973f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_9b8bdfab_7dac_86a0_15bd_235d3eebd8f7"},{"target_any_local_reference":{"kind":"app_package","name":"VMwareMasterPackage","uuid":"ad5a77a8-44ba-36bb-9693-8c461a120643"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"ddf1fb02-af85-48ae-8fbd-e8075d3cc5a5","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_ad5a77a8_44ba_36bb_9693_8c461a120643"},{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareSlave","uuid":"4cb413a9-76dd-0ba2-fa36-64463ec9029a"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"d38c8c41-fb42-4a6d-91e1-85845400df96","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment_cloned_0","uuid":"cecc902c-3e9d-6b4c-ac3f-d1943301f962"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_4cb413a9_76dd_0ba2_fa36_64463ec9029a","uuid":"096d6feb-79ff-435a-b01b-0d4a12d231dc"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Substrate_4cb413a9_76dd_0ba2_fa36_64463ec9029a"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment_cloned_0","uuid":"cecc902c-3e9d-6b4c-ac3f-d1943301f962"},"retries":"0","description":"","type":"SOFT_DELETE_DEPLOYMENT_ELEMENT","uuid":"a882d6df-1f83-4c13-acc6-0472e0a49aec","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Soft_Delete_cecc902c_3e9d_6b4c_ac3f_d1943301f962"},{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareMaster","uuid":"7d3e29ba-e3d9-4356-e47d-3392002f315d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"65696c6e-d083-4df7-bc78-20c2851eb58e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment_cloned_0","uuid":"703234ae-ce7c-dbf2-5366-0f91d2c6d2b0"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_7d3e29ba_e3d9_4356_e47d_3392002f315d","uuid":"e7adf35c-26f9-401a-8ae8-8da5719a0c84"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Substrate_7d3e29ba_e3d9_4356_e47d_3392002f315d"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment_cloned_0","uuid":"703234ae-ce7c-dbf2-5366-0f91d2c6d2b0"},"retries":"0","description":"","type":"SOFT_DELETE_DEPLOYMENT_ELEMENT","uuid":"ab2b86b2-433f-47dc-8d63-c43cc35a3a79","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Soft_Delete_703234ae_ce7c_dbf2_5366_0f91d2c6d2b0"}],"description":"","message_list":[],"uuid":"60401981-af44-48e5-9911-15584f59ace7","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_7febabe6_95a7_9e9c_0b37_4b38a71ce0f2","uuid":"4bf384b5-036e-4aa2-a60c-9dc670b2ee61"},"name":"SYS_GEN__Runbook_Application_7febabe6_95a7_9e9c_0b37_4b38a71ce0f2"}}],"message_list":[],"uuid":"7febabe6-95a7-9e9c-0b37-4b38a71ce0f2","state":"ACTIVE","dependency_list":[{"getter_resource_kind":"ServiceCfg","setter_resource_attr":"MYSQL_BIN","setter_resource_kind":"ServiceCfg","setter_resource_name":"MySQL_Master","action_name":"action_create","action_resource_name":"VMware","getter_resource_name":"MySQL_Slave","action_resource_kind":"ApplicationCfg"},{"getter_resource_kind":"ServiceCfg","setter_resource_attr":"MYSQL_POSITION","setter_resource_kind":"ServiceCfg","setter_resource_name":"MySQL_Master","action_name":"action_create","action_resource_name":"VMware","getter_resource_name":"MySQL_Slave","action_resource_kind":"ApplicationCfg"},{"getter_resource_kind":"ServiceCfg","setter_resource_attr":"address","setter_resource_kind":"ServiceCfg","setter_resource_name":"MySQL_Master","action_name":"action_create","action_resource_name":"VMware","getter_resource_name":"MySQL_Slave","action_resource_kind":"ApplicationCfg"}],"variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"c342eef6-a370-1706-2642-69aeb72138d2","value":"","label":"","state":"ACTIVE","attrs":{"is_secret_modified":false,"secret_reference":{"uuid":"f4b9df97-02f7-465e-b6eb-dda2cdfb1f41"},"type":""},"editables":{"value":true},"is_hidden":false,"type":"SECRET","options":{},"name":"MYSQL_PASSWORD"}],"name":"VMware"}],"published_service_definition_list":[],"default_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"},"package_definition_list":[{"description":"","action_list":[{"description":"System action for installing an application","message_list":[],"uuid":"9bd217ff-31d2-401e-a27a-9e1b01c18232","name":"action_install","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVMasterPackage","uuid":"e322b0f6-258b-4378-9523-eab4a877f899"},"retries":"0","description":"","type":"DAG","uuid":"44337c0a-ed30-4e45-a780-d259638602e2","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Install_Crb_e322b0f6_258b_4378_9523_eab4a877f899","uuid":"283976ca-d337-4f9d-bf20-c5ed5b72e51f"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Package_e322b0f6_258b_4378_9523_eab4a877f899"},{"target_any_local_reference":{"kind":"app_package","name":"AHVMasterPackage","uuid":"e322b0f6-258b-4378-9523-eab4a877f899"},"retries":"0","description":"","type":"CUSTOM_PACKAGE_INSTALL","uuid":"283976ca-d337-4f9d-bf20-c5ed5b72e51f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVMasterPackage","uuid":"e322b0f6-258b-4378-9523-eab4a877f899"},"retries":"0","description":"","type":"DAG","uuid":"40088884-fafd-4851-bfd5-54602ab2f802","child_tasks_local_reference_list":[{"kind":"app_task","name":"Install System Packages","uuid":"2118053f-ef6d-4633-8d67-c3fef6f5a8ab"},{"kind":"app_task","name":"Create Disk Setup","uuid":"711bfd42-7f43-4e6a-b7d3-ffb47dd72272"},{"kind":"app_task","name":"Install MySQL","uuid":"a9d6b016-5c16-40f6-b5ca-a770e9438c6a"},{"kind":"app_task","name":"Setup MySQL","uuid":"bbd74d3a-ae42-475d-bd2b-c8fa95f1834c"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Install System Packages","uuid":"2118053f-ef6d-4633-8d67-c3fef6f5a8ab"},"edge_type":"user_defined","type":"","uuid":"b0c50a73-dafe-430e-a101-17068c765c3a","to_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"711bfd42-7f43-4e6a-b7d3-ffb47dd72272"}},{"from_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"711bfd42-7f43-4e6a-b7d3-ffb47dd72272"},"edge_type":"user_defined","type":"","uuid":"b47002d3-4cee-4edd-b1a0-28481a3dc317","to_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"a9d6b016-5c16-40f6-b5ca-a770e9438c6a"}},{"from_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"a9d6b016-5c16-40f6-b5ca-a770e9438c6a"},"edge_type":"user_defined","type":"","uuid":"afb22197-d1fb-494e-af83-5f26f8b5f0a7","to_task_reference":{"kind":"app_task","name":"Setup MySQL","uuid":"bbd74d3a-ae42-475d-bd2b-c8fa95f1834c"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"9cbec184_dag"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"EXEC","uuid":"2118053f-ef6d-4633-8d67-c3fef6f5a8ab","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n# -*- Install Mysql\nsudo yum update -y --quiet\nsudo yum install -y  wget xfs* bc unzip lvm2* lsscsi\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"System packages are installed\"","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install System Packages"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"EXEC","uuid":"711bfd42-7f43-4e6a-b7d3-ffb47dd72272","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n##############\n#\n# LVM setup script for MySQL . 4 disks for DATA and 4 for logs\n# Data disks are 50GB | Log disks are 25GB \n#\n#############\n\n\n#PGSQL data\nsudo pvcreate \/dev\/sdb \/dev\/sdc \/dev\/sdd \/dev\/sde\nsudo vgcreate mysqlDataVG \/dev\/sdb \/dev\/sdd \/dev\/sdc \/dev\/sde\nsudo lvcreate -l 100%FREE -i4 -I1M -n mysqlDataLV mysqlDataVG          ## Use 1MB to avoid IO amplification \n#lvcreate -l 100%FREE -i4 -I4M -n pgDataLV pgDataVG\n\n\n#PGSQL logs\nsudo pvcreate \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo vgcreate mysqlLogVG \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo lvcreate -l 100%FREE -i2 -I1M -n mysqlLogLV mysqlLogVG            ## Use 1MB to avoid IO amplification\n#lvcreate -l 100%FREE -i2 -I4M -n pgLogLV pgLogVG\n\n\n#Disable LVM read ahead\nsudo lvchange -r 0 \/dev\/mysqlDataVG\/mysqlDataLV\nsudo lvchange -r 0 \/dev\/mysqlLogVG\/mysqlLogLV\n\n\n#Format LVMs with ext4 and use nodiscard to make sure format time is fast on Nutanix due to SCSI unmap\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlDataVG\/mysqlDataLV\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlLogVG\/mysqlLogLV\n\nsleep 10\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Create Disk Setup"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"EXEC","uuid":"a9d6b016-5c16-40f6-b5ca-a770e9438c6a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nsudo hostnamectl set-hostname \"@@{name}@@\"\n\n# -*- Mysql installation \nsudo yum install -y --quiet \"http:\/\/repo.mysql.com\/mysql80-community-release-el7.rpm\"\nsudo yum update -y --quiet\nsudo yum install -y --quiet sshpass mysql-community-server.x86_64\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install MySQL"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"EXEC","uuid":"bbd74d3a-ae42-475d-bd2b-c8fa95f1834c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\necho \"!includedir \/etc\/my.cnf.d\" | sudo tee -a \/etc\/my.cnf\n\necho \"[mysqld]\nbinlog-format=mixed\nlog-bin=mysql-bin\ndatadir=\/mysql\/data\nsql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES\ninnodb_data_home_dir = \/mysql\/data\ninnodb_log_group_home_dir = \/mysql\/log\ninnodb_file_per_table\ntmpdir=\/mysql\/tmpdir\ninnodb_undo_directory = \/mysql\/undo\ndefault-storage-engine = innodb\ndefault_tmp_storage_engine = innodb\ninnodb_log_files_in_group = 4\ninnodb_log_file_size = 1G\ninnodb_log_buffer_size = 8M\ninnodb_buffer_pool_size = 6G\t\nlarge-pages\t\ninnodb_buffer_pool_instances = 64\t\ninnodb_flush_method=O_DIRECT\t\ninnodb_flush_neighbors=0\t \ninnodb_flush_log_at_trx_commit=1\ninnodb_buffer_pool_dump_at_shutdown=1\t\ninnodb_buffer_pool_load_at_startup=1\t\nbulk_insert_buffer_size = 256\t\ninnodb_thread_concurrency = 16\t\n \t \n# Undo tablespace\t \ninnodb_undo_tablespaces = 5\t\n \t \n# Networking\t \nwait_timeout=57600\t \nmax_allowed_packet=1G\t\nsocket=\/var\/lib\/mysql\/mysql.sock\t \nskip-name-resolve\nport=3306\t\nmax_connections=1000\t\n\n\n[mysqld_safe]\nlog-error=\/mysql\/log\/mysqld.log\npid-file=\/var\/run\/mysqld\/mysqld.pid\" | sudo tee \/etc\/my.cnf.d\/nutanix.cnf\n\nsudo sed -i \"\/\\[mysqld\\]\/a server-id=100\" \/etc\/my.cnf.d\/nutanix.cnf\necho \"#master=100\" | sudo tee -a  \/etc\/my.cnf.d\/nutanix.cnf\n\nserver_id=`sudo cat \/etc\/my.cnf.d\/nutanix.cnf | grep  \"server-id=\" | cut -d= -f2`\nis_master=`sudo cat \/etc\/my.cnf.d\/nutanix.cnf | grep -q -w \"#master=$server_id\"; echo $?`\n\nif [ ${is_master} -ne 0 ]\nthen\n   sudo sed -i '\/\\[mysqld\\]\/a read_only=1' \/etc\/my.cnf.d\/nutanix.cnf\nfi\n\n# -*- Sysctl configuration\nmysql_grp_id=`id -g mysql`\nsudo sysctl -w vm.swappiness=0\nsudo sysctl -w vm.nr_hugepages=1024\nsudo sysctl -w vm.overcommit_memory=1\nsudo sysctl -w vm.dirty_background_ratio=5 \nsudo sysctl -w vm.dirty_ratio=15\nsudo sysctl -w vm.dirty_expire_centisecs=500\nsudo sysctl -w vm.dirty_writeback_centisecs=100\nsudo sysctl -w vm.hugetlb_shm_group=$mysql_grp_id\n\necho \"vm.swappiness=0\nvm.nr_hugepages=1024\nvm.overcommit_memory=1\nvm.dirty_background_ratio=5 \nvm.dirty_ratio=15\nvm.dirty_expire_centisecs=500\nvm.dirty_writeback_centisecs=100\nvm.hugetlb_shm_group=$mysql_grp_id\" | sudo tee  -a \/etc\/sysctl.conf\n\necho \"ACTION=='add|change', SUBSYSTEM=='block', RUN+='\/bin\/sh -c \\\"\/bin\/echo 1024 > \/sys%p\/queue\/max_sectors_kb\\\"'\" | sudo tee \/etc\/udev\/rules.d\/71-block-max-sectors.rules\n\necho \"\/dev\/mysqlDataVG\/mysqlDataLV \/mysql\/data ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\necho \"\/dev\/mysqlLogVG\/mysqlLogLV \/mysql\/log ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\nsudo mkdir -p \/mysql\/log \/mysql\/data \/mysql\/tmpdir \/mysql\/undo\nsudo mount -a\nsudo chown -R mysql:mysql \/mysql\n\nsudo systemctl enable mysqld\n\nsudo rm -rf \/mysql\/data\/*\nsudo systemctl start mysqld\n\n#Fix to obtain temp password and set it to blank\npassword=$(grep -oP 'temporary password(.*): \\K(\\S+)' \/var\/log\/mysqld.log)\nsudo mysqladmin --user=root --password=\"$password\" password aaBB**cc1122\nsudo mysql --user=root --password=aaBB**cc1122 -e \"UNINSTALL COMPONENT 'file:\/\/component_validate_password'\"\nsudo mysqladmin --user=root --password=\"aaBB**cc1122\" password \"\"\n\n\n#Mysql secure installation\nsudo mysql -u root<<-EOF\nALTER USER 'root'@'localhost' IDENTIFIED WITH caching_sha2_password BY '@@{MYSQL_PASSWORD}@@';\nDELETE FROM mysql.user WHERE User='root' AND Host NOT IN ('localhost', '127.0.0.1', '::1');\nDELETE FROM mysql.user WHERE User='';\nDELETE FROM mysql.db WHERE Db='test' OR Db='test\\_%';\nFLUSH PRIVILEGES;\nEOF\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Setup MySQL"}],"description":"","message_list":[],"uuid":"f04053e3-09bc-4fa6-ac0c-e2cb560afb2a","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"9cbec184_dag","uuid":"40088884-fafd-4851-bfd5-54602ab2f802"},"name":"ee9a3de0_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVMasterPackage","uuid":"e322b0f6-258b-4378-9523-eab4a877f899"},"retries":"0","description":"","type":"DAG","uuid":"f6a6141d-7040-4e27-8e66-0c64a5942601","child_tasks_local_reference_list":[{"kind":"app_task","name":"PackageUninstallTask","uuid":"8984e605-ad21-4662-a82a-705da511c149"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"7e474eb1_dag"},{"target_any_local_reference":{"kind":"app_package","name":"AHVMasterPackage","uuid":"e322b0f6-258b-4378-9523-eab4a877f899"},"retries":"0","description":"","type":"EXEC","uuid":"8984e605-ad21-4662-a82a-705da511c149","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"PackageUninstallTask"}],"description":"","message_list":[],"uuid":"aa3002cf-e8f3-414e-85e6-b4f75deb2f08","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"7e474eb1_dag","uuid":"f6a6141d-7040-4e27-8e66-0c64a5942601"},"name":"4235ede6_runbook"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Install_Crb_e322b0f6_258b_4378_9523_eab4a877f899"}],"description":"","message_list":[],"uuid":"6fb2000e-8a69-456f-b822-775fe78d2565","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Package_e322b0f6_258b_4378_9523_eab4a877f899","uuid":"44337c0a-ed30-4e45-a780-d259638602e2"},"name":"SYS_GEN__Runbook_Package_e322b0f6_258b_4378_9523_eab4a877f899"}},{"description":"System action for creating an application","message_list":[],"uuid":"ed3b692d-5591-4d18-9d14-5abf56a1c9dc","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVMasterPackage","uuid":"e322b0f6-258b-4378-9523-eab4a877f899"},"retries":"0","description":"","type":"DAG","uuid":"6ee10aa2-ce4e-445d-9d3e-ac847b3adb12","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_e322b0f6_258b_4378_9523_eab4a877f899","uuid":"ce5dac7c-ed63-40b2-bff4-84f375de4bfd"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"71e9b592-df46-47a8-8186-7d97bbf6fe91"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"6ffbab62-ef35-421c-b928-5f9c1d3cccf8"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"71e9b592-df46-47a8-8186-7d97bbf6fe91"},"edge_type":"inherent","type":"","uuid":"18371fb4-fdff-4b9e-8ab7-b8d4c7eee74f","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"6ffbab62-ef35-421c-b928-5f9c1d3cccf8"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_e322b0f6_258b_4378_9523_eab4a877f899","uuid":"ce5dac7c-ed63-40b2-bff4-84f375de4bfd"},"edge_type":"inherent","type":"","uuid":"c3f302df-f4a1-4d62-a6f5-9f6317427532","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"71e9b592-df46-47a8-8186-7d97bbf6fe91"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_e322b0f6_258b_4378_9523_eab4a877f899"},{"target_any_local_reference":{"kind":"app_package","name":"AHVMasterPackage","uuid":"e322b0f6-258b-4378-9523-eab4a877f899"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"ce5dac7c-ed63-40b2-bff4-84f375de4bfd","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_e322b0f6_258b_4378_9523_eab4a877f899","uuid":"6fb2000e-8a69-456f-b822-775fe78d2565"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_e322b0f6_258b_4378_9523_eab4a877f899"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"71e9b592-df46-47a8-8186-7d97bbf6fe91","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0a970522_runbook","uuid":"f2803b23-af0b-4afd-8a2f-ef666adf85c8"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"6ffbab62-ef35-421c-b928-5f9c1d3cccf8","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"5ddb28d1_runbook","uuid":"f88c4d73-c0ab-488b-a016-3e1453b91891"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd"}],"description":"","message_list":[],"uuid":"77dc4ebd-ae02-456e-8795-10726a0486af","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_e322b0f6_258b_4378_9523_eab4a877f899","uuid":"6ee10aa2-ce4e-445d-9d3e-ac847b3adb12"},"name":"SYS_GEN__Runbook_Package_e322b0f6_258b_4378_9523_eab4a877f899"}},{"description":"System action for uninstalling an application","message_list":[],"uuid":"a27bc745-4a1b-4097-9a17-d55313c46cc2","name":"action_uninstall","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVMasterPackage","uuid":"e322b0f6-258b-4378-9523-eab4a877f899"},"retries":"0","description":"","type":"DAG","uuid":"3a30e82a-64a8-4b2c-b8bd-f8b2fcea552a","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Uninstall_Crb_e322b0f6_258b_4378_9523_eab4a877f899","uuid":"0c023d20-3ead-4931-b4a2-76b16ee60035"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Package_e322b0f6_258b_4378_9523_eab4a877f899"},{"target_any_local_reference":{"kind":"app_package","name":"AHVMasterPackage","uuid":"e322b0f6-258b-4378-9523-eab4a877f899"},"retries":"0","description":"","type":"CUSTOM_PACKAGE_UNINSTALL","uuid":"0c023d20-3ead-4931-b4a2-76b16ee60035","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVMasterPackage","uuid":"e322b0f6-258b-4378-9523-eab4a877f899"},"retries":"0","description":"","type":"DAG","uuid":"40088884-fafd-4851-bfd5-54602ab2f802","child_tasks_local_reference_list":[{"kind":"app_task","name":"Install System Packages","uuid":"2118053f-ef6d-4633-8d67-c3fef6f5a8ab"},{"kind":"app_task","name":"Create Disk Setup","uuid":"711bfd42-7f43-4e6a-b7d3-ffb47dd72272"},{"kind":"app_task","name":"Install MySQL","uuid":"a9d6b016-5c16-40f6-b5ca-a770e9438c6a"},{"kind":"app_task","name":"Setup MySQL","uuid":"bbd74d3a-ae42-475d-bd2b-c8fa95f1834c"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Install System Packages","uuid":"2118053f-ef6d-4633-8d67-c3fef6f5a8ab"},"edge_type":"user_defined","type":"","uuid":"b0c50a73-dafe-430e-a101-17068c765c3a","to_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"711bfd42-7f43-4e6a-b7d3-ffb47dd72272"}},{"from_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"711bfd42-7f43-4e6a-b7d3-ffb47dd72272"},"edge_type":"user_defined","type":"","uuid":"b47002d3-4cee-4edd-b1a0-28481a3dc317","to_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"a9d6b016-5c16-40f6-b5ca-a770e9438c6a"}},{"from_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"a9d6b016-5c16-40f6-b5ca-a770e9438c6a"},"edge_type":"user_defined","type":"","uuid":"afb22197-d1fb-494e-af83-5f26f8b5f0a7","to_task_reference":{"kind":"app_task","name":"Setup MySQL","uuid":"bbd74d3a-ae42-475d-bd2b-c8fa95f1834c"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"9cbec184_dag"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"EXEC","uuid":"2118053f-ef6d-4633-8d67-c3fef6f5a8ab","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n# -*- Install Mysql\nsudo yum update -y --quiet\nsudo yum install -y  wget xfs* bc unzip lvm2* lsscsi\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"System packages are installed\"","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install System Packages"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"EXEC","uuid":"711bfd42-7f43-4e6a-b7d3-ffb47dd72272","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n##############\n#\n# LVM setup script for MySQL . 4 disks for DATA and 4 for logs\n# Data disks are 50GB | Log disks are 25GB \n#\n#############\n\n\n#PGSQL data\nsudo pvcreate \/dev\/sdb \/dev\/sdc \/dev\/sdd \/dev\/sde\nsudo vgcreate mysqlDataVG \/dev\/sdb \/dev\/sdd \/dev\/sdc \/dev\/sde\nsudo lvcreate -l 100%FREE -i4 -I1M -n mysqlDataLV mysqlDataVG          ## Use 1MB to avoid IO amplification \n#lvcreate -l 100%FREE -i4 -I4M -n pgDataLV pgDataVG\n\n\n#PGSQL logs\nsudo pvcreate \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo vgcreate mysqlLogVG \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo lvcreate -l 100%FREE -i2 -I1M -n mysqlLogLV mysqlLogVG            ## Use 1MB to avoid IO amplification\n#lvcreate -l 100%FREE -i2 -I4M -n pgLogLV pgLogVG\n\n\n#Disable LVM read ahead\nsudo lvchange -r 0 \/dev\/mysqlDataVG\/mysqlDataLV\nsudo lvchange -r 0 \/dev\/mysqlLogVG\/mysqlLogLV\n\n\n#Format LVMs with ext4 and use nodiscard to make sure format time is fast on Nutanix due to SCSI unmap\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlDataVG\/mysqlDataLV\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlLogVG\/mysqlLogLV\n\nsleep 10\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Create Disk Setup"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"EXEC","uuid":"a9d6b016-5c16-40f6-b5ca-a770e9438c6a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nsudo hostnamectl set-hostname \"@@{name}@@\"\n\n# -*- Mysql installation \nsudo yum install -y --quiet \"http:\/\/repo.mysql.com\/mysql80-community-release-el7.rpm\"\nsudo yum update -y --quiet\nsudo yum install -y --quiet sshpass mysql-community-server.x86_64\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install MySQL"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"EXEC","uuid":"bbd74d3a-ae42-475d-bd2b-c8fa95f1834c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\necho \"!includedir \/etc\/my.cnf.d\" | sudo tee -a \/etc\/my.cnf\n\necho \"[mysqld]\nbinlog-format=mixed\nlog-bin=mysql-bin\ndatadir=\/mysql\/data\nsql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES\ninnodb_data_home_dir = \/mysql\/data\ninnodb_log_group_home_dir = \/mysql\/log\ninnodb_file_per_table\ntmpdir=\/mysql\/tmpdir\ninnodb_undo_directory = \/mysql\/undo\ndefault-storage-engine = innodb\ndefault_tmp_storage_engine = innodb\ninnodb_log_files_in_group = 4\ninnodb_log_file_size = 1G\ninnodb_log_buffer_size = 8M\ninnodb_buffer_pool_size = 6G\t\nlarge-pages\t\ninnodb_buffer_pool_instances = 64\t\ninnodb_flush_method=O_DIRECT\t\ninnodb_flush_neighbors=0\t \ninnodb_flush_log_at_trx_commit=1\ninnodb_buffer_pool_dump_at_shutdown=1\t\ninnodb_buffer_pool_load_at_startup=1\t\nbulk_insert_buffer_size = 256\t\ninnodb_thread_concurrency = 16\t\n \t \n# Undo tablespace\t \ninnodb_undo_tablespaces = 5\t\n \t \n# Networking\t \nwait_timeout=57600\t \nmax_allowed_packet=1G\t\nsocket=\/var\/lib\/mysql\/mysql.sock\t \nskip-name-resolve\nport=3306\t\nmax_connections=1000\t\n\n\n[mysqld_safe]\nlog-error=\/mysql\/log\/mysqld.log\npid-file=\/var\/run\/mysqld\/mysqld.pid\" | sudo tee \/etc\/my.cnf.d\/nutanix.cnf\n\nsudo sed -i \"\/\\[mysqld\\]\/a server-id=100\" \/etc\/my.cnf.d\/nutanix.cnf\necho \"#master=100\" | sudo tee -a  \/etc\/my.cnf.d\/nutanix.cnf\n\nserver_id=`sudo cat \/etc\/my.cnf.d\/nutanix.cnf | grep  \"server-id=\" | cut -d= -f2`\nis_master=`sudo cat \/etc\/my.cnf.d\/nutanix.cnf | grep -q -w \"#master=$server_id\"; echo $?`\n\nif [ ${is_master} -ne 0 ]\nthen\n   sudo sed -i '\/\\[mysqld\\]\/a read_only=1' \/etc\/my.cnf.d\/nutanix.cnf\nfi\n\n# -*- Sysctl configuration\nmysql_grp_id=`id -g mysql`\nsudo sysctl -w vm.swappiness=0\nsudo sysctl -w vm.nr_hugepages=1024\nsudo sysctl -w vm.overcommit_memory=1\nsudo sysctl -w vm.dirty_background_ratio=5 \nsudo sysctl -w vm.dirty_ratio=15\nsudo sysctl -w vm.dirty_expire_centisecs=500\nsudo sysctl -w vm.dirty_writeback_centisecs=100\nsudo sysctl -w vm.hugetlb_shm_group=$mysql_grp_id\n\necho \"vm.swappiness=0\nvm.nr_hugepages=1024\nvm.overcommit_memory=1\nvm.dirty_background_ratio=5 \nvm.dirty_ratio=15\nvm.dirty_expire_centisecs=500\nvm.dirty_writeback_centisecs=100\nvm.hugetlb_shm_group=$mysql_grp_id\" | sudo tee  -a \/etc\/sysctl.conf\n\necho \"ACTION=='add|change', SUBSYSTEM=='block', RUN+='\/bin\/sh -c \\\"\/bin\/echo 1024 > \/sys%p\/queue\/max_sectors_kb\\\"'\" | sudo tee \/etc\/udev\/rules.d\/71-block-max-sectors.rules\n\necho \"\/dev\/mysqlDataVG\/mysqlDataLV \/mysql\/data ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\necho \"\/dev\/mysqlLogVG\/mysqlLogLV \/mysql\/log ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\nsudo mkdir -p \/mysql\/log \/mysql\/data \/mysql\/tmpdir \/mysql\/undo\nsudo mount -a\nsudo chown -R mysql:mysql \/mysql\n\nsudo systemctl enable mysqld\n\nsudo rm -rf \/mysql\/data\/*\nsudo systemctl start mysqld\n\n#Fix to obtain temp password and set it to blank\npassword=$(grep -oP 'temporary password(.*): \\K(\\S+)' \/var\/log\/mysqld.log)\nsudo mysqladmin --user=root --password=\"$password\" password aaBB**cc1122\nsudo mysql --user=root --password=aaBB**cc1122 -e \"UNINSTALL COMPONENT 'file:\/\/component_validate_password'\"\nsudo mysqladmin --user=root --password=\"aaBB**cc1122\" password \"\"\n\n\n#Mysql secure installation\nsudo mysql -u root<<-EOF\nALTER USER 'root'@'localhost' IDENTIFIED WITH caching_sha2_password BY '@@{MYSQL_PASSWORD}@@';\nDELETE FROM mysql.user WHERE User='root' AND Host NOT IN ('localhost', '127.0.0.1', '::1');\nDELETE FROM mysql.user WHERE User='';\nDELETE FROM mysql.db WHERE Db='test' OR Db='test\\_%';\nFLUSH PRIVILEGES;\nEOF\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Setup MySQL"}],"description":"","message_list":[],"uuid":"f04053e3-09bc-4fa6-ac0c-e2cb560afb2a","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"9cbec184_dag","uuid":"40088884-fafd-4851-bfd5-54602ab2f802"},"name":"ee9a3de0_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVMasterPackage","uuid":"e322b0f6-258b-4378-9523-eab4a877f899"},"retries":"0","description":"","type":"DAG","uuid":"f6a6141d-7040-4e27-8e66-0c64a5942601","child_tasks_local_reference_list":[{"kind":"app_task","name":"PackageUninstallTask","uuid":"8984e605-ad21-4662-a82a-705da511c149"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"7e474eb1_dag"},{"target_any_local_reference":{"kind":"app_package","name":"AHVMasterPackage","uuid":"e322b0f6-258b-4378-9523-eab4a877f899"},"retries":"0","description":"","type":"EXEC","uuid":"8984e605-ad21-4662-a82a-705da511c149","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"PackageUninstallTask"}],"description":"","message_list":[],"uuid":"aa3002cf-e8f3-414e-85e6-b4f75deb2f08","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"7e474eb1_dag","uuid":"f6a6141d-7040-4e27-8e66-0c64a5942601"},"name":"4235ede6_runbook"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Uninstall_Crb_e322b0f6_258b_4378_9523_eab4a877f899"}],"description":"","message_list":[],"uuid":"e593fc52-7d65-4ff6-80f3-7c68c3bc1aca","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Package_e322b0f6_258b_4378_9523_eab4a877f899","uuid":"3a30e82a-64a8-4b2c-b8bd-f8b2fcea552a"},"name":"SYS_GEN__Runbook_Package_e322b0f6_258b_4378_9523_eab4a877f899"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"69a38f6c-6a9c-4ad1-b0c6-cf4627369049","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVMasterPackage","uuid":"e322b0f6-258b-4378-9523-eab4a877f899"},"retries":"0","description":"","type":"DAG","uuid":"06603d6c-500d-4cd5-9a35-9f262f11e5c9","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"ac5748a0-0c19-4ebb-bae0-777381795b93"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"2c169b44-2343-41a2-a79e-eb830ae8c926"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_e322b0f6_258b_4378_9523_eab4a877f899","uuid":"ee9c94f6-7378-4d6c-ab1c-485e62a5bba5"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"ac5748a0-0c19-4ebb-bae0-777381795b93"},"edge_type":"inherent","type":"","uuid":"722a68c7-71cd-424c-be91-9a1f2057cc7b","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"2c169b44-2343-41a2-a79e-eb830ae8c926"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"2c169b44-2343-41a2-a79e-eb830ae8c926"},"edge_type":"inherent","type":"","uuid":"af35af53-756a-442c-a2c4-37ff685a27ea","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_e322b0f6_258b_4378_9523_eab4a877f899","uuid":"ee9c94f6-7378-4d6c-ab1c-485e62a5bba5"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_e322b0f6_258b_4378_9523_eab4a877f899"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"ac5748a0-0c19-4ebb-bae0-777381795b93","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0aefbca3_runbook","uuid":"a75d0021-cf2d-4da4-85dc-56ee0ed9e9eb"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"2c169b44-2343-41a2-a79e-eb830ae8c926","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"5fd47ec3_runbook","uuid":"7e58dd6b-1da9-495c-97e7-84bb6e288586"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd"},{"target_any_local_reference":{"kind":"app_package","name":"AHVMasterPackage","uuid":"e322b0f6-258b-4378-9523-eab4a877f899"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"ee9c94f6-7378-4d6c-ab1c-485e62a5bba5","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_e322b0f6_258b_4378_9523_eab4a877f899","uuid":"e593fc52-7d65-4ff6-80f3-7c68c3bc1aca"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_e322b0f6_258b_4378_9523_eab4a877f899"}],"description":"","message_list":[],"uuid":"7988208f-fadb-4992-a90a-94b1c85868b4","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_e322b0f6_258b_4378_9523_eab4a877f899","uuid":"06603d6c-500d-4cd5-9a35-9f262f11e5c9"},"name":"SYS_GEN__Runbook_Package_e322b0f6_258b_4378_9523_eab4a877f899"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"ca35db1e-c329-4174-884a-eaf2e1e1b5f8","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVMasterPackage","uuid":"e322b0f6-258b-4378-9523-eab4a877f899"},"retries":"0","description":"","type":"DAG","uuid":"6ff5896b-6e33-42c6-8963-56a1175845bc","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"197de9ed-d887-4d45-a1d6-337361fffbdc"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_e322b0f6_258b_4378_9523_eab4a877f899","uuid":"7ce441c2-1729-4c5e-aaf6-ed8ba4b77138"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"197de9ed-d887-4d45-a1d6-337361fffbdc"},"edge_type":"inherent","type":"","uuid":"df060f72-3784-4fb9-a060-290992372f0b","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_e322b0f6_258b_4378_9523_eab4a877f899","uuid":"7ce441c2-1729-4c5e-aaf6-ed8ba4b77138"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_e322b0f6_258b_4378_9523_eab4a877f899"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"197de9ed-d887-4d45-a1d6-337361fffbdc","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"9b57420b-3c50-4fbe-8880-9c7651fd25ad"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd"},{"target_any_local_reference":{"kind":"app_package","name":"AHVMasterPackage","uuid":"e322b0f6-258b-4378-9523-eab4a877f899"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"7ce441c2-1729-4c5e-aaf6-ed8ba4b77138","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_e322b0f6_258b_4378_9523_eab4a877f899"}],"description":"","message_list":[],"uuid":"4b0498ba-30d2-4053-a8d8-65977ab6c454","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_e322b0f6_258b_4378_9523_eab4a877f899","uuid":"6ff5896b-6e33-42c6-8963-56a1175845bc"},"name":"SYS_GEN__Runbook_Package_e322b0f6_258b_4378_9523_eab4a877f899"}},{"description":"System action for starting an application","message_list":[],"uuid":"24054f06-07d6-4454-bc93-65848e925fdf","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVMasterPackage","uuid":"e322b0f6-258b-4378-9523-eab4a877f899"},"retries":"0","description":"","type":"DAG","uuid":"1193358b-1d35-4f77-b719-dd333526fef1","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"19471f16-55cc-4faa-8d23-fa9f4a483021"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_e322b0f6_258b_4378_9523_eab4a877f899"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"19471f16-55cc-4faa-8d23-fa9f4a483021","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"5ddb28d1_runbook","uuid":"f88c4d73-c0ab-488b-a016-3e1453b91891"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd"}],"description":"","message_list":[],"uuid":"82d979c3-b768-4d47-920d-eb4460f82fee","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_e322b0f6_258b_4378_9523_eab4a877f899","uuid":"1193358b-1d35-4f77-b719-dd333526fef1"},"name":"SYS_GEN__Runbook_Package_e322b0f6_258b_4378_9523_eab4a877f899"}},{"description":"System action for restarting an application","message_list":[],"uuid":"e514953e-e945-4cb2-aeea-2c7a654d055b","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVMasterPackage","uuid":"e322b0f6-258b-4378-9523-eab4a877f899"},"retries":"0","description":"","type":"DAG","uuid":"908c753f-da86-4ac4-a5bd-518c10651d0d","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"f0b5f6ff-4f8a-4737-a1e2-1e985e449138"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_e322b0f6_258b_4378_9523_eab4a877f899"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"f0b5f6ff-4f8a-4737-a1e2-1e985e449138","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"7e709238_runbook","uuid":"6beb8e29-06b2-4218-a1fd-18c28d8c6218"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd"}],"description":"","message_list":[],"uuid":"5c55bd51-ba90-4e2b-974c-a512ca542226","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_e322b0f6_258b_4378_9523_eab4a877f899","uuid":"908c753f-da86-4ac4-a5bd-518c10651d0d"},"name":"SYS_GEN__Runbook_Package_e322b0f6_258b_4378_9523_eab4a877f899"}},{"description":"System action for stopping an application","message_list":[],"uuid":"1761f9de-3b3a-4083-b2f4-c96f78f405fb","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVMasterPackage","uuid":"e322b0f6-258b-4378-9523-eab4a877f899"},"retries":"0","description":"","type":"DAG","uuid":"27d8baf9-47bd-48c0-b21b-cf606c70a318","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"9ad1cb99-7ece-4bb6-8904-ae0efae20973"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_e322b0f6_258b_4378_9523_eab4a877f899"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"9ad1cb99-7ece-4bb6-8904-ae0efae20973","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0aefbca3_runbook","uuid":"a75d0021-cf2d-4da4-85dc-56ee0ed9e9eb"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd"}],"description":"","message_list":[],"uuid":"448d547a-3e31-4ad7-9ada-aeb8193b7aad","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_e322b0f6_258b_4378_9523_eab4a877f899","uuid":"27d8baf9-47bd-48c0-b21b-cf606c70a318"},"name":"SYS_GEN__Runbook_Package_e322b0f6_258b_4378_9523_eab4a877f899"}}],"message_list":[],"service_local_reference_list":[{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"}],"uuid":"e322b0f6-258b-4378-9523-eab4a877f899","state":"ACTIVE","version":"","editables":{},"type":"DEB","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVMasterPackage","uuid":"e322b0f6-258b-4378-9523-eab4a877f899"},"retries":"0","description":"","type":"DAG","uuid":"40088884-fafd-4851-bfd5-54602ab2f802","child_tasks_local_reference_list":[{"kind":"app_task","name":"Install System Packages","uuid":"2118053f-ef6d-4633-8d67-c3fef6f5a8ab"},{"kind":"app_task","name":"Create Disk Setup","uuid":"711bfd42-7f43-4e6a-b7d3-ffb47dd72272"},{"kind":"app_task","name":"Install MySQL","uuid":"a9d6b016-5c16-40f6-b5ca-a770e9438c6a"},{"kind":"app_task","name":"Setup MySQL","uuid":"bbd74d3a-ae42-475d-bd2b-c8fa95f1834c"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Install System Packages","uuid":"2118053f-ef6d-4633-8d67-c3fef6f5a8ab"},"edge_type":"user_defined","type":"","uuid":"b0c50a73-dafe-430e-a101-17068c765c3a","to_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"711bfd42-7f43-4e6a-b7d3-ffb47dd72272"}},{"from_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"711bfd42-7f43-4e6a-b7d3-ffb47dd72272"},"edge_type":"user_defined","type":"","uuid":"b47002d3-4cee-4edd-b1a0-28481a3dc317","to_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"a9d6b016-5c16-40f6-b5ca-a770e9438c6a"}},{"from_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"a9d6b016-5c16-40f6-b5ca-a770e9438c6a"},"edge_type":"user_defined","type":"","uuid":"afb22197-d1fb-494e-af83-5f26f8b5f0a7","to_task_reference":{"kind":"app_task","name":"Setup MySQL","uuid":"bbd74d3a-ae42-475d-bd2b-c8fa95f1834c"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"9cbec184_dag"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"EXEC","uuid":"2118053f-ef6d-4633-8d67-c3fef6f5a8ab","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n# -*- Install Mysql\nsudo yum update -y --quiet\nsudo yum install -y  wget xfs* bc unzip lvm2* lsscsi\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"System packages are installed\"","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install System Packages"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"EXEC","uuid":"711bfd42-7f43-4e6a-b7d3-ffb47dd72272","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n##############\n#\n# LVM setup script for MySQL . 4 disks for DATA and 4 for logs\n# Data disks are 50GB | Log disks are 25GB \n#\n#############\n\n\n#PGSQL data\nsudo pvcreate \/dev\/sdb \/dev\/sdc \/dev\/sdd \/dev\/sde\nsudo vgcreate mysqlDataVG \/dev\/sdb \/dev\/sdd \/dev\/sdc \/dev\/sde\nsudo lvcreate -l 100%FREE -i4 -I1M -n mysqlDataLV mysqlDataVG          ## Use 1MB to avoid IO amplification \n#lvcreate -l 100%FREE -i4 -I4M -n pgDataLV pgDataVG\n\n\n#PGSQL logs\nsudo pvcreate \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo vgcreate mysqlLogVG \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo lvcreate -l 100%FREE -i2 -I1M -n mysqlLogLV mysqlLogVG            ## Use 1MB to avoid IO amplification\n#lvcreate -l 100%FREE -i2 -I4M -n pgLogLV pgLogVG\n\n\n#Disable LVM read ahead\nsudo lvchange -r 0 \/dev\/mysqlDataVG\/mysqlDataLV\nsudo lvchange -r 0 \/dev\/mysqlLogVG\/mysqlLogLV\n\n\n#Format LVMs with ext4 and use nodiscard to make sure format time is fast on Nutanix due to SCSI unmap\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlDataVG\/mysqlDataLV\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlLogVG\/mysqlLogLV\n\nsleep 10\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Create Disk Setup"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"EXEC","uuid":"a9d6b016-5c16-40f6-b5ca-a770e9438c6a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nsudo hostnamectl set-hostname \"@@{name}@@\"\n\n# -*- Mysql installation \nsudo yum install -y --quiet \"http:\/\/repo.mysql.com\/mysql80-community-release-el7.rpm\"\nsudo yum update -y --quiet\nsudo yum install -y --quiet sshpass mysql-community-server.x86_64\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install MySQL"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"EXEC","uuid":"bbd74d3a-ae42-475d-bd2b-c8fa95f1834c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\necho \"!includedir \/etc\/my.cnf.d\" | sudo tee -a \/etc\/my.cnf\n\necho \"[mysqld]\nbinlog-format=mixed\nlog-bin=mysql-bin\ndatadir=\/mysql\/data\nsql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES\ninnodb_data_home_dir = \/mysql\/data\ninnodb_log_group_home_dir = \/mysql\/log\ninnodb_file_per_table\ntmpdir=\/mysql\/tmpdir\ninnodb_undo_directory = \/mysql\/undo\ndefault-storage-engine = innodb\ndefault_tmp_storage_engine = innodb\ninnodb_log_files_in_group = 4\ninnodb_log_file_size = 1G\ninnodb_log_buffer_size = 8M\ninnodb_buffer_pool_size = 6G\t\nlarge-pages\t\ninnodb_buffer_pool_instances = 64\t\ninnodb_flush_method=O_DIRECT\t\ninnodb_flush_neighbors=0\t \ninnodb_flush_log_at_trx_commit=1\ninnodb_buffer_pool_dump_at_shutdown=1\t\ninnodb_buffer_pool_load_at_startup=1\t\nbulk_insert_buffer_size = 256\t\ninnodb_thread_concurrency = 16\t\n \t \n# Undo tablespace\t \ninnodb_undo_tablespaces = 5\t\n \t \n# Networking\t \nwait_timeout=57600\t \nmax_allowed_packet=1G\t\nsocket=\/var\/lib\/mysql\/mysql.sock\t \nskip-name-resolve\nport=3306\t\nmax_connections=1000\t\n\n\n[mysqld_safe]\nlog-error=\/mysql\/log\/mysqld.log\npid-file=\/var\/run\/mysqld\/mysqld.pid\" | sudo tee \/etc\/my.cnf.d\/nutanix.cnf\n\nsudo sed -i \"\/\\[mysqld\\]\/a server-id=100\" \/etc\/my.cnf.d\/nutanix.cnf\necho \"#master=100\" | sudo tee -a  \/etc\/my.cnf.d\/nutanix.cnf\n\nserver_id=`sudo cat \/etc\/my.cnf.d\/nutanix.cnf | grep  \"server-id=\" | cut -d= -f2`\nis_master=`sudo cat \/etc\/my.cnf.d\/nutanix.cnf | grep -q -w \"#master=$server_id\"; echo $?`\n\nif [ ${is_master} -ne 0 ]\nthen\n   sudo sed -i '\/\\[mysqld\\]\/a read_only=1' \/etc\/my.cnf.d\/nutanix.cnf\nfi\n\n# -*- Sysctl configuration\nmysql_grp_id=`id -g mysql`\nsudo sysctl -w vm.swappiness=0\nsudo sysctl -w vm.nr_hugepages=1024\nsudo sysctl -w vm.overcommit_memory=1\nsudo sysctl -w vm.dirty_background_ratio=5 \nsudo sysctl -w vm.dirty_ratio=15\nsudo sysctl -w vm.dirty_expire_centisecs=500\nsudo sysctl -w vm.dirty_writeback_centisecs=100\nsudo sysctl -w vm.hugetlb_shm_group=$mysql_grp_id\n\necho \"vm.swappiness=0\nvm.nr_hugepages=1024\nvm.overcommit_memory=1\nvm.dirty_background_ratio=5 \nvm.dirty_ratio=15\nvm.dirty_expire_centisecs=500\nvm.dirty_writeback_centisecs=100\nvm.hugetlb_shm_group=$mysql_grp_id\" | sudo tee  -a \/etc\/sysctl.conf\n\necho \"ACTION=='add|change', SUBSYSTEM=='block', RUN+='\/bin\/sh -c \\\"\/bin\/echo 1024 > \/sys%p\/queue\/max_sectors_kb\\\"'\" | sudo tee \/etc\/udev\/rules.d\/71-block-max-sectors.rules\n\necho \"\/dev\/mysqlDataVG\/mysqlDataLV \/mysql\/data ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\necho \"\/dev\/mysqlLogVG\/mysqlLogLV \/mysql\/log ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\nsudo mkdir -p \/mysql\/log \/mysql\/data \/mysql\/tmpdir \/mysql\/undo\nsudo mount -a\nsudo chown -R mysql:mysql \/mysql\n\nsudo systemctl enable mysqld\n\nsudo rm -rf \/mysql\/data\/*\nsudo systemctl start mysqld\n\n#Fix to obtain temp password and set it to blank\npassword=$(grep -oP 'temporary password(.*): \\K(\\S+)' \/var\/log\/mysqld.log)\nsudo mysqladmin --user=root --password=\"$password\" password aaBB**cc1122\nsudo mysql --user=root --password=aaBB**cc1122 -e \"UNINSTALL COMPONENT 'file:\/\/component_validate_password'\"\nsudo mysqladmin --user=root --password=\"aaBB**cc1122\" password \"\"\n\n\n#Mysql secure installation\nsudo mysql -u root<<-EOF\nALTER USER 'root'@'localhost' IDENTIFIED WITH caching_sha2_password BY '@@{MYSQL_PASSWORD}@@';\nDELETE FROM mysql.user WHERE User='root' AND Host NOT IN ('localhost', '127.0.0.1', '::1');\nDELETE FROM mysql.user WHERE User='';\nDELETE FROM mysql.db WHERE Db='test' OR Db='test\\_%';\nFLUSH PRIVILEGES;\nEOF\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Setup MySQL"}],"description":"","message_list":[],"uuid":"f04053e3-09bc-4fa6-ac0c-e2cb560afb2a","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"9cbec184_dag","uuid":"40088884-fafd-4851-bfd5-54602ab2f802"},"name":"ee9a3de0_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVMasterPackage","uuid":"e322b0f6-258b-4378-9523-eab4a877f899"},"retries":"0","description":"","type":"DAG","uuid":"f6a6141d-7040-4e27-8e66-0c64a5942601","child_tasks_local_reference_list":[{"kind":"app_task","name":"PackageUninstallTask","uuid":"8984e605-ad21-4662-a82a-705da511c149"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"7e474eb1_dag"},{"target_any_local_reference":{"kind":"app_package","name":"AHVMasterPackage","uuid":"e322b0f6-258b-4378-9523-eab4a877f899"},"retries":"0","description":"","type":"EXEC","uuid":"8984e605-ad21-4662-a82a-705da511c149","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"PackageUninstallTask"}],"description":"","message_list":[],"uuid":"aa3002cf-e8f3-414e-85e6-b4f75deb2f08","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"7e474eb1_dag","uuid":"f6a6141d-7040-4e27-8e66-0c64a5942601"},"name":"4235ede6_runbook"}},"variable_list":[],"name":"AHVMasterPackage"},{"description":"","action_list":[{"description":"System action for installing an application","message_list":[],"uuid":"32d480ec-09fd-4282-ab7e-fc939b1c54b3","name":"action_install","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVSlavePackage","uuid":"bb4017ed-6571-4577-b76b-c2ae42903b6e"},"retries":"0","description":"","type":"DAG","uuid":"fe87f85a-e584-4930-84f2-7e2a0c8ecb1f","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Install_Crb_bb4017ed_6571_4577_b76b_c2ae42903b6e","uuid":"21838175-ba39-44ad-9bb7-052fef4c8d85"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Package_bb4017ed_6571_4577_b76b_c2ae42903b6e"},{"target_any_local_reference":{"kind":"app_package","name":"AHVSlavePackage","uuid":"bb4017ed-6571-4577-b76b-c2ae42903b6e"},"retries":"0","description":"","type":"CUSTOM_PACKAGE_INSTALL","uuid":"21838175-ba39-44ad-9bb7-052fef4c8d85","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVSlavePackage","uuid":"bb4017ed-6571-4577-b76b-c2ae42903b6e"},"retries":"0","description":"","type":"DAG","uuid":"e34818c7-9580-46e3-afd1-a9a0da0536dd","child_tasks_local_reference_list":[{"kind":"app_task","name":"Install System Packages","uuid":"c4a0c0bd-68cf-44cd-b2d6-9ef50153deac"},{"kind":"app_task","name":"Create Disk Setup","uuid":"fff5877d-88b7-4b0e-b18c-f6fcb2da3f60"},{"kind":"app_task","name":"Install MySQL","uuid":"5c24389b-9159-4956-b054-98b195925fe9"},{"kind":"app_task","name":"Setup MySQL","uuid":"5228ba8c-8316-4447-a5d8-9b353e3a21d5"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Install System Packages","uuid":"c4a0c0bd-68cf-44cd-b2d6-9ef50153deac"},"edge_type":"user_defined","type":"","uuid":"6a87b75b-984c-44e0-881d-f9ad60a12edf","to_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"fff5877d-88b7-4b0e-b18c-f6fcb2da3f60"}},{"from_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"fff5877d-88b7-4b0e-b18c-f6fcb2da3f60"},"edge_type":"user_defined","type":"","uuid":"c825e3af-ece6-483b-b264-6f49a97248cc","to_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"5c24389b-9159-4956-b054-98b195925fe9"}},{"from_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"5c24389b-9159-4956-b054-98b195925fe9"},"edge_type":"user_defined","type":"","uuid":"ca4b09bb-7d54-420f-bcb0-def1ff9fd0f7","to_task_reference":{"kind":"app_task","name":"Setup MySQL","uuid":"5228ba8c-8316-4447-a5d8-9b353e3a21d5"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"35a5e492_dag"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"EXEC","uuid":"c4a0c0bd-68cf-44cd-b2d6-9ef50153deac","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n# -*- Install Mysql\nsudo yum update -y --quiet\nsudo yum install -y  wget xfs* bc unzip lvm2* lsscsi\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"System packages are installed\"","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install System Packages"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"EXEC","uuid":"fff5877d-88b7-4b0e-b18c-f6fcb2da3f60","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n##############\n#\n# LVM setup script for MySQL . 4 disks for DATA and 4 for logs\n# Data disks are 50GB | Log disks are 25GB \n#\n#############\n\n\n#PGSQL data\nsudo pvcreate \/dev\/sdb \/dev\/sdc \/dev\/sdd \/dev\/sde\nsudo vgcreate mysqlDataVG \/dev\/sdb \/dev\/sdd \/dev\/sdc \/dev\/sde\nsudo lvcreate -l 100%FREE -i4 -I1M -n mysqlDataLV mysqlDataVG          ## Use 1MB to avoid IO amplification \n#lvcreate -l 100%FREE -i4 -I4M -n pgDataLV pgDataVG\n\n\n#PGSQL logs\nsudo pvcreate \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo vgcreate mysqlLogVG \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo lvcreate -l 100%FREE -i2 -I1M -n mysqlLogLV mysqlLogVG            ## Use 1MB to avoid IO amplification\n#lvcreate -l 100%FREE -i2 -I4M -n pgLogLV pgLogVG\n\n\n#Disable LVM read ahead\nsudo lvchange -r 0 \/dev\/mysqlDataVG\/mysqlDataLV\nsudo lvchange -r 0 \/dev\/mysqlLogVG\/mysqlLogLV\n\n\n#Format LVMs with ext4 and use nodiscard to make sure format time is fast on Nutanix due to SCSI unmap\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlDataVG\/mysqlDataLV\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlLogVG\/mysqlLogLV\n\nsleep 10\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Create Disk Setup"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"EXEC","uuid":"5c24389b-9159-4956-b054-98b195925fe9","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nsudo hostnamectl set-hostname \"@@{name}@@\"\n\n# -*- Mysql installation \nsudo yum install -y --quiet \"http:\/\/repo.mysql.com\/mysql80-community-release-el7.rpm\"\nsudo yum update -y --quiet\nsudo yum install -y --quiet sshpass mysql-community-server.x86_64\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install MySQL"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"EXEC","uuid":"5228ba8c-8316-4447-a5d8-9b353e3a21d5","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\necho \"!includedir \/etc\/my.cnf.d\" | sudo tee -a \/etc\/my.cnf\n\necho \"[mysqld]\nbinlog-format=mixed\nlog-bin=mysql-bin\ndatadir=\/mysql\/data\nsql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES\ninnodb_data_home_dir = \/mysql\/data\ninnodb_log_group_home_dir = \/mysql\/log\ninnodb_file_per_table\ntmpdir=\/mysql\/tmpdir\ninnodb_undo_directory = \/mysql\/undo\ndefault-storage-engine = innodb\ndefault_tmp_storage_engine = innodb\ninnodb_log_files_in_group = 4\ninnodb_log_file_size = 1G\ninnodb_log_buffer_size = 8M\ninnodb_buffer_pool_size = 6G\t\nlarge-pages\t\ninnodb_buffer_pool_instances = 64\t\ninnodb_flush_method=O_DIRECT\t\ninnodb_flush_neighbors=0\t \ninnodb_flush_log_at_trx_commit=1\ninnodb_buffer_pool_dump_at_shutdown=1\t\ninnodb_buffer_pool_load_at_startup=1\t\nbulk_insert_buffer_size = 256\t\ninnodb_thread_concurrency = 16\t\n \t \n# Undo tablespace\t \ninnodb_undo_tablespaces = 5\t\n \t \n# Networking\t \nwait_timeout=57600\t \nmax_allowed_packet=1G\t\nsocket=\/var\/lib\/mysql\/mysql.sock\t \nskip-name-resolve\nport=3306\t\nmax_connections=1000\t\n\n\n[mysqld_safe]\nlog-error=\/mysql\/log\/mysqld.log\npid-file=\/var\/run\/mysqld\/mysqld.pid\" | sudo tee \/etc\/my.cnf.d\/nutanix.cnf\n\necho \"#master=100\" | sudo tee -a  \/etc\/my.cnf.d\/nutanix.cnf\n\nserver_id=`sudo cat \/etc\/my.cnf | grep  \"server-id=\" | cut -d= -f2`\nis_master=`sudo cat \/etc\/my.cnf | grep -q -w \"#master=$server_id\"; echo $?`\n\nif [ ${is_master} -ne 0 ]\nthen\n   sudo sed -i '\/\\[mysqld\\]\/a read_only=1' \/etc\/my.cnf.d\/nutanix.cnf\nfi\n\n# -*- Sysctl configuration\nmysql_grp_id=`id -g mysql`\nsudo sysctl -w vm.swappiness=0\nsudo sysctl -w vm.nr_hugepages=1024\nsudo sysctl -w vm.overcommit_memory=1\nsudo sysctl -w vm.dirty_background_ratio=5 \nsudo sysctl -w vm.dirty_ratio=15\nsudo sysctl -w vm.dirty_expire_centisecs=500\nsudo sysctl -w vm.dirty_writeback_centisecs=100\nsudo sysctl -w vm.hugetlb_shm_group=$mysql_grp_id\n\necho \"vm.swappiness=0\nvm.nr_hugepages=1024\nvm.overcommit_memory=1\nvm.dirty_background_ratio=5 \nvm.dirty_ratio=15\nvm.dirty_expire_centisecs=500\nvm.dirty_writeback_centisecs=100\nvm.hugetlb_shm_group=$mysql_grp_id\" | sudo tee  -a \/etc\/sysctl.conf\n\necho \"ACTION=='add|change', SUBSYSTEM=='block', RUN+='\/bin\/sh -c \\\"\/bin\/echo 1024 > \/sys%p\/queue\/max_sectors_kb\\\"'\" | sudo tee \/etc\/udev\/rules.d\/71-block-max-sectors.rules\n\n\necho \"\/dev\/mysqlDataVG\/mysqlDataLV \/mysql\/data ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\necho \"\/dev\/mysqlLogVG\/mysqlLogLV \/mysql\/log ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\nsudo mkdir -p \/mysql\/log \/mysql\/data \/mysql\/tmpdir \/mysql\/undo\nsudo mount -a\nsudo chown -R mysql:mysql \/mysql\n\nsudo systemctl enable mysqld\n\nsudo rm -rf \/mysql\/data\/*\nsudo systemctl start mysqld\n\n#Fix to obtain temp password and set it to blank\npassword=$(grep -oP 'temporary password(.*): \\K(\\S+)' \/var\/log\/mysqld.log)\nsudo mysqladmin --user=root --password=\"$password\" password aaBB**cc1122\nsudo mysql --user=root --password=aaBB**cc1122 -e \"UNINSTALL COMPONENT 'file:\/\/component_validate_password'\"\nsudo mysqladmin --user=root --password=\"aaBB**cc1122\" password \"\"\n\n\n#Mysql secure installation\nsudo mysql -u root<<-EOF\nALTER USER 'root'@'localhost' IDENTIFIED WITH caching_sha2_password BY '@@{MYSQL_PASSWORD}@@';\nDELETE FROM mysql.user WHERE User='root' AND Host NOT IN ('localhost', '127.0.0.1', '::1');\nDELETE FROM mysql.user WHERE User='';\nDELETE FROM mysql.db WHERE Db='test' OR Db='test\\_%';\nFLUSH PRIVILEGES;\nEOF\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Setup MySQL"}],"description":"","message_list":[],"uuid":"bd35c1ac-154b-4137-9414-d17636c8a277","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"35a5e492_dag","uuid":"e34818c7-9580-46e3-afd1-a9a0da0536dd"},"name":"db3247c6_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVSlavePackage","uuid":"bb4017ed-6571-4577-b76b-c2ae42903b6e"},"retries":"0","description":"","type":"DAG","uuid":"f5efe10d-e777-4811-b4ad-4d5787a10820","child_tasks_local_reference_list":[{"kind":"app_task","name":"PackageUninstallTask","uuid":"2ac4ff41-a021-48bb-a3cc-8dae1a97af9f"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"53d74d7d_dag"},{"target_any_local_reference":{"kind":"app_package","name":"AHVSlavePackage","uuid":"bb4017ed-6571-4577-b76b-c2ae42903b6e"},"retries":"0","description":"","type":"EXEC","uuid":"2ac4ff41-a021-48bb-a3cc-8dae1a97af9f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"PackageUninstallTask"}],"description":"","message_list":[],"uuid":"113aecdd-38df-4af3-beb7-549f53d467f5","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"53d74d7d_dag","uuid":"f5efe10d-e777-4811-b4ad-4d5787a10820"},"name":"a4fbe7d2_runbook"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Install_Crb_bb4017ed_6571_4577_b76b_c2ae42903b6e"}],"description":"","message_list":[],"uuid":"976af3b1-7d68-435a-a609-0792b922844b","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Package_bb4017ed_6571_4577_b76b_c2ae42903b6e","uuid":"fe87f85a-e584-4930-84f2-7e2a0c8ecb1f"},"name":"SYS_GEN__Runbook_Package_bb4017ed_6571_4577_b76b_c2ae42903b6e"}},{"description":"System action for creating an application","message_list":[],"uuid":"58321d92-71f2-41d5-9b22-ca10415fd819","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVSlavePackage","uuid":"bb4017ed-6571-4577-b76b-c2ae42903b6e"},"retries":"0","description":"","type":"DAG","uuid":"a594f974-5d35-4d14-aa2b-6306e813c554","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_bb4017ed_6571_4577_b76b_c2ae42903b6e","uuid":"835238f6-54d3-40ef-89ea-b674c746f746"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"68ba7d83-02b2-42fa-a0c3-c33971390c41"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"cda0527e-92ac-4fa3-a7b3-a42b618b23c4"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"68ba7d83-02b2-42fa-a0c3-c33971390c41"},"edge_type":"inherent","type":"","uuid":"b2f78637-4b55-4b9b-915e-bc4fd51ef69a","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"cda0527e-92ac-4fa3-a7b3-a42b618b23c4"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_bb4017ed_6571_4577_b76b_c2ae42903b6e","uuid":"835238f6-54d3-40ef-89ea-b674c746f746"},"edge_type":"inherent","type":"","uuid":"e6eb4a30-2709-4527-8538-d27e344be814","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"68ba7d83-02b2-42fa-a0c3-c33971390c41"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_bb4017ed_6571_4577_b76b_c2ae42903b6e"},{"target_any_local_reference":{"kind":"app_package","name":"AHVSlavePackage","uuid":"bb4017ed-6571-4577-b76b-c2ae42903b6e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"835238f6-54d3-40ef-89ea-b674c746f746","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_bb4017ed_6571_4577_b76b_c2ae42903b6e","uuid":"976af3b1-7d68-435a-a609-0792b922844b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_bb4017ed_6571_4577_b76b_c2ae42903b6e"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"68ba7d83-02b2-42fa-a0c3-c33971390c41","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"d54168c9_runbook","uuid":"e509001d-6b88-4a64-813c-0ce8ea81991a"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"cda0527e-92ac-4fa3-a7b3-a42b618b23c4","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"a027cde0_runbook","uuid":"0afbc7f3-5541-415f-9616-c459f09806b2"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400"}],"description":"","message_list":[],"uuid":"86c0e086-3bc9-4464-b329-13d2848abad9","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_bb4017ed_6571_4577_b76b_c2ae42903b6e","uuid":"a594f974-5d35-4d14-aa2b-6306e813c554"},"name":"SYS_GEN__Runbook_Package_bb4017ed_6571_4577_b76b_c2ae42903b6e"}},{"description":"System action for uninstalling an application","message_list":[],"uuid":"1f78bf26-c0ec-4b7d-920b-53b1ca8c660b","name":"action_uninstall","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVSlavePackage","uuid":"bb4017ed-6571-4577-b76b-c2ae42903b6e"},"retries":"0","description":"","type":"DAG","uuid":"eba61d67-7897-4bfb-a8da-72b741ad4cd5","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Uninstall_Crb_bb4017ed_6571_4577_b76b_c2ae42903b6e","uuid":"728c6d39-416e-4a7a-9b2a-3bd295d5ea98"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Package_bb4017ed_6571_4577_b76b_c2ae42903b6e"},{"target_any_local_reference":{"kind":"app_package","name":"AHVSlavePackage","uuid":"bb4017ed-6571-4577-b76b-c2ae42903b6e"},"retries":"0","description":"","type":"CUSTOM_PACKAGE_UNINSTALL","uuid":"728c6d39-416e-4a7a-9b2a-3bd295d5ea98","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVSlavePackage","uuid":"bb4017ed-6571-4577-b76b-c2ae42903b6e"},"retries":"0","description":"","type":"DAG","uuid":"e34818c7-9580-46e3-afd1-a9a0da0536dd","child_tasks_local_reference_list":[{"kind":"app_task","name":"Install System Packages","uuid":"c4a0c0bd-68cf-44cd-b2d6-9ef50153deac"},{"kind":"app_task","name":"Create Disk Setup","uuid":"fff5877d-88b7-4b0e-b18c-f6fcb2da3f60"},{"kind":"app_task","name":"Install MySQL","uuid":"5c24389b-9159-4956-b054-98b195925fe9"},{"kind":"app_task","name":"Setup MySQL","uuid":"5228ba8c-8316-4447-a5d8-9b353e3a21d5"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Install System Packages","uuid":"c4a0c0bd-68cf-44cd-b2d6-9ef50153deac"},"edge_type":"user_defined","type":"","uuid":"6a87b75b-984c-44e0-881d-f9ad60a12edf","to_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"fff5877d-88b7-4b0e-b18c-f6fcb2da3f60"}},{"from_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"fff5877d-88b7-4b0e-b18c-f6fcb2da3f60"},"edge_type":"user_defined","type":"","uuid":"c825e3af-ece6-483b-b264-6f49a97248cc","to_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"5c24389b-9159-4956-b054-98b195925fe9"}},{"from_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"5c24389b-9159-4956-b054-98b195925fe9"},"edge_type":"user_defined","type":"","uuid":"ca4b09bb-7d54-420f-bcb0-def1ff9fd0f7","to_task_reference":{"kind":"app_task","name":"Setup MySQL","uuid":"5228ba8c-8316-4447-a5d8-9b353e3a21d5"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"35a5e492_dag"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"EXEC","uuid":"c4a0c0bd-68cf-44cd-b2d6-9ef50153deac","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n# -*- Install Mysql\nsudo yum update -y --quiet\nsudo yum install -y  wget xfs* bc unzip lvm2* lsscsi\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"System packages are installed\"","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install System Packages"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"EXEC","uuid":"fff5877d-88b7-4b0e-b18c-f6fcb2da3f60","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n##############\n#\n# LVM setup script for MySQL . 4 disks for DATA and 4 for logs\n# Data disks are 50GB | Log disks are 25GB \n#\n#############\n\n\n#PGSQL data\nsudo pvcreate \/dev\/sdb \/dev\/sdc \/dev\/sdd \/dev\/sde\nsudo vgcreate mysqlDataVG \/dev\/sdb \/dev\/sdd \/dev\/sdc \/dev\/sde\nsudo lvcreate -l 100%FREE -i4 -I1M -n mysqlDataLV mysqlDataVG          ## Use 1MB to avoid IO amplification \n#lvcreate -l 100%FREE -i4 -I4M -n pgDataLV pgDataVG\n\n\n#PGSQL logs\nsudo pvcreate \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo vgcreate mysqlLogVG \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo lvcreate -l 100%FREE -i2 -I1M -n mysqlLogLV mysqlLogVG            ## Use 1MB to avoid IO amplification\n#lvcreate -l 100%FREE -i2 -I4M -n pgLogLV pgLogVG\n\n\n#Disable LVM read ahead\nsudo lvchange -r 0 \/dev\/mysqlDataVG\/mysqlDataLV\nsudo lvchange -r 0 \/dev\/mysqlLogVG\/mysqlLogLV\n\n\n#Format LVMs with ext4 and use nodiscard to make sure format time is fast on Nutanix due to SCSI unmap\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlDataVG\/mysqlDataLV\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlLogVG\/mysqlLogLV\n\nsleep 10\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Create Disk Setup"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"EXEC","uuid":"5c24389b-9159-4956-b054-98b195925fe9","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nsudo hostnamectl set-hostname \"@@{name}@@\"\n\n# -*- Mysql installation \nsudo yum install -y --quiet \"http:\/\/repo.mysql.com\/mysql80-community-release-el7.rpm\"\nsudo yum update -y --quiet\nsudo yum install -y --quiet sshpass mysql-community-server.x86_64\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install MySQL"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"EXEC","uuid":"5228ba8c-8316-4447-a5d8-9b353e3a21d5","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\necho \"!includedir \/etc\/my.cnf.d\" | sudo tee -a \/etc\/my.cnf\n\necho \"[mysqld]\nbinlog-format=mixed\nlog-bin=mysql-bin\ndatadir=\/mysql\/data\nsql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES\ninnodb_data_home_dir = \/mysql\/data\ninnodb_log_group_home_dir = \/mysql\/log\ninnodb_file_per_table\ntmpdir=\/mysql\/tmpdir\ninnodb_undo_directory = \/mysql\/undo\ndefault-storage-engine = innodb\ndefault_tmp_storage_engine = innodb\ninnodb_log_files_in_group = 4\ninnodb_log_file_size = 1G\ninnodb_log_buffer_size = 8M\ninnodb_buffer_pool_size = 6G\t\nlarge-pages\t\ninnodb_buffer_pool_instances = 64\t\ninnodb_flush_method=O_DIRECT\t\ninnodb_flush_neighbors=0\t \ninnodb_flush_log_at_trx_commit=1\ninnodb_buffer_pool_dump_at_shutdown=1\t\ninnodb_buffer_pool_load_at_startup=1\t\nbulk_insert_buffer_size = 256\t\ninnodb_thread_concurrency = 16\t\n \t \n# Undo tablespace\t \ninnodb_undo_tablespaces = 5\t\n \t \n# Networking\t \nwait_timeout=57600\t \nmax_allowed_packet=1G\t\nsocket=\/var\/lib\/mysql\/mysql.sock\t \nskip-name-resolve\nport=3306\t\nmax_connections=1000\t\n\n\n[mysqld_safe]\nlog-error=\/mysql\/log\/mysqld.log\npid-file=\/var\/run\/mysqld\/mysqld.pid\" | sudo tee \/etc\/my.cnf.d\/nutanix.cnf\n\necho \"#master=100\" | sudo tee -a  \/etc\/my.cnf.d\/nutanix.cnf\n\nserver_id=`sudo cat \/etc\/my.cnf | grep  \"server-id=\" | cut -d= -f2`\nis_master=`sudo cat \/etc\/my.cnf | grep -q -w \"#master=$server_id\"; echo $?`\n\nif [ ${is_master} -ne 0 ]\nthen\n   sudo sed -i '\/\\[mysqld\\]\/a read_only=1' \/etc\/my.cnf.d\/nutanix.cnf\nfi\n\n# -*- Sysctl configuration\nmysql_grp_id=`id -g mysql`\nsudo sysctl -w vm.swappiness=0\nsudo sysctl -w vm.nr_hugepages=1024\nsudo sysctl -w vm.overcommit_memory=1\nsudo sysctl -w vm.dirty_background_ratio=5 \nsudo sysctl -w vm.dirty_ratio=15\nsudo sysctl -w vm.dirty_expire_centisecs=500\nsudo sysctl -w vm.dirty_writeback_centisecs=100\nsudo sysctl -w vm.hugetlb_shm_group=$mysql_grp_id\n\necho \"vm.swappiness=0\nvm.nr_hugepages=1024\nvm.overcommit_memory=1\nvm.dirty_background_ratio=5 \nvm.dirty_ratio=15\nvm.dirty_expire_centisecs=500\nvm.dirty_writeback_centisecs=100\nvm.hugetlb_shm_group=$mysql_grp_id\" | sudo tee  -a \/etc\/sysctl.conf\n\necho \"ACTION=='add|change', SUBSYSTEM=='block', RUN+='\/bin\/sh -c \\\"\/bin\/echo 1024 > \/sys%p\/queue\/max_sectors_kb\\\"'\" | sudo tee \/etc\/udev\/rules.d\/71-block-max-sectors.rules\n\n\necho \"\/dev\/mysqlDataVG\/mysqlDataLV \/mysql\/data ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\necho \"\/dev\/mysqlLogVG\/mysqlLogLV \/mysql\/log ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\nsudo mkdir -p \/mysql\/log \/mysql\/data \/mysql\/tmpdir \/mysql\/undo\nsudo mount -a\nsudo chown -R mysql:mysql \/mysql\n\nsudo systemctl enable mysqld\n\nsudo rm -rf \/mysql\/data\/*\nsudo systemctl start mysqld\n\n#Fix to obtain temp password and set it to blank\npassword=$(grep -oP 'temporary password(.*): \\K(\\S+)' \/var\/log\/mysqld.log)\nsudo mysqladmin --user=root --password=\"$password\" password aaBB**cc1122\nsudo mysql --user=root --password=aaBB**cc1122 -e \"UNINSTALL COMPONENT 'file:\/\/component_validate_password'\"\nsudo mysqladmin --user=root --password=\"aaBB**cc1122\" password \"\"\n\n\n#Mysql secure installation\nsudo mysql -u root<<-EOF\nALTER USER 'root'@'localhost' IDENTIFIED WITH caching_sha2_password BY '@@{MYSQL_PASSWORD}@@';\nDELETE FROM mysql.user WHERE User='root' AND Host NOT IN ('localhost', '127.0.0.1', '::1');\nDELETE FROM mysql.user WHERE User='';\nDELETE FROM mysql.db WHERE Db='test' OR Db='test\\_%';\nFLUSH PRIVILEGES;\nEOF\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Setup MySQL"}],"description":"","message_list":[],"uuid":"bd35c1ac-154b-4137-9414-d17636c8a277","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"35a5e492_dag","uuid":"e34818c7-9580-46e3-afd1-a9a0da0536dd"},"name":"db3247c6_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVSlavePackage","uuid":"bb4017ed-6571-4577-b76b-c2ae42903b6e"},"retries":"0","description":"","type":"DAG","uuid":"f5efe10d-e777-4811-b4ad-4d5787a10820","child_tasks_local_reference_list":[{"kind":"app_task","name":"PackageUninstallTask","uuid":"2ac4ff41-a021-48bb-a3cc-8dae1a97af9f"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"53d74d7d_dag"},{"target_any_local_reference":{"kind":"app_package","name":"AHVSlavePackage","uuid":"bb4017ed-6571-4577-b76b-c2ae42903b6e"},"retries":"0","description":"","type":"EXEC","uuid":"2ac4ff41-a021-48bb-a3cc-8dae1a97af9f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"PackageUninstallTask"}],"description":"","message_list":[],"uuid":"113aecdd-38df-4af3-beb7-549f53d467f5","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"53d74d7d_dag","uuid":"f5efe10d-e777-4811-b4ad-4d5787a10820"},"name":"a4fbe7d2_runbook"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Uninstall_Crb_bb4017ed_6571_4577_b76b_c2ae42903b6e"}],"description":"","message_list":[],"uuid":"5a1b42d3-b23f-4f90-bfe5-8b638c2d28f1","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Package_bb4017ed_6571_4577_b76b_c2ae42903b6e","uuid":"eba61d67-7897-4bfb-a8da-72b741ad4cd5"},"name":"SYS_GEN__Runbook_Package_bb4017ed_6571_4577_b76b_c2ae42903b6e"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"e4bde91d-4a6f-4551-ae02-db8daefd642d","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVSlavePackage","uuid":"bb4017ed-6571-4577-b76b-c2ae42903b6e"},"retries":"0","description":"","type":"DAG","uuid":"8e80615f-4690-414d-b335-76328d487367","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"391006dd-21ec-4e81-8a99-e6f5eaf137eb"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"98945416-ce33-45d9-9cd0-0fb0f3da5839"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_bb4017ed_6571_4577_b76b_c2ae42903b6e","uuid":"f53059e8-36f7-403d-83d4-db36d687f5d6"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"391006dd-21ec-4e81-8a99-e6f5eaf137eb"},"edge_type":"inherent","type":"","uuid":"f6fb064d-6dcd-4bfe-b613-7e1b20ac62b4","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"98945416-ce33-45d9-9cd0-0fb0f3da5839"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"98945416-ce33-45d9-9cd0-0fb0f3da5839"},"edge_type":"inherent","type":"","uuid":"45812ea9-f925-4cd7-822d-d2df617973f4","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_bb4017ed_6571_4577_b76b_c2ae42903b6e","uuid":"f53059e8-36f7-403d-83d4-db36d687f5d6"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_bb4017ed_6571_4577_b76b_c2ae42903b6e"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"391006dd-21ec-4e81-8a99-e6f5eaf137eb","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"4a2ad0be_runbook","uuid":"09b1c8a9-6223-4e38-acfb-ff4754413c85"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"98945416-ce33-45d9-9cd0-0fb0f3da5839","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"92247e35_runbook","uuid":"497a8a35-a955-4f76-8fb0-21dbd9acb6e0"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400"},{"target_any_local_reference":{"kind":"app_package","name":"AHVSlavePackage","uuid":"bb4017ed-6571-4577-b76b-c2ae42903b6e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"f53059e8-36f7-403d-83d4-db36d687f5d6","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_bb4017ed_6571_4577_b76b_c2ae42903b6e","uuid":"5a1b42d3-b23f-4f90-bfe5-8b638c2d28f1"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_bb4017ed_6571_4577_b76b_c2ae42903b6e"}],"description":"","message_list":[],"uuid":"7ebd28de-698e-43da-a9f1-f7f83f7493aa","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_bb4017ed_6571_4577_b76b_c2ae42903b6e","uuid":"8e80615f-4690-414d-b335-76328d487367"},"name":"SYS_GEN__Runbook_Package_bb4017ed_6571_4577_b76b_c2ae42903b6e"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"c0142ef4-70a2-4d0d-b6aa-0602c000df74","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVSlavePackage","uuid":"bb4017ed-6571-4577-b76b-c2ae42903b6e"},"retries":"0","description":"","type":"DAG","uuid":"8150a0d9-9410-4819-9749-cdbba0882b4e","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"877cd4d8-b2eb-46a8-a4e7-46db4d07ba3c"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_bb4017ed_6571_4577_b76b_c2ae42903b6e","uuid":"8e7f2c3a-8ff0-4ff4-b288-6c0613f81821"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"877cd4d8-b2eb-46a8-a4e7-46db4d07ba3c"},"edge_type":"inherent","type":"","uuid":"ca4ed0ae-e90e-4746-8368-12c05e8f679a","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_bb4017ed_6571_4577_b76b_c2ae42903b6e","uuid":"8e7f2c3a-8ff0-4ff4-b288-6c0613f81821"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_bb4017ed_6571_4577_b76b_c2ae42903b6e"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"877cd4d8-b2eb-46a8-a4e7-46db4d07ba3c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"6cdcc89d-fd42-4e8a-9e97-40576d559005"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400"},{"target_any_local_reference":{"kind":"app_package","name":"AHVSlavePackage","uuid":"bb4017ed-6571-4577-b76b-c2ae42903b6e"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"8e7f2c3a-8ff0-4ff4-b288-6c0613f81821","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_bb4017ed_6571_4577_b76b_c2ae42903b6e"}],"description":"","message_list":[],"uuid":"8f34660a-c05f-4344-aa67-a8b74814d7d0","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_bb4017ed_6571_4577_b76b_c2ae42903b6e","uuid":"8150a0d9-9410-4819-9749-cdbba0882b4e"},"name":"SYS_GEN__Runbook_Package_bb4017ed_6571_4577_b76b_c2ae42903b6e"}},{"description":"System action for starting an application","message_list":[],"uuid":"b1646cbc-01ea-474d-9e31-6363ddab74e6","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVSlavePackage","uuid":"bb4017ed-6571-4577-b76b-c2ae42903b6e"},"retries":"0","description":"","type":"DAG","uuid":"ca53efb4-af50-4202-af0c-8b4452144ca6","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"53f006e3-bb1c-4da0-a251-b7719a937274"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_bb4017ed_6571_4577_b76b_c2ae42903b6e"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"53f006e3-bb1c-4da0-a251-b7719a937274","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"a027cde0_runbook","uuid":"0afbc7f3-5541-415f-9616-c459f09806b2"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400"}],"description":"","message_list":[],"uuid":"086ec15d-a016-4ba4-bdc9-88468dbc9f0c","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_bb4017ed_6571_4577_b76b_c2ae42903b6e","uuid":"ca53efb4-af50-4202-af0c-8b4452144ca6"},"name":"SYS_GEN__Runbook_Package_bb4017ed_6571_4577_b76b_c2ae42903b6e"}},{"description":"System action for restarting an application","message_list":[],"uuid":"880a74ac-97ed-4696-adbc-35198ab62d08","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVSlavePackage","uuid":"bb4017ed-6571-4577-b76b-c2ae42903b6e"},"retries":"0","description":"","type":"DAG","uuid":"12614443-d849-4d21-9d2c-458498e28ce5","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"a02b15fc-256b-4bf2-a2e4-75b7ee5af18b"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_bb4017ed_6571_4577_b76b_c2ae42903b6e"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"a02b15fc-256b-4bf2-a2e4-75b7ee5af18b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"f2b2a076_runbook","uuid":"b7162b3b-d4ba-4fba-875d-fc9c8c2c5b79"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400"}],"description":"","message_list":[],"uuid":"29e78fe6-2a5b-4791-9d95-321389fc9195","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_bb4017ed_6571_4577_b76b_c2ae42903b6e","uuid":"12614443-d849-4d21-9d2c-458498e28ce5"},"name":"SYS_GEN__Runbook_Package_bb4017ed_6571_4577_b76b_c2ae42903b6e"}},{"description":"System action for stopping an application","message_list":[],"uuid":"ecd6e344-2dca-4319-837c-932814c67d99","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVSlavePackage","uuid":"bb4017ed-6571-4577-b76b-c2ae42903b6e"},"retries":"0","description":"","type":"DAG","uuid":"702e8887-117a-4f29-904d-a2e650ca3703","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"378cc8c9-6edd-462c-81f7-6b6e21bd6056"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_bb4017ed_6571_4577_b76b_c2ae42903b6e"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"378cc8c9-6edd-462c-81f7-6b6e21bd6056","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"4a2ad0be_runbook","uuid":"09b1c8a9-6223-4e38-acfb-ff4754413c85"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400"}],"description":"","message_list":[],"uuid":"e839b4e8-9ecd-482b-b625-b281d5344aaf","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_bb4017ed_6571_4577_b76b_c2ae42903b6e","uuid":"702e8887-117a-4f29-904d-a2e650ca3703"},"name":"SYS_GEN__Runbook_Package_bb4017ed_6571_4577_b76b_c2ae42903b6e"}}],"message_list":[],"service_local_reference_list":[{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"}],"uuid":"bb4017ed-6571-4577-b76b-c2ae42903b6e","state":"ACTIVE","version":"","editables":{},"type":"DEB","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVSlavePackage","uuid":"bb4017ed-6571-4577-b76b-c2ae42903b6e"},"retries":"0","description":"","type":"DAG","uuid":"e34818c7-9580-46e3-afd1-a9a0da0536dd","child_tasks_local_reference_list":[{"kind":"app_task","name":"Install System Packages","uuid":"c4a0c0bd-68cf-44cd-b2d6-9ef50153deac"},{"kind":"app_task","name":"Create Disk Setup","uuid":"fff5877d-88b7-4b0e-b18c-f6fcb2da3f60"},{"kind":"app_task","name":"Install MySQL","uuid":"5c24389b-9159-4956-b054-98b195925fe9"},{"kind":"app_task","name":"Setup MySQL","uuid":"5228ba8c-8316-4447-a5d8-9b353e3a21d5"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Install System Packages","uuid":"c4a0c0bd-68cf-44cd-b2d6-9ef50153deac"},"edge_type":"user_defined","type":"","uuid":"6a87b75b-984c-44e0-881d-f9ad60a12edf","to_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"fff5877d-88b7-4b0e-b18c-f6fcb2da3f60"}},{"from_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"fff5877d-88b7-4b0e-b18c-f6fcb2da3f60"},"edge_type":"user_defined","type":"","uuid":"c825e3af-ece6-483b-b264-6f49a97248cc","to_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"5c24389b-9159-4956-b054-98b195925fe9"}},{"from_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"5c24389b-9159-4956-b054-98b195925fe9"},"edge_type":"user_defined","type":"","uuid":"ca4b09bb-7d54-420f-bcb0-def1ff9fd0f7","to_task_reference":{"kind":"app_task","name":"Setup MySQL","uuid":"5228ba8c-8316-4447-a5d8-9b353e3a21d5"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"35a5e492_dag"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"EXEC","uuid":"c4a0c0bd-68cf-44cd-b2d6-9ef50153deac","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n# -*- Install Mysql\nsudo yum update -y --quiet\nsudo yum install -y  wget xfs* bc unzip lvm2* lsscsi\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"System packages are installed\"","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install System Packages"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"EXEC","uuid":"fff5877d-88b7-4b0e-b18c-f6fcb2da3f60","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n##############\n#\n# LVM setup script for MySQL . 4 disks for DATA and 4 for logs\n# Data disks are 50GB | Log disks are 25GB \n#\n#############\n\n\n#PGSQL data\nsudo pvcreate \/dev\/sdb \/dev\/sdc \/dev\/sdd \/dev\/sde\nsudo vgcreate mysqlDataVG \/dev\/sdb \/dev\/sdd \/dev\/sdc \/dev\/sde\nsudo lvcreate -l 100%FREE -i4 -I1M -n mysqlDataLV mysqlDataVG          ## Use 1MB to avoid IO amplification \n#lvcreate -l 100%FREE -i4 -I4M -n pgDataLV pgDataVG\n\n\n#PGSQL logs\nsudo pvcreate \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo vgcreate mysqlLogVG \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo lvcreate -l 100%FREE -i2 -I1M -n mysqlLogLV mysqlLogVG            ## Use 1MB to avoid IO amplification\n#lvcreate -l 100%FREE -i2 -I4M -n pgLogLV pgLogVG\n\n\n#Disable LVM read ahead\nsudo lvchange -r 0 \/dev\/mysqlDataVG\/mysqlDataLV\nsudo lvchange -r 0 \/dev\/mysqlLogVG\/mysqlLogLV\n\n\n#Format LVMs with ext4 and use nodiscard to make sure format time is fast on Nutanix due to SCSI unmap\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlDataVG\/mysqlDataLV\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlLogVG\/mysqlLogLV\n\nsleep 10\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Create Disk Setup"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"EXEC","uuid":"5c24389b-9159-4956-b054-98b195925fe9","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nsudo hostnamectl set-hostname \"@@{name}@@\"\n\n# -*- Mysql installation \nsudo yum install -y --quiet \"http:\/\/repo.mysql.com\/mysql80-community-release-el7.rpm\"\nsudo yum update -y --quiet\nsudo yum install -y --quiet sshpass mysql-community-server.x86_64\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install MySQL"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"EXEC","uuid":"5228ba8c-8316-4447-a5d8-9b353e3a21d5","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\necho \"!includedir \/etc\/my.cnf.d\" | sudo tee -a \/etc\/my.cnf\n\necho \"[mysqld]\nbinlog-format=mixed\nlog-bin=mysql-bin\ndatadir=\/mysql\/data\nsql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES\ninnodb_data_home_dir = \/mysql\/data\ninnodb_log_group_home_dir = \/mysql\/log\ninnodb_file_per_table\ntmpdir=\/mysql\/tmpdir\ninnodb_undo_directory = \/mysql\/undo\ndefault-storage-engine = innodb\ndefault_tmp_storage_engine = innodb\ninnodb_log_files_in_group = 4\ninnodb_log_file_size = 1G\ninnodb_log_buffer_size = 8M\ninnodb_buffer_pool_size = 6G\t\nlarge-pages\t\ninnodb_buffer_pool_instances = 64\t\ninnodb_flush_method=O_DIRECT\t\ninnodb_flush_neighbors=0\t \ninnodb_flush_log_at_trx_commit=1\ninnodb_buffer_pool_dump_at_shutdown=1\t\ninnodb_buffer_pool_load_at_startup=1\t\nbulk_insert_buffer_size = 256\t\ninnodb_thread_concurrency = 16\t\n \t \n# Undo tablespace\t \ninnodb_undo_tablespaces = 5\t\n \t \n# Networking\t \nwait_timeout=57600\t \nmax_allowed_packet=1G\t\nsocket=\/var\/lib\/mysql\/mysql.sock\t \nskip-name-resolve\nport=3306\t\nmax_connections=1000\t\n\n\n[mysqld_safe]\nlog-error=\/mysql\/log\/mysqld.log\npid-file=\/var\/run\/mysqld\/mysqld.pid\" | sudo tee \/etc\/my.cnf.d\/nutanix.cnf\n\necho \"#master=100\" | sudo tee -a  \/etc\/my.cnf.d\/nutanix.cnf\n\nserver_id=`sudo cat \/etc\/my.cnf | grep  \"server-id=\" | cut -d= -f2`\nis_master=`sudo cat \/etc\/my.cnf | grep -q -w \"#master=$server_id\"; echo $?`\n\nif [ ${is_master} -ne 0 ]\nthen\n   sudo sed -i '\/\\[mysqld\\]\/a read_only=1' \/etc\/my.cnf.d\/nutanix.cnf\nfi\n\n# -*- Sysctl configuration\nmysql_grp_id=`id -g mysql`\nsudo sysctl -w vm.swappiness=0\nsudo sysctl -w vm.nr_hugepages=1024\nsudo sysctl -w vm.overcommit_memory=1\nsudo sysctl -w vm.dirty_background_ratio=5 \nsudo sysctl -w vm.dirty_ratio=15\nsudo sysctl -w vm.dirty_expire_centisecs=500\nsudo sysctl -w vm.dirty_writeback_centisecs=100\nsudo sysctl -w vm.hugetlb_shm_group=$mysql_grp_id\n\necho \"vm.swappiness=0\nvm.nr_hugepages=1024\nvm.overcommit_memory=1\nvm.dirty_background_ratio=5 \nvm.dirty_ratio=15\nvm.dirty_expire_centisecs=500\nvm.dirty_writeback_centisecs=100\nvm.hugetlb_shm_group=$mysql_grp_id\" | sudo tee  -a \/etc\/sysctl.conf\n\necho \"ACTION=='add|change', SUBSYSTEM=='block', RUN+='\/bin\/sh -c \\\"\/bin\/echo 1024 > \/sys%p\/queue\/max_sectors_kb\\\"'\" | sudo tee \/etc\/udev\/rules.d\/71-block-max-sectors.rules\n\n\necho \"\/dev\/mysqlDataVG\/mysqlDataLV \/mysql\/data ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\necho \"\/dev\/mysqlLogVG\/mysqlLogLV \/mysql\/log ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\nsudo mkdir -p \/mysql\/log \/mysql\/data \/mysql\/tmpdir \/mysql\/undo\nsudo mount -a\nsudo chown -R mysql:mysql \/mysql\n\nsudo systemctl enable mysqld\n\nsudo rm -rf \/mysql\/data\/*\nsudo systemctl start mysqld\n\n#Fix to obtain temp password and set it to blank\npassword=$(grep -oP 'temporary password(.*): \\K(\\S+)' \/var\/log\/mysqld.log)\nsudo mysqladmin --user=root --password=\"$password\" password aaBB**cc1122\nsudo mysql --user=root --password=aaBB**cc1122 -e \"UNINSTALL COMPONENT 'file:\/\/component_validate_password'\"\nsudo mysqladmin --user=root --password=\"aaBB**cc1122\" password \"\"\n\n\n#Mysql secure installation\nsudo mysql -u root<<-EOF\nALTER USER 'root'@'localhost' IDENTIFIED WITH caching_sha2_password BY '@@{MYSQL_PASSWORD}@@';\nDELETE FROM mysql.user WHERE User='root' AND Host NOT IN ('localhost', '127.0.0.1', '::1');\nDELETE FROM mysql.user WHERE User='';\nDELETE FROM mysql.db WHERE Db='test' OR Db='test\\_%';\nFLUSH PRIVILEGES;\nEOF\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Setup MySQL"}],"description":"","message_list":[],"uuid":"bd35c1ac-154b-4137-9414-d17636c8a277","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"35a5e492_dag","uuid":"e34818c7-9580-46e3-afd1-a9a0da0536dd"},"name":"db3247c6_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVSlavePackage","uuid":"bb4017ed-6571-4577-b76b-c2ae42903b6e"},"retries":"0","description":"","type":"DAG","uuid":"f5efe10d-e777-4811-b4ad-4d5787a10820","child_tasks_local_reference_list":[{"kind":"app_task","name":"PackageUninstallTask","uuid":"2ac4ff41-a021-48bb-a3cc-8dae1a97af9f"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"53d74d7d_dag"},{"target_any_local_reference":{"kind":"app_package","name":"AHVSlavePackage","uuid":"bb4017ed-6571-4577-b76b-c2ae42903b6e"},"retries":"0","description":"","type":"EXEC","uuid":"2ac4ff41-a021-48bb-a3cc-8dae1a97af9f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"PackageUninstallTask"}],"description":"","message_list":[],"uuid":"113aecdd-38df-4af3-beb7-549f53d467f5","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"53d74d7d_dag","uuid":"f5efe10d-e777-4811-b4ad-4d5787a10820"},"name":"a4fbe7d2_runbook"}},"variable_list":[],"name":"AHVSlavePackage"},{"description":"","action_list":[{"description":"System action for installing an application","message_list":[],"uuid":"73e4bcb3-845c-40f9-894b-7b66d200b9e5","name":"action_install","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSMasterPackage","uuid":"6d64cb98-1346-48c4-a14e-f2858fbc3058"},"retries":"0","description":"","type":"DAG","uuid":"a8f92b44-e786-4286-802f-75d1902f18dd","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Install_Crb_6d64cb98_1346_48c4_a14e_f2858fbc3058","uuid":"da31b37c-0880-4c4a-8d53-dbdba9979aa9"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Package_6d64cb98_1346_48c4_a14e_f2858fbc3058"},{"target_any_local_reference":{"kind":"app_package","name":"AWSMasterPackage","uuid":"6d64cb98-1346-48c4-a14e-f2858fbc3058"},"retries":"0","description":"","type":"CUSTOM_PACKAGE_INSTALL","uuid":"da31b37c-0880-4c4a-8d53-dbdba9979aa9","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSMasterPackage","uuid":"6d64cb98-1346-48c4-a14e-f2858fbc3058"},"retries":"0","description":"","type":"DAG","uuid":"f5bcc5df-e89b-4bb3-83dd-a45c600d8bee","child_tasks_local_reference_list":[{"kind":"app_task","name":"Install System Packages","uuid":"954cce73-22cd-4eb4-9cd6-6658549482b5"},{"kind":"app_task","name":"Create Disk Setup","uuid":"7675477c-739e-463c-9da6-8f4bd25e2913"},{"kind":"app_task","name":"Install MySQL","uuid":"0f508029-d251-4d2e-a3ee-e64ed7f2bd05"},{"kind":"app_task","name":"Setup MySQL","uuid":"f5b3515f-ca38-4c78-84a3-569f2dfbcdbd"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Install System Packages","uuid":"954cce73-22cd-4eb4-9cd6-6658549482b5"},"edge_type":"user_defined","type":"","uuid":"10764558-4d97-4d7a-9412-89978ebc9c9c","to_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"7675477c-739e-463c-9da6-8f4bd25e2913"}},{"from_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"7675477c-739e-463c-9da6-8f4bd25e2913"},"edge_type":"user_defined","type":"","uuid":"a6ae4db2-f783-4e0c-8018-0f25de4c0fb6","to_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"0f508029-d251-4d2e-a3ee-e64ed7f2bd05"}},{"from_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"0f508029-d251-4d2e-a3ee-e64ed7f2bd05"},"edge_type":"user_defined","type":"","uuid":"aa9ea36d-3a79-41e4-b0d6-4ea869416021","to_task_reference":{"kind":"app_task","name":"Setup MySQL","uuid":"f5b3515f-ca38-4c78-84a3-569f2dfbcdbd"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"20906fd3_dag"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"EXEC","uuid":"954cce73-22cd-4eb4-9cd6-6658549482b5","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n# -*- Install Mysql\nsudo yum update -y --quiet\nsudo yum install -y  wget xfs* bc unzip lvm2*\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"System packages are installed\"","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install System Packages"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"EXEC","uuid":"7675477c-739e-463c-9da6-8f4bd25e2913","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n##############\n#\n# LVM setup script for PostgreSQL . 4 disks for DATA and 2 for logs\n# Data disks are 60GB | Log disks are 20GB \n#\n#############\n\n\n#PGSQL data\nsudo pvcreate \/dev\/xvdb \/dev\/xvdc \/dev\/xvdd \/dev\/xvde\nsudo vgcreate mysqlDataVG \/dev\/xvdb \/dev\/xvdc \/dev\/xvdd \/dev\/xvde\nsudo lvcreate -l 100%FREE -i4 -I1M -n mysqlDataLV mysqlDataVG          ## Use 1MB to avoid IO amplification \n#lvcreate -l 100%FREE -i4 -I4M -n pgDataLV pgDataVG\n\n\n#PGSQL logs\nsudo pvcreate \/dev\/xvdf \/dev\/xvdg \/dev\/xvdh \/dev\/xvdi\nsudo vgcreate mysqlLogVG \/dev\/xvdf \/dev\/xvdg \/dev\/xvdh \/dev\/xvdi\nsudo lvcreate -l 100%FREE -i2 -I1M -n mysqlLogLV mysqlLogVG            ## Use 1MB to avoid IO amplification\n#lvcreate -l 100%FREE -i2 -I4M -n pgLogLV pgLogVG\n\n\n#Disable LVM read ahead\nsudo lvchange -r 0 \/dev\/mysqlDataVG\/mysqlDataLV\nsudo lvchange -r 0 \/dev\/mysqlLogVG\/mysqlLogLV\n\n\n#Format LVMs with ext4 and use nodiscard to make sure format time is fast on Nutanix due to SCSI unmap\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlDataVG\/mysqlDataLV\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlLogVG\/mysqlLogLV\n\nsleep 10\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Create Disk Setup"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"EXEC","uuid":"0f508029-d251-4d2e-a3ee-e64ed7f2bd05","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nsudo hostnamectl set-hostname \"@@{name}@@\"\n\n# -*- Mysql installation \nsudo yum install -y --quiet \"http:\/\/repo.mysql.com\/mysql80-community-release-el7.rpm\"\nsudo yum update -y --quiet\nsudo yum install -y --quiet sshpass mysql-community-server.x86_64\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install MySQL"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"EXEC","uuid":"f5b3515f-ca38-4c78-84a3-569f2dfbcdbd","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\necho \"!includedir \/etc\/my.cnf.d\" | sudo tee -a \/etc\/my.cnf\n\necho \"[mysqld]\nbinlog-format=mixed\nlog-bin=mysql-bin\ndatadir=\/mysql\/data\nsql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES\ninnodb_data_home_dir = \/mysql\/data\ninnodb_log_group_home_dir = \/mysql\/log\ninnodb_file_per_table\ntmpdir=\/mysql\/tmpdir\ninnodb_undo_directory = \/mysql\/undo\ndefault-storage-engine = innodb\ndefault_tmp_storage_engine = innodb\ninnodb_log_files_in_group = 4\ninnodb_log_file_size = 1G\ninnodb_log_buffer_size = 8M\ninnodb_buffer_pool_size = 6G\t\nlarge-pages\t\ninnodb_buffer_pool_instances = 64\t\ninnodb_flush_method=O_DIRECT\t\ninnodb_flush_neighbors=0\t \ninnodb_flush_log_at_trx_commit=1\ninnodb_buffer_pool_dump_at_shutdown=1\t\ninnodb_buffer_pool_load_at_startup=1\t\nbulk_insert_buffer_size = 256\t\ninnodb_thread_concurrency = 16\t\n \t \n# Undo tablespace\t \ninnodb_undo_tablespaces = 5\t\n \t \n# Networking\t \nwait_timeout=57600\t \nmax_allowed_packet=1G\t\nsocket=\/var\/lib\/mysql\/mysql.sock\t \nskip-name-resolve\nport=3306\t\nmax_connections=1000\t\n\n\n[mysqld_safe]\nlog-error=\/mysql\/log\/mysqld.log\npid-file=\/var\/run\/mysqld\/mysqld.pid\" | sudo tee \/etc\/my.cnf.d\/nutanix.cnf\n\nsudo sed -i \"\/\\[mysqld\\]\/a server-id=100\" \/etc\/my.cnf.d\/nutanix.cnf\necho \"#master=100\" | sudo tee -a  \/etc\/my.cnf.d\/nutanix.cnf\n\nserver_id=`sudo cat etc\/my.cnf.d\/nutanix.cnf | grep  \"server-id=\" | cut -d= -f2`\nis_master=`sudo cat etc\/my.cnf.d\/nutanix.cnf | grep -q -w \"#master=$server_id\"; echo $?`\n\nif [ ${is_master} -ne 0 ]\nthen\n   sudo sed -i '\/\\[mysqld\\]\/a read_only=1' \/etc\/my.cnf.d\/nutanix.cnf\nfi\n\n# -*- Sysctl configuration\nmysql_grp_id=`id -g mysql`\nsudo sysctl -w vm.swappiness=0\nsudo sysctl -w vm.nr_hugepages=1024\nsudo sysctl -w vm.overcommit_memory=1\nsudo sysctl -w vm.dirty_background_ratio=5 \nsudo sysctl -w vm.dirty_ratio=15\nsudo sysctl -w vm.dirty_expire_centisecs=500\nsudo sysctl -w vm.dirty_writeback_centisecs=100\nsudo sysctl -w vm.hugetlb_shm_group=$mysql_grp_id\n\necho \"vm.swappiness=0\nvm.nr_hugepages=1024\nvm.overcommit_memory=1\nvm.dirty_background_ratio=5 \nvm.dirty_ratio=15\nvm.dirty_expire_centisecs=500\nvm.dirty_writeback_centisecs=100\nvm.hugetlb_shm_group=$mysql_grp_id\" | sudo tee  -a \/etc\/sysctl.conf\n\necho \"ACTION=='add|change', SUBSYSTEM=='block', RUN+='\/bin\/sh -c \\\"\/bin\/echo 1024 > \/sys%p\/queue\/max_sectors_kb\\\"'\" | sudo tee \/etc\/udev\/rules.d\/71-block-max-sectors.rules\n\necho \"\/dev\/mysqlDataVG\/mysqlDataLV \/mysql\/data ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\necho \"\/dev\/mysqlLogVG\/mysqlLogLV \/mysql\/log ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\nsudo mkdir -p \/mysql\/log \/mysql\/data \/mysql\/tmpdir \/mysql\/undo\nsudo mount -a\nsudo chown -R mysql:mysql \/mysql\n\nsudo systemctl enable mysqld\n\nsudo rm -rf \/mysql\/data\/*\nsudo systemctl start mysqld\n\n#Fix to obtain temp password and set it to blank\npassword=$(grep -oP 'temporary password(.*): \\K(\\S+)' \/var\/log\/mysqld.log)\nsudo mysqladmin --user=root --password=\"$password\" password aaBB**cc1122\nsudo mysql --user=root --password=aaBB**cc1122 -e \"UNINSTALL COMPONENT 'file:\/\/component_validate_password'\"\nsudo mysqladmin --user=root --password=\"aaBB**cc1122\" password \"\"\n\n\n#Mysql secure installation\nsudo mysql -u root<<-EOF\nALTER USER 'root'@'localhost' IDENTIFIED WITH caching_sha2_password BY '@@{MYSQL_PASSWORD}@@';\nDELETE FROM mysql.user WHERE User='root' AND Host NOT IN ('localhost', '127.0.0.1', '::1');\nDELETE FROM mysql.user WHERE User='';\nDELETE FROM mysql.db WHERE Db='test' OR Db='test\\_%';\nFLUSH PRIVILEGES;\nEOF\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Setup MySQL"}],"description":"","message_list":[],"uuid":"b3a4d940-2c2a-452a-a008-d29029c241ad","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"20906fd3_dag","uuid":"f5bcc5df-e89b-4bb3-83dd-a45c600d8bee"},"name":"8c0bb7c2_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSMasterPackage","uuid":"6d64cb98-1346-48c4-a14e-f2858fbc3058"},"retries":"0","description":"","type":"DAG","uuid":"114fdb5c-9ba8-4361-a1cf-0973cb2398e9","child_tasks_local_reference_list":[{"kind":"app_task","name":"PackageUninstallTask","uuid":"793e5443-ac4f-4600-9e78-501fbd389358"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"102b4b68_dag"},{"target_any_local_reference":{"kind":"app_package","name":"AWSMasterPackage","uuid":"6d64cb98-1346-48c4-a14e-f2858fbc3058"},"retries":"0","description":"","type":"EXEC","uuid":"793e5443-ac4f-4600-9e78-501fbd389358","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"PackageUninstallTask"}],"description":"","message_list":[],"uuid":"1c0c16f1-92f1-4a05-b58e-58e6329f4454","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"102b4b68_dag","uuid":"114fdb5c-9ba8-4361-a1cf-0973cb2398e9"},"name":"97a9a9af_runbook"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Install_Crb_6d64cb98_1346_48c4_a14e_f2858fbc3058"}],"description":"","message_list":[],"uuid":"6f443716-700e-47e7-8d54-10a891b748e8","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Package_6d64cb98_1346_48c4_a14e_f2858fbc3058","uuid":"a8f92b44-e786-4286-802f-75d1902f18dd"},"name":"SYS_GEN__Runbook_Package_6d64cb98_1346_48c4_a14e_f2858fbc3058"}},{"description":"System action for creating an application","message_list":[],"uuid":"077e84d2-3f5b-4f0f-b14f-e0f203619876","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSMasterPackage","uuid":"6d64cb98-1346-48c4-a14e-f2858fbc3058"},"retries":"0","description":"","type":"DAG","uuid":"ec77cdd8-bb43-40a1-a857-c72626cf3805","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_6d64cb98_1346_48c4_a14e_f2858fbc3058","uuid":"68d1104b-941c-4558-81da-dfcce1425fd8"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"1609c75a-c907-40a7-90ce-377fd68f0f17"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"179a89e0-5cce-4589-9f77-a4005a639dd7"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"1609c75a-c907-40a7-90ce-377fd68f0f17"},"edge_type":"inherent","type":"","uuid":"04cff258-f423-48c0-b2de-ddedb3703517","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"179a89e0-5cce-4589-9f77-a4005a639dd7"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_6d64cb98_1346_48c4_a14e_f2858fbc3058","uuid":"68d1104b-941c-4558-81da-dfcce1425fd8"},"edge_type":"inherent","type":"","uuid":"e57d0420-1d38-4155-b67f-a4603717bd4f","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"1609c75a-c907-40a7-90ce-377fd68f0f17"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_6d64cb98_1346_48c4_a14e_f2858fbc3058"},{"target_any_local_reference":{"kind":"app_package","name":"AWSMasterPackage","uuid":"6d64cb98-1346-48c4-a14e-f2858fbc3058"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"68d1104b-941c-4558-81da-dfcce1425fd8","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_6d64cb98_1346_48c4_a14e_f2858fbc3058","uuid":"6f443716-700e-47e7-8d54-10a891b748e8"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_6d64cb98_1346_48c4_a14e_f2858fbc3058"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"1609c75a-c907-40a7-90ce-377fd68f0f17","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0a970522_runbook","uuid":"f2803b23-af0b-4afd-8a2f-ef666adf85c8"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"179a89e0-5cce-4589-9f77-a4005a639dd7","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"5ddb28d1_runbook","uuid":"f88c4d73-c0ab-488b-a016-3e1453b91891"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd"}],"description":"","message_list":[],"uuid":"9b45eaab-6385-4f0b-8fcf-2607f5de91c8","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_6d64cb98_1346_48c4_a14e_f2858fbc3058","uuid":"ec77cdd8-bb43-40a1-a857-c72626cf3805"},"name":"SYS_GEN__Runbook_Package_6d64cb98_1346_48c4_a14e_f2858fbc3058"}},{"description":"System action for uninstalling an application","message_list":[],"uuid":"98279333-5d8a-4d19-a807-7289691d9f6b","name":"action_uninstall","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSMasterPackage","uuid":"6d64cb98-1346-48c4-a14e-f2858fbc3058"},"retries":"0","description":"","type":"DAG","uuid":"e8930bcb-8fa0-4f4b-ac0c-b08a010bf10a","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Uninstall_Crb_6d64cb98_1346_48c4_a14e_f2858fbc3058","uuid":"ffb9cc46-d9fc-4221-baae-358315531ba9"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Package_6d64cb98_1346_48c4_a14e_f2858fbc3058"},{"target_any_local_reference":{"kind":"app_package","name":"AWSMasterPackage","uuid":"6d64cb98-1346-48c4-a14e-f2858fbc3058"},"retries":"0","description":"","type":"CUSTOM_PACKAGE_UNINSTALL","uuid":"ffb9cc46-d9fc-4221-baae-358315531ba9","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSMasterPackage","uuid":"6d64cb98-1346-48c4-a14e-f2858fbc3058"},"retries":"0","description":"","type":"DAG","uuid":"f5bcc5df-e89b-4bb3-83dd-a45c600d8bee","child_tasks_local_reference_list":[{"kind":"app_task","name":"Install System Packages","uuid":"954cce73-22cd-4eb4-9cd6-6658549482b5"},{"kind":"app_task","name":"Create Disk Setup","uuid":"7675477c-739e-463c-9da6-8f4bd25e2913"},{"kind":"app_task","name":"Install MySQL","uuid":"0f508029-d251-4d2e-a3ee-e64ed7f2bd05"},{"kind":"app_task","name":"Setup MySQL","uuid":"f5b3515f-ca38-4c78-84a3-569f2dfbcdbd"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Install System Packages","uuid":"954cce73-22cd-4eb4-9cd6-6658549482b5"},"edge_type":"user_defined","type":"","uuid":"10764558-4d97-4d7a-9412-89978ebc9c9c","to_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"7675477c-739e-463c-9da6-8f4bd25e2913"}},{"from_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"7675477c-739e-463c-9da6-8f4bd25e2913"},"edge_type":"user_defined","type":"","uuid":"a6ae4db2-f783-4e0c-8018-0f25de4c0fb6","to_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"0f508029-d251-4d2e-a3ee-e64ed7f2bd05"}},{"from_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"0f508029-d251-4d2e-a3ee-e64ed7f2bd05"},"edge_type":"user_defined","type":"","uuid":"aa9ea36d-3a79-41e4-b0d6-4ea869416021","to_task_reference":{"kind":"app_task","name":"Setup MySQL","uuid":"f5b3515f-ca38-4c78-84a3-569f2dfbcdbd"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"20906fd3_dag"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"EXEC","uuid":"954cce73-22cd-4eb4-9cd6-6658549482b5","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n# -*- Install Mysql\nsudo yum update -y --quiet\nsudo yum install -y  wget xfs* bc unzip lvm2*\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"System packages are installed\"","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install System Packages"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"EXEC","uuid":"7675477c-739e-463c-9da6-8f4bd25e2913","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n##############\n#\n# LVM setup script for PostgreSQL . 4 disks for DATA and 2 for logs\n# Data disks are 60GB | Log disks are 20GB \n#\n#############\n\n\n#PGSQL data\nsudo pvcreate \/dev\/xvdb \/dev\/xvdc \/dev\/xvdd \/dev\/xvde\nsudo vgcreate mysqlDataVG \/dev\/xvdb \/dev\/xvdc \/dev\/xvdd \/dev\/xvde\nsudo lvcreate -l 100%FREE -i4 -I1M -n mysqlDataLV mysqlDataVG          ## Use 1MB to avoid IO amplification \n#lvcreate -l 100%FREE -i4 -I4M -n pgDataLV pgDataVG\n\n\n#PGSQL logs\nsudo pvcreate \/dev\/xvdf \/dev\/xvdg \/dev\/xvdh \/dev\/xvdi\nsudo vgcreate mysqlLogVG \/dev\/xvdf \/dev\/xvdg \/dev\/xvdh \/dev\/xvdi\nsudo lvcreate -l 100%FREE -i2 -I1M -n mysqlLogLV mysqlLogVG            ## Use 1MB to avoid IO amplification\n#lvcreate -l 100%FREE -i2 -I4M -n pgLogLV pgLogVG\n\n\n#Disable LVM read ahead\nsudo lvchange -r 0 \/dev\/mysqlDataVG\/mysqlDataLV\nsudo lvchange -r 0 \/dev\/mysqlLogVG\/mysqlLogLV\n\n\n#Format LVMs with ext4 and use nodiscard to make sure format time is fast on Nutanix due to SCSI unmap\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlDataVG\/mysqlDataLV\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlLogVG\/mysqlLogLV\n\nsleep 10\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Create Disk Setup"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"EXEC","uuid":"0f508029-d251-4d2e-a3ee-e64ed7f2bd05","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nsudo hostnamectl set-hostname \"@@{name}@@\"\n\n# -*- Mysql installation \nsudo yum install -y --quiet \"http:\/\/repo.mysql.com\/mysql80-community-release-el7.rpm\"\nsudo yum update -y --quiet\nsudo yum install -y --quiet sshpass mysql-community-server.x86_64\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install MySQL"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"EXEC","uuid":"f5b3515f-ca38-4c78-84a3-569f2dfbcdbd","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\necho \"!includedir \/etc\/my.cnf.d\" | sudo tee -a \/etc\/my.cnf\n\necho \"[mysqld]\nbinlog-format=mixed\nlog-bin=mysql-bin\ndatadir=\/mysql\/data\nsql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES\ninnodb_data_home_dir = \/mysql\/data\ninnodb_log_group_home_dir = \/mysql\/log\ninnodb_file_per_table\ntmpdir=\/mysql\/tmpdir\ninnodb_undo_directory = \/mysql\/undo\ndefault-storage-engine = innodb\ndefault_tmp_storage_engine = innodb\ninnodb_log_files_in_group = 4\ninnodb_log_file_size = 1G\ninnodb_log_buffer_size = 8M\ninnodb_buffer_pool_size = 6G\t\nlarge-pages\t\ninnodb_buffer_pool_instances = 64\t\ninnodb_flush_method=O_DIRECT\t\ninnodb_flush_neighbors=0\t \ninnodb_flush_log_at_trx_commit=1\ninnodb_buffer_pool_dump_at_shutdown=1\t\ninnodb_buffer_pool_load_at_startup=1\t\nbulk_insert_buffer_size = 256\t\ninnodb_thread_concurrency = 16\t\n \t \n# Undo tablespace\t \ninnodb_undo_tablespaces = 5\t\n \t \n# Networking\t \nwait_timeout=57600\t \nmax_allowed_packet=1G\t\nsocket=\/var\/lib\/mysql\/mysql.sock\t \nskip-name-resolve\nport=3306\t\nmax_connections=1000\t\n\n\n[mysqld_safe]\nlog-error=\/mysql\/log\/mysqld.log\npid-file=\/var\/run\/mysqld\/mysqld.pid\" | sudo tee \/etc\/my.cnf.d\/nutanix.cnf\n\nsudo sed -i \"\/\\[mysqld\\]\/a server-id=100\" \/etc\/my.cnf.d\/nutanix.cnf\necho \"#master=100\" | sudo tee -a  \/etc\/my.cnf.d\/nutanix.cnf\n\nserver_id=`sudo cat etc\/my.cnf.d\/nutanix.cnf | grep  \"server-id=\" | cut -d= -f2`\nis_master=`sudo cat etc\/my.cnf.d\/nutanix.cnf | grep -q -w \"#master=$server_id\"; echo $?`\n\nif [ ${is_master} -ne 0 ]\nthen\n   sudo sed -i '\/\\[mysqld\\]\/a read_only=1' \/etc\/my.cnf.d\/nutanix.cnf\nfi\n\n# -*- Sysctl configuration\nmysql_grp_id=`id -g mysql`\nsudo sysctl -w vm.swappiness=0\nsudo sysctl -w vm.nr_hugepages=1024\nsudo sysctl -w vm.overcommit_memory=1\nsudo sysctl -w vm.dirty_background_ratio=5 \nsudo sysctl -w vm.dirty_ratio=15\nsudo sysctl -w vm.dirty_expire_centisecs=500\nsudo sysctl -w vm.dirty_writeback_centisecs=100\nsudo sysctl -w vm.hugetlb_shm_group=$mysql_grp_id\n\necho \"vm.swappiness=0\nvm.nr_hugepages=1024\nvm.overcommit_memory=1\nvm.dirty_background_ratio=5 \nvm.dirty_ratio=15\nvm.dirty_expire_centisecs=500\nvm.dirty_writeback_centisecs=100\nvm.hugetlb_shm_group=$mysql_grp_id\" | sudo tee  -a \/etc\/sysctl.conf\n\necho \"ACTION=='add|change', SUBSYSTEM=='block', RUN+='\/bin\/sh -c \\\"\/bin\/echo 1024 > \/sys%p\/queue\/max_sectors_kb\\\"'\" | sudo tee \/etc\/udev\/rules.d\/71-block-max-sectors.rules\n\necho \"\/dev\/mysqlDataVG\/mysqlDataLV \/mysql\/data ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\necho \"\/dev\/mysqlLogVG\/mysqlLogLV \/mysql\/log ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\nsudo mkdir -p \/mysql\/log \/mysql\/data \/mysql\/tmpdir \/mysql\/undo\nsudo mount -a\nsudo chown -R mysql:mysql \/mysql\n\nsudo systemctl enable mysqld\n\nsudo rm -rf \/mysql\/data\/*\nsudo systemctl start mysqld\n\n#Fix to obtain temp password and set it to blank\npassword=$(grep -oP 'temporary password(.*): \\K(\\S+)' \/var\/log\/mysqld.log)\nsudo mysqladmin --user=root --password=\"$password\" password aaBB**cc1122\nsudo mysql --user=root --password=aaBB**cc1122 -e \"UNINSTALL COMPONENT 'file:\/\/component_validate_password'\"\nsudo mysqladmin --user=root --password=\"aaBB**cc1122\" password \"\"\n\n\n#Mysql secure installation\nsudo mysql -u root<<-EOF\nALTER USER 'root'@'localhost' IDENTIFIED WITH caching_sha2_password BY '@@{MYSQL_PASSWORD}@@';\nDELETE FROM mysql.user WHERE User='root' AND Host NOT IN ('localhost', '127.0.0.1', '::1');\nDELETE FROM mysql.user WHERE User='';\nDELETE FROM mysql.db WHERE Db='test' OR Db='test\\_%';\nFLUSH PRIVILEGES;\nEOF\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Setup MySQL"}],"description":"","message_list":[],"uuid":"b3a4d940-2c2a-452a-a008-d29029c241ad","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"20906fd3_dag","uuid":"f5bcc5df-e89b-4bb3-83dd-a45c600d8bee"},"name":"8c0bb7c2_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSMasterPackage","uuid":"6d64cb98-1346-48c4-a14e-f2858fbc3058"},"retries":"0","description":"","type":"DAG","uuid":"114fdb5c-9ba8-4361-a1cf-0973cb2398e9","child_tasks_local_reference_list":[{"kind":"app_task","name":"PackageUninstallTask","uuid":"793e5443-ac4f-4600-9e78-501fbd389358"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"102b4b68_dag"},{"target_any_local_reference":{"kind":"app_package","name":"AWSMasterPackage","uuid":"6d64cb98-1346-48c4-a14e-f2858fbc3058"},"retries":"0","description":"","type":"EXEC","uuid":"793e5443-ac4f-4600-9e78-501fbd389358","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"PackageUninstallTask"}],"description":"","message_list":[],"uuid":"1c0c16f1-92f1-4a05-b58e-58e6329f4454","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"102b4b68_dag","uuid":"114fdb5c-9ba8-4361-a1cf-0973cb2398e9"},"name":"97a9a9af_runbook"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Uninstall_Crb_6d64cb98_1346_48c4_a14e_f2858fbc3058"}],"description":"","message_list":[],"uuid":"29d253ae-db2b-4a32-b987-36896530bcc9","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Package_6d64cb98_1346_48c4_a14e_f2858fbc3058","uuid":"e8930bcb-8fa0-4f4b-ac0c-b08a010bf10a"},"name":"SYS_GEN__Runbook_Package_6d64cb98_1346_48c4_a14e_f2858fbc3058"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"a13e0914-bc4d-4085-947d-4cc8f0717515","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSMasterPackage","uuid":"6d64cb98-1346-48c4-a14e-f2858fbc3058"},"retries":"0","description":"","type":"DAG","uuid":"519b43cb-fc40-46ce-b006-16d7b387b512","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"280eac6d-e028-4de9-8518-7454a669edef"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"8a7fd6c8-1796-4f7a-b126-6fb6672c5a87"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_6d64cb98_1346_48c4_a14e_f2858fbc3058","uuid":"ccf984a8-32ca-4c02-9172-83477f664b16"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"280eac6d-e028-4de9-8518-7454a669edef"},"edge_type":"inherent","type":"","uuid":"5692ed28-3501-41eb-86c6-dfe7a82ab3d4","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"8a7fd6c8-1796-4f7a-b126-6fb6672c5a87"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"8a7fd6c8-1796-4f7a-b126-6fb6672c5a87"},"edge_type":"inherent","type":"","uuid":"937bab44-2b4c-4a96-b0a7-7c486f8d8c4e","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_6d64cb98_1346_48c4_a14e_f2858fbc3058","uuid":"ccf984a8-32ca-4c02-9172-83477f664b16"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_6d64cb98_1346_48c4_a14e_f2858fbc3058"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"280eac6d-e028-4de9-8518-7454a669edef","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0aefbca3_runbook","uuid":"a75d0021-cf2d-4da4-85dc-56ee0ed9e9eb"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"8a7fd6c8-1796-4f7a-b126-6fb6672c5a87","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"5fd47ec3_runbook","uuid":"7e58dd6b-1da9-495c-97e7-84bb6e288586"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd"},{"target_any_local_reference":{"kind":"app_package","name":"AWSMasterPackage","uuid":"6d64cb98-1346-48c4-a14e-f2858fbc3058"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"ccf984a8-32ca-4c02-9172-83477f664b16","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_6d64cb98_1346_48c4_a14e_f2858fbc3058","uuid":"29d253ae-db2b-4a32-b987-36896530bcc9"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_6d64cb98_1346_48c4_a14e_f2858fbc3058"}],"description":"","message_list":[],"uuid":"8616e6d9-dee9-466e-9a20-cdde352edd92","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_6d64cb98_1346_48c4_a14e_f2858fbc3058","uuid":"519b43cb-fc40-46ce-b006-16d7b387b512"},"name":"SYS_GEN__Runbook_Package_6d64cb98_1346_48c4_a14e_f2858fbc3058"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"0189a887-aafd-4371-a59d-1d62b43f6558","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSMasterPackage","uuid":"6d64cb98-1346-48c4-a14e-f2858fbc3058"},"retries":"0","description":"","type":"DAG","uuid":"5263f3d6-e466-4703-bb01-0bd4c48fde56","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"2146c1a3-cbb7-4c81-8861-745196f82b21"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_6d64cb98_1346_48c4_a14e_f2858fbc3058","uuid":"7e9e9b2e-4896-44a8-b025-5e8f6e30f2ee"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"2146c1a3-cbb7-4c81-8861-745196f82b21"},"edge_type":"inherent","type":"","uuid":"c8899c20-1293-45c1-a27e-9ea9325ea8d5","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_6d64cb98_1346_48c4_a14e_f2858fbc3058","uuid":"7e9e9b2e-4896-44a8-b025-5e8f6e30f2ee"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_6d64cb98_1346_48c4_a14e_f2858fbc3058"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"2146c1a3-cbb7-4c81-8861-745196f82b21","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"9b57420b-3c50-4fbe-8880-9c7651fd25ad"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd"},{"target_any_local_reference":{"kind":"app_package","name":"AWSMasterPackage","uuid":"6d64cb98-1346-48c4-a14e-f2858fbc3058"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"7e9e9b2e-4896-44a8-b025-5e8f6e30f2ee","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_6d64cb98_1346_48c4_a14e_f2858fbc3058"}],"description":"","message_list":[],"uuid":"92a37346-7f21-49ec-9ab3-3689f7922213","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_6d64cb98_1346_48c4_a14e_f2858fbc3058","uuid":"5263f3d6-e466-4703-bb01-0bd4c48fde56"},"name":"SYS_GEN__Runbook_Package_6d64cb98_1346_48c4_a14e_f2858fbc3058"}},{"description":"System action for starting an application","message_list":[],"uuid":"ed8552e1-91e0-4576-8bd6-ab51376935b0","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSMasterPackage","uuid":"6d64cb98-1346-48c4-a14e-f2858fbc3058"},"retries":"0","description":"","type":"DAG","uuid":"2e4ac1b8-b197-4377-8eee-229794c25843","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"49fcdfce-4643-4ba3-801e-5934aa5b87fc"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_6d64cb98_1346_48c4_a14e_f2858fbc3058"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"49fcdfce-4643-4ba3-801e-5934aa5b87fc","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"5ddb28d1_runbook","uuid":"f88c4d73-c0ab-488b-a016-3e1453b91891"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd"}],"description":"","message_list":[],"uuid":"5edbe8d2-f99d-4945-8dff-06d987a4f2d5","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_6d64cb98_1346_48c4_a14e_f2858fbc3058","uuid":"2e4ac1b8-b197-4377-8eee-229794c25843"},"name":"SYS_GEN__Runbook_Package_6d64cb98_1346_48c4_a14e_f2858fbc3058"}},{"description":"System action for restarting an application","message_list":[],"uuid":"6bbbb258-ea52-4cd7-96e1-0efe71967b52","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSMasterPackage","uuid":"6d64cb98-1346-48c4-a14e-f2858fbc3058"},"retries":"0","description":"","type":"DAG","uuid":"260f72f2-8823-41e1-bd20-32187e6e5eb5","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"3fdc33fd-7221-4c95-ba60-a1b1e915d2a5"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_6d64cb98_1346_48c4_a14e_f2858fbc3058"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"3fdc33fd-7221-4c95-ba60-a1b1e915d2a5","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"7e709238_runbook","uuid":"6beb8e29-06b2-4218-a1fd-18c28d8c6218"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd"}],"description":"","message_list":[],"uuid":"780294b9-d1ec-4f9f-b46d-fcf7516f6531","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_6d64cb98_1346_48c4_a14e_f2858fbc3058","uuid":"260f72f2-8823-41e1-bd20-32187e6e5eb5"},"name":"SYS_GEN__Runbook_Package_6d64cb98_1346_48c4_a14e_f2858fbc3058"}},{"description":"System action for stopping an application","message_list":[],"uuid":"b910d3ce-a770-4f62-bfb8-40959139c94a","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSMasterPackage","uuid":"6d64cb98-1346-48c4-a14e-f2858fbc3058"},"retries":"0","description":"","type":"DAG","uuid":"bf761c29-1fe5-4870-bc46-05d841611ca3","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"cea2ac7a-90c3-4106-9ead-e35d3b2b045f"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_6d64cb98_1346_48c4_a14e_f2858fbc3058"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"cea2ac7a-90c3-4106-9ead-e35d3b2b045f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0aefbca3_runbook","uuid":"a75d0021-cf2d-4da4-85dc-56ee0ed9e9eb"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd"}],"description":"","message_list":[],"uuid":"fb43c33b-d2cd-4d36-9df1-7528763c7a60","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_6d64cb98_1346_48c4_a14e_f2858fbc3058","uuid":"bf761c29-1fe5-4870-bc46-05d841611ca3"},"name":"SYS_GEN__Runbook_Package_6d64cb98_1346_48c4_a14e_f2858fbc3058"}}],"message_list":[],"service_local_reference_list":[{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"}],"uuid":"6d64cb98-1346-48c4-a14e-f2858fbc3058","state":"ACTIVE","version":"","editables":{},"type":"DEB","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSMasterPackage","uuid":"6d64cb98-1346-48c4-a14e-f2858fbc3058"},"retries":"0","description":"","type":"DAG","uuid":"f5bcc5df-e89b-4bb3-83dd-a45c600d8bee","child_tasks_local_reference_list":[{"kind":"app_task","name":"Install System Packages","uuid":"954cce73-22cd-4eb4-9cd6-6658549482b5"},{"kind":"app_task","name":"Create Disk Setup","uuid":"7675477c-739e-463c-9da6-8f4bd25e2913"},{"kind":"app_task","name":"Install MySQL","uuid":"0f508029-d251-4d2e-a3ee-e64ed7f2bd05"},{"kind":"app_task","name":"Setup MySQL","uuid":"f5b3515f-ca38-4c78-84a3-569f2dfbcdbd"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Install System Packages","uuid":"954cce73-22cd-4eb4-9cd6-6658549482b5"},"edge_type":"user_defined","type":"","uuid":"10764558-4d97-4d7a-9412-89978ebc9c9c","to_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"7675477c-739e-463c-9da6-8f4bd25e2913"}},{"from_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"7675477c-739e-463c-9da6-8f4bd25e2913"},"edge_type":"user_defined","type":"","uuid":"a6ae4db2-f783-4e0c-8018-0f25de4c0fb6","to_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"0f508029-d251-4d2e-a3ee-e64ed7f2bd05"}},{"from_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"0f508029-d251-4d2e-a3ee-e64ed7f2bd05"},"edge_type":"user_defined","type":"","uuid":"aa9ea36d-3a79-41e4-b0d6-4ea869416021","to_task_reference":{"kind":"app_task","name":"Setup MySQL","uuid":"f5b3515f-ca38-4c78-84a3-569f2dfbcdbd"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"20906fd3_dag"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"EXEC","uuid":"954cce73-22cd-4eb4-9cd6-6658549482b5","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n# -*- Install Mysql\nsudo yum update -y --quiet\nsudo yum install -y  wget xfs* bc unzip lvm2*\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"System packages are installed\"","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install System Packages"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"EXEC","uuid":"7675477c-739e-463c-9da6-8f4bd25e2913","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n##############\n#\n# LVM setup script for PostgreSQL . 4 disks for DATA and 2 for logs\n# Data disks are 60GB | Log disks are 20GB \n#\n#############\n\n\n#PGSQL data\nsudo pvcreate \/dev\/xvdb \/dev\/xvdc \/dev\/xvdd \/dev\/xvde\nsudo vgcreate mysqlDataVG \/dev\/xvdb \/dev\/xvdc \/dev\/xvdd \/dev\/xvde\nsudo lvcreate -l 100%FREE -i4 -I1M -n mysqlDataLV mysqlDataVG          ## Use 1MB to avoid IO amplification \n#lvcreate -l 100%FREE -i4 -I4M -n pgDataLV pgDataVG\n\n\n#PGSQL logs\nsudo pvcreate \/dev\/xvdf \/dev\/xvdg \/dev\/xvdh \/dev\/xvdi\nsudo vgcreate mysqlLogVG \/dev\/xvdf \/dev\/xvdg \/dev\/xvdh \/dev\/xvdi\nsudo lvcreate -l 100%FREE -i2 -I1M -n mysqlLogLV mysqlLogVG            ## Use 1MB to avoid IO amplification\n#lvcreate -l 100%FREE -i2 -I4M -n pgLogLV pgLogVG\n\n\n#Disable LVM read ahead\nsudo lvchange -r 0 \/dev\/mysqlDataVG\/mysqlDataLV\nsudo lvchange -r 0 \/dev\/mysqlLogVG\/mysqlLogLV\n\n\n#Format LVMs with ext4 and use nodiscard to make sure format time is fast on Nutanix due to SCSI unmap\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlDataVG\/mysqlDataLV\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlLogVG\/mysqlLogLV\n\nsleep 10\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Create Disk Setup"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"EXEC","uuid":"0f508029-d251-4d2e-a3ee-e64ed7f2bd05","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nsudo hostnamectl set-hostname \"@@{name}@@\"\n\n# -*- Mysql installation \nsudo yum install -y --quiet \"http:\/\/repo.mysql.com\/mysql80-community-release-el7.rpm\"\nsudo yum update -y --quiet\nsudo yum install -y --quiet sshpass mysql-community-server.x86_64\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install MySQL"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"EXEC","uuid":"f5b3515f-ca38-4c78-84a3-569f2dfbcdbd","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\necho \"!includedir \/etc\/my.cnf.d\" | sudo tee -a \/etc\/my.cnf\n\necho \"[mysqld]\nbinlog-format=mixed\nlog-bin=mysql-bin\ndatadir=\/mysql\/data\nsql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES\ninnodb_data_home_dir = \/mysql\/data\ninnodb_log_group_home_dir = \/mysql\/log\ninnodb_file_per_table\ntmpdir=\/mysql\/tmpdir\ninnodb_undo_directory = \/mysql\/undo\ndefault-storage-engine = innodb\ndefault_tmp_storage_engine = innodb\ninnodb_log_files_in_group = 4\ninnodb_log_file_size = 1G\ninnodb_log_buffer_size = 8M\ninnodb_buffer_pool_size = 6G\t\nlarge-pages\t\ninnodb_buffer_pool_instances = 64\t\ninnodb_flush_method=O_DIRECT\t\ninnodb_flush_neighbors=0\t \ninnodb_flush_log_at_trx_commit=1\ninnodb_buffer_pool_dump_at_shutdown=1\t\ninnodb_buffer_pool_load_at_startup=1\t\nbulk_insert_buffer_size = 256\t\ninnodb_thread_concurrency = 16\t\n \t \n# Undo tablespace\t \ninnodb_undo_tablespaces = 5\t\n \t \n# Networking\t \nwait_timeout=57600\t \nmax_allowed_packet=1G\t\nsocket=\/var\/lib\/mysql\/mysql.sock\t \nskip-name-resolve\nport=3306\t\nmax_connections=1000\t\n\n\n[mysqld_safe]\nlog-error=\/mysql\/log\/mysqld.log\npid-file=\/var\/run\/mysqld\/mysqld.pid\" | sudo tee \/etc\/my.cnf.d\/nutanix.cnf\n\nsudo sed -i \"\/\\[mysqld\\]\/a server-id=100\" \/etc\/my.cnf.d\/nutanix.cnf\necho \"#master=100\" | sudo tee -a  \/etc\/my.cnf.d\/nutanix.cnf\n\nserver_id=`sudo cat etc\/my.cnf.d\/nutanix.cnf | grep  \"server-id=\" | cut -d= -f2`\nis_master=`sudo cat etc\/my.cnf.d\/nutanix.cnf | grep -q -w \"#master=$server_id\"; echo $?`\n\nif [ ${is_master} -ne 0 ]\nthen\n   sudo sed -i '\/\\[mysqld\\]\/a read_only=1' \/etc\/my.cnf.d\/nutanix.cnf\nfi\n\n# -*- Sysctl configuration\nmysql_grp_id=`id -g mysql`\nsudo sysctl -w vm.swappiness=0\nsudo sysctl -w vm.nr_hugepages=1024\nsudo sysctl -w vm.overcommit_memory=1\nsudo sysctl -w vm.dirty_background_ratio=5 \nsudo sysctl -w vm.dirty_ratio=15\nsudo sysctl -w vm.dirty_expire_centisecs=500\nsudo sysctl -w vm.dirty_writeback_centisecs=100\nsudo sysctl -w vm.hugetlb_shm_group=$mysql_grp_id\n\necho \"vm.swappiness=0\nvm.nr_hugepages=1024\nvm.overcommit_memory=1\nvm.dirty_background_ratio=5 \nvm.dirty_ratio=15\nvm.dirty_expire_centisecs=500\nvm.dirty_writeback_centisecs=100\nvm.hugetlb_shm_group=$mysql_grp_id\" | sudo tee  -a \/etc\/sysctl.conf\n\necho \"ACTION=='add|change', SUBSYSTEM=='block', RUN+='\/bin\/sh -c \\\"\/bin\/echo 1024 > \/sys%p\/queue\/max_sectors_kb\\\"'\" | sudo tee \/etc\/udev\/rules.d\/71-block-max-sectors.rules\n\necho \"\/dev\/mysqlDataVG\/mysqlDataLV \/mysql\/data ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\necho \"\/dev\/mysqlLogVG\/mysqlLogLV \/mysql\/log ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\nsudo mkdir -p \/mysql\/log \/mysql\/data \/mysql\/tmpdir \/mysql\/undo\nsudo mount -a\nsudo chown -R mysql:mysql \/mysql\n\nsudo systemctl enable mysqld\n\nsudo rm -rf \/mysql\/data\/*\nsudo systemctl start mysqld\n\n#Fix to obtain temp password and set it to blank\npassword=$(grep -oP 'temporary password(.*): \\K(\\S+)' \/var\/log\/mysqld.log)\nsudo mysqladmin --user=root --password=\"$password\" password aaBB**cc1122\nsudo mysql --user=root --password=aaBB**cc1122 -e \"UNINSTALL COMPONENT 'file:\/\/component_validate_password'\"\nsudo mysqladmin --user=root --password=\"aaBB**cc1122\" password \"\"\n\n\n#Mysql secure installation\nsudo mysql -u root<<-EOF\nALTER USER 'root'@'localhost' IDENTIFIED WITH caching_sha2_password BY '@@{MYSQL_PASSWORD}@@';\nDELETE FROM mysql.user WHERE User='root' AND Host NOT IN ('localhost', '127.0.0.1', '::1');\nDELETE FROM mysql.user WHERE User='';\nDELETE FROM mysql.db WHERE Db='test' OR Db='test\\_%';\nFLUSH PRIVILEGES;\nEOF\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Setup MySQL"}],"description":"","message_list":[],"uuid":"b3a4d940-2c2a-452a-a008-d29029c241ad","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"20906fd3_dag","uuid":"f5bcc5df-e89b-4bb3-83dd-a45c600d8bee"},"name":"8c0bb7c2_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSMasterPackage","uuid":"6d64cb98-1346-48c4-a14e-f2858fbc3058"},"retries":"0","description":"","type":"DAG","uuid":"114fdb5c-9ba8-4361-a1cf-0973cb2398e9","child_tasks_local_reference_list":[{"kind":"app_task","name":"PackageUninstallTask","uuid":"793e5443-ac4f-4600-9e78-501fbd389358"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"102b4b68_dag"},{"target_any_local_reference":{"kind":"app_package","name":"AWSMasterPackage","uuid":"6d64cb98-1346-48c4-a14e-f2858fbc3058"},"retries":"0","description":"","type":"EXEC","uuid":"793e5443-ac4f-4600-9e78-501fbd389358","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"PackageUninstallTask"}],"description":"","message_list":[],"uuid":"1c0c16f1-92f1-4a05-b58e-58e6329f4454","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"102b4b68_dag","uuid":"114fdb5c-9ba8-4361-a1cf-0973cb2398e9"},"name":"97a9a9af_runbook"}},"variable_list":[],"name":"AWSMasterPackage"},{"description":"","action_list":[{"description":"System action for installing an application","message_list":[],"uuid":"b2dcb8c0-4b84-4737-a536-2763af798de2","name":"action_install","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSSlavePackage","uuid":"34c00323-d209-4ed6-ab82-48e007095d9d"},"retries":"0","description":"","type":"DAG","uuid":"c61cf6e5-9679-4a69-9ae9-40d98dd15f96","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Install_Crb_34c00323_d209_4ed6_ab82_48e007095d9d","uuid":"7c3adc18-a8e8-44ea-923b-31d57d0d1270"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Package_34c00323_d209_4ed6_ab82_48e007095d9d"},{"target_any_local_reference":{"kind":"app_package","name":"AWSSlavePackage","uuid":"34c00323-d209-4ed6-ab82-48e007095d9d"},"retries":"0","description":"","type":"CUSTOM_PACKAGE_INSTALL","uuid":"7c3adc18-a8e8-44ea-923b-31d57d0d1270","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSSlavePackage","uuid":"34c00323-d209-4ed6-ab82-48e007095d9d"},"retries":"0","description":"","type":"DAG","uuid":"d77b6f4d-5c6a-493c-9212-4658d3be4016","child_tasks_local_reference_list":[{"kind":"app_task","name":"Install System Packages","uuid":"cb777baf-3309-4b7c-a03c-0fec137ee671"},{"kind":"app_task","name":"Create Disk Setup","uuid":"0342aaa3-c506-4221-ac8e-5ae46f15f309"},{"kind":"app_task","name":"Install MySQL","uuid":"57e956e2-1c84-4add-882d-42c1daa0f32e"},{"kind":"app_task","name":"Setup MySQL","uuid":"fbbd4db6-5cad-4564-b4d6-8fb83b7acbc3"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Install System Packages","uuid":"cb777baf-3309-4b7c-a03c-0fec137ee671"},"edge_type":"user_defined","type":"","uuid":"7e56a93c-19dd-4753-b1a7-74fc41b9549a","to_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"0342aaa3-c506-4221-ac8e-5ae46f15f309"}},{"from_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"0342aaa3-c506-4221-ac8e-5ae46f15f309"},"edge_type":"user_defined","type":"","uuid":"1ef7d3b7-eda5-4b25-b1f9-1b8645c8514a","to_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"57e956e2-1c84-4add-882d-42c1daa0f32e"}},{"from_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"57e956e2-1c84-4add-882d-42c1daa0f32e"},"edge_type":"user_defined","type":"","uuid":"2087f962-5e6e-40b5-b84e-d21a2f6ab947","to_task_reference":{"kind":"app_task","name":"Setup MySQL","uuid":"fbbd4db6-5cad-4564-b4d6-8fb83b7acbc3"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"be281c77_dag"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"EXEC","uuid":"cb777baf-3309-4b7c-a03c-0fec137ee671","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n# -*- Install Mysql\nsudo yum update -y --quiet\nsudo yum install -y  wget xfs* bc unzip lvm2*\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"System packages are installed\"","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install System Packages"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"EXEC","uuid":"0342aaa3-c506-4221-ac8e-5ae46f15f309","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n##############\n#\n# LVM setup script for PostgreSQL . 4 disks for DATA and 2 for logs\n# Data disks are 60GB | Log disks are 20GB \n#\n#############\n\n\n#PGSQL data\nsudo pvcreate \/dev\/xvdb \/dev\/xvdc \/dev\/xvdd \/dev\/xvde\nsudo vgcreate mysqlDataVG \/dev\/xvdb \/dev\/xvdc \/dev\/xvdd \/dev\/xvde\nsudo lvcreate -l 100%FREE -i4 -I1M -n mysqlDataLV mysqlDataVG          ## Use 1MB to avoid IO amplification \n#lvcreate -l 100%FREE -i4 -I4M -n pgDataLV pgDataVG\n\n\n#PGSQL logs\nsudo pvcreate \/dev\/xvdf \/dev\/xvdg \/dev\/xvdh \/dev\/xvdi\nsudo vgcreate mysqlLogVG \/dev\/xvdf \/dev\/xvdg \/dev\/xvdh \/dev\/xvdi\nsudo lvcreate -l 100%FREE -i2 -I1M -n mysqlLogLV mysqlLogVG            ## Use 1MB to avoid IO amplification\n#lvcreate -l 100%FREE -i2 -I4M -n pgLogLV pgLogVG\n\n\n#Disable LVM read ahead\nsudo lvchange -r 0 \/dev\/mysqlDataVG\/mysqlDataLV\nsudo lvchange -r 0 \/dev\/mysqlLogVG\/mysqlLogLV\n\n\n#Format LVMs with ext4 and use nodiscard to make sure format time is fast on Nutanix due to SCSI unmap\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlDataVG\/mysqlDataLV\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlLogVG\/mysqlLogLV\n\nsleep 10\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Create Disk Setup"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"EXEC","uuid":"57e956e2-1c84-4add-882d-42c1daa0f32e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nsudo hostnamectl set-hostname \"@@{name}@@\"\n\n# -*- Mysql installation \nsudo yum install -y --quiet \"http:\/\/repo.mysql.com\/mysql80-community-release-el7.rpm\"\nsudo yum update -y --quiet\nsudo yum install -y --quiet sshpass mysql-community-server.x86_64\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install MySQL"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"EXEC","uuid":"fbbd4db6-5cad-4564-b4d6-8fb83b7acbc3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\necho \"!includedir \/etc\/my.cnf.d\" | sudo tee -a \/etc\/my.cnf\n\necho \"[mysqld]\nbinlog-format=mixed\nlog-bin=mysql-bin\ndatadir=\/mysql\/data\nsql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES\ninnodb_data_home_dir = \/mysql\/data\ninnodb_log_group_home_dir = \/mysql\/log\ninnodb_file_per_table\ntmpdir=\/mysql\/tmpdir\ninnodb_undo_directory = \/mysql\/undo\ndefault-storage-engine = innodb\ndefault_tmp_storage_engine = innodb\ninnodb_log_files_in_group = 4\ninnodb_log_file_size = 1G\ninnodb_log_buffer_size = 8M\ninnodb_buffer_pool_size = 6G\t\nlarge-pages\t\ninnodb_buffer_pool_instances = 64\t\ninnodb_flush_method=O_DIRECT\t\ninnodb_flush_neighbors=0\t \ninnodb_flush_log_at_trx_commit=1\ninnodb_buffer_pool_dump_at_shutdown=1\t\ninnodb_buffer_pool_load_at_startup=1\t\nbulk_insert_buffer_size = 256\t\ninnodb_thread_concurrency = 16\t\n \t \n# Undo tablespace\t \ninnodb_undo_tablespaces = 5\t\n \t \n# Networking\t \nwait_timeout=57600\t \nmax_allowed_packet=1G\t\nsocket=\/var\/lib\/mysql\/mysql.sock\t \nskip-name-resolve\nport=3306\t\nmax_connections=1000\t\n\n\n[mysqld_safe]\nlog-error=\/mysql\/log\/mysqld.log\npid-file=\/var\/run\/mysqld\/mysqld.pid\" | sudo tee \/etc\/my.cnf.d\/nutanix.cnf\n\necho \"#master=100\" | sudo tee -a  \/etc\/my.cnf.d\/nutanix.cnf\n\nserver_id=`sudo cat etc\/my.cnf.d\/nutanix.cnf | grep  \"server-id=\" | cut -d= -f2`\nis_master=`sudo cat etc\/my.cnf.d\/nutanix.cnf | grep -q -w \"#master=$server_id\"; echo $?`\n\nif [ ${is_master} -ne 0 ]\nthen\n   sudo sed -i '\/\\[mysqld\\]\/a read_only=1' \/etc\/my.cnf.d\/nutanix.cnf\nfi\n\n# -*- Sysctl configuration\nmysql_grp_id=`id -g mysql`\nsudo sysctl -w vm.swappiness=0\nsudo sysctl -w vm.nr_hugepages=1024\nsudo sysctl -w vm.overcommit_memory=1\nsudo sysctl -w vm.dirty_background_ratio=5 \nsudo sysctl -w vm.dirty_ratio=15\nsudo sysctl -w vm.dirty_expire_centisecs=500\nsudo sysctl -w vm.dirty_writeback_centisecs=100\nsudo sysctl -w vm.hugetlb_shm_group=$mysql_grp_id\n\necho \"vm.swappiness=0\nvm.nr_hugepages=1024\nvm.overcommit_memory=1\nvm.dirty_background_ratio=5 \nvm.dirty_ratio=15\nvm.dirty_expire_centisecs=500\nvm.dirty_writeback_centisecs=100\nvm.hugetlb_shm_group=$mysql_grp_id\" | sudo tee  -a \/etc\/sysctl.conf\n\necho \"ACTION=='add|change', SUBSYSTEM=='block', RUN+='\/bin\/sh -c \\\"\/bin\/echo 1024 > \/sys%p\/queue\/max_sectors_kb\\\"'\" | sudo tee \/etc\/udev\/rules.d\/71-block-max-sectors.rules\n\necho \"\/dev\/mysqlDataVG\/mysqlDataLV \/mysql\/data ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\necho \"\/dev\/mysqlLogVG\/mysqlLogLV \/mysql\/log ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\nsudo mkdir -p \/mysql\/log \/mysql\/data \/mysql\/tmpdir \/mysql\/undo\nsudo mount -a\nsudo chown -R mysql:mysql \/mysql\n\nsudo systemctl enable mysqld\n\nsudo rm -rf \/mysql\/data\/*\nsudo systemctl start mysqld\n\n#Fix to obtain temp password and set it to blank\npassword=$(grep -oP 'temporary password(.*): \\K(\\S+)' \/var\/log\/mysqld.log)\nsudo mysqladmin --user=root --password=\"$password\" password aaBB**cc1122\nsudo mysql --user=root --password=aaBB**cc1122 -e \"UNINSTALL COMPONENT 'file:\/\/component_validate_password'\"\nsudo mysqladmin --user=root --password=\"aaBB**cc1122\" password \"\"\n\n\n#Mysql secure installation\nsudo mysql -u root<<-EOF\nALTER USER 'root'@'localhost' IDENTIFIED WITH caching_sha2_password BY '@@{MYSQL_PASSWORD}@@';\nDELETE FROM mysql.user WHERE User='root' AND Host NOT IN ('localhost', '127.0.0.1', '::1');\nDELETE FROM mysql.user WHERE User='';\nDELETE FROM mysql.db WHERE Db='test' OR Db='test\\_%';\nFLUSH PRIVILEGES;\nEOF\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Setup MySQL"}],"description":"","message_list":[],"uuid":"2e9b5cde-91e4-411e-a3ee-bcefd250c0fe","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"be281c77_dag","uuid":"d77b6f4d-5c6a-493c-9212-4658d3be4016"},"name":"c2ab2da2_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSSlavePackage","uuid":"34c00323-d209-4ed6-ab82-48e007095d9d"},"retries":"0","description":"","type":"DAG","uuid":"df3487be-0398-40ec-803c-e26d2dcee06b","child_tasks_local_reference_list":[{"kind":"app_task","name":"PackageUninstallTask","uuid":"814c5edb-39bf-4290-86a0-85f28751ae2e"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"62f03f3b_dag"},{"target_any_local_reference":{"kind":"app_package","name":"AWSSlavePackage","uuid":"34c00323-d209-4ed6-ab82-48e007095d9d"},"retries":"0","description":"","type":"EXEC","uuid":"814c5edb-39bf-4290-86a0-85f28751ae2e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"PackageUninstallTask"}],"description":"","message_list":[],"uuid":"c55ca54d-4752-4ef2-8dc5-e872b4e75a49","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"62f03f3b_dag","uuid":"df3487be-0398-40ec-803c-e26d2dcee06b"},"name":"88bbbcc1_runbook"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Install_Crb_34c00323_d209_4ed6_ab82_48e007095d9d"}],"description":"","message_list":[],"uuid":"cc81ea86-cb57-4a7e-b6b5-93d29ac3838c","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Package_34c00323_d209_4ed6_ab82_48e007095d9d","uuid":"c61cf6e5-9679-4a69-9ae9-40d98dd15f96"},"name":"SYS_GEN__Runbook_Package_34c00323_d209_4ed6_ab82_48e007095d9d"}},{"description":"System action for creating an application","message_list":[],"uuid":"711a6cbd-57fb-4440-8927-5f0dcd13af58","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSSlavePackage","uuid":"34c00323-d209-4ed6-ab82-48e007095d9d"},"retries":"0","description":"","type":"DAG","uuid":"dbff7ce6-76ec-40d6-a147-9d160b335dff","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_34c00323_d209_4ed6_ab82_48e007095d9d","uuid":"6cfa8ebf-299d-4e46-92c3-113b7114cd71"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"17458bbb-b529-4374-8be2-ca18f72eea83"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"8bc95fc9-b2d0-4620-bad1-c8719db0975d"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"17458bbb-b529-4374-8be2-ca18f72eea83"},"edge_type":"inherent","type":"","uuid":"6521f53a-8323-4301-9f6b-53ef4cd6a44c","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"8bc95fc9-b2d0-4620-bad1-c8719db0975d"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_34c00323_d209_4ed6_ab82_48e007095d9d","uuid":"6cfa8ebf-299d-4e46-92c3-113b7114cd71"},"edge_type":"inherent","type":"","uuid":"54d4074c-8b15-4dc1-83f2-8b7c93bb554f","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"17458bbb-b529-4374-8be2-ca18f72eea83"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_34c00323_d209_4ed6_ab82_48e007095d9d"},{"target_any_local_reference":{"kind":"app_package","name":"AWSSlavePackage","uuid":"34c00323-d209-4ed6-ab82-48e007095d9d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"6cfa8ebf-299d-4e46-92c3-113b7114cd71","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_34c00323_d209_4ed6_ab82_48e007095d9d","uuid":"cc81ea86-cb57-4a7e-b6b5-93d29ac3838c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_34c00323_d209_4ed6_ab82_48e007095d9d"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"17458bbb-b529-4374-8be2-ca18f72eea83","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"d54168c9_runbook","uuid":"e509001d-6b88-4a64-813c-0ce8ea81991a"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"8bc95fc9-b2d0-4620-bad1-c8719db0975d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"a027cde0_runbook","uuid":"0afbc7f3-5541-415f-9616-c459f09806b2"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400"}],"description":"","message_list":[],"uuid":"08bd922f-39d9-43ea-b8ec-e4d153324777","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_34c00323_d209_4ed6_ab82_48e007095d9d","uuid":"dbff7ce6-76ec-40d6-a147-9d160b335dff"},"name":"SYS_GEN__Runbook_Package_34c00323_d209_4ed6_ab82_48e007095d9d"}},{"description":"System action for uninstalling an application","message_list":[],"uuid":"b0902e28-f62b-40d8-94e9-f1ec4d1c65b5","name":"action_uninstall","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSSlavePackage","uuid":"34c00323-d209-4ed6-ab82-48e007095d9d"},"retries":"0","description":"","type":"DAG","uuid":"5496804c-c42f-4633-9388-a2da67aa4876","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Uninstall_Crb_34c00323_d209_4ed6_ab82_48e007095d9d","uuid":"2372e9f2-cb3b-4489-a2f2-e9ffa638670a"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Package_34c00323_d209_4ed6_ab82_48e007095d9d"},{"target_any_local_reference":{"kind":"app_package","name":"AWSSlavePackage","uuid":"34c00323-d209-4ed6-ab82-48e007095d9d"},"retries":"0","description":"","type":"CUSTOM_PACKAGE_UNINSTALL","uuid":"2372e9f2-cb3b-4489-a2f2-e9ffa638670a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSSlavePackage","uuid":"34c00323-d209-4ed6-ab82-48e007095d9d"},"retries":"0","description":"","type":"DAG","uuid":"d77b6f4d-5c6a-493c-9212-4658d3be4016","child_tasks_local_reference_list":[{"kind":"app_task","name":"Install System Packages","uuid":"cb777baf-3309-4b7c-a03c-0fec137ee671"},{"kind":"app_task","name":"Create Disk Setup","uuid":"0342aaa3-c506-4221-ac8e-5ae46f15f309"},{"kind":"app_task","name":"Install MySQL","uuid":"57e956e2-1c84-4add-882d-42c1daa0f32e"},{"kind":"app_task","name":"Setup MySQL","uuid":"fbbd4db6-5cad-4564-b4d6-8fb83b7acbc3"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Install System Packages","uuid":"cb777baf-3309-4b7c-a03c-0fec137ee671"},"edge_type":"user_defined","type":"","uuid":"7e56a93c-19dd-4753-b1a7-74fc41b9549a","to_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"0342aaa3-c506-4221-ac8e-5ae46f15f309"}},{"from_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"0342aaa3-c506-4221-ac8e-5ae46f15f309"},"edge_type":"user_defined","type":"","uuid":"1ef7d3b7-eda5-4b25-b1f9-1b8645c8514a","to_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"57e956e2-1c84-4add-882d-42c1daa0f32e"}},{"from_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"57e956e2-1c84-4add-882d-42c1daa0f32e"},"edge_type":"user_defined","type":"","uuid":"2087f962-5e6e-40b5-b84e-d21a2f6ab947","to_task_reference":{"kind":"app_task","name":"Setup MySQL","uuid":"fbbd4db6-5cad-4564-b4d6-8fb83b7acbc3"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"be281c77_dag"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"EXEC","uuid":"cb777baf-3309-4b7c-a03c-0fec137ee671","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n# -*- Install Mysql\nsudo yum update -y --quiet\nsudo yum install -y  wget xfs* bc unzip lvm2*\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"System packages are installed\"","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install System Packages"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"EXEC","uuid":"0342aaa3-c506-4221-ac8e-5ae46f15f309","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n##############\n#\n# LVM setup script for PostgreSQL . 4 disks for DATA and 2 for logs\n# Data disks are 60GB | Log disks are 20GB \n#\n#############\n\n\n#PGSQL data\nsudo pvcreate \/dev\/xvdb \/dev\/xvdc \/dev\/xvdd \/dev\/xvde\nsudo vgcreate mysqlDataVG \/dev\/xvdb \/dev\/xvdc \/dev\/xvdd \/dev\/xvde\nsudo lvcreate -l 100%FREE -i4 -I1M -n mysqlDataLV mysqlDataVG          ## Use 1MB to avoid IO amplification \n#lvcreate -l 100%FREE -i4 -I4M -n pgDataLV pgDataVG\n\n\n#PGSQL logs\nsudo pvcreate \/dev\/xvdf \/dev\/xvdg \/dev\/xvdh \/dev\/xvdi\nsudo vgcreate mysqlLogVG \/dev\/xvdf \/dev\/xvdg \/dev\/xvdh \/dev\/xvdi\nsudo lvcreate -l 100%FREE -i2 -I1M -n mysqlLogLV mysqlLogVG            ## Use 1MB to avoid IO amplification\n#lvcreate -l 100%FREE -i2 -I4M -n pgLogLV pgLogVG\n\n\n#Disable LVM read ahead\nsudo lvchange -r 0 \/dev\/mysqlDataVG\/mysqlDataLV\nsudo lvchange -r 0 \/dev\/mysqlLogVG\/mysqlLogLV\n\n\n#Format LVMs with ext4 and use nodiscard to make sure format time is fast on Nutanix due to SCSI unmap\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlDataVG\/mysqlDataLV\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlLogVG\/mysqlLogLV\n\nsleep 10\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Create Disk Setup"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"EXEC","uuid":"57e956e2-1c84-4add-882d-42c1daa0f32e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nsudo hostnamectl set-hostname \"@@{name}@@\"\n\n# -*- Mysql installation \nsudo yum install -y --quiet \"http:\/\/repo.mysql.com\/mysql80-community-release-el7.rpm\"\nsudo yum update -y --quiet\nsudo yum install -y --quiet sshpass mysql-community-server.x86_64\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install MySQL"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"EXEC","uuid":"fbbd4db6-5cad-4564-b4d6-8fb83b7acbc3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\necho \"!includedir \/etc\/my.cnf.d\" | sudo tee -a \/etc\/my.cnf\n\necho \"[mysqld]\nbinlog-format=mixed\nlog-bin=mysql-bin\ndatadir=\/mysql\/data\nsql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES\ninnodb_data_home_dir = \/mysql\/data\ninnodb_log_group_home_dir = \/mysql\/log\ninnodb_file_per_table\ntmpdir=\/mysql\/tmpdir\ninnodb_undo_directory = \/mysql\/undo\ndefault-storage-engine = innodb\ndefault_tmp_storage_engine = innodb\ninnodb_log_files_in_group = 4\ninnodb_log_file_size = 1G\ninnodb_log_buffer_size = 8M\ninnodb_buffer_pool_size = 6G\t\nlarge-pages\t\ninnodb_buffer_pool_instances = 64\t\ninnodb_flush_method=O_DIRECT\t\ninnodb_flush_neighbors=0\t \ninnodb_flush_log_at_trx_commit=1\ninnodb_buffer_pool_dump_at_shutdown=1\t\ninnodb_buffer_pool_load_at_startup=1\t\nbulk_insert_buffer_size = 256\t\ninnodb_thread_concurrency = 16\t\n \t \n# Undo tablespace\t \ninnodb_undo_tablespaces = 5\t\n \t \n# Networking\t \nwait_timeout=57600\t \nmax_allowed_packet=1G\t\nsocket=\/var\/lib\/mysql\/mysql.sock\t \nskip-name-resolve\nport=3306\t\nmax_connections=1000\t\n\n\n[mysqld_safe]\nlog-error=\/mysql\/log\/mysqld.log\npid-file=\/var\/run\/mysqld\/mysqld.pid\" | sudo tee \/etc\/my.cnf.d\/nutanix.cnf\n\necho \"#master=100\" | sudo tee -a  \/etc\/my.cnf.d\/nutanix.cnf\n\nserver_id=`sudo cat etc\/my.cnf.d\/nutanix.cnf | grep  \"server-id=\" | cut -d= -f2`\nis_master=`sudo cat etc\/my.cnf.d\/nutanix.cnf | grep -q -w \"#master=$server_id\"; echo $?`\n\nif [ ${is_master} -ne 0 ]\nthen\n   sudo sed -i '\/\\[mysqld\\]\/a read_only=1' \/etc\/my.cnf.d\/nutanix.cnf\nfi\n\n# -*- Sysctl configuration\nmysql_grp_id=`id -g mysql`\nsudo sysctl -w vm.swappiness=0\nsudo sysctl -w vm.nr_hugepages=1024\nsudo sysctl -w vm.overcommit_memory=1\nsudo sysctl -w vm.dirty_background_ratio=5 \nsudo sysctl -w vm.dirty_ratio=15\nsudo sysctl -w vm.dirty_expire_centisecs=500\nsudo sysctl -w vm.dirty_writeback_centisecs=100\nsudo sysctl -w vm.hugetlb_shm_group=$mysql_grp_id\n\necho \"vm.swappiness=0\nvm.nr_hugepages=1024\nvm.overcommit_memory=1\nvm.dirty_background_ratio=5 \nvm.dirty_ratio=15\nvm.dirty_expire_centisecs=500\nvm.dirty_writeback_centisecs=100\nvm.hugetlb_shm_group=$mysql_grp_id\" | sudo tee  -a \/etc\/sysctl.conf\n\necho \"ACTION=='add|change', SUBSYSTEM=='block', RUN+='\/bin\/sh -c \\\"\/bin\/echo 1024 > \/sys%p\/queue\/max_sectors_kb\\\"'\" | sudo tee \/etc\/udev\/rules.d\/71-block-max-sectors.rules\n\necho \"\/dev\/mysqlDataVG\/mysqlDataLV \/mysql\/data ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\necho \"\/dev\/mysqlLogVG\/mysqlLogLV \/mysql\/log ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\nsudo mkdir -p \/mysql\/log \/mysql\/data \/mysql\/tmpdir \/mysql\/undo\nsudo mount -a\nsudo chown -R mysql:mysql \/mysql\n\nsudo systemctl enable mysqld\n\nsudo rm -rf \/mysql\/data\/*\nsudo systemctl start mysqld\n\n#Fix to obtain temp password and set it to blank\npassword=$(grep -oP 'temporary password(.*): \\K(\\S+)' \/var\/log\/mysqld.log)\nsudo mysqladmin --user=root --password=\"$password\" password aaBB**cc1122\nsudo mysql --user=root --password=aaBB**cc1122 -e \"UNINSTALL COMPONENT 'file:\/\/component_validate_password'\"\nsudo mysqladmin --user=root --password=\"aaBB**cc1122\" password \"\"\n\n\n#Mysql secure installation\nsudo mysql -u root<<-EOF\nALTER USER 'root'@'localhost' IDENTIFIED WITH caching_sha2_password BY '@@{MYSQL_PASSWORD}@@';\nDELETE FROM mysql.user WHERE User='root' AND Host NOT IN ('localhost', '127.0.0.1', '::1');\nDELETE FROM mysql.user WHERE User='';\nDELETE FROM mysql.db WHERE Db='test' OR Db='test\\_%';\nFLUSH PRIVILEGES;\nEOF\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Setup MySQL"}],"description":"","message_list":[],"uuid":"2e9b5cde-91e4-411e-a3ee-bcefd250c0fe","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"be281c77_dag","uuid":"d77b6f4d-5c6a-493c-9212-4658d3be4016"},"name":"c2ab2da2_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSSlavePackage","uuid":"34c00323-d209-4ed6-ab82-48e007095d9d"},"retries":"0","description":"","type":"DAG","uuid":"df3487be-0398-40ec-803c-e26d2dcee06b","child_tasks_local_reference_list":[{"kind":"app_task","name":"PackageUninstallTask","uuid":"814c5edb-39bf-4290-86a0-85f28751ae2e"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"62f03f3b_dag"},{"target_any_local_reference":{"kind":"app_package","name":"AWSSlavePackage","uuid":"34c00323-d209-4ed6-ab82-48e007095d9d"},"retries":"0","description":"","type":"EXEC","uuid":"814c5edb-39bf-4290-86a0-85f28751ae2e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"PackageUninstallTask"}],"description":"","message_list":[],"uuid":"c55ca54d-4752-4ef2-8dc5-e872b4e75a49","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"62f03f3b_dag","uuid":"df3487be-0398-40ec-803c-e26d2dcee06b"},"name":"88bbbcc1_runbook"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Uninstall_Crb_34c00323_d209_4ed6_ab82_48e007095d9d"}],"description":"","message_list":[],"uuid":"5400957d-b7df-4140-bf65-bd847ee16519","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Package_34c00323_d209_4ed6_ab82_48e007095d9d","uuid":"5496804c-c42f-4633-9388-a2da67aa4876"},"name":"SYS_GEN__Runbook_Package_34c00323_d209_4ed6_ab82_48e007095d9d"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"9aba64d2-b924-4481-9832-bd9674d85594","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSSlavePackage","uuid":"34c00323-d209-4ed6-ab82-48e007095d9d"},"retries":"0","description":"","type":"DAG","uuid":"6c5da62a-bdbf-47a3-8e88-25238474ec40","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"fd235ddb-fe07-45d4-9401-ea3079e180d0"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"4ffe5386-55e4-471f-b0e7-ee12dd03944b"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_34c00323_d209_4ed6_ab82_48e007095d9d","uuid":"d80f2dce-75c4-4839-b745-7904ab09e013"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"fd235ddb-fe07-45d4-9401-ea3079e180d0"},"edge_type":"inherent","type":"","uuid":"2644243c-ebf0-482f-8c2b-415efb66cafe","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"4ffe5386-55e4-471f-b0e7-ee12dd03944b"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"4ffe5386-55e4-471f-b0e7-ee12dd03944b"},"edge_type":"inherent","type":"","uuid":"d9a47911-f4b3-42a1-9173-6f14e71762c6","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_34c00323_d209_4ed6_ab82_48e007095d9d","uuid":"d80f2dce-75c4-4839-b745-7904ab09e013"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_34c00323_d209_4ed6_ab82_48e007095d9d"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"fd235ddb-fe07-45d4-9401-ea3079e180d0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"4a2ad0be_runbook","uuid":"09b1c8a9-6223-4e38-acfb-ff4754413c85"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"4ffe5386-55e4-471f-b0e7-ee12dd03944b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"92247e35_runbook","uuid":"497a8a35-a955-4f76-8fb0-21dbd9acb6e0"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400"},{"target_any_local_reference":{"kind":"app_package","name":"AWSSlavePackage","uuid":"34c00323-d209-4ed6-ab82-48e007095d9d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"d80f2dce-75c4-4839-b745-7904ab09e013","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_34c00323_d209_4ed6_ab82_48e007095d9d","uuid":"5400957d-b7df-4140-bf65-bd847ee16519"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_34c00323_d209_4ed6_ab82_48e007095d9d"}],"description":"","message_list":[],"uuid":"46c3dcd0-319d-47f0-9d54-eb60b66a75c7","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_34c00323_d209_4ed6_ab82_48e007095d9d","uuid":"6c5da62a-bdbf-47a3-8e88-25238474ec40"},"name":"SYS_GEN__Runbook_Package_34c00323_d209_4ed6_ab82_48e007095d9d"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"c66bce6d-0a49-4e5e-8778-09ca6ef4bd01","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSSlavePackage","uuid":"34c00323-d209-4ed6-ab82-48e007095d9d"},"retries":"0","description":"","type":"DAG","uuid":"908b5f60-935e-4616-b124-732abc03e303","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"b4f003ac-86c3-4f4b-af98-e30b4d1f1515"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_34c00323_d209_4ed6_ab82_48e007095d9d","uuid":"31cd3ab6-ac55-4c87-8cb1-3ace0de5c6bb"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"b4f003ac-86c3-4f4b-af98-e30b4d1f1515"},"edge_type":"inherent","type":"","uuid":"d2ae92e6-224e-471a-bc2e-0866a06e29a9","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_34c00323_d209_4ed6_ab82_48e007095d9d","uuid":"31cd3ab6-ac55-4c87-8cb1-3ace0de5c6bb"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_34c00323_d209_4ed6_ab82_48e007095d9d"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"b4f003ac-86c3-4f4b-af98-e30b4d1f1515","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"6cdcc89d-fd42-4e8a-9e97-40576d559005"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400"},{"target_any_local_reference":{"kind":"app_package","name":"AWSSlavePackage","uuid":"34c00323-d209-4ed6-ab82-48e007095d9d"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"31cd3ab6-ac55-4c87-8cb1-3ace0de5c6bb","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_34c00323_d209_4ed6_ab82_48e007095d9d"}],"description":"","message_list":[],"uuid":"22643f5f-0767-4791-a168-6928093240e9","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_34c00323_d209_4ed6_ab82_48e007095d9d","uuid":"908b5f60-935e-4616-b124-732abc03e303"},"name":"SYS_GEN__Runbook_Package_34c00323_d209_4ed6_ab82_48e007095d9d"}},{"description":"System action for starting an application","message_list":[],"uuid":"0dee9d6f-65df-40d2-b486-0ad3b070d6a8","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSSlavePackage","uuid":"34c00323-d209-4ed6-ab82-48e007095d9d"},"retries":"0","description":"","type":"DAG","uuid":"2a179431-7c84-40d2-bae5-38bab4864632","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"84c67917-5607-41dc-9237-ec7effc5df7c"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_34c00323_d209_4ed6_ab82_48e007095d9d"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"84c67917-5607-41dc-9237-ec7effc5df7c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"a027cde0_runbook","uuid":"0afbc7f3-5541-415f-9616-c459f09806b2"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400"}],"description":"","message_list":[],"uuid":"e7cd024b-c070-4df8-9075-d3b43c63b7b4","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_34c00323_d209_4ed6_ab82_48e007095d9d","uuid":"2a179431-7c84-40d2-bae5-38bab4864632"},"name":"SYS_GEN__Runbook_Package_34c00323_d209_4ed6_ab82_48e007095d9d"}},{"description":"System action for restarting an application","message_list":[],"uuid":"3db4e33b-313e-4501-b819-1d74045c2b63","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSSlavePackage","uuid":"34c00323-d209-4ed6-ab82-48e007095d9d"},"retries":"0","description":"","type":"DAG","uuid":"1941deb3-9ad5-4d5d-82a9-0a17ad6d7ef7","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"d027b16b-c5f0-4d51-ad72-c0993893a972"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_34c00323_d209_4ed6_ab82_48e007095d9d"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"d027b16b-c5f0-4d51-ad72-c0993893a972","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"f2b2a076_runbook","uuid":"b7162b3b-d4ba-4fba-875d-fc9c8c2c5b79"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400"}],"description":"","message_list":[],"uuid":"c1d0a0ae-1384-49ea-bc21-867a211f1cf3","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_34c00323_d209_4ed6_ab82_48e007095d9d","uuid":"1941deb3-9ad5-4d5d-82a9-0a17ad6d7ef7"},"name":"SYS_GEN__Runbook_Package_34c00323_d209_4ed6_ab82_48e007095d9d"}},{"description":"System action for stopping an application","message_list":[],"uuid":"a4600781-1151-481f-bdfb-7cda79051ace","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSSlavePackage","uuid":"34c00323-d209-4ed6-ab82-48e007095d9d"},"retries":"0","description":"","type":"DAG","uuid":"5942e9e9-4dbc-4b61-bbfe-3e595468cc2a","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"1f1dc276-3d99-410c-945b-a465e0abb169"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_34c00323_d209_4ed6_ab82_48e007095d9d"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"1f1dc276-3d99-410c-945b-a465e0abb169","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"4a2ad0be_runbook","uuid":"09b1c8a9-6223-4e38-acfb-ff4754413c85"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400"}],"description":"","message_list":[],"uuid":"0a6df8d8-b9d5-442a-ba6a-45fdcf28cd5b","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_34c00323_d209_4ed6_ab82_48e007095d9d","uuid":"5942e9e9-4dbc-4b61-bbfe-3e595468cc2a"},"name":"SYS_GEN__Runbook_Package_34c00323_d209_4ed6_ab82_48e007095d9d"}}],"message_list":[],"service_local_reference_list":[{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"}],"uuid":"34c00323-d209-4ed6-ab82-48e007095d9d","state":"ACTIVE","version":"","editables":{},"type":"DEB","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSSlavePackage","uuid":"34c00323-d209-4ed6-ab82-48e007095d9d"},"retries":"0","description":"","type":"DAG","uuid":"d77b6f4d-5c6a-493c-9212-4658d3be4016","child_tasks_local_reference_list":[{"kind":"app_task","name":"Install System Packages","uuid":"cb777baf-3309-4b7c-a03c-0fec137ee671"},{"kind":"app_task","name":"Create Disk Setup","uuid":"0342aaa3-c506-4221-ac8e-5ae46f15f309"},{"kind":"app_task","name":"Install MySQL","uuid":"57e956e2-1c84-4add-882d-42c1daa0f32e"},{"kind":"app_task","name":"Setup MySQL","uuid":"fbbd4db6-5cad-4564-b4d6-8fb83b7acbc3"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Install System Packages","uuid":"cb777baf-3309-4b7c-a03c-0fec137ee671"},"edge_type":"user_defined","type":"","uuid":"7e56a93c-19dd-4753-b1a7-74fc41b9549a","to_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"0342aaa3-c506-4221-ac8e-5ae46f15f309"}},{"from_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"0342aaa3-c506-4221-ac8e-5ae46f15f309"},"edge_type":"user_defined","type":"","uuid":"1ef7d3b7-eda5-4b25-b1f9-1b8645c8514a","to_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"57e956e2-1c84-4add-882d-42c1daa0f32e"}},{"from_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"57e956e2-1c84-4add-882d-42c1daa0f32e"},"edge_type":"user_defined","type":"","uuid":"2087f962-5e6e-40b5-b84e-d21a2f6ab947","to_task_reference":{"kind":"app_task","name":"Setup MySQL","uuid":"fbbd4db6-5cad-4564-b4d6-8fb83b7acbc3"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"be281c77_dag"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"EXEC","uuid":"cb777baf-3309-4b7c-a03c-0fec137ee671","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n# -*- Install Mysql\nsudo yum update -y --quiet\nsudo yum install -y  wget xfs* bc unzip lvm2*\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"System packages are installed\"","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install System Packages"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"EXEC","uuid":"0342aaa3-c506-4221-ac8e-5ae46f15f309","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n##############\n#\n# LVM setup script for PostgreSQL . 4 disks for DATA and 2 for logs\n# Data disks are 60GB | Log disks are 20GB \n#\n#############\n\n\n#PGSQL data\nsudo pvcreate \/dev\/xvdb \/dev\/xvdc \/dev\/xvdd \/dev\/xvde\nsudo vgcreate mysqlDataVG \/dev\/xvdb \/dev\/xvdc \/dev\/xvdd \/dev\/xvde\nsudo lvcreate -l 100%FREE -i4 -I1M -n mysqlDataLV mysqlDataVG          ## Use 1MB to avoid IO amplification \n#lvcreate -l 100%FREE -i4 -I4M -n pgDataLV pgDataVG\n\n\n#PGSQL logs\nsudo pvcreate \/dev\/xvdf \/dev\/xvdg \/dev\/xvdh \/dev\/xvdi\nsudo vgcreate mysqlLogVG \/dev\/xvdf \/dev\/xvdg \/dev\/xvdh \/dev\/xvdi\nsudo lvcreate -l 100%FREE -i2 -I1M -n mysqlLogLV mysqlLogVG            ## Use 1MB to avoid IO amplification\n#lvcreate -l 100%FREE -i2 -I4M -n pgLogLV pgLogVG\n\n\n#Disable LVM read ahead\nsudo lvchange -r 0 \/dev\/mysqlDataVG\/mysqlDataLV\nsudo lvchange -r 0 \/dev\/mysqlLogVG\/mysqlLogLV\n\n\n#Format LVMs with ext4 and use nodiscard to make sure format time is fast on Nutanix due to SCSI unmap\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlDataVG\/mysqlDataLV\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlLogVG\/mysqlLogLV\n\nsleep 10\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Create Disk Setup"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"EXEC","uuid":"57e956e2-1c84-4add-882d-42c1daa0f32e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nsudo hostnamectl set-hostname \"@@{name}@@\"\n\n# -*- Mysql installation \nsudo yum install -y --quiet \"http:\/\/repo.mysql.com\/mysql80-community-release-el7.rpm\"\nsudo yum update -y --quiet\nsudo yum install -y --quiet sshpass mysql-community-server.x86_64\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install MySQL"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"EXEC","uuid":"fbbd4db6-5cad-4564-b4d6-8fb83b7acbc3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\necho \"!includedir \/etc\/my.cnf.d\" | sudo tee -a \/etc\/my.cnf\n\necho \"[mysqld]\nbinlog-format=mixed\nlog-bin=mysql-bin\ndatadir=\/mysql\/data\nsql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES\ninnodb_data_home_dir = \/mysql\/data\ninnodb_log_group_home_dir = \/mysql\/log\ninnodb_file_per_table\ntmpdir=\/mysql\/tmpdir\ninnodb_undo_directory = \/mysql\/undo\ndefault-storage-engine = innodb\ndefault_tmp_storage_engine = innodb\ninnodb_log_files_in_group = 4\ninnodb_log_file_size = 1G\ninnodb_log_buffer_size = 8M\ninnodb_buffer_pool_size = 6G\t\nlarge-pages\t\ninnodb_buffer_pool_instances = 64\t\ninnodb_flush_method=O_DIRECT\t\ninnodb_flush_neighbors=0\t \ninnodb_flush_log_at_trx_commit=1\ninnodb_buffer_pool_dump_at_shutdown=1\t\ninnodb_buffer_pool_load_at_startup=1\t\nbulk_insert_buffer_size = 256\t\ninnodb_thread_concurrency = 16\t\n \t \n# Undo tablespace\t \ninnodb_undo_tablespaces = 5\t\n \t \n# Networking\t \nwait_timeout=57600\t \nmax_allowed_packet=1G\t\nsocket=\/var\/lib\/mysql\/mysql.sock\t \nskip-name-resolve\nport=3306\t\nmax_connections=1000\t\n\n\n[mysqld_safe]\nlog-error=\/mysql\/log\/mysqld.log\npid-file=\/var\/run\/mysqld\/mysqld.pid\" | sudo tee \/etc\/my.cnf.d\/nutanix.cnf\n\necho \"#master=100\" | sudo tee -a  \/etc\/my.cnf.d\/nutanix.cnf\n\nserver_id=`sudo cat etc\/my.cnf.d\/nutanix.cnf | grep  \"server-id=\" | cut -d= -f2`\nis_master=`sudo cat etc\/my.cnf.d\/nutanix.cnf | grep -q -w \"#master=$server_id\"; echo $?`\n\nif [ ${is_master} -ne 0 ]\nthen\n   sudo sed -i '\/\\[mysqld\\]\/a read_only=1' \/etc\/my.cnf.d\/nutanix.cnf\nfi\n\n# -*- Sysctl configuration\nmysql_grp_id=`id -g mysql`\nsudo sysctl -w vm.swappiness=0\nsudo sysctl -w vm.nr_hugepages=1024\nsudo sysctl -w vm.overcommit_memory=1\nsudo sysctl -w vm.dirty_background_ratio=5 \nsudo sysctl -w vm.dirty_ratio=15\nsudo sysctl -w vm.dirty_expire_centisecs=500\nsudo sysctl -w vm.dirty_writeback_centisecs=100\nsudo sysctl -w vm.hugetlb_shm_group=$mysql_grp_id\n\necho \"vm.swappiness=0\nvm.nr_hugepages=1024\nvm.overcommit_memory=1\nvm.dirty_background_ratio=5 \nvm.dirty_ratio=15\nvm.dirty_expire_centisecs=500\nvm.dirty_writeback_centisecs=100\nvm.hugetlb_shm_group=$mysql_grp_id\" | sudo tee  -a \/etc\/sysctl.conf\n\necho \"ACTION=='add|change', SUBSYSTEM=='block', RUN+='\/bin\/sh -c \\\"\/bin\/echo 1024 > \/sys%p\/queue\/max_sectors_kb\\\"'\" | sudo tee \/etc\/udev\/rules.d\/71-block-max-sectors.rules\n\necho \"\/dev\/mysqlDataVG\/mysqlDataLV \/mysql\/data ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\necho \"\/dev\/mysqlLogVG\/mysqlLogLV \/mysql\/log ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\nsudo mkdir -p \/mysql\/log \/mysql\/data \/mysql\/tmpdir \/mysql\/undo\nsudo mount -a\nsudo chown -R mysql:mysql \/mysql\n\nsudo systemctl enable mysqld\n\nsudo rm -rf \/mysql\/data\/*\nsudo systemctl start mysqld\n\n#Fix to obtain temp password and set it to blank\npassword=$(grep -oP 'temporary password(.*): \\K(\\S+)' \/var\/log\/mysqld.log)\nsudo mysqladmin --user=root --password=\"$password\" password aaBB**cc1122\nsudo mysql --user=root --password=aaBB**cc1122 -e \"UNINSTALL COMPONENT 'file:\/\/component_validate_password'\"\nsudo mysqladmin --user=root --password=\"aaBB**cc1122\" password \"\"\n\n\n#Mysql secure installation\nsudo mysql -u root<<-EOF\nALTER USER 'root'@'localhost' IDENTIFIED WITH caching_sha2_password BY '@@{MYSQL_PASSWORD}@@';\nDELETE FROM mysql.user WHERE User='root' AND Host NOT IN ('localhost', '127.0.0.1', '::1');\nDELETE FROM mysql.user WHERE User='';\nDELETE FROM mysql.db WHERE Db='test' OR Db='test\\_%';\nFLUSH PRIVILEGES;\nEOF\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Setup MySQL"}],"description":"","message_list":[],"uuid":"2e9b5cde-91e4-411e-a3ee-bcefd250c0fe","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"be281c77_dag","uuid":"d77b6f4d-5c6a-493c-9212-4658d3be4016"},"name":"c2ab2da2_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSSlavePackage","uuid":"34c00323-d209-4ed6-ab82-48e007095d9d"},"retries":"0","description":"","type":"DAG","uuid":"df3487be-0398-40ec-803c-e26d2dcee06b","child_tasks_local_reference_list":[{"kind":"app_task","name":"PackageUninstallTask","uuid":"814c5edb-39bf-4290-86a0-85f28751ae2e"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"62f03f3b_dag"},{"target_any_local_reference":{"kind":"app_package","name":"AWSSlavePackage","uuid":"34c00323-d209-4ed6-ab82-48e007095d9d"},"retries":"0","description":"","type":"EXEC","uuid":"814c5edb-39bf-4290-86a0-85f28751ae2e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"PackageUninstallTask"}],"description":"","message_list":[],"uuid":"c55ca54d-4752-4ef2-8dc5-e872b4e75a49","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"62f03f3b_dag","uuid":"df3487be-0398-40ec-803c-e26d2dcee06b"},"name":"88bbbcc1_runbook"}},"variable_list":[],"name":"AWSSlavePackage"},{"description":"","action_list":[{"description":"System action for installing an application","message_list":[],"uuid":"d04ee5ca-59f3-4dcc-a07f-79d5a53db700","name":"action_install","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHV_CENTOS_76","uuid":"a7955a04-2023-483b-8c51-1284d919a1c7"},"retries":"0","description":"","type":"DAG","uuid":"3d4dc0ba-980d-4a5c-8067-ec1960051f92","child_tasks_local_reference_list":[{"kind":"app_task","name":"Image Fetch task for VM","uuid":"c8eb9b1c-0f67-40d6-a675-ab4cc5d3fbdf"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Package_a7955a04_2023_483b_8c51_1284d919a1c7"},{"target_any_local_reference":{"kind":"app_package","name":"AHV_CENTOS_76","uuid":"a7955a04-2023-483b-8c51-1284d919a1c7"},"retries":"0","description":"","type":"SUBSTRATE_IMAGE_FETCH","uuid":"c8eb9b1c-0f67-40d6-a675-ab4cc5d3fbdf","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"","name":"AHV_CENTOS_76","resources":{"image_type":"DISK_IMAGE","checksum":{"checksum_algorithm":"","type":"","checksum_value":""},"source_uri":"http:\/\/download.nutanix.com\/calm\/CentOS-7-x86_64-1810.qcow2","version":{"product_version":"","type":"","product_name":""},"architecture":"X86_64","type":""},"description":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Image Fetch task for VM"}],"description":"","message_list":[],"uuid":"20a24a3f-4d04-4b57-9901-38603512a361","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Package_a7955a04_2023_483b_8c51_1284d919a1c7","uuid":"3d4dc0ba-980d-4a5c-8067-ec1960051f92"},"name":"SYS_GEN__Runbook_Package_a7955a04_2023_483b_8c51_1284d919a1c7"}},{"description":"System action for creating an application","message_list":[],"uuid":"89f1822a-f60f-4396-83ea-6a0a5bf757e5","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHV_CENTOS_76","uuid":"a7955a04-2023-483b-8c51-1284d919a1c7"},"retries":"0","description":"","type":"DAG","uuid":"a17ce31a-33db-4984-95dc-e2f0d132b51b","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_a7955a04_2023_483b_8c51_1284d919a1c7","uuid":"37e2c440-1aa3-4b7e-ba64-a8d415f4fde6"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_a7955a04_2023_483b_8c51_1284d919a1c7"},{"target_any_local_reference":{"kind":"app_package","name":"AHV_CENTOS_76","uuid":"a7955a04-2023-483b-8c51-1284d919a1c7"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"37e2c440-1aa3-4b7e-ba64-a8d415f4fde6","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_a7955a04_2023_483b_8c51_1284d919a1c7","uuid":"20a24a3f-4d04-4b57-9901-38603512a361"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_a7955a04_2023_483b_8c51_1284d919a1c7"}],"description":"","message_list":[],"uuid":"7ac6bf08-8335-4ed1-9c65-1780f0318414","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_a7955a04_2023_483b_8c51_1284d919a1c7","uuid":"a17ce31a-33db-4984-95dc-e2f0d132b51b"},"name":"SYS_GEN__Runbook_Package_a7955a04_2023_483b_8c51_1284d919a1c7"}},{"description":"System action for starting an application","message_list":[],"uuid":"39c72423-eed9-486f-bf52-e06f90770b80","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHV_CENTOS_76","uuid":"a7955a04-2023-483b-8c51-1284d919a1c7"},"retries":"0","description":"","type":"DAG","uuid":"c0905f03-14a9-427c-b674-ea519449c837","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_a7955a04_2023_483b_8c51_1284d919a1c7"}],"description":"","message_list":[],"uuid":"5bfb5e24-2b29-4a17-a7c3-04f712dc631e","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_a7955a04_2023_483b_8c51_1284d919a1c7","uuid":"c0905f03-14a9-427c-b674-ea519449c837"},"name":"SYS_GEN__Runbook_Package_a7955a04_2023_483b_8c51_1284d919a1c7"}},{"description":"System action for restarting an application","message_list":[],"uuid":"e3c70a39-488e-4faa-9ed5-7ac4ecf5b89e","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHV_CENTOS_76","uuid":"a7955a04-2023-483b-8c51-1284d919a1c7"},"retries":"0","description":"","type":"DAG","uuid":"ed9d1cb7-68aa-4365-a65b-4e5b81d6d970","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_a7955a04_2023_483b_8c51_1284d919a1c7"}],"description":"","message_list":[],"uuid":"caf3bfae-6dc0-447a-b39c-89e549cb1287","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_a7955a04_2023_483b_8c51_1284d919a1c7","uuid":"ed9d1cb7-68aa-4365-a65b-4e5b81d6d970"},"name":"SYS_GEN__Runbook_Package_a7955a04_2023_483b_8c51_1284d919a1c7"}},{"description":"System action for stopping an application","message_list":[],"uuid":"926ef3e6-9ebd-4b72-b643-e5e06f342aa8","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHV_CENTOS_76","uuid":"a7955a04-2023-483b-8c51-1284d919a1c7"},"retries":"0","description":"","type":"DAG","uuid":"a3b8c959-f295-4580-9bc9-a95f6e1cf99b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_a7955a04_2023_483b_8c51_1284d919a1c7"}],"description":"","message_list":[],"uuid":"b6728e1a-b51f-4ee4-8b21-f13ed50dc7b1","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_a7955a04_2023_483b_8c51_1284d919a1c7","uuid":"a3b8c959-f295-4580-9bc9-a95f6e1cf99b"},"name":"SYS_GEN__Runbook_Package_a7955a04_2023_483b_8c51_1284d919a1c7"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"7eacbbd7-2a00-416d-beaf-0e0eb012db31","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHV_CENTOS_76","uuid":"a7955a04-2023-483b-8c51-1284d919a1c7"},"retries":"0","description":"","type":"DAG","uuid":"8c863a88-a683-47b7-a897-c6a4c338ad90","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_a7955a04_2023_483b_8c51_1284d919a1c7"}],"description":"","message_list":[],"uuid":"e35a5bce-2874-4a0a-bf23-d988e6020c82","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_a7955a04_2023_483b_8c51_1284d919a1c7","uuid":"8c863a88-a683-47b7-a897-c6a4c338ad90"},"name":"SYS_GEN__Runbook_Package_a7955a04_2023_483b_8c51_1284d919a1c7"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"b14a373f-0cc8-4a55-b730-0e094e12e401","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHV_CENTOS_76","uuid":"a7955a04-2023-483b-8c51-1284d919a1c7"},"retries":"0","description":"","type":"DAG","uuid":"0271fd1f-47e5-4abd-b914-4937aff8fe05","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_a7955a04_2023_483b_8c51_1284d919a1c7"}],"description":"","message_list":[],"uuid":"80036e96-7a98-482c-ace7-2007270c7d00","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_a7955a04_2023_483b_8c51_1284d919a1c7","uuid":"0271fd1f-47e5-4abd-b914-4937aff8fe05"},"name":"SYS_GEN__Runbook_Package_a7955a04_2023_483b_8c51_1284d919a1c7"}}],"message_list":[],"service_local_reference_list":[],"uuid":"a7955a04-2023-483b-8c51-1284d919a1c7","state":"ACTIVE","version":"","editables":{},"type":"SUBSTRATE_IMAGE","options":{"type":"","name":"AHV_CENTOS_76","resources":{"image_type":"DISK_IMAGE","checksum":{"checksum_algorithm":"","type":"","checksum_value":""},"source_uri":"http:\/\/download.nutanix.com\/calm\/CentOS-7-x86_64-1810.qcow2","version":{"product_version":"","type":"","product_name":""},"architecture":"X86_64","type":""},"description":""},"variable_list":[],"name":"AHV_CENTOS_76"},{"description":"","action_list":[{"description":"System action for installing an application","message_list":[],"uuid":"a22fb066-e799-4d38-9e14-49f80dde7c25","name":"action_install","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPMasterPackage","uuid":"77a18b5d-4cbc-4548-bb28-2c4fb6308d50"},"retries":"0","description":"","type":"DAG","uuid":"da411a66-68df-498d-80e6-8fc64fbfcd0a","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Install_Crb_77a18b5d_4cbc_4548_bb28_2c4fb6308d50","uuid":"bd458716-acde-4e88-8a30-090ca3cecc76"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Package_77a18b5d_4cbc_4548_bb28_2c4fb6308d50"},{"target_any_local_reference":{"kind":"app_package","name":"GCPMasterPackage","uuid":"77a18b5d-4cbc-4548-bb28-2c4fb6308d50"},"retries":"0","description":"","type":"CUSTOM_PACKAGE_INSTALL","uuid":"bd458716-acde-4e88-8a30-090ca3cecc76","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPMasterPackage","uuid":"77a18b5d-4cbc-4548-bb28-2c4fb6308d50"},"retries":"0","description":"","type":"DAG","uuid":"6a9f5eea-72ce-4093-af89-b296f7535db4","child_tasks_local_reference_list":[{"kind":"app_task","name":"Install System Packages","uuid":"abcf16d8-5c32-4eec-b651-e473cd69820c"},{"kind":"app_task","name":"Create Disk Setup","uuid":"680d4dd9-bcea-4da5-ab29-7f63ed3082f3"},{"kind":"app_task","name":"Install MySQL","uuid":"d19591f6-49dc-4fd1-882c-7e23a47f268d"},{"kind":"app_task","name":"Setup MySQL","uuid":"8ff64afe-0644-4384-9836-4108a79df7b0"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Install System Packages","uuid":"abcf16d8-5c32-4eec-b651-e473cd69820c"},"edge_type":"user_defined","type":"","uuid":"8404ac10-03c5-48ff-be7d-c12b657e93aa","to_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"680d4dd9-bcea-4da5-ab29-7f63ed3082f3"}},{"from_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"680d4dd9-bcea-4da5-ab29-7f63ed3082f3"},"edge_type":"user_defined","type":"","uuid":"3a668542-3f5d-4973-828c-fac8f260a735","to_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"d19591f6-49dc-4fd1-882c-7e23a47f268d"}},{"from_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"d19591f6-49dc-4fd1-882c-7e23a47f268d"},"edge_type":"user_defined","type":"","uuid":"2aa46c53-c378-414f-a545-2c1a71b0262f","to_task_reference":{"kind":"app_task","name":"Setup MySQL","uuid":"8ff64afe-0644-4384-9836-4108a79df7b0"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"d13a100f_dag"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"EXEC","uuid":"abcf16d8-5c32-4eec-b651-e473cd69820c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n# -*- Install Mysql\nsudo yum update -y --quiet\nsudo yum install -y  wget xfs* bc unzip lvm2* lsscsi\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"System packages are installed\"","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install System Packages"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"EXEC","uuid":"680d4dd9-bcea-4da5-ab29-7f63ed3082f3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n##############\n#\n# LVM setup script for MySQL . 4 disks for DATA and 4 for logs\n# Data disks are 50GB | Log disks are 25GB \n#\n#############\n\n\n#PGSQL data\nsudo pvcreate \/dev\/sdb \/dev\/sdc \/dev\/sdd \/dev\/sde\nsudo vgcreate mysqlDataVG \/dev\/sdb \/dev\/sdd \/dev\/sdc \/dev\/sde\nsudo lvcreate -l 100%FREE -i4 -I1M -n mysqlDataLV mysqlDataVG          ## Use 1MB to avoid IO amplification \n#lvcreate -l 100%FREE -i4 -I4M -n pgDataLV pgDataVG\n\n\n#PGSQL logs\nsudo pvcreate \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo vgcreate mysqlLogVG \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo lvcreate -l 100%FREE -i2 -I1M -n mysqlLogLV mysqlLogVG            ## Use 1MB to avoid IO amplification\n#lvcreate -l 100%FREE -i2 -I4M -n pgLogLV pgLogVG\n\n\n#Disable LVM read ahead\nsudo lvchange -r 0 \/dev\/mysqlDataVG\/mysqlDataLV\nsudo lvchange -r 0 \/dev\/mysqlLogVG\/mysqlLogLV\n\n\n#Format LVMs with ext4 and use nodiscard to make sure format time is fast on Nutanix due to SCSI unmap\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlDataVG\/mysqlDataLV\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlLogVG\/mysqlLogLV\n\nsleep 10\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Create Disk Setup"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"EXEC","uuid":"d19591f6-49dc-4fd1-882c-7e23a47f268d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nsudo hostnamectl set-hostname \"@@{name}@@\"\n\n# -*- Mysql installation \nsudo yum install -y --quiet \"http:\/\/repo.mysql.com\/mysql80-community-release-el7.rpm\"\nsudo yum update -y --quiet\nsudo yum install -y --quiet sshpass mysql-community-server.x86_64\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install MySQL"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"EXEC","uuid":"8ff64afe-0644-4384-9836-4108a79df7b0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\necho \"!includedir \/etc\/my.cnf.d\" | sudo tee -a \/etc\/my.cnf\n\necho \"[mysqld]\nbinlog-format=mixed\nlog-bin=mysql-bin\ndatadir=\/mysql\/data\nsql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES\ninnodb_data_home_dir = \/mysql\/data\ninnodb_log_group_home_dir = \/mysql\/log\ninnodb_file_per_table\ntmpdir=\/mysql\/tmpdir\ninnodb_undo_directory = \/mysql\/undo\ndefault-storage-engine = innodb\ndefault_tmp_storage_engine = innodb\ninnodb_log_files_in_group = 4\ninnodb_log_file_size = 1G\ninnodb_log_buffer_size = 8M\ninnodb_buffer_pool_size = 6G\t\nlarge-pages\t\ninnodb_buffer_pool_instances = 64\t\ninnodb_flush_method=O_DIRECT\t\ninnodb_flush_neighbors=0\t \ninnodb_flush_log_at_trx_commit=1\ninnodb_buffer_pool_dump_at_shutdown=1\t\ninnodb_buffer_pool_load_at_startup=1\t\nbulk_insert_buffer_size = 256\t\ninnodb_thread_concurrency = 16\t\n \t \n# Undo tablespace\t \ninnodb_undo_tablespaces = 5\t\n \t \n# Networking\t \nwait_timeout=57600\t \nmax_allowed_packet=1G\t\nsocket=\/var\/lib\/mysql\/mysql.sock\t \nskip-name-resolve\nport=3306\t\nmax_connections=1000\t\n\n\n[mysqld_safe]\nlog-error=\/mysql\/log\/mysqld.log\npid-file=\/var\/run\/mysqld\/mysqld.pid\" | sudo tee \/etc\/my.cnf.d\/nutanix.cnf\n\nsudo sed -i \"\/\\[mysqld\\]\/a server-id=100\" \/etc\/my.cnf.d\/nutanix.cnf\necho \"#master=100\" | sudo tee -a  \/etc\/my.cnf.d\/nutanix.cnf\n\nserver_id=`sudo cat \/etc\/my.cnf.d\/nutanix.cnf | grep  \"server-id=\" | cut -d= -f2`\nis_master=`sudo cat \/etc\/my.cnf.d\/nutanix.cnf | grep -q -w \"#master=$server_id\"; echo $?`\n\nif [ ${is_master} -ne 0 ]\nthen\n   sudo sed -i '\/\\[mysqld\\]\/a read_only=1' \/etc\/my.cnf.d\/nutanix.cnf\nfi\n\n# -*- Sysctl configuration\nmysql_grp_id=`id -g mysql`\nsudo sysctl -w vm.swappiness=0\nsudo sysctl -w vm.nr_hugepages=1024\nsudo sysctl -w vm.overcommit_memory=1\nsudo sysctl -w vm.dirty_background_ratio=5 \nsudo sysctl -w vm.dirty_ratio=15\nsudo sysctl -w vm.dirty_expire_centisecs=500\nsudo sysctl -w vm.dirty_writeback_centisecs=100\nsudo sysctl -w vm.hugetlb_shm_group=$mysql_grp_id\n\necho \"vm.swappiness=0\nvm.nr_hugepages=1024\nvm.overcommit_memory=1\nvm.dirty_background_ratio=5 \nvm.dirty_ratio=15\nvm.dirty_expire_centisecs=500\nvm.dirty_writeback_centisecs=100\nvm.hugetlb_shm_group=$mysql_grp_id\" | sudo tee  -a \/etc\/sysctl.conf\n\necho \"ACTION=='add|change', SUBSYSTEM=='block', RUN+='\/bin\/sh -c \\\"\/bin\/echo 1024 > \/sys%p\/queue\/max_sectors_kb\\\"'\" | sudo tee \/etc\/udev\/rules.d\/71-block-max-sectors.rules\n#echo 1024 | sudo tee \/sys\/block\/sd?\/queue\/max_sectors_kb\n\necho \"\/dev\/mysqlDataVG\/mysqlDataLV \/mysql\/data ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\necho \"\/dev\/mysqlLogVG\/mysqlLogLV \/mysql\/log ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\nsudo mkdir -p \/mysql\/log \/mysql\/data \/mysql\/tmpdir \/mysql\/undo\nsudo mount -a\nsudo chown -R mysql:mysql \/mysql\n\nsudo systemctl enable mysqld\n\nsudo rm -rf \/mysql\/data\/*\nsudo systemctl start mysqld\n\n#Fix to obtain temp password and set it to blank\npassword=$(grep -oP 'temporary password(.*): \\K(\\S+)' \/var\/log\/mysqld.log)\nsudo mysqladmin --user=root --password=\"$password\" password aaBB**cc1122\nsudo mysql --user=root --password=aaBB**cc1122 -e \"UNINSTALL COMPONENT 'file:\/\/component_validate_password'\"\nsudo mysqladmin --user=root --password=\"aaBB**cc1122\" password \"\"\n\n\n#Mysql secure installation\nsudo mysql -u root<<-EOF\nALTER USER 'root'@'localhost' IDENTIFIED WITH caching_sha2_password BY '@@{MYSQL_PASSWORD}@@';\nDELETE FROM mysql.user WHERE User='root' AND Host NOT IN ('localhost', '127.0.0.1', '::1');\nDELETE FROM mysql.user WHERE User='';\nDELETE FROM mysql.db WHERE Db='test' OR Db='test\\_%';\nFLUSH PRIVILEGES;\nEOF\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Setup MySQL"}],"description":"","message_list":[],"uuid":"e7adbf50-ce04-46cd-a1ec-12754d37b48b","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"d13a100f_dag","uuid":"6a9f5eea-72ce-4093-af89-b296f7535db4"},"name":"267c96d2_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPMasterPackage","uuid":"77a18b5d-4cbc-4548-bb28-2c4fb6308d50"},"retries":"0","description":"","type":"DAG","uuid":"33840d14-884a-4ef0-af6a-d1ad8ba1a2b7","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"01fe868d_dag"}],"description":"","message_list":[],"uuid":"6b6cdac7-26fb-4c8c-9558-63d54ad00546","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"01fe868d_dag","uuid":"33840d14-884a-4ef0-af6a-d1ad8ba1a2b7"},"name":"ea47487d_runbook"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Install_Crb_77a18b5d_4cbc_4548_bb28_2c4fb6308d50"}],"description":"","message_list":[],"uuid":"7f0699cc-1581-453a-967c-a5c193e57f8b","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Package_77a18b5d_4cbc_4548_bb28_2c4fb6308d50","uuid":"da411a66-68df-498d-80e6-8fc64fbfcd0a"},"name":"SYS_GEN__Runbook_Package_77a18b5d_4cbc_4548_bb28_2c4fb6308d50"}},{"description":"System action for creating an application","message_list":[],"uuid":"05034517-0764-4750-8434-607490a7c35b","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPMasterPackage","uuid":"77a18b5d-4cbc-4548-bb28-2c4fb6308d50"},"retries":"0","description":"","type":"DAG","uuid":"90328024-9e05-4309-9209-8f91507e8ac9","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_77a18b5d_4cbc_4548_bb28_2c4fb6308d50","uuid":"0a4ac467-cc2a-4806-b6d7-175a6966ab27"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"79fa1bd9-6d73-42da-8d6c-71336c8ae40e"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"3442cadc-c25b-4dd7-9818-11c27fc29aa6"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"79fa1bd9-6d73-42da-8d6c-71336c8ae40e"},"edge_type":"inherent","type":"","uuid":"df917c68-a96c-4766-90ef-d6e3612c7864","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"3442cadc-c25b-4dd7-9818-11c27fc29aa6"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_77a18b5d_4cbc_4548_bb28_2c4fb6308d50","uuid":"0a4ac467-cc2a-4806-b6d7-175a6966ab27"},"edge_type":"inherent","type":"","uuid":"46620cb8-c59d-4fdb-8af3-d07635c3d3bb","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"79fa1bd9-6d73-42da-8d6c-71336c8ae40e"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_77a18b5d_4cbc_4548_bb28_2c4fb6308d50"},{"target_any_local_reference":{"kind":"app_package","name":"GCPMasterPackage","uuid":"77a18b5d-4cbc-4548-bb28-2c4fb6308d50"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"0a4ac467-cc2a-4806-b6d7-175a6966ab27","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_77a18b5d_4cbc_4548_bb28_2c4fb6308d50","uuid":"7f0699cc-1581-453a-967c-a5c193e57f8b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_77a18b5d_4cbc_4548_bb28_2c4fb6308d50"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"79fa1bd9-6d73-42da-8d6c-71336c8ae40e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0a970522_runbook","uuid":"f2803b23-af0b-4afd-8a2f-ef666adf85c8"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"3442cadc-c25b-4dd7-9818-11c27fc29aa6","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"5ddb28d1_runbook","uuid":"f88c4d73-c0ab-488b-a016-3e1453b91891"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd"}],"description":"","message_list":[],"uuid":"ae43bfa2-84d3-4a9e-be6a-445c8746ca97","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_77a18b5d_4cbc_4548_bb28_2c4fb6308d50","uuid":"90328024-9e05-4309-9209-8f91507e8ac9"},"name":"SYS_GEN__Runbook_Package_77a18b5d_4cbc_4548_bb28_2c4fb6308d50"}},{"description":"System action for uninstalling an application","message_list":[],"uuid":"fcf2b142-4dd0-43a6-815c-fcbc74ddbf42","name":"action_uninstall","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPMasterPackage","uuid":"77a18b5d-4cbc-4548-bb28-2c4fb6308d50"},"retries":"0","description":"","type":"DAG","uuid":"437ea9cc-c82c-4bd9-97b5-5829d2f4bfff","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Uninstall_Crb_77a18b5d_4cbc_4548_bb28_2c4fb6308d50","uuid":"ad03be5b-5758-47c7-910c-bfda05e0364f"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Package_77a18b5d_4cbc_4548_bb28_2c4fb6308d50"},{"target_any_local_reference":{"kind":"app_package","name":"GCPMasterPackage","uuid":"77a18b5d-4cbc-4548-bb28-2c4fb6308d50"},"retries":"0","description":"","type":"CUSTOM_PACKAGE_UNINSTALL","uuid":"ad03be5b-5758-47c7-910c-bfda05e0364f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPMasterPackage","uuid":"77a18b5d-4cbc-4548-bb28-2c4fb6308d50"},"retries":"0","description":"","type":"DAG","uuid":"6a9f5eea-72ce-4093-af89-b296f7535db4","child_tasks_local_reference_list":[{"kind":"app_task","name":"Install System Packages","uuid":"abcf16d8-5c32-4eec-b651-e473cd69820c"},{"kind":"app_task","name":"Create Disk Setup","uuid":"680d4dd9-bcea-4da5-ab29-7f63ed3082f3"},{"kind":"app_task","name":"Install MySQL","uuid":"d19591f6-49dc-4fd1-882c-7e23a47f268d"},{"kind":"app_task","name":"Setup MySQL","uuid":"8ff64afe-0644-4384-9836-4108a79df7b0"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Install System Packages","uuid":"abcf16d8-5c32-4eec-b651-e473cd69820c"},"edge_type":"user_defined","type":"","uuid":"8404ac10-03c5-48ff-be7d-c12b657e93aa","to_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"680d4dd9-bcea-4da5-ab29-7f63ed3082f3"}},{"from_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"680d4dd9-bcea-4da5-ab29-7f63ed3082f3"},"edge_type":"user_defined","type":"","uuid":"3a668542-3f5d-4973-828c-fac8f260a735","to_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"d19591f6-49dc-4fd1-882c-7e23a47f268d"}},{"from_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"d19591f6-49dc-4fd1-882c-7e23a47f268d"},"edge_type":"user_defined","type":"","uuid":"2aa46c53-c378-414f-a545-2c1a71b0262f","to_task_reference":{"kind":"app_task","name":"Setup MySQL","uuid":"8ff64afe-0644-4384-9836-4108a79df7b0"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"d13a100f_dag"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"EXEC","uuid":"abcf16d8-5c32-4eec-b651-e473cd69820c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n# -*- Install Mysql\nsudo yum update -y --quiet\nsudo yum install -y  wget xfs* bc unzip lvm2* lsscsi\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"System packages are installed\"","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install System Packages"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"EXEC","uuid":"680d4dd9-bcea-4da5-ab29-7f63ed3082f3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n##############\n#\n# LVM setup script for MySQL . 4 disks for DATA and 4 for logs\n# Data disks are 50GB | Log disks are 25GB \n#\n#############\n\n\n#PGSQL data\nsudo pvcreate \/dev\/sdb \/dev\/sdc \/dev\/sdd \/dev\/sde\nsudo vgcreate mysqlDataVG \/dev\/sdb \/dev\/sdd \/dev\/sdc \/dev\/sde\nsudo lvcreate -l 100%FREE -i4 -I1M -n mysqlDataLV mysqlDataVG          ## Use 1MB to avoid IO amplification \n#lvcreate -l 100%FREE -i4 -I4M -n pgDataLV pgDataVG\n\n\n#PGSQL logs\nsudo pvcreate \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo vgcreate mysqlLogVG \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo lvcreate -l 100%FREE -i2 -I1M -n mysqlLogLV mysqlLogVG            ## Use 1MB to avoid IO amplification\n#lvcreate -l 100%FREE -i2 -I4M -n pgLogLV pgLogVG\n\n\n#Disable LVM read ahead\nsudo lvchange -r 0 \/dev\/mysqlDataVG\/mysqlDataLV\nsudo lvchange -r 0 \/dev\/mysqlLogVG\/mysqlLogLV\n\n\n#Format LVMs with ext4 and use nodiscard to make sure format time is fast on Nutanix due to SCSI unmap\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlDataVG\/mysqlDataLV\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlLogVG\/mysqlLogLV\n\nsleep 10\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Create Disk Setup"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"EXEC","uuid":"d19591f6-49dc-4fd1-882c-7e23a47f268d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nsudo hostnamectl set-hostname \"@@{name}@@\"\n\n# -*- Mysql installation \nsudo yum install -y --quiet \"http:\/\/repo.mysql.com\/mysql80-community-release-el7.rpm\"\nsudo yum update -y --quiet\nsudo yum install -y --quiet sshpass mysql-community-server.x86_64\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install MySQL"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"EXEC","uuid":"8ff64afe-0644-4384-9836-4108a79df7b0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\necho \"!includedir \/etc\/my.cnf.d\" | sudo tee -a \/etc\/my.cnf\n\necho \"[mysqld]\nbinlog-format=mixed\nlog-bin=mysql-bin\ndatadir=\/mysql\/data\nsql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES\ninnodb_data_home_dir = \/mysql\/data\ninnodb_log_group_home_dir = \/mysql\/log\ninnodb_file_per_table\ntmpdir=\/mysql\/tmpdir\ninnodb_undo_directory = \/mysql\/undo\ndefault-storage-engine = innodb\ndefault_tmp_storage_engine = innodb\ninnodb_log_files_in_group = 4\ninnodb_log_file_size = 1G\ninnodb_log_buffer_size = 8M\ninnodb_buffer_pool_size = 6G\t\nlarge-pages\t\ninnodb_buffer_pool_instances = 64\t\ninnodb_flush_method=O_DIRECT\t\ninnodb_flush_neighbors=0\t \ninnodb_flush_log_at_trx_commit=1\ninnodb_buffer_pool_dump_at_shutdown=1\t\ninnodb_buffer_pool_load_at_startup=1\t\nbulk_insert_buffer_size = 256\t\ninnodb_thread_concurrency = 16\t\n \t \n# Undo tablespace\t \ninnodb_undo_tablespaces = 5\t\n \t \n# Networking\t \nwait_timeout=57600\t \nmax_allowed_packet=1G\t\nsocket=\/var\/lib\/mysql\/mysql.sock\t \nskip-name-resolve\nport=3306\t\nmax_connections=1000\t\n\n\n[mysqld_safe]\nlog-error=\/mysql\/log\/mysqld.log\npid-file=\/var\/run\/mysqld\/mysqld.pid\" | sudo tee \/etc\/my.cnf.d\/nutanix.cnf\n\nsudo sed -i \"\/\\[mysqld\\]\/a server-id=100\" \/etc\/my.cnf.d\/nutanix.cnf\necho \"#master=100\" | sudo tee -a  \/etc\/my.cnf.d\/nutanix.cnf\n\nserver_id=`sudo cat \/etc\/my.cnf.d\/nutanix.cnf | grep  \"server-id=\" | cut -d= -f2`\nis_master=`sudo cat \/etc\/my.cnf.d\/nutanix.cnf | grep -q -w \"#master=$server_id\"; echo $?`\n\nif [ ${is_master} -ne 0 ]\nthen\n   sudo sed -i '\/\\[mysqld\\]\/a read_only=1' \/etc\/my.cnf.d\/nutanix.cnf\nfi\n\n# -*- Sysctl configuration\nmysql_grp_id=`id -g mysql`\nsudo sysctl -w vm.swappiness=0\nsudo sysctl -w vm.nr_hugepages=1024\nsudo sysctl -w vm.overcommit_memory=1\nsudo sysctl -w vm.dirty_background_ratio=5 \nsudo sysctl -w vm.dirty_ratio=15\nsudo sysctl -w vm.dirty_expire_centisecs=500\nsudo sysctl -w vm.dirty_writeback_centisecs=100\nsudo sysctl -w vm.hugetlb_shm_group=$mysql_grp_id\n\necho \"vm.swappiness=0\nvm.nr_hugepages=1024\nvm.overcommit_memory=1\nvm.dirty_background_ratio=5 \nvm.dirty_ratio=15\nvm.dirty_expire_centisecs=500\nvm.dirty_writeback_centisecs=100\nvm.hugetlb_shm_group=$mysql_grp_id\" | sudo tee  -a \/etc\/sysctl.conf\n\necho \"ACTION=='add|change', SUBSYSTEM=='block', RUN+='\/bin\/sh -c \\\"\/bin\/echo 1024 > \/sys%p\/queue\/max_sectors_kb\\\"'\" | sudo tee \/etc\/udev\/rules.d\/71-block-max-sectors.rules\n#echo 1024 | sudo tee \/sys\/block\/sd?\/queue\/max_sectors_kb\n\necho \"\/dev\/mysqlDataVG\/mysqlDataLV \/mysql\/data ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\necho \"\/dev\/mysqlLogVG\/mysqlLogLV \/mysql\/log ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\nsudo mkdir -p \/mysql\/log \/mysql\/data \/mysql\/tmpdir \/mysql\/undo\nsudo mount -a\nsudo chown -R mysql:mysql \/mysql\n\nsudo systemctl enable mysqld\n\nsudo rm -rf \/mysql\/data\/*\nsudo systemctl start mysqld\n\n#Fix to obtain temp password and set it to blank\npassword=$(grep -oP 'temporary password(.*): \\K(\\S+)' \/var\/log\/mysqld.log)\nsudo mysqladmin --user=root --password=\"$password\" password aaBB**cc1122\nsudo mysql --user=root --password=aaBB**cc1122 -e \"UNINSTALL COMPONENT 'file:\/\/component_validate_password'\"\nsudo mysqladmin --user=root --password=\"aaBB**cc1122\" password \"\"\n\n\n#Mysql secure installation\nsudo mysql -u root<<-EOF\nALTER USER 'root'@'localhost' IDENTIFIED WITH caching_sha2_password BY '@@{MYSQL_PASSWORD}@@';\nDELETE FROM mysql.user WHERE User='root' AND Host NOT IN ('localhost', '127.0.0.1', '::1');\nDELETE FROM mysql.user WHERE User='';\nDELETE FROM mysql.db WHERE Db='test' OR Db='test\\_%';\nFLUSH PRIVILEGES;\nEOF\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Setup MySQL"}],"description":"","message_list":[],"uuid":"e7adbf50-ce04-46cd-a1ec-12754d37b48b","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"d13a100f_dag","uuid":"6a9f5eea-72ce-4093-af89-b296f7535db4"},"name":"267c96d2_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPMasterPackage","uuid":"77a18b5d-4cbc-4548-bb28-2c4fb6308d50"},"retries":"0","description":"","type":"DAG","uuid":"33840d14-884a-4ef0-af6a-d1ad8ba1a2b7","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"01fe868d_dag"}],"description":"","message_list":[],"uuid":"6b6cdac7-26fb-4c8c-9558-63d54ad00546","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"01fe868d_dag","uuid":"33840d14-884a-4ef0-af6a-d1ad8ba1a2b7"},"name":"ea47487d_runbook"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Uninstall_Crb_77a18b5d_4cbc_4548_bb28_2c4fb6308d50"}],"description":"","message_list":[],"uuid":"e569afc9-1907-4ca2-9d55-11cf6ccfb34c","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Package_77a18b5d_4cbc_4548_bb28_2c4fb6308d50","uuid":"437ea9cc-c82c-4bd9-97b5-5829d2f4bfff"},"name":"SYS_GEN__Runbook_Package_77a18b5d_4cbc_4548_bb28_2c4fb6308d50"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"2e2f8f33-9117-4496-9737-55b2f8b16cd0","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPMasterPackage","uuid":"77a18b5d-4cbc-4548-bb28-2c4fb6308d50"},"retries":"0","description":"","type":"DAG","uuid":"03f43976-b386-460e-aa0c-ccde43830650","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"0ddd291d-fb7d-4456-8960-438621911b01"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"8b148865-9fe3-47d4-945b-02c67ead6e70"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_77a18b5d_4cbc_4548_bb28_2c4fb6308d50","uuid":"1f2f38cb-e0af-4061-8a35-5476aad31d7f"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"0ddd291d-fb7d-4456-8960-438621911b01"},"edge_type":"inherent","type":"","uuid":"41cadaa7-716a-4624-b0f9-af40ba11c7a5","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"8b148865-9fe3-47d4-945b-02c67ead6e70"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"8b148865-9fe3-47d4-945b-02c67ead6e70"},"edge_type":"inherent","type":"","uuid":"d1976a1d-ebc8-45ef-8989-20c90184796b","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_77a18b5d_4cbc_4548_bb28_2c4fb6308d50","uuid":"1f2f38cb-e0af-4061-8a35-5476aad31d7f"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_77a18b5d_4cbc_4548_bb28_2c4fb6308d50"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"0ddd291d-fb7d-4456-8960-438621911b01","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0aefbca3_runbook","uuid":"a75d0021-cf2d-4da4-85dc-56ee0ed9e9eb"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"8b148865-9fe3-47d4-945b-02c67ead6e70","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"5fd47ec3_runbook","uuid":"7e58dd6b-1da9-495c-97e7-84bb6e288586"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd"},{"target_any_local_reference":{"kind":"app_package","name":"GCPMasterPackage","uuid":"77a18b5d-4cbc-4548-bb28-2c4fb6308d50"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"1f2f38cb-e0af-4061-8a35-5476aad31d7f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_77a18b5d_4cbc_4548_bb28_2c4fb6308d50","uuid":"e569afc9-1907-4ca2-9d55-11cf6ccfb34c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_77a18b5d_4cbc_4548_bb28_2c4fb6308d50"}],"description":"","message_list":[],"uuid":"cf427fc8-7adf-49dc-96c7-a78e7700a863","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_77a18b5d_4cbc_4548_bb28_2c4fb6308d50","uuid":"03f43976-b386-460e-aa0c-ccde43830650"},"name":"SYS_GEN__Runbook_Package_77a18b5d_4cbc_4548_bb28_2c4fb6308d50"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"ffac6e9c-b945-4170-8c37-5624373512a3","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPMasterPackage","uuid":"77a18b5d-4cbc-4548-bb28-2c4fb6308d50"},"retries":"0","description":"","type":"DAG","uuid":"53a38d91-e706-46ca-81cd-e8ebe9d8b9f3","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"73d80887-9013-49e1-8f4b-479b6023c902"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_77a18b5d_4cbc_4548_bb28_2c4fb6308d50","uuid":"cd408530-e543-496a-b0d1-09940f5742ce"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"73d80887-9013-49e1-8f4b-479b6023c902"},"edge_type":"inherent","type":"","uuid":"bd5c63be-4d6b-4dfe-a047-a7222768c593","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_77a18b5d_4cbc_4548_bb28_2c4fb6308d50","uuid":"cd408530-e543-496a-b0d1-09940f5742ce"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_77a18b5d_4cbc_4548_bb28_2c4fb6308d50"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"73d80887-9013-49e1-8f4b-479b6023c902","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"9b57420b-3c50-4fbe-8880-9c7651fd25ad"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd"},{"target_any_local_reference":{"kind":"app_package","name":"GCPMasterPackage","uuid":"77a18b5d-4cbc-4548-bb28-2c4fb6308d50"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"cd408530-e543-496a-b0d1-09940f5742ce","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_77a18b5d_4cbc_4548_bb28_2c4fb6308d50"}],"description":"","message_list":[],"uuid":"34e35da9-8947-463a-8deb-f56d5fb10680","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_77a18b5d_4cbc_4548_bb28_2c4fb6308d50","uuid":"53a38d91-e706-46ca-81cd-e8ebe9d8b9f3"},"name":"SYS_GEN__Runbook_Package_77a18b5d_4cbc_4548_bb28_2c4fb6308d50"}},{"description":"System action for starting an application","message_list":[],"uuid":"5db784ed-7bd1-4ce9-b55d-a9b73c0bbaba","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPMasterPackage","uuid":"77a18b5d-4cbc-4548-bb28-2c4fb6308d50"},"retries":"0","description":"","type":"DAG","uuid":"a3910331-3347-4f9f-a622-b6690646198f","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"6498893a-b27a-4e56-9155-2cc3494fd7b7"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_77a18b5d_4cbc_4548_bb28_2c4fb6308d50"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"6498893a-b27a-4e56-9155-2cc3494fd7b7","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"5ddb28d1_runbook","uuid":"f88c4d73-c0ab-488b-a016-3e1453b91891"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd"}],"description":"","message_list":[],"uuid":"5b2b03b8-28a8-445d-aaed-f6668b7aee0c","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_77a18b5d_4cbc_4548_bb28_2c4fb6308d50","uuid":"a3910331-3347-4f9f-a622-b6690646198f"},"name":"SYS_GEN__Runbook_Package_77a18b5d_4cbc_4548_bb28_2c4fb6308d50"}},{"description":"System action for restarting an application","message_list":[],"uuid":"fed1ccee-0bab-481c-b01b-9150e448f4a4","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPMasterPackage","uuid":"77a18b5d-4cbc-4548-bb28-2c4fb6308d50"},"retries":"0","description":"","type":"DAG","uuid":"b9f2067f-0644-4642-95db-fa13bcc92fa3","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"5db1550b-6cb1-4f4a-9323-c257d7391251"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_77a18b5d_4cbc_4548_bb28_2c4fb6308d50"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"5db1550b-6cb1-4f4a-9323-c257d7391251","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"7e709238_runbook","uuid":"6beb8e29-06b2-4218-a1fd-18c28d8c6218"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd"}],"description":"","message_list":[],"uuid":"ef0cb489-2242-47a8-b892-1a60e5258860","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_77a18b5d_4cbc_4548_bb28_2c4fb6308d50","uuid":"b9f2067f-0644-4642-95db-fa13bcc92fa3"},"name":"SYS_GEN__Runbook_Package_77a18b5d_4cbc_4548_bb28_2c4fb6308d50"}},{"description":"System action for stopping an application","message_list":[],"uuid":"c88390ac-a991-4fdc-907b-d028c1e8528d","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPMasterPackage","uuid":"77a18b5d-4cbc-4548-bb28-2c4fb6308d50"},"retries":"0","description":"","type":"DAG","uuid":"1e47ea2f-f63b-462a-9025-5acdcb8343e6","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"73e9653b-94da-48c9-822d-c452169dfafb"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_77a18b5d_4cbc_4548_bb28_2c4fb6308d50"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"73e9653b-94da-48c9-822d-c452169dfafb","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0aefbca3_runbook","uuid":"a75d0021-cf2d-4da4-85dc-56ee0ed9e9eb"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd"}],"description":"","message_list":[],"uuid":"bec7e13c-1dd7-4855-9b3e-06f1ee32e2dc","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_77a18b5d_4cbc_4548_bb28_2c4fb6308d50","uuid":"1e47ea2f-f63b-462a-9025-5acdcb8343e6"},"name":"SYS_GEN__Runbook_Package_77a18b5d_4cbc_4548_bb28_2c4fb6308d50"}}],"message_list":[],"service_local_reference_list":[{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"}],"uuid":"77a18b5d-4cbc-4548-bb28-2c4fb6308d50","state":"ACTIVE","version":"","editables":{},"type":"DEB","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPMasterPackage","uuid":"77a18b5d-4cbc-4548-bb28-2c4fb6308d50"},"retries":"0","description":"","type":"DAG","uuid":"6a9f5eea-72ce-4093-af89-b296f7535db4","child_tasks_local_reference_list":[{"kind":"app_task","name":"Install System Packages","uuid":"abcf16d8-5c32-4eec-b651-e473cd69820c"},{"kind":"app_task","name":"Create Disk Setup","uuid":"680d4dd9-bcea-4da5-ab29-7f63ed3082f3"},{"kind":"app_task","name":"Install MySQL","uuid":"d19591f6-49dc-4fd1-882c-7e23a47f268d"},{"kind":"app_task","name":"Setup MySQL","uuid":"8ff64afe-0644-4384-9836-4108a79df7b0"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Install System Packages","uuid":"abcf16d8-5c32-4eec-b651-e473cd69820c"},"edge_type":"user_defined","type":"","uuid":"8404ac10-03c5-48ff-be7d-c12b657e93aa","to_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"680d4dd9-bcea-4da5-ab29-7f63ed3082f3"}},{"from_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"680d4dd9-bcea-4da5-ab29-7f63ed3082f3"},"edge_type":"user_defined","type":"","uuid":"3a668542-3f5d-4973-828c-fac8f260a735","to_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"d19591f6-49dc-4fd1-882c-7e23a47f268d"}},{"from_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"d19591f6-49dc-4fd1-882c-7e23a47f268d"},"edge_type":"user_defined","type":"","uuid":"2aa46c53-c378-414f-a545-2c1a71b0262f","to_task_reference":{"kind":"app_task","name":"Setup MySQL","uuid":"8ff64afe-0644-4384-9836-4108a79df7b0"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"d13a100f_dag"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"EXEC","uuid":"abcf16d8-5c32-4eec-b651-e473cd69820c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n# -*- Install Mysql\nsudo yum update -y --quiet\nsudo yum install -y  wget xfs* bc unzip lvm2* lsscsi\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"System packages are installed\"","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install System Packages"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"EXEC","uuid":"680d4dd9-bcea-4da5-ab29-7f63ed3082f3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n##############\n#\n# LVM setup script for MySQL . 4 disks for DATA and 4 for logs\n# Data disks are 50GB | Log disks are 25GB \n#\n#############\n\n\n#PGSQL data\nsudo pvcreate \/dev\/sdb \/dev\/sdc \/dev\/sdd \/dev\/sde\nsudo vgcreate mysqlDataVG \/dev\/sdb \/dev\/sdd \/dev\/sdc \/dev\/sde\nsudo lvcreate -l 100%FREE -i4 -I1M -n mysqlDataLV mysqlDataVG          ## Use 1MB to avoid IO amplification \n#lvcreate -l 100%FREE -i4 -I4M -n pgDataLV pgDataVG\n\n\n#PGSQL logs\nsudo pvcreate \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo vgcreate mysqlLogVG \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo lvcreate -l 100%FREE -i2 -I1M -n mysqlLogLV mysqlLogVG            ## Use 1MB to avoid IO amplification\n#lvcreate -l 100%FREE -i2 -I4M -n pgLogLV pgLogVG\n\n\n#Disable LVM read ahead\nsudo lvchange -r 0 \/dev\/mysqlDataVG\/mysqlDataLV\nsudo lvchange -r 0 \/dev\/mysqlLogVG\/mysqlLogLV\n\n\n#Format LVMs with ext4 and use nodiscard to make sure format time is fast on Nutanix due to SCSI unmap\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlDataVG\/mysqlDataLV\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlLogVG\/mysqlLogLV\n\nsleep 10\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Create Disk Setup"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"EXEC","uuid":"d19591f6-49dc-4fd1-882c-7e23a47f268d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nsudo hostnamectl set-hostname \"@@{name}@@\"\n\n# -*- Mysql installation \nsudo yum install -y --quiet \"http:\/\/repo.mysql.com\/mysql80-community-release-el7.rpm\"\nsudo yum update -y --quiet\nsudo yum install -y --quiet sshpass mysql-community-server.x86_64\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install MySQL"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"EXEC","uuid":"8ff64afe-0644-4384-9836-4108a79df7b0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\necho \"!includedir \/etc\/my.cnf.d\" | sudo tee -a \/etc\/my.cnf\n\necho \"[mysqld]\nbinlog-format=mixed\nlog-bin=mysql-bin\ndatadir=\/mysql\/data\nsql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES\ninnodb_data_home_dir = \/mysql\/data\ninnodb_log_group_home_dir = \/mysql\/log\ninnodb_file_per_table\ntmpdir=\/mysql\/tmpdir\ninnodb_undo_directory = \/mysql\/undo\ndefault-storage-engine = innodb\ndefault_tmp_storage_engine = innodb\ninnodb_log_files_in_group = 4\ninnodb_log_file_size = 1G\ninnodb_log_buffer_size = 8M\ninnodb_buffer_pool_size = 6G\t\nlarge-pages\t\ninnodb_buffer_pool_instances = 64\t\ninnodb_flush_method=O_DIRECT\t\ninnodb_flush_neighbors=0\t \ninnodb_flush_log_at_trx_commit=1\ninnodb_buffer_pool_dump_at_shutdown=1\t\ninnodb_buffer_pool_load_at_startup=1\t\nbulk_insert_buffer_size = 256\t\ninnodb_thread_concurrency = 16\t\n \t \n# Undo tablespace\t \ninnodb_undo_tablespaces = 5\t\n \t \n# Networking\t \nwait_timeout=57600\t \nmax_allowed_packet=1G\t\nsocket=\/var\/lib\/mysql\/mysql.sock\t \nskip-name-resolve\nport=3306\t\nmax_connections=1000\t\n\n\n[mysqld_safe]\nlog-error=\/mysql\/log\/mysqld.log\npid-file=\/var\/run\/mysqld\/mysqld.pid\" | sudo tee \/etc\/my.cnf.d\/nutanix.cnf\n\nsudo sed -i \"\/\\[mysqld\\]\/a server-id=100\" \/etc\/my.cnf.d\/nutanix.cnf\necho \"#master=100\" | sudo tee -a  \/etc\/my.cnf.d\/nutanix.cnf\n\nserver_id=`sudo cat \/etc\/my.cnf.d\/nutanix.cnf | grep  \"server-id=\" | cut -d= -f2`\nis_master=`sudo cat \/etc\/my.cnf.d\/nutanix.cnf | grep -q -w \"#master=$server_id\"; echo $?`\n\nif [ ${is_master} -ne 0 ]\nthen\n   sudo sed -i '\/\\[mysqld\\]\/a read_only=1' \/etc\/my.cnf.d\/nutanix.cnf\nfi\n\n# -*- Sysctl configuration\nmysql_grp_id=`id -g mysql`\nsudo sysctl -w vm.swappiness=0\nsudo sysctl -w vm.nr_hugepages=1024\nsudo sysctl -w vm.overcommit_memory=1\nsudo sysctl -w vm.dirty_background_ratio=5 \nsudo sysctl -w vm.dirty_ratio=15\nsudo sysctl -w vm.dirty_expire_centisecs=500\nsudo sysctl -w vm.dirty_writeback_centisecs=100\nsudo sysctl -w vm.hugetlb_shm_group=$mysql_grp_id\n\necho \"vm.swappiness=0\nvm.nr_hugepages=1024\nvm.overcommit_memory=1\nvm.dirty_background_ratio=5 \nvm.dirty_ratio=15\nvm.dirty_expire_centisecs=500\nvm.dirty_writeback_centisecs=100\nvm.hugetlb_shm_group=$mysql_grp_id\" | sudo tee  -a \/etc\/sysctl.conf\n\necho \"ACTION=='add|change', SUBSYSTEM=='block', RUN+='\/bin\/sh -c \\\"\/bin\/echo 1024 > \/sys%p\/queue\/max_sectors_kb\\\"'\" | sudo tee \/etc\/udev\/rules.d\/71-block-max-sectors.rules\n#echo 1024 | sudo tee \/sys\/block\/sd?\/queue\/max_sectors_kb\n\necho \"\/dev\/mysqlDataVG\/mysqlDataLV \/mysql\/data ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\necho \"\/dev\/mysqlLogVG\/mysqlLogLV \/mysql\/log ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\nsudo mkdir -p \/mysql\/log \/mysql\/data \/mysql\/tmpdir \/mysql\/undo\nsudo mount -a\nsudo chown -R mysql:mysql \/mysql\n\nsudo systemctl enable mysqld\n\nsudo rm -rf \/mysql\/data\/*\nsudo systemctl start mysqld\n\n#Fix to obtain temp password and set it to blank\npassword=$(grep -oP 'temporary password(.*): \\K(\\S+)' \/var\/log\/mysqld.log)\nsudo mysqladmin --user=root --password=\"$password\" password aaBB**cc1122\nsudo mysql --user=root --password=aaBB**cc1122 -e \"UNINSTALL COMPONENT 'file:\/\/component_validate_password'\"\nsudo mysqladmin --user=root --password=\"aaBB**cc1122\" password \"\"\n\n\n#Mysql secure installation\nsudo mysql -u root<<-EOF\nALTER USER 'root'@'localhost' IDENTIFIED WITH caching_sha2_password BY '@@{MYSQL_PASSWORD}@@';\nDELETE FROM mysql.user WHERE User='root' AND Host NOT IN ('localhost', '127.0.0.1', '::1');\nDELETE FROM mysql.user WHERE User='';\nDELETE FROM mysql.db WHERE Db='test' OR Db='test\\_%';\nFLUSH PRIVILEGES;\nEOF\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Setup MySQL"}],"description":"","message_list":[],"uuid":"e7adbf50-ce04-46cd-a1ec-12754d37b48b","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"d13a100f_dag","uuid":"6a9f5eea-72ce-4093-af89-b296f7535db4"},"name":"267c96d2_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPMasterPackage","uuid":"77a18b5d-4cbc-4548-bb28-2c4fb6308d50"},"retries":"0","description":"","type":"DAG","uuid":"33840d14-884a-4ef0-af6a-d1ad8ba1a2b7","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"01fe868d_dag"}],"description":"","message_list":[],"uuid":"6b6cdac7-26fb-4c8c-9558-63d54ad00546","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"01fe868d_dag","uuid":"33840d14-884a-4ef0-af6a-d1ad8ba1a2b7"},"name":"ea47487d_runbook"}},"variable_list":[],"name":"GCPMasterPackage"},{"description":"","action_list":[{"description":"System action for installing an application","message_list":[],"uuid":"3bbdf31e-9b09-494d-8492-03a9ae06bcb7","name":"action_install","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPSlavePackage","uuid":"e539041c-dd5e-4d31-b4ad-f1644e8e0679"},"retries":"0","description":"","type":"DAG","uuid":"c0035c35-c6ab-48c2-93c2-7a1bdcaec80e","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Install_Crb_e539041c_dd5e_4d31_b4ad_f1644e8e0679","uuid":"63a11f41-2bbc-45bb-9493-3cce61ac9898"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Package_e539041c_dd5e_4d31_b4ad_f1644e8e0679"},{"target_any_local_reference":{"kind":"app_package","name":"GCPSlavePackage","uuid":"e539041c-dd5e-4d31-b4ad-f1644e8e0679"},"retries":"0","description":"","type":"CUSTOM_PACKAGE_INSTALL","uuid":"63a11f41-2bbc-45bb-9493-3cce61ac9898","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPSlavePackage","uuid":"e539041c-dd5e-4d31-b4ad-f1644e8e0679"},"retries":"0","description":"","type":"DAG","uuid":"f38d37f5-fa0c-4ad2-8d3b-f43219554f11","child_tasks_local_reference_list":[{"kind":"app_task","name":"Install  System Packages","uuid":"fa5e57a4-a235-47ed-ba37-81236cb0c5f0"},{"kind":"app_task","name":"Create Disk Setup","uuid":"57a348d5-ed32-4404-ae31-84ae1db2cd1e"},{"kind":"app_task","name":"Install MySQL","uuid":"ffb616ba-2e6c-490e-8b61-a793340df894"},{"kind":"app_task","name":"Setup MySQL","uuid":"14a0b0f3-3e97-43e4-8102-b4cc47c82485"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Install  System Packages","uuid":"fa5e57a4-a235-47ed-ba37-81236cb0c5f0"},"edge_type":"user_defined","type":"","uuid":"316c290d-75f4-4153-8067-b2bc4af7cf77","to_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"57a348d5-ed32-4404-ae31-84ae1db2cd1e"}},{"from_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"57a348d5-ed32-4404-ae31-84ae1db2cd1e"},"edge_type":"user_defined","type":"","uuid":"6611e61b-6098-45f7-8bc3-d15cbcbc582c","to_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"ffb616ba-2e6c-490e-8b61-a793340df894"}},{"from_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"ffb616ba-2e6c-490e-8b61-a793340df894"},"edge_type":"user_defined","type":"","uuid":"dc0ab849-e99f-4410-a07a-829644f4ae53","to_task_reference":{"kind":"app_task","name":"Setup MySQL","uuid":"14a0b0f3-3e97-43e4-8102-b4cc47c82485"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"eefb69f6_dag"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"EXEC","uuid":"fa5e57a4-a235-47ed-ba37-81236cb0c5f0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n# -*- Install Mysql\nsudo yum update -y --quiet\nsudo yum install -y  wget xfs* bc unzip lvm2* lsscsi\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"System packages are installed\"","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install  System Packages"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"EXEC","uuid":"57a348d5-ed32-4404-ae31-84ae1db2cd1e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n##############\n#\n# LVM setup script for MySQL . 4 disks for DATA and 4 for logs\n# Data disks are 50GB | Log disks are 25GB \n#\n#############\n\n\n#PGSQL data\nsudo pvcreate \/dev\/sdb \/dev\/sdc \/dev\/sdd \/dev\/sde\nsudo vgcreate mysqlDataVG \/dev\/sdb \/dev\/sdd \/dev\/sdc \/dev\/sde\nsudo lvcreate -l 100%FREE -i4 -I1M -n mysqlDataLV mysqlDataVG          ## Use 1MB to avoid IO amplification \n#lvcreate -l 100%FREE -i4 -I4M -n pgDataLV pgDataVG\n\n\n#PGSQL logs\nsudo pvcreate \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo vgcreate mysqlLogVG \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo lvcreate -l 100%FREE -i2 -I1M -n mysqlLogLV mysqlLogVG            ## Use 1MB to avoid IO amplification\n#lvcreate -l 100%FREE -i2 -I4M -n pgLogLV pgLogVG\n\n\n#Disable LVM read ahead\nsudo lvchange -r 0 \/dev\/mysqlDataVG\/mysqlDataLV\nsudo lvchange -r 0 \/dev\/mysqlLogVG\/mysqlLogLV\n\n\n#Format LVMs with ext4 and use nodiscard to make sure format time is fast on Nutanix due to SCSI unmap\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlDataVG\/mysqlDataLV\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlLogVG\/mysqlLogLV\n\nsleep 10\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Create Disk Setup"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"EXEC","uuid":"ffb616ba-2e6c-490e-8b61-a793340df894","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nsudo hostnamectl set-hostname \"@@{name}@@\"\n\n# -*- Mysql installation \nsudo yum install -y --quiet \"http:\/\/repo.mysql.com\/mysql80-community-release-el7.rpm\"\nsudo yum update -y --quiet\nsudo yum install -y --quiet sshpass mysql-community-server.x86_64\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install MySQL"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"EXEC","uuid":"14a0b0f3-3e97-43e4-8102-b4cc47c82485","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\necho \"!includedir \/etc\/my.cnf.d\" | sudo tee -a \/etc\/my.cnf\n\necho \"[mysqld]\nbinlog-format=mixed\nlog-bin=mysql-bin\ndatadir=\/mysql\/data\nsql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES\ninnodb_data_home_dir = \/mysql\/data\ninnodb_log_group_home_dir = \/mysql\/log\ninnodb_file_per_table\ntmpdir=\/mysql\/tmpdir\ninnodb_undo_directory = \/mysql\/undo\ndefault-storage-engine = innodb\ndefault_tmp_storage_engine = innodb\ninnodb_log_files_in_group = 4\ninnodb_log_file_size = 1G\ninnodb_log_buffer_size = 8M\ninnodb_buffer_pool_size = 6G\t\nlarge-pages\t\ninnodb_buffer_pool_instances = 64\t\ninnodb_flush_method=O_DIRECT\t\ninnodb_flush_neighbors=0\t \ninnodb_flush_log_at_trx_commit=1\ninnodb_buffer_pool_dump_at_shutdown=1\t\ninnodb_buffer_pool_load_at_startup=1\t\nbulk_insert_buffer_size = 256\t\ninnodb_thread_concurrency = 16\t\n \t \n# Undo tablespace\t \ninnodb_undo_tablespaces = 5\t\n \t \n# Networking\t \nwait_timeout=57600\t \nmax_allowed_packet=1G\t\nsocket=\/var\/lib\/mysql\/mysql.sock\t \nskip-name-resolve\nport=3306\t\nmax_connections=1000\t\n\n\n[mysqld_safe]\nlog-error=\/mysql\/log\/mysqld.log\npid-file=\/var\/run\/mysqld\/mysqld.pid\" | sudo tee \/etc\/my.cnf.d\/nutanix.cnf\n\necho \"#master=100\" | sudo tee -a  \/etc\/my.cnf.d\/nutanix.cnf\n\nserver_id=`sudo cat \/etc\/my.cnf | grep  \"server-id=\" | cut -d= -f2`\nis_master=`sudo cat \/etc\/my.cnf | grep -q -w \"#master=$server_id\"; echo $?`\n\nif [ ${is_master} -ne 0 ]\nthen\n   sudo sed -i '\/\\[mysqld\\]\/a read_only=1' \/etc\/my.cnf.d\/nutanix.cnf\nfi\n\n# -*- Sysctl configuration\nmysql_grp_id=`id -g mysql`\nsudo sysctl -w vm.swappiness=0\nsudo sysctl -w vm.nr_hugepages=1024\nsudo sysctl -w vm.overcommit_memory=1\nsudo sysctl -w vm.dirty_background_ratio=5 \nsudo sysctl -w vm.dirty_ratio=15\nsudo sysctl -w vm.dirty_expire_centisecs=500\nsudo sysctl -w vm.dirty_writeback_centisecs=100\nsudo sysctl -w vm.hugetlb_shm_group=$mysql_grp_id\n\necho \"vm.swappiness=0\nvm.nr_hugepages=1024\nvm.overcommit_memory=1\nvm.dirty_background_ratio=5 \nvm.dirty_ratio=15\nvm.dirty_expire_centisecs=500\nvm.dirty_writeback_centisecs=100\nvm.hugetlb_shm_group=$mysql_grp_id\" | sudo tee  -a \/etc\/sysctl.conf\n\necho \"ACTION=='add|change', SUBSYSTEM=='block', RUN+='\/bin\/sh -c \\\"\/bin\/echo 1024 > \/sys%p\/queue\/max_sectors_kb\\\"'\" | sudo tee \/etc\/udev\/rules.d\/71-block-max-sectors.rules\n#echo 1024 | sudo tee \/sys\/block\/sd?\/queue\/max_sectors_kb\n\necho \"\/dev\/mysqlDataVG\/mysqlDataLV \/mysql\/data ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\necho \"\/dev\/mysqlLogVG\/mysqlLogLV \/mysql\/log ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\nsudo mkdir -p \/mysql\/log \/mysql\/data \/mysql\/tmpdir \/mysql\/undo\nsudo mount -a\nsudo chown -R mysql:mysql \/mysql\n\nsudo systemctl enable mysqld\n\nsudo rm -rf \/mysql\/data\/*\nsudo systemctl start mysqld\n\n#Fix to obtain temp password and set it to blank\npassword=$(grep -oP 'temporary password(.*): \\K(\\S+)' \/var\/log\/mysqld.log)\nsudo mysqladmin --user=root --password=\"$password\" password aaBB**cc1122\nsudo mysql --user=root --password=aaBB**cc1122 -e \"UNINSTALL COMPONENT 'file:\/\/component_validate_password'\"\nsudo mysqladmin --user=root --password=\"aaBB**cc1122\" password \"\"\n\n\n#Mysql secure installation\nsudo mysql -u root<<-EOF\nALTER USER 'root'@'localhost' IDENTIFIED WITH caching_sha2_password BY '@@{MYSQL_PASSWORD}@@';\nDELETE FROM mysql.user WHERE User='root' AND Host NOT IN ('localhost', '127.0.0.1', '::1');\nDELETE FROM mysql.user WHERE User='';\nDELETE FROM mysql.db WHERE Db='test' OR Db='test\\_%';\nFLUSH PRIVILEGES;\nEOF\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Setup MySQL"}],"description":"","message_list":[],"uuid":"287af9d9-3769-4190-9bf2-991157a8cf4d","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"eefb69f6_dag","uuid":"f38d37f5-fa0c-4ad2-8d3b-f43219554f11"},"name":"7f65f668_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPSlavePackage","uuid":"e539041c-dd5e-4d31-b4ad-f1644e8e0679"},"retries":"0","description":"","type":"DAG","uuid":"3d98388f-aebf-4c51-b815-58247e5cea1e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"9607e515_dag"}],"description":"","message_list":[],"uuid":"0a86a518-d920-49cf-81a4-a3e5edaf3e07","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"9607e515_dag","uuid":"3d98388f-aebf-4c51-b815-58247e5cea1e"},"name":"22dbbe31_runbook"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Install_Crb_e539041c_dd5e_4d31_b4ad_f1644e8e0679"}],"description":"","message_list":[],"uuid":"de3d87dd-a1e7-4d0f-952e-762fe409d003","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Package_e539041c_dd5e_4d31_b4ad_f1644e8e0679","uuid":"c0035c35-c6ab-48c2-93c2-7a1bdcaec80e"},"name":"SYS_GEN__Runbook_Package_e539041c_dd5e_4d31_b4ad_f1644e8e0679"}},{"description":"System action for creating an application","message_list":[],"uuid":"89f1f60e-0db7-47cc-bc73-95943205be7b","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPSlavePackage","uuid":"e539041c-dd5e-4d31-b4ad-f1644e8e0679"},"retries":"0","description":"","type":"DAG","uuid":"34dd822a-5b22-4cb8-9302-ba473c407233","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_e539041c_dd5e_4d31_b4ad_f1644e8e0679","uuid":"1b0708bc-bb32-47c4-929d-121da96d9742"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"e04fa9da-7221-430d-b083-05dafbefe7c6"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"e7e700bb-618a-41b0-8a23-0aab74d333a2"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"e04fa9da-7221-430d-b083-05dafbefe7c6"},"edge_type":"inherent","type":"","uuid":"8eb1e6f2-5297-4e2e-8e36-821d14804230","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"e7e700bb-618a-41b0-8a23-0aab74d333a2"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_e539041c_dd5e_4d31_b4ad_f1644e8e0679","uuid":"1b0708bc-bb32-47c4-929d-121da96d9742"},"edge_type":"inherent","type":"","uuid":"83491bb1-772e-4dea-a5b2-4c1fb91abcd9","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"e04fa9da-7221-430d-b083-05dafbefe7c6"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_e539041c_dd5e_4d31_b4ad_f1644e8e0679"},{"target_any_local_reference":{"kind":"app_package","name":"GCPSlavePackage","uuid":"e539041c-dd5e-4d31-b4ad-f1644e8e0679"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"1b0708bc-bb32-47c4-929d-121da96d9742","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_e539041c_dd5e_4d31_b4ad_f1644e8e0679","uuid":"de3d87dd-a1e7-4d0f-952e-762fe409d003"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_e539041c_dd5e_4d31_b4ad_f1644e8e0679"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"e04fa9da-7221-430d-b083-05dafbefe7c6","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"d54168c9_runbook","uuid":"e509001d-6b88-4a64-813c-0ce8ea81991a"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"e7e700bb-618a-41b0-8a23-0aab74d333a2","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"a027cde0_runbook","uuid":"0afbc7f3-5541-415f-9616-c459f09806b2"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400"}],"description":"","message_list":[],"uuid":"92b74d56-7c5d-41e1-b4da-0c8c67222194","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_e539041c_dd5e_4d31_b4ad_f1644e8e0679","uuid":"34dd822a-5b22-4cb8-9302-ba473c407233"},"name":"SYS_GEN__Runbook_Package_e539041c_dd5e_4d31_b4ad_f1644e8e0679"}},{"description":"System action for uninstalling an application","message_list":[],"uuid":"2d4c57d3-e159-448f-9425-b6abea7b5928","name":"action_uninstall","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPSlavePackage","uuid":"e539041c-dd5e-4d31-b4ad-f1644e8e0679"},"retries":"0","description":"","type":"DAG","uuid":"917fb072-7d47-453d-b303-17f8811f7f69","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Uninstall_Crb_e539041c_dd5e_4d31_b4ad_f1644e8e0679","uuid":"75ead3de-6756-4cfa-9056-4705a25a9980"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Package_e539041c_dd5e_4d31_b4ad_f1644e8e0679"},{"target_any_local_reference":{"kind":"app_package","name":"GCPSlavePackage","uuid":"e539041c-dd5e-4d31-b4ad-f1644e8e0679"},"retries":"0","description":"","type":"CUSTOM_PACKAGE_UNINSTALL","uuid":"75ead3de-6756-4cfa-9056-4705a25a9980","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPSlavePackage","uuid":"e539041c-dd5e-4d31-b4ad-f1644e8e0679"},"retries":"0","description":"","type":"DAG","uuid":"f38d37f5-fa0c-4ad2-8d3b-f43219554f11","child_tasks_local_reference_list":[{"kind":"app_task","name":"Install  System Packages","uuid":"fa5e57a4-a235-47ed-ba37-81236cb0c5f0"},{"kind":"app_task","name":"Create Disk Setup","uuid":"57a348d5-ed32-4404-ae31-84ae1db2cd1e"},{"kind":"app_task","name":"Install MySQL","uuid":"ffb616ba-2e6c-490e-8b61-a793340df894"},{"kind":"app_task","name":"Setup MySQL","uuid":"14a0b0f3-3e97-43e4-8102-b4cc47c82485"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Install  System Packages","uuid":"fa5e57a4-a235-47ed-ba37-81236cb0c5f0"},"edge_type":"user_defined","type":"","uuid":"316c290d-75f4-4153-8067-b2bc4af7cf77","to_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"57a348d5-ed32-4404-ae31-84ae1db2cd1e"}},{"from_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"57a348d5-ed32-4404-ae31-84ae1db2cd1e"},"edge_type":"user_defined","type":"","uuid":"6611e61b-6098-45f7-8bc3-d15cbcbc582c","to_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"ffb616ba-2e6c-490e-8b61-a793340df894"}},{"from_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"ffb616ba-2e6c-490e-8b61-a793340df894"},"edge_type":"user_defined","type":"","uuid":"dc0ab849-e99f-4410-a07a-829644f4ae53","to_task_reference":{"kind":"app_task","name":"Setup MySQL","uuid":"14a0b0f3-3e97-43e4-8102-b4cc47c82485"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"eefb69f6_dag"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"EXEC","uuid":"fa5e57a4-a235-47ed-ba37-81236cb0c5f0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n# -*- Install Mysql\nsudo yum update -y --quiet\nsudo yum install -y  wget xfs* bc unzip lvm2* lsscsi\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"System packages are installed\"","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install  System Packages"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"EXEC","uuid":"57a348d5-ed32-4404-ae31-84ae1db2cd1e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n##############\n#\n# LVM setup script for MySQL . 4 disks for DATA and 4 for logs\n# Data disks are 50GB | Log disks are 25GB \n#\n#############\n\n\n#PGSQL data\nsudo pvcreate \/dev\/sdb \/dev\/sdc \/dev\/sdd \/dev\/sde\nsudo vgcreate mysqlDataVG \/dev\/sdb \/dev\/sdd \/dev\/sdc \/dev\/sde\nsudo lvcreate -l 100%FREE -i4 -I1M -n mysqlDataLV mysqlDataVG          ## Use 1MB to avoid IO amplification \n#lvcreate -l 100%FREE -i4 -I4M -n pgDataLV pgDataVG\n\n\n#PGSQL logs\nsudo pvcreate \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo vgcreate mysqlLogVG \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo lvcreate -l 100%FREE -i2 -I1M -n mysqlLogLV mysqlLogVG            ## Use 1MB to avoid IO amplification\n#lvcreate -l 100%FREE -i2 -I4M -n pgLogLV pgLogVG\n\n\n#Disable LVM read ahead\nsudo lvchange -r 0 \/dev\/mysqlDataVG\/mysqlDataLV\nsudo lvchange -r 0 \/dev\/mysqlLogVG\/mysqlLogLV\n\n\n#Format LVMs with ext4 and use nodiscard to make sure format time is fast on Nutanix due to SCSI unmap\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlDataVG\/mysqlDataLV\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlLogVG\/mysqlLogLV\n\nsleep 10\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Create Disk Setup"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"EXEC","uuid":"ffb616ba-2e6c-490e-8b61-a793340df894","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nsudo hostnamectl set-hostname \"@@{name}@@\"\n\n# -*- Mysql installation \nsudo yum install -y --quiet \"http:\/\/repo.mysql.com\/mysql80-community-release-el7.rpm\"\nsudo yum update -y --quiet\nsudo yum install -y --quiet sshpass mysql-community-server.x86_64\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install MySQL"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"EXEC","uuid":"14a0b0f3-3e97-43e4-8102-b4cc47c82485","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\necho \"!includedir \/etc\/my.cnf.d\" | sudo tee -a \/etc\/my.cnf\n\necho \"[mysqld]\nbinlog-format=mixed\nlog-bin=mysql-bin\ndatadir=\/mysql\/data\nsql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES\ninnodb_data_home_dir = \/mysql\/data\ninnodb_log_group_home_dir = \/mysql\/log\ninnodb_file_per_table\ntmpdir=\/mysql\/tmpdir\ninnodb_undo_directory = \/mysql\/undo\ndefault-storage-engine = innodb\ndefault_tmp_storage_engine = innodb\ninnodb_log_files_in_group = 4\ninnodb_log_file_size = 1G\ninnodb_log_buffer_size = 8M\ninnodb_buffer_pool_size = 6G\t\nlarge-pages\t\ninnodb_buffer_pool_instances = 64\t\ninnodb_flush_method=O_DIRECT\t\ninnodb_flush_neighbors=0\t \ninnodb_flush_log_at_trx_commit=1\ninnodb_buffer_pool_dump_at_shutdown=1\t\ninnodb_buffer_pool_load_at_startup=1\t\nbulk_insert_buffer_size = 256\t\ninnodb_thread_concurrency = 16\t\n \t \n# Undo tablespace\t \ninnodb_undo_tablespaces = 5\t\n \t \n# Networking\t \nwait_timeout=57600\t \nmax_allowed_packet=1G\t\nsocket=\/var\/lib\/mysql\/mysql.sock\t \nskip-name-resolve\nport=3306\t\nmax_connections=1000\t\n\n\n[mysqld_safe]\nlog-error=\/mysql\/log\/mysqld.log\npid-file=\/var\/run\/mysqld\/mysqld.pid\" | sudo tee \/etc\/my.cnf.d\/nutanix.cnf\n\necho \"#master=100\" | sudo tee -a  \/etc\/my.cnf.d\/nutanix.cnf\n\nserver_id=`sudo cat \/etc\/my.cnf | grep  \"server-id=\" | cut -d= -f2`\nis_master=`sudo cat \/etc\/my.cnf | grep -q -w \"#master=$server_id\"; echo $?`\n\nif [ ${is_master} -ne 0 ]\nthen\n   sudo sed -i '\/\\[mysqld\\]\/a read_only=1' \/etc\/my.cnf.d\/nutanix.cnf\nfi\n\n# -*- Sysctl configuration\nmysql_grp_id=`id -g mysql`\nsudo sysctl -w vm.swappiness=0\nsudo sysctl -w vm.nr_hugepages=1024\nsudo sysctl -w vm.overcommit_memory=1\nsudo sysctl -w vm.dirty_background_ratio=5 \nsudo sysctl -w vm.dirty_ratio=15\nsudo sysctl -w vm.dirty_expire_centisecs=500\nsudo sysctl -w vm.dirty_writeback_centisecs=100\nsudo sysctl -w vm.hugetlb_shm_group=$mysql_grp_id\n\necho \"vm.swappiness=0\nvm.nr_hugepages=1024\nvm.overcommit_memory=1\nvm.dirty_background_ratio=5 \nvm.dirty_ratio=15\nvm.dirty_expire_centisecs=500\nvm.dirty_writeback_centisecs=100\nvm.hugetlb_shm_group=$mysql_grp_id\" | sudo tee  -a \/etc\/sysctl.conf\n\necho \"ACTION=='add|change', SUBSYSTEM=='block', RUN+='\/bin\/sh -c \\\"\/bin\/echo 1024 > \/sys%p\/queue\/max_sectors_kb\\\"'\" | sudo tee \/etc\/udev\/rules.d\/71-block-max-sectors.rules\n#echo 1024 | sudo tee \/sys\/block\/sd?\/queue\/max_sectors_kb\n\necho \"\/dev\/mysqlDataVG\/mysqlDataLV \/mysql\/data ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\necho \"\/dev\/mysqlLogVG\/mysqlLogLV \/mysql\/log ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\nsudo mkdir -p \/mysql\/log \/mysql\/data \/mysql\/tmpdir \/mysql\/undo\nsudo mount -a\nsudo chown -R mysql:mysql \/mysql\n\nsudo systemctl enable mysqld\n\nsudo rm -rf \/mysql\/data\/*\nsudo systemctl start mysqld\n\n#Fix to obtain temp password and set it to blank\npassword=$(grep -oP 'temporary password(.*): \\K(\\S+)' \/var\/log\/mysqld.log)\nsudo mysqladmin --user=root --password=\"$password\" password aaBB**cc1122\nsudo mysql --user=root --password=aaBB**cc1122 -e \"UNINSTALL COMPONENT 'file:\/\/component_validate_password'\"\nsudo mysqladmin --user=root --password=\"aaBB**cc1122\" password \"\"\n\n\n#Mysql secure installation\nsudo mysql -u root<<-EOF\nALTER USER 'root'@'localhost' IDENTIFIED WITH caching_sha2_password BY '@@{MYSQL_PASSWORD}@@';\nDELETE FROM mysql.user WHERE User='root' AND Host NOT IN ('localhost', '127.0.0.1', '::1');\nDELETE FROM mysql.user WHERE User='';\nDELETE FROM mysql.db WHERE Db='test' OR Db='test\\_%';\nFLUSH PRIVILEGES;\nEOF\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Setup MySQL"}],"description":"","message_list":[],"uuid":"287af9d9-3769-4190-9bf2-991157a8cf4d","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"eefb69f6_dag","uuid":"f38d37f5-fa0c-4ad2-8d3b-f43219554f11"},"name":"7f65f668_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPSlavePackage","uuid":"e539041c-dd5e-4d31-b4ad-f1644e8e0679"},"retries":"0","description":"","type":"DAG","uuid":"3d98388f-aebf-4c51-b815-58247e5cea1e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"9607e515_dag"}],"description":"","message_list":[],"uuid":"0a86a518-d920-49cf-81a4-a3e5edaf3e07","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"9607e515_dag","uuid":"3d98388f-aebf-4c51-b815-58247e5cea1e"},"name":"22dbbe31_runbook"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Uninstall_Crb_e539041c_dd5e_4d31_b4ad_f1644e8e0679"}],"description":"","message_list":[],"uuid":"8de1e131-747d-4900-b721-58cd9497c905","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Package_e539041c_dd5e_4d31_b4ad_f1644e8e0679","uuid":"917fb072-7d47-453d-b303-17f8811f7f69"},"name":"SYS_GEN__Runbook_Package_e539041c_dd5e_4d31_b4ad_f1644e8e0679"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"caf3df7d-ef35-4580-8344-e7f7bad5a252","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPSlavePackage","uuid":"e539041c-dd5e-4d31-b4ad-f1644e8e0679"},"retries":"0","description":"","type":"DAG","uuid":"22f7db23-8a11-43a9-a861-5b5a7a119215","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"53c1e5c6-f3e4-456d-b864-29481b8fa73f"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"a4c97d22-54df-4359-a98b-e1b8a460eb8a"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_e539041c_dd5e_4d31_b4ad_f1644e8e0679","uuid":"72d89935-e266-4952-aa33-fcfe9043af09"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"53c1e5c6-f3e4-456d-b864-29481b8fa73f"},"edge_type":"inherent","type":"","uuid":"3e778dfe-f6ad-45a4-abac-27059e23f7b0","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"a4c97d22-54df-4359-a98b-e1b8a460eb8a"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"a4c97d22-54df-4359-a98b-e1b8a460eb8a"},"edge_type":"inherent","type":"","uuid":"0681823e-0cda-44e5-956c-ffefbf0db538","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_e539041c_dd5e_4d31_b4ad_f1644e8e0679","uuid":"72d89935-e266-4952-aa33-fcfe9043af09"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_e539041c_dd5e_4d31_b4ad_f1644e8e0679"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"53c1e5c6-f3e4-456d-b864-29481b8fa73f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"4a2ad0be_runbook","uuid":"09b1c8a9-6223-4e38-acfb-ff4754413c85"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"a4c97d22-54df-4359-a98b-e1b8a460eb8a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"92247e35_runbook","uuid":"497a8a35-a955-4f76-8fb0-21dbd9acb6e0"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400"},{"target_any_local_reference":{"kind":"app_package","name":"GCPSlavePackage","uuid":"e539041c-dd5e-4d31-b4ad-f1644e8e0679"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"72d89935-e266-4952-aa33-fcfe9043af09","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_e539041c_dd5e_4d31_b4ad_f1644e8e0679","uuid":"8de1e131-747d-4900-b721-58cd9497c905"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_e539041c_dd5e_4d31_b4ad_f1644e8e0679"}],"description":"","message_list":[],"uuid":"b977bbe7-1424-44e8-b315-52dc9f21bbbe","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_e539041c_dd5e_4d31_b4ad_f1644e8e0679","uuid":"22f7db23-8a11-43a9-a861-5b5a7a119215"},"name":"SYS_GEN__Runbook_Package_e539041c_dd5e_4d31_b4ad_f1644e8e0679"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"f1d12679-53f8-4c39-a4c7-bee6425ac125","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPSlavePackage","uuid":"e539041c-dd5e-4d31-b4ad-f1644e8e0679"},"retries":"0","description":"","type":"DAG","uuid":"bde22124-333d-4bce-9ce7-bb8d12d6286f","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"9747f734-bd9f-4254-91fb-f256c1dffb8e"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_e539041c_dd5e_4d31_b4ad_f1644e8e0679","uuid":"6cca7e01-0a87-4a01-8c51-3f0a0d184ade"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"9747f734-bd9f-4254-91fb-f256c1dffb8e"},"edge_type":"inherent","type":"","uuid":"8b114bb2-65ab-4657-a313-35eaa27b77b0","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_e539041c_dd5e_4d31_b4ad_f1644e8e0679","uuid":"6cca7e01-0a87-4a01-8c51-3f0a0d184ade"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_e539041c_dd5e_4d31_b4ad_f1644e8e0679"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"9747f734-bd9f-4254-91fb-f256c1dffb8e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"6cdcc89d-fd42-4e8a-9e97-40576d559005"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400"},{"target_any_local_reference":{"kind":"app_package","name":"GCPSlavePackage","uuid":"e539041c-dd5e-4d31-b4ad-f1644e8e0679"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"6cca7e01-0a87-4a01-8c51-3f0a0d184ade","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_e539041c_dd5e_4d31_b4ad_f1644e8e0679"}],"description":"","message_list":[],"uuid":"b66d3442-b4f7-4baa-b047-bc38d64d87b2","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_e539041c_dd5e_4d31_b4ad_f1644e8e0679","uuid":"bde22124-333d-4bce-9ce7-bb8d12d6286f"},"name":"SYS_GEN__Runbook_Package_e539041c_dd5e_4d31_b4ad_f1644e8e0679"}},{"description":"System action for starting an application","message_list":[],"uuid":"8ae308f6-39c3-46fc-ad40-377d54508dd4","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPSlavePackage","uuid":"e539041c-dd5e-4d31-b4ad-f1644e8e0679"},"retries":"0","description":"","type":"DAG","uuid":"71b6c9e9-833f-4ec0-965a-4413ae2d37cf","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"7b79addf-56e6-4f28-8017-7162777cce06"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_e539041c_dd5e_4d31_b4ad_f1644e8e0679"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"7b79addf-56e6-4f28-8017-7162777cce06","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"a027cde0_runbook","uuid":"0afbc7f3-5541-415f-9616-c459f09806b2"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400"}],"description":"","message_list":[],"uuid":"46b5e0ba-0e0c-4930-8ead-eb01c498a6fc","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_e539041c_dd5e_4d31_b4ad_f1644e8e0679","uuid":"71b6c9e9-833f-4ec0-965a-4413ae2d37cf"},"name":"SYS_GEN__Runbook_Package_e539041c_dd5e_4d31_b4ad_f1644e8e0679"}},{"description":"System action for restarting an application","message_list":[],"uuid":"417662c2-0200-467c-8d15-5b7226c6541f","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPSlavePackage","uuid":"e539041c-dd5e-4d31-b4ad-f1644e8e0679"},"retries":"0","description":"","type":"DAG","uuid":"df8fe701-d5c1-40b1-bfc5-6a4749bc31cb","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"e451fe2d-ebf2-4593-ab1c-d19cfb176463"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_e539041c_dd5e_4d31_b4ad_f1644e8e0679"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"e451fe2d-ebf2-4593-ab1c-d19cfb176463","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"f2b2a076_runbook","uuid":"b7162b3b-d4ba-4fba-875d-fc9c8c2c5b79"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400"}],"description":"","message_list":[],"uuid":"ea68339c-5009-4cde-8186-9fc0023a2d22","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_e539041c_dd5e_4d31_b4ad_f1644e8e0679","uuid":"df8fe701-d5c1-40b1-bfc5-6a4749bc31cb"},"name":"SYS_GEN__Runbook_Package_e539041c_dd5e_4d31_b4ad_f1644e8e0679"}},{"description":"System action for stopping an application","message_list":[],"uuid":"42d6f424-3901-4d4a-9e84-5b65ce963df8","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPSlavePackage","uuid":"e539041c-dd5e-4d31-b4ad-f1644e8e0679"},"retries":"0","description":"","type":"DAG","uuid":"c38911a9-ad09-4663-aa96-eed31f746b52","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"41315f1d-2973-425e-8d5d-11e16a90b075"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_e539041c_dd5e_4d31_b4ad_f1644e8e0679"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"41315f1d-2973-425e-8d5d-11e16a90b075","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"4a2ad0be_runbook","uuid":"09b1c8a9-6223-4e38-acfb-ff4754413c85"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400"}],"description":"","message_list":[],"uuid":"86272e0e-253d-441a-9800-dc16dcabbc66","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_e539041c_dd5e_4d31_b4ad_f1644e8e0679","uuid":"c38911a9-ad09-4663-aa96-eed31f746b52"},"name":"SYS_GEN__Runbook_Package_e539041c_dd5e_4d31_b4ad_f1644e8e0679"}}],"message_list":[],"service_local_reference_list":[{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"}],"uuid":"e539041c-dd5e-4d31-b4ad-f1644e8e0679","state":"ACTIVE","version":"","editables":{},"type":"DEB","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPSlavePackage","uuid":"e539041c-dd5e-4d31-b4ad-f1644e8e0679"},"retries":"0","description":"","type":"DAG","uuid":"f38d37f5-fa0c-4ad2-8d3b-f43219554f11","child_tasks_local_reference_list":[{"kind":"app_task","name":"Install  System Packages","uuid":"fa5e57a4-a235-47ed-ba37-81236cb0c5f0"},{"kind":"app_task","name":"Create Disk Setup","uuid":"57a348d5-ed32-4404-ae31-84ae1db2cd1e"},{"kind":"app_task","name":"Install MySQL","uuid":"ffb616ba-2e6c-490e-8b61-a793340df894"},{"kind":"app_task","name":"Setup MySQL","uuid":"14a0b0f3-3e97-43e4-8102-b4cc47c82485"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Install  System Packages","uuid":"fa5e57a4-a235-47ed-ba37-81236cb0c5f0"},"edge_type":"user_defined","type":"","uuid":"316c290d-75f4-4153-8067-b2bc4af7cf77","to_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"57a348d5-ed32-4404-ae31-84ae1db2cd1e"}},{"from_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"57a348d5-ed32-4404-ae31-84ae1db2cd1e"},"edge_type":"user_defined","type":"","uuid":"6611e61b-6098-45f7-8bc3-d15cbcbc582c","to_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"ffb616ba-2e6c-490e-8b61-a793340df894"}},{"from_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"ffb616ba-2e6c-490e-8b61-a793340df894"},"edge_type":"user_defined","type":"","uuid":"dc0ab849-e99f-4410-a07a-829644f4ae53","to_task_reference":{"kind":"app_task","name":"Setup MySQL","uuid":"14a0b0f3-3e97-43e4-8102-b4cc47c82485"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"eefb69f6_dag"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"EXEC","uuid":"fa5e57a4-a235-47ed-ba37-81236cb0c5f0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n# -*- Install Mysql\nsudo yum update -y --quiet\nsudo yum install -y  wget xfs* bc unzip lvm2* lsscsi\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"System packages are installed\"","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install  System Packages"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"EXEC","uuid":"57a348d5-ed32-4404-ae31-84ae1db2cd1e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n##############\n#\n# LVM setup script for MySQL . 4 disks for DATA and 4 for logs\n# Data disks are 50GB | Log disks are 25GB \n#\n#############\n\n\n#PGSQL data\nsudo pvcreate \/dev\/sdb \/dev\/sdc \/dev\/sdd \/dev\/sde\nsudo vgcreate mysqlDataVG \/dev\/sdb \/dev\/sdd \/dev\/sdc \/dev\/sde\nsudo lvcreate -l 100%FREE -i4 -I1M -n mysqlDataLV mysqlDataVG          ## Use 1MB to avoid IO amplification \n#lvcreate -l 100%FREE -i4 -I4M -n pgDataLV pgDataVG\n\n\n#PGSQL logs\nsudo pvcreate \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo vgcreate mysqlLogVG \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo lvcreate -l 100%FREE -i2 -I1M -n mysqlLogLV mysqlLogVG            ## Use 1MB to avoid IO amplification\n#lvcreate -l 100%FREE -i2 -I4M -n pgLogLV pgLogVG\n\n\n#Disable LVM read ahead\nsudo lvchange -r 0 \/dev\/mysqlDataVG\/mysqlDataLV\nsudo lvchange -r 0 \/dev\/mysqlLogVG\/mysqlLogLV\n\n\n#Format LVMs with ext4 and use nodiscard to make sure format time is fast on Nutanix due to SCSI unmap\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlDataVG\/mysqlDataLV\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlLogVG\/mysqlLogLV\n\nsleep 10\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Create Disk Setup"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"EXEC","uuid":"ffb616ba-2e6c-490e-8b61-a793340df894","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nsudo hostnamectl set-hostname \"@@{name}@@\"\n\n# -*- Mysql installation \nsudo yum install -y --quiet \"http:\/\/repo.mysql.com\/mysql80-community-release-el7.rpm\"\nsudo yum update -y --quiet\nsudo yum install -y --quiet sshpass mysql-community-server.x86_64\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install MySQL"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"EXEC","uuid":"14a0b0f3-3e97-43e4-8102-b4cc47c82485","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\necho \"!includedir \/etc\/my.cnf.d\" | sudo tee -a \/etc\/my.cnf\n\necho \"[mysqld]\nbinlog-format=mixed\nlog-bin=mysql-bin\ndatadir=\/mysql\/data\nsql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES\ninnodb_data_home_dir = \/mysql\/data\ninnodb_log_group_home_dir = \/mysql\/log\ninnodb_file_per_table\ntmpdir=\/mysql\/tmpdir\ninnodb_undo_directory = \/mysql\/undo\ndefault-storage-engine = innodb\ndefault_tmp_storage_engine = innodb\ninnodb_log_files_in_group = 4\ninnodb_log_file_size = 1G\ninnodb_log_buffer_size = 8M\ninnodb_buffer_pool_size = 6G\t\nlarge-pages\t\ninnodb_buffer_pool_instances = 64\t\ninnodb_flush_method=O_DIRECT\t\ninnodb_flush_neighbors=0\t \ninnodb_flush_log_at_trx_commit=1\ninnodb_buffer_pool_dump_at_shutdown=1\t\ninnodb_buffer_pool_load_at_startup=1\t\nbulk_insert_buffer_size = 256\t\ninnodb_thread_concurrency = 16\t\n \t \n# Undo tablespace\t \ninnodb_undo_tablespaces = 5\t\n \t \n# Networking\t \nwait_timeout=57600\t \nmax_allowed_packet=1G\t\nsocket=\/var\/lib\/mysql\/mysql.sock\t \nskip-name-resolve\nport=3306\t\nmax_connections=1000\t\n\n\n[mysqld_safe]\nlog-error=\/mysql\/log\/mysqld.log\npid-file=\/var\/run\/mysqld\/mysqld.pid\" | sudo tee \/etc\/my.cnf.d\/nutanix.cnf\n\necho \"#master=100\" | sudo tee -a  \/etc\/my.cnf.d\/nutanix.cnf\n\nserver_id=`sudo cat \/etc\/my.cnf | grep  \"server-id=\" | cut -d= -f2`\nis_master=`sudo cat \/etc\/my.cnf | grep -q -w \"#master=$server_id\"; echo $?`\n\nif [ ${is_master} -ne 0 ]\nthen\n   sudo sed -i '\/\\[mysqld\\]\/a read_only=1' \/etc\/my.cnf.d\/nutanix.cnf\nfi\n\n# -*- Sysctl configuration\nmysql_grp_id=`id -g mysql`\nsudo sysctl -w vm.swappiness=0\nsudo sysctl -w vm.nr_hugepages=1024\nsudo sysctl -w vm.overcommit_memory=1\nsudo sysctl -w vm.dirty_background_ratio=5 \nsudo sysctl -w vm.dirty_ratio=15\nsudo sysctl -w vm.dirty_expire_centisecs=500\nsudo sysctl -w vm.dirty_writeback_centisecs=100\nsudo sysctl -w vm.hugetlb_shm_group=$mysql_grp_id\n\necho \"vm.swappiness=0\nvm.nr_hugepages=1024\nvm.overcommit_memory=1\nvm.dirty_background_ratio=5 \nvm.dirty_ratio=15\nvm.dirty_expire_centisecs=500\nvm.dirty_writeback_centisecs=100\nvm.hugetlb_shm_group=$mysql_grp_id\" | sudo tee  -a \/etc\/sysctl.conf\n\necho \"ACTION=='add|change', SUBSYSTEM=='block', RUN+='\/bin\/sh -c \\\"\/bin\/echo 1024 > \/sys%p\/queue\/max_sectors_kb\\\"'\" | sudo tee \/etc\/udev\/rules.d\/71-block-max-sectors.rules\n#echo 1024 | sudo tee \/sys\/block\/sd?\/queue\/max_sectors_kb\n\necho \"\/dev\/mysqlDataVG\/mysqlDataLV \/mysql\/data ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\necho \"\/dev\/mysqlLogVG\/mysqlLogLV \/mysql\/log ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\nsudo mkdir -p \/mysql\/log \/mysql\/data \/mysql\/tmpdir \/mysql\/undo\nsudo mount -a\nsudo chown -R mysql:mysql \/mysql\n\nsudo systemctl enable mysqld\n\nsudo rm -rf \/mysql\/data\/*\nsudo systemctl start mysqld\n\n#Fix to obtain temp password and set it to blank\npassword=$(grep -oP 'temporary password(.*): \\K(\\S+)' \/var\/log\/mysqld.log)\nsudo mysqladmin --user=root --password=\"$password\" password aaBB**cc1122\nsudo mysql --user=root --password=aaBB**cc1122 -e \"UNINSTALL COMPONENT 'file:\/\/component_validate_password'\"\nsudo mysqladmin --user=root --password=\"aaBB**cc1122\" password \"\"\n\n\n#Mysql secure installation\nsudo mysql -u root<<-EOF\nALTER USER 'root'@'localhost' IDENTIFIED WITH caching_sha2_password BY '@@{MYSQL_PASSWORD}@@';\nDELETE FROM mysql.user WHERE User='root' AND Host NOT IN ('localhost', '127.0.0.1', '::1');\nDELETE FROM mysql.user WHERE User='';\nDELETE FROM mysql.db WHERE Db='test' OR Db='test\\_%';\nFLUSH PRIVILEGES;\nEOF\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Setup MySQL"}],"description":"","message_list":[],"uuid":"287af9d9-3769-4190-9bf2-991157a8cf4d","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"eefb69f6_dag","uuid":"f38d37f5-fa0c-4ad2-8d3b-f43219554f11"},"name":"7f65f668_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPSlavePackage","uuid":"e539041c-dd5e-4d31-b4ad-f1644e8e0679"},"retries":"0","description":"","type":"DAG","uuid":"3d98388f-aebf-4c51-b815-58247e5cea1e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"9607e515_dag"}],"description":"","message_list":[],"uuid":"0a86a518-d920-49cf-81a4-a3e5edaf3e07","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"9607e515_dag","uuid":"3d98388f-aebf-4c51-b815-58247e5cea1e"},"name":"22dbbe31_runbook"}},"variable_list":[],"name":"GCPSlavePackage"},{"description":"","action_list":[{"description":"System action for installing an application","message_list":[],"uuid":"1010be2b-8dd6-4320-9032-329d36c409c5","name":"action_install","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureMasterPackage","uuid":"4c188fff-e85e-47fb-8da0-68cd76db155b"},"retries":"0","description":"","type":"DAG","uuid":"55a8040c-cb98-48da-ad06-db04431520c5","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Install_Crb_4c188fff_e85e_47fb_8da0_68cd76db155b","uuid":"1566da67-8957-4ec6-bc81-e3c466cae2c9"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Package_4c188fff_e85e_47fb_8da0_68cd76db155b"},{"target_any_local_reference":{"kind":"app_package","name":"AzureMasterPackage","uuid":"4c188fff-e85e-47fb-8da0-68cd76db155b"},"retries":"0","description":"","type":"CUSTOM_PACKAGE_INSTALL","uuid":"1566da67-8957-4ec6-bc81-e3c466cae2c9","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureMasterPackage","uuid":"4c188fff-e85e-47fb-8da0-68cd76db155b"},"retries":"0","description":"","type":"DAG","uuid":"4095d514-352c-4f42-b2d1-2573de775d3d","child_tasks_local_reference_list":[{"kind":"app_task","name":"PackageInstallTask","uuid":"3280863c-4d82-47ce-954a-737f71eb86f0"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"ff59932a_dag"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"EXEC","uuid":"3280863c-4d82-47ce-954a-737f71eb86f0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\n# -*- Install Mysql\nsudo yum install -y --quiet \"http:\/\/repo.mysql.com\/mysql80-community-release-el7.rpm\"\nsudo yum update -y --quiet\nsudo yum install -y --quiet sshpass mysql-community-server\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"!includedir \/etc\/my.cnf.d\" | sudo tee -a \/etc\/my.cnf\n\necho \"[mysqld]\nbinlog-format=mixed\nlog-bin=mysql-bin\ndatadir=\/mysql\/data\nsql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES\ninnodb_data_home_dir = \/mysql\/data\ninnodb_log_group_home_dir = \/mysql\/log\ninnodb_file_per_table\ntmpdir=\/mysql\/tmpdir\ninnodb_undo_directory = \/mysql\/undo\ndefault-storage-engine = innodb\ndefault_tmp_storage_engine = innodb\ninnodb_log_files_in_group = 4\ninnodb_log_file_size = 1G\ninnodb_log_buffer_size = 8M\ninnodb_buffer_pool_size = 6G\t\nlarge-pages\t\ninnodb_buffer_pool_instances = 64\t\ninnodb_flush_method=O_DIRECT\t\ninnodb_flush_neighbors=0\t \ninnodb_flush_log_at_trx_commit=1\ninnodb_buffer_pool_dump_at_shutdown=1\t\ninnodb_buffer_pool_load_at_startup=1\t\nbulk_insert_buffer_size = 256\t\ninnodb_thread_concurrency = 16\t\n \t \n# Undo tablespace\t \ninnodb_undo_tablespaces = 5\t\n \t \n# Networking\t \nwait_timeout=57600\t \nmax_allowed_packet=1G\t\nsocket=\/var\/lib\/mysql\/mysql.sock\t \nskip-name-resolve\nport=3306\t\nmax_connections=1000\t\n \t \n\n[mysqld_safe]\nlog-error=\/mysql\/log\/mysqld.log\npid-file=\/var\/run\/mysqld\/mysqld.pid\" | sudo tee \/etc\/my.cnf.d\/nutanix.cnf\n\nsudo sed -i \"\/\\[mysqld\\]\/a server-id=100\" \/etc\/my.cnf.d\/nutanix.cnf\necho \"#master=100\" | sudo tee -a  \/etc\/my.cnf.d\/nutanix.cnf\n\nserver_id=`sudo cat \/etc\/my.cnf.d\/nutanix.cnf | grep  \"server-id=\" | cut -d= -f2`\nis_master=`sudo cat \/etc\/my.cnf.d\/nutanix.cnf | grep -q -w \"#master=$server_id\"; echo $?`\n\nif [ ${is_master} -ne 0 ]\nthen\n   sudo sed -i '\/\\[mysqld\\]\/a read_only=1' \/etc\/my.cnf.d\/nutanix.cnf\nfi\n\nsudo mkdir -p \/mysql\/log \/mysql\/data \/mysql\/tmpdir \/mysql\/undo\nsudo mount -a\nsudo chown -R mysql:mysql \/mysql\n\nsudo rm -f \/mysql\/data\/*\nsudo systemctl start mysqld\n\n#Fix to obtain temp password and set it to blank\npassword=$(grep -oP 'temporary password(.*): \\K(\\S+)' \/var\/log\/mysqld.log)\nsudo mysqladmin --user=root --password=\"$password\" password aaBB**cc1122\nsudo mysql --user=root --password=aaBB**cc1122 -e \"UNINSTALL COMPONENT 'file:\/\/component_validate_password'\"\nsudo mysqladmin --user=root --password=\"aaBB**cc1122\" password \"\"\n\n#Mysql secure installation\nsudo mysql -u root<<-EOF\nALTER USER 'root'@'localhost' IDENTIFIED WITH caching_sha2_password BY '@@{MYSQL_PASSWORD}@@';\nDELETE FROM mysql.user WHERE User='root' AND Host NOT IN ('localhost', '127.0.0.1', '::1');\nDELETE FROM mysql.user WHERE User='';\nDELETE FROM mysql.db WHERE Db='test' OR Db='test\\_%';\nFLUSH PRIVILEGES;\nEOF\n"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"PackageInstallTask"}],"description":"","message_list":[],"uuid":"f7c5d1c5-943b-42e5-9a86-72cc854f9963","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"ff59932a_dag","uuid":"4095d514-352c-4f42-b2d1-2573de775d3d"},"name":"10654624_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureMasterPackage","uuid":"4c188fff-e85e-47fb-8da0-68cd76db155b"},"retries":"0","description":"","type":"DAG","uuid":"fa09263a-a642-48a3-af6d-d8c6dd6fbc22","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"5495194c_dag"}],"description":"","message_list":[],"uuid":"ce919c12-94c9-492a-8b40-94c47fcc7cc2","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"5495194c_dag","uuid":"fa09263a-a642-48a3-af6d-d8c6dd6fbc22"},"name":"a58212c8_runbook"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Install_Crb_4c188fff_e85e_47fb_8da0_68cd76db155b"}],"description":"","message_list":[],"uuid":"c9c28108-1318-48a7-9ba3-5d017b0b2263","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Package_4c188fff_e85e_47fb_8da0_68cd76db155b","uuid":"55a8040c-cb98-48da-ad06-db04431520c5"},"name":"SYS_GEN__Runbook_Package_4c188fff_e85e_47fb_8da0_68cd76db155b"}},{"description":"System action for creating an application","message_list":[],"uuid":"9bd2dbca-c22c-4e64-955f-882eb3be17ad","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureMasterPackage","uuid":"4c188fff-e85e-47fb-8da0-68cd76db155b"},"retries":"0","description":"","type":"DAG","uuid":"d017e83c-e2cf-44ac-b74f-f490cedba7eb","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_4c188fff_e85e_47fb_8da0_68cd76db155b","uuid":"a7d2ca36-3ed4-40d9-b357-6a945ad0c625"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"3eb337dc-62f2-43e4-918b-dcda22f65b17"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"76c64747-ce0e-4bc8-a262-cbef0dcd4f4e"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"3eb337dc-62f2-43e4-918b-dcda22f65b17"},"edge_type":"inherent","type":"","uuid":"1c6abca5-f393-49ae-9674-6e3043e00a3b","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"76c64747-ce0e-4bc8-a262-cbef0dcd4f4e"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_4c188fff_e85e_47fb_8da0_68cd76db155b","uuid":"a7d2ca36-3ed4-40d9-b357-6a945ad0c625"},"edge_type":"inherent","type":"","uuid":"d9d8baa2-f47b-4be3-abaa-5e35cfb2c5d9","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"3eb337dc-62f2-43e4-918b-dcda22f65b17"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_4c188fff_e85e_47fb_8da0_68cd76db155b"},{"target_any_local_reference":{"kind":"app_package","name":"AzureMasterPackage","uuid":"4c188fff-e85e-47fb-8da0-68cd76db155b"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"a7d2ca36-3ed4-40d9-b357-6a945ad0c625","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_4c188fff_e85e_47fb_8da0_68cd76db155b","uuid":"c9c28108-1318-48a7-9ba3-5d017b0b2263"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_4c188fff_e85e_47fb_8da0_68cd76db155b"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"3eb337dc-62f2-43e4-918b-dcda22f65b17","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0a970522_runbook","uuid":"f2803b23-af0b-4afd-8a2f-ef666adf85c8"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"76c64747-ce0e-4bc8-a262-cbef0dcd4f4e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"5ddb28d1_runbook","uuid":"f88c4d73-c0ab-488b-a016-3e1453b91891"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd"}],"description":"","message_list":[],"uuid":"6346bccc-5d33-4564-b176-6aba53042b3e","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_4c188fff_e85e_47fb_8da0_68cd76db155b","uuid":"d017e83c-e2cf-44ac-b74f-f490cedba7eb"},"name":"SYS_GEN__Runbook_Package_4c188fff_e85e_47fb_8da0_68cd76db155b"}},{"description":"System action for uninstalling an application","message_list":[],"uuid":"4cd2c3b6-8dbf-4942-8758-405296484795","name":"action_uninstall","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureMasterPackage","uuid":"4c188fff-e85e-47fb-8da0-68cd76db155b"},"retries":"0","description":"","type":"DAG","uuid":"bf21f246-a93f-4103-96dd-3573f9e0c409","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Uninstall_Crb_4c188fff_e85e_47fb_8da0_68cd76db155b","uuid":"76a1beed-f483-426d-9a6f-6116c55ce329"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Package_4c188fff_e85e_47fb_8da0_68cd76db155b"},{"target_any_local_reference":{"kind":"app_package","name":"AzureMasterPackage","uuid":"4c188fff-e85e-47fb-8da0-68cd76db155b"},"retries":"0","description":"","type":"CUSTOM_PACKAGE_UNINSTALL","uuid":"76a1beed-f483-426d-9a6f-6116c55ce329","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureMasterPackage","uuid":"4c188fff-e85e-47fb-8da0-68cd76db155b"},"retries":"0","description":"","type":"DAG","uuid":"4095d514-352c-4f42-b2d1-2573de775d3d","child_tasks_local_reference_list":[{"kind":"app_task","name":"PackageInstallTask","uuid":"3280863c-4d82-47ce-954a-737f71eb86f0"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"ff59932a_dag"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"EXEC","uuid":"3280863c-4d82-47ce-954a-737f71eb86f0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\n# -*- Install Mysql\nsudo yum install -y --quiet \"http:\/\/repo.mysql.com\/mysql80-community-release-el7.rpm\"\nsudo yum update -y --quiet\nsudo yum install -y --quiet sshpass mysql-community-server\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"!includedir \/etc\/my.cnf.d\" | sudo tee -a \/etc\/my.cnf\n\necho \"[mysqld]\nbinlog-format=mixed\nlog-bin=mysql-bin\ndatadir=\/mysql\/data\nsql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES\ninnodb_data_home_dir = \/mysql\/data\ninnodb_log_group_home_dir = \/mysql\/log\ninnodb_file_per_table\ntmpdir=\/mysql\/tmpdir\ninnodb_undo_directory = \/mysql\/undo\ndefault-storage-engine = innodb\ndefault_tmp_storage_engine = innodb\ninnodb_log_files_in_group = 4\ninnodb_log_file_size = 1G\ninnodb_log_buffer_size = 8M\ninnodb_buffer_pool_size = 6G\t\nlarge-pages\t\ninnodb_buffer_pool_instances = 64\t\ninnodb_flush_method=O_DIRECT\t\ninnodb_flush_neighbors=0\t \ninnodb_flush_log_at_trx_commit=1\ninnodb_buffer_pool_dump_at_shutdown=1\t\ninnodb_buffer_pool_load_at_startup=1\t\nbulk_insert_buffer_size = 256\t\ninnodb_thread_concurrency = 16\t\n \t \n# Undo tablespace\t \ninnodb_undo_tablespaces = 5\t\n \t \n# Networking\t \nwait_timeout=57600\t \nmax_allowed_packet=1G\t\nsocket=\/var\/lib\/mysql\/mysql.sock\t \nskip-name-resolve\nport=3306\t\nmax_connections=1000\t\n \t \n\n[mysqld_safe]\nlog-error=\/mysql\/log\/mysqld.log\npid-file=\/var\/run\/mysqld\/mysqld.pid\" | sudo tee \/etc\/my.cnf.d\/nutanix.cnf\n\nsudo sed -i \"\/\\[mysqld\\]\/a server-id=100\" \/etc\/my.cnf.d\/nutanix.cnf\necho \"#master=100\" | sudo tee -a  \/etc\/my.cnf.d\/nutanix.cnf\n\nserver_id=`sudo cat \/etc\/my.cnf.d\/nutanix.cnf | grep  \"server-id=\" | cut -d= -f2`\nis_master=`sudo cat \/etc\/my.cnf.d\/nutanix.cnf | grep -q -w \"#master=$server_id\"; echo $?`\n\nif [ ${is_master} -ne 0 ]\nthen\n   sudo sed -i '\/\\[mysqld\\]\/a read_only=1' \/etc\/my.cnf.d\/nutanix.cnf\nfi\n\nsudo mkdir -p \/mysql\/log \/mysql\/data \/mysql\/tmpdir \/mysql\/undo\nsudo mount -a\nsudo chown -R mysql:mysql \/mysql\n\nsudo rm -f \/mysql\/data\/*\nsudo systemctl start mysqld\n\n#Fix to obtain temp password and set it to blank\npassword=$(grep -oP 'temporary password(.*): \\K(\\S+)' \/var\/log\/mysqld.log)\nsudo mysqladmin --user=root --password=\"$password\" password aaBB**cc1122\nsudo mysql --user=root --password=aaBB**cc1122 -e \"UNINSTALL COMPONENT 'file:\/\/component_validate_password'\"\nsudo mysqladmin --user=root --password=\"aaBB**cc1122\" password \"\"\n\n#Mysql secure installation\nsudo mysql -u root<<-EOF\nALTER USER 'root'@'localhost' IDENTIFIED WITH caching_sha2_password BY '@@{MYSQL_PASSWORD}@@';\nDELETE FROM mysql.user WHERE User='root' AND Host NOT IN ('localhost', '127.0.0.1', '::1');\nDELETE FROM mysql.user WHERE User='';\nDELETE FROM mysql.db WHERE Db='test' OR Db='test\\_%';\nFLUSH PRIVILEGES;\nEOF\n"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"PackageInstallTask"}],"description":"","message_list":[],"uuid":"f7c5d1c5-943b-42e5-9a86-72cc854f9963","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"ff59932a_dag","uuid":"4095d514-352c-4f42-b2d1-2573de775d3d"},"name":"10654624_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureMasterPackage","uuid":"4c188fff-e85e-47fb-8da0-68cd76db155b"},"retries":"0","description":"","type":"DAG","uuid":"fa09263a-a642-48a3-af6d-d8c6dd6fbc22","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"5495194c_dag"}],"description":"","message_list":[],"uuid":"ce919c12-94c9-492a-8b40-94c47fcc7cc2","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"5495194c_dag","uuid":"fa09263a-a642-48a3-af6d-d8c6dd6fbc22"},"name":"a58212c8_runbook"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Uninstall_Crb_4c188fff_e85e_47fb_8da0_68cd76db155b"}],"description":"","message_list":[],"uuid":"0fff39b6-86b9-44a2-8421-c50538a784e5","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Package_4c188fff_e85e_47fb_8da0_68cd76db155b","uuid":"bf21f246-a93f-4103-96dd-3573f9e0c409"},"name":"SYS_GEN__Runbook_Package_4c188fff_e85e_47fb_8da0_68cd76db155b"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"ec7d6c24-f526-4910-acf2-c5e83081ac4d","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureMasterPackage","uuid":"4c188fff-e85e-47fb-8da0-68cd76db155b"},"retries":"0","description":"","type":"DAG","uuid":"0a0b7596-3c12-46f9-9c21-d3a384881829","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"97079759-b41a-41df-9593-c4953ce209b5"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"502ab08b-48a9-49ae-82bf-154451af75eb"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_4c188fff_e85e_47fb_8da0_68cd76db155b","uuid":"c6c947bb-c01b-4214-aae8-7dbce16cf61a"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"97079759-b41a-41df-9593-c4953ce209b5"},"edge_type":"inherent","type":"","uuid":"503d52b2-271a-40ea-8a52-8fa179bf0512","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"502ab08b-48a9-49ae-82bf-154451af75eb"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"502ab08b-48a9-49ae-82bf-154451af75eb"},"edge_type":"inherent","type":"","uuid":"3a579c78-39ff-42b3-a991-30b3da0f2bc0","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_4c188fff_e85e_47fb_8da0_68cd76db155b","uuid":"c6c947bb-c01b-4214-aae8-7dbce16cf61a"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_4c188fff_e85e_47fb_8da0_68cd76db155b"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"97079759-b41a-41df-9593-c4953ce209b5","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0aefbca3_runbook","uuid":"a75d0021-cf2d-4da4-85dc-56ee0ed9e9eb"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"502ab08b-48a9-49ae-82bf-154451af75eb","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"5fd47ec3_runbook","uuid":"7e58dd6b-1da9-495c-97e7-84bb6e288586"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd"},{"target_any_local_reference":{"kind":"app_package","name":"AzureMasterPackage","uuid":"4c188fff-e85e-47fb-8da0-68cd76db155b"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"c6c947bb-c01b-4214-aae8-7dbce16cf61a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_4c188fff_e85e_47fb_8da0_68cd76db155b","uuid":"0fff39b6-86b9-44a2-8421-c50538a784e5"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_4c188fff_e85e_47fb_8da0_68cd76db155b"}],"description":"","message_list":[],"uuid":"58c52adf-456b-4cf4-976a-6c59b438ba7e","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_4c188fff_e85e_47fb_8da0_68cd76db155b","uuid":"0a0b7596-3c12-46f9-9c21-d3a384881829"},"name":"SYS_GEN__Runbook_Package_4c188fff_e85e_47fb_8da0_68cd76db155b"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"fd81a634-6667-4f19-8c44-457aa166456c","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureMasterPackage","uuid":"4c188fff-e85e-47fb-8da0-68cd76db155b"},"retries":"0","description":"","type":"DAG","uuid":"461b64f3-602d-4b83-9e38-ac8bbd078db5","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"5378c62f-c4d8-429b-b0e7-03d98320f1a3"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_4c188fff_e85e_47fb_8da0_68cd76db155b","uuid":"460bd23b-3285-4247-8166-58ecc3bbebe3"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"5378c62f-c4d8-429b-b0e7-03d98320f1a3"},"edge_type":"inherent","type":"","uuid":"4ae1d2b3-428a-44c6-ac19-c31d70141262","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_4c188fff_e85e_47fb_8da0_68cd76db155b","uuid":"460bd23b-3285-4247-8166-58ecc3bbebe3"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_4c188fff_e85e_47fb_8da0_68cd76db155b"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"5378c62f-c4d8-429b-b0e7-03d98320f1a3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"9b57420b-3c50-4fbe-8880-9c7651fd25ad"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd"},{"target_any_local_reference":{"kind":"app_package","name":"AzureMasterPackage","uuid":"4c188fff-e85e-47fb-8da0-68cd76db155b"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"460bd23b-3285-4247-8166-58ecc3bbebe3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_4c188fff_e85e_47fb_8da0_68cd76db155b"}],"description":"","message_list":[],"uuid":"5df4260c-7f25-4e7d-9bda-8d4817eb20dd","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_4c188fff_e85e_47fb_8da0_68cd76db155b","uuid":"461b64f3-602d-4b83-9e38-ac8bbd078db5"},"name":"SYS_GEN__Runbook_Package_4c188fff_e85e_47fb_8da0_68cd76db155b"}},{"description":"System action for starting an application","message_list":[],"uuid":"e68e6428-25f8-4377-82a3-8e754c729106","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureMasterPackage","uuid":"4c188fff-e85e-47fb-8da0-68cd76db155b"},"retries":"0","description":"","type":"DAG","uuid":"f7497f7b-507e-4fd0-9f5d-9172b5c8e123","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"499cade2-ec17-4e61-8c6e-073f495368fc"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_4c188fff_e85e_47fb_8da0_68cd76db155b"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"499cade2-ec17-4e61-8c6e-073f495368fc","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"5ddb28d1_runbook","uuid":"f88c4d73-c0ab-488b-a016-3e1453b91891"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd"}],"description":"","message_list":[],"uuid":"a8ea04f4-0ab7-40ef-a5b5-3c518153936e","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_4c188fff_e85e_47fb_8da0_68cd76db155b","uuid":"f7497f7b-507e-4fd0-9f5d-9172b5c8e123"},"name":"SYS_GEN__Runbook_Package_4c188fff_e85e_47fb_8da0_68cd76db155b"}},{"description":"System action for restarting an application","message_list":[],"uuid":"0582135d-2b6e-4000-b4fb-9e1f338644b8","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureMasterPackage","uuid":"4c188fff-e85e-47fb-8da0-68cd76db155b"},"retries":"0","description":"","type":"DAG","uuid":"843d1871-05e2-452f-840f-c7be96269552","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"deedb2c3-e006-4ea0-bc41-b651534dcc11"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_4c188fff_e85e_47fb_8da0_68cd76db155b"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"deedb2c3-e006-4ea0-bc41-b651534dcc11","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"7e709238_runbook","uuid":"6beb8e29-06b2-4218-a1fd-18c28d8c6218"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd"}],"description":"","message_list":[],"uuid":"9c29cdb4-108c-461f-b5b8-44deb30a4dc5","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_4c188fff_e85e_47fb_8da0_68cd76db155b","uuid":"843d1871-05e2-452f-840f-c7be96269552"},"name":"SYS_GEN__Runbook_Package_4c188fff_e85e_47fb_8da0_68cd76db155b"}},{"description":"System action for stopping an application","message_list":[],"uuid":"97f4b30b-4fe6-4198-8f72-508eb6abe0f0","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureMasterPackage","uuid":"4c188fff-e85e-47fb-8da0-68cd76db155b"},"retries":"0","description":"","type":"DAG","uuid":"0e8fb25a-00d4-441b-89eb-f150d6ba64ca","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"dd0d9160-b872-4d27-a295-48faa918fbde"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_4c188fff_e85e_47fb_8da0_68cd76db155b"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"dd0d9160-b872-4d27-a295-48faa918fbde","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0aefbca3_runbook","uuid":"a75d0021-cf2d-4da4-85dc-56ee0ed9e9eb"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd"}],"description":"","message_list":[],"uuid":"5bfcad75-1955-429c-b7de-767c35842095","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_4c188fff_e85e_47fb_8da0_68cd76db155b","uuid":"0e8fb25a-00d4-441b-89eb-f150d6ba64ca"},"name":"SYS_GEN__Runbook_Package_4c188fff_e85e_47fb_8da0_68cd76db155b"}}],"message_list":[],"service_local_reference_list":[{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"}],"uuid":"4c188fff-e85e-47fb-8da0-68cd76db155b","state":"ACTIVE","version":"","editables":{},"type":"DEB","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureMasterPackage","uuid":"4c188fff-e85e-47fb-8da0-68cd76db155b"},"retries":"0","description":"","type":"DAG","uuid":"4095d514-352c-4f42-b2d1-2573de775d3d","child_tasks_local_reference_list":[{"kind":"app_task","name":"PackageInstallTask","uuid":"3280863c-4d82-47ce-954a-737f71eb86f0"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"ff59932a_dag"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"EXEC","uuid":"3280863c-4d82-47ce-954a-737f71eb86f0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\n# -*- Install Mysql\nsudo yum install -y --quiet \"http:\/\/repo.mysql.com\/mysql80-community-release-el7.rpm\"\nsudo yum update -y --quiet\nsudo yum install -y --quiet sshpass mysql-community-server\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"!includedir \/etc\/my.cnf.d\" | sudo tee -a \/etc\/my.cnf\n\necho \"[mysqld]\nbinlog-format=mixed\nlog-bin=mysql-bin\ndatadir=\/mysql\/data\nsql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES\ninnodb_data_home_dir = \/mysql\/data\ninnodb_log_group_home_dir = \/mysql\/log\ninnodb_file_per_table\ntmpdir=\/mysql\/tmpdir\ninnodb_undo_directory = \/mysql\/undo\ndefault-storage-engine = innodb\ndefault_tmp_storage_engine = innodb\ninnodb_log_files_in_group = 4\ninnodb_log_file_size = 1G\ninnodb_log_buffer_size = 8M\ninnodb_buffer_pool_size = 6G\t\nlarge-pages\t\ninnodb_buffer_pool_instances = 64\t\ninnodb_flush_method=O_DIRECT\t\ninnodb_flush_neighbors=0\t \ninnodb_flush_log_at_trx_commit=1\ninnodb_buffer_pool_dump_at_shutdown=1\t\ninnodb_buffer_pool_load_at_startup=1\t\nbulk_insert_buffer_size = 256\t\ninnodb_thread_concurrency = 16\t\n \t \n# Undo tablespace\t \ninnodb_undo_tablespaces = 5\t\n \t \n# Networking\t \nwait_timeout=57600\t \nmax_allowed_packet=1G\t\nsocket=\/var\/lib\/mysql\/mysql.sock\t \nskip-name-resolve\nport=3306\t\nmax_connections=1000\t\n \t \n\n[mysqld_safe]\nlog-error=\/mysql\/log\/mysqld.log\npid-file=\/var\/run\/mysqld\/mysqld.pid\" | sudo tee \/etc\/my.cnf.d\/nutanix.cnf\n\nsudo sed -i \"\/\\[mysqld\\]\/a server-id=100\" \/etc\/my.cnf.d\/nutanix.cnf\necho \"#master=100\" | sudo tee -a  \/etc\/my.cnf.d\/nutanix.cnf\n\nserver_id=`sudo cat \/etc\/my.cnf.d\/nutanix.cnf | grep  \"server-id=\" | cut -d= -f2`\nis_master=`sudo cat \/etc\/my.cnf.d\/nutanix.cnf | grep -q -w \"#master=$server_id\"; echo $?`\n\nif [ ${is_master} -ne 0 ]\nthen\n   sudo sed -i '\/\\[mysqld\\]\/a read_only=1' \/etc\/my.cnf.d\/nutanix.cnf\nfi\n\nsudo mkdir -p \/mysql\/log \/mysql\/data \/mysql\/tmpdir \/mysql\/undo\nsudo mount -a\nsudo chown -R mysql:mysql \/mysql\n\nsudo rm -f \/mysql\/data\/*\nsudo systemctl start mysqld\n\n#Fix to obtain temp password and set it to blank\npassword=$(grep -oP 'temporary password(.*): \\K(\\S+)' \/var\/log\/mysqld.log)\nsudo mysqladmin --user=root --password=\"$password\" password aaBB**cc1122\nsudo mysql --user=root --password=aaBB**cc1122 -e \"UNINSTALL COMPONENT 'file:\/\/component_validate_password'\"\nsudo mysqladmin --user=root --password=\"aaBB**cc1122\" password \"\"\n\n#Mysql secure installation\nsudo mysql -u root<<-EOF\nALTER USER 'root'@'localhost' IDENTIFIED WITH caching_sha2_password BY '@@{MYSQL_PASSWORD}@@';\nDELETE FROM mysql.user WHERE User='root' AND Host NOT IN ('localhost', '127.0.0.1', '::1');\nDELETE FROM mysql.user WHERE User='';\nDELETE FROM mysql.db WHERE Db='test' OR Db='test\\_%';\nFLUSH PRIVILEGES;\nEOF\n"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"PackageInstallTask"}],"description":"","message_list":[],"uuid":"f7c5d1c5-943b-42e5-9a86-72cc854f9963","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"ff59932a_dag","uuid":"4095d514-352c-4f42-b2d1-2573de775d3d"},"name":"10654624_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureMasterPackage","uuid":"4c188fff-e85e-47fb-8da0-68cd76db155b"},"retries":"0","description":"","type":"DAG","uuid":"fa09263a-a642-48a3-af6d-d8c6dd6fbc22","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"5495194c_dag"}],"description":"","message_list":[],"uuid":"ce919c12-94c9-492a-8b40-94c47fcc7cc2","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"5495194c_dag","uuid":"fa09263a-a642-48a3-af6d-d8c6dd6fbc22"},"name":"a58212c8_runbook"}},"variable_list":[],"name":"AzureMasterPackage"},{"description":"","action_list":[{"description":"System action for installing an application","message_list":[],"uuid":"20dad1eb-093c-4021-914a-fa40fc7e31ce","name":"action_install","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureSlavePackage","uuid":"f50f37d2-44a7-4159-aa44-051ad043416b"},"retries":"0","description":"","type":"DAG","uuid":"4ff26e40-03b1-421b-9f54-01af7ac6b985","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Install_Crb_f50f37d2_44a7_4159_aa44_051ad043416b","uuid":"1ef9629f-8541-4581-9cd0-cae460d5299f"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Package_f50f37d2_44a7_4159_aa44_051ad043416b"},{"target_any_local_reference":{"kind":"app_package","name":"AzureSlavePackage","uuid":"f50f37d2-44a7-4159-aa44-051ad043416b"},"retries":"0","description":"","type":"CUSTOM_PACKAGE_INSTALL","uuid":"1ef9629f-8541-4581-9cd0-cae460d5299f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureSlavePackage","uuid":"f50f37d2-44a7-4159-aa44-051ad043416b"},"retries":"0","description":"","type":"DAG","uuid":"95f7a926-5108-4cab-8d20-52fd9166e671","child_tasks_local_reference_list":[{"kind":"app_task","name":"PackageInstallTask","uuid":"30d0b4b3-187a-4906-8485-10c374277441"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"c426da26_dag"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"EXEC","uuid":"30d0b4b3-187a-4906-8485-10c374277441","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\n# -*- Install Mysql\nsudo yum install -y --quiet \"http:\/\/repo.mysql.com\/mysql80-community-release-el7.rpm\"\nsudo yum update -y --quiet\nsudo yum install -y --quiet sshpass mysql-community-server\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"!includedir \/etc\/my.cnf.d\" | sudo tee -a \/etc\/my.cnf\n\necho \"[mysqld]\nbinlog-format=mixed\nlog-bin=mysql-bin\ndatadir=\/mysql\/data\nsql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES\ninnodb_data_home_dir = \/mysql\/data\ninnodb_log_group_home_dir = \/mysql\/log\ninnodb_file_per_table\ntmpdir=\/mysql\/tmpdir\ninnodb_undo_directory = \/mysql\/undo\ndefault-storage-engine = innodb\ndefault_tmp_storage_engine = innodb\ninnodb_log_files_in_group = 4\ninnodb_log_file_size = 1G\ninnodb_log_buffer_size = 8M\ninnodb_buffer_pool_size = 6G\t\nlarge-pages\t\ninnodb_buffer_pool_instances = 64\t\ninnodb_flush_method=O_DIRECT\t\ninnodb_flush_neighbors=0\t \ninnodb_flush_log_at_trx_commit=1\ninnodb_buffer_pool_dump_at_shutdown=1\t\ninnodb_buffer_pool_load_at_startup=1\t\nbulk_insert_buffer_size = 256\t\ninnodb_thread_concurrency = 16\t\n \t \n# Undo tablespace\t \ninnodb_undo_tablespaces = 5\t\n \t \n# Networking\t \nwait_timeout=57600\t \nmax_allowed_packet=1G\t\nsocket=\/var\/lib\/mysql\/mysql.sock\t \nskip-name-resolve\nport=3306\t\nmax_connections=1000\t\n \t \n\n[mysqld_safe]\nlog-error=\/mysql\/log\/mysqld.log\npid-file=\/var\/run\/mysqld\/mysqld.pid\" | sudo tee \/etc\/my.cnf.d\/nutanix.cnf\n\necho \"#master=100\" | sudo tee -a  \/etc\/my.cnf.d\/nutanix.cnf\n\nserver_id=`sudo cat \/etc\/my.cnf.d\/nutanix.cnf | grep  \"server-id=\" | cut -d= -f2`\nis_master=`sudo cat \/etc\/my.cnf.d\/nutanix.cnf | grep -q -w \"#master=$server_id\"; echo $?`\n\nif [ ${is_master} -ne 0 ]\nthen\n   sudo sed -i '\/\\[mysqld\\]\/a read_only=1' \/etc\/my.cnf.d\/nutanix.cnf\nfi\n\nsudo mkdir -p \/mysql\/log \/mysql\/data \/mysql\/tmpdir \/mysql\/undo\nsudo mount -a\nsudo chown -R mysql:mysql \/mysql\n\nsudo rm -f \/mysql\/data\/*\nsudo systemctl start mysqld\n\n#Fix to obtain temp password and set it to blank\npassword=$(grep -oP 'temporary password(.*): \\K(\\S+)' \/var\/log\/mysqld.log)\nsudo mysqladmin --user=root --password=\"$password\" password aaBB**cc1122\nsudo mysql --user=root --password=aaBB**cc1122 -e \"UNINSTALL COMPONENT 'file:\/\/component_validate_password'\"\nsudo mysqladmin --user=root --password=\"aaBB**cc1122\" password \"\"\n\n#Mysql secure installation\nsudo mysql -u root<<-EOF\nALTER USER 'root'@'localhost' IDENTIFIED WITH caching_sha2_password BY '@@{MYSQL_PASSWORD}@@';\nDELETE FROM mysql.user WHERE User='root' AND Host NOT IN ('localhost', '127.0.0.1', '::1');\nDELETE FROM mysql.user WHERE User='';\nDELETE FROM mysql.db WHERE Db='test' OR Db='test\\_%';\nFLUSH PRIVILEGES;\nEOF\n"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"PackageInstallTask"}],"description":"","message_list":[],"uuid":"de787d9b-8307-4915-8f75-16f1554a890a","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"c426da26_dag","uuid":"95f7a926-5108-4cab-8d20-52fd9166e671"},"name":"604f3369_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureSlavePackage","uuid":"f50f37d2-44a7-4159-aa44-051ad043416b"},"retries":"0","description":"","type":"DAG","uuid":"1144a2d9-0dc6-40b2-895e-ac06c75d8607","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"d93cd003_dag"}],"description":"","message_list":[],"uuid":"17a36fa2-75dd-4a56-8038-f8915e91273a","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"d93cd003_dag","uuid":"1144a2d9-0dc6-40b2-895e-ac06c75d8607"},"name":"dab6a81d_runbook"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Install_Crb_f50f37d2_44a7_4159_aa44_051ad043416b"}],"description":"","message_list":[],"uuid":"38d90c24-c674-4c5d-8dd1-ce770de83eee","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Package_f50f37d2_44a7_4159_aa44_051ad043416b","uuid":"4ff26e40-03b1-421b-9f54-01af7ac6b985"},"name":"SYS_GEN__Runbook_Package_f50f37d2_44a7_4159_aa44_051ad043416b"}},{"description":"System action for creating an application","message_list":[],"uuid":"ffd066e3-951f-4bc6-a20a-574aae3992f3","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureSlavePackage","uuid":"f50f37d2-44a7-4159-aa44-051ad043416b"},"retries":"0","description":"","type":"DAG","uuid":"b440dcb6-dfec-4f34-b84d-ad567d9a9a79","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_f50f37d2_44a7_4159_aa44_051ad043416b","uuid":"31429d6d-17a7-4bf6-ad00-e75565f5abf8"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"69614647-f55b-4054-9494-1a44ca789283"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"781abc6d-c236-46cc-a2a6-ee01ec040c0d"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"69614647-f55b-4054-9494-1a44ca789283"},"edge_type":"inherent","type":"","uuid":"a2fc0add-2dd4-4e12-9ba3-48387f73f682","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"781abc6d-c236-46cc-a2a6-ee01ec040c0d"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_f50f37d2_44a7_4159_aa44_051ad043416b","uuid":"31429d6d-17a7-4bf6-ad00-e75565f5abf8"},"edge_type":"inherent","type":"","uuid":"f551929b-8d35-426d-a094-b3cc042c8b2c","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"69614647-f55b-4054-9494-1a44ca789283"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_f50f37d2_44a7_4159_aa44_051ad043416b"},{"target_any_local_reference":{"kind":"app_package","name":"AzureSlavePackage","uuid":"f50f37d2-44a7-4159-aa44-051ad043416b"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"31429d6d-17a7-4bf6-ad00-e75565f5abf8","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_f50f37d2_44a7_4159_aa44_051ad043416b","uuid":"38d90c24-c674-4c5d-8dd1-ce770de83eee"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_f50f37d2_44a7_4159_aa44_051ad043416b"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"69614647-f55b-4054-9494-1a44ca789283","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"d54168c9_runbook","uuid":"e509001d-6b88-4a64-813c-0ce8ea81991a"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"781abc6d-c236-46cc-a2a6-ee01ec040c0d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"a027cde0_runbook","uuid":"0afbc7f3-5541-415f-9616-c459f09806b2"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400"}],"description":"","message_list":[],"uuid":"bd20a6ee-4cb2-43f4-b0dc-0b74637a033c","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_f50f37d2_44a7_4159_aa44_051ad043416b","uuid":"b440dcb6-dfec-4f34-b84d-ad567d9a9a79"},"name":"SYS_GEN__Runbook_Package_f50f37d2_44a7_4159_aa44_051ad043416b"}},{"description":"System action for uninstalling an application","message_list":[],"uuid":"9aec3431-e892-42e2-89cc-bd5b67d80a8f","name":"action_uninstall","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureSlavePackage","uuid":"f50f37d2-44a7-4159-aa44-051ad043416b"},"retries":"0","description":"","type":"DAG","uuid":"e1df8108-3990-4fd3-894b-31a4f2d517d7","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Uninstall_Crb_f50f37d2_44a7_4159_aa44_051ad043416b","uuid":"9b535b9b-0dbd-4ed8-a362-9788fb120140"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Package_f50f37d2_44a7_4159_aa44_051ad043416b"},{"target_any_local_reference":{"kind":"app_package","name":"AzureSlavePackage","uuid":"f50f37d2-44a7-4159-aa44-051ad043416b"},"retries":"0","description":"","type":"CUSTOM_PACKAGE_UNINSTALL","uuid":"9b535b9b-0dbd-4ed8-a362-9788fb120140","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureSlavePackage","uuid":"f50f37d2-44a7-4159-aa44-051ad043416b"},"retries":"0","description":"","type":"DAG","uuid":"95f7a926-5108-4cab-8d20-52fd9166e671","child_tasks_local_reference_list":[{"kind":"app_task","name":"PackageInstallTask","uuid":"30d0b4b3-187a-4906-8485-10c374277441"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"c426da26_dag"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"EXEC","uuid":"30d0b4b3-187a-4906-8485-10c374277441","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\n# -*- Install Mysql\nsudo yum install -y --quiet \"http:\/\/repo.mysql.com\/mysql80-community-release-el7.rpm\"\nsudo yum update -y --quiet\nsudo yum install -y --quiet sshpass mysql-community-server\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"!includedir \/etc\/my.cnf.d\" | sudo tee -a \/etc\/my.cnf\n\necho \"[mysqld]\nbinlog-format=mixed\nlog-bin=mysql-bin\ndatadir=\/mysql\/data\nsql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES\ninnodb_data_home_dir = \/mysql\/data\ninnodb_log_group_home_dir = \/mysql\/log\ninnodb_file_per_table\ntmpdir=\/mysql\/tmpdir\ninnodb_undo_directory = \/mysql\/undo\ndefault-storage-engine = innodb\ndefault_tmp_storage_engine = innodb\ninnodb_log_files_in_group = 4\ninnodb_log_file_size = 1G\ninnodb_log_buffer_size = 8M\ninnodb_buffer_pool_size = 6G\t\nlarge-pages\t\ninnodb_buffer_pool_instances = 64\t\ninnodb_flush_method=O_DIRECT\t\ninnodb_flush_neighbors=0\t \ninnodb_flush_log_at_trx_commit=1\ninnodb_buffer_pool_dump_at_shutdown=1\t\ninnodb_buffer_pool_load_at_startup=1\t\nbulk_insert_buffer_size = 256\t\ninnodb_thread_concurrency = 16\t\n \t \n# Undo tablespace\t \ninnodb_undo_tablespaces = 5\t\n \t \n# Networking\t \nwait_timeout=57600\t \nmax_allowed_packet=1G\t\nsocket=\/var\/lib\/mysql\/mysql.sock\t \nskip-name-resolve\nport=3306\t\nmax_connections=1000\t\n \t \n\n[mysqld_safe]\nlog-error=\/mysql\/log\/mysqld.log\npid-file=\/var\/run\/mysqld\/mysqld.pid\" | sudo tee \/etc\/my.cnf.d\/nutanix.cnf\n\necho \"#master=100\" | sudo tee -a  \/etc\/my.cnf.d\/nutanix.cnf\n\nserver_id=`sudo cat \/etc\/my.cnf.d\/nutanix.cnf | grep  \"server-id=\" | cut -d= -f2`\nis_master=`sudo cat \/etc\/my.cnf.d\/nutanix.cnf | grep -q -w \"#master=$server_id\"; echo $?`\n\nif [ ${is_master} -ne 0 ]\nthen\n   sudo sed -i '\/\\[mysqld\\]\/a read_only=1' \/etc\/my.cnf.d\/nutanix.cnf\nfi\n\nsudo mkdir -p \/mysql\/log \/mysql\/data \/mysql\/tmpdir \/mysql\/undo\nsudo mount -a\nsudo chown -R mysql:mysql \/mysql\n\nsudo rm -f \/mysql\/data\/*\nsudo systemctl start mysqld\n\n#Fix to obtain temp password and set it to blank\npassword=$(grep -oP 'temporary password(.*): \\K(\\S+)' \/var\/log\/mysqld.log)\nsudo mysqladmin --user=root --password=\"$password\" password aaBB**cc1122\nsudo mysql --user=root --password=aaBB**cc1122 -e \"UNINSTALL COMPONENT 'file:\/\/component_validate_password'\"\nsudo mysqladmin --user=root --password=\"aaBB**cc1122\" password \"\"\n\n#Mysql secure installation\nsudo mysql -u root<<-EOF\nALTER USER 'root'@'localhost' IDENTIFIED WITH caching_sha2_password BY '@@{MYSQL_PASSWORD}@@';\nDELETE FROM mysql.user WHERE User='root' AND Host NOT IN ('localhost', '127.0.0.1', '::1');\nDELETE FROM mysql.user WHERE User='';\nDELETE FROM mysql.db WHERE Db='test' OR Db='test\\_%';\nFLUSH PRIVILEGES;\nEOF\n"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"PackageInstallTask"}],"description":"","message_list":[],"uuid":"de787d9b-8307-4915-8f75-16f1554a890a","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"c426da26_dag","uuid":"95f7a926-5108-4cab-8d20-52fd9166e671"},"name":"604f3369_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureSlavePackage","uuid":"f50f37d2-44a7-4159-aa44-051ad043416b"},"retries":"0","description":"","type":"DAG","uuid":"1144a2d9-0dc6-40b2-895e-ac06c75d8607","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"d93cd003_dag"}],"description":"","message_list":[],"uuid":"17a36fa2-75dd-4a56-8038-f8915e91273a","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"d93cd003_dag","uuid":"1144a2d9-0dc6-40b2-895e-ac06c75d8607"},"name":"dab6a81d_runbook"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Uninstall_Crb_f50f37d2_44a7_4159_aa44_051ad043416b"}],"description":"","message_list":[],"uuid":"9a8fdf45-f53c-4286-ae4e-411f9be11fc2","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Package_f50f37d2_44a7_4159_aa44_051ad043416b","uuid":"e1df8108-3990-4fd3-894b-31a4f2d517d7"},"name":"SYS_GEN__Runbook_Package_f50f37d2_44a7_4159_aa44_051ad043416b"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"062450e4-6ee3-4b71-994e-d33946c58321","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureSlavePackage","uuid":"f50f37d2-44a7-4159-aa44-051ad043416b"},"retries":"0","description":"","type":"DAG","uuid":"b574da16-7e7e-46ca-9b22-ebbdf99960b7","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"7c807ea2-26b3-48e0-b17c-0e4231ca142f"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"9a6333a8-712d-440d-91ee-f7dcdd323e30"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_f50f37d2_44a7_4159_aa44_051ad043416b","uuid":"cb3e225f-3e31-411e-9c19-f119d919a3ce"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"7c807ea2-26b3-48e0-b17c-0e4231ca142f"},"edge_type":"inherent","type":"","uuid":"e0219404-b002-4599-b576-5823e1727e65","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"9a6333a8-712d-440d-91ee-f7dcdd323e30"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"9a6333a8-712d-440d-91ee-f7dcdd323e30"},"edge_type":"inherent","type":"","uuid":"1e1363c1-a12e-4786-95be-3cb3295a72a1","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_f50f37d2_44a7_4159_aa44_051ad043416b","uuid":"cb3e225f-3e31-411e-9c19-f119d919a3ce"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_f50f37d2_44a7_4159_aa44_051ad043416b"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"7c807ea2-26b3-48e0-b17c-0e4231ca142f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"4a2ad0be_runbook","uuid":"09b1c8a9-6223-4e38-acfb-ff4754413c85"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"9a6333a8-712d-440d-91ee-f7dcdd323e30","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"92247e35_runbook","uuid":"497a8a35-a955-4f76-8fb0-21dbd9acb6e0"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400"},{"target_any_local_reference":{"kind":"app_package","name":"AzureSlavePackage","uuid":"f50f37d2-44a7-4159-aa44-051ad043416b"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"cb3e225f-3e31-411e-9c19-f119d919a3ce","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_f50f37d2_44a7_4159_aa44_051ad043416b","uuid":"9a8fdf45-f53c-4286-ae4e-411f9be11fc2"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_f50f37d2_44a7_4159_aa44_051ad043416b"}],"description":"","message_list":[],"uuid":"802747e8-72e8-4a57-a6bc-ddd1c177e0f3","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_f50f37d2_44a7_4159_aa44_051ad043416b","uuid":"b574da16-7e7e-46ca-9b22-ebbdf99960b7"},"name":"SYS_GEN__Runbook_Package_f50f37d2_44a7_4159_aa44_051ad043416b"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"ddfeba32-7da1-4bd8-a8e2-cb6ccf93067d","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureSlavePackage","uuid":"f50f37d2-44a7-4159-aa44-051ad043416b"},"retries":"0","description":"","type":"DAG","uuid":"4a785681-c868-4048-951e-e71a097d22aa","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"1817c107-bd86-4856-bc45-c0c7ba04eb58"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_f50f37d2_44a7_4159_aa44_051ad043416b","uuid":"867c0610-b7e0-4493-82d4-9b7d398c8077"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"1817c107-bd86-4856-bc45-c0c7ba04eb58"},"edge_type":"inherent","type":"","uuid":"e5d3d908-82bd-4ac8-a79d-f780e3160300","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_f50f37d2_44a7_4159_aa44_051ad043416b","uuid":"867c0610-b7e0-4493-82d4-9b7d398c8077"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_f50f37d2_44a7_4159_aa44_051ad043416b"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"1817c107-bd86-4856-bc45-c0c7ba04eb58","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"6cdcc89d-fd42-4e8a-9e97-40576d559005"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400"},{"target_any_local_reference":{"kind":"app_package","name":"AzureSlavePackage","uuid":"f50f37d2-44a7-4159-aa44-051ad043416b"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"867c0610-b7e0-4493-82d4-9b7d398c8077","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_f50f37d2_44a7_4159_aa44_051ad043416b"}],"description":"","message_list":[],"uuid":"7bff904c-f43e-4313-91d8-07dbd09a3efd","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_f50f37d2_44a7_4159_aa44_051ad043416b","uuid":"4a785681-c868-4048-951e-e71a097d22aa"},"name":"SYS_GEN__Runbook_Package_f50f37d2_44a7_4159_aa44_051ad043416b"}},{"description":"System action for starting an application","message_list":[],"uuid":"27ce054c-7876-4403-86ce-e98a1347c779","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureSlavePackage","uuid":"f50f37d2-44a7-4159-aa44-051ad043416b"},"retries":"0","description":"","type":"DAG","uuid":"298852ff-2fa9-4ba0-b4f7-5ca1907c1e70","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"27530eef-199e-41f1-bd36-1c7168043266"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_f50f37d2_44a7_4159_aa44_051ad043416b"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"27530eef-199e-41f1-bd36-1c7168043266","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"a027cde0_runbook","uuid":"0afbc7f3-5541-415f-9616-c459f09806b2"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400"}],"description":"","message_list":[],"uuid":"ec2cbcb0-5ca0-472a-a4d5-83627aa5df46","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_f50f37d2_44a7_4159_aa44_051ad043416b","uuid":"298852ff-2fa9-4ba0-b4f7-5ca1907c1e70"},"name":"SYS_GEN__Runbook_Package_f50f37d2_44a7_4159_aa44_051ad043416b"}},{"description":"System action for restarting an application","message_list":[],"uuid":"f4044038-9df9-4cd9-8e5e-7cbec747b32d","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureSlavePackage","uuid":"f50f37d2-44a7-4159-aa44-051ad043416b"},"retries":"0","description":"","type":"DAG","uuid":"92fb1c23-81c9-4f8a-8def-b5fa68b8f93b","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"229ba7b0-93d2-4710-bb05-ea25f65ebcac"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_f50f37d2_44a7_4159_aa44_051ad043416b"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"229ba7b0-93d2-4710-bb05-ea25f65ebcac","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"f2b2a076_runbook","uuid":"b7162b3b-d4ba-4fba-875d-fc9c8c2c5b79"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400"}],"description":"","message_list":[],"uuid":"d2e1281b-2bd8-40cc-a208-83a184a86216","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_f50f37d2_44a7_4159_aa44_051ad043416b","uuid":"92fb1c23-81c9-4f8a-8def-b5fa68b8f93b"},"name":"SYS_GEN__Runbook_Package_f50f37d2_44a7_4159_aa44_051ad043416b"}},{"description":"System action for stopping an application","message_list":[],"uuid":"53a30f29-a55d-4b85-b2b9-a52e5be4ed45","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureSlavePackage","uuid":"f50f37d2-44a7-4159-aa44-051ad043416b"},"retries":"0","description":"","type":"DAG","uuid":"889d6b90-1057-41a0-9400-4699a094cf83","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"94bbdbd0-9523-4a90-911f-78bcc51a01ef"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_f50f37d2_44a7_4159_aa44_051ad043416b"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"94bbdbd0-9523-4a90-911f-78bcc51a01ef","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"4a2ad0be_runbook","uuid":"09b1c8a9-6223-4e38-acfb-ff4754413c85"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400"}],"description":"","message_list":[],"uuid":"03e5de1e-0542-449f-8be2-e471aae761e0","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_f50f37d2_44a7_4159_aa44_051ad043416b","uuid":"889d6b90-1057-41a0-9400-4699a094cf83"},"name":"SYS_GEN__Runbook_Package_f50f37d2_44a7_4159_aa44_051ad043416b"}}],"message_list":[],"service_local_reference_list":[{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"}],"uuid":"f50f37d2-44a7-4159-aa44-051ad043416b","state":"ACTIVE","version":"","editables":{},"type":"DEB","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureSlavePackage","uuid":"f50f37d2-44a7-4159-aa44-051ad043416b"},"retries":"0","description":"","type":"DAG","uuid":"95f7a926-5108-4cab-8d20-52fd9166e671","child_tasks_local_reference_list":[{"kind":"app_task","name":"PackageInstallTask","uuid":"30d0b4b3-187a-4906-8485-10c374277441"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"c426da26_dag"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"EXEC","uuid":"30d0b4b3-187a-4906-8485-10c374277441","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\n# -*- Install Mysql\nsudo yum install -y --quiet \"http:\/\/repo.mysql.com\/mysql80-community-release-el7.rpm\"\nsudo yum update -y --quiet\nsudo yum install -y --quiet sshpass mysql-community-server\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"!includedir \/etc\/my.cnf.d\" | sudo tee -a \/etc\/my.cnf\n\necho \"[mysqld]\nbinlog-format=mixed\nlog-bin=mysql-bin\ndatadir=\/mysql\/data\nsql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES\ninnodb_data_home_dir = \/mysql\/data\ninnodb_log_group_home_dir = \/mysql\/log\ninnodb_file_per_table\ntmpdir=\/mysql\/tmpdir\ninnodb_undo_directory = \/mysql\/undo\ndefault-storage-engine = innodb\ndefault_tmp_storage_engine = innodb\ninnodb_log_files_in_group = 4\ninnodb_log_file_size = 1G\ninnodb_log_buffer_size = 8M\ninnodb_buffer_pool_size = 6G\t\nlarge-pages\t\ninnodb_buffer_pool_instances = 64\t\ninnodb_flush_method=O_DIRECT\t\ninnodb_flush_neighbors=0\t \ninnodb_flush_log_at_trx_commit=1\ninnodb_buffer_pool_dump_at_shutdown=1\t\ninnodb_buffer_pool_load_at_startup=1\t\nbulk_insert_buffer_size = 256\t\ninnodb_thread_concurrency = 16\t\n \t \n# Undo tablespace\t \ninnodb_undo_tablespaces = 5\t\n \t \n# Networking\t \nwait_timeout=57600\t \nmax_allowed_packet=1G\t\nsocket=\/var\/lib\/mysql\/mysql.sock\t \nskip-name-resolve\nport=3306\t\nmax_connections=1000\t\n \t \n\n[mysqld_safe]\nlog-error=\/mysql\/log\/mysqld.log\npid-file=\/var\/run\/mysqld\/mysqld.pid\" | sudo tee \/etc\/my.cnf.d\/nutanix.cnf\n\necho \"#master=100\" | sudo tee -a  \/etc\/my.cnf.d\/nutanix.cnf\n\nserver_id=`sudo cat \/etc\/my.cnf.d\/nutanix.cnf | grep  \"server-id=\" | cut -d= -f2`\nis_master=`sudo cat \/etc\/my.cnf.d\/nutanix.cnf | grep -q -w \"#master=$server_id\"; echo $?`\n\nif [ ${is_master} -ne 0 ]\nthen\n   sudo sed -i '\/\\[mysqld\\]\/a read_only=1' \/etc\/my.cnf.d\/nutanix.cnf\nfi\n\nsudo mkdir -p \/mysql\/log \/mysql\/data \/mysql\/tmpdir \/mysql\/undo\nsudo mount -a\nsudo chown -R mysql:mysql \/mysql\n\nsudo rm -f \/mysql\/data\/*\nsudo systemctl start mysqld\n\n#Fix to obtain temp password and set it to blank\npassword=$(grep -oP 'temporary password(.*): \\K(\\S+)' \/var\/log\/mysqld.log)\nsudo mysqladmin --user=root --password=\"$password\" password aaBB**cc1122\nsudo mysql --user=root --password=aaBB**cc1122 -e \"UNINSTALL COMPONENT 'file:\/\/component_validate_password'\"\nsudo mysqladmin --user=root --password=\"aaBB**cc1122\" password \"\"\n\n#Mysql secure installation\nsudo mysql -u root<<-EOF\nALTER USER 'root'@'localhost' IDENTIFIED WITH caching_sha2_password BY '@@{MYSQL_PASSWORD}@@';\nDELETE FROM mysql.user WHERE User='root' AND Host NOT IN ('localhost', '127.0.0.1', '::1');\nDELETE FROM mysql.user WHERE User='';\nDELETE FROM mysql.db WHERE Db='test' OR Db='test\\_%';\nFLUSH PRIVILEGES;\nEOF\n"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"PackageInstallTask"}],"description":"","message_list":[],"uuid":"de787d9b-8307-4915-8f75-16f1554a890a","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"c426da26_dag","uuid":"95f7a926-5108-4cab-8d20-52fd9166e671"},"name":"604f3369_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureSlavePackage","uuid":"f50f37d2-44a7-4159-aa44-051ad043416b"},"retries":"0","description":"","type":"DAG","uuid":"1144a2d9-0dc6-40b2-895e-ac06c75d8607","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"d93cd003_dag"}],"description":"","message_list":[],"uuid":"17a36fa2-75dd-4a56-8038-f8915e91273a","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"d93cd003_dag","uuid":"1144a2d9-0dc6-40b2-895e-ac06c75d8607"},"name":"dab6a81d_runbook"}},"variable_list":[],"name":"AzureSlavePackage"},{"description":"","action_list":[{"description":"System action for installing an application","message_list":[],"uuid":"0a2a1eb5-502d-4735-a819-ba88e798c294","name":"action_install","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"VMwareMasterPackage","uuid":"ad5a77a8-44ba-36bb-9693-8c461a120643"},"retries":"0","description":"","type":"DAG","uuid":"e5b50749-1e35-467c-9cd4-34f009aea23a","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Install_Crb_ad5a77a8_44ba_36bb_9693_8c461a120643","uuid":"1021e7e8-a43d-4640-8914-0b5ac585037d"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Package_ad5a77a8_44ba_36bb_9693_8c461a120643"},{"target_any_local_reference":{"kind":"app_package","name":"VMwareMasterPackage","uuid":"ad5a77a8-44ba-36bb-9693-8c461a120643"},"retries":"0","description":"","type":"CUSTOM_PACKAGE_INSTALL","uuid":"1021e7e8-a43d-4640-8914-0b5ac585037d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"VMwareMasterPackage","uuid":"ad5a77a8-44ba-36bb-9693-8c461a120643"},"retries":"0","description":"","type":"DAG","uuid":"2ef86ce2-ebbb-7f4f-3528-4309727c0363","child_tasks_local_reference_list":[{"kind":"app_task","name":"Install System Packages","uuid":"fedc1b14-feee-48db-98ba-4e6b475f80ab"},{"kind":"app_task","name":"Create Disk Setup","uuid":"b2cb3727-b371-3c50-169c-49b90666f9ad"},{"kind":"app_task","name":"Install MySQL","uuid":"6e26c773-87e7-7d04-7210-0de15b34eca2"},{"kind":"app_task","name":"Setup MySQL","uuid":"6e8653b7-8e67-2112-3c83-085b3e352e7d"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Install System Packages","uuid":"fedc1b14-feee-48db-98ba-4e6b475f80ab"},"edge_type":"user_defined","type":"","uuid":"b183a53a-6cb2-21af-45c4-e701154f71f3","to_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"b2cb3727-b371-3c50-169c-49b90666f9ad"}},{"from_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"b2cb3727-b371-3c50-169c-49b90666f9ad"},"edge_type":"user_defined","type":"","uuid":"73195f73-b0b2-a26d-b182-1eec6b70014f","to_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"6e26c773-87e7-7d04-7210-0de15b34eca2"}},{"from_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"6e26c773-87e7-7d04-7210-0de15b34eca2"},"edge_type":"user_defined","type":"","uuid":"120b5a50-5598-debe-f330-81d6bb8700dc","to_task_reference":{"kind":"app_task","name":"Setup MySQL","uuid":"6e8653b7-8e67-2112-3c83-085b3e352e7d"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"9cbec184_dag_cloned_1"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"EXEC","uuid":"fedc1b14-feee-48db-98ba-4e6b475f80ab","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n# -*- Install Mysql\nsudo yum update -y --quiet\nsudo yum install -y  wget xfs* bc unzip lvm2* lsscsi\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"System packages are installed\"","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install System Packages"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"EXEC","uuid":"b2cb3727-b371-3c50-169c-49b90666f9ad","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n##############\n#\n# LVM setup script for MySQL . 4 disks for DATA and 4 for logs\n# Data disks are 50GB | Log disks are 25GB \n#\n#############\n\n\n#PGSQL data\nsudo pvcreate \/dev\/sdb \/dev\/sdc \/dev\/sdd \/dev\/sde\nsudo vgcreate mysqlDataVG \/dev\/sdb \/dev\/sdd \/dev\/sdc \/dev\/sde\nsudo lvcreate -l 100%FREE -i4 -I1M -n mysqlDataLV mysqlDataVG          ## Use 1MB to avoid IO amplification \n#lvcreate -l 100%FREE -i4 -I4M -n pgDataLV pgDataVG\n\n\n#PGSQL logs\nsudo pvcreate \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo vgcreate mysqlLogVG \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo lvcreate -l 100%FREE -i2 -I1M -n mysqlLogLV mysqlLogVG            ## Use 1MB to avoid IO amplification\n#lvcreate -l 100%FREE -i2 -I4M -n pgLogLV pgLogVG\n\n\n#Disable LVM read ahead\nsudo lvchange -r 0 \/dev\/mysqlDataVG\/mysqlDataLV\nsudo lvchange -r 0 \/dev\/mysqlLogVG\/mysqlLogLV\n\n\n#Format LVMs with ext4 and use nodiscard to make sure format time is fast on Nutanix due to SCSI unmap\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlDataVG\/mysqlDataLV\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlLogVG\/mysqlLogLV\n\nsleep 10\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Create Disk Setup"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"EXEC","uuid":"6e26c773-87e7-7d04-7210-0de15b34eca2","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nsudo hostnamectl set-hostname \"@@{name}@@\"\n\n# -*- Mysql installation \nsudo yum install -y --quiet \"http:\/\/repo.mysql.com\/mysql80-community-release-el7.rpm\"\nsudo yum update -y --quiet\nsudo yum install -y --quiet sshpass mysql-community-server.x86_64\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install MySQL"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"EXEC","uuid":"6e8653b7-8e67-2112-3c83-085b3e352e7d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\necho \"!includedir \/etc\/my.cnf.d\" | sudo tee -a \/etc\/my.cnf\n\necho \"[mysqld]\nbinlog-format=mixed\nlog-bin=mysql-bin\ndatadir=\/mysql\/data\nsql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES\ninnodb_data_home_dir = \/mysql\/data\ninnodb_log_group_home_dir = \/mysql\/log\ninnodb_file_per_table\ntmpdir=\/mysql\/tmpdir\ninnodb_undo_directory = \/mysql\/undo\ndefault-storage-engine = innodb\ndefault_tmp_storage_engine = innodb\ninnodb_log_files_in_group = 4\ninnodb_log_file_size = 1G\ninnodb_log_buffer_size = 8M\ninnodb_buffer_pool_size = 6G\t\nlarge-pages\t\ninnodb_buffer_pool_instances = 64\t\ninnodb_flush_method=O_DIRECT\t\ninnodb_flush_neighbors=0\t \ninnodb_flush_log_at_trx_commit=1\ninnodb_buffer_pool_dump_at_shutdown=1\t\ninnodb_buffer_pool_load_at_startup=1\t\nbulk_insert_buffer_size = 256\t\ninnodb_thread_concurrency = 16\t\n \t \n# Undo tablespace\t \ninnodb_undo_tablespaces = 5\t\n \t \n# Networking\t \nwait_timeout=57600\t \nmax_allowed_packet=1G\t\nsocket=\/var\/lib\/mysql\/mysql.sock\t \nskip-name-resolve\nport=3306\t\nmax_connections=1000\t\n\n\n[mysqld_safe]\nlog-error=\/mysql\/log\/mysqld.log\npid-file=\/var\/run\/mysqld\/mysqld.pid\" | sudo tee \/etc\/my.cnf.d\/nutanix.cnf\n\nsudo sed -i \"\/\\[mysqld\\]\/a server-id=100\" \/etc\/my.cnf.d\/nutanix.cnf\necho \"#master=100\" | sudo tee -a  \/etc\/my.cnf.d\/nutanix.cnf\n\nserver_id=`sudo cat \/etc\/my.cnf.d\/nutanix.cnf | grep  \"server-id=\" | cut -d= -f2`\nis_master=`sudo cat \/etc\/my.cnf.d\/nutanix.cnf | grep -q -w \"#master=$server_id\"; echo $?`\n\nif [ ${is_master} -ne 0 ]\nthen\n   sudo sed -i '\/\\[mysqld\\]\/a read_only=1' \/etc\/my.cnf.d\/nutanix.cnf\nfi\n\n# -*- Sysctl configuration\nmysql_grp_id=`id -g mysql`\nsudo sysctl -w vm.swappiness=0\nsudo sysctl -w vm.nr_hugepages=1024\nsudo sysctl -w vm.overcommit_memory=1\nsudo sysctl -w vm.dirty_background_ratio=5 \nsudo sysctl -w vm.dirty_ratio=15\nsudo sysctl -w vm.dirty_expire_centisecs=500\nsudo sysctl -w vm.dirty_writeback_centisecs=100\nsudo sysctl -w vm.hugetlb_shm_group=$mysql_grp_id\n\necho \"vm.swappiness=0\nvm.nr_hugepages=1024\nvm.overcommit_memory=1\nvm.dirty_background_ratio=5 \nvm.dirty_ratio=15\nvm.dirty_expire_centisecs=500\nvm.dirty_writeback_centisecs=100\nvm.hugetlb_shm_group=$mysql_grp_id\" | sudo tee  -a \/etc\/sysctl.conf\n\necho \"ACTION=='add|change', SUBSYSTEM=='block', RUN+='\/bin\/sh -c \\\"\/bin\/echo 1024 > \/sys%p\/queue\/max_sectors_kb\\\"'\" | sudo tee \/etc\/udev\/rules.d\/71-block-max-sectors.rules\n\necho \"\/dev\/mysqlDataVG\/mysqlDataLV \/mysql\/data ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\necho \"\/dev\/mysqlLogVG\/mysqlLogLV \/mysql\/log ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\nsudo mkdir -p \/mysql\/log \/mysql\/data \/mysql\/tmpdir \/mysql\/undo\nsudo mount -a\nsudo chown -R mysql:mysql \/mysql\n\nsudo systemctl enable mysqld\n\nsudo rm -rf \/mysql\/data\/*\nsudo systemctl start mysqld\n\n#Fix to obtain temp password and set it to blank\npassword=$(grep -oP 'temporary password(.*): \\K(\\S+)' \/var\/log\/mysqld.log)\nsudo mysqladmin --user=root --password=\"$password\" password aaBB**cc1122\nsudo mysql --user=root --password=aaBB**cc1122 -e \"UNINSTALL COMPONENT 'file:\/\/component_validate_password'\"\nsudo mysqladmin --user=root --password=\"aaBB**cc1122\" password \"\"\n\n\n#Mysql secure installation\nsudo mysql -u root<<-EOF\nALTER USER 'root'@'localhost' IDENTIFIED WITH caching_sha2_password BY '@@{MYSQL_PASSWORD}@@';\nDELETE FROM mysql.user WHERE User='root' AND Host NOT IN ('localhost', '127.0.0.1', '::1');\nDELETE FROM mysql.user WHERE User='';\nDELETE FROM mysql.db WHERE Db='test' OR Db='test\\_%';\nFLUSH PRIVILEGES;\nEOF\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Setup MySQL"}],"description":"","message_list":[],"uuid":"f99ee337-ea25-b933-6994-aa24d5f3af53","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"9cbec184_dag_cloned_1","uuid":"2ef86ce2-ebbb-7f4f-3528-4309727c0363"},"name":"ee9a3de0_runbook_cloned_0"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"VMwareMasterPackage","uuid":"ad5a77a8-44ba-36bb-9693-8c461a120643"},"retries":"0","description":"","type":"DAG","uuid":"b105d984-4342-d553-1458-71c62a20fa90","child_tasks_local_reference_list":[{"kind":"app_task","name":"PackageUninstallTask_cloned_1","uuid":"ea01c511-5753-b25a-ec93-f6d2e74b5805"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"7e474eb1_dag_cloned_1"},{"target_any_local_reference":{"kind":"app_package","name":"VMwareMasterPackage","uuid":"ad5a77a8-44ba-36bb-9693-8c461a120643"},"retries":"0","description":"","type":"EXEC","uuid":"ea01c511-5753-b25a-ec93-f6d2e74b5805","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"PackageUninstallTask_cloned_1"}],"description":"","message_list":[],"uuid":"9238b19b-d9e8-6089-d636-bec4a54f2896","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"7e474eb1_dag_cloned_1","uuid":"b105d984-4342-d553-1458-71c62a20fa90"},"name":"4235ede6_runbook_cloned_0"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Install_Crb_ad5a77a8_44ba_36bb_9693_8c461a120643"}],"description":"","message_list":[],"uuid":"f054f901-ffb5-4fd3-bb96-69621dbfcfdc","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Package_ad5a77a8_44ba_36bb_9693_8c461a120643","uuid":"e5b50749-1e35-467c-9cd4-34f009aea23a"},"name":"SYS_GEN__Runbook_Package_ad5a77a8_44ba_36bb_9693_8c461a120643"}},{"description":"System action for creating an application","message_list":[],"uuid":"e5e70413-f56f-4770-8fd4-64e8728c90c2","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"VMwareMasterPackage","uuid":"ad5a77a8-44ba-36bb-9693-8c461a120643"},"retries":"0","description":"","type":"DAG","uuid":"1e6ae802-9ad0-4dce-86b6-2c4dbe49d0a5","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_ad5a77a8_44ba_36bb_9693_8c461a120643","uuid":"3aae6dab-79f7-495f-944b-99712bca1d45"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"e79bf316-57e9-4242-adbe-eb09025cdca6"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"663bc204-b4c8-4e6d-84bb-b9741a8f7108"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"e79bf316-57e9-4242-adbe-eb09025cdca6"},"edge_type":"inherent","type":"","uuid":"b46dfbdf-db3d-4fbe-b6ed-03a82de15ab6","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"663bc204-b4c8-4e6d-84bb-b9741a8f7108"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_ad5a77a8_44ba_36bb_9693_8c461a120643","uuid":"3aae6dab-79f7-495f-944b-99712bca1d45"},"edge_type":"inherent","type":"","uuid":"7b414500-8ff6-48f4-ba48-4b4c293813b7","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"e79bf316-57e9-4242-adbe-eb09025cdca6"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_ad5a77a8_44ba_36bb_9693_8c461a120643"},{"target_any_local_reference":{"kind":"app_package","name":"VMwareMasterPackage","uuid":"ad5a77a8-44ba-36bb-9693-8c461a120643"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"3aae6dab-79f7-495f-944b-99712bca1d45","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_ad5a77a8_44ba_36bb_9693_8c461a120643","uuid":"f054f901-ffb5-4fd3-bb96-69621dbfcfdc"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_ad5a77a8_44ba_36bb_9693_8c461a120643"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"e79bf316-57e9-4242-adbe-eb09025cdca6","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0a970522_runbook","uuid":"f2803b23-af0b-4afd-8a2f-ef666adf85c8"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"663bc204-b4c8-4e6d-84bb-b9741a8f7108","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"5ddb28d1_runbook","uuid":"f88c4d73-c0ab-488b-a016-3e1453b91891"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd"}],"description":"","message_list":[],"uuid":"b1145bbd-adfa-463b-859f-543318a7f1db","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_ad5a77a8_44ba_36bb_9693_8c461a120643","uuid":"1e6ae802-9ad0-4dce-86b6-2c4dbe49d0a5"},"name":"SYS_GEN__Runbook_Package_ad5a77a8_44ba_36bb_9693_8c461a120643"}},{"description":"System action for uninstalling an application","message_list":[],"uuid":"1e1c4233-b39d-4d51-a0f4-da82a5fbe076","name":"action_uninstall","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"VMwareMasterPackage","uuid":"ad5a77a8-44ba-36bb-9693-8c461a120643"},"retries":"0","description":"","type":"DAG","uuid":"87ff30c3-6467-44de-b346-7e8b8519adda","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Uninstall_Crb_ad5a77a8_44ba_36bb_9693_8c461a120643","uuid":"768ec8d4-81d5-4af0-a855-9df2dc37e10a"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Package_ad5a77a8_44ba_36bb_9693_8c461a120643"},{"target_any_local_reference":{"kind":"app_package","name":"VMwareMasterPackage","uuid":"ad5a77a8-44ba-36bb-9693-8c461a120643"},"retries":"0","description":"","type":"CUSTOM_PACKAGE_UNINSTALL","uuid":"768ec8d4-81d5-4af0-a855-9df2dc37e10a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"VMwareMasterPackage","uuid":"ad5a77a8-44ba-36bb-9693-8c461a120643"},"retries":"0","description":"","type":"DAG","uuid":"2ef86ce2-ebbb-7f4f-3528-4309727c0363","child_tasks_local_reference_list":[{"kind":"app_task","name":"Install System Packages","uuid":"fedc1b14-feee-48db-98ba-4e6b475f80ab"},{"kind":"app_task","name":"Create Disk Setup","uuid":"b2cb3727-b371-3c50-169c-49b90666f9ad"},{"kind":"app_task","name":"Install MySQL","uuid":"6e26c773-87e7-7d04-7210-0de15b34eca2"},{"kind":"app_task","name":"Setup MySQL","uuid":"6e8653b7-8e67-2112-3c83-085b3e352e7d"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Install System Packages","uuid":"fedc1b14-feee-48db-98ba-4e6b475f80ab"},"edge_type":"user_defined","type":"","uuid":"b183a53a-6cb2-21af-45c4-e701154f71f3","to_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"b2cb3727-b371-3c50-169c-49b90666f9ad"}},{"from_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"b2cb3727-b371-3c50-169c-49b90666f9ad"},"edge_type":"user_defined","type":"","uuid":"73195f73-b0b2-a26d-b182-1eec6b70014f","to_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"6e26c773-87e7-7d04-7210-0de15b34eca2"}},{"from_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"6e26c773-87e7-7d04-7210-0de15b34eca2"},"edge_type":"user_defined","type":"","uuid":"120b5a50-5598-debe-f330-81d6bb8700dc","to_task_reference":{"kind":"app_task","name":"Setup MySQL","uuid":"6e8653b7-8e67-2112-3c83-085b3e352e7d"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"9cbec184_dag_cloned_1"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"EXEC","uuid":"fedc1b14-feee-48db-98ba-4e6b475f80ab","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n# -*- Install Mysql\nsudo yum update -y --quiet\nsudo yum install -y  wget xfs* bc unzip lvm2* lsscsi\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"System packages are installed\"","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install System Packages"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"EXEC","uuid":"b2cb3727-b371-3c50-169c-49b90666f9ad","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n##############\n#\n# LVM setup script for MySQL . 4 disks for DATA and 4 for logs\n# Data disks are 50GB | Log disks are 25GB \n#\n#############\n\n\n#PGSQL data\nsudo pvcreate \/dev\/sdb \/dev\/sdc \/dev\/sdd \/dev\/sde\nsudo vgcreate mysqlDataVG \/dev\/sdb \/dev\/sdd \/dev\/sdc \/dev\/sde\nsudo lvcreate -l 100%FREE -i4 -I1M -n mysqlDataLV mysqlDataVG          ## Use 1MB to avoid IO amplification \n#lvcreate -l 100%FREE -i4 -I4M -n pgDataLV pgDataVG\n\n\n#PGSQL logs\nsudo pvcreate \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo vgcreate mysqlLogVG \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo lvcreate -l 100%FREE -i2 -I1M -n mysqlLogLV mysqlLogVG            ## Use 1MB to avoid IO amplification\n#lvcreate -l 100%FREE -i2 -I4M -n pgLogLV pgLogVG\n\n\n#Disable LVM read ahead\nsudo lvchange -r 0 \/dev\/mysqlDataVG\/mysqlDataLV\nsudo lvchange -r 0 \/dev\/mysqlLogVG\/mysqlLogLV\n\n\n#Format LVMs with ext4 and use nodiscard to make sure format time is fast on Nutanix due to SCSI unmap\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlDataVG\/mysqlDataLV\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlLogVG\/mysqlLogLV\n\nsleep 10\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Create Disk Setup"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"EXEC","uuid":"6e26c773-87e7-7d04-7210-0de15b34eca2","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nsudo hostnamectl set-hostname \"@@{name}@@\"\n\n# -*- Mysql installation \nsudo yum install -y --quiet \"http:\/\/repo.mysql.com\/mysql80-community-release-el7.rpm\"\nsudo yum update -y --quiet\nsudo yum install -y --quiet sshpass mysql-community-server.x86_64\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install MySQL"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"EXEC","uuid":"6e8653b7-8e67-2112-3c83-085b3e352e7d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\necho \"!includedir \/etc\/my.cnf.d\" | sudo tee -a \/etc\/my.cnf\n\necho \"[mysqld]\nbinlog-format=mixed\nlog-bin=mysql-bin\ndatadir=\/mysql\/data\nsql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES\ninnodb_data_home_dir = \/mysql\/data\ninnodb_log_group_home_dir = \/mysql\/log\ninnodb_file_per_table\ntmpdir=\/mysql\/tmpdir\ninnodb_undo_directory = \/mysql\/undo\ndefault-storage-engine = innodb\ndefault_tmp_storage_engine = innodb\ninnodb_log_files_in_group = 4\ninnodb_log_file_size = 1G\ninnodb_log_buffer_size = 8M\ninnodb_buffer_pool_size = 6G\t\nlarge-pages\t\ninnodb_buffer_pool_instances = 64\t\ninnodb_flush_method=O_DIRECT\t\ninnodb_flush_neighbors=0\t \ninnodb_flush_log_at_trx_commit=1\ninnodb_buffer_pool_dump_at_shutdown=1\t\ninnodb_buffer_pool_load_at_startup=1\t\nbulk_insert_buffer_size = 256\t\ninnodb_thread_concurrency = 16\t\n \t \n# Undo tablespace\t \ninnodb_undo_tablespaces = 5\t\n \t \n# Networking\t \nwait_timeout=57600\t \nmax_allowed_packet=1G\t\nsocket=\/var\/lib\/mysql\/mysql.sock\t \nskip-name-resolve\nport=3306\t\nmax_connections=1000\t\n\n\n[mysqld_safe]\nlog-error=\/mysql\/log\/mysqld.log\npid-file=\/var\/run\/mysqld\/mysqld.pid\" | sudo tee \/etc\/my.cnf.d\/nutanix.cnf\n\nsudo sed -i \"\/\\[mysqld\\]\/a server-id=100\" \/etc\/my.cnf.d\/nutanix.cnf\necho \"#master=100\" | sudo tee -a  \/etc\/my.cnf.d\/nutanix.cnf\n\nserver_id=`sudo cat \/etc\/my.cnf.d\/nutanix.cnf | grep  \"server-id=\" | cut -d= -f2`\nis_master=`sudo cat \/etc\/my.cnf.d\/nutanix.cnf | grep -q -w \"#master=$server_id\"; echo $?`\n\nif [ ${is_master} -ne 0 ]\nthen\n   sudo sed -i '\/\\[mysqld\\]\/a read_only=1' \/etc\/my.cnf.d\/nutanix.cnf\nfi\n\n# -*- Sysctl configuration\nmysql_grp_id=`id -g mysql`\nsudo sysctl -w vm.swappiness=0\nsudo sysctl -w vm.nr_hugepages=1024\nsudo sysctl -w vm.overcommit_memory=1\nsudo sysctl -w vm.dirty_background_ratio=5 \nsudo sysctl -w vm.dirty_ratio=15\nsudo sysctl -w vm.dirty_expire_centisecs=500\nsudo sysctl -w vm.dirty_writeback_centisecs=100\nsudo sysctl -w vm.hugetlb_shm_group=$mysql_grp_id\n\necho \"vm.swappiness=0\nvm.nr_hugepages=1024\nvm.overcommit_memory=1\nvm.dirty_background_ratio=5 \nvm.dirty_ratio=15\nvm.dirty_expire_centisecs=500\nvm.dirty_writeback_centisecs=100\nvm.hugetlb_shm_group=$mysql_grp_id\" | sudo tee  -a \/etc\/sysctl.conf\n\necho \"ACTION=='add|change', SUBSYSTEM=='block', RUN+='\/bin\/sh -c \\\"\/bin\/echo 1024 > \/sys%p\/queue\/max_sectors_kb\\\"'\" | sudo tee \/etc\/udev\/rules.d\/71-block-max-sectors.rules\n\necho \"\/dev\/mysqlDataVG\/mysqlDataLV \/mysql\/data ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\necho \"\/dev\/mysqlLogVG\/mysqlLogLV \/mysql\/log ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\nsudo mkdir -p \/mysql\/log \/mysql\/data \/mysql\/tmpdir \/mysql\/undo\nsudo mount -a\nsudo chown -R mysql:mysql \/mysql\n\nsudo systemctl enable mysqld\n\nsudo rm -rf \/mysql\/data\/*\nsudo systemctl start mysqld\n\n#Fix to obtain temp password and set it to blank\npassword=$(grep -oP 'temporary password(.*): \\K(\\S+)' \/var\/log\/mysqld.log)\nsudo mysqladmin --user=root --password=\"$password\" password aaBB**cc1122\nsudo mysql --user=root --password=aaBB**cc1122 -e \"UNINSTALL COMPONENT 'file:\/\/component_validate_password'\"\nsudo mysqladmin --user=root --password=\"aaBB**cc1122\" password \"\"\n\n\n#Mysql secure installation\nsudo mysql -u root<<-EOF\nALTER USER 'root'@'localhost' IDENTIFIED WITH caching_sha2_password BY '@@{MYSQL_PASSWORD}@@';\nDELETE FROM mysql.user WHERE User='root' AND Host NOT IN ('localhost', '127.0.0.1', '::1');\nDELETE FROM mysql.user WHERE User='';\nDELETE FROM mysql.db WHERE Db='test' OR Db='test\\_%';\nFLUSH PRIVILEGES;\nEOF\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Setup MySQL"}],"description":"","message_list":[],"uuid":"f99ee337-ea25-b933-6994-aa24d5f3af53","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"9cbec184_dag_cloned_1","uuid":"2ef86ce2-ebbb-7f4f-3528-4309727c0363"},"name":"ee9a3de0_runbook_cloned_0"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"VMwareMasterPackage","uuid":"ad5a77a8-44ba-36bb-9693-8c461a120643"},"retries":"0","description":"","type":"DAG","uuid":"b105d984-4342-d553-1458-71c62a20fa90","child_tasks_local_reference_list":[{"kind":"app_task","name":"PackageUninstallTask_cloned_1","uuid":"ea01c511-5753-b25a-ec93-f6d2e74b5805"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"7e474eb1_dag_cloned_1"},{"target_any_local_reference":{"kind":"app_package","name":"VMwareMasterPackage","uuid":"ad5a77a8-44ba-36bb-9693-8c461a120643"},"retries":"0","description":"","type":"EXEC","uuid":"ea01c511-5753-b25a-ec93-f6d2e74b5805","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"PackageUninstallTask_cloned_1"}],"description":"","message_list":[],"uuid":"9238b19b-d9e8-6089-d636-bec4a54f2896","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"7e474eb1_dag_cloned_1","uuid":"b105d984-4342-d553-1458-71c62a20fa90"},"name":"4235ede6_runbook_cloned_0"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Uninstall_Crb_ad5a77a8_44ba_36bb_9693_8c461a120643"}],"description":"","message_list":[],"uuid":"d786637b-4efd-47fe-a363-68565ca0ea71","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Package_ad5a77a8_44ba_36bb_9693_8c461a120643","uuid":"87ff30c3-6467-44de-b346-7e8b8519adda"},"name":"SYS_GEN__Runbook_Package_ad5a77a8_44ba_36bb_9693_8c461a120643"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"30e45608-ea99-438b-aab2-bfe486b974c9","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"VMwareMasterPackage","uuid":"ad5a77a8-44ba-36bb-9693-8c461a120643"},"retries":"0","description":"","type":"DAG","uuid":"5174419a-b109-49f4-95ab-90f8226c148e","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"b93954cb-c218-49a5-8fc3-382c75c70aaa"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"203b1677-9371-42f2-a390-67b1ce9f3ecb"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_ad5a77a8_44ba_36bb_9693_8c461a120643","uuid":"8673de06-cd89-418f-88e4-778ac00b1de7"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"b93954cb-c218-49a5-8fc3-382c75c70aaa"},"edge_type":"inherent","type":"","uuid":"49a6004f-9e73-43a7-8f87-3c736c782c5b","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"203b1677-9371-42f2-a390-67b1ce9f3ecb"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"203b1677-9371-42f2-a390-67b1ce9f3ecb"},"edge_type":"inherent","type":"","uuid":"63c0640b-95f0-4c51-9a92-ee1ebdb644b0","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_ad5a77a8_44ba_36bb_9693_8c461a120643","uuid":"8673de06-cd89-418f-88e4-778ac00b1de7"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_ad5a77a8_44ba_36bb_9693_8c461a120643"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"b93954cb-c218-49a5-8fc3-382c75c70aaa","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0aefbca3_runbook","uuid":"a75d0021-cf2d-4da4-85dc-56ee0ed9e9eb"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"203b1677-9371-42f2-a390-67b1ce9f3ecb","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"5fd47ec3_runbook","uuid":"7e58dd6b-1da9-495c-97e7-84bb6e288586"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd"},{"target_any_local_reference":{"kind":"app_package","name":"VMwareMasterPackage","uuid":"ad5a77a8-44ba-36bb-9693-8c461a120643"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"8673de06-cd89-418f-88e4-778ac00b1de7","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_ad5a77a8_44ba_36bb_9693_8c461a120643","uuid":"d786637b-4efd-47fe-a363-68565ca0ea71"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_ad5a77a8_44ba_36bb_9693_8c461a120643"}],"description":"","message_list":[],"uuid":"f2ad0f0c-ef35-4e3f-9930-1f0c31c9ef30","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_ad5a77a8_44ba_36bb_9693_8c461a120643","uuid":"5174419a-b109-49f4-95ab-90f8226c148e"},"name":"SYS_GEN__Runbook_Package_ad5a77a8_44ba_36bb_9693_8c461a120643"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"8dab4b69-77bb-47ea-9dc8-b166139fa142","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"VMwareMasterPackage","uuid":"ad5a77a8-44ba-36bb-9693-8c461a120643"},"retries":"0","description":"","type":"DAG","uuid":"186249b9-8cdc-47aa-b286-bfaca4e14015","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"2e84a86a-6930-4859-851b-3d1ab2c6a72e"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_ad5a77a8_44ba_36bb_9693_8c461a120643","uuid":"20550efe-4bff-4dc0-97f5-a16923b9c064"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"2e84a86a-6930-4859-851b-3d1ab2c6a72e"},"edge_type":"inherent","type":"","uuid":"2848a6fb-eb0e-4862-90a9-fbc0a09950fe","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_ad5a77a8_44ba_36bb_9693_8c461a120643","uuid":"20550efe-4bff-4dc0-97f5-a16923b9c064"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_ad5a77a8_44ba_36bb_9693_8c461a120643"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"2e84a86a-6930-4859-851b-3d1ab2c6a72e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"9b57420b-3c50-4fbe-8880-9c7651fd25ad"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd"},{"target_any_local_reference":{"kind":"app_package","name":"VMwareMasterPackage","uuid":"ad5a77a8-44ba-36bb-9693-8c461a120643"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"20550efe-4bff-4dc0-97f5-a16923b9c064","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_ad5a77a8_44ba_36bb_9693_8c461a120643"}],"description":"","message_list":[],"uuid":"bafcc5db-bf35-4a88-9639-44fe1db6b8ba","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_ad5a77a8_44ba_36bb_9693_8c461a120643","uuid":"186249b9-8cdc-47aa-b286-bfaca4e14015"},"name":"SYS_GEN__Runbook_Package_ad5a77a8_44ba_36bb_9693_8c461a120643"}},{"description":"System action for starting an application","message_list":[],"uuid":"9a7be146-346f-4396-aa69-f3f89d08da8f","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"VMwareMasterPackage","uuid":"ad5a77a8-44ba-36bb-9693-8c461a120643"},"retries":"0","description":"","type":"DAG","uuid":"0e106d27-b819-4e15-b69e-19feb50f822a","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"5e7611ce-9799-469a-8594-7937b3b73a78"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_ad5a77a8_44ba_36bb_9693_8c461a120643"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"5e7611ce-9799-469a-8594-7937b3b73a78","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"5ddb28d1_runbook","uuid":"f88c4d73-c0ab-488b-a016-3e1453b91891"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd"}],"description":"","message_list":[],"uuid":"b46aa4c3-08f9-4de9-aa8b-6df2e15d1009","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_ad5a77a8_44ba_36bb_9693_8c461a120643","uuid":"0e106d27-b819-4e15-b69e-19feb50f822a"},"name":"SYS_GEN__Runbook_Package_ad5a77a8_44ba_36bb_9693_8c461a120643"}},{"description":"System action for restarting an application","message_list":[],"uuid":"2fa16be3-bd07-441c-8bfe-6742fe9f5f3b","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"VMwareMasterPackage","uuid":"ad5a77a8-44ba-36bb-9693-8c461a120643"},"retries":"0","description":"","type":"DAG","uuid":"f5253a41-c64a-4cff-a266-faac5c56c5b2","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"2f43cea6-8c76-4920-9b05-b8f99ba1d753"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_ad5a77a8_44ba_36bb_9693_8c461a120643"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"2f43cea6-8c76-4920-9b05-b8f99ba1d753","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"7e709238_runbook","uuid":"6beb8e29-06b2-4218-a1fd-18c28d8c6218"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd"}],"description":"","message_list":[],"uuid":"bf8d28dc-76fd-43c2-adc8-bf01d12d8b5e","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_ad5a77a8_44ba_36bb_9693_8c461a120643","uuid":"f5253a41-c64a-4cff-a266-faac5c56c5b2"},"name":"SYS_GEN__Runbook_Package_ad5a77a8_44ba_36bb_9693_8c461a120643"}},{"description":"System action for stopping an application","message_list":[],"uuid":"5765a785-4da7-4dc8-922c-7d6bfb74f3eb","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"VMwareMasterPackage","uuid":"ad5a77a8-44ba-36bb-9693-8c461a120643"},"retries":"0","description":"","type":"DAG","uuid":"a2552be0-ed4a-45af-8df3-ac4132100832","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd","uuid":"7eeaa488-31d0-4362-acb5-503b79804245"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_ad5a77a8_44ba_36bb_9693_8c461a120643"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"7eeaa488-31d0-4362-acb5-503b79804245","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0aefbca3_runbook","uuid":"a75d0021-cf2d-4da4-85dc-56ee0ed9e9eb"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_f9269cde_e6a4_4381_8979_810e76afd1bd"}],"description":"","message_list":[],"uuid":"5e8b9c7d-664a-4b80-af1b-77b458cdbce4","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_ad5a77a8_44ba_36bb_9693_8c461a120643","uuid":"a2552be0-ed4a-45af-8df3-ac4132100832"},"name":"SYS_GEN__Runbook_Package_ad5a77a8_44ba_36bb_9693_8c461a120643"}}],"message_list":[],"service_local_reference_list":[{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"}],"uuid":"ad5a77a8-44ba-36bb-9693-8c461a120643","state":"ACTIVE","version":"","editables":{},"type":"DEB","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"VMwareMasterPackage","uuid":"ad5a77a8-44ba-36bb-9693-8c461a120643"},"retries":"0","description":"","type":"DAG","uuid":"2ef86ce2-ebbb-7f4f-3528-4309727c0363","child_tasks_local_reference_list":[{"kind":"app_task","name":"Install System Packages","uuid":"fedc1b14-feee-48db-98ba-4e6b475f80ab"},{"kind":"app_task","name":"Create Disk Setup","uuid":"b2cb3727-b371-3c50-169c-49b90666f9ad"},{"kind":"app_task","name":"Install MySQL","uuid":"6e26c773-87e7-7d04-7210-0de15b34eca2"},{"kind":"app_task","name":"Setup MySQL","uuid":"6e8653b7-8e67-2112-3c83-085b3e352e7d"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Install System Packages","uuid":"fedc1b14-feee-48db-98ba-4e6b475f80ab"},"edge_type":"user_defined","type":"","uuid":"b183a53a-6cb2-21af-45c4-e701154f71f3","to_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"b2cb3727-b371-3c50-169c-49b90666f9ad"}},{"from_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"b2cb3727-b371-3c50-169c-49b90666f9ad"},"edge_type":"user_defined","type":"","uuid":"73195f73-b0b2-a26d-b182-1eec6b70014f","to_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"6e26c773-87e7-7d04-7210-0de15b34eca2"}},{"from_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"6e26c773-87e7-7d04-7210-0de15b34eca2"},"edge_type":"user_defined","type":"","uuid":"120b5a50-5598-debe-f330-81d6bb8700dc","to_task_reference":{"kind":"app_task","name":"Setup MySQL","uuid":"6e8653b7-8e67-2112-3c83-085b3e352e7d"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"9cbec184_dag_cloned_1"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"EXEC","uuid":"fedc1b14-feee-48db-98ba-4e6b475f80ab","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n# -*- Install Mysql\nsudo yum update -y --quiet\nsudo yum install -y  wget xfs* bc unzip lvm2* lsscsi\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"System packages are installed\"","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install System Packages"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"EXEC","uuid":"b2cb3727-b371-3c50-169c-49b90666f9ad","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n##############\n#\n# LVM setup script for MySQL . 4 disks for DATA and 4 for logs\n# Data disks are 50GB | Log disks are 25GB \n#\n#############\n\n\n#PGSQL data\nsudo pvcreate \/dev\/sdb \/dev\/sdc \/dev\/sdd \/dev\/sde\nsudo vgcreate mysqlDataVG \/dev\/sdb \/dev\/sdd \/dev\/sdc \/dev\/sde\nsudo lvcreate -l 100%FREE -i4 -I1M -n mysqlDataLV mysqlDataVG          ## Use 1MB to avoid IO amplification \n#lvcreate -l 100%FREE -i4 -I4M -n pgDataLV pgDataVG\n\n\n#PGSQL logs\nsudo pvcreate \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo vgcreate mysqlLogVG \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo lvcreate -l 100%FREE -i2 -I1M -n mysqlLogLV mysqlLogVG            ## Use 1MB to avoid IO amplification\n#lvcreate -l 100%FREE -i2 -I4M -n pgLogLV pgLogVG\n\n\n#Disable LVM read ahead\nsudo lvchange -r 0 \/dev\/mysqlDataVG\/mysqlDataLV\nsudo lvchange -r 0 \/dev\/mysqlLogVG\/mysqlLogLV\n\n\n#Format LVMs with ext4 and use nodiscard to make sure format time is fast on Nutanix due to SCSI unmap\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlDataVG\/mysqlDataLV\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlLogVG\/mysqlLogLV\n\nsleep 10\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Create Disk Setup"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"EXEC","uuid":"6e26c773-87e7-7d04-7210-0de15b34eca2","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nsudo hostnamectl set-hostname \"@@{name}@@\"\n\n# -*- Mysql installation \nsudo yum install -y --quiet \"http:\/\/repo.mysql.com\/mysql80-community-release-el7.rpm\"\nsudo yum update -y --quiet\nsudo yum install -y --quiet sshpass mysql-community-server.x86_64\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install MySQL"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","type":"EXEC","uuid":"6e8653b7-8e67-2112-3c83-085b3e352e7d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\necho \"!includedir \/etc\/my.cnf.d\" | sudo tee -a \/etc\/my.cnf\n\necho \"[mysqld]\nbinlog-format=mixed\nlog-bin=mysql-bin\ndatadir=\/mysql\/data\nsql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES\ninnodb_data_home_dir = \/mysql\/data\ninnodb_log_group_home_dir = \/mysql\/log\ninnodb_file_per_table\ntmpdir=\/mysql\/tmpdir\ninnodb_undo_directory = \/mysql\/undo\ndefault-storage-engine = innodb\ndefault_tmp_storage_engine = innodb\ninnodb_log_files_in_group = 4\ninnodb_log_file_size = 1G\ninnodb_log_buffer_size = 8M\ninnodb_buffer_pool_size = 6G\t\nlarge-pages\t\ninnodb_buffer_pool_instances = 64\t\ninnodb_flush_method=O_DIRECT\t\ninnodb_flush_neighbors=0\t \ninnodb_flush_log_at_trx_commit=1\ninnodb_buffer_pool_dump_at_shutdown=1\t\ninnodb_buffer_pool_load_at_startup=1\t\nbulk_insert_buffer_size = 256\t\ninnodb_thread_concurrency = 16\t\n \t \n# Undo tablespace\t \ninnodb_undo_tablespaces = 5\t\n \t \n# Networking\t \nwait_timeout=57600\t \nmax_allowed_packet=1G\t\nsocket=\/var\/lib\/mysql\/mysql.sock\t \nskip-name-resolve\nport=3306\t\nmax_connections=1000\t\n\n\n[mysqld_safe]\nlog-error=\/mysql\/log\/mysqld.log\npid-file=\/var\/run\/mysqld\/mysqld.pid\" | sudo tee \/etc\/my.cnf.d\/nutanix.cnf\n\nsudo sed -i \"\/\\[mysqld\\]\/a server-id=100\" \/etc\/my.cnf.d\/nutanix.cnf\necho \"#master=100\" | sudo tee -a  \/etc\/my.cnf.d\/nutanix.cnf\n\nserver_id=`sudo cat \/etc\/my.cnf.d\/nutanix.cnf | grep  \"server-id=\" | cut -d= -f2`\nis_master=`sudo cat \/etc\/my.cnf.d\/nutanix.cnf | grep -q -w \"#master=$server_id\"; echo $?`\n\nif [ ${is_master} -ne 0 ]\nthen\n   sudo sed -i '\/\\[mysqld\\]\/a read_only=1' \/etc\/my.cnf.d\/nutanix.cnf\nfi\n\n# -*- Sysctl configuration\nmysql_grp_id=`id -g mysql`\nsudo sysctl -w vm.swappiness=0\nsudo sysctl -w vm.nr_hugepages=1024\nsudo sysctl -w vm.overcommit_memory=1\nsudo sysctl -w vm.dirty_background_ratio=5 \nsudo sysctl -w vm.dirty_ratio=15\nsudo sysctl -w vm.dirty_expire_centisecs=500\nsudo sysctl -w vm.dirty_writeback_centisecs=100\nsudo sysctl -w vm.hugetlb_shm_group=$mysql_grp_id\n\necho \"vm.swappiness=0\nvm.nr_hugepages=1024\nvm.overcommit_memory=1\nvm.dirty_background_ratio=5 \nvm.dirty_ratio=15\nvm.dirty_expire_centisecs=500\nvm.dirty_writeback_centisecs=100\nvm.hugetlb_shm_group=$mysql_grp_id\" | sudo tee  -a \/etc\/sysctl.conf\n\necho \"ACTION=='add|change', SUBSYSTEM=='block', RUN+='\/bin\/sh -c \\\"\/bin\/echo 1024 > \/sys%p\/queue\/max_sectors_kb\\\"'\" | sudo tee \/etc\/udev\/rules.d\/71-block-max-sectors.rules\n\necho \"\/dev\/mysqlDataVG\/mysqlDataLV \/mysql\/data ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\necho \"\/dev\/mysqlLogVG\/mysqlLogLV \/mysql\/log ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\nsudo mkdir -p \/mysql\/log \/mysql\/data \/mysql\/tmpdir \/mysql\/undo\nsudo mount -a\nsudo chown -R mysql:mysql \/mysql\n\nsudo systemctl enable mysqld\n\nsudo rm -rf \/mysql\/data\/*\nsudo systemctl start mysqld\n\n#Fix to obtain temp password and set it to blank\npassword=$(grep -oP 'temporary password(.*): \\K(\\S+)' \/var\/log\/mysqld.log)\nsudo mysqladmin --user=root --password=\"$password\" password aaBB**cc1122\nsudo mysql --user=root --password=aaBB**cc1122 -e \"UNINSTALL COMPONENT 'file:\/\/component_validate_password'\"\nsudo mysqladmin --user=root --password=\"aaBB**cc1122\" password \"\"\n\n\n#Mysql secure installation\nsudo mysql -u root<<-EOF\nALTER USER 'root'@'localhost' IDENTIFIED WITH caching_sha2_password BY '@@{MYSQL_PASSWORD}@@';\nDELETE FROM mysql.user WHERE User='root' AND Host NOT IN ('localhost', '127.0.0.1', '::1');\nDELETE FROM mysql.user WHERE User='';\nDELETE FROM mysql.db WHERE Db='test' OR Db='test\\_%';\nFLUSH PRIVILEGES;\nEOF\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Setup MySQL"}],"description":"","message_list":[],"uuid":"f99ee337-ea25-b933-6994-aa24d5f3af53","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"9cbec184_dag_cloned_1","uuid":"2ef86ce2-ebbb-7f4f-3528-4309727c0363"},"name":"ee9a3de0_runbook_cloned_0"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"VMwareMasterPackage","uuid":"ad5a77a8-44ba-36bb-9693-8c461a120643"},"retries":"0","description":"","type":"DAG","uuid":"b105d984-4342-d553-1458-71c62a20fa90","child_tasks_local_reference_list":[{"kind":"app_task","name":"PackageUninstallTask_cloned_1","uuid":"ea01c511-5753-b25a-ec93-f6d2e74b5805"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"7e474eb1_dag_cloned_1"},{"target_any_local_reference":{"kind":"app_package","name":"VMwareMasterPackage","uuid":"ad5a77a8-44ba-36bb-9693-8c461a120643"},"retries":"0","description":"","type":"EXEC","uuid":"ea01c511-5753-b25a-ec93-f6d2e74b5805","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"PackageUninstallTask_cloned_1"}],"description":"","message_list":[],"uuid":"9238b19b-d9e8-6089-d636-bec4a54f2896","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"7e474eb1_dag_cloned_1","uuid":"b105d984-4342-d553-1458-71c62a20fa90"},"name":"4235ede6_runbook_cloned_0"}},"variable_list":[],"name":"VMwareMasterPackage"},{"description":"","action_list":[{"description":"System action for installing an application","message_list":[],"uuid":"bffd9b41-3124-4f56-847e-6e85a25a0564","name":"action_install","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"VMwareSlavePackage","uuid":"9b8bdfab-7dac-86a0-15bd-235d3eebd8f7"},"retries":"0","description":"","type":"DAG","uuid":"bb9477e1-32ec-4880-8d33-50ebdbbdd0e5","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Install_Crb_9b8bdfab_7dac_86a0_15bd_235d3eebd8f7","uuid":"ede9309a-bf24-4dea-866f-28458b2044a7"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Package_9b8bdfab_7dac_86a0_15bd_235d3eebd8f7"},{"target_any_local_reference":{"kind":"app_package","name":"VMwareSlavePackage","uuid":"9b8bdfab-7dac-86a0-15bd-235d3eebd8f7"},"retries":"0","description":"","type":"CUSTOM_PACKAGE_INSTALL","uuid":"ede9309a-bf24-4dea-866f-28458b2044a7","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"VMwareSlavePackage","uuid":"9b8bdfab-7dac-86a0-15bd-235d3eebd8f7"},"retries":"0","description":"","type":"DAG","uuid":"082fbc74-410a-021b-cff1-85b710a81bfd","child_tasks_local_reference_list":[{"kind":"app_task","name":"Install System Packages","uuid":"320bf989-b85e-2d3f-acef-ae82a8bc6c81"},{"kind":"app_task","name":"Create Disk Setup","uuid":"84acb97e-baed-3a77-702b-4890b54f916f"},{"kind":"app_task","name":"Install MySQL","uuid":"3dc360d7-4c02-1512-54b1-a4b49b10305b"},{"kind":"app_task","name":"Setup MySQL","uuid":"16c4e0f4-816c-cc3b-bfe1-8fe50bf07478"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Install System Packages","uuid":"320bf989-b85e-2d3f-acef-ae82a8bc6c81"},"edge_type":"user_defined","type":"","uuid":"dc370025-7508-a62c-9f17-6ff2bc47a500","to_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"84acb97e-baed-3a77-702b-4890b54f916f"}},{"from_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"84acb97e-baed-3a77-702b-4890b54f916f"},"edge_type":"user_defined","type":"","uuid":"a9bd3733-bbbe-89f4-0bb5-f75d19f970d4","to_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"3dc360d7-4c02-1512-54b1-a4b49b10305b"}},{"from_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"3dc360d7-4c02-1512-54b1-a4b49b10305b"},"edge_type":"user_defined","type":"","uuid":"e24f1ece-dc18-ba6c-553a-78a34aaf2ff4","to_task_reference":{"kind":"app_task","name":"Setup MySQL","uuid":"16c4e0f4-816c-cc3b-bfe1-8fe50bf07478"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"35a5e492_dag_cloned_1"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"EXEC","uuid":"320bf989-b85e-2d3f-acef-ae82a8bc6c81","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n# -*- Install Mysql\nsudo yum update -y --quiet\nsudo yum install -y  wget xfs* bc unzip lvm2* lsscsi\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"System packages are installed\"","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install System Packages"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"EXEC","uuid":"84acb97e-baed-3a77-702b-4890b54f916f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n##############\n#\n# LVM setup script for MySQL . 4 disks for DATA and 4 for logs\n# Data disks are 50GB | Log disks are 25GB \n#\n#############\n\n\n#PGSQL data\nsudo pvcreate \/dev\/sdb \/dev\/sdc \/dev\/sdd \/dev\/sde\nsudo vgcreate mysqlDataVG \/dev\/sdb \/dev\/sdd \/dev\/sdc \/dev\/sde\nsudo lvcreate -l 100%FREE -i4 -I1M -n mysqlDataLV mysqlDataVG          ## Use 1MB to avoid IO amplification \n#lvcreate -l 100%FREE -i4 -I4M -n pgDataLV pgDataVG\n\n\n#PGSQL logs\nsudo pvcreate \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo vgcreate mysqlLogVG \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo lvcreate -l 100%FREE -i2 -I1M -n mysqlLogLV mysqlLogVG            ## Use 1MB to avoid IO amplification\n#lvcreate -l 100%FREE -i2 -I4M -n pgLogLV pgLogVG\n\n\n#Disable LVM read ahead\nsudo lvchange -r 0 \/dev\/mysqlDataVG\/mysqlDataLV\nsudo lvchange -r 0 \/dev\/mysqlLogVG\/mysqlLogLV\n\n\n#Format LVMs with ext4 and use nodiscard to make sure format time is fast on Nutanix due to SCSI unmap\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlDataVG\/mysqlDataLV\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlLogVG\/mysqlLogLV\n\nsleep 10\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Create Disk Setup"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"EXEC","uuid":"3dc360d7-4c02-1512-54b1-a4b49b10305b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nsudo hostnamectl set-hostname \"@@{name}@@\"\n\n# -*- Mysql installation \nsudo yum install -y --quiet \"http:\/\/repo.mysql.com\/mysql80-community-release-el7.rpm\"\nsudo yum update -y --quiet\nsudo yum install -y --quiet sshpass mysql-community-server.x86_64\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install MySQL"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"EXEC","uuid":"16c4e0f4-816c-cc3b-bfe1-8fe50bf07478","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\necho \"!includedir \/etc\/my.cnf.d\" | sudo tee -a \/etc\/my.cnf\n\necho \"[mysqld]\nbinlog-format=mixed\nlog-bin=mysql-bin\ndatadir=\/mysql\/data\nsql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES\ninnodb_data_home_dir = \/mysql\/data\ninnodb_log_group_home_dir = \/mysql\/log\ninnodb_file_per_table\ntmpdir=\/mysql\/tmpdir\ninnodb_undo_directory = \/mysql\/undo\ndefault-storage-engine = innodb\ndefault_tmp_storage_engine = innodb\ninnodb_log_files_in_group = 4\ninnodb_log_file_size = 1G\ninnodb_log_buffer_size = 8M\ninnodb_buffer_pool_size = 6G\t\nlarge-pages\t\ninnodb_buffer_pool_instances = 64\t\ninnodb_flush_method=O_DIRECT\t\ninnodb_flush_neighbors=0\t \ninnodb_flush_log_at_trx_commit=1\ninnodb_buffer_pool_dump_at_shutdown=1\t\ninnodb_buffer_pool_load_at_startup=1\t\nbulk_insert_buffer_size = 256\t\ninnodb_thread_concurrency = 16\t\n \t \n# Undo tablespace\t \ninnodb_undo_tablespaces = 5\t\n \t \n# Networking\t \nwait_timeout=57600\t \nmax_allowed_packet=1G\t\nsocket=\/var\/lib\/mysql\/mysql.sock\t \nskip-name-resolve\nport=3306\t\nmax_connections=1000\t\n\n\n[mysqld_safe]\nlog-error=\/mysql\/log\/mysqld.log\npid-file=\/var\/run\/mysqld\/mysqld.pid\" | sudo tee \/etc\/my.cnf.d\/nutanix.cnf\n\necho \"#master=100\" | sudo tee -a  \/etc\/my.cnf.d\/nutanix.cnf\n\nserver_id=`sudo cat \/etc\/my.cnf | grep  \"server-id=\" | cut -d= -f2`\nis_master=`sudo cat \/etc\/my.cnf | grep -q -w \"#master=$server_id\"; echo $?`\n\nif [ ${is_master} -ne 0 ]\nthen\n   sudo sed -i '\/\\[mysqld\\]\/a read_only=1' \/etc\/my.cnf.d\/nutanix.cnf\nfi\n\n# -*- Sysctl configuration\nmysql_grp_id=`id -g mysql`\nsudo sysctl -w vm.swappiness=0\nsudo sysctl -w vm.nr_hugepages=1024\nsudo sysctl -w vm.overcommit_memory=1\nsudo sysctl -w vm.dirty_background_ratio=5 \nsudo sysctl -w vm.dirty_ratio=15\nsudo sysctl -w vm.dirty_expire_centisecs=500\nsudo sysctl -w vm.dirty_writeback_centisecs=100\nsudo sysctl -w vm.hugetlb_shm_group=$mysql_grp_id\n\necho \"vm.swappiness=0\nvm.nr_hugepages=1024\nvm.overcommit_memory=1\nvm.dirty_background_ratio=5 \nvm.dirty_ratio=15\nvm.dirty_expire_centisecs=500\nvm.dirty_writeback_centisecs=100\nvm.hugetlb_shm_group=$mysql_grp_id\" | sudo tee  -a \/etc\/sysctl.conf\n\necho \"ACTION=='add|change', SUBSYSTEM=='block', RUN+='\/bin\/sh -c \\\"\/bin\/echo 1024 > \/sys%p\/queue\/max_sectors_kb\\\"'\" | sudo tee \/etc\/udev\/rules.d\/71-block-max-sectors.rules\n\n\necho \"\/dev\/mysqlDataVG\/mysqlDataLV \/mysql\/data ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\necho \"\/dev\/mysqlLogVG\/mysqlLogLV \/mysql\/log ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\nsudo mkdir -p \/mysql\/log \/mysql\/data \/mysql\/tmpdir \/mysql\/undo\nsudo mount -a\nsudo chown -R mysql:mysql \/mysql\n\nsudo systemctl enable mysqld\n\nsudo rm -rf \/mysql\/data\/*\nsudo systemctl start mysqld\n\n#Fix to obtain temp password and set it to blank\npassword=$(grep -oP 'temporary password(.*): \\K(\\S+)' \/var\/log\/mysqld.log)\nsudo mysqladmin --user=root --password=\"$password\" password aaBB**cc1122\nsudo mysql --user=root --password=aaBB**cc1122 -e \"UNINSTALL COMPONENT 'file:\/\/component_validate_password'\"\nsudo mysqladmin --user=root --password=\"aaBB**cc1122\" password \"\"\n\n\n#Mysql secure installation\nsudo mysql -u root<<-EOF\nALTER USER 'root'@'localhost' IDENTIFIED WITH caching_sha2_password BY '@@{MYSQL_PASSWORD}@@';\nDELETE FROM mysql.user WHERE User='root' AND Host NOT IN ('localhost', '127.0.0.1', '::1');\nDELETE FROM mysql.user WHERE User='';\nDELETE FROM mysql.db WHERE Db='test' OR Db='test\\_%';\nFLUSH PRIVILEGES;\nEOF\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Setup MySQL"}],"description":"","message_list":[],"uuid":"ec092b08-afbb-9f47-e1e0-88b40b251f30","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"35a5e492_dag_cloned_1","uuid":"082fbc74-410a-021b-cff1-85b710a81bfd"},"name":"db3247c6_runbook_cloned_0"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"VMwareSlavePackage","uuid":"9b8bdfab-7dac-86a0-15bd-235d3eebd8f7"},"retries":"0","description":"","type":"DAG","uuid":"1cdc85c9-4a7c-7573-9df8-1d1da92e0fd9","child_tasks_local_reference_list":[{"kind":"app_task","name":"PackageUninstallTask_cloned_1","uuid":"42d4485b-fdf2-7ea1-b4e9-66a90637f5ca"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"53d74d7d_dag_cloned_1"},{"target_any_local_reference":{"kind":"app_package","name":"VMwareSlavePackage","uuid":"9b8bdfab-7dac-86a0-15bd-235d3eebd8f7"},"retries":"0","description":"","type":"EXEC","uuid":"42d4485b-fdf2-7ea1-b4e9-66a90637f5ca","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"PackageUninstallTask_cloned_1"}],"description":"","message_list":[],"uuid":"eabeaffa-3fe9-b8f5-470d-97539b96caff","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"53d74d7d_dag_cloned_1","uuid":"1cdc85c9-4a7c-7573-9df8-1d1da92e0fd9"},"name":"a4fbe7d2_runbook_cloned_0"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Install_Crb_9b8bdfab_7dac_86a0_15bd_235d3eebd8f7"}],"description":"","message_list":[],"uuid":"950fe5fa-8592-4609-9327-c9089feb166a","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Package_9b8bdfab_7dac_86a0_15bd_235d3eebd8f7","uuid":"bb9477e1-32ec-4880-8d33-50ebdbbdd0e5"},"name":"SYS_GEN__Runbook_Package_9b8bdfab_7dac_86a0_15bd_235d3eebd8f7"}},{"description":"System action for creating an application","message_list":[],"uuid":"5c8d1acb-8847-44bb-93ab-dbb8fac74ff8","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"VMwareSlavePackage","uuid":"9b8bdfab-7dac-86a0-15bd-235d3eebd8f7"},"retries":"0","description":"","type":"DAG","uuid":"1e9e785b-158d-4759-8a04-fab147bc20b3","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_9b8bdfab_7dac_86a0_15bd_235d3eebd8f7","uuid":"3d1ef36f-f93f-4507-8fce-4a267ee52412"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"3c3d0683-6fc5-49a3-a43b-1774ebf1508d"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"f427f81f-d183-456e-bf53-d9dc9bcbaf82"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"3c3d0683-6fc5-49a3-a43b-1774ebf1508d"},"edge_type":"inherent","type":"","uuid":"3a373fb6-5c01-48ca-89fd-dd65f389672d","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"f427f81f-d183-456e-bf53-d9dc9bcbaf82"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_9b8bdfab_7dac_86a0_15bd_235d3eebd8f7","uuid":"3d1ef36f-f93f-4507-8fce-4a267ee52412"},"edge_type":"inherent","type":"","uuid":"35b75df0-bf77-4ad9-ac43-a9c798214247","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"3c3d0683-6fc5-49a3-a43b-1774ebf1508d"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_9b8bdfab_7dac_86a0_15bd_235d3eebd8f7"},{"target_any_local_reference":{"kind":"app_package","name":"VMwareSlavePackage","uuid":"9b8bdfab-7dac-86a0-15bd-235d3eebd8f7"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"3d1ef36f-f93f-4507-8fce-4a267ee52412","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_9b8bdfab_7dac_86a0_15bd_235d3eebd8f7","uuid":"950fe5fa-8592-4609-9327-c9089feb166a"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_9b8bdfab_7dac_86a0_15bd_235d3eebd8f7"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"3c3d0683-6fc5-49a3-a43b-1774ebf1508d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"d54168c9_runbook","uuid":"e509001d-6b88-4a64-813c-0ce8ea81991a"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"f427f81f-d183-456e-bf53-d9dc9bcbaf82","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"a027cde0_runbook","uuid":"0afbc7f3-5541-415f-9616-c459f09806b2"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400"}],"description":"","message_list":[],"uuid":"8c70f2cb-3ee0-455f-bf07-368e734b68af","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_9b8bdfab_7dac_86a0_15bd_235d3eebd8f7","uuid":"1e9e785b-158d-4759-8a04-fab147bc20b3"},"name":"SYS_GEN__Runbook_Package_9b8bdfab_7dac_86a0_15bd_235d3eebd8f7"}},{"description":"System action for uninstalling an application","message_list":[],"uuid":"456bf2b2-4ed7-464c-a725-a2675ba8c0a0","name":"action_uninstall","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"VMwareSlavePackage","uuid":"9b8bdfab-7dac-86a0-15bd-235d3eebd8f7"},"retries":"0","description":"","type":"DAG","uuid":"d464cfea-df82-4202-a2cb-c16add894215","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Uninstall_Crb_9b8bdfab_7dac_86a0_15bd_235d3eebd8f7","uuid":"f1bd2ac7-d4bf-4880-95f6-7ea919288a77"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Package_9b8bdfab_7dac_86a0_15bd_235d3eebd8f7"},{"target_any_local_reference":{"kind":"app_package","name":"VMwareSlavePackage","uuid":"9b8bdfab-7dac-86a0-15bd-235d3eebd8f7"},"retries":"0","description":"","type":"CUSTOM_PACKAGE_UNINSTALL","uuid":"f1bd2ac7-d4bf-4880-95f6-7ea919288a77","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"VMwareSlavePackage","uuid":"9b8bdfab-7dac-86a0-15bd-235d3eebd8f7"},"retries":"0","description":"","type":"DAG","uuid":"082fbc74-410a-021b-cff1-85b710a81bfd","child_tasks_local_reference_list":[{"kind":"app_task","name":"Install System Packages","uuid":"320bf989-b85e-2d3f-acef-ae82a8bc6c81"},{"kind":"app_task","name":"Create Disk Setup","uuid":"84acb97e-baed-3a77-702b-4890b54f916f"},{"kind":"app_task","name":"Install MySQL","uuid":"3dc360d7-4c02-1512-54b1-a4b49b10305b"},{"kind":"app_task","name":"Setup MySQL","uuid":"16c4e0f4-816c-cc3b-bfe1-8fe50bf07478"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Install System Packages","uuid":"320bf989-b85e-2d3f-acef-ae82a8bc6c81"},"edge_type":"user_defined","type":"","uuid":"dc370025-7508-a62c-9f17-6ff2bc47a500","to_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"84acb97e-baed-3a77-702b-4890b54f916f"}},{"from_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"84acb97e-baed-3a77-702b-4890b54f916f"},"edge_type":"user_defined","type":"","uuid":"a9bd3733-bbbe-89f4-0bb5-f75d19f970d4","to_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"3dc360d7-4c02-1512-54b1-a4b49b10305b"}},{"from_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"3dc360d7-4c02-1512-54b1-a4b49b10305b"},"edge_type":"user_defined","type":"","uuid":"e24f1ece-dc18-ba6c-553a-78a34aaf2ff4","to_task_reference":{"kind":"app_task","name":"Setup MySQL","uuid":"16c4e0f4-816c-cc3b-bfe1-8fe50bf07478"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"35a5e492_dag_cloned_1"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"EXEC","uuid":"320bf989-b85e-2d3f-acef-ae82a8bc6c81","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n# -*- Install Mysql\nsudo yum update -y --quiet\nsudo yum install -y  wget xfs* bc unzip lvm2* lsscsi\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"System packages are installed\"","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install System Packages"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"EXEC","uuid":"84acb97e-baed-3a77-702b-4890b54f916f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n##############\n#\n# LVM setup script for MySQL . 4 disks for DATA and 4 for logs\n# Data disks are 50GB | Log disks are 25GB \n#\n#############\n\n\n#PGSQL data\nsudo pvcreate \/dev\/sdb \/dev\/sdc \/dev\/sdd \/dev\/sde\nsudo vgcreate mysqlDataVG \/dev\/sdb \/dev\/sdd \/dev\/sdc \/dev\/sde\nsudo lvcreate -l 100%FREE -i4 -I1M -n mysqlDataLV mysqlDataVG          ## Use 1MB to avoid IO amplification \n#lvcreate -l 100%FREE -i4 -I4M -n pgDataLV pgDataVG\n\n\n#PGSQL logs\nsudo pvcreate \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo vgcreate mysqlLogVG \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo lvcreate -l 100%FREE -i2 -I1M -n mysqlLogLV mysqlLogVG            ## Use 1MB to avoid IO amplification\n#lvcreate -l 100%FREE -i2 -I4M -n pgLogLV pgLogVG\n\n\n#Disable LVM read ahead\nsudo lvchange -r 0 \/dev\/mysqlDataVG\/mysqlDataLV\nsudo lvchange -r 0 \/dev\/mysqlLogVG\/mysqlLogLV\n\n\n#Format LVMs with ext4 and use nodiscard to make sure format time is fast on Nutanix due to SCSI unmap\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlDataVG\/mysqlDataLV\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlLogVG\/mysqlLogLV\n\nsleep 10\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Create Disk Setup"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"EXEC","uuid":"3dc360d7-4c02-1512-54b1-a4b49b10305b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nsudo hostnamectl set-hostname \"@@{name}@@\"\n\n# -*- Mysql installation \nsudo yum install -y --quiet \"http:\/\/repo.mysql.com\/mysql80-community-release-el7.rpm\"\nsudo yum update -y --quiet\nsudo yum install -y --quiet sshpass mysql-community-server.x86_64\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install MySQL"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"EXEC","uuid":"16c4e0f4-816c-cc3b-bfe1-8fe50bf07478","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\necho \"!includedir \/etc\/my.cnf.d\" | sudo tee -a \/etc\/my.cnf\n\necho \"[mysqld]\nbinlog-format=mixed\nlog-bin=mysql-bin\ndatadir=\/mysql\/data\nsql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES\ninnodb_data_home_dir = \/mysql\/data\ninnodb_log_group_home_dir = \/mysql\/log\ninnodb_file_per_table\ntmpdir=\/mysql\/tmpdir\ninnodb_undo_directory = \/mysql\/undo\ndefault-storage-engine = innodb\ndefault_tmp_storage_engine = innodb\ninnodb_log_files_in_group = 4\ninnodb_log_file_size = 1G\ninnodb_log_buffer_size = 8M\ninnodb_buffer_pool_size = 6G\t\nlarge-pages\t\ninnodb_buffer_pool_instances = 64\t\ninnodb_flush_method=O_DIRECT\t\ninnodb_flush_neighbors=0\t \ninnodb_flush_log_at_trx_commit=1\ninnodb_buffer_pool_dump_at_shutdown=1\t\ninnodb_buffer_pool_load_at_startup=1\t\nbulk_insert_buffer_size = 256\t\ninnodb_thread_concurrency = 16\t\n \t \n# Undo tablespace\t \ninnodb_undo_tablespaces = 5\t\n \t \n# Networking\t \nwait_timeout=57600\t \nmax_allowed_packet=1G\t\nsocket=\/var\/lib\/mysql\/mysql.sock\t \nskip-name-resolve\nport=3306\t\nmax_connections=1000\t\n\n\n[mysqld_safe]\nlog-error=\/mysql\/log\/mysqld.log\npid-file=\/var\/run\/mysqld\/mysqld.pid\" | sudo tee \/etc\/my.cnf.d\/nutanix.cnf\n\necho \"#master=100\" | sudo tee -a  \/etc\/my.cnf.d\/nutanix.cnf\n\nserver_id=`sudo cat \/etc\/my.cnf | grep  \"server-id=\" | cut -d= -f2`\nis_master=`sudo cat \/etc\/my.cnf | grep -q -w \"#master=$server_id\"; echo $?`\n\nif [ ${is_master} -ne 0 ]\nthen\n   sudo sed -i '\/\\[mysqld\\]\/a read_only=1' \/etc\/my.cnf.d\/nutanix.cnf\nfi\n\n# -*- Sysctl configuration\nmysql_grp_id=`id -g mysql`\nsudo sysctl -w vm.swappiness=0\nsudo sysctl -w vm.nr_hugepages=1024\nsudo sysctl -w vm.overcommit_memory=1\nsudo sysctl -w vm.dirty_background_ratio=5 \nsudo sysctl -w vm.dirty_ratio=15\nsudo sysctl -w vm.dirty_expire_centisecs=500\nsudo sysctl -w vm.dirty_writeback_centisecs=100\nsudo sysctl -w vm.hugetlb_shm_group=$mysql_grp_id\n\necho \"vm.swappiness=0\nvm.nr_hugepages=1024\nvm.overcommit_memory=1\nvm.dirty_background_ratio=5 \nvm.dirty_ratio=15\nvm.dirty_expire_centisecs=500\nvm.dirty_writeback_centisecs=100\nvm.hugetlb_shm_group=$mysql_grp_id\" | sudo tee  -a \/etc\/sysctl.conf\n\necho \"ACTION=='add|change', SUBSYSTEM=='block', RUN+='\/bin\/sh -c \\\"\/bin\/echo 1024 > \/sys%p\/queue\/max_sectors_kb\\\"'\" | sudo tee \/etc\/udev\/rules.d\/71-block-max-sectors.rules\n\n\necho \"\/dev\/mysqlDataVG\/mysqlDataLV \/mysql\/data ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\necho \"\/dev\/mysqlLogVG\/mysqlLogLV \/mysql\/log ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\nsudo mkdir -p \/mysql\/log \/mysql\/data \/mysql\/tmpdir \/mysql\/undo\nsudo mount -a\nsudo chown -R mysql:mysql \/mysql\n\nsudo systemctl enable mysqld\n\nsudo rm -rf \/mysql\/data\/*\nsudo systemctl start mysqld\n\n#Fix to obtain temp password and set it to blank\npassword=$(grep -oP 'temporary password(.*): \\K(\\S+)' \/var\/log\/mysqld.log)\nsudo mysqladmin --user=root --password=\"$password\" password aaBB**cc1122\nsudo mysql --user=root --password=aaBB**cc1122 -e \"UNINSTALL COMPONENT 'file:\/\/component_validate_password'\"\nsudo mysqladmin --user=root --password=\"aaBB**cc1122\" password \"\"\n\n\n#Mysql secure installation\nsudo mysql -u root<<-EOF\nALTER USER 'root'@'localhost' IDENTIFIED WITH caching_sha2_password BY '@@{MYSQL_PASSWORD}@@';\nDELETE FROM mysql.user WHERE User='root' AND Host NOT IN ('localhost', '127.0.0.1', '::1');\nDELETE FROM mysql.user WHERE User='';\nDELETE FROM mysql.db WHERE Db='test' OR Db='test\\_%';\nFLUSH PRIVILEGES;\nEOF\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Setup MySQL"}],"description":"","message_list":[],"uuid":"ec092b08-afbb-9f47-e1e0-88b40b251f30","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"35a5e492_dag_cloned_1","uuid":"082fbc74-410a-021b-cff1-85b710a81bfd"},"name":"db3247c6_runbook_cloned_0"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"VMwareSlavePackage","uuid":"9b8bdfab-7dac-86a0-15bd-235d3eebd8f7"},"retries":"0","description":"","type":"DAG","uuid":"1cdc85c9-4a7c-7573-9df8-1d1da92e0fd9","child_tasks_local_reference_list":[{"kind":"app_task","name":"PackageUninstallTask_cloned_1","uuid":"42d4485b-fdf2-7ea1-b4e9-66a90637f5ca"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"53d74d7d_dag_cloned_1"},{"target_any_local_reference":{"kind":"app_package","name":"VMwareSlavePackage","uuid":"9b8bdfab-7dac-86a0-15bd-235d3eebd8f7"},"retries":"0","description":"","type":"EXEC","uuid":"42d4485b-fdf2-7ea1-b4e9-66a90637f5ca","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"PackageUninstallTask_cloned_1"}],"description":"","message_list":[],"uuid":"eabeaffa-3fe9-b8f5-470d-97539b96caff","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"53d74d7d_dag_cloned_1","uuid":"1cdc85c9-4a7c-7573-9df8-1d1da92e0fd9"},"name":"a4fbe7d2_runbook_cloned_0"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Uninstall_Crb_9b8bdfab_7dac_86a0_15bd_235d3eebd8f7"}],"description":"","message_list":[],"uuid":"916dbec1-ed5d-41a1-8a0e-67286b011c98","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Package_9b8bdfab_7dac_86a0_15bd_235d3eebd8f7","uuid":"d464cfea-df82-4202-a2cb-c16add894215"},"name":"SYS_GEN__Runbook_Package_9b8bdfab_7dac_86a0_15bd_235d3eebd8f7"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"d28d9333-2ffa-4e9e-98a9-cdbb76ebd4f2","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"VMwareSlavePackage","uuid":"9b8bdfab-7dac-86a0-15bd-235d3eebd8f7"},"retries":"0","description":"","type":"DAG","uuid":"79368c6b-f961-4df1-9681-547843ebfded","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"a5663954-3ce3-4ab7-80a8-8cc84d622b99"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"8a1835a8-a523-424b-93d5-49d72cf65482"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_9b8bdfab_7dac_86a0_15bd_235d3eebd8f7","uuid":"09f2e0f3-d33c-435e-8c93-29ec7965735a"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"a5663954-3ce3-4ab7-80a8-8cc84d622b99"},"edge_type":"inherent","type":"","uuid":"1b3786f0-f081-428c-bb83-df1a7e0b67f9","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"8a1835a8-a523-424b-93d5-49d72cf65482"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"8a1835a8-a523-424b-93d5-49d72cf65482"},"edge_type":"inherent","type":"","uuid":"5d441ea5-d33e-4cb7-bb6e-8ea644f28827","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_9b8bdfab_7dac_86a0_15bd_235d3eebd8f7","uuid":"09f2e0f3-d33c-435e-8c93-29ec7965735a"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_9b8bdfab_7dac_86a0_15bd_235d3eebd8f7"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"a5663954-3ce3-4ab7-80a8-8cc84d622b99","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"4a2ad0be_runbook","uuid":"09b1c8a9-6223-4e38-acfb-ff4754413c85"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"8a1835a8-a523-424b-93d5-49d72cf65482","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"92247e35_runbook","uuid":"497a8a35-a955-4f76-8fb0-21dbd9acb6e0"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400"},{"target_any_local_reference":{"kind":"app_package","name":"VMwareSlavePackage","uuid":"9b8bdfab-7dac-86a0-15bd-235d3eebd8f7"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"09f2e0f3-d33c-435e-8c93-29ec7965735a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_9b8bdfab_7dac_86a0_15bd_235d3eebd8f7","uuid":"916dbec1-ed5d-41a1-8a0e-67286b011c98"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_9b8bdfab_7dac_86a0_15bd_235d3eebd8f7"}],"description":"","message_list":[],"uuid":"8e714705-c401-4ff2-80cf-16bece83c23e","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_9b8bdfab_7dac_86a0_15bd_235d3eebd8f7","uuid":"79368c6b-f961-4df1-9681-547843ebfded"},"name":"SYS_GEN__Runbook_Package_9b8bdfab_7dac_86a0_15bd_235d3eebd8f7"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"dd2bf609-a605-4df7-9161-cfa8898ca80e","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"VMwareSlavePackage","uuid":"9b8bdfab-7dac-86a0-15bd-235d3eebd8f7"},"retries":"0","description":"","type":"DAG","uuid":"3578270a-d200-441c-9f6e-f606d93a4134","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"d5125892-4c05-4c8b-a59d-97030583569f"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_9b8bdfab_7dac_86a0_15bd_235d3eebd8f7","uuid":"ee89a79a-4970-4d1f-ace7-c71de467b25d"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"d5125892-4c05-4c8b-a59d-97030583569f"},"edge_type":"inherent","type":"","uuid":"fb6e6109-f538-419e-aa0f-8a75a2edb115","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_9b8bdfab_7dac_86a0_15bd_235d3eebd8f7","uuid":"ee89a79a-4970-4d1f-ace7-c71de467b25d"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_9b8bdfab_7dac_86a0_15bd_235d3eebd8f7"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"d5125892-4c05-4c8b-a59d-97030583569f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"6cdcc89d-fd42-4e8a-9e97-40576d559005"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400"},{"target_any_local_reference":{"kind":"app_package","name":"VMwareSlavePackage","uuid":"9b8bdfab-7dac-86a0-15bd-235d3eebd8f7"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"ee89a79a-4970-4d1f-ace7-c71de467b25d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_9b8bdfab_7dac_86a0_15bd_235d3eebd8f7"}],"description":"","message_list":[],"uuid":"f47c38bd-bc81-48fe-b805-cdd842e45ab4","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_9b8bdfab_7dac_86a0_15bd_235d3eebd8f7","uuid":"3578270a-d200-441c-9f6e-f606d93a4134"},"name":"SYS_GEN__Runbook_Package_9b8bdfab_7dac_86a0_15bd_235d3eebd8f7"}},{"description":"System action for starting an application","message_list":[],"uuid":"d42d1016-9d63-4d05-a8c8-593251458887","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"VMwareSlavePackage","uuid":"9b8bdfab-7dac-86a0-15bd-235d3eebd8f7"},"retries":"0","description":"","type":"DAG","uuid":"4f9cc928-67d6-4bbf-8e5c-f9b333b40e33","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"967de605-f804-45a3-9dc8-694f998a33a0"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_9b8bdfab_7dac_86a0_15bd_235d3eebd8f7"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"967de605-f804-45a3-9dc8-694f998a33a0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"a027cde0_runbook","uuid":"0afbc7f3-5541-415f-9616-c459f09806b2"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400"}],"description":"","message_list":[],"uuid":"ff245559-4006-467a-8a2b-e9428b20d72a","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_9b8bdfab_7dac_86a0_15bd_235d3eebd8f7","uuid":"4f9cc928-67d6-4bbf-8e5c-f9b333b40e33"},"name":"SYS_GEN__Runbook_Package_9b8bdfab_7dac_86a0_15bd_235d3eebd8f7"}},{"description":"System action for restarting an application","message_list":[],"uuid":"0cc80949-054a-4ecf-9496-41d526eb5f5c","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"VMwareSlavePackage","uuid":"9b8bdfab-7dac-86a0-15bd-235d3eebd8f7"},"retries":"0","description":"","type":"DAG","uuid":"bde01f3d-7147-41be-89f1-77fb910f27a0","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"fb17c3a1-96b4-4e8d-9dda-7ccdad95acfb"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_9b8bdfab_7dac_86a0_15bd_235d3eebd8f7"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"fb17c3a1-96b4-4e8d-9dda-7ccdad95acfb","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"f2b2a076_runbook","uuid":"b7162b3b-d4ba-4fba-875d-fc9c8c2c5b79"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400"}],"description":"","message_list":[],"uuid":"12683208-62f9-40bf-a223-1eba4140f5ae","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_9b8bdfab_7dac_86a0_15bd_235d3eebd8f7","uuid":"bde01f3d-7147-41be-89f1-77fb910f27a0"},"name":"SYS_GEN__Runbook_Package_9b8bdfab_7dac_86a0_15bd_235d3eebd8f7"}},{"description":"System action for stopping an application","message_list":[],"uuid":"9455a313-c366-4105-a66a-5000add3f3a9","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"VMwareSlavePackage","uuid":"9b8bdfab-7dac-86a0-15bd-235d3eebd8f7"},"retries":"0","description":"","type":"DAG","uuid":"9e366ab3-b334-4ad4-bf11-7eb8d7720514","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400","uuid":"e94cbe04-da99-4506-8b89-24177b163ba8"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_9b8bdfab_7dac_86a0_15bd_235d3eebd8f7"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"e94cbe04-da99-4506-8b89-24177b163ba8","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"4a2ad0be_runbook","uuid":"09b1c8a9-6223-4e38-acfb-ff4754413c85"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_faa35c46_57f5_4415_8253_af16e0849400"}],"description":"","message_list":[],"uuid":"e6d4538c-48fb-4213-b480-f8e355fdaecd","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_9b8bdfab_7dac_86a0_15bd_235d3eebd8f7","uuid":"9e366ab3-b334-4ad4-bf11-7eb8d7720514"},"name":"SYS_GEN__Runbook_Package_9b8bdfab_7dac_86a0_15bd_235d3eebd8f7"}}],"message_list":[],"service_local_reference_list":[{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"}],"uuid":"9b8bdfab-7dac-86a0-15bd-235d3eebd8f7","state":"ACTIVE","version":"","editables":{},"type":"DEB","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"VMwareSlavePackage","uuid":"9b8bdfab-7dac-86a0-15bd-235d3eebd8f7"},"retries":"0","description":"","type":"DAG","uuid":"082fbc74-410a-021b-cff1-85b710a81bfd","child_tasks_local_reference_list":[{"kind":"app_task","name":"Install System Packages","uuid":"320bf989-b85e-2d3f-acef-ae82a8bc6c81"},{"kind":"app_task","name":"Create Disk Setup","uuid":"84acb97e-baed-3a77-702b-4890b54f916f"},{"kind":"app_task","name":"Install MySQL","uuid":"3dc360d7-4c02-1512-54b1-a4b49b10305b"},{"kind":"app_task","name":"Setup MySQL","uuid":"16c4e0f4-816c-cc3b-bfe1-8fe50bf07478"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Install System Packages","uuid":"320bf989-b85e-2d3f-acef-ae82a8bc6c81"},"edge_type":"user_defined","type":"","uuid":"dc370025-7508-a62c-9f17-6ff2bc47a500","to_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"84acb97e-baed-3a77-702b-4890b54f916f"}},{"from_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"84acb97e-baed-3a77-702b-4890b54f916f"},"edge_type":"user_defined","type":"","uuid":"a9bd3733-bbbe-89f4-0bb5-f75d19f970d4","to_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"3dc360d7-4c02-1512-54b1-a4b49b10305b"}},{"from_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"3dc360d7-4c02-1512-54b1-a4b49b10305b"},"edge_type":"user_defined","type":"","uuid":"e24f1ece-dc18-ba6c-553a-78a34aaf2ff4","to_task_reference":{"kind":"app_task","name":"Setup MySQL","uuid":"16c4e0f4-816c-cc3b-bfe1-8fe50bf07478"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"35a5e492_dag_cloned_1"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"EXEC","uuid":"320bf989-b85e-2d3f-acef-ae82a8bc6c81","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n# -*- Install Mysql\nsudo yum update -y --quiet\nsudo yum install -y  wget xfs* bc unzip lvm2* lsscsi\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"System packages are installed\"","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install System Packages"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"EXEC","uuid":"84acb97e-baed-3a77-702b-4890b54f916f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n##############\n#\n# LVM setup script for MySQL . 4 disks for DATA and 4 for logs\n# Data disks are 50GB | Log disks are 25GB \n#\n#############\n\n\n#PGSQL data\nsudo pvcreate \/dev\/sdb \/dev\/sdc \/dev\/sdd \/dev\/sde\nsudo vgcreate mysqlDataVG \/dev\/sdb \/dev\/sdd \/dev\/sdc \/dev\/sde\nsudo lvcreate -l 100%FREE -i4 -I1M -n mysqlDataLV mysqlDataVG          ## Use 1MB to avoid IO amplification \n#lvcreate -l 100%FREE -i4 -I4M -n pgDataLV pgDataVG\n\n\n#PGSQL logs\nsudo pvcreate \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo vgcreate mysqlLogVG \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo lvcreate -l 100%FREE -i2 -I1M -n mysqlLogLV mysqlLogVG            ## Use 1MB to avoid IO amplification\n#lvcreate -l 100%FREE -i2 -I4M -n pgLogLV pgLogVG\n\n\n#Disable LVM read ahead\nsudo lvchange -r 0 \/dev\/mysqlDataVG\/mysqlDataLV\nsudo lvchange -r 0 \/dev\/mysqlLogVG\/mysqlLogLV\n\n\n#Format LVMs with ext4 and use nodiscard to make sure format time is fast on Nutanix due to SCSI unmap\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlDataVG\/mysqlDataLV\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlLogVG\/mysqlLogLV\n\nsleep 10\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Create Disk Setup"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"EXEC","uuid":"3dc360d7-4c02-1512-54b1-a4b49b10305b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nsudo hostnamectl set-hostname \"@@{name}@@\"\n\n# -*- Mysql installation \nsudo yum install -y --quiet \"http:\/\/repo.mysql.com\/mysql80-community-release-el7.rpm\"\nsudo yum update -y --quiet\nsudo yum install -y --quiet sshpass mysql-community-server.x86_64\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install MySQL"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","description":"","type":"EXEC","uuid":"16c4e0f4-816c-cc3b-bfe1-8fe50bf07478","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\necho \"!includedir \/etc\/my.cnf.d\" | sudo tee -a \/etc\/my.cnf\n\necho \"[mysqld]\nbinlog-format=mixed\nlog-bin=mysql-bin\ndatadir=\/mysql\/data\nsql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES\ninnodb_data_home_dir = \/mysql\/data\ninnodb_log_group_home_dir = \/mysql\/log\ninnodb_file_per_table\ntmpdir=\/mysql\/tmpdir\ninnodb_undo_directory = \/mysql\/undo\ndefault-storage-engine = innodb\ndefault_tmp_storage_engine = innodb\ninnodb_log_files_in_group = 4\ninnodb_log_file_size = 1G\ninnodb_log_buffer_size = 8M\ninnodb_buffer_pool_size = 6G\t\nlarge-pages\t\ninnodb_buffer_pool_instances = 64\t\ninnodb_flush_method=O_DIRECT\t\ninnodb_flush_neighbors=0\t \ninnodb_flush_log_at_trx_commit=1\ninnodb_buffer_pool_dump_at_shutdown=1\t\ninnodb_buffer_pool_load_at_startup=1\t\nbulk_insert_buffer_size = 256\t\ninnodb_thread_concurrency = 16\t\n \t \n# Undo tablespace\t \ninnodb_undo_tablespaces = 5\t\n \t \n# Networking\t \nwait_timeout=57600\t \nmax_allowed_packet=1G\t\nsocket=\/var\/lib\/mysql\/mysql.sock\t \nskip-name-resolve\nport=3306\t\nmax_connections=1000\t\n\n\n[mysqld_safe]\nlog-error=\/mysql\/log\/mysqld.log\npid-file=\/var\/run\/mysqld\/mysqld.pid\" | sudo tee \/etc\/my.cnf.d\/nutanix.cnf\n\necho \"#master=100\" | sudo tee -a  \/etc\/my.cnf.d\/nutanix.cnf\n\nserver_id=`sudo cat \/etc\/my.cnf | grep  \"server-id=\" | cut -d= -f2`\nis_master=`sudo cat \/etc\/my.cnf | grep -q -w \"#master=$server_id\"; echo $?`\n\nif [ ${is_master} -ne 0 ]\nthen\n   sudo sed -i '\/\\[mysqld\\]\/a read_only=1' \/etc\/my.cnf.d\/nutanix.cnf\nfi\n\n# -*- Sysctl configuration\nmysql_grp_id=`id -g mysql`\nsudo sysctl -w vm.swappiness=0\nsudo sysctl -w vm.nr_hugepages=1024\nsudo sysctl -w vm.overcommit_memory=1\nsudo sysctl -w vm.dirty_background_ratio=5 \nsudo sysctl -w vm.dirty_ratio=15\nsudo sysctl -w vm.dirty_expire_centisecs=500\nsudo sysctl -w vm.dirty_writeback_centisecs=100\nsudo sysctl -w vm.hugetlb_shm_group=$mysql_grp_id\n\necho \"vm.swappiness=0\nvm.nr_hugepages=1024\nvm.overcommit_memory=1\nvm.dirty_background_ratio=5 \nvm.dirty_ratio=15\nvm.dirty_expire_centisecs=500\nvm.dirty_writeback_centisecs=100\nvm.hugetlb_shm_group=$mysql_grp_id\" | sudo tee  -a \/etc\/sysctl.conf\n\necho \"ACTION=='add|change', SUBSYSTEM=='block', RUN+='\/bin\/sh -c \\\"\/bin\/echo 1024 > \/sys%p\/queue\/max_sectors_kb\\\"'\" | sudo tee \/etc\/udev\/rules.d\/71-block-max-sectors.rules\n\n\necho \"\/dev\/mysqlDataVG\/mysqlDataLV \/mysql\/data ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\necho \"\/dev\/mysqlLogVG\/mysqlLogLV \/mysql\/log ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\nsudo mkdir -p \/mysql\/log \/mysql\/data \/mysql\/tmpdir \/mysql\/undo\nsudo mount -a\nsudo chown -R mysql:mysql \/mysql\n\nsudo systemctl enable mysqld\n\nsudo rm -rf \/mysql\/data\/*\nsudo systemctl start mysqld\n\n#Fix to obtain temp password and set it to blank\npassword=$(grep -oP 'temporary password(.*): \\K(\\S+)' \/var\/log\/mysqld.log)\nsudo mysqladmin --user=root --password=\"$password\" password aaBB**cc1122\nsudo mysql --user=root --password=aaBB**cc1122 -e \"UNINSTALL COMPONENT 'file:\/\/component_validate_password'\"\nsudo mysqladmin --user=root --password=\"aaBB**cc1122\" password \"\"\n\n\n#Mysql secure installation\nsudo mysql -u root<<-EOF\nALTER USER 'root'@'localhost' IDENTIFIED WITH caching_sha2_password BY '@@{MYSQL_PASSWORD}@@';\nDELETE FROM mysql.user WHERE User='root' AND Host NOT IN ('localhost', '127.0.0.1', '::1');\nDELETE FROM mysql.user WHERE User='';\nDELETE FROM mysql.db WHERE Db='test' OR Db='test\\_%';\nFLUSH PRIVILEGES;\nEOF\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Setup MySQL"}],"description":"","message_list":[],"uuid":"ec092b08-afbb-9f47-e1e0-88b40b251f30","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"35a5e492_dag_cloned_1","uuid":"082fbc74-410a-021b-cff1-85b710a81bfd"},"name":"db3247c6_runbook_cloned_0"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"VMwareSlavePackage","uuid":"9b8bdfab-7dac-86a0-15bd-235d3eebd8f7"},"retries":"0","description":"","type":"DAG","uuid":"1cdc85c9-4a7c-7573-9df8-1d1da92e0fd9","child_tasks_local_reference_list":[{"kind":"app_task","name":"PackageUninstallTask_cloned_1","uuid":"42d4485b-fdf2-7ea1-b4e9-66a90637f5ca"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"53d74d7d_dag_cloned_1"},{"target_any_local_reference":{"kind":"app_package","name":"VMwareSlavePackage","uuid":"9b8bdfab-7dac-86a0-15bd-235d3eebd8f7"},"retries":"0","description":"","type":"EXEC","uuid":"42d4485b-fdf2-7ea1-b4e9-66a90637f5ca","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"PackageUninstallTask_cloned_1"}],"description":"","message_list":[],"uuid":"eabeaffa-3fe9-b8f5-470d-97539b96caff","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"53d74d7d_dag_cloned_1","uuid":"1cdc85c9-4a7c-7573-9df8-1d1da92e0fd9"},"name":"a4fbe7d2_runbook_cloned_0"}},"variable_list":[],"name":"VMwareSlavePackage"},{"description":"","action_list":[{"description":"System action for installing an application","message_list":[],"uuid":"726b89c1-2a16-48c6-a26d-a0efb5254925","name":"action_install","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"ESX_CENTOS_76","uuid":"c5df1e7b-d73b-a7c4-17ef-81c1bd0d24fa"},"retries":"0","description":"","type":"DAG","uuid":"372b90e7-1ad0-42fb-bd4d-a055b501205d","child_tasks_local_reference_list":[{"kind":"app_task","name":"Image Fetch task for VM","uuid":"e9ef7e4d-fd55-46c5-978a-84a9c596951f"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Package_c5df1e7b_d73b_a7c4_17ef_81c1bd0d24fa"},{"target_any_local_reference":{"kind":"app_package","name":"ESX_CENTOS_76","uuid":"c5df1e7b-d73b-a7c4-17ef-81c1bd0d24fa"},"retries":"0","description":"","type":"SUBSTRATE_IMAGE_FETCH","uuid":"e9ef7e4d-fd55-46c5-978a-84a9c596951f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"","name":"ESX_CENTOS_76","resources":{"image_type":"DISK_IMAGE","checksum":{},"source_uri":"http:\/\/download.nutanix.com\/calm\/CentOS-7-x86_64-1810.ova","version":{},"architecture":"X86_64","type":""},"description":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Image Fetch task for VM"}],"description":"","message_list":[],"uuid":"65ac7866-8119-44b7-87f8-b44f17ea3c2b","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Package_c5df1e7b_d73b_a7c4_17ef_81c1bd0d24fa","uuid":"372b90e7-1ad0-42fb-bd4d-a055b501205d"},"name":"SYS_GEN__Runbook_Package_c5df1e7b_d73b_a7c4_17ef_81c1bd0d24fa"}},{"description":"System action for creating an application","message_list":[],"uuid":"d5cfd972-ad9f-42c6-938a-fd11da2de96b","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"ESX_CENTOS_76","uuid":"c5df1e7b-d73b-a7c4-17ef-81c1bd0d24fa"},"retries":"0","description":"","type":"DAG","uuid":"c273ac4d-41bd-4337-9701-1a99ea99e83a","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_c5df1e7b_d73b_a7c4_17ef_81c1bd0d24fa","uuid":"1e47e4ab-3c01-45f4-9417-5106ec6b9582"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_c5df1e7b_d73b_a7c4_17ef_81c1bd0d24fa"},{"target_any_local_reference":{"kind":"app_package","name":"ESX_CENTOS_76","uuid":"c5df1e7b-d73b-a7c4-17ef-81c1bd0d24fa"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"1e47e4ab-3c01-45f4-9417-5106ec6b9582","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_c5df1e7b_d73b_a7c4_17ef_81c1bd0d24fa","uuid":"65ac7866-8119-44b7-87f8-b44f17ea3c2b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_c5df1e7b_d73b_a7c4_17ef_81c1bd0d24fa"}],"description":"","message_list":[],"uuid":"d179281e-2179-4ae7-a631-96e93a2d76b5","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_c5df1e7b_d73b_a7c4_17ef_81c1bd0d24fa","uuid":"c273ac4d-41bd-4337-9701-1a99ea99e83a"},"name":"SYS_GEN__Runbook_Package_c5df1e7b_d73b_a7c4_17ef_81c1bd0d24fa"}},{"description":"System action for starting an application","message_list":[],"uuid":"850b65f9-0e8d-47fd-b36c-c835966c101f","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"ESX_CENTOS_76","uuid":"c5df1e7b-d73b-a7c4-17ef-81c1bd0d24fa"},"retries":"0","description":"","type":"DAG","uuid":"5ef0afe2-05c8-4ab8-aaed-552d5aedb95c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_c5df1e7b_d73b_a7c4_17ef_81c1bd0d24fa"}],"description":"","message_list":[],"uuid":"b40b8539-91fd-4a27-b38f-f7128dfb1e8a","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_c5df1e7b_d73b_a7c4_17ef_81c1bd0d24fa","uuid":"5ef0afe2-05c8-4ab8-aaed-552d5aedb95c"},"name":"SYS_GEN__Runbook_Package_c5df1e7b_d73b_a7c4_17ef_81c1bd0d24fa"}},{"description":"System action for restarting an application","message_list":[],"uuid":"fdab2e3a-7946-4e54-ab4a-78c033e858ba","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"ESX_CENTOS_76","uuid":"c5df1e7b-d73b-a7c4-17ef-81c1bd0d24fa"},"retries":"0","description":"","type":"DAG","uuid":"cf23155f-456b-42cd-9476-91111feb32d3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_c5df1e7b_d73b_a7c4_17ef_81c1bd0d24fa"}],"description":"","message_list":[],"uuid":"fad90d08-b9b2-4256-8681-3ed7b57704c8","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_c5df1e7b_d73b_a7c4_17ef_81c1bd0d24fa","uuid":"cf23155f-456b-42cd-9476-91111feb32d3"},"name":"SYS_GEN__Runbook_Package_c5df1e7b_d73b_a7c4_17ef_81c1bd0d24fa"}},{"description":"System action for stopping an application","message_list":[],"uuid":"5d65e22b-5829-44fb-801e-1b943d06079b","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"ESX_CENTOS_76","uuid":"c5df1e7b-d73b-a7c4-17ef-81c1bd0d24fa"},"retries":"0","description":"","type":"DAG","uuid":"fce0c012-9d83-45b1-9a85-a5ccab86c214","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_c5df1e7b_d73b_a7c4_17ef_81c1bd0d24fa"}],"description":"","message_list":[],"uuid":"fffe3146-0d5a-4fd4-9abb-84266553c8ec","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_c5df1e7b_d73b_a7c4_17ef_81c1bd0d24fa","uuid":"fce0c012-9d83-45b1-9a85-a5ccab86c214"},"name":"SYS_GEN__Runbook_Package_c5df1e7b_d73b_a7c4_17ef_81c1bd0d24fa"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"834b812e-192c-4411-a548-cc28498c7b1d","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"ESX_CENTOS_76","uuid":"c5df1e7b-d73b-a7c4-17ef-81c1bd0d24fa"},"retries":"0","description":"","type":"DAG","uuid":"c9ee6e57-58e1-48c6-8926-dfe1b088efed","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_c5df1e7b_d73b_a7c4_17ef_81c1bd0d24fa"}],"description":"","message_list":[],"uuid":"24e07d2e-6ea8-4f1b-bc3e-6758cd8ca63f","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_c5df1e7b_d73b_a7c4_17ef_81c1bd0d24fa","uuid":"c9ee6e57-58e1-48c6-8926-dfe1b088efed"},"name":"SYS_GEN__Runbook_Package_c5df1e7b_d73b_a7c4_17ef_81c1bd0d24fa"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"112afb63-0bb0-4d41-992b-d45189b9f0fd","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"ESX_CENTOS_76","uuid":"c5df1e7b-d73b-a7c4-17ef-81c1bd0d24fa"},"retries":"0","description":"","type":"DAG","uuid":"9c9cdf5d-69aa-43e2-9ec0-0c293002a29e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_c5df1e7b_d73b_a7c4_17ef_81c1bd0d24fa"}],"description":"","message_list":[],"uuid":"fe2b3b27-6f71-4b89-aa15-50c8d89c6dfd","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_c5df1e7b_d73b_a7c4_17ef_81c1bd0d24fa","uuid":"9c9cdf5d-69aa-43e2-9ec0-0c293002a29e"},"name":"SYS_GEN__Runbook_Package_c5df1e7b_d73b_a7c4_17ef_81c1bd0d24fa"}}],"message_list":[],"service_local_reference_list":[],"uuid":"c5df1e7b-d73b-a7c4-17ef-81c1bd0d24fa","state":"ACTIVE","version":"","editables":{},"type":"SUBSTRATE_IMAGE","options":{"type":"","name":"ESX_CENTOS_76","resources":{"image_type":"DISK_IMAGE","checksum":{},"source_uri":"http:\/\/download.nutanix.com\/calm\/CentOS-7-x86_64-1810.ova","version":{},"architecture":"X86_64","type":""},"description":""},"variable_list":[],"name":"ESX_CENTOS_76"}]},"name":"MySQLMasterSlave"},"spec":{"name":"MySQLMasterSlave","resources":{"service_definition_list":[{"singleton":false,"name":"MySQL_Master","action_list":[{"description":"System action for creating an application","name":"action_create","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd","name":"MySQL_Master"},"retries":"0","description":"","uuid":"ca74ce27-b239-4b13-ba79-7bcd4d284857","child_tasks_local_reference_list":[{"kind":"app_task","name":"ConfigureMaster","uuid":"fa33f672-bd27-4b32-bb00-17d3f5828775"},{"kind":"app_task","name":"GetDBState","uuid":"f9e583f0-842d-4f6a-b7f6-2c1939fdc991"}],"attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"ConfigureMaster","uuid":"fa33f672-bd27-4b32-bb00-17d3f5828775"},"edge_type":"user_defined","type":"","uuid":"8a87f35c-8e1c-4831-b633-2b1716c8bbb0","to_task_reference":{"kind":"app_task","name":"GetDBState","uuid":"f9e583f0-842d-4f6a-b7f6-2c1939fdc991"}}],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"a6df9f70_dag"},{"target_any_local_reference":{"kind":"app_service","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd","name":"MySQL_Master"},"retries":"0","description":"","uuid":"fa33f672-bd27-4b32-bb00-17d3f5828775","child_tasks_local_reference_list":[],"attrs":{"exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\n# -*- Setup variables\nmysql_password=\"@@{MYSQL_PASSWORD}@@\"\n\nserver_id=`sudo cat \/etc\/my.cnf.d\/nutanix.cnf | grep  \"server-id=\" | cut -d= -f2`\nis_master=`sudo cat \/etc\/my.cnf.d\/nutanix.cnf | grep -q -w \"#master=$server_id\"; echo $?`\n\n# -*- Run only on master\nif [ ${is_master} -eq 0 ]\nthen\nsudo sed -i \"\/\\[mysqld\\]\/a innodb_flush_log_at_trx_commit=1\" \/etc\/my.cnf.d\/nutanix.cnf\nsudo sed -i \"\/\\[mysqld\\]\/a sync_binlog=1\" \/etc\/my.cnf.d\/nutanix.cnf\n\nsudo mysql -u root -p${mysql_password}<<EOF\nCREATE USER 'replica'@'%' IDENTIFIED BY \"${mysql_password}\";\nGRANT REPLICATION SLAVE ON *.* to replica@'%';\nFLUSH PRIVILEGES;\nEOF\n\nfi\n\nsudo touch \/var\/run\/mysqld\/mysqld.sock\nsudo chown mysql:mysql \/var\/run\/mysqld\/mysqld.sock\nsudo systemctl restart mysqld\n\nsleep 5\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","type":"EXEC","variable_list":[],"name":"ConfigureMaster"},{"target_any_local_reference":{"kind":"app_service","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd","name":"MySQL_Master"},"retries":"0","description":"","uuid":"f9e583f0-842d-4f6a-b7f6-2c1939fdc991","child_tasks_local_reference_list":[],"attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\nmysql_password=\"@@{MYSQL_PASSWORD}@@\"\nmaster_ip=\"@@{address}@@\"\n\nserver_id=`sudo cat \/etc\/my.cnf.d\/nutanix.cnf | grep  \"server-id=\" | cut -d= -f2`\nis_master=`sudo cat \/etc\/my.cnf.d\/nutanix.cnf | grep -q -w \"#master=$server_id\"; echo $?`\n\n\nif [ ${is_master} -eq 0 ]\nthen\n    while true\n    do\n      status=`sudo systemctl status mysqld | grep Active: | awk ' { print $3 }' | sed 's#[(|)]##g'`\n  \t  [ $status = \"running\" ] && break\n      echo $status\n  \t  sleep 2\n    done\n    \n    MYSQL_BIN=$(sudo mysql -u root -p${mysql_password} -e 'show master status;' | grep mysql-bin | awk '{print $1}')\n\tMYSQL_POSITION=$(sudo mysql -u root -p${mysql_password} -e 'show master status;' | grep mysql-bin | awk '{print $2}')\n    \n  echo \"MYSQL_BIN=$MYSQL_BIN\"\n  echo \"MYSQL_POSITION=$MYSQL_POSITION\"\nfi\n\n","eval_variables":["MYSQL_BIN","MYSQL_POSITION"],"eval_scope":"local","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"},"type":"","script_type":"sh"},"timeout_secs":"0","type":"SET_VARIABLE","variable_list":[],"name":"GetDBState"}],"description":"","uuid":"f2803b23-af0b-4afd-8a2f-ef666adf85c8","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"a6df9f70_dag","uuid":"ca74ce27-b239-4b13-ba79-7bcd4d284857"},"name":"0a970522_runbook"},"type":"system","uuid":"d9c3da29-0fe3-4cb9-ba01-55ca37770ede"},{"description":"System action for deleting an application. Deletes created VMs as well","name":"action_delete","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd","name":"MySQL_Master"},"retries":"0","description":"","uuid":"bffac7c8-bc0f-4a15-bae5-9205907d4a19","child_tasks_local_reference_list":[],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"3f9277cd_dag"}],"description":"","uuid":"7e58dd6b-1da9-495c-97e7-84bb6e288586","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"3f9277cd_dag","uuid":"bffac7c8-bc0f-4a15-bae5-9205907d4a19"},"name":"5fd47ec3_runbook"},"type":"system","uuid":"914d7528-532c-4939-b742-7ce4b00e5ba3"},{"description":"System action for starting an application","name":"action_start","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd","name":"MySQL_Master"},"retries":"0","description":"","uuid":"f108881d-8990-40ce-a85a-57ded2f2ea1b","child_tasks_local_reference_list":[{"kind":"app_task","name":"Start","uuid":"2097ad4d-29b2-42cd-a677-3af18d6e4ef6"}],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"32e9c292_dag"},{"target_any_local_reference":{"kind":"app_service","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd","name":"MySQL_Master"},"retries":"0","description":"","uuid":"2097ad4d-29b2-42cd-a677-3af18d6e4ef6","child_tasks_local_reference_list":[],"attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\nsudo systemctl start mysqld\nsudo systemctl enable mysqld"},"timeout_secs":"0","type":"EXEC","variable_list":[],"name":"Start"}],"description":"","uuid":"f88c4d73-c0ab-488b-a016-3e1453b91891","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"32e9c292_dag","uuid":"f108881d-8990-40ce-a85a-57ded2f2ea1b"},"name":"5ddb28d1_runbook"},"type":"system","uuid":"e1f7324c-e843-4026-a2de-46eb3c64e673"},{"description":"System action for stopping an application","name":"action_stop","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd","name":"MySQL_Master"},"retries":"0","description":"","uuid":"f06779b8-b3f8-439e-91ce-68c484274972","child_tasks_local_reference_list":[],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"ce63573f_dag"}],"description":"","uuid":"a75d0021-cf2d-4da4-85dc-56ee0ed9e9eb","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"ce63573f_dag","uuid":"f06779b8-b3f8-439e-91ce-68c484274972"},"name":"0aefbca3_runbook"},"type":"system","uuid":"67e13d13-fabd-4238-a5f9-05bb0ec86977"},{"description":"System action for restarting an application","name":"action_restart","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd","name":"MySQL_Master"},"retries":"0","description":"","uuid":"052eea8e-d1ce-4988-94f4-27d35e76d814","child_tasks_local_reference_list":[],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"c4afa1a6_dag"}],"description":"","uuid":"6beb8e29-06b2-4218-a1fd-18c28d8c6218","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"c4afa1a6_dag","uuid":"052eea8e-d1ce-4988-94f4-27d35e76d814"},"name":"7e709238_runbook"},"type":"system","uuid":"0e49454c-082a-4a1b-ba9a-d4b18b7dd69b"}],"description":"","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd","port_list":[],"tier":"","variable_list":[{"val_type":"STRING","uuid":"a90abb5e-24f7-4339-b853-9774b141a693","name":"MYSQL_BIN","value":"","label":"","attrs":{"type":""},"editables":{},"type":"LOCAL","description":""},{"val_type":"STRING","uuid":"041405f1-03f5-457a-9263-6838413fdf89","name":"MYSQL_POSITION","value":"","label":"","attrs":{"type":""},"type":"LOCAL","description":""}],"depends_on_list":[]},{"singleton":false,"name":"MySQL_Slave","action_list":[{"description":"System action for creating an application","name":"action_create","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","uuid":"faa35c46-57f5-4415-8253-af16e0849400","name":"MySQL_Slave"},"retries":"0","description":"","uuid":"599a8fb9-46df-45dd-bd55-a997bf5f02aa","child_tasks_local_reference_list":[{"kind":"app_task","name":"ConfigureSlaves","uuid":"49e2c1ee-bd8c-498c-bae0-dbc064973641"}],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"93f99bda_dag"},{"target_any_local_reference":{"kind":"app_service","uuid":"faa35c46-57f5-4415-8253-af16e0849400","name":"MySQL_Slave"},"retries":"0","description":"","uuid":"49e2c1ee-bd8c-498c-bae0-dbc064973641","child_tasks_local_reference_list":[],"attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\n\n# -*- Setup variables\nmysql_password=\"@@{MYSQL_PASSWORD}@@\"\nmaster_ip=\"@@{MySQL_Master.address}@@\"\nmaster_bin=\"@@{MySQL_Master.MYSQL_BIN}@@\"\nmaster_position=\"@@{MySQL_Master.MYSQL_POSITION}@@\"\n\nserver_id=`sudo cat \/etc\/my.cnf.d\/nutanix.cnf | grep  \"server-id=\" | cut -d= -f2`\nis_master=`sudo cat \/etc\/my.cnf.d\/nutanix.cnf | grep -q -w \"#master=$server_id\"; echo $?`\n\n# -*- Runs on slaves\nif [ ${is_master} -ne 0 ]\nthen\n  sudo mysql -u root -p${mysql_password} -e \"change master to master_host='${master_ip}',master_user='replica',master_password='${mysql_password}',master_log_file='${master_bin}',master_log_pos=${master_position};\"\n  sudo mysql -u root -p${mysql_password} -e 'start slave;'\n  sudo mysql -u root -p${mysql_password} -e 'show slave status\\G' | grep -A11 Slave_IO_State\nfi\n"},"timeout_secs":"0","type":"EXEC","variable_list":[],"name":"ConfigureSlaves"}],"description":"","uuid":"e509001d-6b88-4a64-813c-0ce8ea81991a","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"93f99bda_dag","uuid":"599a8fb9-46df-45dd-bd55-a997bf5f02aa"},"name":"d54168c9_runbook"},"type":"system","uuid":"d44055a1-c778-4725-8f46-701a3e03e1f8"},{"description":"System action for deleting an application. Deletes created VMs as well","name":"action_delete","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","uuid":"faa35c46-57f5-4415-8253-af16e0849400","name":"MySQL_Slave"},"retries":"0","description":"","uuid":"5555ecea-c918-4901-9f1d-f4cee3f5e18b","child_tasks_local_reference_list":[],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"5066b603_dag"}],"description":"","uuid":"497a8a35-a955-4f76-8fb0-21dbd9acb6e0","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"5066b603_dag","uuid":"5555ecea-c918-4901-9f1d-f4cee3f5e18b"},"name":"92247e35_runbook"},"type":"system","uuid":"945908c2-b1c2-4db6-ba11-ba693eb7731c"},{"description":"System action for starting an application","name":"action_start","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","uuid":"faa35c46-57f5-4415-8253-af16e0849400","name":"MySQL_Slave"},"retries":"0","description":"","uuid":"4cc424cd-c143-4178-9c04-304f40906702","child_tasks_local_reference_list":[{"kind":"app_task","name":"Start","uuid":"f8dbe5d9-ed35-4340-b08b-b63a2186d4af"}],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"abefdcaf_dag"},{"target_any_local_reference":{"kind":"app_service","uuid":"faa35c46-57f5-4415-8253-af16e0849400","name":"MySQL_Slave"},"retries":"0","description":"","uuid":"f8dbe5d9-ed35-4340-b08b-b63a2186d4af","child_tasks_local_reference_list":[],"attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\nsudo systemctl start mysqld\nsudo systemctl enable mysqld"},"timeout_secs":"0","type":"EXEC","variable_list":[],"name":"Start"}],"description":"","uuid":"0afbc7f3-5541-415f-9616-c459f09806b2","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"abefdcaf_dag","uuid":"4cc424cd-c143-4178-9c04-304f40906702"},"name":"a027cde0_runbook"},"type":"system","uuid":"704edffc-dca5-45cd-9acc-7e0c8f0e172a"},{"description":"System action for stopping an application","name":"action_stop","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","uuid":"faa35c46-57f5-4415-8253-af16e0849400","name":"MySQL_Slave"},"retries":"0","description":"","uuid":"3c6ea136-2d98-420e-8d99-795754817351","child_tasks_local_reference_list":[],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"097fa65d_dag"}],"description":"","uuid":"09b1c8a9-6223-4e38-acfb-ff4754413c85","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"097fa65d_dag","uuid":"3c6ea136-2d98-420e-8d99-795754817351"},"name":"4a2ad0be_runbook"},"type":"system","uuid":"d7505d77-e9e7-437f-b19e-09c4d56a030e"},{"description":"System action for restarting an application","name":"action_restart","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","uuid":"faa35c46-57f5-4415-8253-af16e0849400","name":"MySQL_Slave"},"retries":"0","description":"","uuid":"77b3c0c3-f1aa-48c3-9aac-d92074b4927c","child_tasks_local_reference_list":[],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"e1f94389_dag"}],"description":"","uuid":"b7162b3b-d4ba-4fba-875d-fc9c8c2c5b79","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"e1f94389_dag","uuid":"77b3c0c3-f1aa-48c3-9aac-d92074b4927c"},"name":"f2b2a076_runbook"},"type":"system","uuid":"799d6891-7292-4fe4-8cf8-56738e7f9923"}],"description":"","uuid":"faa35c46-57f5-4415-8253-af16e0849400","port_list":[],"tier":"","variable_list":[],"depends_on_list":[{"kind":"app_service","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd","name":"MySQL_Master"}]}],"substrate_definition_list":[{"name":"AHVMaster","action_list":[],"uuid":"fcfab67a-6fcb-47c1-866e-ef3e11899887","readiness_probe":{"connection_type":"SSH","retries":"5","disable_readiness_probe":false,"timeout_secs":"300","address":"@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@","delay_secs":"60","connection_port":22,"login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"editables":{"readiness_probe":{"connection_type":true,"retries":true,"delay_secs":true,"connection_port":true,"timeout_secs":true},"create_spec":{"resources":{"nic_list":{"0":{"subnet_reference":true}},"serial_port_list":{},"num_vcpus_per_socket":true,"num_sockets":true,"memory_size_mib":true,"guest_customization":true,"disk_list":{"1":{"disk_size_mib":true},"0":{"device_properties":{"disk_address":{}}},"3":{"disk_size_mib":true},"2":{"disk_size_mib":true},"5":{"disk_size_mib":true},"4":{"disk_size_mib":true},"7":{"disk_size_mib":true},"6":{"disk_size_mib":true},"8":{"disk_size_mib":true}}},"name":true,"categories":true}},"os_type":"Linux","type":"AHV_VM","create_spec":{"name":"mysql-master-@@{calm_time}@@","categories":{"AppFamily":"Databases"},"availability_zone_reference":null,"backup_policy":null,"type":"","cluster_reference":null,"resources":{"nic_list":[{"subnet_reference":{"uuid":"efc034e3-b50e-4a48-b02d-25036aeb8bd3"}}],"serial_port_list":[],"guest_tools":null,"num_vcpus_per_socket":2,"num_sockets":2,"gpu_list":[],"memory_size_mib":8192,"parent_reference":null,"hardware_clock_timezone":"","guest_customization":{"cloud_init":{"meta_data":"","type":"","user_data":"#cloud-config\nusers:\n  - name: centos\n    ssh-authorized-keys:\n      - @@{CENTOS.public_key}@@\n    sudo: ['ALL=(ALL) NOPASSWD:ALL']"},"type":"","sysprep":null},"power_state":"ON","type":"","account_uuid":"efc034e3-b50e-4a48-b02d-25036aeb8bd3","boot_config":{"boot_device":{"type":"","disk_address":{"type":"","device_index":0,"adapter_type":"SCSI"}},"type":"","mac_address":""},"disk_list":[{"data_source_reference":{"kind":"app_package","type":"","name":"CENTOS_74","uuid":"a7955a04-2023-483b-8c51-1284d919a1c7"},"type":"","disk_size_mib":0,"volume_group_reference":null,"device_properties":{"type":"","disk_address":{"type":"","device_index":0,"adapter_type":"SCSI"},"device_type":"DISK"}},{"data_source_reference":null,"type":"","disk_size_mib":51200,"volume_group_reference":null,"device_properties":{"type":"","disk_address":{"type":"","device_index":1,"adapter_type":"SCSI"},"device_type":"DISK"}},{"data_source_reference":null,"type":"","disk_size_mib":51200,"volume_group_reference":null,"device_properties":{"type":"","disk_address":{"type":"","device_index":2,"adapter_type":"SCSI"},"device_type":"DISK"}},{"data_source_reference":null,"type":"","disk_size_mib":51200,"volume_group_reference":null,"device_properties":{"type":"","disk_address":{"type":"","device_index":3,"adapter_type":"SCSI"},"device_type":"DISK"}},{"data_source_reference":null,"type":"","disk_size_mib":51200,"volume_group_reference":null,"device_properties":{"type":"","disk_address":{"type":"","device_index":4,"adapter_type":"SCSI"},"device_type":"DISK"}},{"data_source_reference":null,"type":"","disk_size_mib":25600,"volume_group_reference":null,"device_properties":{"type":"","disk_address":{"type":"","device_index":5,"adapter_type":"SCSI"},"device_type":"DISK"}},{"data_source_reference":null,"type":"","disk_size_mib":25600,"volume_group_reference":null,"device_properties":{"type":"","disk_address":{"type":"","device_index":6,"adapter_type":"SCSI"},"device_type":"DISK"}},{"data_source_reference":null,"type":"","disk_size_mib":25600,"volume_group_reference":null,"device_properties":{"type":"","disk_address":{"type":"","device_index":7,"adapter_type":"SCSI"},"device_type":"DISK"}},{"data_source_reference":null,"type":"","disk_size_mib":25600,"volume_group_reference":null,"device_properties":{"type":"","disk_address":{"type":"","device_index":8,"adapter_type":"SCSI"},"device_type":"DISK"}}]}},"variable_list":[],"description":""},{"name":"AHVSlave","action_list":[],"uuid":"277d02d7-e5c9-4fac-9649-73d662f89b80","readiness_probe":{"connection_type":"SSH","retries":"5","disable_readiness_probe":false,"timeout_secs":"300","address":"@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@","delay_secs":"60","connection_port":22,"login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"editables":{"readiness_probe":{"connection_type":true,"retries":true,"delay_secs":true,"connection_port":true,"timeout_secs":true},"create_spec":{"name":true,"resources":{"nic_list":{"0":{"subnet_reference":true}},"serial_port_list":{},"num_vcpus_per_socket":true,"num_sockets":true,"memory_size_mib":true,"guest_customization":true,"disk_list":{"1":{"disk_size_mib":true},"0":{"device_properties":{"disk_address":{}}},"3":{"disk_size_mib":true},"2":{"disk_size_mib":true},"5":{"disk_size_mib":true},"4":{"disk_size_mib":true},"7":{"disk_size_mib":true},"6":{"disk_size_mib":true},"8":{"disk_size_mib":true}}}}},"os_type":"Linux","type":"AHV_VM","create_spec":{"name":"mysql-slave-@@{calm_array_index}@@-@@{calm_time}@@","categories":{"AppFamily":"Databases"},"availability_zone_reference":null,"backup_policy":null,"type":"","cluster_reference":null,"resources":{"nic_list":[{"subnet_reference":{"uuid":"efc034e3-b50e-4a48-b02d-25036aeb8bd3"}}],"serial_port_list":[],"guest_tools":null,"num_vcpus_per_socket":1,"num_sockets":2,"gpu_list":[],"memory_size_mib":8192,"parent_reference":null,"hardware_clock_timezone":"","guest_customization":{"cloud_init":{"meta_data":"","type":"","user_data":"#cloud-config\nusers:\n  - name: centos\n    ssh-authorized-keys:\n      - @@{CENTOS.public_key}@@\n    sudo: ['ALL=(ALL) NOPASSWD:ALL']"},"type":"","sysprep":null},"power_state":"ON","type":"","account_uuid":"efc034e3-b50e-4a48-b02d-25036aeb8bd3","boot_config":{"boot_device":{"type":"","disk_address":{"device_index":0,"adapter_type":"SCSI"}},"type":"","mac_address":""},"disk_list":[{"data_source_reference":{"kind":"app_package","name":"AHV_CENTOS_76","uuid":"a7955a04-2023-483b-8c51-1284d919a1c7"},"type":"","disk_size_mib":0,"volume_group_reference":null,"device_properties":{"type":"","disk_address":{"type":"","device_index":0,"adapter_type":"SCSI"},"device_type":"DISK"}},{"data_source_reference":null,"type":"","disk_size_mib":51200,"volume_group_reference":null,"device_properties":{"type":"","disk_address":{"type":"","device_index":1,"adapter_type":"SCSI"},"device_type":"DISK"}},{"data_source_reference":null,"type":"","disk_size_mib":51200,"volume_group_reference":null,"device_properties":{"type":"","disk_address":{"type":"","device_index":2,"adapter_type":"SCSI"},"device_type":"DISK"}},{"data_source_reference":null,"type":"","disk_size_mib":51200,"volume_group_reference":null,"device_properties":{"type":"","disk_address":{"type":"","device_index":3,"adapter_type":"SCSI"},"device_type":"DISK"}},{"data_source_reference":null,"type":"","disk_size_mib":51200,"volume_group_reference":null,"device_properties":{"type":"","disk_address":{"type":"","device_index":4,"adapter_type":"SCSI"},"device_type":"DISK"}},{"data_source_reference":null,"type":"","disk_size_mib":25600,"volume_group_reference":null,"device_properties":{"type":"","disk_address":{"type":"","device_index":5,"adapter_type":"SCSI"},"device_type":"DISK"}},{"data_source_reference":null,"type":"","disk_size_mib":25600,"volume_group_reference":null,"device_properties":{"type":"","disk_address":{"type":"","device_index":6,"adapter_type":"SCSI"},"device_type":"DISK"}},{"data_source_reference":null,"type":"","disk_size_mib":25600,"volume_group_reference":null,"device_properties":{"type":"","disk_address":{"type":"","device_index":7,"adapter_type":"SCSI"},"device_type":"DISK"}},{"data_source_reference":null,"type":"","disk_size_mib":25600,"volume_group_reference":null,"device_properties":{"type":"","disk_address":{"type":"","device_index":8,"adapter_type":"SCSI"},"device_type":"DISK"}}]}},"variable_list":[],"description":""},{"name":"AWSMaster","action_list":[],"uuid":"15c65762-bc8d-4c60-93d7-d64c377a99d4","readiness_probe":{"connection_type":"SSH","retries":"5","disable_readiness_probe":false,"timeout_secs":"300","address":"@@{public_ip_address}@@","delay_secs":"0","connection_port":22,"login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"editables":{"readiness_probe":{"connection_type":true,"delay_secs":true,"connection_port":true,"timeout_secs":true},"create_spec":{"name":true,"resources":{"instance_profile_name":true,"availability_zone":true,"subnet_id":true,"key_name":true,"region":true,"user_data":true,"image_id":true,"instance_type":true,"security_group_list":true,"block_device_map":{"data_disk_list":{"1":{"size_gb":true},"0":{"size_gb":true},"3":{"size_gb":true},"2":{"size_gb":true},"5":{"size_gb":true},"4":{"size_gb":true},"7":{"size_gb":true},"6":{"size_gb":true}},"root_disk":{"size_gb":true}},"associate_public_ip_address":true,"vpc_id":true,"tag_list":true}}},"os_type":"Linux","type":"AWS_VM","create_spec":{"name":"mysql-master-@@{calm_time}@@","availability_zone_reference":null,"backup_policy":null,"type":"PROVISION_AWS_VM","cluster_reference":null,"resources":{"instance_profile_name":"ecsInstanceRole","availability_zone":"us-east-1a","subnet_id":"subnet-0d4197c2d13088ef4","key_name":"calm-blueprints","region":"us-east-1","instance_initiated_shutdown_behavior":"","user_data":"","image_id":"ami-1a003360","instance_type":"t2.medium","state":"RUNNING","security_group_list":[{"security_group_id":"sg-12a3f662"}],"block_device_map":{"data_disk_list":[{"size_gb":50,"volume_type":"GP2","device_name":"\/dev\/sdb","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":50,"volume_type":"GP2","device_name":"\/dev\/sdc","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":50,"volume_type":"GP2","device_name":"\/dev\/sdd","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":50,"volume_type":"GP2","device_name":"\/dev\/sde","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":25,"volume_type":"GP2","device_name":"\/dev\/sdf","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":25,"volume_type":"GP2","device_name":"\/dev\/sdg","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":25,"volume_type":"GP2","device_name":"\/dev\/sdh","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":25,"volume_type":"GP2","device_name":"\/dev\/sdi","iops":1,"snapshot_id":"","type":"","delete_on_termination":true}],"type":"","root_disk":{"size_gb":10,"volume_type":"GP2","device_name":"\/dev\/sda1","iops":1,"snapshot_id":"","type":"","delete_on_termination":true}},"private_ip_address":"","vpc_id":"vpc-ffd54d98","tag_list":[],"type":"","account_uuid":"8c2e0a6b-620a-c62a-c3f4-e58b101dfd0d","associate_public_ip_address":true}},"variable_list":[],"description":""},{"name":"AWSSlave","action_list":[],"uuid":"f19c2ea6-884f-47c7-be9a-facfa3b1d1a9","readiness_probe":{"connection_type":"SSH","retries":"5","disable_readiness_probe":false,"timeout_secs":"300","address":"@@{public_ip_address}@@","delay_secs":"0","connection_port":22,"login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"editables":{"readiness_probe":{"connection_type":true,"delay_secs":true,"connection_port":true,"timeout_secs":true},"create_spec":{"name":true,"resources":{"instance_profile_name":true,"availability_zone":true,"subnet_id":true,"key_name":true,"region":true,"user_data":true,"image_id":true,"instance_type":true,"security_group_list":true,"block_device_map":{"data_disk_list":{"1":{"size_gb":true},"0":{"size_gb":true},"3":{"size_gb":true},"2":{"size_gb":true},"5":{"size_gb":true},"4":{"size_gb":true},"7":{"size_gb":true},"6":{"size_gb":true}},"root_disk":{"size_gb":true}},"associate_public_ip_address":true,"vpc_id":true,"tag_list":true}}},"os_type":"Linux","type":"AWS_VM","create_spec":{"name":"mysql-slave-@@{calm_array_index}@@-@@{calm_time}@@","availability_zone_reference":null,"backup_policy":null,"type":"PROVISION_AWS_VM","cluster_reference":null,"resources":{"instance_profile_name":"ecsInstanceRole","availability_zone":"us-east-1a","subnet_id":"subnet-c599a5ef","key_name":"calm-blueprints","region":"us-east-1","instance_initiated_shutdown_behavior":"","user_data":"","image_id":"ami-1a003360","instance_type":"t2.medium","state":"RUNNING","security_group_list":[{"security_group_id":"sg-12a3f662"}],"block_device_map":{"data_disk_list":[{"size_gb":50,"volume_type":"GP2","device_name":"\/dev\/sdb","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":50,"volume_type":"GP2","device_name":"\/dev\/sdc","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":50,"volume_type":"GP2","device_name":"\/dev\/sdd","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":50,"volume_type":"GP2","device_name":"\/dev\/sde","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":25,"volume_type":"GP2","device_name":"\/dev\/sdf","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":25,"volume_type":"GP2","device_name":"\/dev\/sdg","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":25,"volume_type":"GP2","device_name":"\/dev\/sdh","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":25,"volume_type":"GP2","device_name":"\/dev\/sdi","iops":1,"snapshot_id":"","type":"","delete_on_termination":true}],"type":"","root_disk":{"size_gb":10,"volume_type":"GP2","device_name":"\/dev\/sda1","iops":1,"snapshot_id":"","type":"","delete_on_termination":true}},"private_ip_address":"","vpc_id":"vpc-ffd54d98","tag_list":[],"type":"","account_uuid":"8c2e0a6b-620a-c62a-c3f4-e58b101dfd0d","associate_public_ip_address":true}},"variable_list":[],"description":""},{"name":"GCPMaster","action_list":[],"uuid":"d9edbd06-05b7-4e69-bc4b-ba5c99bab83f","readiness_probe":{"connection_type":"SSH","retries":"5","disable_readiness_probe":false,"timeout_secs":"300","address":"@@{public_ip_address}@@","delay_secs":"60","connection_port":22,"login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"editables":{"readiness_probe":{"connection_type":true,"retries":true,"timeout_secs":true,"address":true,"delay_secs":true,"connection_port":true},"create_spec":{"resources":{"labels":true,"machineType":true,"name":true,"zone":true,"tags":{"items":true},"disks":{"0":{"initializeParams":{"diskSizeGb":true,"sourceImage":true,"diskType":true},"autoDelete":true}},"blankDisks":{"1":{"disk_type":true,"name":true,"sizeGb":true,"autoDelete":true},"0":{"disk_type":true,"name":true,"sizeGb":true,"autoDelete":true},"3":{"disk_type":true,"name":true,"sizeGb":true,"autoDelete":true},"2":{"disk_type":true,"name":true,"sizeGb":true,"autoDelete":true},"5":{"disk_type":true,"name":true,"sizeGb":true,"autoDelete":true},"4":{"disk_type":true,"name":true,"sizeGb":true,"autoDelete":true},"7":{"disk_type":true,"name":true,"sizeGb":true,"autoDelete":true},"6":{"disk_type":true,"name":true,"sizeGb":true,"autoDelete":true}},"networkInterfaces":{"0":{"accessConfigs":{"0":{"config_type":true,"name":true}},"network":true,"subnetwork":true,"associatePublicIP":true}},"sshKeys":{"0":true},"serviceAccounts":{"0":{"scopes":true,"email":true}},"metadata":{"items":true}}}},"os_type":"Linux","type":"GCP_VM","create_spec":{"type":"PROVISION_GCP_VM","resources":{"labels":[],"machineType":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/machineTypes\/n1-standard-1","description":"","zone":"us-central1-c","tags":{"items":["tensorflow"],"type":"","fingerprint":""},"guestCustomization":{"type":"","startupScript":""},"labelFingerprint":"","disks":[{"initializeParams":{"sourceImage":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/global\/images\/centos-7","diskType":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd"},"disk_type":"PERSISTENT","boot":true,"autoDelete":true}],"name":"mysql-master-@@{calm_time}@@","sshKeys":["centos:ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDMGAS\/K0Mb\/uwFXwD+hkjguy7VMZk2hpuhwPl9FUZwVBrURf\/i9QMJ5\/paPEZixu8VlRx7Inu4iun7rQfrnfeIYInmBwspXHYiTK3oHJAgZnrAHVEf1p6YaxLINlT1NI5yOAGPRWW6of8rBDBH1ObwU2+wcSx\/1H0uIs3aZNLufr+Rh628ACxAum2Gt8AVRj6ua2BPFyt5VTdclyysAmeh1AiixNgOZXOz6y\/i4TbzpY78I3isuKpxsUeXX6jxEMQol406jHDUF6njEOPIQG2zVZ3QJlTG9OlN+NiyZG9WkZz0VG\/6M8ixxIHHI2dNwUbBFv2HUu+8X9LTLFq2O7KjX9Hp7uZKBAySHA3eKaKHIp2bZuU1bT5PRPkggngX86xg+T+OMNnutbAiMnRJ8+FvD5So+5TIx4b9GgxAxure3x2yRPT9lOiQOB+CVpJPxR0Rn9bOI+wiPnD0kAGvK\/fHT+pqL4PM+hTnJtp9rrCRzIQApBx1263jEcYffhW2epZQRO+he5CMawFJ5TBe08om2AaDJ8GQdrpF6YA3W8DzHbmL3DPVVHdmqPLn10o+LX4gv5SdIIDVGdjKOc1BCnLTRmM28d5+sLDt\/M+kvcQgf0y0yDjMVjGECZkt39hbm4ELMHzZtzYLmHNhBZxRqHeJ7qFTuv1kx88OW3Xc5mbBNQ== centos@nutanix.com\n"],"scheduling":{"automaticRestart":true,"type":"","preemptible":false,"onHostMaintenance":"TERMINATE"},"canIpForward":false,"blankDisks":[{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-master-dev-0-@@{calm_time}@@","sizeGb":50,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-master-dev-1-@@{calm_time}@@","sizeGb":50,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-master-dev-2-@@{calm_time}@@","sizeGb":50,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-master-dev-3-@@{calm_time}@@","sizeGb":50,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-master-dev-4-@@{calm_time}@@","sizeGb":25,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-master-dev-5-@@{calm_time}@@","sizeGb":25,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-master-dev-6-@@{calm_time}@@","sizeGb":25,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-master-dev-7-@@{calm_time}@@","sizeGb":25,"autoDelete":true}],"metadata":{"items":[{"type":"","key":"ssh-keys","value":"centos:ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDMGAS\/K0Mb\/uwFXwD+hkjguy7VMZk2hpuhwPl9FUZwVBrURf\/i9QMJ5\/paPEZixu8VlRx7Inu4iun7rQfrnfeIYInmBwspXHYiTK3oHJAgZnrAHVEf1p6YaxLINlT1NI5yOAGPRWW6of8rBDBH1ObwU2+wcSx\/1H0uIs3aZNLufr+Rh628ACxAum2Gt8AVRj6ua2BPFyt5VTdclyysAmeh1AiixNgOZXOz6y\/i4TbzpY78I3isuKpxsUeXX6jxEMQol406jHDUF6njEOPIQG2zVZ3QJlTG9OlN+NiyZG9WkZz0VG\/6M8ixxIHHI2dNwUbBFv2HUu+8X9LTLFq2O7KjX9Hp7uZKBAySHA3eKaKHIp2bZuU1bT5PRPkggngX86xg+T+OMNnutbAiMnRJ8+FvD5So+5TIx4b9GgxAxure3x2yRPT9lOiQOB+CVpJPxR0Rn9bOI+wiPnD0kAGvK\/fHT+pqL4PM+hTnJtp9rrCRzIQApBx1263jEcYffhW2epZQRO+he5CMawFJ5TBe08om2AaDJ8GQdrpF6YA3W8DzHbmL3DPVVHdmqPLn10o+LX4gv5SdIIDVGdjKOc1BCnLTRmM28d5+sLDt\/M+kvcQgf0y0yDjMVjGECZkt39hbm4ELMHzZtzYLmHNhBZxRqHeJ7qFTuv1kx88OW3Xc5mbBNQ== centos@nutanix.com"}],"type":"","fingerprint":""},"type":"","account_uuid":"84213a31-4fe8-7e39-3799-e093e5d0dc2e","serviceAccounts":[{"scopes":["https:\/\/www.googleapis.com\/auth\/cloud-platform"],"type":"","email":"108048128720-compute@developer.gserviceaccount.com"}],"networkInterfaces":[{"accessConfigs":[{"config_type":"ONE_TO_ONE_NAT","name":"master-default-acn"}],"network":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/global\/networks\/default","subnetwork":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/regions\/us-central1\/subnetworks\/default"}]}},"variable_list":[],"description":""},{"name":"GCPSlave","action_list":[],"uuid":"952ad6d6-fef1-417d-9c7d-75a978b7cfbd","readiness_probe":{"connection_type":"SSH","retries":"5","disable_readiness_probe":false,"timeout_secs":"300","address":"@@{public_ip_address}@@","delay_secs":"60","connection_port":22,"login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"editables":{"readiness_probe":{"connection_type":true,"retries":true,"timeout_secs":true,"address":true,"delay_secs":true,"connection_port":true},"create_spec":{"resources":{"labels":true,"machineType":true,"name":true,"zone":true,"tags":{"items":true},"guestCustomization":{"startupScript":true},"disks":{"0":{"initializeParams":{"diskSizeGb":true,"sourceImage":true,"diskType":true},"autoDelete":true}},"blankDisks":{"1":{"disk_type":true,"name":true,"sizeGb":true,"autoDelete":true},"0":{"disk_type":true,"name":true,"sizeGb":true,"autoDelete":true},"3":{"disk_type":true,"name":true,"sizeGb":true,"autoDelete":true},"2":{"disk_type":true,"name":true,"sizeGb":true,"autoDelete":true},"5":{"disk_type":true,"name":true,"sizeGb":true,"autoDelete":true},"4":{"disk_type":true,"name":true,"sizeGb":true,"autoDelete":true},"7":{"disk_type":true,"name":true,"sizeGb":true,"autoDelete":true},"6":{"disk_type":true,"name":true,"sizeGb":true,"autoDelete":true}},"networkInterfaces":{"0":{"accessConfigs":{"0":{"config_type":true,"name":true}},"network":true,"subnetwork":true,"associatePublicIP":true}},"sshKeys":{"0":true},"serviceAccounts":{"0":{"scopes":true,"email":true}},"metadata":{"items":true}}}},"os_type":"Linux","type":"GCP_VM","create_spec":{"type":"PROVISION_GCP_VM","resources":{"labels":[],"machineType":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/machineTypes\/n1-standard-1","description":"","zone":"us-central1-c","tags":{"items":["tensorflow"],"type":"","fingerprint":""},"guestCustomization":{"type":"","startupScript":""},"labelFingerprint":"","disks":[{"initializeParams":{"sourceImage":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/global\/images\/centos-7","diskType":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd"},"disk_type":"PERSISTENT","boot":true,"autoDelete":true}],"name":"mysql-slave-@@{calm_array_index}@@-@@{calm_time}@@","sshKeys":["centos:ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDMGAS\/K0Mb\/uwFXwD+hkjguy7VMZk2hpuhwPl9FUZwVBrURf\/i9QMJ5\/paPEZixu8VlRx7Inu4iun7rQfrnfeIYInmBwspXHYiTK3oHJAgZnrAHVEf1p6YaxLINlT1NI5yOAGPRWW6of8rBDBH1ObwU2+wcSx\/1H0uIs3aZNLufr+Rh628ACxAum2Gt8AVRj6ua2BPFyt5VTdclyysAmeh1AiixNgOZXOz6y\/i4TbzpY78I3isuKpxsUeXX6jxEMQol406jHDUF6njEOPIQG2zVZ3QJlTG9OlN+NiyZG9WkZz0VG\/6M8ixxIHHI2dNwUbBFv2HUu+8X9LTLFq2O7KjX9Hp7uZKBAySHA3eKaKHIp2bZuU1bT5PRPkggngX86xg+T+OMNnutbAiMnRJ8+FvD5So+5TIx4b9GgxAxure3x2yRPT9lOiQOB+CVpJPxR0Rn9bOI+wiPnD0kAGvK\/fHT+pqL4PM+hTnJtp9rrCRzIQApBx1263jEcYffhW2epZQRO+he5CMawFJ5TBe08om2AaDJ8GQdrpF6YA3W8DzHbmL3DPVVHdmqPLn10o+LX4gv5SdIIDVGdjKOc1BCnLTRmM28d5+sLDt\/M+kvcQgf0y0yDjMVjGECZkt39hbm4ELMHzZtzYLmHNhBZxRqHeJ7qFTuv1kx88OW3Xc5mbBNQ== centos@nutanix.com\n"],"scheduling":{"automaticRestart":true,"type":"","preemptible":false,"onHostMaintenance":"TERMINATE"},"canIpForward":false,"blankDisks":[{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-slave-dev-0-@@{calm_time}@@","sizeGb":50,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-slave-dev-1-@@{calm_time}@@","sizeGb":50,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-slave-dev-2-@@{calm_time}@@","sizeGb":50,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-slave-dev-3-@@{calm_time}@@","sizeGb":50,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-slave-dev-4-@@{calm_time}@@","sizeGb":25,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-slave-dev-5-@@{calm_time}@@","sizeGb":25,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-slave-dev-6-@@{calm_time}@@","sizeGb":25,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-slave-dev-7-@@{calm_time}@@","sizeGb":25,"autoDelete":true}],"metadata":{"items":[{"type":"","key":"ssh-keys","value":"centos:ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDMGAS\/K0Mb\/uwFXwD+hkjguy7VMZk2hpuhwPl9FUZwVBrURf\/i9QMJ5\/paPEZixu8VlRx7Inu4iun7rQfrnfeIYInmBwspXHYiTK3oHJAgZnrAHVEf1p6YaxLINlT1NI5yOAGPRWW6of8rBDBH1ObwU2+wcSx\/1H0uIs3aZNLufr+Rh628ACxAum2Gt8AVRj6ua2BPFyt5VTdclyysAmeh1AiixNgOZXOz6y\/i4TbzpY78I3isuKpxsUeXX6jxEMQol406jHDUF6njEOPIQG2zVZ3QJlTG9OlN+NiyZG9WkZz0VG\/6M8ixxIHHI2dNwUbBFv2HUu+8X9LTLFq2O7KjX9Hp7uZKBAySHA3eKaKHIp2bZuU1bT5PRPkggngX86xg+T+OMNnutbAiMnRJ8+FvD5So+5TIx4b9GgxAxure3x2yRPT9lOiQOB+CVpJPxR0Rn9bOI+wiPnD0kAGvK\/fHT+pqL4PM+hTnJtp9rrCRzIQApBx1263jEcYffhW2epZQRO+he5CMawFJ5TBe08om2AaDJ8GQdrpF6YA3W8DzHbmL3DPVVHdmqPLn10o+LX4gv5SdIIDVGdjKOc1BCnLTRmM28d5+sLDt\/M+kvcQgf0y0yDjMVjGECZkt39hbm4ELMHzZtzYLmHNhBZxRqHeJ7qFTuv1kx88OW3Xc5mbBNQ== centos@nutanix.com"}],"type":"","fingerprint":""},"type":"","account_uuid":"84213a31-4fe8-7e39-3799-e093e5d0dc2e","serviceAccounts":[{"scopes":["https:\/\/www.googleapis.com\/auth\/cloud-platform"],"type":"","email":""}],"networkInterfaces":[{"accessConfigs":[{"config_type":"ONE_TO_ONE_NAT","name":"slave-default-acn"}],"network":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/global\/networks\/default","subnetwork":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/regions\/us-central1\/subnetworks\/default"}]}},"variable_list":[],"description":""},{"name":"AzureMaster","action_list":[],"uuid":"e4ca30de-9aef-4f99-9e43-a5397e5782c0","readiness_probe":{"connection_type":"SSH","retries":"5","disable_readiness_probe":false,"timeout_secs":"300","address":"@@{platform.publicIPAddressList[0]}@@","delay_secs":"60","connection_port":22,"login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"editables":{"readiness_probe":{"connection_type":true,"delay_secs":true,"connection_port":true,"timeout_secs":null},"create_spec":{"resources":{"vm_name":true,"storage_profile":{"is_managed":true,"image_details":{"sku":true,"publisher":true,"offer":true,"version":true,"use_custom_image":true},"os_disk_details":{"storage_type":true,"create_option":true,"caching_type":true,"name":true}},"nw_profile":{"nic_list":{"0":{"nsg_name":true,"vnet_name":true,"private_ip_info":{"ip_allocation_method":true},"nic_name":true,"subnet_name":true,"public_ip_info":{"ip_allocation_method":true,"dns_label":true,"ip_name":true}}}},"resource_group":true,"os_profile":{"linux_config":{"custom_data":true}},"hw_profile":{"vm_size":true},"location":true,"availability_set_id":true,"tag_list":true}}},"os_type":"Linux","type":"AZURE_VM","create_spec":{"type":"PROVISION_AZURE_VM","name":"","resources":{"vm_name":"mysql-master-@@{calm_unique_hash}@@-@@{calm_array_index}@@","storage_profile":{"is_managed":true,"image_details":{"sku":"7.4","publisher":"OpenLogic","offer":"CentOS-HPC","source_image_id":"","use_custom_image":false,"version":"7.4.20180719","type":""},"type":"","os_disk_details":{"size_in_gb":127,"name":"os-@@{calm_unique_hash}@@-@@{calm_array_index}@@-disk","storage_name":"","storage_type":"Standard_LRS","caching_type":"ReadWrite","type":"","create_option":"FromImage","lun":-1},"data_disk_list":[]},"nw_profile":{"nic_list":[{"nsg_name":"nutanix-test-sg","vnet_name":"NUTANIX-vnet","private_ip_info":{"ip_allocation_method":"Dynamic","ip_address":"","type":""},"nic_name":"nic-@@{calm_unique_hash}@@-@@{calm_array_index}@@-0","subnet_name":"default","type":"","public_ip_info":{"ip_allocation_method":"Dynamic","dns_label":"dns-@@{calm_unique_hash}@@-@@{calm_array_index}@@-0","ip_name":"public-ip-@@{calm_unique_hash}@@-@@{calm_array_index}@@-0","type":""}}],"primary_nic":-1,"type":""},"resource_group":"NUTANIX","os_profile":{"secrets":[],"type":"","windows_config":{"winrm_listeners":[],"time_zone":"","additional_unattend_content":[],"provision_vm_agent":true,"auto_updates":false,"type":""},"linux_config":{"type":"","disable_password_auth":false,"public_keys":[],"custom_data":""}},"hw_profile":{"max_data_disk_count":4,"vm_size":"Standard_DS1_v2","type":""},"location":"eastus","availability_set_id":"\/subscriptions\/6b1ac087-d237-4e42-89bf-e136161f2654\/resourceGroups\/NUTANIX\/providers\/Microsoft.Compute\/availabilitySets\/TestAvailabilitySet1","tag_list":[],"type":"","account_uuid":"3c0f2d94-878c-f34c-6d39-90b854129782"}},"variable_list":[],"description":""},{"name":"AzureSlave","action_list":[],"uuid":"923f313b-a051-46c9-85d0-1beb4ed96b2c","readiness_probe":{"connection_type":"SSH","retries":"5","disable_readiness_probe":false,"timeout_secs":"300","address":"@@{platform.publicIPAddressList[0]}@@","delay_secs":"60","connection_port":22,"login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"editables":{"readiness_probe":{"connection_type":true,"delay_secs":true,"connection_port":true,"timeout_secs":null},"create_spec":{"resources":{"vm_name":true,"storage_profile":{"is_managed":true,"image_details":{"sku":true,"publisher":true,"offer":true,"version":true,"use_custom_image":true},"os_disk_details":{"storage_type":true,"create_option":true,"caching_type":true,"name":true}},"nw_profile":{"nic_list":{"0":{"nsg_name":true,"vnet_name":true,"private_ip_info":{"ip_allocation_method":true},"nic_name":true,"subnet_name":true,"public_ip_info":{"ip_allocation_method":true,"dns_label":true,"ip_name":true}}}},"resource_group":true,"os_profile":{"linux_config":{"custom_data":true}},"hw_profile":{"vm_size":true},"location":true,"availability_set_id":true,"tag_list":true}}},"os_type":"Linux","type":"AZURE_VM","create_spec":{"type":"PROVISION_AZURE_VM","name":"","resources":{"vm_name":"mysql-slave-@@{calm_unique_hash}@@-@@{calm_array_index}@@","storage_profile":{"is_managed":true,"image_details":{"sku":"7.4","publisher":"OpenLogic","offer":"CentOS-HPC","source_image_id":"","use_custom_image":false,"version":"7.4.20180719","type":""},"type":"","os_disk_details":{"size_in_gb":127,"name":"os-@@{calm_unique_hash}@@-@@{calm_array_index}@@-disk","storage_name":"","storage_type":"Standard_LRS","caching_type":"ReadWrite","type":"","create_option":"FromImage","lun":-1},"data_disk_list":[]},"nw_profile":{"nic_list":[{"nsg_name":"nutanix-test-sg","vnet_name":"NUTANIX-vnet","private_ip_info":{"ip_allocation_method":"Dynamic","ip_address":"","type":""},"nic_name":"nic-@@{calm_unique_hash}@@-@@{calm_array_index}@@-0","subnet_name":"default","type":"","public_ip_info":{"ip_allocation_method":"Dynamic","dns_label":"dns-@@{calm_unique_hash}@@-@@{calm_array_index}@@-0","ip_name":"public-ip-@@{calm_unique_hash}@@-@@{calm_array_index}@@-0","type":""}}],"primary_nic":-1,"type":""},"resource_group":"NUTANIX","os_profile":{"secrets":[],"type":"","windows_config":{"winrm_listeners":[],"time_zone":"","additional_unattend_content":[],"provision_vm_agent":true,"auto_updates":false,"type":""},"linux_config":{"type":"","disable_password_auth":false,"public_keys":[],"custom_data":""}},"hw_profile":{"max_data_disk_count":4,"vm_size":"Standard_DS1_v2","type":""},"location":"eastus","availability_set_id":"\/subscriptions\/6b1ac087-d237-4e42-89bf-e136161f2654\/resourceGroups\/NUTANIX\/providers\/Microsoft.Compute\/availabilitySets\/TestAvailabilitySet1","tag_list":[],"type":"","account_uuid":"3c0f2d94-878c-f34c-6d39-90b854129782"}},"variable_list":[],"description":""},{"name":"VMwareMaster","action_list":[],"uuid":"7d3e29ba-e3d9-4356-e47d-3392002f315d","readiness_probe":{"connection_type":"SSH","retries":"5","disable_readiness_probe":false,"timeout_secs":"300","address":"@@{platform.ipAddressList[0]}@@","delay_secs":"60","connection_port":22,"login_credential_local_reference":{"kind":"app_credential","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"editables":{"readiness_probe":{"connection_type":true,"retries":true,"delay_secs":true,"connection_port":true},"create_spec":{"name":true,"resources":{"template_nic_list":{},"nic_list":{"0":{"nic_type":true,"net_name":true}},"template_controller_list":{},"num_vcpus_per_socket":true,"num_sockets":true,"controller_list":{},"memory_size_mib":true,"template_disk_list":{},"disk_list":{"1":{"disk_size_mb":true,"disk_mode":true,"adapter_type":true,"location":true,"controller_key":true,"disk_type":true},"0":{"disk_size_mb":true,"disk_type":true,"adapter_type":true,"location":true,"disk_mode":true},"3":{"disk_size_mb":true,"disk_mode":true,"adapter_type":true,"location":true,"controller_key":true,"disk_type":true},"2":{"disk_size_mb":true,"disk_mode":true,"adapter_type":true,"location":true,"controller_key":true,"disk_type":true},"5":{"disk_size_mb":true,"disk_mode":true,"adapter_type":true,"location":true,"controller_key":true,"disk_type":true},"4":{"disk_size_mb":true,"disk_mode":true,"adapter_type":true,"location":true,"controller_key":true,"disk_type":true},"7":{"disk_size_mb":true,"disk_mode":true,"adapter_type":true,"location":true,"controller_key":true,"disk_type":true},"6":{"disk_size_mb":true,"disk_mode":true,"adapter_type":true,"location":true,"controller_key":true,"disk_type":true}}}}},"os_type":"Linux","type":"VMWARE_VM","create_spec":{"name":"master-@@{calm_array_index}@@-@@{calm_time}@@","type":"PROVISION_VMWARE_VM","cluster":"Sabine59-Cluster","template":"c5df1e7b-d73b-a7c4-17ef-81c1bd0d24fa","storage_pod":"DatastoreCluster","resources":{"nic_list":[{"nic_type":"vmxnet3","net_name":"key-vim.host.PortGroup-VM Network"}],"num_vcpus_per_socket":2,"num_sockets":2,"controller_list":[],"memory_size_mib":4096,"guest_customization":{"cloud_init":"#cloud-config\nusers:\n  - name: centos\n    ssh-authorized-keys:\n      - @@{CENTOS.public_key}@@\n    sudo: ['ALL=(ALL) NOPASSWD:ALL']","customization_type":"GUEST_OS_LINUX"},"account_uuid":"7f90399d-ed3d-1c70-447d-17004ef1bd0a","disk_list":[{"disk_size_mb":8192,"disk_type":"disk","adapter_type":"SCSI","location":"ds:\/\/\/vmfs\/volumes\/7b773e05-e06fc970\/","disk_mode":"persistent"},{"disk_size_mb":8192,"disk_type":"disk","adapter_type":"SCSI","location":"ds:\/\/\/vmfs\/volumes\/7b773e05-e06fc970\/","disk_mode":"persistent"},{"disk_size_mb":8192,"disk_type":"disk","adapter_type":"SCSI","location":"ds:\/\/\/vmfs\/volumes\/7b773e05-e06fc970\/","disk_mode":"persistent"},{"disk_size_mb":8192,"disk_type":"disk","adapter_type":"SCSI","location":"ds:\/\/\/vmfs\/volumes\/7b773e05-e06fc970\/","disk_mode":"persistent"},{"disk_size_mb":8192,"disk_type":"disk","adapter_type":"SCSI","location":"ds:\/\/\/vmfs\/volumes\/7b773e05-e06fc970\/","disk_mode":"persistent"},{"disk_size_mb":8192,"disk_type":"disk","adapter_type":"SCSI","location":"ds:\/\/\/vmfs\/volumes\/7b773e05-e06fc970\/","disk_mode":"persistent"},{"disk_size_mb":8192,"disk_type":"disk","adapter_type":"SCSI","location":"ds:\/\/\/vmfs\/volumes\/7b773e05-e06fc970\/","disk_mode":"persistent"},{"disk_size_mb":8192,"disk_type":"disk","adapter_type":"SCSI","location":"ds:\/\/\/vmfs\/volumes\/7b773e05-e06fc970\/","disk_mode":"persistent"}]}},"variable_list":[],"description":""},{"name":"VMwareSlave","action_list":[],"uuid":"4cb413a9-76dd-0ba2-fa36-64463ec9029a","readiness_probe":{"connection_type":"SSH","retries":"5","disable_readiness_probe":false,"timeout_secs":"300","address":"@@{platform.ipAddressList[0]}@@","delay_secs":"60","connection_port":22,"login_credential_local_reference":{"kind":"app_credential","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"editables":{"readiness_probe":{"connection_type":true,"retries":true,"delay_secs":true,"connection_port":true},"create_spec":{"name":true,"resources":{"template_nic_list":{},"nic_list":{"0":{"nic_type":true,"net_name":true}},"template_controller_list":{},"num_vcpus_per_socket":true,"num_sockets":true,"controller_list":{},"memory_size_mib":true,"template_disk_list":{},"disk_list":{"1":{"disk_size_mb":true,"disk_mode":true,"adapter_type":true,"location":true,"controller_key":true,"disk_type":true},"0":{"disk_size_mb":true,"disk_mode":true,"adapter_type":true,"location":true,"controller_key":true,"disk_type":true},"3":{"disk_size_mb":true,"disk_mode":true,"adapter_type":true,"location":true,"controller_key":true,"disk_type":true},"2":{"disk_size_mb":true,"disk_mode":true,"adapter_type":true,"location":true,"controller_key":true,"disk_type":true},"5":{"disk_size_mb":true,"disk_mode":true,"adapter_type":true,"location":true,"controller_key":true,"disk_type":true},"4":{"disk_size_mb":true,"disk_mode":true,"adapter_type":true,"location":true,"controller_key":true,"disk_type":true},"7":{"disk_size_mb":true,"disk_mode":true,"adapter_type":true,"location":true,"controller_key":true,"disk_type":true},"6":{"disk_size_mb":true,"disk_mode":true,"adapter_type":true,"location":true,"controller_key":true,"disk_type":true}}}}},"os_type":"Linux","type":"VMWARE_VM","create_spec":{"name":"slave-@@{calm_array_index}@@-@@{calm_time}@@","type":"PROVISION_VMWARE_VM","cluster":"Sabine59-Cluster","template":"c5df1e7b-d73b-a7c4-17ef-81c1bd0d24fa","storage_pod":"DatastoreCluster","resources":{"nic_list":[{"nic_type":"vmxnet3","net_name":"key-vim.host.PortGroup-VM Network"}],"num_vcpus_per_socket":2,"num_sockets":2,"memory_size_mib":4096,"guest_customization":{"cloud_init":"#cloud-config\nusers:\n  - name: centos\n    ssh-authorized-keys:\n      - @@{CENTOS.public_key}@@\n    sudo: ['ALL=(ALL) NOPASSWD:ALL']","customization_type":"GUEST_OS_LINUX"},"account_uuid":"7f90399d-ed3d-1c70-447d-17004ef1bd0a","disk_list":[{"disk_size_mb":8192,"disk_type":"disk","adapter_type":"SCSI","location":"ds:\/\/\/vmfs\/volumes\/7b773e05-e06fc970\/","disk_mode":"persistent"},{"disk_size_mb":8192,"disk_type":"disk","adapter_type":"SCSI","location":"ds:\/\/\/vmfs\/volumes\/7b773e05-e06fc970\/","disk_mode":"persistent"},{"disk_size_mb":8192,"disk_type":"disk","adapter_type":"SCSI","location":"ds:\/\/\/vmfs\/volumes\/7b773e05-e06fc970\/","disk_mode":"persistent"},{"disk_size_mb":8192,"disk_type":"disk","adapter_type":"SCSI","location":"ds:\/\/\/vmfs\/volumes\/7b773e05-e06fc970\/","disk_mode":"persistent"},{"disk_size_mb":8192,"disk_type":"disk","adapter_type":"SCSI","location":"ds:\/\/\/vmfs\/volumes\/7b773e05-e06fc970\/","disk_mode":"persistent"},{"disk_size_mb":8192,"disk_type":"disk","adapter_type":"SCSI","location":"ds:\/\/\/vmfs\/volumes\/7b773e05-e06fc970\/","disk_mode":"persistent"},{"disk_size_mb":8192,"disk_type":"disk","adapter_type":"SCSI","location":"ds:\/\/\/vmfs\/volumes\/7b773e05-e06fc970\/","disk_mode":"persistent"},{"disk_size_mb":8192,"disk_type":"disk","adapter_type":"SCSI","location":"ds:\/\/\/vmfs\/volumes\/7b773e05-e06fc970\/","disk_mode":"persistent"}]}},"variable_list":[],"description":""}],"credential_definition_list":[{"username":"centos","description":"","uuid":"ed074117-957a-4513-a084-7b706dfad28b","secret":{"attrs":{"is_secret_modified":false,"secret_reference":{"uuid":"77a049bb-70e1-44a0-a676-4ccc5c09e5ca"}}},"editables":{"username":true,"secret":true},"type":"KEY","name":"CENTOS"}],"type":"USER","app_profile_list":[{"deployment_create_list":[{"name":"9098b02b_deployment","action_list":[],"package_local_reference_list":[{"kind":"app_package","name":"AHVMasterPackage","uuid":"e322b0f6-258b-4378-9523-eab4a877f899"}],"description":"","depends_on_list":[],"min_replicas":"1","max_replicas":"1","published_service_local_reference_list":[],"editables":{"min_replicas":true,"max_replicas":true},"substrate_local_reference":{"kind":"app_substrate","name":"AHVMaster","uuid":"fcfab67a-6fcb-47c1-866e-ef3e11899887"},"type":"GREENFIELD","variable_list":[],"uuid":"baaebcb4-0874-4eab-9b07-7ff13ee8a86c"},{"name":"de329770_deployment","action_list":[],"package_local_reference_list":[{"kind":"app_package","name":"AHVSlavePackage","uuid":"bb4017ed-6571-4577-b76b-c2ae42903b6e"}],"description":"","depends_on_list":[],"min_replicas":"1","max_replicas":"3","published_service_local_reference_list":[],"editables":{"min_replicas":true,"max_replicas":true},"substrate_local_reference":{"kind":"app_substrate","name":"AHVSlave","uuid":"277d02d7-e5c9-4fac-9649-73d662f89b80"},"type":"GREENFIELD","variable_list":[],"uuid":"117283f8-25bc-4d51-ad1c-b7894358b467"}],"description":"","action_list":[{"description":"Take DB Backup. Specify absolute directory path for BACKUP_FILE_PATH","name":"Backup","critical":false,"runbook":{"task_definition_list":[{"retries":"0","description":"","uuid":"81f2d495-1229-4fb6-83f7-8188b9875df3","child_tasks_local_reference_list":[{"kind":"app_task","name":"DB Backup","uuid":"d1a087cc-eebc-4d18-ac59-5781ce298756"}],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"3e7d744d_dag"},{"target_any_local_reference":{"kind":"app_service","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd","name":"MySQL_Master"},"retries":"0","description":"","uuid":"d1a087cc-eebc-4d18-ac59-5781ce298756","child_tasks_local_reference_list":[],"attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n### Setup variables\nmysql_password=\"@@{MYSQL_PASSWORD}@@\"\ndate_part=`date +%F`\nmkdir -p @@{BACKUP_FILE_PATH}@@\nsudo mysqldump -u root -p${mysql_password} --all-databases | sudo gzip -9 > @@{BACKUP_FILE_PATH}@@\/db_dump.sql.gz","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","type":"EXEC","variable_list":[],"name":"DB Backup"}],"description":"","uuid":"8003fe12-f08d-4d3a-80f2-09a0fd6c4272","variable_list":[{"val_type":"STRING","uuid":"41a841c7-521e-463d-bd51-376cb4461621","name":"BACKUP_FILE_PATH","value":"~\/db_backup","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","description":""}],"main_task_local_reference":{"kind":"app_task","name":"3e7d744d_dag","uuid":"81f2d495-1229-4fb6-83f7-8188b9875df3"},"name":"c6cd4595_runbook"},"type":"user","uuid":"1f29a818-7b2f-4bdf-b84f-0b7580c582ba"},{"description":"To restore DB from dump file. Specify absolute directory path for RESTORE_FILE_PATH","name":"Restore","critical":false,"runbook":{"task_definition_list":[{"retries":"0","description":"","uuid":"947b81f0-2e9d-47c9-a6c5-002b19473357","child_tasks_local_reference_list":[{"kind":"app_task","name":"DB Restore","uuid":"3c7ed9a4-99db-43e5-b8b5-e7c09c119bc1"}],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"458965d2_dag"},{"target_any_local_reference":{"kind":"app_service","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd","name":"MySQL_Master"},"retries":"0","description":"","uuid":"3c7ed9a4-99db-43e5-b8b5-e7c09c119bc1","child_tasks_local_reference_list":[],"attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n### Setup variables\nmysql_password=\"@@{MYSQL_PASSWORD}@@\"\ndb_file=@@{RESTORE_FILE_PATH}@@\n\nsudo gunzip < $db_file | sudo mysql -u root -p${mysql_password} ","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","type":"EXEC","variable_list":[],"name":"DB Restore"}],"description":"","uuid":"960b389b-0fb1-4c76-9de1-0c6e71ef284c","variable_list":[{"val_type":"STRING","uuid":"492900f8-166d-4bd9-acf0-676a5b39faa1","name":"RESTORE_FILE_PATH","value":"~\/db_backup\/db_dump.sql.gz","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","description":""}],"main_task_local_reference":{"kind":"app_task","name":"458965d2_dag","uuid":"947b81f0-2e9d-47c9-a6c5-002b19473357"},"name":"412d41ad_runbook"},"type":"user","uuid":"ca885a40-9cea-420d-a37c-5aa7f220b55d"},{"description":"This action will scale out db slaves by given scale out count.","name":"ScaleOut","critical":false,"runbook":{"task_definition_list":[{"retries":"0","description":"","uuid":"613c72b5-1e57-48fd-a46c-2794aaec49ec","child_tasks_local_reference_list":[{"kind":"app_task","name":"Scale Out","uuid":"2a22b13c-d148-432f-97e2-408ffc091bc9"}],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"0d5ad4a7_dag"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","uuid":"117283f8-25bc-4d51-ad1c-b7894358b467","name":"de329770_deployment"},"retries":"0","description":"","uuid":"2a22b13c-d148-432f-97e2-408ffc091bc9","child_tasks_local_reference_list":[],"attrs":{"scaling_count":"@@{COUNT}@@","type":"","scaling_type":"SCALEOUT"},"timeout_secs":"0","type":"SCALING","variable_list":[],"name":"Scale Out"}],"description":"","uuid":"c513c1a3-f204-4cea-9a26-5de7d6fe423b","variable_list":[{"val_type":"STRING","uuid":"cd78eb71-5af2-4519-af76-3d2bcdf9562b","name":"COUNT","value":"1","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","description":""}],"main_task_local_reference":{"kind":"app_task","name":"0d5ad4a7_dag","uuid":"613c72b5-1e57-48fd-a46c-2794aaec49ec"},"name":"45be859a_runbook"},"type":"user","uuid":"708e8bb3-f0bb-4703-88c5-b892de8060cc"},{"description":"This action will scale in db slaves by given scale out count.","name":"ScaleIn","critical":false,"runbook":{"task_definition_list":[{"retries":"0","description":"","uuid":"f0482dff-e531-4b52-a5d8-abe84804df1d","child_tasks_local_reference_list":[{"kind":"app_task","name":"Scale In","uuid":"4e91e371-7a25-41d6-beaa-d6ce1ba8157b"}],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"6baa6164_dag"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","uuid":"117283f8-25bc-4d51-ad1c-b7894358b467","name":"de329770_deployment"},"retries":"0","description":"","uuid":"4e91e371-7a25-41d6-beaa-d6ce1ba8157b","child_tasks_local_reference_list":[],"attrs":{"scaling_count":"@@{COUNT}@@","type":"","scaling_type":"SCALEIN"},"timeout_secs":"0","type":"SCALING","variable_list":[],"name":"Scale In"}],"description":"","uuid":"16ad9b40-0745-4a94-ae4b-4ef7e557c4fc","variable_list":[{"val_type":"STRING","uuid":"f473331c-5f63-4422-b631-8af3361c5495","name":"COUNT","value":"1","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","description":""}],"main_task_local_reference":{"kind":"app_task","name":"6baa6164_dag","uuid":"f0482dff-e531-4b52-a5d8-abe84804df1d"},"name":"16496c32_runbook"},"type":"user","uuid":"0658f42d-980c-45aa-adb5-bb21761c018c"}],"name":"Nutanix","variable_list":[{"val_type":"STRING","uuid":"9d17a61b-3c9f-4728-99ac-86ea5b2f91e6","name":"MYSQL_PASSWORD","label":"","attrs":{"is_secret_modified":false,"secret_reference":{"uuid":"9debfa34-71af-4018-9e89-abd91a1e1429"}},"editables":{"value":true},"type":"SECRET","description":""}],"uuid":"38b3e6e0-d6fb-46d4-8afe-8d60d458c2ca"},{"deployment_create_list":[{"name":"62ee1671_deployment","action_list":[],"package_local_reference_list":[{"kind":"app_package","name":"AWSMasterPackage","uuid":"6d64cb98-1346-48c4-a14e-f2858fbc3058"}],"description":"","published_service_local_reference_list":[],"min_replicas":"1","depends_on_list":[],"max_replicas":"1","substrate_local_reference":{"kind":"app_substrate","name":"AWSMaster","uuid":"15c65762-bc8d-4c60-93d7-d64c377a99d4"},"type":"GREENFIELD","variable_list":[],"uuid":"268dbb82-6984-46ce-b947-a284d9d5c84b"},{"name":"a7e03ed8_deployment","action_list":[],"package_local_reference_list":[{"kind":"app_package","name":"AWSSlavePackage","uuid":"34c00323-d209-4ed6-ab82-48e007095d9d"}],"description":"","depends_on_list":[],"min_replicas":"1","max_replicas":"3","published_service_local_reference_list":[],"editables":{"min_replicas":true,"max_replicas":true},"substrate_local_reference":{"kind":"app_substrate","name":"AWSSlave","uuid":"f19c2ea6-884f-47c7-be9a-facfa3b1d1a9"},"type":"GREENFIELD","variable_list":[],"uuid":"f1101b61-03c5-41c1-b196-595a304cb935"}],"description":"","action_list":[{"description":"Take DB Backup. Specify absolute directory path for BACKUP_FILE_PATH","name":"Backup","critical":false,"runbook":{"task_definition_list":[{"retries":"0","description":"","uuid":"7f337716-5438-4180-82bb-a3d9bcfa7fe0","child_tasks_local_reference_list":[{"kind":"app_task","name":"DB Backup","uuid":"0cae526d-a15f-4eeb-80db-710dfb9135bd"}],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"80ef9728_dag"},{"target_any_local_reference":{"kind":"app_service","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd","name":"MySQL_Master"},"retries":"0","description":"","uuid":"0cae526d-a15f-4eeb-80db-710dfb9135bd","child_tasks_local_reference_list":[],"attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n### Setup variables\nmysql_password=\"@@{MYSQL_PASSWORD}@@\"\ndate_part=`date +%F`\nmkdir -p @@{BACKUP_FILE_PATH}@@\nsudo mysqldump -u root -p${mysql_password} --all-databases | sudo gzip -9 > @@{BACKUP_FILE_PATH}@@\/db_dump.sql.gz","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","type":"EXEC","variable_list":[],"name":"DB Backup"}],"description":"","uuid":"5ac60b79-e502-4c0c-bd7f-cd26556b3093","variable_list":[{"val_type":"STRING","uuid":"d5617205-a97e-45bb-89d3-272c06576189","name":"BACKUP_FILE_PATH","value":"~\/db_backup","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","description":""}],"main_task_local_reference":{"kind":"app_task","name":"80ef9728_dag","uuid":"7f337716-5438-4180-82bb-a3d9bcfa7fe0"},"name":"11eaa560_runbook"},"type":"user","uuid":"93752b80-2d20-4457-872c-27bac0dbd589"},{"description":"To restore DB from dump file. Specify absolute directory path for RESTORE_FILE_PATH","name":"Restore","critical":false,"runbook":{"task_definition_list":[{"retries":"0","description":"","uuid":"b36a432e-e5e8-4051-be32-c7aa4619ca7c","child_tasks_local_reference_list":[{"kind":"app_task","name":"DB Restore","uuid":"85752690-abd8-44fc-9337-731817c154de"}],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"6d512a54_dag"},{"target_any_local_reference":{"kind":"app_service","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd","name":"MySQL_Master"},"retries":"0","description":"","uuid":"85752690-abd8-44fc-9337-731817c154de","child_tasks_local_reference_list":[],"attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n### Setup variables\nmysql_password=\"@@{MYSQL_PASSWORD}@@\"\ndb_file=@@{RESTORE_FILE_PATH}@@\n\nsudo gunzip < $db_file | sudo mysql -u root -p${mysql_password} ","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","type":"EXEC","variable_list":[],"name":"DB Restore"}],"description":"","uuid":"f64397df-f95c-4b2a-99b2-d8fdd927f9c2","variable_list":[{"val_type":"STRING","uuid":"ac3c1f99-0398-4a9d-82f6-77bd1e44321a","name":"RESTORE_FILE_PATH","value":"~\/db_backup\/db_dump.sql.gz","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","description":""}],"main_task_local_reference":{"kind":"app_task","name":"6d512a54_dag","uuid":"b36a432e-e5e8-4051-be32-c7aa4619ca7c"},"name":"9651af2f_runbook"},"type":"user","uuid":"f94d3c9f-979b-48e9-bb9d-348c28007396"},{"description":"","name":"ScaleOut","critical":false,"runbook":{"task_definition_list":[{"retries":"0","description":"","uuid":"02ec6c78-6517-4784-b30b-069d6a9d898d","child_tasks_local_reference_list":[{"kind":"app_task","name":"Scale Out","uuid":"c63b1649-022a-41a6-98de-48b04d1cdaa2"}],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"768e7ea3_dag"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","uuid":"f1101b61-03c5-41c1-b196-595a304cb935","name":"a7e03ed8_deployment"},"retries":"0","description":"","uuid":"c63b1649-022a-41a6-98de-48b04d1cdaa2","child_tasks_local_reference_list":[],"attrs":{"scaling_count":"@@{COUNT}@@","type":"","scaling_type":"SCALEOUT"},"timeout_secs":"0","type":"SCALING","variable_list":[],"name":"Scale Out"}],"description":"","uuid":"3a42e040-6e55-48b1-bdb9-1d87bbe6b621","variable_list":[{"val_type":"STRING","uuid":"15ff5d26-cdfa-49af-9acb-8fe213005b5d","name":"COUNT","value":"1","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","description":""}],"main_task_local_reference":{"kind":"app_task","name":"768e7ea3_dag","uuid":"02ec6c78-6517-4784-b30b-069d6a9d898d"},"name":"b6420156_runbook"},"type":"user","uuid":"debfeaba-a488-47fe-8f94-45bdfb449af9"},{"description":"","name":"ScaleIn","critical":false,"runbook":{"task_definition_list":[{"retries":"0","description":"","uuid":"09c35e37-ebb4-470e-824d-e06a96b65bf2","child_tasks_local_reference_list":[{"kind":"app_task","name":"Scale In","uuid":"78e3dfc9-675a-46b4-88c3-e5922aab1bcd"}],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"26dc3690_dag"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","uuid":"f1101b61-03c5-41c1-b196-595a304cb935","name":"a7e03ed8_deployment"},"retries":"0","description":"","uuid":"78e3dfc9-675a-46b4-88c3-e5922aab1bcd","child_tasks_local_reference_list":[],"attrs":{"scaling_count":"@@{COUNT}@@","type":"","scaling_type":"SCALEIN"},"timeout_secs":"0","type":"SCALING","variable_list":[],"name":"Scale In"}],"description":"","uuid":"55519733-04db-4e01-be94-ffb79c641c08","variable_list":[{"val_type":"STRING","uuid":"bf0ccf3f-658d-4a1c-9127-b3a55264f6a1","name":"COUNT","value":"1","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","description":""}],"main_task_local_reference":{"kind":"app_task","name":"26dc3690_dag","uuid":"09c35e37-ebb4-470e-824d-e06a96b65bf2"},"name":"5271ed6b_runbook"},"type":"user","uuid":"c6509590-ffc5-4fdd-a680-caa41a0f4c67"}],"name":"AWS","variable_list":[{"val_type":"STRING","uuid":"bb26a286-3765-4dce-8abb-510d2eb2a439","name":"MYSQL_PASSWORD","label":"","attrs":{"is_secret_modified":false,"secret_reference":{"uuid":"7ce736d4-1202-4247-a145-44c871700e5a"}},"editables":{"value":true},"type":"SECRET","description":""}],"uuid":"318f3f17-cb56-466d-8463-78d0fa5de75f"},{"deployment_create_list":[{"name":"9b1d29e6_deployment","action_list":[],"package_local_reference_list":[{"kind":"app_package","name":"GCPMasterPackage","uuid":"77a18b5d-4cbc-4548-bb28-2c4fb6308d50"}],"description":"","published_service_local_reference_list":[],"min_replicas":"1","depends_on_list":[],"max_replicas":"1","substrate_local_reference":{"kind":"app_substrate","name":"GCPMaster","uuid":"d9edbd06-05b7-4e69-bc4b-ba5c99bab83f"},"type":"GREENFIELD","variable_list":[],"uuid":"95b261f0-da10-45b6-a3e9-0e31feec6fdc"},{"name":"54ee850e_deployment","action_list":[],"package_local_reference_list":[{"kind":"app_package","name":"GCPSlavePackage","uuid":"e539041c-dd5e-4d31-b4ad-f1644e8e0679"}],"description":"","depends_on_list":[],"min_replicas":"1","max_replicas":"3","published_service_local_reference_list":[],"editables":{"min_replicas":true,"max_replicas":true},"substrate_local_reference":{"kind":"app_substrate","name":"GCPSlave","uuid":"952ad6d6-fef1-417d-9c7d-75a978b7cfbd"},"type":"GREENFIELD","variable_list":[],"uuid":"520c6a79-b4a0-44b3-a7a4-e241ba8674f3"}],"description":"","action_list":[{"description":"","name":"Backup","critical":false,"runbook":{"task_definition_list":[{"retries":"0","description":"","uuid":"e1186af2-c0ae-4eb5-aca0-0ae6f9a7dd24","child_tasks_local_reference_list":[{"kind":"app_task","name":"DB Backup","uuid":"b6bf1579-0560-42ee-bcf7-858ef8f04ffa"}],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"c8c571b2_dag"},{"target_any_local_reference":{"kind":"app_service","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd","name":"MySQL_Master"},"retries":"0","description":"","uuid":"b6bf1579-0560-42ee-bcf7-858ef8f04ffa","child_tasks_local_reference_list":[],"attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\n\n### Setup variables\nmysql_password=\"@@{MYSQL_PASSWORD}@@\"\ndate_part=`date +%F`\nmkdir -p @@{BACKUP_FILE_PATH}@@\nsudo mysqldump -u root -p${mysql_password} --all-databases | sudo gzip -9 > @@{BACKUP_FILE_PATH}@@\/db_dump.sql.gz"},"timeout_secs":"0","type":"EXEC","variable_list":[],"name":"DB Backup"}],"description":"","uuid":"3a63285b-3ec3-4ea8-8fc7-2806bcd64754","variable_list":[{"val_type":"STRING","uuid":"50787fb1-60a8-4bd2-a61d-526463e1ce07","name":"BACKUP_FILE_PATH","value":"~\/db_backup","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","description":""}],"main_task_local_reference":{"kind":"app_task","name":"c8c571b2_dag","uuid":"e1186af2-c0ae-4eb5-aca0-0ae6f9a7dd24"},"name":"cf21cddc_runbook"},"type":"user","uuid":"e8f55ac3-977b-470f-b02e-a766b125ee4f"},{"description":"","name":"Restore","critical":false,"runbook":{"task_definition_list":[{"retries":"0","description":"","uuid":"b27cd7a9-72d2-441c-99e4-b94711d40d15","child_tasks_local_reference_list":[{"kind":"app_task","name":"DB Restore","uuid":"6dce6f2c-3fba-45a2-9006-20178950c5e3"}],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"eff38554_dag"},{"target_any_local_reference":{"kind":"app_service","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd","name":"MySQL_Master"},"retries":"0","description":"","uuid":"6dce6f2c-3fba-45a2-9006-20178950c5e3","child_tasks_local_reference_list":[],"attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\n\n### Setup variables\nmysql_password=\"@@{MYSQL_PASSWORD}@@\"\ndb_file=@@{RESTORE_FILE_PATH}@@\n\nsudo gunzip < $db_file | sudo mysql -u root -p${mysql_password} "},"timeout_secs":"0","type":"EXEC","variable_list":[],"name":"DB Restore"}],"description":"","uuid":"92cc80f8-1414-421d-a9ad-9e8f62a57ed4","variable_list":[{"val_type":"STRING","uuid":"2d65f399-bc75-4954-8038-92702fc99b3c","name":"RESTORE_FILE_PATH","value":"~\/db_backup\/db_dump.sql.gz","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","description":""}],"main_task_local_reference":{"kind":"app_task","name":"eff38554_dag","uuid":"b27cd7a9-72d2-441c-99e4-b94711d40d15"},"name":"5911aa86_runbook"},"type":"user","uuid":"a9e7e92e-0987-4d8a-8301-007f96d10c40"},{"description":"","name":"ScaleOut","critical":false,"runbook":{"task_definition_list":[{"retries":"0","description":"","uuid":"ae0b45fd-1b73-4482-8511-5872ede220d6","child_tasks_local_reference_list":[{"kind":"app_task","name":"Scale Out","uuid":"94b2294c-231f-457a-90df-37cfc2634e22"}],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"18ab1dc5_dag"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","uuid":"520c6a79-b4a0-44b3-a7a4-e241ba8674f3","name":"54ee850e_deployment"},"retries":"0","description":"","uuid":"94b2294c-231f-457a-90df-37cfc2634e22","child_tasks_local_reference_list":[],"attrs":{"scaling_count":"@@{COUNT}@@","type":"","scaling_type":"SCALEOUT"},"timeout_secs":"0","type":"SCALING","variable_list":[],"name":"Scale Out"}],"description":"","uuid":"d825c03e-b0b5-4931-8121-2a197dafbfeb","variable_list":[{"val_type":"STRING","uuid":"a4af17b4-56ac-46e6-897c-1dbe890854c5","name":"COUNT","value":"1","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","description":""}],"main_task_local_reference":{"kind":"app_task","name":"18ab1dc5_dag","uuid":"ae0b45fd-1b73-4482-8511-5872ede220d6"},"name":"0efec22d_runbook"},"type":"user","uuid":"765fc3c0-4e16-415c-ba84-cb0be19d372f"},{"description":"","name":"ScaleIn","critical":false,"runbook":{"task_definition_list":[{"retries":"0","description":"","uuid":"4008795d-8082-4633-aad2-ba00b911afdf","child_tasks_local_reference_list":[{"kind":"app_task","name":"Scale In","uuid":"57443061-ac9d-4cf7-b142-2a1e7ad96a4f"}],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"d25c81bb_dag"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","uuid":"520c6a79-b4a0-44b3-a7a4-e241ba8674f3","name":"54ee850e_deployment"},"retries":"0","description":"","uuid":"57443061-ac9d-4cf7-b142-2a1e7ad96a4f","child_tasks_local_reference_list":[],"attrs":{"scaling_count":"@@{COUNT}@@","type":"","scaling_type":"SCALEIN"},"timeout_secs":"0","type":"SCALING","variable_list":[],"name":"Scale In"}],"description":"","uuid":"7c0110d7-180c-440f-a23b-65bb8dc78bef","variable_list":[{"val_type":"STRING","uuid":"d056d30a-ea82-4bab-a096-c2c67502aeab","name":"COUNT","value":"1","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","description":""}],"main_task_local_reference":{"kind":"app_task","name":"d25c81bb_dag","uuid":"4008795d-8082-4633-aad2-ba00b911afdf"},"name":"eb302554_runbook"},"type":"user","uuid":"a9d3dd91-293f-4660-b5e6-2bddc5c55ff7"}],"name":"GCP","variable_list":[{"val_type":"STRING","uuid":"58876bce-1476-46ac-826b-f3f8e8b0168a","name":"MYSQL_PASSWORD","label":"","attrs":{"is_secret_modified":false,"secret_reference":{"uuid":"b60db7f5-981a-4463-acaa-20895aaebf3d"}},"editables":{"value":true},"type":"SECRET","description":""}],"uuid":"2dbca39a-353f-4650-ac9a-b5c84e9aded9"},{"deployment_create_list":[{"name":"c56e12c0_deployment","action_list":[],"package_local_reference_list":[{"kind":"app_package","name":"AzureMasterPackage","uuid":"4c188fff-e85e-47fb-8da0-68cd76db155b"}],"description":"","published_service_local_reference_list":[],"min_replicas":"1","depends_on_list":[],"max_replicas":"1","substrate_local_reference":{"kind":"app_substrate","name":"AzureMaster","uuid":"e4ca30de-9aef-4f99-9e43-a5397e5782c0"},"type":"GREENFIELD","variable_list":[],"uuid":"9542cb3d-f303-433f-9e85-c9a6a24e3ec8"},{"name":"797414cb_deployment","action_list":[],"package_local_reference_list":[{"kind":"app_package","name":"AzureSlavePackage","uuid":"f50f37d2-44a7-4159-aa44-051ad043416b"}],"description":"","depends_on_list":[],"min_replicas":"1","max_replicas":"3","published_service_local_reference_list":[],"editables":{"min_replicas":true,"max_replicas":true},"substrate_local_reference":{"kind":"app_substrate","name":"AzureSlave","uuid":"923f313b-a051-46c9-85d0-1beb4ed96b2c"},"type":"GREENFIELD","variable_list":[],"uuid":"fc8c528c-c694-44e7-9f41-633cc4c5aeac"}],"description":"","action_list":[{"description":"","name":"Backup","critical":false,"runbook":{"task_definition_list":[{"retries":"0","description":"","uuid":"d24c2900-4365-4ab0-a412-3fc8f4282d00","child_tasks_local_reference_list":[{"kind":"app_task","name":"DB Backup","uuid":"2e8237a8-cc43-4b16-8271-3423e181061b"}],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"966ad697_dag"},{"target_any_local_reference":{"kind":"app_service","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd","name":"MySQL_Master"},"retries":"0","description":"","uuid":"2e8237a8-cc43-4b16-8271-3423e181061b","child_tasks_local_reference_list":[],"attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\n\n### Setup variables\nmysql_password=\"@@{MYSQL_PASSWORD}@@\"\ndate_part=`date +%F`\nmkdir -p @@{BACKUP_FILE_PATH}@@\nsudo mysqldump -u root -p${mysql_password} --all-databases | sudo gzip -9 > @@{BACKUP_FILE_PATH}@@\/db_dump.sql.gz"},"timeout_secs":"0","type":"EXEC","variable_list":[],"name":"DB Backup"}],"description":"","uuid":"68578371-6d2f-4b67-89a6-014d390b142a","variable_list":[{"val_type":"STRING","uuid":"2964d98b-ba56-4df6-9c5b-824b0a2b9967","name":"BACKUP_FILE_PATH","value":"~\/db_backup","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","description":""}],"main_task_local_reference":{"kind":"app_task","name":"966ad697_dag","uuid":"d24c2900-4365-4ab0-a412-3fc8f4282d00"},"name":"f1e44022_runbook"},"type":"user","uuid":"473b7a56-27b6-4fec-84a8-a7140b6956d0"},{"description":"","name":"Restore","critical":false,"runbook":{"task_definition_list":[{"retries":"0","description":"","uuid":"9fe1fe2e-42ed-413b-a0f6-76ff8134d25d","child_tasks_local_reference_list":[{"kind":"app_task","name":"DB Restore","uuid":"c8657906-1256-4a5b-ac54-254e17a3eb6e"}],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"5ed684d9_dag"},{"target_any_local_reference":{"kind":"app_service","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd","name":"MySQL_Master"},"retries":"0","description":"","uuid":"c8657906-1256-4a5b-ac54-254e17a3eb6e","child_tasks_local_reference_list":[],"attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\n\n### Setup variables\nmysql_password=\"@@{MYSQL_PASSWORD}@@\"\ndb_file=@@{RESTORE_FILE_PATH}@@\n\nsudo gunzip < $db_file | sudo mysql -u root -p${mysql_password} "},"timeout_secs":"0","type":"EXEC","variable_list":[],"name":"DB Restore"}],"description":"","uuid":"b5d416bc-f0e9-4f0a-97d7-61441e82065c","variable_list":[{"val_type":"STRING","uuid":"e585ede6-b357-412b-b79b-3638a98409a5","name":"RESTORE_FILE_PATH","value":"~\/db_backup\/db_dump.sql.gz","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","description":""}],"main_task_local_reference":{"kind":"app_task","name":"5ed684d9_dag","uuid":"9fe1fe2e-42ed-413b-a0f6-76ff8134d25d"},"name":"70027c7e_runbook"},"type":"user","uuid":"d3ebd1ab-a9e8-433f-a809-29b6d9d0463f"},{"description":"","name":"ScaleOut","critical":false,"runbook":{"task_definition_list":[{"retries":"0","description":"","uuid":"9723708d-9769-4db7-ba58-3682f0b8c1f6","child_tasks_local_reference_list":[{"kind":"app_task","name":"ScaleOut","uuid":"8f4acc36-35fa-4689-b65c-1d1ee9bc8fb1"}],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"68006bbc_dag"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","uuid":"fc8c528c-c694-44e7-9f41-633cc4c5aeac","name":"797414cb_deployment"},"retries":"0","description":"","uuid":"8f4acc36-35fa-4689-b65c-1d1ee9bc8fb1","child_tasks_local_reference_list":[],"attrs":{"scaling_count":"@@{COUNT}@@","type":"","scaling_type":"SCALEOUT"},"timeout_secs":"0","type":"SCALING","variable_list":[],"name":"ScaleOut"}],"description":"","uuid":"096f8339-3b55-4abd-8edb-170b54c301ef","variable_list":[{"val_type":"STRING","uuid":"d78635e8-a562-4571-8613-ec802e0a82fe","name":"COUNT","value":"1","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","description":""}],"main_task_local_reference":{"kind":"app_task","name":"68006bbc_dag","uuid":"9723708d-9769-4db7-ba58-3682f0b8c1f6"},"name":"7b41b938_runbook"},"type":"user","uuid":"d353d146-f6e2-4fe2-bd33-83546fc9b6de"},{"description":"","name":"ScaleIn","critical":false,"runbook":{"task_definition_list":[{"retries":"0","description":"","uuid":"70614bf5-29c1-4579-b7c2-7b1571f85793","child_tasks_local_reference_list":[{"kind":"app_task","name":"Scale In","uuid":"825c848c-f794-4ae8-bf6f-613e314c6638"}],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"b337ca9d_dag"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","uuid":"fc8c528c-c694-44e7-9f41-633cc4c5aeac","name":"797414cb_deployment"},"retries":"0","description":"","uuid":"825c848c-f794-4ae8-bf6f-613e314c6638","child_tasks_local_reference_list":[],"attrs":{"scaling_count":"@@{COUNT}@@","type":"","scaling_type":"SCALEIN"},"timeout_secs":"0","type":"SCALING","variable_list":[],"name":"Scale In"}],"description":"","uuid":"5acf7d63-4627-4a34-8932-1d1324c159d6","variable_list":[{"val_type":"STRING","uuid":"ca49e0ee-8209-4e07-b767-6093ae111bd8","name":"COUNT","value":"1","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","description":""}],"main_task_local_reference":{"kind":"app_task","name":"b337ca9d_dag","uuid":"70614bf5-29c1-4579-b7c2-7b1571f85793"},"name":"c0c7671a_runbook"},"type":"user","uuid":"382db0cf-0460-4054-b85d-71e6e54fdd13"}],"name":"Azure","variable_list":[{"val_type":"STRING","uuid":"cbdf78aa-7786-4b35-b6d4-259133b46b6c","name":"MYSQL_PASSWORD","label":"","attrs":{"is_secret_modified":false,"secret_reference":{"uuid":"e2d3ad81-7282-45cd-aed2-f8bed070ef6f"}},"editables":{"value":true},"type":"SECRET","description":""}],"uuid":"b78e0a60-f584-4da9-a75c-ffa78d1ce130"},{"deployment_create_list":[{"name":"9098b02b_deployment_cloned_0","action_list":[],"package_local_reference_list":[{"kind":"app_package","uuid":"ad5a77a8-44ba-36bb-9693-8c461a120643"}],"description":"","published_service_local_reference_list":[],"min_replicas":"1","depends_on_list":[],"max_replicas":"1","substrate_local_reference":{"kind":"app_substrate","uuid":"7d3e29ba-e3d9-4356-e47d-3392002f315d"},"type":"GREENFIELD","variable_list":[],"uuid":"703234ae-ce7c-dbf2-5366-0f91d2c6d2b0"},{"name":"de329770_deployment_cloned_0","action_list":[],"package_local_reference_list":[{"kind":"app_package","uuid":"9b8bdfab-7dac-86a0-15bd-235d3eebd8f7"}],"description":"","depends_on_list":[],"min_replicas":"1","max_replicas":"3","published_service_local_reference_list":[],"editables":{"min_replicas":true,"max_replicas":true},"substrate_local_reference":{"kind":"app_substrate","uuid":"4cb413a9-76dd-0ba2-fa36-64463ec9029a"},"type":"GREENFIELD","variable_list":[],"uuid":"cecc902c-3e9d-6b4c-ac3f-d1943301f962"}],"description":"","action_list":[{"description":"Take DB Backup. Specify absolute directory path for BACKUP_FILE_PATH","name":"Backup","critical":false,"runbook":{"task_definition_list":[{"retries":"0","description":"","uuid":"0f86dd21-da45-013e-8937-1a4b3e7dac85","child_tasks_local_reference_list":[{"kind":"app_task","uuid":"4f5e5171-52df-c588-f5da-0efeafe24373"}],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"3e7d744d_dag_cloned_1"},{"target_any_local_reference":{"kind":"app_service","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","uuid":"4f5e5171-52df-c588-f5da-0efeafe24373","child_tasks_local_reference_list":[],"attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n### Setup variables\nmysql_password=\"@@{MYSQL_PASSWORD}@@\"\ndate_part=`date +%F`\nmkdir -p @@{BACKUP_FILE_PATH}@@\nsudo mysqldump -u root -p${mysql_password} --all-databases | sudo gzip -9 > @@{BACKUP_FILE_PATH}@@\/db_dump.sql.gz","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","type":"EXEC","variable_list":[],"name":"DB Backup"}],"description":"","uuid":"6d565c95-5d2d-5acc-bc2b-32c4d9e71d7c","variable_list":[{"val_type":"STRING","uuid":"dab1cc84-23e4-4531-9b6e-ffd0ff841dd8","name":"BACKUP_FILE_PATH","value":"~\/db_backup","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","description":""}],"main_task_local_reference":{"kind":"app_task","uuid":"0f86dd21-da45-013e-8937-1a4b3e7dac85"},"name":"c6cd4595_runbook_cloned_0"},"type":"user","uuid":"434a0041-5214-f3d7-1a0f-d0b9fb74a75f"},{"description":"To restore DB from dump file. Specify absolute directory path for RESTORE_FILE_PATH","name":"Restore","critical":false,"runbook":{"task_definition_list":[{"retries":"0","description":"","uuid":"59b95cbd-79c2-eac6-2c2b-149fff25c374","child_tasks_local_reference_list":[{"kind":"app_task","uuid":"ab6669e1-760f-4b07-cf5e-73d3f73fd097"}],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"458965d2_dag_cloned_1"},{"target_any_local_reference":{"kind":"app_service","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","description":"","uuid":"ab6669e1-760f-4b07-cf5e-73d3f73fd097","child_tasks_local_reference_list":[],"attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n### Setup variables\nmysql_password=\"@@{MYSQL_PASSWORD}@@\"\ndb_file=@@{RESTORE_FILE_PATH}@@\n\nsudo gunzip < $db_file | sudo mysql -u root -p${mysql_password} ","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","type":"EXEC","variable_list":[],"name":"DB Restore"}],"description":"","uuid":"27d46e76-328a-d8d5-4609-ed7808fadd51","variable_list":[{"val_type":"STRING","uuid":"295ae108-b18b-0a48-f804-d8eb26c2029e","name":"RESTORE_FILE_PATH","value":"~\/db_backup\/db_dump.sql.gz","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","description":""}],"main_task_local_reference":{"kind":"app_task","uuid":"59b95cbd-79c2-eac6-2c2b-149fff25c374"},"name":"412d41ad_runbook_cloned_0"},"type":"user","uuid":"1348acf0-1b29-23b3-35af-f26445902540"},{"description":"","name":"ScaleOut","critical":false,"runbook":{"task_definition_list":[{"retries":"0","description":"","uuid":"153e6795-2e03-ff37-7ad0-bf90ae2e4abc","child_tasks_local_reference_list":[{"kind":"app_task","uuid":"ff20e6f8-da01-f9e2-8186-8b4aff5b01f0"}],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"0d5ad4a7_dag_cloned_1"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","uuid":"cecc902c-3e9d-6b4c-ac3f-d1943301f962"},"retries":"0","description":"","uuid":"ff20e6f8-da01-f9e2-8186-8b4aff5b01f0","child_tasks_local_reference_list":[],"attrs":{"scaling_count":"@@{COUNT}@@","type":"","scaling_type":"SCALEOUT"},"timeout_secs":"0","type":"SCALING","variable_list":[],"name":"Scale Out_cloned_1"}],"description":"","uuid":"a2c0103f-d770-fbcf-ce92-1397159755be","variable_list":[{"val_type":"STRING","uuid":"16dd938c-995a-8cb9-c10f-76e704c2b7c3","name":"COUNT","value":"1","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","description":""}],"main_task_local_reference":{"kind":"app_task","uuid":"153e6795-2e03-ff37-7ad0-bf90ae2e4abc"},"name":"45be859a_runbook_cloned_0"},"type":"user","uuid":"30ebee82-4fa7-7310-3f90-4ffd69e2eff0"},{"description":"","name":"ScaleIn","critical":false,"runbook":{"task_definition_list":[{"retries":"0","description":"","uuid":"fb994b68-daad-cfd8-5615-d87d281949e4","child_tasks_local_reference_list":[{"kind":"app_task","uuid":"324cf376-cbe3-4e87-cc65-b8a0009cb174"}],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"6baa6164_dag_cloned_1"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","uuid":"cecc902c-3e9d-6b4c-ac3f-d1943301f962"},"retries":"0","description":"","uuid":"324cf376-cbe3-4e87-cc65-b8a0009cb174","child_tasks_local_reference_list":[],"attrs":{"scaling_count":"@@{COUNT}@@","type":"","scaling_type":"SCALEIN"},"timeout_secs":"0","type":"SCALING","variable_list":[],"name":"Scale In_cloned_1"}],"description":"","uuid":"142c3c6b-2371-fb56-880e-1fd360a8ecfc","variable_list":[{"val_type":"STRING","uuid":"aecb2a41-946c-3895-e06d-d9d81142cb0b","name":"COUNT","value":"1","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","description":""}],"main_task_local_reference":{"kind":"app_task","uuid":"fb994b68-daad-cfd8-5615-d87d281949e4"},"name":"16496c32_runbook_cloned_0"},"type":"user","uuid":"1d84346f-4e1f-f561-71d8-5c2a42fd6c1a"}],"name":"VMware","variable_list":[{"val_type":"STRING","uuid":"c342eef6-a370-1706-2642-69aeb72138d2","name":"MYSQL_PASSWORD","label":"","attrs":{"is_secret_modified":false,"secret_reference":{"uuid":"9debfa34-71af-4018-9e89-abd91a1e1429"}},"editables":{"value":true},"type":"SECRET","description":""}],"uuid":"7febabe6-95a7-9e9c-0b37-4b38a71ce0f2"}],"published_service_definition_list":[],"default_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"},"package_definition_list":[{"uuid":"e322b0f6-258b-4378-9523-eab4a877f899","action_list":[],"service_local_reference_list":[{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"}],"name":"AHVMasterPackage","version":"","type":"DEB","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVMasterPackage","uuid":"e322b0f6-258b-4378-9523-eab4a877f899"},"retries":"0","name":"9cbec184_dag","type":"DAG","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"Install System Packages","uuid":"2118053f-ef6d-4633-8d67-c3fef6f5a8ab"},{"kind":"app_task","name":"Create Disk Setup","uuid":"711bfd42-7f43-4e6a-b7d3-ffb47dd72272"},{"kind":"app_task","name":"Install MySQL","uuid":"a9d6b016-5c16-40f6-b5ca-a770e9438c6a"},{"kind":"app_task","name":"Setup MySQL","uuid":"bbd74d3a-ae42-475d-bd2b-c8fa95f1834c"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Install System Packages","uuid":"2118053f-ef6d-4633-8d67-c3fef6f5a8ab"},"edge_type":"user_defined","type":"","uuid":"b0c50a73-dafe-430e-a101-17068c765c3a","to_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"711bfd42-7f43-4e6a-b7d3-ffb47dd72272"}},{"from_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"711bfd42-7f43-4e6a-b7d3-ffb47dd72272"},"edge_type":"user_defined","type":"","uuid":"b47002d3-4cee-4edd-b1a0-28481a3dc317","to_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"a9d6b016-5c16-40f6-b5ca-a770e9438c6a"}},{"from_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"a9d6b016-5c16-40f6-b5ca-a770e9438c6a"},"edge_type":"user_defined","type":"","uuid":"afb22197-d1fb-494e-af83-5f26f8b5f0a7","to_task_reference":{"kind":"app_task","name":"Setup MySQL","uuid":"bbd74d3a-ae42-475d-bd2b-c8fa95f1834c"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"40088884-fafd-4851-bfd5-54602ab2f802"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","name":"Install System Packages","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n# -*- Install Mysql\nsudo yum update -y --quiet\nsudo yum install -y  wget xfs* bc unzip lvm2* lsscsi\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"System packages are installed\"","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"2118053f-ef6d-4633-8d67-c3fef6f5a8ab"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","name":"Create Disk Setup","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n##############\n#\n# LVM setup script for MySQL . 4 disks for DATA and 4 for logs\n# Data disks are 50GB | Log disks are 25GB \n#\n#############\n\n\n#PGSQL data\nsudo pvcreate \/dev\/sdb \/dev\/sdc \/dev\/sdd \/dev\/sde\nsudo vgcreate mysqlDataVG \/dev\/sdb \/dev\/sdd \/dev\/sdc \/dev\/sde\nsudo lvcreate -l 100%FREE -i4 -I1M -n mysqlDataLV mysqlDataVG          ## Use 1MB to avoid IO amplification \n#lvcreate -l 100%FREE -i4 -I4M -n pgDataLV pgDataVG\n\n\n#PGSQL logs\nsudo pvcreate \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo vgcreate mysqlLogVG \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo lvcreate -l 100%FREE -i2 -I1M -n mysqlLogLV mysqlLogVG            ## Use 1MB to avoid IO amplification\n#lvcreate -l 100%FREE -i2 -I4M -n pgLogLV pgLogVG\n\n\n#Disable LVM read ahead\nsudo lvchange -r 0 \/dev\/mysqlDataVG\/mysqlDataLV\nsudo lvchange -r 0 \/dev\/mysqlLogVG\/mysqlLogLV\n\n\n#Format LVMs with ext4 and use nodiscard to make sure format time is fast on Nutanix due to SCSI unmap\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlDataVG\/mysqlDataLV\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlLogVG\/mysqlLogLV\n\nsleep 10\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"711bfd42-7f43-4e6a-b7d3-ffb47dd72272"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","name":"Install MySQL","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nsudo hostnamectl set-hostname \"@@{name}@@\"\n\n# -*- Mysql installation \nsudo yum install -y --quiet \"http:\/\/repo.mysql.com\/mysql80-community-release-el7.rpm\"\nsudo yum update -y --quiet\nsudo yum install -y --quiet sshpass mysql-community-server.x86_64\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"a9d6b016-5c16-40f6-b5ca-a770e9438c6a"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","name":"Setup MySQL","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\necho \"!includedir \/etc\/my.cnf.d\" | sudo tee -a \/etc\/my.cnf\n\necho \"[mysqld]\nbinlog-format=mixed\nlog-bin=mysql-bin\ndatadir=\/mysql\/data\nsql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES\ninnodb_data_home_dir = \/mysql\/data\ninnodb_log_group_home_dir = \/mysql\/log\ninnodb_file_per_table\ntmpdir=\/mysql\/tmpdir\ninnodb_undo_directory = \/mysql\/undo\ndefault-storage-engine = innodb\ndefault_tmp_storage_engine = innodb\ninnodb_log_files_in_group = 4\ninnodb_log_file_size = 1G\ninnodb_log_buffer_size = 8M\ninnodb_buffer_pool_size = 6G\t\nlarge-pages\t\ninnodb_buffer_pool_instances = 64\t\ninnodb_flush_method=O_DIRECT\t\ninnodb_flush_neighbors=0\t \ninnodb_flush_log_at_trx_commit=1\ninnodb_buffer_pool_dump_at_shutdown=1\t\ninnodb_buffer_pool_load_at_startup=1\t\nbulk_insert_buffer_size = 256\t\ninnodb_thread_concurrency = 16\t\n \t \n# Undo tablespace\t \ninnodb_undo_tablespaces = 5\t\n \t \n# Networking\t \nwait_timeout=57600\t \nmax_allowed_packet=1G\t\nsocket=\/var\/lib\/mysql\/mysql.sock\t \nskip-name-resolve\nport=3306\t\nmax_connections=1000\t\n\n\n[mysqld_safe]\nlog-error=\/mysql\/log\/mysqld.log\npid-file=\/var\/run\/mysqld\/mysqld.pid\" | sudo tee \/etc\/my.cnf.d\/nutanix.cnf\n\nsudo sed -i \"\/\\[mysqld\\]\/a server-id=100\" \/etc\/my.cnf.d\/nutanix.cnf\necho \"#master=100\" | sudo tee -a  \/etc\/my.cnf.d\/nutanix.cnf\n\nserver_id=`sudo cat \/etc\/my.cnf.d\/nutanix.cnf | grep  \"server-id=\" | cut -d= -f2`\nis_master=`sudo cat \/etc\/my.cnf.d\/nutanix.cnf | grep -q -w \"#master=$server_id\"; echo $?`\n\nif [ ${is_master} -ne 0 ]\nthen\n   sudo sed -i '\/\\[mysqld\\]\/a read_only=1' \/etc\/my.cnf.d\/nutanix.cnf\nfi\n\n# -*- Sysctl configuration\nmysql_grp_id=`id -g mysql`\nsudo sysctl -w vm.swappiness=0\nsudo sysctl -w vm.nr_hugepages=1024\nsudo sysctl -w vm.overcommit_memory=1\nsudo sysctl -w vm.dirty_background_ratio=5 \nsudo sysctl -w vm.dirty_ratio=15\nsudo sysctl -w vm.dirty_expire_centisecs=500\nsudo sysctl -w vm.dirty_writeback_centisecs=100\nsudo sysctl -w vm.hugetlb_shm_group=$mysql_grp_id\n\necho \"vm.swappiness=0\nvm.nr_hugepages=1024\nvm.overcommit_memory=1\nvm.dirty_background_ratio=5 \nvm.dirty_ratio=15\nvm.dirty_expire_centisecs=500\nvm.dirty_writeback_centisecs=100\nvm.hugetlb_shm_group=$mysql_grp_id\" | sudo tee  -a \/etc\/sysctl.conf\n\necho \"ACTION=='add|change', SUBSYSTEM=='block', RUN+='\/bin\/sh -c \\\"\/bin\/echo 1024 > \/sys%p\/queue\/max_sectors_kb\\\"'\" | sudo tee \/etc\/udev\/rules.d\/71-block-max-sectors.rules\n\necho \"\/dev\/mysqlDataVG\/mysqlDataLV \/mysql\/data ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\necho \"\/dev\/mysqlLogVG\/mysqlLogLV \/mysql\/log ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\nsudo mkdir -p \/mysql\/log \/mysql\/data \/mysql\/tmpdir \/mysql\/undo\nsudo mount -a\nsudo chown -R mysql:mysql \/mysql\n\nsudo systemctl enable mysqld\n\nsudo rm -rf \/mysql\/data\/*\nsudo systemctl start mysqld\n\n#Fix to obtain temp password and set it to blank\npassword=$(grep -oP 'temporary password(.*): \\K(\\S+)' \/var\/log\/mysqld.log)\nsudo mysqladmin --user=root --password=\"$password\" password aaBB**cc1122\nsudo mysql --user=root --password=aaBB**cc1122 -e \"UNINSTALL COMPONENT 'file:\/\/component_validate_password'\"\nsudo mysqladmin --user=root --password=\"aaBB**cc1122\" password \"\"\n\n\n#Mysql secure installation\nsudo mysql -u root<<-EOF\nALTER USER 'root'@'localhost' IDENTIFIED WITH caching_sha2_password BY '@@{MYSQL_PASSWORD}@@';\nDELETE FROM mysql.user WHERE User='root' AND Host NOT IN ('localhost', '127.0.0.1', '::1');\nDELETE FROM mysql.user WHERE User='';\nDELETE FROM mysql.db WHERE Db='test' OR Db='test\\_%';\nFLUSH PRIVILEGES;\nEOF\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"bbd74d3a-ae42-475d-bd2b-c8fa95f1834c"}],"name":"ee9a3de0_runbook","description":"","state":"ACTIVE","variable_list":[],"message_list":[],"main_task_local_reference":{"kind":"app_task","name":"9cbec184_dag","uuid":"40088884-fafd-4851-bfd5-54602ab2f802"},"uuid":"f04053e3-09bc-4fa6-ac0c-e2cb560afb2a"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVMasterPackage","uuid":"e322b0f6-258b-4378-9523-eab4a877f899"},"retries":"0","name":"7e474eb1_dag","type":"DAG","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"PackageUninstallTask","uuid":"8984e605-ad21-4662-a82a-705da511c149"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"f6a6141d-7040-4e27-8e66-0c64a5942601"},{"target_any_local_reference":{"kind":"app_package","name":"AHVMasterPackage","uuid":"e322b0f6-258b-4378-9523-eab4a877f899"},"retries":"0","name":"PackageUninstallTask","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"8984e605-ad21-4662-a82a-705da511c149"}],"name":"4235ede6_runbook","description":"","state":"ACTIVE","variable_list":[],"message_list":[],"main_task_local_reference":{"kind":"app_task","name":"7e474eb1_dag","uuid":"f6a6141d-7040-4e27-8e66-0c64a5942601"},"uuid":"aa3002cf-e8f3-414e-85e6-b4f75deb2f08"}},"variable_list":[],"description":""},{"uuid":"bb4017ed-6571-4577-b76b-c2ae42903b6e","action_list":[],"service_local_reference_list":[{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"}],"name":"AHVSlavePackage","version":"","type":"DEB","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVSlavePackage","uuid":"bb4017ed-6571-4577-b76b-c2ae42903b6e"},"retries":"0","name":"35a5e492_dag","type":"DAG","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"Install System Packages","uuid":"c4a0c0bd-68cf-44cd-b2d6-9ef50153deac"},{"kind":"app_task","name":"Create Disk Setup","uuid":"fff5877d-88b7-4b0e-b18c-f6fcb2da3f60"},{"kind":"app_task","name":"Install MySQL","uuid":"5c24389b-9159-4956-b054-98b195925fe9"},{"kind":"app_task","name":"Setup MySQL","uuid":"5228ba8c-8316-4447-a5d8-9b353e3a21d5"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Install System Packages","uuid":"c4a0c0bd-68cf-44cd-b2d6-9ef50153deac"},"edge_type":"user_defined","type":"","uuid":"6a87b75b-984c-44e0-881d-f9ad60a12edf","to_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"fff5877d-88b7-4b0e-b18c-f6fcb2da3f60"}},{"from_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"fff5877d-88b7-4b0e-b18c-f6fcb2da3f60"},"edge_type":"user_defined","type":"","uuid":"c825e3af-ece6-483b-b264-6f49a97248cc","to_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"5c24389b-9159-4956-b054-98b195925fe9"}},{"from_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"5c24389b-9159-4956-b054-98b195925fe9"},"edge_type":"user_defined","type":"","uuid":"ca4b09bb-7d54-420f-bcb0-def1ff9fd0f7","to_task_reference":{"kind":"app_task","name":"Setup MySQL","uuid":"5228ba8c-8316-4447-a5d8-9b353e3a21d5"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"e34818c7-9580-46e3-afd1-a9a0da0536dd"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","name":"Install System Packages","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n# -*- Install Mysql\nsudo yum update -y --quiet\nsudo yum install -y  wget xfs* bc unzip lvm2* lsscsi\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"System packages are installed\"","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"c4a0c0bd-68cf-44cd-b2d6-9ef50153deac"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","name":"Create Disk Setup","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n##############\n#\n# LVM setup script for MySQL . 4 disks for DATA and 4 for logs\n# Data disks are 50GB | Log disks are 25GB \n#\n#############\n\n\n#PGSQL data\nsudo pvcreate \/dev\/sdb \/dev\/sdc \/dev\/sdd \/dev\/sde\nsudo vgcreate mysqlDataVG \/dev\/sdb \/dev\/sdd \/dev\/sdc \/dev\/sde\nsudo lvcreate -l 100%FREE -i4 -I1M -n mysqlDataLV mysqlDataVG          ## Use 1MB to avoid IO amplification \n#lvcreate -l 100%FREE -i4 -I4M -n pgDataLV pgDataVG\n\n\n#PGSQL logs\nsudo pvcreate \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo vgcreate mysqlLogVG \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo lvcreate -l 100%FREE -i2 -I1M -n mysqlLogLV mysqlLogVG            ## Use 1MB to avoid IO amplification\n#lvcreate -l 100%FREE -i2 -I4M -n pgLogLV pgLogVG\n\n\n#Disable LVM read ahead\nsudo lvchange -r 0 \/dev\/mysqlDataVG\/mysqlDataLV\nsudo lvchange -r 0 \/dev\/mysqlLogVG\/mysqlLogLV\n\n\n#Format LVMs with ext4 and use nodiscard to make sure format time is fast on Nutanix due to SCSI unmap\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlDataVG\/mysqlDataLV\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlLogVG\/mysqlLogLV\n\nsleep 10\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"fff5877d-88b7-4b0e-b18c-f6fcb2da3f60"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","name":"Install MySQL","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nsudo hostnamectl set-hostname \"@@{name}@@\"\n\n# -*- Mysql installation \nsudo yum install -y --quiet \"http:\/\/repo.mysql.com\/mysql80-community-release-el7.rpm\"\nsudo yum update -y --quiet\nsudo yum install -y --quiet sshpass mysql-community-server.x86_64\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"5c24389b-9159-4956-b054-98b195925fe9"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","name":"Setup MySQL","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\necho \"!includedir \/etc\/my.cnf.d\" | sudo tee -a \/etc\/my.cnf\n\necho \"[mysqld]\nbinlog-format=mixed\nlog-bin=mysql-bin\ndatadir=\/mysql\/data\nsql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES\ninnodb_data_home_dir = \/mysql\/data\ninnodb_log_group_home_dir = \/mysql\/log\ninnodb_file_per_table\ntmpdir=\/mysql\/tmpdir\ninnodb_undo_directory = \/mysql\/undo\ndefault-storage-engine = innodb\ndefault_tmp_storage_engine = innodb\ninnodb_log_files_in_group = 4\ninnodb_log_file_size = 1G\ninnodb_log_buffer_size = 8M\ninnodb_buffer_pool_size = 6G\t\nlarge-pages\t\ninnodb_buffer_pool_instances = 64\t\ninnodb_flush_method=O_DIRECT\t\ninnodb_flush_neighbors=0\t \ninnodb_flush_log_at_trx_commit=1\ninnodb_buffer_pool_dump_at_shutdown=1\t\ninnodb_buffer_pool_load_at_startup=1\t\nbulk_insert_buffer_size = 256\t\ninnodb_thread_concurrency = 16\t\n \t \n# Undo tablespace\t \ninnodb_undo_tablespaces = 5\t\n \t \n# Networking\t \nwait_timeout=57600\t \nmax_allowed_packet=1G\t\nsocket=\/var\/lib\/mysql\/mysql.sock\t \nskip-name-resolve\nport=3306\t\nmax_connections=1000\t\n\n\n[mysqld_safe]\nlog-error=\/mysql\/log\/mysqld.log\npid-file=\/var\/run\/mysqld\/mysqld.pid\" | sudo tee \/etc\/my.cnf.d\/nutanix.cnf\n\necho \"#master=100\" | sudo tee -a  \/etc\/my.cnf.d\/nutanix.cnf\n\nserver_id=`sudo cat \/etc\/my.cnf | grep  \"server-id=\" | cut -d= -f2`\nis_master=`sudo cat \/etc\/my.cnf | grep -q -w \"#master=$server_id\"; echo $?`\n\nif [ ${is_master} -ne 0 ]\nthen\n   sudo sed -i '\/\\[mysqld\\]\/a read_only=1' \/etc\/my.cnf.d\/nutanix.cnf\nfi\n\n# -*- Sysctl configuration\nmysql_grp_id=`id -g mysql`\nsudo sysctl -w vm.swappiness=0\nsudo sysctl -w vm.nr_hugepages=1024\nsudo sysctl -w vm.overcommit_memory=1\nsudo sysctl -w vm.dirty_background_ratio=5 \nsudo sysctl -w vm.dirty_ratio=15\nsudo sysctl -w vm.dirty_expire_centisecs=500\nsudo sysctl -w vm.dirty_writeback_centisecs=100\nsudo sysctl -w vm.hugetlb_shm_group=$mysql_grp_id\n\necho \"vm.swappiness=0\nvm.nr_hugepages=1024\nvm.overcommit_memory=1\nvm.dirty_background_ratio=5 \nvm.dirty_ratio=15\nvm.dirty_expire_centisecs=500\nvm.dirty_writeback_centisecs=100\nvm.hugetlb_shm_group=$mysql_grp_id\" | sudo tee  -a \/etc\/sysctl.conf\n\necho \"ACTION=='add|change', SUBSYSTEM=='block', RUN+='\/bin\/sh -c \\\"\/bin\/echo 1024 > \/sys%p\/queue\/max_sectors_kb\\\"'\" | sudo tee \/etc\/udev\/rules.d\/71-block-max-sectors.rules\n\n\necho \"\/dev\/mysqlDataVG\/mysqlDataLV \/mysql\/data ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\necho \"\/dev\/mysqlLogVG\/mysqlLogLV \/mysql\/log ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\nsudo mkdir -p \/mysql\/log \/mysql\/data \/mysql\/tmpdir \/mysql\/undo\nsudo mount -a\nsudo chown -R mysql:mysql \/mysql\n\nsudo systemctl enable mysqld\n\nsudo rm -rf \/mysql\/data\/*\nsudo systemctl start mysqld\n\n#Fix to obtain temp password and set it to blank\npassword=$(grep -oP 'temporary password(.*): \\K(\\S+)' \/var\/log\/mysqld.log)\nsudo mysqladmin --user=root --password=\"$password\" password aaBB**cc1122\nsudo mysql --user=root --password=aaBB**cc1122 -e \"UNINSTALL COMPONENT 'file:\/\/component_validate_password'\"\nsudo mysqladmin --user=root --password=\"aaBB**cc1122\" password \"\"\n\n\n#Mysql secure installation\nsudo mysql -u root<<-EOF\nALTER USER 'root'@'localhost' IDENTIFIED WITH caching_sha2_password BY '@@{MYSQL_PASSWORD}@@';\nDELETE FROM mysql.user WHERE User='root' AND Host NOT IN ('localhost', '127.0.0.1', '::1');\nDELETE FROM mysql.user WHERE User='';\nDELETE FROM mysql.db WHERE Db='test' OR Db='test\\_%';\nFLUSH PRIVILEGES;\nEOF\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"5228ba8c-8316-4447-a5d8-9b353e3a21d5"}],"name":"db3247c6_runbook","description":"","state":"ACTIVE","variable_list":[],"message_list":[],"main_task_local_reference":{"kind":"app_task","name":"35a5e492_dag","uuid":"e34818c7-9580-46e3-afd1-a9a0da0536dd"},"uuid":"bd35c1ac-154b-4137-9414-d17636c8a277"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVSlavePackage","uuid":"bb4017ed-6571-4577-b76b-c2ae42903b6e"},"retries":"0","name":"53d74d7d_dag","type":"DAG","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"PackageUninstallTask","uuid":"2ac4ff41-a021-48bb-a3cc-8dae1a97af9f"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"f5efe10d-e777-4811-b4ad-4d5787a10820"},{"target_any_local_reference":{"kind":"app_package","name":"AHVSlavePackage","uuid":"bb4017ed-6571-4577-b76b-c2ae42903b6e"},"retries":"0","name":"PackageUninstallTask","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"2ac4ff41-a021-48bb-a3cc-8dae1a97af9f"}],"name":"a4fbe7d2_runbook","description":"","state":"ACTIVE","variable_list":[],"message_list":[],"main_task_local_reference":{"kind":"app_task","name":"53d74d7d_dag","uuid":"f5efe10d-e777-4811-b4ad-4d5787a10820"},"uuid":"113aecdd-38df-4af3-beb7-549f53d467f5"}},"variable_list":[],"description":""},{"uuid":"6d64cb98-1346-48c4-a14e-f2858fbc3058","action_list":[],"service_local_reference_list":[{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"}],"name":"AWSMasterPackage","version":"","type":"DEB","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSMasterPackage","uuid":"6d64cb98-1346-48c4-a14e-f2858fbc3058"},"retries":"0","name":"20906fd3_dag","type":"DAG","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"Install System Packages","uuid":"954cce73-22cd-4eb4-9cd6-6658549482b5"},{"kind":"app_task","name":"Create Disk Setup","uuid":"7675477c-739e-463c-9da6-8f4bd25e2913"},{"kind":"app_task","name":"Install MySQL","uuid":"0f508029-d251-4d2e-a3ee-e64ed7f2bd05"},{"kind":"app_task","name":"Setup MySQL","uuid":"f5b3515f-ca38-4c78-84a3-569f2dfbcdbd"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Install System Packages","uuid":"954cce73-22cd-4eb4-9cd6-6658549482b5"},"edge_type":"user_defined","type":"","uuid":"10764558-4d97-4d7a-9412-89978ebc9c9c","to_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"7675477c-739e-463c-9da6-8f4bd25e2913"}},{"from_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"7675477c-739e-463c-9da6-8f4bd25e2913"},"edge_type":"user_defined","type":"","uuid":"a6ae4db2-f783-4e0c-8018-0f25de4c0fb6","to_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"0f508029-d251-4d2e-a3ee-e64ed7f2bd05"}},{"from_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"0f508029-d251-4d2e-a3ee-e64ed7f2bd05"},"edge_type":"user_defined","type":"","uuid":"aa9ea36d-3a79-41e4-b0d6-4ea869416021","to_task_reference":{"kind":"app_task","name":"Setup MySQL","uuid":"f5b3515f-ca38-4c78-84a3-569f2dfbcdbd"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"f5bcc5df-e89b-4bb3-83dd-a45c600d8bee"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","name":"Install System Packages","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n# -*- Install Mysql\nsudo yum update -y --quiet\nsudo yum install -y  wget xfs* bc unzip lvm2*\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"System packages are installed\"","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"954cce73-22cd-4eb4-9cd6-6658549482b5"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","name":"Create Disk Setup","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n##############\n#\n# LVM setup script for PostgreSQL . 4 disks for DATA and 2 for logs\n# Data disks are 60GB | Log disks are 20GB \n#\n#############\n\n\n#PGSQL data\nsudo pvcreate \/dev\/xvdb \/dev\/xvdc \/dev\/xvdd \/dev\/xvde\nsudo vgcreate mysqlDataVG \/dev\/xvdb \/dev\/xvdc \/dev\/xvdd \/dev\/xvde\nsudo lvcreate -l 100%FREE -i4 -I1M -n mysqlDataLV mysqlDataVG          ## Use 1MB to avoid IO amplification \n#lvcreate -l 100%FREE -i4 -I4M -n pgDataLV pgDataVG\n\n\n#PGSQL logs\nsudo pvcreate \/dev\/xvdf \/dev\/xvdg \/dev\/xvdh \/dev\/xvdi\nsudo vgcreate mysqlLogVG \/dev\/xvdf \/dev\/xvdg \/dev\/xvdh \/dev\/xvdi\nsudo lvcreate -l 100%FREE -i2 -I1M -n mysqlLogLV mysqlLogVG            ## Use 1MB to avoid IO amplification\n#lvcreate -l 100%FREE -i2 -I4M -n pgLogLV pgLogVG\n\n\n#Disable LVM read ahead\nsudo lvchange -r 0 \/dev\/mysqlDataVG\/mysqlDataLV\nsudo lvchange -r 0 \/dev\/mysqlLogVG\/mysqlLogLV\n\n\n#Format LVMs with ext4 and use nodiscard to make sure format time is fast on Nutanix due to SCSI unmap\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlDataVG\/mysqlDataLV\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlLogVG\/mysqlLogLV\n\nsleep 10\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"7675477c-739e-463c-9da6-8f4bd25e2913"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","name":"Install MySQL","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nsudo hostnamectl set-hostname \"@@{name}@@\"\n\n# -*- Mysql installation \nsudo yum install -y --quiet \"http:\/\/repo.mysql.com\/mysql80-community-release-el7.rpm\"\nsudo yum update -y --quiet\nsudo yum install -y --quiet sshpass mysql-community-server.x86_64\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"0f508029-d251-4d2e-a3ee-e64ed7f2bd05"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","name":"Setup MySQL","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\necho \"!includedir \/etc\/my.cnf.d\" | sudo tee -a \/etc\/my.cnf\n\necho \"[mysqld]\nbinlog-format=mixed\nlog-bin=mysql-bin\ndatadir=\/mysql\/data\nsql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES\ninnodb_data_home_dir = \/mysql\/data\ninnodb_log_group_home_dir = \/mysql\/log\ninnodb_file_per_table\ntmpdir=\/mysql\/tmpdir\ninnodb_undo_directory = \/mysql\/undo\ndefault-storage-engine = innodb\ndefault_tmp_storage_engine = innodb\ninnodb_log_files_in_group = 4\ninnodb_log_file_size = 1G\ninnodb_log_buffer_size = 8M\ninnodb_buffer_pool_size = 6G\t\nlarge-pages\t\ninnodb_buffer_pool_instances = 64\t\ninnodb_flush_method=O_DIRECT\t\ninnodb_flush_neighbors=0\t \ninnodb_flush_log_at_trx_commit=1\ninnodb_buffer_pool_dump_at_shutdown=1\t\ninnodb_buffer_pool_load_at_startup=1\t\nbulk_insert_buffer_size = 256\t\ninnodb_thread_concurrency = 16\t\n \t \n# Undo tablespace\t \ninnodb_undo_tablespaces = 5\t\n \t \n# Networking\t \nwait_timeout=57600\t \nmax_allowed_packet=1G\t\nsocket=\/var\/lib\/mysql\/mysql.sock\t \nskip-name-resolve\nport=3306\t\nmax_connections=1000\t\n\n\n[mysqld_safe]\nlog-error=\/mysql\/log\/mysqld.log\npid-file=\/var\/run\/mysqld\/mysqld.pid\" | sudo tee \/etc\/my.cnf.d\/nutanix.cnf\n\nsudo sed -i \"\/\\[mysqld\\]\/a server-id=100\" \/etc\/my.cnf.d\/nutanix.cnf\necho \"#master=100\" | sudo tee -a  \/etc\/my.cnf.d\/nutanix.cnf\n\nserver_id=`sudo cat etc\/my.cnf.d\/nutanix.cnf | grep  \"server-id=\" | cut -d= -f2`\nis_master=`sudo cat etc\/my.cnf.d\/nutanix.cnf | grep -q -w \"#master=$server_id\"; echo $?`\n\nif [ ${is_master} -ne 0 ]\nthen\n   sudo sed -i '\/\\[mysqld\\]\/a read_only=1' \/etc\/my.cnf.d\/nutanix.cnf\nfi\n\n# -*- Sysctl configuration\nmysql_grp_id=`id -g mysql`\nsudo sysctl -w vm.swappiness=0\nsudo sysctl -w vm.nr_hugepages=1024\nsudo sysctl -w vm.overcommit_memory=1\nsudo sysctl -w vm.dirty_background_ratio=5 \nsudo sysctl -w vm.dirty_ratio=15\nsudo sysctl -w vm.dirty_expire_centisecs=500\nsudo sysctl -w vm.dirty_writeback_centisecs=100\nsudo sysctl -w vm.hugetlb_shm_group=$mysql_grp_id\n\necho \"vm.swappiness=0\nvm.nr_hugepages=1024\nvm.overcommit_memory=1\nvm.dirty_background_ratio=5 \nvm.dirty_ratio=15\nvm.dirty_expire_centisecs=500\nvm.dirty_writeback_centisecs=100\nvm.hugetlb_shm_group=$mysql_grp_id\" | sudo tee  -a \/etc\/sysctl.conf\n\necho \"ACTION=='add|change', SUBSYSTEM=='block', RUN+='\/bin\/sh -c \\\"\/bin\/echo 1024 > \/sys%p\/queue\/max_sectors_kb\\\"'\" | sudo tee \/etc\/udev\/rules.d\/71-block-max-sectors.rules\n\necho \"\/dev\/mysqlDataVG\/mysqlDataLV \/mysql\/data ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\necho \"\/dev\/mysqlLogVG\/mysqlLogLV \/mysql\/log ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\nsudo mkdir -p \/mysql\/log \/mysql\/data \/mysql\/tmpdir \/mysql\/undo\nsudo mount -a\nsudo chown -R mysql:mysql \/mysql\n\nsudo systemctl enable mysqld\n\nsudo rm -rf \/mysql\/data\/*\nsudo systemctl start mysqld\n\n#Fix to obtain temp password and set it to blank\npassword=$(grep -oP 'temporary password(.*): \\K(\\S+)' \/var\/log\/mysqld.log)\nsudo mysqladmin --user=root --password=\"$password\" password aaBB**cc1122\nsudo mysql --user=root --password=aaBB**cc1122 -e \"UNINSTALL COMPONENT 'file:\/\/component_validate_password'\"\nsudo mysqladmin --user=root --password=\"aaBB**cc1122\" password \"\"\n\n\n#Mysql secure installation\nsudo mysql -u root<<-EOF\nALTER USER 'root'@'localhost' IDENTIFIED WITH caching_sha2_password BY '@@{MYSQL_PASSWORD}@@';\nDELETE FROM mysql.user WHERE User='root' AND Host NOT IN ('localhost', '127.0.0.1', '::1');\nDELETE FROM mysql.user WHERE User='';\nDELETE FROM mysql.db WHERE Db='test' OR Db='test\\_%';\nFLUSH PRIVILEGES;\nEOF\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"f5b3515f-ca38-4c78-84a3-569f2dfbcdbd"}],"name":"8c0bb7c2_runbook","description":"","state":"ACTIVE","variable_list":[],"message_list":[],"main_task_local_reference":{"kind":"app_task","name":"20906fd3_dag","uuid":"f5bcc5df-e89b-4bb3-83dd-a45c600d8bee"},"uuid":"b3a4d940-2c2a-452a-a008-d29029c241ad"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSMasterPackage","uuid":"6d64cb98-1346-48c4-a14e-f2858fbc3058"},"retries":"0","name":"102b4b68_dag","type":"DAG","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"PackageUninstallTask","uuid":"793e5443-ac4f-4600-9e78-501fbd389358"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"114fdb5c-9ba8-4361-a1cf-0973cb2398e9"},{"target_any_local_reference":{"kind":"app_package","name":"AWSMasterPackage","uuid":"6d64cb98-1346-48c4-a14e-f2858fbc3058"},"retries":"0","name":"PackageUninstallTask","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"793e5443-ac4f-4600-9e78-501fbd389358"}],"name":"97a9a9af_runbook","description":"","state":"ACTIVE","variable_list":[],"message_list":[],"main_task_local_reference":{"kind":"app_task","name":"102b4b68_dag","uuid":"114fdb5c-9ba8-4361-a1cf-0973cb2398e9"},"uuid":"1c0c16f1-92f1-4a05-b58e-58e6329f4454"}},"variable_list":[],"description":""},{"uuid":"34c00323-d209-4ed6-ab82-48e007095d9d","action_list":[],"service_local_reference_list":[{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"}],"name":"AWSSlavePackage","version":"","type":"DEB","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSSlavePackage","uuid":"34c00323-d209-4ed6-ab82-48e007095d9d"},"retries":"0","name":"be281c77_dag","type":"DAG","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"Install System Packages","uuid":"cb777baf-3309-4b7c-a03c-0fec137ee671"},{"kind":"app_task","name":"Create Disk Setup","uuid":"0342aaa3-c506-4221-ac8e-5ae46f15f309"},{"kind":"app_task","name":"Install MySQL","uuid":"57e956e2-1c84-4add-882d-42c1daa0f32e"},{"kind":"app_task","name":"Setup MySQL","uuid":"fbbd4db6-5cad-4564-b4d6-8fb83b7acbc3"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Install System Packages","uuid":"cb777baf-3309-4b7c-a03c-0fec137ee671"},"edge_type":"user_defined","type":"","uuid":"7e56a93c-19dd-4753-b1a7-74fc41b9549a","to_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"0342aaa3-c506-4221-ac8e-5ae46f15f309"}},{"from_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"0342aaa3-c506-4221-ac8e-5ae46f15f309"},"edge_type":"user_defined","type":"","uuid":"1ef7d3b7-eda5-4b25-b1f9-1b8645c8514a","to_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"57e956e2-1c84-4add-882d-42c1daa0f32e"}},{"from_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"57e956e2-1c84-4add-882d-42c1daa0f32e"},"edge_type":"user_defined","type":"","uuid":"2087f962-5e6e-40b5-b84e-d21a2f6ab947","to_task_reference":{"kind":"app_task","name":"Setup MySQL","uuid":"fbbd4db6-5cad-4564-b4d6-8fb83b7acbc3"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"d77b6f4d-5c6a-493c-9212-4658d3be4016"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","name":"Install System Packages","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n# -*- Install Mysql\nsudo yum update -y --quiet\nsudo yum install -y  wget xfs* bc unzip lvm2*\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"System packages are installed\"","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"cb777baf-3309-4b7c-a03c-0fec137ee671"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","name":"Create Disk Setup","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n##############\n#\n# LVM setup script for PostgreSQL . 4 disks for DATA and 2 for logs\n# Data disks are 60GB | Log disks are 20GB \n#\n#############\n\n\n#PGSQL data\nsudo pvcreate \/dev\/xvdb \/dev\/xvdc \/dev\/xvdd \/dev\/xvde\nsudo vgcreate mysqlDataVG \/dev\/xvdb \/dev\/xvdc \/dev\/xvdd \/dev\/xvde\nsudo lvcreate -l 100%FREE -i4 -I1M -n mysqlDataLV mysqlDataVG          ## Use 1MB to avoid IO amplification \n#lvcreate -l 100%FREE -i4 -I4M -n pgDataLV pgDataVG\n\n\n#PGSQL logs\nsudo pvcreate \/dev\/xvdf \/dev\/xvdg \/dev\/xvdh \/dev\/xvdi\nsudo vgcreate mysqlLogVG \/dev\/xvdf \/dev\/xvdg \/dev\/xvdh \/dev\/xvdi\nsudo lvcreate -l 100%FREE -i2 -I1M -n mysqlLogLV mysqlLogVG            ## Use 1MB to avoid IO amplification\n#lvcreate -l 100%FREE -i2 -I4M -n pgLogLV pgLogVG\n\n\n#Disable LVM read ahead\nsudo lvchange -r 0 \/dev\/mysqlDataVG\/mysqlDataLV\nsudo lvchange -r 0 \/dev\/mysqlLogVG\/mysqlLogLV\n\n\n#Format LVMs with ext4 and use nodiscard to make sure format time is fast on Nutanix due to SCSI unmap\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlDataVG\/mysqlDataLV\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlLogVG\/mysqlLogLV\n\nsleep 10\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"0342aaa3-c506-4221-ac8e-5ae46f15f309"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","name":"Install MySQL","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nsudo hostnamectl set-hostname \"@@{name}@@\"\n\n# -*- Mysql installation \nsudo yum install -y --quiet \"http:\/\/repo.mysql.com\/mysql80-community-release-el7.rpm\"\nsudo yum update -y --quiet\nsudo yum install -y --quiet sshpass mysql-community-server.x86_64\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"57e956e2-1c84-4add-882d-42c1daa0f32e"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","name":"Setup MySQL","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\necho \"!includedir \/etc\/my.cnf.d\" | sudo tee -a \/etc\/my.cnf\n\necho \"[mysqld]\nbinlog-format=mixed\nlog-bin=mysql-bin\ndatadir=\/mysql\/data\nsql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES\ninnodb_data_home_dir = \/mysql\/data\ninnodb_log_group_home_dir = \/mysql\/log\ninnodb_file_per_table\ntmpdir=\/mysql\/tmpdir\ninnodb_undo_directory = \/mysql\/undo\ndefault-storage-engine = innodb\ndefault_tmp_storage_engine = innodb\ninnodb_log_files_in_group = 4\ninnodb_log_file_size = 1G\ninnodb_log_buffer_size = 8M\ninnodb_buffer_pool_size = 6G\t\nlarge-pages\t\ninnodb_buffer_pool_instances = 64\t\ninnodb_flush_method=O_DIRECT\t\ninnodb_flush_neighbors=0\t \ninnodb_flush_log_at_trx_commit=1\ninnodb_buffer_pool_dump_at_shutdown=1\t\ninnodb_buffer_pool_load_at_startup=1\t\nbulk_insert_buffer_size = 256\t\ninnodb_thread_concurrency = 16\t\n \t \n# Undo tablespace\t \ninnodb_undo_tablespaces = 5\t\n \t \n# Networking\t \nwait_timeout=57600\t \nmax_allowed_packet=1G\t\nsocket=\/var\/lib\/mysql\/mysql.sock\t \nskip-name-resolve\nport=3306\t\nmax_connections=1000\t\n\n\n[mysqld_safe]\nlog-error=\/mysql\/log\/mysqld.log\npid-file=\/var\/run\/mysqld\/mysqld.pid\" | sudo tee \/etc\/my.cnf.d\/nutanix.cnf\n\necho \"#master=100\" | sudo tee -a  \/etc\/my.cnf.d\/nutanix.cnf\n\nserver_id=`sudo cat etc\/my.cnf.d\/nutanix.cnf | grep  \"server-id=\" | cut -d= -f2`\nis_master=`sudo cat etc\/my.cnf.d\/nutanix.cnf | grep -q -w \"#master=$server_id\"; echo $?`\n\nif [ ${is_master} -ne 0 ]\nthen\n   sudo sed -i '\/\\[mysqld\\]\/a read_only=1' \/etc\/my.cnf.d\/nutanix.cnf\nfi\n\n# -*- Sysctl configuration\nmysql_grp_id=`id -g mysql`\nsudo sysctl -w vm.swappiness=0\nsudo sysctl -w vm.nr_hugepages=1024\nsudo sysctl -w vm.overcommit_memory=1\nsudo sysctl -w vm.dirty_background_ratio=5 \nsudo sysctl -w vm.dirty_ratio=15\nsudo sysctl -w vm.dirty_expire_centisecs=500\nsudo sysctl -w vm.dirty_writeback_centisecs=100\nsudo sysctl -w vm.hugetlb_shm_group=$mysql_grp_id\n\necho \"vm.swappiness=0\nvm.nr_hugepages=1024\nvm.overcommit_memory=1\nvm.dirty_background_ratio=5 \nvm.dirty_ratio=15\nvm.dirty_expire_centisecs=500\nvm.dirty_writeback_centisecs=100\nvm.hugetlb_shm_group=$mysql_grp_id\" | sudo tee  -a \/etc\/sysctl.conf\n\necho \"ACTION=='add|change', SUBSYSTEM=='block', RUN+='\/bin\/sh -c \\\"\/bin\/echo 1024 > \/sys%p\/queue\/max_sectors_kb\\\"'\" | sudo tee \/etc\/udev\/rules.d\/71-block-max-sectors.rules\n\necho \"\/dev\/mysqlDataVG\/mysqlDataLV \/mysql\/data ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\necho \"\/dev\/mysqlLogVG\/mysqlLogLV \/mysql\/log ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\nsudo mkdir -p \/mysql\/log \/mysql\/data \/mysql\/tmpdir \/mysql\/undo\nsudo mount -a\nsudo chown -R mysql:mysql \/mysql\n\nsudo systemctl enable mysqld\n\nsudo rm -rf \/mysql\/data\/*\nsudo systemctl start mysqld\n\n#Fix to obtain temp password and set it to blank\npassword=$(grep -oP 'temporary password(.*): \\K(\\S+)' \/var\/log\/mysqld.log)\nsudo mysqladmin --user=root --password=\"$password\" password aaBB**cc1122\nsudo mysql --user=root --password=aaBB**cc1122 -e \"UNINSTALL COMPONENT 'file:\/\/component_validate_password'\"\nsudo mysqladmin --user=root --password=\"aaBB**cc1122\" password \"\"\n\n\n#Mysql secure installation\nsudo mysql -u root<<-EOF\nALTER USER 'root'@'localhost' IDENTIFIED WITH caching_sha2_password BY '@@{MYSQL_PASSWORD}@@';\nDELETE FROM mysql.user WHERE User='root' AND Host NOT IN ('localhost', '127.0.0.1', '::1');\nDELETE FROM mysql.user WHERE User='';\nDELETE FROM mysql.db WHERE Db='test' OR Db='test\\_%';\nFLUSH PRIVILEGES;\nEOF\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"fbbd4db6-5cad-4564-b4d6-8fb83b7acbc3"}],"name":"c2ab2da2_runbook","description":"","state":"ACTIVE","variable_list":[],"message_list":[],"main_task_local_reference":{"kind":"app_task","name":"be281c77_dag","uuid":"d77b6f4d-5c6a-493c-9212-4658d3be4016"},"uuid":"2e9b5cde-91e4-411e-a3ee-bcefd250c0fe"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSSlavePackage","uuid":"34c00323-d209-4ed6-ab82-48e007095d9d"},"retries":"0","name":"62f03f3b_dag","type":"DAG","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"PackageUninstallTask","uuid":"814c5edb-39bf-4290-86a0-85f28751ae2e"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"df3487be-0398-40ec-803c-e26d2dcee06b"},{"target_any_local_reference":{"kind":"app_package","name":"AWSSlavePackage","uuid":"34c00323-d209-4ed6-ab82-48e007095d9d"},"retries":"0","name":"PackageUninstallTask","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"814c5edb-39bf-4290-86a0-85f28751ae2e"}],"name":"88bbbcc1_runbook","description":"","state":"ACTIVE","variable_list":[],"message_list":[],"main_task_local_reference":{"kind":"app_task","name":"62f03f3b_dag","uuid":"df3487be-0398-40ec-803c-e26d2dcee06b"},"uuid":"c55ca54d-4752-4ef2-8dc5-e872b4e75a49"}},"variable_list":[],"description":""},{"uuid":"a7955a04-2023-483b-8c51-1284d919a1c7","action_list":[],"service_local_reference_list":[],"name":"AHV_CENTOS_76","version":"","type":"SUBSTRATE_IMAGE","options":{"type":"","name":"AHV_CENTOS_76","resources":{"image_type":"DISK_IMAGE","checksum":{"checksum_algorithm":"","type":"","checksum_value":""},"source_uri":"http:\/\/download.nutanix.com\/calm\/CentOS-7-x86_64-1810.qcow2","version":{"product_version":"","type":"","product_name":""},"architecture":"X86_64","type":""},"description":""},"variable_list":[],"description":""},{"uuid":"77a18b5d-4cbc-4548-bb28-2c4fb6308d50","action_list":[],"service_local_reference_list":[{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"}],"name":"GCPMasterPackage","version":"","type":"DEB","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPMasterPackage","uuid":"77a18b5d-4cbc-4548-bb28-2c4fb6308d50"},"retries":"0","name":"d13a100f_dag","type":"DAG","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"Install System Packages","uuid":"abcf16d8-5c32-4eec-b651-e473cd69820c"},{"kind":"app_task","name":"Create Disk Setup","uuid":"680d4dd9-bcea-4da5-ab29-7f63ed3082f3"},{"kind":"app_task","name":"Install MySQL","uuid":"d19591f6-49dc-4fd1-882c-7e23a47f268d"},{"kind":"app_task","name":"Setup MySQL","uuid":"8ff64afe-0644-4384-9836-4108a79df7b0"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Install System Packages","uuid":"abcf16d8-5c32-4eec-b651-e473cd69820c"},"edge_type":"user_defined","type":"","uuid":"8404ac10-03c5-48ff-be7d-c12b657e93aa","to_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"680d4dd9-bcea-4da5-ab29-7f63ed3082f3"}},{"from_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"680d4dd9-bcea-4da5-ab29-7f63ed3082f3"},"edge_type":"user_defined","type":"","uuid":"3a668542-3f5d-4973-828c-fac8f260a735","to_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"d19591f6-49dc-4fd1-882c-7e23a47f268d"}},{"from_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"d19591f6-49dc-4fd1-882c-7e23a47f268d"},"edge_type":"user_defined","type":"","uuid":"2aa46c53-c378-414f-a545-2c1a71b0262f","to_task_reference":{"kind":"app_task","name":"Setup MySQL","uuid":"8ff64afe-0644-4384-9836-4108a79df7b0"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"6a9f5eea-72ce-4093-af89-b296f7535db4"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","name":"Install System Packages","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n# -*- Install Mysql\nsudo yum update -y --quiet\nsudo yum install -y  wget xfs* bc unzip lvm2* lsscsi\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"System packages are installed\"","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"abcf16d8-5c32-4eec-b651-e473cd69820c"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","name":"Create Disk Setup","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n##############\n#\n# LVM setup script for MySQL . 4 disks for DATA and 4 for logs\n# Data disks are 50GB | Log disks are 25GB \n#\n#############\n\n\n#PGSQL data\nsudo pvcreate \/dev\/sdb \/dev\/sdc \/dev\/sdd \/dev\/sde\nsudo vgcreate mysqlDataVG \/dev\/sdb \/dev\/sdd \/dev\/sdc \/dev\/sde\nsudo lvcreate -l 100%FREE -i4 -I1M -n mysqlDataLV mysqlDataVG          ## Use 1MB to avoid IO amplification \n#lvcreate -l 100%FREE -i4 -I4M -n pgDataLV pgDataVG\n\n\n#PGSQL logs\nsudo pvcreate \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo vgcreate mysqlLogVG \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo lvcreate -l 100%FREE -i2 -I1M -n mysqlLogLV mysqlLogVG            ## Use 1MB to avoid IO amplification\n#lvcreate -l 100%FREE -i2 -I4M -n pgLogLV pgLogVG\n\n\n#Disable LVM read ahead\nsudo lvchange -r 0 \/dev\/mysqlDataVG\/mysqlDataLV\nsudo lvchange -r 0 \/dev\/mysqlLogVG\/mysqlLogLV\n\n\n#Format LVMs with ext4 and use nodiscard to make sure format time is fast on Nutanix due to SCSI unmap\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlDataVG\/mysqlDataLV\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlLogVG\/mysqlLogLV\n\nsleep 10\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"680d4dd9-bcea-4da5-ab29-7f63ed3082f3"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","name":"Install MySQL","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nsudo hostnamectl set-hostname \"@@{name}@@\"\n\n# -*- Mysql installation \nsudo yum install -y --quiet \"http:\/\/repo.mysql.com\/mysql80-community-release-el7.rpm\"\nsudo yum update -y --quiet\nsudo yum install -y --quiet sshpass mysql-community-server.x86_64\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"d19591f6-49dc-4fd1-882c-7e23a47f268d"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","name":"Setup MySQL","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\necho \"!includedir \/etc\/my.cnf.d\" | sudo tee -a \/etc\/my.cnf\n\necho \"[mysqld]\nbinlog-format=mixed\nlog-bin=mysql-bin\ndatadir=\/mysql\/data\nsql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES\ninnodb_data_home_dir = \/mysql\/data\ninnodb_log_group_home_dir = \/mysql\/log\ninnodb_file_per_table\ntmpdir=\/mysql\/tmpdir\ninnodb_undo_directory = \/mysql\/undo\ndefault-storage-engine = innodb\ndefault_tmp_storage_engine = innodb\ninnodb_log_files_in_group = 4\ninnodb_log_file_size = 1G\ninnodb_log_buffer_size = 8M\ninnodb_buffer_pool_size = 6G\t\nlarge-pages\t\ninnodb_buffer_pool_instances = 64\t\ninnodb_flush_method=O_DIRECT\t\ninnodb_flush_neighbors=0\t \ninnodb_flush_log_at_trx_commit=1\ninnodb_buffer_pool_dump_at_shutdown=1\t\ninnodb_buffer_pool_load_at_startup=1\t\nbulk_insert_buffer_size = 256\t\ninnodb_thread_concurrency = 16\t\n \t \n# Undo tablespace\t \ninnodb_undo_tablespaces = 5\t\n \t \n# Networking\t \nwait_timeout=57600\t \nmax_allowed_packet=1G\t\nsocket=\/var\/lib\/mysql\/mysql.sock\t \nskip-name-resolve\nport=3306\t\nmax_connections=1000\t\n\n\n[mysqld_safe]\nlog-error=\/mysql\/log\/mysqld.log\npid-file=\/var\/run\/mysqld\/mysqld.pid\" | sudo tee \/etc\/my.cnf.d\/nutanix.cnf\n\nsudo sed -i \"\/\\[mysqld\\]\/a server-id=100\" \/etc\/my.cnf.d\/nutanix.cnf\necho \"#master=100\" | sudo tee -a  \/etc\/my.cnf.d\/nutanix.cnf\n\nserver_id=`sudo cat \/etc\/my.cnf.d\/nutanix.cnf | grep  \"server-id=\" | cut -d= -f2`\nis_master=`sudo cat \/etc\/my.cnf.d\/nutanix.cnf | grep -q -w \"#master=$server_id\"; echo $?`\n\nif [ ${is_master} -ne 0 ]\nthen\n   sudo sed -i '\/\\[mysqld\\]\/a read_only=1' \/etc\/my.cnf.d\/nutanix.cnf\nfi\n\n# -*- Sysctl configuration\nmysql_grp_id=`id -g mysql`\nsudo sysctl -w vm.swappiness=0\nsudo sysctl -w vm.nr_hugepages=1024\nsudo sysctl -w vm.overcommit_memory=1\nsudo sysctl -w vm.dirty_background_ratio=5 \nsudo sysctl -w vm.dirty_ratio=15\nsudo sysctl -w vm.dirty_expire_centisecs=500\nsudo sysctl -w vm.dirty_writeback_centisecs=100\nsudo sysctl -w vm.hugetlb_shm_group=$mysql_grp_id\n\necho \"vm.swappiness=0\nvm.nr_hugepages=1024\nvm.overcommit_memory=1\nvm.dirty_background_ratio=5 \nvm.dirty_ratio=15\nvm.dirty_expire_centisecs=500\nvm.dirty_writeback_centisecs=100\nvm.hugetlb_shm_group=$mysql_grp_id\" | sudo tee  -a \/etc\/sysctl.conf\n\necho \"ACTION=='add|change', SUBSYSTEM=='block', RUN+='\/bin\/sh -c \\\"\/bin\/echo 1024 > \/sys%p\/queue\/max_sectors_kb\\\"'\" | sudo tee \/etc\/udev\/rules.d\/71-block-max-sectors.rules\n#echo 1024 | sudo tee \/sys\/block\/sd?\/queue\/max_sectors_kb\n\necho \"\/dev\/mysqlDataVG\/mysqlDataLV \/mysql\/data ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\necho \"\/dev\/mysqlLogVG\/mysqlLogLV \/mysql\/log ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\nsudo mkdir -p \/mysql\/log \/mysql\/data \/mysql\/tmpdir \/mysql\/undo\nsudo mount -a\nsudo chown -R mysql:mysql \/mysql\n\nsudo systemctl enable mysqld\n\nsudo rm -rf \/mysql\/data\/*\nsudo systemctl start mysqld\n\n#Fix to obtain temp password and set it to blank\npassword=$(grep -oP 'temporary password(.*): \\K(\\S+)' \/var\/log\/mysqld.log)\nsudo mysqladmin --user=root --password=\"$password\" password aaBB**cc1122\nsudo mysql --user=root --password=aaBB**cc1122 -e \"UNINSTALL COMPONENT 'file:\/\/component_validate_password'\"\nsudo mysqladmin --user=root --password=\"aaBB**cc1122\" password \"\"\n\n\n#Mysql secure installation\nsudo mysql -u root<<-EOF\nALTER USER 'root'@'localhost' IDENTIFIED WITH caching_sha2_password BY '@@{MYSQL_PASSWORD}@@';\nDELETE FROM mysql.user WHERE User='root' AND Host NOT IN ('localhost', '127.0.0.1', '::1');\nDELETE FROM mysql.user WHERE User='';\nDELETE FROM mysql.db WHERE Db='test' OR Db='test\\_%';\nFLUSH PRIVILEGES;\nEOF\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"8ff64afe-0644-4384-9836-4108a79df7b0"}],"name":"267c96d2_runbook","description":"","state":"ACTIVE","variable_list":[],"message_list":[],"main_task_local_reference":{"kind":"app_task","name":"d13a100f_dag","uuid":"6a9f5eea-72ce-4093-af89-b296f7535db4"},"uuid":"e7adbf50-ce04-46cd-a1ec-12754d37b48b"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPMasterPackage","uuid":"77a18b5d-4cbc-4548-bb28-2c4fb6308d50"},"retries":"0","name":"01fe868d_dag","type":"DAG","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"33840d14-884a-4ef0-af6a-d1ad8ba1a2b7"}],"name":"ea47487d_runbook","description":"","state":"ACTIVE","variable_list":[],"message_list":[],"main_task_local_reference":{"kind":"app_task","name":"01fe868d_dag","uuid":"33840d14-884a-4ef0-af6a-d1ad8ba1a2b7"},"uuid":"6b6cdac7-26fb-4c8c-9558-63d54ad00546"}},"variable_list":[],"description":""},{"uuid":"e539041c-dd5e-4d31-b4ad-f1644e8e0679","action_list":[],"service_local_reference_list":[{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"}],"name":"GCPSlavePackage","version":"","type":"DEB","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPSlavePackage","uuid":"e539041c-dd5e-4d31-b4ad-f1644e8e0679"},"retries":"0","name":"eefb69f6_dag","type":"DAG","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"Install  System Packages","uuid":"fa5e57a4-a235-47ed-ba37-81236cb0c5f0"},{"kind":"app_task","name":"Create Disk Setup","uuid":"57a348d5-ed32-4404-ae31-84ae1db2cd1e"},{"kind":"app_task","name":"Install MySQL","uuid":"ffb616ba-2e6c-490e-8b61-a793340df894"},{"kind":"app_task","name":"Setup MySQL","uuid":"14a0b0f3-3e97-43e4-8102-b4cc47c82485"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Install  System Packages","uuid":"fa5e57a4-a235-47ed-ba37-81236cb0c5f0"},"edge_type":"user_defined","type":"","uuid":"316c290d-75f4-4153-8067-b2bc4af7cf77","to_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"57a348d5-ed32-4404-ae31-84ae1db2cd1e"}},{"from_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"57a348d5-ed32-4404-ae31-84ae1db2cd1e"},"edge_type":"user_defined","type":"","uuid":"6611e61b-6098-45f7-8bc3-d15cbcbc582c","to_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"ffb616ba-2e6c-490e-8b61-a793340df894"}},{"from_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"ffb616ba-2e6c-490e-8b61-a793340df894"},"edge_type":"user_defined","type":"","uuid":"dc0ab849-e99f-4410-a07a-829644f4ae53","to_task_reference":{"kind":"app_task","name":"Setup MySQL","uuid":"14a0b0f3-3e97-43e4-8102-b4cc47c82485"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"f38d37f5-fa0c-4ad2-8d3b-f43219554f11"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","name":"Install  System Packages","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n# -*- Install Mysql\nsudo yum update -y --quiet\nsudo yum install -y  wget xfs* bc unzip lvm2* lsscsi\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"System packages are installed\"","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"fa5e57a4-a235-47ed-ba37-81236cb0c5f0"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","name":"Create Disk Setup","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n##############\n#\n# LVM setup script for MySQL . 4 disks for DATA and 4 for logs\n# Data disks are 50GB | Log disks are 25GB \n#\n#############\n\n\n#PGSQL data\nsudo pvcreate \/dev\/sdb \/dev\/sdc \/dev\/sdd \/dev\/sde\nsudo vgcreate mysqlDataVG \/dev\/sdb \/dev\/sdd \/dev\/sdc \/dev\/sde\nsudo lvcreate -l 100%FREE -i4 -I1M -n mysqlDataLV mysqlDataVG          ## Use 1MB to avoid IO amplification \n#lvcreate -l 100%FREE -i4 -I4M -n pgDataLV pgDataVG\n\n\n#PGSQL logs\nsudo pvcreate \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo vgcreate mysqlLogVG \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo lvcreate -l 100%FREE -i2 -I1M -n mysqlLogLV mysqlLogVG            ## Use 1MB to avoid IO amplification\n#lvcreate -l 100%FREE -i2 -I4M -n pgLogLV pgLogVG\n\n\n#Disable LVM read ahead\nsudo lvchange -r 0 \/dev\/mysqlDataVG\/mysqlDataLV\nsudo lvchange -r 0 \/dev\/mysqlLogVG\/mysqlLogLV\n\n\n#Format LVMs with ext4 and use nodiscard to make sure format time is fast on Nutanix due to SCSI unmap\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlDataVG\/mysqlDataLV\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlLogVG\/mysqlLogLV\n\nsleep 10\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"57a348d5-ed32-4404-ae31-84ae1db2cd1e"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","name":"Install MySQL","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nsudo hostnamectl set-hostname \"@@{name}@@\"\n\n# -*- Mysql installation \nsudo yum install -y --quiet \"http:\/\/repo.mysql.com\/mysql80-community-release-el7.rpm\"\nsudo yum update -y --quiet\nsudo yum install -y --quiet sshpass mysql-community-server.x86_64\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"ffb616ba-2e6c-490e-8b61-a793340df894"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","name":"Setup MySQL","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\necho \"!includedir \/etc\/my.cnf.d\" | sudo tee -a \/etc\/my.cnf\n\necho \"[mysqld]\nbinlog-format=mixed\nlog-bin=mysql-bin\ndatadir=\/mysql\/data\nsql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES\ninnodb_data_home_dir = \/mysql\/data\ninnodb_log_group_home_dir = \/mysql\/log\ninnodb_file_per_table\ntmpdir=\/mysql\/tmpdir\ninnodb_undo_directory = \/mysql\/undo\ndefault-storage-engine = innodb\ndefault_tmp_storage_engine = innodb\ninnodb_log_files_in_group = 4\ninnodb_log_file_size = 1G\ninnodb_log_buffer_size = 8M\ninnodb_buffer_pool_size = 6G\t\nlarge-pages\t\ninnodb_buffer_pool_instances = 64\t\ninnodb_flush_method=O_DIRECT\t\ninnodb_flush_neighbors=0\t \ninnodb_flush_log_at_trx_commit=1\ninnodb_buffer_pool_dump_at_shutdown=1\t\ninnodb_buffer_pool_load_at_startup=1\t\nbulk_insert_buffer_size = 256\t\ninnodb_thread_concurrency = 16\t\n \t \n# Undo tablespace\t \ninnodb_undo_tablespaces = 5\t\n \t \n# Networking\t \nwait_timeout=57600\t \nmax_allowed_packet=1G\t\nsocket=\/var\/lib\/mysql\/mysql.sock\t \nskip-name-resolve\nport=3306\t\nmax_connections=1000\t\n\n\n[mysqld_safe]\nlog-error=\/mysql\/log\/mysqld.log\npid-file=\/var\/run\/mysqld\/mysqld.pid\" | sudo tee \/etc\/my.cnf.d\/nutanix.cnf\n\necho \"#master=100\" | sudo tee -a  \/etc\/my.cnf.d\/nutanix.cnf\n\nserver_id=`sudo cat \/etc\/my.cnf | grep  \"server-id=\" | cut -d= -f2`\nis_master=`sudo cat \/etc\/my.cnf | grep -q -w \"#master=$server_id\"; echo $?`\n\nif [ ${is_master} -ne 0 ]\nthen\n   sudo sed -i '\/\\[mysqld\\]\/a read_only=1' \/etc\/my.cnf.d\/nutanix.cnf\nfi\n\n# -*- Sysctl configuration\nmysql_grp_id=`id -g mysql`\nsudo sysctl -w vm.swappiness=0\nsudo sysctl -w vm.nr_hugepages=1024\nsudo sysctl -w vm.overcommit_memory=1\nsudo sysctl -w vm.dirty_background_ratio=5 \nsudo sysctl -w vm.dirty_ratio=15\nsudo sysctl -w vm.dirty_expire_centisecs=500\nsudo sysctl -w vm.dirty_writeback_centisecs=100\nsudo sysctl -w vm.hugetlb_shm_group=$mysql_grp_id\n\necho \"vm.swappiness=0\nvm.nr_hugepages=1024\nvm.overcommit_memory=1\nvm.dirty_background_ratio=5 \nvm.dirty_ratio=15\nvm.dirty_expire_centisecs=500\nvm.dirty_writeback_centisecs=100\nvm.hugetlb_shm_group=$mysql_grp_id\" | sudo tee  -a \/etc\/sysctl.conf\n\necho \"ACTION=='add|change', SUBSYSTEM=='block', RUN+='\/bin\/sh -c \\\"\/bin\/echo 1024 > \/sys%p\/queue\/max_sectors_kb\\\"'\" | sudo tee \/etc\/udev\/rules.d\/71-block-max-sectors.rules\n#echo 1024 | sudo tee \/sys\/block\/sd?\/queue\/max_sectors_kb\n\necho \"\/dev\/mysqlDataVG\/mysqlDataLV \/mysql\/data ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\necho \"\/dev\/mysqlLogVG\/mysqlLogLV \/mysql\/log ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\nsudo mkdir -p \/mysql\/log \/mysql\/data \/mysql\/tmpdir \/mysql\/undo\nsudo mount -a\nsudo chown -R mysql:mysql \/mysql\n\nsudo systemctl enable mysqld\n\nsudo rm -rf \/mysql\/data\/*\nsudo systemctl start mysqld\n\n#Fix to obtain temp password and set it to blank\npassword=$(grep -oP 'temporary password(.*): \\K(\\S+)' \/var\/log\/mysqld.log)\nsudo mysqladmin --user=root --password=\"$password\" password aaBB**cc1122\nsudo mysql --user=root --password=aaBB**cc1122 -e \"UNINSTALL COMPONENT 'file:\/\/component_validate_password'\"\nsudo mysqladmin --user=root --password=\"aaBB**cc1122\" password \"\"\n\n\n#Mysql secure installation\nsudo mysql -u root<<-EOF\nALTER USER 'root'@'localhost' IDENTIFIED WITH caching_sha2_password BY '@@{MYSQL_PASSWORD}@@';\nDELETE FROM mysql.user WHERE User='root' AND Host NOT IN ('localhost', '127.0.0.1', '::1');\nDELETE FROM mysql.user WHERE User='';\nDELETE FROM mysql.db WHERE Db='test' OR Db='test\\_%';\nFLUSH PRIVILEGES;\nEOF\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"14a0b0f3-3e97-43e4-8102-b4cc47c82485"}],"name":"7f65f668_runbook","description":"","state":"ACTIVE","variable_list":[],"message_list":[],"main_task_local_reference":{"kind":"app_task","name":"eefb69f6_dag","uuid":"f38d37f5-fa0c-4ad2-8d3b-f43219554f11"},"uuid":"287af9d9-3769-4190-9bf2-991157a8cf4d"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPSlavePackage","uuid":"e539041c-dd5e-4d31-b4ad-f1644e8e0679"},"retries":"0","name":"9607e515_dag","type":"DAG","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"3d98388f-aebf-4c51-b815-58247e5cea1e"}],"name":"22dbbe31_runbook","description":"","state":"ACTIVE","variable_list":[],"message_list":[],"main_task_local_reference":{"kind":"app_task","name":"9607e515_dag","uuid":"3d98388f-aebf-4c51-b815-58247e5cea1e"},"uuid":"0a86a518-d920-49cf-81a4-a3e5edaf3e07"}},"variable_list":[],"description":""},{"uuid":"4c188fff-e85e-47fb-8da0-68cd76db155b","action_list":[],"service_local_reference_list":[{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"}],"name":"AzureMasterPackage","version":"","type":"DEB","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureMasterPackage","uuid":"4c188fff-e85e-47fb-8da0-68cd76db155b"},"retries":"0","name":"ff59932a_dag","type":"DAG","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"PackageInstallTask","uuid":"3280863c-4d82-47ce-954a-737f71eb86f0"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"4095d514-352c-4f42-b2d1-2573de775d3d"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","name":"PackageInstallTask","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script":"#!\/bin\/bash\nset -ex\n\n# -*- Install Mysql\nsudo yum install -y --quiet \"http:\/\/repo.mysql.com\/mysql80-community-release-el7.rpm\"\nsudo yum update -y --quiet\nsudo yum install -y --quiet sshpass mysql-community-server\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"!includedir \/etc\/my.cnf.d\" | sudo tee -a \/etc\/my.cnf\n\necho \"[mysqld]\nbinlog-format=mixed\nlog-bin=mysql-bin\ndatadir=\/mysql\/data\nsql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES\ninnodb_data_home_dir = \/mysql\/data\ninnodb_log_group_home_dir = \/mysql\/log\ninnodb_file_per_table\ntmpdir=\/mysql\/tmpdir\ninnodb_undo_directory = \/mysql\/undo\ndefault-storage-engine = innodb\ndefault_tmp_storage_engine = innodb\ninnodb_log_files_in_group = 4\ninnodb_log_file_size = 1G\ninnodb_log_buffer_size = 8M\ninnodb_buffer_pool_size = 6G\t\nlarge-pages\t\ninnodb_buffer_pool_instances = 64\t\ninnodb_flush_method=O_DIRECT\t\ninnodb_flush_neighbors=0\t \ninnodb_flush_log_at_trx_commit=1\ninnodb_buffer_pool_dump_at_shutdown=1\t\ninnodb_buffer_pool_load_at_startup=1\t\nbulk_insert_buffer_size = 256\t\ninnodb_thread_concurrency = 16\t\n \t \n# Undo tablespace\t \ninnodb_undo_tablespaces = 5\t\n \t \n# Networking\t \nwait_timeout=57600\t \nmax_allowed_packet=1G\t\nsocket=\/var\/lib\/mysql\/mysql.sock\t \nskip-name-resolve\nport=3306\t\nmax_connections=1000\t\n \t \n\n[mysqld_safe]\nlog-error=\/mysql\/log\/mysqld.log\npid-file=\/var\/run\/mysqld\/mysqld.pid\" | sudo tee \/etc\/my.cnf.d\/nutanix.cnf\n\nsudo sed -i \"\/\\[mysqld\\]\/a server-id=100\" \/etc\/my.cnf.d\/nutanix.cnf\necho \"#master=100\" | sudo tee -a  \/etc\/my.cnf.d\/nutanix.cnf\n\nserver_id=`sudo cat \/etc\/my.cnf.d\/nutanix.cnf | grep  \"server-id=\" | cut -d= -f2`\nis_master=`sudo cat \/etc\/my.cnf.d\/nutanix.cnf | grep -q -w \"#master=$server_id\"; echo $?`\n\nif [ ${is_master} -ne 0 ]\nthen\n   sudo sed -i '\/\\[mysqld\\]\/a read_only=1' \/etc\/my.cnf.d\/nutanix.cnf\nfi\n\nsudo mkdir -p \/mysql\/log \/mysql\/data \/mysql\/tmpdir \/mysql\/undo\nsudo mount -a\nsudo chown -R mysql:mysql \/mysql\n\nsudo rm -f \/mysql\/data\/*\nsudo systemctl start mysqld\n\n#Fix to obtain temp password and set it to blank\npassword=$(grep -oP 'temporary password(.*): \\K(\\S+)' \/var\/log\/mysqld.log)\nsudo mysqladmin --user=root --password=\"$password\" password aaBB**cc1122\nsudo mysql --user=root --password=aaBB**cc1122 -e \"UNINSTALL COMPONENT 'file:\/\/component_validate_password'\"\nsudo mysqladmin --user=root --password=\"aaBB**cc1122\" password \"\"\n\n#Mysql secure installation\nsudo mysql -u root<<-EOF\nALTER USER 'root'@'localhost' IDENTIFIED WITH caching_sha2_password BY '@@{MYSQL_PASSWORD}@@';\nDELETE FROM mysql.user WHERE User='root' AND Host NOT IN ('localhost', '127.0.0.1', '::1');\nDELETE FROM mysql.user WHERE User='';\nDELETE FROM mysql.db WHERE Db='test' OR Db='test\\_%';\nFLUSH PRIVILEGES;\nEOF\n","type":"","command_line_args":"","exit_status":[],"script_type":"sh"},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"3280863c-4d82-47ce-954a-737f71eb86f0"}],"name":"10654624_runbook","description":"","state":"ACTIVE","variable_list":[],"message_list":[],"main_task_local_reference":{"kind":"app_task","name":"ff59932a_dag","uuid":"4095d514-352c-4f42-b2d1-2573de775d3d"},"uuid":"f7c5d1c5-943b-42e5-9a86-72cc854f9963"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureMasterPackage","uuid":"4c188fff-e85e-47fb-8da0-68cd76db155b"},"retries":"0","name":"5495194c_dag","type":"DAG","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"fa09263a-a642-48a3-af6d-d8c6dd6fbc22"}],"name":"a58212c8_runbook","description":"","state":"ACTIVE","variable_list":[],"message_list":[],"main_task_local_reference":{"kind":"app_task","name":"5495194c_dag","uuid":"fa09263a-a642-48a3-af6d-d8c6dd6fbc22"},"uuid":"ce919c12-94c9-492a-8b40-94c47fcc7cc2"}},"variable_list":[],"description":""},{"uuid":"f50f37d2-44a7-4159-aa44-051ad043416b","action_list":[],"service_local_reference_list":[{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"}],"name":"AzureSlavePackage","version":"","type":"DEB","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureSlavePackage","uuid":"f50f37d2-44a7-4159-aa44-051ad043416b"},"retries":"0","name":"c426da26_dag","type":"DAG","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"PackageInstallTask","uuid":"30d0b4b3-187a-4906-8485-10c374277441"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"95f7a926-5108-4cab-8d20-52fd9166e671"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","name":"PackageInstallTask","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script":"#!\/bin\/bash\nset -ex\n\n# -*- Install Mysql\nsudo yum install -y --quiet \"http:\/\/repo.mysql.com\/mysql80-community-release-el7.rpm\"\nsudo yum update -y --quiet\nsudo yum install -y --quiet sshpass mysql-community-server\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"!includedir \/etc\/my.cnf.d\" | sudo tee -a \/etc\/my.cnf\n\necho \"[mysqld]\nbinlog-format=mixed\nlog-bin=mysql-bin\ndatadir=\/mysql\/data\nsql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES\ninnodb_data_home_dir = \/mysql\/data\ninnodb_log_group_home_dir = \/mysql\/log\ninnodb_file_per_table\ntmpdir=\/mysql\/tmpdir\ninnodb_undo_directory = \/mysql\/undo\ndefault-storage-engine = innodb\ndefault_tmp_storage_engine = innodb\ninnodb_log_files_in_group = 4\ninnodb_log_file_size = 1G\ninnodb_log_buffer_size = 8M\ninnodb_buffer_pool_size = 6G\t\nlarge-pages\t\ninnodb_buffer_pool_instances = 64\t\ninnodb_flush_method=O_DIRECT\t\ninnodb_flush_neighbors=0\t \ninnodb_flush_log_at_trx_commit=1\ninnodb_buffer_pool_dump_at_shutdown=1\t\ninnodb_buffer_pool_load_at_startup=1\t\nbulk_insert_buffer_size = 256\t\ninnodb_thread_concurrency = 16\t\n \t \n# Undo tablespace\t \ninnodb_undo_tablespaces = 5\t\n \t \n# Networking\t \nwait_timeout=57600\t \nmax_allowed_packet=1G\t\nsocket=\/var\/lib\/mysql\/mysql.sock\t \nskip-name-resolve\nport=3306\t\nmax_connections=1000\t\n \t \n\n[mysqld_safe]\nlog-error=\/mysql\/log\/mysqld.log\npid-file=\/var\/run\/mysqld\/mysqld.pid\" | sudo tee \/etc\/my.cnf.d\/nutanix.cnf\n\necho \"#master=100\" | sudo tee -a  \/etc\/my.cnf.d\/nutanix.cnf\n\nserver_id=`sudo cat \/etc\/my.cnf.d\/nutanix.cnf | grep  \"server-id=\" | cut -d= -f2`\nis_master=`sudo cat \/etc\/my.cnf.d\/nutanix.cnf | grep -q -w \"#master=$server_id\"; echo $?`\n\nif [ ${is_master} -ne 0 ]\nthen\n   sudo sed -i '\/\\[mysqld\\]\/a read_only=1' \/etc\/my.cnf.d\/nutanix.cnf\nfi\n\nsudo mkdir -p \/mysql\/log \/mysql\/data \/mysql\/tmpdir \/mysql\/undo\nsudo mount -a\nsudo chown -R mysql:mysql \/mysql\n\nsudo rm -f \/mysql\/data\/*\nsudo systemctl start mysqld\n\n#Fix to obtain temp password and set it to blank\npassword=$(grep -oP 'temporary password(.*): \\K(\\S+)' \/var\/log\/mysqld.log)\nsudo mysqladmin --user=root --password=\"$password\" password aaBB**cc1122\nsudo mysql --user=root --password=aaBB**cc1122 -e \"UNINSTALL COMPONENT 'file:\/\/component_validate_password'\"\nsudo mysqladmin --user=root --password=\"aaBB**cc1122\" password \"\"\n\n#Mysql secure installation\nsudo mysql -u root<<-EOF\nALTER USER 'root'@'localhost' IDENTIFIED WITH caching_sha2_password BY '@@{MYSQL_PASSWORD}@@';\nDELETE FROM mysql.user WHERE User='root' AND Host NOT IN ('localhost', '127.0.0.1', '::1');\nDELETE FROM mysql.user WHERE User='';\nDELETE FROM mysql.db WHERE Db='test' OR Db='test\\_%';\nFLUSH PRIVILEGES;\nEOF\n","type":"","command_line_args":"","exit_status":[],"script_type":"sh"},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"30d0b4b3-187a-4906-8485-10c374277441"}],"name":"604f3369_runbook","description":"","state":"ACTIVE","variable_list":[],"message_list":[],"main_task_local_reference":{"kind":"app_task","name":"c426da26_dag","uuid":"95f7a926-5108-4cab-8d20-52fd9166e671"},"uuid":"de787d9b-8307-4915-8f75-16f1554a890a"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureSlavePackage","uuid":"f50f37d2-44a7-4159-aa44-051ad043416b"},"retries":"0","name":"d93cd003_dag","type":"DAG","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"1144a2d9-0dc6-40b2-895e-ac06c75d8607"}],"name":"dab6a81d_runbook","description":"","state":"ACTIVE","variable_list":[],"message_list":[],"main_task_local_reference":{"kind":"app_task","name":"d93cd003_dag","uuid":"1144a2d9-0dc6-40b2-895e-ac06c75d8607"},"uuid":"17a36fa2-75dd-4a56-8038-f8915e91273a"}},"variable_list":[],"description":""},{"uuid":"ad5a77a8-44ba-36bb-9693-8c461a120643","action_list":[],"service_local_reference_list":[{"kind":"app_service","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"}],"name":"VMwareMasterPackage","version":"","type":"DEB","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","uuid":"ad5a77a8-44ba-36bb-9693-8c461a120643"},"retries":"0","name":"9cbec184_dag_cloned_1","type":"DAG","description":"","child_tasks_local_reference_list":[{"kind":"app_task","uuid":"fedc1b14-feee-48db-98ba-4e6b475f80ab"},{"kind":"app_task","uuid":"b2cb3727-b371-3c50-169c-49b90666f9ad"},{"kind":"app_task","uuid":"6e26c773-87e7-7d04-7210-0de15b34eca2"},{"kind":"app_task","uuid":"6e8653b7-8e67-2112-3c83-085b3e352e7d"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","uuid":"fedc1b14-feee-48db-98ba-4e6b475f80ab"},"edge_type":"user_defined","type":"","uuid":"b183a53a-6cb2-21af-45c4-e701154f71f3","to_task_reference":{"kind":"app_task","uuid":"b2cb3727-b371-3c50-169c-49b90666f9ad"}},{"from_task_reference":{"kind":"app_task","uuid":"b2cb3727-b371-3c50-169c-49b90666f9ad"},"edge_type":"user_defined","type":"","uuid":"73195f73-b0b2-a26d-b182-1eec6b70014f","to_task_reference":{"kind":"app_task","uuid":"6e26c773-87e7-7d04-7210-0de15b34eca2"}},{"from_task_reference":{"kind":"app_task","uuid":"6e26c773-87e7-7d04-7210-0de15b34eca2"},"edge_type":"user_defined","type":"","uuid":"120b5a50-5598-debe-f330-81d6bb8700dc","to_task_reference":{"kind":"app_task","uuid":"6e8653b7-8e67-2112-3c83-085b3e352e7d"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"2ef86ce2-ebbb-7f4f-3528-4309727c0363"},{"target_any_local_reference":{"kind":"app_service","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","name":"Install System Packages","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n# -*- Install Mysql\nsudo yum update -y --quiet\nsudo yum install -y  wget xfs* bc unzip lvm2* lsscsi\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"System packages are installed\"","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"fedc1b14-feee-48db-98ba-4e6b475f80ab"},{"target_any_local_reference":{"kind":"app_service","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","name":"Create Disk Setup","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n##############\n#\n# LVM setup script for MySQL . 4 disks for DATA and 4 for logs\n# Data disks are 50GB | Log disks are 25GB \n#\n#############\n\n\n#PGSQL data\nsudo pvcreate \/dev\/sdb \/dev\/sdc \/dev\/sdd \/dev\/sde\nsudo vgcreate mysqlDataVG \/dev\/sdb \/dev\/sdd \/dev\/sdc \/dev\/sde\nsudo lvcreate -l 100%FREE -i4 -I1M -n mysqlDataLV mysqlDataVG          ## Use 1MB to avoid IO amplification \n#lvcreate -l 100%FREE -i4 -I4M -n pgDataLV pgDataVG\n\n\n#PGSQL logs\nsudo pvcreate \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo vgcreate mysqlLogVG \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo lvcreate -l 100%FREE -i2 -I1M -n mysqlLogLV mysqlLogVG            ## Use 1MB to avoid IO amplification\n#lvcreate -l 100%FREE -i2 -I4M -n pgLogLV pgLogVG\n\n\n#Disable LVM read ahead\nsudo lvchange -r 0 \/dev\/mysqlDataVG\/mysqlDataLV\nsudo lvchange -r 0 \/dev\/mysqlLogVG\/mysqlLogLV\n\n\n#Format LVMs with ext4 and use nodiscard to make sure format time is fast on Nutanix due to SCSI unmap\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlDataVG\/mysqlDataLV\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlLogVG\/mysqlLogLV\n\nsleep 10\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"b2cb3727-b371-3c50-169c-49b90666f9ad"},{"target_any_local_reference":{"kind":"app_service","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","name":"Install MySQL","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nsudo hostnamectl set-hostname \"@@{name}@@\"\n\n# -*- Mysql installation \nsudo yum install -y --quiet \"http:\/\/repo.mysql.com\/mysql80-community-release-el7.rpm\"\nsudo yum update -y --quiet\nsudo yum install -y --quiet sshpass mysql-community-server.x86_64\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"6e26c773-87e7-7d04-7210-0de15b34eca2"},{"target_any_local_reference":{"kind":"app_service","uuid":"f9269cde-e6a4-4381-8979-810e76afd1bd"},"retries":"0","name":"Setup MySQL","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\necho \"!includedir \/etc\/my.cnf.d\" | sudo tee -a \/etc\/my.cnf\n\necho \"[mysqld]\nbinlog-format=mixed\nlog-bin=mysql-bin\ndatadir=\/mysql\/data\nsql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES\ninnodb_data_home_dir = \/mysql\/data\ninnodb_log_group_home_dir = \/mysql\/log\ninnodb_file_per_table\ntmpdir=\/mysql\/tmpdir\ninnodb_undo_directory = \/mysql\/undo\ndefault-storage-engine = innodb\ndefault_tmp_storage_engine = innodb\ninnodb_log_files_in_group = 4\ninnodb_log_file_size = 1G\ninnodb_log_buffer_size = 8M\ninnodb_buffer_pool_size = 6G\t\nlarge-pages\t\ninnodb_buffer_pool_instances = 64\t\ninnodb_flush_method=O_DIRECT\t\ninnodb_flush_neighbors=0\t \ninnodb_flush_log_at_trx_commit=1\ninnodb_buffer_pool_dump_at_shutdown=1\t\ninnodb_buffer_pool_load_at_startup=1\t\nbulk_insert_buffer_size = 256\t\ninnodb_thread_concurrency = 16\t\n \t \n# Undo tablespace\t \ninnodb_undo_tablespaces = 5\t\n \t \n# Networking\t \nwait_timeout=57600\t \nmax_allowed_packet=1G\t\nsocket=\/var\/lib\/mysql\/mysql.sock\t \nskip-name-resolve\nport=3306\t\nmax_connections=1000\t\n\n\n[mysqld_safe]\nlog-error=\/mysql\/log\/mysqld.log\npid-file=\/var\/run\/mysqld\/mysqld.pid\" | sudo tee \/etc\/my.cnf.d\/nutanix.cnf\n\nsudo sed -i \"\/\\[mysqld\\]\/a server-id=100\" \/etc\/my.cnf.d\/nutanix.cnf\necho \"#master=100\" | sudo tee -a  \/etc\/my.cnf.d\/nutanix.cnf\n\nserver_id=`sudo cat \/etc\/my.cnf.d\/nutanix.cnf | grep  \"server-id=\" | cut -d= -f2`\nis_master=`sudo cat \/etc\/my.cnf.d\/nutanix.cnf | grep -q -w \"#master=$server_id\"; echo $?`\n\nif [ ${is_master} -ne 0 ]\nthen\n   sudo sed -i '\/\\[mysqld\\]\/a read_only=1' \/etc\/my.cnf.d\/nutanix.cnf\nfi\n\n# -*- Sysctl configuration\nmysql_grp_id=`id -g mysql`\nsudo sysctl -w vm.swappiness=0\nsudo sysctl -w vm.nr_hugepages=1024\nsudo sysctl -w vm.overcommit_memory=1\nsudo sysctl -w vm.dirty_background_ratio=5 \nsudo sysctl -w vm.dirty_ratio=15\nsudo sysctl -w vm.dirty_expire_centisecs=500\nsudo sysctl -w vm.dirty_writeback_centisecs=100\nsudo sysctl -w vm.hugetlb_shm_group=$mysql_grp_id\n\necho \"vm.swappiness=0\nvm.nr_hugepages=1024\nvm.overcommit_memory=1\nvm.dirty_background_ratio=5 \nvm.dirty_ratio=15\nvm.dirty_expire_centisecs=500\nvm.dirty_writeback_centisecs=100\nvm.hugetlb_shm_group=$mysql_grp_id\" | sudo tee  -a \/etc\/sysctl.conf\n\necho \"ACTION=='add|change', SUBSYSTEM=='block', RUN+='\/bin\/sh -c \\\"\/bin\/echo 1024 > \/sys%p\/queue\/max_sectors_kb\\\"'\" | sudo tee \/etc\/udev\/rules.d\/71-block-max-sectors.rules\n\necho \"\/dev\/mysqlDataVG\/mysqlDataLV \/mysql\/data ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\necho \"\/dev\/mysqlLogVG\/mysqlLogLV \/mysql\/log ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\nsudo mkdir -p \/mysql\/log \/mysql\/data \/mysql\/tmpdir \/mysql\/undo\nsudo mount -a\nsudo chown -R mysql:mysql \/mysql\n\nsudo systemctl enable mysqld\n\nsudo rm -rf \/mysql\/data\/*\nsudo systemctl start mysqld\n\n#Fix to obtain temp password and set it to blank\npassword=$(grep -oP 'temporary password(.*): \\K(\\S+)' \/var\/log\/mysqld.log)\nsudo mysqladmin --user=root --password=\"$password\" password aaBB**cc1122\nsudo mysql --user=root --password=aaBB**cc1122 -e \"UNINSTALL COMPONENT 'file:\/\/component_validate_password'\"\nsudo mysqladmin --user=root --password=\"aaBB**cc1122\" password \"\"\n\n\n#Mysql secure installation\nsudo mysql -u root<<-EOF\nALTER USER 'root'@'localhost' IDENTIFIED WITH caching_sha2_password BY '@@{MYSQL_PASSWORD}@@';\nDELETE FROM mysql.user WHERE User='root' AND Host NOT IN ('localhost', '127.0.0.1', '::1');\nDELETE FROM mysql.user WHERE User='';\nDELETE FROM mysql.db WHERE Db='test' OR Db='test\\_%';\nFLUSH PRIVILEGES;\nEOF\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"6e8653b7-8e67-2112-3c83-085b3e352e7d"}],"name":"ee9a3de0_runbook_cloned_0","description":"","state":"ACTIVE","variable_list":[],"message_list":[],"main_task_local_reference":{"kind":"app_task","uuid":"2ef86ce2-ebbb-7f4f-3528-4309727c0363"},"uuid":"f99ee337-ea25-b933-6994-aa24d5f3af53"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","uuid":"ad5a77a8-44ba-36bb-9693-8c461a120643"},"retries":"0","name":"7e474eb1_dag_cloned_1","type":"DAG","description":"","child_tasks_local_reference_list":[{"kind":"app_task","uuid":"ea01c511-5753-b25a-ec93-f6d2e74b5805"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"b105d984-4342-d553-1458-71c62a20fa90"},{"target_any_local_reference":{"kind":"app_package","uuid":"ad5a77a8-44ba-36bb-9693-8c461a120643"},"retries":"0","name":"PackageUninstallTask_cloned_1","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"ea01c511-5753-b25a-ec93-f6d2e74b5805"}],"name":"4235ede6_runbook_cloned_0","description":"","state":"ACTIVE","variable_list":[],"message_list":[],"main_task_local_reference":{"kind":"app_task","uuid":"b105d984-4342-d553-1458-71c62a20fa90"},"uuid":"9238b19b-d9e8-6089-d636-bec4a54f2896"}},"variable_list":[],"description":""},{"uuid":"9b8bdfab-7dac-86a0-15bd-235d3eebd8f7","action_list":[],"service_local_reference_list":[{"kind":"app_service","uuid":"faa35c46-57f5-4415-8253-af16e0849400"}],"name":"VMwareSlavePackage","version":"","type":"DEB","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","uuid":"9b8bdfab-7dac-86a0-15bd-235d3eebd8f7"},"retries":"0","name":"35a5e492_dag_cloned_1","type":"DAG","description":"","child_tasks_local_reference_list":[{"kind":"app_task","uuid":"320bf989-b85e-2d3f-acef-ae82a8bc6c81"},{"kind":"app_task","uuid":"84acb97e-baed-3a77-702b-4890b54f916f"},{"kind":"app_task","uuid":"3dc360d7-4c02-1512-54b1-a4b49b10305b"},{"kind":"app_task","uuid":"16c4e0f4-816c-cc3b-bfe1-8fe50bf07478"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","uuid":"320bf989-b85e-2d3f-acef-ae82a8bc6c81"},"edge_type":"user_defined","type":"","uuid":"dc370025-7508-a62c-9f17-6ff2bc47a500","to_task_reference":{"kind":"app_task","uuid":"84acb97e-baed-3a77-702b-4890b54f916f"}},{"from_task_reference":{"kind":"app_task","uuid":"84acb97e-baed-3a77-702b-4890b54f916f"},"edge_type":"user_defined","type":"","uuid":"a9bd3733-bbbe-89f4-0bb5-f75d19f970d4","to_task_reference":{"kind":"app_task","uuid":"3dc360d7-4c02-1512-54b1-a4b49b10305b"}},{"from_task_reference":{"kind":"app_task","uuid":"3dc360d7-4c02-1512-54b1-a4b49b10305b"},"edge_type":"user_defined","type":"","uuid":"e24f1ece-dc18-ba6c-553a-78a34aaf2ff4","to_task_reference":{"kind":"app_task","uuid":"16c4e0f4-816c-cc3b-bfe1-8fe50bf07478"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"082fbc74-410a-021b-cff1-85b710a81bfd"},{"target_any_local_reference":{"kind":"app_service","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","name":"Install System Packages","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n# -*- Install Mysql\nsudo yum update -y --quiet\nsudo yum install -y  wget xfs* bc unzip lvm2* lsscsi\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"System packages are installed\"","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"320bf989-b85e-2d3f-acef-ae82a8bc6c81"},{"target_any_local_reference":{"kind":"app_service","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","name":"Create Disk Setup","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n##############\n#\n# LVM setup script for MySQL . 4 disks for DATA and 4 for logs\n# Data disks are 50GB | Log disks are 25GB \n#\n#############\n\n\n#PGSQL data\nsudo pvcreate \/dev\/sdb \/dev\/sdc \/dev\/sdd \/dev\/sde\nsudo vgcreate mysqlDataVG \/dev\/sdb \/dev\/sdd \/dev\/sdc \/dev\/sde\nsudo lvcreate -l 100%FREE -i4 -I1M -n mysqlDataLV mysqlDataVG          ## Use 1MB to avoid IO amplification \n#lvcreate -l 100%FREE -i4 -I4M -n pgDataLV pgDataVG\n\n\n#PGSQL logs\nsudo pvcreate \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo vgcreate mysqlLogVG \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo lvcreate -l 100%FREE -i2 -I1M -n mysqlLogLV mysqlLogVG            ## Use 1MB to avoid IO amplification\n#lvcreate -l 100%FREE -i2 -I4M -n pgLogLV pgLogVG\n\n\n#Disable LVM read ahead\nsudo lvchange -r 0 \/dev\/mysqlDataVG\/mysqlDataLV\nsudo lvchange -r 0 \/dev\/mysqlLogVG\/mysqlLogLV\n\n\n#Format LVMs with ext4 and use nodiscard to make sure format time is fast on Nutanix due to SCSI unmap\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlDataVG\/mysqlDataLV\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlLogVG\/mysqlLogLV\n\nsleep 10\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"84acb97e-baed-3a77-702b-4890b54f916f"},{"target_any_local_reference":{"kind":"app_service","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","name":"Install MySQL","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nsudo hostnamectl set-hostname \"@@{name}@@\"\n\n# -*- Mysql installation \nsudo yum install -y --quiet \"http:\/\/repo.mysql.com\/mysql80-community-release-el7.rpm\"\nsudo yum update -y --quiet\nsudo yum install -y --quiet sshpass mysql-community-server.x86_64\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"3dc360d7-4c02-1512-54b1-a4b49b10305b"},{"target_any_local_reference":{"kind":"app_service","uuid":"faa35c46-57f5-4415-8253-af16e0849400"},"retries":"0","name":"Setup MySQL","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\necho \"!includedir \/etc\/my.cnf.d\" | sudo tee -a \/etc\/my.cnf\n\necho \"[mysqld]\nbinlog-format=mixed\nlog-bin=mysql-bin\ndatadir=\/mysql\/data\nsql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES\ninnodb_data_home_dir = \/mysql\/data\ninnodb_log_group_home_dir = \/mysql\/log\ninnodb_file_per_table\ntmpdir=\/mysql\/tmpdir\ninnodb_undo_directory = \/mysql\/undo\ndefault-storage-engine = innodb\ndefault_tmp_storage_engine = innodb\ninnodb_log_files_in_group = 4\ninnodb_log_file_size = 1G\ninnodb_log_buffer_size = 8M\ninnodb_buffer_pool_size = 6G\t\nlarge-pages\t\ninnodb_buffer_pool_instances = 64\t\ninnodb_flush_method=O_DIRECT\t\ninnodb_flush_neighbors=0\t \ninnodb_flush_log_at_trx_commit=1\ninnodb_buffer_pool_dump_at_shutdown=1\t\ninnodb_buffer_pool_load_at_startup=1\t\nbulk_insert_buffer_size = 256\t\ninnodb_thread_concurrency = 16\t\n \t \n# Undo tablespace\t \ninnodb_undo_tablespaces = 5\t\n \t \n# Networking\t \nwait_timeout=57600\t \nmax_allowed_packet=1G\t\nsocket=\/var\/lib\/mysql\/mysql.sock\t \nskip-name-resolve\nport=3306\t\nmax_connections=1000\t\n\n\n[mysqld_safe]\nlog-error=\/mysql\/log\/mysqld.log\npid-file=\/var\/run\/mysqld\/mysqld.pid\" | sudo tee \/etc\/my.cnf.d\/nutanix.cnf\n\necho \"#master=100\" | sudo tee -a  \/etc\/my.cnf.d\/nutanix.cnf\n\nserver_id=`sudo cat \/etc\/my.cnf | grep  \"server-id=\" | cut -d= -f2`\nis_master=`sudo cat \/etc\/my.cnf | grep -q -w \"#master=$server_id\"; echo $?`\n\nif [ ${is_master} -ne 0 ]\nthen\n   sudo sed -i '\/\\[mysqld\\]\/a read_only=1' \/etc\/my.cnf.d\/nutanix.cnf\nfi\n\n# -*- Sysctl configuration\nmysql_grp_id=`id -g mysql`\nsudo sysctl -w vm.swappiness=0\nsudo sysctl -w vm.nr_hugepages=1024\nsudo sysctl -w vm.overcommit_memory=1\nsudo sysctl -w vm.dirty_background_ratio=5 \nsudo sysctl -w vm.dirty_ratio=15\nsudo sysctl -w vm.dirty_expire_centisecs=500\nsudo sysctl -w vm.dirty_writeback_centisecs=100\nsudo sysctl -w vm.hugetlb_shm_group=$mysql_grp_id\n\necho \"vm.swappiness=0\nvm.nr_hugepages=1024\nvm.overcommit_memory=1\nvm.dirty_background_ratio=5 \nvm.dirty_ratio=15\nvm.dirty_expire_centisecs=500\nvm.dirty_writeback_centisecs=100\nvm.hugetlb_shm_group=$mysql_grp_id\" | sudo tee  -a \/etc\/sysctl.conf\n\necho \"ACTION=='add|change', SUBSYSTEM=='block', RUN+='\/bin\/sh -c \\\"\/bin\/echo 1024 > \/sys%p\/queue\/max_sectors_kb\\\"'\" | sudo tee \/etc\/udev\/rules.d\/71-block-max-sectors.rules\n\n\necho \"\/dev\/mysqlDataVG\/mysqlDataLV \/mysql\/data ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\necho \"\/dev\/mysqlLogVG\/mysqlLogLV \/mysql\/log ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\nsudo mkdir -p \/mysql\/log \/mysql\/data \/mysql\/tmpdir \/mysql\/undo\nsudo mount -a\nsudo chown -R mysql:mysql \/mysql\n\nsudo systemctl enable mysqld\n\nsudo rm -rf \/mysql\/data\/*\nsudo systemctl start mysqld\n\n#Fix to obtain temp password and set it to blank\npassword=$(grep -oP 'temporary password(.*): \\K(\\S+)' \/var\/log\/mysqld.log)\nsudo mysqladmin --user=root --password=\"$password\" password aaBB**cc1122\nsudo mysql --user=root --password=aaBB**cc1122 -e \"UNINSTALL COMPONENT 'file:\/\/component_validate_password'\"\nsudo mysqladmin --user=root --password=\"aaBB**cc1122\" password \"\"\n\n\n#Mysql secure installation\nsudo mysql -u root<<-EOF\nALTER USER 'root'@'localhost' IDENTIFIED WITH caching_sha2_password BY '@@{MYSQL_PASSWORD}@@';\nDELETE FROM mysql.user WHERE User='root' AND Host NOT IN ('localhost', '127.0.0.1', '::1');\nDELETE FROM mysql.user WHERE User='';\nDELETE FROM mysql.db WHERE Db='test' OR Db='test\\_%';\nFLUSH PRIVILEGES;\nEOF\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"16c4e0f4-816c-cc3b-bfe1-8fe50bf07478"}],"name":"db3247c6_runbook_cloned_0","description":"","state":"ACTIVE","variable_list":[],"message_list":[],"main_task_local_reference":{"kind":"app_task","uuid":"082fbc74-410a-021b-cff1-85b710a81bfd"},"uuid":"ec092b08-afbb-9f47-e1e0-88b40b251f30"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","uuid":"9b8bdfab-7dac-86a0-15bd-235d3eebd8f7"},"retries":"0","name":"53d74d7d_dag_cloned_1","type":"DAG","description":"","child_tasks_local_reference_list":[{"kind":"app_task","uuid":"42d4485b-fdf2-7ea1-b4e9-66a90637f5ca"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"1cdc85c9-4a7c-7573-9df8-1d1da92e0fd9"},{"target_any_local_reference":{"kind":"app_package","uuid":"9b8bdfab-7dac-86a0-15bd-235d3eebd8f7"},"retries":"0","name":"PackageUninstallTask_cloned_1","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","uuid":"ed074117-957a-4513-a084-7b706dfad28b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"42d4485b-fdf2-7ea1-b4e9-66a90637f5ca"}],"name":"a4fbe7d2_runbook_cloned_0","description":"","state":"ACTIVE","variable_list":[],"message_list":[],"main_task_local_reference":{"kind":"app_task","uuid":"1cdc85c9-4a7c-7573-9df8-1d1da92e0fd9"},"uuid":"eabeaffa-3fe9-b8f5-470d-97539b96caff"}},"variable_list":[],"description":""},{"name":"ESX_CENTOS_76","type":"SUBSTRATE_IMAGE","uuid":"c5df1e7b-d73b-a7c4-17ef-81c1bd0d24fa","variable_list":[],"options":{"name":"ESX_CENTOS_76","resources":{"image_type":"DISK_IMAGE","source_uri":"http:\/\/download.nutanix.com\/calm\/CentOS-7-x86_64-1810.ova","architecture":"X86_64"}}}],"client_attrs":{"9542cb3d-f303-433f-9e85-c9a6a24e3ec8":{"y":400,"x":115},"baaebcb4-0874-4eab-9b07-7ff13ee8a86c":{"y":400,"x":115},"268dbb82-6984-46ce-b947-a284d9d5c84b":{"y":400,"x":115},"faa35c46-57f5-4415-8253-af16e0849400":{"y":400,"x":480},"95b261f0-da10-45b6-a3e9-0e31feec6fdc":{"y":400,"x":115},"703234ae-ce7c-dbf2-5366-0f91d2c6d2b0":{"y":400,"x":115},"cecc902c-3e9d-6b4c-ac3f-d1943301f962":{"y":400,"x":480}}},"description":"* sudo mysql -u root -p[PASSWORD]  \n* default password [ nutanix\/4u ]"},"api_version":"3.0","metadata":{"last_update_time":"1556183590086793","owner_reference":{"kind":"user","uuid":"00000000-0000-0000-0000-000000000000","name":"admin"},"kind":"blueprint","uuid":"f0c29e00-595c-4807-8367-d64fe80cbf4a","project_reference":{"kind":"project","name":"default","uuid":"209e0a42-6f2d-4999-9a9b-5aa705d25661"},"spec_version":30,"creation_time":"1548303384221866","name":"MySQLMasterSlave"}}