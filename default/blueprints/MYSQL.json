{"status":{"description":"* sudo mysql -u root -p[PASSWORD]  \n* default password [ nutanix\/4u ]","source_mpi":"","state":"DRAFT","is_cloned":false,"message_list":[{"message":"Credential is invalid","reason":"INVALID_CREDENTIAL","details":[{"attribute_name":"default_credential"}]}],"resources":{"service_definition_list":[{"port_list":[],"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"d4cba82b-8146-4638-af98-0efd25282a95","name":"action_create","state":"DRAFT","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"DAG","uuid":"a539c44b-49b1-4533-9317-d4f4c3441a46","child_tasks_local_reference_list":[{"kind":"app_task","name":"ConfigureMaster","uuid":"930e6f8f-fdeb-48c2-bbc6-a584ddaa28f4"},{"kind":"app_task","name":"GetDBState","uuid":"f6bbd923-99a1-4ea2-8623-4a3546b6ad81"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"ConfigureMaster","uuid":"930e6f8f-fdeb-48c2-bbc6-a584ddaa28f4"},"edge_type":"user_defined","type":"","uuid":"90f6d017-762c-4d02-86be-80ebc2986c8d","to_task_reference":{"kind":"app_task","name":"GetDBState","uuid":"f6bbd923-99a1-4ea2-8623-4a3546b6ad81"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"a6df9f70_dag"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"EXEC","uuid":"930e6f8f-fdeb-48c2-bbc6-a584ddaa28f4","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\n# -*- Setup variables\nmysql_password=\"@@{MYSQL_PASSWORD}@@\"\n\nserver_id=`sudo cat \/etc\/my.cnf.d\/nutanix.cnf | grep  \"server-id=\" | cut -d= -f2`\nis_master=`sudo cat \/etc\/my.cnf.d\/nutanix.cnf | grep -q -w \"#master=$server_id\"; echo $?`\n\n# -*- Run only on master\nif [ ${is_master} -eq 0 ]\nthen\nsudo sed -i \"\/\\[mysqld\\]\/a innodb_flush_log_at_trx_commit=1\" \/etc\/my.cnf.d\/nutanix.cnf\nsudo sed -i \"\/\\[mysqld\\]\/a sync_binlog=1\" \/etc\/my.cnf.d\/nutanix.cnf\n\nsudo mysql -u root -p${mysql_password}<<EOF\nCREATE USER 'replica'@'%' IDENTIFIED BY \"${mysql_password}\";\nGRANT REPLICATION SLAVE ON *.* to replica@'%';\nFLUSH PRIVILEGES;\nEOF\n\nfi\n\nsudo touch \/var\/run\/mysqld\/mysqld.sock\nsudo chown mysql:mysql \/var\/run\/mysqld\/mysqld.sock\nsudo systemctl restart mysqld\n\nsleep 5\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"3ee7bf5d-2de9-4958-9b65-e30687c43f17"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"ConfigureMaster"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"SET_VARIABLE","uuid":"f6bbd923-99a1-4ea2-8623-4a3546b6ad81","child_tasks_local_reference_list":[],"state":"DRAFT","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\nmysql_password=\"@@{MYSQL_PASSWORD}@@\"\nmaster_ip=\"@@{address}@@\"\n\nserver_id=`sudo cat \/etc\/my.cnf.d\/nutanix.cnf | grep  \"server-id=\" | cut -d= -f2`\nis_master=`sudo cat \/etc\/my.cnf.d\/nutanix.cnf | grep -q -w \"#master=$server_id\"; echo $?`\n\n\nif [ ${is_master} -eq 0 ]\nthen\n    while true\n    do\n      status=`sudo systemctl status mysqld | grep Active: | awk ' { print $3 }' | sed 's#[(|)]##g'`\n  \t  [ $status = \"running\" ] && break\n      echo $status\n  \t  sleep 2\n    done\n    \n    MYSQL_BIN=$(sudo mysql -u root -p${mysql_password} -e 'show master status;' | grep mysql-bin | awk '{print $1}')\n\tMYSQL_POSITION=$(sudo mysql -u root -p${mysql_password} -e 'show master status;' | grep mysql-bin | awk '{print $2}')\n    \n  echo \"MYSQL_BIN=$MYSQL_BIN\"\n  echo \"MYSQL_POSITION=$MYSQL_POSITION\"\nfi\n\n","eval_variables":["MYSQL_BIN","MYSQL_POSITION"],"eval_scope":"local","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"3ee7bf5d-2de9-4958-9b65-e30687c43f17"},"type":"","script_type":"sh"},"timeout_secs":"0","message_list":[{"message":"Credential is invalid","reason":"INVALID_CREDENTIAL","details":[{"attribute_name":"credential"}]}],"variable_list":[],"name":"GetDBState"}],"description":"","message_list":[],"uuid":"9866e43d-ff48-4abb-bade-7f5396ce551e","state":"DRAFT","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"a6df9f70_dag","uuid":"a539c44b-49b1-4533-9317-d4f4c3441a46"},"name":"0a970522_runbook"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"3535edb9-ad16-4e30-8c7e-fa0106c428bf","name":"action_delete","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"DAG","uuid":"e69104b3-152b-4495-bb96-789df07ba4d6","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"3f9277cd_dag"}],"description":"","message_list":[],"uuid":"e410ef14-5f72-46ab-b7d5-0181621be34f","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"3f9277cd_dag","uuid":"e69104b3-152b-4495-bb96-789df07ba4d6"},"name":"5fd47ec3_runbook"}},{"description":"System action for starting an application","message_list":[],"uuid":"9c089c35-2fa9-4988-9aa6-e8d01c3ffa9b","name":"action_start","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"DAG","uuid":"2cc412c2-6cd8-457d-a3e9-8e258495018d","child_tasks_local_reference_list":[{"kind":"app_task","name":"Start","uuid":"8cd10c06-5626-4e19-ad80-077f3e57c971"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"32e9c292_dag"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"EXEC","uuid":"8cd10c06-5626-4e19-ad80-077f3e57c971","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\nsudo systemctl start mysqld\nsudo systemctl enable mysqld"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Start"}],"description":"","message_list":[],"uuid":"907290fe-eaef-465b-a916-7c2c67d20c97","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"32e9c292_dag","uuid":"2cc412c2-6cd8-457d-a3e9-8e258495018d"},"name":"5ddb28d1_runbook"}},{"description":"System action for stopping an application","message_list":[],"uuid":"ea2280d1-380c-4ec7-9305-6478cb98ce3d","name":"action_stop","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"DAG","uuid":"f6840b1e-d290-48ed-a69a-9782013ae714","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"ce63573f_dag"}],"description":"","message_list":[],"uuid":"ce2a2858-b89b-4bb4-8fb3-ee8bd8a6bd3f","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"ce63573f_dag","uuid":"f6840b1e-d290-48ed-a69a-9782013ae714"},"name":"0aefbca3_runbook"}},{"description":"System action for restarting an application","message_list":[],"uuid":"271b7791-d6b1-486a-93f0-6e4f55f34447","name":"action_restart","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"DAG","uuid":"84cd2d27-e3be-404f-af3b-e8e48f839dc6","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"c4afa1a6_dag"}],"description":"","message_list":[],"uuid":"e38aa3c5-d052-4d28-84e6-acfb09a6af83","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"c4afa1a6_dag","uuid":"84cd2d27-e3be-404f-af3b-e8e48f839dc6"},"name":"7e709238_runbook"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"57825a49-a03d-46d4-8cef-53a875eac2d4","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"DAG","uuid":"1f1f2280-bc0d-443a-a1f4-d6e1265a8678","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Service_Element_Delete_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"c418cb22-d0cb-4f4c-b839-4aac6f5ea047"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"c418cb22-d0cb-4f4c-b839-4aac6f5ea047","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Service_Element_Delete_45b5395b_b27a_42e1_864e_0b9f56a5a62b"}],"description":"","message_list":[],"uuid":"b9b6e25b-f9f5-473d-8c7e-6fcb8b23a4da","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"1f1f2280-bc0d-443a-a1f4-d6e1265a8678"},"name":"SYS_GEN__Runbook_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b"}}],"message_list":[],"uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b","state":"DRAFT","depends_on_list":[],"editables":{},"tier":"","singleton":false,"variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"79d8e436-76a4-4f90-961a-42d8b1feed9f","value":"","label":"","state":"ACTIVE","attrs":{"type":""},"editables":{},"is_hidden":false,"type":"LOCAL","options":{},"name":"MYSQL_BIN"},{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"39b0143b-e757-411e-97c7-6f0b3a2c1556","value":"","label":"","state":"ACTIVE","attrs":{"type":""},"editables":{},"is_hidden":false,"type":"LOCAL","options":{},"name":"MYSQL_POSITION"}],"name":"MySQL_Master"},{"port_list":[],"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"feb54511-cdbf-4966-935e-b0731d7a486b","name":"action_create","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","description":"","type":"DAG","uuid":"fe18edc4-44d9-4548-96b4-c23cf77b0e51","child_tasks_local_reference_list":[{"kind":"app_task","name":"ConfigureSlaves","uuid":"0293f936-e0fa-49f5-a14f-adfff6c710b0"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"93f99bda_dag"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","description":"","type":"EXEC","uuid":"0293f936-e0fa-49f5-a14f-adfff6c710b0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\n\n# -*- Setup variables\nmysql_password=\"@@{MYSQL_PASSWORD}@@\"\nmaster_ip=\"@@{MySQL_Master.address}@@\"\nmaster_bin=\"@@{MySQL_Master.MYSQL_BIN}@@\"\nmaster_position=\"@@{MySQL_Master.MYSQL_POSITION}@@\"\n\nserver_id=`sudo cat \/etc\/my.cnf.d\/nutanix.cnf | grep  \"server-id=\" | cut -d= -f2`\nis_master=`sudo cat \/etc\/my.cnf.d\/nutanix.cnf | grep -q -w \"#master=$server_id\"; echo $?`\n\n# -*- Runs on slaves\nif [ ${is_master} -ne 0 ]\nthen\n  sudo mysql -u root -p${mysql_password} -e \"change master to master_host='${master_ip}',master_user='replica',master_password='${mysql_password}',master_log_file='${master_bin}',master_log_pos=${master_position};\"\n  sudo mysql -u root -p${mysql_password} -e 'start slave;'\n  sudo mysql -u root -p${mysql_password} -e 'show slave status\\G' | grep -A11 Slave_IO_State\nfi\n"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"ConfigureSlaves"}],"description":"","message_list":[],"uuid":"d9d72b08-90b4-46c2-a771-6d338abb4bc3","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"93f99bda_dag","uuid":"fe18edc4-44d9-4548-96b4-c23cf77b0e51"},"name":"d54168c9_runbook"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"391500b9-3df9-4370-8d49-98664024b09a","name":"action_delete","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","description":"","type":"DAG","uuid":"edab8594-6725-47c3-b442-9d32d64561cb","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"5066b603_dag"}],"description":"","message_list":[],"uuid":"c1fdda9f-aaee-4b0d-899f-a32eb5819a33","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"5066b603_dag","uuid":"edab8594-6725-47c3-b442-9d32d64561cb"},"name":"92247e35_runbook"}},{"description":"System action for starting an application","message_list":[],"uuid":"7493fdcb-6d28-41b0-a9eb-e2f768d8a6c2","name":"action_start","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","description":"","type":"DAG","uuid":"a3229ca8-662a-4a46-9b4a-15ec932372df","child_tasks_local_reference_list":[{"kind":"app_task","name":"Start","uuid":"e4d26186-d219-45f8-abdf-a23794c9b679"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"abefdcaf_dag"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","description":"","type":"EXEC","uuid":"e4d26186-d219-45f8-abdf-a23794c9b679","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\nsudo systemctl start mysqld\nsudo systemctl enable mysqld"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Start"}],"description":"","message_list":[],"uuid":"557651c0-2ccf-45cb-beb3-9f2028221b2e","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"abefdcaf_dag","uuid":"a3229ca8-662a-4a46-9b4a-15ec932372df"},"name":"a027cde0_runbook"}},{"description":"System action for stopping an application","message_list":[],"uuid":"eabc80d3-8e79-42b1-ad89-405a85bdba61","name":"action_stop","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","description":"","type":"DAG","uuid":"907adca0-12c0-44a7-a42f-96a8034ba766","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"097fa65d_dag"}],"description":"","message_list":[],"uuid":"d405c9d6-da96-4365-b171-e7ffb7e6b913","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"097fa65d_dag","uuid":"907adca0-12c0-44a7-a42f-96a8034ba766"},"name":"4a2ad0be_runbook"}},{"description":"System action for restarting an application","message_list":[],"uuid":"7616140b-3552-491d-a416-7aa40813cc20","name":"action_restart","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","description":"","type":"DAG","uuid":"c3c94ed7-a4ad-450a-be6b-61f158b181fa","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"e1f94389_dag"}],"description":"","message_list":[],"uuid":"d30fe7b4-3486-4f8a-a3b8-e08401237ee7","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"e1f94389_dag","uuid":"c3c94ed7-a4ad-450a-be6b-61f158b181fa"},"name":"f2b2a076_runbook"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"e93b681f-4712-4d6a-bcab-e6e1ddaf499c","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","description":"","type":"DAG","uuid":"910c3548-fcab-4ae7-9b3b-9c820b009259","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Service_Element_Delete_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"b16e2fba-157e-49d4-b9c1-510899a3e10e"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Service_3e4843d5_3708_4e21_97bc_da079e98c74d"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"b16e2fba-157e-49d4-b9c1-510899a3e10e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Service_Element_Delete_3e4843d5_3708_4e21_97bc_da079e98c74d"}],"description":"","message_list":[],"uuid":"9cb9ecf0-89cd-4611-812d-2535c64945cf","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"910c3548-fcab-4ae7-9b3b-9c820b009259"},"name":"SYS_GEN__Runbook_Service_3e4843d5_3708_4e21_97bc_da079e98c74d"}}],"message_list":[],"uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d","state":"ACTIVE","depends_on_list":[{"kind":"app_service","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b","name":"MySQL_Master"}],"editables":{},"tier":"","singleton":false,"variable_list":[],"name":"MySQL_Slave"}],"substrate_definition_list":[{"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"35dd05ae-bf48-4d0c-ab97-8d60bc03e4ac","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AHVMaster","uuid":"04eda07e-4a12-44ed-bf35-608dbe760e2b"},"retries":"0","description":"","type":"DAG","uuid":"5e455c93-acd0-47d1-b7f2-b6f7bebc8598","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Nutanix_Provision_04eda07e_4a12_44ed_bf35_608dbe760e2b","uuid":"cc2e1ce1-ec08-4ad1-bd88-9a480b987054"},{"kind":"app_task","name":"SYS_GEN__check_login_for_AHVMaster_04eda07e_4a12_44ed_bf35_608dbe760e2b","uuid":"9995f5cd-c42d-47c2-ba12-808b7f8fddc9"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Nutanix_Provision_04eda07e_4a12_44ed_bf35_608dbe760e2b","uuid":"cc2e1ce1-ec08-4ad1-bd88-9a480b987054"},"edge_type":"inherent","type":"","uuid":"58850077-d463-477d-9225-c554a05090bd","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_AHVMaster_04eda07e_4a12_44ed_bf35_608dbe760e2b","uuid":"9995f5cd-c42d-47c2-ba12-808b7f8fddc9"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_04eda07e_4a12_44ed_bf35_608dbe760e2b"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVMaster","uuid":"04eda07e-4a12-44ed-bf35-608dbe760e2b"},"retries":"0","description":"","type":"PROVISION_NUTANIX","uuid":"cc2e1ce1-ec08-4ad1-bd88-9a480b987054","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"name":"mysql-master-@@{calm_time}@@","categories":"","availability_zone_reference":null,"backup_policy":null,"type":"","cluster_reference":null,"resources":{"nic_list":[{"nic_type":"NORMAL_NIC","ip_endpoint_list":[],"network_function_chain_reference":null,"network_function_nic_type":"INGRESS","mac_address":"","subnet_reference":{"kind":"subnet","type":"","name":"","uuid":"efc034e3-b50e-4a48-b02d-25036aeb8bd3"},"type":""}],"parent_reference":null,"guest_tools":null,"num_vcpus_per_socket":2,"num_sockets":2,"serial_port_list":[],"gpu_list":[],"memory_size_mib":8192,"power_state":"ON","hardware_clock_timezone":"","guest_customization":{"cloud_init":{"meta_data":"","type":"","user_data":"#cloud-config\nusers:\n  - name: centos\n    ssh-authorized-keys:\n      - @@{INSTANCE_PUBLIC_KEY}@@\n    sudo: ['ALL=(ALL) NOPASSWD:ALL']"},"type":"","sysprep":null},"type":"","boot_config":{"boot_device":{"type":"","disk_address":{"adapter_type":"SCSI","device_index":0,"type":""}},"type":"","mac_address":""},"disk_list":[{"data_source_reference":{"kind":"app_package","type":"","name":"CENTOS_74","uuid":"9f1580d6-1ec8-4e83-ade6-af9db607985a"},"type":"","disk_size_mib":0,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":0,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":51200,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":1,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":51200,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":2,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":51200,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":3,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":51200,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":4,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":25600,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":5,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":25600,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":6,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":25600,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":7,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":25600,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":8,"type":""}}}]}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Nutanix_Provision_04eda07e_4a12_44ed_bf35_608dbe760e2b"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVMaster","uuid":"04eda07e-4a12-44ed-bf35-608dbe760e2b"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"9995f5cd-c42d-47c2-ba12-808b7f8fddc9","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"300","address":"@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_AHVMaster_04eda07e_4a12_44ed_bf35_608dbe760e2b"}],"description":"","message_list":[],"uuid":"82b7e0db-adb5-4891-b9c3-db96fbed8f19","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_04eda07e_4a12_44ed_bf35_608dbe760e2b","uuid":"5e455c93-acd0-47d1-b7f2-b6f7bebc8598"},"name":"SYS_GEN__Runbook_Substrate_04eda07e_4a12_44ed_bf35_608dbe760e2b"}},{"description":"System action for powering on an application","message_list":[],"uuid":"64c64c5b-4ab0-47dd-beb8-0341dfa80e88","name":"action_poweron","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AHVMaster","uuid":"04eda07e-4a12-44ed-bf35-608dbe760e2b"},"retries":"0","description":"","type":"DAG","uuid":"cc087b3c-beb5-4da1-8322-95b346c4a4ec","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Nutanix_Operation_PowerOn_04eda07e_4a12_44ed_bf35_608dbe760e2b","uuid":"713a7aae-df37-4e92-ac59-0e3968cb031e"},{"kind":"app_task","name":"SYS_GEN__check_login_for_AHVMaster_04eda07e_4a12_44ed_bf35_608dbe760e2b","uuid":"c3f55e3c-ad09-42f9-ade8-3867fe5da463"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Nutanix_Operation_PowerOn_04eda07e_4a12_44ed_bf35_608dbe760e2b","uuid":"713a7aae-df37-4e92-ac59-0e3968cb031e"},"edge_type":"inherent","type":"","uuid":"bdf3c16c-63f5-4569-8d93-7d6d4a8a9e2f","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_AHVMaster_04eda07e_4a12_44ed_bf35_608dbe760e2b","uuid":"c3f55e3c-ad09-42f9-ade8-3867fe5da463"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_04eda07e_4a12_44ed_bf35_608dbe760e2b"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVMaster","uuid":"04eda07e-4a12-44ed-bf35-608dbe760e2b"},"retries":"0","description":"","type":"VMOPERATION_NUTANIX","uuid":"713a7aae-df37-4e92-ac59-0e3968cb031e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Nutanix_Operation_PowerOn_04eda07e_4a12_44ed_bf35_608dbe760e2b"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVMaster","uuid":"04eda07e-4a12-44ed-bf35-608dbe760e2b"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"c3f55e3c-ad09-42f9-ade8-3867fe5da463","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"300","address":"@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_AHVMaster_04eda07e_4a12_44ed_bf35_608dbe760e2b"}],"description":"","message_list":[],"uuid":"8326983f-43dc-4fda-bdd0-d2213a78b4a3","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_04eda07e_4a12_44ed_bf35_608dbe760e2b","uuid":"cc087b3c-beb5-4da1-8322-95b346c4a4ec"},"name":"SYS_GEN__Runbook_Substrate_04eda07e_4a12_44ed_bf35_608dbe760e2b"}},{"description":"System action for restarting an application","message_list":[],"uuid":"02c1671d-35b8-4667-be77-55f6e88ecf70","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AHVMaster","uuid":"04eda07e-4a12-44ed-bf35-608dbe760e2b"},"retries":"0","description":"","type":"DAG","uuid":"b3c761d8-5f98-4781-93f2-51394ff7a635","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Nutanix_Operation_Restart_04eda07e_4a12_44ed_bf35_608dbe760e2b","uuid":"b256334e-7b3f-4f5c-8c53-f8b29943bf32"},{"kind":"app_task","name":"SYS_GEN__check_login_for_AHVMaster_04eda07e_4a12_44ed_bf35_608dbe760e2b","uuid":"318d057f-2fe0-4457-a6c7-e47bbb1662a6"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Nutanix_Operation_Restart_04eda07e_4a12_44ed_bf35_608dbe760e2b","uuid":"b256334e-7b3f-4f5c-8c53-f8b29943bf32"},"edge_type":"inherent","type":"","uuid":"c8c6acfd-0547-4cd9-a3e0-ac8ba1e34bf9","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_AHVMaster_04eda07e_4a12_44ed_bf35_608dbe760e2b","uuid":"318d057f-2fe0-4457-a6c7-e47bbb1662a6"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_04eda07e_4a12_44ed_bf35_608dbe760e2b"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVMaster","uuid":"04eda07e-4a12-44ed-bf35-608dbe760e2b"},"retries":"0","description":"","type":"VMOPERATION_NUTANIX","uuid":"b256334e-7b3f-4f5c-8c53-f8b29943bf32","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Nutanix_Operation_Restart_04eda07e_4a12_44ed_bf35_608dbe760e2b"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVMaster","uuid":"04eda07e-4a12-44ed-bf35-608dbe760e2b"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"318d057f-2fe0-4457-a6c7-e47bbb1662a6","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"300","address":"@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_AHVMaster_04eda07e_4a12_44ed_bf35_608dbe760e2b"}],"description":"","message_list":[],"uuid":"c167831b-472c-49d9-836b-f7d00950b0de","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_04eda07e_4a12_44ed_bf35_608dbe760e2b","uuid":"b3c761d8-5f98-4781-93f2-51394ff7a635"},"name":"SYS_GEN__Runbook_Substrate_04eda07e_4a12_44ed_bf35_608dbe760e2b"}},{"description":"System action for suspending an application","message_list":[],"uuid":"6c58ee90-62a8-45ca-8530-ba2e937c4dfb","name":"action_suspend","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AHVMaster","uuid":"04eda07e-4a12-44ed-bf35-608dbe760e2b"},"retries":"0","description":"","type":"DAG","uuid":"0a35f5df-b110-46d2-9c6c-fef0261a97ad","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_04eda07e_4a12_44ed_bf35_608dbe760e2b"}],"description":"","message_list":[],"uuid":"ef7aebd3-7150-447c-84e0-f4c1ae737117","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_04eda07e_4a12_44ed_bf35_608dbe760e2b","uuid":"0a35f5df-b110-46d2-9c6c-fef0261a97ad"},"name":"SYS_GEN__Runbook_Substrate_04eda07e_4a12_44ed_bf35_608dbe760e2b"}},{"description":"System action for modifying an application","message_list":[],"uuid":"f4fd8c5b-9f62-431f-a602-4ca2b9342e6b","name":"action_modify","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AHVMaster","uuid":"04eda07e-4a12-44ed-bf35-608dbe760e2b"},"retries":"0","description":"","type":"DAG","uuid":"5f38e46b-1520-4140-975f-adc78a308d22","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_04eda07e_4a12_44ed_bf35_608dbe760e2b"}],"description":"","message_list":[],"uuid":"f24c3bb3-3cca-4ba2-9683-81ccdee6b8a2","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_04eda07e_4a12_44ed_bf35_608dbe760e2b","uuid":"5f38e46b-1520-4140-975f-adc78a308d22"},"name":"SYS_GEN__Runbook_Substrate_04eda07e_4a12_44ed_bf35_608dbe760e2b"}},{"description":"System action for powering off an application","message_list":[],"uuid":"19a60698-5d96-45d0-88c8-8d97cc57f85b","name":"action_poweroff","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AHVMaster","uuid":"04eda07e-4a12-44ed-bf35-608dbe760e2b"},"retries":"0","description":"","type":"DAG","uuid":"fd75451d-f98c-458c-bcaa-072fa05494b3","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Nutanix_Operation_PowerOff_04eda07e_4a12_44ed_bf35_608dbe760e2b","uuid":"ec4165d5-e581-4925-bf66-6f41c01f94de"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_04eda07e_4a12_44ed_bf35_608dbe760e2b"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVMaster","uuid":"04eda07e-4a12-44ed-bf35-608dbe760e2b"},"retries":"0","description":"","type":"VMOPERATION_NUTANIX","uuid":"ec4165d5-e581-4925-bf66-6f41c01f94de","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Nutanix_Operation_PowerOff_04eda07e_4a12_44ed_bf35_608dbe760e2b"}],"description":"","message_list":[],"uuid":"243d2b07-f797-48b3-9263-64408e9584ad","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_04eda07e_4a12_44ed_bf35_608dbe760e2b","uuid":"fd75451d-f98c-458c-bcaa-072fa05494b3"},"name":"SYS_GEN__Runbook_Substrate_04eda07e_4a12_44ed_bf35_608dbe760e2b"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"f8fd1ca0-3824-44dc-9ce2-591b991dbcac","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AHVMaster","uuid":"04eda07e-4a12-44ed-bf35-608dbe760e2b"},"retries":"0","description":"","type":"DAG","uuid":"d146fc2e-11ce-4e9d-b5c1-c32002e4c88a","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Nutanix_Delete_04eda07e_4a12_44ed_bf35_608dbe760e2b","uuid":"495c1760-649c-4a6f-b15b-c94f988ec607"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_04eda07e_4a12_44ed_bf35_608dbe760e2b"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVMaster","uuid":"04eda07e-4a12-44ed-bf35-608dbe760e2b"},"retries":"0","description":"","type":"DELETE_NUTANIX","uuid":"495c1760-649c-4a6f-b15b-c94f988ec607","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Nutanix_Delete_04eda07e_4a12_44ed_bf35_608dbe760e2b"}],"description":"","message_list":[],"uuid":"2dc228b5-fe0d-4168-9228-0b8e7084b408","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_04eda07e_4a12_44ed_bf35_608dbe760e2b","uuid":"d146fc2e-11ce-4e9d-b5c1-c32002e4c88a"},"name":"SYS_GEN__Runbook_Substrate_04eda07e_4a12_44ed_bf35_608dbe760e2b"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"5400e979-e420-4f5f-8482-8133d0c5ae7f","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AHVMaster","uuid":"04eda07e-4a12-44ed-bf35-608dbe760e2b"},"retries":"0","description":"","type":"DAG","uuid":"7523ea82-074a-46f9-9ce4-511e95d364ac","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Substrate_Element_Delete_04eda07e_4a12_44ed_bf35_608dbe760e2b","uuid":"22566342-4b9c-44ed-beee-76961357f5b3"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_04eda07e_4a12_44ed_bf35_608dbe760e2b"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVMaster","uuid":"04eda07e-4a12-44ed-bf35-608dbe760e2b"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"22566342-4b9c-44ed-beee-76961357f5b3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Substrate_Element_Delete_04eda07e_4a12_44ed_bf35_608dbe760e2b"}],"description":"","message_list":[],"uuid":"bfa744ae-0f96-464f-a5f8-b245a6341e26","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_04eda07e_4a12_44ed_bf35_608dbe760e2b","uuid":"7523ea82-074a-46f9-9ce4-511e95d364ac"},"name":"SYS_GEN__Runbook_Substrate_04eda07e_4a12_44ed_bf35_608dbe760e2b"}}],"message_list":[],"uuid":"04eda07e-4a12-44ed-bf35-608dbe760e2b","state":"ACTIVE","readiness_probe":{"connection_type":"SSH","retries":"5","disable_readiness_probe":false,"address":"@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@","delay_secs":"0","connection_port":22,"login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"3ee7bf5d-2de9-4958-9b65-e30687c43f17"}},"editables":{"readiness_probe":{"connection_type":true,"delay_secs":true,"connection_port":true,"timeout_secs":true},"create_spec":{"name":true,"resources":{"nic_list":{},"serial_port_list":{},"num_vcpus_per_socket":true,"num_sockets":true,"memory_size_mib":true,"guest_customization":true,"disk_list":{"1":{"disk_size_mib":true},"3":{"disk_size_mib":true},"2":{"disk_size_mib":true},"5":{"disk_size_mib":true},"4":{"disk_size_mib":true},"7":{"disk_size_mib":true},"6":{"disk_size_mib":true},"8":{"disk_size_mib":true}}}}},"os_type":"Linux","type":"AHV_VM","create_spec":{"name":"mysql-master-@@{calm_time}@@","categories":"","availability_zone_reference":null,"backup_policy":null,"type":"","cluster_reference":null,"resources":{"nic_list":[{"nic_type":"NORMAL_NIC","ip_endpoint_list":[],"network_function_chain_reference":null,"network_function_nic_type":"INGRESS","mac_address":"","subnet_reference":{"kind":"subnet","type":"","name":"","uuid":"efc034e3-b50e-4a48-b02d-25036aeb8bd3"},"type":""}],"parent_reference":null,"guest_tools":null,"num_vcpus_per_socket":2,"num_sockets":2,"serial_port_list":[],"gpu_list":[],"memory_size_mib":8192,"power_state":"ON","hardware_clock_timezone":"","guest_customization":{"cloud_init":{"meta_data":"","type":"","user_data":"#cloud-config\nusers:\n  - name: centos\n    ssh-authorized-keys:\n      - @@{INSTANCE_PUBLIC_KEY}@@\n    sudo: ['ALL=(ALL) NOPASSWD:ALL']"},"type":"","sysprep":null},"type":"","boot_config":{"boot_device":{"type":"","disk_address":{"adapter_type":"SCSI","device_index":0,"type":""}},"type":"","mac_address":""},"disk_list":[{"data_source_reference":{"kind":"app_package","type":"","name":"CENTOS_74","uuid":"9f1580d6-1ec8-4e83-ade6-af9db607985a"},"type":"","disk_size_mib":0,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":0,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":51200,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":1,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":51200,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":2,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":51200,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":3,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":51200,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":4,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":25600,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":5,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":25600,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":6,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":25600,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":7,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":25600,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":8,"type":""}}}]}},"variable_list":[],"name":"AHVMaster"},{"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"9a06e417-e3c2-434c-a2d7-f226d3a748e1","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AHVSlave","uuid":"64640b55-4f15-4de6-8c5b-cc0821f4ef8d"},"retries":"0","description":"","type":"DAG","uuid":"b60486e3-fe33-4ea2-a444-3d4006b7558f","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Nutanix_Provision_64640b55_4f15_4de6_8c5b_cc0821f4ef8d","uuid":"f622ce6a-279a-477e-82ea-d408b3c7f03e"},{"kind":"app_task","name":"SYS_GEN__check_login_for_AHVSlave_64640b55_4f15_4de6_8c5b_cc0821f4ef8d","uuid":"3166a976-7730-469d-88be-bd807d0e0434"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Nutanix_Provision_64640b55_4f15_4de6_8c5b_cc0821f4ef8d","uuid":"f622ce6a-279a-477e-82ea-d408b3c7f03e"},"edge_type":"inherent","type":"","uuid":"6d98a7b3-8ce3-4c45-9e77-d75638892994","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_AHVSlave_64640b55_4f15_4de6_8c5b_cc0821f4ef8d","uuid":"3166a976-7730-469d-88be-bd807d0e0434"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_64640b55_4f15_4de6_8c5b_cc0821f4ef8d"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVSlave","uuid":"64640b55-4f15-4de6-8c5b-cc0821f4ef8d"},"retries":"0","description":"","type":"PROVISION_NUTANIX","uuid":"f622ce6a-279a-477e-82ea-d408b3c7f03e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"name":"mysql-slave-@@{calm_array_index}@@-@@{calm_time}@@","categories":"","availability_zone_reference":null,"backup_policy":null,"type":"","cluster_reference":null,"resources":{"nic_list":[{"nic_type":"NORMAL_NIC","ip_endpoint_list":[],"network_function_chain_reference":null,"network_function_nic_type":"INGRESS","mac_address":"","subnet_reference":{"kind":"subnet","type":"","name":"","uuid":"efc034e3-b50e-4a48-b02d-25036aeb8bd3"},"type":""}],"parent_reference":null,"guest_tools":null,"num_vcpus_per_socket":1,"num_sockets":2,"serial_port_list":[],"gpu_list":[],"memory_size_mib":8192,"power_state":"ON","hardware_clock_timezone":"","guest_customization":{"cloud_init":{"meta_data":"","type":"","user_data":"#cloud-config\nusers:\n  - name: centos\n    ssh-authorized-keys:\n      - @@{INSTANCE_PUBLIC_KEY}@@\n    sudo: ['ALL=(ALL) NOPASSWD:ALL']"},"type":"","sysprep":null},"type":"","boot_config":{"boot_device":{"type":"","disk_address":{"adapter_type":"SCSI","device_index":-1,"type":""}},"type":"","mac_address":""},"disk_list":[{"data_source_reference":{"kind":"app_package","type":"","name":"CENTOS_74","uuid":"9f1580d6-1ec8-4e83-ade6-af9db607985a"},"type":"","disk_size_mib":0,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":0,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":51200,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":1,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":51200,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":2,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":51200,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":3,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":51200,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":4,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":25600,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":5,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":25600,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":6,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":25600,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":7,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":25600,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":8,"type":""}}}]}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Nutanix_Provision_64640b55_4f15_4de6_8c5b_cc0821f4ef8d"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVSlave","uuid":"64640b55-4f15-4de6-8c5b-cc0821f4ef8d"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"3166a976-7730-469d-88be-bd807d0e0434","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"300","address":"@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_AHVSlave_64640b55_4f15_4de6_8c5b_cc0821f4ef8d"}],"description":"","message_list":[],"uuid":"24428187-1a96-46b8-9a54-ec6581850f21","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_64640b55_4f15_4de6_8c5b_cc0821f4ef8d","uuid":"b60486e3-fe33-4ea2-a444-3d4006b7558f"},"name":"SYS_GEN__Runbook_Substrate_64640b55_4f15_4de6_8c5b_cc0821f4ef8d"}},{"description":"System action for powering on an application","message_list":[],"uuid":"cdefb8fa-1154-4a86-ad11-8267c6969a17","name":"action_poweron","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AHVSlave","uuid":"64640b55-4f15-4de6-8c5b-cc0821f4ef8d"},"retries":"0","description":"","type":"DAG","uuid":"10ea8939-b583-4bb6-a533-1426409e27f4","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Nutanix_Operation_PowerOn_64640b55_4f15_4de6_8c5b_cc0821f4ef8d","uuid":"c3f597ca-8af7-4ee5-9aa9-724fb26f516c"},{"kind":"app_task","name":"SYS_GEN__check_login_for_AHVSlave_64640b55_4f15_4de6_8c5b_cc0821f4ef8d","uuid":"a0138a8c-ac7d-4d49-aef5-c0906d970f50"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Nutanix_Operation_PowerOn_64640b55_4f15_4de6_8c5b_cc0821f4ef8d","uuid":"c3f597ca-8af7-4ee5-9aa9-724fb26f516c"},"edge_type":"inherent","type":"","uuid":"621943a3-1257-4add-a6b6-34f16142aac1","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_AHVSlave_64640b55_4f15_4de6_8c5b_cc0821f4ef8d","uuid":"a0138a8c-ac7d-4d49-aef5-c0906d970f50"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_64640b55_4f15_4de6_8c5b_cc0821f4ef8d"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVSlave","uuid":"64640b55-4f15-4de6-8c5b-cc0821f4ef8d"},"retries":"0","description":"","type":"VMOPERATION_NUTANIX","uuid":"c3f597ca-8af7-4ee5-9aa9-724fb26f516c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Nutanix_Operation_PowerOn_64640b55_4f15_4de6_8c5b_cc0821f4ef8d"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVSlave","uuid":"64640b55-4f15-4de6-8c5b-cc0821f4ef8d"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"a0138a8c-ac7d-4d49-aef5-c0906d970f50","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"300","address":"@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_AHVSlave_64640b55_4f15_4de6_8c5b_cc0821f4ef8d"}],"description":"","message_list":[],"uuid":"a1134917-cc1c-4316-a66d-f2f1a3053b07","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_64640b55_4f15_4de6_8c5b_cc0821f4ef8d","uuid":"10ea8939-b583-4bb6-a533-1426409e27f4"},"name":"SYS_GEN__Runbook_Substrate_64640b55_4f15_4de6_8c5b_cc0821f4ef8d"}},{"description":"System action for restarting an application","message_list":[],"uuid":"78269ea4-3d1e-483e-8121-49a55f372f6b","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AHVSlave","uuid":"64640b55-4f15-4de6-8c5b-cc0821f4ef8d"},"retries":"0","description":"","type":"DAG","uuid":"9988f6e2-467b-4a15-a7cf-6f3cd256d5be","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Nutanix_Operation_Restart_64640b55_4f15_4de6_8c5b_cc0821f4ef8d","uuid":"519fae59-8024-4d6d-9148-feebec9a9a6f"},{"kind":"app_task","name":"SYS_GEN__check_login_for_AHVSlave_64640b55_4f15_4de6_8c5b_cc0821f4ef8d","uuid":"26152a69-4499-4438-becb-99e454dcb81f"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Nutanix_Operation_Restart_64640b55_4f15_4de6_8c5b_cc0821f4ef8d","uuid":"519fae59-8024-4d6d-9148-feebec9a9a6f"},"edge_type":"inherent","type":"","uuid":"caa7ec9c-2658-4e96-bb82-0380844966e6","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_AHVSlave_64640b55_4f15_4de6_8c5b_cc0821f4ef8d","uuid":"26152a69-4499-4438-becb-99e454dcb81f"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_64640b55_4f15_4de6_8c5b_cc0821f4ef8d"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVSlave","uuid":"64640b55-4f15-4de6-8c5b-cc0821f4ef8d"},"retries":"0","description":"","type":"VMOPERATION_NUTANIX","uuid":"519fae59-8024-4d6d-9148-feebec9a9a6f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Nutanix_Operation_Restart_64640b55_4f15_4de6_8c5b_cc0821f4ef8d"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVSlave","uuid":"64640b55-4f15-4de6-8c5b-cc0821f4ef8d"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"26152a69-4499-4438-becb-99e454dcb81f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"300","address":"@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_AHVSlave_64640b55_4f15_4de6_8c5b_cc0821f4ef8d"}],"description":"","message_list":[],"uuid":"979a1f56-cbab-4906-a423-a292862e80ff","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_64640b55_4f15_4de6_8c5b_cc0821f4ef8d","uuid":"9988f6e2-467b-4a15-a7cf-6f3cd256d5be"},"name":"SYS_GEN__Runbook_Substrate_64640b55_4f15_4de6_8c5b_cc0821f4ef8d"}},{"description":"System action for suspending an application","message_list":[],"uuid":"bafce2ca-a005-4a94-b752-860084ef41af","name":"action_suspend","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AHVSlave","uuid":"64640b55-4f15-4de6-8c5b-cc0821f4ef8d"},"retries":"0","description":"","type":"DAG","uuid":"2596a2fa-4bf2-41ad-849b-f5fd826f9bb6","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_64640b55_4f15_4de6_8c5b_cc0821f4ef8d"}],"description":"","message_list":[],"uuid":"740f8073-55ad-48b0-896c-f07fd0e16196","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_64640b55_4f15_4de6_8c5b_cc0821f4ef8d","uuid":"2596a2fa-4bf2-41ad-849b-f5fd826f9bb6"},"name":"SYS_GEN__Runbook_Substrate_64640b55_4f15_4de6_8c5b_cc0821f4ef8d"}},{"description":"System action for modifying an application","message_list":[],"uuid":"9f38efd8-6d0b-4a06-8889-d193796f85a4","name":"action_modify","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AHVSlave","uuid":"64640b55-4f15-4de6-8c5b-cc0821f4ef8d"},"retries":"0","description":"","type":"DAG","uuid":"e9fab48a-94c5-4ffe-80bc-fd6de3fce447","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_64640b55_4f15_4de6_8c5b_cc0821f4ef8d"}],"description":"","message_list":[],"uuid":"8b3f2c0f-cb16-4cfb-a70e-c6bc02d54fb6","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_64640b55_4f15_4de6_8c5b_cc0821f4ef8d","uuid":"e9fab48a-94c5-4ffe-80bc-fd6de3fce447"},"name":"SYS_GEN__Runbook_Substrate_64640b55_4f15_4de6_8c5b_cc0821f4ef8d"}},{"description":"System action for powering off an application","message_list":[],"uuid":"fe110d2f-ef38-492f-864c-9e92600413d9","name":"action_poweroff","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AHVSlave","uuid":"64640b55-4f15-4de6-8c5b-cc0821f4ef8d"},"retries":"0","description":"","type":"DAG","uuid":"df56ebdb-c36d-40a0-9c6a-828ae3fb8aef","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Nutanix_Operation_PowerOff_64640b55_4f15_4de6_8c5b_cc0821f4ef8d","uuid":"651460e6-0033-4927-b3c4-58450af94ad5"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_64640b55_4f15_4de6_8c5b_cc0821f4ef8d"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVSlave","uuid":"64640b55-4f15-4de6-8c5b-cc0821f4ef8d"},"retries":"0","description":"","type":"VMOPERATION_NUTANIX","uuid":"651460e6-0033-4927-b3c4-58450af94ad5","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Nutanix_Operation_PowerOff_64640b55_4f15_4de6_8c5b_cc0821f4ef8d"}],"description":"","message_list":[],"uuid":"4076ce26-56ca-44dc-bc79-41027c128a4d","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_64640b55_4f15_4de6_8c5b_cc0821f4ef8d","uuid":"df56ebdb-c36d-40a0-9c6a-828ae3fb8aef"},"name":"SYS_GEN__Runbook_Substrate_64640b55_4f15_4de6_8c5b_cc0821f4ef8d"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"b21ab1a9-af10-4c15-9b2c-67e802e6a93b","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AHVSlave","uuid":"64640b55-4f15-4de6-8c5b-cc0821f4ef8d"},"retries":"0","description":"","type":"DAG","uuid":"7051eb4a-65b0-48eb-9a96-dcefe604e89e","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Nutanix_Delete_64640b55_4f15_4de6_8c5b_cc0821f4ef8d","uuid":"a2d9ca31-e889-4ded-8c8c-c86ba8baef51"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_64640b55_4f15_4de6_8c5b_cc0821f4ef8d"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVSlave","uuid":"64640b55-4f15-4de6-8c5b-cc0821f4ef8d"},"retries":"0","description":"","type":"DELETE_NUTANIX","uuid":"a2d9ca31-e889-4ded-8c8c-c86ba8baef51","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Nutanix_Delete_64640b55_4f15_4de6_8c5b_cc0821f4ef8d"}],"description":"","message_list":[],"uuid":"3b0e4b67-1c35-4ca2-b62c-148b28f344f1","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_64640b55_4f15_4de6_8c5b_cc0821f4ef8d","uuid":"7051eb4a-65b0-48eb-9a96-dcefe604e89e"},"name":"SYS_GEN__Runbook_Substrate_64640b55_4f15_4de6_8c5b_cc0821f4ef8d"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"0b69ddd7-6532-4d72-9aee-d3194967e6fe","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AHVSlave","uuid":"64640b55-4f15-4de6-8c5b-cc0821f4ef8d"},"retries":"0","description":"","type":"DAG","uuid":"dc3f8531-3757-4592-9f36-a145bdfaaafb","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Substrate_Element_Delete_64640b55_4f15_4de6_8c5b_cc0821f4ef8d","uuid":"2c72043b-4813-474d-b3ad-18c9674279f3"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_64640b55_4f15_4de6_8c5b_cc0821f4ef8d"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVSlave","uuid":"64640b55-4f15-4de6-8c5b-cc0821f4ef8d"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"2c72043b-4813-474d-b3ad-18c9674279f3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Substrate_Element_Delete_64640b55_4f15_4de6_8c5b_cc0821f4ef8d"}],"description":"","message_list":[],"uuid":"8a8aa2ce-59a8-4130-9cf3-cc7228689a65","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_64640b55_4f15_4de6_8c5b_cc0821f4ef8d","uuid":"dc3f8531-3757-4592-9f36-a145bdfaaafb"},"name":"SYS_GEN__Runbook_Substrate_64640b55_4f15_4de6_8c5b_cc0821f4ef8d"}}],"message_list":[{"message":"device_index should be an integer (minimum 0)","reason":"INVALID_VALUE","details":[{"attribute_name":"device_index"}]}],"uuid":"64640b55-4f15-4de6-8c5b-cc0821f4ef8d","state":"DRAFT","readiness_probe":{"connection_type":"SSH","retries":"5","disable_readiness_probe":false,"address":"@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@","delay_secs":"0","connection_port":22,"login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"3ee7bf5d-2de9-4958-9b65-e30687c43f17"}},"editables":{"readiness_probe":{"connection_type":true,"delay_secs":true,"connection_port":true,"timeout_secs":true},"create_spec":{"name":true,"resources":{"nic_list":{},"serial_port_list":{},"num_vcpus_per_socket":true,"num_sockets":true,"memory_size_mib":true,"guest_customization":true,"disk_list":{"1":{"disk_size_mib":true},"3":{"disk_size_mib":true},"2":{"disk_size_mib":true},"5":{"disk_size_mib":true},"4":{"disk_size_mib":true},"7":{"disk_size_mib":true},"6":{"disk_size_mib":true},"8":{"disk_size_mib":true}}}}},"os_type":"Linux","type":"AHV_VM","create_spec":{"name":"mysql-slave-@@{calm_array_index}@@-@@{calm_time}@@","categories":"","availability_zone_reference":null,"backup_policy":null,"type":"","cluster_reference":null,"resources":{"nic_list":[{"nic_type":"NORMAL_NIC","ip_endpoint_list":[],"network_function_chain_reference":null,"network_function_nic_type":"INGRESS","mac_address":"","subnet_reference":{"kind":"subnet","type":"","name":"","uuid":"efc034e3-b50e-4a48-b02d-25036aeb8bd3"},"type":""}],"parent_reference":null,"guest_tools":null,"num_vcpus_per_socket":1,"num_sockets":2,"serial_port_list":[],"gpu_list":[],"memory_size_mib":8192,"power_state":"ON","hardware_clock_timezone":"","guest_customization":{"cloud_init":{"meta_data":"","type":"","user_data":"#cloud-config\nusers:\n  - name: centos\n    ssh-authorized-keys:\n      - @@{INSTANCE_PUBLIC_KEY}@@\n    sudo: ['ALL=(ALL) NOPASSWD:ALL']"},"type":"","sysprep":null},"type":"","boot_config":{"boot_device":{"type":"","disk_address":{"adapter_type":"SCSI","device_index":-1,"type":""}},"type":"","mac_address":""},"disk_list":[{"data_source_reference":{"kind":"app_package","type":"","name":"CENTOS_74","uuid":"9f1580d6-1ec8-4e83-ade6-af9db607985a"},"type":"","disk_size_mib":0,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":0,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":51200,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":1,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":51200,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":2,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":51200,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":3,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":51200,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":4,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":25600,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":5,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":25600,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":6,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":25600,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":7,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":25600,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":8,"type":""}}}]}},"variable_list":[],"name":"AHVSlave"},{"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"80629511-b622-4d19-9f22-f6c69967a56f","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AWSMaster","uuid":"cefa9a98-dcbd-4260-a7b6-12d47af4d968"},"retries":"0","description":"","type":"DAG","uuid":"81aa7704-4503-4933-a841-6e12fd6d9c82","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Aws_Provision_cefa9a98_dcbd_4260_a7b6_12d47af4d968","uuid":"36c30915-280d-43e3-ade8-1d59d3ce8b4a"},{"kind":"app_task","name":"SYS_GEN__check_login_for_AWSMaster_cefa9a98_dcbd_4260_a7b6_12d47af4d968","uuid":"9535ccf5-88b1-48e8-a1fb-5873ff1fd224"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Aws_Provision_cefa9a98_dcbd_4260_a7b6_12d47af4d968","uuid":"36c30915-280d-43e3-ade8-1d59d3ce8b4a"},"edge_type":"inherent","type":"","uuid":"cf93ab63-36e2-46b7-945b-8f228264135c","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_AWSMaster_cefa9a98_dcbd_4260_a7b6_12d47af4d968","uuid":"9535ccf5-88b1-48e8-a1fb-5873ff1fd224"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_cefa9a98_dcbd_4260_a7b6_12d47af4d968"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSMaster","uuid":"cefa9a98-dcbd-4260-a7b6-12d47af4d968"},"retries":"0","description":"","type":"PROVISION_AWS_VM","uuid":"36c30915-280d-43e3-ade8-1d59d3ce8b4a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"name":"mysql-master-@@{calm_time}@@","availability_zone_reference":null,"backup_policy":null,"type":"PROVISION_AWS_VM","cluster_reference":null,"resources":{"instance_profile_name":"","instance_type":"","subnet_id":"","key_name":"","region":"","availability_zone":"","instance_initiated_shutdown_behavior":"","user_data":"","image_id":"","state":"RUNNING","security_group_list":[{"type":"","security_group_id":""}],"block_device_map":{"data_disk_list":[{"size_gb":50,"volume_type":"GP2","device_name":"\/dev\/sdb","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":50,"volume_type":"GP2","device_name":"\/dev\/sdc","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":50,"volume_type":"GP2","device_name":"\/dev\/sdd","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":50,"volume_type":"GP2","device_name":"\/dev\/sde","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":25,"volume_type":"GP2","device_name":"\/dev\/sdf","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":25,"volume_type":"GP2","device_name":"\/dev\/sdg","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":25,"volume_type":"GP2","device_name":"\/dev\/sdh","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":25,"volume_type":"GP2","device_name":"\/dev\/sdi","iops":1,"snapshot_id":"","type":"","delete_on_termination":true}],"type":"","root_disk":{"size_gb":10,"volume_type":"GP2","device_name":"\/dev\/sda1","iops":1,"snapshot_id":"","type":"","delete_on_termination":true}},"private_ip_address":"","vpc_id":"","tag_list":[],"type":"","account_uuid":"8c2e0a6b-620a-c62a-c3f4-e58b101dfd0d","associate_public_ip_address":true}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Aws_Provision_cefa9a98_dcbd_4260_a7b6_12d47af4d968"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSMaster","uuid":"cefa9a98-dcbd-4260-a7b6-12d47af4d968"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"9535ccf5-88b1-48e8-a1fb-5873ff1fd224","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"300","address":"@@{public_ip_address}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_AWSMaster_cefa9a98_dcbd_4260_a7b6_12d47af4d968"}],"description":"","message_list":[],"uuid":"c0efe52e-9e9b-41df-a45f-deab05229df4","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_cefa9a98_dcbd_4260_a7b6_12d47af4d968","uuid":"81aa7704-4503-4933-a841-6e12fd6d9c82"},"name":"SYS_GEN__Runbook_Substrate_cefa9a98_dcbd_4260_a7b6_12d47af4d968"}},{"description":"System action for powering on an application","message_list":[],"uuid":"1ea77d1d-548b-40e0-a899-07fa2fa38f89","name":"action_poweron","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AWSMaster","uuid":"cefa9a98-dcbd-4260-a7b6-12d47af4d968"},"retries":"0","description":"","type":"DAG","uuid":"6994fdf3-f050-4ada-8607-d99136f4cf9e","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Aws_Operation_PowerOn_cefa9a98_dcbd_4260_a7b6_12d47af4d968","uuid":"1d46a2c4-a385-471d-9417-d7b28d8eb037"},{"kind":"app_task","name":"SYS_GEN__check_login_for_AWSMaster_cefa9a98_dcbd_4260_a7b6_12d47af4d968","uuid":"6b9e751b-1d30-426f-bb62-5f246336b7d8"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Aws_Operation_PowerOn_cefa9a98_dcbd_4260_a7b6_12d47af4d968","uuid":"1d46a2c4-a385-471d-9417-d7b28d8eb037"},"edge_type":"inherent","type":"","uuid":"56096679-cd15-4c28-a1c4-8f6a47f73682","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_AWSMaster_cefa9a98_dcbd_4260_a7b6_12d47af4d968","uuid":"6b9e751b-1d30-426f-bb62-5f246336b7d8"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_cefa9a98_dcbd_4260_a7b6_12d47af4d968"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSMaster","uuid":"cefa9a98-dcbd-4260-a7b6-12d47af4d968"},"retries":"0","description":"","type":"VMOPERATION_AWS_VM","uuid":"1d46a2c4-a385-471d-9417-d7b28d8eb037","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Aws_Operation_PowerOn_cefa9a98_dcbd_4260_a7b6_12d47af4d968"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSMaster","uuid":"cefa9a98-dcbd-4260-a7b6-12d47af4d968"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"6b9e751b-1d30-426f-bb62-5f246336b7d8","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"300","address":"@@{public_ip_address}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_AWSMaster_cefa9a98_dcbd_4260_a7b6_12d47af4d968"}],"description":"","message_list":[],"uuid":"4277c395-8a62-460c-b923-42a85c9e993a","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_cefa9a98_dcbd_4260_a7b6_12d47af4d968","uuid":"6994fdf3-f050-4ada-8607-d99136f4cf9e"},"name":"SYS_GEN__Runbook_Substrate_cefa9a98_dcbd_4260_a7b6_12d47af4d968"}},{"description":"System action for restarting an application","message_list":[],"uuid":"388b7eeb-9d25-42e3-a5d2-274e6ef45b27","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AWSMaster","uuid":"cefa9a98-dcbd-4260-a7b6-12d47af4d968"},"retries":"0","description":"","type":"DAG","uuid":"6bbb0865-a700-49a6-9d7a-557639d3180f","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Aws_Operation_Restart_cefa9a98_dcbd_4260_a7b6_12d47af4d968","uuid":"e87db434-f885-4142-aef5-fb4cd833a513"},{"kind":"app_task","name":"SYS_GEN__check_login_for_AWSMaster_cefa9a98_dcbd_4260_a7b6_12d47af4d968","uuid":"1fedb607-670d-4357-a296-972483930479"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Aws_Operation_Restart_cefa9a98_dcbd_4260_a7b6_12d47af4d968","uuid":"e87db434-f885-4142-aef5-fb4cd833a513"},"edge_type":"inherent","type":"","uuid":"0ff63afe-8221-4472-bb08-5afd6e1eaab3","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_AWSMaster_cefa9a98_dcbd_4260_a7b6_12d47af4d968","uuid":"1fedb607-670d-4357-a296-972483930479"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_cefa9a98_dcbd_4260_a7b6_12d47af4d968"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSMaster","uuid":"cefa9a98-dcbd-4260-a7b6-12d47af4d968"},"retries":"0","description":"","type":"VMOPERATION_AWS_VM","uuid":"e87db434-f885-4142-aef5-fb4cd833a513","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Aws_Operation_Restart_cefa9a98_dcbd_4260_a7b6_12d47af4d968"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSMaster","uuid":"cefa9a98-dcbd-4260-a7b6-12d47af4d968"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"1fedb607-670d-4357-a296-972483930479","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"300","address":"@@{public_ip_address}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_AWSMaster_cefa9a98_dcbd_4260_a7b6_12d47af4d968"}],"description":"","message_list":[],"uuid":"66e908ab-4bba-480e-b7af-9fd5427adc27","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_cefa9a98_dcbd_4260_a7b6_12d47af4d968","uuid":"6bbb0865-a700-49a6-9d7a-557639d3180f"},"name":"SYS_GEN__Runbook_Substrate_cefa9a98_dcbd_4260_a7b6_12d47af4d968"}},{"description":"System action for suspending an application","message_list":[],"uuid":"5561c17a-07b2-409d-a0d8-dcd4ffb223f9","name":"action_suspend","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AWSMaster","uuid":"cefa9a98-dcbd-4260-a7b6-12d47af4d968"},"retries":"0","description":"","type":"DAG","uuid":"51132953-f5d0-4ee9-918b-385521d0b984","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_cefa9a98_dcbd_4260_a7b6_12d47af4d968"}],"description":"","message_list":[],"uuid":"01103c34-bf03-4366-8122-b77aed9ad200","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_cefa9a98_dcbd_4260_a7b6_12d47af4d968","uuid":"51132953-f5d0-4ee9-918b-385521d0b984"},"name":"SYS_GEN__Runbook_Substrate_cefa9a98_dcbd_4260_a7b6_12d47af4d968"}},{"description":"System action for modifying an application","message_list":[],"uuid":"17e46d18-6cf2-41f4-beef-bafcc13a5ce3","name":"action_modify","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AWSMaster","uuid":"cefa9a98-dcbd-4260-a7b6-12d47af4d968"},"retries":"0","description":"","type":"DAG","uuid":"7711e7bd-8861-4ec1-a22f-e6152264b760","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_cefa9a98_dcbd_4260_a7b6_12d47af4d968"}],"description":"","message_list":[],"uuid":"3f7bf535-4c72-4d4b-b78c-af04abf311e1","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_cefa9a98_dcbd_4260_a7b6_12d47af4d968","uuid":"7711e7bd-8861-4ec1-a22f-e6152264b760"},"name":"SYS_GEN__Runbook_Substrate_cefa9a98_dcbd_4260_a7b6_12d47af4d968"}},{"description":"System action for powering off an application","message_list":[],"uuid":"cea5f855-9b1c-4401-b0ea-545fdd252421","name":"action_poweroff","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AWSMaster","uuid":"cefa9a98-dcbd-4260-a7b6-12d47af4d968"},"retries":"0","description":"","type":"DAG","uuid":"d014ac4a-7c14-4c76-8285-100e27b4901e","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Aws_Operation_PowerOff_cefa9a98_dcbd_4260_a7b6_12d47af4d968","uuid":"b08e0176-4168-4e87-97b2-ba3cb6b5302e"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_cefa9a98_dcbd_4260_a7b6_12d47af4d968"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSMaster","uuid":"cefa9a98-dcbd-4260-a7b6-12d47af4d968"},"retries":"0","description":"","type":"VMOPERATION_AWS_VM","uuid":"b08e0176-4168-4e87-97b2-ba3cb6b5302e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Aws_Operation_PowerOff_cefa9a98_dcbd_4260_a7b6_12d47af4d968"}],"description":"","message_list":[],"uuid":"20f96c8e-a115-40dc-818e-9e9a8f9e1d84","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_cefa9a98_dcbd_4260_a7b6_12d47af4d968","uuid":"d014ac4a-7c14-4c76-8285-100e27b4901e"},"name":"SYS_GEN__Runbook_Substrate_cefa9a98_dcbd_4260_a7b6_12d47af4d968"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"05fbf128-365a-446b-9aa9-dbd0a46b1df3","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AWSMaster","uuid":"cefa9a98-dcbd-4260-a7b6-12d47af4d968"},"retries":"0","description":"","type":"DAG","uuid":"02f51d7f-57b6-402f-a84c-a55fe01d529d","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Aws_Delete_cefa9a98_dcbd_4260_a7b6_12d47af4d968","uuid":"7cff1708-b23b-4515-99b2-dddaf95897e5"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_cefa9a98_dcbd_4260_a7b6_12d47af4d968"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSMaster","uuid":"cefa9a98-dcbd-4260-a7b6-12d47af4d968"},"retries":"0","description":"","type":"DELETE_AWS_VM","uuid":"7cff1708-b23b-4515-99b2-dddaf95897e5","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Aws_Delete_cefa9a98_dcbd_4260_a7b6_12d47af4d968"}],"description":"","message_list":[],"uuid":"e1845a09-b219-4479-89df-b1fd4071f928","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_cefa9a98_dcbd_4260_a7b6_12d47af4d968","uuid":"02f51d7f-57b6-402f-a84c-a55fe01d529d"},"name":"SYS_GEN__Runbook_Substrate_cefa9a98_dcbd_4260_a7b6_12d47af4d968"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"afd1e305-8b1e-49b9-888b-67ceafd8c3b8","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AWSMaster","uuid":"cefa9a98-dcbd-4260-a7b6-12d47af4d968"},"retries":"0","description":"","type":"DAG","uuid":"5aa92f7b-8c2c-423c-96b3-c3cf72947271","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Substrate_Element_Delete_cefa9a98_dcbd_4260_a7b6_12d47af4d968","uuid":"5b0f14ad-09c3-4110-9078-5569bc6cde94"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_cefa9a98_dcbd_4260_a7b6_12d47af4d968"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSMaster","uuid":"cefa9a98-dcbd-4260-a7b6-12d47af4d968"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"5b0f14ad-09c3-4110-9078-5569bc6cde94","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Substrate_Element_Delete_cefa9a98_dcbd_4260_a7b6_12d47af4d968"}],"description":"","message_list":[],"uuid":"8ee087ec-b01a-49b3-bf7f-390d2f84027a","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_cefa9a98_dcbd_4260_a7b6_12d47af4d968","uuid":"5aa92f7b-8c2c-423c-96b3-c3cf72947271"},"name":"SYS_GEN__Runbook_Substrate_cefa9a98_dcbd_4260_a7b6_12d47af4d968"}}],"message_list":[{"message":"Region is a required field","reason":"EMPTY_VALUE","details":[{"attribute_name":"region"}]}],"uuid":"cefa9a98-dcbd-4260-a7b6-12d47af4d968","state":"DRAFT","readiness_probe":{"connection_type":"SSH","retries":"5","disable_readiness_probe":false,"address":"@@{public_ip_address}@@","delay_secs":"0","connection_port":22,"login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"3ee7bf5d-2de9-4958-9b65-e30687c43f17"}},"editables":{"readiness_probe":{"connection_type":true,"delay_secs":true,"connection_port":true,"timeout_secs":true},"create_spec":{"name":true,"resources":{"instance_profile_name":true,"availability_zone":true,"subnet_id":true,"key_name":true,"region":true,"user_data":true,"image_id":true,"instance_type":true,"security_group_list":true,"block_device_map":{"data_disk_list":{"1":{"size_gb":true},"0":{"size_gb":true},"3":{"size_gb":true},"2":{"size_gb":true},"5":{"size_gb":true},"4":{"size_gb":true},"7":{"size_gb":true},"6":{"size_gb":true}},"root_disk":{"size_gb":true}},"associate_public_ip_address":true,"vpc_id":true,"tag_list":true}}},"os_type":"Linux","type":"AWS_VM","create_spec":{"name":"mysql-master-@@{calm_time}@@","availability_zone_reference":null,"backup_policy":null,"type":"PROVISION_AWS_VM","cluster_reference":null,"resources":{"instance_profile_name":"","instance_type":"","subnet_id":"","key_name":"","region":"","availability_zone":"","instance_initiated_shutdown_behavior":"","user_data":"","image_id":"","state":"RUNNING","security_group_list":[{"type":"","security_group_id":""}],"block_device_map":{"data_disk_list":[{"size_gb":50,"volume_type":"GP2","device_name":"\/dev\/sdb","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":50,"volume_type":"GP2","device_name":"\/dev\/sdc","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":50,"volume_type":"GP2","device_name":"\/dev\/sdd","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":50,"volume_type":"GP2","device_name":"\/dev\/sde","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":25,"volume_type":"GP2","device_name":"\/dev\/sdf","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":25,"volume_type":"GP2","device_name":"\/dev\/sdg","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":25,"volume_type":"GP2","device_name":"\/dev\/sdh","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":25,"volume_type":"GP2","device_name":"\/dev\/sdi","iops":1,"snapshot_id":"","type":"","delete_on_termination":true}],"type":"","root_disk":{"size_gb":10,"volume_type":"GP2","device_name":"\/dev\/sda1","iops":1,"snapshot_id":"","type":"","delete_on_termination":true}},"private_ip_address":"","vpc_id":"","tag_list":[],"type":"","account_uuid":"8c2e0a6b-620a-c62a-c3f4-e58b101dfd0d","associate_public_ip_address":true}},"variable_list":[],"name":"AWSMaster"},{"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"b1bfb68c-aab6-4df5-b870-c18339e268f2","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AWSSlave","uuid":"dc4c740f-2c0d-43d8-b0ac-96221c03c081"},"retries":"0","description":"","type":"DAG","uuid":"dfbb6d84-f985-49a1-a22e-58119483b786","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Aws_Provision_dc4c740f_2c0d_43d8_b0ac_96221c03c081","uuid":"f1a2b135-3761-425c-be66-473903bfc07d"},{"kind":"app_task","name":"SYS_GEN__check_login_for_AWSSlave_dc4c740f_2c0d_43d8_b0ac_96221c03c081","uuid":"03785bfe-73f3-4cf5-af75-70e5e45570c3"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Aws_Provision_dc4c740f_2c0d_43d8_b0ac_96221c03c081","uuid":"f1a2b135-3761-425c-be66-473903bfc07d"},"edge_type":"inherent","type":"","uuid":"e201ac53-d642-4a5c-88de-9bd03874e4d1","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_AWSSlave_dc4c740f_2c0d_43d8_b0ac_96221c03c081","uuid":"03785bfe-73f3-4cf5-af75-70e5e45570c3"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_dc4c740f_2c0d_43d8_b0ac_96221c03c081"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSSlave","uuid":"dc4c740f-2c0d-43d8-b0ac-96221c03c081"},"retries":"0","description":"","type":"PROVISION_AWS_VM","uuid":"f1a2b135-3761-425c-be66-473903bfc07d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"name":"mysql-slave-@@{calm_array_index}@@-@@{calm_time}@@","availability_zone_reference":null,"backup_policy":null,"type":"PROVISION_AWS_VM","cluster_reference":null,"resources":{"instance_profile_name":"","instance_type":"","subnet_id":"","key_name":"","region":"","availability_zone":"","instance_initiated_shutdown_behavior":"","user_data":"","image_id":"","state":"RUNNING","security_group_list":[{"type":"","security_group_id":""}],"block_device_map":{"data_disk_list":[{"size_gb":50,"volume_type":"GP2","device_name":"\/dev\/sdb","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":50,"volume_type":"GP2","device_name":"\/dev\/sdc","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":50,"volume_type":"GP2","device_name":"\/dev\/sdd","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":50,"volume_type":"GP2","device_name":"\/dev\/sde","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":25,"volume_type":"GP2","device_name":"\/dev\/sdf","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":25,"volume_type":"GP2","device_name":"\/dev\/sdg","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":25,"volume_type":"GP2","device_name":"\/dev\/sdh","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":25,"volume_type":"GP2","device_name":"\/dev\/sdi","iops":1,"snapshot_id":"","type":"","delete_on_termination":true}],"type":"","root_disk":{"size_gb":10,"volume_type":"GP2","device_name":"\/dev\/sda1","iops":1,"snapshot_id":"","type":"","delete_on_termination":true}},"private_ip_address":"","vpc_id":"","tag_list":[],"type":"","account_uuid":"8c2e0a6b-620a-c62a-c3f4-e58b101dfd0d","associate_public_ip_address":true}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Aws_Provision_dc4c740f_2c0d_43d8_b0ac_96221c03c081"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSSlave","uuid":"dc4c740f-2c0d-43d8-b0ac-96221c03c081"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"03785bfe-73f3-4cf5-af75-70e5e45570c3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"300","address":"@@{public_ip_address}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_AWSSlave_dc4c740f_2c0d_43d8_b0ac_96221c03c081"}],"description":"","message_list":[],"uuid":"53dd9111-8a0a-4743-9baf-e916981dec86","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_dc4c740f_2c0d_43d8_b0ac_96221c03c081","uuid":"dfbb6d84-f985-49a1-a22e-58119483b786"},"name":"SYS_GEN__Runbook_Substrate_dc4c740f_2c0d_43d8_b0ac_96221c03c081"}},{"description":"System action for powering on an application","message_list":[],"uuid":"c6df7e97-1638-4f18-a6a4-4aeee4d5e831","name":"action_poweron","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AWSSlave","uuid":"dc4c740f-2c0d-43d8-b0ac-96221c03c081"},"retries":"0","description":"","type":"DAG","uuid":"9e437286-440a-4032-8666-e0f64b28ea02","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Aws_Operation_PowerOn_dc4c740f_2c0d_43d8_b0ac_96221c03c081","uuid":"437a9ea9-abd7-4818-8416-c92e746ebaa1"},{"kind":"app_task","name":"SYS_GEN__check_login_for_AWSSlave_dc4c740f_2c0d_43d8_b0ac_96221c03c081","uuid":"b3657c68-c89d-4614-8570-ab973efec60b"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Aws_Operation_PowerOn_dc4c740f_2c0d_43d8_b0ac_96221c03c081","uuid":"437a9ea9-abd7-4818-8416-c92e746ebaa1"},"edge_type":"inherent","type":"","uuid":"032fc137-618d-409b-8b9e-12ed99a77b5c","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_AWSSlave_dc4c740f_2c0d_43d8_b0ac_96221c03c081","uuid":"b3657c68-c89d-4614-8570-ab973efec60b"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_dc4c740f_2c0d_43d8_b0ac_96221c03c081"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSSlave","uuid":"dc4c740f-2c0d-43d8-b0ac-96221c03c081"},"retries":"0","description":"","type":"VMOPERATION_AWS_VM","uuid":"437a9ea9-abd7-4818-8416-c92e746ebaa1","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Aws_Operation_PowerOn_dc4c740f_2c0d_43d8_b0ac_96221c03c081"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSSlave","uuid":"dc4c740f-2c0d-43d8-b0ac-96221c03c081"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"b3657c68-c89d-4614-8570-ab973efec60b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"300","address":"@@{public_ip_address}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_AWSSlave_dc4c740f_2c0d_43d8_b0ac_96221c03c081"}],"description":"","message_list":[],"uuid":"16aad405-0894-45a1-a680-7c4aaf2ee0e5","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_dc4c740f_2c0d_43d8_b0ac_96221c03c081","uuid":"9e437286-440a-4032-8666-e0f64b28ea02"},"name":"SYS_GEN__Runbook_Substrate_dc4c740f_2c0d_43d8_b0ac_96221c03c081"}},{"description":"System action for restarting an application","message_list":[],"uuid":"fcc41ccc-90f9-4560-a53a-3a6c56679e9e","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AWSSlave","uuid":"dc4c740f-2c0d-43d8-b0ac-96221c03c081"},"retries":"0","description":"","type":"DAG","uuid":"cd6696cb-9730-48bd-910f-a960d5d47133","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Aws_Operation_Restart_dc4c740f_2c0d_43d8_b0ac_96221c03c081","uuid":"a2dac477-9f0a-4e80-a12d-ef4ff70f115b"},{"kind":"app_task","name":"SYS_GEN__check_login_for_AWSSlave_dc4c740f_2c0d_43d8_b0ac_96221c03c081","uuid":"281d9cd4-6241-47eb-9457-d0b9403a41ea"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Aws_Operation_Restart_dc4c740f_2c0d_43d8_b0ac_96221c03c081","uuid":"a2dac477-9f0a-4e80-a12d-ef4ff70f115b"},"edge_type":"inherent","type":"","uuid":"a540b3f7-9a91-4ec4-841f-68a4535bb026","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_AWSSlave_dc4c740f_2c0d_43d8_b0ac_96221c03c081","uuid":"281d9cd4-6241-47eb-9457-d0b9403a41ea"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_dc4c740f_2c0d_43d8_b0ac_96221c03c081"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSSlave","uuid":"dc4c740f-2c0d-43d8-b0ac-96221c03c081"},"retries":"0","description":"","type":"VMOPERATION_AWS_VM","uuid":"a2dac477-9f0a-4e80-a12d-ef4ff70f115b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Aws_Operation_Restart_dc4c740f_2c0d_43d8_b0ac_96221c03c081"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSSlave","uuid":"dc4c740f-2c0d-43d8-b0ac-96221c03c081"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"281d9cd4-6241-47eb-9457-d0b9403a41ea","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"300","address":"@@{public_ip_address}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_AWSSlave_dc4c740f_2c0d_43d8_b0ac_96221c03c081"}],"description":"","message_list":[],"uuid":"efdb93bd-e6e5-4148-8fb0-76856e3f6c5e","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_dc4c740f_2c0d_43d8_b0ac_96221c03c081","uuid":"cd6696cb-9730-48bd-910f-a960d5d47133"},"name":"SYS_GEN__Runbook_Substrate_dc4c740f_2c0d_43d8_b0ac_96221c03c081"}},{"description":"System action for suspending an application","message_list":[],"uuid":"1bd580b9-ca08-42be-a529-533b0535d2d4","name":"action_suspend","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AWSSlave","uuid":"dc4c740f-2c0d-43d8-b0ac-96221c03c081"},"retries":"0","description":"","type":"DAG","uuid":"c54f85b5-850f-4a89-9b55-b91fe52cd901","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_dc4c740f_2c0d_43d8_b0ac_96221c03c081"}],"description":"","message_list":[],"uuid":"77b8de6a-15c5-41dd-8f75-60c55f910c40","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_dc4c740f_2c0d_43d8_b0ac_96221c03c081","uuid":"c54f85b5-850f-4a89-9b55-b91fe52cd901"},"name":"SYS_GEN__Runbook_Substrate_dc4c740f_2c0d_43d8_b0ac_96221c03c081"}},{"description":"System action for modifying an application","message_list":[],"uuid":"b2fa6086-e5a5-4480-8888-d09664a2253f","name":"action_modify","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AWSSlave","uuid":"dc4c740f-2c0d-43d8-b0ac-96221c03c081"},"retries":"0","description":"","type":"DAG","uuid":"94d3b9ef-233f-4f63-92e0-f89d3c59602e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_dc4c740f_2c0d_43d8_b0ac_96221c03c081"}],"description":"","message_list":[],"uuid":"a7826d6e-175a-41cf-a477-6d27be2c0300","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_dc4c740f_2c0d_43d8_b0ac_96221c03c081","uuid":"94d3b9ef-233f-4f63-92e0-f89d3c59602e"},"name":"SYS_GEN__Runbook_Substrate_dc4c740f_2c0d_43d8_b0ac_96221c03c081"}},{"description":"System action for powering off an application","message_list":[],"uuid":"13a4b84f-63d2-4020-934c-09e11ed42b16","name":"action_poweroff","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AWSSlave","uuid":"dc4c740f-2c0d-43d8-b0ac-96221c03c081"},"retries":"0","description":"","type":"DAG","uuid":"fd1fc508-1be1-4710-90db-5e51eda780eb","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Aws_Operation_PowerOff_dc4c740f_2c0d_43d8_b0ac_96221c03c081","uuid":"d49bb898-05f9-47f5-9cdc-f9b9415b6187"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_dc4c740f_2c0d_43d8_b0ac_96221c03c081"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSSlave","uuid":"dc4c740f-2c0d-43d8-b0ac-96221c03c081"},"retries":"0","description":"","type":"VMOPERATION_AWS_VM","uuid":"d49bb898-05f9-47f5-9cdc-f9b9415b6187","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Aws_Operation_PowerOff_dc4c740f_2c0d_43d8_b0ac_96221c03c081"}],"description":"","message_list":[],"uuid":"c0e088ab-b1e9-4479-9efd-d85ad5c32201","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_dc4c740f_2c0d_43d8_b0ac_96221c03c081","uuid":"fd1fc508-1be1-4710-90db-5e51eda780eb"},"name":"SYS_GEN__Runbook_Substrate_dc4c740f_2c0d_43d8_b0ac_96221c03c081"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"c1c2c67c-665e-472a-9396-69010ad485b5","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AWSSlave","uuid":"dc4c740f-2c0d-43d8-b0ac-96221c03c081"},"retries":"0","description":"","type":"DAG","uuid":"da129a6b-6ae6-43ed-ada0-0d55cc46149a","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Aws_Delete_dc4c740f_2c0d_43d8_b0ac_96221c03c081","uuid":"712341db-8e0f-4f21-a4ab-ea540e41c05a"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_dc4c740f_2c0d_43d8_b0ac_96221c03c081"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSSlave","uuid":"dc4c740f-2c0d-43d8-b0ac-96221c03c081"},"retries":"0","description":"","type":"DELETE_AWS_VM","uuid":"712341db-8e0f-4f21-a4ab-ea540e41c05a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Aws_Delete_dc4c740f_2c0d_43d8_b0ac_96221c03c081"}],"description":"","message_list":[],"uuid":"162c0efb-356f-44ba-a586-1d30e261ba7c","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_dc4c740f_2c0d_43d8_b0ac_96221c03c081","uuid":"da129a6b-6ae6-43ed-ada0-0d55cc46149a"},"name":"SYS_GEN__Runbook_Substrate_dc4c740f_2c0d_43d8_b0ac_96221c03c081"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"2abf5a15-3a1e-40a7-a758-95ae00a570e3","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AWSSlave","uuid":"dc4c740f-2c0d-43d8-b0ac-96221c03c081"},"retries":"0","description":"","type":"DAG","uuid":"89e2a34c-5b35-417b-ab7c-449987ba64f6","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Substrate_Element_Delete_dc4c740f_2c0d_43d8_b0ac_96221c03c081","uuid":"2adc5876-f48e-4e63-8fca-daf009bfdffd"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_dc4c740f_2c0d_43d8_b0ac_96221c03c081"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSSlave","uuid":"dc4c740f-2c0d-43d8-b0ac-96221c03c081"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"2adc5876-f48e-4e63-8fca-daf009bfdffd","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Substrate_Element_Delete_dc4c740f_2c0d_43d8_b0ac_96221c03c081"}],"description":"","message_list":[],"uuid":"c475f38c-f589-4f5b-907e-313744138adf","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_dc4c740f_2c0d_43d8_b0ac_96221c03c081","uuid":"89e2a34c-5b35-417b-ab7c-449987ba64f6"},"name":"SYS_GEN__Runbook_Substrate_dc4c740f_2c0d_43d8_b0ac_96221c03c081"}}],"message_list":[{"message":"Region is a required field","reason":"EMPTY_VALUE","details":[{"attribute_name":"region"}]}],"uuid":"dc4c740f-2c0d-43d8-b0ac-96221c03c081","state":"DRAFT","readiness_probe":{"connection_type":"SSH","retries":"5","disable_readiness_probe":false,"address":"@@{public_ip_address}@@","delay_secs":"0","connection_port":22,"login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"3ee7bf5d-2de9-4958-9b65-e30687c43f17"}},"editables":{"readiness_probe":{"connection_type":true,"delay_secs":true,"connection_port":true,"timeout_secs":true},"create_spec":{"name":true,"resources":{"instance_profile_name":true,"availability_zone":true,"subnet_id":true,"key_name":true,"region":true,"user_data":true,"image_id":true,"instance_type":true,"security_group_list":true,"block_device_map":{"data_disk_list":{"1":{"size_gb":true},"0":{"size_gb":true},"3":{"size_gb":true},"2":{"size_gb":true},"5":{"size_gb":true},"4":{"size_gb":true},"7":{"size_gb":true},"6":{"size_gb":true}},"root_disk":{"size_gb":true}},"associate_public_ip_address":true,"vpc_id":true,"tag_list":true}}},"os_type":"Linux","type":"AWS_VM","create_spec":{"name":"mysql-slave-@@{calm_array_index}@@-@@{calm_time}@@","availability_zone_reference":null,"backup_policy":null,"type":"PROVISION_AWS_VM","cluster_reference":null,"resources":{"instance_profile_name":"","instance_type":"","subnet_id":"","key_name":"","region":"","availability_zone":"","instance_initiated_shutdown_behavior":"","user_data":"","image_id":"","state":"RUNNING","security_group_list":[{"type":"","security_group_id":""}],"block_device_map":{"data_disk_list":[{"size_gb":50,"volume_type":"GP2","device_name":"\/dev\/sdb","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":50,"volume_type":"GP2","device_name":"\/dev\/sdc","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":50,"volume_type":"GP2","device_name":"\/dev\/sdd","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":50,"volume_type":"GP2","device_name":"\/dev\/sde","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":25,"volume_type":"GP2","device_name":"\/dev\/sdf","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":25,"volume_type":"GP2","device_name":"\/dev\/sdg","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":25,"volume_type":"GP2","device_name":"\/dev\/sdh","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":25,"volume_type":"GP2","device_name":"\/dev\/sdi","iops":1,"snapshot_id":"","type":"","delete_on_termination":true}],"type":"","root_disk":{"size_gb":10,"volume_type":"GP2","device_name":"\/dev\/sda1","iops":1,"snapshot_id":"","type":"","delete_on_termination":true}},"private_ip_address":"","vpc_id":"","tag_list":[],"type":"","account_uuid":"8c2e0a6b-620a-c62a-c3f4-e58b101dfd0d","associate_public_ip_address":true}},"variable_list":[],"name":"AWSSlave"},{"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"dfea9c30-dcc2-4366-89f4-53d939c644d4","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"GCPMaster","uuid":"e094d48b-d166-4e1f-9e53-217b1788fe12"},"retries":"0","description":"","type":"DAG","uuid":"4582b4f5-eeda-4cac-a46a-a7eb8f344b22","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Gcp_Provision_e094d48b_d166_4e1f_9e53_217b1788fe12","uuid":"89c77ecc-59ea-4713-b065-ae05701fa31d"},{"kind":"app_task","name":"SYS_GEN__check_login_for_GCPMaster_e094d48b_d166_4e1f_9e53_217b1788fe12","uuid":"6632ccc8-ad2a-4d1e-bdfc-0c20a048c6d7"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Gcp_Provision_e094d48b_d166_4e1f_9e53_217b1788fe12","uuid":"89c77ecc-59ea-4713-b065-ae05701fa31d"},"edge_type":"inherent","type":"","uuid":"3ae28cd5-efaf-4915-8562-7b15ff3a61ff","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_GCPMaster_e094d48b_d166_4e1f_9e53_217b1788fe12","uuid":"6632ccc8-ad2a-4d1e-bdfc-0c20a048c6d7"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_e094d48b_d166_4e1f_9e53_217b1788fe12"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPMaster","uuid":"e094d48b-d166-4e1f-9e53-217b1788fe12"},"retries":"0","description":"","type":"PROVISION_GCP_VM","uuid":"89c77ecc-59ea-4713-b065-ae05701fa31d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"PROVISION_GCP_VM","resources":{"labels":[],"machineType":"","description":"","zone":"","tags":{"items":["tensorflow"],"type":"","fingerprint":""},"guestCustomization":{"type":"","sysprep":"","startupScript":""},"labelFingerprint":"","disks":[{"diskEncryptionKey":{"rawKey":"","type":""},"deviceName":"","initializeParams":{"sourceImageEncryptionKey":{"rawKey":"","type":""},"diskName":"","diskType":"","diskSizeGb":-1,"sourceImage":"","type":""},"autoDelete":true,"boot":true,"source":"","mode":"","interface":"","disk_type":"PERSISTENT","type":""}],"metadata":{"items":[{"type":"","value":"centos:ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDMGAS\/K0Mb\/uwFXwD+hkjguy7VMZk2hpuhwPl9FUZwVBrURf\/i9QMJ5\/paPEZixu8VlRx7Inu4iun7rQfrnfeIYInmBwspXHYiTK3oHJAgZnrAHVEf1p6YaxLINlT1NI5yOAGPRWW6of8rBDBH1ObwU2+wcSx\/1H0uIs3aZNLufr+Rh628ACxAum2Gt8AVRj6ua2BPFyt5VTdclyysAmeh1AiixNgOZXOz6y\/i4TbzpY78I3isuKpxsUeXX6jxEMQol406jHDUF6njEOPIQG2zVZ3QJlTG9OlN+NiyZG9WkZz0VG\/6M8ixxIHHI2dNwUbBFv2HUu+8X9LTLFq2O7KjX9Hp7uZKBAySHA3eKaKHIp2bZuU1bT5PRPkggngX86xg+T+OMNnutbAiMnRJ8+FvD5So+5TIx4b9GgxAxure3x2yRPT9lOiQOB+CVpJPxR0Rn9bOI+wiPnD0kAGvK\/fHT+pqL4PM+hTnJtp9rrCRzIQApBx1263jEcYffhW2epZQRO+he5CMawFJ5TBe08om2AaDJ8GQdrpF6YA3W8DzHbmL3DPVVHdmqPLn10o+LX4gv5SdIIDVGdjKOc1BCnLTRmM28d5+sLDt\/M+kvcQgf0y0yDjMVjGECZkt39hbm4ELMHzZtzYLmHNhBZxRqHeJ7qFTuv1kx88OW3Xc5mbBNQ== centos@nutanix.com","key":"ssh-keys"}],"type":"","fingerprint":""},"sshKeys":["centos:ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDMGAS\/K0Mb\/uwFXwD+hkjguy7VMZk2hpuhwPl9FUZwVBrURf\/i9QMJ5\/paPEZixu8VlRx7Inu4iun7rQfrnfeIYInmBwspXHYiTK3oHJAgZnrAHVEf1p6YaxLINlT1NI5yOAGPRWW6of8rBDBH1ObwU2+wcSx\/1H0uIs3aZNLufr+Rh628ACxAum2Gt8AVRj6ua2BPFyt5VTdclyysAmeh1AiixNgOZXOz6y\/i4TbzpY78I3isuKpxsUeXX6jxEMQol406jHDUF6njEOPIQG2zVZ3QJlTG9OlN+NiyZG9WkZz0VG\/6M8ixxIHHI2dNwUbBFv2HUu+8X9LTLFq2O7KjX9Hp7uZKBAySHA3eKaKHIp2bZuU1bT5PRPkggngX86xg+T+OMNnutbAiMnRJ8+FvD5So+5TIx4b9GgxAxure3x2yRPT9lOiQOB+CVpJPxR0Rn9bOI+wiPnD0kAGvK\/fHT+pqL4PM+hTnJtp9rrCRzIQApBx1263jEcYffhW2epZQRO+he5CMawFJ5TBe08om2AaDJ8GQdrpF6YA3W8DzHbmL3DPVVHdmqPLn10o+LX4gv5SdIIDVGdjKOc1BCnLTRmM28d5+sLDt\/M+kvcQgf0y0yDjMVjGECZkt39hbm4ELMHzZtzYLmHNhBZxRqHeJ7qFTuv1kx88OW3Xc5mbBNQ== centos@nutanix.com\n"],"minCpuPlatform":"","scheduling":{"automaticRestart":true,"type":"","preemptible":false,"onHostMaintenance":"TERMINATE"},"canIpForward":false,"blankDisks":[{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-master-dev-0-@@{calm_time}@@","sizeGb":50,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-master-dev-1-@@{calm_time}@@","sizeGb":50,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-master-dev-2-@@{calm_time}@@","sizeGb":50,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-master-dev-3-@@{calm_time}@@","sizeGb":50,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-master-dev-4-@@{calm_time}@@","sizeGb":25,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-master-dev-5-@@{calm_time}@@","sizeGb":25,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-master-dev-6-@@{calm_time}@@","sizeGb":25,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-master-dev-7-@@{calm_time}@@","sizeGb":25,"autoDelete":true}],"networkInterfaces":[{"aliasIpRanges":[],"network":"","accessConfigs":[{"config_type":"ONE_TO_ONE_NAT","type":"","name":"master-default-acn","natIP":""}],"networkIP":"","subnetwork":"","type":"","associatePublicIP":true}],"type":"","account_uuid":"84213a31-4fe8-7e39-3799-e093e5d0dc2e","serviceAccounts":[{"scopes":[],"type":"","email":"108048128720-compute@developer.gserviceaccount.com"}],"name":"mysql-master-@@{calm_time}@@"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Gcp_Provision_e094d48b_d166_4e1f_9e53_217b1788fe12"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPMaster","uuid":"e094d48b-d166-4e1f-9e53-217b1788fe12"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"6632ccc8-ad2a-4d1e-bdfc-0c20a048c6d7","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"300","address":"@@{public_ip_address}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_GCPMaster_e094d48b_d166_4e1f_9e53_217b1788fe12"}],"description":"","message_list":[],"uuid":"e0c7bfb3-181e-405d-bc35-722ea27eb5ca","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_e094d48b_d166_4e1f_9e53_217b1788fe12","uuid":"4582b4f5-eeda-4cac-a46a-a7eb8f344b22"},"name":"SYS_GEN__Runbook_Substrate_e094d48b_d166_4e1f_9e53_217b1788fe12"}},{"description":"System action for powering on an application","message_list":[],"uuid":"8f4cec76-9876-4f25-8d8e-84420c2e9e61","name":"action_poweron","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"GCPMaster","uuid":"e094d48b-d166-4e1f-9e53-217b1788fe12"},"retries":"0","description":"","type":"DAG","uuid":"b708f81d-25f7-4588-998d-81951c14cfb7","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Gcp_Operation_PowerOn_e094d48b_d166_4e1f_9e53_217b1788fe12","uuid":"38521121-d5ea-47eb-bb1d-f31a7b2da0d8"},{"kind":"app_task","name":"SYS_GEN__check_login_for_GCPMaster_e094d48b_d166_4e1f_9e53_217b1788fe12","uuid":"1c3310bd-27ac-457f-b314-ec21bbaba490"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Gcp_Operation_PowerOn_e094d48b_d166_4e1f_9e53_217b1788fe12","uuid":"38521121-d5ea-47eb-bb1d-f31a7b2da0d8"},"edge_type":"inherent","type":"","uuid":"da787c9d-56ec-49f9-bf69-f45ae271c8f3","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_GCPMaster_e094d48b_d166_4e1f_9e53_217b1788fe12","uuid":"1c3310bd-27ac-457f-b314-ec21bbaba490"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_e094d48b_d166_4e1f_9e53_217b1788fe12"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPMaster","uuid":"e094d48b-d166-4e1f-9e53-217b1788fe12"},"retries":"0","description":"","type":"VMOPERATION_GCP_VM","uuid":"38521121-d5ea-47eb-bb1d-f31a7b2da0d8","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Gcp_Operation_PowerOn_e094d48b_d166_4e1f_9e53_217b1788fe12"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPMaster","uuid":"e094d48b-d166-4e1f-9e53-217b1788fe12"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"1c3310bd-27ac-457f-b314-ec21bbaba490","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"300","address":"@@{public_ip_address}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_GCPMaster_e094d48b_d166_4e1f_9e53_217b1788fe12"}],"description":"","message_list":[],"uuid":"de0db75c-73e4-4a27-b3d0-81dc3948225c","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_e094d48b_d166_4e1f_9e53_217b1788fe12","uuid":"b708f81d-25f7-4588-998d-81951c14cfb7"},"name":"SYS_GEN__Runbook_Substrate_e094d48b_d166_4e1f_9e53_217b1788fe12"}},{"description":"System action for restarting an application","message_list":[],"uuid":"225c9d5e-296a-4d10-93ce-0d6623971612","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"GCPMaster","uuid":"e094d48b-d166-4e1f-9e53-217b1788fe12"},"retries":"0","description":"","type":"DAG","uuid":"b6cfab1e-9990-4630-a7f5-87ed3712d865","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Gcp_Operation_Restart_e094d48b_d166_4e1f_9e53_217b1788fe12","uuid":"6a6e6ddb-cfbf-47dc-8d15-45374edd4a42"},{"kind":"app_task","name":"SYS_GEN__check_login_for_GCPMaster_e094d48b_d166_4e1f_9e53_217b1788fe12","uuid":"177f688c-1b10-465f-b491-d3b7b339eda8"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Gcp_Operation_Restart_e094d48b_d166_4e1f_9e53_217b1788fe12","uuid":"6a6e6ddb-cfbf-47dc-8d15-45374edd4a42"},"edge_type":"inherent","type":"","uuid":"188f78db-6599-4526-9d35-9e3c9dfd0155","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_GCPMaster_e094d48b_d166_4e1f_9e53_217b1788fe12","uuid":"177f688c-1b10-465f-b491-d3b7b339eda8"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_e094d48b_d166_4e1f_9e53_217b1788fe12"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPMaster","uuid":"e094d48b-d166-4e1f-9e53-217b1788fe12"},"retries":"0","description":"","type":"VMOPERATION_GCP_VM","uuid":"6a6e6ddb-cfbf-47dc-8d15-45374edd4a42","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Gcp_Operation_Restart_e094d48b_d166_4e1f_9e53_217b1788fe12"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPMaster","uuid":"e094d48b-d166-4e1f-9e53-217b1788fe12"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"177f688c-1b10-465f-b491-d3b7b339eda8","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"300","address":"@@{public_ip_address}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_GCPMaster_e094d48b_d166_4e1f_9e53_217b1788fe12"}],"description":"","message_list":[],"uuid":"fccc3307-aecf-47f4-8593-0247a2f3651e","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_e094d48b_d166_4e1f_9e53_217b1788fe12","uuid":"b6cfab1e-9990-4630-a7f5-87ed3712d865"},"name":"SYS_GEN__Runbook_Substrate_e094d48b_d166_4e1f_9e53_217b1788fe12"}},{"description":"System action for suspending an application","message_list":[],"uuid":"efc257d6-0c6d-4dc2-ac74-9d79866c7d04","name":"action_suspend","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"GCPMaster","uuid":"e094d48b-d166-4e1f-9e53-217b1788fe12"},"retries":"0","description":"","type":"DAG","uuid":"3fd4575d-143b-4bd5-a11b-f9c13c5aa52a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_e094d48b_d166_4e1f_9e53_217b1788fe12"}],"description":"","message_list":[],"uuid":"827a2974-b046-4200-8aad-a99ab8484427","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_e094d48b_d166_4e1f_9e53_217b1788fe12","uuid":"3fd4575d-143b-4bd5-a11b-f9c13c5aa52a"},"name":"SYS_GEN__Runbook_Substrate_e094d48b_d166_4e1f_9e53_217b1788fe12"}},{"description":"System action for modifying an application","message_list":[],"uuid":"6677b3cf-8219-4a74-89a3-4e154d4bf448","name":"action_modify","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"GCPMaster","uuid":"e094d48b-d166-4e1f-9e53-217b1788fe12"},"retries":"0","description":"","type":"DAG","uuid":"d2890fe4-ce89-4a86-b990-468b6574fdc5","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_e094d48b_d166_4e1f_9e53_217b1788fe12"}],"description":"","message_list":[],"uuid":"26702079-3130-4cdc-9072-b8f061c2a970","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_e094d48b_d166_4e1f_9e53_217b1788fe12","uuid":"d2890fe4-ce89-4a86-b990-468b6574fdc5"},"name":"SYS_GEN__Runbook_Substrate_e094d48b_d166_4e1f_9e53_217b1788fe12"}},{"description":"System action for powering off an application","message_list":[],"uuid":"3b0ee3b1-bac2-4aef-8d04-372b7f147299","name":"action_poweroff","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"GCPMaster","uuid":"e094d48b-d166-4e1f-9e53-217b1788fe12"},"retries":"0","description":"","type":"DAG","uuid":"87f943b6-1d9a-4f81-ad3d-a08c0af1db3f","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Gcp_Operation_PowerOff_e094d48b_d166_4e1f_9e53_217b1788fe12","uuid":"35bd1a8d-d82b-4f88-b938-f83ceb02a1d6"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_e094d48b_d166_4e1f_9e53_217b1788fe12"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPMaster","uuid":"e094d48b-d166-4e1f-9e53-217b1788fe12"},"retries":"0","description":"","type":"VMOPERATION_GCP_VM","uuid":"35bd1a8d-d82b-4f88-b938-f83ceb02a1d6","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Gcp_Operation_PowerOff_e094d48b_d166_4e1f_9e53_217b1788fe12"}],"description":"","message_list":[],"uuid":"4188e333-9fbf-4731-b464-b41a89c4c3d0","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_e094d48b_d166_4e1f_9e53_217b1788fe12","uuid":"87f943b6-1d9a-4f81-ad3d-a08c0af1db3f"},"name":"SYS_GEN__Runbook_Substrate_e094d48b_d166_4e1f_9e53_217b1788fe12"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"e98f1e91-c441-4afc-a4de-23dbef3adbb3","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"GCPMaster","uuid":"e094d48b-d166-4e1f-9e53-217b1788fe12"},"retries":"0","description":"","type":"DAG","uuid":"6c8db378-a4d2-4e4a-aa84-03384409cdd9","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Gcp_Delete_e094d48b_d166_4e1f_9e53_217b1788fe12","uuid":"796fc771-33e6-41ae-a62d-410a9e33f9cb"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_e094d48b_d166_4e1f_9e53_217b1788fe12"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPMaster","uuid":"e094d48b-d166-4e1f-9e53-217b1788fe12"},"retries":"0","description":"","type":"DELETE_GCP_VM","uuid":"796fc771-33e6-41ae-a62d-410a9e33f9cb","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Gcp_Delete_e094d48b_d166_4e1f_9e53_217b1788fe12"}],"description":"","message_list":[],"uuid":"d97bc120-c85a-46d4-b0d3-3205eaf04507","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_e094d48b_d166_4e1f_9e53_217b1788fe12","uuid":"6c8db378-a4d2-4e4a-aa84-03384409cdd9"},"name":"SYS_GEN__Runbook_Substrate_e094d48b_d166_4e1f_9e53_217b1788fe12"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"9f5b1c8e-85c1-40d5-9c75-31c878c54372","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"GCPMaster","uuid":"e094d48b-d166-4e1f-9e53-217b1788fe12"},"retries":"0","description":"","type":"DAG","uuid":"33b6b5f4-9d8e-4bc8-a1d2-01e652e515e8","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Substrate_Element_Delete_e094d48b_d166_4e1f_9e53_217b1788fe12","uuid":"d028461d-bb24-49ec-ac32-8e24360497bb"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_e094d48b_d166_4e1f_9e53_217b1788fe12"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPMaster","uuid":"e094d48b-d166-4e1f-9e53-217b1788fe12"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"d028461d-bb24-49ec-ac32-8e24360497bb","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Substrate_Element_Delete_e094d48b_d166_4e1f_9e53_217b1788fe12"}],"description":"","message_list":[],"uuid":"cf84d4db-a9aa-4f26-8f11-f6a78755ff67","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_e094d48b_d166_4e1f_9e53_217b1788fe12","uuid":"33b6b5f4-9d8e-4bc8-a1d2-01e652e515e8"},"name":"SYS_GEN__Runbook_Substrate_e094d48b_d166_4e1f_9e53_217b1788fe12"}}],"message_list":[{"message":"Zone is a required field","reason":"EMPTY_VALUE","details":[{"attribute_name":"zone"}]},{"message":"Machine type is a required field","reason":"EMPTY_VALUE","details":[{"attribute_name":"machineType"}]},{"message":"Either source image or disk source should be specified in custom disks","reason":"MISSING_VALUE","details":[{"attribute_name":"source"}]}],"uuid":"e094d48b-d166-4e1f-9e53-217b1788fe12","state":"DRAFT","readiness_probe":{"connection_type":"SSH","retries":"5","disable_readiness_probe":false,"address":"@@{public_ip_address}@@","delay_secs":"0","connection_port":22,"login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"3ee7bf5d-2de9-4958-9b65-e30687c43f17"}},"editables":{"readiness_probe":{"connection_type":true,"connection_port":true,"timeout_secs":true},"create_spec":{"resources":{"labels":true,"machineType":true,"name":true,"tags":{"items":true},"disks":{"0":{"initializeParams":{"diskSizeGb":true,"sourceImage":true,"diskType":true},"autoDelete":true}},"blankDisks":{"1":{"disk_type":true,"name":true,"sizeGb":true,"autoDelete":true},"0":{"disk_type":true,"name":true,"sizeGb":true,"autoDelete":true},"3":{"disk_type":true,"name":true,"sizeGb":true,"autoDelete":true},"2":{"disk_type":true,"name":true,"sizeGb":true,"autoDelete":true},"5":{"disk_type":true,"name":true,"sizeGb":true,"autoDelete":true},"4":{"disk_type":true,"name":true,"sizeGb":true,"autoDelete":true},"7":{"disk_type":true,"name":true,"sizeGb":true,"autoDelete":true},"6":{"disk_type":true,"name":true,"sizeGb":true,"autoDelete":true}},"sshKeys":{"0":true},"serviceAccounts":{"0":{"scopes":true}},"metadata":{"items":true}}}},"os_type":"Linux","type":"GCP_VM","create_spec":{"type":"PROVISION_GCP_VM","resources":{"labels":[],"machineType":"","description":"","zone":"","tags":{"items":["tensorflow"],"type":"","fingerprint":""},"guestCustomization":{"type":"","sysprep":"","startupScript":""},"labelFingerprint":"","disks":[{"diskEncryptionKey":{"rawKey":"","type":""},"deviceName":"","initializeParams":{"sourceImageEncryptionKey":{"rawKey":"","type":""},"diskName":"","diskType":"","diskSizeGb":-1,"sourceImage":"","type":""},"autoDelete":true,"boot":true,"source":"","mode":"","interface":"","disk_type":"PERSISTENT","type":""}],"metadata":{"items":[{"type":"","value":"centos:ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDMGAS\/K0Mb\/uwFXwD+hkjguy7VMZk2hpuhwPl9FUZwVBrURf\/i9QMJ5\/paPEZixu8VlRx7Inu4iun7rQfrnfeIYInmBwspXHYiTK3oHJAgZnrAHVEf1p6YaxLINlT1NI5yOAGPRWW6of8rBDBH1ObwU2+wcSx\/1H0uIs3aZNLufr+Rh628ACxAum2Gt8AVRj6ua2BPFyt5VTdclyysAmeh1AiixNgOZXOz6y\/i4TbzpY78I3isuKpxsUeXX6jxEMQol406jHDUF6njEOPIQG2zVZ3QJlTG9OlN+NiyZG9WkZz0VG\/6M8ixxIHHI2dNwUbBFv2HUu+8X9LTLFq2O7KjX9Hp7uZKBAySHA3eKaKHIp2bZuU1bT5PRPkggngX86xg+T+OMNnutbAiMnRJ8+FvD5So+5TIx4b9GgxAxure3x2yRPT9lOiQOB+CVpJPxR0Rn9bOI+wiPnD0kAGvK\/fHT+pqL4PM+hTnJtp9rrCRzIQApBx1263jEcYffhW2epZQRO+he5CMawFJ5TBe08om2AaDJ8GQdrpF6YA3W8DzHbmL3DPVVHdmqPLn10o+LX4gv5SdIIDVGdjKOc1BCnLTRmM28d5+sLDt\/M+kvcQgf0y0yDjMVjGECZkt39hbm4ELMHzZtzYLmHNhBZxRqHeJ7qFTuv1kx88OW3Xc5mbBNQ== centos@nutanix.com","key":"ssh-keys"}],"type":"","fingerprint":""},"sshKeys":["centos:ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDMGAS\/K0Mb\/uwFXwD+hkjguy7VMZk2hpuhwPl9FUZwVBrURf\/i9QMJ5\/paPEZixu8VlRx7Inu4iun7rQfrnfeIYInmBwspXHYiTK3oHJAgZnrAHVEf1p6YaxLINlT1NI5yOAGPRWW6of8rBDBH1ObwU2+wcSx\/1H0uIs3aZNLufr+Rh628ACxAum2Gt8AVRj6ua2BPFyt5VTdclyysAmeh1AiixNgOZXOz6y\/i4TbzpY78I3isuKpxsUeXX6jxEMQol406jHDUF6njEOPIQG2zVZ3QJlTG9OlN+NiyZG9WkZz0VG\/6M8ixxIHHI2dNwUbBFv2HUu+8X9LTLFq2O7KjX9Hp7uZKBAySHA3eKaKHIp2bZuU1bT5PRPkggngX86xg+T+OMNnutbAiMnRJ8+FvD5So+5TIx4b9GgxAxure3x2yRPT9lOiQOB+CVpJPxR0Rn9bOI+wiPnD0kAGvK\/fHT+pqL4PM+hTnJtp9rrCRzIQApBx1263jEcYffhW2epZQRO+he5CMawFJ5TBe08om2AaDJ8GQdrpF6YA3W8DzHbmL3DPVVHdmqPLn10o+LX4gv5SdIIDVGdjKOc1BCnLTRmM28d5+sLDt\/M+kvcQgf0y0yDjMVjGECZkt39hbm4ELMHzZtzYLmHNhBZxRqHeJ7qFTuv1kx88OW3Xc5mbBNQ== centos@nutanix.com\n"],"minCpuPlatform":"","scheduling":{"automaticRestart":true,"type":"","preemptible":false,"onHostMaintenance":"TERMINATE"},"canIpForward":false,"blankDisks":[{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-master-dev-0-@@{calm_time}@@","sizeGb":50,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-master-dev-1-@@{calm_time}@@","sizeGb":50,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-master-dev-2-@@{calm_time}@@","sizeGb":50,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-master-dev-3-@@{calm_time}@@","sizeGb":50,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-master-dev-4-@@{calm_time}@@","sizeGb":25,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-master-dev-5-@@{calm_time}@@","sizeGb":25,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-master-dev-6-@@{calm_time}@@","sizeGb":25,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-master-dev-7-@@{calm_time}@@","sizeGb":25,"autoDelete":true}],"networkInterfaces":[{"aliasIpRanges":[],"network":"","accessConfigs":[{"config_type":"ONE_TO_ONE_NAT","type":"","name":"master-default-acn","natIP":""}],"networkIP":"","subnetwork":"","type":"","associatePublicIP":true}],"type":"","account_uuid":"84213a31-4fe8-7e39-3799-e093e5d0dc2e","serviceAccounts":[{"scopes":[],"type":"","email":"108048128720-compute@developer.gserviceaccount.com"}],"name":"mysql-master-@@{calm_time}@@"}},"variable_list":[],"name":"GCPMaster"},{"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"e094e82a-3182-44b5-ad12-b3820bd92039","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"GCPSlave","uuid":"824702a6-ed10-4d8b-8046-50ccea53a3c1"},"retries":"0","description":"","type":"DAG","uuid":"de770136-0bcc-4910-bdd6-3813d40eb8b8","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Gcp_Provision_824702a6_ed10_4d8b_8046_50ccea53a3c1","uuid":"21f490dc-dd3b-4857-8666-15ac3227cfdb"},{"kind":"app_task","name":"SYS_GEN__check_login_for_GCPSlave_824702a6_ed10_4d8b_8046_50ccea53a3c1","uuid":"476f2909-d91d-418d-b41d-eac9467131af"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Gcp_Provision_824702a6_ed10_4d8b_8046_50ccea53a3c1","uuid":"21f490dc-dd3b-4857-8666-15ac3227cfdb"},"edge_type":"inherent","type":"","uuid":"0c46ade1-4775-4021-a8b2-bb8296352202","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_GCPSlave_824702a6_ed10_4d8b_8046_50ccea53a3c1","uuid":"476f2909-d91d-418d-b41d-eac9467131af"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_824702a6_ed10_4d8b_8046_50ccea53a3c1"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPSlave","uuid":"824702a6-ed10-4d8b-8046-50ccea53a3c1"},"retries":"0","description":"","type":"PROVISION_GCP_VM","uuid":"21f490dc-dd3b-4857-8666-15ac3227cfdb","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"PROVISION_GCP_VM","resources":{"labels":[],"machineType":"","description":"","zone":"","tags":{"items":["tensorflow"],"type":"","fingerprint":""},"guestCustomization":{"type":"","sysprep":"","startupScript":""},"labelFingerprint":"","disks":[{"diskEncryptionKey":{"rawKey":"","type":""},"deviceName":"","initializeParams":{"sourceImageEncryptionKey":{"rawKey":"","type":""},"diskName":"","diskType":"","diskSizeGb":-1,"sourceImage":"","type":""},"autoDelete":true,"boot":true,"source":"","mode":"","interface":"","disk_type":"PERSISTENT","type":""}],"metadata":{"items":[{"type":"","value":"centos:ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDMGAS\/K0Mb\/uwFXwD+hkjguy7VMZk2hpuhwPl9FUZwVBrURf\/i9QMJ5\/paPEZixu8VlRx7Inu4iun7rQfrnfeIYInmBwspXHYiTK3oHJAgZnrAHVEf1p6YaxLINlT1NI5yOAGPRWW6of8rBDBH1ObwU2+wcSx\/1H0uIs3aZNLufr+Rh628ACxAum2Gt8AVRj6ua2BPFyt5VTdclyysAmeh1AiixNgOZXOz6y\/i4TbzpY78I3isuKpxsUeXX6jxEMQol406jHDUF6njEOPIQG2zVZ3QJlTG9OlN+NiyZG9WkZz0VG\/6M8ixxIHHI2dNwUbBFv2HUu+8X9LTLFq2O7KjX9Hp7uZKBAySHA3eKaKHIp2bZuU1bT5PRPkggngX86xg+T+OMNnutbAiMnRJ8+FvD5So+5TIx4b9GgxAxure3x2yRPT9lOiQOB+CVpJPxR0Rn9bOI+wiPnD0kAGvK\/fHT+pqL4PM+hTnJtp9rrCRzIQApBx1263jEcYffhW2epZQRO+he5CMawFJ5TBe08om2AaDJ8GQdrpF6YA3W8DzHbmL3DPVVHdmqPLn10o+LX4gv5SdIIDVGdjKOc1BCnLTRmM28d5+sLDt\/M+kvcQgf0y0yDjMVjGECZkt39hbm4ELMHzZtzYLmHNhBZxRqHeJ7qFTuv1kx88OW3Xc5mbBNQ== centos@nutanix.com","key":"ssh-keys"}],"type":"","fingerprint":""},"sshKeys":["centos:ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDMGAS\/K0Mb\/uwFXwD+hkjguy7VMZk2hpuhwPl9FUZwVBrURf\/i9QMJ5\/paPEZixu8VlRx7Inu4iun7rQfrnfeIYInmBwspXHYiTK3oHJAgZnrAHVEf1p6YaxLINlT1NI5yOAGPRWW6of8rBDBH1ObwU2+wcSx\/1H0uIs3aZNLufr+Rh628ACxAum2Gt8AVRj6ua2BPFyt5VTdclyysAmeh1AiixNgOZXOz6y\/i4TbzpY78I3isuKpxsUeXX6jxEMQol406jHDUF6njEOPIQG2zVZ3QJlTG9OlN+NiyZG9WkZz0VG\/6M8ixxIHHI2dNwUbBFv2HUu+8X9LTLFq2O7KjX9Hp7uZKBAySHA3eKaKHIp2bZuU1bT5PRPkggngX86xg+T+OMNnutbAiMnRJ8+FvD5So+5TIx4b9GgxAxure3x2yRPT9lOiQOB+CVpJPxR0Rn9bOI+wiPnD0kAGvK\/fHT+pqL4PM+hTnJtp9rrCRzIQApBx1263jEcYffhW2epZQRO+he5CMawFJ5TBe08om2AaDJ8GQdrpF6YA3W8DzHbmL3DPVVHdmqPLn10o+LX4gv5SdIIDVGdjKOc1BCnLTRmM28d5+sLDt\/M+kvcQgf0y0yDjMVjGECZkt39hbm4ELMHzZtzYLmHNhBZxRqHeJ7qFTuv1kx88OW3Xc5mbBNQ== centos@nutanix.com\n"],"minCpuPlatform":"","scheduling":{"automaticRestart":true,"type":"","preemptible":false,"onHostMaintenance":"TERMINATE"},"canIpForward":false,"blankDisks":[{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-slave-dev-0-@@{calm_time}@@","sizeGb":50,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-slave-dev-1-@@{calm_time}@@","sizeGb":50,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-slave-dev-2-@@{calm_time}@@","sizeGb":50,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-slave-dev-3-@@{calm_time}@@","sizeGb":50,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-slave-dev-4-@@{calm_time}@@","sizeGb":25,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-slave-dev-5-@@{calm_time}@@","sizeGb":25,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-slave-dev-6-@@{calm_time}@@","sizeGb":25,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-slave-dev-7-@@{calm_time}@@","sizeGb":25,"autoDelete":true}],"networkInterfaces":[{"aliasIpRanges":[],"network":"","accessConfigs":[{"config_type":"ONE_TO_ONE_NAT","type":"","name":"slave-default-acn","natIP":""}],"networkIP":"","subnetwork":"","type":"","associatePublicIP":true}],"type":"","account_uuid":"84213a31-4fe8-7e39-3799-e093e5d0dc2e","serviceAccounts":[{"scopes":[],"type":"","email":""}],"name":"mysql-slave-@@{calm_array_index}@@-@@{calm_time}@@"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Gcp_Provision_824702a6_ed10_4d8b_8046_50ccea53a3c1"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPSlave","uuid":"824702a6-ed10-4d8b-8046-50ccea53a3c1"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"476f2909-d91d-418d-b41d-eac9467131af","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"300","address":"@@{public_ip_address}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_GCPSlave_824702a6_ed10_4d8b_8046_50ccea53a3c1"}],"description":"","message_list":[],"uuid":"7424dfb2-8561-468c-9734-fb98f4eb5cd9","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_824702a6_ed10_4d8b_8046_50ccea53a3c1","uuid":"de770136-0bcc-4910-bdd6-3813d40eb8b8"},"name":"SYS_GEN__Runbook_Substrate_824702a6_ed10_4d8b_8046_50ccea53a3c1"}},{"description":"System action for powering on an application","message_list":[],"uuid":"3b3eb91c-bf40-47ec-904b-8b0e4a5c2140","name":"action_poweron","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"GCPSlave","uuid":"824702a6-ed10-4d8b-8046-50ccea53a3c1"},"retries":"0","description":"","type":"DAG","uuid":"4d9bcfb1-001c-419c-ae68-817059a703d8","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Gcp_Operation_PowerOn_824702a6_ed10_4d8b_8046_50ccea53a3c1","uuid":"726fa508-e9c1-430f-9109-b6c82abe153f"},{"kind":"app_task","name":"SYS_GEN__check_login_for_GCPSlave_824702a6_ed10_4d8b_8046_50ccea53a3c1","uuid":"b7ae85e4-96bf-43af-be70-99d633fb2cfe"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Gcp_Operation_PowerOn_824702a6_ed10_4d8b_8046_50ccea53a3c1","uuid":"726fa508-e9c1-430f-9109-b6c82abe153f"},"edge_type":"inherent","type":"","uuid":"c8a4428d-01d6-4864-9862-f49a6bc998a7","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_GCPSlave_824702a6_ed10_4d8b_8046_50ccea53a3c1","uuid":"b7ae85e4-96bf-43af-be70-99d633fb2cfe"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_824702a6_ed10_4d8b_8046_50ccea53a3c1"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPSlave","uuid":"824702a6-ed10-4d8b-8046-50ccea53a3c1"},"retries":"0","description":"","type":"VMOPERATION_GCP_VM","uuid":"726fa508-e9c1-430f-9109-b6c82abe153f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Gcp_Operation_PowerOn_824702a6_ed10_4d8b_8046_50ccea53a3c1"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPSlave","uuid":"824702a6-ed10-4d8b-8046-50ccea53a3c1"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"b7ae85e4-96bf-43af-be70-99d633fb2cfe","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"300","address":"@@{public_ip_address}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_GCPSlave_824702a6_ed10_4d8b_8046_50ccea53a3c1"}],"description":"","message_list":[],"uuid":"0f067b97-633c-432d-bcbe-a2892aa310e5","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_824702a6_ed10_4d8b_8046_50ccea53a3c1","uuid":"4d9bcfb1-001c-419c-ae68-817059a703d8"},"name":"SYS_GEN__Runbook_Substrate_824702a6_ed10_4d8b_8046_50ccea53a3c1"}},{"description":"System action for restarting an application","message_list":[],"uuid":"67f57a53-0996-4506-a929-3fe72ceaa0f3","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"GCPSlave","uuid":"824702a6-ed10-4d8b-8046-50ccea53a3c1"},"retries":"0","description":"","type":"DAG","uuid":"987e4936-4ab0-4bd5-8434-524461a67c04","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Gcp_Operation_Restart_824702a6_ed10_4d8b_8046_50ccea53a3c1","uuid":"2a9649fd-7c54-4aef-9729-5f475dabec89"},{"kind":"app_task","name":"SYS_GEN__check_login_for_GCPSlave_824702a6_ed10_4d8b_8046_50ccea53a3c1","uuid":"3bac9a09-f0e0-474e-ab14-078ddbbf2cbf"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Gcp_Operation_Restart_824702a6_ed10_4d8b_8046_50ccea53a3c1","uuid":"2a9649fd-7c54-4aef-9729-5f475dabec89"},"edge_type":"inherent","type":"","uuid":"5fa6dfca-9843-4a00-bebd-8cde6aba54e6","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_GCPSlave_824702a6_ed10_4d8b_8046_50ccea53a3c1","uuid":"3bac9a09-f0e0-474e-ab14-078ddbbf2cbf"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_824702a6_ed10_4d8b_8046_50ccea53a3c1"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPSlave","uuid":"824702a6-ed10-4d8b-8046-50ccea53a3c1"},"retries":"0","description":"","type":"VMOPERATION_GCP_VM","uuid":"2a9649fd-7c54-4aef-9729-5f475dabec89","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Gcp_Operation_Restart_824702a6_ed10_4d8b_8046_50ccea53a3c1"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPSlave","uuid":"824702a6-ed10-4d8b-8046-50ccea53a3c1"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"3bac9a09-f0e0-474e-ab14-078ddbbf2cbf","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"300","address":"@@{public_ip_address}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_GCPSlave_824702a6_ed10_4d8b_8046_50ccea53a3c1"}],"description":"","message_list":[],"uuid":"3a3535f4-41a4-4b64-b6a6-7ff417a188e7","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_824702a6_ed10_4d8b_8046_50ccea53a3c1","uuid":"987e4936-4ab0-4bd5-8434-524461a67c04"},"name":"SYS_GEN__Runbook_Substrate_824702a6_ed10_4d8b_8046_50ccea53a3c1"}},{"description":"System action for suspending an application","message_list":[],"uuid":"8606fa93-0a28-46e3-97f8-118ebbe74215","name":"action_suspend","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"GCPSlave","uuid":"824702a6-ed10-4d8b-8046-50ccea53a3c1"},"retries":"0","description":"","type":"DAG","uuid":"08ae0374-81a2-4da4-a583-96b7107b23ea","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_824702a6_ed10_4d8b_8046_50ccea53a3c1"}],"description":"","message_list":[],"uuid":"24c44536-7fa6-4b8c-bd5b-cfa0adcb680b","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_824702a6_ed10_4d8b_8046_50ccea53a3c1","uuid":"08ae0374-81a2-4da4-a583-96b7107b23ea"},"name":"SYS_GEN__Runbook_Substrate_824702a6_ed10_4d8b_8046_50ccea53a3c1"}},{"description":"System action for modifying an application","message_list":[],"uuid":"00066035-5084-4a75-ae30-90ca66510046","name":"action_modify","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"GCPSlave","uuid":"824702a6-ed10-4d8b-8046-50ccea53a3c1"},"retries":"0","description":"","type":"DAG","uuid":"8e3c3e41-b2de-4ed2-9079-21b2ae17ab72","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_824702a6_ed10_4d8b_8046_50ccea53a3c1"}],"description":"","message_list":[],"uuid":"d0901c12-9382-4e22-b1a3-3dde82cd3310","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_824702a6_ed10_4d8b_8046_50ccea53a3c1","uuid":"8e3c3e41-b2de-4ed2-9079-21b2ae17ab72"},"name":"SYS_GEN__Runbook_Substrate_824702a6_ed10_4d8b_8046_50ccea53a3c1"}},{"description":"System action for powering off an application","message_list":[],"uuid":"b658fb09-7062-478c-908d-167075710cb8","name":"action_poweroff","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"GCPSlave","uuid":"824702a6-ed10-4d8b-8046-50ccea53a3c1"},"retries":"0","description":"","type":"DAG","uuid":"6544ff3b-f8b4-438f-a5b7-347195109dec","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Gcp_Operation_PowerOff_824702a6_ed10_4d8b_8046_50ccea53a3c1","uuid":"9647f2e5-5469-4ef7-9e3c-e36996abfc93"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_824702a6_ed10_4d8b_8046_50ccea53a3c1"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPSlave","uuid":"824702a6-ed10-4d8b-8046-50ccea53a3c1"},"retries":"0","description":"","type":"VMOPERATION_GCP_VM","uuid":"9647f2e5-5469-4ef7-9e3c-e36996abfc93","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Gcp_Operation_PowerOff_824702a6_ed10_4d8b_8046_50ccea53a3c1"}],"description":"","message_list":[],"uuid":"896b7f12-a036-4e03-8082-83ae51431230","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_824702a6_ed10_4d8b_8046_50ccea53a3c1","uuid":"6544ff3b-f8b4-438f-a5b7-347195109dec"},"name":"SYS_GEN__Runbook_Substrate_824702a6_ed10_4d8b_8046_50ccea53a3c1"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"86a5b2ea-fe72-4ba0-b183-1162da47daff","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"GCPSlave","uuid":"824702a6-ed10-4d8b-8046-50ccea53a3c1"},"retries":"0","description":"","type":"DAG","uuid":"7cc37798-d2f7-46c5-89bf-c8bd231a2634","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Gcp_Delete_824702a6_ed10_4d8b_8046_50ccea53a3c1","uuid":"47538f88-2e50-475a-b97c-8613d0dde334"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_824702a6_ed10_4d8b_8046_50ccea53a3c1"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPSlave","uuid":"824702a6-ed10-4d8b-8046-50ccea53a3c1"},"retries":"0","description":"","type":"DELETE_GCP_VM","uuid":"47538f88-2e50-475a-b97c-8613d0dde334","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Gcp_Delete_824702a6_ed10_4d8b_8046_50ccea53a3c1"}],"description":"","message_list":[],"uuid":"cbf5a376-e3fb-47c6-b7e8-d32e4bb1a505","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_824702a6_ed10_4d8b_8046_50ccea53a3c1","uuid":"7cc37798-d2f7-46c5-89bf-c8bd231a2634"},"name":"SYS_GEN__Runbook_Substrate_824702a6_ed10_4d8b_8046_50ccea53a3c1"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"bc863647-9cb1-4e1c-b177-f150f5420170","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"GCPSlave","uuid":"824702a6-ed10-4d8b-8046-50ccea53a3c1"},"retries":"0","description":"","type":"DAG","uuid":"addbb060-881d-438b-b3fb-3bb8a96004de","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Substrate_Element_Delete_824702a6_ed10_4d8b_8046_50ccea53a3c1","uuid":"e60d8fc8-b238-49a6-ad19-467153237210"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_824702a6_ed10_4d8b_8046_50ccea53a3c1"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPSlave","uuid":"824702a6-ed10-4d8b-8046-50ccea53a3c1"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"e60d8fc8-b238-49a6-ad19-467153237210","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Substrate_Element_Delete_824702a6_ed10_4d8b_8046_50ccea53a3c1"}],"description":"","message_list":[],"uuid":"ba6dd956-18dd-4a39-9cb2-d788cf2608ee","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_824702a6_ed10_4d8b_8046_50ccea53a3c1","uuid":"addbb060-881d-438b-b3fb-3bb8a96004de"},"name":"SYS_GEN__Runbook_Substrate_824702a6_ed10_4d8b_8046_50ccea53a3c1"}}],"message_list":[{"message":"Zone is a required field","reason":"EMPTY_VALUE","details":[{"attribute_name":"zone"}]},{"message":"Machine type is a required field","reason":"EMPTY_VALUE","details":[{"attribute_name":"machineType"}]},{"message":"Either source image or disk source should be specified in custom disks","reason":"MISSING_VALUE","details":[{"attribute_name":"source"}]}],"uuid":"824702a6-ed10-4d8b-8046-50ccea53a3c1","state":"DRAFT","readiness_probe":{"connection_type":"SSH","retries":"5","disable_readiness_probe":false,"address":"@@{public_ip_address}@@","delay_secs":"0","connection_port":22,"login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"3ee7bf5d-2de9-4958-9b65-e30687c43f17"}},"editables":{"readiness_probe":{"connection_type":true,"connection_port":true,"timeout_secs":true},"create_spec":{"resources":{"labels":true,"machineType":true,"name":true,"tags":{"items":true},"disks":{"0":{"initializeParams":{"diskSizeGb":true,"sourceImage":true,"diskType":true},"autoDelete":true}},"blankDisks":{"1":{"disk_type":true,"name":true,"sizeGb":true,"autoDelete":true},"0":{"disk_type":true,"name":true,"sizeGb":true,"autoDelete":true},"3":{"disk_type":true,"name":true,"sizeGb":true,"autoDelete":true},"2":{"disk_type":true,"name":true,"sizeGb":true,"autoDelete":true},"5":{"disk_type":true,"name":true,"sizeGb":true,"autoDelete":true},"4":{"disk_type":true,"name":true,"sizeGb":true,"autoDelete":true},"7":{"disk_type":true,"name":true,"sizeGb":true,"autoDelete":true},"6":{"disk_type":true,"name":true,"sizeGb":true,"autoDelete":true}},"sshKeys":{"0":true},"serviceAccounts":{"0":{"scopes":true}},"metadata":{"items":true}}}},"os_type":"Linux","type":"GCP_VM","create_spec":{"type":"PROVISION_GCP_VM","resources":{"labels":[],"machineType":"","description":"","zone":"","tags":{"items":["tensorflow"],"type":"","fingerprint":""},"guestCustomization":{"type":"","sysprep":"","startupScript":""},"labelFingerprint":"","disks":[{"diskEncryptionKey":{"rawKey":"","type":""},"deviceName":"","initializeParams":{"sourceImageEncryptionKey":{"rawKey":"","type":""},"diskName":"","diskType":"","diskSizeGb":-1,"sourceImage":"","type":""},"autoDelete":true,"boot":true,"source":"","mode":"","interface":"","disk_type":"PERSISTENT","type":""}],"metadata":{"items":[{"type":"","value":"centos:ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDMGAS\/K0Mb\/uwFXwD+hkjguy7VMZk2hpuhwPl9FUZwVBrURf\/i9QMJ5\/paPEZixu8VlRx7Inu4iun7rQfrnfeIYInmBwspXHYiTK3oHJAgZnrAHVEf1p6YaxLINlT1NI5yOAGPRWW6of8rBDBH1ObwU2+wcSx\/1H0uIs3aZNLufr+Rh628ACxAum2Gt8AVRj6ua2BPFyt5VTdclyysAmeh1AiixNgOZXOz6y\/i4TbzpY78I3isuKpxsUeXX6jxEMQol406jHDUF6njEOPIQG2zVZ3QJlTG9OlN+NiyZG9WkZz0VG\/6M8ixxIHHI2dNwUbBFv2HUu+8X9LTLFq2O7KjX9Hp7uZKBAySHA3eKaKHIp2bZuU1bT5PRPkggngX86xg+T+OMNnutbAiMnRJ8+FvD5So+5TIx4b9GgxAxure3x2yRPT9lOiQOB+CVpJPxR0Rn9bOI+wiPnD0kAGvK\/fHT+pqL4PM+hTnJtp9rrCRzIQApBx1263jEcYffhW2epZQRO+he5CMawFJ5TBe08om2AaDJ8GQdrpF6YA3W8DzHbmL3DPVVHdmqPLn10o+LX4gv5SdIIDVGdjKOc1BCnLTRmM28d5+sLDt\/M+kvcQgf0y0yDjMVjGECZkt39hbm4ELMHzZtzYLmHNhBZxRqHeJ7qFTuv1kx88OW3Xc5mbBNQ== centos@nutanix.com","key":"ssh-keys"}],"type":"","fingerprint":""},"sshKeys":["centos:ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDMGAS\/K0Mb\/uwFXwD+hkjguy7VMZk2hpuhwPl9FUZwVBrURf\/i9QMJ5\/paPEZixu8VlRx7Inu4iun7rQfrnfeIYInmBwspXHYiTK3oHJAgZnrAHVEf1p6YaxLINlT1NI5yOAGPRWW6of8rBDBH1ObwU2+wcSx\/1H0uIs3aZNLufr+Rh628ACxAum2Gt8AVRj6ua2BPFyt5VTdclyysAmeh1AiixNgOZXOz6y\/i4TbzpY78I3isuKpxsUeXX6jxEMQol406jHDUF6njEOPIQG2zVZ3QJlTG9OlN+NiyZG9WkZz0VG\/6M8ixxIHHI2dNwUbBFv2HUu+8X9LTLFq2O7KjX9Hp7uZKBAySHA3eKaKHIp2bZuU1bT5PRPkggngX86xg+T+OMNnutbAiMnRJ8+FvD5So+5TIx4b9GgxAxure3x2yRPT9lOiQOB+CVpJPxR0Rn9bOI+wiPnD0kAGvK\/fHT+pqL4PM+hTnJtp9rrCRzIQApBx1263jEcYffhW2epZQRO+he5CMawFJ5TBe08om2AaDJ8GQdrpF6YA3W8DzHbmL3DPVVHdmqPLn10o+LX4gv5SdIIDVGdjKOc1BCnLTRmM28d5+sLDt\/M+kvcQgf0y0yDjMVjGECZkt39hbm4ELMHzZtzYLmHNhBZxRqHeJ7qFTuv1kx88OW3Xc5mbBNQ== centos@nutanix.com\n"],"minCpuPlatform":"","scheduling":{"automaticRestart":true,"type":"","preemptible":false,"onHostMaintenance":"TERMINATE"},"canIpForward":false,"blankDisks":[{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-slave-dev-0-@@{calm_time}@@","sizeGb":50,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-slave-dev-1-@@{calm_time}@@","sizeGb":50,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-slave-dev-2-@@{calm_time}@@","sizeGb":50,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-slave-dev-3-@@{calm_time}@@","sizeGb":50,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-slave-dev-4-@@{calm_time}@@","sizeGb":25,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-slave-dev-5-@@{calm_time}@@","sizeGb":25,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-slave-dev-6-@@{calm_time}@@","sizeGb":25,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-slave-dev-7-@@{calm_time}@@","sizeGb":25,"autoDelete":true}],"networkInterfaces":[{"aliasIpRanges":[],"network":"","accessConfigs":[{"config_type":"ONE_TO_ONE_NAT","type":"","name":"slave-default-acn","natIP":""}],"networkIP":"","subnetwork":"","type":"","associatePublicIP":true}],"type":"","account_uuid":"84213a31-4fe8-7e39-3799-e093e5d0dc2e","serviceAccounts":[{"scopes":[],"type":"","email":""}],"name":"mysql-slave-@@{calm_array_index}@@-@@{calm_time}@@"}},"variable_list":[],"name":"GCPSlave"},{"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"b27fa9f2-05f9-473f-addc-6dad57721ed6","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AzureMaster","uuid":"e8c6c48b-bcf4-462b-86e0-20154a34e060"},"retries":"0","description":"","type":"DAG","uuid":"b1306e41-c3ef-429c-828f-3c1fe496aa4d","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Azure_Provision_e8c6c48b_bcf4_462b_86e0_20154a34e060","uuid":"62b9ee8f-53fb-4fe9-a2f8-5c443e954c83"},{"kind":"app_task","name":"SYS_GEN__check_login_for_AzureMaster_e8c6c48b_bcf4_462b_86e0_20154a34e060","uuid":"65955ea3-e8b1-4349-aac5-1a516c13a3a7"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Azure_Provision_e8c6c48b_bcf4_462b_86e0_20154a34e060","uuid":"62b9ee8f-53fb-4fe9-a2f8-5c443e954c83"},"edge_type":"inherent","type":"","uuid":"0a314f22-9986-4df9-b158-6f18ff7376f2","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_AzureMaster_e8c6c48b_bcf4_462b_86e0_20154a34e060","uuid":"65955ea3-e8b1-4349-aac5-1a516c13a3a7"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_e8c6c48b_bcf4_462b_86e0_20154a34e060"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureMaster","uuid":"e8c6c48b-bcf4-462b-86e0-20154a34e060"},"retries":"0","description":"","type":"PROVISION_AZURE_VM","uuid":"62b9ee8f-53fb-4fe9-a2f8-5c443e954c83","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"PROVISION_AZURE_VM","name":"","resources":{"vm_name":"mysql-master-@@{calm_unique_hash}@@-@@{calm_array_index}@@","storage_profile":{"is_managed":true,"image_details":{"sku":"","publisher":"","offer":"","source_image_id":"","use_custom_image":false,"version":"","type":""},"type":"","os_disk_details":{"size_in_gb":127,"name":"os-@@{calm_unique_hash}@@-@@{calm_array_index}@@-disk","storage_name":"","storage_type":"Standard_LRS","lun":-1,"type":"","create_option":"FromImage","caching_type":"ReadWrite"},"data_disk_list":[]},"nw_profile":{"nic_list":[{"nsg_name":"","vnet_name":"","private_ip_info":{"ip_address":"","ip_allocation_method":"Dynamic","type":""},"nic_name":"nic-@@{calm_unique_hash}@@-@@{calm_array_index}@@-0","subnet_name":"","type":"","public_ip_info":{"ip_name":"public-ip-@@{calm_unique_hash}@@-@@{calm_array_index}@@-0","dns_label":"dns-@@{calm_unique_hash}@@-@@{calm_array_index}@@-0","ip_allocation_method":"Dynamic","type":""}}],"primary_nic":-1,"type":""},"resource_group":"","os_profile":{"secrets":[],"type":"","windows_config":{"winrm_listeners":[],"time_zone":"","additional_unattend_content":[],"provision_vm_agent":true,"auto_updates":false,"type":""},"linux_config":{"disable_password_auth":false,"custom_data":"","type":"","public_keys":[]}},"hw_profile":{"max_data_disk_count":0,"vm_size":"","type":""},"location":"","availability_set_id":"","tag_list":[],"type":"","account_uuid":"3c0f2d94-878c-f34c-6d39-90b854129782"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Azure_Provision_e8c6c48b_bcf4_462b_86e0_20154a34e060"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureMaster","uuid":"e8c6c48b-bcf4-462b-86e0-20154a34e060"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"65955ea3-e8b1-4349-aac5-1a516c13a3a7","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"300","address":"@@{platform.publicIPAddressList[0]}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_AzureMaster_e8c6c48b_bcf4_462b_86e0_20154a34e060"}],"description":"","message_list":[],"uuid":"a518ed83-f94c-4bc8-bd6d-683a36ab451b","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_e8c6c48b_bcf4_462b_86e0_20154a34e060","uuid":"b1306e41-c3ef-429c-828f-3c1fe496aa4d"},"name":"SYS_GEN__Runbook_Substrate_e8c6c48b_bcf4_462b_86e0_20154a34e060"}},{"description":"System action for powering on an application","message_list":[],"uuid":"ed6b5a3c-c904-43d0-bfe0-d0d8baa1817d","name":"action_poweron","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AzureMaster","uuid":"e8c6c48b-bcf4-462b-86e0-20154a34e060"},"retries":"0","description":"","type":"DAG","uuid":"5a0e0ad3-505b-4ca6-8cd1-3207e673a4c3","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Azure_Operation_PowerOn_e8c6c48b_bcf4_462b_86e0_20154a34e060","uuid":"a6343fce-2803-4af4-ac27-bf491f737701"},{"kind":"app_task","name":"SYS_GEN__check_login_for_AzureMaster_e8c6c48b_bcf4_462b_86e0_20154a34e060","uuid":"272f84ce-2044-440f-bb74-9ccf5376239e"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Azure_Operation_PowerOn_e8c6c48b_bcf4_462b_86e0_20154a34e060","uuid":"a6343fce-2803-4af4-ac27-bf491f737701"},"edge_type":"inherent","type":"","uuid":"b0879318-f873-4de0-a553-5461556af195","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_AzureMaster_e8c6c48b_bcf4_462b_86e0_20154a34e060","uuid":"272f84ce-2044-440f-bb74-9ccf5376239e"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_e8c6c48b_bcf4_462b_86e0_20154a34e060"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureMaster","uuid":"e8c6c48b-bcf4-462b-86e0-20154a34e060"},"retries":"0","description":"","type":"VMOPERATION_AZURE_VM","uuid":"a6343fce-2803-4af4-ac27-bf491f737701","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Azure_Operation_PowerOn_e8c6c48b_bcf4_462b_86e0_20154a34e060"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureMaster","uuid":"e8c6c48b-bcf4-462b-86e0-20154a34e060"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"272f84ce-2044-440f-bb74-9ccf5376239e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"300","address":"@@{platform.publicIPAddressList[0]}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_AzureMaster_e8c6c48b_bcf4_462b_86e0_20154a34e060"}],"description":"","message_list":[],"uuid":"bee85942-7026-4e49-aa40-34e3c2babeec","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_e8c6c48b_bcf4_462b_86e0_20154a34e060","uuid":"5a0e0ad3-505b-4ca6-8cd1-3207e673a4c3"},"name":"SYS_GEN__Runbook_Substrate_e8c6c48b_bcf4_462b_86e0_20154a34e060"}},{"description":"System action for restarting an application","message_list":[],"uuid":"ea368e23-7ee5-4e3b-998e-550e335d6a87","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AzureMaster","uuid":"e8c6c48b-bcf4-462b-86e0-20154a34e060"},"retries":"0","description":"","type":"DAG","uuid":"b48db428-a4b1-4c39-a3de-89ea252ed177","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Azure_Operation_Restarte8c6c48b_bcf4_462b_86e0_20154a34e060","uuid":"9bb647bc-c862-413f-bd5b-182183b797a0"},{"kind":"app_task","name":"SYS_GEN__check_login_for_AzureMaster_e8c6c48b_bcf4_462b_86e0_20154a34e060","uuid":"a673f6df-a075-427e-be58-6f69b0c05fd8"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Azure_Operation_Restarte8c6c48b_bcf4_462b_86e0_20154a34e060","uuid":"9bb647bc-c862-413f-bd5b-182183b797a0"},"edge_type":"inherent","type":"","uuid":"7aef153c-63ce-42a0-81fc-9d396a0b55c4","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_AzureMaster_e8c6c48b_bcf4_462b_86e0_20154a34e060","uuid":"a673f6df-a075-427e-be58-6f69b0c05fd8"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_e8c6c48b_bcf4_462b_86e0_20154a34e060"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureMaster","uuid":"e8c6c48b-bcf4-462b-86e0-20154a34e060"},"retries":"0","description":"","type":"VMOPERATION_AZURE_VM","uuid":"9bb647bc-c862-413f-bd5b-182183b797a0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Azure_Operation_Restarte8c6c48b_bcf4_462b_86e0_20154a34e060"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureMaster","uuid":"e8c6c48b-bcf4-462b-86e0-20154a34e060"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"a673f6df-a075-427e-be58-6f69b0c05fd8","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"300","address":"@@{platform.publicIPAddressList[0]}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_AzureMaster_e8c6c48b_bcf4_462b_86e0_20154a34e060"}],"description":"","message_list":[],"uuid":"150465de-6115-4fc9-a403-4e46a298e285","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_e8c6c48b_bcf4_462b_86e0_20154a34e060","uuid":"b48db428-a4b1-4c39-a3de-89ea252ed177"},"name":"SYS_GEN__Runbook_Substrate_e8c6c48b_bcf4_462b_86e0_20154a34e060"}},{"description":"System action for suspending an application","message_list":[],"uuid":"133134b8-f051-42df-b602-a3bb68d3b2b0","name":"action_suspend","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AzureMaster","uuid":"e8c6c48b-bcf4-462b-86e0-20154a34e060"},"retries":"0","description":"","type":"DAG","uuid":"7a93e67a-8a42-4410-b01c-af7c12e8fcb9","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_e8c6c48b_bcf4_462b_86e0_20154a34e060"}],"description":"","message_list":[],"uuid":"cd6daf87-0cc3-427f-a30f-8e19f02bc21b","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_e8c6c48b_bcf4_462b_86e0_20154a34e060","uuid":"7a93e67a-8a42-4410-b01c-af7c12e8fcb9"},"name":"SYS_GEN__Runbook_Substrate_e8c6c48b_bcf4_462b_86e0_20154a34e060"}},{"description":"System action for modifying an application","message_list":[],"uuid":"710444ba-1127-4389-8791-7ec582cae841","name":"action_modify","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AzureMaster","uuid":"e8c6c48b-bcf4-462b-86e0-20154a34e060"},"retries":"0","description":"","type":"DAG","uuid":"c7a867da-01cf-487a-9de0-fb14ecc39bec","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_e8c6c48b_bcf4_462b_86e0_20154a34e060"}],"description":"","message_list":[],"uuid":"14855b6e-6a6c-41ea-a696-3f52d229f940","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_e8c6c48b_bcf4_462b_86e0_20154a34e060","uuid":"c7a867da-01cf-487a-9de0-fb14ecc39bec"},"name":"SYS_GEN__Runbook_Substrate_e8c6c48b_bcf4_462b_86e0_20154a34e060"}},{"description":"System action for powering off an application","message_list":[],"uuid":"11376fca-ee41-4425-806d-08961dd4d35f","name":"action_poweroff","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AzureMaster","uuid":"e8c6c48b-bcf4-462b-86e0-20154a34e060"},"retries":"0","description":"","type":"DAG","uuid":"51578be8-eab4-4d6c-b85f-8fe6b06eddc1","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Azure_Operation_Poweroff_e8c6c48b_bcf4_462b_86e0_20154a34e060","uuid":"51f703d9-ce5a-4081-92a6-7fc1e9d63fe7"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_e8c6c48b_bcf4_462b_86e0_20154a34e060"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureMaster","uuid":"e8c6c48b-bcf4-462b-86e0-20154a34e060"},"retries":"0","description":"","type":"VMOPERATION_AZURE_VM","uuid":"51f703d9-ce5a-4081-92a6-7fc1e9d63fe7","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Azure_Operation_Poweroff_e8c6c48b_bcf4_462b_86e0_20154a34e060"}],"description":"","message_list":[],"uuid":"b6fed449-400a-457c-9b8b-71a8f93cc85c","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_e8c6c48b_bcf4_462b_86e0_20154a34e060","uuid":"51578be8-eab4-4d6c-b85f-8fe6b06eddc1"},"name":"SYS_GEN__Runbook_Substrate_e8c6c48b_bcf4_462b_86e0_20154a34e060"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"9c09e3be-b4de-41ed-8ab5-332aca51d504","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AzureMaster","uuid":"e8c6c48b-bcf4-462b-86e0-20154a34e060"},"retries":"0","description":"","type":"DAG","uuid":"4ec25c83-a5d3-4290-b645-f5c5ecce6bdf","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Azure_Delete_e8c6c48b_bcf4_462b_86e0_20154a34e060","uuid":"fa156de0-acec-4939-b2a6-019eff72f85a"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_e8c6c48b_bcf4_462b_86e0_20154a34e060"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureMaster","uuid":"e8c6c48b-bcf4-462b-86e0-20154a34e060"},"retries":"0","description":"","type":"DELETE_AZURE_VM","uuid":"fa156de0-acec-4939-b2a6-019eff72f85a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Azure_Delete_e8c6c48b_bcf4_462b_86e0_20154a34e060"}],"description":"","message_list":[],"uuid":"dcd8daf1-54bb-45f0-b0f2-ccc67eea5c3a","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_e8c6c48b_bcf4_462b_86e0_20154a34e060","uuid":"4ec25c83-a5d3-4290-b645-f5c5ecce6bdf"},"name":"SYS_GEN__Runbook_Substrate_e8c6c48b_bcf4_462b_86e0_20154a34e060"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"f03cab6e-a3f3-4b1d-b188-bf60d255f14e","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AzureMaster","uuid":"e8c6c48b-bcf4-462b-86e0-20154a34e060"},"retries":"0","description":"","type":"DAG","uuid":"b8a04be7-a7cc-4f72-9c45-83ada0d759bb","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Substrate_Element_Delete_e8c6c48b_bcf4_462b_86e0_20154a34e060","uuid":"cc865bbb-27b3-4695-9fd3-60448774ed7c"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_e8c6c48b_bcf4_462b_86e0_20154a34e060"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureMaster","uuid":"e8c6c48b-bcf4-462b-86e0-20154a34e060"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"cc865bbb-27b3-4695-9fd3-60448774ed7c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Substrate_Element_Delete_e8c6c48b_bcf4_462b_86e0_20154a34e060"}],"description":"","message_list":[],"uuid":"5190e197-491d-4401-af87-85bed03fa76f","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_e8c6c48b_bcf4_462b_86e0_20154a34e060","uuid":"b8a04be7-a7cc-4f72-9c45-83ada0d759bb"},"name":"SYS_GEN__Runbook_Substrate_e8c6c48b_bcf4_462b_86e0_20154a34e060"}}],"message_list":[{"message":"resource_group is a required field","reason":"EMPTY_VALUE","details":[{"attribute_name":"resource_group"}]},{"message":"location is a required field","reason":"EMPTY_VALUE","details":[{"attribute_name":"location"}]},{"message":"Hardware Profile is a required field","reason":"EMPTY_VALUE","details":[{"attribute_name":"vm_size"}]},{"message":"Incomplete VM Image details. Please select a Public Image for VM provisioning","reason":"EMPTY_VALUE","details":[{"attribute_name":"image_details"}]},{"message":"nsg_name is a required field","reason":"EMPTY_VALUE","details":[{"attribute_name":"nsg_name"}]},{"message":"vnet_name is a required field","reason":"EMPTY_VALUE","details":[{"attribute_name":"vnet_name"}]},{"message":"subnet_name is a required field","reason":"EMPTY_VALUE","details":[{"attribute_name":"subnet_name"}]}],"uuid":"e8c6c48b-bcf4-462b-86e0-20154a34e060","state":"DRAFT","readiness_probe":{"connection_type":"SSH","retries":"5","disable_readiness_probe":false,"address":"@@{platform.publicIPAddressList[0]}@@","delay_secs":"0","connection_port":22,"login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"3ee7bf5d-2de9-4958-9b65-e30687c43f17"}},"editables":{"readiness_probe":{"connection_type":true,"delay_secs":true,"connection_port":true,"timeout_secs":null},"create_spec":{"resources":{"vm_name":true,"storage_profile":{"is_managed":true,"image_details":{"sku":true,"publisher":true,"version":true,"use_custom_image":true,"offer":true},"os_disk_details":{"storage_type":true,"create_option":true,"caching_type":true,"name":true}},"nw_profile":{"nic_list":{"0":{"nsg_name":true,"vnet_name":true,"private_ip_info":{"ip_allocation_method":true},"nic_name":true,"subnet_name":true,"public_ip_info":{"ip_name":true,"dns_label":true,"ip_allocation_method":true}}}},"resource_group":true,"os_profile":{"linux_config":{"custom_data":true}},"hw_profile":{"vm_size":true},"location":true,"availability_set_id":true,"tag_list":true}}},"os_type":"Linux","type":"AZURE_VM","create_spec":{"type":"PROVISION_AZURE_VM","name":"","resources":{"vm_name":"mysql-master-@@{calm_unique_hash}@@-@@{calm_array_index}@@","storage_profile":{"is_managed":true,"image_details":{"sku":"","publisher":"","offer":"","source_image_id":"","use_custom_image":false,"version":"","type":""},"type":"","os_disk_details":{"size_in_gb":127,"name":"os-@@{calm_unique_hash}@@-@@{calm_array_index}@@-disk","storage_name":"","storage_type":"Standard_LRS","lun":-1,"type":"","create_option":"FromImage","caching_type":"ReadWrite"},"data_disk_list":[]},"nw_profile":{"nic_list":[{"nsg_name":"","vnet_name":"","private_ip_info":{"ip_address":"","ip_allocation_method":"Dynamic","type":""},"nic_name":"nic-@@{calm_unique_hash}@@-@@{calm_array_index}@@-0","subnet_name":"","type":"","public_ip_info":{"ip_name":"public-ip-@@{calm_unique_hash}@@-@@{calm_array_index}@@-0","dns_label":"dns-@@{calm_unique_hash}@@-@@{calm_array_index}@@-0","ip_allocation_method":"Dynamic","type":""}}],"primary_nic":-1,"type":""},"resource_group":"","os_profile":{"secrets":[],"type":"","windows_config":{"winrm_listeners":[],"time_zone":"","additional_unattend_content":[],"provision_vm_agent":true,"auto_updates":false,"type":""},"linux_config":{"disable_password_auth":false,"custom_data":"","type":"","public_keys":[]}},"hw_profile":{"max_data_disk_count":0,"vm_size":"","type":""},"location":"","availability_set_id":"","tag_list":[],"type":"","account_uuid":"3c0f2d94-878c-f34c-6d39-90b854129782"}},"variable_list":[],"name":"AzureMaster"},{"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"702781bf-934d-4c43-a1c7-a9ffeddd5796","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AzureSlave","uuid":"e5d45669-ba56-4079-9064-7e7fc91e3365"},"retries":"0","description":"","type":"DAG","uuid":"70cb5e7a-314b-4542-aa66-7211285808ce","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Azure_Provision_e5d45669_ba56_4079_9064_7e7fc91e3365","uuid":"f1436036-a7af-4b23-aea8-5efd2f645d84"},{"kind":"app_task","name":"SYS_GEN__check_login_for_AzureSlave_e5d45669_ba56_4079_9064_7e7fc91e3365","uuid":"bae8b66d-11ce-41a2-80a4-658cffbaaa32"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Azure_Provision_e5d45669_ba56_4079_9064_7e7fc91e3365","uuid":"f1436036-a7af-4b23-aea8-5efd2f645d84"},"edge_type":"inherent","type":"","uuid":"0770edf1-2e7a-4c4e-9fa6-f314440a8fb7","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_AzureSlave_e5d45669_ba56_4079_9064_7e7fc91e3365","uuid":"bae8b66d-11ce-41a2-80a4-658cffbaaa32"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_e5d45669_ba56_4079_9064_7e7fc91e3365"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureSlave","uuid":"e5d45669-ba56-4079-9064-7e7fc91e3365"},"retries":"0","description":"","type":"PROVISION_AZURE_VM","uuid":"f1436036-a7af-4b23-aea8-5efd2f645d84","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"PROVISION_AZURE_VM","name":"","resources":{"vm_name":"mysql-slave-@@{calm_unique_hash}@@-@@{calm_array_index}@@","storage_profile":{"is_managed":true,"image_details":{"sku":"","publisher":"","offer":"","source_image_id":"","use_custom_image":false,"version":"","type":""},"type":"","os_disk_details":{"size_in_gb":127,"name":"os-@@{calm_unique_hash}@@-@@{calm_array_index}@@-disk","storage_name":"","storage_type":"Standard_LRS","lun":-1,"type":"","create_option":"FromImage","caching_type":"ReadWrite"},"data_disk_list":[]},"nw_profile":{"nic_list":[{"nsg_name":"","vnet_name":"","private_ip_info":{"ip_address":"","ip_allocation_method":"Dynamic","type":""},"nic_name":"nic-@@{calm_unique_hash}@@-@@{calm_array_index}@@-0","subnet_name":"","type":"","public_ip_info":{"ip_name":"public-ip-@@{calm_unique_hash}@@-@@{calm_array_index}@@-0","dns_label":"dns-@@{calm_unique_hash}@@-@@{calm_array_index}@@-0","ip_allocation_method":"Dynamic","type":""}}],"primary_nic":-1,"type":""},"resource_group":"","os_profile":{"secrets":[],"type":"","windows_config":{"winrm_listeners":[],"time_zone":"","additional_unattend_content":[],"provision_vm_agent":true,"auto_updates":false,"type":""},"linux_config":{"disable_password_auth":false,"custom_data":"","type":"","public_keys":[]}},"hw_profile":{"max_data_disk_count":0,"vm_size":"","type":""},"location":"","availability_set_id":"","tag_list":[],"type":"","account_uuid":"3c0f2d94-878c-f34c-6d39-90b854129782"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Azure_Provision_e5d45669_ba56_4079_9064_7e7fc91e3365"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureSlave","uuid":"e5d45669-ba56-4079-9064-7e7fc91e3365"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"bae8b66d-11ce-41a2-80a4-658cffbaaa32","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"300","address":"@@{platform.publicIPAddressList[0]}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_AzureSlave_e5d45669_ba56_4079_9064_7e7fc91e3365"}],"description":"","message_list":[],"uuid":"87714299-ac11-475e-8a54-cfc996824494","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_e5d45669_ba56_4079_9064_7e7fc91e3365","uuid":"70cb5e7a-314b-4542-aa66-7211285808ce"},"name":"SYS_GEN__Runbook_Substrate_e5d45669_ba56_4079_9064_7e7fc91e3365"}},{"description":"System action for powering on an application","message_list":[],"uuid":"2931a1f4-fd08-41f8-875f-6731221647f2","name":"action_poweron","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AzureSlave","uuid":"e5d45669-ba56-4079-9064-7e7fc91e3365"},"retries":"0","description":"","type":"DAG","uuid":"fc919107-e135-4314-b602-afd0e4304af6","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Azure_Operation_PowerOn_e5d45669_ba56_4079_9064_7e7fc91e3365","uuid":"49152011-50e4-46e7-979c-e75b21fa2775"},{"kind":"app_task","name":"SYS_GEN__check_login_for_AzureSlave_e5d45669_ba56_4079_9064_7e7fc91e3365","uuid":"c8cd8a03-2f17-4f60-b0df-4deaad33afe9"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Azure_Operation_PowerOn_e5d45669_ba56_4079_9064_7e7fc91e3365","uuid":"49152011-50e4-46e7-979c-e75b21fa2775"},"edge_type":"inherent","type":"","uuid":"cba33a35-c526-4513-8176-ad72ad0cf18c","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_AzureSlave_e5d45669_ba56_4079_9064_7e7fc91e3365","uuid":"c8cd8a03-2f17-4f60-b0df-4deaad33afe9"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_e5d45669_ba56_4079_9064_7e7fc91e3365"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureSlave","uuid":"e5d45669-ba56-4079-9064-7e7fc91e3365"},"retries":"0","description":"","type":"VMOPERATION_AZURE_VM","uuid":"49152011-50e4-46e7-979c-e75b21fa2775","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Azure_Operation_PowerOn_e5d45669_ba56_4079_9064_7e7fc91e3365"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureSlave","uuid":"e5d45669-ba56-4079-9064-7e7fc91e3365"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"c8cd8a03-2f17-4f60-b0df-4deaad33afe9","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"300","address":"@@{platform.publicIPAddressList[0]}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_AzureSlave_e5d45669_ba56_4079_9064_7e7fc91e3365"}],"description":"","message_list":[],"uuid":"95a65dbf-7ee3-44d7-808f-34a8c78607a6","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_e5d45669_ba56_4079_9064_7e7fc91e3365","uuid":"fc919107-e135-4314-b602-afd0e4304af6"},"name":"SYS_GEN__Runbook_Substrate_e5d45669_ba56_4079_9064_7e7fc91e3365"}},{"description":"System action for restarting an application","message_list":[],"uuid":"672faf3a-1169-4192-86f9-f0441d6e7e7c","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AzureSlave","uuid":"e5d45669-ba56-4079-9064-7e7fc91e3365"},"retries":"0","description":"","type":"DAG","uuid":"a356e8bf-b81e-40e1-933e-3ffb3155d240","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Azure_Operation_Restarte5d45669_ba56_4079_9064_7e7fc91e3365","uuid":"a2e84193-9330-4f0c-a45e-3ce807bd9b32"},{"kind":"app_task","name":"SYS_GEN__check_login_for_AzureSlave_e5d45669_ba56_4079_9064_7e7fc91e3365","uuid":"42068205-c901-470a-a661-d539c048c640"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Azure_Operation_Restarte5d45669_ba56_4079_9064_7e7fc91e3365","uuid":"a2e84193-9330-4f0c-a45e-3ce807bd9b32"},"edge_type":"inherent","type":"","uuid":"d1db9255-0d36-4fc0-bb40-d3340ea8ac14","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_AzureSlave_e5d45669_ba56_4079_9064_7e7fc91e3365","uuid":"42068205-c901-470a-a661-d539c048c640"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_e5d45669_ba56_4079_9064_7e7fc91e3365"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureSlave","uuid":"e5d45669-ba56-4079-9064-7e7fc91e3365"},"retries":"0","description":"","type":"VMOPERATION_AZURE_VM","uuid":"a2e84193-9330-4f0c-a45e-3ce807bd9b32","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Azure_Operation_Restarte5d45669_ba56_4079_9064_7e7fc91e3365"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureSlave","uuid":"e5d45669-ba56-4079-9064-7e7fc91e3365"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"42068205-c901-470a-a661-d539c048c640","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"300","address":"@@{platform.publicIPAddressList[0]}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_AzureSlave_e5d45669_ba56_4079_9064_7e7fc91e3365"}],"description":"","message_list":[],"uuid":"78353d4f-fbf1-4f3f-a39f-fc1b6d52d13f","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_e5d45669_ba56_4079_9064_7e7fc91e3365","uuid":"a356e8bf-b81e-40e1-933e-3ffb3155d240"},"name":"SYS_GEN__Runbook_Substrate_e5d45669_ba56_4079_9064_7e7fc91e3365"}},{"description":"System action for suspending an application","message_list":[],"uuid":"a501d140-9e83-4ddd-8cf7-3f7efbe07373","name":"action_suspend","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AzureSlave","uuid":"e5d45669-ba56-4079-9064-7e7fc91e3365"},"retries":"0","description":"","type":"DAG","uuid":"85ac26bd-5fff-492d-9cdc-2f12e0bd3c73","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_e5d45669_ba56_4079_9064_7e7fc91e3365"}],"description":"","message_list":[],"uuid":"d27c149e-c718-4389-9fdb-87999f9ad227","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_e5d45669_ba56_4079_9064_7e7fc91e3365","uuid":"85ac26bd-5fff-492d-9cdc-2f12e0bd3c73"},"name":"SYS_GEN__Runbook_Substrate_e5d45669_ba56_4079_9064_7e7fc91e3365"}},{"description":"System action for modifying an application","message_list":[],"uuid":"f6da21b1-6bad-4caf-ae69-d3ac15146c77","name":"action_modify","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AzureSlave","uuid":"e5d45669-ba56-4079-9064-7e7fc91e3365"},"retries":"0","description":"","type":"DAG","uuid":"fe3f04b2-23ab-4578-b2bf-f4f836f43cad","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_e5d45669_ba56_4079_9064_7e7fc91e3365"}],"description":"","message_list":[],"uuid":"7b097ec9-0293-4ac4-a04e-1bb0d65b8ccf","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_e5d45669_ba56_4079_9064_7e7fc91e3365","uuid":"fe3f04b2-23ab-4578-b2bf-f4f836f43cad"},"name":"SYS_GEN__Runbook_Substrate_e5d45669_ba56_4079_9064_7e7fc91e3365"}},{"description":"System action for powering off an application","message_list":[],"uuid":"a4c05824-e49c-4050-8cec-b55ccdc5cca2","name":"action_poweroff","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AzureSlave","uuid":"e5d45669-ba56-4079-9064-7e7fc91e3365"},"retries":"0","description":"","type":"DAG","uuid":"638843ec-2330-4b6e-8780-ef0eae976675","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Azure_Operation_Poweroff_e5d45669_ba56_4079_9064_7e7fc91e3365","uuid":"2dc150d5-5a0e-4cfd-b900-8c7f28331206"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_e5d45669_ba56_4079_9064_7e7fc91e3365"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureSlave","uuid":"e5d45669-ba56-4079-9064-7e7fc91e3365"},"retries":"0","description":"","type":"VMOPERATION_AZURE_VM","uuid":"2dc150d5-5a0e-4cfd-b900-8c7f28331206","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Azure_Operation_Poweroff_e5d45669_ba56_4079_9064_7e7fc91e3365"}],"description":"","message_list":[],"uuid":"53314c87-d0f3-476f-afc3-372ce6daa2c1","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_e5d45669_ba56_4079_9064_7e7fc91e3365","uuid":"638843ec-2330-4b6e-8780-ef0eae976675"},"name":"SYS_GEN__Runbook_Substrate_e5d45669_ba56_4079_9064_7e7fc91e3365"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"962497fa-35cb-40f1-8e36-45eb3d520878","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AzureSlave","uuid":"e5d45669-ba56-4079-9064-7e7fc91e3365"},"retries":"0","description":"","type":"DAG","uuid":"e367834e-8755-45e7-9eba-f82e9745a21d","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Azure_Delete_e5d45669_ba56_4079_9064_7e7fc91e3365","uuid":"089afec2-a60e-43d0-95bc-cd284da656bb"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_e5d45669_ba56_4079_9064_7e7fc91e3365"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureSlave","uuid":"e5d45669-ba56-4079-9064-7e7fc91e3365"},"retries":"0","description":"","type":"DELETE_AZURE_VM","uuid":"089afec2-a60e-43d0-95bc-cd284da656bb","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Azure_Delete_e5d45669_ba56_4079_9064_7e7fc91e3365"}],"description":"","message_list":[],"uuid":"628d4e20-6e1a-460a-8661-7358f35944bb","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_e5d45669_ba56_4079_9064_7e7fc91e3365","uuid":"e367834e-8755-45e7-9eba-f82e9745a21d"},"name":"SYS_GEN__Runbook_Substrate_e5d45669_ba56_4079_9064_7e7fc91e3365"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"d6f0b1fe-eaa4-48b6-81c2-4b741f4f9bad","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AzureSlave","uuid":"e5d45669-ba56-4079-9064-7e7fc91e3365"},"retries":"0","description":"","type":"DAG","uuid":"302821fe-da1f-45c6-815c-0084e1a927da","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Substrate_Element_Delete_e5d45669_ba56_4079_9064_7e7fc91e3365","uuid":"6add54f2-5b56-4610-a5d9-be622d93f04d"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_e5d45669_ba56_4079_9064_7e7fc91e3365"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureSlave","uuid":"e5d45669-ba56-4079-9064-7e7fc91e3365"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"6add54f2-5b56-4610-a5d9-be622d93f04d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Substrate_Element_Delete_e5d45669_ba56_4079_9064_7e7fc91e3365"}],"description":"","message_list":[],"uuid":"477b865e-757a-4e80-9b63-300263450bca","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_e5d45669_ba56_4079_9064_7e7fc91e3365","uuid":"302821fe-da1f-45c6-815c-0084e1a927da"},"name":"SYS_GEN__Runbook_Substrate_e5d45669_ba56_4079_9064_7e7fc91e3365"}}],"message_list":[{"message":"resource_group is a required field","reason":"EMPTY_VALUE","details":[{"attribute_name":"resource_group"}]},{"message":"location is a required field","reason":"EMPTY_VALUE","details":[{"attribute_name":"location"}]},{"message":"Hardware Profile is a required field","reason":"EMPTY_VALUE","details":[{"attribute_name":"vm_size"}]},{"message":"Incomplete VM Image details. Please select a Public Image for VM provisioning","reason":"EMPTY_VALUE","details":[{"attribute_name":"image_details"}]},{"message":"nsg_name is a required field","reason":"EMPTY_VALUE","details":[{"attribute_name":"nsg_name"}]},{"message":"vnet_name is a required field","reason":"EMPTY_VALUE","details":[{"attribute_name":"vnet_name"}]},{"message":"subnet_name is a required field","reason":"EMPTY_VALUE","details":[{"attribute_name":"subnet_name"}]}],"uuid":"e5d45669-ba56-4079-9064-7e7fc91e3365","state":"DRAFT","readiness_probe":{"connection_type":"SSH","retries":"5","disable_readiness_probe":false,"address":"@@{platform.publicIPAddressList[0]}@@","delay_secs":"0","connection_port":22,"login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"3ee7bf5d-2de9-4958-9b65-e30687c43f17"}},"editables":{"readiness_probe":{"connection_type":true,"delay_secs":true,"connection_port":true,"timeout_secs":null},"create_spec":{"resources":{"vm_name":true,"storage_profile":{"is_managed":true,"image_details":{"sku":true,"publisher":true,"version":true,"use_custom_image":true,"offer":true},"os_disk_details":{"storage_type":true,"create_option":true,"caching_type":true,"name":true}},"nw_profile":{"nic_list":{"0":{"nsg_name":true,"vnet_name":true,"private_ip_info":{"ip_allocation_method":true},"nic_name":true,"subnet_name":true,"public_ip_info":{"ip_name":true,"dns_label":true,"ip_allocation_method":true}}}},"resource_group":true,"os_profile":{"linux_config":{"custom_data":true}},"hw_profile":{"vm_size":true},"location":true,"availability_set_id":true,"tag_list":true}}},"os_type":"Linux","type":"AZURE_VM","create_spec":{"type":"PROVISION_AZURE_VM","name":"","resources":{"vm_name":"mysql-slave-@@{calm_unique_hash}@@-@@{calm_array_index}@@","storage_profile":{"is_managed":true,"image_details":{"sku":"","publisher":"","offer":"","source_image_id":"","use_custom_image":false,"version":"","type":""},"type":"","os_disk_details":{"size_in_gb":127,"name":"os-@@{calm_unique_hash}@@-@@{calm_array_index}@@-disk","storage_name":"","storage_type":"Standard_LRS","lun":-1,"type":"","create_option":"FromImage","caching_type":"ReadWrite"},"data_disk_list":[]},"nw_profile":{"nic_list":[{"nsg_name":"","vnet_name":"","private_ip_info":{"ip_address":"","ip_allocation_method":"Dynamic","type":""},"nic_name":"nic-@@{calm_unique_hash}@@-@@{calm_array_index}@@-0","subnet_name":"","type":"","public_ip_info":{"ip_name":"public-ip-@@{calm_unique_hash}@@-@@{calm_array_index}@@-0","dns_label":"dns-@@{calm_unique_hash}@@-@@{calm_array_index}@@-0","ip_allocation_method":"Dynamic","type":""}}],"primary_nic":-1,"type":""},"resource_group":"","os_profile":{"secrets":[],"type":"","windows_config":{"winrm_listeners":[],"time_zone":"","additional_unattend_content":[],"provision_vm_agent":true,"auto_updates":false,"type":""},"linux_config":{"disable_password_auth":false,"custom_data":"","type":"","public_keys":[]}},"hw_profile":{"max_data_disk_count":0,"vm_size":"","type":""},"location":"","availability_set_id":"","tag_list":[],"type":"","account_uuid":"3c0f2d94-878c-f34c-6d39-90b854129782"}},"variable_list":[],"name":"AzureSlave"}],"credential_definition_list":[{"username":"centos","description":"","state":"DRAFT","message_list":[{"message":"Secret value for credential is empty","reason":"EMPTY_VALUE","details":[{"attribute_name":"secret"}]}],"uuid":"3ee7bf5d-2de9-4958-9b65-e30687c43f17","secret":{"attrs":{"is_secret_modified":false,"secret_reference":{}}},"editables":{"username":true,"secret":true},"type":"KEY","name":"CENTOS"}],"type":"USER","app_profile_list":[{"deployment_create_list":[{"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"3546888d-1cb3-4889-b46d-28b5ed65d466","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"39ccafae-6cd4-40c9-813a-4656786fad81"},"retries":"0","description":"","type":"DAG","uuid":"7cb3740f-748f-4a47-a857-fc58858f6dc7","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__DE_Provision_39ccafae_6cd4_40c9_813a_4656786fad81","uuid":"ac4be95d-2953-4e4d-bbd2-9afd4e630a8c"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_9f1580d6_1ec8_4e83_ade6_af9db607985a","uuid":"f80945e8-9872-4ec9-9c77-c5891d861793"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_04eda07e_4a12_44ed_bf35_608dbe760e2b","uuid":"4b72baed-d7e6-48ae-8dd3-b8ea5f7ccd2b"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_81a41acc_b3b9_4f6c_a201_f4c0801ff657","uuid":"977e6401-02c3-4c79-9cf8-8e9e4132a74b"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"d2294c71-9b19-438b-8e5f-229f2e449708"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"ea516fa2-aa89-4b36-91d8-d6a276341ea7"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"d2294c71-9b19-438b-8e5f-229f2e449708"},"edge_type":"inherent","type":"","uuid":"76ff6d49-f99b-4527-ad9c-6299178ad2ba","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"ea516fa2-aa89-4b36-91d8-d6a276341ea7"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_81a41acc_b3b9_4f6c_a201_f4c0801ff657","uuid":"977e6401-02c3-4c79-9cf8-8e9e4132a74b"},"edge_type":"inherent","type":"","uuid":"793d7306-ce4b-4646-bc2c-c5ef9049c233","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"d2294c71-9b19-438b-8e5f-229f2e449708"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_39ccafae_6cd4_40c9_813a_4656786fad81","uuid":"ac4be95d-2953-4e4d-bbd2-9afd4e630a8c"},"edge_type":"inherent","type":"","uuid":"4f38544d-6f0c-4b02-b406-5c682002fa4d","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_04eda07e_4a12_44ed_bf35_608dbe760e2b","uuid":"4b72baed-d7e6-48ae-8dd3-b8ea5f7ccd2b"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_04eda07e_4a12_44ed_bf35_608dbe760e2b","uuid":"4b72baed-d7e6-48ae-8dd3-b8ea5f7ccd2b"},"edge_type":"inherent","type":"","uuid":"b66b0518-e551-4c50-81ad-9e9b2c63bd1b","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_81a41acc_b3b9_4f6c_a201_f4c0801ff657","uuid":"977e6401-02c3-4c79-9cf8-8e9e4132a74b"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_39ccafae_6cd4_40c9_813a_4656786fad81","uuid":"ac4be95d-2953-4e4d-bbd2-9afd4e630a8c"},"edge_type":"inherent","type":"","uuid":"dec04454-07ce-4423-8f82-11acebae3672","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_9f1580d6_1ec8_4e83_ade6_af9db607985a","uuid":"f80945e8-9872-4ec9-9c77-c5891d861793"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_9f1580d6_1ec8_4e83_ade6_af9db607985a","uuid":"f80945e8-9872-4ec9-9c77-c5891d861793"},"edge_type":"inherent","type":"","uuid":"713b44c0-d72c-434c-9bfc-0e7ae71c431f","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_04eda07e_4a12_44ed_bf35_608dbe760e2b","uuid":"4b72baed-d7e6-48ae-8dd3-b8ea5f7ccd2b"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_39ccafae_6cd4_40c9_813a_4656786fad81"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"39ccafae-6cd4-40c9-813a-4656786fad81"},"retries":"0","description":"","type":"CREATE_DEPLOYMENT_ELEMENT","uuid":"ac4be95d-2953-4e4d-bbd2-9afd4e630a8c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Provision_39ccafae_6cd4_40c9_813a_4656786fad81"},{"target_any_local_reference":{"kind":"app_package","name":"CENTOS_74","uuid":"9f1580d6-1ec8-4e83-ade6-af9db607985a"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"f80945e8-9872-4ec9-9c77-c5891d861793","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"39ccafae-6cd4-40c9-813a-4656786fad81"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_9f1580d6_1ec8_4e83_ade6_af9db607985a","uuid":"93fde81e-3390-49c3-90af-58e83685575b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_9f1580d6_1ec8_4e83_ade6_af9db607985a"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVMaster","uuid":"04eda07e-4a12-44ed-bf35-608dbe760e2b"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"4b72baed-d7e6-48ae-8dd3-b8ea5f7ccd2b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"39ccafae-6cd4-40c9-813a-4656786fad81"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_04eda07e_4a12_44ed_bf35_608dbe760e2b","uuid":"82b7e0db-adb5-4891-b9c3-db96fbed8f19"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Substrate_04eda07e_4a12_44ed_bf35_608dbe760e2b"},{"target_any_local_reference":{"kind":"app_package","name":"AHVMasterPackage","uuid":"81a41acc-b3b9-4f6c-a201-f4c0801ff657"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"977e6401-02c3-4c79-9cf8-8e9e4132a74b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"39ccafae-6cd4-40c9-813a-4656786fad81"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_81a41acc_b3b9_4f6c_a201_f4c0801ff657","uuid":"32e1e428-414e-4212-8861-c979cde9c7e3"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_81a41acc_b3b9_4f6c_a201_f4c0801ff657"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"d2294c71-9b19-438b-8e5f-229f2e449708","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"39ccafae-6cd4-40c9-813a-4656786fad81"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0a970522_runbook","uuid":"9866e43d-ff48-4abb-bade-7f5396ce551e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"ea516fa2-aa89-4b36-91d8-d6a276341ea7","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"39ccafae-6cd4-40c9-813a-4656786fad81"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"5ddb28d1_runbook","uuid":"907290fe-eaef-465b-a916-7c2c67d20c97"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b"}],"description":"","message_list":[],"uuid":"f27922dd-d586-41c6-b748-cf654288daa7","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_39ccafae_6cd4_40c9_813a_4656786fad81","uuid":"7cb3740f-748f-4a47-a857-fc58858f6dc7"},"name":"SYS_GEN__Runbook_Deployment_39ccafae_6cd4_40c9_813a_4656786fad81"}},{"description":"System action for starting an application","message_list":[],"uuid":"36a732ca-6c78-47f5-8b6c-14e5b2fd142a","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"39ccafae-6cd4-40c9-813a-4656786fad81"},"retries":"0","description":"","type":"DAG","uuid":"ee7a999a-59e9-4d8b-99ca-b584d214d000","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_04eda07e_4a12_44ed_bf35_608dbe760e2b","uuid":"2c0a42c6-d8dc-459b-8319-e2d0b0dda207"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"ccfa7298-594a-4bb0-9862-60654f8be605"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_04eda07e_4a12_44ed_bf35_608dbe760e2b","uuid":"2c0a42c6-d8dc-459b-8319-e2d0b0dda207"},"edge_type":"inherent","type":"","uuid":"8ab39f1e-5f9c-4370-9885-3ab1f2b47053","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"ccfa7298-594a-4bb0-9862-60654f8be605"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_39ccafae_6cd4_40c9_813a_4656786fad81"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVMaster","uuid":"04eda07e-4a12-44ed-bf35-608dbe760e2b"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"2c0a42c6-d8dc-459b-8319-e2d0b0dda207","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"39ccafae-6cd4-40c9-813a-4656786fad81"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_04eda07e_4a12_44ed_bf35_608dbe760e2b","uuid":"8326983f-43dc-4fda-bdd0-d2213a78b4a3"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Substrate_04eda07e_4a12_44ed_bf35_608dbe760e2b"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"ccfa7298-594a-4bb0-9862-60654f8be605","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"39ccafae-6cd4-40c9-813a-4656786fad81"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"5ddb28d1_runbook","uuid":"907290fe-eaef-465b-a916-7c2c67d20c97"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b"}],"description":"","message_list":[],"uuid":"84c7c05f-b75c-4a05-85e3-5ae48f6c7d0b","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_39ccafae_6cd4_40c9_813a_4656786fad81","uuid":"ee7a999a-59e9-4d8b-99ca-b584d214d000"},"name":"SYS_GEN__Runbook_Deployment_39ccafae_6cd4_40c9_813a_4656786fad81"}},{"description":"System action for restarting an application","message_list":[],"uuid":"7e38fc3d-e0f7-48e6-82ee-7121ca1855b6","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"39ccafae-6cd4-40c9-813a-4656786fad81"},"retries":"0","description":"","type":"DAG","uuid":"30bbd2cd-94c7-4aca-9302-b46f11708e6c","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_04eda07e_4a12_44ed_bf35_608dbe760e2b","uuid":"d00f2b6b-5a43-46ba-abaa-1587a5f52b01"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"a3505865-d202-4dd4-80e3-86db008ca91f"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_04eda07e_4a12_44ed_bf35_608dbe760e2b","uuid":"d00f2b6b-5a43-46ba-abaa-1587a5f52b01"},"edge_type":"inherent","type":"","uuid":"3232ee43-46dd-4fea-b540-bd283e448b8d","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"a3505865-d202-4dd4-80e3-86db008ca91f"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_39ccafae_6cd4_40c9_813a_4656786fad81"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVMaster","uuid":"04eda07e-4a12-44ed-bf35-608dbe760e2b"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"d00f2b6b-5a43-46ba-abaa-1587a5f52b01","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"39ccafae-6cd4-40c9-813a-4656786fad81"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_04eda07e_4a12_44ed_bf35_608dbe760e2b","uuid":"c167831b-472c-49d9-836b-f7d00950b0de"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Substrate_04eda07e_4a12_44ed_bf35_608dbe760e2b"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"a3505865-d202-4dd4-80e3-86db008ca91f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"39ccafae-6cd4-40c9-813a-4656786fad81"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"7e709238_runbook","uuid":"e38aa3c5-d052-4d28-84e6-acfb09a6af83"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b"}],"description":"","message_list":[],"uuid":"7002afde-727f-4f7f-a637-59b843b8afee","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_39ccafae_6cd4_40c9_813a_4656786fad81","uuid":"30bbd2cd-94c7-4aca-9302-b46f11708e6c"},"name":"SYS_GEN__Runbook_Deployment_39ccafae_6cd4_40c9_813a_4656786fad81"}},{"description":"System action for stopping an application","message_list":[],"uuid":"3192fddf-ff68-4318-9993-41250ddc3ecb","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"39ccafae-6cd4-40c9-813a-4656786fad81"},"retries":"0","description":"","type":"DAG","uuid":"616000fd-deac-4a7a-89ff-004e019d0eba","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"01fefacb-39a2-4277-837e-e5cb30a1669e"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_04eda07e_4a12_44ed_bf35_608dbe760e2b","uuid":"496207ff-0f06-489f-b3d6-8b499eb06198"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"01fefacb-39a2-4277-837e-e5cb30a1669e"},"edge_type":"inherent","type":"","uuid":"fe6fd894-8ef1-4702-a863-1e91d53c3660","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_04eda07e_4a12_44ed_bf35_608dbe760e2b","uuid":"496207ff-0f06-489f-b3d6-8b499eb06198"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_39ccafae_6cd4_40c9_813a_4656786fad81"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"01fefacb-39a2-4277-837e-e5cb30a1669e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"39ccafae-6cd4-40c9-813a-4656786fad81"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0aefbca3_runbook","uuid":"ce2a2858-b89b-4bb4-8fb3-ee8bd8a6bd3f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVMaster","uuid":"04eda07e-4a12-44ed-bf35-608dbe760e2b"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"496207ff-0f06-489f-b3d6-8b499eb06198","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"39ccafae-6cd4-40c9-813a-4656786fad81"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_04eda07e_4a12_44ed_bf35_608dbe760e2b","uuid":"243d2b07-f797-48b3-9263-64408e9584ad"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Substrate_04eda07e_4a12_44ed_bf35_608dbe760e2b"}],"description":"","message_list":[],"uuid":"4c2b6c51-e64f-4430-8128-cfafaf2e8ed5","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_39ccafae_6cd4_40c9_813a_4656786fad81","uuid":"616000fd-deac-4a7a-89ff-004e019d0eba"},"name":"SYS_GEN__Runbook_Deployment_39ccafae_6cd4_40c9_813a_4656786fad81"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"b5a4fa0e-4788-44e0-b0e9-1b92db115edd","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"39ccafae-6cd4-40c9-813a-4656786fad81"},"retries":"0","description":"","type":"DAG","uuid":"2745f149-ebcc-4644-80af-f1718764bc03","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"6a8adb35-b3bd-4c2d-9a8f-c30e32809e82"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"4971fb8d-6abb-4e33-b5f2-66a4c951b4f5"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_81a41acc_b3b9_4f6c_a201_f4c0801ff657","uuid":"76854f88-32f0-49fb-b82c-962d8afbd738"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_04eda07e_4a12_44ed_bf35_608dbe760e2b","uuid":"23c026cb-ee12-4c43-b014-43a4865c74bc"},{"kind":"app_task","name":"SYS_GEN__DE_Delete_39ccafae_6cd4_40c9_813a_4656786fad81","uuid":"10438311-fa95-4e5d-a140-58cd664df9a7"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"6a8adb35-b3bd-4c2d-9a8f-c30e32809e82"},"edge_type":"inherent","type":"","uuid":"9b4bd630-e440-4b01-b776-4146f43ba0a1","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"4971fb8d-6abb-4e33-b5f2-66a4c951b4f5"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"4971fb8d-6abb-4e33-b5f2-66a4c951b4f5"},"edge_type":"inherent","type":"","uuid":"ff3fdb56-c83c-4962-9a5d-20ed6da5c949","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_81a41acc_b3b9_4f6c_a201_f4c0801ff657","uuid":"76854f88-32f0-49fb-b82c-962d8afbd738"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_04eda07e_4a12_44ed_bf35_608dbe760e2b","uuid":"23c026cb-ee12-4c43-b014-43a4865c74bc"},"edge_type":"inherent","type":"","uuid":"b158bc2b-61d6-45e8-9efd-a35076db2a5f","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Delete_39ccafae_6cd4_40c9_813a_4656786fad81","uuid":"10438311-fa95-4e5d-a140-58cd664df9a7"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_81a41acc_b3b9_4f6c_a201_f4c0801ff657","uuid":"76854f88-32f0-49fb-b82c-962d8afbd738"},"edge_type":"inherent","type":"","uuid":"30755e50-d75e-42ed-9b77-4560d3d7a3a3","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_04eda07e_4a12_44ed_bf35_608dbe760e2b","uuid":"23c026cb-ee12-4c43-b014-43a4865c74bc"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_39ccafae_6cd4_40c9_813a_4656786fad81"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"6a8adb35-b3bd-4c2d-9a8f-c30e32809e82","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"39ccafae-6cd4-40c9-813a-4656786fad81"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0aefbca3_runbook","uuid":"ce2a2858-b89b-4bb4-8fb3-ee8bd8a6bd3f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"4971fb8d-6abb-4e33-b5f2-66a4c951b4f5","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"39ccafae-6cd4-40c9-813a-4656786fad81"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"5fd47ec3_runbook","uuid":"e410ef14-5f72-46ab-b7d5-0181621be34f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b"},{"target_any_local_reference":{"kind":"app_package","name":"AHVMasterPackage","uuid":"81a41acc-b3b9-4f6c-a201-f4c0801ff657"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"76854f88-32f0-49fb-b82c-962d8afbd738","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"39ccafae-6cd4-40c9-813a-4656786fad81"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_81a41acc_b3b9_4f6c_a201_f4c0801ff657","uuid":"09db8538-f052-4d84-8481-e25db04dceb5"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_81a41acc_b3b9_4f6c_a201_f4c0801ff657"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVMaster","uuid":"04eda07e-4a12-44ed-bf35-608dbe760e2b"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"23c026cb-ee12-4c43-b014-43a4865c74bc","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"39ccafae-6cd4-40c9-813a-4656786fad81"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_04eda07e_4a12_44ed_bf35_608dbe760e2b","uuid":"2dc228b5-fe0d-4168-9228-0b8e7084b408"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Substrate_04eda07e_4a12_44ed_bf35_608dbe760e2b"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"39ccafae-6cd4-40c9-813a-4656786fad81"},"retries":"0","description":"","type":"DELETE_DEPLOYMENT_ELEMENT","uuid":"10438311-fa95-4e5d-a140-58cd664df9a7","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Delete_39ccafae_6cd4_40c9_813a_4656786fad81"}],"description":"","message_list":[],"uuid":"06f99abd-d69e-48ab-8685-be6649d543bf","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_39ccafae_6cd4_40c9_813a_4656786fad81","uuid":"2745f149-ebcc-4644-80af-f1718764bc03"},"name":"SYS_GEN__Runbook_Deployment_39ccafae_6cd4_40c9_813a_4656786fad81"}},{"description":"System action for scaleout","message_list":[],"uuid":"403878aa-1162-4760-b13b-b4024c8746fc","name":"action_scaleout","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"39ccafae-6cd4-40c9-813a-4656786fad81"},"retries":"0","description":"","type":"DAG","uuid":"36639362-4449-4968-9832-13bc86b31ee1","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Deployment_Scaleout_39ccafae_6cd4_40c9_813a_4656786fad81","uuid":"5311d28d-50ec-4a73-b20a-dd815000e811"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_39ccafae_6cd4_40c9_813a_4656786fad81"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"39ccafae-6cd4-40c9-813a-4656786fad81"},"retries":"0","description":"","type":"SCALING","uuid":"5311d28d-50ec-4a73-b20a-dd815000e811","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{scaling_count}@@","type":"","scaling_type":"SCALEOUT"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Deployment_Scaleout_39ccafae_6cd4_40c9_813a_4656786fad81"}],"description":"","message_list":[],"uuid":"1674b6f1-8ebb-45dd-b926-7f4949f89be1","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"90f14895-db58-4246-a462-e3ea72bc69cb","value":"0","label":"","state":"NOT_VALIDATED","attrs":{},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"scaling_count"}],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_39ccafae_6cd4_40c9_813a_4656786fad81","uuid":"36639362-4449-4968-9832-13bc86b31ee1"},"name":"SYS_GEN__Runbook_Deployment_39ccafae_6cd4_40c9_813a_4656786fad81"}},{"description":"System action for scalein","message_list":[],"uuid":"fd51412c-87ed-42b0-8001-fcdf9531672b","name":"action_scalein","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"39ccafae-6cd4-40c9-813a-4656786fad81"},"retries":"0","description":"","type":"DAG","uuid":"a7e04dc6-1588-4027-ad32-5cebfdfb7a5a","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Deployment_Scalein_39ccafae_6cd4_40c9_813a_4656786fad81","uuid":"aa74f4ad-2781-484f-b0cb-7420b3e31caf"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_39ccafae_6cd4_40c9_813a_4656786fad81"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"39ccafae-6cd4-40c9-813a-4656786fad81"},"retries":"0","description":"","type":"SCALING","uuid":"aa74f4ad-2781-484f-b0cb-7420b3e31caf","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{scaling_count}@@","type":"","scaling_type":"SCALEIN"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Deployment_Scalein_39ccafae_6cd4_40c9_813a_4656786fad81"}],"description":"","message_list":[],"uuid":"a0079442-653e-477f-9fd1-a2faf07bc155","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"f58b093a-2e8e-4f31-82b3-8d34188883c8","value":"0","label":"","state":"NOT_VALIDATED","attrs":{},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"scaling_count"}],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_39ccafae_6cd4_40c9_813a_4656786fad81","uuid":"a7e04dc6-1588-4027-ad32-5cebfdfb7a5a"},"name":"SYS_GEN__Runbook_Deployment_39ccafae_6cd4_40c9_813a_4656786fad81"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"a4701e75-1bf8-4d49-9a68-7d812892531b","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"39ccafae-6cd4-40c9-813a-4656786fad81"},"retries":"0","description":"","type":"DAG","uuid":"d39b05bf-a779-4c87-93ae-fb54f09c8dda","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"1b492080-5e45-42e4-a1d8-1290779405f1"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_81a41acc_b3b9_4f6c_a201_f4c0801ff657","uuid":"c2804b63-44e1-4948-8bc0-374e8d759603"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_04eda07e_4a12_44ed_bf35_608dbe760e2b","uuid":"7f7b6749-7165-4c10-8def-b50e21f9d049"},{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_39ccafae_6cd4_40c9_813a_4656786fad81","uuid":"7849164a-f32c-4407-b832-bee7cb569d28"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"1b492080-5e45-42e4-a1d8-1290779405f1"},"edge_type":"inherent","type":"","uuid":"9ab4b042-e66d-429d-997d-768323cfd276","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_81a41acc_b3b9_4f6c_a201_f4c0801ff657","uuid":"c2804b63-44e1-4948-8bc0-374e8d759603"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_81a41acc_b3b9_4f6c_a201_f4c0801ff657","uuid":"c2804b63-44e1-4948-8bc0-374e8d759603"},"edge_type":"inherent","type":"","uuid":"3664c413-668d-4642-84f2-bab9c70c515e","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_04eda07e_4a12_44ed_bf35_608dbe760e2b","uuid":"7f7b6749-7165-4c10-8def-b50e21f9d049"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_04eda07e_4a12_44ed_bf35_608dbe760e2b","uuid":"7f7b6749-7165-4c10-8def-b50e21f9d049"},"edge_type":"inherent","type":"","uuid":"1152c8aa-0513-410f-b1f5-c2d50f990ba8","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_39ccafae_6cd4_40c9_813a_4656786fad81","uuid":"7849164a-f32c-4407-b832-bee7cb569d28"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_39ccafae_6cd4_40c9_813a_4656786fad81"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"1b492080-5e45-42e4-a1d8-1290779405f1","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"39ccafae-6cd4-40c9-813a-4656786fad81"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"b9b6e25b-f9f5-473d-8c7e-6fcb8b23a4da"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b"},{"target_any_local_reference":{"kind":"app_package","name":"AHVMasterPackage","uuid":"81a41acc-b3b9-4f6c-a201-f4c0801ff657"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"c2804b63-44e1-4948-8bc0-374e8d759603","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_81a41acc_b3b9_4f6c_a201_f4c0801ff657"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVMaster","uuid":"04eda07e-4a12-44ed-bf35-608dbe760e2b"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"7f7b6749-7165-4c10-8def-b50e21f9d049","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"39ccafae-6cd4-40c9-813a-4656786fad81"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_04eda07e_4a12_44ed_bf35_608dbe760e2b","uuid":"bfa744ae-0f96-464f-a5f8-b245a6341e26"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Substrate_04eda07e_4a12_44ed_bf35_608dbe760e2b"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"39ccafae-6cd4-40c9-813a-4656786fad81"},"retries":"0","description":"","type":"SOFT_DELETE_DEPLOYMENT_ELEMENT","uuid":"7849164a-f32c-4407-b832-bee7cb569d28","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Soft_Delete_39ccafae_6cd4_40c9_813a_4656786fad81"}],"description":"","message_list":[],"uuid":"86f302d6-f690-4dc6-9d85-b3a3c39e9f8b","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_39ccafae_6cd4_40c9_813a_4656786fad81","uuid":"d39b05bf-a779-4c87-93ae-fb54f09c8dda"},"name":"SYS_GEN__Runbook_Deployment_39ccafae_6cd4_40c9_813a_4656786fad81"}}],"message_list":[],"published_service_local_reference_list":[],"uuid":"39ccafae-6cd4-40c9-813a-4656786fad81","min_replicas":"1","state":"ACTIVE","max_replicas":"1","depends_on_list":[],"editables":{},"package_local_reference_list":[{"kind":"app_package","name":"AHVMasterPackage","uuid":"81a41acc-b3b9-4f6c-a201-f4c0801ff657"}],"substrate_local_reference":{"kind":"app_substrate","name":"AHVMaster","uuid":"04eda07e-4a12-44ed-bf35-608dbe760e2b"},"type":"GREENFIELD","options":{},"variable_list":[],"name":"9098b02b_deployment"},{"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"9829c052-a6e8-4adf-9870-1e4d2ce71e27","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"90a3122d-0ed2-46e1-b053-f4ea2be0e17b"},"retries":"0","description":"","type":"DAG","uuid":"7f1f2917-bfe2-4d43-b4ca-3d4821590cd7","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__DE_Provision_90a3122d_0ed2_46e1_b053_f4ea2be0e17b","uuid":"f5e1808a-8560-4458-8f14-3383bb9cc8ad"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_9f1580d6_1ec8_4e83_ade6_af9db607985a","uuid":"1ffe212a-6505-48fb-98ff-b1ccf12e3daf"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_64640b55_4f15_4de6_8c5b_cc0821f4ef8d","uuid":"9a292048-50ff-46d5-ad8e-b08bee40e669"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_7d73448d_ff3f_4216_9ebf_a58913350eea","uuid":"1faf0ac0-b053-48df-835b-313f473de72f"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"1eeedc22-3b5a-435a-bd2b-157ac7caba49"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"be792369-9bf5-48a3-8fd9-6dd20e2c41dd"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"1eeedc22-3b5a-435a-bd2b-157ac7caba49"},"edge_type":"inherent","type":"","uuid":"4192a8dc-89c3-4d17-a889-cf04d668f57e","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"be792369-9bf5-48a3-8fd9-6dd20e2c41dd"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_7d73448d_ff3f_4216_9ebf_a58913350eea","uuid":"1faf0ac0-b053-48df-835b-313f473de72f"},"edge_type":"inherent","type":"","uuid":"7bc88fe4-578f-4b7e-9b97-fb5148aeba07","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"1eeedc22-3b5a-435a-bd2b-157ac7caba49"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_64640b55_4f15_4de6_8c5b_cc0821f4ef8d","uuid":"9a292048-50ff-46d5-ad8e-b08bee40e669"},"edge_type":"inherent","type":"","uuid":"528454a1-d51e-401f-bcc8-d2cf4010be70","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_7d73448d_ff3f_4216_9ebf_a58913350eea","uuid":"1faf0ac0-b053-48df-835b-313f473de72f"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_9f1580d6_1ec8_4e83_ade6_af9db607985a","uuid":"1ffe212a-6505-48fb-98ff-b1ccf12e3daf"},"edge_type":"inherent","type":"","uuid":"8e2d3db1-e6e8-44ed-ae5f-01cce78e78c1","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_64640b55_4f15_4de6_8c5b_cc0821f4ef8d","uuid":"9a292048-50ff-46d5-ad8e-b08bee40e669"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_90a3122d_0ed2_46e1_b053_f4ea2be0e17b","uuid":"f5e1808a-8560-4458-8f14-3383bb9cc8ad"},"edge_type":"inherent","type":"","uuid":"e5daf028-5f56-4073-aecb-7c68bd980e74","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_64640b55_4f15_4de6_8c5b_cc0821f4ef8d","uuid":"9a292048-50ff-46d5-ad8e-b08bee40e669"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_90a3122d_0ed2_46e1_b053_f4ea2be0e17b","uuid":"f5e1808a-8560-4458-8f14-3383bb9cc8ad"},"edge_type":"inherent","type":"","uuid":"738575ea-1233-4e4f-9206-c0eb1ca5d744","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_9f1580d6_1ec8_4e83_ade6_af9db607985a","uuid":"1ffe212a-6505-48fb-98ff-b1ccf12e3daf"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_90a3122d_0ed2_46e1_b053_f4ea2be0e17b"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"90a3122d-0ed2-46e1-b053-f4ea2be0e17b"},"retries":"0","description":"","type":"CREATE_DEPLOYMENT_ELEMENT","uuid":"f5e1808a-8560-4458-8f14-3383bb9cc8ad","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Provision_90a3122d_0ed2_46e1_b053_f4ea2be0e17b"},{"target_any_local_reference":{"kind":"app_package","name":"CENTOS_74","uuid":"9f1580d6-1ec8-4e83-ade6-af9db607985a"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"1ffe212a-6505-48fb-98ff-b1ccf12e3daf","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"90a3122d-0ed2-46e1-b053-f4ea2be0e17b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_9f1580d6_1ec8_4e83_ade6_af9db607985a","uuid":"93fde81e-3390-49c3-90af-58e83685575b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_9f1580d6_1ec8_4e83_ade6_af9db607985a"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVSlave","uuid":"64640b55-4f15-4de6-8c5b-cc0821f4ef8d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"9a292048-50ff-46d5-ad8e-b08bee40e669","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"90a3122d-0ed2-46e1-b053-f4ea2be0e17b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_64640b55_4f15_4de6_8c5b_cc0821f4ef8d","uuid":"24428187-1a96-46b8-9a54-ec6581850f21"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Substrate_64640b55_4f15_4de6_8c5b_cc0821f4ef8d"},{"target_any_local_reference":{"kind":"app_package","name":"AHVSlavePackage","uuid":"7d73448d-ff3f-4216-9ebf-a58913350eea"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"1faf0ac0-b053-48df-835b-313f473de72f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"90a3122d-0ed2-46e1-b053-f4ea2be0e17b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_7d73448d_ff3f_4216_9ebf_a58913350eea","uuid":"93e141a5-f69b-49ed-bd51-452ec0713d94"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_7d73448d_ff3f_4216_9ebf_a58913350eea"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"1eeedc22-3b5a-435a-bd2b-157ac7caba49","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"90a3122d-0ed2-46e1-b053-f4ea2be0e17b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"d54168c9_runbook","uuid":"d9d72b08-90b4-46c2-a771-6d338abb4bc3"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"be792369-9bf5-48a3-8fd9-6dd20e2c41dd","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"90a3122d-0ed2-46e1-b053-f4ea2be0e17b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"a027cde0_runbook","uuid":"557651c0-2ccf-45cb-beb3-9f2028221b2e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d"}],"description":"","message_list":[],"uuid":"9c153edc-9ac1-4298-8e50-41561d41de00","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_90a3122d_0ed2_46e1_b053_f4ea2be0e17b","uuid":"7f1f2917-bfe2-4d43-b4ca-3d4821590cd7"},"name":"SYS_GEN__Runbook_Deployment_90a3122d_0ed2_46e1_b053_f4ea2be0e17b"}},{"description":"System action for starting an application","message_list":[],"uuid":"0bf06ff4-a3b0-474d-9c4f-bee86ae4cd1b","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"90a3122d-0ed2-46e1-b053-f4ea2be0e17b"},"retries":"0","description":"","type":"DAG","uuid":"ec9de261-ca08-45bc-8866-7deef284425e","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_64640b55_4f15_4de6_8c5b_cc0821f4ef8d","uuid":"95ee66f3-99ad-43e7-a3b5-f805f700f2be"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"3319fa8d-632e-4581-9bf5-73fbf5bc0d94"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_64640b55_4f15_4de6_8c5b_cc0821f4ef8d","uuid":"95ee66f3-99ad-43e7-a3b5-f805f700f2be"},"edge_type":"inherent","type":"","uuid":"4d66be4d-b9db-4f0f-b4c3-a1bb743956db","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"3319fa8d-632e-4581-9bf5-73fbf5bc0d94"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_90a3122d_0ed2_46e1_b053_f4ea2be0e17b"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVSlave","uuid":"64640b55-4f15-4de6-8c5b-cc0821f4ef8d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"95ee66f3-99ad-43e7-a3b5-f805f700f2be","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"90a3122d-0ed2-46e1-b053-f4ea2be0e17b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_64640b55_4f15_4de6_8c5b_cc0821f4ef8d","uuid":"a1134917-cc1c-4316-a66d-f2f1a3053b07"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Substrate_64640b55_4f15_4de6_8c5b_cc0821f4ef8d"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"3319fa8d-632e-4581-9bf5-73fbf5bc0d94","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"90a3122d-0ed2-46e1-b053-f4ea2be0e17b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"a027cde0_runbook","uuid":"557651c0-2ccf-45cb-beb3-9f2028221b2e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d"}],"description":"","message_list":[],"uuid":"480773ba-1091-4043-b04c-12b0cc407846","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_90a3122d_0ed2_46e1_b053_f4ea2be0e17b","uuid":"ec9de261-ca08-45bc-8866-7deef284425e"},"name":"SYS_GEN__Runbook_Deployment_90a3122d_0ed2_46e1_b053_f4ea2be0e17b"}},{"description":"System action for restarting an application","message_list":[],"uuid":"41ee42f4-72d6-40af-8dd7-9d4a8e1b6f0e","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"90a3122d-0ed2-46e1-b053-f4ea2be0e17b"},"retries":"0","description":"","type":"DAG","uuid":"4503d632-d856-4185-8241-80850e32bee3","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_64640b55_4f15_4de6_8c5b_cc0821f4ef8d","uuid":"b8d19421-ecc1-4ab9-b9da-118e3c4454bc"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"45f42416-4ad3-49aa-a97b-da6073060877"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_64640b55_4f15_4de6_8c5b_cc0821f4ef8d","uuid":"b8d19421-ecc1-4ab9-b9da-118e3c4454bc"},"edge_type":"inherent","type":"","uuid":"fa51b89c-c1c7-483f-a9ae-7ef4e5f01dc8","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"45f42416-4ad3-49aa-a97b-da6073060877"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_90a3122d_0ed2_46e1_b053_f4ea2be0e17b"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVSlave","uuid":"64640b55-4f15-4de6-8c5b-cc0821f4ef8d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"b8d19421-ecc1-4ab9-b9da-118e3c4454bc","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"90a3122d-0ed2-46e1-b053-f4ea2be0e17b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_64640b55_4f15_4de6_8c5b_cc0821f4ef8d","uuid":"979a1f56-cbab-4906-a423-a292862e80ff"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Substrate_64640b55_4f15_4de6_8c5b_cc0821f4ef8d"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"45f42416-4ad3-49aa-a97b-da6073060877","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"90a3122d-0ed2-46e1-b053-f4ea2be0e17b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"f2b2a076_runbook","uuid":"d30fe7b4-3486-4f8a-a3b8-e08401237ee7"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d"}],"description":"","message_list":[],"uuid":"b8997c24-3bf6-4c28-98e8-c0da7a8de472","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_90a3122d_0ed2_46e1_b053_f4ea2be0e17b","uuid":"4503d632-d856-4185-8241-80850e32bee3"},"name":"SYS_GEN__Runbook_Deployment_90a3122d_0ed2_46e1_b053_f4ea2be0e17b"}},{"description":"System action for stopping an application","message_list":[],"uuid":"d9252973-3888-4977-b0f6-2bdc93ba8537","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"90a3122d-0ed2-46e1-b053-f4ea2be0e17b"},"retries":"0","description":"","type":"DAG","uuid":"6be52f89-8c49-4e24-9dbb-65907413e5b8","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"1e1b853c-752c-4405-a871-67a1c29af14b"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_64640b55_4f15_4de6_8c5b_cc0821f4ef8d","uuid":"6fd186f9-9a32-4eaa-bf8c-00aa05e08750"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"1e1b853c-752c-4405-a871-67a1c29af14b"},"edge_type":"inherent","type":"","uuid":"bc67bd40-5116-4d2a-b629-2b56eb9e8f33","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_64640b55_4f15_4de6_8c5b_cc0821f4ef8d","uuid":"6fd186f9-9a32-4eaa-bf8c-00aa05e08750"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_90a3122d_0ed2_46e1_b053_f4ea2be0e17b"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"1e1b853c-752c-4405-a871-67a1c29af14b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"90a3122d-0ed2-46e1-b053-f4ea2be0e17b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"4a2ad0be_runbook","uuid":"d405c9d6-da96-4365-b171-e7ffb7e6b913"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVSlave","uuid":"64640b55-4f15-4de6-8c5b-cc0821f4ef8d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"6fd186f9-9a32-4eaa-bf8c-00aa05e08750","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"90a3122d-0ed2-46e1-b053-f4ea2be0e17b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_64640b55_4f15_4de6_8c5b_cc0821f4ef8d","uuid":"4076ce26-56ca-44dc-bc79-41027c128a4d"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Substrate_64640b55_4f15_4de6_8c5b_cc0821f4ef8d"}],"description":"","message_list":[],"uuid":"384831f4-fe65-470f-ac47-9156a7b12e23","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_90a3122d_0ed2_46e1_b053_f4ea2be0e17b","uuid":"6be52f89-8c49-4e24-9dbb-65907413e5b8"},"name":"SYS_GEN__Runbook_Deployment_90a3122d_0ed2_46e1_b053_f4ea2be0e17b"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"90983fcd-f668-43db-a8f6-9896f95d2046","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"90a3122d-0ed2-46e1-b053-f4ea2be0e17b"},"retries":"0","description":"","type":"DAG","uuid":"8dd36c17-38b2-4667-b517-37bb60081b52","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"7c662adc-11e1-475c-8d70-fb3047f94108"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"a12058e3-fe16-4d12-80fd-d5dbbb264440"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_7d73448d_ff3f_4216_9ebf_a58913350eea","uuid":"0eeff7f1-2adc-4511-a582-f792b90b1023"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_64640b55_4f15_4de6_8c5b_cc0821f4ef8d","uuid":"616d0ead-04c1-4cfd-b6e4-bf52ed1ad364"},{"kind":"app_task","name":"SYS_GEN__DE_Delete_90a3122d_0ed2_46e1_b053_f4ea2be0e17b","uuid":"63082ce2-5f71-44fe-9541-e6d5a1850abb"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"7c662adc-11e1-475c-8d70-fb3047f94108"},"edge_type":"inherent","type":"","uuid":"264bd096-0f50-427f-9012-61e1e7ccc1ad","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"a12058e3-fe16-4d12-80fd-d5dbbb264440"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"a12058e3-fe16-4d12-80fd-d5dbbb264440"},"edge_type":"inherent","type":"","uuid":"707e3e65-6bdb-47f6-ac8d-274f16fa4f83","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_7d73448d_ff3f_4216_9ebf_a58913350eea","uuid":"0eeff7f1-2adc-4511-a582-f792b90b1023"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_7d73448d_ff3f_4216_9ebf_a58913350eea","uuid":"0eeff7f1-2adc-4511-a582-f792b90b1023"},"edge_type":"inherent","type":"","uuid":"d9614fe7-78f0-418e-9b87-a13406269801","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_64640b55_4f15_4de6_8c5b_cc0821f4ef8d","uuid":"616d0ead-04c1-4cfd-b6e4-bf52ed1ad364"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_64640b55_4f15_4de6_8c5b_cc0821f4ef8d","uuid":"616d0ead-04c1-4cfd-b6e4-bf52ed1ad364"},"edge_type":"inherent","type":"","uuid":"340b8bd9-d762-43ba-b535-e102d94f5de5","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Delete_90a3122d_0ed2_46e1_b053_f4ea2be0e17b","uuid":"63082ce2-5f71-44fe-9541-e6d5a1850abb"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_90a3122d_0ed2_46e1_b053_f4ea2be0e17b"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"7c662adc-11e1-475c-8d70-fb3047f94108","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"90a3122d-0ed2-46e1-b053-f4ea2be0e17b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"4a2ad0be_runbook","uuid":"d405c9d6-da96-4365-b171-e7ffb7e6b913"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"a12058e3-fe16-4d12-80fd-d5dbbb264440","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"90a3122d-0ed2-46e1-b053-f4ea2be0e17b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"92247e35_runbook","uuid":"c1fdda9f-aaee-4b0d-899f-a32eb5819a33"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d"},{"target_any_local_reference":{"kind":"app_package","name":"AHVSlavePackage","uuid":"7d73448d-ff3f-4216-9ebf-a58913350eea"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"0eeff7f1-2adc-4511-a582-f792b90b1023","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"90a3122d-0ed2-46e1-b053-f4ea2be0e17b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_7d73448d_ff3f_4216_9ebf_a58913350eea","uuid":"7c30afdb-7ba2-40ed-b100-4ef40312b0f3"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_7d73448d_ff3f_4216_9ebf_a58913350eea"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVSlave","uuid":"64640b55-4f15-4de6-8c5b-cc0821f4ef8d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"616d0ead-04c1-4cfd-b6e4-bf52ed1ad364","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"90a3122d-0ed2-46e1-b053-f4ea2be0e17b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_64640b55_4f15_4de6_8c5b_cc0821f4ef8d","uuid":"3b0e4b67-1c35-4ca2-b62c-148b28f344f1"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Substrate_64640b55_4f15_4de6_8c5b_cc0821f4ef8d"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"90a3122d-0ed2-46e1-b053-f4ea2be0e17b"},"retries":"0","description":"","type":"DELETE_DEPLOYMENT_ELEMENT","uuid":"63082ce2-5f71-44fe-9541-e6d5a1850abb","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Delete_90a3122d_0ed2_46e1_b053_f4ea2be0e17b"}],"description":"","message_list":[],"uuid":"3b9f672f-a67f-494b-9ee8-224b09257552","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_90a3122d_0ed2_46e1_b053_f4ea2be0e17b","uuid":"8dd36c17-38b2-4667-b517-37bb60081b52"},"name":"SYS_GEN__Runbook_Deployment_90a3122d_0ed2_46e1_b053_f4ea2be0e17b"}},{"description":"System action for scaleout","message_list":[],"uuid":"dc570435-1a00-4e4e-88f2-8a156ecae4ff","name":"action_scaleout","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"90a3122d-0ed2-46e1-b053-f4ea2be0e17b"},"retries":"0","description":"","type":"DAG","uuid":"df19eefb-9227-4acc-b90f-f30d48d53a93","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Deployment_Scaleout_90a3122d_0ed2_46e1_b053_f4ea2be0e17b","uuid":"4b38abff-a7ea-4ea0-8d99-2772f9329b5b"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_90a3122d_0ed2_46e1_b053_f4ea2be0e17b"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"90a3122d-0ed2-46e1-b053-f4ea2be0e17b"},"retries":"0","description":"","type":"SCALING","uuid":"4b38abff-a7ea-4ea0-8d99-2772f9329b5b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{scaling_count}@@","type":"","scaling_type":"SCALEOUT"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Deployment_Scaleout_90a3122d_0ed2_46e1_b053_f4ea2be0e17b"}],"description":"","message_list":[],"uuid":"5765fd08-265d-49ef-9a3b-1d342c8936d3","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"41500bcc-35d7-434c-a5bd-1cc3e9cb6d46","value":"0","label":"","state":"NOT_VALIDATED","attrs":{},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"scaling_count"}],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_90a3122d_0ed2_46e1_b053_f4ea2be0e17b","uuid":"df19eefb-9227-4acc-b90f-f30d48d53a93"},"name":"SYS_GEN__Runbook_Deployment_90a3122d_0ed2_46e1_b053_f4ea2be0e17b"}},{"description":"System action for scalein","message_list":[],"uuid":"98da408d-ba97-4b5a-9646-515cff1a7f05","name":"action_scalein","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"90a3122d-0ed2-46e1-b053-f4ea2be0e17b"},"retries":"0","description":"","type":"DAG","uuid":"d0a20051-d491-4101-b876-10003e557293","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Deployment_Scalein_90a3122d_0ed2_46e1_b053_f4ea2be0e17b","uuid":"46294c57-3588-42d1-8198-565ac14eeddb"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_90a3122d_0ed2_46e1_b053_f4ea2be0e17b"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"90a3122d-0ed2-46e1-b053-f4ea2be0e17b"},"retries":"0","description":"","type":"SCALING","uuid":"46294c57-3588-42d1-8198-565ac14eeddb","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{scaling_count}@@","type":"","scaling_type":"SCALEIN"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Deployment_Scalein_90a3122d_0ed2_46e1_b053_f4ea2be0e17b"}],"description":"","message_list":[],"uuid":"cfe494fa-0ec9-4f99-a74b-d4781798749d","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"c813a742-ce73-48d8-8dbd-0f76a2937adc","value":"0","label":"","state":"NOT_VALIDATED","attrs":{},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"scaling_count"}],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_90a3122d_0ed2_46e1_b053_f4ea2be0e17b","uuid":"d0a20051-d491-4101-b876-10003e557293"},"name":"SYS_GEN__Runbook_Deployment_90a3122d_0ed2_46e1_b053_f4ea2be0e17b"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"5c476d06-d938-4fb6-ab3c-f33ce6abb492","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"90a3122d-0ed2-46e1-b053-f4ea2be0e17b"},"retries":"0","description":"","type":"DAG","uuid":"bfc8e59d-0d21-41f8-9592-0fcdb0e55dcb","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"d7ed97e4-4ccf-4674-b687-0c0f2dbd5edf"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_7d73448d_ff3f_4216_9ebf_a58913350eea","uuid":"1483a187-bdf6-4bd2-bed8-928c5919e973"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_64640b55_4f15_4de6_8c5b_cc0821f4ef8d","uuid":"6098b475-9681-4696-a1be-ebe35f2c8313"},{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_90a3122d_0ed2_46e1_b053_f4ea2be0e17b","uuid":"58102b96-f492-4df5-85a9-91a1b9b26a76"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"d7ed97e4-4ccf-4674-b687-0c0f2dbd5edf"},"edge_type":"inherent","type":"","uuid":"9a1f02ac-81dd-42ea-9321-83e98c2c0bde","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_7d73448d_ff3f_4216_9ebf_a58913350eea","uuid":"1483a187-bdf6-4bd2-bed8-928c5919e973"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_7d73448d_ff3f_4216_9ebf_a58913350eea","uuid":"1483a187-bdf6-4bd2-bed8-928c5919e973"},"edge_type":"inherent","type":"","uuid":"dae223e9-cfa5-41ef-923f-2d4e0cec5093","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_64640b55_4f15_4de6_8c5b_cc0821f4ef8d","uuid":"6098b475-9681-4696-a1be-ebe35f2c8313"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_64640b55_4f15_4de6_8c5b_cc0821f4ef8d","uuid":"6098b475-9681-4696-a1be-ebe35f2c8313"},"edge_type":"inherent","type":"","uuid":"07b3ed50-f10f-46b0-8870-e6a3562990ea","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_90a3122d_0ed2_46e1_b053_f4ea2be0e17b","uuid":"58102b96-f492-4df5-85a9-91a1b9b26a76"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_90a3122d_0ed2_46e1_b053_f4ea2be0e17b"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"d7ed97e4-4ccf-4674-b687-0c0f2dbd5edf","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"90a3122d-0ed2-46e1-b053-f4ea2be0e17b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"9cb9ecf0-89cd-4611-812d-2535c64945cf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d"},{"target_any_local_reference":{"kind":"app_package","name":"AHVSlavePackage","uuid":"7d73448d-ff3f-4216-9ebf-a58913350eea"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"1483a187-bdf6-4bd2-bed8-928c5919e973","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_7d73448d_ff3f_4216_9ebf_a58913350eea"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVSlave","uuid":"64640b55-4f15-4de6-8c5b-cc0821f4ef8d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"6098b475-9681-4696-a1be-ebe35f2c8313","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"90a3122d-0ed2-46e1-b053-f4ea2be0e17b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_64640b55_4f15_4de6_8c5b_cc0821f4ef8d","uuid":"8a8aa2ce-59a8-4130-9cf3-cc7228689a65"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Substrate_64640b55_4f15_4de6_8c5b_cc0821f4ef8d"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"90a3122d-0ed2-46e1-b053-f4ea2be0e17b"},"retries":"0","description":"","type":"SOFT_DELETE_DEPLOYMENT_ELEMENT","uuid":"58102b96-f492-4df5-85a9-91a1b9b26a76","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Soft_Delete_90a3122d_0ed2_46e1_b053_f4ea2be0e17b"}],"description":"","message_list":[],"uuid":"7b4d75f6-f449-4739-9c5d-337bb0c94710","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_90a3122d_0ed2_46e1_b053_f4ea2be0e17b","uuid":"bfc8e59d-0d21-41f8-9592-0fcdb0e55dcb"},"name":"SYS_GEN__Runbook_Deployment_90a3122d_0ed2_46e1_b053_f4ea2be0e17b"}}],"message_list":[],"published_service_local_reference_list":[],"uuid":"90a3122d-0ed2-46e1-b053-f4ea2be0e17b","min_replicas":"1","state":"DRAFT","max_replicas":"3","depends_on_list":[],"editables":{"min_replicas":true,"max_replicas":true},"package_local_reference_list":[{"kind":"app_package","name":"AHVSlavePackage","uuid":"7d73448d-ff3f-4216-9ebf-a58913350eea"}],"substrate_local_reference":{"kind":"app_substrate","name":"AHVSlave","uuid":"64640b55-4f15-4de6-8c5b-cc0821f4ef8d"},"type":"GREENFIELD","options":{},"variable_list":[],"name":"de329770_deployment"}],"description":"","action_list":[{"description":"Take DB Backup. Specify absolute directory path for BACKUP_FILE_PATH","message_list":[],"uuid":"59cd6f68-9778-4ad2-8de2-a3f98813906c","name":"Backup","state":"ACTIVE","critical":false,"attrs":{},"type":"user","runbook":{"task_definition_list":[{"retries":"0","description":"","type":"DAG","uuid":"0da5b41a-59ca-4072-a326-a51b79f8f7a8","child_tasks_local_reference_list":[{"kind":"app_task","name":"DB Backup","uuid":"1e6286da-7410-4fd2-b882-f978cdc13310"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"3e7d744d_dag"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"EXEC","uuid":"1e6286da-7410-4fd2-b882-f978cdc13310","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n### Setup variables\nmysql_password=\"@@{MYSQL_PASSWORD}@@\"\ndate_part=`date +%F`\nmkdir -p @@{BACKUP_FILE_PATH}@@\nsudo mysqldump -u root -p${mysql_password} --all-databases | sudo gzip -9 > @@{BACKUP_FILE_PATH}@@\/db_dump.sql.gz","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"3ee7bf5d-2de9-4958-9b65-e30687c43f17"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"DB Backup"}],"description":"","message_list":[],"uuid":"cdffd225-d979-4f97-bdf9-cc12090c0ca4","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"350ce961-3471-41ed-b15d-e2f1ecab933e","value":"~\/db_backup","label":"","state":"NOT_VALIDATED","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"BACKUP_FILE_PATH"}],"main_task_local_reference":{"kind":"app_task","name":"3e7d744d_dag","uuid":"0da5b41a-59ca-4072-a326-a51b79f8f7a8"},"name":"c6cd4595_runbook"}},{"description":"To restore DB from dump file. Specify absolute directory path for RESTORE_FILE_PATH","message_list":[],"uuid":"fe208f13-9b92-41b8-aaff-9fd9e0d4a903","name":"Restore","state":"ACTIVE","critical":false,"attrs":{},"type":"user","runbook":{"task_definition_list":[{"retries":"0","description":"","type":"DAG","uuid":"45e9ca00-0e5c-4262-bf76-cfaa4d99fdbb","child_tasks_local_reference_list":[{"kind":"app_task","name":"DB Restore","uuid":"72cce3ed-5721-4386-8a78-43601558bea7"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"458965d2_dag"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"EXEC","uuid":"72cce3ed-5721-4386-8a78-43601558bea7","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n### Setup variables\nmysql_password=\"@@{MYSQL_PASSWORD}@@\"\ndb_file=@@{RESTORE_FILE_PATH}@@\n\nsudo gunzip < $db_file | sudo mysql -u root -p${mysql_password} ","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"3ee7bf5d-2de9-4958-9b65-e30687c43f17"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"DB Restore"}],"description":"","message_list":[],"uuid":"521946fd-2b3e-42a8-b0b8-cf2e529c40c1","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"7b0d632b-a57f-444a-80ba-04a8c97cdd33","value":"~\/db_backup\/db_dump.sql.gz","label":"","state":"NOT_VALIDATED","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"RESTORE_FILE_PATH"}],"main_task_local_reference":{"kind":"app_task","name":"458965d2_dag","uuid":"45e9ca00-0e5c-4262-bf76-cfaa4d99fdbb"},"name":"412d41ad_runbook"}},{"description":"","message_list":[],"uuid":"6fad1c44-ae3c-4e57-8d38-9e2c1630ec80","name":"ScaleOut","state":"ACTIVE","critical":false,"attrs":{},"type":"user","runbook":{"task_definition_list":[{"retries":"0","description":"","type":"DAG","uuid":"2c8bcb8a-bbd8-469f-9663-57b05673ab5c","child_tasks_local_reference_list":[{"kind":"app_task","name":"Scale Out","uuid":"467dcbb8-fcd5-4464-8269-73697f524a2f"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"0d5ad4a7_dag"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"90a3122d-0ed2-46e1-b053-f4ea2be0e17b"},"retries":"0","description":"","type":"SCALING","uuid":"467dcbb8-fcd5-4464-8269-73697f524a2f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{COUNT}@@","type":"","scaling_type":"SCALEOUT"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Scale Out"}],"description":"","message_list":[],"uuid":"177fb049-9d93-4e69-bd1b-018336bd38f2","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"2d6cc6f6-0016-42ed-a694-3519d2f2038a","value":"1","label":"","state":"NOT_VALIDATED","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"COUNT"}],"main_task_local_reference":{"kind":"app_task","name":"0d5ad4a7_dag","uuid":"2c8bcb8a-bbd8-469f-9663-57b05673ab5c"},"name":"45be859a_runbook"}},{"description":"","message_list":[],"uuid":"9ffa3257-2a89-460a-8383-f7d1a67e4f3f","name":"ScaleIn","state":"ACTIVE","critical":false,"attrs":{},"type":"user","runbook":{"task_definition_list":[{"retries":"0","description":"","type":"DAG","uuid":"85e38df0-74fc-4f7c-a681-5b0e6c02ca3f","child_tasks_local_reference_list":[{"kind":"app_task","name":"Scale In","uuid":"ab7b961e-acaa-46cc-877a-7484bbb1c3a9"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"6baa6164_dag"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"90a3122d-0ed2-46e1-b053-f4ea2be0e17b"},"retries":"0","description":"","type":"SCALING","uuid":"ab7b961e-acaa-46cc-877a-7484bbb1c3a9","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{COUNT}@@","type":"","scaling_type":"SCALEIN"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Scale In"}],"description":"","message_list":[],"uuid":"92ee062f-8bf3-472a-8f66-a70afa9889a4","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"93365c0d-b9f5-46e5-b6b1-bb5587a83593","value":"1","label":"","state":"NOT_VALIDATED","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"COUNT"}],"main_task_local_reference":{"kind":"app_task","name":"6baa6164_dag","uuid":"85e38df0-74fc-4f7c-a681-5b0e6c02ca3f"},"name":"16496c32_runbook"}},{"description":"System action for creating an application","message_list":[],"uuid":"4d4febc1-8afb-4c54-8caa-a6e9643d9a82","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"Nutanix","uuid":"d8a52a1b-fae6-4fff-9b70-ca02b27dc095"},"retries":"0","description":"","type":"DAG","uuid":"4ae49e24-4a00-414b-b57e-704f7fce2ecd","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__DE_Provision_90a3122d_0ed2_46e1_b053_f4ea2be0e17b","uuid":"2832d51c-6e74-4c68-b09c-c8d521c746e9"},{"kind":"app_task","name":"SYS_GEN__DE_Provision_39ccafae_6cd4_40c9_813a_4656786fad81","uuid":"8ab44e63-625f-4095-bcba-b26826476e8a"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_9f1580d6_1ec8_4e83_ade6_af9db607985a_1","uuid":"537df294-34b4-4336-ba79-e3a366b43d26"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_9f1580d6_1ec8_4e83_ade6_af9db607985a","uuid":"5ffb76ba-b224-432d-8460-86a63607079d"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_64640b55_4f15_4de6_8c5b_cc0821f4ef8d","uuid":"5c54a341-3ac1-4d09-a667-f9dc80b54009"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_04eda07e_4a12_44ed_bf35_608dbe760e2b","uuid":"57a7c682-db7e-456a-8c29-890272c57f96"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_7d73448d_ff3f_4216_9ebf_a58913350eea","uuid":"ca59c5b1-8671-4009-8462-e14ddf77f582"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_81a41acc_b3b9_4f6c_a201_f4c0801ff657","uuid":"c70e3ec0-f676-43cd-8554-84169ef8f188"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"c72360d7-95d2-4301-8eab-943f4c772e15"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"4a5076b6-efdf-4033-97d3-e4155e8a3266"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"4929b984-2692-457d-a67a-94b0222f430a"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"5426837d-597b-469d-8a7e-7edeca14ab9a"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"c72360d7-95d2-4301-8eab-943f4c772e15"},"edge_type":"inherent","type":"","uuid":"165181a7-8826-487b-b85d-2b38e2b555b1","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"4a5076b6-efdf-4033-97d3-e4155e8a3266"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_81a41acc_b3b9_4f6c_a201_f4c0801ff657","uuid":"c70e3ec0-f676-43cd-8554-84169ef8f188"},"edge_type":"inherent","type":"","uuid":"0eb29e95-e773-44ab-9b13-b816d0f6d099","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"c72360d7-95d2-4301-8eab-943f4c772e15"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_39ccafae_6cd4_40c9_813a_4656786fad81","uuid":"8ab44e63-625f-4095-bcba-b26826476e8a"},"edge_type":"inherent","type":"","uuid":"fb8f2e1f-288b-4d14-878c-9c160378e3e2","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_04eda07e_4a12_44ed_bf35_608dbe760e2b","uuid":"57a7c682-db7e-456a-8c29-890272c57f96"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_04eda07e_4a12_44ed_bf35_608dbe760e2b","uuid":"57a7c682-db7e-456a-8c29-890272c57f96"},"edge_type":"inherent","type":"","uuid":"adb19067-feeb-4c9d-a4e3-96e6280d1c59","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_81a41acc_b3b9_4f6c_a201_f4c0801ff657","uuid":"c70e3ec0-f676-43cd-8554-84169ef8f188"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_39ccafae_6cd4_40c9_813a_4656786fad81","uuid":"8ab44e63-625f-4095-bcba-b26826476e8a"},"edge_type":"inherent","type":"","uuid":"4b296d5a-c232-486f-a2c6-335d5ddcc3cd","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_9f1580d6_1ec8_4e83_ade6_af9db607985a","uuid":"5ffb76ba-b224-432d-8460-86a63607079d"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_9f1580d6_1ec8_4e83_ade6_af9db607985a","uuid":"5ffb76ba-b224-432d-8460-86a63607079d"},"edge_type":"inherent","type":"","uuid":"b89ed234-c3d5-45ca-a63e-26392dd9fcaf","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_04eda07e_4a12_44ed_bf35_608dbe760e2b","uuid":"57a7c682-db7e-456a-8c29-890272c57f96"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"4929b984-2692-457d-a67a-94b0222f430a"},"edge_type":"inherent","type":"","uuid":"3b16fd45-f36d-4b6f-8bbc-8ecdad633743","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"5426837d-597b-469d-8a7e-7edeca14ab9a"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_7d73448d_ff3f_4216_9ebf_a58913350eea","uuid":"ca59c5b1-8671-4009-8462-e14ddf77f582"},"edge_type":"inherent","type":"","uuid":"e11f41b1-a7e1-4f39-a898-5bf9034117d5","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"4929b984-2692-457d-a67a-94b0222f430a"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_64640b55_4f15_4de6_8c5b_cc0821f4ef8d","uuid":"5c54a341-3ac1-4d09-a667-f9dc80b54009"},"edge_type":"inherent","type":"","uuid":"0171b38b-15b2-4d45-9486-6c12400f5cd7","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_7d73448d_ff3f_4216_9ebf_a58913350eea","uuid":"ca59c5b1-8671-4009-8462-e14ddf77f582"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_9f1580d6_1ec8_4e83_ade6_af9db607985a_1","uuid":"537df294-34b4-4336-ba79-e3a366b43d26"},"edge_type":"inherent","type":"","uuid":"db9705ab-8d6e-465b-90e3-6f9e5e538d46","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_64640b55_4f15_4de6_8c5b_cc0821f4ef8d","uuid":"5c54a341-3ac1-4d09-a667-f9dc80b54009"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_90a3122d_0ed2_46e1_b053_f4ea2be0e17b","uuid":"2832d51c-6e74-4c68-b09c-c8d521c746e9"},"edge_type":"inherent","type":"","uuid":"1de13cf2-c5a7-4bc5-880c-a8c4dee5e575","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_64640b55_4f15_4de6_8c5b_cc0821f4ef8d","uuid":"5c54a341-3ac1-4d09-a667-f9dc80b54009"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_90a3122d_0ed2_46e1_b053_f4ea2be0e17b","uuid":"2832d51c-6e74-4c68-b09c-c8d521c746e9"},"edge_type":"inherent","type":"","uuid":"e8cac69c-634c-4001-87cf-4d9c7b911b18","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_9f1580d6_1ec8_4e83_ade6_af9db607985a_1","uuid":"537df294-34b4-4336-ba79-e3a366b43d26"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"4a5076b6-efdf-4033-97d3-e4155e8a3266"},"edge_type":"depends_on","type":"","uuid":"73c6a037-310e-4ddf-92a4-8f8d3c6a5e77","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"4929b984-2692-457d-a67a-94b0222f430a"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_d8a52a1b_fae6_4fff_9b70_ca02b27dc095"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"90a3122d-0ed2-46e1-b053-f4ea2be0e17b"},"retries":"0","description":"","type":"CREATE_DEPLOYMENT_ELEMENT","uuid":"2832d51c-6e74-4c68-b09c-c8d521c746e9","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Provision_90a3122d_0ed2_46e1_b053_f4ea2be0e17b"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"39ccafae-6cd4-40c9-813a-4656786fad81"},"retries":"0","description":"","type":"CREATE_DEPLOYMENT_ELEMENT","uuid":"8ab44e63-625f-4095-bcba-b26826476e8a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Provision_39ccafae_6cd4_40c9_813a_4656786fad81"},{"target_any_local_reference":{"kind":"app_package","name":"CENTOS_74","uuid":"9f1580d6-1ec8-4e83-ade6-af9db607985a"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"537df294-34b4-4336-ba79-e3a366b43d26","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"90a3122d-0ed2-46e1-b053-f4ea2be0e17b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_9f1580d6_1ec8_4e83_ade6_af9db607985a","uuid":"93fde81e-3390-49c3-90af-58e83685575b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_9f1580d6_1ec8_4e83_ade6_af9db607985a_1"},{"target_any_local_reference":{"kind":"app_package","name":"CENTOS_74","uuid":"9f1580d6-1ec8-4e83-ade6-af9db607985a"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"5ffb76ba-b224-432d-8460-86a63607079d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"39ccafae-6cd4-40c9-813a-4656786fad81"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_9f1580d6_1ec8_4e83_ade6_af9db607985a","uuid":"93fde81e-3390-49c3-90af-58e83685575b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_9f1580d6_1ec8_4e83_ade6_af9db607985a"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVSlave","uuid":"64640b55-4f15-4de6-8c5b-cc0821f4ef8d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"5c54a341-3ac1-4d09-a667-f9dc80b54009","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"90a3122d-0ed2-46e1-b053-f4ea2be0e17b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_64640b55_4f15_4de6_8c5b_cc0821f4ef8d","uuid":"24428187-1a96-46b8-9a54-ec6581850f21"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Substrate_64640b55_4f15_4de6_8c5b_cc0821f4ef8d"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVMaster","uuid":"04eda07e-4a12-44ed-bf35-608dbe760e2b"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"57a7c682-db7e-456a-8c29-890272c57f96","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"39ccafae-6cd4-40c9-813a-4656786fad81"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_04eda07e_4a12_44ed_bf35_608dbe760e2b","uuid":"82b7e0db-adb5-4891-b9c3-db96fbed8f19"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Substrate_04eda07e_4a12_44ed_bf35_608dbe760e2b"},{"target_any_local_reference":{"kind":"app_package","name":"AHVSlavePackage","uuid":"7d73448d-ff3f-4216-9ebf-a58913350eea"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"ca59c5b1-8671-4009-8462-e14ddf77f582","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"90a3122d-0ed2-46e1-b053-f4ea2be0e17b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_7d73448d_ff3f_4216_9ebf_a58913350eea","uuid":"93e141a5-f69b-49ed-bd51-452ec0713d94"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_7d73448d_ff3f_4216_9ebf_a58913350eea"},{"target_any_local_reference":{"kind":"app_package","name":"AHVMasterPackage","uuid":"81a41acc-b3b9-4f6c-a201-f4c0801ff657"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"c70e3ec0-f676-43cd-8554-84169ef8f188","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"39ccafae-6cd4-40c9-813a-4656786fad81"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_81a41acc_b3b9_4f6c_a201_f4c0801ff657","uuid":"32e1e428-414e-4212-8861-c979cde9c7e3"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_81a41acc_b3b9_4f6c_a201_f4c0801ff657"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"c72360d7-95d2-4301-8eab-943f4c772e15","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"39ccafae-6cd4-40c9-813a-4656786fad81"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0a970522_runbook","uuid":"9866e43d-ff48-4abb-bade-7f5396ce551e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"4a5076b6-efdf-4033-97d3-e4155e8a3266","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"39ccafae-6cd4-40c9-813a-4656786fad81"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"5ddb28d1_runbook","uuid":"907290fe-eaef-465b-a916-7c2c67d20c97"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"4929b984-2692-457d-a67a-94b0222f430a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"90a3122d-0ed2-46e1-b053-f4ea2be0e17b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"d54168c9_runbook","uuid":"d9d72b08-90b4-46c2-a771-6d338abb4bc3"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"5426837d-597b-469d-8a7e-7edeca14ab9a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"90a3122d-0ed2-46e1-b053-f4ea2be0e17b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"a027cde0_runbook","uuid":"557651c0-2ccf-45cb-beb3-9f2028221b2e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d"}],"description":"","message_list":[],"uuid":"9e879642-d781-4c44-a313-aa586da43013","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_d8a52a1b_fae6_4fff_9b70_ca02b27dc095","uuid":"4ae49e24-4a00-414b-b57e-704f7fce2ecd"},"name":"SYS_GEN__Runbook_Application_d8a52a1b_fae6_4fff_9b70_ca02b27dc095"}},{"description":"System action for starting an application","message_list":[],"uuid":"c0ec282e-0e9e-4a77-8caf-4b920bd89f54","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"Nutanix","uuid":"d8a52a1b-fae6-4fff-9b70-ca02b27dc095"},"retries":"0","description":"","type":"DAG","uuid":"8eb5d6ce-45c2-4977-84f1-2afcc6e2f87d","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_04eda07e_4a12_44ed_bf35_608dbe760e2b","uuid":"fdec2f33-4bdf-4ff7-b360-f814476c2bfe"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_64640b55_4f15_4de6_8c5b_cc0821f4ef8d","uuid":"c9a93968-c613-43b6-bee9-57a6f10a8545"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"ea4b1b7d-fca9-4864-bf86-b651f3f6dce6"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"21f16359-2a9c-43d7-a1e6-9da320bbde28"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_04eda07e_4a12_44ed_bf35_608dbe760e2b","uuid":"fdec2f33-4bdf-4ff7-b360-f814476c2bfe"},"edge_type":"inherent","type":"","uuid":"886b0bad-71fc-4bc6-bcb8-0ed7cb187644","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"ea4b1b7d-fca9-4864-bf86-b651f3f6dce6"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_64640b55_4f15_4de6_8c5b_cc0821f4ef8d","uuid":"c9a93968-c613-43b6-bee9-57a6f10a8545"},"edge_type":"inherent","type":"","uuid":"c739eaaf-b994-4665-9266-92314b301440","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"21f16359-2a9c-43d7-a1e6-9da320bbde28"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"ea4b1b7d-fca9-4864-bf86-b651f3f6dce6"},"edge_type":"depends_on","type":"","uuid":"c3835a26-6904-4b00-b6a4-74b30e533904","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"21f16359-2a9c-43d7-a1e6-9da320bbde28"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_d8a52a1b_fae6_4fff_9b70_ca02b27dc095"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVMaster","uuid":"04eda07e-4a12-44ed-bf35-608dbe760e2b"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"fdec2f33-4bdf-4ff7-b360-f814476c2bfe","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"39ccafae-6cd4-40c9-813a-4656786fad81"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_04eda07e_4a12_44ed_bf35_608dbe760e2b","uuid":"8326983f-43dc-4fda-bdd0-d2213a78b4a3"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Substrate_04eda07e_4a12_44ed_bf35_608dbe760e2b"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVSlave","uuid":"64640b55-4f15-4de6-8c5b-cc0821f4ef8d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"c9a93968-c613-43b6-bee9-57a6f10a8545","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"90a3122d-0ed2-46e1-b053-f4ea2be0e17b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_64640b55_4f15_4de6_8c5b_cc0821f4ef8d","uuid":"a1134917-cc1c-4316-a66d-f2f1a3053b07"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Substrate_64640b55_4f15_4de6_8c5b_cc0821f4ef8d"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"ea4b1b7d-fca9-4864-bf86-b651f3f6dce6","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"39ccafae-6cd4-40c9-813a-4656786fad81"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"5ddb28d1_runbook","uuid":"907290fe-eaef-465b-a916-7c2c67d20c97"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"21f16359-2a9c-43d7-a1e6-9da320bbde28","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"90a3122d-0ed2-46e1-b053-f4ea2be0e17b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"a027cde0_runbook","uuid":"557651c0-2ccf-45cb-beb3-9f2028221b2e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d"}],"description":"","message_list":[],"uuid":"2f2bd135-af15-4811-a0d7-62c665511fdc","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_d8a52a1b_fae6_4fff_9b70_ca02b27dc095","uuid":"8eb5d6ce-45c2-4977-84f1-2afcc6e2f87d"},"name":"SYS_GEN__Runbook_Application_d8a52a1b_fae6_4fff_9b70_ca02b27dc095"}},{"description":"System action for restarting an application","message_list":[],"uuid":"65b87a33-bb10-420f-b244-8ac72a44ad5c","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"Nutanix","uuid":"d8a52a1b-fae6-4fff-9b70-ca02b27dc095"},"retries":"0","description":"","type":"DAG","uuid":"353c9a28-5b01-41d6-94be-0bee37974b00","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_64640b55_4f15_4de6_8c5b_cc0821f4ef8d","uuid":"07823cff-e01b-48c0-842a-5678b335634b"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_04eda07e_4a12_44ed_bf35_608dbe760e2b","uuid":"f8e14fea-dff4-4fe5-a5a0-3395c94f1c57"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"7002c970-2fb0-4fb9-92ce-627817cf72c2"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"0501ba64-a39c-4c0c-8f25-f39bde56f06c"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_04eda07e_4a12_44ed_bf35_608dbe760e2b","uuid":"f8e14fea-dff4-4fe5-a5a0-3395c94f1c57"},"edge_type":"inherent","type":"","uuid":"dc98da60-26d8-41cd-90d4-cff007c7d4de","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"7002c970-2fb0-4fb9-92ce-627817cf72c2"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_64640b55_4f15_4de6_8c5b_cc0821f4ef8d","uuid":"07823cff-e01b-48c0-842a-5678b335634b"},"edge_type":"inherent","type":"","uuid":"09e93bb7-e680-45ff-bf27-8e92fc68252a","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"0501ba64-a39c-4c0c-8f25-f39bde56f06c"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"7002c970-2fb0-4fb9-92ce-627817cf72c2"},"edge_type":"depends_on","type":"","uuid":"d1d34ab6-1427-4b10-a0af-8c63a07640d3","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"0501ba64-a39c-4c0c-8f25-f39bde56f06c"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_d8a52a1b_fae6_4fff_9b70_ca02b27dc095"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVSlave","uuid":"64640b55-4f15-4de6-8c5b-cc0821f4ef8d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"07823cff-e01b-48c0-842a-5678b335634b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"90a3122d-0ed2-46e1-b053-f4ea2be0e17b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_64640b55_4f15_4de6_8c5b_cc0821f4ef8d","uuid":"979a1f56-cbab-4906-a423-a292862e80ff"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Substrate_64640b55_4f15_4de6_8c5b_cc0821f4ef8d"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVMaster","uuid":"04eda07e-4a12-44ed-bf35-608dbe760e2b"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"f8e14fea-dff4-4fe5-a5a0-3395c94f1c57","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"39ccafae-6cd4-40c9-813a-4656786fad81"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_04eda07e_4a12_44ed_bf35_608dbe760e2b","uuid":"c167831b-472c-49d9-836b-f7d00950b0de"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Substrate_04eda07e_4a12_44ed_bf35_608dbe760e2b"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"7002c970-2fb0-4fb9-92ce-627817cf72c2","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"39ccafae-6cd4-40c9-813a-4656786fad81"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"7e709238_runbook","uuid":"e38aa3c5-d052-4d28-84e6-acfb09a6af83"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"0501ba64-a39c-4c0c-8f25-f39bde56f06c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"90a3122d-0ed2-46e1-b053-f4ea2be0e17b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"f2b2a076_runbook","uuid":"d30fe7b4-3486-4f8a-a3b8-e08401237ee7"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d"}],"description":"","message_list":[],"uuid":"e25198a7-4d8f-48e2-9f0a-47905151f258","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_d8a52a1b_fae6_4fff_9b70_ca02b27dc095","uuid":"353c9a28-5b01-41d6-94be-0bee37974b00"},"name":"SYS_GEN__Runbook_Application_d8a52a1b_fae6_4fff_9b70_ca02b27dc095"}},{"description":"System action for stopping an application","message_list":[],"uuid":"8b568605-44ff-4155-bfbd-cf4faed590ed","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"Nutanix","uuid":"d8a52a1b-fae6-4fff-9b70-ca02b27dc095"},"retries":"0","description":"","type":"DAG","uuid":"8573d216-ceaa-402b-a701-8f63fc7b4616","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"317f81ec-1afe-4de4-8371-6b031506bace"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"bf3cd135-2688-445a-b9ae-76e8346dc7dc"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_64640b55_4f15_4de6_8c5b_cc0821f4ef8d","uuid":"2f4aa755-2d5b-437a-a3f3-fe1cb3bdb854"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_04eda07e_4a12_44ed_bf35_608dbe760e2b","uuid":"c6dec6ea-69c7-4a36-83ca-62092724f4e8"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"bf3cd135-2688-445a-b9ae-76e8346dc7dc"},"edge_type":"inherent","type":"","uuid":"cd563aa4-ebe7-481c-a7a0-8a40a20835f0","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_04eda07e_4a12_44ed_bf35_608dbe760e2b","uuid":"c6dec6ea-69c7-4a36-83ca-62092724f4e8"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"317f81ec-1afe-4de4-8371-6b031506bace"},"edge_type":"inherent","type":"","uuid":"3c36d458-cf7b-4786-a762-e5c8b9abd4dc","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_64640b55_4f15_4de6_8c5b_cc0821f4ef8d","uuid":"2f4aa755-2d5b-437a-a3f3-fe1cb3bdb854"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"317f81ec-1afe-4de4-8371-6b031506bace"},"edge_type":"depends_on","type":"","uuid":"a71075bf-e78e-4eb9-9722-250366cbd3b8","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"bf3cd135-2688-445a-b9ae-76e8346dc7dc"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_d8a52a1b_fae6_4fff_9b70_ca02b27dc095"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"317f81ec-1afe-4de4-8371-6b031506bace","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"90a3122d-0ed2-46e1-b053-f4ea2be0e17b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"4a2ad0be_runbook","uuid":"d405c9d6-da96-4365-b171-e7ffb7e6b913"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"bf3cd135-2688-445a-b9ae-76e8346dc7dc","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"39ccafae-6cd4-40c9-813a-4656786fad81"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0aefbca3_runbook","uuid":"ce2a2858-b89b-4bb4-8fb3-ee8bd8a6bd3f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVSlave","uuid":"64640b55-4f15-4de6-8c5b-cc0821f4ef8d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"2f4aa755-2d5b-437a-a3f3-fe1cb3bdb854","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"90a3122d-0ed2-46e1-b053-f4ea2be0e17b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_64640b55_4f15_4de6_8c5b_cc0821f4ef8d","uuid":"4076ce26-56ca-44dc-bc79-41027c128a4d"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Substrate_64640b55_4f15_4de6_8c5b_cc0821f4ef8d"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVMaster","uuid":"04eda07e-4a12-44ed-bf35-608dbe760e2b"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"c6dec6ea-69c7-4a36-83ca-62092724f4e8","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"39ccafae-6cd4-40c9-813a-4656786fad81"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_04eda07e_4a12_44ed_bf35_608dbe760e2b","uuid":"243d2b07-f797-48b3-9263-64408e9584ad"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Substrate_04eda07e_4a12_44ed_bf35_608dbe760e2b"}],"description":"","message_list":[],"uuid":"068f554c-d28e-43a1-a3c5-0d1f3d931889","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_d8a52a1b_fae6_4fff_9b70_ca02b27dc095","uuid":"8573d216-ceaa-402b-a701-8f63fc7b4616"},"name":"SYS_GEN__Runbook_Application_d8a52a1b_fae6_4fff_9b70_ca02b27dc095"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"f51011e1-f9e3-4020-82cb-4bb9d2497282","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"Nutanix","uuid":"d8a52a1b-fae6-4fff-9b70-ca02b27dc095"},"retries":"0","description":"","type":"DAG","uuid":"c91b690c-d6da-4a74-8fea-ab9543640ab8","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"51bea5c2-0318-4918-be08-262e9dbe13b2"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"15cac0ca-2db8-4583-9064-cea90ba4daa5"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"7ecf6f44-4350-42f0-b0ae-97b6d4533894"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_7d73448d_ff3f_4216_9ebf_a58913350eea","uuid":"71abd6fe-2ed5-423b-a6f1-e4a447679514"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"f71b43a9-9aba-4667-8b0d-2dfd6df5dae6"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_64640b55_4f15_4de6_8c5b_cc0821f4ef8d","uuid":"3af57265-0ad1-4704-bb91-844b0a0188e0"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_81a41acc_b3b9_4f6c_a201_f4c0801ff657","uuid":"52300d67-4899-4faa-b656-c485336c04e4"},{"kind":"app_task","name":"SYS_GEN__DE_Delete_90a3122d_0ed2_46e1_b053_f4ea2be0e17b","uuid":"0472dd13-1173-4d73-802c-07f2dd8bcc0c"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_04eda07e_4a12_44ed_bf35_608dbe760e2b","uuid":"93e2fd72-3213-4d60-b073-84d4d636c220"},{"kind":"app_task","name":"SYS_GEN__DE_Delete_39ccafae_6cd4_40c9_813a_4656786fad81","uuid":"d451a181-3bde-4036-adf8-52d659e1eba2"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"7ecf6f44-4350-42f0-b0ae-97b6d4533894"},"edge_type":"inherent","type":"","uuid":"49692cad-e587-4ff2-b7c4-3508a9ab17d6","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"f71b43a9-9aba-4667-8b0d-2dfd6df5dae6"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"f71b43a9-9aba-4667-8b0d-2dfd6df5dae6"},"edge_type":"inherent","type":"","uuid":"3884d8b2-0835-431a-bb8b-2c1e56c104b3","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_81a41acc_b3b9_4f6c_a201_f4c0801ff657","uuid":"52300d67-4899-4faa-b656-c485336c04e4"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_04eda07e_4a12_44ed_bf35_608dbe760e2b","uuid":"93e2fd72-3213-4d60-b073-84d4d636c220"},"edge_type":"inherent","type":"","uuid":"e403c005-29f1-4f89-b376-b3831e4aa6e8","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Delete_39ccafae_6cd4_40c9_813a_4656786fad81","uuid":"d451a181-3bde-4036-adf8-52d659e1eba2"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_81a41acc_b3b9_4f6c_a201_f4c0801ff657","uuid":"52300d67-4899-4faa-b656-c485336c04e4"},"edge_type":"inherent","type":"","uuid":"14794e96-f2b5-443c-8ded-7c4ab7ae80fb","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_04eda07e_4a12_44ed_bf35_608dbe760e2b","uuid":"93e2fd72-3213-4d60-b073-84d4d636c220"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"51bea5c2-0318-4918-be08-262e9dbe13b2"},"edge_type":"inherent","type":"","uuid":"6d79d252-cbdd-4143-8a9b-ffe3898a40c7","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"15cac0ca-2db8-4583-9064-cea90ba4daa5"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"15cac0ca-2db8-4583-9064-cea90ba4daa5"},"edge_type":"inherent","type":"","uuid":"6f2e911c-229b-44b0-b283-460342a96146","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_7d73448d_ff3f_4216_9ebf_a58913350eea","uuid":"71abd6fe-2ed5-423b-a6f1-e4a447679514"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_7d73448d_ff3f_4216_9ebf_a58913350eea","uuid":"71abd6fe-2ed5-423b-a6f1-e4a447679514"},"edge_type":"inherent","type":"","uuid":"a5ed2e89-1eb5-48b5-982f-65dbd8e3f103","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_64640b55_4f15_4de6_8c5b_cc0821f4ef8d","uuid":"3af57265-0ad1-4704-bb91-844b0a0188e0"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_64640b55_4f15_4de6_8c5b_cc0821f4ef8d","uuid":"3af57265-0ad1-4704-bb91-844b0a0188e0"},"edge_type":"inherent","type":"","uuid":"7a0765ee-03fc-4938-bd5f-5be6f32b9d5f","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Delete_90a3122d_0ed2_46e1_b053_f4ea2be0e17b","uuid":"0472dd13-1173-4d73-802c-07f2dd8bcc0c"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"15cac0ca-2db8-4583-9064-cea90ba4daa5"},"edge_type":"depends_on","type":"","uuid":"d01a83ef-dda6-4134-a783-5f82096625cf","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"7ecf6f44-4350-42f0-b0ae-97b6d4533894"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_d8a52a1b_fae6_4fff_9b70_ca02b27dc095"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"51bea5c2-0318-4918-be08-262e9dbe13b2","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"90a3122d-0ed2-46e1-b053-f4ea2be0e17b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"4a2ad0be_runbook","uuid":"d405c9d6-da96-4365-b171-e7ffb7e6b913"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"15cac0ca-2db8-4583-9064-cea90ba4daa5","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"90a3122d-0ed2-46e1-b053-f4ea2be0e17b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"92247e35_runbook","uuid":"c1fdda9f-aaee-4b0d-899f-a32eb5819a33"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"7ecf6f44-4350-42f0-b0ae-97b6d4533894","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"39ccafae-6cd4-40c9-813a-4656786fad81"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0aefbca3_runbook","uuid":"ce2a2858-b89b-4bb4-8fb3-ee8bd8a6bd3f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b"},{"target_any_local_reference":{"kind":"app_package","name":"AHVSlavePackage","uuid":"7d73448d-ff3f-4216-9ebf-a58913350eea"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"71abd6fe-2ed5-423b-a6f1-e4a447679514","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"90a3122d-0ed2-46e1-b053-f4ea2be0e17b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_7d73448d_ff3f_4216_9ebf_a58913350eea","uuid":"7c30afdb-7ba2-40ed-b100-4ef40312b0f3"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_7d73448d_ff3f_4216_9ebf_a58913350eea"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"f71b43a9-9aba-4667-8b0d-2dfd6df5dae6","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"39ccafae-6cd4-40c9-813a-4656786fad81"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"5fd47ec3_runbook","uuid":"e410ef14-5f72-46ab-b7d5-0181621be34f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVSlave","uuid":"64640b55-4f15-4de6-8c5b-cc0821f4ef8d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"3af57265-0ad1-4704-bb91-844b0a0188e0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"90a3122d-0ed2-46e1-b053-f4ea2be0e17b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_64640b55_4f15_4de6_8c5b_cc0821f4ef8d","uuid":"3b0e4b67-1c35-4ca2-b62c-148b28f344f1"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Substrate_64640b55_4f15_4de6_8c5b_cc0821f4ef8d"},{"target_any_local_reference":{"kind":"app_package","name":"AHVMasterPackage","uuid":"81a41acc-b3b9-4f6c-a201-f4c0801ff657"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"52300d67-4899-4faa-b656-c485336c04e4","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"39ccafae-6cd4-40c9-813a-4656786fad81"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_81a41acc_b3b9_4f6c_a201_f4c0801ff657","uuid":"09db8538-f052-4d84-8481-e25db04dceb5"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_81a41acc_b3b9_4f6c_a201_f4c0801ff657"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"90a3122d-0ed2-46e1-b053-f4ea2be0e17b"},"retries":"0","description":"","type":"DELETE_DEPLOYMENT_ELEMENT","uuid":"0472dd13-1173-4d73-802c-07f2dd8bcc0c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Delete_90a3122d_0ed2_46e1_b053_f4ea2be0e17b"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVMaster","uuid":"04eda07e-4a12-44ed-bf35-608dbe760e2b"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"93e2fd72-3213-4d60-b073-84d4d636c220","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"39ccafae-6cd4-40c9-813a-4656786fad81"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_04eda07e_4a12_44ed_bf35_608dbe760e2b","uuid":"2dc228b5-fe0d-4168-9228-0b8e7084b408"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Substrate_04eda07e_4a12_44ed_bf35_608dbe760e2b"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"39ccafae-6cd4-40c9-813a-4656786fad81"},"retries":"0","description":"","type":"DELETE_DEPLOYMENT_ELEMENT","uuid":"d451a181-3bde-4036-adf8-52d659e1eba2","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Delete_39ccafae_6cd4_40c9_813a_4656786fad81"}],"description":"","message_list":[],"uuid":"e53b6a38-278d-4465-9717-2a2c788ae14b","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_d8a52a1b_fae6_4fff_9b70_ca02b27dc095","uuid":"c91b690c-d6da-4a74-8fea-ab9543640ab8"},"name":"SYS_GEN__Runbook_Application_d8a52a1b_fae6_4fff_9b70_ca02b27dc095"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"275d826f-6132-46e3-a970-4cb7075e3e1b","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"Nutanix","uuid":"d8a52a1b-fae6-4fff-9b70-ca02b27dc095"},"retries":"0","description":"","type":"DAG","uuid":"1ed2b8a2-32ac-44b5-a26e-33c9f144cb9e","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"d9fad75f-b14d-40f7-9f9d-45cc0b1f736a"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"231f232e-cc5f-41b5-843d-2bc2eda4690b"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_7d73448d_ff3f_4216_9ebf_a58913350eea","uuid":"70f4e695-cfc6-45fa-a826-ce79470d9f0b"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_81a41acc_b3b9_4f6c_a201_f4c0801ff657","uuid":"5dbf56a5-b19f-49dc-b592-262b4bebe795"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_64640b55_4f15_4de6_8c5b_cc0821f4ef8d","uuid":"226f4be7-4474-4fd7-a9b6-b0d8388e635b"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_04eda07e_4a12_44ed_bf35_608dbe760e2b","uuid":"098faa9e-2afa-4a4a-9ebf-37f07353e775"},{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_90a3122d_0ed2_46e1_b053_f4ea2be0e17b","uuid":"d5d91ba8-801a-48ca-b8bf-050934085bb3"},{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_39ccafae_6cd4_40c9_813a_4656786fad81","uuid":"030c1f16-7ba5-408c-abd8-06db69989c5e"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"231f232e-cc5f-41b5-843d-2bc2eda4690b"},"edge_type":"inherent","type":"","uuid":"c2c5a017-e71d-444a-b1a1-248c0ab8be1f","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_81a41acc_b3b9_4f6c_a201_f4c0801ff657","uuid":"5dbf56a5-b19f-49dc-b592-262b4bebe795"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_81a41acc_b3b9_4f6c_a201_f4c0801ff657","uuid":"5dbf56a5-b19f-49dc-b592-262b4bebe795"},"edge_type":"inherent","type":"","uuid":"afa8c9e5-3dff-4f9a-a290-30fef48e1e85","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_04eda07e_4a12_44ed_bf35_608dbe760e2b","uuid":"098faa9e-2afa-4a4a-9ebf-37f07353e775"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_04eda07e_4a12_44ed_bf35_608dbe760e2b","uuid":"098faa9e-2afa-4a4a-9ebf-37f07353e775"},"edge_type":"inherent","type":"","uuid":"9df5acf4-2f6b-49ca-b12a-82f7ff4f4a2b","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_39ccafae_6cd4_40c9_813a_4656786fad81","uuid":"030c1f16-7ba5-408c-abd8-06db69989c5e"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"d9fad75f-b14d-40f7-9f9d-45cc0b1f736a"},"edge_type":"inherent","type":"","uuid":"d2708690-48da-46a2-b983-41e60d9f2cf7","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_7d73448d_ff3f_4216_9ebf_a58913350eea","uuid":"70f4e695-cfc6-45fa-a826-ce79470d9f0b"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_7d73448d_ff3f_4216_9ebf_a58913350eea","uuid":"70f4e695-cfc6-45fa-a826-ce79470d9f0b"},"edge_type":"inherent","type":"","uuid":"ded74af3-4a5b-4251-9b2f-57b0b10a293b","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_64640b55_4f15_4de6_8c5b_cc0821f4ef8d","uuid":"226f4be7-4474-4fd7-a9b6-b0d8388e635b"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_64640b55_4f15_4de6_8c5b_cc0821f4ef8d","uuid":"226f4be7-4474-4fd7-a9b6-b0d8388e635b"},"edge_type":"inherent","type":"","uuid":"eb66017e-0cf0-4a93-a46a-d8e1d109a6b4","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_90a3122d_0ed2_46e1_b053_f4ea2be0e17b","uuid":"d5d91ba8-801a-48ca-b8bf-050934085bb3"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"d9fad75f-b14d-40f7-9f9d-45cc0b1f736a"},"edge_type":"depends_on","type":"","uuid":"df72c43a-8929-4bcd-b560-1e4d8409f4c9","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"231f232e-cc5f-41b5-843d-2bc2eda4690b"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_d8a52a1b_fae6_4fff_9b70_ca02b27dc095"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"d9fad75f-b14d-40f7-9f9d-45cc0b1f736a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"90a3122d-0ed2-46e1-b053-f4ea2be0e17b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"9cb9ecf0-89cd-4611-812d-2535c64945cf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"231f232e-cc5f-41b5-843d-2bc2eda4690b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"39ccafae-6cd4-40c9-813a-4656786fad81"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"b9b6e25b-f9f5-473d-8c7e-6fcb8b23a4da"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b"},{"target_any_local_reference":{"kind":"app_package","name":"AHVSlavePackage","uuid":"7d73448d-ff3f-4216-9ebf-a58913350eea"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"70f4e695-cfc6-45fa-a826-ce79470d9f0b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_7d73448d_ff3f_4216_9ebf_a58913350eea"},{"target_any_local_reference":{"kind":"app_package","name":"AHVMasterPackage","uuid":"81a41acc-b3b9-4f6c-a201-f4c0801ff657"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"5dbf56a5-b19f-49dc-b592-262b4bebe795","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_81a41acc_b3b9_4f6c_a201_f4c0801ff657"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVSlave","uuid":"64640b55-4f15-4de6-8c5b-cc0821f4ef8d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"226f4be7-4474-4fd7-a9b6-b0d8388e635b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"90a3122d-0ed2-46e1-b053-f4ea2be0e17b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_64640b55_4f15_4de6_8c5b_cc0821f4ef8d","uuid":"8a8aa2ce-59a8-4130-9cf3-cc7228689a65"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Substrate_64640b55_4f15_4de6_8c5b_cc0821f4ef8d"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVMaster","uuid":"04eda07e-4a12-44ed-bf35-608dbe760e2b"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"098faa9e-2afa-4a4a-9ebf-37f07353e775","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"39ccafae-6cd4-40c9-813a-4656786fad81"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_04eda07e_4a12_44ed_bf35_608dbe760e2b","uuid":"bfa744ae-0f96-464f-a5f8-b245a6341e26"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Substrate_04eda07e_4a12_44ed_bf35_608dbe760e2b"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"90a3122d-0ed2-46e1-b053-f4ea2be0e17b"},"retries":"0","description":"","type":"SOFT_DELETE_DEPLOYMENT_ELEMENT","uuid":"d5d91ba8-801a-48ca-b8bf-050934085bb3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Soft_Delete_90a3122d_0ed2_46e1_b053_f4ea2be0e17b"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"39ccafae-6cd4-40c9-813a-4656786fad81"},"retries":"0","description":"","type":"SOFT_DELETE_DEPLOYMENT_ELEMENT","uuid":"030c1f16-7ba5-408c-abd8-06db69989c5e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Soft_Delete_39ccafae_6cd4_40c9_813a_4656786fad81"}],"description":"","message_list":[],"uuid":"98844ede-a806-40ed-b288-3202f64b542b","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_d8a52a1b_fae6_4fff_9b70_ca02b27dc095","uuid":"1ed2b8a2-32ac-44b5-a26e-33c9f144cb9e"},"name":"SYS_GEN__Runbook_Application_d8a52a1b_fae6_4fff_9b70_ca02b27dc095"}}],"message_list":[],"uuid":"d8a52a1b-fae6-4fff-9b70-ca02b27dc095","state":"DRAFT","dependency_list":[{"getter_resource_kind":"ServiceCfg","setter_resource_attr":"MYSQL_BIN","setter_resource_kind":"ServiceCfg","setter_resource_name":"MySQL_Master","action_name":"action_create","action_resource_name":"Nutanix","getter_resource_name":"MySQL_Slave","action_resource_kind":"ApplicationCfg"},{"getter_resource_kind":"ServiceCfg","setter_resource_attr":"MYSQL_POSITION","setter_resource_kind":"ServiceCfg","setter_resource_name":"MySQL_Master","action_name":"action_create","action_resource_name":"Nutanix","getter_resource_name":"MySQL_Slave","action_resource_kind":"ApplicationCfg"},{"getter_resource_kind":"ServiceCfg","setter_resource_attr":"address","setter_resource_kind":"ServiceCfg","setter_resource_name":"MySQL_Master","action_name":"action_create","action_resource_name":"Nutanix","getter_resource_name":"MySQL_Slave","action_resource_kind":"ApplicationCfg"}],"variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"7ad86890-a7c7-4c6d-a1fd-6700dcd8a4ac","value":"ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDMGAS\/K0Mb\/uwFXwD+hkjguy7VMZk2hpuhwPl9FUZwVBrURf\/i9QMJ5\/paPEZixu8VlRx7Inu4iun7rQfrnfeIYInmBwspXHYiTK3oHJAgZnrAHVEf1p6YaxLINlT1NI5yOAGPRWW6of8rBDBH1ObwU2+wcSx\/1H0uIs3aZNLufr+Rh628ACxAum2Gt8AVRj6ua2BPFyt5VTdclyysAmeh1AiixNgOZXOz6y\/i4TbzpY78I3isuKpxsUeXX6jxEMQol406jHDUF6njEOPIQG2zVZ3QJlTG9OlN+NiyZG9WkZz0VG\/6M8ixxIHHI2dNwUbBFv2HUu+8X9LTLFq2O7KjX9Hp7uZKBAySHA3eKaKHIp2bZuU1bT5PRPkggngX86xg+T+OMNnutbAiMnRJ8+FvD5So+5TIx4b9GgxAxure3x2yRPT9lOiQOB+CVpJPxR0Rn9bOI+wiPnD0kAGvK\/fHT+pqL4PM+hTnJtp9rrCRzIQApBx1263jEcYffhW2epZQRO+he5CMawFJ5TBe08om2AaDJ8GQdrpF6YA3W8DzHbmL3DPVVHdmqPLn10o+LX4gv5SdIIDVGdjKOc1BCnLTRmM28d5+sLDt\/M+kvcQgf0y0yDjMVjGECZkt39hbm4ELMHzZtzYLmHNhBZxRqHeJ7qFTuv1kx88OW3Xc5mbBNQ== centos@nutanix.com","label":"","state":"ACTIVE","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"INSTANCE_PUBLIC_KEY"},{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[{"message":"Secret value for variable is empty","reason":"EMPTY_VALUE","details":[{"attribute_name":"secret"}]},{"message":"Value of secret variable is empty","reason":"EMPTY_VALUE","details":[{"attribute_name":"value"}]}],"uuid":"7a534576-16d6-4a13-bc76-06a976e7b9fb","value":"","label":"","state":"ACTIVE","attrs":{"is_secret_modified":false,"secret_reference":{"uuid":"6edaa222-5b06-4080-a895-b2265ac2f1ca"},"type":""},"editables":{"value":true},"is_hidden":false,"type":"SECRET","options":{},"name":"MYSQL_PASSWORD"}],"name":"Nutanix"},{"deployment_create_list":[{"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"76fbd9a9-bcef-4e6a-8410-064e30341540","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"62ee1671_deployment","uuid":"6aed513b-461a-4a72-9a0a-c1458a3e7de9"},"retries":"0","description":"","type":"DAG","uuid":"343136bd-06c6-44f5-bf79-5878f0529651","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__DE_Provision_6aed513b_461a_4a72_9a0a_c1458a3e7de9","uuid":"948febee-5657-4df0-90d1-b6b12aa2682f"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_cefa9a98_dcbd_4260_a7b6_12d47af4d968","uuid":"da5808bc-b05e-4c02-bdb1-40a8fdecea01"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_a441a852_e8a5_4f5d_a929_fd0542ae5d8b","uuid":"069cf3f7-279a-47c1-8e9f-187a7ca190df"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"9019a6c5-9260-4e67-9017-f76380cfabc8"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"ab1b2ca0-a772-49f9-b6c9-a8f81464a0fb"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"9019a6c5-9260-4e67-9017-f76380cfabc8"},"edge_type":"inherent","type":"","uuid":"de1691c1-3245-4ca3-88ae-88d195d888fa","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"ab1b2ca0-a772-49f9-b6c9-a8f81464a0fb"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_a441a852_e8a5_4f5d_a929_fd0542ae5d8b","uuid":"069cf3f7-279a-47c1-8e9f-187a7ca190df"},"edge_type":"inherent","type":"","uuid":"28191616-b01c-4377-8987-a85ed793836d","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"9019a6c5-9260-4e67-9017-f76380cfabc8"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_cefa9a98_dcbd_4260_a7b6_12d47af4d968","uuid":"da5808bc-b05e-4c02-bdb1-40a8fdecea01"},"edge_type":"inherent","type":"","uuid":"65f9fc2e-a204-495c-ac1d-fc4a34061c72","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_a441a852_e8a5_4f5d_a929_fd0542ae5d8b","uuid":"069cf3f7-279a-47c1-8e9f-187a7ca190df"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_6aed513b_461a_4a72_9a0a_c1458a3e7de9","uuid":"948febee-5657-4df0-90d1-b6b12aa2682f"},"edge_type":"inherent","type":"","uuid":"6ed7749b-faaa-4884-8550-3a01b19779d7","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_cefa9a98_dcbd_4260_a7b6_12d47af4d968","uuid":"da5808bc-b05e-4c02-bdb1-40a8fdecea01"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_6aed513b_461a_4a72_9a0a_c1458a3e7de9"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"62ee1671_deployment","uuid":"6aed513b-461a-4a72-9a0a-c1458a3e7de9"},"retries":"0","description":"","type":"CREATE_DEPLOYMENT_ELEMENT","uuid":"948febee-5657-4df0-90d1-b6b12aa2682f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Provision_6aed513b_461a_4a72_9a0a_c1458a3e7de9"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSMaster","uuid":"cefa9a98-dcbd-4260-a7b6-12d47af4d968"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"da5808bc-b05e-4c02-bdb1-40a8fdecea01","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"62ee1671_deployment","uuid":"6aed513b-461a-4a72-9a0a-c1458a3e7de9"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_cefa9a98_dcbd_4260_a7b6_12d47af4d968","uuid":"c0efe52e-9e9b-41df-a45f-deab05229df4"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Substrate_cefa9a98_dcbd_4260_a7b6_12d47af4d968"},{"target_any_local_reference":{"kind":"app_package","name":"AWSMasterPackage","uuid":"a441a852-e8a5-4f5d-a929-fd0542ae5d8b"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"069cf3f7-279a-47c1-8e9f-187a7ca190df","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"62ee1671_deployment","uuid":"6aed513b-461a-4a72-9a0a-c1458a3e7de9"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_a441a852_e8a5_4f5d_a929_fd0542ae5d8b","uuid":"8d90483c-de15-4095-98ae-239e89e05cc0"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_a441a852_e8a5_4f5d_a929_fd0542ae5d8b"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"9019a6c5-9260-4e67-9017-f76380cfabc8","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"62ee1671_deployment","uuid":"6aed513b-461a-4a72-9a0a-c1458a3e7de9"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0a970522_runbook","uuid":"9866e43d-ff48-4abb-bade-7f5396ce551e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"ab1b2ca0-a772-49f9-b6c9-a8f81464a0fb","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"62ee1671_deployment","uuid":"6aed513b-461a-4a72-9a0a-c1458a3e7de9"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"5ddb28d1_runbook","uuid":"907290fe-eaef-465b-a916-7c2c67d20c97"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b"}],"description":"","message_list":[],"uuid":"20d86a24-c824-40b1-bfc9-1970695b6bba","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_6aed513b_461a_4a72_9a0a_c1458a3e7de9","uuid":"343136bd-06c6-44f5-bf79-5878f0529651"},"name":"SYS_GEN__Runbook_Deployment_6aed513b_461a_4a72_9a0a_c1458a3e7de9"}},{"description":"System action for starting an application","message_list":[],"uuid":"2fb79e8b-5082-4e8d-8a65-db1b621f9abd","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"62ee1671_deployment","uuid":"6aed513b-461a-4a72-9a0a-c1458a3e7de9"},"retries":"0","description":"","type":"DAG","uuid":"3a349361-1544-4501-91ef-cceeddedb441","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_cefa9a98_dcbd_4260_a7b6_12d47af4d968","uuid":"b23faad8-c973-4f5e-a68b-0defd6d58917"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"13ceb2aa-c87e-4aba-beba-ad9fc1ae655f"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_cefa9a98_dcbd_4260_a7b6_12d47af4d968","uuid":"b23faad8-c973-4f5e-a68b-0defd6d58917"},"edge_type":"inherent","type":"","uuid":"d3e47c3f-b34a-428b-b805-1947304a5244","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"13ceb2aa-c87e-4aba-beba-ad9fc1ae655f"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_6aed513b_461a_4a72_9a0a_c1458a3e7de9"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSMaster","uuid":"cefa9a98-dcbd-4260-a7b6-12d47af4d968"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"b23faad8-c973-4f5e-a68b-0defd6d58917","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"62ee1671_deployment","uuid":"6aed513b-461a-4a72-9a0a-c1458a3e7de9"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_cefa9a98_dcbd_4260_a7b6_12d47af4d968","uuid":"4277c395-8a62-460c-b923-42a85c9e993a"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Substrate_cefa9a98_dcbd_4260_a7b6_12d47af4d968"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"13ceb2aa-c87e-4aba-beba-ad9fc1ae655f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"62ee1671_deployment","uuid":"6aed513b-461a-4a72-9a0a-c1458a3e7de9"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"5ddb28d1_runbook","uuid":"907290fe-eaef-465b-a916-7c2c67d20c97"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b"}],"description":"","message_list":[],"uuid":"dcfe3688-cc5f-4ede-94c8-fbc348ce525e","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_6aed513b_461a_4a72_9a0a_c1458a3e7de9","uuid":"3a349361-1544-4501-91ef-cceeddedb441"},"name":"SYS_GEN__Runbook_Deployment_6aed513b_461a_4a72_9a0a_c1458a3e7de9"}},{"description":"System action for restarting an application","message_list":[],"uuid":"3f96645d-6131-4df1-beac-41427950f3a1","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"62ee1671_deployment","uuid":"6aed513b-461a-4a72-9a0a-c1458a3e7de9"},"retries":"0","description":"","type":"DAG","uuid":"b071685d-6b24-4f6c-8f51-4f417705d172","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_cefa9a98_dcbd_4260_a7b6_12d47af4d968","uuid":"e931bfad-5ff4-4fb4-8e6f-64fa269828af"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"82135d19-5550-4044-a25b-a9598bd0ddc9"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_cefa9a98_dcbd_4260_a7b6_12d47af4d968","uuid":"e931bfad-5ff4-4fb4-8e6f-64fa269828af"},"edge_type":"inherent","type":"","uuid":"d42d34dc-b2d5-4a09-a2e7-2bd178bb4d10","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"82135d19-5550-4044-a25b-a9598bd0ddc9"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_6aed513b_461a_4a72_9a0a_c1458a3e7de9"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSMaster","uuid":"cefa9a98-dcbd-4260-a7b6-12d47af4d968"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"e931bfad-5ff4-4fb4-8e6f-64fa269828af","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"62ee1671_deployment","uuid":"6aed513b-461a-4a72-9a0a-c1458a3e7de9"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_cefa9a98_dcbd_4260_a7b6_12d47af4d968","uuid":"66e908ab-4bba-480e-b7af-9fd5427adc27"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Substrate_cefa9a98_dcbd_4260_a7b6_12d47af4d968"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"82135d19-5550-4044-a25b-a9598bd0ddc9","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"62ee1671_deployment","uuid":"6aed513b-461a-4a72-9a0a-c1458a3e7de9"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"7e709238_runbook","uuid":"e38aa3c5-d052-4d28-84e6-acfb09a6af83"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b"}],"description":"","message_list":[],"uuid":"f0716c6f-a624-4fc7-b5af-db7d9d699439","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_6aed513b_461a_4a72_9a0a_c1458a3e7de9","uuid":"b071685d-6b24-4f6c-8f51-4f417705d172"},"name":"SYS_GEN__Runbook_Deployment_6aed513b_461a_4a72_9a0a_c1458a3e7de9"}},{"description":"System action for stopping an application","message_list":[],"uuid":"26d23c32-2468-44dc-bba0-45bd52ba49f7","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"62ee1671_deployment","uuid":"6aed513b-461a-4a72-9a0a-c1458a3e7de9"},"retries":"0","description":"","type":"DAG","uuid":"b309d0ea-935e-433d-acf4-5837344e43df","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"f0f9b376-ce68-4f26-a397-40bcb935074b"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_cefa9a98_dcbd_4260_a7b6_12d47af4d968","uuid":"8d528274-7b9f-4030-9711-c8637b6812c9"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"f0f9b376-ce68-4f26-a397-40bcb935074b"},"edge_type":"inherent","type":"","uuid":"939f15bc-e153-4287-a6ab-310ae2a3824b","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_cefa9a98_dcbd_4260_a7b6_12d47af4d968","uuid":"8d528274-7b9f-4030-9711-c8637b6812c9"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_6aed513b_461a_4a72_9a0a_c1458a3e7de9"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"f0f9b376-ce68-4f26-a397-40bcb935074b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"62ee1671_deployment","uuid":"6aed513b-461a-4a72-9a0a-c1458a3e7de9"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0aefbca3_runbook","uuid":"ce2a2858-b89b-4bb4-8fb3-ee8bd8a6bd3f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSMaster","uuid":"cefa9a98-dcbd-4260-a7b6-12d47af4d968"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"8d528274-7b9f-4030-9711-c8637b6812c9","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"62ee1671_deployment","uuid":"6aed513b-461a-4a72-9a0a-c1458a3e7de9"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_cefa9a98_dcbd_4260_a7b6_12d47af4d968","uuid":"20f96c8e-a115-40dc-818e-9e9a8f9e1d84"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Substrate_cefa9a98_dcbd_4260_a7b6_12d47af4d968"}],"description":"","message_list":[],"uuid":"743ce7dd-03b7-40c6-847f-577a56e06955","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_6aed513b_461a_4a72_9a0a_c1458a3e7de9","uuid":"b309d0ea-935e-433d-acf4-5837344e43df"},"name":"SYS_GEN__Runbook_Deployment_6aed513b_461a_4a72_9a0a_c1458a3e7de9"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"1890d867-b2d7-44e7-b77b-6db9c81a4b40","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"62ee1671_deployment","uuid":"6aed513b-461a-4a72-9a0a-c1458a3e7de9"},"retries":"0","description":"","type":"DAG","uuid":"db18072e-0bce-461d-9362-2dca30f945ae","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"bb923a83-7e98-4fee-9286-d0faa959d2cf"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"241d7206-00cb-4512-86fd-58338af84e55"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_a441a852_e8a5_4f5d_a929_fd0542ae5d8b","uuid":"13062eea-b20c-4419-a7f8-7bab4a639f08"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_cefa9a98_dcbd_4260_a7b6_12d47af4d968","uuid":"731778df-8b11-44c3-9bda-3807feb453cc"},{"kind":"app_task","name":"SYS_GEN__DE_Delete_6aed513b_461a_4a72_9a0a_c1458a3e7de9","uuid":"fafd4d69-b787-45ad-a588-e7d1fae57d4f"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"bb923a83-7e98-4fee-9286-d0faa959d2cf"},"edge_type":"inherent","type":"","uuid":"14e107ed-bbdc-4669-950e-786ec45a224d","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"241d7206-00cb-4512-86fd-58338af84e55"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"241d7206-00cb-4512-86fd-58338af84e55"},"edge_type":"inherent","type":"","uuid":"adc34899-0aaf-4f6a-a735-d9d3fc293c20","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_a441a852_e8a5_4f5d_a929_fd0542ae5d8b","uuid":"13062eea-b20c-4419-a7f8-7bab4a639f08"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_cefa9a98_dcbd_4260_a7b6_12d47af4d968","uuid":"731778df-8b11-44c3-9bda-3807feb453cc"},"edge_type":"inherent","type":"","uuid":"df3310d8-1f09-4add-b34a-40e465752538","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Delete_6aed513b_461a_4a72_9a0a_c1458a3e7de9","uuid":"fafd4d69-b787-45ad-a588-e7d1fae57d4f"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_a441a852_e8a5_4f5d_a929_fd0542ae5d8b","uuid":"13062eea-b20c-4419-a7f8-7bab4a639f08"},"edge_type":"inherent","type":"","uuid":"e29c5e7a-038f-4f2b-8819-d51572905f3f","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_cefa9a98_dcbd_4260_a7b6_12d47af4d968","uuid":"731778df-8b11-44c3-9bda-3807feb453cc"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_6aed513b_461a_4a72_9a0a_c1458a3e7de9"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"bb923a83-7e98-4fee-9286-d0faa959d2cf","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"62ee1671_deployment","uuid":"6aed513b-461a-4a72-9a0a-c1458a3e7de9"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0aefbca3_runbook","uuid":"ce2a2858-b89b-4bb4-8fb3-ee8bd8a6bd3f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"241d7206-00cb-4512-86fd-58338af84e55","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"62ee1671_deployment","uuid":"6aed513b-461a-4a72-9a0a-c1458a3e7de9"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"5fd47ec3_runbook","uuid":"e410ef14-5f72-46ab-b7d5-0181621be34f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b"},{"target_any_local_reference":{"kind":"app_package","name":"AWSMasterPackage","uuid":"a441a852-e8a5-4f5d-a929-fd0542ae5d8b"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"13062eea-b20c-4419-a7f8-7bab4a639f08","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"62ee1671_deployment","uuid":"6aed513b-461a-4a72-9a0a-c1458a3e7de9"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_a441a852_e8a5_4f5d_a929_fd0542ae5d8b","uuid":"d999455a-9ae2-4f94-99b4-21dddfff4d8e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_a441a852_e8a5_4f5d_a929_fd0542ae5d8b"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSMaster","uuid":"cefa9a98-dcbd-4260-a7b6-12d47af4d968"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"731778df-8b11-44c3-9bda-3807feb453cc","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"62ee1671_deployment","uuid":"6aed513b-461a-4a72-9a0a-c1458a3e7de9"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_cefa9a98_dcbd_4260_a7b6_12d47af4d968","uuid":"e1845a09-b219-4479-89df-b1fd4071f928"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Substrate_cefa9a98_dcbd_4260_a7b6_12d47af4d968"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"62ee1671_deployment","uuid":"6aed513b-461a-4a72-9a0a-c1458a3e7de9"},"retries":"0","description":"","type":"DELETE_DEPLOYMENT_ELEMENT","uuid":"fafd4d69-b787-45ad-a588-e7d1fae57d4f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Delete_6aed513b_461a_4a72_9a0a_c1458a3e7de9"}],"description":"","message_list":[],"uuid":"f4382751-a1b8-49a1-abd0-5e82807eaca7","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_6aed513b_461a_4a72_9a0a_c1458a3e7de9","uuid":"db18072e-0bce-461d-9362-2dca30f945ae"},"name":"SYS_GEN__Runbook_Deployment_6aed513b_461a_4a72_9a0a_c1458a3e7de9"}},{"description":"System action for scaleout","message_list":[],"uuid":"b1b2e70d-289d-45f2-bf61-da21121d2608","name":"action_scaleout","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"62ee1671_deployment","uuid":"6aed513b-461a-4a72-9a0a-c1458a3e7de9"},"retries":"0","description":"","type":"DAG","uuid":"c8806fd6-24d1-4b7e-a3e6-0a2f81dd7632","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Deployment_Scaleout_6aed513b_461a_4a72_9a0a_c1458a3e7de9","uuid":"397ddb9d-684c-4103-bb15-f5fbe44344ca"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_6aed513b_461a_4a72_9a0a_c1458a3e7de9"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"62ee1671_deployment","uuid":"6aed513b-461a-4a72-9a0a-c1458a3e7de9"},"retries":"0","description":"","type":"SCALING","uuid":"397ddb9d-684c-4103-bb15-f5fbe44344ca","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{scaling_count}@@","type":"","scaling_type":"SCALEOUT"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Deployment_Scaleout_6aed513b_461a_4a72_9a0a_c1458a3e7de9"}],"description":"","message_list":[],"uuid":"a58150b1-775e-4581-a5bc-e9b21360d824","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"d69b2239-a2ba-4fe4-be2b-f8b8626bb9fd","value":"0","label":"","state":"NOT_VALIDATED","attrs":{},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"scaling_count"}],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_6aed513b_461a_4a72_9a0a_c1458a3e7de9","uuid":"c8806fd6-24d1-4b7e-a3e6-0a2f81dd7632"},"name":"SYS_GEN__Runbook_Deployment_6aed513b_461a_4a72_9a0a_c1458a3e7de9"}},{"description":"System action for scalein","message_list":[],"uuid":"da9e19a2-7c45-41bf-9c8c-5bf5bd840081","name":"action_scalein","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"62ee1671_deployment","uuid":"6aed513b-461a-4a72-9a0a-c1458a3e7de9"},"retries":"0","description":"","type":"DAG","uuid":"e91b3e37-6459-40d8-92fa-2c1194fb0e05","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Deployment_Scalein_6aed513b_461a_4a72_9a0a_c1458a3e7de9","uuid":"34f6b71d-c8cd-4135-8a25-1d3c2db48a7f"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_6aed513b_461a_4a72_9a0a_c1458a3e7de9"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"62ee1671_deployment","uuid":"6aed513b-461a-4a72-9a0a-c1458a3e7de9"},"retries":"0","description":"","type":"SCALING","uuid":"34f6b71d-c8cd-4135-8a25-1d3c2db48a7f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{scaling_count}@@","type":"","scaling_type":"SCALEIN"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Deployment_Scalein_6aed513b_461a_4a72_9a0a_c1458a3e7de9"}],"description":"","message_list":[],"uuid":"5fbe43de-23ae-49dd-b463-6cef41a29856","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"bb4178b7-283b-4c6a-9939-a7fe81f9af0d","value":"0","label":"","state":"NOT_VALIDATED","attrs":{},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"scaling_count"}],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_6aed513b_461a_4a72_9a0a_c1458a3e7de9","uuid":"e91b3e37-6459-40d8-92fa-2c1194fb0e05"},"name":"SYS_GEN__Runbook_Deployment_6aed513b_461a_4a72_9a0a_c1458a3e7de9"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"9abca290-04ef-4920-be84-7d30586d4d9c","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"62ee1671_deployment","uuid":"6aed513b-461a-4a72-9a0a-c1458a3e7de9"},"retries":"0","description":"","type":"DAG","uuid":"7ceceaaf-4aff-49d2-9bd7-466bc4e42737","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"862ba17d-07ce-46a8-a63f-7fa2629c3610"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_a441a852_e8a5_4f5d_a929_fd0542ae5d8b","uuid":"6984e8c6-f93a-420c-b729-bfe646f47c7d"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_cefa9a98_dcbd_4260_a7b6_12d47af4d968","uuid":"112c78fc-8a32-47e6-8eb7-e04db723b088"},{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_6aed513b_461a_4a72_9a0a_c1458a3e7de9","uuid":"33ac0df8-e9f8-4215-bf98-c853d2b822ce"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"862ba17d-07ce-46a8-a63f-7fa2629c3610"},"edge_type":"inherent","type":"","uuid":"f776a711-c3a4-4450-8f7d-6fcd7417f0e1","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_a441a852_e8a5_4f5d_a929_fd0542ae5d8b","uuid":"6984e8c6-f93a-420c-b729-bfe646f47c7d"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_a441a852_e8a5_4f5d_a929_fd0542ae5d8b","uuid":"6984e8c6-f93a-420c-b729-bfe646f47c7d"},"edge_type":"inherent","type":"","uuid":"9eed4c09-19ee-4cc0-8953-71e0c4036b42","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_cefa9a98_dcbd_4260_a7b6_12d47af4d968","uuid":"112c78fc-8a32-47e6-8eb7-e04db723b088"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_cefa9a98_dcbd_4260_a7b6_12d47af4d968","uuid":"112c78fc-8a32-47e6-8eb7-e04db723b088"},"edge_type":"inherent","type":"","uuid":"9f10d5cd-0da8-4031-9091-e600692ac463","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_6aed513b_461a_4a72_9a0a_c1458a3e7de9","uuid":"33ac0df8-e9f8-4215-bf98-c853d2b822ce"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_6aed513b_461a_4a72_9a0a_c1458a3e7de9"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"862ba17d-07ce-46a8-a63f-7fa2629c3610","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"62ee1671_deployment","uuid":"6aed513b-461a-4a72-9a0a-c1458a3e7de9"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"b9b6e25b-f9f5-473d-8c7e-6fcb8b23a4da"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b"},{"target_any_local_reference":{"kind":"app_package","name":"AWSMasterPackage","uuid":"a441a852-e8a5-4f5d-a929-fd0542ae5d8b"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"6984e8c6-f93a-420c-b729-bfe646f47c7d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_a441a852_e8a5_4f5d_a929_fd0542ae5d8b"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSMaster","uuid":"cefa9a98-dcbd-4260-a7b6-12d47af4d968"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"112c78fc-8a32-47e6-8eb7-e04db723b088","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"62ee1671_deployment","uuid":"6aed513b-461a-4a72-9a0a-c1458a3e7de9"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_cefa9a98_dcbd_4260_a7b6_12d47af4d968","uuid":"8ee087ec-b01a-49b3-bf7f-390d2f84027a"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Substrate_cefa9a98_dcbd_4260_a7b6_12d47af4d968"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"62ee1671_deployment","uuid":"6aed513b-461a-4a72-9a0a-c1458a3e7de9"},"retries":"0","description":"","type":"SOFT_DELETE_DEPLOYMENT_ELEMENT","uuid":"33ac0df8-e9f8-4215-bf98-c853d2b822ce","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Soft_Delete_6aed513b_461a_4a72_9a0a_c1458a3e7de9"}],"description":"","message_list":[],"uuid":"9e977526-2ffc-4a77-97c1-414214f89a61","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_6aed513b_461a_4a72_9a0a_c1458a3e7de9","uuid":"7ceceaaf-4aff-49d2-9bd7-466bc4e42737"},"name":"SYS_GEN__Runbook_Deployment_6aed513b_461a_4a72_9a0a_c1458a3e7de9"}}],"message_list":[],"published_service_local_reference_list":[],"uuid":"6aed513b-461a-4a72-9a0a-c1458a3e7de9","min_replicas":"1","state":"DRAFT","max_replicas":"1","depends_on_list":[],"editables":{},"package_local_reference_list":[{"kind":"app_package","name":"AWSMasterPackage","uuid":"a441a852-e8a5-4f5d-a929-fd0542ae5d8b"}],"substrate_local_reference":{"kind":"app_substrate","name":"AWSMaster","uuid":"cefa9a98-dcbd-4260-a7b6-12d47af4d968"},"type":"GREENFIELD","options":{},"variable_list":[],"name":"62ee1671_deployment"},{"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"9bb1f42f-f5fb-4422-89ea-1b0591571c98","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"a206929d-23c4-46c4-9717-c19257edd289"},"retries":"0","description":"","type":"DAG","uuid":"8f0b2820-2be6-4afd-8a21-e80c3ca9db2f","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__DE_Provision_a206929d_23c4_46c4_9717_c19257edd289","uuid":"10f8b9a3-51da-429e-b604-b8ba610f1576"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_dc4c740f_2c0d_43d8_b0ac_96221c03c081","uuid":"02d0d5aa-3254-4003-b7ec-5e84dd66939a"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_06bdea25_1ba3_4ded_9f1d_15f9be1e723e","uuid":"c409dcdc-4334-473d-97b5-91d8d7cc1c69"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"651c3bc2-c845-42a7-a90b-0cdec592d008"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"2444a1d2-a8b0-4892-bdd0-c518acc58f9a"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"651c3bc2-c845-42a7-a90b-0cdec592d008"},"edge_type":"inherent","type":"","uuid":"6ff0a213-0d3c-4c0d-b2bf-f75dba92010d","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"2444a1d2-a8b0-4892-bdd0-c518acc58f9a"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_06bdea25_1ba3_4ded_9f1d_15f9be1e723e","uuid":"c409dcdc-4334-473d-97b5-91d8d7cc1c69"},"edge_type":"inherent","type":"","uuid":"97ed7fa5-9f9d-4c81-ae1c-6f5054b72dfb","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"651c3bc2-c845-42a7-a90b-0cdec592d008"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_a206929d_23c4_46c4_9717_c19257edd289","uuid":"10f8b9a3-51da-429e-b604-b8ba610f1576"},"edge_type":"inherent","type":"","uuid":"94cbbd10-4f73-41f1-bad7-b62695fcd6f3","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_dc4c740f_2c0d_43d8_b0ac_96221c03c081","uuid":"02d0d5aa-3254-4003-b7ec-5e84dd66939a"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_dc4c740f_2c0d_43d8_b0ac_96221c03c081","uuid":"02d0d5aa-3254-4003-b7ec-5e84dd66939a"},"edge_type":"inherent","type":"","uuid":"b09fb25d-c1df-4295-8b2e-9d8baa13eee6","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_06bdea25_1ba3_4ded_9f1d_15f9be1e723e","uuid":"c409dcdc-4334-473d-97b5-91d8d7cc1c69"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_a206929d_23c4_46c4_9717_c19257edd289"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"a206929d-23c4-46c4-9717-c19257edd289"},"retries":"0","description":"","type":"CREATE_DEPLOYMENT_ELEMENT","uuid":"10f8b9a3-51da-429e-b604-b8ba610f1576","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Provision_a206929d_23c4_46c4_9717_c19257edd289"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSSlave","uuid":"dc4c740f-2c0d-43d8-b0ac-96221c03c081"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"02d0d5aa-3254-4003-b7ec-5e84dd66939a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"a206929d-23c4-46c4-9717-c19257edd289"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_dc4c740f_2c0d_43d8_b0ac_96221c03c081","uuid":"53dd9111-8a0a-4743-9baf-e916981dec86"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Substrate_dc4c740f_2c0d_43d8_b0ac_96221c03c081"},{"target_any_local_reference":{"kind":"app_package","name":"AWSSlavePackage","uuid":"06bdea25-1ba3-4ded-9f1d-15f9be1e723e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"c409dcdc-4334-473d-97b5-91d8d7cc1c69","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"a206929d-23c4-46c4-9717-c19257edd289"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_06bdea25_1ba3_4ded_9f1d_15f9be1e723e","uuid":"7b8bb688-3fb0-417e-a127-3d28918c14a3"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_06bdea25_1ba3_4ded_9f1d_15f9be1e723e"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"651c3bc2-c845-42a7-a90b-0cdec592d008","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"a206929d-23c4-46c4-9717-c19257edd289"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"d54168c9_runbook","uuid":"d9d72b08-90b4-46c2-a771-6d338abb4bc3"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"2444a1d2-a8b0-4892-bdd0-c518acc58f9a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"a206929d-23c4-46c4-9717-c19257edd289"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"a027cde0_runbook","uuid":"557651c0-2ccf-45cb-beb3-9f2028221b2e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d"}],"description":"","message_list":[],"uuid":"cb8de15c-4439-4125-8d71-02b664af4e02","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_a206929d_23c4_46c4_9717_c19257edd289","uuid":"8f0b2820-2be6-4afd-8a21-e80c3ca9db2f"},"name":"SYS_GEN__Runbook_Deployment_a206929d_23c4_46c4_9717_c19257edd289"}},{"description":"System action for starting an application","message_list":[],"uuid":"0a309133-4256-4780-98fd-91b4619cab95","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"a206929d-23c4-46c4-9717-c19257edd289"},"retries":"0","description":"","type":"DAG","uuid":"69463ef6-6b13-4e1f-9f8c-b3b1f8f0e877","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_dc4c740f_2c0d_43d8_b0ac_96221c03c081","uuid":"d6d9f8c1-701e-4520-b2a3-2d4a5246befe"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"c478913f-e89c-4864-b551-581975b6b51e"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_dc4c740f_2c0d_43d8_b0ac_96221c03c081","uuid":"d6d9f8c1-701e-4520-b2a3-2d4a5246befe"},"edge_type":"inherent","type":"","uuid":"74f2273b-6045-466a-8982-e885154893f1","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"c478913f-e89c-4864-b551-581975b6b51e"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_a206929d_23c4_46c4_9717_c19257edd289"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSSlave","uuid":"dc4c740f-2c0d-43d8-b0ac-96221c03c081"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"d6d9f8c1-701e-4520-b2a3-2d4a5246befe","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"a206929d-23c4-46c4-9717-c19257edd289"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_dc4c740f_2c0d_43d8_b0ac_96221c03c081","uuid":"16aad405-0894-45a1-a680-7c4aaf2ee0e5"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Substrate_dc4c740f_2c0d_43d8_b0ac_96221c03c081"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"c478913f-e89c-4864-b551-581975b6b51e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"a206929d-23c4-46c4-9717-c19257edd289"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"a027cde0_runbook","uuid":"557651c0-2ccf-45cb-beb3-9f2028221b2e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d"}],"description":"","message_list":[],"uuid":"3981496a-7c54-4568-8a82-38d3bf0d9c67","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_a206929d_23c4_46c4_9717_c19257edd289","uuid":"69463ef6-6b13-4e1f-9f8c-b3b1f8f0e877"},"name":"SYS_GEN__Runbook_Deployment_a206929d_23c4_46c4_9717_c19257edd289"}},{"description":"System action for restarting an application","message_list":[],"uuid":"6f7a036b-8ef5-4508-8ce9-04dba3dbce82","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"a206929d-23c4-46c4-9717-c19257edd289"},"retries":"0","description":"","type":"DAG","uuid":"7b506db5-244e-4756-bab3-bf4b787bd64b","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_dc4c740f_2c0d_43d8_b0ac_96221c03c081","uuid":"88e5d046-61df-4bca-9383-dc22992713aa"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"11c2b56c-3189-47f6-8825-9132aa346520"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_dc4c740f_2c0d_43d8_b0ac_96221c03c081","uuid":"88e5d046-61df-4bca-9383-dc22992713aa"},"edge_type":"inherent","type":"","uuid":"c390e9ad-1190-42af-b2d6-8eda096bed6b","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"11c2b56c-3189-47f6-8825-9132aa346520"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_a206929d_23c4_46c4_9717_c19257edd289"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSSlave","uuid":"dc4c740f-2c0d-43d8-b0ac-96221c03c081"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"88e5d046-61df-4bca-9383-dc22992713aa","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"a206929d-23c4-46c4-9717-c19257edd289"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_dc4c740f_2c0d_43d8_b0ac_96221c03c081","uuid":"efdb93bd-e6e5-4148-8fb0-76856e3f6c5e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Substrate_dc4c740f_2c0d_43d8_b0ac_96221c03c081"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"11c2b56c-3189-47f6-8825-9132aa346520","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"a206929d-23c4-46c4-9717-c19257edd289"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"f2b2a076_runbook","uuid":"d30fe7b4-3486-4f8a-a3b8-e08401237ee7"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d"}],"description":"","message_list":[],"uuid":"1de851bd-028c-4d50-87f5-019e3935df49","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_a206929d_23c4_46c4_9717_c19257edd289","uuid":"7b506db5-244e-4756-bab3-bf4b787bd64b"},"name":"SYS_GEN__Runbook_Deployment_a206929d_23c4_46c4_9717_c19257edd289"}},{"description":"System action for stopping an application","message_list":[],"uuid":"eef9be45-6e40-4be2-949c-5c51c4627b10","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"a206929d-23c4-46c4-9717-c19257edd289"},"retries":"0","description":"","type":"DAG","uuid":"2dda4474-4032-48a6-9ac7-eee2b0a4aa24","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"850ac58f-f266-419e-8fd0-e451991a7bf0"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_dc4c740f_2c0d_43d8_b0ac_96221c03c081","uuid":"6a533e32-743d-4400-8a1d-3cbd11f80c94"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"850ac58f-f266-419e-8fd0-e451991a7bf0"},"edge_type":"inherent","type":"","uuid":"95c7ec40-fed4-44f1-b3a5-f411985ee38f","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_dc4c740f_2c0d_43d8_b0ac_96221c03c081","uuid":"6a533e32-743d-4400-8a1d-3cbd11f80c94"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_a206929d_23c4_46c4_9717_c19257edd289"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"850ac58f-f266-419e-8fd0-e451991a7bf0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"a206929d-23c4-46c4-9717-c19257edd289"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"4a2ad0be_runbook","uuid":"d405c9d6-da96-4365-b171-e7ffb7e6b913"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSSlave","uuid":"dc4c740f-2c0d-43d8-b0ac-96221c03c081"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"6a533e32-743d-4400-8a1d-3cbd11f80c94","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"a206929d-23c4-46c4-9717-c19257edd289"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_dc4c740f_2c0d_43d8_b0ac_96221c03c081","uuid":"c0e088ab-b1e9-4479-9efd-d85ad5c32201"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Substrate_dc4c740f_2c0d_43d8_b0ac_96221c03c081"}],"description":"","message_list":[],"uuid":"6270b433-7607-4392-9828-1630461d5cfc","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_a206929d_23c4_46c4_9717_c19257edd289","uuid":"2dda4474-4032-48a6-9ac7-eee2b0a4aa24"},"name":"SYS_GEN__Runbook_Deployment_a206929d_23c4_46c4_9717_c19257edd289"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"8f8aa446-bd5d-49eb-b4d1-b65b2620ca90","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"a206929d-23c4-46c4-9717-c19257edd289"},"retries":"0","description":"","type":"DAG","uuid":"078b5b44-e9bc-4697-83cc-3c4c5527515d","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"89467c4f-1cb6-4b6e-8428-0f12cc15c8b6"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"06d59fb3-7fce-4332-9910-fa0fe98213d4"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_06bdea25_1ba3_4ded_9f1d_15f9be1e723e","uuid":"aab43c0b-4d05-45b4-8e3b-5e5e266f3adb"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_dc4c740f_2c0d_43d8_b0ac_96221c03c081","uuid":"513467cf-c4ff-4c89-b845-79c7e8d714d5"},{"kind":"app_task","name":"SYS_GEN__DE_Delete_a206929d_23c4_46c4_9717_c19257edd289","uuid":"dcbf32e9-2079-4109-9ef4-7a5d71d80c54"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"89467c4f-1cb6-4b6e-8428-0f12cc15c8b6"},"edge_type":"inherent","type":"","uuid":"174013a4-278f-45b5-96b0-f09b22de3fb2","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"06d59fb3-7fce-4332-9910-fa0fe98213d4"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"06d59fb3-7fce-4332-9910-fa0fe98213d4"},"edge_type":"inherent","type":"","uuid":"ea73150a-6442-4fee-a807-7f95b6cab9e5","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_06bdea25_1ba3_4ded_9f1d_15f9be1e723e","uuid":"aab43c0b-4d05-45b4-8e3b-5e5e266f3adb"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_dc4c740f_2c0d_43d8_b0ac_96221c03c081","uuid":"513467cf-c4ff-4c89-b845-79c7e8d714d5"},"edge_type":"inherent","type":"","uuid":"e1ff668b-80fb-4edb-b25a-03a9e69ef8ff","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Delete_a206929d_23c4_46c4_9717_c19257edd289","uuid":"dcbf32e9-2079-4109-9ef4-7a5d71d80c54"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_06bdea25_1ba3_4ded_9f1d_15f9be1e723e","uuid":"aab43c0b-4d05-45b4-8e3b-5e5e266f3adb"},"edge_type":"inherent","type":"","uuid":"61317049-9af9-4cfe-83d8-d253344b92f3","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_dc4c740f_2c0d_43d8_b0ac_96221c03c081","uuid":"513467cf-c4ff-4c89-b845-79c7e8d714d5"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_a206929d_23c4_46c4_9717_c19257edd289"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"89467c4f-1cb6-4b6e-8428-0f12cc15c8b6","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"a206929d-23c4-46c4-9717-c19257edd289"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"4a2ad0be_runbook","uuid":"d405c9d6-da96-4365-b171-e7ffb7e6b913"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"06d59fb3-7fce-4332-9910-fa0fe98213d4","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"a206929d-23c4-46c4-9717-c19257edd289"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"92247e35_runbook","uuid":"c1fdda9f-aaee-4b0d-899f-a32eb5819a33"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d"},{"target_any_local_reference":{"kind":"app_package","name":"AWSSlavePackage","uuid":"06bdea25-1ba3-4ded-9f1d-15f9be1e723e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"aab43c0b-4d05-45b4-8e3b-5e5e266f3adb","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"a206929d-23c4-46c4-9717-c19257edd289"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_06bdea25_1ba3_4ded_9f1d_15f9be1e723e","uuid":"0313d2af-33a6-47f4-ac21-062c7b9f2b19"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_06bdea25_1ba3_4ded_9f1d_15f9be1e723e"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSSlave","uuid":"dc4c740f-2c0d-43d8-b0ac-96221c03c081"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"513467cf-c4ff-4c89-b845-79c7e8d714d5","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"a206929d-23c4-46c4-9717-c19257edd289"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_dc4c740f_2c0d_43d8_b0ac_96221c03c081","uuid":"162c0efb-356f-44ba-a586-1d30e261ba7c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Substrate_dc4c740f_2c0d_43d8_b0ac_96221c03c081"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"a206929d-23c4-46c4-9717-c19257edd289"},"retries":"0","description":"","type":"DELETE_DEPLOYMENT_ELEMENT","uuid":"dcbf32e9-2079-4109-9ef4-7a5d71d80c54","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Delete_a206929d_23c4_46c4_9717_c19257edd289"}],"description":"","message_list":[],"uuid":"d64c1266-721e-4d42-9ef7-e6c4e6ccb967","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_a206929d_23c4_46c4_9717_c19257edd289","uuid":"078b5b44-e9bc-4697-83cc-3c4c5527515d"},"name":"SYS_GEN__Runbook_Deployment_a206929d_23c4_46c4_9717_c19257edd289"}},{"description":"System action for scaleout","message_list":[],"uuid":"2f4cf206-758b-4e5e-88b4-45cb287fa189","name":"action_scaleout","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"a206929d-23c4-46c4-9717-c19257edd289"},"retries":"0","description":"","type":"DAG","uuid":"8208252b-b3a3-40d4-998f-2e4fd6767cca","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Deployment_Scaleout_a206929d_23c4_46c4_9717_c19257edd289","uuid":"30c052e3-4449-4523-9181-97554f055576"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_a206929d_23c4_46c4_9717_c19257edd289"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"a206929d-23c4-46c4-9717-c19257edd289"},"retries":"0","description":"","type":"SCALING","uuid":"30c052e3-4449-4523-9181-97554f055576","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{scaling_count}@@","type":"","scaling_type":"SCALEOUT"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Deployment_Scaleout_a206929d_23c4_46c4_9717_c19257edd289"}],"description":"","message_list":[],"uuid":"705d1b75-6a41-45a7-b2ee-6a5fd1c1dc2a","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"cb02a697-e3ed-4c3f-917c-7051e7410f0b","value":"0","label":"","state":"NOT_VALIDATED","attrs":{},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"scaling_count"}],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_a206929d_23c4_46c4_9717_c19257edd289","uuid":"8208252b-b3a3-40d4-998f-2e4fd6767cca"},"name":"SYS_GEN__Runbook_Deployment_a206929d_23c4_46c4_9717_c19257edd289"}},{"description":"System action for scalein","message_list":[],"uuid":"cd4ed8eb-6908-4808-92fd-34135d1a4b77","name":"action_scalein","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"a206929d-23c4-46c4-9717-c19257edd289"},"retries":"0","description":"","type":"DAG","uuid":"38ae3f1d-46a2-4598-bfa7-61062d55baff","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Deployment_Scalein_a206929d_23c4_46c4_9717_c19257edd289","uuid":"78e238fd-4e4c-4062-8f33-c08a9c67bdc3"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_a206929d_23c4_46c4_9717_c19257edd289"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"a206929d-23c4-46c4-9717-c19257edd289"},"retries":"0","description":"","type":"SCALING","uuid":"78e238fd-4e4c-4062-8f33-c08a9c67bdc3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{scaling_count}@@","type":"","scaling_type":"SCALEIN"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Deployment_Scalein_a206929d_23c4_46c4_9717_c19257edd289"}],"description":"","message_list":[],"uuid":"a41c3cdb-fa5c-41c3-aa8c-4ac1f39b76c2","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"ce0b86a6-2493-41a3-a861-530a957144fb","value":"0","label":"","state":"NOT_VALIDATED","attrs":{},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"scaling_count"}],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_a206929d_23c4_46c4_9717_c19257edd289","uuid":"38ae3f1d-46a2-4598-bfa7-61062d55baff"},"name":"SYS_GEN__Runbook_Deployment_a206929d_23c4_46c4_9717_c19257edd289"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"a4317d1d-844f-4104-ba52-1844be4bcbe2","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"a206929d-23c4-46c4-9717-c19257edd289"},"retries":"0","description":"","type":"DAG","uuid":"ebf8d684-0952-4220-9174-03540a2e8f3a","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"8aa668c7-66b0-4e2e-a90a-d9399b43aeeb"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_06bdea25_1ba3_4ded_9f1d_15f9be1e723e","uuid":"2f83c94d-1bde-4c5e-a73e-2bd3578e27b1"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_dc4c740f_2c0d_43d8_b0ac_96221c03c081","uuid":"9645b1fd-738a-48ae-85ba-f30b97815454"},{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_a206929d_23c4_46c4_9717_c19257edd289","uuid":"f60353b8-a8b7-4223-8dca-164524999c30"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"8aa668c7-66b0-4e2e-a90a-d9399b43aeeb"},"edge_type":"inherent","type":"","uuid":"55910126-a63d-43ef-8c15-576a6f05a89b","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_06bdea25_1ba3_4ded_9f1d_15f9be1e723e","uuid":"2f83c94d-1bde-4c5e-a73e-2bd3578e27b1"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_06bdea25_1ba3_4ded_9f1d_15f9be1e723e","uuid":"2f83c94d-1bde-4c5e-a73e-2bd3578e27b1"},"edge_type":"inherent","type":"","uuid":"ec04aa38-5c68-43cd-bd44-2959e62aa22e","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_dc4c740f_2c0d_43d8_b0ac_96221c03c081","uuid":"9645b1fd-738a-48ae-85ba-f30b97815454"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_dc4c740f_2c0d_43d8_b0ac_96221c03c081","uuid":"9645b1fd-738a-48ae-85ba-f30b97815454"},"edge_type":"inherent","type":"","uuid":"57cf0150-46f5-4754-ad8c-73ca4a437a0c","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_a206929d_23c4_46c4_9717_c19257edd289","uuid":"f60353b8-a8b7-4223-8dca-164524999c30"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_a206929d_23c4_46c4_9717_c19257edd289"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"8aa668c7-66b0-4e2e-a90a-d9399b43aeeb","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"a206929d-23c4-46c4-9717-c19257edd289"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"9cb9ecf0-89cd-4611-812d-2535c64945cf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d"},{"target_any_local_reference":{"kind":"app_package","name":"AWSSlavePackage","uuid":"06bdea25-1ba3-4ded-9f1d-15f9be1e723e"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"2f83c94d-1bde-4c5e-a73e-2bd3578e27b1","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_06bdea25_1ba3_4ded_9f1d_15f9be1e723e"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSSlave","uuid":"dc4c740f-2c0d-43d8-b0ac-96221c03c081"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"9645b1fd-738a-48ae-85ba-f30b97815454","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"a206929d-23c4-46c4-9717-c19257edd289"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_dc4c740f_2c0d_43d8_b0ac_96221c03c081","uuid":"c475f38c-f589-4f5b-907e-313744138adf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Substrate_dc4c740f_2c0d_43d8_b0ac_96221c03c081"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"a206929d-23c4-46c4-9717-c19257edd289"},"retries":"0","description":"","type":"SOFT_DELETE_DEPLOYMENT_ELEMENT","uuid":"f60353b8-a8b7-4223-8dca-164524999c30","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Soft_Delete_a206929d_23c4_46c4_9717_c19257edd289"}],"description":"","message_list":[],"uuid":"7acd0d28-9e4c-42d7-9809-980714b9b809","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_a206929d_23c4_46c4_9717_c19257edd289","uuid":"ebf8d684-0952-4220-9174-03540a2e8f3a"},"name":"SYS_GEN__Runbook_Deployment_a206929d_23c4_46c4_9717_c19257edd289"}}],"message_list":[],"published_service_local_reference_list":[],"uuid":"a206929d-23c4-46c4-9717-c19257edd289","min_replicas":"1","state":"DRAFT","max_replicas":"3","depends_on_list":[],"editables":{"min_replicas":true,"max_replicas":true},"package_local_reference_list":[{"kind":"app_package","name":"AWSSlavePackage","uuid":"06bdea25-1ba3-4ded-9f1d-15f9be1e723e"}],"substrate_local_reference":{"kind":"app_substrate","name":"AWSSlave","uuid":"dc4c740f-2c0d-43d8-b0ac-96221c03c081"},"type":"GREENFIELD","options":{},"variable_list":[],"name":"a7e03ed8_deployment"}],"description":"","action_list":[{"description":"Take DB Backup. Specify absolute directory path for BACKUP_FILE_PATH","message_list":[],"uuid":"6b257a1e-99a3-4a87-bf93-9e5b27662ade","name":"Backup","state":"ACTIVE","critical":false,"attrs":{},"type":"user","runbook":{"task_definition_list":[{"retries":"0","description":"","type":"DAG","uuid":"faed6aba-2317-42e8-81a9-f36264f93b0e","child_tasks_local_reference_list":[{"kind":"app_task","name":"DB Backup","uuid":"e8b1989e-3afe-4c52-8898-d70350669712"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"80ef9728_dag"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"EXEC","uuid":"e8b1989e-3afe-4c52-8898-d70350669712","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n### Setup variables\nmysql_password=\"@@{MYSQL_PASSWORD}@@\"\ndate_part=`date +%F`\nmkdir -p @@{BACKUP_FILE_PATH}@@\nsudo mysqldump -u root -p${mysql_password} --all-databases | sudo gzip -9 > @@{BACKUP_FILE_PATH}@@\/db_dump.sql.gz","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"3ee7bf5d-2de9-4958-9b65-e30687c43f17"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"DB Backup"}],"description":"","message_list":[],"uuid":"01650987-3a6a-4c9f-b00a-453aeb72edb7","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"9ab8dcc2-2b2f-4fba-98a5-4949d8ecf93f","value":"~\/db_backup","label":"","state":"NOT_VALIDATED","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"BACKUP_FILE_PATH"}],"main_task_local_reference":{"kind":"app_task","name":"80ef9728_dag","uuid":"faed6aba-2317-42e8-81a9-f36264f93b0e"},"name":"11eaa560_runbook"}},{"description":"To restore DB from dump file. Specify absolute directory path for RESTORE_FILE_PATH","message_list":[],"uuid":"f3f9b693-d93b-46c4-aaba-4fbce482886b","name":"Restore","state":"ACTIVE","critical":false,"attrs":{},"type":"user","runbook":{"task_definition_list":[{"retries":"0","description":"","type":"DAG","uuid":"0002f934-a7ee-4b46-80a5-eaef970e37bd","child_tasks_local_reference_list":[{"kind":"app_task","name":"DB Restore","uuid":"501d6147-f404-428b-819f-612f859964b5"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"6d512a54_dag"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"EXEC","uuid":"501d6147-f404-428b-819f-612f859964b5","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n### Setup variables\nmysql_password=\"@@{MYSQL_PASSWORD}@@\"\ndb_file=@@{RESTORE_FILE_PATH}@@\n\nsudo gunzip < $db_file | sudo mysql -u root -p${mysql_password} ","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"3ee7bf5d-2de9-4958-9b65-e30687c43f17"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"DB Restore"}],"description":"","message_list":[],"uuid":"f080f57e-873f-48d8-9e11-a5684e2356ff","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"1ffa4d86-353e-4ae3-be0e-d5e44963ffef","value":"~\/db_backup\/db_dump.sql.gz","label":"","state":"NOT_VALIDATED","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"RESTORE_FILE_PATH"}],"main_task_local_reference":{"kind":"app_task","name":"6d512a54_dag","uuid":"0002f934-a7ee-4b46-80a5-eaef970e37bd"},"name":"9651af2f_runbook"}},{"description":"","message_list":[],"uuid":"bde09c31-69fd-43d1-96d5-b6cf35acfcc7","name":"ScaleOut","state":"ACTIVE","critical":false,"attrs":{},"type":"user","runbook":{"task_definition_list":[{"retries":"0","description":"","type":"DAG","uuid":"e5a3ecbd-7c53-487f-8038-8d2540cd5005","child_tasks_local_reference_list":[{"kind":"app_task","name":"Scale Out","uuid":"7d41818f-2136-40c3-a78a-ba18b62ed69a"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"768e7ea3_dag"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"a206929d-23c4-46c4-9717-c19257edd289"},"retries":"0","description":"","type":"SCALING","uuid":"7d41818f-2136-40c3-a78a-ba18b62ed69a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{COUNT}@@","type":"","scaling_type":"SCALEOUT"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Scale Out"}],"description":"","message_list":[],"uuid":"a34d483b-fe69-42cf-832a-d69f6969b84e","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"5ee201b6-aafc-408c-8c57-c1ce1549cc67","value":"1","label":"","state":"NOT_VALIDATED","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"COUNT"}],"main_task_local_reference":{"kind":"app_task","name":"768e7ea3_dag","uuid":"e5a3ecbd-7c53-487f-8038-8d2540cd5005"},"name":"b6420156_runbook"}},{"description":"","message_list":[],"uuid":"01cc7d5d-f1d6-43f0-a9ed-d265d9c20bf7","name":"ScaleIn","state":"ACTIVE","critical":false,"attrs":{},"type":"user","runbook":{"task_definition_list":[{"retries":"0","description":"","type":"DAG","uuid":"a5a8f3bc-6824-4faf-841f-9ea883d93aff","child_tasks_local_reference_list":[{"kind":"app_task","name":"Scale In","uuid":"d6ff2e88-3ba2-4d32-bb57-1aa84fe0f23f"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"26dc3690_dag"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"a206929d-23c4-46c4-9717-c19257edd289"},"retries":"0","description":"","type":"SCALING","uuid":"d6ff2e88-3ba2-4d32-bb57-1aa84fe0f23f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{COUNT}@@","type":"","scaling_type":"SCALEIN"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Scale In"}],"description":"","message_list":[],"uuid":"a24502dd-3311-48b3-8fbd-87990430d063","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"9b323fd4-6d50-4bff-9a35-1d8f9493c3cc","value":"1","label":"","state":"NOT_VALIDATED","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"COUNT"}],"main_task_local_reference":{"kind":"app_task","name":"26dc3690_dag","uuid":"a5a8f3bc-6824-4faf-841f-9ea883d93aff"},"name":"5271ed6b_runbook"}},{"description":"System action for creating an application","message_list":[],"uuid":"f6ff17f7-17ff-4c0c-babe-94f92332d82b","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"AWS","uuid":"668d70fb-f5d0-4d4e-b598-e4c85b4fa9aa"},"retries":"0","description":"","type":"DAG","uuid":"a73d20b7-f57f-43d0-9633-e5045af5b072","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__DE_Provision_6aed513b_461a_4a72_9a0a_c1458a3e7de9","uuid":"03b275dd-a2db-43dd-96b8-daacd36edaf6"},{"kind":"app_task","name":"SYS_GEN__DE_Provision_a206929d_23c4_46c4_9717_c19257edd289","uuid":"098410ef-1d8a-4c0e-832d-2c8bc629ea18"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_dc4c740f_2c0d_43d8_b0ac_96221c03c081","uuid":"f362952c-a70a-4fd6-ab14-ee5602cd6110"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_cefa9a98_dcbd_4260_a7b6_12d47af4d968","uuid":"16ef7413-2055-47af-b98b-313b82390951"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_a441a852_e8a5_4f5d_a929_fd0542ae5d8b","uuid":"4a1e6958-d673-42f4-8412-29b53e294209"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_06bdea25_1ba3_4ded_9f1d_15f9be1e723e","uuid":"b05f8196-027c-40cf-ae3b-ce7561a3368b"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"ff729ac3-508a-4a37-8483-62598297e01c"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"dcef473d-bfd1-4ee2-90e8-648d9477929c"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"7ef48ebd-3f88-4364-9a26-2d70cbc864f4"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"a5188f5e-e461-411c-938d-42fcc26fcf76"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"ff729ac3-508a-4a37-8483-62598297e01c"},"edge_type":"inherent","type":"","uuid":"45066895-1388-494b-aab9-47a326e9c34b","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"dcef473d-bfd1-4ee2-90e8-648d9477929c"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_a441a852_e8a5_4f5d_a929_fd0542ae5d8b","uuid":"4a1e6958-d673-42f4-8412-29b53e294209"},"edge_type":"inherent","type":"","uuid":"e96c6b56-b69d-4d40-a329-a8d632299a56","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"ff729ac3-508a-4a37-8483-62598297e01c"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_cefa9a98_dcbd_4260_a7b6_12d47af4d968","uuid":"16ef7413-2055-47af-b98b-313b82390951"},"edge_type":"inherent","type":"","uuid":"4ed4552a-440b-49f4-9986-1a7fb1b6948d","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_a441a852_e8a5_4f5d_a929_fd0542ae5d8b","uuid":"4a1e6958-d673-42f4-8412-29b53e294209"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_6aed513b_461a_4a72_9a0a_c1458a3e7de9","uuid":"03b275dd-a2db-43dd-96b8-daacd36edaf6"},"edge_type":"inherent","type":"","uuid":"04745c8b-1fdf-49ae-977e-6a5c87428730","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_cefa9a98_dcbd_4260_a7b6_12d47af4d968","uuid":"16ef7413-2055-47af-b98b-313b82390951"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"7ef48ebd-3f88-4364-9a26-2d70cbc864f4"},"edge_type":"inherent","type":"","uuid":"f2e9440f-3752-4771-acdc-b0a4926f86ac","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"a5188f5e-e461-411c-938d-42fcc26fcf76"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_06bdea25_1ba3_4ded_9f1d_15f9be1e723e","uuid":"b05f8196-027c-40cf-ae3b-ce7561a3368b"},"edge_type":"inherent","type":"","uuid":"21cde5ce-a47e-487b-b206-d5bed5ba0287","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"7ef48ebd-3f88-4364-9a26-2d70cbc864f4"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_a206929d_23c4_46c4_9717_c19257edd289","uuid":"098410ef-1d8a-4c0e-832d-2c8bc629ea18"},"edge_type":"inherent","type":"","uuid":"cde2fa04-ad1e-44af-abac-34c5fcb439c5","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_dc4c740f_2c0d_43d8_b0ac_96221c03c081","uuid":"f362952c-a70a-4fd6-ab14-ee5602cd6110"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_dc4c740f_2c0d_43d8_b0ac_96221c03c081","uuid":"f362952c-a70a-4fd6-ab14-ee5602cd6110"},"edge_type":"inherent","type":"","uuid":"64e874d8-2932-433c-9e3f-f57de9e86012","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_06bdea25_1ba3_4ded_9f1d_15f9be1e723e","uuid":"b05f8196-027c-40cf-ae3b-ce7561a3368b"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"dcef473d-bfd1-4ee2-90e8-648d9477929c"},"edge_type":"depends_on","type":"","uuid":"26ae3ec3-bb35-4781-92da-5de1f929db36","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"7ef48ebd-3f88-4364-9a26-2d70cbc864f4"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_668d70fb_f5d0_4d4e_b598_e4c85b4fa9aa"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"62ee1671_deployment","uuid":"6aed513b-461a-4a72-9a0a-c1458a3e7de9"},"retries":"0","description":"","type":"CREATE_DEPLOYMENT_ELEMENT","uuid":"03b275dd-a2db-43dd-96b8-daacd36edaf6","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Provision_6aed513b_461a_4a72_9a0a_c1458a3e7de9"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"a206929d-23c4-46c4-9717-c19257edd289"},"retries":"0","description":"","type":"CREATE_DEPLOYMENT_ELEMENT","uuid":"098410ef-1d8a-4c0e-832d-2c8bc629ea18","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Provision_a206929d_23c4_46c4_9717_c19257edd289"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSSlave","uuid":"dc4c740f-2c0d-43d8-b0ac-96221c03c081"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"f362952c-a70a-4fd6-ab14-ee5602cd6110","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"a206929d-23c4-46c4-9717-c19257edd289"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_dc4c740f_2c0d_43d8_b0ac_96221c03c081","uuid":"53dd9111-8a0a-4743-9baf-e916981dec86"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Substrate_dc4c740f_2c0d_43d8_b0ac_96221c03c081"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSMaster","uuid":"cefa9a98-dcbd-4260-a7b6-12d47af4d968"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"16ef7413-2055-47af-b98b-313b82390951","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"62ee1671_deployment","uuid":"6aed513b-461a-4a72-9a0a-c1458a3e7de9"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_cefa9a98_dcbd_4260_a7b6_12d47af4d968","uuid":"c0efe52e-9e9b-41df-a45f-deab05229df4"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Substrate_cefa9a98_dcbd_4260_a7b6_12d47af4d968"},{"target_any_local_reference":{"kind":"app_package","name":"AWSMasterPackage","uuid":"a441a852-e8a5-4f5d-a929-fd0542ae5d8b"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"4a1e6958-d673-42f4-8412-29b53e294209","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"62ee1671_deployment","uuid":"6aed513b-461a-4a72-9a0a-c1458a3e7de9"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_a441a852_e8a5_4f5d_a929_fd0542ae5d8b","uuid":"8d90483c-de15-4095-98ae-239e89e05cc0"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_a441a852_e8a5_4f5d_a929_fd0542ae5d8b"},{"target_any_local_reference":{"kind":"app_package","name":"AWSSlavePackage","uuid":"06bdea25-1ba3-4ded-9f1d-15f9be1e723e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"b05f8196-027c-40cf-ae3b-ce7561a3368b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"a206929d-23c4-46c4-9717-c19257edd289"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_06bdea25_1ba3_4ded_9f1d_15f9be1e723e","uuid":"7b8bb688-3fb0-417e-a127-3d28918c14a3"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_06bdea25_1ba3_4ded_9f1d_15f9be1e723e"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"ff729ac3-508a-4a37-8483-62598297e01c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"62ee1671_deployment","uuid":"6aed513b-461a-4a72-9a0a-c1458a3e7de9"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0a970522_runbook","uuid":"9866e43d-ff48-4abb-bade-7f5396ce551e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"dcef473d-bfd1-4ee2-90e8-648d9477929c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"62ee1671_deployment","uuid":"6aed513b-461a-4a72-9a0a-c1458a3e7de9"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"5ddb28d1_runbook","uuid":"907290fe-eaef-465b-a916-7c2c67d20c97"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"7ef48ebd-3f88-4364-9a26-2d70cbc864f4","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"a206929d-23c4-46c4-9717-c19257edd289"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"d54168c9_runbook","uuid":"d9d72b08-90b4-46c2-a771-6d338abb4bc3"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"a5188f5e-e461-411c-938d-42fcc26fcf76","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"a206929d-23c4-46c4-9717-c19257edd289"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"a027cde0_runbook","uuid":"557651c0-2ccf-45cb-beb3-9f2028221b2e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d"}],"description":"","message_list":[],"uuid":"d0131368-5ce3-4584-9d72-72c879dafa69","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_668d70fb_f5d0_4d4e_b598_e4c85b4fa9aa","uuid":"a73d20b7-f57f-43d0-9633-e5045af5b072"},"name":"SYS_GEN__Runbook_Application_668d70fb_f5d0_4d4e_b598_e4c85b4fa9aa"}},{"description":"System action for starting an application","message_list":[],"uuid":"fbdf4061-ff4b-421f-91e6-cd3427800274","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"AWS","uuid":"668d70fb-f5d0-4d4e-b598-e4c85b4fa9aa"},"retries":"0","description":"","type":"DAG","uuid":"5572b50e-6129-4ca3-8277-21d591895afc","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_cefa9a98_dcbd_4260_a7b6_12d47af4d968","uuid":"06ad11b2-68fc-4502-90be-8fb4f2a33f71"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_dc4c740f_2c0d_43d8_b0ac_96221c03c081","uuid":"f57d6527-f859-4c0f-bd74-65cfde2f3766"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"0cda3abd-69c0-462a-a82a-b746c4ff1912"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"9ee30912-3b32-4bb1-950f-71fed4a5b345"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_cefa9a98_dcbd_4260_a7b6_12d47af4d968","uuid":"06ad11b2-68fc-4502-90be-8fb4f2a33f71"},"edge_type":"inherent","type":"","uuid":"081d391d-a137-46f8-9fac-a05b72a734ee","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"0cda3abd-69c0-462a-a82a-b746c4ff1912"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_dc4c740f_2c0d_43d8_b0ac_96221c03c081","uuid":"f57d6527-f859-4c0f-bd74-65cfde2f3766"},"edge_type":"inherent","type":"","uuid":"e6270243-d40a-4983-ac27-54754a09f22e","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"9ee30912-3b32-4bb1-950f-71fed4a5b345"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"0cda3abd-69c0-462a-a82a-b746c4ff1912"},"edge_type":"depends_on","type":"","uuid":"04e3fe62-a2c3-495d-b1bd-8395affbddeb","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"9ee30912-3b32-4bb1-950f-71fed4a5b345"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_668d70fb_f5d0_4d4e_b598_e4c85b4fa9aa"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSMaster","uuid":"cefa9a98-dcbd-4260-a7b6-12d47af4d968"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"06ad11b2-68fc-4502-90be-8fb4f2a33f71","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"62ee1671_deployment","uuid":"6aed513b-461a-4a72-9a0a-c1458a3e7de9"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_cefa9a98_dcbd_4260_a7b6_12d47af4d968","uuid":"4277c395-8a62-460c-b923-42a85c9e993a"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Substrate_cefa9a98_dcbd_4260_a7b6_12d47af4d968"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSSlave","uuid":"dc4c740f-2c0d-43d8-b0ac-96221c03c081"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"f57d6527-f859-4c0f-bd74-65cfde2f3766","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"a206929d-23c4-46c4-9717-c19257edd289"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_dc4c740f_2c0d_43d8_b0ac_96221c03c081","uuid":"16aad405-0894-45a1-a680-7c4aaf2ee0e5"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Substrate_dc4c740f_2c0d_43d8_b0ac_96221c03c081"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"0cda3abd-69c0-462a-a82a-b746c4ff1912","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"62ee1671_deployment","uuid":"6aed513b-461a-4a72-9a0a-c1458a3e7de9"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"5ddb28d1_runbook","uuid":"907290fe-eaef-465b-a916-7c2c67d20c97"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"9ee30912-3b32-4bb1-950f-71fed4a5b345","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"a206929d-23c4-46c4-9717-c19257edd289"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"a027cde0_runbook","uuid":"557651c0-2ccf-45cb-beb3-9f2028221b2e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d"}],"description":"","message_list":[],"uuid":"f03499be-6891-409c-a81f-5c87b1d8f924","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_668d70fb_f5d0_4d4e_b598_e4c85b4fa9aa","uuid":"5572b50e-6129-4ca3-8277-21d591895afc"},"name":"SYS_GEN__Runbook_Application_668d70fb_f5d0_4d4e_b598_e4c85b4fa9aa"}},{"description":"System action for restarting an application","message_list":[],"uuid":"0ac4819d-83ff-44ba-b727-dcc1efdb5724","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"AWS","uuid":"668d70fb-f5d0-4d4e-b598-e4c85b4fa9aa"},"retries":"0","description":"","type":"DAG","uuid":"b1998774-d62b-4158-8527-b12683451726","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_dc4c740f_2c0d_43d8_b0ac_96221c03c081","uuid":"b680245f-d319-47f0-ac5e-e54fc84635a7"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_cefa9a98_dcbd_4260_a7b6_12d47af4d968","uuid":"78677017-631d-443c-869a-927473d536d2"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"3f72b137-a142-4533-ad00-ac864e5017e5"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"c67b16ad-fc0a-4fcb-971f-db8ba513eacc"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_cefa9a98_dcbd_4260_a7b6_12d47af4d968","uuid":"78677017-631d-443c-869a-927473d536d2"},"edge_type":"inherent","type":"","uuid":"73b00ae0-e00c-44fb-a404-cdce49d905ce","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"3f72b137-a142-4533-ad00-ac864e5017e5"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_dc4c740f_2c0d_43d8_b0ac_96221c03c081","uuid":"b680245f-d319-47f0-ac5e-e54fc84635a7"},"edge_type":"inherent","type":"","uuid":"aa79bdd6-4d53-44f4-80a8-4a672d12f581","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"c67b16ad-fc0a-4fcb-971f-db8ba513eacc"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"3f72b137-a142-4533-ad00-ac864e5017e5"},"edge_type":"depends_on","type":"","uuid":"135b5751-4cce-45e7-a053-f16b481204c7","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"c67b16ad-fc0a-4fcb-971f-db8ba513eacc"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_668d70fb_f5d0_4d4e_b598_e4c85b4fa9aa"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSSlave","uuid":"dc4c740f-2c0d-43d8-b0ac-96221c03c081"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"b680245f-d319-47f0-ac5e-e54fc84635a7","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"a206929d-23c4-46c4-9717-c19257edd289"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_dc4c740f_2c0d_43d8_b0ac_96221c03c081","uuid":"efdb93bd-e6e5-4148-8fb0-76856e3f6c5e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Substrate_dc4c740f_2c0d_43d8_b0ac_96221c03c081"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSMaster","uuid":"cefa9a98-dcbd-4260-a7b6-12d47af4d968"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"78677017-631d-443c-869a-927473d536d2","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"62ee1671_deployment","uuid":"6aed513b-461a-4a72-9a0a-c1458a3e7de9"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_cefa9a98_dcbd_4260_a7b6_12d47af4d968","uuid":"66e908ab-4bba-480e-b7af-9fd5427adc27"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Substrate_cefa9a98_dcbd_4260_a7b6_12d47af4d968"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"3f72b137-a142-4533-ad00-ac864e5017e5","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"62ee1671_deployment","uuid":"6aed513b-461a-4a72-9a0a-c1458a3e7de9"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"7e709238_runbook","uuid":"e38aa3c5-d052-4d28-84e6-acfb09a6af83"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"c67b16ad-fc0a-4fcb-971f-db8ba513eacc","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"a206929d-23c4-46c4-9717-c19257edd289"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"f2b2a076_runbook","uuid":"d30fe7b4-3486-4f8a-a3b8-e08401237ee7"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d"}],"description":"","message_list":[],"uuid":"359759b9-0bc8-4767-8f29-21596d7ec676","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_668d70fb_f5d0_4d4e_b598_e4c85b4fa9aa","uuid":"b1998774-d62b-4158-8527-b12683451726"},"name":"SYS_GEN__Runbook_Application_668d70fb_f5d0_4d4e_b598_e4c85b4fa9aa"}},{"description":"System action for stopping an application","message_list":[],"uuid":"14bb590e-e2ad-490d-b575-c0df8c5da6fa","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"AWS","uuid":"668d70fb-f5d0-4d4e-b598-e4c85b4fa9aa"},"retries":"0","description":"","type":"DAG","uuid":"924e527f-7ca4-4dae-bcca-eb1f82f26905","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"a39821bd-2599-4388-bf29-c1366ba13ea4"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_dc4c740f_2c0d_43d8_b0ac_96221c03c081","uuid":"3477fd2b-7b0f-4b67-987c-41f0a35c5707"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"b4d0b4ea-68e3-45a1-b937-ed90872ce47f"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_cefa9a98_dcbd_4260_a7b6_12d47af4d968","uuid":"88b54220-6767-4152-83ca-833954e99e23"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"b4d0b4ea-68e3-45a1-b937-ed90872ce47f"},"edge_type":"inherent","type":"","uuid":"11996ea4-b9b9-4f70-ac31-a0f197092122","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_cefa9a98_dcbd_4260_a7b6_12d47af4d968","uuid":"88b54220-6767-4152-83ca-833954e99e23"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"a39821bd-2599-4388-bf29-c1366ba13ea4"},"edge_type":"inherent","type":"","uuid":"0d8b104b-407f-466a-b89b-60ad602585dd","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_dc4c740f_2c0d_43d8_b0ac_96221c03c081","uuid":"3477fd2b-7b0f-4b67-987c-41f0a35c5707"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"a39821bd-2599-4388-bf29-c1366ba13ea4"},"edge_type":"depends_on","type":"","uuid":"b0adec9d-2ace-4d4b-83aa-106af8c507ea","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"b4d0b4ea-68e3-45a1-b937-ed90872ce47f"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_668d70fb_f5d0_4d4e_b598_e4c85b4fa9aa"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"a39821bd-2599-4388-bf29-c1366ba13ea4","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"a206929d-23c4-46c4-9717-c19257edd289"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"4a2ad0be_runbook","uuid":"d405c9d6-da96-4365-b171-e7ffb7e6b913"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSSlave","uuid":"dc4c740f-2c0d-43d8-b0ac-96221c03c081"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"3477fd2b-7b0f-4b67-987c-41f0a35c5707","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"a206929d-23c4-46c4-9717-c19257edd289"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_dc4c740f_2c0d_43d8_b0ac_96221c03c081","uuid":"c0e088ab-b1e9-4479-9efd-d85ad5c32201"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Substrate_dc4c740f_2c0d_43d8_b0ac_96221c03c081"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"b4d0b4ea-68e3-45a1-b937-ed90872ce47f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"62ee1671_deployment","uuid":"6aed513b-461a-4a72-9a0a-c1458a3e7de9"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0aefbca3_runbook","uuid":"ce2a2858-b89b-4bb4-8fb3-ee8bd8a6bd3f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSMaster","uuid":"cefa9a98-dcbd-4260-a7b6-12d47af4d968"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"88b54220-6767-4152-83ca-833954e99e23","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"62ee1671_deployment","uuid":"6aed513b-461a-4a72-9a0a-c1458a3e7de9"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_cefa9a98_dcbd_4260_a7b6_12d47af4d968","uuid":"20f96c8e-a115-40dc-818e-9e9a8f9e1d84"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Substrate_cefa9a98_dcbd_4260_a7b6_12d47af4d968"}],"description":"","message_list":[],"uuid":"28b7435d-fc96-472b-a4a1-2f07a44d01cd","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_668d70fb_f5d0_4d4e_b598_e4c85b4fa9aa","uuid":"924e527f-7ca4-4dae-bcca-eb1f82f26905"},"name":"SYS_GEN__Runbook_Application_668d70fb_f5d0_4d4e_b598_e4c85b4fa9aa"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"732ab809-0688-4503-9a7a-9850cf2a2fa0","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"AWS","uuid":"668d70fb-f5d0-4d4e-b598-e4c85b4fa9aa"},"retries":"0","description":"","type":"DAG","uuid":"5626a5fb-5e84-4a2e-992e-45e25155f9ad","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"01a9d3d5-c70c-4f3f-88ad-2a76abf6cbc4"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"72e08414-5517-494b-9fe8-badeca486f0c"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"05cf2772-ed4a-4548-8b29-1e0d27cd05fe"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_06bdea25_1ba3_4ded_9f1d_15f9be1e723e","uuid":"dc2fef87-10ed-40a1-8b87-b0364bee66d4"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"699001de-0dd8-491c-9b98-fa1627b999f7"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_dc4c740f_2c0d_43d8_b0ac_96221c03c081","uuid":"bc98ab1e-21b3-42b1-abe4-7a9e512f10e0"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_a441a852_e8a5_4f5d_a929_fd0542ae5d8b","uuid":"024e8bac-309b-4088-b09a-dbf5eb8e5fae"},{"kind":"app_task","name":"SYS_GEN__DE_Delete_a206929d_23c4_46c4_9717_c19257edd289","uuid":"b06670ac-20cd-4834-909c-6091a0918148"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_cefa9a98_dcbd_4260_a7b6_12d47af4d968","uuid":"b11e5843-931a-4afb-b083-e6fea3e11c32"},{"kind":"app_task","name":"SYS_GEN__DE_Delete_6aed513b_461a_4a72_9a0a_c1458a3e7de9","uuid":"7b85172f-4a2b-48c1-8b99-4afcbe966d90"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"05cf2772-ed4a-4548-8b29-1e0d27cd05fe"},"edge_type":"inherent","type":"","uuid":"3802b17d-e6d2-4d18-b231-31c7e639f098","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"699001de-0dd8-491c-9b98-fa1627b999f7"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"699001de-0dd8-491c-9b98-fa1627b999f7"},"edge_type":"inherent","type":"","uuid":"54ee44ba-62e9-4093-9a30-068875110e3b","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_a441a852_e8a5_4f5d_a929_fd0542ae5d8b","uuid":"024e8bac-309b-4088-b09a-dbf5eb8e5fae"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_cefa9a98_dcbd_4260_a7b6_12d47af4d968","uuid":"b11e5843-931a-4afb-b083-e6fea3e11c32"},"edge_type":"inherent","type":"","uuid":"88a7af3f-9df6-4b1b-9947-f5ed326ebf27","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Delete_6aed513b_461a_4a72_9a0a_c1458a3e7de9","uuid":"7b85172f-4a2b-48c1-8b99-4afcbe966d90"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_a441a852_e8a5_4f5d_a929_fd0542ae5d8b","uuid":"024e8bac-309b-4088-b09a-dbf5eb8e5fae"},"edge_type":"inherent","type":"","uuid":"34e7dfe3-b088-4a61-9b8c-1a1c1eba8dab","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_cefa9a98_dcbd_4260_a7b6_12d47af4d968","uuid":"b11e5843-931a-4afb-b083-e6fea3e11c32"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"01a9d3d5-c70c-4f3f-88ad-2a76abf6cbc4"},"edge_type":"inherent","type":"","uuid":"4b3be309-ef40-490a-97e0-3f9436cb8492","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"72e08414-5517-494b-9fe8-badeca486f0c"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"72e08414-5517-494b-9fe8-badeca486f0c"},"edge_type":"inherent","type":"","uuid":"6fb23772-4c69-4361-ab2d-ab0327f7cd36","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_06bdea25_1ba3_4ded_9f1d_15f9be1e723e","uuid":"dc2fef87-10ed-40a1-8b87-b0364bee66d4"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_dc4c740f_2c0d_43d8_b0ac_96221c03c081","uuid":"bc98ab1e-21b3-42b1-abe4-7a9e512f10e0"},"edge_type":"inherent","type":"","uuid":"d1bb841b-593b-4bab-a8cf-b79eb2dbb537","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Delete_a206929d_23c4_46c4_9717_c19257edd289","uuid":"b06670ac-20cd-4834-909c-6091a0918148"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_06bdea25_1ba3_4ded_9f1d_15f9be1e723e","uuid":"dc2fef87-10ed-40a1-8b87-b0364bee66d4"},"edge_type":"inherent","type":"","uuid":"974b7555-e5ff-43dc-b46f-0d11f330a0d6","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_dc4c740f_2c0d_43d8_b0ac_96221c03c081","uuid":"bc98ab1e-21b3-42b1-abe4-7a9e512f10e0"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"72e08414-5517-494b-9fe8-badeca486f0c"},"edge_type":"depends_on","type":"","uuid":"6c5eafc9-5711-4a5e-993d-48d2b95ac958","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"05cf2772-ed4a-4548-8b29-1e0d27cd05fe"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_668d70fb_f5d0_4d4e_b598_e4c85b4fa9aa"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"01a9d3d5-c70c-4f3f-88ad-2a76abf6cbc4","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"a206929d-23c4-46c4-9717-c19257edd289"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"4a2ad0be_runbook","uuid":"d405c9d6-da96-4365-b171-e7ffb7e6b913"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"72e08414-5517-494b-9fe8-badeca486f0c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"a206929d-23c4-46c4-9717-c19257edd289"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"92247e35_runbook","uuid":"c1fdda9f-aaee-4b0d-899f-a32eb5819a33"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"05cf2772-ed4a-4548-8b29-1e0d27cd05fe","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"62ee1671_deployment","uuid":"6aed513b-461a-4a72-9a0a-c1458a3e7de9"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0aefbca3_runbook","uuid":"ce2a2858-b89b-4bb4-8fb3-ee8bd8a6bd3f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b"},{"target_any_local_reference":{"kind":"app_package","name":"AWSSlavePackage","uuid":"06bdea25-1ba3-4ded-9f1d-15f9be1e723e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"dc2fef87-10ed-40a1-8b87-b0364bee66d4","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"a206929d-23c4-46c4-9717-c19257edd289"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_06bdea25_1ba3_4ded_9f1d_15f9be1e723e","uuid":"0313d2af-33a6-47f4-ac21-062c7b9f2b19"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_06bdea25_1ba3_4ded_9f1d_15f9be1e723e"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"699001de-0dd8-491c-9b98-fa1627b999f7","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"62ee1671_deployment","uuid":"6aed513b-461a-4a72-9a0a-c1458a3e7de9"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"5fd47ec3_runbook","uuid":"e410ef14-5f72-46ab-b7d5-0181621be34f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSSlave","uuid":"dc4c740f-2c0d-43d8-b0ac-96221c03c081"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"bc98ab1e-21b3-42b1-abe4-7a9e512f10e0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"a206929d-23c4-46c4-9717-c19257edd289"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_dc4c740f_2c0d_43d8_b0ac_96221c03c081","uuid":"162c0efb-356f-44ba-a586-1d30e261ba7c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Substrate_dc4c740f_2c0d_43d8_b0ac_96221c03c081"},{"target_any_local_reference":{"kind":"app_package","name":"AWSMasterPackage","uuid":"a441a852-e8a5-4f5d-a929-fd0542ae5d8b"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"024e8bac-309b-4088-b09a-dbf5eb8e5fae","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"62ee1671_deployment","uuid":"6aed513b-461a-4a72-9a0a-c1458a3e7de9"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_a441a852_e8a5_4f5d_a929_fd0542ae5d8b","uuid":"d999455a-9ae2-4f94-99b4-21dddfff4d8e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_a441a852_e8a5_4f5d_a929_fd0542ae5d8b"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"a206929d-23c4-46c4-9717-c19257edd289"},"retries":"0","description":"","type":"DELETE_DEPLOYMENT_ELEMENT","uuid":"b06670ac-20cd-4834-909c-6091a0918148","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Delete_a206929d_23c4_46c4_9717_c19257edd289"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSMaster","uuid":"cefa9a98-dcbd-4260-a7b6-12d47af4d968"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"b11e5843-931a-4afb-b083-e6fea3e11c32","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"62ee1671_deployment","uuid":"6aed513b-461a-4a72-9a0a-c1458a3e7de9"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_cefa9a98_dcbd_4260_a7b6_12d47af4d968","uuid":"e1845a09-b219-4479-89df-b1fd4071f928"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Substrate_cefa9a98_dcbd_4260_a7b6_12d47af4d968"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"62ee1671_deployment","uuid":"6aed513b-461a-4a72-9a0a-c1458a3e7de9"},"retries":"0","description":"","type":"DELETE_DEPLOYMENT_ELEMENT","uuid":"7b85172f-4a2b-48c1-8b99-4afcbe966d90","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Delete_6aed513b_461a_4a72_9a0a_c1458a3e7de9"}],"description":"","message_list":[],"uuid":"8efddbcd-cbae-4d4b-b4fd-223bb6ce36d2","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_668d70fb_f5d0_4d4e_b598_e4c85b4fa9aa","uuid":"5626a5fb-5e84-4a2e-992e-45e25155f9ad"},"name":"SYS_GEN__Runbook_Application_668d70fb_f5d0_4d4e_b598_e4c85b4fa9aa"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"e7f8127d-1c52-46d4-b371-b51e1721b073","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"AWS","uuid":"668d70fb-f5d0-4d4e-b598-e4c85b4fa9aa"},"retries":"0","description":"","type":"DAG","uuid":"5331f049-ce88-4f31-96e8-0beff41f2c18","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"97b6d7d7-a3e9-43d4-9bca-9a978c5f1428"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"96f11edc-1e56-4b70-a2b2-df39b22519de"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_06bdea25_1ba3_4ded_9f1d_15f9be1e723e","uuid":"6fb0dc35-779d-413d-b126-48cc907c48f9"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_a441a852_e8a5_4f5d_a929_fd0542ae5d8b","uuid":"7fe94d0e-94af-4023-a915-9ad161e3cf02"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_dc4c740f_2c0d_43d8_b0ac_96221c03c081","uuid":"75247c9c-ba03-4853-b082-913512b7661a"},{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_a206929d_23c4_46c4_9717_c19257edd289","uuid":"763b48e4-2534-4af6-8f9b-2de8be1cfda7"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_cefa9a98_dcbd_4260_a7b6_12d47af4d968","uuid":"4a0e1d92-e91c-4d99-91b5-5fc8b9483857"},{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_6aed513b_461a_4a72_9a0a_c1458a3e7de9","uuid":"0ced4db9-eaeb-4ba7-a37e-f7633ad2586c"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"96f11edc-1e56-4b70-a2b2-df39b22519de"},"edge_type":"inherent","type":"","uuid":"66c2ccd6-8dd9-4dfd-8059-669969353996","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_a441a852_e8a5_4f5d_a929_fd0542ae5d8b","uuid":"7fe94d0e-94af-4023-a915-9ad161e3cf02"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_a441a852_e8a5_4f5d_a929_fd0542ae5d8b","uuid":"7fe94d0e-94af-4023-a915-9ad161e3cf02"},"edge_type":"inherent","type":"","uuid":"70410bb8-68eb-415a-a1eb-7d1139bd8d2e","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_cefa9a98_dcbd_4260_a7b6_12d47af4d968","uuid":"4a0e1d92-e91c-4d99-91b5-5fc8b9483857"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_cefa9a98_dcbd_4260_a7b6_12d47af4d968","uuid":"4a0e1d92-e91c-4d99-91b5-5fc8b9483857"},"edge_type":"inherent","type":"","uuid":"29b90bac-d690-4072-9b24-8f4c3fd4e2f2","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_6aed513b_461a_4a72_9a0a_c1458a3e7de9","uuid":"0ced4db9-eaeb-4ba7-a37e-f7633ad2586c"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"97b6d7d7-a3e9-43d4-9bca-9a978c5f1428"},"edge_type":"inherent","type":"","uuid":"33112153-776e-4fa0-b93a-6f81d97d4093","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_06bdea25_1ba3_4ded_9f1d_15f9be1e723e","uuid":"6fb0dc35-779d-413d-b126-48cc907c48f9"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_06bdea25_1ba3_4ded_9f1d_15f9be1e723e","uuid":"6fb0dc35-779d-413d-b126-48cc907c48f9"},"edge_type":"inherent","type":"","uuid":"465d164f-23d1-4900-b09a-bad777e5e6fb","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_dc4c740f_2c0d_43d8_b0ac_96221c03c081","uuid":"75247c9c-ba03-4853-b082-913512b7661a"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_dc4c740f_2c0d_43d8_b0ac_96221c03c081","uuid":"75247c9c-ba03-4853-b082-913512b7661a"},"edge_type":"inherent","type":"","uuid":"04310c31-98c9-4a60-8f5d-4c670556d996","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_a206929d_23c4_46c4_9717_c19257edd289","uuid":"763b48e4-2534-4af6-8f9b-2de8be1cfda7"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"97b6d7d7-a3e9-43d4-9bca-9a978c5f1428"},"edge_type":"depends_on","type":"","uuid":"e245a2b2-4ef3-47cd-b167-a04575f02487","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"96f11edc-1e56-4b70-a2b2-df39b22519de"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_668d70fb_f5d0_4d4e_b598_e4c85b4fa9aa"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"97b6d7d7-a3e9-43d4-9bca-9a978c5f1428","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"a206929d-23c4-46c4-9717-c19257edd289"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"9cb9ecf0-89cd-4611-812d-2535c64945cf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"96f11edc-1e56-4b70-a2b2-df39b22519de","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"62ee1671_deployment","uuid":"6aed513b-461a-4a72-9a0a-c1458a3e7de9"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"b9b6e25b-f9f5-473d-8c7e-6fcb8b23a4da"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b"},{"target_any_local_reference":{"kind":"app_package","name":"AWSSlavePackage","uuid":"06bdea25-1ba3-4ded-9f1d-15f9be1e723e"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"6fb0dc35-779d-413d-b126-48cc907c48f9","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_06bdea25_1ba3_4ded_9f1d_15f9be1e723e"},{"target_any_local_reference":{"kind":"app_package","name":"AWSMasterPackage","uuid":"a441a852-e8a5-4f5d-a929-fd0542ae5d8b"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"7fe94d0e-94af-4023-a915-9ad161e3cf02","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_a441a852_e8a5_4f5d_a929_fd0542ae5d8b"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSSlave","uuid":"dc4c740f-2c0d-43d8-b0ac-96221c03c081"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"75247c9c-ba03-4853-b082-913512b7661a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"a206929d-23c4-46c4-9717-c19257edd289"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_dc4c740f_2c0d_43d8_b0ac_96221c03c081","uuid":"c475f38c-f589-4f5b-907e-313744138adf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Substrate_dc4c740f_2c0d_43d8_b0ac_96221c03c081"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"a206929d-23c4-46c4-9717-c19257edd289"},"retries":"0","description":"","type":"SOFT_DELETE_DEPLOYMENT_ELEMENT","uuid":"763b48e4-2534-4af6-8f9b-2de8be1cfda7","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Soft_Delete_a206929d_23c4_46c4_9717_c19257edd289"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSMaster","uuid":"cefa9a98-dcbd-4260-a7b6-12d47af4d968"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"4a0e1d92-e91c-4d99-91b5-5fc8b9483857","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"62ee1671_deployment","uuid":"6aed513b-461a-4a72-9a0a-c1458a3e7de9"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_cefa9a98_dcbd_4260_a7b6_12d47af4d968","uuid":"8ee087ec-b01a-49b3-bf7f-390d2f84027a"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Substrate_cefa9a98_dcbd_4260_a7b6_12d47af4d968"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"62ee1671_deployment","uuid":"6aed513b-461a-4a72-9a0a-c1458a3e7de9"},"retries":"0","description":"","type":"SOFT_DELETE_DEPLOYMENT_ELEMENT","uuid":"0ced4db9-eaeb-4ba7-a37e-f7633ad2586c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Soft_Delete_6aed513b_461a_4a72_9a0a_c1458a3e7de9"}],"description":"","message_list":[],"uuid":"0c4f1957-213d-48ef-88c7-1ed06e2cd5cc","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_668d70fb_f5d0_4d4e_b598_e4c85b4fa9aa","uuid":"5331f049-ce88-4f31-96e8-0beff41f2c18"},"name":"SYS_GEN__Runbook_Application_668d70fb_f5d0_4d4e_b598_e4c85b4fa9aa"}}],"message_list":[],"uuid":"668d70fb-f5d0-4d4e-b598-e4c85b4fa9aa","state":"DRAFT","dependency_list":[{"getter_resource_kind":"ServiceCfg","setter_resource_attr":"MYSQL_BIN","setter_resource_kind":"ServiceCfg","setter_resource_name":"MySQL_Master","action_name":"action_create","action_resource_name":"AWS","getter_resource_name":"MySQL_Slave","action_resource_kind":"ApplicationCfg"},{"getter_resource_kind":"ServiceCfg","setter_resource_attr":"MYSQL_POSITION","setter_resource_kind":"ServiceCfg","setter_resource_name":"MySQL_Master","action_name":"action_create","action_resource_name":"AWS","getter_resource_name":"MySQL_Slave","action_resource_kind":"ApplicationCfg"},{"getter_resource_kind":"ServiceCfg","setter_resource_attr":"address","setter_resource_kind":"ServiceCfg","setter_resource_name":"MySQL_Master","action_name":"action_create","action_resource_name":"AWS","getter_resource_name":"MySQL_Slave","action_resource_kind":"ApplicationCfg"}],"variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[{"message":"Secret value for variable is empty","reason":"EMPTY_VALUE","details":[{"attribute_name":"secret"}]},{"message":"Value of secret variable is empty","reason":"EMPTY_VALUE","details":[{"attribute_name":"value"}]}],"uuid":"aa71bb57-a1d3-4337-bf91-426866e30de0","value":"","label":"","state":"ACTIVE","attrs":{"is_secret_modified":false,"secret_reference":{"uuid":"61b4cb8b-5045-4325-838f-1b6c53eb9cee"},"type":""},"editables":{"value":true},"is_hidden":false,"type":"SECRET","options":{},"name":"MYSQL_PASSWORD"}],"name":"AWS"},{"deployment_create_list":[{"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"52e927a4-4f0b-45d0-b90e-d9408c7f6e67","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9b1d29e6_deployment","uuid":"540ad9dd-65ea-4adb-9276-faa30f93bce6"},"retries":"0","description":"","type":"DAG","uuid":"770cec5e-2f42-4b17-a42b-e526b884b155","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__DE_Provision_540ad9dd_65ea_4adb_9276_faa30f93bce6","uuid":"b42a9d22-83f1-4b8c-b033-d2ab5543f9c7"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_e094d48b_d166_4e1f_9e53_217b1788fe12","uuid":"166cf5c1-62df-4fb9-944f-70bdeecaeda7"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_1201401a_4303_4417_8bee_ece1018bc5fa","uuid":"058157eb-40dc-46ac-8a1e-63990bfe42ee"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"281aba7b-fe47-4a22-8fd3-8e3aed39d3d2"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"53926f5f-5b94-4439-bac8-354042f1252e"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"281aba7b-fe47-4a22-8fd3-8e3aed39d3d2"},"edge_type":"inherent","type":"","uuid":"453fe8c8-0168-4e0e-b82f-26bea5abeb94","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"53926f5f-5b94-4439-bac8-354042f1252e"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_1201401a_4303_4417_8bee_ece1018bc5fa","uuid":"058157eb-40dc-46ac-8a1e-63990bfe42ee"},"edge_type":"inherent","type":"","uuid":"80095049-0bfc-4d81-97a4-0b88eaf11ec4","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"281aba7b-fe47-4a22-8fd3-8e3aed39d3d2"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_e094d48b_d166_4e1f_9e53_217b1788fe12","uuid":"166cf5c1-62df-4fb9-944f-70bdeecaeda7"},"edge_type":"inherent","type":"","uuid":"de021f7c-92f1-46ee-a5e8-b64c12de3b68","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_1201401a_4303_4417_8bee_ece1018bc5fa","uuid":"058157eb-40dc-46ac-8a1e-63990bfe42ee"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_540ad9dd_65ea_4adb_9276_faa30f93bce6","uuid":"b42a9d22-83f1-4b8c-b033-d2ab5543f9c7"},"edge_type":"inherent","type":"","uuid":"1489333a-8132-4ae4-b13e-987701d71f4b","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_e094d48b_d166_4e1f_9e53_217b1788fe12","uuid":"166cf5c1-62df-4fb9-944f-70bdeecaeda7"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_540ad9dd_65ea_4adb_9276_faa30f93bce6"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9b1d29e6_deployment","uuid":"540ad9dd-65ea-4adb-9276-faa30f93bce6"},"retries":"0","description":"","type":"CREATE_DEPLOYMENT_ELEMENT","uuid":"b42a9d22-83f1-4b8c-b033-d2ab5543f9c7","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Provision_540ad9dd_65ea_4adb_9276_faa30f93bce6"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPMaster","uuid":"e094d48b-d166-4e1f-9e53-217b1788fe12"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"166cf5c1-62df-4fb9-944f-70bdeecaeda7","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9b1d29e6_deployment","uuid":"540ad9dd-65ea-4adb-9276-faa30f93bce6"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_e094d48b_d166_4e1f_9e53_217b1788fe12","uuid":"e0c7bfb3-181e-405d-bc35-722ea27eb5ca"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Substrate_e094d48b_d166_4e1f_9e53_217b1788fe12"},{"target_any_local_reference":{"kind":"app_package","name":"GCPMasterPackage","uuid":"1201401a-4303-4417-8bee-ece1018bc5fa"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"058157eb-40dc-46ac-8a1e-63990bfe42ee","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9b1d29e6_deployment","uuid":"540ad9dd-65ea-4adb-9276-faa30f93bce6"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_1201401a_4303_4417_8bee_ece1018bc5fa","uuid":"4d9d9cc8-7616-4dda-b576-0622f3026f9b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_1201401a_4303_4417_8bee_ece1018bc5fa"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"281aba7b-fe47-4a22-8fd3-8e3aed39d3d2","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9b1d29e6_deployment","uuid":"540ad9dd-65ea-4adb-9276-faa30f93bce6"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0a970522_runbook","uuid":"9866e43d-ff48-4abb-bade-7f5396ce551e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"53926f5f-5b94-4439-bac8-354042f1252e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9b1d29e6_deployment","uuid":"540ad9dd-65ea-4adb-9276-faa30f93bce6"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"5ddb28d1_runbook","uuid":"907290fe-eaef-465b-a916-7c2c67d20c97"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b"}],"description":"","message_list":[],"uuid":"5617bb06-6bb5-4a78-bbc4-61a0e90d5b63","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_540ad9dd_65ea_4adb_9276_faa30f93bce6","uuid":"770cec5e-2f42-4b17-a42b-e526b884b155"},"name":"SYS_GEN__Runbook_Deployment_540ad9dd_65ea_4adb_9276_faa30f93bce6"}},{"description":"System action for starting an application","message_list":[],"uuid":"ab0f9ef4-4234-438f-aed1-2ebfca894d2e","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9b1d29e6_deployment","uuid":"540ad9dd-65ea-4adb-9276-faa30f93bce6"},"retries":"0","description":"","type":"DAG","uuid":"3cbcd152-6e52-4647-b562-3e7871f5165f","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_e094d48b_d166_4e1f_9e53_217b1788fe12","uuid":"57f7d189-30fc-436a-9fe9-35be503fde79"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"d05786a5-cbd4-4e34-bc8a-b9f266e54aa4"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_e094d48b_d166_4e1f_9e53_217b1788fe12","uuid":"57f7d189-30fc-436a-9fe9-35be503fde79"},"edge_type":"inherent","type":"","uuid":"406e3b30-802f-4d17-9c97-eb89733c2c8f","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"d05786a5-cbd4-4e34-bc8a-b9f266e54aa4"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_540ad9dd_65ea_4adb_9276_faa30f93bce6"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPMaster","uuid":"e094d48b-d166-4e1f-9e53-217b1788fe12"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"57f7d189-30fc-436a-9fe9-35be503fde79","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9b1d29e6_deployment","uuid":"540ad9dd-65ea-4adb-9276-faa30f93bce6"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_e094d48b_d166_4e1f_9e53_217b1788fe12","uuid":"de0db75c-73e4-4a27-b3d0-81dc3948225c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Substrate_e094d48b_d166_4e1f_9e53_217b1788fe12"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"d05786a5-cbd4-4e34-bc8a-b9f266e54aa4","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9b1d29e6_deployment","uuid":"540ad9dd-65ea-4adb-9276-faa30f93bce6"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"5ddb28d1_runbook","uuid":"907290fe-eaef-465b-a916-7c2c67d20c97"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b"}],"description":"","message_list":[],"uuid":"012f2c91-d5fa-4dd1-8e24-fbcb7e1be44b","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_540ad9dd_65ea_4adb_9276_faa30f93bce6","uuid":"3cbcd152-6e52-4647-b562-3e7871f5165f"},"name":"SYS_GEN__Runbook_Deployment_540ad9dd_65ea_4adb_9276_faa30f93bce6"}},{"description":"System action for restarting an application","message_list":[],"uuid":"8be266a3-0aee-4245-9cba-9237503164b9","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9b1d29e6_deployment","uuid":"540ad9dd-65ea-4adb-9276-faa30f93bce6"},"retries":"0","description":"","type":"DAG","uuid":"4705a25e-5325-4ae4-b5f6-bb38cb1c4a1f","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_e094d48b_d166_4e1f_9e53_217b1788fe12","uuid":"0732b969-567e-4fde-99cf-e806be679aa1"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"dbceae9c-0511-4d76-81b4-cd3f37f7e493"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_e094d48b_d166_4e1f_9e53_217b1788fe12","uuid":"0732b969-567e-4fde-99cf-e806be679aa1"},"edge_type":"inherent","type":"","uuid":"79628eed-97ed-4be5-a66c-0de1491dcf25","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"dbceae9c-0511-4d76-81b4-cd3f37f7e493"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_540ad9dd_65ea_4adb_9276_faa30f93bce6"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPMaster","uuid":"e094d48b-d166-4e1f-9e53-217b1788fe12"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"0732b969-567e-4fde-99cf-e806be679aa1","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9b1d29e6_deployment","uuid":"540ad9dd-65ea-4adb-9276-faa30f93bce6"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_e094d48b_d166_4e1f_9e53_217b1788fe12","uuid":"fccc3307-aecf-47f4-8593-0247a2f3651e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Substrate_e094d48b_d166_4e1f_9e53_217b1788fe12"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"dbceae9c-0511-4d76-81b4-cd3f37f7e493","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9b1d29e6_deployment","uuid":"540ad9dd-65ea-4adb-9276-faa30f93bce6"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"7e709238_runbook","uuid":"e38aa3c5-d052-4d28-84e6-acfb09a6af83"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b"}],"description":"","message_list":[],"uuid":"c7b4ebc8-c280-4929-bc6f-fb95b72f122b","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_540ad9dd_65ea_4adb_9276_faa30f93bce6","uuid":"4705a25e-5325-4ae4-b5f6-bb38cb1c4a1f"},"name":"SYS_GEN__Runbook_Deployment_540ad9dd_65ea_4adb_9276_faa30f93bce6"}},{"description":"System action for stopping an application","message_list":[],"uuid":"4db433b7-47a4-44af-9360-75ff8424621d","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9b1d29e6_deployment","uuid":"540ad9dd-65ea-4adb-9276-faa30f93bce6"},"retries":"0","description":"","type":"DAG","uuid":"10ba1ab8-7c63-4bee-af3a-4d0f738dbe19","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"9d6b9511-82e3-40b3-870f-794a98f7e087"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_e094d48b_d166_4e1f_9e53_217b1788fe12","uuid":"b6e0be22-9a4e-4350-bc8c-c4029165c6c6"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"9d6b9511-82e3-40b3-870f-794a98f7e087"},"edge_type":"inherent","type":"","uuid":"465b9ee1-5b83-4690-bee8-c9ab4394ae20","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_e094d48b_d166_4e1f_9e53_217b1788fe12","uuid":"b6e0be22-9a4e-4350-bc8c-c4029165c6c6"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_540ad9dd_65ea_4adb_9276_faa30f93bce6"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"9d6b9511-82e3-40b3-870f-794a98f7e087","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9b1d29e6_deployment","uuid":"540ad9dd-65ea-4adb-9276-faa30f93bce6"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0aefbca3_runbook","uuid":"ce2a2858-b89b-4bb4-8fb3-ee8bd8a6bd3f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPMaster","uuid":"e094d48b-d166-4e1f-9e53-217b1788fe12"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"b6e0be22-9a4e-4350-bc8c-c4029165c6c6","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9b1d29e6_deployment","uuid":"540ad9dd-65ea-4adb-9276-faa30f93bce6"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_e094d48b_d166_4e1f_9e53_217b1788fe12","uuid":"4188e333-9fbf-4731-b464-b41a89c4c3d0"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Substrate_e094d48b_d166_4e1f_9e53_217b1788fe12"}],"description":"","message_list":[],"uuid":"6c47e4e9-2af9-47a1-8de0-b02f03ae13ce","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_540ad9dd_65ea_4adb_9276_faa30f93bce6","uuid":"10ba1ab8-7c63-4bee-af3a-4d0f738dbe19"},"name":"SYS_GEN__Runbook_Deployment_540ad9dd_65ea_4adb_9276_faa30f93bce6"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"9c45d033-a94d-4280-9dfb-9c6b8a84a1f8","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9b1d29e6_deployment","uuid":"540ad9dd-65ea-4adb-9276-faa30f93bce6"},"retries":"0","description":"","type":"DAG","uuid":"2acf728a-906b-4a9f-af44-bed783fef197","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"d9933b9e-3bc5-4c3f-9767-6c5b434ce027"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"817180c5-4385-4f27-a669-2f71d11112ca"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_1201401a_4303_4417_8bee_ece1018bc5fa","uuid":"56da0c7c-0461-42f1-b5a4-1e23850c8345"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_e094d48b_d166_4e1f_9e53_217b1788fe12","uuid":"0d26df97-0121-4ff8-8d7b-2f2909c5a30f"},{"kind":"app_task","name":"SYS_GEN__DE_Delete_540ad9dd_65ea_4adb_9276_faa30f93bce6","uuid":"bfb7d1cf-5f17-4a58-a737-395c0fc3944c"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"d9933b9e-3bc5-4c3f-9767-6c5b434ce027"},"edge_type":"inherent","type":"","uuid":"adc852e2-4513-4840-942e-686192af1eae","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"817180c5-4385-4f27-a669-2f71d11112ca"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"817180c5-4385-4f27-a669-2f71d11112ca"},"edge_type":"inherent","type":"","uuid":"50b25238-b5ec-4232-91bf-f62f7546062a","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_1201401a_4303_4417_8bee_ece1018bc5fa","uuid":"56da0c7c-0461-42f1-b5a4-1e23850c8345"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_e094d48b_d166_4e1f_9e53_217b1788fe12","uuid":"0d26df97-0121-4ff8-8d7b-2f2909c5a30f"},"edge_type":"inherent","type":"","uuid":"338fc495-203c-4af7-bc6d-3dd1dfbd34ed","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Delete_540ad9dd_65ea_4adb_9276_faa30f93bce6","uuid":"bfb7d1cf-5f17-4a58-a737-395c0fc3944c"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_1201401a_4303_4417_8bee_ece1018bc5fa","uuid":"56da0c7c-0461-42f1-b5a4-1e23850c8345"},"edge_type":"inherent","type":"","uuid":"48030acb-37e5-4bcd-bf35-9b8bdcad3129","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_e094d48b_d166_4e1f_9e53_217b1788fe12","uuid":"0d26df97-0121-4ff8-8d7b-2f2909c5a30f"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_540ad9dd_65ea_4adb_9276_faa30f93bce6"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"d9933b9e-3bc5-4c3f-9767-6c5b434ce027","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9b1d29e6_deployment","uuid":"540ad9dd-65ea-4adb-9276-faa30f93bce6"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0aefbca3_runbook","uuid":"ce2a2858-b89b-4bb4-8fb3-ee8bd8a6bd3f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"817180c5-4385-4f27-a669-2f71d11112ca","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9b1d29e6_deployment","uuid":"540ad9dd-65ea-4adb-9276-faa30f93bce6"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"5fd47ec3_runbook","uuid":"e410ef14-5f72-46ab-b7d5-0181621be34f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b"},{"target_any_local_reference":{"kind":"app_package","name":"GCPMasterPackage","uuid":"1201401a-4303-4417-8bee-ece1018bc5fa"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"56da0c7c-0461-42f1-b5a4-1e23850c8345","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9b1d29e6_deployment","uuid":"540ad9dd-65ea-4adb-9276-faa30f93bce6"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_1201401a_4303_4417_8bee_ece1018bc5fa","uuid":"033030bb-7d54-4edf-90d6-4fa3001ee8bf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_1201401a_4303_4417_8bee_ece1018bc5fa"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPMaster","uuid":"e094d48b-d166-4e1f-9e53-217b1788fe12"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"0d26df97-0121-4ff8-8d7b-2f2909c5a30f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9b1d29e6_deployment","uuid":"540ad9dd-65ea-4adb-9276-faa30f93bce6"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_e094d48b_d166_4e1f_9e53_217b1788fe12","uuid":"d97bc120-c85a-46d4-b0d3-3205eaf04507"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Substrate_e094d48b_d166_4e1f_9e53_217b1788fe12"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9b1d29e6_deployment","uuid":"540ad9dd-65ea-4adb-9276-faa30f93bce6"},"retries":"0","description":"","type":"DELETE_DEPLOYMENT_ELEMENT","uuid":"bfb7d1cf-5f17-4a58-a737-395c0fc3944c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Delete_540ad9dd_65ea_4adb_9276_faa30f93bce6"}],"description":"","message_list":[],"uuid":"b4250e88-e0f5-456e-b8bc-f552bbb6f2d7","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_540ad9dd_65ea_4adb_9276_faa30f93bce6","uuid":"2acf728a-906b-4a9f-af44-bed783fef197"},"name":"SYS_GEN__Runbook_Deployment_540ad9dd_65ea_4adb_9276_faa30f93bce6"}},{"description":"System action for scaleout","message_list":[],"uuid":"94b0a4b9-9661-42a6-81ad-52f0066b015f","name":"action_scaleout","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9b1d29e6_deployment","uuid":"540ad9dd-65ea-4adb-9276-faa30f93bce6"},"retries":"0","description":"","type":"DAG","uuid":"55c9932a-f696-4a6f-8d7d-652747767a09","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Deployment_Scaleout_540ad9dd_65ea_4adb_9276_faa30f93bce6","uuid":"76de2a67-6e2f-40b5-a84b-00c3b93d104c"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_540ad9dd_65ea_4adb_9276_faa30f93bce6"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9b1d29e6_deployment","uuid":"540ad9dd-65ea-4adb-9276-faa30f93bce6"},"retries":"0","description":"","type":"SCALING","uuid":"76de2a67-6e2f-40b5-a84b-00c3b93d104c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{scaling_count}@@","type":"","scaling_type":"SCALEOUT"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Deployment_Scaleout_540ad9dd_65ea_4adb_9276_faa30f93bce6"}],"description":"","message_list":[],"uuid":"081ce1aa-96ac-416e-8617-b2be2a8bebb3","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"04b1875e-fbf4-4ab4-9e8c-0f24b5e5738d","value":"0","label":"","state":"NOT_VALIDATED","attrs":{},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"scaling_count"}],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_540ad9dd_65ea_4adb_9276_faa30f93bce6","uuid":"55c9932a-f696-4a6f-8d7d-652747767a09"},"name":"SYS_GEN__Runbook_Deployment_540ad9dd_65ea_4adb_9276_faa30f93bce6"}},{"description":"System action for scalein","message_list":[],"uuid":"455d3fb0-9eed-4271-8c53-398649dad5e5","name":"action_scalein","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9b1d29e6_deployment","uuid":"540ad9dd-65ea-4adb-9276-faa30f93bce6"},"retries":"0","description":"","type":"DAG","uuid":"a41bf78b-e3e7-45d7-b20f-51b5bc2b3e41","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Deployment_Scalein_540ad9dd_65ea_4adb_9276_faa30f93bce6","uuid":"007b8392-30dc-4941-a053-0d00afe130ff"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_540ad9dd_65ea_4adb_9276_faa30f93bce6"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9b1d29e6_deployment","uuid":"540ad9dd-65ea-4adb-9276-faa30f93bce6"},"retries":"0","description":"","type":"SCALING","uuid":"007b8392-30dc-4941-a053-0d00afe130ff","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{scaling_count}@@","type":"","scaling_type":"SCALEIN"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Deployment_Scalein_540ad9dd_65ea_4adb_9276_faa30f93bce6"}],"description":"","message_list":[],"uuid":"ff31a2b7-7cff-4339-9220-30eaa21e5603","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"ce9da35c-ac76-4b45-9e29-0f6f59adb2fa","value":"0","label":"","state":"NOT_VALIDATED","attrs":{},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"scaling_count"}],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_540ad9dd_65ea_4adb_9276_faa30f93bce6","uuid":"a41bf78b-e3e7-45d7-b20f-51b5bc2b3e41"},"name":"SYS_GEN__Runbook_Deployment_540ad9dd_65ea_4adb_9276_faa30f93bce6"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"81f316d3-90be-4eed-9307-5316fef2533a","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9b1d29e6_deployment","uuid":"540ad9dd-65ea-4adb-9276-faa30f93bce6"},"retries":"0","description":"","type":"DAG","uuid":"f65cae54-2cae-403c-9cfa-3de8eb6dbb4b","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"b707002c-f563-4995-a71f-bec662a501d5"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_1201401a_4303_4417_8bee_ece1018bc5fa","uuid":"442113b1-c2b8-41cd-b938-2b6c0cb3669b"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_e094d48b_d166_4e1f_9e53_217b1788fe12","uuid":"a4af6480-570b-4776-b127-39e945d7dfc1"},{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_540ad9dd_65ea_4adb_9276_faa30f93bce6","uuid":"e97418de-af9e-4779-94ca-55ef7f3bcb61"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"b707002c-f563-4995-a71f-bec662a501d5"},"edge_type":"inherent","type":"","uuid":"6a486c64-6baf-4a5a-8f7e-74a254f2e5ad","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_1201401a_4303_4417_8bee_ece1018bc5fa","uuid":"442113b1-c2b8-41cd-b938-2b6c0cb3669b"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_e094d48b_d166_4e1f_9e53_217b1788fe12","uuid":"a4af6480-570b-4776-b127-39e945d7dfc1"},"edge_type":"inherent","type":"","uuid":"6178735c-d17c-40eb-aa2f-8ce887faefc1","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_540ad9dd_65ea_4adb_9276_faa30f93bce6","uuid":"e97418de-af9e-4779-94ca-55ef7f3bcb61"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_1201401a_4303_4417_8bee_ece1018bc5fa","uuid":"442113b1-c2b8-41cd-b938-2b6c0cb3669b"},"edge_type":"inherent","type":"","uuid":"54a5e73a-bbc7-4d1b-9a59-0e5a1b2090c3","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_e094d48b_d166_4e1f_9e53_217b1788fe12","uuid":"a4af6480-570b-4776-b127-39e945d7dfc1"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_540ad9dd_65ea_4adb_9276_faa30f93bce6"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"b707002c-f563-4995-a71f-bec662a501d5","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9b1d29e6_deployment","uuid":"540ad9dd-65ea-4adb-9276-faa30f93bce6"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"b9b6e25b-f9f5-473d-8c7e-6fcb8b23a4da"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b"},{"target_any_local_reference":{"kind":"app_package","name":"GCPMasterPackage","uuid":"1201401a-4303-4417-8bee-ece1018bc5fa"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"442113b1-c2b8-41cd-b938-2b6c0cb3669b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_1201401a_4303_4417_8bee_ece1018bc5fa"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPMaster","uuid":"e094d48b-d166-4e1f-9e53-217b1788fe12"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"a4af6480-570b-4776-b127-39e945d7dfc1","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9b1d29e6_deployment","uuid":"540ad9dd-65ea-4adb-9276-faa30f93bce6"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_e094d48b_d166_4e1f_9e53_217b1788fe12","uuid":"cf84d4db-a9aa-4f26-8f11-f6a78755ff67"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Substrate_e094d48b_d166_4e1f_9e53_217b1788fe12"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9b1d29e6_deployment","uuid":"540ad9dd-65ea-4adb-9276-faa30f93bce6"},"retries":"0","description":"","type":"SOFT_DELETE_DEPLOYMENT_ELEMENT","uuid":"e97418de-af9e-4779-94ca-55ef7f3bcb61","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Soft_Delete_540ad9dd_65ea_4adb_9276_faa30f93bce6"}],"description":"","message_list":[],"uuid":"9521c164-23c1-47c2-9bd9-de3c1d979a96","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_540ad9dd_65ea_4adb_9276_faa30f93bce6","uuid":"f65cae54-2cae-403c-9cfa-3de8eb6dbb4b"},"name":"SYS_GEN__Runbook_Deployment_540ad9dd_65ea_4adb_9276_faa30f93bce6"}}],"message_list":[],"published_service_local_reference_list":[],"uuid":"540ad9dd-65ea-4adb-9276-faa30f93bce6","min_replicas":"1","state":"DRAFT","max_replicas":"1","depends_on_list":[],"editables":{},"package_local_reference_list":[{"kind":"app_package","name":"GCPMasterPackage","uuid":"1201401a-4303-4417-8bee-ece1018bc5fa"}],"substrate_local_reference":{"kind":"app_substrate","name":"GCPMaster","uuid":"e094d48b-d166-4e1f-9e53-217b1788fe12"},"type":"GREENFIELD","options":{},"variable_list":[],"name":"9b1d29e6_deployment"},{"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"c6359e45-6293-4df4-a21c-b160a014432f","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"4a15c0e5-22af-4f4d-8b7f-278edc0e41d1"},"retries":"0","description":"","type":"DAG","uuid":"029c917a-aca5-4f8d-9ea6-c109e67ce8e1","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__DE_Provision_4a15c0e5_22af_4f4d_8b7f_278edc0e41d1","uuid":"e03c19cd-21f1-4bfd-982e-7736823cc4ad"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_824702a6_ed10_4d8b_8046_50ccea53a3c1","uuid":"fdbf2fb4-4497-49db-a8cf-d48ab81629a2"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_ed6bf66b_ff88_4209_8ac6_fd62178fea4d","uuid":"9099c2c2-4ea9-4b73-b525-b9c7ffaf8123"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"d5576688-9159-48fd-bef8-8c51c6ede5a6"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"111cf5db-2edb-4818-9e8c-4868fa0a0e7f"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"d5576688-9159-48fd-bef8-8c51c6ede5a6"},"edge_type":"inherent","type":"","uuid":"b26d7acd-72f4-4c3d-a1b0-acc1ec69754f","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"111cf5db-2edb-4818-9e8c-4868fa0a0e7f"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_ed6bf66b_ff88_4209_8ac6_fd62178fea4d","uuid":"9099c2c2-4ea9-4b73-b525-b9c7ffaf8123"},"edge_type":"inherent","type":"","uuid":"13589092-0f3c-4422-a006-1ec51a47d728","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"d5576688-9159-48fd-bef8-8c51c6ede5a6"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_824702a6_ed10_4d8b_8046_50ccea53a3c1","uuid":"fdbf2fb4-4497-49db-a8cf-d48ab81629a2"},"edge_type":"inherent","type":"","uuid":"c139d9eb-f107-4f8f-b58e-b6d9b92aeff3","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_ed6bf66b_ff88_4209_8ac6_fd62178fea4d","uuid":"9099c2c2-4ea9-4b73-b525-b9c7ffaf8123"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_4a15c0e5_22af_4f4d_8b7f_278edc0e41d1","uuid":"e03c19cd-21f1-4bfd-982e-7736823cc4ad"},"edge_type":"inherent","type":"","uuid":"f7f134aa-43f9-418e-8c07-220179ee20ee","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_824702a6_ed10_4d8b_8046_50ccea53a3c1","uuid":"fdbf2fb4-4497-49db-a8cf-d48ab81629a2"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_4a15c0e5_22af_4f4d_8b7f_278edc0e41d1"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"4a15c0e5-22af-4f4d-8b7f-278edc0e41d1"},"retries":"0","description":"","type":"CREATE_DEPLOYMENT_ELEMENT","uuid":"e03c19cd-21f1-4bfd-982e-7736823cc4ad","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Provision_4a15c0e5_22af_4f4d_8b7f_278edc0e41d1"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPSlave","uuid":"824702a6-ed10-4d8b-8046-50ccea53a3c1"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"fdbf2fb4-4497-49db-a8cf-d48ab81629a2","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"4a15c0e5-22af-4f4d-8b7f-278edc0e41d1"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_824702a6_ed10_4d8b_8046_50ccea53a3c1","uuid":"7424dfb2-8561-468c-9734-fb98f4eb5cd9"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Substrate_824702a6_ed10_4d8b_8046_50ccea53a3c1"},{"target_any_local_reference":{"kind":"app_package","name":"GCPSlavePackage","uuid":"ed6bf66b-ff88-4209-8ac6-fd62178fea4d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"9099c2c2-4ea9-4b73-b525-b9c7ffaf8123","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"4a15c0e5-22af-4f4d-8b7f-278edc0e41d1"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_ed6bf66b_ff88_4209_8ac6_fd62178fea4d","uuid":"e4e47809-e5f9-4bdb-a74e-91563c7c0e86"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_ed6bf66b_ff88_4209_8ac6_fd62178fea4d"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"d5576688-9159-48fd-bef8-8c51c6ede5a6","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"4a15c0e5-22af-4f4d-8b7f-278edc0e41d1"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"d54168c9_runbook","uuid":"d9d72b08-90b4-46c2-a771-6d338abb4bc3"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"111cf5db-2edb-4818-9e8c-4868fa0a0e7f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"4a15c0e5-22af-4f4d-8b7f-278edc0e41d1"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"a027cde0_runbook","uuid":"557651c0-2ccf-45cb-beb3-9f2028221b2e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d"}],"description":"","message_list":[],"uuid":"55a5500f-f0b1-4dbe-8cde-76491bd91571","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_4a15c0e5_22af_4f4d_8b7f_278edc0e41d1","uuid":"029c917a-aca5-4f8d-9ea6-c109e67ce8e1"},"name":"SYS_GEN__Runbook_Deployment_4a15c0e5_22af_4f4d_8b7f_278edc0e41d1"}},{"description":"System action for starting an application","message_list":[],"uuid":"2fc08b6a-0abb-414a-9743-41ca9a823483","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"4a15c0e5-22af-4f4d-8b7f-278edc0e41d1"},"retries":"0","description":"","type":"DAG","uuid":"f23bfa7f-acff-4ff6-8aa9-0feab2a301f5","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_824702a6_ed10_4d8b_8046_50ccea53a3c1","uuid":"d0921523-e0c9-44e1-a3bd-33c12b257ce7"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"5b897288-2394-4188-bb1b-8ce598acf6d3"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_824702a6_ed10_4d8b_8046_50ccea53a3c1","uuid":"d0921523-e0c9-44e1-a3bd-33c12b257ce7"},"edge_type":"inherent","type":"","uuid":"52953121-169b-4cdd-8140-c6b56279f411","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"5b897288-2394-4188-bb1b-8ce598acf6d3"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_4a15c0e5_22af_4f4d_8b7f_278edc0e41d1"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPSlave","uuid":"824702a6-ed10-4d8b-8046-50ccea53a3c1"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"d0921523-e0c9-44e1-a3bd-33c12b257ce7","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"4a15c0e5-22af-4f4d-8b7f-278edc0e41d1"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_824702a6_ed10_4d8b_8046_50ccea53a3c1","uuid":"0f067b97-633c-432d-bcbe-a2892aa310e5"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Substrate_824702a6_ed10_4d8b_8046_50ccea53a3c1"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"5b897288-2394-4188-bb1b-8ce598acf6d3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"4a15c0e5-22af-4f4d-8b7f-278edc0e41d1"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"a027cde0_runbook","uuid":"557651c0-2ccf-45cb-beb3-9f2028221b2e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d"}],"description":"","message_list":[],"uuid":"4998f960-7b81-4795-87a5-cef29a2e61de","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_4a15c0e5_22af_4f4d_8b7f_278edc0e41d1","uuid":"f23bfa7f-acff-4ff6-8aa9-0feab2a301f5"},"name":"SYS_GEN__Runbook_Deployment_4a15c0e5_22af_4f4d_8b7f_278edc0e41d1"}},{"description":"System action for restarting an application","message_list":[],"uuid":"6f1c5fb5-49ce-4f18-8c96-3598967e8a26","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"4a15c0e5-22af-4f4d-8b7f-278edc0e41d1"},"retries":"0","description":"","type":"DAG","uuid":"019d3f79-dbf4-4a3c-82d5-56b878dd6a7f","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_824702a6_ed10_4d8b_8046_50ccea53a3c1","uuid":"dba05174-d56e-4f4f-b823-fe9019bd34bc"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"e576137e-8314-438b-9b80-f93e4b2a9c51"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_824702a6_ed10_4d8b_8046_50ccea53a3c1","uuid":"dba05174-d56e-4f4f-b823-fe9019bd34bc"},"edge_type":"inherent","type":"","uuid":"1d80422c-a669-483d-8848-6ee41151e212","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"e576137e-8314-438b-9b80-f93e4b2a9c51"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_4a15c0e5_22af_4f4d_8b7f_278edc0e41d1"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPSlave","uuid":"824702a6-ed10-4d8b-8046-50ccea53a3c1"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"dba05174-d56e-4f4f-b823-fe9019bd34bc","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"4a15c0e5-22af-4f4d-8b7f-278edc0e41d1"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_824702a6_ed10_4d8b_8046_50ccea53a3c1","uuid":"3a3535f4-41a4-4b64-b6a6-7ff417a188e7"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Substrate_824702a6_ed10_4d8b_8046_50ccea53a3c1"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"e576137e-8314-438b-9b80-f93e4b2a9c51","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"4a15c0e5-22af-4f4d-8b7f-278edc0e41d1"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"f2b2a076_runbook","uuid":"d30fe7b4-3486-4f8a-a3b8-e08401237ee7"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d"}],"description":"","message_list":[],"uuid":"e1945506-4436-42b3-bc71-b6c0ab28c4bb","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_4a15c0e5_22af_4f4d_8b7f_278edc0e41d1","uuid":"019d3f79-dbf4-4a3c-82d5-56b878dd6a7f"},"name":"SYS_GEN__Runbook_Deployment_4a15c0e5_22af_4f4d_8b7f_278edc0e41d1"}},{"description":"System action for stopping an application","message_list":[],"uuid":"3dcf3168-955d-426c-bd16-3d8ee6ea19d3","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"4a15c0e5-22af-4f4d-8b7f-278edc0e41d1"},"retries":"0","description":"","type":"DAG","uuid":"5e226d44-7cfe-4cbc-a442-a3fe99fe628c","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"8896ab2f-e496-42e7-a8c0-6160a8f1ece2"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_824702a6_ed10_4d8b_8046_50ccea53a3c1","uuid":"01fbea98-9dc6-4907-934f-db29d8071a05"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"8896ab2f-e496-42e7-a8c0-6160a8f1ece2"},"edge_type":"inherent","type":"","uuid":"857cb376-b133-453b-967c-973323535712","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_824702a6_ed10_4d8b_8046_50ccea53a3c1","uuid":"01fbea98-9dc6-4907-934f-db29d8071a05"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_4a15c0e5_22af_4f4d_8b7f_278edc0e41d1"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"8896ab2f-e496-42e7-a8c0-6160a8f1ece2","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"4a15c0e5-22af-4f4d-8b7f-278edc0e41d1"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"4a2ad0be_runbook","uuid":"d405c9d6-da96-4365-b171-e7ffb7e6b913"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPSlave","uuid":"824702a6-ed10-4d8b-8046-50ccea53a3c1"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"01fbea98-9dc6-4907-934f-db29d8071a05","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"4a15c0e5-22af-4f4d-8b7f-278edc0e41d1"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_824702a6_ed10_4d8b_8046_50ccea53a3c1","uuid":"896b7f12-a036-4e03-8082-83ae51431230"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Substrate_824702a6_ed10_4d8b_8046_50ccea53a3c1"}],"description":"","message_list":[],"uuid":"7525b936-8dfe-4a0a-96aa-8032275b2112","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_4a15c0e5_22af_4f4d_8b7f_278edc0e41d1","uuid":"5e226d44-7cfe-4cbc-a442-a3fe99fe628c"},"name":"SYS_GEN__Runbook_Deployment_4a15c0e5_22af_4f4d_8b7f_278edc0e41d1"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"87acc76d-13d0-44ca-94fa-8abfa2805486","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"4a15c0e5-22af-4f4d-8b7f-278edc0e41d1"},"retries":"0","description":"","type":"DAG","uuid":"3c1d1ce0-20b9-4929-a324-5eeb4a1e223a","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"6b754e4f-41e9-4b70-b3b3-1682ea63c6a7"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"c3ac8343-8c50-41b5-b550-be1323fb409f"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_ed6bf66b_ff88_4209_8ac6_fd62178fea4d","uuid":"4119b86e-b310-48ae-af86-8fa25c14a710"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_824702a6_ed10_4d8b_8046_50ccea53a3c1","uuid":"d1c0daf4-443d-4f8a-acba-5dc46617808e"},{"kind":"app_task","name":"SYS_GEN__DE_Delete_4a15c0e5_22af_4f4d_8b7f_278edc0e41d1","uuid":"25bb2453-f946-401f-8b91-9c51bb9c7f15"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"6b754e4f-41e9-4b70-b3b3-1682ea63c6a7"},"edge_type":"inherent","type":"","uuid":"45e4b92a-b4ad-49fe-bb60-bd96b1eb7b90","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"c3ac8343-8c50-41b5-b550-be1323fb409f"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"c3ac8343-8c50-41b5-b550-be1323fb409f"},"edge_type":"inherent","type":"","uuid":"5b6742a3-61fd-40d9-a4fb-f6f4dde8a26e","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_ed6bf66b_ff88_4209_8ac6_fd62178fea4d","uuid":"4119b86e-b310-48ae-af86-8fa25c14a710"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_824702a6_ed10_4d8b_8046_50ccea53a3c1","uuid":"d1c0daf4-443d-4f8a-acba-5dc46617808e"},"edge_type":"inherent","type":"","uuid":"705fc3e9-4aa3-4e5a-8e08-11eb5c4ca2fb","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Delete_4a15c0e5_22af_4f4d_8b7f_278edc0e41d1","uuid":"25bb2453-f946-401f-8b91-9c51bb9c7f15"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_ed6bf66b_ff88_4209_8ac6_fd62178fea4d","uuid":"4119b86e-b310-48ae-af86-8fa25c14a710"},"edge_type":"inherent","type":"","uuid":"ad2e7231-7493-498b-8232-e28907ee651e","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_824702a6_ed10_4d8b_8046_50ccea53a3c1","uuid":"d1c0daf4-443d-4f8a-acba-5dc46617808e"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_4a15c0e5_22af_4f4d_8b7f_278edc0e41d1"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"6b754e4f-41e9-4b70-b3b3-1682ea63c6a7","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"4a15c0e5-22af-4f4d-8b7f-278edc0e41d1"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"4a2ad0be_runbook","uuid":"d405c9d6-da96-4365-b171-e7ffb7e6b913"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"c3ac8343-8c50-41b5-b550-be1323fb409f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"4a15c0e5-22af-4f4d-8b7f-278edc0e41d1"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"92247e35_runbook","uuid":"c1fdda9f-aaee-4b0d-899f-a32eb5819a33"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d"},{"target_any_local_reference":{"kind":"app_package","name":"GCPSlavePackage","uuid":"ed6bf66b-ff88-4209-8ac6-fd62178fea4d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"4119b86e-b310-48ae-af86-8fa25c14a710","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"4a15c0e5-22af-4f4d-8b7f-278edc0e41d1"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_ed6bf66b_ff88_4209_8ac6_fd62178fea4d","uuid":"cc5e2588-5da0-4de7-9153-208c91eaaedf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_ed6bf66b_ff88_4209_8ac6_fd62178fea4d"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPSlave","uuid":"824702a6-ed10-4d8b-8046-50ccea53a3c1"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"d1c0daf4-443d-4f8a-acba-5dc46617808e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"4a15c0e5-22af-4f4d-8b7f-278edc0e41d1"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_824702a6_ed10_4d8b_8046_50ccea53a3c1","uuid":"cbf5a376-e3fb-47c6-b7e8-d32e4bb1a505"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Substrate_824702a6_ed10_4d8b_8046_50ccea53a3c1"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"4a15c0e5-22af-4f4d-8b7f-278edc0e41d1"},"retries":"0","description":"","type":"DELETE_DEPLOYMENT_ELEMENT","uuid":"25bb2453-f946-401f-8b91-9c51bb9c7f15","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Delete_4a15c0e5_22af_4f4d_8b7f_278edc0e41d1"}],"description":"","message_list":[],"uuid":"63f60245-8b29-48b0-bd78-5921725d085f","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_4a15c0e5_22af_4f4d_8b7f_278edc0e41d1","uuid":"3c1d1ce0-20b9-4929-a324-5eeb4a1e223a"},"name":"SYS_GEN__Runbook_Deployment_4a15c0e5_22af_4f4d_8b7f_278edc0e41d1"}},{"description":"System action for scaleout","message_list":[],"uuid":"20c670f6-b265-4021-a527-cde2dfa1413a","name":"action_scaleout","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"4a15c0e5-22af-4f4d-8b7f-278edc0e41d1"},"retries":"0","description":"","type":"DAG","uuid":"cbc858da-7f73-4333-a534-767945899daa","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Deployment_Scaleout_4a15c0e5_22af_4f4d_8b7f_278edc0e41d1","uuid":"7b416e4f-85ee-489f-97bc-2b2790b651d8"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_4a15c0e5_22af_4f4d_8b7f_278edc0e41d1"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"4a15c0e5-22af-4f4d-8b7f-278edc0e41d1"},"retries":"0","description":"","type":"SCALING","uuid":"7b416e4f-85ee-489f-97bc-2b2790b651d8","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{scaling_count}@@","type":"","scaling_type":"SCALEOUT"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Deployment_Scaleout_4a15c0e5_22af_4f4d_8b7f_278edc0e41d1"}],"description":"","message_list":[],"uuid":"aceb1319-76c1-42d5-8347-985eb932840c","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"f20e6430-a0db-465b-8d21-058f74034daa","value":"0","label":"","state":"NOT_VALIDATED","attrs":{},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"scaling_count"}],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_4a15c0e5_22af_4f4d_8b7f_278edc0e41d1","uuid":"cbc858da-7f73-4333-a534-767945899daa"},"name":"SYS_GEN__Runbook_Deployment_4a15c0e5_22af_4f4d_8b7f_278edc0e41d1"}},{"description":"System action for scalein","message_list":[],"uuid":"b2321699-a880-43ad-9d62-906fa96ce99c","name":"action_scalein","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"4a15c0e5-22af-4f4d-8b7f-278edc0e41d1"},"retries":"0","description":"","type":"DAG","uuid":"ec8afa2f-f6e3-4a96-bcc6-8326750517d4","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Deployment_Scalein_4a15c0e5_22af_4f4d_8b7f_278edc0e41d1","uuid":"f48cc9c8-7271-4568-b312-b8a3a9d8d304"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_4a15c0e5_22af_4f4d_8b7f_278edc0e41d1"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"4a15c0e5-22af-4f4d-8b7f-278edc0e41d1"},"retries":"0","description":"","type":"SCALING","uuid":"f48cc9c8-7271-4568-b312-b8a3a9d8d304","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{scaling_count}@@","type":"","scaling_type":"SCALEIN"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Deployment_Scalein_4a15c0e5_22af_4f4d_8b7f_278edc0e41d1"}],"description":"","message_list":[],"uuid":"b7ad65c3-0cc8-42d9-8f26-5e942a397c7b","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"176ac87e-ee30-4942-8cd5-d1aeecaf500b","value":"0","label":"","state":"NOT_VALIDATED","attrs":{},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"scaling_count"}],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_4a15c0e5_22af_4f4d_8b7f_278edc0e41d1","uuid":"ec8afa2f-f6e3-4a96-bcc6-8326750517d4"},"name":"SYS_GEN__Runbook_Deployment_4a15c0e5_22af_4f4d_8b7f_278edc0e41d1"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"886a4e84-4293-480c-84ff-c0866fac8d77","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"4a15c0e5-22af-4f4d-8b7f-278edc0e41d1"},"retries":"0","description":"","type":"DAG","uuid":"02f550e4-9a6a-4b9f-9501-5709666229e2","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"b6f660ad-8760-4e48-a1d5-b971dc7363e4"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_ed6bf66b_ff88_4209_8ac6_fd62178fea4d","uuid":"89bf112f-cdc0-4da6-88dd-4e1eba6825b3"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_824702a6_ed10_4d8b_8046_50ccea53a3c1","uuid":"3a84b152-c4f5-4ff0-9666-96f6c5b92639"},{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_4a15c0e5_22af_4f4d_8b7f_278edc0e41d1","uuid":"a666e9a6-706a-4bc5-a26c-2a609963a390"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"b6f660ad-8760-4e48-a1d5-b971dc7363e4"},"edge_type":"inherent","type":"","uuid":"ccd4313b-32a9-4443-8a60-70cffea5f09a","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_ed6bf66b_ff88_4209_8ac6_fd62178fea4d","uuid":"89bf112f-cdc0-4da6-88dd-4e1eba6825b3"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_824702a6_ed10_4d8b_8046_50ccea53a3c1","uuid":"3a84b152-c4f5-4ff0-9666-96f6c5b92639"},"edge_type":"inherent","type":"","uuid":"1c6f3a5f-dd7e-4c49-b754-4fe46515c258","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_4a15c0e5_22af_4f4d_8b7f_278edc0e41d1","uuid":"a666e9a6-706a-4bc5-a26c-2a609963a390"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_ed6bf66b_ff88_4209_8ac6_fd62178fea4d","uuid":"89bf112f-cdc0-4da6-88dd-4e1eba6825b3"},"edge_type":"inherent","type":"","uuid":"d6503043-0ec6-4541-8568-a63b65d0b631","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_824702a6_ed10_4d8b_8046_50ccea53a3c1","uuid":"3a84b152-c4f5-4ff0-9666-96f6c5b92639"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_4a15c0e5_22af_4f4d_8b7f_278edc0e41d1"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"b6f660ad-8760-4e48-a1d5-b971dc7363e4","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"4a15c0e5-22af-4f4d-8b7f-278edc0e41d1"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"9cb9ecf0-89cd-4611-812d-2535c64945cf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d"},{"target_any_local_reference":{"kind":"app_package","name":"GCPSlavePackage","uuid":"ed6bf66b-ff88-4209-8ac6-fd62178fea4d"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"89bf112f-cdc0-4da6-88dd-4e1eba6825b3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_ed6bf66b_ff88_4209_8ac6_fd62178fea4d"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPSlave","uuid":"824702a6-ed10-4d8b-8046-50ccea53a3c1"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"3a84b152-c4f5-4ff0-9666-96f6c5b92639","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"4a15c0e5-22af-4f4d-8b7f-278edc0e41d1"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_824702a6_ed10_4d8b_8046_50ccea53a3c1","uuid":"ba6dd956-18dd-4a39-9cb2-d788cf2608ee"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Substrate_824702a6_ed10_4d8b_8046_50ccea53a3c1"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"4a15c0e5-22af-4f4d-8b7f-278edc0e41d1"},"retries":"0","description":"","type":"SOFT_DELETE_DEPLOYMENT_ELEMENT","uuid":"a666e9a6-706a-4bc5-a26c-2a609963a390","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Soft_Delete_4a15c0e5_22af_4f4d_8b7f_278edc0e41d1"}],"description":"","message_list":[],"uuid":"fa1b10c8-99a4-4a89-804a-398b3a06b56e","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_4a15c0e5_22af_4f4d_8b7f_278edc0e41d1","uuid":"02f550e4-9a6a-4b9f-9501-5709666229e2"},"name":"SYS_GEN__Runbook_Deployment_4a15c0e5_22af_4f4d_8b7f_278edc0e41d1"}}],"message_list":[],"published_service_local_reference_list":[],"uuid":"4a15c0e5-22af-4f4d-8b7f-278edc0e41d1","min_replicas":"1","state":"DRAFT","max_replicas":"3","depends_on_list":[],"editables":{"min_replicas":true,"max_replicas":true},"package_local_reference_list":[{"kind":"app_package","name":"GCPSlavePackage","uuid":"ed6bf66b-ff88-4209-8ac6-fd62178fea4d"}],"substrate_local_reference":{"kind":"app_substrate","name":"GCPSlave","uuid":"824702a6-ed10-4d8b-8046-50ccea53a3c1"},"type":"GREENFIELD","options":{},"variable_list":[],"name":"54ee850e_deployment"}],"description":"","action_list":[{"description":"","message_list":[],"uuid":"ad9e8112-c703-4b14-af36-c2ce9aaf8fc7","name":"Backup","state":"ACTIVE","critical":false,"attrs":{},"type":"user","runbook":{"task_definition_list":[{"retries":"0","description":"","type":"DAG","uuid":"0abe83fb-da73-4f53-826b-4c91b68da65b","child_tasks_local_reference_list":[{"kind":"app_task","name":"DB Backup","uuid":"b07d7673-66f7-4022-8f33-bfe5a6077dd2"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"c8c571b2_dag"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"EXEC","uuid":"b07d7673-66f7-4022-8f33-bfe5a6077dd2","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\n\n### Setup variables\nmysql_password=\"@@{MYSQL_PASSWORD}@@\"\ndate_part=`date +%F`\nmkdir -p @@{BACKUP_FILE_PATH}@@\nsudo mysqldump -u root -p${mysql_password} --all-databases | sudo gzip -9 > @@{BACKUP_FILE_PATH}@@\/db_dump.sql.gz"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"DB Backup"}],"description":"","message_list":[],"uuid":"5a600a12-d3d9-4c1f-bf6a-f4416fc1111a","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"49f520d4-6730-4688-afd8-9084f056f8d8","value":"~\/db_backup","label":"","state":"NOT_VALIDATED","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"BACKUP_FILE_PATH"}],"main_task_local_reference":{"kind":"app_task","name":"c8c571b2_dag","uuid":"0abe83fb-da73-4f53-826b-4c91b68da65b"},"name":"cf21cddc_runbook"}},{"description":"","message_list":[],"uuid":"5c4e2548-a109-4cc3-b95b-bf2227474c18","name":"Restore","state":"ACTIVE","critical":false,"attrs":{},"type":"user","runbook":{"task_definition_list":[{"retries":"0","description":"","type":"DAG","uuid":"074bb8e3-489b-49b2-b178-0fd440f6ccc2","child_tasks_local_reference_list":[{"kind":"app_task","name":"DB Restore","uuid":"2952ccfc-f057-4634-a4cf-f4181dacd89a"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"eff38554_dag"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"EXEC","uuid":"2952ccfc-f057-4634-a4cf-f4181dacd89a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\n\n### Setup variables\nmysql_password=\"@@{MYSQL_PASSWORD}@@\"\ndb_file=@@{RESTORE_FILE_PATH}@@\n\nsudo gunzip < $db_file | sudo mysql -u root -p${mysql_password} "},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"DB Restore"}],"description":"","message_list":[],"uuid":"3f103deb-478f-44fe-bb89-abf777742f25","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"2864e2da-b3b3-49ee-994a-b8806a7a7d72","value":"~\/db_backup\/db_dump.sql.gz","label":"","state":"NOT_VALIDATED","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"RESTORE_FILE_PATH"}],"main_task_local_reference":{"kind":"app_task","name":"eff38554_dag","uuid":"074bb8e3-489b-49b2-b178-0fd440f6ccc2"},"name":"5911aa86_runbook"}},{"description":"","message_list":[],"uuid":"0da96b36-f57e-4f95-83c3-3fae50fd31cb","name":"ScaleOut","state":"ACTIVE","critical":false,"attrs":{},"type":"user","runbook":{"task_definition_list":[{"retries":"0","description":"","type":"DAG","uuid":"e66dd82b-4e21-4ff7-83b2-c7d6ca3a7c88","child_tasks_local_reference_list":[{"kind":"app_task","name":"Scale Out","uuid":"af750f6b-0c0c-4788-b171-86d2a48a5e25"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"18ab1dc5_dag"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"4a15c0e5-22af-4f4d-8b7f-278edc0e41d1"},"retries":"0","description":"","type":"SCALING","uuid":"af750f6b-0c0c-4788-b171-86d2a48a5e25","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{COUNT}@@","type":"","scaling_type":"SCALEOUT"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Scale Out"}],"description":"","message_list":[],"uuid":"e76e3469-c9e3-46dd-bb43-7e0b521d28f6","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"24739668-c516-47d1-a48b-9a06fa4b2258","value":"1","label":"","state":"NOT_VALIDATED","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"COUNT"}],"main_task_local_reference":{"kind":"app_task","name":"18ab1dc5_dag","uuid":"e66dd82b-4e21-4ff7-83b2-c7d6ca3a7c88"},"name":"0efec22d_runbook"}},{"description":"","message_list":[],"uuid":"7520331a-d597-4f0a-b185-0b5aa6f47178","name":"ScaleIn","state":"ACTIVE","critical":false,"attrs":{},"type":"user","runbook":{"task_definition_list":[{"retries":"0","description":"","type":"DAG","uuid":"77539200-2181-41f4-a717-c8096e268e90","child_tasks_local_reference_list":[{"kind":"app_task","name":"Scale In","uuid":"8ea3757f-fa75-46bb-86c2-4094f36b57fd"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"d25c81bb_dag"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"4a15c0e5-22af-4f4d-8b7f-278edc0e41d1"},"retries":"0","description":"","type":"SCALING","uuid":"8ea3757f-fa75-46bb-86c2-4094f36b57fd","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{COUNT}@@","type":"","scaling_type":"SCALEIN"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Scale In"}],"description":"","message_list":[],"uuid":"8a02611c-aa9f-4add-8327-265b7d13476b","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"0fcb9037-0eaa-4ebd-bb83-ad24dbfb4853","value":"1","label":"","state":"NOT_VALIDATED","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"COUNT"}],"main_task_local_reference":{"kind":"app_task","name":"d25c81bb_dag","uuid":"77539200-2181-41f4-a717-c8096e268e90"},"name":"eb302554_runbook"}},{"description":"System action for creating an application","message_list":[],"uuid":"d87a2b35-d6e5-4782-a591-cd7184733ae1","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"GCP","uuid":"d4c8ef6b-d79b-4a39-8af1-b2f519a57c75"},"retries":"0","description":"","type":"DAG","uuid":"454e3752-2241-49bc-b093-8f40c2db9da7","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__DE_Provision_4a15c0e5_22af_4f4d_8b7f_278edc0e41d1","uuid":"3c67add0-d04e-4590-b371-393eb2fb144b"},{"kind":"app_task","name":"SYS_GEN__DE_Provision_540ad9dd_65ea_4adb_9276_faa30f93bce6","uuid":"829738d8-5cbb-4085-806b-0641323f3be4"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_e094d48b_d166_4e1f_9e53_217b1788fe12","uuid":"6c2564a6-eb21-416d-840a-bf9b351b01cb"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_824702a6_ed10_4d8b_8046_50ccea53a3c1","uuid":"6401693f-28aa-44ce-9d87-0437b2dc3553"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_1201401a_4303_4417_8bee_ece1018bc5fa","uuid":"38070754-cf48-45bb-82aa-e17d1d8114ac"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_ed6bf66b_ff88_4209_8ac6_fd62178fea4d","uuid":"02bdc339-998f-40d6-a709-64e3be132e5b"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"77316851-a7cb-470c-8ab3-241313f8bb7a"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"1ef85027-f16e-4359-84c8-3a553d8a4d03"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"1be07fb1-034f-4b34-8fcb-49f3e0e99b73"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"edae932f-f8e9-40a4-9d0a-54bce02c73d4"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"77316851-a7cb-470c-8ab3-241313f8bb7a"},"edge_type":"inherent","type":"","uuid":"c8ebce43-3592-4de7-a8d6-db136103970d","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"1ef85027-f16e-4359-84c8-3a553d8a4d03"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_1201401a_4303_4417_8bee_ece1018bc5fa","uuid":"38070754-cf48-45bb-82aa-e17d1d8114ac"},"edge_type":"inherent","type":"","uuid":"0cf3f694-fc33-4a0a-ab28-28e21591cfa7","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"77316851-a7cb-470c-8ab3-241313f8bb7a"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_e094d48b_d166_4e1f_9e53_217b1788fe12","uuid":"6c2564a6-eb21-416d-840a-bf9b351b01cb"},"edge_type":"inherent","type":"","uuid":"e7879eae-8c5b-4459-a2f0-2b392c0074b4","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_1201401a_4303_4417_8bee_ece1018bc5fa","uuid":"38070754-cf48-45bb-82aa-e17d1d8114ac"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_540ad9dd_65ea_4adb_9276_faa30f93bce6","uuid":"829738d8-5cbb-4085-806b-0641323f3be4"},"edge_type":"inherent","type":"","uuid":"4b228222-4a3d-42f5-ba3f-8b8a585b08e7","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_e094d48b_d166_4e1f_9e53_217b1788fe12","uuid":"6c2564a6-eb21-416d-840a-bf9b351b01cb"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"1be07fb1-034f-4b34-8fcb-49f3e0e99b73"},"edge_type":"inherent","type":"","uuid":"9890d418-2b96-4bb4-bd65-abae631f161e","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"edae932f-f8e9-40a4-9d0a-54bce02c73d4"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_ed6bf66b_ff88_4209_8ac6_fd62178fea4d","uuid":"02bdc339-998f-40d6-a709-64e3be132e5b"},"edge_type":"inherent","type":"","uuid":"a3fa0c1c-247d-4d50-a7dd-735d78a28178","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"1be07fb1-034f-4b34-8fcb-49f3e0e99b73"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_824702a6_ed10_4d8b_8046_50ccea53a3c1","uuid":"6401693f-28aa-44ce-9d87-0437b2dc3553"},"edge_type":"inherent","type":"","uuid":"bd93e568-33cb-43ef-8d71-6329293cc81a","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_ed6bf66b_ff88_4209_8ac6_fd62178fea4d","uuid":"02bdc339-998f-40d6-a709-64e3be132e5b"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_4a15c0e5_22af_4f4d_8b7f_278edc0e41d1","uuid":"3c67add0-d04e-4590-b371-393eb2fb144b"},"edge_type":"inherent","type":"","uuid":"af803a27-7b48-4216-8160-609559a7f535","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_824702a6_ed10_4d8b_8046_50ccea53a3c1","uuid":"6401693f-28aa-44ce-9d87-0437b2dc3553"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"1ef85027-f16e-4359-84c8-3a553d8a4d03"},"edge_type":"depends_on","type":"","uuid":"4eddddf2-d61b-4a18-a15c-178dd7668cba","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"1be07fb1-034f-4b34-8fcb-49f3e0e99b73"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_d4c8ef6b_d79b_4a39_8af1_b2f519a57c75"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"4a15c0e5-22af-4f4d-8b7f-278edc0e41d1"},"retries":"0","description":"","type":"CREATE_DEPLOYMENT_ELEMENT","uuid":"3c67add0-d04e-4590-b371-393eb2fb144b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Provision_4a15c0e5_22af_4f4d_8b7f_278edc0e41d1"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9b1d29e6_deployment","uuid":"540ad9dd-65ea-4adb-9276-faa30f93bce6"},"retries":"0","description":"","type":"CREATE_DEPLOYMENT_ELEMENT","uuid":"829738d8-5cbb-4085-806b-0641323f3be4","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Provision_540ad9dd_65ea_4adb_9276_faa30f93bce6"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPMaster","uuid":"e094d48b-d166-4e1f-9e53-217b1788fe12"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"6c2564a6-eb21-416d-840a-bf9b351b01cb","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9b1d29e6_deployment","uuid":"540ad9dd-65ea-4adb-9276-faa30f93bce6"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_e094d48b_d166_4e1f_9e53_217b1788fe12","uuid":"e0c7bfb3-181e-405d-bc35-722ea27eb5ca"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Substrate_e094d48b_d166_4e1f_9e53_217b1788fe12"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPSlave","uuid":"824702a6-ed10-4d8b-8046-50ccea53a3c1"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"6401693f-28aa-44ce-9d87-0437b2dc3553","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"4a15c0e5-22af-4f4d-8b7f-278edc0e41d1"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_824702a6_ed10_4d8b_8046_50ccea53a3c1","uuid":"7424dfb2-8561-468c-9734-fb98f4eb5cd9"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Substrate_824702a6_ed10_4d8b_8046_50ccea53a3c1"},{"target_any_local_reference":{"kind":"app_package","name":"GCPMasterPackage","uuid":"1201401a-4303-4417-8bee-ece1018bc5fa"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"38070754-cf48-45bb-82aa-e17d1d8114ac","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9b1d29e6_deployment","uuid":"540ad9dd-65ea-4adb-9276-faa30f93bce6"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_1201401a_4303_4417_8bee_ece1018bc5fa","uuid":"4d9d9cc8-7616-4dda-b576-0622f3026f9b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_1201401a_4303_4417_8bee_ece1018bc5fa"},{"target_any_local_reference":{"kind":"app_package","name":"GCPSlavePackage","uuid":"ed6bf66b-ff88-4209-8ac6-fd62178fea4d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"02bdc339-998f-40d6-a709-64e3be132e5b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"4a15c0e5-22af-4f4d-8b7f-278edc0e41d1"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_ed6bf66b_ff88_4209_8ac6_fd62178fea4d","uuid":"e4e47809-e5f9-4bdb-a74e-91563c7c0e86"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_ed6bf66b_ff88_4209_8ac6_fd62178fea4d"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"77316851-a7cb-470c-8ab3-241313f8bb7a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9b1d29e6_deployment","uuid":"540ad9dd-65ea-4adb-9276-faa30f93bce6"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0a970522_runbook","uuid":"9866e43d-ff48-4abb-bade-7f5396ce551e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"1ef85027-f16e-4359-84c8-3a553d8a4d03","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9b1d29e6_deployment","uuid":"540ad9dd-65ea-4adb-9276-faa30f93bce6"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"5ddb28d1_runbook","uuid":"907290fe-eaef-465b-a916-7c2c67d20c97"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"1be07fb1-034f-4b34-8fcb-49f3e0e99b73","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"4a15c0e5-22af-4f4d-8b7f-278edc0e41d1"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"d54168c9_runbook","uuid":"d9d72b08-90b4-46c2-a771-6d338abb4bc3"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"edae932f-f8e9-40a4-9d0a-54bce02c73d4","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"4a15c0e5-22af-4f4d-8b7f-278edc0e41d1"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"a027cde0_runbook","uuid":"557651c0-2ccf-45cb-beb3-9f2028221b2e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d"}],"description":"","message_list":[],"uuid":"c52e001c-b881-4766-bc46-087596677298","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_d4c8ef6b_d79b_4a39_8af1_b2f519a57c75","uuid":"454e3752-2241-49bc-b093-8f40c2db9da7"},"name":"SYS_GEN__Runbook_Application_d4c8ef6b_d79b_4a39_8af1_b2f519a57c75"}},{"description":"System action for starting an application","message_list":[],"uuid":"77295897-c57a-4ac4-9325-b03cf960f27d","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"GCP","uuid":"d4c8ef6b-d79b-4a39-8af1-b2f519a57c75"},"retries":"0","description":"","type":"DAG","uuid":"d4cb0b43-3c08-4926-b20a-9dd1fb79edfc","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_824702a6_ed10_4d8b_8046_50ccea53a3c1","uuid":"dd308e96-c4c6-4186-8aef-517655cfd746"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_e094d48b_d166_4e1f_9e53_217b1788fe12","uuid":"0aa07b49-302b-4cb9-ab42-09566e580fd3"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"f2a1840b-5df7-4531-83ba-d7fadd33a8f2"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"14ff1900-590c-4fe5-93e3-5d500372e235"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_e094d48b_d166_4e1f_9e53_217b1788fe12","uuid":"0aa07b49-302b-4cb9-ab42-09566e580fd3"},"edge_type":"inherent","type":"","uuid":"2b10c35f-c85c-4793-889a-92136dad40f7","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"f2a1840b-5df7-4531-83ba-d7fadd33a8f2"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_824702a6_ed10_4d8b_8046_50ccea53a3c1","uuid":"dd308e96-c4c6-4186-8aef-517655cfd746"},"edge_type":"inherent","type":"","uuid":"0fd90c44-1b5a-4d19-ba8b-9a47122954ec","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"14ff1900-590c-4fe5-93e3-5d500372e235"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"f2a1840b-5df7-4531-83ba-d7fadd33a8f2"},"edge_type":"depends_on","type":"","uuid":"b6f44c47-3bc0-4400-95c4-28166c39c4bd","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"14ff1900-590c-4fe5-93e3-5d500372e235"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_d4c8ef6b_d79b_4a39_8af1_b2f519a57c75"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPSlave","uuid":"824702a6-ed10-4d8b-8046-50ccea53a3c1"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"dd308e96-c4c6-4186-8aef-517655cfd746","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"4a15c0e5-22af-4f4d-8b7f-278edc0e41d1"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_824702a6_ed10_4d8b_8046_50ccea53a3c1","uuid":"0f067b97-633c-432d-bcbe-a2892aa310e5"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Substrate_824702a6_ed10_4d8b_8046_50ccea53a3c1"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPMaster","uuid":"e094d48b-d166-4e1f-9e53-217b1788fe12"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"0aa07b49-302b-4cb9-ab42-09566e580fd3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9b1d29e6_deployment","uuid":"540ad9dd-65ea-4adb-9276-faa30f93bce6"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_e094d48b_d166_4e1f_9e53_217b1788fe12","uuid":"de0db75c-73e4-4a27-b3d0-81dc3948225c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Substrate_e094d48b_d166_4e1f_9e53_217b1788fe12"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"f2a1840b-5df7-4531-83ba-d7fadd33a8f2","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9b1d29e6_deployment","uuid":"540ad9dd-65ea-4adb-9276-faa30f93bce6"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"5ddb28d1_runbook","uuid":"907290fe-eaef-465b-a916-7c2c67d20c97"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"14ff1900-590c-4fe5-93e3-5d500372e235","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"4a15c0e5-22af-4f4d-8b7f-278edc0e41d1"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"a027cde0_runbook","uuid":"557651c0-2ccf-45cb-beb3-9f2028221b2e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d"}],"description":"","message_list":[],"uuid":"ef7dfd31-cb16-4343-ad32-66d77181611b","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_d4c8ef6b_d79b_4a39_8af1_b2f519a57c75","uuid":"d4cb0b43-3c08-4926-b20a-9dd1fb79edfc"},"name":"SYS_GEN__Runbook_Application_d4c8ef6b_d79b_4a39_8af1_b2f519a57c75"}},{"description":"System action for restarting an application","message_list":[],"uuid":"42d78a01-1a0d-45a0-84b9-13226c33d4bb","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"GCP","uuid":"d4c8ef6b-d79b-4a39-8af1-b2f519a57c75"},"retries":"0","description":"","type":"DAG","uuid":"069f9d7b-071f-4779-b663-0c702310694d","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_824702a6_ed10_4d8b_8046_50ccea53a3c1","uuid":"017c4718-61d0-4ae2-98b8-1e142e7abb59"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_e094d48b_d166_4e1f_9e53_217b1788fe12","uuid":"55bf9a17-d993-43d7-b5e1-2aa6dae7f6b6"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"f01df1e5-475a-44a3-a0f3-1dce6c6a6566"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"ee8470a9-3223-4f72-bb62-2befcc5350d3"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_e094d48b_d166_4e1f_9e53_217b1788fe12","uuid":"55bf9a17-d993-43d7-b5e1-2aa6dae7f6b6"},"edge_type":"inherent","type":"","uuid":"a4a98d40-7b6f-44be-973a-01b730c05097","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"f01df1e5-475a-44a3-a0f3-1dce6c6a6566"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_824702a6_ed10_4d8b_8046_50ccea53a3c1","uuid":"017c4718-61d0-4ae2-98b8-1e142e7abb59"},"edge_type":"inherent","type":"","uuid":"3d5b5b1f-1954-4e34-8108-579670acb49c","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"ee8470a9-3223-4f72-bb62-2befcc5350d3"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"f01df1e5-475a-44a3-a0f3-1dce6c6a6566"},"edge_type":"depends_on","type":"","uuid":"eab5b522-251b-4312-b978-5cdbb4006c47","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"ee8470a9-3223-4f72-bb62-2befcc5350d3"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_d4c8ef6b_d79b_4a39_8af1_b2f519a57c75"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPSlave","uuid":"824702a6-ed10-4d8b-8046-50ccea53a3c1"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"017c4718-61d0-4ae2-98b8-1e142e7abb59","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"4a15c0e5-22af-4f4d-8b7f-278edc0e41d1"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_824702a6_ed10_4d8b_8046_50ccea53a3c1","uuid":"3a3535f4-41a4-4b64-b6a6-7ff417a188e7"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Substrate_824702a6_ed10_4d8b_8046_50ccea53a3c1"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPMaster","uuid":"e094d48b-d166-4e1f-9e53-217b1788fe12"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"55bf9a17-d993-43d7-b5e1-2aa6dae7f6b6","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9b1d29e6_deployment","uuid":"540ad9dd-65ea-4adb-9276-faa30f93bce6"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_e094d48b_d166_4e1f_9e53_217b1788fe12","uuid":"fccc3307-aecf-47f4-8593-0247a2f3651e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Substrate_e094d48b_d166_4e1f_9e53_217b1788fe12"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"f01df1e5-475a-44a3-a0f3-1dce6c6a6566","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9b1d29e6_deployment","uuid":"540ad9dd-65ea-4adb-9276-faa30f93bce6"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"7e709238_runbook","uuid":"e38aa3c5-d052-4d28-84e6-acfb09a6af83"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"ee8470a9-3223-4f72-bb62-2befcc5350d3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"4a15c0e5-22af-4f4d-8b7f-278edc0e41d1"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"f2b2a076_runbook","uuid":"d30fe7b4-3486-4f8a-a3b8-e08401237ee7"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d"}],"description":"","message_list":[],"uuid":"c816346c-e2bd-4cfa-9555-539f7e06d3be","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_d4c8ef6b_d79b_4a39_8af1_b2f519a57c75","uuid":"069f9d7b-071f-4779-b663-0c702310694d"},"name":"SYS_GEN__Runbook_Application_d4c8ef6b_d79b_4a39_8af1_b2f519a57c75"}},{"description":"System action for stopping an application","message_list":[],"uuid":"18521f97-ad79-4720-a7e7-3932aa4649fb","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"GCP","uuid":"d4c8ef6b-d79b-4a39-8af1-b2f519a57c75"},"retries":"0","description":"","type":"DAG","uuid":"1a875cb3-2c03-471f-afb3-e8ac6cf5c917","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"a9b95509-60d1-40db-aa50-4da11f90b9a6"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_824702a6_ed10_4d8b_8046_50ccea53a3c1","uuid":"e096da10-a2ef-40b7-9686-29a6650eef75"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"c61688ab-f1b2-470f-83ee-f81e80749f4c"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_e094d48b_d166_4e1f_9e53_217b1788fe12","uuid":"a6cc5b5a-2f2d-4bff-96b8-ce51107f94ee"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"c61688ab-f1b2-470f-83ee-f81e80749f4c"},"edge_type":"inherent","type":"","uuid":"dd25a501-f323-49c5-a09a-e087c6569395","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_e094d48b_d166_4e1f_9e53_217b1788fe12","uuid":"a6cc5b5a-2f2d-4bff-96b8-ce51107f94ee"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"a9b95509-60d1-40db-aa50-4da11f90b9a6"},"edge_type":"inherent","type":"","uuid":"ca700cf7-df2f-4efd-827f-7b70d55c64d3","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_824702a6_ed10_4d8b_8046_50ccea53a3c1","uuid":"e096da10-a2ef-40b7-9686-29a6650eef75"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"a9b95509-60d1-40db-aa50-4da11f90b9a6"},"edge_type":"depends_on","type":"","uuid":"52014159-8420-4db9-95f7-b6d55c7a008a","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"c61688ab-f1b2-470f-83ee-f81e80749f4c"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_d4c8ef6b_d79b_4a39_8af1_b2f519a57c75"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"a9b95509-60d1-40db-aa50-4da11f90b9a6","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"4a15c0e5-22af-4f4d-8b7f-278edc0e41d1"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"4a2ad0be_runbook","uuid":"d405c9d6-da96-4365-b171-e7ffb7e6b913"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPSlave","uuid":"824702a6-ed10-4d8b-8046-50ccea53a3c1"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"e096da10-a2ef-40b7-9686-29a6650eef75","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"4a15c0e5-22af-4f4d-8b7f-278edc0e41d1"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_824702a6_ed10_4d8b_8046_50ccea53a3c1","uuid":"896b7f12-a036-4e03-8082-83ae51431230"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Substrate_824702a6_ed10_4d8b_8046_50ccea53a3c1"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"c61688ab-f1b2-470f-83ee-f81e80749f4c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9b1d29e6_deployment","uuid":"540ad9dd-65ea-4adb-9276-faa30f93bce6"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0aefbca3_runbook","uuid":"ce2a2858-b89b-4bb4-8fb3-ee8bd8a6bd3f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPMaster","uuid":"e094d48b-d166-4e1f-9e53-217b1788fe12"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"a6cc5b5a-2f2d-4bff-96b8-ce51107f94ee","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9b1d29e6_deployment","uuid":"540ad9dd-65ea-4adb-9276-faa30f93bce6"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_e094d48b_d166_4e1f_9e53_217b1788fe12","uuid":"4188e333-9fbf-4731-b464-b41a89c4c3d0"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Substrate_e094d48b_d166_4e1f_9e53_217b1788fe12"}],"description":"","message_list":[],"uuid":"e32a1e86-beed-4ffa-8455-2eb218fc9962","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_d4c8ef6b_d79b_4a39_8af1_b2f519a57c75","uuid":"1a875cb3-2c03-471f-afb3-e8ac6cf5c917"},"name":"SYS_GEN__Runbook_Application_d4c8ef6b_d79b_4a39_8af1_b2f519a57c75"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"a31f1ce3-4585-46d1-bc52-f533fd597bbd","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"GCP","uuid":"d4c8ef6b-d79b-4a39-8af1-b2f519a57c75"},"retries":"0","description":"","type":"DAG","uuid":"319accb2-b768-4bf4-a95f-b69fab15e2a5","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"6125c6f6-bab2-433a-a1d9-415d75e0bbfb"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"5ba5e41b-ca22-4716-ab28-71aa84bdf87b"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"7234d04f-7a29-4d57-acd4-3ab9d90f86b9"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_ed6bf66b_ff88_4209_8ac6_fd62178fea4d","uuid":"d1ec4a7b-1dca-424e-a887-5b52875df89f"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_824702a6_ed10_4d8b_8046_50ccea53a3c1","uuid":"2a9cef8c-077c-4ec1-9d4a-c1a5bd512298"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"338d56ef-bef8-4a43-8f34-8ec0021be18d"},{"kind":"app_task","name":"SYS_GEN__DE_Delete_4a15c0e5_22af_4f4d_8b7f_278edc0e41d1","uuid":"3ca7ddc7-361d-48f0-95f9-73ee7815b9e3"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_1201401a_4303_4417_8bee_ece1018bc5fa","uuid":"4aa6fa7d-f721-4975-99fc-0f6c3c37a4e8"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_e094d48b_d166_4e1f_9e53_217b1788fe12","uuid":"0d72a8ac-0a82-46ee-8274-7e0d9a857277"},{"kind":"app_task","name":"SYS_GEN__DE_Delete_540ad9dd_65ea_4adb_9276_faa30f93bce6","uuid":"7ed5e152-58fd-4202-8ec5-0a0e6934026d"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"7234d04f-7a29-4d57-acd4-3ab9d90f86b9"},"edge_type":"inherent","type":"","uuid":"1b85f324-1d55-458b-85fd-30989610a3f4","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"338d56ef-bef8-4a43-8f34-8ec0021be18d"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"338d56ef-bef8-4a43-8f34-8ec0021be18d"},"edge_type":"inherent","type":"","uuid":"cdd5cd99-a6bf-41b2-9982-ad8538582fe5","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_1201401a_4303_4417_8bee_ece1018bc5fa","uuid":"4aa6fa7d-f721-4975-99fc-0f6c3c37a4e8"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_e094d48b_d166_4e1f_9e53_217b1788fe12","uuid":"0d72a8ac-0a82-46ee-8274-7e0d9a857277"},"edge_type":"inherent","type":"","uuid":"aa8401cc-9420-4652-b7f2-f264a15a1fb5","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Delete_540ad9dd_65ea_4adb_9276_faa30f93bce6","uuid":"7ed5e152-58fd-4202-8ec5-0a0e6934026d"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_1201401a_4303_4417_8bee_ece1018bc5fa","uuid":"4aa6fa7d-f721-4975-99fc-0f6c3c37a4e8"},"edge_type":"inherent","type":"","uuid":"064cbc65-83d0-4708-bc6a-a6dcb60874c5","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_e094d48b_d166_4e1f_9e53_217b1788fe12","uuid":"0d72a8ac-0a82-46ee-8274-7e0d9a857277"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"6125c6f6-bab2-433a-a1d9-415d75e0bbfb"},"edge_type":"inherent","type":"","uuid":"2dad876c-e087-4857-8660-8686ffca60f1","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"5ba5e41b-ca22-4716-ab28-71aa84bdf87b"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"5ba5e41b-ca22-4716-ab28-71aa84bdf87b"},"edge_type":"inherent","type":"","uuid":"5d436b38-0f8b-4f88-b227-8d615b353e29","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_ed6bf66b_ff88_4209_8ac6_fd62178fea4d","uuid":"d1ec4a7b-1dca-424e-a887-5b52875df89f"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_824702a6_ed10_4d8b_8046_50ccea53a3c1","uuid":"2a9cef8c-077c-4ec1-9d4a-c1a5bd512298"},"edge_type":"inherent","type":"","uuid":"87d25279-b993-47c0-a813-03d6933e833c","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Delete_4a15c0e5_22af_4f4d_8b7f_278edc0e41d1","uuid":"3ca7ddc7-361d-48f0-95f9-73ee7815b9e3"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_ed6bf66b_ff88_4209_8ac6_fd62178fea4d","uuid":"d1ec4a7b-1dca-424e-a887-5b52875df89f"},"edge_type":"inherent","type":"","uuid":"43a312fa-7e5f-4600-8e82-d7f06f932085","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_824702a6_ed10_4d8b_8046_50ccea53a3c1","uuid":"2a9cef8c-077c-4ec1-9d4a-c1a5bd512298"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"5ba5e41b-ca22-4716-ab28-71aa84bdf87b"},"edge_type":"depends_on","type":"","uuid":"74ceccc2-95e5-4d71-9ef2-e39ddf27564f","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"7234d04f-7a29-4d57-acd4-3ab9d90f86b9"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_d4c8ef6b_d79b_4a39_8af1_b2f519a57c75"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"6125c6f6-bab2-433a-a1d9-415d75e0bbfb","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"4a15c0e5-22af-4f4d-8b7f-278edc0e41d1"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"4a2ad0be_runbook","uuid":"d405c9d6-da96-4365-b171-e7ffb7e6b913"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"5ba5e41b-ca22-4716-ab28-71aa84bdf87b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"4a15c0e5-22af-4f4d-8b7f-278edc0e41d1"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"92247e35_runbook","uuid":"c1fdda9f-aaee-4b0d-899f-a32eb5819a33"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"7234d04f-7a29-4d57-acd4-3ab9d90f86b9","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9b1d29e6_deployment","uuid":"540ad9dd-65ea-4adb-9276-faa30f93bce6"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0aefbca3_runbook","uuid":"ce2a2858-b89b-4bb4-8fb3-ee8bd8a6bd3f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b"},{"target_any_local_reference":{"kind":"app_package","name":"GCPSlavePackage","uuid":"ed6bf66b-ff88-4209-8ac6-fd62178fea4d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"d1ec4a7b-1dca-424e-a887-5b52875df89f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"4a15c0e5-22af-4f4d-8b7f-278edc0e41d1"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_ed6bf66b_ff88_4209_8ac6_fd62178fea4d","uuid":"cc5e2588-5da0-4de7-9153-208c91eaaedf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_ed6bf66b_ff88_4209_8ac6_fd62178fea4d"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPSlave","uuid":"824702a6-ed10-4d8b-8046-50ccea53a3c1"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"2a9cef8c-077c-4ec1-9d4a-c1a5bd512298","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"4a15c0e5-22af-4f4d-8b7f-278edc0e41d1"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_824702a6_ed10_4d8b_8046_50ccea53a3c1","uuid":"cbf5a376-e3fb-47c6-b7e8-d32e4bb1a505"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Substrate_824702a6_ed10_4d8b_8046_50ccea53a3c1"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"338d56ef-bef8-4a43-8f34-8ec0021be18d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9b1d29e6_deployment","uuid":"540ad9dd-65ea-4adb-9276-faa30f93bce6"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"5fd47ec3_runbook","uuid":"e410ef14-5f72-46ab-b7d5-0181621be34f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"4a15c0e5-22af-4f4d-8b7f-278edc0e41d1"},"retries":"0","description":"","type":"DELETE_DEPLOYMENT_ELEMENT","uuid":"3ca7ddc7-361d-48f0-95f9-73ee7815b9e3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Delete_4a15c0e5_22af_4f4d_8b7f_278edc0e41d1"},{"target_any_local_reference":{"kind":"app_package","name":"GCPMasterPackage","uuid":"1201401a-4303-4417-8bee-ece1018bc5fa"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"4aa6fa7d-f721-4975-99fc-0f6c3c37a4e8","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9b1d29e6_deployment","uuid":"540ad9dd-65ea-4adb-9276-faa30f93bce6"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_1201401a_4303_4417_8bee_ece1018bc5fa","uuid":"033030bb-7d54-4edf-90d6-4fa3001ee8bf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_1201401a_4303_4417_8bee_ece1018bc5fa"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPMaster","uuid":"e094d48b-d166-4e1f-9e53-217b1788fe12"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"0d72a8ac-0a82-46ee-8274-7e0d9a857277","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9b1d29e6_deployment","uuid":"540ad9dd-65ea-4adb-9276-faa30f93bce6"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_e094d48b_d166_4e1f_9e53_217b1788fe12","uuid":"d97bc120-c85a-46d4-b0d3-3205eaf04507"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Substrate_e094d48b_d166_4e1f_9e53_217b1788fe12"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9b1d29e6_deployment","uuid":"540ad9dd-65ea-4adb-9276-faa30f93bce6"},"retries":"0","description":"","type":"DELETE_DEPLOYMENT_ELEMENT","uuid":"7ed5e152-58fd-4202-8ec5-0a0e6934026d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Delete_540ad9dd_65ea_4adb_9276_faa30f93bce6"}],"description":"","message_list":[],"uuid":"82e87b31-589c-4c9c-a778-aa01c36a2847","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_d4c8ef6b_d79b_4a39_8af1_b2f519a57c75","uuid":"319accb2-b768-4bf4-a95f-b69fab15e2a5"},"name":"SYS_GEN__Runbook_Application_d4c8ef6b_d79b_4a39_8af1_b2f519a57c75"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"229f0715-6c75-4353-a512-97f31a6c51ba","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"GCP","uuid":"d4c8ef6b-d79b-4a39-8af1-b2f519a57c75"},"retries":"0","description":"","type":"DAG","uuid":"a90a2e2e-a0d9-42a6-b35d-815441e6f2ea","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"a6be52d4-56a3-4500-ac19-613cd4f50f18"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_ed6bf66b_ff88_4209_8ac6_fd62178fea4d","uuid":"eb70ade6-9a22-439b-8ced-ed1458fda80f"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"f3d4634e-0cf6-412e-8402-f0e01935edbc"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_824702a6_ed10_4d8b_8046_50ccea53a3c1","uuid":"a053a0e6-9235-4365-aff1-ff79778d80d1"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_1201401a_4303_4417_8bee_ece1018bc5fa","uuid":"6b518c76-7da6-4055-8d61-6051a478f598"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_e094d48b_d166_4e1f_9e53_217b1788fe12","uuid":"8ba03591-38e6-497a-9bb5-fa63d8cb8cd8"},{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_4a15c0e5_22af_4f4d_8b7f_278edc0e41d1","uuid":"f553a5d8-b077-4f14-a824-f9f065d4e94e"},{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_540ad9dd_65ea_4adb_9276_faa30f93bce6","uuid":"c89db253-713a-45e0-b160-8710d1abb237"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"f3d4634e-0cf6-412e-8402-f0e01935edbc"},"edge_type":"inherent","type":"","uuid":"6aac9dd9-70e6-4262-aed1-a8da7361c85c","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_1201401a_4303_4417_8bee_ece1018bc5fa","uuid":"6b518c76-7da6-4055-8d61-6051a478f598"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_e094d48b_d166_4e1f_9e53_217b1788fe12","uuid":"8ba03591-38e6-497a-9bb5-fa63d8cb8cd8"},"edge_type":"inherent","type":"","uuid":"a31282a3-1e90-4a21-bbdb-152ee42e697f","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_540ad9dd_65ea_4adb_9276_faa30f93bce6","uuid":"c89db253-713a-45e0-b160-8710d1abb237"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_1201401a_4303_4417_8bee_ece1018bc5fa","uuid":"6b518c76-7da6-4055-8d61-6051a478f598"},"edge_type":"inherent","type":"","uuid":"2dfe07b2-6805-41d3-af51-27f5a9007300","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_e094d48b_d166_4e1f_9e53_217b1788fe12","uuid":"8ba03591-38e6-497a-9bb5-fa63d8cb8cd8"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"a6be52d4-56a3-4500-ac19-613cd4f50f18"},"edge_type":"inherent","type":"","uuid":"4a962a20-9400-441c-a32e-509863a3d2d6","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_ed6bf66b_ff88_4209_8ac6_fd62178fea4d","uuid":"eb70ade6-9a22-439b-8ced-ed1458fda80f"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_824702a6_ed10_4d8b_8046_50ccea53a3c1","uuid":"a053a0e6-9235-4365-aff1-ff79778d80d1"},"edge_type":"inherent","type":"","uuid":"3f92184c-2501-47ce-9b68-84c3fe84ea15","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_4a15c0e5_22af_4f4d_8b7f_278edc0e41d1","uuid":"f553a5d8-b077-4f14-a824-f9f065d4e94e"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_ed6bf66b_ff88_4209_8ac6_fd62178fea4d","uuid":"eb70ade6-9a22-439b-8ced-ed1458fda80f"},"edge_type":"inherent","type":"","uuid":"1766e28c-1611-440b-89c9-1e3fb3ae9ae8","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_824702a6_ed10_4d8b_8046_50ccea53a3c1","uuid":"a053a0e6-9235-4365-aff1-ff79778d80d1"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"a6be52d4-56a3-4500-ac19-613cd4f50f18"},"edge_type":"depends_on","type":"","uuid":"5faebdfb-1518-48f1-815a-786f27282498","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"f3d4634e-0cf6-412e-8402-f0e01935edbc"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_d4c8ef6b_d79b_4a39_8af1_b2f519a57c75"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"a6be52d4-56a3-4500-ac19-613cd4f50f18","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"4a15c0e5-22af-4f4d-8b7f-278edc0e41d1"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"9cb9ecf0-89cd-4611-812d-2535c64945cf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d"},{"target_any_local_reference":{"kind":"app_package","name":"GCPSlavePackage","uuid":"ed6bf66b-ff88-4209-8ac6-fd62178fea4d"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"eb70ade6-9a22-439b-8ced-ed1458fda80f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_ed6bf66b_ff88_4209_8ac6_fd62178fea4d"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"f3d4634e-0cf6-412e-8402-f0e01935edbc","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9b1d29e6_deployment","uuid":"540ad9dd-65ea-4adb-9276-faa30f93bce6"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"b9b6e25b-f9f5-473d-8c7e-6fcb8b23a4da"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPSlave","uuid":"824702a6-ed10-4d8b-8046-50ccea53a3c1"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"a053a0e6-9235-4365-aff1-ff79778d80d1","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"4a15c0e5-22af-4f4d-8b7f-278edc0e41d1"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_824702a6_ed10_4d8b_8046_50ccea53a3c1","uuid":"ba6dd956-18dd-4a39-9cb2-d788cf2608ee"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Substrate_824702a6_ed10_4d8b_8046_50ccea53a3c1"},{"target_any_local_reference":{"kind":"app_package","name":"GCPMasterPackage","uuid":"1201401a-4303-4417-8bee-ece1018bc5fa"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"6b518c76-7da6-4055-8d61-6051a478f598","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_1201401a_4303_4417_8bee_ece1018bc5fa"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPMaster","uuid":"e094d48b-d166-4e1f-9e53-217b1788fe12"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"8ba03591-38e6-497a-9bb5-fa63d8cb8cd8","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9b1d29e6_deployment","uuid":"540ad9dd-65ea-4adb-9276-faa30f93bce6"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_e094d48b_d166_4e1f_9e53_217b1788fe12","uuid":"cf84d4db-a9aa-4f26-8f11-f6a78755ff67"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Substrate_e094d48b_d166_4e1f_9e53_217b1788fe12"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"4a15c0e5-22af-4f4d-8b7f-278edc0e41d1"},"retries":"0","description":"","type":"SOFT_DELETE_DEPLOYMENT_ELEMENT","uuid":"f553a5d8-b077-4f14-a824-f9f065d4e94e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Soft_Delete_4a15c0e5_22af_4f4d_8b7f_278edc0e41d1"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9b1d29e6_deployment","uuid":"540ad9dd-65ea-4adb-9276-faa30f93bce6"},"retries":"0","description":"","type":"SOFT_DELETE_DEPLOYMENT_ELEMENT","uuid":"c89db253-713a-45e0-b160-8710d1abb237","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Soft_Delete_540ad9dd_65ea_4adb_9276_faa30f93bce6"}],"description":"","message_list":[],"uuid":"1ee395b6-1136-47bb-8c53-b334f47ccdea","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_d4c8ef6b_d79b_4a39_8af1_b2f519a57c75","uuid":"a90a2e2e-a0d9-42a6-b35d-815441e6f2ea"},"name":"SYS_GEN__Runbook_Application_d4c8ef6b_d79b_4a39_8af1_b2f519a57c75"}}],"message_list":[],"uuid":"d4c8ef6b-d79b-4a39-8af1-b2f519a57c75","state":"DRAFT","dependency_list":[{"getter_resource_kind":"ServiceCfg","setter_resource_attr":"MYSQL_BIN","setter_resource_kind":"ServiceCfg","setter_resource_name":"MySQL_Master","action_name":"action_create","action_resource_name":"GCP","getter_resource_name":"MySQL_Slave","action_resource_kind":"ApplicationCfg"},{"getter_resource_kind":"ServiceCfg","setter_resource_attr":"MYSQL_POSITION","setter_resource_kind":"ServiceCfg","setter_resource_name":"MySQL_Master","action_name":"action_create","action_resource_name":"GCP","getter_resource_name":"MySQL_Slave","action_resource_kind":"ApplicationCfg"},{"getter_resource_kind":"ServiceCfg","setter_resource_attr":"address","setter_resource_kind":"ServiceCfg","setter_resource_name":"MySQL_Master","action_name":"action_create","action_resource_name":"GCP","getter_resource_name":"MySQL_Slave","action_resource_kind":"ApplicationCfg"}],"variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[{"message":"Secret value for variable is empty","reason":"EMPTY_VALUE","details":[{"attribute_name":"secret"}]},{"message":"Value of secret variable is empty","reason":"EMPTY_VALUE","details":[{"attribute_name":"value"}]}],"uuid":"d3439246-c764-4e96-93f6-5ed7ebea3619","value":"","label":"","state":"ACTIVE","attrs":{"is_secret_modified":false,"secret_reference":{"uuid":"a235511e-468c-4aa7-a7e0-5571eda250c3"},"type":""},"editables":{"value":true},"is_hidden":false,"type":"SECRET","options":{},"name":"MYSQL_PASSWORD"}],"name":"GCP"},{"deployment_create_list":[{"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"5ba44ea7-d0c6-4a3f-86a3-5635aca4787b","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"c56e12c0_deployment","uuid":"33816960-d3af-41d3-a631-752fa678e2c7"},"retries":"0","description":"","type":"DAG","uuid":"ba893231-c785-4869-bd71-174fca411118","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__DE_Provision_33816960_d3af_41d3_a631_752fa678e2c7","uuid":"e8da2bc9-2134-4c8a-b835-ac8c39421a19"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_e8c6c48b_bcf4_462b_86e0_20154a34e060","uuid":"47a3777f-5171-41f5-9b13-7e2cb0814d21"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_db2def6e_1144_4d42_ba62_50adf9dc8da0","uuid":"d611310f-e367-4e37-b85b-ffdbd4211029"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"3e7da7b1-a020-4649-8a7f-03c79351c35d"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"e0bb4067-af96-4320-a35c-9c5a0e108950"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"3e7da7b1-a020-4649-8a7f-03c79351c35d"},"edge_type":"inherent","type":"","uuid":"8071bcb6-f635-4fef-b8c1-f909dadd6a29","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"e0bb4067-af96-4320-a35c-9c5a0e108950"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_db2def6e_1144_4d42_ba62_50adf9dc8da0","uuid":"d611310f-e367-4e37-b85b-ffdbd4211029"},"edge_type":"inherent","type":"","uuid":"02f13c6b-4126-419a-975f-cff50028f07f","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"3e7da7b1-a020-4649-8a7f-03c79351c35d"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_33816960_d3af_41d3_a631_752fa678e2c7","uuid":"e8da2bc9-2134-4c8a-b835-ac8c39421a19"},"edge_type":"inherent","type":"","uuid":"dc16c9db-51f3-45e0-ae51-76628fa3da85","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_e8c6c48b_bcf4_462b_86e0_20154a34e060","uuid":"47a3777f-5171-41f5-9b13-7e2cb0814d21"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_e8c6c48b_bcf4_462b_86e0_20154a34e060","uuid":"47a3777f-5171-41f5-9b13-7e2cb0814d21"},"edge_type":"inherent","type":"","uuid":"2ad00c43-7d03-4570-9279-4051ae70d5e0","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_db2def6e_1144_4d42_ba62_50adf9dc8da0","uuid":"d611310f-e367-4e37-b85b-ffdbd4211029"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_33816960_d3af_41d3_a631_752fa678e2c7"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"c56e12c0_deployment","uuid":"33816960-d3af-41d3-a631-752fa678e2c7"},"retries":"0","description":"","type":"CREATE_DEPLOYMENT_ELEMENT","uuid":"e8da2bc9-2134-4c8a-b835-ac8c39421a19","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Provision_33816960_d3af_41d3_a631_752fa678e2c7"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureMaster","uuid":"e8c6c48b-bcf4-462b-86e0-20154a34e060"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"47a3777f-5171-41f5-9b13-7e2cb0814d21","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"c56e12c0_deployment","uuid":"33816960-d3af-41d3-a631-752fa678e2c7"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_e8c6c48b_bcf4_462b_86e0_20154a34e060","uuid":"a518ed83-f94c-4bc8-bd6d-683a36ab451b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Substrate_e8c6c48b_bcf4_462b_86e0_20154a34e060"},{"target_any_local_reference":{"kind":"app_package","name":"AzureMasterPackage","uuid":"db2def6e-1144-4d42-ba62-50adf9dc8da0"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"d611310f-e367-4e37-b85b-ffdbd4211029","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"c56e12c0_deployment","uuid":"33816960-d3af-41d3-a631-752fa678e2c7"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_db2def6e_1144_4d42_ba62_50adf9dc8da0","uuid":"4e2864a8-e7e7-4b9c-9f68-9728fa543973"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_db2def6e_1144_4d42_ba62_50adf9dc8da0"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"3e7da7b1-a020-4649-8a7f-03c79351c35d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"c56e12c0_deployment","uuid":"33816960-d3af-41d3-a631-752fa678e2c7"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0a970522_runbook","uuid":"9866e43d-ff48-4abb-bade-7f5396ce551e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"e0bb4067-af96-4320-a35c-9c5a0e108950","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"c56e12c0_deployment","uuid":"33816960-d3af-41d3-a631-752fa678e2c7"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"5ddb28d1_runbook","uuid":"907290fe-eaef-465b-a916-7c2c67d20c97"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b"}],"description":"","message_list":[],"uuid":"cf194f40-cbfe-4083-8316-328d66f72959","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_33816960_d3af_41d3_a631_752fa678e2c7","uuid":"ba893231-c785-4869-bd71-174fca411118"},"name":"SYS_GEN__Runbook_Deployment_33816960_d3af_41d3_a631_752fa678e2c7"}},{"description":"System action for starting an application","message_list":[],"uuid":"231f3cd3-b3e8-443a-824b-3075b1fee077","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"c56e12c0_deployment","uuid":"33816960-d3af-41d3-a631-752fa678e2c7"},"retries":"0","description":"","type":"DAG","uuid":"6e8e053d-876a-42ef-b47b-c43d72c4af55","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_e8c6c48b_bcf4_462b_86e0_20154a34e060","uuid":"9ea2929f-a006-40ac-9921-03db0cfcc952"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"1655e13a-9ff8-4033-b2d2-3d03858b839a"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_e8c6c48b_bcf4_462b_86e0_20154a34e060","uuid":"9ea2929f-a006-40ac-9921-03db0cfcc952"},"edge_type":"inherent","type":"","uuid":"55068785-6030-4529-8341-71e33a215dea","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"1655e13a-9ff8-4033-b2d2-3d03858b839a"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_33816960_d3af_41d3_a631_752fa678e2c7"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureMaster","uuid":"e8c6c48b-bcf4-462b-86e0-20154a34e060"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"9ea2929f-a006-40ac-9921-03db0cfcc952","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"c56e12c0_deployment","uuid":"33816960-d3af-41d3-a631-752fa678e2c7"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_e8c6c48b_bcf4_462b_86e0_20154a34e060","uuid":"bee85942-7026-4e49-aa40-34e3c2babeec"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Substrate_e8c6c48b_bcf4_462b_86e0_20154a34e060"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"1655e13a-9ff8-4033-b2d2-3d03858b839a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"c56e12c0_deployment","uuid":"33816960-d3af-41d3-a631-752fa678e2c7"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"5ddb28d1_runbook","uuid":"907290fe-eaef-465b-a916-7c2c67d20c97"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b"}],"description":"","message_list":[],"uuid":"47a39b3d-6ae0-447e-aa88-0b090c38dd0c","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_33816960_d3af_41d3_a631_752fa678e2c7","uuid":"6e8e053d-876a-42ef-b47b-c43d72c4af55"},"name":"SYS_GEN__Runbook_Deployment_33816960_d3af_41d3_a631_752fa678e2c7"}},{"description":"System action for restarting an application","message_list":[],"uuid":"df0dad6c-ea61-46f7-8a1d-83940e535dcf","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"c56e12c0_deployment","uuid":"33816960-d3af-41d3-a631-752fa678e2c7"},"retries":"0","description":"","type":"DAG","uuid":"1b24ed95-044a-4a3a-a75b-d7a3a5cad018","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_e8c6c48b_bcf4_462b_86e0_20154a34e060","uuid":"422fbd88-c9a2-4d7b-b852-204ce0b58b69"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"2d7bb176-0b01-4f2a-bce1-ca11571072cc"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_e8c6c48b_bcf4_462b_86e0_20154a34e060","uuid":"422fbd88-c9a2-4d7b-b852-204ce0b58b69"},"edge_type":"inherent","type":"","uuid":"d1beb750-a3b4-43f7-a76b-521dd0d3ceca","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"2d7bb176-0b01-4f2a-bce1-ca11571072cc"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_33816960_d3af_41d3_a631_752fa678e2c7"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureMaster","uuid":"e8c6c48b-bcf4-462b-86e0-20154a34e060"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"422fbd88-c9a2-4d7b-b852-204ce0b58b69","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"c56e12c0_deployment","uuid":"33816960-d3af-41d3-a631-752fa678e2c7"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_e8c6c48b_bcf4_462b_86e0_20154a34e060","uuid":"150465de-6115-4fc9-a403-4e46a298e285"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Substrate_e8c6c48b_bcf4_462b_86e0_20154a34e060"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"2d7bb176-0b01-4f2a-bce1-ca11571072cc","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"c56e12c0_deployment","uuid":"33816960-d3af-41d3-a631-752fa678e2c7"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"7e709238_runbook","uuid":"e38aa3c5-d052-4d28-84e6-acfb09a6af83"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b"}],"description":"","message_list":[],"uuid":"196a608e-a309-4e0c-ad20-588ff623807d","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_33816960_d3af_41d3_a631_752fa678e2c7","uuid":"1b24ed95-044a-4a3a-a75b-d7a3a5cad018"},"name":"SYS_GEN__Runbook_Deployment_33816960_d3af_41d3_a631_752fa678e2c7"}},{"description":"System action for stopping an application","message_list":[],"uuid":"4acdd964-de4c-4773-9b9b-c408d05f77ec","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"c56e12c0_deployment","uuid":"33816960-d3af-41d3-a631-752fa678e2c7"},"retries":"0","description":"","type":"DAG","uuid":"da7131f9-e65d-47d2-a0d4-43a58142ad64","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"67b0ac44-f8d5-4114-98d3-f333971a26a7"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_e8c6c48b_bcf4_462b_86e0_20154a34e060","uuid":"2666db52-4e96-4db7-bb0e-0033087d492e"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"67b0ac44-f8d5-4114-98d3-f333971a26a7"},"edge_type":"inherent","type":"","uuid":"6259e1d4-5d68-491a-877f-8af4299b422c","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_e8c6c48b_bcf4_462b_86e0_20154a34e060","uuid":"2666db52-4e96-4db7-bb0e-0033087d492e"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_33816960_d3af_41d3_a631_752fa678e2c7"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"67b0ac44-f8d5-4114-98d3-f333971a26a7","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"c56e12c0_deployment","uuid":"33816960-d3af-41d3-a631-752fa678e2c7"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0aefbca3_runbook","uuid":"ce2a2858-b89b-4bb4-8fb3-ee8bd8a6bd3f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureMaster","uuid":"e8c6c48b-bcf4-462b-86e0-20154a34e060"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"2666db52-4e96-4db7-bb0e-0033087d492e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"c56e12c0_deployment","uuid":"33816960-d3af-41d3-a631-752fa678e2c7"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_e8c6c48b_bcf4_462b_86e0_20154a34e060","uuid":"b6fed449-400a-457c-9b8b-71a8f93cc85c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Substrate_e8c6c48b_bcf4_462b_86e0_20154a34e060"}],"description":"","message_list":[],"uuid":"8e3e5ce1-7b57-4ce8-83e7-450d90fcfbf2","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_33816960_d3af_41d3_a631_752fa678e2c7","uuid":"da7131f9-e65d-47d2-a0d4-43a58142ad64"},"name":"SYS_GEN__Runbook_Deployment_33816960_d3af_41d3_a631_752fa678e2c7"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"2c967ede-d692-40e6-9cb1-5551296433d0","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"c56e12c0_deployment","uuid":"33816960-d3af-41d3-a631-752fa678e2c7"},"retries":"0","description":"","type":"DAG","uuid":"2094c24b-932d-4c05-b368-b04f9c6250b9","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"2585c123-7483-43c7-af16-2ebb2169a293"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"94883474-8b3f-46f1-9317-d4fcb4ce8fda"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_db2def6e_1144_4d42_ba62_50adf9dc8da0","uuid":"0230bb30-376d-4329-9a27-a368efe3807a"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_e8c6c48b_bcf4_462b_86e0_20154a34e060","uuid":"32089e9e-b0d1-40a5-991f-32f68b33f48f"},{"kind":"app_task","name":"SYS_GEN__DE_Delete_33816960_d3af_41d3_a631_752fa678e2c7","uuid":"c189bcb2-710f-469e-b6f1-f9806ecf0127"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"2585c123-7483-43c7-af16-2ebb2169a293"},"edge_type":"inherent","type":"","uuid":"9d325acb-dde4-4879-83a5-df4e04d77d11","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"94883474-8b3f-46f1-9317-d4fcb4ce8fda"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"94883474-8b3f-46f1-9317-d4fcb4ce8fda"},"edge_type":"inherent","type":"","uuid":"8ff096dc-1717-4c19-a2c5-2d0d607bf2b1","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_db2def6e_1144_4d42_ba62_50adf9dc8da0","uuid":"0230bb30-376d-4329-9a27-a368efe3807a"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_db2def6e_1144_4d42_ba62_50adf9dc8da0","uuid":"0230bb30-376d-4329-9a27-a368efe3807a"},"edge_type":"inherent","type":"","uuid":"1960076b-9ce7-4e5b-84f9-7eacf54f1b5e","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_e8c6c48b_bcf4_462b_86e0_20154a34e060","uuid":"32089e9e-b0d1-40a5-991f-32f68b33f48f"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_e8c6c48b_bcf4_462b_86e0_20154a34e060","uuid":"32089e9e-b0d1-40a5-991f-32f68b33f48f"},"edge_type":"inherent","type":"","uuid":"651979c6-5dbf-48c2-b8a8-12b00d58389f","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Delete_33816960_d3af_41d3_a631_752fa678e2c7","uuid":"c189bcb2-710f-469e-b6f1-f9806ecf0127"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_33816960_d3af_41d3_a631_752fa678e2c7"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"2585c123-7483-43c7-af16-2ebb2169a293","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"c56e12c0_deployment","uuid":"33816960-d3af-41d3-a631-752fa678e2c7"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0aefbca3_runbook","uuid":"ce2a2858-b89b-4bb4-8fb3-ee8bd8a6bd3f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"94883474-8b3f-46f1-9317-d4fcb4ce8fda","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"c56e12c0_deployment","uuid":"33816960-d3af-41d3-a631-752fa678e2c7"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"5fd47ec3_runbook","uuid":"e410ef14-5f72-46ab-b7d5-0181621be34f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b"},{"target_any_local_reference":{"kind":"app_package","name":"AzureMasterPackage","uuid":"db2def6e-1144-4d42-ba62-50adf9dc8da0"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"0230bb30-376d-4329-9a27-a368efe3807a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"c56e12c0_deployment","uuid":"33816960-d3af-41d3-a631-752fa678e2c7"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_db2def6e_1144_4d42_ba62_50adf9dc8da0","uuid":"0234a208-0048-4346-b506-183b0cf9fedd"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_db2def6e_1144_4d42_ba62_50adf9dc8da0"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureMaster","uuid":"e8c6c48b-bcf4-462b-86e0-20154a34e060"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"32089e9e-b0d1-40a5-991f-32f68b33f48f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"c56e12c0_deployment","uuid":"33816960-d3af-41d3-a631-752fa678e2c7"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_e8c6c48b_bcf4_462b_86e0_20154a34e060","uuid":"dcd8daf1-54bb-45f0-b0f2-ccc67eea5c3a"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Substrate_e8c6c48b_bcf4_462b_86e0_20154a34e060"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"c56e12c0_deployment","uuid":"33816960-d3af-41d3-a631-752fa678e2c7"},"retries":"0","description":"","type":"DELETE_DEPLOYMENT_ELEMENT","uuid":"c189bcb2-710f-469e-b6f1-f9806ecf0127","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Delete_33816960_d3af_41d3_a631_752fa678e2c7"}],"description":"","message_list":[],"uuid":"7e21ee78-75ef-41cf-9d0b-8d68aa992331","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_33816960_d3af_41d3_a631_752fa678e2c7","uuid":"2094c24b-932d-4c05-b368-b04f9c6250b9"},"name":"SYS_GEN__Runbook_Deployment_33816960_d3af_41d3_a631_752fa678e2c7"}},{"description":"System action for scaleout","message_list":[],"uuid":"aa0453f3-5756-4df8-af9a-0c78a13f8cfe","name":"action_scaleout","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"c56e12c0_deployment","uuid":"33816960-d3af-41d3-a631-752fa678e2c7"},"retries":"0","description":"","type":"DAG","uuid":"84907410-32b5-407e-bc93-3db7ac279cb3","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Deployment_Scaleout_33816960_d3af_41d3_a631_752fa678e2c7","uuid":"5167d27a-e78f-420a-b5af-1a9ff4723d82"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_33816960_d3af_41d3_a631_752fa678e2c7"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"c56e12c0_deployment","uuid":"33816960-d3af-41d3-a631-752fa678e2c7"},"retries":"0","description":"","type":"SCALING","uuid":"5167d27a-e78f-420a-b5af-1a9ff4723d82","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{scaling_count}@@","type":"","scaling_type":"SCALEOUT"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Deployment_Scaleout_33816960_d3af_41d3_a631_752fa678e2c7"}],"description":"","message_list":[],"uuid":"3de05552-4638-48f5-9579-b65335ca9b78","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"bc7f53a3-bc1c-420f-a5c7-4e6629132cc6","value":"0","label":"","state":"NOT_VALIDATED","attrs":{},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"scaling_count"}],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_33816960_d3af_41d3_a631_752fa678e2c7","uuid":"84907410-32b5-407e-bc93-3db7ac279cb3"},"name":"SYS_GEN__Runbook_Deployment_33816960_d3af_41d3_a631_752fa678e2c7"}},{"description":"System action for scalein","message_list":[],"uuid":"da99251f-d834-444c-809f-34b2587ca84d","name":"action_scalein","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"c56e12c0_deployment","uuid":"33816960-d3af-41d3-a631-752fa678e2c7"},"retries":"0","description":"","type":"DAG","uuid":"418654e8-b150-4cfd-ba13-a5b370b51185","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Deployment_Scalein_33816960_d3af_41d3_a631_752fa678e2c7","uuid":"ec22ec28-d0d7-4045-8c0f-4e15b2d3e3f8"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_33816960_d3af_41d3_a631_752fa678e2c7"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"c56e12c0_deployment","uuid":"33816960-d3af-41d3-a631-752fa678e2c7"},"retries":"0","description":"","type":"SCALING","uuid":"ec22ec28-d0d7-4045-8c0f-4e15b2d3e3f8","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{scaling_count}@@","type":"","scaling_type":"SCALEIN"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Deployment_Scalein_33816960_d3af_41d3_a631_752fa678e2c7"}],"description":"","message_list":[],"uuid":"07074be0-73f3-4118-a35a-72240143a600","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"bc3aab96-fca0-4ca5-9630-5978f0fbca69","value":"0","label":"","state":"NOT_VALIDATED","attrs":{},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"scaling_count"}],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_33816960_d3af_41d3_a631_752fa678e2c7","uuid":"418654e8-b150-4cfd-ba13-a5b370b51185"},"name":"SYS_GEN__Runbook_Deployment_33816960_d3af_41d3_a631_752fa678e2c7"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"f2c3b947-e365-4a75-86ba-29c4894502ac","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"c56e12c0_deployment","uuid":"33816960-d3af-41d3-a631-752fa678e2c7"},"retries":"0","description":"","type":"DAG","uuid":"27e52f4e-1a62-4680-a941-bc2c3d649413","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"f6cd0053-4524-44c3-9a8e-0c25517af28f"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_db2def6e_1144_4d42_ba62_50adf9dc8da0","uuid":"20379dde-40c3-4c3c-b8f5-a37fc3ca3236"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_e8c6c48b_bcf4_462b_86e0_20154a34e060","uuid":"5c779722-7983-4c73-9d4d-8e601934ffe4"},{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_33816960_d3af_41d3_a631_752fa678e2c7","uuid":"fffee1d6-fd57-47f7-9e4f-39f94782083d"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"f6cd0053-4524-44c3-9a8e-0c25517af28f"},"edge_type":"inherent","type":"","uuid":"09ac0a35-a80c-4c78-828b-bfe31531f35a","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_db2def6e_1144_4d42_ba62_50adf9dc8da0","uuid":"20379dde-40c3-4c3c-b8f5-a37fc3ca3236"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_db2def6e_1144_4d42_ba62_50adf9dc8da0","uuid":"20379dde-40c3-4c3c-b8f5-a37fc3ca3236"},"edge_type":"inherent","type":"","uuid":"738da758-22e6-44c5-a5ef-55b2d67fdef8","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_e8c6c48b_bcf4_462b_86e0_20154a34e060","uuid":"5c779722-7983-4c73-9d4d-8e601934ffe4"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_e8c6c48b_bcf4_462b_86e0_20154a34e060","uuid":"5c779722-7983-4c73-9d4d-8e601934ffe4"},"edge_type":"inherent","type":"","uuid":"00004d4c-9e4e-444e-93a6-ff445271c990","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_33816960_d3af_41d3_a631_752fa678e2c7","uuid":"fffee1d6-fd57-47f7-9e4f-39f94782083d"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_33816960_d3af_41d3_a631_752fa678e2c7"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"f6cd0053-4524-44c3-9a8e-0c25517af28f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"c56e12c0_deployment","uuid":"33816960-d3af-41d3-a631-752fa678e2c7"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"b9b6e25b-f9f5-473d-8c7e-6fcb8b23a4da"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b"},{"target_any_local_reference":{"kind":"app_package","name":"AzureMasterPackage","uuid":"db2def6e-1144-4d42-ba62-50adf9dc8da0"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"20379dde-40c3-4c3c-b8f5-a37fc3ca3236","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_db2def6e_1144_4d42_ba62_50adf9dc8da0"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureMaster","uuid":"e8c6c48b-bcf4-462b-86e0-20154a34e060"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"5c779722-7983-4c73-9d4d-8e601934ffe4","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"c56e12c0_deployment","uuid":"33816960-d3af-41d3-a631-752fa678e2c7"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_e8c6c48b_bcf4_462b_86e0_20154a34e060","uuid":"5190e197-491d-4401-af87-85bed03fa76f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Substrate_e8c6c48b_bcf4_462b_86e0_20154a34e060"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"c56e12c0_deployment","uuid":"33816960-d3af-41d3-a631-752fa678e2c7"},"retries":"0","description":"","type":"SOFT_DELETE_DEPLOYMENT_ELEMENT","uuid":"fffee1d6-fd57-47f7-9e4f-39f94782083d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Soft_Delete_33816960_d3af_41d3_a631_752fa678e2c7"}],"description":"","message_list":[],"uuid":"d686d6f8-09a9-459e-a538-7a34479f0e54","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_33816960_d3af_41d3_a631_752fa678e2c7","uuid":"27e52f4e-1a62-4680-a941-bc2c3d649413"},"name":"SYS_GEN__Runbook_Deployment_33816960_d3af_41d3_a631_752fa678e2c7"}}],"message_list":[],"published_service_local_reference_list":[],"uuid":"33816960-d3af-41d3-a631-752fa678e2c7","min_replicas":"1","state":"DRAFT","max_replicas":"1","depends_on_list":[],"editables":{},"package_local_reference_list":[{"kind":"app_package","name":"AzureMasterPackage","uuid":"db2def6e-1144-4d42-ba62-50adf9dc8da0"}],"substrate_local_reference":{"kind":"app_substrate","name":"AzureMaster","uuid":"e8c6c48b-bcf4-462b-86e0-20154a34e060"},"type":"GREENFIELD","options":{},"variable_list":[],"name":"c56e12c0_deployment"},{"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"0506187f-1675-4101-a512-c0335b0d243c","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"76a24a99-6f80-4ccd-9572-bd287e82a66a"},"retries":"0","description":"","type":"DAG","uuid":"ca42d23b-a647-479f-a66a-a818fb73823d","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__DE_Provision_76a24a99_6f80_4ccd_9572_bd287e82a66a","uuid":"8240e96f-130e-46f4-96a3-2c7169224fda"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_e5d45669_ba56_4079_9064_7e7fc91e3365","uuid":"792eaeba-ae30-4a3b-8c89-83c3b2ca58e0"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_1f8977ca_1cbd_4b0d_855e_cb9d66009669","uuid":"d763ad53-bfc9-4e36-bb27-036470aefdc0"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"725961f5-a9c7-444b-8b35-18d215a1c0e8"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"fd876015-19d8-49bd-a546-b7768bc08fb3"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"725961f5-a9c7-444b-8b35-18d215a1c0e8"},"edge_type":"inherent","type":"","uuid":"bf875437-faf8-4168-9e06-ad9529c88284","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"fd876015-19d8-49bd-a546-b7768bc08fb3"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_1f8977ca_1cbd_4b0d_855e_cb9d66009669","uuid":"d763ad53-bfc9-4e36-bb27-036470aefdc0"},"edge_type":"inherent","type":"","uuid":"6f097c36-28db-4153-b536-6083f5c14c6d","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"725961f5-a9c7-444b-8b35-18d215a1c0e8"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_76a24a99_6f80_4ccd_9572_bd287e82a66a","uuid":"8240e96f-130e-46f4-96a3-2c7169224fda"},"edge_type":"inherent","type":"","uuid":"43fb71c9-8252-46b2-913d-0298b0ae8dbd","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_e5d45669_ba56_4079_9064_7e7fc91e3365","uuid":"792eaeba-ae30-4a3b-8c89-83c3b2ca58e0"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_e5d45669_ba56_4079_9064_7e7fc91e3365","uuid":"792eaeba-ae30-4a3b-8c89-83c3b2ca58e0"},"edge_type":"inherent","type":"","uuid":"82a0e951-f482-42f9-917d-8f7f63ad4a63","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_1f8977ca_1cbd_4b0d_855e_cb9d66009669","uuid":"d763ad53-bfc9-4e36-bb27-036470aefdc0"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_76a24a99_6f80_4ccd_9572_bd287e82a66a"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"76a24a99-6f80-4ccd-9572-bd287e82a66a"},"retries":"0","description":"","type":"CREATE_DEPLOYMENT_ELEMENT","uuid":"8240e96f-130e-46f4-96a3-2c7169224fda","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Provision_76a24a99_6f80_4ccd_9572_bd287e82a66a"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureSlave","uuid":"e5d45669-ba56-4079-9064-7e7fc91e3365"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"792eaeba-ae30-4a3b-8c89-83c3b2ca58e0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"76a24a99-6f80-4ccd-9572-bd287e82a66a"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_e5d45669_ba56_4079_9064_7e7fc91e3365","uuid":"87714299-ac11-475e-8a54-cfc996824494"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Substrate_e5d45669_ba56_4079_9064_7e7fc91e3365"},{"target_any_local_reference":{"kind":"app_package","name":"AzureSlavePackage","uuid":"1f8977ca-1cbd-4b0d-855e-cb9d66009669"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"d763ad53-bfc9-4e36-bb27-036470aefdc0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"76a24a99-6f80-4ccd-9572-bd287e82a66a"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_1f8977ca_1cbd_4b0d_855e_cb9d66009669","uuid":"4c4d7fcb-412a-4b48-8697-441d2786bb8e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_1f8977ca_1cbd_4b0d_855e_cb9d66009669"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"725961f5-a9c7-444b-8b35-18d215a1c0e8","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"76a24a99-6f80-4ccd-9572-bd287e82a66a"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"d54168c9_runbook","uuid":"d9d72b08-90b4-46c2-a771-6d338abb4bc3"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"fd876015-19d8-49bd-a546-b7768bc08fb3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"76a24a99-6f80-4ccd-9572-bd287e82a66a"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"a027cde0_runbook","uuid":"557651c0-2ccf-45cb-beb3-9f2028221b2e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d"}],"description":"","message_list":[],"uuid":"aee99b2a-ec1b-4fb1-a201-bfbd3d7d95b5","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_76a24a99_6f80_4ccd_9572_bd287e82a66a","uuid":"ca42d23b-a647-479f-a66a-a818fb73823d"},"name":"SYS_GEN__Runbook_Deployment_76a24a99_6f80_4ccd_9572_bd287e82a66a"}},{"description":"System action for starting an application","message_list":[],"uuid":"3fe258f4-b080-415a-889a-1f9314bee1cc","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"76a24a99-6f80-4ccd-9572-bd287e82a66a"},"retries":"0","description":"","type":"DAG","uuid":"7c87fcdf-298d-4f85-9334-b1c97aaf4dd4","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_e5d45669_ba56_4079_9064_7e7fc91e3365","uuid":"87b034f3-8036-4c3f-847c-c992d79f9772"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"4d6d001a-2529-4071-926f-af07188585ba"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_e5d45669_ba56_4079_9064_7e7fc91e3365","uuid":"87b034f3-8036-4c3f-847c-c992d79f9772"},"edge_type":"inherent","type":"","uuid":"b7d50f85-889b-42db-b23d-2a3e933dea2d","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"4d6d001a-2529-4071-926f-af07188585ba"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_76a24a99_6f80_4ccd_9572_bd287e82a66a"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureSlave","uuid":"e5d45669-ba56-4079-9064-7e7fc91e3365"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"87b034f3-8036-4c3f-847c-c992d79f9772","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"76a24a99-6f80-4ccd-9572-bd287e82a66a"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_e5d45669_ba56_4079_9064_7e7fc91e3365","uuid":"95a65dbf-7ee3-44d7-808f-34a8c78607a6"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Substrate_e5d45669_ba56_4079_9064_7e7fc91e3365"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"4d6d001a-2529-4071-926f-af07188585ba","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"76a24a99-6f80-4ccd-9572-bd287e82a66a"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"a027cde0_runbook","uuid":"557651c0-2ccf-45cb-beb3-9f2028221b2e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d"}],"description":"","message_list":[],"uuid":"c1c52896-2595-4492-9a52-a72127125c85","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_76a24a99_6f80_4ccd_9572_bd287e82a66a","uuid":"7c87fcdf-298d-4f85-9334-b1c97aaf4dd4"},"name":"SYS_GEN__Runbook_Deployment_76a24a99_6f80_4ccd_9572_bd287e82a66a"}},{"description":"System action for restarting an application","message_list":[],"uuid":"33d30e05-59e2-4816-81ea-ee5b184a8a0b","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"76a24a99-6f80-4ccd-9572-bd287e82a66a"},"retries":"0","description":"","type":"DAG","uuid":"d9707f5c-aacb-4ee4-8547-9ef488bad322","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_e5d45669_ba56_4079_9064_7e7fc91e3365","uuid":"6f06189b-05c5-43df-9c49-68db77b2fd2c"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"b9bb5fc7-5bdc-49f9-85ad-5430f5e3ec2c"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_e5d45669_ba56_4079_9064_7e7fc91e3365","uuid":"6f06189b-05c5-43df-9c49-68db77b2fd2c"},"edge_type":"inherent","type":"","uuid":"24b36b19-eb14-45c2-8114-5b12dec3cada","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"b9bb5fc7-5bdc-49f9-85ad-5430f5e3ec2c"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_76a24a99_6f80_4ccd_9572_bd287e82a66a"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureSlave","uuid":"e5d45669-ba56-4079-9064-7e7fc91e3365"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"6f06189b-05c5-43df-9c49-68db77b2fd2c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"76a24a99-6f80-4ccd-9572-bd287e82a66a"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_e5d45669_ba56_4079_9064_7e7fc91e3365","uuid":"78353d4f-fbf1-4f3f-a39f-fc1b6d52d13f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Substrate_e5d45669_ba56_4079_9064_7e7fc91e3365"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"b9bb5fc7-5bdc-49f9-85ad-5430f5e3ec2c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"76a24a99-6f80-4ccd-9572-bd287e82a66a"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"f2b2a076_runbook","uuid":"d30fe7b4-3486-4f8a-a3b8-e08401237ee7"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d"}],"description":"","message_list":[],"uuid":"2128aa0d-6548-4f8c-a78b-62ca3b589976","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_76a24a99_6f80_4ccd_9572_bd287e82a66a","uuid":"d9707f5c-aacb-4ee4-8547-9ef488bad322"},"name":"SYS_GEN__Runbook_Deployment_76a24a99_6f80_4ccd_9572_bd287e82a66a"}},{"description":"System action for stopping an application","message_list":[],"uuid":"40b5cec7-c182-413e-93cb-d5dcf84ff2b8","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"76a24a99-6f80-4ccd-9572-bd287e82a66a"},"retries":"0","description":"","type":"DAG","uuid":"88c01809-8999-4920-9582-c50d3c8f11b9","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"a5c93d11-b644-4d36-8eb1-b22f9a5fbaf3"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_e5d45669_ba56_4079_9064_7e7fc91e3365","uuid":"608f9acf-a8e2-4939-b9a1-0ffa1215cd94"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"a5c93d11-b644-4d36-8eb1-b22f9a5fbaf3"},"edge_type":"inherent","type":"","uuid":"68aade75-6265-4ba1-b0d6-d26c1b1a85c1","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_e5d45669_ba56_4079_9064_7e7fc91e3365","uuid":"608f9acf-a8e2-4939-b9a1-0ffa1215cd94"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_76a24a99_6f80_4ccd_9572_bd287e82a66a"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"a5c93d11-b644-4d36-8eb1-b22f9a5fbaf3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"76a24a99-6f80-4ccd-9572-bd287e82a66a"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"4a2ad0be_runbook","uuid":"d405c9d6-da96-4365-b171-e7ffb7e6b913"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureSlave","uuid":"e5d45669-ba56-4079-9064-7e7fc91e3365"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"608f9acf-a8e2-4939-b9a1-0ffa1215cd94","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"76a24a99-6f80-4ccd-9572-bd287e82a66a"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_e5d45669_ba56_4079_9064_7e7fc91e3365","uuid":"53314c87-d0f3-476f-afc3-372ce6daa2c1"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Substrate_e5d45669_ba56_4079_9064_7e7fc91e3365"}],"description":"","message_list":[],"uuid":"9fe3394e-ef82-4397-a4cc-c02e89757a88","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_76a24a99_6f80_4ccd_9572_bd287e82a66a","uuid":"88c01809-8999-4920-9582-c50d3c8f11b9"},"name":"SYS_GEN__Runbook_Deployment_76a24a99_6f80_4ccd_9572_bd287e82a66a"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"cbfaaa17-28e7-43e7-abf3-ed889dc98b79","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"76a24a99-6f80-4ccd-9572-bd287e82a66a"},"retries":"0","description":"","type":"DAG","uuid":"b123f1ae-2fe7-48f7-bb5e-93ae66c9e0e7","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"cca41970-8d74-4027-9243-5d2bdb782843"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"f7a78c50-65e4-41ac-9628-11bfc49d506d"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_1f8977ca_1cbd_4b0d_855e_cb9d66009669","uuid":"28bf31b3-aa51-4592-8f52-1325d46d20dc"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_e5d45669_ba56_4079_9064_7e7fc91e3365","uuid":"cf852365-2696-464f-b5c6-1308b919a600"},{"kind":"app_task","name":"SYS_GEN__DE_Delete_76a24a99_6f80_4ccd_9572_bd287e82a66a","uuid":"a77f40bd-b8e3-4ad2-8cf3-767f7e88dc0b"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"cca41970-8d74-4027-9243-5d2bdb782843"},"edge_type":"inherent","type":"","uuid":"3d1e056b-20bc-4f62-b291-382432482105","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"f7a78c50-65e4-41ac-9628-11bfc49d506d"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"f7a78c50-65e4-41ac-9628-11bfc49d506d"},"edge_type":"inherent","type":"","uuid":"73814dd1-462a-49ec-9bfd-f353c94f214f","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_1f8977ca_1cbd_4b0d_855e_cb9d66009669","uuid":"28bf31b3-aa51-4592-8f52-1325d46d20dc"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_e5d45669_ba56_4079_9064_7e7fc91e3365","uuid":"cf852365-2696-464f-b5c6-1308b919a600"},"edge_type":"inherent","type":"","uuid":"ead8e23e-119a-4ce0-8492-247c18e3eae4","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Delete_76a24a99_6f80_4ccd_9572_bd287e82a66a","uuid":"a77f40bd-b8e3-4ad2-8cf3-767f7e88dc0b"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_1f8977ca_1cbd_4b0d_855e_cb9d66009669","uuid":"28bf31b3-aa51-4592-8f52-1325d46d20dc"},"edge_type":"inherent","type":"","uuid":"390bd939-0361-4425-a713-61fc7d122ca2","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_e5d45669_ba56_4079_9064_7e7fc91e3365","uuid":"cf852365-2696-464f-b5c6-1308b919a600"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_76a24a99_6f80_4ccd_9572_bd287e82a66a"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"cca41970-8d74-4027-9243-5d2bdb782843","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"76a24a99-6f80-4ccd-9572-bd287e82a66a"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"4a2ad0be_runbook","uuid":"d405c9d6-da96-4365-b171-e7ffb7e6b913"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"f7a78c50-65e4-41ac-9628-11bfc49d506d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"76a24a99-6f80-4ccd-9572-bd287e82a66a"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"92247e35_runbook","uuid":"c1fdda9f-aaee-4b0d-899f-a32eb5819a33"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d"},{"target_any_local_reference":{"kind":"app_package","name":"AzureSlavePackage","uuid":"1f8977ca-1cbd-4b0d-855e-cb9d66009669"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"28bf31b3-aa51-4592-8f52-1325d46d20dc","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"76a24a99-6f80-4ccd-9572-bd287e82a66a"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_1f8977ca_1cbd_4b0d_855e_cb9d66009669","uuid":"77ebe7bd-5322-4b9b-b693-49d52d4c28a6"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_1f8977ca_1cbd_4b0d_855e_cb9d66009669"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureSlave","uuid":"e5d45669-ba56-4079-9064-7e7fc91e3365"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"cf852365-2696-464f-b5c6-1308b919a600","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"76a24a99-6f80-4ccd-9572-bd287e82a66a"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_e5d45669_ba56_4079_9064_7e7fc91e3365","uuid":"628d4e20-6e1a-460a-8661-7358f35944bb"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Substrate_e5d45669_ba56_4079_9064_7e7fc91e3365"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"76a24a99-6f80-4ccd-9572-bd287e82a66a"},"retries":"0","description":"","type":"DELETE_DEPLOYMENT_ELEMENT","uuid":"a77f40bd-b8e3-4ad2-8cf3-767f7e88dc0b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Delete_76a24a99_6f80_4ccd_9572_bd287e82a66a"}],"description":"","message_list":[],"uuid":"0fdd8b4f-90c6-477d-a291-5649bd2bd253","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_76a24a99_6f80_4ccd_9572_bd287e82a66a","uuid":"b123f1ae-2fe7-48f7-bb5e-93ae66c9e0e7"},"name":"SYS_GEN__Runbook_Deployment_76a24a99_6f80_4ccd_9572_bd287e82a66a"}},{"description":"System action for scaleout","message_list":[],"uuid":"f5d8399c-4e1c-42a0-9b33-3317227c46bc","name":"action_scaleout","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"76a24a99-6f80-4ccd-9572-bd287e82a66a"},"retries":"0","description":"","type":"DAG","uuid":"e308bb8d-fc35-4ce9-8411-078c2df29e97","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Deployment_Scaleout_76a24a99_6f80_4ccd_9572_bd287e82a66a","uuid":"029710c9-4060-43c3-8c1c-1176a17e283e"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_76a24a99_6f80_4ccd_9572_bd287e82a66a"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"76a24a99-6f80-4ccd-9572-bd287e82a66a"},"retries":"0","description":"","type":"SCALING","uuid":"029710c9-4060-43c3-8c1c-1176a17e283e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{scaling_count}@@","type":"","scaling_type":"SCALEOUT"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Deployment_Scaleout_76a24a99_6f80_4ccd_9572_bd287e82a66a"}],"description":"","message_list":[],"uuid":"f95faf90-1263-49e2-9f44-dae6e1bb3c5e","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"b6b134f6-29f9-4432-afb7-4c0de507a567","value":"0","label":"","state":"NOT_VALIDATED","attrs":{},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"scaling_count"}],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_76a24a99_6f80_4ccd_9572_bd287e82a66a","uuid":"e308bb8d-fc35-4ce9-8411-078c2df29e97"},"name":"SYS_GEN__Runbook_Deployment_76a24a99_6f80_4ccd_9572_bd287e82a66a"}},{"description":"System action for scalein","message_list":[],"uuid":"0c8f4c70-091d-4b6b-a49f-77fe75c61da9","name":"action_scalein","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"76a24a99-6f80-4ccd-9572-bd287e82a66a"},"retries":"0","description":"","type":"DAG","uuid":"7fda4118-fb7d-41ee-8289-3d09161a9c57","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Deployment_Scalein_76a24a99_6f80_4ccd_9572_bd287e82a66a","uuid":"308d4694-7580-4ac7-8dff-d631399720f2"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_76a24a99_6f80_4ccd_9572_bd287e82a66a"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"76a24a99-6f80-4ccd-9572-bd287e82a66a"},"retries":"0","description":"","type":"SCALING","uuid":"308d4694-7580-4ac7-8dff-d631399720f2","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{scaling_count}@@","type":"","scaling_type":"SCALEIN"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Deployment_Scalein_76a24a99_6f80_4ccd_9572_bd287e82a66a"}],"description":"","message_list":[],"uuid":"367080f0-eca7-4131-9166-411d209b4cc9","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"1aed8f41-eb36-49f9-ae6c-9ce292c27b93","value":"0","label":"","state":"NOT_VALIDATED","attrs":{},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"scaling_count"}],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_76a24a99_6f80_4ccd_9572_bd287e82a66a","uuid":"7fda4118-fb7d-41ee-8289-3d09161a9c57"},"name":"SYS_GEN__Runbook_Deployment_76a24a99_6f80_4ccd_9572_bd287e82a66a"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"50fb4b04-67e9-4ccd-a77e-ffccd5ff1992","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"76a24a99-6f80-4ccd-9572-bd287e82a66a"},"retries":"0","description":"","type":"DAG","uuid":"8663f150-523a-43ea-95ee-7073e3594478","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"052190f2-1154-4185-9033-4a0958f6043a"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_1f8977ca_1cbd_4b0d_855e_cb9d66009669","uuid":"b7f7caf3-87cc-492d-85c0-826111464724"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_e5d45669_ba56_4079_9064_7e7fc91e3365","uuid":"3a442428-2365-41b6-9e4f-df8af5ec6f79"},{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_76a24a99_6f80_4ccd_9572_bd287e82a66a","uuid":"ce2e0e59-9424-4678-bdc3-49ec4d207518"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"052190f2-1154-4185-9033-4a0958f6043a"},"edge_type":"inherent","type":"","uuid":"7d59d8cd-ee8a-47a9-85a1-1732bf0fd680","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_1f8977ca_1cbd_4b0d_855e_cb9d66009669","uuid":"b7f7caf3-87cc-492d-85c0-826111464724"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_e5d45669_ba56_4079_9064_7e7fc91e3365","uuid":"3a442428-2365-41b6-9e4f-df8af5ec6f79"},"edge_type":"inherent","type":"","uuid":"c611fff3-0f71-4a53-ba30-c4013c7948ed","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_76a24a99_6f80_4ccd_9572_bd287e82a66a","uuid":"ce2e0e59-9424-4678-bdc3-49ec4d207518"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_1f8977ca_1cbd_4b0d_855e_cb9d66009669","uuid":"b7f7caf3-87cc-492d-85c0-826111464724"},"edge_type":"inherent","type":"","uuid":"67d883ee-c5d9-4e98-9518-8644ffc73021","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_e5d45669_ba56_4079_9064_7e7fc91e3365","uuid":"3a442428-2365-41b6-9e4f-df8af5ec6f79"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_76a24a99_6f80_4ccd_9572_bd287e82a66a"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"052190f2-1154-4185-9033-4a0958f6043a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"76a24a99-6f80-4ccd-9572-bd287e82a66a"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"9cb9ecf0-89cd-4611-812d-2535c64945cf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d"},{"target_any_local_reference":{"kind":"app_package","name":"AzureSlavePackage","uuid":"1f8977ca-1cbd-4b0d-855e-cb9d66009669"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"b7f7caf3-87cc-492d-85c0-826111464724","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_1f8977ca_1cbd_4b0d_855e_cb9d66009669"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureSlave","uuid":"e5d45669-ba56-4079-9064-7e7fc91e3365"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"3a442428-2365-41b6-9e4f-df8af5ec6f79","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"76a24a99-6f80-4ccd-9572-bd287e82a66a"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_e5d45669_ba56_4079_9064_7e7fc91e3365","uuid":"477b865e-757a-4e80-9b63-300263450bca"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Substrate_e5d45669_ba56_4079_9064_7e7fc91e3365"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"76a24a99-6f80-4ccd-9572-bd287e82a66a"},"retries":"0","description":"","type":"SOFT_DELETE_DEPLOYMENT_ELEMENT","uuid":"ce2e0e59-9424-4678-bdc3-49ec4d207518","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Soft_Delete_76a24a99_6f80_4ccd_9572_bd287e82a66a"}],"description":"","message_list":[],"uuid":"5994b66c-c0e7-4af4-ada9-f4e1502dc941","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_76a24a99_6f80_4ccd_9572_bd287e82a66a","uuid":"8663f150-523a-43ea-95ee-7073e3594478"},"name":"SYS_GEN__Runbook_Deployment_76a24a99_6f80_4ccd_9572_bd287e82a66a"}}],"message_list":[],"published_service_local_reference_list":[],"uuid":"76a24a99-6f80-4ccd-9572-bd287e82a66a","min_replicas":"1","state":"DRAFT","max_replicas":"3","depends_on_list":[],"editables":{"min_replicas":true,"max_replicas":true},"package_local_reference_list":[{"kind":"app_package","name":"AzureSlavePackage","uuid":"1f8977ca-1cbd-4b0d-855e-cb9d66009669"}],"substrate_local_reference":{"kind":"app_substrate","name":"AzureSlave","uuid":"e5d45669-ba56-4079-9064-7e7fc91e3365"},"type":"GREENFIELD","options":{},"variable_list":[],"name":"797414cb_deployment"}],"description":"","action_list":[{"description":"","message_list":[],"uuid":"72aaed42-f260-4209-85b4-04376d6a63d7","name":"Backup","state":"ACTIVE","critical":false,"attrs":{},"type":"user","runbook":{"task_definition_list":[{"retries":"0","description":"","type":"DAG","uuid":"b83eb07e-60fa-4760-8e7d-251efa2bcd0a","child_tasks_local_reference_list":[{"kind":"app_task","name":"DB Backup","uuid":"b0af933a-f95e-4478-ab5f-872a840f942d"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"966ad697_dag"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"EXEC","uuid":"b0af933a-f95e-4478-ab5f-872a840f942d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\n\n### Setup variables\nmysql_password=\"@@{MYSQL_PASSWORD}@@\"\ndate_part=`date +%F`\nmkdir -p @@{BACKUP_FILE_PATH}@@\nsudo mysqldump -u root -p${mysql_password} --all-databases | sudo gzip -9 > @@{BACKUP_FILE_PATH}@@\/db_dump.sql.gz"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"DB Backup"}],"description":"","message_list":[],"uuid":"b852d0f4-855e-4e22-a1af-018fb131a329","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"71922899-5910-41ad-aa3b-c1436ef1091e","value":"~\/db_backup","label":"","state":"NOT_VALIDATED","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"BACKUP_FILE_PATH"}],"main_task_local_reference":{"kind":"app_task","name":"966ad697_dag","uuid":"b83eb07e-60fa-4760-8e7d-251efa2bcd0a"},"name":"f1e44022_runbook"}},{"description":"","message_list":[],"uuid":"ef327331-a1dd-4c57-8a50-d95935424da5","name":"Restore","state":"ACTIVE","critical":false,"attrs":{},"type":"user","runbook":{"task_definition_list":[{"retries":"0","description":"","type":"DAG","uuid":"9e3c79b3-b27c-401b-ad71-b2443d8aa2de","child_tasks_local_reference_list":[{"kind":"app_task","name":"DB Restore","uuid":"49d4bbc0-8f35-4b1f-b1bf-55ee668a984b"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"5ed684d9_dag"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"EXEC","uuid":"49d4bbc0-8f35-4b1f-b1bf-55ee668a984b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\n\n### Setup variables\nmysql_password=\"@@{MYSQL_PASSWORD}@@\"\ndb_file=@@{RESTORE_FILE_PATH}@@\n\nsudo gunzip < $db_file | sudo mysql -u root -p${mysql_password} "},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"DB Restore"}],"description":"","message_list":[],"uuid":"2804879a-984d-4c21-9bf2-7ae92f18a888","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"ff7e3f3c-4c49-4f90-a780-fc44824216f6","value":"~\/db_backup\/db_dump.sql.gz","label":"","state":"NOT_VALIDATED","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"RESTORE_FILE_PATH"}],"main_task_local_reference":{"kind":"app_task","name":"5ed684d9_dag","uuid":"9e3c79b3-b27c-401b-ad71-b2443d8aa2de"},"name":"70027c7e_runbook"}},{"description":"","message_list":[],"uuid":"522dd682-0a80-42de-8712-5b432f951c3b","name":"ScaleOut","state":"ACTIVE","critical":false,"attrs":{},"type":"user","runbook":{"task_definition_list":[{"retries":"0","description":"","type":"DAG","uuid":"c86d610a-e079-4062-81bd-af3f55c9addf","child_tasks_local_reference_list":[{"kind":"app_task","name":"ScaleOut","uuid":"e8930e6d-6c6b-4ea5-832d-2815a22be95e"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"68006bbc_dag"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"76a24a99-6f80-4ccd-9572-bd287e82a66a"},"retries":"0","description":"","type":"SCALING","uuid":"e8930e6d-6c6b-4ea5-832d-2815a22be95e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{COUNT}@@","type":"","scaling_type":"SCALEOUT"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"ScaleOut"}],"description":"","message_list":[],"uuid":"fcfbbeda-ed2e-44fe-afd9-6d26fc9ccc1c","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"f14ec596-f470-4355-b975-1dfc0ecc64c2","value":"1","label":"","state":"NOT_VALIDATED","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"COUNT"}],"main_task_local_reference":{"kind":"app_task","name":"68006bbc_dag","uuid":"c86d610a-e079-4062-81bd-af3f55c9addf"},"name":"7b41b938_runbook"}},{"description":"","message_list":[],"uuid":"9d02bea1-7428-4f5c-8948-962e4daa0391","name":"ScaleIn","state":"ACTIVE","critical":false,"attrs":{},"type":"user","runbook":{"task_definition_list":[{"retries":"0","description":"","type":"DAG","uuid":"f01d3722-d0d8-4bb5-95b3-473b77a1e4c3","child_tasks_local_reference_list":[{"kind":"app_task","name":"Scale In","uuid":"1d6113d6-fc7f-4937-8773-dabba8330ed4"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"b337ca9d_dag"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"76a24a99-6f80-4ccd-9572-bd287e82a66a"},"retries":"0","description":"","type":"SCALING","uuid":"1d6113d6-fc7f-4937-8773-dabba8330ed4","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{COUNT}@@","type":"","scaling_type":"SCALEIN"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Scale In"}],"description":"","message_list":[],"uuid":"567ec61a-22d0-4d05-8082-9941e43ec303","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"c17b92c4-d92b-4f93-be71-ebc3d2a165aa","value":"1","label":"","state":"NOT_VALIDATED","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"COUNT"}],"main_task_local_reference":{"kind":"app_task","name":"b337ca9d_dag","uuid":"f01d3722-d0d8-4bb5-95b3-473b77a1e4c3"},"name":"c0c7671a_runbook"}},{"description":"System action for creating an application","message_list":[],"uuid":"2afc7c8d-7415-4282-aff0-2edd2c0f0e5b","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"Azure","uuid":"d4a51fdc-3a79-492f-b12b-19bad0116251"},"retries":"0","description":"","type":"DAG","uuid":"6db2b074-7097-4f37-9c24-2ae398985e4c","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__DE_Provision_33816960_d3af_41d3_a631_752fa678e2c7","uuid":"eb5d8fd4-41f8-42dd-bee5-e94fb6bbabef"},{"kind":"app_task","name":"SYS_GEN__DE_Provision_76a24a99_6f80_4ccd_9572_bd287e82a66a","uuid":"12f5fc4b-4cd7-4578-83c7-68eb59b8b223"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_e8c6c48b_bcf4_462b_86e0_20154a34e060","uuid":"11bd90a2-7ea3-4ca9-b83c-5792013f3294"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_e5d45669_ba56_4079_9064_7e7fc91e3365","uuid":"12b2c047-6919-43ec-b10a-be8ba1be14da"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_db2def6e_1144_4d42_ba62_50adf9dc8da0","uuid":"41e7596e-1111-4a7c-8511-75fdf4955c25"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_1f8977ca_1cbd_4b0d_855e_cb9d66009669","uuid":"dba5259b-af96-477b-bafb-9b4063fc834f"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"c25221ab-a160-41d0-9e33-13e756407236"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"e52e43e1-8d21-4e7a-b0cc-1930ec7e2240"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"3ad2205d-80db-4157-b3b7-df3d4fda8b6d"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"564ff2b7-5882-4a0d-94c3-3bcb5f6a3aff"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"c25221ab-a160-41d0-9e33-13e756407236"},"edge_type":"inherent","type":"","uuid":"4cc5f157-0181-4a23-9a5e-80ae96d8fa0f","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"e52e43e1-8d21-4e7a-b0cc-1930ec7e2240"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_db2def6e_1144_4d42_ba62_50adf9dc8da0","uuid":"41e7596e-1111-4a7c-8511-75fdf4955c25"},"edge_type":"inherent","type":"","uuid":"c324f9c9-4c7a-4501-a462-ed305e832228","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"c25221ab-a160-41d0-9e33-13e756407236"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_33816960_d3af_41d3_a631_752fa678e2c7","uuid":"eb5d8fd4-41f8-42dd-bee5-e94fb6bbabef"},"edge_type":"inherent","type":"","uuid":"26196bef-978e-494d-a424-65579d5803c6","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_e8c6c48b_bcf4_462b_86e0_20154a34e060","uuid":"11bd90a2-7ea3-4ca9-b83c-5792013f3294"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_e8c6c48b_bcf4_462b_86e0_20154a34e060","uuid":"11bd90a2-7ea3-4ca9-b83c-5792013f3294"},"edge_type":"inherent","type":"","uuid":"6481eb7c-d578-48c0-a2a7-849c9efc1b41","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_db2def6e_1144_4d42_ba62_50adf9dc8da0","uuid":"41e7596e-1111-4a7c-8511-75fdf4955c25"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"3ad2205d-80db-4157-b3b7-df3d4fda8b6d"},"edge_type":"inherent","type":"","uuid":"42c88bee-9a55-49b3-9e77-881fbb01cde4","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"564ff2b7-5882-4a0d-94c3-3bcb5f6a3aff"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_1f8977ca_1cbd_4b0d_855e_cb9d66009669","uuid":"dba5259b-af96-477b-bafb-9b4063fc834f"},"edge_type":"inherent","type":"","uuid":"e260a6e4-5f12-4006-9c8b-5b5af0e40c8d","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"3ad2205d-80db-4157-b3b7-df3d4fda8b6d"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_76a24a99_6f80_4ccd_9572_bd287e82a66a","uuid":"12f5fc4b-4cd7-4578-83c7-68eb59b8b223"},"edge_type":"inherent","type":"","uuid":"bded000c-c430-4563-9703-86d0f373b23e","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_e5d45669_ba56_4079_9064_7e7fc91e3365","uuid":"12b2c047-6919-43ec-b10a-be8ba1be14da"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_e5d45669_ba56_4079_9064_7e7fc91e3365","uuid":"12b2c047-6919-43ec-b10a-be8ba1be14da"},"edge_type":"inherent","type":"","uuid":"98e1137a-ffa9-4452-8fd0-6c390d15537f","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_1f8977ca_1cbd_4b0d_855e_cb9d66009669","uuid":"dba5259b-af96-477b-bafb-9b4063fc834f"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"e52e43e1-8d21-4e7a-b0cc-1930ec7e2240"},"edge_type":"depends_on","type":"","uuid":"c7e5f6a3-daa1-452f-adec-0658e8f2e8ca","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"3ad2205d-80db-4157-b3b7-df3d4fda8b6d"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_d4a51fdc_3a79_492f_b12b_19bad0116251"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"c56e12c0_deployment","uuid":"33816960-d3af-41d3-a631-752fa678e2c7"},"retries":"0","description":"","type":"CREATE_DEPLOYMENT_ELEMENT","uuid":"eb5d8fd4-41f8-42dd-bee5-e94fb6bbabef","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Provision_33816960_d3af_41d3_a631_752fa678e2c7"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"76a24a99-6f80-4ccd-9572-bd287e82a66a"},"retries":"0","description":"","type":"CREATE_DEPLOYMENT_ELEMENT","uuid":"12f5fc4b-4cd7-4578-83c7-68eb59b8b223","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Provision_76a24a99_6f80_4ccd_9572_bd287e82a66a"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureMaster","uuid":"e8c6c48b-bcf4-462b-86e0-20154a34e060"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"11bd90a2-7ea3-4ca9-b83c-5792013f3294","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"c56e12c0_deployment","uuid":"33816960-d3af-41d3-a631-752fa678e2c7"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_e8c6c48b_bcf4_462b_86e0_20154a34e060","uuid":"a518ed83-f94c-4bc8-bd6d-683a36ab451b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Substrate_e8c6c48b_bcf4_462b_86e0_20154a34e060"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureSlave","uuid":"e5d45669-ba56-4079-9064-7e7fc91e3365"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"12b2c047-6919-43ec-b10a-be8ba1be14da","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"76a24a99-6f80-4ccd-9572-bd287e82a66a"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_e5d45669_ba56_4079_9064_7e7fc91e3365","uuid":"87714299-ac11-475e-8a54-cfc996824494"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Substrate_e5d45669_ba56_4079_9064_7e7fc91e3365"},{"target_any_local_reference":{"kind":"app_package","name":"AzureMasterPackage","uuid":"db2def6e-1144-4d42-ba62-50adf9dc8da0"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"41e7596e-1111-4a7c-8511-75fdf4955c25","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"c56e12c0_deployment","uuid":"33816960-d3af-41d3-a631-752fa678e2c7"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_db2def6e_1144_4d42_ba62_50adf9dc8da0","uuid":"4e2864a8-e7e7-4b9c-9f68-9728fa543973"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_db2def6e_1144_4d42_ba62_50adf9dc8da0"},{"target_any_local_reference":{"kind":"app_package","name":"AzureSlavePackage","uuid":"1f8977ca-1cbd-4b0d-855e-cb9d66009669"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"dba5259b-af96-477b-bafb-9b4063fc834f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"76a24a99-6f80-4ccd-9572-bd287e82a66a"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_1f8977ca_1cbd_4b0d_855e_cb9d66009669","uuid":"4c4d7fcb-412a-4b48-8697-441d2786bb8e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_1f8977ca_1cbd_4b0d_855e_cb9d66009669"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"c25221ab-a160-41d0-9e33-13e756407236","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"c56e12c0_deployment","uuid":"33816960-d3af-41d3-a631-752fa678e2c7"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0a970522_runbook","uuid":"9866e43d-ff48-4abb-bade-7f5396ce551e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"e52e43e1-8d21-4e7a-b0cc-1930ec7e2240","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"c56e12c0_deployment","uuid":"33816960-d3af-41d3-a631-752fa678e2c7"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"5ddb28d1_runbook","uuid":"907290fe-eaef-465b-a916-7c2c67d20c97"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"3ad2205d-80db-4157-b3b7-df3d4fda8b6d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"76a24a99-6f80-4ccd-9572-bd287e82a66a"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"d54168c9_runbook","uuid":"d9d72b08-90b4-46c2-a771-6d338abb4bc3"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"564ff2b7-5882-4a0d-94c3-3bcb5f6a3aff","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"76a24a99-6f80-4ccd-9572-bd287e82a66a"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"a027cde0_runbook","uuid":"557651c0-2ccf-45cb-beb3-9f2028221b2e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d"}],"description":"","message_list":[],"uuid":"f99d635e-785f-4009-bc3d-4916cd0c412a","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_d4a51fdc_3a79_492f_b12b_19bad0116251","uuid":"6db2b074-7097-4f37-9c24-2ae398985e4c"},"name":"SYS_GEN__Runbook_Application_d4a51fdc_3a79_492f_b12b_19bad0116251"}},{"description":"System action for starting an application","message_list":[],"uuid":"42356a6f-5eb5-428c-ac11-fb0bba427a19","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"Azure","uuid":"d4a51fdc-3a79-492f-b12b-19bad0116251"},"retries":"0","description":"","type":"DAG","uuid":"17b43484-9305-4298-98f3-2919c0806dc7","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_e5d45669_ba56_4079_9064_7e7fc91e3365","uuid":"c5a4bbf6-52cf-4c11-ab41-26afc6814989"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_e8c6c48b_bcf4_462b_86e0_20154a34e060","uuid":"0bbefb06-9158-4e9a-ae44-947f3d342d22"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"d1c4a59e-85d4-49d7-a9af-90018f993ad7"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"ce1feae3-7a5c-455f-b25b-56a0e698938c"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_e8c6c48b_bcf4_462b_86e0_20154a34e060","uuid":"0bbefb06-9158-4e9a-ae44-947f3d342d22"},"edge_type":"inherent","type":"","uuid":"f7674fcf-8e20-4857-a261-6045802db6c4","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"d1c4a59e-85d4-49d7-a9af-90018f993ad7"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_e5d45669_ba56_4079_9064_7e7fc91e3365","uuid":"c5a4bbf6-52cf-4c11-ab41-26afc6814989"},"edge_type":"inherent","type":"","uuid":"6a933fc7-c29d-4ac4-b3c7-b0c73ef1c2ea","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"ce1feae3-7a5c-455f-b25b-56a0e698938c"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"d1c4a59e-85d4-49d7-a9af-90018f993ad7"},"edge_type":"depends_on","type":"","uuid":"cbce3c36-fe20-400f-832e-db043f1146a7","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"ce1feae3-7a5c-455f-b25b-56a0e698938c"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_d4a51fdc_3a79_492f_b12b_19bad0116251"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureSlave","uuid":"e5d45669-ba56-4079-9064-7e7fc91e3365"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"c5a4bbf6-52cf-4c11-ab41-26afc6814989","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"76a24a99-6f80-4ccd-9572-bd287e82a66a"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_e5d45669_ba56_4079_9064_7e7fc91e3365","uuid":"95a65dbf-7ee3-44d7-808f-34a8c78607a6"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Substrate_e5d45669_ba56_4079_9064_7e7fc91e3365"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureMaster","uuid":"e8c6c48b-bcf4-462b-86e0-20154a34e060"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"0bbefb06-9158-4e9a-ae44-947f3d342d22","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"c56e12c0_deployment","uuid":"33816960-d3af-41d3-a631-752fa678e2c7"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_e8c6c48b_bcf4_462b_86e0_20154a34e060","uuid":"bee85942-7026-4e49-aa40-34e3c2babeec"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Substrate_e8c6c48b_bcf4_462b_86e0_20154a34e060"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"d1c4a59e-85d4-49d7-a9af-90018f993ad7","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"c56e12c0_deployment","uuid":"33816960-d3af-41d3-a631-752fa678e2c7"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"5ddb28d1_runbook","uuid":"907290fe-eaef-465b-a916-7c2c67d20c97"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"ce1feae3-7a5c-455f-b25b-56a0e698938c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"76a24a99-6f80-4ccd-9572-bd287e82a66a"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"a027cde0_runbook","uuid":"557651c0-2ccf-45cb-beb3-9f2028221b2e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d"}],"description":"","message_list":[],"uuid":"de53cc9a-b696-4479-8489-35c91aaec1b0","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_d4a51fdc_3a79_492f_b12b_19bad0116251","uuid":"17b43484-9305-4298-98f3-2919c0806dc7"},"name":"SYS_GEN__Runbook_Application_d4a51fdc_3a79_492f_b12b_19bad0116251"}},{"description":"System action for restarting an application","message_list":[],"uuid":"953b9811-8174-418a-aa61-cd54d147bb2b","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"Azure","uuid":"d4a51fdc-3a79-492f-b12b-19bad0116251"},"retries":"0","description":"","type":"DAG","uuid":"a461c59a-b216-4e9d-a43f-a975b6b985d6","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_e8c6c48b_bcf4_462b_86e0_20154a34e060","uuid":"303ae764-6001-47a7-82ba-ec4cbcfe65fa"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_e5d45669_ba56_4079_9064_7e7fc91e3365","uuid":"22c075a5-805c-403b-bf00-55899f2f7195"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"9b67fe76-1600-4429-903b-45e19e43039e"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"64889f62-3758-4593-a690-606847f02e35"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_e8c6c48b_bcf4_462b_86e0_20154a34e060","uuid":"303ae764-6001-47a7-82ba-ec4cbcfe65fa"},"edge_type":"inherent","type":"","uuid":"78f4587f-17f2-41da-a5ee-6fdbf700d0f1","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"9b67fe76-1600-4429-903b-45e19e43039e"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_e5d45669_ba56_4079_9064_7e7fc91e3365","uuid":"22c075a5-805c-403b-bf00-55899f2f7195"},"edge_type":"inherent","type":"","uuid":"fdcf1894-c109-4246-b8eb-575126bea54c","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"64889f62-3758-4593-a690-606847f02e35"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"9b67fe76-1600-4429-903b-45e19e43039e"},"edge_type":"depends_on","type":"","uuid":"f55d653a-2fdf-457b-8564-71649031dc66","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"64889f62-3758-4593-a690-606847f02e35"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_d4a51fdc_3a79_492f_b12b_19bad0116251"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureMaster","uuid":"e8c6c48b-bcf4-462b-86e0-20154a34e060"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"303ae764-6001-47a7-82ba-ec4cbcfe65fa","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"c56e12c0_deployment","uuid":"33816960-d3af-41d3-a631-752fa678e2c7"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_e8c6c48b_bcf4_462b_86e0_20154a34e060","uuid":"150465de-6115-4fc9-a403-4e46a298e285"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Substrate_e8c6c48b_bcf4_462b_86e0_20154a34e060"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureSlave","uuid":"e5d45669-ba56-4079-9064-7e7fc91e3365"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"22c075a5-805c-403b-bf00-55899f2f7195","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"76a24a99-6f80-4ccd-9572-bd287e82a66a"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_e5d45669_ba56_4079_9064_7e7fc91e3365","uuid":"78353d4f-fbf1-4f3f-a39f-fc1b6d52d13f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Substrate_e5d45669_ba56_4079_9064_7e7fc91e3365"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"9b67fe76-1600-4429-903b-45e19e43039e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"c56e12c0_deployment","uuid":"33816960-d3af-41d3-a631-752fa678e2c7"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"7e709238_runbook","uuid":"e38aa3c5-d052-4d28-84e6-acfb09a6af83"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"64889f62-3758-4593-a690-606847f02e35","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"76a24a99-6f80-4ccd-9572-bd287e82a66a"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"f2b2a076_runbook","uuid":"d30fe7b4-3486-4f8a-a3b8-e08401237ee7"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d"}],"description":"","message_list":[],"uuid":"48b68e99-5be8-4d9d-b9d9-8a44844d41e6","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_d4a51fdc_3a79_492f_b12b_19bad0116251","uuid":"a461c59a-b216-4e9d-a43f-a975b6b985d6"},"name":"SYS_GEN__Runbook_Application_d4a51fdc_3a79_492f_b12b_19bad0116251"}},{"description":"System action for stopping an application","message_list":[],"uuid":"f99cfecc-d6f6-4fd4-860c-d5f73d8e3a64","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"Azure","uuid":"d4a51fdc-3a79-492f-b12b-19bad0116251"},"retries":"0","description":"","type":"DAG","uuid":"438f6ff7-42b6-47bb-95cc-52fdfb200278","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"7ac4fb57-d602-4d58-b639-b11807ac2bf1"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"c799d180-e479-4ca6-8fcb-ac0f3b317a3f"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_e5d45669_ba56_4079_9064_7e7fc91e3365","uuid":"e2cfea16-452b-4137-81db-f82c66c3d6f2"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_e8c6c48b_bcf4_462b_86e0_20154a34e060","uuid":"43478de4-1e50-46cc-9a2e-bf3f84ec7701"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"c799d180-e479-4ca6-8fcb-ac0f3b317a3f"},"edge_type":"inherent","type":"","uuid":"0e03ce4f-9f44-46fe-b374-e2770eaf9bf8","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_e8c6c48b_bcf4_462b_86e0_20154a34e060","uuid":"43478de4-1e50-46cc-9a2e-bf3f84ec7701"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"7ac4fb57-d602-4d58-b639-b11807ac2bf1"},"edge_type":"inherent","type":"","uuid":"d8c20735-acf1-45dc-9f60-ee81eb44b401","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_e5d45669_ba56_4079_9064_7e7fc91e3365","uuid":"e2cfea16-452b-4137-81db-f82c66c3d6f2"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"7ac4fb57-d602-4d58-b639-b11807ac2bf1"},"edge_type":"depends_on","type":"","uuid":"15cfffa0-3bc3-48a7-82b5-97512ec6c73e","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"c799d180-e479-4ca6-8fcb-ac0f3b317a3f"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_d4a51fdc_3a79_492f_b12b_19bad0116251"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"7ac4fb57-d602-4d58-b639-b11807ac2bf1","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"76a24a99-6f80-4ccd-9572-bd287e82a66a"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"4a2ad0be_runbook","uuid":"d405c9d6-da96-4365-b171-e7ffb7e6b913"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"c799d180-e479-4ca6-8fcb-ac0f3b317a3f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"c56e12c0_deployment","uuid":"33816960-d3af-41d3-a631-752fa678e2c7"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0aefbca3_runbook","uuid":"ce2a2858-b89b-4bb4-8fb3-ee8bd8a6bd3f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureSlave","uuid":"e5d45669-ba56-4079-9064-7e7fc91e3365"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"e2cfea16-452b-4137-81db-f82c66c3d6f2","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"76a24a99-6f80-4ccd-9572-bd287e82a66a"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_e5d45669_ba56_4079_9064_7e7fc91e3365","uuid":"53314c87-d0f3-476f-afc3-372ce6daa2c1"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Substrate_e5d45669_ba56_4079_9064_7e7fc91e3365"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureMaster","uuid":"e8c6c48b-bcf4-462b-86e0-20154a34e060"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"43478de4-1e50-46cc-9a2e-bf3f84ec7701","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"c56e12c0_deployment","uuid":"33816960-d3af-41d3-a631-752fa678e2c7"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_e8c6c48b_bcf4_462b_86e0_20154a34e060","uuid":"b6fed449-400a-457c-9b8b-71a8f93cc85c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Substrate_e8c6c48b_bcf4_462b_86e0_20154a34e060"}],"description":"","message_list":[],"uuid":"6a7bf6d9-a6a2-4dcd-9b90-5d5661c81113","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_d4a51fdc_3a79_492f_b12b_19bad0116251","uuid":"438f6ff7-42b6-47bb-95cc-52fdfb200278"},"name":"SYS_GEN__Runbook_Application_d4a51fdc_3a79_492f_b12b_19bad0116251"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"deb95b5e-5257-4805-8b68-7ff43d6d8e30","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"Azure","uuid":"d4a51fdc-3a79-492f-b12b-19bad0116251"},"retries":"0","description":"","type":"DAG","uuid":"3ff4b28f-f6db-443f-8604-f335d4847bb3","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"68672253-e5c0-4970-a938-aea5070bdb78"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"72be4041-c7be-4613-8082-77df8bf1642a"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"b57cda89-aa97-40a9-8ecc-c764e9f4fbb3"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_1f8977ca_1cbd_4b0d_855e_cb9d66009669","uuid":"f63ed748-9914-473f-9f32-26b8923e1804"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_e5d45669_ba56_4079_9064_7e7fc91e3365","uuid":"891d0475-a25e-43a1-89e1-175af0694993"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"8630fff9-78f4-4233-9d78-c3bdcfeff6cf"},{"kind":"app_task","name":"SYS_GEN__DE_Delete_76a24a99_6f80_4ccd_9572_bd287e82a66a","uuid":"dd3a3296-90b6-4596-893c-25807b6aa87e"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_db2def6e_1144_4d42_ba62_50adf9dc8da0","uuid":"39934a84-2d41-46c9-b8df-d6e34f05cf8c"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_e8c6c48b_bcf4_462b_86e0_20154a34e060","uuid":"8e4d6e17-b102-4d5f-9557-e2da7adf03a9"},{"kind":"app_task","name":"SYS_GEN__DE_Delete_33816960_d3af_41d3_a631_752fa678e2c7","uuid":"09d67451-c952-4adb-b4a2-78e238f060b4"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"b57cda89-aa97-40a9-8ecc-c764e9f4fbb3"},"edge_type":"inherent","type":"","uuid":"4941e892-a16a-4cff-837b-41ff49228682","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"8630fff9-78f4-4233-9d78-c3bdcfeff6cf"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"8630fff9-78f4-4233-9d78-c3bdcfeff6cf"},"edge_type":"inherent","type":"","uuid":"ed37c18e-9e37-463b-91d3-63b117a7c016","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_db2def6e_1144_4d42_ba62_50adf9dc8da0","uuid":"39934a84-2d41-46c9-b8df-d6e34f05cf8c"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_db2def6e_1144_4d42_ba62_50adf9dc8da0","uuid":"39934a84-2d41-46c9-b8df-d6e34f05cf8c"},"edge_type":"inherent","type":"","uuid":"944adeb1-beb6-4655-a5ef-877842e769fa","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_e8c6c48b_bcf4_462b_86e0_20154a34e060","uuid":"8e4d6e17-b102-4d5f-9557-e2da7adf03a9"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_e8c6c48b_bcf4_462b_86e0_20154a34e060","uuid":"8e4d6e17-b102-4d5f-9557-e2da7adf03a9"},"edge_type":"inherent","type":"","uuid":"1645c8da-5be5-4648-b3e3-133072c1c8b6","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Delete_33816960_d3af_41d3_a631_752fa678e2c7","uuid":"09d67451-c952-4adb-b4a2-78e238f060b4"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"68672253-e5c0-4970-a938-aea5070bdb78"},"edge_type":"inherent","type":"","uuid":"fccbf96d-9f51-4507-b8e8-0897a75cbad9","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"72be4041-c7be-4613-8082-77df8bf1642a"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"72be4041-c7be-4613-8082-77df8bf1642a"},"edge_type":"inherent","type":"","uuid":"4fa7c904-23d5-4ed9-a46d-a70056a5302f","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_1f8977ca_1cbd_4b0d_855e_cb9d66009669","uuid":"f63ed748-9914-473f-9f32-26b8923e1804"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_e5d45669_ba56_4079_9064_7e7fc91e3365","uuid":"891d0475-a25e-43a1-89e1-175af0694993"},"edge_type":"inherent","type":"","uuid":"ec3b0179-fa32-478f-95a4-03dbcb7053f5","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Delete_76a24a99_6f80_4ccd_9572_bd287e82a66a","uuid":"dd3a3296-90b6-4596-893c-25807b6aa87e"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_1f8977ca_1cbd_4b0d_855e_cb9d66009669","uuid":"f63ed748-9914-473f-9f32-26b8923e1804"},"edge_type":"inherent","type":"","uuid":"6b539d93-6d92-420b-929c-539d72928844","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_e5d45669_ba56_4079_9064_7e7fc91e3365","uuid":"891d0475-a25e-43a1-89e1-175af0694993"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"72be4041-c7be-4613-8082-77df8bf1642a"},"edge_type":"depends_on","type":"","uuid":"fae49092-13e3-47b0-98ce-0fbdf8600240","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"b57cda89-aa97-40a9-8ecc-c764e9f4fbb3"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_d4a51fdc_3a79_492f_b12b_19bad0116251"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"68672253-e5c0-4970-a938-aea5070bdb78","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"76a24a99-6f80-4ccd-9572-bd287e82a66a"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"4a2ad0be_runbook","uuid":"d405c9d6-da96-4365-b171-e7ffb7e6b913"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"72be4041-c7be-4613-8082-77df8bf1642a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"76a24a99-6f80-4ccd-9572-bd287e82a66a"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"92247e35_runbook","uuid":"c1fdda9f-aaee-4b0d-899f-a32eb5819a33"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"b57cda89-aa97-40a9-8ecc-c764e9f4fbb3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"c56e12c0_deployment","uuid":"33816960-d3af-41d3-a631-752fa678e2c7"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0aefbca3_runbook","uuid":"ce2a2858-b89b-4bb4-8fb3-ee8bd8a6bd3f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b"},{"target_any_local_reference":{"kind":"app_package","name":"AzureSlavePackage","uuid":"1f8977ca-1cbd-4b0d-855e-cb9d66009669"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"f63ed748-9914-473f-9f32-26b8923e1804","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"76a24a99-6f80-4ccd-9572-bd287e82a66a"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_1f8977ca_1cbd_4b0d_855e_cb9d66009669","uuid":"77ebe7bd-5322-4b9b-b693-49d52d4c28a6"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_1f8977ca_1cbd_4b0d_855e_cb9d66009669"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureSlave","uuid":"e5d45669-ba56-4079-9064-7e7fc91e3365"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"891d0475-a25e-43a1-89e1-175af0694993","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"76a24a99-6f80-4ccd-9572-bd287e82a66a"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_e5d45669_ba56_4079_9064_7e7fc91e3365","uuid":"628d4e20-6e1a-460a-8661-7358f35944bb"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Substrate_e5d45669_ba56_4079_9064_7e7fc91e3365"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"8630fff9-78f4-4233-9d78-c3bdcfeff6cf","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"c56e12c0_deployment","uuid":"33816960-d3af-41d3-a631-752fa678e2c7"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"5fd47ec3_runbook","uuid":"e410ef14-5f72-46ab-b7d5-0181621be34f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"76a24a99-6f80-4ccd-9572-bd287e82a66a"},"retries":"0","description":"","type":"DELETE_DEPLOYMENT_ELEMENT","uuid":"dd3a3296-90b6-4596-893c-25807b6aa87e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Delete_76a24a99_6f80_4ccd_9572_bd287e82a66a"},{"target_any_local_reference":{"kind":"app_package","name":"AzureMasterPackage","uuid":"db2def6e-1144-4d42-ba62-50adf9dc8da0"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"39934a84-2d41-46c9-b8df-d6e34f05cf8c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"c56e12c0_deployment","uuid":"33816960-d3af-41d3-a631-752fa678e2c7"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_db2def6e_1144_4d42_ba62_50adf9dc8da0","uuid":"0234a208-0048-4346-b506-183b0cf9fedd"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_db2def6e_1144_4d42_ba62_50adf9dc8da0"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureMaster","uuid":"e8c6c48b-bcf4-462b-86e0-20154a34e060"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"8e4d6e17-b102-4d5f-9557-e2da7adf03a9","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"c56e12c0_deployment","uuid":"33816960-d3af-41d3-a631-752fa678e2c7"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_e8c6c48b_bcf4_462b_86e0_20154a34e060","uuid":"dcd8daf1-54bb-45f0-b0f2-ccc67eea5c3a"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Substrate_e8c6c48b_bcf4_462b_86e0_20154a34e060"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"c56e12c0_deployment","uuid":"33816960-d3af-41d3-a631-752fa678e2c7"},"retries":"0","description":"","type":"DELETE_DEPLOYMENT_ELEMENT","uuid":"09d67451-c952-4adb-b4a2-78e238f060b4","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Delete_33816960_d3af_41d3_a631_752fa678e2c7"}],"description":"","message_list":[],"uuid":"1f3898ac-fc37-41b6-850e-5e6065d42d0a","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_d4a51fdc_3a79_492f_b12b_19bad0116251","uuid":"3ff4b28f-f6db-443f-8604-f335d4847bb3"},"name":"SYS_GEN__Runbook_Application_d4a51fdc_3a79_492f_b12b_19bad0116251"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"96ea2460-47e1-4dd8-b44d-38582e686ef6","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"Azure","uuid":"d4a51fdc-3a79-492f-b12b-19bad0116251"},"retries":"0","description":"","type":"DAG","uuid":"fe519cd4-a60e-4a36-9363-46832b24a90e","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"5a5abf0d-b796-42cd-a9b5-570352487797"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"7ab80222-a65d-4e7c-b475-08df2dd301e4"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_1f8977ca_1cbd_4b0d_855e_cb9d66009669","uuid":"7b8d45a3-2ecb-4767-af5b-f76cf35d4e23"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_e5d45669_ba56_4079_9064_7e7fc91e3365","uuid":"3053806f-a6df-4e6c-a63d-7e2ca8dc0e2b"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_db2def6e_1144_4d42_ba62_50adf9dc8da0","uuid":"cad76c8a-cb04-4695-b03e-8a515b60c27e"},{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_76a24a99_6f80_4ccd_9572_bd287e82a66a","uuid":"d544959f-1fd8-4652-9cb7-ad8b12887453"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_e8c6c48b_bcf4_462b_86e0_20154a34e060","uuid":"a255b6bb-2a94-4fc1-87d8-8f100c18758b"},{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_33816960_d3af_41d3_a631_752fa678e2c7","uuid":"db0207a2-ddd4-4545-864a-085d1d415152"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"7ab80222-a65d-4e7c-b475-08df2dd301e4"},"edge_type":"inherent","type":"","uuid":"43848614-bf2f-4daf-a212-b6b6b28d9b22","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_db2def6e_1144_4d42_ba62_50adf9dc8da0","uuid":"cad76c8a-cb04-4695-b03e-8a515b60c27e"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_db2def6e_1144_4d42_ba62_50adf9dc8da0","uuid":"cad76c8a-cb04-4695-b03e-8a515b60c27e"},"edge_type":"inherent","type":"","uuid":"97fafbc9-46cf-479e-85fd-ee62e7494b56","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_e8c6c48b_bcf4_462b_86e0_20154a34e060","uuid":"a255b6bb-2a94-4fc1-87d8-8f100c18758b"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_e8c6c48b_bcf4_462b_86e0_20154a34e060","uuid":"a255b6bb-2a94-4fc1-87d8-8f100c18758b"},"edge_type":"inherent","type":"","uuid":"3ec797e4-df90-422a-a02b-83d1f96d0c31","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_33816960_d3af_41d3_a631_752fa678e2c7","uuid":"db0207a2-ddd4-4545-864a-085d1d415152"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"5a5abf0d-b796-42cd-a9b5-570352487797"},"edge_type":"inherent","type":"","uuid":"00b1b2e1-f26a-4f51-abc1-0a54ff62363d","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_1f8977ca_1cbd_4b0d_855e_cb9d66009669","uuid":"7b8d45a3-2ecb-4767-af5b-f76cf35d4e23"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_e5d45669_ba56_4079_9064_7e7fc91e3365","uuid":"3053806f-a6df-4e6c-a63d-7e2ca8dc0e2b"},"edge_type":"inherent","type":"","uuid":"e184c918-ac26-430a-8cbc-e79e50a4f033","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_76a24a99_6f80_4ccd_9572_bd287e82a66a","uuid":"d544959f-1fd8-4652-9cb7-ad8b12887453"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_1f8977ca_1cbd_4b0d_855e_cb9d66009669","uuid":"7b8d45a3-2ecb-4767-af5b-f76cf35d4e23"},"edge_type":"inherent","type":"","uuid":"7fae0ba9-c2bd-4405-8eae-9aaba761c293","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_e5d45669_ba56_4079_9064_7e7fc91e3365","uuid":"3053806f-a6df-4e6c-a63d-7e2ca8dc0e2b"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"5a5abf0d-b796-42cd-a9b5-570352487797"},"edge_type":"depends_on","type":"","uuid":"20559b49-8a09-4fed-9e5d-8dc16ffd6e34","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"7ab80222-a65d-4e7c-b475-08df2dd301e4"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_d4a51fdc_3a79_492f_b12b_19bad0116251"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"5a5abf0d-b796-42cd-a9b5-570352487797","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"76a24a99-6f80-4ccd-9572-bd287e82a66a"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"9cb9ecf0-89cd-4611-812d-2535c64945cf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"7ab80222-a65d-4e7c-b475-08df2dd301e4","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"c56e12c0_deployment","uuid":"33816960-d3af-41d3-a631-752fa678e2c7"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"b9b6e25b-f9f5-473d-8c7e-6fcb8b23a4da"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b"},{"target_any_local_reference":{"kind":"app_package","name":"AzureSlavePackage","uuid":"1f8977ca-1cbd-4b0d-855e-cb9d66009669"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"7b8d45a3-2ecb-4767-af5b-f76cf35d4e23","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_1f8977ca_1cbd_4b0d_855e_cb9d66009669"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureSlave","uuid":"e5d45669-ba56-4079-9064-7e7fc91e3365"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"3053806f-a6df-4e6c-a63d-7e2ca8dc0e2b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"76a24a99-6f80-4ccd-9572-bd287e82a66a"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_e5d45669_ba56_4079_9064_7e7fc91e3365","uuid":"477b865e-757a-4e80-9b63-300263450bca"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Substrate_e5d45669_ba56_4079_9064_7e7fc91e3365"},{"target_any_local_reference":{"kind":"app_package","name":"AzureMasterPackage","uuid":"db2def6e-1144-4d42-ba62-50adf9dc8da0"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"cad76c8a-cb04-4695-b03e-8a515b60c27e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_db2def6e_1144_4d42_ba62_50adf9dc8da0"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"76a24a99-6f80-4ccd-9572-bd287e82a66a"},"retries":"0","description":"","type":"SOFT_DELETE_DEPLOYMENT_ELEMENT","uuid":"d544959f-1fd8-4652-9cb7-ad8b12887453","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Soft_Delete_76a24a99_6f80_4ccd_9572_bd287e82a66a"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureMaster","uuid":"e8c6c48b-bcf4-462b-86e0-20154a34e060"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"a255b6bb-2a94-4fc1-87d8-8f100c18758b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"c56e12c0_deployment","uuid":"33816960-d3af-41d3-a631-752fa678e2c7"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_e8c6c48b_bcf4_462b_86e0_20154a34e060","uuid":"5190e197-491d-4401-af87-85bed03fa76f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Substrate_e8c6c48b_bcf4_462b_86e0_20154a34e060"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"c56e12c0_deployment","uuid":"33816960-d3af-41d3-a631-752fa678e2c7"},"retries":"0","description":"","type":"SOFT_DELETE_DEPLOYMENT_ELEMENT","uuid":"db0207a2-ddd4-4545-864a-085d1d415152","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Soft_Delete_33816960_d3af_41d3_a631_752fa678e2c7"}],"description":"","message_list":[],"uuid":"b3b98718-33b0-450b-8fb7-a032087647ce","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_d4a51fdc_3a79_492f_b12b_19bad0116251","uuid":"fe519cd4-a60e-4a36-9363-46832b24a90e"},"name":"SYS_GEN__Runbook_Application_d4a51fdc_3a79_492f_b12b_19bad0116251"}}],"message_list":[],"uuid":"d4a51fdc-3a79-492f-b12b-19bad0116251","state":"DRAFT","dependency_list":[{"getter_resource_kind":"ServiceCfg","setter_resource_attr":"MYSQL_BIN","setter_resource_kind":"ServiceCfg","setter_resource_name":"MySQL_Master","action_name":"action_create","action_resource_name":"Azure","getter_resource_name":"MySQL_Slave","action_resource_kind":"ApplicationCfg"},{"getter_resource_kind":"ServiceCfg","setter_resource_attr":"MYSQL_POSITION","setter_resource_kind":"ServiceCfg","setter_resource_name":"MySQL_Master","action_name":"action_create","action_resource_name":"Azure","getter_resource_name":"MySQL_Slave","action_resource_kind":"ApplicationCfg"},{"getter_resource_kind":"ServiceCfg","setter_resource_attr":"address","setter_resource_kind":"ServiceCfg","setter_resource_name":"MySQL_Master","action_name":"action_create","action_resource_name":"Azure","getter_resource_name":"MySQL_Slave","action_resource_kind":"ApplicationCfg"}],"variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[{"message":"Secret value for variable is empty","reason":"EMPTY_VALUE","details":[{"attribute_name":"secret"}]},{"message":"Value of secret variable is empty","reason":"EMPTY_VALUE","details":[{"attribute_name":"value"}]}],"uuid":"fbd0fae5-42a7-40da-a89b-7c29d0c63f72","value":"","label":"","state":"ACTIVE","attrs":{"is_secret_modified":false,"secret_reference":{"uuid":"7d9ee22f-b5fa-438f-b056-1d0187f4ea3f"},"type":""},"editables":{"value":true},"is_hidden":false,"type":"SECRET","options":{},"name":"MYSQL_PASSWORD"}],"name":"Azure"}],"published_service_definition_list":[],"default_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"3ee7bf5d-2de9-4958-9b65-e30687c43f17"},"package_definition_list":[{"description":"","action_list":[{"description":"System action for installing an application","message_list":[],"uuid":"169c3901-5826-47a7-ade8-6d83711c2653","name":"action_install","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVMasterPackage","uuid":"81a41acc-b3b9-4f6c-a201-f4c0801ff657"},"retries":"0","description":"","type":"DAG","uuid":"df15c36e-85a8-4ec6-a403-f0b47bf22f99","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Install_Crb_81a41acc_b3b9_4f6c_a201_f4c0801ff657","uuid":"f6c0e7b2-f57c-49c2-887b-d657bfb938dd"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Package_81a41acc_b3b9_4f6c_a201_f4c0801ff657"},{"target_any_local_reference":{"kind":"app_package","name":"AHVMasterPackage","uuid":"81a41acc-b3b9-4f6c-a201-f4c0801ff657"},"retries":"0","description":"","type":"CUSTOM_PACKAGE_INSTALL","uuid":"f6c0e7b2-f57c-49c2-887b-d657bfb938dd","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVMasterPackage","uuid":"81a41acc-b3b9-4f6c-a201-f4c0801ff657"},"retries":"0","description":"","type":"DAG","uuid":"3197b99c-326c-43ff-8190-11a3f68ab674","child_tasks_local_reference_list":[{"kind":"app_task","name":"Install System Packages","uuid":"8192efef-01c0-40c9-98f4-770c06bacfca"},{"kind":"app_task","name":"Create Disk Setup","uuid":"65967983-1067-42ff-84c2-8f464f1ee491"},{"kind":"app_task","name":"Install MySQL","uuid":"62ac7e71-c925-47f4-abda-10e288f7d730"},{"kind":"app_task","name":"Setup MySQL","uuid":"70ee3aeb-4b66-4895-ad88-9e4c14b4a150"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Install System Packages","uuid":"8192efef-01c0-40c9-98f4-770c06bacfca"},"edge_type":"user_defined","type":"","uuid":"a64fc6f6-4048-47ea-8f65-1a96fcac1344","to_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"65967983-1067-42ff-84c2-8f464f1ee491"}},{"from_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"65967983-1067-42ff-84c2-8f464f1ee491"},"edge_type":"user_defined","type":"","uuid":"49fe8511-7e7c-42cd-a796-27f79c83d0dd","to_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"62ac7e71-c925-47f4-abda-10e288f7d730"}},{"from_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"62ac7e71-c925-47f4-abda-10e288f7d730"},"edge_type":"user_defined","type":"","uuid":"242eb95c-7f3e-4f61-8b5c-b9029a7f9000","to_task_reference":{"kind":"app_task","name":"Setup MySQL","uuid":"70ee3aeb-4b66-4895-ad88-9e4c14b4a150"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"9cbec184_dag"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"EXEC","uuid":"8192efef-01c0-40c9-98f4-770c06bacfca","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n# -*- Install Mysql\nsudo yum update -y --quiet\nsudo yum install -y  wget xfs* bc unzip lvm2* lsscsi\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"System packages are installed\"","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"3ee7bf5d-2de9-4958-9b65-e30687c43f17"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install System Packages"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"EXEC","uuid":"65967983-1067-42ff-84c2-8f464f1ee491","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n##############\n#\n# LVM setup script for MySQL . 4 disks for DATA and 4 for logs\n# Data disks are 50GB | Log disks are 25GB \n#\n#############\n\n\n#PGSQL data\nsudo pvcreate \/dev\/sdb \/dev\/sdc \/dev\/sdd \/dev\/sde\nsudo vgcreate mysqlDataVG \/dev\/sdb \/dev\/sdd \/dev\/sdc \/dev\/sde\nsudo lvcreate -l 100%FREE -i4 -I1M -n mysqlDataLV mysqlDataVG          ## Use 1MB to avoid IO amplification \n#lvcreate -l 100%FREE -i4 -I4M -n pgDataLV pgDataVG\n\n\n#PGSQL logs\nsudo pvcreate \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo vgcreate mysqlLogVG \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo lvcreate -l 100%FREE -i2 -I1M -n mysqlLogLV mysqlLogVG            ## Use 1MB to avoid IO amplification\n#lvcreate -l 100%FREE -i2 -I4M -n pgLogLV pgLogVG\n\n\n#Disable LVM read ahead\nsudo lvchange -r 0 \/dev\/mysqlDataVG\/mysqlDataLV\nsudo lvchange -r 0 \/dev\/mysqlLogVG\/mysqlLogLV\n\n\n#Format LVMs with ext4 and use nodiscard to make sure format time is fast on Nutanix due to SCSI unmap\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlDataVG\/mysqlDataLV\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlLogVG\/mysqlLogLV\n\nsleep 10\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"3ee7bf5d-2de9-4958-9b65-e30687c43f17"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Create Disk Setup"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"EXEC","uuid":"62ac7e71-c925-47f4-abda-10e288f7d730","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nsudo hostnamectl set-hostname \"@@{name}@@\"\n\n# -*- Mysql installation \nsudo yum install -y --quiet \"http:\/\/repo.mysql.com\/mysql80-community-release-el7.rpm\"\nsudo yum update -y --quiet\nsudo yum install -y --quiet sshpass mysql-community-server.x86_64\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"3ee7bf5d-2de9-4958-9b65-e30687c43f17"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install MySQL"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"EXEC","uuid":"70ee3aeb-4b66-4895-ad88-9e4c14b4a150","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\necho \"!includedir \/etc\/my.cnf.d\" | sudo tee -a \/etc\/my.cnf\n\necho \"[mysqld]\nbinlog-format=mixed\nlog-bin=mysql-bin\ndatadir=\/mysql\/data\nsql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES\ninnodb_data_home_dir = \/mysql\/data\ninnodb_log_group_home_dir = \/mysql\/log\ninnodb_file_per_table\ntmpdir=\/mysql\/tmpdir\ninnodb_undo_directory = \/mysql\/undo\ndefault-storage-engine = innodb\ndefault_tmp_storage_engine = innodb\ninnodb_log_files_in_group = 4\ninnodb_log_file_size = 1G\ninnodb_log_buffer_size = 8M\ninnodb_buffer_pool_size = 6G\t\nlarge-pages\t\ninnodb_buffer_pool_instances = 64\t\ninnodb_flush_method=O_DIRECT\t\ninnodb_flush_neighbors=0\t \ninnodb_flush_log_at_trx_commit=1\ninnodb_buffer_pool_dump_at_shutdown=1\t\ninnodb_buffer_pool_load_at_startup=1\t\nbulk_insert_buffer_size = 256\t\ninnodb_thread_concurrency = 16\t\n \t \n# Undo tablespace\t \ninnodb_undo_tablespaces = 5\t\n \t \n# Networking\t \nwait_timeout=57600\t \nmax_allowed_packet=1G\t\nsocket=\/var\/lib\/mysql\/mysql.sock\t \nskip-name-resolve\nport=3306\t\nmax_connections=1000\t\n\n\n[mysqld_safe]\nlog-error=\/mysql\/log\/mysqld.log\npid-file=\/var\/run\/mysqld\/mysqld.pid\" | sudo tee \/etc\/my.cnf.d\/nutanix.cnf\n\nsudo sed -i \"\/\\[mysqld\\]\/a server-id=100\" \/etc\/my.cnf.d\/nutanix.cnf\necho \"#master=100\" | sudo tee -a  \/etc\/my.cnf.d\/nutanix.cnf\n\nserver_id=`sudo cat \/etc\/my.cnf.d\/nutanix.cnf | grep  \"server-id=\" | cut -d= -f2`\nis_master=`sudo cat \/etc\/my.cnf.d\/nutanix.cnf | grep -q -w \"#master=$server_id\"; echo $?`\n\nif [ ${is_master} -ne 0 ]\nthen\n   sudo sed -i '\/\\[mysqld\\]\/a read_only=1' \/etc\/my.cnf.d\/nutanix.cnf\nfi\n\n# -*- Sysctl configuration\nmysql_grp_id=`id -g mysql`\nsudo sysctl -w vm.swappiness=0\nsudo sysctl -w vm.nr_hugepages=1024\nsudo sysctl -w vm.overcommit_memory=1\nsudo sysctl -w vm.dirty_background_ratio=5 \nsudo sysctl -w vm.dirty_ratio=15\nsudo sysctl -w vm.dirty_expire_centisecs=500\nsudo sysctl -w vm.dirty_writeback_centisecs=100\nsudo sysctl -w vm.hugetlb_shm_group=$mysql_grp_id\n\necho \"vm.swappiness=0\nvm.nr_hugepages=1024\nvm.overcommit_memory=1\nvm.dirty_background_ratio=5 \nvm.dirty_ratio=15\nvm.dirty_expire_centisecs=500\nvm.dirty_writeback_centisecs=100\nvm.hugetlb_shm_group=$mysql_grp_id\" | sudo tee  -a \/etc\/sysctl.conf\n\necho \"ACTION=='add|change', SUBSYSTEM=='block', RUN+='\/bin\/sh -c \\\"\/bin\/echo 1024 > \/sys%p\/queue\/max_sectors_kb\\\"'\" | sudo tee \/etc\/udev\/rules.d\/71-block-max-sectors.rules\n\necho \"\/dev\/mysqlDataVG\/mysqlDataLV \/mysql\/data ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\necho \"\/dev\/mysqlLogVG\/mysqlLogLV \/mysql\/log ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\nsudo mkdir -p \/mysql\/log \/mysql\/data \/mysql\/tmpdir \/mysql\/undo\nsudo mount -a\nsudo chown -R mysql:mysql \/mysql\n\nsudo systemctl enable mysqld\n\nsudo rm -rf \/mysql\/data\/*\nsudo systemctl start mysqld\n\n#Fix to obtain temp password and set it to blank\npassword=$(grep -oP 'temporary password(.*): \\K(\\S+)' \/var\/log\/mysqld.log)\nsudo mysqladmin --user=root --password=\"$password\" password aaBB**cc1122\nsudo mysql --user=root --password=aaBB**cc1122 -e \"UNINSTALL COMPONENT 'file:\/\/component_validate_password'\"\nsudo mysqladmin --user=root --password=\"aaBB**cc1122\" password \"\"\n\n\n#Mysql secure installation\nsudo mysql -u root<<-EOF\nALTER USER 'root'@'localhost' IDENTIFIED WITH caching_sha2_password BY '@@{MYSQL_PASSWORD}@@';\nDELETE FROM mysql.user WHERE User='root' AND Host NOT IN ('localhost', '127.0.0.1', '::1');\nDELETE FROM mysql.user WHERE User='';\nDELETE FROM mysql.db WHERE Db='test' OR Db='test\\_%';\nFLUSH PRIVILEGES;\nEOF\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"3ee7bf5d-2de9-4958-9b65-e30687c43f17"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Setup MySQL"}],"description":"","message_list":[],"uuid":"3a983271-a01d-474c-b6fc-c43eba420090","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"9cbec184_dag","uuid":"3197b99c-326c-43ff-8190-11a3f68ab674"},"name":"ee9a3de0_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVMasterPackage","uuid":"81a41acc-b3b9-4f6c-a201-f4c0801ff657"},"retries":"0","description":"","type":"DAG","uuid":"3ea8aed3-7fe5-488d-a8a6-4b1a988c0eb7","child_tasks_local_reference_list":[{"kind":"app_task","name":"PackageUninstallTask","uuid":"879e50c4-1339-48dc-a9ad-9e64e766e836"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"7e474eb1_dag"},{"target_any_local_reference":{"kind":"app_package","name":"AHVMasterPackage","uuid":"81a41acc-b3b9-4f6c-a201-f4c0801ff657"},"retries":"0","description":"","type":"EXEC","uuid":"879e50c4-1339-48dc-a9ad-9e64e766e836","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"3ee7bf5d-2de9-4958-9b65-e30687c43f17"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"PackageUninstallTask"}],"description":"","message_list":[],"uuid":"50febfe6-c574-40db-a274-0093d67ec278","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"7e474eb1_dag","uuid":"3ea8aed3-7fe5-488d-a8a6-4b1a988c0eb7"},"name":"4235ede6_runbook"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Install_Crb_81a41acc_b3b9_4f6c_a201_f4c0801ff657"}],"description":"","message_list":[],"uuid":"32e1e428-414e-4212-8861-c979cde9c7e3","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Package_81a41acc_b3b9_4f6c_a201_f4c0801ff657","uuid":"df15c36e-85a8-4ec6-a403-f0b47bf22f99"},"name":"SYS_GEN__Runbook_Package_81a41acc_b3b9_4f6c_a201_f4c0801ff657"}},{"description":"System action for creating an application","message_list":[],"uuid":"5ad0e8dc-0198-4d96-a143-52d65f9fd286","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVMasterPackage","uuid":"81a41acc-b3b9-4f6c-a201-f4c0801ff657"},"retries":"0","description":"","type":"DAG","uuid":"ff905908-3dc6-4ebb-b2e4-cc65b2fa6740","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_81a41acc_b3b9_4f6c_a201_f4c0801ff657","uuid":"3f2a13e1-8fc0-4131-8b6f-e985801a1c2e"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"d4447cf1-5170-481a-a6ba-1934b7f5bbc5"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"90cc120c-11a0-485d-a30d-ea887c666805"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"d4447cf1-5170-481a-a6ba-1934b7f5bbc5"},"edge_type":"inherent","type":"","uuid":"2e8fc3b5-90ad-4051-9d9a-0f5890cc48c0","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"90cc120c-11a0-485d-a30d-ea887c666805"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_81a41acc_b3b9_4f6c_a201_f4c0801ff657","uuid":"3f2a13e1-8fc0-4131-8b6f-e985801a1c2e"},"edge_type":"inherent","type":"","uuid":"68cab058-5bc2-4468-b65f-c4fb55e755ad","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"d4447cf1-5170-481a-a6ba-1934b7f5bbc5"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_81a41acc_b3b9_4f6c_a201_f4c0801ff657"},{"target_any_local_reference":{"kind":"app_package","name":"AHVMasterPackage","uuid":"81a41acc-b3b9-4f6c-a201-f4c0801ff657"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"3f2a13e1-8fc0-4131-8b6f-e985801a1c2e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_81a41acc_b3b9_4f6c_a201_f4c0801ff657","uuid":"32e1e428-414e-4212-8861-c979cde9c7e3"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_81a41acc_b3b9_4f6c_a201_f4c0801ff657"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"d4447cf1-5170-481a-a6ba-1934b7f5bbc5","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0a970522_runbook","uuid":"9866e43d-ff48-4abb-bade-7f5396ce551e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"90cc120c-11a0-485d-a30d-ea887c666805","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"5ddb28d1_runbook","uuid":"907290fe-eaef-465b-a916-7c2c67d20c97"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b"}],"description":"","message_list":[],"uuid":"cd7d0623-4bb2-42fb-b3bc-0d69b02ef7fe","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_81a41acc_b3b9_4f6c_a201_f4c0801ff657","uuid":"ff905908-3dc6-4ebb-b2e4-cc65b2fa6740"},"name":"SYS_GEN__Runbook_Package_81a41acc_b3b9_4f6c_a201_f4c0801ff657"}},{"description":"System action for uninstalling an application","message_list":[],"uuid":"a240de21-851f-4a93-bf9e-b78f8168eb6d","name":"action_uninstall","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVMasterPackage","uuid":"81a41acc-b3b9-4f6c-a201-f4c0801ff657"},"retries":"0","description":"","type":"DAG","uuid":"b7acb01f-aab6-42b5-8474-260b50e80529","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Uninstall_Crb_81a41acc_b3b9_4f6c_a201_f4c0801ff657","uuid":"e3f11be4-38ad-4acc-8390-9b83ed105f8c"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Package_81a41acc_b3b9_4f6c_a201_f4c0801ff657"},{"target_any_local_reference":{"kind":"app_package","name":"AHVMasterPackage","uuid":"81a41acc-b3b9-4f6c-a201-f4c0801ff657"},"retries":"0","description":"","type":"CUSTOM_PACKAGE_UNINSTALL","uuid":"e3f11be4-38ad-4acc-8390-9b83ed105f8c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVMasterPackage","uuid":"81a41acc-b3b9-4f6c-a201-f4c0801ff657"},"retries":"0","description":"","type":"DAG","uuid":"3197b99c-326c-43ff-8190-11a3f68ab674","child_tasks_local_reference_list":[{"kind":"app_task","name":"Install System Packages","uuid":"8192efef-01c0-40c9-98f4-770c06bacfca"},{"kind":"app_task","name":"Create Disk Setup","uuid":"65967983-1067-42ff-84c2-8f464f1ee491"},{"kind":"app_task","name":"Install MySQL","uuid":"62ac7e71-c925-47f4-abda-10e288f7d730"},{"kind":"app_task","name":"Setup MySQL","uuid":"70ee3aeb-4b66-4895-ad88-9e4c14b4a150"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Install System Packages","uuid":"8192efef-01c0-40c9-98f4-770c06bacfca"},"edge_type":"user_defined","type":"","uuid":"a64fc6f6-4048-47ea-8f65-1a96fcac1344","to_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"65967983-1067-42ff-84c2-8f464f1ee491"}},{"from_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"65967983-1067-42ff-84c2-8f464f1ee491"},"edge_type":"user_defined","type":"","uuid":"49fe8511-7e7c-42cd-a796-27f79c83d0dd","to_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"62ac7e71-c925-47f4-abda-10e288f7d730"}},{"from_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"62ac7e71-c925-47f4-abda-10e288f7d730"},"edge_type":"user_defined","type":"","uuid":"242eb95c-7f3e-4f61-8b5c-b9029a7f9000","to_task_reference":{"kind":"app_task","name":"Setup MySQL","uuid":"70ee3aeb-4b66-4895-ad88-9e4c14b4a150"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"9cbec184_dag"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"EXEC","uuid":"8192efef-01c0-40c9-98f4-770c06bacfca","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n# -*- Install Mysql\nsudo yum update -y --quiet\nsudo yum install -y  wget xfs* bc unzip lvm2* lsscsi\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"System packages are installed\"","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"3ee7bf5d-2de9-4958-9b65-e30687c43f17"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install System Packages"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"EXEC","uuid":"65967983-1067-42ff-84c2-8f464f1ee491","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n##############\n#\n# LVM setup script for MySQL . 4 disks for DATA and 4 for logs\n# Data disks are 50GB | Log disks are 25GB \n#\n#############\n\n\n#PGSQL data\nsudo pvcreate \/dev\/sdb \/dev\/sdc \/dev\/sdd \/dev\/sde\nsudo vgcreate mysqlDataVG \/dev\/sdb \/dev\/sdd \/dev\/sdc \/dev\/sde\nsudo lvcreate -l 100%FREE -i4 -I1M -n mysqlDataLV mysqlDataVG          ## Use 1MB to avoid IO amplification \n#lvcreate -l 100%FREE -i4 -I4M -n pgDataLV pgDataVG\n\n\n#PGSQL logs\nsudo pvcreate \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo vgcreate mysqlLogVG \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo lvcreate -l 100%FREE -i2 -I1M -n mysqlLogLV mysqlLogVG            ## Use 1MB to avoid IO amplification\n#lvcreate -l 100%FREE -i2 -I4M -n pgLogLV pgLogVG\n\n\n#Disable LVM read ahead\nsudo lvchange -r 0 \/dev\/mysqlDataVG\/mysqlDataLV\nsudo lvchange -r 0 \/dev\/mysqlLogVG\/mysqlLogLV\n\n\n#Format LVMs with ext4 and use nodiscard to make sure format time is fast on Nutanix due to SCSI unmap\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlDataVG\/mysqlDataLV\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlLogVG\/mysqlLogLV\n\nsleep 10\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"3ee7bf5d-2de9-4958-9b65-e30687c43f17"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Create Disk Setup"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"EXEC","uuid":"62ac7e71-c925-47f4-abda-10e288f7d730","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nsudo hostnamectl set-hostname \"@@{name}@@\"\n\n# -*- Mysql installation \nsudo yum install -y --quiet \"http:\/\/repo.mysql.com\/mysql80-community-release-el7.rpm\"\nsudo yum update -y --quiet\nsudo yum install -y --quiet sshpass mysql-community-server.x86_64\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"3ee7bf5d-2de9-4958-9b65-e30687c43f17"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install MySQL"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"EXEC","uuid":"70ee3aeb-4b66-4895-ad88-9e4c14b4a150","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\necho \"!includedir \/etc\/my.cnf.d\" | sudo tee -a \/etc\/my.cnf\n\necho \"[mysqld]\nbinlog-format=mixed\nlog-bin=mysql-bin\ndatadir=\/mysql\/data\nsql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES\ninnodb_data_home_dir = \/mysql\/data\ninnodb_log_group_home_dir = \/mysql\/log\ninnodb_file_per_table\ntmpdir=\/mysql\/tmpdir\ninnodb_undo_directory = \/mysql\/undo\ndefault-storage-engine = innodb\ndefault_tmp_storage_engine = innodb\ninnodb_log_files_in_group = 4\ninnodb_log_file_size = 1G\ninnodb_log_buffer_size = 8M\ninnodb_buffer_pool_size = 6G\t\nlarge-pages\t\ninnodb_buffer_pool_instances = 64\t\ninnodb_flush_method=O_DIRECT\t\ninnodb_flush_neighbors=0\t \ninnodb_flush_log_at_trx_commit=1\ninnodb_buffer_pool_dump_at_shutdown=1\t\ninnodb_buffer_pool_load_at_startup=1\t\nbulk_insert_buffer_size = 256\t\ninnodb_thread_concurrency = 16\t\n \t \n# Undo tablespace\t \ninnodb_undo_tablespaces = 5\t\n \t \n# Networking\t \nwait_timeout=57600\t \nmax_allowed_packet=1G\t\nsocket=\/var\/lib\/mysql\/mysql.sock\t \nskip-name-resolve\nport=3306\t\nmax_connections=1000\t\n\n\n[mysqld_safe]\nlog-error=\/mysql\/log\/mysqld.log\npid-file=\/var\/run\/mysqld\/mysqld.pid\" | sudo tee \/etc\/my.cnf.d\/nutanix.cnf\n\nsudo sed -i \"\/\\[mysqld\\]\/a server-id=100\" \/etc\/my.cnf.d\/nutanix.cnf\necho \"#master=100\" | sudo tee -a  \/etc\/my.cnf.d\/nutanix.cnf\n\nserver_id=`sudo cat \/etc\/my.cnf.d\/nutanix.cnf | grep  \"server-id=\" | cut -d= -f2`\nis_master=`sudo cat \/etc\/my.cnf.d\/nutanix.cnf | grep -q -w \"#master=$server_id\"; echo $?`\n\nif [ ${is_master} -ne 0 ]\nthen\n   sudo sed -i '\/\\[mysqld\\]\/a read_only=1' \/etc\/my.cnf.d\/nutanix.cnf\nfi\n\n# -*- Sysctl configuration\nmysql_grp_id=`id -g mysql`\nsudo sysctl -w vm.swappiness=0\nsudo sysctl -w vm.nr_hugepages=1024\nsudo sysctl -w vm.overcommit_memory=1\nsudo sysctl -w vm.dirty_background_ratio=5 \nsudo sysctl -w vm.dirty_ratio=15\nsudo sysctl -w vm.dirty_expire_centisecs=500\nsudo sysctl -w vm.dirty_writeback_centisecs=100\nsudo sysctl -w vm.hugetlb_shm_group=$mysql_grp_id\n\necho \"vm.swappiness=0\nvm.nr_hugepages=1024\nvm.overcommit_memory=1\nvm.dirty_background_ratio=5 \nvm.dirty_ratio=15\nvm.dirty_expire_centisecs=500\nvm.dirty_writeback_centisecs=100\nvm.hugetlb_shm_group=$mysql_grp_id\" | sudo tee  -a \/etc\/sysctl.conf\n\necho \"ACTION=='add|change', SUBSYSTEM=='block', RUN+='\/bin\/sh -c \\\"\/bin\/echo 1024 > \/sys%p\/queue\/max_sectors_kb\\\"'\" | sudo tee \/etc\/udev\/rules.d\/71-block-max-sectors.rules\n\necho \"\/dev\/mysqlDataVG\/mysqlDataLV \/mysql\/data ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\necho \"\/dev\/mysqlLogVG\/mysqlLogLV \/mysql\/log ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\nsudo mkdir -p \/mysql\/log \/mysql\/data \/mysql\/tmpdir \/mysql\/undo\nsudo mount -a\nsudo chown -R mysql:mysql \/mysql\n\nsudo systemctl enable mysqld\n\nsudo rm -rf \/mysql\/data\/*\nsudo systemctl start mysqld\n\n#Fix to obtain temp password and set it to blank\npassword=$(grep -oP 'temporary password(.*): \\K(\\S+)' \/var\/log\/mysqld.log)\nsudo mysqladmin --user=root --password=\"$password\" password aaBB**cc1122\nsudo mysql --user=root --password=aaBB**cc1122 -e \"UNINSTALL COMPONENT 'file:\/\/component_validate_password'\"\nsudo mysqladmin --user=root --password=\"aaBB**cc1122\" password \"\"\n\n\n#Mysql secure installation\nsudo mysql -u root<<-EOF\nALTER USER 'root'@'localhost' IDENTIFIED WITH caching_sha2_password BY '@@{MYSQL_PASSWORD}@@';\nDELETE FROM mysql.user WHERE User='root' AND Host NOT IN ('localhost', '127.0.0.1', '::1');\nDELETE FROM mysql.user WHERE User='';\nDELETE FROM mysql.db WHERE Db='test' OR Db='test\\_%';\nFLUSH PRIVILEGES;\nEOF\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"3ee7bf5d-2de9-4958-9b65-e30687c43f17"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Setup MySQL"}],"description":"","message_list":[],"uuid":"3a983271-a01d-474c-b6fc-c43eba420090","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"9cbec184_dag","uuid":"3197b99c-326c-43ff-8190-11a3f68ab674"},"name":"ee9a3de0_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVMasterPackage","uuid":"81a41acc-b3b9-4f6c-a201-f4c0801ff657"},"retries":"0","description":"","type":"DAG","uuid":"3ea8aed3-7fe5-488d-a8a6-4b1a988c0eb7","child_tasks_local_reference_list":[{"kind":"app_task","name":"PackageUninstallTask","uuid":"879e50c4-1339-48dc-a9ad-9e64e766e836"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"7e474eb1_dag"},{"target_any_local_reference":{"kind":"app_package","name":"AHVMasterPackage","uuid":"81a41acc-b3b9-4f6c-a201-f4c0801ff657"},"retries":"0","description":"","type":"EXEC","uuid":"879e50c4-1339-48dc-a9ad-9e64e766e836","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"3ee7bf5d-2de9-4958-9b65-e30687c43f17"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"PackageUninstallTask"}],"description":"","message_list":[],"uuid":"50febfe6-c574-40db-a274-0093d67ec278","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"7e474eb1_dag","uuid":"3ea8aed3-7fe5-488d-a8a6-4b1a988c0eb7"},"name":"4235ede6_runbook"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Uninstall_Crb_81a41acc_b3b9_4f6c_a201_f4c0801ff657"}],"description":"","message_list":[],"uuid":"09db8538-f052-4d84-8481-e25db04dceb5","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Package_81a41acc_b3b9_4f6c_a201_f4c0801ff657","uuid":"b7acb01f-aab6-42b5-8474-260b50e80529"},"name":"SYS_GEN__Runbook_Package_81a41acc_b3b9_4f6c_a201_f4c0801ff657"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"ff32c074-9268-4c6d-8a3f-ed8698201c1a","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVMasterPackage","uuid":"81a41acc-b3b9-4f6c-a201-f4c0801ff657"},"retries":"0","description":"","type":"DAG","uuid":"1c29704a-a773-44da-af2e-144571ae67d1","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"febbe9ba-a53a-48aa-8ea2-1f98cefef5fa"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"fc3019f5-3d7e-490a-9d32-442c7feacf5f"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_81a41acc_b3b9_4f6c_a201_f4c0801ff657","uuid":"be75575a-0d8b-4650-ab30-d5e2a0051633"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"febbe9ba-a53a-48aa-8ea2-1f98cefef5fa"},"edge_type":"inherent","type":"","uuid":"166aee98-6509-42e2-b89a-b197b2f48ab1","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"fc3019f5-3d7e-490a-9d32-442c7feacf5f"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"fc3019f5-3d7e-490a-9d32-442c7feacf5f"},"edge_type":"inherent","type":"","uuid":"bfff4f20-aed3-4705-b639-570ae45967ec","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_81a41acc_b3b9_4f6c_a201_f4c0801ff657","uuid":"be75575a-0d8b-4650-ab30-d5e2a0051633"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_81a41acc_b3b9_4f6c_a201_f4c0801ff657"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"febbe9ba-a53a-48aa-8ea2-1f98cefef5fa","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0aefbca3_runbook","uuid":"ce2a2858-b89b-4bb4-8fb3-ee8bd8a6bd3f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"fc3019f5-3d7e-490a-9d32-442c7feacf5f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"5fd47ec3_runbook","uuid":"e410ef14-5f72-46ab-b7d5-0181621be34f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b"},{"target_any_local_reference":{"kind":"app_package","name":"AHVMasterPackage","uuid":"81a41acc-b3b9-4f6c-a201-f4c0801ff657"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"be75575a-0d8b-4650-ab30-d5e2a0051633","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_81a41acc_b3b9_4f6c_a201_f4c0801ff657","uuid":"09db8538-f052-4d84-8481-e25db04dceb5"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_81a41acc_b3b9_4f6c_a201_f4c0801ff657"}],"description":"","message_list":[],"uuid":"3c09a416-cd60-422c-9ec0-4ee8f896de9b","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_81a41acc_b3b9_4f6c_a201_f4c0801ff657","uuid":"1c29704a-a773-44da-af2e-144571ae67d1"},"name":"SYS_GEN__Runbook_Package_81a41acc_b3b9_4f6c_a201_f4c0801ff657"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"7f9cc0c9-e9d7-4c8e-894f-d8dcf00cda6a","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVMasterPackage","uuid":"81a41acc-b3b9-4f6c-a201-f4c0801ff657"},"retries":"0","description":"","type":"DAG","uuid":"f88ced04-3e01-4769-8674-678ba33da083","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"57e130b5-0a00-4d6a-b2ed-6af9d90ee678"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_81a41acc_b3b9_4f6c_a201_f4c0801ff657","uuid":"ccec9c18-599e-484c-91dd-630ac866e72f"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"57e130b5-0a00-4d6a-b2ed-6af9d90ee678"},"edge_type":"inherent","type":"","uuid":"77f2fcb0-d5b8-42ff-9cd5-80565ccb8ea0","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_81a41acc_b3b9_4f6c_a201_f4c0801ff657","uuid":"ccec9c18-599e-484c-91dd-630ac866e72f"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_81a41acc_b3b9_4f6c_a201_f4c0801ff657"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"57e130b5-0a00-4d6a-b2ed-6af9d90ee678","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"b9b6e25b-f9f5-473d-8c7e-6fcb8b23a4da"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b"},{"target_any_local_reference":{"kind":"app_package","name":"AHVMasterPackage","uuid":"81a41acc-b3b9-4f6c-a201-f4c0801ff657"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"ccec9c18-599e-484c-91dd-630ac866e72f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_81a41acc_b3b9_4f6c_a201_f4c0801ff657"}],"description":"","message_list":[],"uuid":"000f1e71-e364-4f54-8664-c5b0b5a4c08c","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_81a41acc_b3b9_4f6c_a201_f4c0801ff657","uuid":"f88ced04-3e01-4769-8674-678ba33da083"},"name":"SYS_GEN__Runbook_Package_81a41acc_b3b9_4f6c_a201_f4c0801ff657"}},{"description":"System action for starting an application","message_list":[],"uuid":"a03dfc96-8b98-4c50-a77b-a00cfeae21c4","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVMasterPackage","uuid":"81a41acc-b3b9-4f6c-a201-f4c0801ff657"},"retries":"0","description":"","type":"DAG","uuid":"c0b73ed5-a91b-404b-9935-eb33b1ade73e","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"0d8313cd-a2ec-4768-8cbd-6c06a3073bd6"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_81a41acc_b3b9_4f6c_a201_f4c0801ff657"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"0d8313cd-a2ec-4768-8cbd-6c06a3073bd6","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"5ddb28d1_runbook","uuid":"907290fe-eaef-465b-a916-7c2c67d20c97"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b"}],"description":"","message_list":[],"uuid":"e2e2fc7a-2e30-4ef9-823b-04447379b9ef","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_81a41acc_b3b9_4f6c_a201_f4c0801ff657","uuid":"c0b73ed5-a91b-404b-9935-eb33b1ade73e"},"name":"SYS_GEN__Runbook_Package_81a41acc_b3b9_4f6c_a201_f4c0801ff657"}},{"description":"System action for restarting an application","message_list":[],"uuid":"c01ca2f6-9918-4df8-baa3-519cab7860fa","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVMasterPackage","uuid":"81a41acc-b3b9-4f6c-a201-f4c0801ff657"},"retries":"0","description":"","type":"DAG","uuid":"c57bfb78-1a2e-4c56-8bce-e598f5a114d3","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"ba0bae56-6ee9-4d1c-bfcd-9c8d02bdd81a"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_81a41acc_b3b9_4f6c_a201_f4c0801ff657"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"ba0bae56-6ee9-4d1c-bfcd-9c8d02bdd81a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"7e709238_runbook","uuid":"e38aa3c5-d052-4d28-84e6-acfb09a6af83"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b"}],"description":"","message_list":[],"uuid":"755859c5-ab07-4c33-9fa6-1ff980d8c257","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_81a41acc_b3b9_4f6c_a201_f4c0801ff657","uuid":"c57bfb78-1a2e-4c56-8bce-e598f5a114d3"},"name":"SYS_GEN__Runbook_Package_81a41acc_b3b9_4f6c_a201_f4c0801ff657"}},{"description":"System action for stopping an application","message_list":[],"uuid":"32e2253c-54cc-4543-9a81-e740c318f096","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVMasterPackage","uuid":"81a41acc-b3b9-4f6c-a201-f4c0801ff657"},"retries":"0","description":"","type":"DAG","uuid":"b60b388a-7999-4b09-8448-fcd79265fea0","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"b1e9030a-0adf-4397-89ab-c9c7dd0192e2"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_81a41acc_b3b9_4f6c_a201_f4c0801ff657"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"b1e9030a-0adf-4397-89ab-c9c7dd0192e2","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0aefbca3_runbook","uuid":"ce2a2858-b89b-4bb4-8fb3-ee8bd8a6bd3f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b"}],"description":"","message_list":[],"uuid":"40265232-6149-45cb-bae5-c1b906c45765","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_81a41acc_b3b9_4f6c_a201_f4c0801ff657","uuid":"b60b388a-7999-4b09-8448-fcd79265fea0"},"name":"SYS_GEN__Runbook_Package_81a41acc_b3b9_4f6c_a201_f4c0801ff657"}}],"message_list":[],"service_local_reference_list":[{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"}],"uuid":"81a41acc-b3b9-4f6c-a201-f4c0801ff657","state":"ACTIVE","version":"","editables":{},"type":"DEB","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVMasterPackage","uuid":"81a41acc-b3b9-4f6c-a201-f4c0801ff657"},"retries":"0","description":"","type":"DAG","uuid":"3197b99c-326c-43ff-8190-11a3f68ab674","child_tasks_local_reference_list":[{"kind":"app_task","name":"Install System Packages","uuid":"8192efef-01c0-40c9-98f4-770c06bacfca"},{"kind":"app_task","name":"Create Disk Setup","uuid":"65967983-1067-42ff-84c2-8f464f1ee491"},{"kind":"app_task","name":"Install MySQL","uuid":"62ac7e71-c925-47f4-abda-10e288f7d730"},{"kind":"app_task","name":"Setup MySQL","uuid":"70ee3aeb-4b66-4895-ad88-9e4c14b4a150"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Install System Packages","uuid":"8192efef-01c0-40c9-98f4-770c06bacfca"},"edge_type":"user_defined","type":"","uuid":"a64fc6f6-4048-47ea-8f65-1a96fcac1344","to_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"65967983-1067-42ff-84c2-8f464f1ee491"}},{"from_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"65967983-1067-42ff-84c2-8f464f1ee491"},"edge_type":"user_defined","type":"","uuid":"49fe8511-7e7c-42cd-a796-27f79c83d0dd","to_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"62ac7e71-c925-47f4-abda-10e288f7d730"}},{"from_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"62ac7e71-c925-47f4-abda-10e288f7d730"},"edge_type":"user_defined","type":"","uuid":"242eb95c-7f3e-4f61-8b5c-b9029a7f9000","to_task_reference":{"kind":"app_task","name":"Setup MySQL","uuid":"70ee3aeb-4b66-4895-ad88-9e4c14b4a150"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"9cbec184_dag"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"EXEC","uuid":"8192efef-01c0-40c9-98f4-770c06bacfca","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n# -*- Install Mysql\nsudo yum update -y --quiet\nsudo yum install -y  wget xfs* bc unzip lvm2* lsscsi\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"System packages are installed\"","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"3ee7bf5d-2de9-4958-9b65-e30687c43f17"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install System Packages"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"EXEC","uuid":"65967983-1067-42ff-84c2-8f464f1ee491","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n##############\n#\n# LVM setup script for MySQL . 4 disks for DATA and 4 for logs\n# Data disks are 50GB | Log disks are 25GB \n#\n#############\n\n\n#PGSQL data\nsudo pvcreate \/dev\/sdb \/dev\/sdc \/dev\/sdd \/dev\/sde\nsudo vgcreate mysqlDataVG \/dev\/sdb \/dev\/sdd \/dev\/sdc \/dev\/sde\nsudo lvcreate -l 100%FREE -i4 -I1M -n mysqlDataLV mysqlDataVG          ## Use 1MB to avoid IO amplification \n#lvcreate -l 100%FREE -i4 -I4M -n pgDataLV pgDataVG\n\n\n#PGSQL logs\nsudo pvcreate \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo vgcreate mysqlLogVG \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo lvcreate -l 100%FREE -i2 -I1M -n mysqlLogLV mysqlLogVG            ## Use 1MB to avoid IO amplification\n#lvcreate -l 100%FREE -i2 -I4M -n pgLogLV pgLogVG\n\n\n#Disable LVM read ahead\nsudo lvchange -r 0 \/dev\/mysqlDataVG\/mysqlDataLV\nsudo lvchange -r 0 \/dev\/mysqlLogVG\/mysqlLogLV\n\n\n#Format LVMs with ext4 and use nodiscard to make sure format time is fast on Nutanix due to SCSI unmap\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlDataVG\/mysqlDataLV\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlLogVG\/mysqlLogLV\n\nsleep 10\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"3ee7bf5d-2de9-4958-9b65-e30687c43f17"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Create Disk Setup"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"EXEC","uuid":"62ac7e71-c925-47f4-abda-10e288f7d730","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nsudo hostnamectl set-hostname \"@@{name}@@\"\n\n# -*- Mysql installation \nsudo yum install -y --quiet \"http:\/\/repo.mysql.com\/mysql80-community-release-el7.rpm\"\nsudo yum update -y --quiet\nsudo yum install -y --quiet sshpass mysql-community-server.x86_64\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"3ee7bf5d-2de9-4958-9b65-e30687c43f17"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install MySQL"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"EXEC","uuid":"70ee3aeb-4b66-4895-ad88-9e4c14b4a150","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\necho \"!includedir \/etc\/my.cnf.d\" | sudo tee -a \/etc\/my.cnf\n\necho \"[mysqld]\nbinlog-format=mixed\nlog-bin=mysql-bin\ndatadir=\/mysql\/data\nsql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES\ninnodb_data_home_dir = \/mysql\/data\ninnodb_log_group_home_dir = \/mysql\/log\ninnodb_file_per_table\ntmpdir=\/mysql\/tmpdir\ninnodb_undo_directory = \/mysql\/undo\ndefault-storage-engine = innodb\ndefault_tmp_storage_engine = innodb\ninnodb_log_files_in_group = 4\ninnodb_log_file_size = 1G\ninnodb_log_buffer_size = 8M\ninnodb_buffer_pool_size = 6G\t\nlarge-pages\t\ninnodb_buffer_pool_instances = 64\t\ninnodb_flush_method=O_DIRECT\t\ninnodb_flush_neighbors=0\t \ninnodb_flush_log_at_trx_commit=1\ninnodb_buffer_pool_dump_at_shutdown=1\t\ninnodb_buffer_pool_load_at_startup=1\t\nbulk_insert_buffer_size = 256\t\ninnodb_thread_concurrency = 16\t\n \t \n# Undo tablespace\t \ninnodb_undo_tablespaces = 5\t\n \t \n# Networking\t \nwait_timeout=57600\t \nmax_allowed_packet=1G\t\nsocket=\/var\/lib\/mysql\/mysql.sock\t \nskip-name-resolve\nport=3306\t\nmax_connections=1000\t\n\n\n[mysqld_safe]\nlog-error=\/mysql\/log\/mysqld.log\npid-file=\/var\/run\/mysqld\/mysqld.pid\" | sudo tee \/etc\/my.cnf.d\/nutanix.cnf\n\nsudo sed -i \"\/\\[mysqld\\]\/a server-id=100\" \/etc\/my.cnf.d\/nutanix.cnf\necho \"#master=100\" | sudo tee -a  \/etc\/my.cnf.d\/nutanix.cnf\n\nserver_id=`sudo cat \/etc\/my.cnf.d\/nutanix.cnf | grep  \"server-id=\" | cut -d= -f2`\nis_master=`sudo cat \/etc\/my.cnf.d\/nutanix.cnf | grep -q -w \"#master=$server_id\"; echo $?`\n\nif [ ${is_master} -ne 0 ]\nthen\n   sudo sed -i '\/\\[mysqld\\]\/a read_only=1' \/etc\/my.cnf.d\/nutanix.cnf\nfi\n\n# -*- Sysctl configuration\nmysql_grp_id=`id -g mysql`\nsudo sysctl -w vm.swappiness=0\nsudo sysctl -w vm.nr_hugepages=1024\nsudo sysctl -w vm.overcommit_memory=1\nsudo sysctl -w vm.dirty_background_ratio=5 \nsudo sysctl -w vm.dirty_ratio=15\nsudo sysctl -w vm.dirty_expire_centisecs=500\nsudo sysctl -w vm.dirty_writeback_centisecs=100\nsudo sysctl -w vm.hugetlb_shm_group=$mysql_grp_id\n\necho \"vm.swappiness=0\nvm.nr_hugepages=1024\nvm.overcommit_memory=1\nvm.dirty_background_ratio=5 \nvm.dirty_ratio=15\nvm.dirty_expire_centisecs=500\nvm.dirty_writeback_centisecs=100\nvm.hugetlb_shm_group=$mysql_grp_id\" | sudo tee  -a \/etc\/sysctl.conf\n\necho \"ACTION=='add|change', SUBSYSTEM=='block', RUN+='\/bin\/sh -c \\\"\/bin\/echo 1024 > \/sys%p\/queue\/max_sectors_kb\\\"'\" | sudo tee \/etc\/udev\/rules.d\/71-block-max-sectors.rules\n\necho \"\/dev\/mysqlDataVG\/mysqlDataLV \/mysql\/data ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\necho \"\/dev\/mysqlLogVG\/mysqlLogLV \/mysql\/log ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\nsudo mkdir -p \/mysql\/log \/mysql\/data \/mysql\/tmpdir \/mysql\/undo\nsudo mount -a\nsudo chown -R mysql:mysql \/mysql\n\nsudo systemctl enable mysqld\n\nsudo rm -rf \/mysql\/data\/*\nsudo systemctl start mysqld\n\n#Fix to obtain temp password and set it to blank\npassword=$(grep -oP 'temporary password(.*): \\K(\\S+)' \/var\/log\/mysqld.log)\nsudo mysqladmin --user=root --password=\"$password\" password aaBB**cc1122\nsudo mysql --user=root --password=aaBB**cc1122 -e \"UNINSTALL COMPONENT 'file:\/\/component_validate_password'\"\nsudo mysqladmin --user=root --password=\"aaBB**cc1122\" password \"\"\n\n\n#Mysql secure installation\nsudo mysql -u root<<-EOF\nALTER USER 'root'@'localhost' IDENTIFIED WITH caching_sha2_password BY '@@{MYSQL_PASSWORD}@@';\nDELETE FROM mysql.user WHERE User='root' AND Host NOT IN ('localhost', '127.0.0.1', '::1');\nDELETE FROM mysql.user WHERE User='';\nDELETE FROM mysql.db WHERE Db='test' OR Db='test\\_%';\nFLUSH PRIVILEGES;\nEOF\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"3ee7bf5d-2de9-4958-9b65-e30687c43f17"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Setup MySQL"}],"description":"","message_list":[],"uuid":"3a983271-a01d-474c-b6fc-c43eba420090","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"9cbec184_dag","uuid":"3197b99c-326c-43ff-8190-11a3f68ab674"},"name":"ee9a3de0_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVMasterPackage","uuid":"81a41acc-b3b9-4f6c-a201-f4c0801ff657"},"retries":"0","description":"","type":"DAG","uuid":"3ea8aed3-7fe5-488d-a8a6-4b1a988c0eb7","child_tasks_local_reference_list":[{"kind":"app_task","name":"PackageUninstallTask","uuid":"879e50c4-1339-48dc-a9ad-9e64e766e836"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"7e474eb1_dag"},{"target_any_local_reference":{"kind":"app_package","name":"AHVMasterPackage","uuid":"81a41acc-b3b9-4f6c-a201-f4c0801ff657"},"retries":"0","description":"","type":"EXEC","uuid":"879e50c4-1339-48dc-a9ad-9e64e766e836","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"3ee7bf5d-2de9-4958-9b65-e30687c43f17"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"PackageUninstallTask"}],"description":"","message_list":[],"uuid":"50febfe6-c574-40db-a274-0093d67ec278","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"7e474eb1_dag","uuid":"3ea8aed3-7fe5-488d-a8a6-4b1a988c0eb7"},"name":"4235ede6_runbook"}},"variable_list":[],"name":"AHVMasterPackage"},{"description":"","action_list":[{"description":"System action for installing an application","message_list":[],"uuid":"5710b52c-aef1-4929-91e3-63be56a37118","name":"action_install","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVSlavePackage","uuid":"7d73448d-ff3f-4216-9ebf-a58913350eea"},"retries":"0","description":"","type":"DAG","uuid":"a5651ee4-204c-4327-88b4-11093e36d779","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Install_Crb_7d73448d_ff3f_4216_9ebf_a58913350eea","uuid":"24e7c787-26fe-487b-851f-c79e14e86b1b"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Package_7d73448d_ff3f_4216_9ebf_a58913350eea"},{"target_any_local_reference":{"kind":"app_package","name":"AHVSlavePackage","uuid":"7d73448d-ff3f-4216-9ebf-a58913350eea"},"retries":"0","description":"","type":"CUSTOM_PACKAGE_INSTALL","uuid":"24e7c787-26fe-487b-851f-c79e14e86b1b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVSlavePackage","uuid":"7d73448d-ff3f-4216-9ebf-a58913350eea"},"retries":"0","description":"","type":"DAG","uuid":"9bdbf2d4-42ed-4ae5-9c2a-53b6616cd6f7","child_tasks_local_reference_list":[{"kind":"app_task","name":"Install System Packages","uuid":"265350cd-3765-4f65-945b-a36234d71269"},{"kind":"app_task","name":"Create Disk Setup","uuid":"4d2f7820-20a6-4ded-8b11-216650411be2"},{"kind":"app_task","name":"Install MySQL","uuid":"cf45efd7-3b8f-44a5-ad53-441d0c1011aa"},{"kind":"app_task","name":"Setup MySQL","uuid":"1e16624f-a295-4428-bab1-be9406de3ee5"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Install System Packages","uuid":"265350cd-3765-4f65-945b-a36234d71269"},"edge_type":"user_defined","type":"","uuid":"7b973836-8661-42ac-b7de-ec7deaacb853","to_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"4d2f7820-20a6-4ded-8b11-216650411be2"}},{"from_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"4d2f7820-20a6-4ded-8b11-216650411be2"},"edge_type":"user_defined","type":"","uuid":"963252bc-35e0-4085-95d6-760023e7e8f3","to_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"cf45efd7-3b8f-44a5-ad53-441d0c1011aa"}},{"from_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"cf45efd7-3b8f-44a5-ad53-441d0c1011aa"},"edge_type":"user_defined","type":"","uuid":"dee91112-3631-4de9-a8ea-7d66cff9fd97","to_task_reference":{"kind":"app_task","name":"Setup MySQL","uuid":"1e16624f-a295-4428-bab1-be9406de3ee5"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"35a5e492_dag"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","description":"","type":"EXEC","uuid":"265350cd-3765-4f65-945b-a36234d71269","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n# -*- Install Mysql\nsudo yum update -y --quiet\nsudo yum install -y  wget xfs* bc unzip lvm2* lsscsi\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"System packages are installed\"","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"3ee7bf5d-2de9-4958-9b65-e30687c43f17"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install System Packages"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","description":"","type":"EXEC","uuid":"4d2f7820-20a6-4ded-8b11-216650411be2","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n##############\n#\n# LVM setup script for MySQL . 4 disks for DATA and 4 for logs\n# Data disks are 50GB | Log disks are 25GB \n#\n#############\n\n\n#PGSQL data\nsudo pvcreate \/dev\/sdb \/dev\/sdc \/dev\/sdd \/dev\/sde\nsudo vgcreate mysqlDataVG \/dev\/sdb \/dev\/sdd \/dev\/sdc \/dev\/sde\nsudo lvcreate -l 100%FREE -i4 -I1M -n mysqlDataLV mysqlDataVG          ## Use 1MB to avoid IO amplification \n#lvcreate -l 100%FREE -i4 -I4M -n pgDataLV pgDataVG\n\n\n#PGSQL logs\nsudo pvcreate \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo vgcreate mysqlLogVG \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo lvcreate -l 100%FREE -i2 -I1M -n mysqlLogLV mysqlLogVG            ## Use 1MB to avoid IO amplification\n#lvcreate -l 100%FREE -i2 -I4M -n pgLogLV pgLogVG\n\n\n#Disable LVM read ahead\nsudo lvchange -r 0 \/dev\/mysqlDataVG\/mysqlDataLV\nsudo lvchange -r 0 \/dev\/mysqlLogVG\/mysqlLogLV\n\n\n#Format LVMs with ext4 and use nodiscard to make sure format time is fast on Nutanix due to SCSI unmap\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlDataVG\/mysqlDataLV\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlLogVG\/mysqlLogLV\n\nsleep 10\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"3ee7bf5d-2de9-4958-9b65-e30687c43f17"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Create Disk Setup"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","description":"","type":"EXEC","uuid":"cf45efd7-3b8f-44a5-ad53-441d0c1011aa","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nsudo hostnamectl set-hostname \"@@{name}@@\"\n\n# -*- Mysql installation \nsudo yum install -y --quiet \"http:\/\/repo.mysql.com\/mysql80-community-release-el7.rpm\"\nsudo yum update -y --quiet\nsudo yum install -y --quiet sshpass mysql-community-server.x86_64\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"3ee7bf5d-2de9-4958-9b65-e30687c43f17"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install MySQL"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","description":"","type":"EXEC","uuid":"1e16624f-a295-4428-bab1-be9406de3ee5","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\necho \"!includedir \/etc\/my.cnf.d\" | sudo tee -a \/etc\/my.cnf\n\necho \"[mysqld]\nbinlog-format=mixed\nlog-bin=mysql-bin\ndatadir=\/mysql\/data\nsql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES\ninnodb_data_home_dir = \/mysql\/data\ninnodb_log_group_home_dir = \/mysql\/log\ninnodb_file_per_table\ntmpdir=\/mysql\/tmpdir\ninnodb_undo_directory = \/mysql\/undo\ndefault-storage-engine = innodb\ndefault_tmp_storage_engine = innodb\ninnodb_log_files_in_group = 4\ninnodb_log_file_size = 1G\ninnodb_log_buffer_size = 8M\ninnodb_buffer_pool_size = 6G\t\nlarge-pages\t\ninnodb_buffer_pool_instances = 64\t\ninnodb_flush_method=O_DIRECT\t\ninnodb_flush_neighbors=0\t \ninnodb_flush_log_at_trx_commit=1\ninnodb_buffer_pool_dump_at_shutdown=1\t\ninnodb_buffer_pool_load_at_startup=1\t\nbulk_insert_buffer_size = 256\t\ninnodb_thread_concurrency = 16\t\n \t \n# Undo tablespace\t \ninnodb_undo_tablespaces = 5\t\n \t \n# Networking\t \nwait_timeout=57600\t \nmax_allowed_packet=1G\t\nsocket=\/var\/lib\/mysql\/mysql.sock\t \nskip-name-resolve\nport=3306\t\nmax_connections=1000\t\n\n\n[mysqld_safe]\nlog-error=\/mysql\/log\/mysqld.log\npid-file=\/var\/run\/mysqld\/mysqld.pid\" | sudo tee \/etc\/my.cnf.d\/nutanix.cnf\n\necho \"#master=100\" | sudo tee -a  \/etc\/my.cnf.d\/nutanix.cnf\n\nserver_id=`sudo cat \/etc\/my.cnf | grep  \"server-id=\" | cut -d= -f2`\nis_master=`sudo cat \/etc\/my.cnf | grep -q -w \"#master=$server_id\"; echo $?`\n\nif [ ${is_master} -ne 0 ]\nthen\n   sudo sed -i '\/\\[mysqld\\]\/a read_only=1' \/etc\/my.cnf.d\/nutanix.cnf\nfi\n\n# -*- Sysctl configuration\nmysql_grp_id=`id -g mysql`\nsudo sysctl -w vm.swappiness=0\nsudo sysctl -w vm.nr_hugepages=1024\nsudo sysctl -w vm.overcommit_memory=1\nsudo sysctl -w vm.dirty_background_ratio=5 \nsudo sysctl -w vm.dirty_ratio=15\nsudo sysctl -w vm.dirty_expire_centisecs=500\nsudo sysctl -w vm.dirty_writeback_centisecs=100\nsudo sysctl -w vm.hugetlb_shm_group=$mysql_grp_id\n\necho \"vm.swappiness=0\nvm.nr_hugepages=1024\nvm.overcommit_memory=1\nvm.dirty_background_ratio=5 \nvm.dirty_ratio=15\nvm.dirty_expire_centisecs=500\nvm.dirty_writeback_centisecs=100\nvm.hugetlb_shm_group=$mysql_grp_id\" | sudo tee  -a \/etc\/sysctl.conf\n\necho \"ACTION=='add|change', SUBSYSTEM=='block', RUN+='\/bin\/sh -c \\\"\/bin\/echo 1024 > \/sys%p\/queue\/max_sectors_kb\\\"'\" | sudo tee \/etc\/udev\/rules.d\/71-block-max-sectors.rules\n\n\necho \"\/dev\/mysqlDataVG\/mysqlDataLV \/mysql\/data ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\necho \"\/dev\/mysqlLogVG\/mysqlLogLV \/mysql\/log ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\nsudo mkdir -p \/mysql\/log \/mysql\/data \/mysql\/tmpdir \/mysql\/undo\nsudo mount -a\nsudo chown -R mysql:mysql \/mysql\n\nsudo systemctl enable mysqld\n\nsudo rm -rf \/mysql\/data\/*\nsudo systemctl start mysqld\n\n#Fix to obtain temp password and set it to blank\npassword=$(grep -oP 'temporary password(.*): \\K(\\S+)' \/var\/log\/mysqld.log)\nsudo mysqladmin --user=root --password=\"$password\" password aaBB**cc1122\nsudo mysql --user=root --password=aaBB**cc1122 -e \"UNINSTALL COMPONENT 'file:\/\/component_validate_password'\"\nsudo mysqladmin --user=root --password=\"aaBB**cc1122\" password \"\"\n\n\n#Mysql secure installation\nsudo mysql -u root<<-EOF\nALTER USER 'root'@'localhost' IDENTIFIED WITH caching_sha2_password BY '@@{MYSQL_PASSWORD}@@';\nDELETE FROM mysql.user WHERE User='root' AND Host NOT IN ('localhost', '127.0.0.1', '::1');\nDELETE FROM mysql.user WHERE User='';\nDELETE FROM mysql.db WHERE Db='test' OR Db='test\\_%';\nFLUSH PRIVILEGES;\nEOF\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"3ee7bf5d-2de9-4958-9b65-e30687c43f17"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Setup MySQL"}],"description":"","message_list":[],"uuid":"f4354c03-68e8-4f33-9b2a-e642a81ad87c","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"35a5e492_dag","uuid":"9bdbf2d4-42ed-4ae5-9c2a-53b6616cd6f7"},"name":"db3247c6_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVSlavePackage","uuid":"7d73448d-ff3f-4216-9ebf-a58913350eea"},"retries":"0","description":"","type":"DAG","uuid":"9f115ab4-797f-44a0-880f-2d6f3488fba7","child_tasks_local_reference_list":[{"kind":"app_task","name":"PackageUninstallTask","uuid":"b1ccf385-506e-412d-bb7a-4b92f190bc4a"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"53d74d7d_dag"},{"target_any_local_reference":{"kind":"app_package","name":"AHVSlavePackage","uuid":"7d73448d-ff3f-4216-9ebf-a58913350eea"},"retries":"0","description":"","type":"EXEC","uuid":"b1ccf385-506e-412d-bb7a-4b92f190bc4a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"3ee7bf5d-2de9-4958-9b65-e30687c43f17"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"PackageUninstallTask"}],"description":"","message_list":[],"uuid":"a7ebad8b-10de-45a8-8bae-ebaf40e6fa64","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"53d74d7d_dag","uuid":"9f115ab4-797f-44a0-880f-2d6f3488fba7"},"name":"a4fbe7d2_runbook"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Install_Crb_7d73448d_ff3f_4216_9ebf_a58913350eea"}],"description":"","message_list":[],"uuid":"93e141a5-f69b-49ed-bd51-452ec0713d94","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Package_7d73448d_ff3f_4216_9ebf_a58913350eea","uuid":"a5651ee4-204c-4327-88b4-11093e36d779"},"name":"SYS_GEN__Runbook_Package_7d73448d_ff3f_4216_9ebf_a58913350eea"}},{"description":"System action for creating an application","message_list":[],"uuid":"d0b3cb6d-8399-4ab8-8753-5d7f8c8c2f32","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVSlavePackage","uuid":"7d73448d-ff3f-4216-9ebf-a58913350eea"},"retries":"0","description":"","type":"DAG","uuid":"d0f42c69-28e9-4193-9b2b-eb00968697b3","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_7d73448d_ff3f_4216_9ebf_a58913350eea","uuid":"0b9fe05d-f113-448e-99ae-043440b996f2"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"2b01d966-f600-4c13-ba76-c551d1e96f65"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"e32f0df8-c47c-49be-aee8-843e21630463"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"2b01d966-f600-4c13-ba76-c551d1e96f65"},"edge_type":"inherent","type":"","uuid":"f1ed894c-72de-48aa-b1b3-123093a1ae29","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"e32f0df8-c47c-49be-aee8-843e21630463"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_7d73448d_ff3f_4216_9ebf_a58913350eea","uuid":"0b9fe05d-f113-448e-99ae-043440b996f2"},"edge_type":"inherent","type":"","uuid":"cb5146eb-9f01-48d8-ae7b-ee41f72c35b6","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"2b01d966-f600-4c13-ba76-c551d1e96f65"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_7d73448d_ff3f_4216_9ebf_a58913350eea"},{"target_any_local_reference":{"kind":"app_package","name":"AHVSlavePackage","uuid":"7d73448d-ff3f-4216-9ebf-a58913350eea"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"0b9fe05d-f113-448e-99ae-043440b996f2","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_7d73448d_ff3f_4216_9ebf_a58913350eea","uuid":"93e141a5-f69b-49ed-bd51-452ec0713d94"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_7d73448d_ff3f_4216_9ebf_a58913350eea"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"2b01d966-f600-4c13-ba76-c551d1e96f65","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"d54168c9_runbook","uuid":"d9d72b08-90b4-46c2-a771-6d338abb4bc3"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"e32f0df8-c47c-49be-aee8-843e21630463","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"a027cde0_runbook","uuid":"557651c0-2ccf-45cb-beb3-9f2028221b2e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d"}],"description":"","message_list":[],"uuid":"cc0e2a34-d391-45d2-a89f-abd8fc14d6e2","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_7d73448d_ff3f_4216_9ebf_a58913350eea","uuid":"d0f42c69-28e9-4193-9b2b-eb00968697b3"},"name":"SYS_GEN__Runbook_Package_7d73448d_ff3f_4216_9ebf_a58913350eea"}},{"description":"System action for uninstalling an application","message_list":[],"uuid":"d62e57eb-10f2-46c9-9e96-55fc2b6dab68","name":"action_uninstall","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVSlavePackage","uuid":"7d73448d-ff3f-4216-9ebf-a58913350eea"},"retries":"0","description":"","type":"DAG","uuid":"178fc66a-ef8a-40a7-9947-b39a152d94ac","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Uninstall_Crb_7d73448d_ff3f_4216_9ebf_a58913350eea","uuid":"2dfaa233-bcb6-4ee5-8ca8-a172f172f232"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Package_7d73448d_ff3f_4216_9ebf_a58913350eea"},{"target_any_local_reference":{"kind":"app_package","name":"AHVSlavePackage","uuid":"7d73448d-ff3f-4216-9ebf-a58913350eea"},"retries":"0","description":"","type":"CUSTOM_PACKAGE_UNINSTALL","uuid":"2dfaa233-bcb6-4ee5-8ca8-a172f172f232","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVSlavePackage","uuid":"7d73448d-ff3f-4216-9ebf-a58913350eea"},"retries":"0","description":"","type":"DAG","uuid":"9bdbf2d4-42ed-4ae5-9c2a-53b6616cd6f7","child_tasks_local_reference_list":[{"kind":"app_task","name":"Install System Packages","uuid":"265350cd-3765-4f65-945b-a36234d71269"},{"kind":"app_task","name":"Create Disk Setup","uuid":"4d2f7820-20a6-4ded-8b11-216650411be2"},{"kind":"app_task","name":"Install MySQL","uuid":"cf45efd7-3b8f-44a5-ad53-441d0c1011aa"},{"kind":"app_task","name":"Setup MySQL","uuid":"1e16624f-a295-4428-bab1-be9406de3ee5"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Install System Packages","uuid":"265350cd-3765-4f65-945b-a36234d71269"},"edge_type":"user_defined","type":"","uuid":"7b973836-8661-42ac-b7de-ec7deaacb853","to_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"4d2f7820-20a6-4ded-8b11-216650411be2"}},{"from_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"4d2f7820-20a6-4ded-8b11-216650411be2"},"edge_type":"user_defined","type":"","uuid":"963252bc-35e0-4085-95d6-760023e7e8f3","to_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"cf45efd7-3b8f-44a5-ad53-441d0c1011aa"}},{"from_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"cf45efd7-3b8f-44a5-ad53-441d0c1011aa"},"edge_type":"user_defined","type":"","uuid":"dee91112-3631-4de9-a8ea-7d66cff9fd97","to_task_reference":{"kind":"app_task","name":"Setup MySQL","uuid":"1e16624f-a295-4428-bab1-be9406de3ee5"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"35a5e492_dag"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","description":"","type":"EXEC","uuid":"265350cd-3765-4f65-945b-a36234d71269","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n# -*- Install Mysql\nsudo yum update -y --quiet\nsudo yum install -y  wget xfs* bc unzip lvm2* lsscsi\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"System packages are installed\"","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"3ee7bf5d-2de9-4958-9b65-e30687c43f17"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install System Packages"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","description":"","type":"EXEC","uuid":"4d2f7820-20a6-4ded-8b11-216650411be2","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n##############\n#\n# LVM setup script for MySQL . 4 disks for DATA and 4 for logs\n# Data disks are 50GB | Log disks are 25GB \n#\n#############\n\n\n#PGSQL data\nsudo pvcreate \/dev\/sdb \/dev\/sdc \/dev\/sdd \/dev\/sde\nsudo vgcreate mysqlDataVG \/dev\/sdb \/dev\/sdd \/dev\/sdc \/dev\/sde\nsudo lvcreate -l 100%FREE -i4 -I1M -n mysqlDataLV mysqlDataVG          ## Use 1MB to avoid IO amplification \n#lvcreate -l 100%FREE -i4 -I4M -n pgDataLV pgDataVG\n\n\n#PGSQL logs\nsudo pvcreate \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo vgcreate mysqlLogVG \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo lvcreate -l 100%FREE -i2 -I1M -n mysqlLogLV mysqlLogVG            ## Use 1MB to avoid IO amplification\n#lvcreate -l 100%FREE -i2 -I4M -n pgLogLV pgLogVG\n\n\n#Disable LVM read ahead\nsudo lvchange -r 0 \/dev\/mysqlDataVG\/mysqlDataLV\nsudo lvchange -r 0 \/dev\/mysqlLogVG\/mysqlLogLV\n\n\n#Format LVMs with ext4 and use nodiscard to make sure format time is fast on Nutanix due to SCSI unmap\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlDataVG\/mysqlDataLV\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlLogVG\/mysqlLogLV\n\nsleep 10\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"3ee7bf5d-2de9-4958-9b65-e30687c43f17"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Create Disk Setup"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","description":"","type":"EXEC","uuid":"cf45efd7-3b8f-44a5-ad53-441d0c1011aa","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nsudo hostnamectl set-hostname \"@@{name}@@\"\n\n# -*- Mysql installation \nsudo yum install -y --quiet \"http:\/\/repo.mysql.com\/mysql80-community-release-el7.rpm\"\nsudo yum update -y --quiet\nsudo yum install -y --quiet sshpass mysql-community-server.x86_64\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"3ee7bf5d-2de9-4958-9b65-e30687c43f17"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install MySQL"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","description":"","type":"EXEC","uuid":"1e16624f-a295-4428-bab1-be9406de3ee5","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\necho \"!includedir \/etc\/my.cnf.d\" | sudo tee -a \/etc\/my.cnf\n\necho \"[mysqld]\nbinlog-format=mixed\nlog-bin=mysql-bin\ndatadir=\/mysql\/data\nsql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES\ninnodb_data_home_dir = \/mysql\/data\ninnodb_log_group_home_dir = \/mysql\/log\ninnodb_file_per_table\ntmpdir=\/mysql\/tmpdir\ninnodb_undo_directory = \/mysql\/undo\ndefault-storage-engine = innodb\ndefault_tmp_storage_engine = innodb\ninnodb_log_files_in_group = 4\ninnodb_log_file_size = 1G\ninnodb_log_buffer_size = 8M\ninnodb_buffer_pool_size = 6G\t\nlarge-pages\t\ninnodb_buffer_pool_instances = 64\t\ninnodb_flush_method=O_DIRECT\t\ninnodb_flush_neighbors=0\t \ninnodb_flush_log_at_trx_commit=1\ninnodb_buffer_pool_dump_at_shutdown=1\t\ninnodb_buffer_pool_load_at_startup=1\t\nbulk_insert_buffer_size = 256\t\ninnodb_thread_concurrency = 16\t\n \t \n# Undo tablespace\t \ninnodb_undo_tablespaces = 5\t\n \t \n# Networking\t \nwait_timeout=57600\t \nmax_allowed_packet=1G\t\nsocket=\/var\/lib\/mysql\/mysql.sock\t \nskip-name-resolve\nport=3306\t\nmax_connections=1000\t\n\n\n[mysqld_safe]\nlog-error=\/mysql\/log\/mysqld.log\npid-file=\/var\/run\/mysqld\/mysqld.pid\" | sudo tee \/etc\/my.cnf.d\/nutanix.cnf\n\necho \"#master=100\" | sudo tee -a  \/etc\/my.cnf.d\/nutanix.cnf\n\nserver_id=`sudo cat \/etc\/my.cnf | grep  \"server-id=\" | cut -d= -f2`\nis_master=`sudo cat \/etc\/my.cnf | grep -q -w \"#master=$server_id\"; echo $?`\n\nif [ ${is_master} -ne 0 ]\nthen\n   sudo sed -i '\/\\[mysqld\\]\/a read_only=1' \/etc\/my.cnf.d\/nutanix.cnf\nfi\n\n# -*- Sysctl configuration\nmysql_grp_id=`id -g mysql`\nsudo sysctl -w vm.swappiness=0\nsudo sysctl -w vm.nr_hugepages=1024\nsudo sysctl -w vm.overcommit_memory=1\nsudo sysctl -w vm.dirty_background_ratio=5 \nsudo sysctl -w vm.dirty_ratio=15\nsudo sysctl -w vm.dirty_expire_centisecs=500\nsudo sysctl -w vm.dirty_writeback_centisecs=100\nsudo sysctl -w vm.hugetlb_shm_group=$mysql_grp_id\n\necho \"vm.swappiness=0\nvm.nr_hugepages=1024\nvm.overcommit_memory=1\nvm.dirty_background_ratio=5 \nvm.dirty_ratio=15\nvm.dirty_expire_centisecs=500\nvm.dirty_writeback_centisecs=100\nvm.hugetlb_shm_group=$mysql_grp_id\" | sudo tee  -a \/etc\/sysctl.conf\n\necho \"ACTION=='add|change', SUBSYSTEM=='block', RUN+='\/bin\/sh -c \\\"\/bin\/echo 1024 > \/sys%p\/queue\/max_sectors_kb\\\"'\" | sudo tee \/etc\/udev\/rules.d\/71-block-max-sectors.rules\n\n\necho \"\/dev\/mysqlDataVG\/mysqlDataLV \/mysql\/data ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\necho \"\/dev\/mysqlLogVG\/mysqlLogLV \/mysql\/log ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\nsudo mkdir -p \/mysql\/log \/mysql\/data \/mysql\/tmpdir \/mysql\/undo\nsudo mount -a\nsudo chown -R mysql:mysql \/mysql\n\nsudo systemctl enable mysqld\n\nsudo rm -rf \/mysql\/data\/*\nsudo systemctl start mysqld\n\n#Fix to obtain temp password and set it to blank\npassword=$(grep -oP 'temporary password(.*): \\K(\\S+)' \/var\/log\/mysqld.log)\nsudo mysqladmin --user=root --password=\"$password\" password aaBB**cc1122\nsudo mysql --user=root --password=aaBB**cc1122 -e \"UNINSTALL COMPONENT 'file:\/\/component_validate_password'\"\nsudo mysqladmin --user=root --password=\"aaBB**cc1122\" password \"\"\n\n\n#Mysql secure installation\nsudo mysql -u root<<-EOF\nALTER USER 'root'@'localhost' IDENTIFIED WITH caching_sha2_password BY '@@{MYSQL_PASSWORD}@@';\nDELETE FROM mysql.user WHERE User='root' AND Host NOT IN ('localhost', '127.0.0.1', '::1');\nDELETE FROM mysql.user WHERE User='';\nDELETE FROM mysql.db WHERE Db='test' OR Db='test\\_%';\nFLUSH PRIVILEGES;\nEOF\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"3ee7bf5d-2de9-4958-9b65-e30687c43f17"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Setup MySQL"}],"description":"","message_list":[],"uuid":"f4354c03-68e8-4f33-9b2a-e642a81ad87c","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"35a5e492_dag","uuid":"9bdbf2d4-42ed-4ae5-9c2a-53b6616cd6f7"},"name":"db3247c6_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVSlavePackage","uuid":"7d73448d-ff3f-4216-9ebf-a58913350eea"},"retries":"0","description":"","type":"DAG","uuid":"9f115ab4-797f-44a0-880f-2d6f3488fba7","child_tasks_local_reference_list":[{"kind":"app_task","name":"PackageUninstallTask","uuid":"b1ccf385-506e-412d-bb7a-4b92f190bc4a"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"53d74d7d_dag"},{"target_any_local_reference":{"kind":"app_package","name":"AHVSlavePackage","uuid":"7d73448d-ff3f-4216-9ebf-a58913350eea"},"retries":"0","description":"","type":"EXEC","uuid":"b1ccf385-506e-412d-bb7a-4b92f190bc4a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"3ee7bf5d-2de9-4958-9b65-e30687c43f17"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"PackageUninstallTask"}],"description":"","message_list":[],"uuid":"a7ebad8b-10de-45a8-8bae-ebaf40e6fa64","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"53d74d7d_dag","uuid":"9f115ab4-797f-44a0-880f-2d6f3488fba7"},"name":"a4fbe7d2_runbook"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Uninstall_Crb_7d73448d_ff3f_4216_9ebf_a58913350eea"}],"description":"","message_list":[],"uuid":"7c30afdb-7ba2-40ed-b100-4ef40312b0f3","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Package_7d73448d_ff3f_4216_9ebf_a58913350eea","uuid":"178fc66a-ef8a-40a7-9947-b39a152d94ac"},"name":"SYS_GEN__Runbook_Package_7d73448d_ff3f_4216_9ebf_a58913350eea"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"0d51286a-9567-47da-8812-8467fd8617c7","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVSlavePackage","uuid":"7d73448d-ff3f-4216-9ebf-a58913350eea"},"retries":"0","description":"","type":"DAG","uuid":"8f1fc7bf-f397-4ad8-99b5-fa765921b691","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"b965d9ae-8fee-489d-8d57-09290bfed00d"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"f283483e-cb77-4aad-8f33-1d405ebeae53"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_7d73448d_ff3f_4216_9ebf_a58913350eea","uuid":"3463fcf1-6b98-4586-a1b3-ab1d3176fd29"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"b965d9ae-8fee-489d-8d57-09290bfed00d"},"edge_type":"inherent","type":"","uuid":"b7ec5369-4aac-4057-b8e6-00276859d392","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"f283483e-cb77-4aad-8f33-1d405ebeae53"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"f283483e-cb77-4aad-8f33-1d405ebeae53"},"edge_type":"inherent","type":"","uuid":"e7586e66-edb1-49bf-923f-c5a99be43f2a","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_7d73448d_ff3f_4216_9ebf_a58913350eea","uuid":"3463fcf1-6b98-4586-a1b3-ab1d3176fd29"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_7d73448d_ff3f_4216_9ebf_a58913350eea"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"b965d9ae-8fee-489d-8d57-09290bfed00d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"4a2ad0be_runbook","uuid":"d405c9d6-da96-4365-b171-e7ffb7e6b913"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"f283483e-cb77-4aad-8f33-1d405ebeae53","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"92247e35_runbook","uuid":"c1fdda9f-aaee-4b0d-899f-a32eb5819a33"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d"},{"target_any_local_reference":{"kind":"app_package","name":"AHVSlavePackage","uuid":"7d73448d-ff3f-4216-9ebf-a58913350eea"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"3463fcf1-6b98-4586-a1b3-ab1d3176fd29","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_7d73448d_ff3f_4216_9ebf_a58913350eea","uuid":"7c30afdb-7ba2-40ed-b100-4ef40312b0f3"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_7d73448d_ff3f_4216_9ebf_a58913350eea"}],"description":"","message_list":[],"uuid":"ebc90c1b-ce55-411f-8eea-63f13050705d","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_7d73448d_ff3f_4216_9ebf_a58913350eea","uuid":"8f1fc7bf-f397-4ad8-99b5-fa765921b691"},"name":"SYS_GEN__Runbook_Package_7d73448d_ff3f_4216_9ebf_a58913350eea"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"ad952b6a-d744-4811-a029-6735f7028e38","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVSlavePackage","uuid":"7d73448d-ff3f-4216-9ebf-a58913350eea"},"retries":"0","description":"","type":"DAG","uuid":"95617bce-9819-4abe-9a12-af298c732d28","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"51ee3940-6f9b-4cf0-887f-604cbb163e5a"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_7d73448d_ff3f_4216_9ebf_a58913350eea","uuid":"6fe57848-2ef2-4fc5-a21d-9a74563b1cf6"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"51ee3940-6f9b-4cf0-887f-604cbb163e5a"},"edge_type":"inherent","type":"","uuid":"57d4707f-99af-4874-8aa1-a3be0ab72e29","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_7d73448d_ff3f_4216_9ebf_a58913350eea","uuid":"6fe57848-2ef2-4fc5-a21d-9a74563b1cf6"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_7d73448d_ff3f_4216_9ebf_a58913350eea"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"51ee3940-6f9b-4cf0-887f-604cbb163e5a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"9cb9ecf0-89cd-4611-812d-2535c64945cf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d"},{"target_any_local_reference":{"kind":"app_package","name":"AHVSlavePackage","uuid":"7d73448d-ff3f-4216-9ebf-a58913350eea"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"6fe57848-2ef2-4fc5-a21d-9a74563b1cf6","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_7d73448d_ff3f_4216_9ebf_a58913350eea"}],"description":"","message_list":[],"uuid":"2c62b260-62c9-4dff-af1d-17f4158498be","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_7d73448d_ff3f_4216_9ebf_a58913350eea","uuid":"95617bce-9819-4abe-9a12-af298c732d28"},"name":"SYS_GEN__Runbook_Package_7d73448d_ff3f_4216_9ebf_a58913350eea"}},{"description":"System action for starting an application","message_list":[],"uuid":"69672f10-7ef1-419e-a617-36865723826b","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVSlavePackage","uuid":"7d73448d-ff3f-4216-9ebf-a58913350eea"},"retries":"0","description":"","type":"DAG","uuid":"98922a7d-5c27-4761-ac86-ce6b26f1dfea","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"122c28f6-8365-44eb-b406-c1edfe0c443f"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_7d73448d_ff3f_4216_9ebf_a58913350eea"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"122c28f6-8365-44eb-b406-c1edfe0c443f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"a027cde0_runbook","uuid":"557651c0-2ccf-45cb-beb3-9f2028221b2e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d"}],"description":"","message_list":[],"uuid":"19d96588-e68d-402c-bc4a-01579087c779","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_7d73448d_ff3f_4216_9ebf_a58913350eea","uuid":"98922a7d-5c27-4761-ac86-ce6b26f1dfea"},"name":"SYS_GEN__Runbook_Package_7d73448d_ff3f_4216_9ebf_a58913350eea"}},{"description":"System action for restarting an application","message_list":[],"uuid":"38cb5432-bb36-4c95-9d59-06d86d158b73","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVSlavePackage","uuid":"7d73448d-ff3f-4216-9ebf-a58913350eea"},"retries":"0","description":"","type":"DAG","uuid":"c6fd469d-41d0-424b-b5f6-cc49f19bc7fb","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"9b739f4a-2a68-4605-bba9-5ca89cb6a9dd"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_7d73448d_ff3f_4216_9ebf_a58913350eea"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"9b739f4a-2a68-4605-bba9-5ca89cb6a9dd","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"f2b2a076_runbook","uuid":"d30fe7b4-3486-4f8a-a3b8-e08401237ee7"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d"}],"description":"","message_list":[],"uuid":"40f4660d-3742-4253-bcb1-956bb553ce14","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_7d73448d_ff3f_4216_9ebf_a58913350eea","uuid":"c6fd469d-41d0-424b-b5f6-cc49f19bc7fb"},"name":"SYS_GEN__Runbook_Package_7d73448d_ff3f_4216_9ebf_a58913350eea"}},{"description":"System action for stopping an application","message_list":[],"uuid":"21ae7b87-35bc-4038-bbfc-dd2322673533","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVSlavePackage","uuid":"7d73448d-ff3f-4216-9ebf-a58913350eea"},"retries":"0","description":"","type":"DAG","uuid":"b3a9ca51-a4d4-46aa-9dcf-0bbf27de2929","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"d6afaaa2-29dd-4e9f-acb0-074ba7c69d39"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_7d73448d_ff3f_4216_9ebf_a58913350eea"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"d6afaaa2-29dd-4e9f-acb0-074ba7c69d39","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"4a2ad0be_runbook","uuid":"d405c9d6-da96-4365-b171-e7ffb7e6b913"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d"}],"description":"","message_list":[],"uuid":"6e74bc0b-e51d-49dc-affe-6ecb8724e5e7","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_7d73448d_ff3f_4216_9ebf_a58913350eea","uuid":"b3a9ca51-a4d4-46aa-9dcf-0bbf27de2929"},"name":"SYS_GEN__Runbook_Package_7d73448d_ff3f_4216_9ebf_a58913350eea"}}],"message_list":[],"service_local_reference_list":[{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"}],"uuid":"7d73448d-ff3f-4216-9ebf-a58913350eea","state":"ACTIVE","version":"","editables":{},"type":"DEB","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVSlavePackage","uuid":"7d73448d-ff3f-4216-9ebf-a58913350eea"},"retries":"0","description":"","type":"DAG","uuid":"9bdbf2d4-42ed-4ae5-9c2a-53b6616cd6f7","child_tasks_local_reference_list":[{"kind":"app_task","name":"Install System Packages","uuid":"265350cd-3765-4f65-945b-a36234d71269"},{"kind":"app_task","name":"Create Disk Setup","uuid":"4d2f7820-20a6-4ded-8b11-216650411be2"},{"kind":"app_task","name":"Install MySQL","uuid":"cf45efd7-3b8f-44a5-ad53-441d0c1011aa"},{"kind":"app_task","name":"Setup MySQL","uuid":"1e16624f-a295-4428-bab1-be9406de3ee5"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Install System Packages","uuid":"265350cd-3765-4f65-945b-a36234d71269"},"edge_type":"user_defined","type":"","uuid":"7b973836-8661-42ac-b7de-ec7deaacb853","to_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"4d2f7820-20a6-4ded-8b11-216650411be2"}},{"from_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"4d2f7820-20a6-4ded-8b11-216650411be2"},"edge_type":"user_defined","type":"","uuid":"963252bc-35e0-4085-95d6-760023e7e8f3","to_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"cf45efd7-3b8f-44a5-ad53-441d0c1011aa"}},{"from_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"cf45efd7-3b8f-44a5-ad53-441d0c1011aa"},"edge_type":"user_defined","type":"","uuid":"dee91112-3631-4de9-a8ea-7d66cff9fd97","to_task_reference":{"kind":"app_task","name":"Setup MySQL","uuid":"1e16624f-a295-4428-bab1-be9406de3ee5"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"35a5e492_dag"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","description":"","type":"EXEC","uuid":"265350cd-3765-4f65-945b-a36234d71269","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n# -*- Install Mysql\nsudo yum update -y --quiet\nsudo yum install -y  wget xfs* bc unzip lvm2* lsscsi\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"System packages are installed\"","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"3ee7bf5d-2de9-4958-9b65-e30687c43f17"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install System Packages"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","description":"","type":"EXEC","uuid":"4d2f7820-20a6-4ded-8b11-216650411be2","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n##############\n#\n# LVM setup script for MySQL . 4 disks for DATA and 4 for logs\n# Data disks are 50GB | Log disks are 25GB \n#\n#############\n\n\n#PGSQL data\nsudo pvcreate \/dev\/sdb \/dev\/sdc \/dev\/sdd \/dev\/sde\nsudo vgcreate mysqlDataVG \/dev\/sdb \/dev\/sdd \/dev\/sdc \/dev\/sde\nsudo lvcreate -l 100%FREE -i4 -I1M -n mysqlDataLV mysqlDataVG          ## Use 1MB to avoid IO amplification \n#lvcreate -l 100%FREE -i4 -I4M -n pgDataLV pgDataVG\n\n\n#PGSQL logs\nsudo pvcreate \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo vgcreate mysqlLogVG \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo lvcreate -l 100%FREE -i2 -I1M -n mysqlLogLV mysqlLogVG            ## Use 1MB to avoid IO amplification\n#lvcreate -l 100%FREE -i2 -I4M -n pgLogLV pgLogVG\n\n\n#Disable LVM read ahead\nsudo lvchange -r 0 \/dev\/mysqlDataVG\/mysqlDataLV\nsudo lvchange -r 0 \/dev\/mysqlLogVG\/mysqlLogLV\n\n\n#Format LVMs with ext4 and use nodiscard to make sure format time is fast on Nutanix due to SCSI unmap\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlDataVG\/mysqlDataLV\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlLogVG\/mysqlLogLV\n\nsleep 10\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"3ee7bf5d-2de9-4958-9b65-e30687c43f17"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Create Disk Setup"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","description":"","type":"EXEC","uuid":"cf45efd7-3b8f-44a5-ad53-441d0c1011aa","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nsudo hostnamectl set-hostname \"@@{name}@@\"\n\n# -*- Mysql installation \nsudo yum install -y --quiet \"http:\/\/repo.mysql.com\/mysql80-community-release-el7.rpm\"\nsudo yum update -y --quiet\nsudo yum install -y --quiet sshpass mysql-community-server.x86_64\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"3ee7bf5d-2de9-4958-9b65-e30687c43f17"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install MySQL"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","description":"","type":"EXEC","uuid":"1e16624f-a295-4428-bab1-be9406de3ee5","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\necho \"!includedir \/etc\/my.cnf.d\" | sudo tee -a \/etc\/my.cnf\n\necho \"[mysqld]\nbinlog-format=mixed\nlog-bin=mysql-bin\ndatadir=\/mysql\/data\nsql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES\ninnodb_data_home_dir = \/mysql\/data\ninnodb_log_group_home_dir = \/mysql\/log\ninnodb_file_per_table\ntmpdir=\/mysql\/tmpdir\ninnodb_undo_directory = \/mysql\/undo\ndefault-storage-engine = innodb\ndefault_tmp_storage_engine = innodb\ninnodb_log_files_in_group = 4\ninnodb_log_file_size = 1G\ninnodb_log_buffer_size = 8M\ninnodb_buffer_pool_size = 6G\t\nlarge-pages\t\ninnodb_buffer_pool_instances = 64\t\ninnodb_flush_method=O_DIRECT\t\ninnodb_flush_neighbors=0\t \ninnodb_flush_log_at_trx_commit=1\ninnodb_buffer_pool_dump_at_shutdown=1\t\ninnodb_buffer_pool_load_at_startup=1\t\nbulk_insert_buffer_size = 256\t\ninnodb_thread_concurrency = 16\t\n \t \n# Undo tablespace\t \ninnodb_undo_tablespaces = 5\t\n \t \n# Networking\t \nwait_timeout=57600\t \nmax_allowed_packet=1G\t\nsocket=\/var\/lib\/mysql\/mysql.sock\t \nskip-name-resolve\nport=3306\t\nmax_connections=1000\t\n\n\n[mysqld_safe]\nlog-error=\/mysql\/log\/mysqld.log\npid-file=\/var\/run\/mysqld\/mysqld.pid\" | sudo tee \/etc\/my.cnf.d\/nutanix.cnf\n\necho \"#master=100\" | sudo tee -a  \/etc\/my.cnf.d\/nutanix.cnf\n\nserver_id=`sudo cat \/etc\/my.cnf | grep  \"server-id=\" | cut -d= -f2`\nis_master=`sudo cat \/etc\/my.cnf | grep -q -w \"#master=$server_id\"; echo $?`\n\nif [ ${is_master} -ne 0 ]\nthen\n   sudo sed -i '\/\\[mysqld\\]\/a read_only=1' \/etc\/my.cnf.d\/nutanix.cnf\nfi\n\n# -*- Sysctl configuration\nmysql_grp_id=`id -g mysql`\nsudo sysctl -w vm.swappiness=0\nsudo sysctl -w vm.nr_hugepages=1024\nsudo sysctl -w vm.overcommit_memory=1\nsudo sysctl -w vm.dirty_background_ratio=5 \nsudo sysctl -w vm.dirty_ratio=15\nsudo sysctl -w vm.dirty_expire_centisecs=500\nsudo sysctl -w vm.dirty_writeback_centisecs=100\nsudo sysctl -w vm.hugetlb_shm_group=$mysql_grp_id\n\necho \"vm.swappiness=0\nvm.nr_hugepages=1024\nvm.overcommit_memory=1\nvm.dirty_background_ratio=5 \nvm.dirty_ratio=15\nvm.dirty_expire_centisecs=500\nvm.dirty_writeback_centisecs=100\nvm.hugetlb_shm_group=$mysql_grp_id\" | sudo tee  -a \/etc\/sysctl.conf\n\necho \"ACTION=='add|change', SUBSYSTEM=='block', RUN+='\/bin\/sh -c \\\"\/bin\/echo 1024 > \/sys%p\/queue\/max_sectors_kb\\\"'\" | sudo tee \/etc\/udev\/rules.d\/71-block-max-sectors.rules\n\n\necho \"\/dev\/mysqlDataVG\/mysqlDataLV \/mysql\/data ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\necho \"\/dev\/mysqlLogVG\/mysqlLogLV \/mysql\/log ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\nsudo mkdir -p \/mysql\/log \/mysql\/data \/mysql\/tmpdir \/mysql\/undo\nsudo mount -a\nsudo chown -R mysql:mysql \/mysql\n\nsudo systemctl enable mysqld\n\nsudo rm -rf \/mysql\/data\/*\nsudo systemctl start mysqld\n\n#Fix to obtain temp password and set it to blank\npassword=$(grep -oP 'temporary password(.*): \\K(\\S+)' \/var\/log\/mysqld.log)\nsudo mysqladmin --user=root --password=\"$password\" password aaBB**cc1122\nsudo mysql --user=root --password=aaBB**cc1122 -e \"UNINSTALL COMPONENT 'file:\/\/component_validate_password'\"\nsudo mysqladmin --user=root --password=\"aaBB**cc1122\" password \"\"\n\n\n#Mysql secure installation\nsudo mysql -u root<<-EOF\nALTER USER 'root'@'localhost' IDENTIFIED WITH caching_sha2_password BY '@@{MYSQL_PASSWORD}@@';\nDELETE FROM mysql.user WHERE User='root' AND Host NOT IN ('localhost', '127.0.0.1', '::1');\nDELETE FROM mysql.user WHERE User='';\nDELETE FROM mysql.db WHERE Db='test' OR Db='test\\_%';\nFLUSH PRIVILEGES;\nEOF\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"3ee7bf5d-2de9-4958-9b65-e30687c43f17"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Setup MySQL"}],"description":"","message_list":[],"uuid":"f4354c03-68e8-4f33-9b2a-e642a81ad87c","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"35a5e492_dag","uuid":"9bdbf2d4-42ed-4ae5-9c2a-53b6616cd6f7"},"name":"db3247c6_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVSlavePackage","uuid":"7d73448d-ff3f-4216-9ebf-a58913350eea"},"retries":"0","description":"","type":"DAG","uuid":"9f115ab4-797f-44a0-880f-2d6f3488fba7","child_tasks_local_reference_list":[{"kind":"app_task","name":"PackageUninstallTask","uuid":"b1ccf385-506e-412d-bb7a-4b92f190bc4a"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"53d74d7d_dag"},{"target_any_local_reference":{"kind":"app_package","name":"AHVSlavePackage","uuid":"7d73448d-ff3f-4216-9ebf-a58913350eea"},"retries":"0","description":"","type":"EXEC","uuid":"b1ccf385-506e-412d-bb7a-4b92f190bc4a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"3ee7bf5d-2de9-4958-9b65-e30687c43f17"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"PackageUninstallTask"}],"description":"","message_list":[],"uuid":"a7ebad8b-10de-45a8-8bae-ebaf40e6fa64","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"53d74d7d_dag","uuid":"9f115ab4-797f-44a0-880f-2d6f3488fba7"},"name":"a4fbe7d2_runbook"}},"variable_list":[],"name":"AHVSlavePackage"},{"description":"","action_list":[{"description":"System action for installing an application","message_list":[],"uuid":"914f77a8-9bc3-43ab-9dcd-66916983842e","name":"action_install","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSMasterPackage","uuid":"a441a852-e8a5-4f5d-a929-fd0542ae5d8b"},"retries":"0","description":"","type":"DAG","uuid":"197cca3c-1b18-403c-ae7b-65a73f3313ec","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Install_Crb_a441a852_e8a5_4f5d_a929_fd0542ae5d8b","uuid":"018274db-4716-4e17-acaf-8e9853cf648f"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Package_a441a852_e8a5_4f5d_a929_fd0542ae5d8b"},{"target_any_local_reference":{"kind":"app_package","name":"AWSMasterPackage","uuid":"a441a852-e8a5-4f5d-a929-fd0542ae5d8b"},"retries":"0","description":"","type":"CUSTOM_PACKAGE_INSTALL","uuid":"018274db-4716-4e17-acaf-8e9853cf648f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSMasterPackage","uuid":"a441a852-e8a5-4f5d-a929-fd0542ae5d8b"},"retries":"0","description":"","type":"DAG","uuid":"3f876c0a-cc1b-4e5b-83f1-e5248e6f50ae","child_tasks_local_reference_list":[{"kind":"app_task","name":"Install System Packages","uuid":"412b2919-54c1-4e87-9135-cd29a22a4a44"},{"kind":"app_task","name":"Create Disk Setup","uuid":"f7a9be7f-061e-447e-ad4e-495491c8d617"},{"kind":"app_task","name":"Install MySQL","uuid":"52099877-fbfe-4f6f-a7d5-194dbb9ad064"},{"kind":"app_task","name":"Setup MySQL","uuid":"baddad1e-acbc-42b6-b598-464d5bd16918"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Install System Packages","uuid":"412b2919-54c1-4e87-9135-cd29a22a4a44"},"edge_type":"user_defined","type":"","uuid":"442dce89-ffc7-417a-a10e-34930abcb4fa","to_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"f7a9be7f-061e-447e-ad4e-495491c8d617"}},{"from_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"f7a9be7f-061e-447e-ad4e-495491c8d617"},"edge_type":"user_defined","type":"","uuid":"b41c0f44-adcd-4b26-86c2-ae09722cd613","to_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"52099877-fbfe-4f6f-a7d5-194dbb9ad064"}},{"from_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"52099877-fbfe-4f6f-a7d5-194dbb9ad064"},"edge_type":"user_defined","type":"","uuid":"5eb04bff-c984-499a-825e-54c84b8d6a28","to_task_reference":{"kind":"app_task","name":"Setup MySQL","uuid":"baddad1e-acbc-42b6-b598-464d5bd16918"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"20906fd3_dag"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"EXEC","uuid":"412b2919-54c1-4e87-9135-cd29a22a4a44","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n# -*- Install Mysql\nsudo yum update -y --quiet\nsudo yum install -y  wget xfs* bc unzip lvm2*\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"System packages are installed\"","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"3ee7bf5d-2de9-4958-9b65-e30687c43f17"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install System Packages"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"EXEC","uuid":"f7a9be7f-061e-447e-ad4e-495491c8d617","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n##############\n#\n# LVM setup script for PostgreSQL . 4 disks for DATA and 2 for logs\n# Data disks are 60GB | Log disks are 20GB \n#\n#############\n\n\n#PGSQL data\nsudo pvcreate \/dev\/xvdb \/dev\/xvdc \/dev\/xvdd \/dev\/xvde\nsudo vgcreate mysqlDataVG \/dev\/xvdb \/dev\/xvdc \/dev\/xvdd \/dev\/xvde\nsudo lvcreate -l 100%FREE -i4 -I1M -n mysqlDataLV mysqlDataVG          ## Use 1MB to avoid IO amplification \n#lvcreate -l 100%FREE -i4 -I4M -n pgDataLV pgDataVG\n\n\n#PGSQL logs\nsudo pvcreate \/dev\/xvdf \/dev\/xvdg \/dev\/xvdh \/dev\/xvdi\nsudo vgcreate mysqlLogVG \/dev\/xvdf \/dev\/xvdg \/dev\/xvdh \/dev\/xvdi\nsudo lvcreate -l 100%FREE -i2 -I1M -n mysqlLogLV mysqlLogVG            ## Use 1MB to avoid IO amplification\n#lvcreate -l 100%FREE -i2 -I4M -n pgLogLV pgLogVG\n\n\n#Disable LVM read ahead\nsudo lvchange -r 0 \/dev\/mysqlDataVG\/mysqlDataLV\nsudo lvchange -r 0 \/dev\/mysqlLogVG\/mysqlLogLV\n\n\n#Format LVMs with ext4 and use nodiscard to make sure format time is fast on Nutanix due to SCSI unmap\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlDataVG\/mysqlDataLV\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlLogVG\/mysqlLogLV\n\nsleep 10\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"3ee7bf5d-2de9-4958-9b65-e30687c43f17"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Create Disk Setup"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"EXEC","uuid":"52099877-fbfe-4f6f-a7d5-194dbb9ad064","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nsudo hostnamectl set-hostname \"@@{name}@@\"\n\n# -*- Mysql installation \nsudo yum install -y --quiet \"http:\/\/repo.mysql.com\/mysql80-community-release-el7.rpm\"\nsudo yum update -y --quiet\nsudo yum install -y --quiet sshpass mysql-community-server.x86_64\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"3ee7bf5d-2de9-4958-9b65-e30687c43f17"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install MySQL"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"EXEC","uuid":"baddad1e-acbc-42b6-b598-464d5bd16918","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\necho \"!includedir \/etc\/my.cnf.d\" | sudo tee -a \/etc\/my.cnf\n\necho \"[mysqld]\nbinlog-format=mixed\nlog-bin=mysql-bin\ndatadir=\/mysql\/data\nsql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES\ninnodb_data_home_dir = \/mysql\/data\ninnodb_log_group_home_dir = \/mysql\/log\ninnodb_file_per_table\ntmpdir=\/mysql\/tmpdir\ninnodb_undo_directory = \/mysql\/undo\ndefault-storage-engine = innodb\ndefault_tmp_storage_engine = innodb\ninnodb_log_files_in_group = 4\ninnodb_log_file_size = 1G\ninnodb_log_buffer_size = 8M\ninnodb_buffer_pool_size = 6G\t\nlarge-pages\t\ninnodb_buffer_pool_instances = 64\t\ninnodb_flush_method=O_DIRECT\t\ninnodb_flush_neighbors=0\t \ninnodb_flush_log_at_trx_commit=1\ninnodb_buffer_pool_dump_at_shutdown=1\t\ninnodb_buffer_pool_load_at_startup=1\t\nbulk_insert_buffer_size = 256\t\ninnodb_thread_concurrency = 16\t\n \t \n# Undo tablespace\t \ninnodb_undo_tablespaces = 5\t\n \t \n# Networking\t \nwait_timeout=57600\t \nmax_allowed_packet=1G\t\nsocket=\/var\/lib\/mysql\/mysql.sock\t \nskip-name-resolve\nport=3306\t\nmax_connections=1000\t\n\n\n[mysqld_safe]\nlog-error=\/mysql\/log\/mysqld.log\npid-file=\/var\/run\/mysqld\/mysqld.pid\" | sudo tee \/etc\/my.cnf.d\/nutanix.cnf\n\nsudo sed -i \"\/\\[mysqld\\]\/a server-id=100\" \/etc\/my.cnf.d\/nutanix.cnf\necho \"#master=100\" | sudo tee -a  \/etc\/my.cnf.d\/nutanix.cnf\n\nserver_id=`sudo cat etc\/my.cnf.d\/nutanix.cnf | grep  \"server-id=\" | cut -d= -f2`\nis_master=`sudo cat etc\/my.cnf.d\/nutanix.cnf | grep -q -w \"#master=$server_id\"; echo $?`\n\nif [ ${is_master} -ne 0 ]\nthen\n   sudo sed -i '\/\\[mysqld\\]\/a read_only=1' \/etc\/my.cnf.d\/nutanix.cnf\nfi\n\n# -*- Sysctl configuration\nmysql_grp_id=`id -g mysql`\nsudo sysctl -w vm.swappiness=0\nsudo sysctl -w vm.nr_hugepages=1024\nsudo sysctl -w vm.overcommit_memory=1\nsudo sysctl -w vm.dirty_background_ratio=5 \nsudo sysctl -w vm.dirty_ratio=15\nsudo sysctl -w vm.dirty_expire_centisecs=500\nsudo sysctl -w vm.dirty_writeback_centisecs=100\nsudo sysctl -w vm.hugetlb_shm_group=$mysql_grp_id\n\necho \"vm.swappiness=0\nvm.nr_hugepages=1024\nvm.overcommit_memory=1\nvm.dirty_background_ratio=5 \nvm.dirty_ratio=15\nvm.dirty_expire_centisecs=500\nvm.dirty_writeback_centisecs=100\nvm.hugetlb_shm_group=$mysql_grp_id\" | sudo tee  -a \/etc\/sysctl.conf\n\necho \"ACTION=='add|change', SUBSYSTEM=='block', RUN+='\/bin\/sh -c \\\"\/bin\/echo 1024 > \/sys%p\/queue\/max_sectors_kb\\\"'\" | sudo tee \/etc\/udev\/rules.d\/71-block-max-sectors.rules\n\necho \"\/dev\/mysqlDataVG\/mysqlDataLV \/mysql\/data ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\necho \"\/dev\/mysqlLogVG\/mysqlLogLV \/mysql\/log ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\nsudo mkdir -p \/mysql\/log \/mysql\/data \/mysql\/tmpdir \/mysql\/undo\nsudo mount -a\nsudo chown -R mysql:mysql \/mysql\n\nsudo systemctl enable mysqld\n\nsudo rm -rf \/mysql\/data\/*\nsudo systemctl start mysqld\n\n#Fix to obtain temp password and set it to blank\npassword=$(grep -oP 'temporary password(.*): \\K(\\S+)' \/var\/log\/mysqld.log)\nsudo mysqladmin --user=root --password=\"$password\" password aaBB**cc1122\nsudo mysql --user=root --password=aaBB**cc1122 -e \"UNINSTALL COMPONENT 'file:\/\/component_validate_password'\"\nsudo mysqladmin --user=root --password=\"aaBB**cc1122\" password \"\"\n\n\n#Mysql secure installation\nsudo mysql -u root<<-EOF\nALTER USER 'root'@'localhost' IDENTIFIED WITH caching_sha2_password BY '@@{MYSQL_PASSWORD}@@';\nDELETE FROM mysql.user WHERE User='root' AND Host NOT IN ('localhost', '127.0.0.1', '::1');\nDELETE FROM mysql.user WHERE User='';\nDELETE FROM mysql.db WHERE Db='test' OR Db='test\\_%';\nFLUSH PRIVILEGES;\nEOF\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"3ee7bf5d-2de9-4958-9b65-e30687c43f17"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Setup MySQL"}],"description":"","message_list":[],"uuid":"e65fe349-d9e5-4bb0-82d9-4f53c43b99de","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"20906fd3_dag","uuid":"3f876c0a-cc1b-4e5b-83f1-e5248e6f50ae"},"name":"8c0bb7c2_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSMasterPackage","uuid":"a441a852-e8a5-4f5d-a929-fd0542ae5d8b"},"retries":"0","description":"","type":"DAG","uuid":"0e5e2826-240a-44bb-a65c-e240a45390a4","child_tasks_local_reference_list":[{"kind":"app_task","name":"PackageUninstallTask","uuid":"ba736592-427e-4061-8dbd-3c27c7f8ef00"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"102b4b68_dag"},{"target_any_local_reference":{"kind":"app_package","name":"AWSMasterPackage","uuid":"a441a852-e8a5-4f5d-a929-fd0542ae5d8b"},"retries":"0","description":"","type":"EXEC","uuid":"ba736592-427e-4061-8dbd-3c27c7f8ef00","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"3ee7bf5d-2de9-4958-9b65-e30687c43f17"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"PackageUninstallTask"}],"description":"","message_list":[],"uuid":"37ce32eb-34a5-43fb-a9af-8dfedd37149c","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"102b4b68_dag","uuid":"0e5e2826-240a-44bb-a65c-e240a45390a4"},"name":"97a9a9af_runbook"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Install_Crb_a441a852_e8a5_4f5d_a929_fd0542ae5d8b"}],"description":"","message_list":[],"uuid":"8d90483c-de15-4095-98ae-239e89e05cc0","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Package_a441a852_e8a5_4f5d_a929_fd0542ae5d8b","uuid":"197cca3c-1b18-403c-ae7b-65a73f3313ec"},"name":"SYS_GEN__Runbook_Package_a441a852_e8a5_4f5d_a929_fd0542ae5d8b"}},{"description":"System action for creating an application","message_list":[],"uuid":"fc842180-1beb-4a81-a596-9e53410a3726","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSMasterPackage","uuid":"a441a852-e8a5-4f5d-a929-fd0542ae5d8b"},"retries":"0","description":"","type":"DAG","uuid":"50d785d3-1e0a-45c9-8ce2-236569c4538e","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_a441a852_e8a5_4f5d_a929_fd0542ae5d8b","uuid":"cbfd7242-3aaf-4582-9277-20bad66bce9a"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"2f85c86a-f610-441a-b1a0-53bf4e244fde"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"8b1cc53f-fd4a-484d-bf17-5c0087fc3df7"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"2f85c86a-f610-441a-b1a0-53bf4e244fde"},"edge_type":"inherent","type":"","uuid":"f32e947b-42d2-407b-8363-b1bfda96b90d","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"8b1cc53f-fd4a-484d-bf17-5c0087fc3df7"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_a441a852_e8a5_4f5d_a929_fd0542ae5d8b","uuid":"cbfd7242-3aaf-4582-9277-20bad66bce9a"},"edge_type":"inherent","type":"","uuid":"a75d552f-0dec-4402-b37c-e6fa892a8ce8","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"2f85c86a-f610-441a-b1a0-53bf4e244fde"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_a441a852_e8a5_4f5d_a929_fd0542ae5d8b"},{"target_any_local_reference":{"kind":"app_package","name":"AWSMasterPackage","uuid":"a441a852-e8a5-4f5d-a929-fd0542ae5d8b"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"cbfd7242-3aaf-4582-9277-20bad66bce9a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_a441a852_e8a5_4f5d_a929_fd0542ae5d8b","uuid":"8d90483c-de15-4095-98ae-239e89e05cc0"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_a441a852_e8a5_4f5d_a929_fd0542ae5d8b"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"2f85c86a-f610-441a-b1a0-53bf4e244fde","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0a970522_runbook","uuid":"9866e43d-ff48-4abb-bade-7f5396ce551e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"8b1cc53f-fd4a-484d-bf17-5c0087fc3df7","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"5ddb28d1_runbook","uuid":"907290fe-eaef-465b-a916-7c2c67d20c97"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b"}],"description":"","message_list":[],"uuid":"1db21d78-a3de-413d-bad2-455b81a4d991","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_a441a852_e8a5_4f5d_a929_fd0542ae5d8b","uuid":"50d785d3-1e0a-45c9-8ce2-236569c4538e"},"name":"SYS_GEN__Runbook_Package_a441a852_e8a5_4f5d_a929_fd0542ae5d8b"}},{"description":"System action for uninstalling an application","message_list":[],"uuid":"238fd3c1-e6ae-4515-9c86-7f1067aabe0f","name":"action_uninstall","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSMasterPackage","uuid":"a441a852-e8a5-4f5d-a929-fd0542ae5d8b"},"retries":"0","description":"","type":"DAG","uuid":"efb83ff2-025c-4217-8ccc-536b8654c34b","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Uninstall_Crb_a441a852_e8a5_4f5d_a929_fd0542ae5d8b","uuid":"e80d15e6-2888-4782-989e-6fe3e4ee7aef"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Package_a441a852_e8a5_4f5d_a929_fd0542ae5d8b"},{"target_any_local_reference":{"kind":"app_package","name":"AWSMasterPackage","uuid":"a441a852-e8a5-4f5d-a929-fd0542ae5d8b"},"retries":"0","description":"","type":"CUSTOM_PACKAGE_UNINSTALL","uuid":"e80d15e6-2888-4782-989e-6fe3e4ee7aef","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSMasterPackage","uuid":"a441a852-e8a5-4f5d-a929-fd0542ae5d8b"},"retries":"0","description":"","type":"DAG","uuid":"3f876c0a-cc1b-4e5b-83f1-e5248e6f50ae","child_tasks_local_reference_list":[{"kind":"app_task","name":"Install System Packages","uuid":"412b2919-54c1-4e87-9135-cd29a22a4a44"},{"kind":"app_task","name":"Create Disk Setup","uuid":"f7a9be7f-061e-447e-ad4e-495491c8d617"},{"kind":"app_task","name":"Install MySQL","uuid":"52099877-fbfe-4f6f-a7d5-194dbb9ad064"},{"kind":"app_task","name":"Setup MySQL","uuid":"baddad1e-acbc-42b6-b598-464d5bd16918"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Install System Packages","uuid":"412b2919-54c1-4e87-9135-cd29a22a4a44"},"edge_type":"user_defined","type":"","uuid":"442dce89-ffc7-417a-a10e-34930abcb4fa","to_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"f7a9be7f-061e-447e-ad4e-495491c8d617"}},{"from_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"f7a9be7f-061e-447e-ad4e-495491c8d617"},"edge_type":"user_defined","type":"","uuid":"b41c0f44-adcd-4b26-86c2-ae09722cd613","to_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"52099877-fbfe-4f6f-a7d5-194dbb9ad064"}},{"from_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"52099877-fbfe-4f6f-a7d5-194dbb9ad064"},"edge_type":"user_defined","type":"","uuid":"5eb04bff-c984-499a-825e-54c84b8d6a28","to_task_reference":{"kind":"app_task","name":"Setup MySQL","uuid":"baddad1e-acbc-42b6-b598-464d5bd16918"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"20906fd3_dag"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"EXEC","uuid":"412b2919-54c1-4e87-9135-cd29a22a4a44","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n# -*- Install Mysql\nsudo yum update -y --quiet\nsudo yum install -y  wget xfs* bc unzip lvm2*\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"System packages are installed\"","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"3ee7bf5d-2de9-4958-9b65-e30687c43f17"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install System Packages"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"EXEC","uuid":"f7a9be7f-061e-447e-ad4e-495491c8d617","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n##############\n#\n# LVM setup script for PostgreSQL . 4 disks for DATA and 2 for logs\n# Data disks are 60GB | Log disks are 20GB \n#\n#############\n\n\n#PGSQL data\nsudo pvcreate \/dev\/xvdb \/dev\/xvdc \/dev\/xvdd \/dev\/xvde\nsudo vgcreate mysqlDataVG \/dev\/xvdb \/dev\/xvdc \/dev\/xvdd \/dev\/xvde\nsudo lvcreate -l 100%FREE -i4 -I1M -n mysqlDataLV mysqlDataVG          ## Use 1MB to avoid IO amplification \n#lvcreate -l 100%FREE -i4 -I4M -n pgDataLV pgDataVG\n\n\n#PGSQL logs\nsudo pvcreate \/dev\/xvdf \/dev\/xvdg \/dev\/xvdh \/dev\/xvdi\nsudo vgcreate mysqlLogVG \/dev\/xvdf \/dev\/xvdg \/dev\/xvdh \/dev\/xvdi\nsudo lvcreate -l 100%FREE -i2 -I1M -n mysqlLogLV mysqlLogVG            ## Use 1MB to avoid IO amplification\n#lvcreate -l 100%FREE -i2 -I4M -n pgLogLV pgLogVG\n\n\n#Disable LVM read ahead\nsudo lvchange -r 0 \/dev\/mysqlDataVG\/mysqlDataLV\nsudo lvchange -r 0 \/dev\/mysqlLogVG\/mysqlLogLV\n\n\n#Format LVMs with ext4 and use nodiscard to make sure format time is fast on Nutanix due to SCSI unmap\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlDataVG\/mysqlDataLV\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlLogVG\/mysqlLogLV\n\nsleep 10\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"3ee7bf5d-2de9-4958-9b65-e30687c43f17"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Create Disk Setup"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"EXEC","uuid":"52099877-fbfe-4f6f-a7d5-194dbb9ad064","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nsudo hostnamectl set-hostname \"@@{name}@@\"\n\n# -*- Mysql installation \nsudo yum install -y --quiet \"http:\/\/repo.mysql.com\/mysql80-community-release-el7.rpm\"\nsudo yum update -y --quiet\nsudo yum install -y --quiet sshpass mysql-community-server.x86_64\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"3ee7bf5d-2de9-4958-9b65-e30687c43f17"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install MySQL"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"EXEC","uuid":"baddad1e-acbc-42b6-b598-464d5bd16918","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\necho \"!includedir \/etc\/my.cnf.d\" | sudo tee -a \/etc\/my.cnf\n\necho \"[mysqld]\nbinlog-format=mixed\nlog-bin=mysql-bin\ndatadir=\/mysql\/data\nsql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES\ninnodb_data_home_dir = \/mysql\/data\ninnodb_log_group_home_dir = \/mysql\/log\ninnodb_file_per_table\ntmpdir=\/mysql\/tmpdir\ninnodb_undo_directory = \/mysql\/undo\ndefault-storage-engine = innodb\ndefault_tmp_storage_engine = innodb\ninnodb_log_files_in_group = 4\ninnodb_log_file_size = 1G\ninnodb_log_buffer_size = 8M\ninnodb_buffer_pool_size = 6G\t\nlarge-pages\t\ninnodb_buffer_pool_instances = 64\t\ninnodb_flush_method=O_DIRECT\t\ninnodb_flush_neighbors=0\t \ninnodb_flush_log_at_trx_commit=1\ninnodb_buffer_pool_dump_at_shutdown=1\t\ninnodb_buffer_pool_load_at_startup=1\t\nbulk_insert_buffer_size = 256\t\ninnodb_thread_concurrency = 16\t\n \t \n# Undo tablespace\t \ninnodb_undo_tablespaces = 5\t\n \t \n# Networking\t \nwait_timeout=57600\t \nmax_allowed_packet=1G\t\nsocket=\/var\/lib\/mysql\/mysql.sock\t \nskip-name-resolve\nport=3306\t\nmax_connections=1000\t\n\n\n[mysqld_safe]\nlog-error=\/mysql\/log\/mysqld.log\npid-file=\/var\/run\/mysqld\/mysqld.pid\" | sudo tee \/etc\/my.cnf.d\/nutanix.cnf\n\nsudo sed -i \"\/\\[mysqld\\]\/a server-id=100\" \/etc\/my.cnf.d\/nutanix.cnf\necho \"#master=100\" | sudo tee -a  \/etc\/my.cnf.d\/nutanix.cnf\n\nserver_id=`sudo cat etc\/my.cnf.d\/nutanix.cnf | grep  \"server-id=\" | cut -d= -f2`\nis_master=`sudo cat etc\/my.cnf.d\/nutanix.cnf | grep -q -w \"#master=$server_id\"; echo $?`\n\nif [ ${is_master} -ne 0 ]\nthen\n   sudo sed -i '\/\\[mysqld\\]\/a read_only=1' \/etc\/my.cnf.d\/nutanix.cnf\nfi\n\n# -*- Sysctl configuration\nmysql_grp_id=`id -g mysql`\nsudo sysctl -w vm.swappiness=0\nsudo sysctl -w vm.nr_hugepages=1024\nsudo sysctl -w vm.overcommit_memory=1\nsudo sysctl -w vm.dirty_background_ratio=5 \nsudo sysctl -w vm.dirty_ratio=15\nsudo sysctl -w vm.dirty_expire_centisecs=500\nsudo sysctl -w vm.dirty_writeback_centisecs=100\nsudo sysctl -w vm.hugetlb_shm_group=$mysql_grp_id\n\necho \"vm.swappiness=0\nvm.nr_hugepages=1024\nvm.overcommit_memory=1\nvm.dirty_background_ratio=5 \nvm.dirty_ratio=15\nvm.dirty_expire_centisecs=500\nvm.dirty_writeback_centisecs=100\nvm.hugetlb_shm_group=$mysql_grp_id\" | sudo tee  -a \/etc\/sysctl.conf\n\necho \"ACTION=='add|change', SUBSYSTEM=='block', RUN+='\/bin\/sh -c \\\"\/bin\/echo 1024 > \/sys%p\/queue\/max_sectors_kb\\\"'\" | sudo tee \/etc\/udev\/rules.d\/71-block-max-sectors.rules\n\necho \"\/dev\/mysqlDataVG\/mysqlDataLV \/mysql\/data ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\necho \"\/dev\/mysqlLogVG\/mysqlLogLV \/mysql\/log ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\nsudo mkdir -p \/mysql\/log \/mysql\/data \/mysql\/tmpdir \/mysql\/undo\nsudo mount -a\nsudo chown -R mysql:mysql \/mysql\n\nsudo systemctl enable mysqld\n\nsudo rm -rf \/mysql\/data\/*\nsudo systemctl start mysqld\n\n#Fix to obtain temp password and set it to blank\npassword=$(grep -oP 'temporary password(.*): \\K(\\S+)' \/var\/log\/mysqld.log)\nsudo mysqladmin --user=root --password=\"$password\" password aaBB**cc1122\nsudo mysql --user=root --password=aaBB**cc1122 -e \"UNINSTALL COMPONENT 'file:\/\/component_validate_password'\"\nsudo mysqladmin --user=root --password=\"aaBB**cc1122\" password \"\"\n\n\n#Mysql secure installation\nsudo mysql -u root<<-EOF\nALTER USER 'root'@'localhost' IDENTIFIED WITH caching_sha2_password BY '@@{MYSQL_PASSWORD}@@';\nDELETE FROM mysql.user WHERE User='root' AND Host NOT IN ('localhost', '127.0.0.1', '::1');\nDELETE FROM mysql.user WHERE User='';\nDELETE FROM mysql.db WHERE Db='test' OR Db='test\\_%';\nFLUSH PRIVILEGES;\nEOF\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"3ee7bf5d-2de9-4958-9b65-e30687c43f17"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Setup MySQL"}],"description":"","message_list":[],"uuid":"e65fe349-d9e5-4bb0-82d9-4f53c43b99de","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"20906fd3_dag","uuid":"3f876c0a-cc1b-4e5b-83f1-e5248e6f50ae"},"name":"8c0bb7c2_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSMasterPackage","uuid":"a441a852-e8a5-4f5d-a929-fd0542ae5d8b"},"retries":"0","description":"","type":"DAG","uuid":"0e5e2826-240a-44bb-a65c-e240a45390a4","child_tasks_local_reference_list":[{"kind":"app_task","name":"PackageUninstallTask","uuid":"ba736592-427e-4061-8dbd-3c27c7f8ef00"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"102b4b68_dag"},{"target_any_local_reference":{"kind":"app_package","name":"AWSMasterPackage","uuid":"a441a852-e8a5-4f5d-a929-fd0542ae5d8b"},"retries":"0","description":"","type":"EXEC","uuid":"ba736592-427e-4061-8dbd-3c27c7f8ef00","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"3ee7bf5d-2de9-4958-9b65-e30687c43f17"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"PackageUninstallTask"}],"description":"","message_list":[],"uuid":"37ce32eb-34a5-43fb-a9af-8dfedd37149c","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"102b4b68_dag","uuid":"0e5e2826-240a-44bb-a65c-e240a45390a4"},"name":"97a9a9af_runbook"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Uninstall_Crb_a441a852_e8a5_4f5d_a929_fd0542ae5d8b"}],"description":"","message_list":[],"uuid":"d999455a-9ae2-4f94-99b4-21dddfff4d8e","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Package_a441a852_e8a5_4f5d_a929_fd0542ae5d8b","uuid":"efb83ff2-025c-4217-8ccc-536b8654c34b"},"name":"SYS_GEN__Runbook_Package_a441a852_e8a5_4f5d_a929_fd0542ae5d8b"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"5d8de952-2b12-4f06-bca2-a826f2dfc0b6","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSMasterPackage","uuid":"a441a852-e8a5-4f5d-a929-fd0542ae5d8b"},"retries":"0","description":"","type":"DAG","uuid":"559ebe31-ee08-4bc8-a77e-53c1d540b13e","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"5a4da328-e0e5-4c82-b740-d68810afcc81"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"8728a3a1-7522-4d20-a441-44e1a9962ebc"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_a441a852_e8a5_4f5d_a929_fd0542ae5d8b","uuid":"9b6e5123-171d-4972-a02b-2196137a6b97"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"5a4da328-e0e5-4c82-b740-d68810afcc81"},"edge_type":"inherent","type":"","uuid":"47fd9da4-2f35-4edd-9ec5-1cfe81b01ac2","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"8728a3a1-7522-4d20-a441-44e1a9962ebc"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"8728a3a1-7522-4d20-a441-44e1a9962ebc"},"edge_type":"inherent","type":"","uuid":"499cb5b7-aced-4e62-853d-209e6877d5c2","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_a441a852_e8a5_4f5d_a929_fd0542ae5d8b","uuid":"9b6e5123-171d-4972-a02b-2196137a6b97"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_a441a852_e8a5_4f5d_a929_fd0542ae5d8b"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"5a4da328-e0e5-4c82-b740-d68810afcc81","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0aefbca3_runbook","uuid":"ce2a2858-b89b-4bb4-8fb3-ee8bd8a6bd3f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"8728a3a1-7522-4d20-a441-44e1a9962ebc","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"5fd47ec3_runbook","uuid":"e410ef14-5f72-46ab-b7d5-0181621be34f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b"},{"target_any_local_reference":{"kind":"app_package","name":"AWSMasterPackage","uuid":"a441a852-e8a5-4f5d-a929-fd0542ae5d8b"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"9b6e5123-171d-4972-a02b-2196137a6b97","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_a441a852_e8a5_4f5d_a929_fd0542ae5d8b","uuid":"d999455a-9ae2-4f94-99b4-21dddfff4d8e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_a441a852_e8a5_4f5d_a929_fd0542ae5d8b"}],"description":"","message_list":[],"uuid":"45332f61-7cbb-41f7-b5d7-ab9f8b6d4055","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_a441a852_e8a5_4f5d_a929_fd0542ae5d8b","uuid":"559ebe31-ee08-4bc8-a77e-53c1d540b13e"},"name":"SYS_GEN__Runbook_Package_a441a852_e8a5_4f5d_a929_fd0542ae5d8b"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"9291852b-6e58-4874-ab2e-72d19013436f","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSMasterPackage","uuid":"a441a852-e8a5-4f5d-a929-fd0542ae5d8b"},"retries":"0","description":"","type":"DAG","uuid":"6551bc1f-2958-4ccf-9a1a-a647d8fa193b","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"796a6583-4032-4497-9443-4ce8de7133fb"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_a441a852_e8a5_4f5d_a929_fd0542ae5d8b","uuid":"18b47838-1ed6-467d-ab4e-8a3d7f3d025c"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"796a6583-4032-4497-9443-4ce8de7133fb"},"edge_type":"inherent","type":"","uuid":"4aa20227-ee97-4071-b867-27e8dcfd6232","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_a441a852_e8a5_4f5d_a929_fd0542ae5d8b","uuid":"18b47838-1ed6-467d-ab4e-8a3d7f3d025c"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_a441a852_e8a5_4f5d_a929_fd0542ae5d8b"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"796a6583-4032-4497-9443-4ce8de7133fb","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"b9b6e25b-f9f5-473d-8c7e-6fcb8b23a4da"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b"},{"target_any_local_reference":{"kind":"app_package","name":"AWSMasterPackage","uuid":"a441a852-e8a5-4f5d-a929-fd0542ae5d8b"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"18b47838-1ed6-467d-ab4e-8a3d7f3d025c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_a441a852_e8a5_4f5d_a929_fd0542ae5d8b"}],"description":"","message_list":[],"uuid":"839cb741-ecda-4bd5-a93d-fa7f289172d3","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_a441a852_e8a5_4f5d_a929_fd0542ae5d8b","uuid":"6551bc1f-2958-4ccf-9a1a-a647d8fa193b"},"name":"SYS_GEN__Runbook_Package_a441a852_e8a5_4f5d_a929_fd0542ae5d8b"}},{"description":"System action for starting an application","message_list":[],"uuid":"40d9f83e-6738-4677-9ebd-d8ddcba0cecb","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSMasterPackage","uuid":"a441a852-e8a5-4f5d-a929-fd0542ae5d8b"},"retries":"0","description":"","type":"DAG","uuid":"9227d51e-6d39-4284-9053-bb4514ccb933","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"32329185-dea8-4d48-a1b2-23c569b07b65"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_a441a852_e8a5_4f5d_a929_fd0542ae5d8b"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"32329185-dea8-4d48-a1b2-23c569b07b65","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"5ddb28d1_runbook","uuid":"907290fe-eaef-465b-a916-7c2c67d20c97"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b"}],"description":"","message_list":[],"uuid":"e5d4a3ba-7eb7-4e4b-8086-30aad793d8e0","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_a441a852_e8a5_4f5d_a929_fd0542ae5d8b","uuid":"9227d51e-6d39-4284-9053-bb4514ccb933"},"name":"SYS_GEN__Runbook_Package_a441a852_e8a5_4f5d_a929_fd0542ae5d8b"}},{"description":"System action for restarting an application","message_list":[],"uuid":"d82b73f5-0d90-467e-baa1-15d4d8d77469","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSMasterPackage","uuid":"a441a852-e8a5-4f5d-a929-fd0542ae5d8b"},"retries":"0","description":"","type":"DAG","uuid":"e8aaca9d-8b0c-452f-9301-c84e8edb9360","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"ac21655e-0698-4a83-9841-c6107d56802e"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_a441a852_e8a5_4f5d_a929_fd0542ae5d8b"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"ac21655e-0698-4a83-9841-c6107d56802e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"7e709238_runbook","uuid":"e38aa3c5-d052-4d28-84e6-acfb09a6af83"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b"}],"description":"","message_list":[],"uuid":"56adceb3-0737-491e-bd6b-c35416f6ae40","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_a441a852_e8a5_4f5d_a929_fd0542ae5d8b","uuid":"e8aaca9d-8b0c-452f-9301-c84e8edb9360"},"name":"SYS_GEN__Runbook_Package_a441a852_e8a5_4f5d_a929_fd0542ae5d8b"}},{"description":"System action for stopping an application","message_list":[],"uuid":"785de15d-09de-47cf-a81e-4ab0381bf0e9","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSMasterPackage","uuid":"a441a852-e8a5-4f5d-a929-fd0542ae5d8b"},"retries":"0","description":"","type":"DAG","uuid":"8483e34a-e736-4f4e-bf12-a841e9859d8b","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"b86dde5b-69da-469f-b849-ad99af8ce335"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_a441a852_e8a5_4f5d_a929_fd0542ae5d8b"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"b86dde5b-69da-469f-b849-ad99af8ce335","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0aefbca3_runbook","uuid":"ce2a2858-b89b-4bb4-8fb3-ee8bd8a6bd3f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b"}],"description":"","message_list":[],"uuid":"e978fa1f-d42e-4308-8d3a-f305bdefeb1c","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_a441a852_e8a5_4f5d_a929_fd0542ae5d8b","uuid":"8483e34a-e736-4f4e-bf12-a841e9859d8b"},"name":"SYS_GEN__Runbook_Package_a441a852_e8a5_4f5d_a929_fd0542ae5d8b"}}],"message_list":[],"service_local_reference_list":[{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"}],"uuid":"a441a852-e8a5-4f5d-a929-fd0542ae5d8b","state":"ACTIVE","version":"","editables":{},"type":"DEB","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSMasterPackage","uuid":"a441a852-e8a5-4f5d-a929-fd0542ae5d8b"},"retries":"0","description":"","type":"DAG","uuid":"3f876c0a-cc1b-4e5b-83f1-e5248e6f50ae","child_tasks_local_reference_list":[{"kind":"app_task","name":"Install System Packages","uuid":"412b2919-54c1-4e87-9135-cd29a22a4a44"},{"kind":"app_task","name":"Create Disk Setup","uuid":"f7a9be7f-061e-447e-ad4e-495491c8d617"},{"kind":"app_task","name":"Install MySQL","uuid":"52099877-fbfe-4f6f-a7d5-194dbb9ad064"},{"kind":"app_task","name":"Setup MySQL","uuid":"baddad1e-acbc-42b6-b598-464d5bd16918"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Install System Packages","uuid":"412b2919-54c1-4e87-9135-cd29a22a4a44"},"edge_type":"user_defined","type":"","uuid":"442dce89-ffc7-417a-a10e-34930abcb4fa","to_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"f7a9be7f-061e-447e-ad4e-495491c8d617"}},{"from_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"f7a9be7f-061e-447e-ad4e-495491c8d617"},"edge_type":"user_defined","type":"","uuid":"b41c0f44-adcd-4b26-86c2-ae09722cd613","to_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"52099877-fbfe-4f6f-a7d5-194dbb9ad064"}},{"from_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"52099877-fbfe-4f6f-a7d5-194dbb9ad064"},"edge_type":"user_defined","type":"","uuid":"5eb04bff-c984-499a-825e-54c84b8d6a28","to_task_reference":{"kind":"app_task","name":"Setup MySQL","uuid":"baddad1e-acbc-42b6-b598-464d5bd16918"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"20906fd3_dag"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"EXEC","uuid":"412b2919-54c1-4e87-9135-cd29a22a4a44","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n# -*- Install Mysql\nsudo yum update -y --quiet\nsudo yum install -y  wget xfs* bc unzip lvm2*\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"System packages are installed\"","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"3ee7bf5d-2de9-4958-9b65-e30687c43f17"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install System Packages"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"EXEC","uuid":"f7a9be7f-061e-447e-ad4e-495491c8d617","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n##############\n#\n# LVM setup script for PostgreSQL . 4 disks for DATA and 2 for logs\n# Data disks are 60GB | Log disks are 20GB \n#\n#############\n\n\n#PGSQL data\nsudo pvcreate \/dev\/xvdb \/dev\/xvdc \/dev\/xvdd \/dev\/xvde\nsudo vgcreate mysqlDataVG \/dev\/xvdb \/dev\/xvdc \/dev\/xvdd \/dev\/xvde\nsudo lvcreate -l 100%FREE -i4 -I1M -n mysqlDataLV mysqlDataVG          ## Use 1MB to avoid IO amplification \n#lvcreate -l 100%FREE -i4 -I4M -n pgDataLV pgDataVG\n\n\n#PGSQL logs\nsudo pvcreate \/dev\/xvdf \/dev\/xvdg \/dev\/xvdh \/dev\/xvdi\nsudo vgcreate mysqlLogVG \/dev\/xvdf \/dev\/xvdg \/dev\/xvdh \/dev\/xvdi\nsudo lvcreate -l 100%FREE -i2 -I1M -n mysqlLogLV mysqlLogVG            ## Use 1MB to avoid IO amplification\n#lvcreate -l 100%FREE -i2 -I4M -n pgLogLV pgLogVG\n\n\n#Disable LVM read ahead\nsudo lvchange -r 0 \/dev\/mysqlDataVG\/mysqlDataLV\nsudo lvchange -r 0 \/dev\/mysqlLogVG\/mysqlLogLV\n\n\n#Format LVMs with ext4 and use nodiscard to make sure format time is fast on Nutanix due to SCSI unmap\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlDataVG\/mysqlDataLV\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlLogVG\/mysqlLogLV\n\nsleep 10\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"3ee7bf5d-2de9-4958-9b65-e30687c43f17"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Create Disk Setup"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"EXEC","uuid":"52099877-fbfe-4f6f-a7d5-194dbb9ad064","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nsudo hostnamectl set-hostname \"@@{name}@@\"\n\n# -*- Mysql installation \nsudo yum install -y --quiet \"http:\/\/repo.mysql.com\/mysql80-community-release-el7.rpm\"\nsudo yum update -y --quiet\nsudo yum install -y --quiet sshpass mysql-community-server.x86_64\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"3ee7bf5d-2de9-4958-9b65-e30687c43f17"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install MySQL"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"EXEC","uuid":"baddad1e-acbc-42b6-b598-464d5bd16918","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\necho \"!includedir \/etc\/my.cnf.d\" | sudo tee -a \/etc\/my.cnf\n\necho \"[mysqld]\nbinlog-format=mixed\nlog-bin=mysql-bin\ndatadir=\/mysql\/data\nsql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES\ninnodb_data_home_dir = \/mysql\/data\ninnodb_log_group_home_dir = \/mysql\/log\ninnodb_file_per_table\ntmpdir=\/mysql\/tmpdir\ninnodb_undo_directory = \/mysql\/undo\ndefault-storage-engine = innodb\ndefault_tmp_storage_engine = innodb\ninnodb_log_files_in_group = 4\ninnodb_log_file_size = 1G\ninnodb_log_buffer_size = 8M\ninnodb_buffer_pool_size = 6G\t\nlarge-pages\t\ninnodb_buffer_pool_instances = 64\t\ninnodb_flush_method=O_DIRECT\t\ninnodb_flush_neighbors=0\t \ninnodb_flush_log_at_trx_commit=1\ninnodb_buffer_pool_dump_at_shutdown=1\t\ninnodb_buffer_pool_load_at_startup=1\t\nbulk_insert_buffer_size = 256\t\ninnodb_thread_concurrency = 16\t\n \t \n# Undo tablespace\t \ninnodb_undo_tablespaces = 5\t\n \t \n# Networking\t \nwait_timeout=57600\t \nmax_allowed_packet=1G\t\nsocket=\/var\/lib\/mysql\/mysql.sock\t \nskip-name-resolve\nport=3306\t\nmax_connections=1000\t\n\n\n[mysqld_safe]\nlog-error=\/mysql\/log\/mysqld.log\npid-file=\/var\/run\/mysqld\/mysqld.pid\" | sudo tee \/etc\/my.cnf.d\/nutanix.cnf\n\nsudo sed -i \"\/\\[mysqld\\]\/a server-id=100\" \/etc\/my.cnf.d\/nutanix.cnf\necho \"#master=100\" | sudo tee -a  \/etc\/my.cnf.d\/nutanix.cnf\n\nserver_id=`sudo cat etc\/my.cnf.d\/nutanix.cnf | grep  \"server-id=\" | cut -d= -f2`\nis_master=`sudo cat etc\/my.cnf.d\/nutanix.cnf | grep -q -w \"#master=$server_id\"; echo $?`\n\nif [ ${is_master} -ne 0 ]\nthen\n   sudo sed -i '\/\\[mysqld\\]\/a read_only=1' \/etc\/my.cnf.d\/nutanix.cnf\nfi\n\n# -*- Sysctl configuration\nmysql_grp_id=`id -g mysql`\nsudo sysctl -w vm.swappiness=0\nsudo sysctl -w vm.nr_hugepages=1024\nsudo sysctl -w vm.overcommit_memory=1\nsudo sysctl -w vm.dirty_background_ratio=5 \nsudo sysctl -w vm.dirty_ratio=15\nsudo sysctl -w vm.dirty_expire_centisecs=500\nsudo sysctl -w vm.dirty_writeback_centisecs=100\nsudo sysctl -w vm.hugetlb_shm_group=$mysql_grp_id\n\necho \"vm.swappiness=0\nvm.nr_hugepages=1024\nvm.overcommit_memory=1\nvm.dirty_background_ratio=5 \nvm.dirty_ratio=15\nvm.dirty_expire_centisecs=500\nvm.dirty_writeback_centisecs=100\nvm.hugetlb_shm_group=$mysql_grp_id\" | sudo tee  -a \/etc\/sysctl.conf\n\necho \"ACTION=='add|change', SUBSYSTEM=='block', RUN+='\/bin\/sh -c \\\"\/bin\/echo 1024 > \/sys%p\/queue\/max_sectors_kb\\\"'\" | sudo tee \/etc\/udev\/rules.d\/71-block-max-sectors.rules\n\necho \"\/dev\/mysqlDataVG\/mysqlDataLV \/mysql\/data ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\necho \"\/dev\/mysqlLogVG\/mysqlLogLV \/mysql\/log ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\nsudo mkdir -p \/mysql\/log \/mysql\/data \/mysql\/tmpdir \/mysql\/undo\nsudo mount -a\nsudo chown -R mysql:mysql \/mysql\n\nsudo systemctl enable mysqld\n\nsudo rm -rf \/mysql\/data\/*\nsudo systemctl start mysqld\n\n#Fix to obtain temp password and set it to blank\npassword=$(grep -oP 'temporary password(.*): \\K(\\S+)' \/var\/log\/mysqld.log)\nsudo mysqladmin --user=root --password=\"$password\" password aaBB**cc1122\nsudo mysql --user=root --password=aaBB**cc1122 -e \"UNINSTALL COMPONENT 'file:\/\/component_validate_password'\"\nsudo mysqladmin --user=root --password=\"aaBB**cc1122\" password \"\"\n\n\n#Mysql secure installation\nsudo mysql -u root<<-EOF\nALTER USER 'root'@'localhost' IDENTIFIED WITH caching_sha2_password BY '@@{MYSQL_PASSWORD}@@';\nDELETE FROM mysql.user WHERE User='root' AND Host NOT IN ('localhost', '127.0.0.1', '::1');\nDELETE FROM mysql.user WHERE User='';\nDELETE FROM mysql.db WHERE Db='test' OR Db='test\\_%';\nFLUSH PRIVILEGES;\nEOF\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"3ee7bf5d-2de9-4958-9b65-e30687c43f17"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Setup MySQL"}],"description":"","message_list":[],"uuid":"e65fe349-d9e5-4bb0-82d9-4f53c43b99de","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"20906fd3_dag","uuid":"3f876c0a-cc1b-4e5b-83f1-e5248e6f50ae"},"name":"8c0bb7c2_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSMasterPackage","uuid":"a441a852-e8a5-4f5d-a929-fd0542ae5d8b"},"retries":"0","description":"","type":"DAG","uuid":"0e5e2826-240a-44bb-a65c-e240a45390a4","child_tasks_local_reference_list":[{"kind":"app_task","name":"PackageUninstallTask","uuid":"ba736592-427e-4061-8dbd-3c27c7f8ef00"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"102b4b68_dag"},{"target_any_local_reference":{"kind":"app_package","name":"AWSMasterPackage","uuid":"a441a852-e8a5-4f5d-a929-fd0542ae5d8b"},"retries":"0","description":"","type":"EXEC","uuid":"ba736592-427e-4061-8dbd-3c27c7f8ef00","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"3ee7bf5d-2de9-4958-9b65-e30687c43f17"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"PackageUninstallTask"}],"description":"","message_list":[],"uuid":"37ce32eb-34a5-43fb-a9af-8dfedd37149c","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"102b4b68_dag","uuid":"0e5e2826-240a-44bb-a65c-e240a45390a4"},"name":"97a9a9af_runbook"}},"variable_list":[],"name":"AWSMasterPackage"},{"description":"","action_list":[{"description":"System action for installing an application","message_list":[],"uuid":"0072fc0f-1d4e-4a28-92af-c53d8ca587bd","name":"action_install","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSSlavePackage","uuid":"06bdea25-1ba3-4ded-9f1d-15f9be1e723e"},"retries":"0","description":"","type":"DAG","uuid":"2c3c754b-635c-4146-8b41-6b62692e4c73","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Install_Crb_06bdea25_1ba3_4ded_9f1d_15f9be1e723e","uuid":"925161ab-4802-42b5-a6b0-9e7063ff10b7"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Package_06bdea25_1ba3_4ded_9f1d_15f9be1e723e"},{"target_any_local_reference":{"kind":"app_package","name":"AWSSlavePackage","uuid":"06bdea25-1ba3-4ded-9f1d-15f9be1e723e"},"retries":"0","description":"","type":"CUSTOM_PACKAGE_INSTALL","uuid":"925161ab-4802-42b5-a6b0-9e7063ff10b7","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSSlavePackage","uuid":"06bdea25-1ba3-4ded-9f1d-15f9be1e723e"},"retries":"0","description":"","type":"DAG","uuid":"6ec97b73-788b-45b6-b0f0-addb26737ba1","child_tasks_local_reference_list":[{"kind":"app_task","name":"Install System Packages","uuid":"e3c17042-ef12-4da3-b57f-85095b74304a"},{"kind":"app_task","name":"Create Disk Setup","uuid":"d82ff53e-ae03-42f9-85ea-2bec11ad2e5a"},{"kind":"app_task","name":"Install MySQL","uuid":"0694cad5-4ca6-4e1d-9afd-73c1481a476f"},{"kind":"app_task","name":"Setup MySQL","uuid":"abfbedb0-009f-4b5a-b1d9-5d065fa92517"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Install System Packages","uuid":"e3c17042-ef12-4da3-b57f-85095b74304a"},"edge_type":"user_defined","type":"","uuid":"d02cbfc7-157d-4e70-b4af-1319b04db98b","to_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"d82ff53e-ae03-42f9-85ea-2bec11ad2e5a"}},{"from_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"d82ff53e-ae03-42f9-85ea-2bec11ad2e5a"},"edge_type":"user_defined","type":"","uuid":"0eadab9c-bb68-4196-970e-a56e0d533e5d","to_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"0694cad5-4ca6-4e1d-9afd-73c1481a476f"}},{"from_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"0694cad5-4ca6-4e1d-9afd-73c1481a476f"},"edge_type":"user_defined","type":"","uuid":"42dbae56-fb4e-4925-9467-6bd3aadc4e71","to_task_reference":{"kind":"app_task","name":"Setup MySQL","uuid":"abfbedb0-009f-4b5a-b1d9-5d065fa92517"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"be281c77_dag"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","description":"","type":"EXEC","uuid":"e3c17042-ef12-4da3-b57f-85095b74304a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n# -*- Install Mysql\nsudo yum update -y --quiet\nsudo yum install -y  wget xfs* bc unzip lvm2*\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"System packages are installed\"","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"3ee7bf5d-2de9-4958-9b65-e30687c43f17"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install System Packages"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","description":"","type":"EXEC","uuid":"d82ff53e-ae03-42f9-85ea-2bec11ad2e5a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n##############\n#\n# LVM setup script for PostgreSQL . 4 disks for DATA and 2 for logs\n# Data disks are 60GB | Log disks are 20GB \n#\n#############\n\n\n#PGSQL data\nsudo pvcreate \/dev\/xvdb \/dev\/xvdc \/dev\/xvdd \/dev\/xvde\nsudo vgcreate mysqlDataVG \/dev\/xvdb \/dev\/xvdc \/dev\/xvdd \/dev\/xvde\nsudo lvcreate -l 100%FREE -i4 -I1M -n mysqlDataLV mysqlDataVG          ## Use 1MB to avoid IO amplification \n#lvcreate -l 100%FREE -i4 -I4M -n pgDataLV pgDataVG\n\n\n#PGSQL logs\nsudo pvcreate \/dev\/xvdf \/dev\/xvdg \/dev\/xvdh \/dev\/xvdi\nsudo vgcreate mysqlLogVG \/dev\/xvdf \/dev\/xvdg \/dev\/xvdh \/dev\/xvdi\nsudo lvcreate -l 100%FREE -i2 -I1M -n mysqlLogLV mysqlLogVG            ## Use 1MB to avoid IO amplification\n#lvcreate -l 100%FREE -i2 -I4M -n pgLogLV pgLogVG\n\n\n#Disable LVM read ahead\nsudo lvchange -r 0 \/dev\/mysqlDataVG\/mysqlDataLV\nsudo lvchange -r 0 \/dev\/mysqlLogVG\/mysqlLogLV\n\n\n#Format LVMs with ext4 and use nodiscard to make sure format time is fast on Nutanix due to SCSI unmap\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlDataVG\/mysqlDataLV\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlLogVG\/mysqlLogLV\n\nsleep 10\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"3ee7bf5d-2de9-4958-9b65-e30687c43f17"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Create Disk Setup"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","description":"","type":"EXEC","uuid":"0694cad5-4ca6-4e1d-9afd-73c1481a476f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nsudo hostnamectl set-hostname \"@@{name}@@\"\n\n# -*- Mysql installation \nsudo yum install -y --quiet \"http:\/\/repo.mysql.com\/mysql80-community-release-el7.rpm\"\nsudo yum update -y --quiet\nsudo yum install -y --quiet sshpass mysql-community-server.x86_64\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"3ee7bf5d-2de9-4958-9b65-e30687c43f17"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install MySQL"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","description":"","type":"EXEC","uuid":"abfbedb0-009f-4b5a-b1d9-5d065fa92517","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\necho \"!includedir \/etc\/my.cnf.d\" | sudo tee -a \/etc\/my.cnf\n\necho \"[mysqld]\nbinlog-format=mixed\nlog-bin=mysql-bin\ndatadir=\/mysql\/data\nsql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES\ninnodb_data_home_dir = \/mysql\/data\ninnodb_log_group_home_dir = \/mysql\/log\ninnodb_file_per_table\ntmpdir=\/mysql\/tmpdir\ninnodb_undo_directory = \/mysql\/undo\ndefault-storage-engine = innodb\ndefault_tmp_storage_engine = innodb\ninnodb_log_files_in_group = 4\ninnodb_log_file_size = 1G\ninnodb_log_buffer_size = 8M\ninnodb_buffer_pool_size = 6G\t\nlarge-pages\t\ninnodb_buffer_pool_instances = 64\t\ninnodb_flush_method=O_DIRECT\t\ninnodb_flush_neighbors=0\t \ninnodb_flush_log_at_trx_commit=1\ninnodb_buffer_pool_dump_at_shutdown=1\t\ninnodb_buffer_pool_load_at_startup=1\t\nbulk_insert_buffer_size = 256\t\ninnodb_thread_concurrency = 16\t\n \t \n# Undo tablespace\t \ninnodb_undo_tablespaces = 5\t\n \t \n# Networking\t \nwait_timeout=57600\t \nmax_allowed_packet=1G\t\nsocket=\/var\/lib\/mysql\/mysql.sock\t \nskip-name-resolve\nport=3306\t\nmax_connections=1000\t\n\n\n[mysqld_safe]\nlog-error=\/mysql\/log\/mysqld.log\npid-file=\/var\/run\/mysqld\/mysqld.pid\" | sudo tee \/etc\/my.cnf.d\/nutanix.cnf\n\necho \"#master=100\" | sudo tee -a  \/etc\/my.cnf.d\/nutanix.cnf\n\nserver_id=`sudo cat etc\/my.cnf.d\/nutanix.cnf | grep  \"server-id=\" | cut -d= -f2`\nis_master=`sudo cat etc\/my.cnf.d\/nutanix.cnf | grep -q -w \"#master=$server_id\"; echo $?`\n\nif [ ${is_master} -ne 0 ]\nthen\n   sudo sed -i '\/\\[mysqld\\]\/a read_only=1' \/etc\/my.cnf.d\/nutanix.cnf\nfi\n\n# -*- Sysctl configuration\nmysql_grp_id=`id -g mysql`\nsudo sysctl -w vm.swappiness=0\nsudo sysctl -w vm.nr_hugepages=1024\nsudo sysctl -w vm.overcommit_memory=1\nsudo sysctl -w vm.dirty_background_ratio=5 \nsudo sysctl -w vm.dirty_ratio=15\nsudo sysctl -w vm.dirty_expire_centisecs=500\nsudo sysctl -w vm.dirty_writeback_centisecs=100\nsudo sysctl -w vm.hugetlb_shm_group=$mysql_grp_id\n\necho \"vm.swappiness=0\nvm.nr_hugepages=1024\nvm.overcommit_memory=1\nvm.dirty_background_ratio=5 \nvm.dirty_ratio=15\nvm.dirty_expire_centisecs=500\nvm.dirty_writeback_centisecs=100\nvm.hugetlb_shm_group=$mysql_grp_id\" | sudo tee  -a \/etc\/sysctl.conf\n\necho \"ACTION=='add|change', SUBSYSTEM=='block', RUN+='\/bin\/sh -c \\\"\/bin\/echo 1024 > \/sys%p\/queue\/max_sectors_kb\\\"'\" | sudo tee \/etc\/udev\/rules.d\/71-block-max-sectors.rules\n\necho \"\/dev\/mysqlDataVG\/mysqlDataLV \/mysql\/data ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\necho \"\/dev\/mysqlLogVG\/mysqlLogLV \/mysql\/log ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\nsudo mkdir -p \/mysql\/log \/mysql\/data \/mysql\/tmpdir \/mysql\/undo\nsudo mount -a\nsudo chown -R mysql:mysql \/mysql\n\nsudo systemctl enable mysqld\n\nsudo rm -rf \/mysql\/data\/*\nsudo systemctl start mysqld\n\n#Fix to obtain temp password and set it to blank\npassword=$(grep -oP 'temporary password(.*): \\K(\\S+)' \/var\/log\/mysqld.log)\nsudo mysqladmin --user=root --password=\"$password\" password aaBB**cc1122\nsudo mysql --user=root --password=aaBB**cc1122 -e \"UNINSTALL COMPONENT 'file:\/\/component_validate_password'\"\nsudo mysqladmin --user=root --password=\"aaBB**cc1122\" password \"\"\n\n\n#Mysql secure installation\nsudo mysql -u root<<-EOF\nALTER USER 'root'@'localhost' IDENTIFIED WITH caching_sha2_password BY '@@{MYSQL_PASSWORD}@@';\nDELETE FROM mysql.user WHERE User='root' AND Host NOT IN ('localhost', '127.0.0.1', '::1');\nDELETE FROM mysql.user WHERE User='';\nDELETE FROM mysql.db WHERE Db='test' OR Db='test\\_%';\nFLUSH PRIVILEGES;\nEOF\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"3ee7bf5d-2de9-4958-9b65-e30687c43f17"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Setup MySQL"}],"description":"","message_list":[],"uuid":"dbdbac01-14a9-41be-8ec2-5a7c3c2d4629","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"be281c77_dag","uuid":"6ec97b73-788b-45b6-b0f0-addb26737ba1"},"name":"c2ab2da2_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSSlavePackage","uuid":"06bdea25-1ba3-4ded-9f1d-15f9be1e723e"},"retries":"0","description":"","type":"DAG","uuid":"50e8e0a9-3874-437a-a418-e6fab6ab3601","child_tasks_local_reference_list":[{"kind":"app_task","name":"PackageUninstallTask","uuid":"9b75ceee-8131-4f62-88b7-4f58a7fbddbf"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"62f03f3b_dag"},{"target_any_local_reference":{"kind":"app_package","name":"AWSSlavePackage","uuid":"06bdea25-1ba3-4ded-9f1d-15f9be1e723e"},"retries":"0","description":"","type":"EXEC","uuid":"9b75ceee-8131-4f62-88b7-4f58a7fbddbf","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"3ee7bf5d-2de9-4958-9b65-e30687c43f17"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"PackageUninstallTask"}],"description":"","message_list":[],"uuid":"959828a9-2ded-4419-83b9-23665549c395","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"62f03f3b_dag","uuid":"50e8e0a9-3874-437a-a418-e6fab6ab3601"},"name":"88bbbcc1_runbook"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Install_Crb_06bdea25_1ba3_4ded_9f1d_15f9be1e723e"}],"description":"","message_list":[],"uuid":"7b8bb688-3fb0-417e-a127-3d28918c14a3","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Package_06bdea25_1ba3_4ded_9f1d_15f9be1e723e","uuid":"2c3c754b-635c-4146-8b41-6b62692e4c73"},"name":"SYS_GEN__Runbook_Package_06bdea25_1ba3_4ded_9f1d_15f9be1e723e"}},{"description":"System action for creating an application","message_list":[],"uuid":"7aa35432-c524-4335-a028-09cd5fd10d01","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSSlavePackage","uuid":"06bdea25-1ba3-4ded-9f1d-15f9be1e723e"},"retries":"0","description":"","type":"DAG","uuid":"c4ff4a34-e8db-477e-9b24-fb030dea6ed9","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_06bdea25_1ba3_4ded_9f1d_15f9be1e723e","uuid":"ec4cdd1c-287e-44c7-a3ce-b01ee31ef8e4"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"63725c56-e840-4173-8c1b-c5e5b118c1fa"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"02a605ed-1a6b-4032-9e74-0ec51800b23f"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"63725c56-e840-4173-8c1b-c5e5b118c1fa"},"edge_type":"inherent","type":"","uuid":"29d3e62b-bc88-48a7-9920-32a65b54b3ad","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"02a605ed-1a6b-4032-9e74-0ec51800b23f"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_06bdea25_1ba3_4ded_9f1d_15f9be1e723e","uuid":"ec4cdd1c-287e-44c7-a3ce-b01ee31ef8e4"},"edge_type":"inherent","type":"","uuid":"85206663-bfee-4d26-bf81-48d5642680e7","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"63725c56-e840-4173-8c1b-c5e5b118c1fa"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_06bdea25_1ba3_4ded_9f1d_15f9be1e723e"},{"target_any_local_reference":{"kind":"app_package","name":"AWSSlavePackage","uuid":"06bdea25-1ba3-4ded-9f1d-15f9be1e723e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"ec4cdd1c-287e-44c7-a3ce-b01ee31ef8e4","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_06bdea25_1ba3_4ded_9f1d_15f9be1e723e","uuid":"7b8bb688-3fb0-417e-a127-3d28918c14a3"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_06bdea25_1ba3_4ded_9f1d_15f9be1e723e"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"63725c56-e840-4173-8c1b-c5e5b118c1fa","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"d54168c9_runbook","uuid":"d9d72b08-90b4-46c2-a771-6d338abb4bc3"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"02a605ed-1a6b-4032-9e74-0ec51800b23f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"a027cde0_runbook","uuid":"557651c0-2ccf-45cb-beb3-9f2028221b2e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d"}],"description":"","message_list":[],"uuid":"82166803-1e89-4a1d-8ca0-b889c296d99f","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_06bdea25_1ba3_4ded_9f1d_15f9be1e723e","uuid":"c4ff4a34-e8db-477e-9b24-fb030dea6ed9"},"name":"SYS_GEN__Runbook_Package_06bdea25_1ba3_4ded_9f1d_15f9be1e723e"}},{"description":"System action for uninstalling an application","message_list":[],"uuid":"51e1196a-056c-42bf-88d2-33d893620063","name":"action_uninstall","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSSlavePackage","uuid":"06bdea25-1ba3-4ded-9f1d-15f9be1e723e"},"retries":"0","description":"","type":"DAG","uuid":"e0c03383-9afc-4a41-9bb6-7c19da375bc3","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Uninstall_Crb_06bdea25_1ba3_4ded_9f1d_15f9be1e723e","uuid":"c91bf104-f8e3-4cb1-b91b-439d5a083526"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Package_06bdea25_1ba3_4ded_9f1d_15f9be1e723e"},{"target_any_local_reference":{"kind":"app_package","name":"AWSSlavePackage","uuid":"06bdea25-1ba3-4ded-9f1d-15f9be1e723e"},"retries":"0","description":"","type":"CUSTOM_PACKAGE_UNINSTALL","uuid":"c91bf104-f8e3-4cb1-b91b-439d5a083526","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSSlavePackage","uuid":"06bdea25-1ba3-4ded-9f1d-15f9be1e723e"},"retries":"0","description":"","type":"DAG","uuid":"6ec97b73-788b-45b6-b0f0-addb26737ba1","child_tasks_local_reference_list":[{"kind":"app_task","name":"Install System Packages","uuid":"e3c17042-ef12-4da3-b57f-85095b74304a"},{"kind":"app_task","name":"Create Disk Setup","uuid":"d82ff53e-ae03-42f9-85ea-2bec11ad2e5a"},{"kind":"app_task","name":"Install MySQL","uuid":"0694cad5-4ca6-4e1d-9afd-73c1481a476f"},{"kind":"app_task","name":"Setup MySQL","uuid":"abfbedb0-009f-4b5a-b1d9-5d065fa92517"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Install System Packages","uuid":"e3c17042-ef12-4da3-b57f-85095b74304a"},"edge_type":"user_defined","type":"","uuid":"d02cbfc7-157d-4e70-b4af-1319b04db98b","to_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"d82ff53e-ae03-42f9-85ea-2bec11ad2e5a"}},{"from_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"d82ff53e-ae03-42f9-85ea-2bec11ad2e5a"},"edge_type":"user_defined","type":"","uuid":"0eadab9c-bb68-4196-970e-a56e0d533e5d","to_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"0694cad5-4ca6-4e1d-9afd-73c1481a476f"}},{"from_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"0694cad5-4ca6-4e1d-9afd-73c1481a476f"},"edge_type":"user_defined","type":"","uuid":"42dbae56-fb4e-4925-9467-6bd3aadc4e71","to_task_reference":{"kind":"app_task","name":"Setup MySQL","uuid":"abfbedb0-009f-4b5a-b1d9-5d065fa92517"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"be281c77_dag"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","description":"","type":"EXEC","uuid":"e3c17042-ef12-4da3-b57f-85095b74304a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n# -*- Install Mysql\nsudo yum update -y --quiet\nsudo yum install -y  wget xfs* bc unzip lvm2*\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"System packages are installed\"","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"3ee7bf5d-2de9-4958-9b65-e30687c43f17"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install System Packages"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","description":"","type":"EXEC","uuid":"d82ff53e-ae03-42f9-85ea-2bec11ad2e5a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n##############\n#\n# LVM setup script for PostgreSQL . 4 disks for DATA and 2 for logs\n# Data disks are 60GB | Log disks are 20GB \n#\n#############\n\n\n#PGSQL data\nsudo pvcreate \/dev\/xvdb \/dev\/xvdc \/dev\/xvdd \/dev\/xvde\nsudo vgcreate mysqlDataVG \/dev\/xvdb \/dev\/xvdc \/dev\/xvdd \/dev\/xvde\nsudo lvcreate -l 100%FREE -i4 -I1M -n mysqlDataLV mysqlDataVG          ## Use 1MB to avoid IO amplification \n#lvcreate -l 100%FREE -i4 -I4M -n pgDataLV pgDataVG\n\n\n#PGSQL logs\nsudo pvcreate \/dev\/xvdf \/dev\/xvdg \/dev\/xvdh \/dev\/xvdi\nsudo vgcreate mysqlLogVG \/dev\/xvdf \/dev\/xvdg \/dev\/xvdh \/dev\/xvdi\nsudo lvcreate -l 100%FREE -i2 -I1M -n mysqlLogLV mysqlLogVG            ## Use 1MB to avoid IO amplification\n#lvcreate -l 100%FREE -i2 -I4M -n pgLogLV pgLogVG\n\n\n#Disable LVM read ahead\nsudo lvchange -r 0 \/dev\/mysqlDataVG\/mysqlDataLV\nsudo lvchange -r 0 \/dev\/mysqlLogVG\/mysqlLogLV\n\n\n#Format LVMs with ext4 and use nodiscard to make sure format time is fast on Nutanix due to SCSI unmap\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlDataVG\/mysqlDataLV\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlLogVG\/mysqlLogLV\n\nsleep 10\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"3ee7bf5d-2de9-4958-9b65-e30687c43f17"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Create Disk Setup"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","description":"","type":"EXEC","uuid":"0694cad5-4ca6-4e1d-9afd-73c1481a476f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nsudo hostnamectl set-hostname \"@@{name}@@\"\n\n# -*- Mysql installation \nsudo yum install -y --quiet \"http:\/\/repo.mysql.com\/mysql80-community-release-el7.rpm\"\nsudo yum update -y --quiet\nsudo yum install -y --quiet sshpass mysql-community-server.x86_64\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"3ee7bf5d-2de9-4958-9b65-e30687c43f17"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install MySQL"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","description":"","type":"EXEC","uuid":"abfbedb0-009f-4b5a-b1d9-5d065fa92517","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\necho \"!includedir \/etc\/my.cnf.d\" | sudo tee -a \/etc\/my.cnf\n\necho \"[mysqld]\nbinlog-format=mixed\nlog-bin=mysql-bin\ndatadir=\/mysql\/data\nsql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES\ninnodb_data_home_dir = \/mysql\/data\ninnodb_log_group_home_dir = \/mysql\/log\ninnodb_file_per_table\ntmpdir=\/mysql\/tmpdir\ninnodb_undo_directory = \/mysql\/undo\ndefault-storage-engine = innodb\ndefault_tmp_storage_engine = innodb\ninnodb_log_files_in_group = 4\ninnodb_log_file_size = 1G\ninnodb_log_buffer_size = 8M\ninnodb_buffer_pool_size = 6G\t\nlarge-pages\t\ninnodb_buffer_pool_instances = 64\t\ninnodb_flush_method=O_DIRECT\t\ninnodb_flush_neighbors=0\t \ninnodb_flush_log_at_trx_commit=1\ninnodb_buffer_pool_dump_at_shutdown=1\t\ninnodb_buffer_pool_load_at_startup=1\t\nbulk_insert_buffer_size = 256\t\ninnodb_thread_concurrency = 16\t\n \t \n# Undo tablespace\t \ninnodb_undo_tablespaces = 5\t\n \t \n# Networking\t \nwait_timeout=57600\t \nmax_allowed_packet=1G\t\nsocket=\/var\/lib\/mysql\/mysql.sock\t \nskip-name-resolve\nport=3306\t\nmax_connections=1000\t\n\n\n[mysqld_safe]\nlog-error=\/mysql\/log\/mysqld.log\npid-file=\/var\/run\/mysqld\/mysqld.pid\" | sudo tee \/etc\/my.cnf.d\/nutanix.cnf\n\necho \"#master=100\" | sudo tee -a  \/etc\/my.cnf.d\/nutanix.cnf\n\nserver_id=`sudo cat etc\/my.cnf.d\/nutanix.cnf | grep  \"server-id=\" | cut -d= -f2`\nis_master=`sudo cat etc\/my.cnf.d\/nutanix.cnf | grep -q -w \"#master=$server_id\"; echo $?`\n\nif [ ${is_master} -ne 0 ]\nthen\n   sudo sed -i '\/\\[mysqld\\]\/a read_only=1' \/etc\/my.cnf.d\/nutanix.cnf\nfi\n\n# -*- Sysctl configuration\nmysql_grp_id=`id -g mysql`\nsudo sysctl -w vm.swappiness=0\nsudo sysctl -w vm.nr_hugepages=1024\nsudo sysctl -w vm.overcommit_memory=1\nsudo sysctl -w vm.dirty_background_ratio=5 \nsudo sysctl -w vm.dirty_ratio=15\nsudo sysctl -w vm.dirty_expire_centisecs=500\nsudo sysctl -w vm.dirty_writeback_centisecs=100\nsudo sysctl -w vm.hugetlb_shm_group=$mysql_grp_id\n\necho \"vm.swappiness=0\nvm.nr_hugepages=1024\nvm.overcommit_memory=1\nvm.dirty_background_ratio=5 \nvm.dirty_ratio=15\nvm.dirty_expire_centisecs=500\nvm.dirty_writeback_centisecs=100\nvm.hugetlb_shm_group=$mysql_grp_id\" | sudo tee  -a \/etc\/sysctl.conf\n\necho \"ACTION=='add|change', SUBSYSTEM=='block', RUN+='\/bin\/sh -c \\\"\/bin\/echo 1024 > \/sys%p\/queue\/max_sectors_kb\\\"'\" | sudo tee \/etc\/udev\/rules.d\/71-block-max-sectors.rules\n\necho \"\/dev\/mysqlDataVG\/mysqlDataLV \/mysql\/data ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\necho \"\/dev\/mysqlLogVG\/mysqlLogLV \/mysql\/log ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\nsudo mkdir -p \/mysql\/log \/mysql\/data \/mysql\/tmpdir \/mysql\/undo\nsudo mount -a\nsudo chown -R mysql:mysql \/mysql\n\nsudo systemctl enable mysqld\n\nsudo rm -rf \/mysql\/data\/*\nsudo systemctl start mysqld\n\n#Fix to obtain temp password and set it to blank\npassword=$(grep -oP 'temporary password(.*): \\K(\\S+)' \/var\/log\/mysqld.log)\nsudo mysqladmin --user=root --password=\"$password\" password aaBB**cc1122\nsudo mysql --user=root --password=aaBB**cc1122 -e \"UNINSTALL COMPONENT 'file:\/\/component_validate_password'\"\nsudo mysqladmin --user=root --password=\"aaBB**cc1122\" password \"\"\n\n\n#Mysql secure installation\nsudo mysql -u root<<-EOF\nALTER USER 'root'@'localhost' IDENTIFIED WITH caching_sha2_password BY '@@{MYSQL_PASSWORD}@@';\nDELETE FROM mysql.user WHERE User='root' AND Host NOT IN ('localhost', '127.0.0.1', '::1');\nDELETE FROM mysql.user WHERE User='';\nDELETE FROM mysql.db WHERE Db='test' OR Db='test\\_%';\nFLUSH PRIVILEGES;\nEOF\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"3ee7bf5d-2de9-4958-9b65-e30687c43f17"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Setup MySQL"}],"description":"","message_list":[],"uuid":"dbdbac01-14a9-41be-8ec2-5a7c3c2d4629","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"be281c77_dag","uuid":"6ec97b73-788b-45b6-b0f0-addb26737ba1"},"name":"c2ab2da2_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSSlavePackage","uuid":"06bdea25-1ba3-4ded-9f1d-15f9be1e723e"},"retries":"0","description":"","type":"DAG","uuid":"50e8e0a9-3874-437a-a418-e6fab6ab3601","child_tasks_local_reference_list":[{"kind":"app_task","name":"PackageUninstallTask","uuid":"9b75ceee-8131-4f62-88b7-4f58a7fbddbf"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"62f03f3b_dag"},{"target_any_local_reference":{"kind":"app_package","name":"AWSSlavePackage","uuid":"06bdea25-1ba3-4ded-9f1d-15f9be1e723e"},"retries":"0","description":"","type":"EXEC","uuid":"9b75ceee-8131-4f62-88b7-4f58a7fbddbf","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"3ee7bf5d-2de9-4958-9b65-e30687c43f17"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"PackageUninstallTask"}],"description":"","message_list":[],"uuid":"959828a9-2ded-4419-83b9-23665549c395","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"62f03f3b_dag","uuid":"50e8e0a9-3874-437a-a418-e6fab6ab3601"},"name":"88bbbcc1_runbook"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Uninstall_Crb_06bdea25_1ba3_4ded_9f1d_15f9be1e723e"}],"description":"","message_list":[],"uuid":"0313d2af-33a6-47f4-ac21-062c7b9f2b19","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Package_06bdea25_1ba3_4ded_9f1d_15f9be1e723e","uuid":"e0c03383-9afc-4a41-9bb6-7c19da375bc3"},"name":"SYS_GEN__Runbook_Package_06bdea25_1ba3_4ded_9f1d_15f9be1e723e"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"f30d4c02-12e7-4e83-b39e-f2e9be4f77fa","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSSlavePackage","uuid":"06bdea25-1ba3-4ded-9f1d-15f9be1e723e"},"retries":"0","description":"","type":"DAG","uuid":"7da17a07-b596-4b87-9cd8-09d19f0f5695","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"8acf43bb-8ce4-4964-bba9-882f65f8c565"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"82764f3f-f9a6-4592-983e-85debdf53637"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_06bdea25_1ba3_4ded_9f1d_15f9be1e723e","uuid":"d3a658e6-65fe-4767-ae62-57e90979ec66"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"8acf43bb-8ce4-4964-bba9-882f65f8c565"},"edge_type":"inherent","type":"","uuid":"b19d61f4-6834-4f3f-941d-b501b6099386","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"82764f3f-f9a6-4592-983e-85debdf53637"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"82764f3f-f9a6-4592-983e-85debdf53637"},"edge_type":"inherent","type":"","uuid":"5aab0957-54b6-4b9d-a27c-14b6d752c885","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_06bdea25_1ba3_4ded_9f1d_15f9be1e723e","uuid":"d3a658e6-65fe-4767-ae62-57e90979ec66"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_06bdea25_1ba3_4ded_9f1d_15f9be1e723e"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"8acf43bb-8ce4-4964-bba9-882f65f8c565","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"4a2ad0be_runbook","uuid":"d405c9d6-da96-4365-b171-e7ffb7e6b913"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"82764f3f-f9a6-4592-983e-85debdf53637","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"92247e35_runbook","uuid":"c1fdda9f-aaee-4b0d-899f-a32eb5819a33"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d"},{"target_any_local_reference":{"kind":"app_package","name":"AWSSlavePackage","uuid":"06bdea25-1ba3-4ded-9f1d-15f9be1e723e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"d3a658e6-65fe-4767-ae62-57e90979ec66","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_06bdea25_1ba3_4ded_9f1d_15f9be1e723e","uuid":"0313d2af-33a6-47f4-ac21-062c7b9f2b19"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_06bdea25_1ba3_4ded_9f1d_15f9be1e723e"}],"description":"","message_list":[],"uuid":"6b8674f5-11b5-4af0-ad25-2544435a6c90","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_06bdea25_1ba3_4ded_9f1d_15f9be1e723e","uuid":"7da17a07-b596-4b87-9cd8-09d19f0f5695"},"name":"SYS_GEN__Runbook_Package_06bdea25_1ba3_4ded_9f1d_15f9be1e723e"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"6fdd318b-7e40-4255-8b4c-d0263edf42f7","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSSlavePackage","uuid":"06bdea25-1ba3-4ded-9f1d-15f9be1e723e"},"retries":"0","description":"","type":"DAG","uuid":"1e25f4f0-2038-4532-8b84-0325030b0fbf","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"90f3395a-3404-4e8b-9384-1f6cc626c7c3"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_06bdea25_1ba3_4ded_9f1d_15f9be1e723e","uuid":"11b9864a-0d08-46f9-bea4-655a0adf39e6"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"90f3395a-3404-4e8b-9384-1f6cc626c7c3"},"edge_type":"inherent","type":"","uuid":"2fc63ac0-149b-48d3-8f75-a4b1b6f2148a","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_06bdea25_1ba3_4ded_9f1d_15f9be1e723e","uuid":"11b9864a-0d08-46f9-bea4-655a0adf39e6"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_06bdea25_1ba3_4ded_9f1d_15f9be1e723e"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"90f3395a-3404-4e8b-9384-1f6cc626c7c3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"9cb9ecf0-89cd-4611-812d-2535c64945cf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d"},{"target_any_local_reference":{"kind":"app_package","name":"AWSSlavePackage","uuid":"06bdea25-1ba3-4ded-9f1d-15f9be1e723e"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"11b9864a-0d08-46f9-bea4-655a0adf39e6","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_06bdea25_1ba3_4ded_9f1d_15f9be1e723e"}],"description":"","message_list":[],"uuid":"d83f6c87-b070-4c83-a919-fc1a2d362295","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_06bdea25_1ba3_4ded_9f1d_15f9be1e723e","uuid":"1e25f4f0-2038-4532-8b84-0325030b0fbf"},"name":"SYS_GEN__Runbook_Package_06bdea25_1ba3_4ded_9f1d_15f9be1e723e"}},{"description":"System action for starting an application","message_list":[],"uuid":"106c83ae-fcef-4695-b0ae-440e8021b903","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSSlavePackage","uuid":"06bdea25-1ba3-4ded-9f1d-15f9be1e723e"},"retries":"0","description":"","type":"DAG","uuid":"9d583774-8c9b-40fb-ae1b-440c451bfd0d","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"4ba21520-b453-41ec-a7f1-fa71fb7d7b4c"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_06bdea25_1ba3_4ded_9f1d_15f9be1e723e"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"4ba21520-b453-41ec-a7f1-fa71fb7d7b4c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"a027cde0_runbook","uuid":"557651c0-2ccf-45cb-beb3-9f2028221b2e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d"}],"description":"","message_list":[],"uuid":"eee5966d-b2dc-43db-855c-362a022020ed","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_06bdea25_1ba3_4ded_9f1d_15f9be1e723e","uuid":"9d583774-8c9b-40fb-ae1b-440c451bfd0d"},"name":"SYS_GEN__Runbook_Package_06bdea25_1ba3_4ded_9f1d_15f9be1e723e"}},{"description":"System action for restarting an application","message_list":[],"uuid":"c3b27f71-1a8e-4be9-af70-62ca24ad006a","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSSlavePackage","uuid":"06bdea25-1ba3-4ded-9f1d-15f9be1e723e"},"retries":"0","description":"","type":"DAG","uuid":"b575d06b-a1ae-49a4-a878-c4c10c9fb41c","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"71c91c71-d291-46c8-9bec-8329627291a5"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_06bdea25_1ba3_4ded_9f1d_15f9be1e723e"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"71c91c71-d291-46c8-9bec-8329627291a5","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"f2b2a076_runbook","uuid":"d30fe7b4-3486-4f8a-a3b8-e08401237ee7"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d"}],"description":"","message_list":[],"uuid":"9227b007-c1d1-484f-9084-6bc379d19e94","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_06bdea25_1ba3_4ded_9f1d_15f9be1e723e","uuid":"b575d06b-a1ae-49a4-a878-c4c10c9fb41c"},"name":"SYS_GEN__Runbook_Package_06bdea25_1ba3_4ded_9f1d_15f9be1e723e"}},{"description":"System action for stopping an application","message_list":[],"uuid":"f9e01032-9e96-495c-a843-5caad39017df","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSSlavePackage","uuid":"06bdea25-1ba3-4ded-9f1d-15f9be1e723e"},"retries":"0","description":"","type":"DAG","uuid":"3e269037-ebee-4738-a51c-21e4b34d3c62","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"6e7f6b56-d88b-4570-bb45-087553d27062"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_06bdea25_1ba3_4ded_9f1d_15f9be1e723e"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"6e7f6b56-d88b-4570-bb45-087553d27062","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"4a2ad0be_runbook","uuid":"d405c9d6-da96-4365-b171-e7ffb7e6b913"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d"}],"description":"","message_list":[],"uuid":"545e8f23-ca2b-4c51-ada6-72f7faf42a6d","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_06bdea25_1ba3_4ded_9f1d_15f9be1e723e","uuid":"3e269037-ebee-4738-a51c-21e4b34d3c62"},"name":"SYS_GEN__Runbook_Package_06bdea25_1ba3_4ded_9f1d_15f9be1e723e"}}],"message_list":[],"service_local_reference_list":[{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"}],"uuid":"06bdea25-1ba3-4ded-9f1d-15f9be1e723e","state":"ACTIVE","version":"","editables":{},"type":"DEB","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSSlavePackage","uuid":"06bdea25-1ba3-4ded-9f1d-15f9be1e723e"},"retries":"0","description":"","type":"DAG","uuid":"6ec97b73-788b-45b6-b0f0-addb26737ba1","child_tasks_local_reference_list":[{"kind":"app_task","name":"Install System Packages","uuid":"e3c17042-ef12-4da3-b57f-85095b74304a"},{"kind":"app_task","name":"Create Disk Setup","uuid":"d82ff53e-ae03-42f9-85ea-2bec11ad2e5a"},{"kind":"app_task","name":"Install MySQL","uuid":"0694cad5-4ca6-4e1d-9afd-73c1481a476f"},{"kind":"app_task","name":"Setup MySQL","uuid":"abfbedb0-009f-4b5a-b1d9-5d065fa92517"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Install System Packages","uuid":"e3c17042-ef12-4da3-b57f-85095b74304a"},"edge_type":"user_defined","type":"","uuid":"d02cbfc7-157d-4e70-b4af-1319b04db98b","to_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"d82ff53e-ae03-42f9-85ea-2bec11ad2e5a"}},{"from_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"d82ff53e-ae03-42f9-85ea-2bec11ad2e5a"},"edge_type":"user_defined","type":"","uuid":"0eadab9c-bb68-4196-970e-a56e0d533e5d","to_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"0694cad5-4ca6-4e1d-9afd-73c1481a476f"}},{"from_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"0694cad5-4ca6-4e1d-9afd-73c1481a476f"},"edge_type":"user_defined","type":"","uuid":"42dbae56-fb4e-4925-9467-6bd3aadc4e71","to_task_reference":{"kind":"app_task","name":"Setup MySQL","uuid":"abfbedb0-009f-4b5a-b1d9-5d065fa92517"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"be281c77_dag"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","description":"","type":"EXEC","uuid":"e3c17042-ef12-4da3-b57f-85095b74304a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n# -*- Install Mysql\nsudo yum update -y --quiet\nsudo yum install -y  wget xfs* bc unzip lvm2*\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"System packages are installed\"","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"3ee7bf5d-2de9-4958-9b65-e30687c43f17"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install System Packages"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","description":"","type":"EXEC","uuid":"d82ff53e-ae03-42f9-85ea-2bec11ad2e5a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n##############\n#\n# LVM setup script for PostgreSQL . 4 disks for DATA and 2 for logs\n# Data disks are 60GB | Log disks are 20GB \n#\n#############\n\n\n#PGSQL data\nsudo pvcreate \/dev\/xvdb \/dev\/xvdc \/dev\/xvdd \/dev\/xvde\nsudo vgcreate mysqlDataVG \/dev\/xvdb \/dev\/xvdc \/dev\/xvdd \/dev\/xvde\nsudo lvcreate -l 100%FREE -i4 -I1M -n mysqlDataLV mysqlDataVG          ## Use 1MB to avoid IO amplification \n#lvcreate -l 100%FREE -i4 -I4M -n pgDataLV pgDataVG\n\n\n#PGSQL logs\nsudo pvcreate \/dev\/xvdf \/dev\/xvdg \/dev\/xvdh \/dev\/xvdi\nsudo vgcreate mysqlLogVG \/dev\/xvdf \/dev\/xvdg \/dev\/xvdh \/dev\/xvdi\nsudo lvcreate -l 100%FREE -i2 -I1M -n mysqlLogLV mysqlLogVG            ## Use 1MB to avoid IO amplification\n#lvcreate -l 100%FREE -i2 -I4M -n pgLogLV pgLogVG\n\n\n#Disable LVM read ahead\nsudo lvchange -r 0 \/dev\/mysqlDataVG\/mysqlDataLV\nsudo lvchange -r 0 \/dev\/mysqlLogVG\/mysqlLogLV\n\n\n#Format LVMs with ext4 and use nodiscard to make sure format time is fast on Nutanix due to SCSI unmap\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlDataVG\/mysqlDataLV\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlLogVG\/mysqlLogLV\n\nsleep 10\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"3ee7bf5d-2de9-4958-9b65-e30687c43f17"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Create Disk Setup"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","description":"","type":"EXEC","uuid":"0694cad5-4ca6-4e1d-9afd-73c1481a476f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nsudo hostnamectl set-hostname \"@@{name}@@\"\n\n# -*- Mysql installation \nsudo yum install -y --quiet \"http:\/\/repo.mysql.com\/mysql80-community-release-el7.rpm\"\nsudo yum update -y --quiet\nsudo yum install -y --quiet sshpass mysql-community-server.x86_64\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"3ee7bf5d-2de9-4958-9b65-e30687c43f17"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install MySQL"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","description":"","type":"EXEC","uuid":"abfbedb0-009f-4b5a-b1d9-5d065fa92517","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\necho \"!includedir \/etc\/my.cnf.d\" | sudo tee -a \/etc\/my.cnf\n\necho \"[mysqld]\nbinlog-format=mixed\nlog-bin=mysql-bin\ndatadir=\/mysql\/data\nsql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES\ninnodb_data_home_dir = \/mysql\/data\ninnodb_log_group_home_dir = \/mysql\/log\ninnodb_file_per_table\ntmpdir=\/mysql\/tmpdir\ninnodb_undo_directory = \/mysql\/undo\ndefault-storage-engine = innodb\ndefault_tmp_storage_engine = innodb\ninnodb_log_files_in_group = 4\ninnodb_log_file_size = 1G\ninnodb_log_buffer_size = 8M\ninnodb_buffer_pool_size = 6G\t\nlarge-pages\t\ninnodb_buffer_pool_instances = 64\t\ninnodb_flush_method=O_DIRECT\t\ninnodb_flush_neighbors=0\t \ninnodb_flush_log_at_trx_commit=1\ninnodb_buffer_pool_dump_at_shutdown=1\t\ninnodb_buffer_pool_load_at_startup=1\t\nbulk_insert_buffer_size = 256\t\ninnodb_thread_concurrency = 16\t\n \t \n# Undo tablespace\t \ninnodb_undo_tablespaces = 5\t\n \t \n# Networking\t \nwait_timeout=57600\t \nmax_allowed_packet=1G\t\nsocket=\/var\/lib\/mysql\/mysql.sock\t \nskip-name-resolve\nport=3306\t\nmax_connections=1000\t\n\n\n[mysqld_safe]\nlog-error=\/mysql\/log\/mysqld.log\npid-file=\/var\/run\/mysqld\/mysqld.pid\" | sudo tee \/etc\/my.cnf.d\/nutanix.cnf\n\necho \"#master=100\" | sudo tee -a  \/etc\/my.cnf.d\/nutanix.cnf\n\nserver_id=`sudo cat etc\/my.cnf.d\/nutanix.cnf | grep  \"server-id=\" | cut -d= -f2`\nis_master=`sudo cat etc\/my.cnf.d\/nutanix.cnf | grep -q -w \"#master=$server_id\"; echo $?`\n\nif [ ${is_master} -ne 0 ]\nthen\n   sudo sed -i '\/\\[mysqld\\]\/a read_only=1' \/etc\/my.cnf.d\/nutanix.cnf\nfi\n\n# -*- Sysctl configuration\nmysql_grp_id=`id -g mysql`\nsudo sysctl -w vm.swappiness=0\nsudo sysctl -w vm.nr_hugepages=1024\nsudo sysctl -w vm.overcommit_memory=1\nsudo sysctl -w vm.dirty_background_ratio=5 \nsudo sysctl -w vm.dirty_ratio=15\nsudo sysctl -w vm.dirty_expire_centisecs=500\nsudo sysctl -w vm.dirty_writeback_centisecs=100\nsudo sysctl -w vm.hugetlb_shm_group=$mysql_grp_id\n\necho \"vm.swappiness=0\nvm.nr_hugepages=1024\nvm.overcommit_memory=1\nvm.dirty_background_ratio=5 \nvm.dirty_ratio=15\nvm.dirty_expire_centisecs=500\nvm.dirty_writeback_centisecs=100\nvm.hugetlb_shm_group=$mysql_grp_id\" | sudo tee  -a \/etc\/sysctl.conf\n\necho \"ACTION=='add|change', SUBSYSTEM=='block', RUN+='\/bin\/sh -c \\\"\/bin\/echo 1024 > \/sys%p\/queue\/max_sectors_kb\\\"'\" | sudo tee \/etc\/udev\/rules.d\/71-block-max-sectors.rules\n\necho \"\/dev\/mysqlDataVG\/mysqlDataLV \/mysql\/data ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\necho \"\/dev\/mysqlLogVG\/mysqlLogLV \/mysql\/log ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\nsudo mkdir -p \/mysql\/log \/mysql\/data \/mysql\/tmpdir \/mysql\/undo\nsudo mount -a\nsudo chown -R mysql:mysql \/mysql\n\nsudo systemctl enable mysqld\n\nsudo rm -rf \/mysql\/data\/*\nsudo systemctl start mysqld\n\n#Fix to obtain temp password and set it to blank\npassword=$(grep -oP 'temporary password(.*): \\K(\\S+)' \/var\/log\/mysqld.log)\nsudo mysqladmin --user=root --password=\"$password\" password aaBB**cc1122\nsudo mysql --user=root --password=aaBB**cc1122 -e \"UNINSTALL COMPONENT 'file:\/\/component_validate_password'\"\nsudo mysqladmin --user=root --password=\"aaBB**cc1122\" password \"\"\n\n\n#Mysql secure installation\nsudo mysql -u root<<-EOF\nALTER USER 'root'@'localhost' IDENTIFIED WITH caching_sha2_password BY '@@{MYSQL_PASSWORD}@@';\nDELETE FROM mysql.user WHERE User='root' AND Host NOT IN ('localhost', '127.0.0.1', '::1');\nDELETE FROM mysql.user WHERE User='';\nDELETE FROM mysql.db WHERE Db='test' OR Db='test\\_%';\nFLUSH PRIVILEGES;\nEOF\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"3ee7bf5d-2de9-4958-9b65-e30687c43f17"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Setup MySQL"}],"description":"","message_list":[],"uuid":"dbdbac01-14a9-41be-8ec2-5a7c3c2d4629","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"be281c77_dag","uuid":"6ec97b73-788b-45b6-b0f0-addb26737ba1"},"name":"c2ab2da2_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSSlavePackage","uuid":"06bdea25-1ba3-4ded-9f1d-15f9be1e723e"},"retries":"0","description":"","type":"DAG","uuid":"50e8e0a9-3874-437a-a418-e6fab6ab3601","child_tasks_local_reference_list":[{"kind":"app_task","name":"PackageUninstallTask","uuid":"9b75ceee-8131-4f62-88b7-4f58a7fbddbf"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"62f03f3b_dag"},{"target_any_local_reference":{"kind":"app_package","name":"AWSSlavePackage","uuid":"06bdea25-1ba3-4ded-9f1d-15f9be1e723e"},"retries":"0","description":"","type":"EXEC","uuid":"9b75ceee-8131-4f62-88b7-4f58a7fbddbf","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"3ee7bf5d-2de9-4958-9b65-e30687c43f17"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"PackageUninstallTask"}],"description":"","message_list":[],"uuid":"959828a9-2ded-4419-83b9-23665549c395","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"62f03f3b_dag","uuid":"50e8e0a9-3874-437a-a418-e6fab6ab3601"},"name":"88bbbcc1_runbook"}},"variable_list":[],"name":"AWSSlavePackage"},{"description":"","action_list":[{"description":"System action for installing an application","message_list":[],"uuid":"8083f24f-b6d9-4203-9d99-96a8b7f8f9e8","name":"action_install","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"CENTOS_74","uuid":"9f1580d6-1ec8-4e83-ade6-af9db607985a"},"retries":"0","description":"","type":"DAG","uuid":"909ac458-c42e-4c59-8c5d-843c709f75fe","child_tasks_local_reference_list":[{"kind":"app_task","name":"Image Fetch task for VM","uuid":"bef5a58b-c8c4-4c05-b706-2105918cf016"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Package_9f1580d6_1ec8_4e83_ade6_af9db607985a"},{"target_any_local_reference":{"kind":"app_package","name":"CENTOS_74","uuid":"9f1580d6-1ec8-4e83-ade6-af9db607985a"},"retries":"0","description":"","type":"SUBSTRATE_IMAGE_FETCH","uuid":"bef5a58b-c8c4-4c05-b706-2105918cf016","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"","name":"CENTOS_74","resources":{"image_type":"DISK_IMAGE","checksum":{"checksum_algorithm":"","type":"","checksum_value":""},"source_uri":"http:\/\/download.nutanix.com\/calm\/CentOS-7-x86_64-GenericCloud.qcow2","version":{"product_version":"","type":"","product_name":""},"architecture":"X86_64","type":""},"description":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Image Fetch task for VM"}],"description":"","message_list":[],"uuid":"93fde81e-3390-49c3-90af-58e83685575b","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Package_9f1580d6_1ec8_4e83_ade6_af9db607985a","uuid":"909ac458-c42e-4c59-8c5d-843c709f75fe"},"name":"SYS_GEN__Runbook_Package_9f1580d6_1ec8_4e83_ade6_af9db607985a"}},{"description":"System action for creating an application","message_list":[],"uuid":"5c9fe6e8-3109-4498-b8ac-e5e41ad298d7","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"CENTOS_74","uuid":"9f1580d6-1ec8-4e83-ade6-af9db607985a"},"retries":"0","description":"","type":"DAG","uuid":"a7acacf0-8c57-401d-9f94-40d4e5f0d61f","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_9f1580d6_1ec8_4e83_ade6_af9db607985a","uuid":"4359cead-567c-4d6d-a3b3-f842d013782d"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_9f1580d6_1ec8_4e83_ade6_af9db607985a"},{"target_any_local_reference":{"kind":"app_package","name":"CENTOS_74","uuid":"9f1580d6-1ec8-4e83-ade6-af9db607985a"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"4359cead-567c-4d6d-a3b3-f842d013782d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_9f1580d6_1ec8_4e83_ade6_af9db607985a","uuid":"93fde81e-3390-49c3-90af-58e83685575b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_9f1580d6_1ec8_4e83_ade6_af9db607985a"}],"description":"","message_list":[],"uuid":"3a0d207e-fa7c-4f7d-9ad7-bb96672fd54a","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_9f1580d6_1ec8_4e83_ade6_af9db607985a","uuid":"a7acacf0-8c57-401d-9f94-40d4e5f0d61f"},"name":"SYS_GEN__Runbook_Package_9f1580d6_1ec8_4e83_ade6_af9db607985a"}},{"description":"System action for starting an application","message_list":[],"uuid":"e6ae990c-4813-4993-89c9-f7ad56216b5d","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"CENTOS_74","uuid":"9f1580d6-1ec8-4e83-ade6-af9db607985a"},"retries":"0","description":"","type":"DAG","uuid":"9eb1591c-5c6d-4943-b7fb-3037173751b5","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_9f1580d6_1ec8_4e83_ade6_af9db607985a"}],"description":"","message_list":[],"uuid":"11f09729-57fa-4791-8879-c5463a80ac63","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_9f1580d6_1ec8_4e83_ade6_af9db607985a","uuid":"9eb1591c-5c6d-4943-b7fb-3037173751b5"},"name":"SYS_GEN__Runbook_Package_9f1580d6_1ec8_4e83_ade6_af9db607985a"}},{"description":"System action for restarting an application","message_list":[],"uuid":"bbf8d60f-ed5c-457e-82c1-13e51e862f95","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"CENTOS_74","uuid":"9f1580d6-1ec8-4e83-ade6-af9db607985a"},"retries":"0","description":"","type":"DAG","uuid":"7e8ab88c-af16-40eb-836e-67f3cbb00d53","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_9f1580d6_1ec8_4e83_ade6_af9db607985a"}],"description":"","message_list":[],"uuid":"5a46b21b-051f-4a10-adb0-83b4877161ef","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_9f1580d6_1ec8_4e83_ade6_af9db607985a","uuid":"7e8ab88c-af16-40eb-836e-67f3cbb00d53"},"name":"SYS_GEN__Runbook_Package_9f1580d6_1ec8_4e83_ade6_af9db607985a"}},{"description":"System action for stopping an application","message_list":[],"uuid":"569abc4a-bdf6-45b1-9727-3b76b9837f2c","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"CENTOS_74","uuid":"9f1580d6-1ec8-4e83-ade6-af9db607985a"},"retries":"0","description":"","type":"DAG","uuid":"cec8bc31-d9f2-4310-b417-ed28cb6fdb8b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_9f1580d6_1ec8_4e83_ade6_af9db607985a"}],"description":"","message_list":[],"uuid":"2c0a10c6-39d7-4dd1-a081-57e04d10d157","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_9f1580d6_1ec8_4e83_ade6_af9db607985a","uuid":"cec8bc31-d9f2-4310-b417-ed28cb6fdb8b"},"name":"SYS_GEN__Runbook_Package_9f1580d6_1ec8_4e83_ade6_af9db607985a"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"93c90ea8-b62f-43f1-9b3e-e0b157de1e65","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"CENTOS_74","uuid":"9f1580d6-1ec8-4e83-ade6-af9db607985a"},"retries":"0","description":"","type":"DAG","uuid":"45ebfbbc-8312-4f10-b9ad-a14c812d3e43","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_9f1580d6_1ec8_4e83_ade6_af9db607985a"}],"description":"","message_list":[],"uuid":"5c15e05d-17b7-44fc-89f0-331719758520","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_9f1580d6_1ec8_4e83_ade6_af9db607985a","uuid":"45ebfbbc-8312-4f10-b9ad-a14c812d3e43"},"name":"SYS_GEN__Runbook_Package_9f1580d6_1ec8_4e83_ade6_af9db607985a"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"72a0e093-3fa1-4452-ae39-90dec062f09f","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"CENTOS_74","uuid":"9f1580d6-1ec8-4e83-ade6-af9db607985a"},"retries":"0","description":"","type":"DAG","uuid":"fce5c908-468f-4000-be83-1226bbdf37ba","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_9f1580d6_1ec8_4e83_ade6_af9db607985a"}],"description":"","message_list":[],"uuid":"6b8f61f5-e0d8-426f-915c-f74eb2f014cc","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_9f1580d6_1ec8_4e83_ade6_af9db607985a","uuid":"fce5c908-468f-4000-be83-1226bbdf37ba"},"name":"SYS_GEN__Runbook_Package_9f1580d6_1ec8_4e83_ade6_af9db607985a"}}],"message_list":[],"service_local_reference_list":[],"uuid":"9f1580d6-1ec8-4e83-ade6-af9db607985a","state":"ACTIVE","version":"","editables":{},"type":"SUBSTRATE_IMAGE","options":{"type":"","name":"CENTOS_74","resources":{"image_type":"DISK_IMAGE","checksum":{"checksum_algorithm":"","type":"","checksum_value":""},"source_uri":"http:\/\/download.nutanix.com\/calm\/CentOS-7-x86_64-GenericCloud.qcow2","version":{"product_version":"","type":"","product_name":""},"architecture":"X86_64","type":""},"description":""},"variable_list":[],"name":"CENTOS_74"},{"description":"","action_list":[{"description":"System action for installing an application","message_list":[],"uuid":"e424cadd-fd57-4f8a-b6ee-5c854dc81938","name":"action_install","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPMasterPackage","uuid":"1201401a-4303-4417-8bee-ece1018bc5fa"},"retries":"0","description":"","type":"DAG","uuid":"ba504999-3740-4aca-96ed-33b31f5371d0","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Install_Crb_1201401a_4303_4417_8bee_ece1018bc5fa","uuid":"228bc71f-5c6b-475c-a0c5-3830a45da751"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Package_1201401a_4303_4417_8bee_ece1018bc5fa"},{"target_any_local_reference":{"kind":"app_package","name":"GCPMasterPackage","uuid":"1201401a-4303-4417-8bee-ece1018bc5fa"},"retries":"0","description":"","type":"CUSTOM_PACKAGE_INSTALL","uuid":"228bc71f-5c6b-475c-a0c5-3830a45da751","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPMasterPackage","uuid":"1201401a-4303-4417-8bee-ece1018bc5fa"},"retries":"0","description":"","type":"DAG","uuid":"c667885c-867c-4ca7-92e7-6a24fc750ba0","child_tasks_local_reference_list":[{"kind":"app_task","name":"Install System Packages","uuid":"4e0054e3-f074-46fc-8c24-03efb4f74b66"},{"kind":"app_task","name":"Create Disk Setup","uuid":"a9732c48-656e-4bd1-bce7-9a2940cd3f04"},{"kind":"app_task","name":"Install MySQL","uuid":"a98bfa55-2944-4d19-9e5c-5ae28cd3e0f8"},{"kind":"app_task","name":"Setup MySQL","uuid":"38114c05-27c5-416f-8417-02b77cbeaa2e"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Install System Packages","uuid":"4e0054e3-f074-46fc-8c24-03efb4f74b66"},"edge_type":"user_defined","type":"","uuid":"80763470-ee77-4453-b64c-d5e48b77f280","to_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"a9732c48-656e-4bd1-bce7-9a2940cd3f04"}},{"from_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"a9732c48-656e-4bd1-bce7-9a2940cd3f04"},"edge_type":"user_defined","type":"","uuid":"4b6b56ed-f0e1-4502-9af0-45770deb852a","to_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"a98bfa55-2944-4d19-9e5c-5ae28cd3e0f8"}},{"from_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"a98bfa55-2944-4d19-9e5c-5ae28cd3e0f8"},"edge_type":"user_defined","type":"","uuid":"89b8401e-9cbf-4d9b-9874-a7dac004e00d","to_task_reference":{"kind":"app_task","name":"Setup MySQL","uuid":"38114c05-27c5-416f-8417-02b77cbeaa2e"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"d13a100f_dag"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"EXEC","uuid":"4e0054e3-f074-46fc-8c24-03efb4f74b66","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n# -*- Install Mysql\nsudo yum update -y --quiet\nsudo yum install -y  wget xfs* bc unzip lvm2* lsscsi\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"System packages are installed\"","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"3ee7bf5d-2de9-4958-9b65-e30687c43f17"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install System Packages"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"EXEC","uuid":"a9732c48-656e-4bd1-bce7-9a2940cd3f04","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n##############\n#\n# LVM setup script for MySQL . 4 disks for DATA and 4 for logs\n# Data disks are 50GB | Log disks are 25GB \n#\n#############\n\n\n#PGSQL data\nsudo pvcreate \/dev\/sdb \/dev\/sdc \/dev\/sdd \/dev\/sde\nsudo vgcreate mysqlDataVG \/dev\/sdb \/dev\/sdd \/dev\/sdc \/dev\/sde\nsudo lvcreate -l 100%FREE -i4 -I1M -n mysqlDataLV mysqlDataVG          ## Use 1MB to avoid IO amplification \n#lvcreate -l 100%FREE -i4 -I4M -n pgDataLV pgDataVG\n\n\n#PGSQL logs\nsudo pvcreate \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo vgcreate mysqlLogVG \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo lvcreate -l 100%FREE -i2 -I1M -n mysqlLogLV mysqlLogVG            ## Use 1MB to avoid IO amplification\n#lvcreate -l 100%FREE -i2 -I4M -n pgLogLV pgLogVG\n\n\n#Disable LVM read ahead\nsudo lvchange -r 0 \/dev\/mysqlDataVG\/mysqlDataLV\nsudo lvchange -r 0 \/dev\/mysqlLogVG\/mysqlLogLV\n\n\n#Format LVMs with ext4 and use nodiscard to make sure format time is fast on Nutanix due to SCSI unmap\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlDataVG\/mysqlDataLV\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlLogVG\/mysqlLogLV\n\nsleep 10\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"3ee7bf5d-2de9-4958-9b65-e30687c43f17"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Create Disk Setup"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"EXEC","uuid":"a98bfa55-2944-4d19-9e5c-5ae28cd3e0f8","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nsudo hostnamectl set-hostname \"@@{name}@@\"\n\n# -*- Mysql installation \nsudo yum install -y --quiet \"http:\/\/repo.mysql.com\/mysql80-community-release-el7.rpm\"\nsudo yum update -y --quiet\nsudo yum install -y --quiet sshpass mysql-community-server.x86_64\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"3ee7bf5d-2de9-4958-9b65-e30687c43f17"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install MySQL"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"EXEC","uuid":"38114c05-27c5-416f-8417-02b77cbeaa2e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\necho \"!includedir \/etc\/my.cnf.d\" | sudo tee -a \/etc\/my.cnf\n\necho \"[mysqld]\nbinlog-format=mixed\nlog-bin=mysql-bin\ndatadir=\/mysql\/data\nsql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES\ninnodb_data_home_dir = \/mysql\/data\ninnodb_log_group_home_dir = \/mysql\/log\ninnodb_file_per_table\ntmpdir=\/mysql\/tmpdir\ninnodb_undo_directory = \/mysql\/undo\ndefault-storage-engine = innodb\ndefault_tmp_storage_engine = innodb\ninnodb_log_files_in_group = 4\ninnodb_log_file_size = 1G\ninnodb_log_buffer_size = 8M\ninnodb_buffer_pool_size = 6G\t\nlarge-pages\t\ninnodb_buffer_pool_instances = 64\t\ninnodb_flush_method=O_DIRECT\t\ninnodb_flush_neighbors=0\t \ninnodb_flush_log_at_trx_commit=1\ninnodb_buffer_pool_dump_at_shutdown=1\t\ninnodb_buffer_pool_load_at_startup=1\t\nbulk_insert_buffer_size = 256\t\ninnodb_thread_concurrency = 16\t\n \t \n# Undo tablespace\t \ninnodb_undo_tablespaces = 5\t\n \t \n# Networking\t \nwait_timeout=57600\t \nmax_allowed_packet=1G\t\nsocket=\/var\/lib\/mysql\/mysql.sock\t \nskip-name-resolve\nport=3306\t\nmax_connections=1000\t\n\n\n[mysqld_safe]\nlog-error=\/mysql\/log\/mysqld.log\npid-file=\/var\/run\/mysqld\/mysqld.pid\" | sudo tee \/etc\/my.cnf.d\/nutanix.cnf\n\nsudo sed -i \"\/\\[mysqld\\]\/a server-id=100\" \/etc\/my.cnf.d\/nutanix.cnf\necho \"#master=100\" | sudo tee -a  \/etc\/my.cnf.d\/nutanix.cnf\n\nserver_id=`sudo cat \/etc\/my.cnf.d\/nutanix.cnf | grep  \"server-id=\" | cut -d= -f2`\nis_master=`sudo cat \/etc\/my.cnf.d\/nutanix.cnf | grep -q -w \"#master=$server_id\"; echo $?`\n\nif [ ${is_master} -ne 0 ]\nthen\n   sudo sed -i '\/\\[mysqld\\]\/a read_only=1' \/etc\/my.cnf.d\/nutanix.cnf\nfi\n\n# -*- Sysctl configuration\nmysql_grp_id=`id -g mysql`\nsudo sysctl -w vm.swappiness=0\nsudo sysctl -w vm.nr_hugepages=1024\nsudo sysctl -w vm.overcommit_memory=1\nsudo sysctl -w vm.dirty_background_ratio=5 \nsudo sysctl -w vm.dirty_ratio=15\nsudo sysctl -w vm.dirty_expire_centisecs=500\nsudo sysctl -w vm.dirty_writeback_centisecs=100\nsudo sysctl -w vm.hugetlb_shm_group=$mysql_grp_id\n\necho \"vm.swappiness=0\nvm.nr_hugepages=1024\nvm.overcommit_memory=1\nvm.dirty_background_ratio=5 \nvm.dirty_ratio=15\nvm.dirty_expire_centisecs=500\nvm.dirty_writeback_centisecs=100\nvm.hugetlb_shm_group=$mysql_grp_id\" | sudo tee  -a \/etc\/sysctl.conf\n\necho \"ACTION=='add|change', SUBSYSTEM=='block', RUN+='\/bin\/sh -c \\\"\/bin\/echo 1024 > \/sys%p\/queue\/max_sectors_kb\\\"'\" | sudo tee \/etc\/udev\/rules.d\/71-block-max-sectors.rules\n#echo 1024 | sudo tee \/sys\/block\/sd?\/queue\/max_sectors_kb\n\necho \"\/dev\/mysqlDataVG\/mysqlDataLV \/mysql\/data ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\necho \"\/dev\/mysqlLogVG\/mysqlLogLV \/mysql\/log ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\nsudo mkdir -p \/mysql\/log \/mysql\/data \/mysql\/tmpdir \/mysql\/undo\nsudo mount -a\nsudo chown -R mysql:mysql \/mysql\n\nsudo systemctl enable mysqld\n\nsudo rm -rf \/mysql\/data\/*\nsudo systemctl start mysqld\n\n#Fix to obtain temp password and set it to blank\npassword=$(grep -oP 'temporary password(.*): \\K(\\S+)' \/var\/log\/mysqld.log)\nsudo mysqladmin --user=root --password=\"$password\" password aaBB**cc1122\nsudo mysql --user=root --password=aaBB**cc1122 -e \"UNINSTALL COMPONENT 'file:\/\/component_validate_password'\"\nsudo mysqladmin --user=root --password=\"aaBB**cc1122\" password \"\"\n\n\n#Mysql secure installation\nsudo mysql -u root<<-EOF\nALTER USER 'root'@'localhost' IDENTIFIED WITH caching_sha2_password BY '@@{MYSQL_PASSWORD}@@';\nDELETE FROM mysql.user WHERE User='root' AND Host NOT IN ('localhost', '127.0.0.1', '::1');\nDELETE FROM mysql.user WHERE User='';\nDELETE FROM mysql.db WHERE Db='test' OR Db='test\\_%';\nFLUSH PRIVILEGES;\nEOF\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"3ee7bf5d-2de9-4958-9b65-e30687c43f17"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Setup MySQL"}],"description":"","message_list":[],"uuid":"178fae58-20e3-4f9a-9d57-f79f465f78e8","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"d13a100f_dag","uuid":"c667885c-867c-4ca7-92e7-6a24fc750ba0"},"name":"267c96d2_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPMasterPackage","uuid":"1201401a-4303-4417-8bee-ece1018bc5fa"},"retries":"0","description":"","type":"DAG","uuid":"79645533-44f8-4114-bc55-15e7bf703ef6","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"01fe868d_dag"}],"description":"","message_list":[],"uuid":"379b3619-28eb-4952-a45d-591f2f105024","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"01fe868d_dag","uuid":"79645533-44f8-4114-bc55-15e7bf703ef6"},"name":"ea47487d_runbook"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Install_Crb_1201401a_4303_4417_8bee_ece1018bc5fa"}],"description":"","message_list":[],"uuid":"4d9d9cc8-7616-4dda-b576-0622f3026f9b","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Package_1201401a_4303_4417_8bee_ece1018bc5fa","uuid":"ba504999-3740-4aca-96ed-33b31f5371d0"},"name":"SYS_GEN__Runbook_Package_1201401a_4303_4417_8bee_ece1018bc5fa"}},{"description":"System action for creating an application","message_list":[],"uuid":"430d7357-0faf-42a4-830c-4a308c248ecc","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPMasterPackage","uuid":"1201401a-4303-4417-8bee-ece1018bc5fa"},"retries":"0","description":"","type":"DAG","uuid":"a6d008a7-6d26-4a6b-bbe3-ead81377e360","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_1201401a_4303_4417_8bee_ece1018bc5fa","uuid":"7219aa1c-64f4-4318-a0ed-056ba0df4c03"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"f7cb0ca8-c6a0-4025-aaa2-afa6a75e7e35"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"3609e1ad-26f3-4910-b303-280aa713bade"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"f7cb0ca8-c6a0-4025-aaa2-afa6a75e7e35"},"edge_type":"inherent","type":"","uuid":"9711921d-ca43-424e-816e-f9ff83d00cd9","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"3609e1ad-26f3-4910-b303-280aa713bade"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_1201401a_4303_4417_8bee_ece1018bc5fa","uuid":"7219aa1c-64f4-4318-a0ed-056ba0df4c03"},"edge_type":"inherent","type":"","uuid":"137d5505-3114-4b43-97f6-8461ae6dfaa2","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"f7cb0ca8-c6a0-4025-aaa2-afa6a75e7e35"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_1201401a_4303_4417_8bee_ece1018bc5fa"},{"target_any_local_reference":{"kind":"app_package","name":"GCPMasterPackage","uuid":"1201401a-4303-4417-8bee-ece1018bc5fa"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"7219aa1c-64f4-4318-a0ed-056ba0df4c03","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_1201401a_4303_4417_8bee_ece1018bc5fa","uuid":"4d9d9cc8-7616-4dda-b576-0622f3026f9b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_1201401a_4303_4417_8bee_ece1018bc5fa"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"f7cb0ca8-c6a0-4025-aaa2-afa6a75e7e35","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0a970522_runbook","uuid":"9866e43d-ff48-4abb-bade-7f5396ce551e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"3609e1ad-26f3-4910-b303-280aa713bade","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"5ddb28d1_runbook","uuid":"907290fe-eaef-465b-a916-7c2c67d20c97"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b"}],"description":"","message_list":[],"uuid":"380a5c79-6e78-4264-bb71-1332b2c15fa0","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_1201401a_4303_4417_8bee_ece1018bc5fa","uuid":"a6d008a7-6d26-4a6b-bbe3-ead81377e360"},"name":"SYS_GEN__Runbook_Package_1201401a_4303_4417_8bee_ece1018bc5fa"}},{"description":"System action for uninstalling an application","message_list":[],"uuid":"7c75a116-4e68-4b43-8509-fa0b4a786817","name":"action_uninstall","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPMasterPackage","uuid":"1201401a-4303-4417-8bee-ece1018bc5fa"},"retries":"0","description":"","type":"DAG","uuid":"a2e5524d-566d-4ae2-9192-468b0a9dc82a","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Uninstall_Crb_1201401a_4303_4417_8bee_ece1018bc5fa","uuid":"6c7b71b0-7e64-4462-8dac-e92e1b68ef1b"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Package_1201401a_4303_4417_8bee_ece1018bc5fa"},{"target_any_local_reference":{"kind":"app_package","name":"GCPMasterPackage","uuid":"1201401a-4303-4417-8bee-ece1018bc5fa"},"retries":"0","description":"","type":"CUSTOM_PACKAGE_UNINSTALL","uuid":"6c7b71b0-7e64-4462-8dac-e92e1b68ef1b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPMasterPackage","uuid":"1201401a-4303-4417-8bee-ece1018bc5fa"},"retries":"0","description":"","type":"DAG","uuid":"c667885c-867c-4ca7-92e7-6a24fc750ba0","child_tasks_local_reference_list":[{"kind":"app_task","name":"Install System Packages","uuid":"4e0054e3-f074-46fc-8c24-03efb4f74b66"},{"kind":"app_task","name":"Create Disk Setup","uuid":"a9732c48-656e-4bd1-bce7-9a2940cd3f04"},{"kind":"app_task","name":"Install MySQL","uuid":"a98bfa55-2944-4d19-9e5c-5ae28cd3e0f8"},{"kind":"app_task","name":"Setup MySQL","uuid":"38114c05-27c5-416f-8417-02b77cbeaa2e"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Install System Packages","uuid":"4e0054e3-f074-46fc-8c24-03efb4f74b66"},"edge_type":"user_defined","type":"","uuid":"80763470-ee77-4453-b64c-d5e48b77f280","to_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"a9732c48-656e-4bd1-bce7-9a2940cd3f04"}},{"from_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"a9732c48-656e-4bd1-bce7-9a2940cd3f04"},"edge_type":"user_defined","type":"","uuid":"4b6b56ed-f0e1-4502-9af0-45770deb852a","to_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"a98bfa55-2944-4d19-9e5c-5ae28cd3e0f8"}},{"from_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"a98bfa55-2944-4d19-9e5c-5ae28cd3e0f8"},"edge_type":"user_defined","type":"","uuid":"89b8401e-9cbf-4d9b-9874-a7dac004e00d","to_task_reference":{"kind":"app_task","name":"Setup MySQL","uuid":"38114c05-27c5-416f-8417-02b77cbeaa2e"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"d13a100f_dag"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"EXEC","uuid":"4e0054e3-f074-46fc-8c24-03efb4f74b66","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n# -*- Install Mysql\nsudo yum update -y --quiet\nsudo yum install -y  wget xfs* bc unzip lvm2* lsscsi\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"System packages are installed\"","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"3ee7bf5d-2de9-4958-9b65-e30687c43f17"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install System Packages"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"EXEC","uuid":"a9732c48-656e-4bd1-bce7-9a2940cd3f04","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n##############\n#\n# LVM setup script for MySQL . 4 disks for DATA and 4 for logs\n# Data disks are 50GB | Log disks are 25GB \n#\n#############\n\n\n#PGSQL data\nsudo pvcreate \/dev\/sdb \/dev\/sdc \/dev\/sdd \/dev\/sde\nsudo vgcreate mysqlDataVG \/dev\/sdb \/dev\/sdd \/dev\/sdc \/dev\/sde\nsudo lvcreate -l 100%FREE -i4 -I1M -n mysqlDataLV mysqlDataVG          ## Use 1MB to avoid IO amplification \n#lvcreate -l 100%FREE -i4 -I4M -n pgDataLV pgDataVG\n\n\n#PGSQL logs\nsudo pvcreate \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo vgcreate mysqlLogVG \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo lvcreate -l 100%FREE -i2 -I1M -n mysqlLogLV mysqlLogVG            ## Use 1MB to avoid IO amplification\n#lvcreate -l 100%FREE -i2 -I4M -n pgLogLV pgLogVG\n\n\n#Disable LVM read ahead\nsudo lvchange -r 0 \/dev\/mysqlDataVG\/mysqlDataLV\nsudo lvchange -r 0 \/dev\/mysqlLogVG\/mysqlLogLV\n\n\n#Format LVMs with ext4 and use nodiscard to make sure format time is fast on Nutanix due to SCSI unmap\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlDataVG\/mysqlDataLV\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlLogVG\/mysqlLogLV\n\nsleep 10\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"3ee7bf5d-2de9-4958-9b65-e30687c43f17"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Create Disk Setup"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"EXEC","uuid":"a98bfa55-2944-4d19-9e5c-5ae28cd3e0f8","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nsudo hostnamectl set-hostname \"@@{name}@@\"\n\n# -*- Mysql installation \nsudo yum install -y --quiet \"http:\/\/repo.mysql.com\/mysql80-community-release-el7.rpm\"\nsudo yum update -y --quiet\nsudo yum install -y --quiet sshpass mysql-community-server.x86_64\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"3ee7bf5d-2de9-4958-9b65-e30687c43f17"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install MySQL"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"EXEC","uuid":"38114c05-27c5-416f-8417-02b77cbeaa2e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\necho \"!includedir \/etc\/my.cnf.d\" | sudo tee -a \/etc\/my.cnf\n\necho \"[mysqld]\nbinlog-format=mixed\nlog-bin=mysql-bin\ndatadir=\/mysql\/data\nsql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES\ninnodb_data_home_dir = \/mysql\/data\ninnodb_log_group_home_dir = \/mysql\/log\ninnodb_file_per_table\ntmpdir=\/mysql\/tmpdir\ninnodb_undo_directory = \/mysql\/undo\ndefault-storage-engine = innodb\ndefault_tmp_storage_engine = innodb\ninnodb_log_files_in_group = 4\ninnodb_log_file_size = 1G\ninnodb_log_buffer_size = 8M\ninnodb_buffer_pool_size = 6G\t\nlarge-pages\t\ninnodb_buffer_pool_instances = 64\t\ninnodb_flush_method=O_DIRECT\t\ninnodb_flush_neighbors=0\t \ninnodb_flush_log_at_trx_commit=1\ninnodb_buffer_pool_dump_at_shutdown=1\t\ninnodb_buffer_pool_load_at_startup=1\t\nbulk_insert_buffer_size = 256\t\ninnodb_thread_concurrency = 16\t\n \t \n# Undo tablespace\t \ninnodb_undo_tablespaces = 5\t\n \t \n# Networking\t \nwait_timeout=57600\t \nmax_allowed_packet=1G\t\nsocket=\/var\/lib\/mysql\/mysql.sock\t \nskip-name-resolve\nport=3306\t\nmax_connections=1000\t\n\n\n[mysqld_safe]\nlog-error=\/mysql\/log\/mysqld.log\npid-file=\/var\/run\/mysqld\/mysqld.pid\" | sudo tee \/etc\/my.cnf.d\/nutanix.cnf\n\nsudo sed -i \"\/\\[mysqld\\]\/a server-id=100\" \/etc\/my.cnf.d\/nutanix.cnf\necho \"#master=100\" | sudo tee -a  \/etc\/my.cnf.d\/nutanix.cnf\n\nserver_id=`sudo cat \/etc\/my.cnf.d\/nutanix.cnf | grep  \"server-id=\" | cut -d= -f2`\nis_master=`sudo cat \/etc\/my.cnf.d\/nutanix.cnf | grep -q -w \"#master=$server_id\"; echo $?`\n\nif [ ${is_master} -ne 0 ]\nthen\n   sudo sed -i '\/\\[mysqld\\]\/a read_only=1' \/etc\/my.cnf.d\/nutanix.cnf\nfi\n\n# -*- Sysctl configuration\nmysql_grp_id=`id -g mysql`\nsudo sysctl -w vm.swappiness=0\nsudo sysctl -w vm.nr_hugepages=1024\nsudo sysctl -w vm.overcommit_memory=1\nsudo sysctl -w vm.dirty_background_ratio=5 \nsudo sysctl -w vm.dirty_ratio=15\nsudo sysctl -w vm.dirty_expire_centisecs=500\nsudo sysctl -w vm.dirty_writeback_centisecs=100\nsudo sysctl -w vm.hugetlb_shm_group=$mysql_grp_id\n\necho \"vm.swappiness=0\nvm.nr_hugepages=1024\nvm.overcommit_memory=1\nvm.dirty_background_ratio=5 \nvm.dirty_ratio=15\nvm.dirty_expire_centisecs=500\nvm.dirty_writeback_centisecs=100\nvm.hugetlb_shm_group=$mysql_grp_id\" | sudo tee  -a \/etc\/sysctl.conf\n\necho \"ACTION=='add|change', SUBSYSTEM=='block', RUN+='\/bin\/sh -c \\\"\/bin\/echo 1024 > \/sys%p\/queue\/max_sectors_kb\\\"'\" | sudo tee \/etc\/udev\/rules.d\/71-block-max-sectors.rules\n#echo 1024 | sudo tee \/sys\/block\/sd?\/queue\/max_sectors_kb\n\necho \"\/dev\/mysqlDataVG\/mysqlDataLV \/mysql\/data ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\necho \"\/dev\/mysqlLogVG\/mysqlLogLV \/mysql\/log ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\nsudo mkdir -p \/mysql\/log \/mysql\/data \/mysql\/tmpdir \/mysql\/undo\nsudo mount -a\nsudo chown -R mysql:mysql \/mysql\n\nsudo systemctl enable mysqld\n\nsudo rm -rf \/mysql\/data\/*\nsudo systemctl start mysqld\n\n#Fix to obtain temp password and set it to blank\npassword=$(grep -oP 'temporary password(.*): \\K(\\S+)' \/var\/log\/mysqld.log)\nsudo mysqladmin --user=root --password=\"$password\" password aaBB**cc1122\nsudo mysql --user=root --password=aaBB**cc1122 -e \"UNINSTALL COMPONENT 'file:\/\/component_validate_password'\"\nsudo mysqladmin --user=root --password=\"aaBB**cc1122\" password \"\"\n\n\n#Mysql secure installation\nsudo mysql -u root<<-EOF\nALTER USER 'root'@'localhost' IDENTIFIED WITH caching_sha2_password BY '@@{MYSQL_PASSWORD}@@';\nDELETE FROM mysql.user WHERE User='root' AND Host NOT IN ('localhost', '127.0.0.1', '::1');\nDELETE FROM mysql.user WHERE User='';\nDELETE FROM mysql.db WHERE Db='test' OR Db='test\\_%';\nFLUSH PRIVILEGES;\nEOF\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"3ee7bf5d-2de9-4958-9b65-e30687c43f17"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Setup MySQL"}],"description":"","message_list":[],"uuid":"178fae58-20e3-4f9a-9d57-f79f465f78e8","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"d13a100f_dag","uuid":"c667885c-867c-4ca7-92e7-6a24fc750ba0"},"name":"267c96d2_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPMasterPackage","uuid":"1201401a-4303-4417-8bee-ece1018bc5fa"},"retries":"0","description":"","type":"DAG","uuid":"79645533-44f8-4114-bc55-15e7bf703ef6","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"01fe868d_dag"}],"description":"","message_list":[],"uuid":"379b3619-28eb-4952-a45d-591f2f105024","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"01fe868d_dag","uuid":"79645533-44f8-4114-bc55-15e7bf703ef6"},"name":"ea47487d_runbook"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Uninstall_Crb_1201401a_4303_4417_8bee_ece1018bc5fa"}],"description":"","message_list":[],"uuid":"033030bb-7d54-4edf-90d6-4fa3001ee8bf","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Package_1201401a_4303_4417_8bee_ece1018bc5fa","uuid":"a2e5524d-566d-4ae2-9192-468b0a9dc82a"},"name":"SYS_GEN__Runbook_Package_1201401a_4303_4417_8bee_ece1018bc5fa"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"4d2794ff-74ce-4f38-8b86-abd4cfba2014","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPMasterPackage","uuid":"1201401a-4303-4417-8bee-ece1018bc5fa"},"retries":"0","description":"","type":"DAG","uuid":"c897ec43-b040-464c-832e-fa02af9067f8","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"551beedf-f404-4c9d-8892-b648318fdfcc"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"d522658c-13ef-4945-a53f-c4876f53ad7b"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_1201401a_4303_4417_8bee_ece1018bc5fa","uuid":"85ce455c-4563-44cd-bf78-c89949dda8df"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"551beedf-f404-4c9d-8892-b648318fdfcc"},"edge_type":"inherent","type":"","uuid":"9b99e937-223c-45ff-ba11-6a5a2bffd25d","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"d522658c-13ef-4945-a53f-c4876f53ad7b"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"d522658c-13ef-4945-a53f-c4876f53ad7b"},"edge_type":"inherent","type":"","uuid":"82fe35c5-2068-4dab-893a-9b5b3090bf2a","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_1201401a_4303_4417_8bee_ece1018bc5fa","uuid":"85ce455c-4563-44cd-bf78-c89949dda8df"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_1201401a_4303_4417_8bee_ece1018bc5fa"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"551beedf-f404-4c9d-8892-b648318fdfcc","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0aefbca3_runbook","uuid":"ce2a2858-b89b-4bb4-8fb3-ee8bd8a6bd3f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"d522658c-13ef-4945-a53f-c4876f53ad7b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"5fd47ec3_runbook","uuid":"e410ef14-5f72-46ab-b7d5-0181621be34f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b"},{"target_any_local_reference":{"kind":"app_package","name":"GCPMasterPackage","uuid":"1201401a-4303-4417-8bee-ece1018bc5fa"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"85ce455c-4563-44cd-bf78-c89949dda8df","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_1201401a_4303_4417_8bee_ece1018bc5fa","uuid":"033030bb-7d54-4edf-90d6-4fa3001ee8bf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_1201401a_4303_4417_8bee_ece1018bc5fa"}],"description":"","message_list":[],"uuid":"cceaa9b5-dbdb-47d0-b224-e24e9ec99d08","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_1201401a_4303_4417_8bee_ece1018bc5fa","uuid":"c897ec43-b040-464c-832e-fa02af9067f8"},"name":"SYS_GEN__Runbook_Package_1201401a_4303_4417_8bee_ece1018bc5fa"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"7f418777-e798-4989-af7a-a4527f4a639c","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPMasterPackage","uuid":"1201401a-4303-4417-8bee-ece1018bc5fa"},"retries":"0","description":"","type":"DAG","uuid":"615a26fa-fcee-4415-bdd0-cfbab531e35f","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"4112a653-d2e2-4099-9c41-5f4f498d7539"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_1201401a_4303_4417_8bee_ece1018bc5fa","uuid":"ac3dc2c0-f1ca-45e5-b08d-48ef08e20c9a"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"4112a653-d2e2-4099-9c41-5f4f498d7539"},"edge_type":"inherent","type":"","uuid":"01c6ed4c-4f91-446c-affb-dadbbd9586d5","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_1201401a_4303_4417_8bee_ece1018bc5fa","uuid":"ac3dc2c0-f1ca-45e5-b08d-48ef08e20c9a"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_1201401a_4303_4417_8bee_ece1018bc5fa"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"4112a653-d2e2-4099-9c41-5f4f498d7539","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"b9b6e25b-f9f5-473d-8c7e-6fcb8b23a4da"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b"},{"target_any_local_reference":{"kind":"app_package","name":"GCPMasterPackage","uuid":"1201401a-4303-4417-8bee-ece1018bc5fa"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"ac3dc2c0-f1ca-45e5-b08d-48ef08e20c9a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_1201401a_4303_4417_8bee_ece1018bc5fa"}],"description":"","message_list":[],"uuid":"056ae38a-e8d9-49d0-b17b-8cc323e2dd54","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_1201401a_4303_4417_8bee_ece1018bc5fa","uuid":"615a26fa-fcee-4415-bdd0-cfbab531e35f"},"name":"SYS_GEN__Runbook_Package_1201401a_4303_4417_8bee_ece1018bc5fa"}},{"description":"System action for starting an application","message_list":[],"uuid":"e7367bf5-cddf-4ba1-898a-53ab52406ce8","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPMasterPackage","uuid":"1201401a-4303-4417-8bee-ece1018bc5fa"},"retries":"0","description":"","type":"DAG","uuid":"cd0fbab0-31ab-4289-8cb8-10f36443da66","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"0af9df83-3deb-4cc9-9806-110bd7e33181"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_1201401a_4303_4417_8bee_ece1018bc5fa"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"0af9df83-3deb-4cc9-9806-110bd7e33181","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"5ddb28d1_runbook","uuid":"907290fe-eaef-465b-a916-7c2c67d20c97"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b"}],"description":"","message_list":[],"uuid":"aaa27aef-d9f2-4e60-a395-eba1619f63fc","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_1201401a_4303_4417_8bee_ece1018bc5fa","uuid":"cd0fbab0-31ab-4289-8cb8-10f36443da66"},"name":"SYS_GEN__Runbook_Package_1201401a_4303_4417_8bee_ece1018bc5fa"}},{"description":"System action for restarting an application","message_list":[],"uuid":"2035f9c6-fbc0-4978-94a8-5a54d6ff8673","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPMasterPackage","uuid":"1201401a-4303-4417-8bee-ece1018bc5fa"},"retries":"0","description":"","type":"DAG","uuid":"5b630318-512d-4dd4-9033-cce30c998bd3","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"43428032-5125-4a57-ba72-7588e2e247ef"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_1201401a_4303_4417_8bee_ece1018bc5fa"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"43428032-5125-4a57-ba72-7588e2e247ef","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"7e709238_runbook","uuid":"e38aa3c5-d052-4d28-84e6-acfb09a6af83"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b"}],"description":"","message_list":[],"uuid":"f1fd82ea-6323-463e-b232-5641b1d977be","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_1201401a_4303_4417_8bee_ece1018bc5fa","uuid":"5b630318-512d-4dd4-9033-cce30c998bd3"},"name":"SYS_GEN__Runbook_Package_1201401a_4303_4417_8bee_ece1018bc5fa"}},{"description":"System action for stopping an application","message_list":[],"uuid":"b86102bc-9f08-48e8-946a-4bce7263a523","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPMasterPackage","uuid":"1201401a-4303-4417-8bee-ece1018bc5fa"},"retries":"0","description":"","type":"DAG","uuid":"f92f0f7d-505a-47c0-b201-b7d645f685ee","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"aa60bad1-1a03-42a4-8021-5f8788f289b7"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_1201401a_4303_4417_8bee_ece1018bc5fa"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"aa60bad1-1a03-42a4-8021-5f8788f289b7","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0aefbca3_runbook","uuid":"ce2a2858-b89b-4bb4-8fb3-ee8bd8a6bd3f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b"}],"description":"","message_list":[],"uuid":"907353a0-a541-41d7-9182-d04991488a80","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_1201401a_4303_4417_8bee_ece1018bc5fa","uuid":"f92f0f7d-505a-47c0-b201-b7d645f685ee"},"name":"SYS_GEN__Runbook_Package_1201401a_4303_4417_8bee_ece1018bc5fa"}}],"message_list":[],"service_local_reference_list":[{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"}],"uuid":"1201401a-4303-4417-8bee-ece1018bc5fa","state":"ACTIVE","version":"","editables":{},"type":"DEB","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPMasterPackage","uuid":"1201401a-4303-4417-8bee-ece1018bc5fa"},"retries":"0","description":"","type":"DAG","uuid":"c667885c-867c-4ca7-92e7-6a24fc750ba0","child_tasks_local_reference_list":[{"kind":"app_task","name":"Install System Packages","uuid":"4e0054e3-f074-46fc-8c24-03efb4f74b66"},{"kind":"app_task","name":"Create Disk Setup","uuid":"a9732c48-656e-4bd1-bce7-9a2940cd3f04"},{"kind":"app_task","name":"Install MySQL","uuid":"a98bfa55-2944-4d19-9e5c-5ae28cd3e0f8"},{"kind":"app_task","name":"Setup MySQL","uuid":"38114c05-27c5-416f-8417-02b77cbeaa2e"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Install System Packages","uuid":"4e0054e3-f074-46fc-8c24-03efb4f74b66"},"edge_type":"user_defined","type":"","uuid":"80763470-ee77-4453-b64c-d5e48b77f280","to_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"a9732c48-656e-4bd1-bce7-9a2940cd3f04"}},{"from_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"a9732c48-656e-4bd1-bce7-9a2940cd3f04"},"edge_type":"user_defined","type":"","uuid":"4b6b56ed-f0e1-4502-9af0-45770deb852a","to_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"a98bfa55-2944-4d19-9e5c-5ae28cd3e0f8"}},{"from_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"a98bfa55-2944-4d19-9e5c-5ae28cd3e0f8"},"edge_type":"user_defined","type":"","uuid":"89b8401e-9cbf-4d9b-9874-a7dac004e00d","to_task_reference":{"kind":"app_task","name":"Setup MySQL","uuid":"38114c05-27c5-416f-8417-02b77cbeaa2e"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"d13a100f_dag"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"EXEC","uuid":"4e0054e3-f074-46fc-8c24-03efb4f74b66","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n# -*- Install Mysql\nsudo yum update -y --quiet\nsudo yum install -y  wget xfs* bc unzip lvm2* lsscsi\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"System packages are installed\"","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"3ee7bf5d-2de9-4958-9b65-e30687c43f17"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install System Packages"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"EXEC","uuid":"a9732c48-656e-4bd1-bce7-9a2940cd3f04","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n##############\n#\n# LVM setup script for MySQL . 4 disks for DATA and 4 for logs\n# Data disks are 50GB | Log disks are 25GB \n#\n#############\n\n\n#PGSQL data\nsudo pvcreate \/dev\/sdb \/dev\/sdc \/dev\/sdd \/dev\/sde\nsudo vgcreate mysqlDataVG \/dev\/sdb \/dev\/sdd \/dev\/sdc \/dev\/sde\nsudo lvcreate -l 100%FREE -i4 -I1M -n mysqlDataLV mysqlDataVG          ## Use 1MB to avoid IO amplification \n#lvcreate -l 100%FREE -i4 -I4M -n pgDataLV pgDataVG\n\n\n#PGSQL logs\nsudo pvcreate \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo vgcreate mysqlLogVG \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo lvcreate -l 100%FREE -i2 -I1M -n mysqlLogLV mysqlLogVG            ## Use 1MB to avoid IO amplification\n#lvcreate -l 100%FREE -i2 -I4M -n pgLogLV pgLogVG\n\n\n#Disable LVM read ahead\nsudo lvchange -r 0 \/dev\/mysqlDataVG\/mysqlDataLV\nsudo lvchange -r 0 \/dev\/mysqlLogVG\/mysqlLogLV\n\n\n#Format LVMs with ext4 and use nodiscard to make sure format time is fast on Nutanix due to SCSI unmap\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlDataVG\/mysqlDataLV\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlLogVG\/mysqlLogLV\n\nsleep 10\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"3ee7bf5d-2de9-4958-9b65-e30687c43f17"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Create Disk Setup"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"EXEC","uuid":"a98bfa55-2944-4d19-9e5c-5ae28cd3e0f8","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nsudo hostnamectl set-hostname \"@@{name}@@\"\n\n# -*- Mysql installation \nsudo yum install -y --quiet \"http:\/\/repo.mysql.com\/mysql80-community-release-el7.rpm\"\nsudo yum update -y --quiet\nsudo yum install -y --quiet sshpass mysql-community-server.x86_64\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"3ee7bf5d-2de9-4958-9b65-e30687c43f17"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install MySQL"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"EXEC","uuid":"38114c05-27c5-416f-8417-02b77cbeaa2e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\necho \"!includedir \/etc\/my.cnf.d\" | sudo tee -a \/etc\/my.cnf\n\necho \"[mysqld]\nbinlog-format=mixed\nlog-bin=mysql-bin\ndatadir=\/mysql\/data\nsql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES\ninnodb_data_home_dir = \/mysql\/data\ninnodb_log_group_home_dir = \/mysql\/log\ninnodb_file_per_table\ntmpdir=\/mysql\/tmpdir\ninnodb_undo_directory = \/mysql\/undo\ndefault-storage-engine = innodb\ndefault_tmp_storage_engine = innodb\ninnodb_log_files_in_group = 4\ninnodb_log_file_size = 1G\ninnodb_log_buffer_size = 8M\ninnodb_buffer_pool_size = 6G\t\nlarge-pages\t\ninnodb_buffer_pool_instances = 64\t\ninnodb_flush_method=O_DIRECT\t\ninnodb_flush_neighbors=0\t \ninnodb_flush_log_at_trx_commit=1\ninnodb_buffer_pool_dump_at_shutdown=1\t\ninnodb_buffer_pool_load_at_startup=1\t\nbulk_insert_buffer_size = 256\t\ninnodb_thread_concurrency = 16\t\n \t \n# Undo tablespace\t \ninnodb_undo_tablespaces = 5\t\n \t \n# Networking\t \nwait_timeout=57600\t \nmax_allowed_packet=1G\t\nsocket=\/var\/lib\/mysql\/mysql.sock\t \nskip-name-resolve\nport=3306\t\nmax_connections=1000\t\n\n\n[mysqld_safe]\nlog-error=\/mysql\/log\/mysqld.log\npid-file=\/var\/run\/mysqld\/mysqld.pid\" | sudo tee \/etc\/my.cnf.d\/nutanix.cnf\n\nsudo sed -i \"\/\\[mysqld\\]\/a server-id=100\" \/etc\/my.cnf.d\/nutanix.cnf\necho \"#master=100\" | sudo tee -a  \/etc\/my.cnf.d\/nutanix.cnf\n\nserver_id=`sudo cat \/etc\/my.cnf.d\/nutanix.cnf | grep  \"server-id=\" | cut -d= -f2`\nis_master=`sudo cat \/etc\/my.cnf.d\/nutanix.cnf | grep -q -w \"#master=$server_id\"; echo $?`\n\nif [ ${is_master} -ne 0 ]\nthen\n   sudo sed -i '\/\\[mysqld\\]\/a read_only=1' \/etc\/my.cnf.d\/nutanix.cnf\nfi\n\n# -*- Sysctl configuration\nmysql_grp_id=`id -g mysql`\nsudo sysctl -w vm.swappiness=0\nsudo sysctl -w vm.nr_hugepages=1024\nsudo sysctl -w vm.overcommit_memory=1\nsudo sysctl -w vm.dirty_background_ratio=5 \nsudo sysctl -w vm.dirty_ratio=15\nsudo sysctl -w vm.dirty_expire_centisecs=500\nsudo sysctl -w vm.dirty_writeback_centisecs=100\nsudo sysctl -w vm.hugetlb_shm_group=$mysql_grp_id\n\necho \"vm.swappiness=0\nvm.nr_hugepages=1024\nvm.overcommit_memory=1\nvm.dirty_background_ratio=5 \nvm.dirty_ratio=15\nvm.dirty_expire_centisecs=500\nvm.dirty_writeback_centisecs=100\nvm.hugetlb_shm_group=$mysql_grp_id\" | sudo tee  -a \/etc\/sysctl.conf\n\necho \"ACTION=='add|change', SUBSYSTEM=='block', RUN+='\/bin\/sh -c \\\"\/bin\/echo 1024 > \/sys%p\/queue\/max_sectors_kb\\\"'\" | sudo tee \/etc\/udev\/rules.d\/71-block-max-sectors.rules\n#echo 1024 | sudo tee \/sys\/block\/sd?\/queue\/max_sectors_kb\n\necho \"\/dev\/mysqlDataVG\/mysqlDataLV \/mysql\/data ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\necho \"\/dev\/mysqlLogVG\/mysqlLogLV \/mysql\/log ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\nsudo mkdir -p \/mysql\/log \/mysql\/data \/mysql\/tmpdir \/mysql\/undo\nsudo mount -a\nsudo chown -R mysql:mysql \/mysql\n\nsudo systemctl enable mysqld\n\nsudo rm -rf \/mysql\/data\/*\nsudo systemctl start mysqld\n\n#Fix to obtain temp password and set it to blank\npassword=$(grep -oP 'temporary password(.*): \\K(\\S+)' \/var\/log\/mysqld.log)\nsudo mysqladmin --user=root --password=\"$password\" password aaBB**cc1122\nsudo mysql --user=root --password=aaBB**cc1122 -e \"UNINSTALL COMPONENT 'file:\/\/component_validate_password'\"\nsudo mysqladmin --user=root --password=\"aaBB**cc1122\" password \"\"\n\n\n#Mysql secure installation\nsudo mysql -u root<<-EOF\nALTER USER 'root'@'localhost' IDENTIFIED WITH caching_sha2_password BY '@@{MYSQL_PASSWORD}@@';\nDELETE FROM mysql.user WHERE User='root' AND Host NOT IN ('localhost', '127.0.0.1', '::1');\nDELETE FROM mysql.user WHERE User='';\nDELETE FROM mysql.db WHERE Db='test' OR Db='test\\_%';\nFLUSH PRIVILEGES;\nEOF\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"3ee7bf5d-2de9-4958-9b65-e30687c43f17"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Setup MySQL"}],"description":"","message_list":[],"uuid":"178fae58-20e3-4f9a-9d57-f79f465f78e8","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"d13a100f_dag","uuid":"c667885c-867c-4ca7-92e7-6a24fc750ba0"},"name":"267c96d2_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPMasterPackage","uuid":"1201401a-4303-4417-8bee-ece1018bc5fa"},"retries":"0","description":"","type":"DAG","uuid":"79645533-44f8-4114-bc55-15e7bf703ef6","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"01fe868d_dag"}],"description":"","message_list":[],"uuid":"379b3619-28eb-4952-a45d-591f2f105024","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"01fe868d_dag","uuid":"79645533-44f8-4114-bc55-15e7bf703ef6"},"name":"ea47487d_runbook"}},"variable_list":[],"name":"GCPMasterPackage"},{"description":"","action_list":[{"description":"System action for installing an application","message_list":[],"uuid":"2b2a9cce-059c-4aa9-b054-14f2fe106300","name":"action_install","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPSlavePackage","uuid":"ed6bf66b-ff88-4209-8ac6-fd62178fea4d"},"retries":"0","description":"","type":"DAG","uuid":"3253c2ac-61d3-4287-961d-6764bc79bba1","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Install_Crb_ed6bf66b_ff88_4209_8ac6_fd62178fea4d","uuid":"2c57b289-8df9-43a8-9b98-b14eada1f99c"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Package_ed6bf66b_ff88_4209_8ac6_fd62178fea4d"},{"target_any_local_reference":{"kind":"app_package","name":"GCPSlavePackage","uuid":"ed6bf66b-ff88-4209-8ac6-fd62178fea4d"},"retries":"0","description":"","type":"CUSTOM_PACKAGE_INSTALL","uuid":"2c57b289-8df9-43a8-9b98-b14eada1f99c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPSlavePackage","uuid":"ed6bf66b-ff88-4209-8ac6-fd62178fea4d"},"retries":"0","description":"","type":"DAG","uuid":"8ab9dc63-a049-4225-a8d8-0b7e56114dde","child_tasks_local_reference_list":[{"kind":"app_task","name":"Install  System Packages","uuid":"03ef3dec-55e3-4982-9d97-5cd70ac90981"},{"kind":"app_task","name":"Create Disk Setup","uuid":"07a69e13-825e-496d-a2dd-ceeb230c2db9"},{"kind":"app_task","name":"Install MySQL","uuid":"a3f6c4be-c849-49af-97a4-7a0f18d30c82"},{"kind":"app_task","name":"Setup MySQL","uuid":"a75ea3ce-823f-462d-b6d1-be2e47913c44"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Install  System Packages","uuid":"03ef3dec-55e3-4982-9d97-5cd70ac90981"},"edge_type":"user_defined","type":"","uuid":"690b0515-034d-4bc9-9f18-f1dd132c3b45","to_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"07a69e13-825e-496d-a2dd-ceeb230c2db9"}},{"from_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"07a69e13-825e-496d-a2dd-ceeb230c2db9"},"edge_type":"user_defined","type":"","uuid":"0bed9a27-530f-4d74-8e06-533df04f2662","to_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"a3f6c4be-c849-49af-97a4-7a0f18d30c82"}},{"from_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"a3f6c4be-c849-49af-97a4-7a0f18d30c82"},"edge_type":"user_defined","type":"","uuid":"546faa70-d78b-40fc-9661-ec8f92db9d12","to_task_reference":{"kind":"app_task","name":"Setup MySQL","uuid":"a75ea3ce-823f-462d-b6d1-be2e47913c44"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"eefb69f6_dag"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","description":"","type":"EXEC","uuid":"03ef3dec-55e3-4982-9d97-5cd70ac90981","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n# -*- Install Mysql\nsudo yum update -y --quiet\nsudo yum install -y  wget xfs* bc unzip lvm2* lsscsi\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"System packages are installed\"","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"3ee7bf5d-2de9-4958-9b65-e30687c43f17"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install  System Packages"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","description":"","type":"EXEC","uuid":"07a69e13-825e-496d-a2dd-ceeb230c2db9","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n##############\n#\n# LVM setup script for MySQL . 4 disks for DATA and 4 for logs\n# Data disks are 50GB | Log disks are 25GB \n#\n#############\n\n\n#PGSQL data\nsudo pvcreate \/dev\/sdb \/dev\/sdc \/dev\/sdd \/dev\/sde\nsudo vgcreate mysqlDataVG \/dev\/sdb \/dev\/sdd \/dev\/sdc \/dev\/sde\nsudo lvcreate -l 100%FREE -i4 -I1M -n mysqlDataLV mysqlDataVG          ## Use 1MB to avoid IO amplification \n#lvcreate -l 100%FREE -i4 -I4M -n pgDataLV pgDataVG\n\n\n#PGSQL logs\nsudo pvcreate \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo vgcreate mysqlLogVG \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo lvcreate -l 100%FREE -i2 -I1M -n mysqlLogLV mysqlLogVG            ## Use 1MB to avoid IO amplification\n#lvcreate -l 100%FREE -i2 -I4M -n pgLogLV pgLogVG\n\n\n#Disable LVM read ahead\nsudo lvchange -r 0 \/dev\/mysqlDataVG\/mysqlDataLV\nsudo lvchange -r 0 \/dev\/mysqlLogVG\/mysqlLogLV\n\n\n#Format LVMs with ext4 and use nodiscard to make sure format time is fast on Nutanix due to SCSI unmap\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlDataVG\/mysqlDataLV\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlLogVG\/mysqlLogLV\n\nsleep 10\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"3ee7bf5d-2de9-4958-9b65-e30687c43f17"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Create Disk Setup"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","description":"","type":"EXEC","uuid":"a3f6c4be-c849-49af-97a4-7a0f18d30c82","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nsudo hostnamectl set-hostname \"@@{name}@@\"\n\n# -*- Mysql installation \nsudo yum install -y --quiet \"http:\/\/repo.mysql.com\/mysql80-community-release-el7.rpm\"\nsudo yum update -y --quiet\nsudo yum install -y --quiet sshpass mysql-community-server.x86_64\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"3ee7bf5d-2de9-4958-9b65-e30687c43f17"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install MySQL"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","description":"","type":"EXEC","uuid":"a75ea3ce-823f-462d-b6d1-be2e47913c44","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\necho \"!includedir \/etc\/my.cnf.d\" | sudo tee -a \/etc\/my.cnf\n\necho \"[mysqld]\nbinlog-format=mixed\nlog-bin=mysql-bin\ndatadir=\/mysql\/data\nsql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES\ninnodb_data_home_dir = \/mysql\/data\ninnodb_log_group_home_dir = \/mysql\/log\ninnodb_file_per_table\ntmpdir=\/mysql\/tmpdir\ninnodb_undo_directory = \/mysql\/undo\ndefault-storage-engine = innodb\ndefault_tmp_storage_engine = innodb\ninnodb_log_files_in_group = 4\ninnodb_log_file_size = 1G\ninnodb_log_buffer_size = 8M\ninnodb_buffer_pool_size = 6G\t\nlarge-pages\t\ninnodb_buffer_pool_instances = 64\t\ninnodb_flush_method=O_DIRECT\t\ninnodb_flush_neighbors=0\t \ninnodb_flush_log_at_trx_commit=1\ninnodb_buffer_pool_dump_at_shutdown=1\t\ninnodb_buffer_pool_load_at_startup=1\t\nbulk_insert_buffer_size = 256\t\ninnodb_thread_concurrency = 16\t\n \t \n# Undo tablespace\t \ninnodb_undo_tablespaces = 5\t\n \t \n# Networking\t \nwait_timeout=57600\t \nmax_allowed_packet=1G\t\nsocket=\/var\/lib\/mysql\/mysql.sock\t \nskip-name-resolve\nport=3306\t\nmax_connections=1000\t\n\n\n[mysqld_safe]\nlog-error=\/mysql\/log\/mysqld.log\npid-file=\/var\/run\/mysqld\/mysqld.pid\" | sudo tee \/etc\/my.cnf.d\/nutanix.cnf\n\necho \"#master=100\" | sudo tee -a  \/etc\/my.cnf.d\/nutanix.cnf\n\nserver_id=`sudo cat \/etc\/my.cnf | grep  \"server-id=\" | cut -d= -f2`\nis_master=`sudo cat \/etc\/my.cnf | grep -q -w \"#master=$server_id\"; echo $?`\n\nif [ ${is_master} -ne 0 ]\nthen\n   sudo sed -i '\/\\[mysqld\\]\/a read_only=1' \/etc\/my.cnf.d\/nutanix.cnf\nfi\n\n# -*- Sysctl configuration\nmysql_grp_id=`id -g mysql`\nsudo sysctl -w vm.swappiness=0\nsudo sysctl -w vm.nr_hugepages=1024\nsudo sysctl -w vm.overcommit_memory=1\nsudo sysctl -w vm.dirty_background_ratio=5 \nsudo sysctl -w vm.dirty_ratio=15\nsudo sysctl -w vm.dirty_expire_centisecs=500\nsudo sysctl -w vm.dirty_writeback_centisecs=100\nsudo sysctl -w vm.hugetlb_shm_group=$mysql_grp_id\n\necho \"vm.swappiness=0\nvm.nr_hugepages=1024\nvm.overcommit_memory=1\nvm.dirty_background_ratio=5 \nvm.dirty_ratio=15\nvm.dirty_expire_centisecs=500\nvm.dirty_writeback_centisecs=100\nvm.hugetlb_shm_group=$mysql_grp_id\" | sudo tee  -a \/etc\/sysctl.conf\n\necho \"ACTION=='add|change', SUBSYSTEM=='block', RUN+='\/bin\/sh -c \\\"\/bin\/echo 1024 > \/sys%p\/queue\/max_sectors_kb\\\"'\" | sudo tee \/etc\/udev\/rules.d\/71-block-max-sectors.rules\n#echo 1024 | sudo tee \/sys\/block\/sd?\/queue\/max_sectors_kb\n\necho \"\/dev\/mysqlDataVG\/mysqlDataLV \/mysql\/data ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\necho \"\/dev\/mysqlLogVG\/mysqlLogLV \/mysql\/log ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\nsudo mkdir -p \/mysql\/log \/mysql\/data \/mysql\/tmpdir \/mysql\/undo\nsudo mount -a\nsudo chown -R mysql:mysql \/mysql\n\nsudo systemctl enable mysqld\n\nsudo rm -rf \/mysql\/data\/*\nsudo systemctl start mysqld\n\n#Fix to obtain temp password and set it to blank\npassword=$(grep -oP 'temporary password(.*): \\K(\\S+)' \/var\/log\/mysqld.log)\nsudo mysqladmin --user=root --password=\"$password\" password aaBB**cc1122\nsudo mysql --user=root --password=aaBB**cc1122 -e \"UNINSTALL COMPONENT 'file:\/\/component_validate_password'\"\nsudo mysqladmin --user=root --password=\"aaBB**cc1122\" password \"\"\n\n\n#Mysql secure installation\nsudo mysql -u root<<-EOF\nALTER USER 'root'@'localhost' IDENTIFIED WITH caching_sha2_password BY '@@{MYSQL_PASSWORD}@@';\nDELETE FROM mysql.user WHERE User='root' AND Host NOT IN ('localhost', '127.0.0.1', '::1');\nDELETE FROM mysql.user WHERE User='';\nDELETE FROM mysql.db WHERE Db='test' OR Db='test\\_%';\nFLUSH PRIVILEGES;\nEOF\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"3ee7bf5d-2de9-4958-9b65-e30687c43f17"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Setup MySQL"}],"description":"","message_list":[],"uuid":"d61af59a-b6f9-43e0-90a0-602defc08595","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"eefb69f6_dag","uuid":"8ab9dc63-a049-4225-a8d8-0b7e56114dde"},"name":"7f65f668_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPSlavePackage","uuid":"ed6bf66b-ff88-4209-8ac6-fd62178fea4d"},"retries":"0","description":"","type":"DAG","uuid":"019cfe26-0fda-4f86-b6e4-dbc5461ca4af","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"9607e515_dag"}],"description":"","message_list":[],"uuid":"0db6e5b4-410f-43db-b6d3-874f6e93c10f","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"9607e515_dag","uuid":"019cfe26-0fda-4f86-b6e4-dbc5461ca4af"},"name":"22dbbe31_runbook"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Install_Crb_ed6bf66b_ff88_4209_8ac6_fd62178fea4d"}],"description":"","message_list":[],"uuid":"e4e47809-e5f9-4bdb-a74e-91563c7c0e86","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Package_ed6bf66b_ff88_4209_8ac6_fd62178fea4d","uuid":"3253c2ac-61d3-4287-961d-6764bc79bba1"},"name":"SYS_GEN__Runbook_Package_ed6bf66b_ff88_4209_8ac6_fd62178fea4d"}},{"description":"System action for creating an application","message_list":[],"uuid":"3400099e-7d2b-466e-8afa-5774f36b77dd","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPSlavePackage","uuid":"ed6bf66b-ff88-4209-8ac6-fd62178fea4d"},"retries":"0","description":"","type":"DAG","uuid":"d20f677b-409d-47bc-bca8-62df4109955c","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_ed6bf66b_ff88_4209_8ac6_fd62178fea4d","uuid":"0ff3d520-3e32-4f4a-82d0-deeedf588cb2"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"ba83a753-610a-4e11-9de3-0b2fb5fc9715"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"f7d94b3a-6210-4484-aa56-d874783fbbbe"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"ba83a753-610a-4e11-9de3-0b2fb5fc9715"},"edge_type":"inherent","type":"","uuid":"7ad175ad-1ac6-48b1-8539-33d5f9676fc9","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"f7d94b3a-6210-4484-aa56-d874783fbbbe"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_ed6bf66b_ff88_4209_8ac6_fd62178fea4d","uuid":"0ff3d520-3e32-4f4a-82d0-deeedf588cb2"},"edge_type":"inherent","type":"","uuid":"6cb02d9e-45d0-4bdb-baf4-d0233ae6b67c","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"ba83a753-610a-4e11-9de3-0b2fb5fc9715"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_ed6bf66b_ff88_4209_8ac6_fd62178fea4d"},{"target_any_local_reference":{"kind":"app_package","name":"GCPSlavePackage","uuid":"ed6bf66b-ff88-4209-8ac6-fd62178fea4d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"0ff3d520-3e32-4f4a-82d0-deeedf588cb2","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_ed6bf66b_ff88_4209_8ac6_fd62178fea4d","uuid":"e4e47809-e5f9-4bdb-a74e-91563c7c0e86"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_ed6bf66b_ff88_4209_8ac6_fd62178fea4d"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"ba83a753-610a-4e11-9de3-0b2fb5fc9715","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"d54168c9_runbook","uuid":"d9d72b08-90b4-46c2-a771-6d338abb4bc3"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"f7d94b3a-6210-4484-aa56-d874783fbbbe","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"a027cde0_runbook","uuid":"557651c0-2ccf-45cb-beb3-9f2028221b2e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d"}],"description":"","message_list":[],"uuid":"d94cf712-0f45-490c-82b1-3627ada55610","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_ed6bf66b_ff88_4209_8ac6_fd62178fea4d","uuid":"d20f677b-409d-47bc-bca8-62df4109955c"},"name":"SYS_GEN__Runbook_Package_ed6bf66b_ff88_4209_8ac6_fd62178fea4d"}},{"description":"System action for uninstalling an application","message_list":[],"uuid":"afebfc09-0432-4c78-b1e8-2cc2b9cc82ad","name":"action_uninstall","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPSlavePackage","uuid":"ed6bf66b-ff88-4209-8ac6-fd62178fea4d"},"retries":"0","description":"","type":"DAG","uuid":"9e11c247-2f14-40fe-8026-614155acfd04","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Uninstall_Crb_ed6bf66b_ff88_4209_8ac6_fd62178fea4d","uuid":"b9579e31-656b-4d43-bd2f-851c36dc56e7"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Package_ed6bf66b_ff88_4209_8ac6_fd62178fea4d"},{"target_any_local_reference":{"kind":"app_package","name":"GCPSlavePackage","uuid":"ed6bf66b-ff88-4209-8ac6-fd62178fea4d"},"retries":"0","description":"","type":"CUSTOM_PACKAGE_UNINSTALL","uuid":"b9579e31-656b-4d43-bd2f-851c36dc56e7","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPSlavePackage","uuid":"ed6bf66b-ff88-4209-8ac6-fd62178fea4d"},"retries":"0","description":"","type":"DAG","uuid":"8ab9dc63-a049-4225-a8d8-0b7e56114dde","child_tasks_local_reference_list":[{"kind":"app_task","name":"Install  System Packages","uuid":"03ef3dec-55e3-4982-9d97-5cd70ac90981"},{"kind":"app_task","name":"Create Disk Setup","uuid":"07a69e13-825e-496d-a2dd-ceeb230c2db9"},{"kind":"app_task","name":"Install MySQL","uuid":"a3f6c4be-c849-49af-97a4-7a0f18d30c82"},{"kind":"app_task","name":"Setup MySQL","uuid":"a75ea3ce-823f-462d-b6d1-be2e47913c44"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Install  System Packages","uuid":"03ef3dec-55e3-4982-9d97-5cd70ac90981"},"edge_type":"user_defined","type":"","uuid":"690b0515-034d-4bc9-9f18-f1dd132c3b45","to_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"07a69e13-825e-496d-a2dd-ceeb230c2db9"}},{"from_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"07a69e13-825e-496d-a2dd-ceeb230c2db9"},"edge_type":"user_defined","type":"","uuid":"0bed9a27-530f-4d74-8e06-533df04f2662","to_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"a3f6c4be-c849-49af-97a4-7a0f18d30c82"}},{"from_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"a3f6c4be-c849-49af-97a4-7a0f18d30c82"},"edge_type":"user_defined","type":"","uuid":"546faa70-d78b-40fc-9661-ec8f92db9d12","to_task_reference":{"kind":"app_task","name":"Setup MySQL","uuid":"a75ea3ce-823f-462d-b6d1-be2e47913c44"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"eefb69f6_dag"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","description":"","type":"EXEC","uuid":"03ef3dec-55e3-4982-9d97-5cd70ac90981","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n# -*- Install Mysql\nsudo yum update -y --quiet\nsudo yum install -y  wget xfs* bc unzip lvm2* lsscsi\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"System packages are installed\"","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"3ee7bf5d-2de9-4958-9b65-e30687c43f17"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install  System Packages"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","description":"","type":"EXEC","uuid":"07a69e13-825e-496d-a2dd-ceeb230c2db9","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n##############\n#\n# LVM setup script for MySQL . 4 disks for DATA and 4 for logs\n# Data disks are 50GB | Log disks are 25GB \n#\n#############\n\n\n#PGSQL data\nsudo pvcreate \/dev\/sdb \/dev\/sdc \/dev\/sdd \/dev\/sde\nsudo vgcreate mysqlDataVG \/dev\/sdb \/dev\/sdd \/dev\/sdc \/dev\/sde\nsudo lvcreate -l 100%FREE -i4 -I1M -n mysqlDataLV mysqlDataVG          ## Use 1MB to avoid IO amplification \n#lvcreate -l 100%FREE -i4 -I4M -n pgDataLV pgDataVG\n\n\n#PGSQL logs\nsudo pvcreate \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo vgcreate mysqlLogVG \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo lvcreate -l 100%FREE -i2 -I1M -n mysqlLogLV mysqlLogVG            ## Use 1MB to avoid IO amplification\n#lvcreate -l 100%FREE -i2 -I4M -n pgLogLV pgLogVG\n\n\n#Disable LVM read ahead\nsudo lvchange -r 0 \/dev\/mysqlDataVG\/mysqlDataLV\nsudo lvchange -r 0 \/dev\/mysqlLogVG\/mysqlLogLV\n\n\n#Format LVMs with ext4 and use nodiscard to make sure format time is fast on Nutanix due to SCSI unmap\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlDataVG\/mysqlDataLV\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlLogVG\/mysqlLogLV\n\nsleep 10\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"3ee7bf5d-2de9-4958-9b65-e30687c43f17"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Create Disk Setup"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","description":"","type":"EXEC","uuid":"a3f6c4be-c849-49af-97a4-7a0f18d30c82","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nsudo hostnamectl set-hostname \"@@{name}@@\"\n\n# -*- Mysql installation \nsudo yum install -y --quiet \"http:\/\/repo.mysql.com\/mysql80-community-release-el7.rpm\"\nsudo yum update -y --quiet\nsudo yum install -y --quiet sshpass mysql-community-server.x86_64\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"3ee7bf5d-2de9-4958-9b65-e30687c43f17"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install MySQL"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","description":"","type":"EXEC","uuid":"a75ea3ce-823f-462d-b6d1-be2e47913c44","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\necho \"!includedir \/etc\/my.cnf.d\" | sudo tee -a \/etc\/my.cnf\n\necho \"[mysqld]\nbinlog-format=mixed\nlog-bin=mysql-bin\ndatadir=\/mysql\/data\nsql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES\ninnodb_data_home_dir = \/mysql\/data\ninnodb_log_group_home_dir = \/mysql\/log\ninnodb_file_per_table\ntmpdir=\/mysql\/tmpdir\ninnodb_undo_directory = \/mysql\/undo\ndefault-storage-engine = innodb\ndefault_tmp_storage_engine = innodb\ninnodb_log_files_in_group = 4\ninnodb_log_file_size = 1G\ninnodb_log_buffer_size = 8M\ninnodb_buffer_pool_size = 6G\t\nlarge-pages\t\ninnodb_buffer_pool_instances = 64\t\ninnodb_flush_method=O_DIRECT\t\ninnodb_flush_neighbors=0\t \ninnodb_flush_log_at_trx_commit=1\ninnodb_buffer_pool_dump_at_shutdown=1\t\ninnodb_buffer_pool_load_at_startup=1\t\nbulk_insert_buffer_size = 256\t\ninnodb_thread_concurrency = 16\t\n \t \n# Undo tablespace\t \ninnodb_undo_tablespaces = 5\t\n \t \n# Networking\t \nwait_timeout=57600\t \nmax_allowed_packet=1G\t\nsocket=\/var\/lib\/mysql\/mysql.sock\t \nskip-name-resolve\nport=3306\t\nmax_connections=1000\t\n\n\n[mysqld_safe]\nlog-error=\/mysql\/log\/mysqld.log\npid-file=\/var\/run\/mysqld\/mysqld.pid\" | sudo tee \/etc\/my.cnf.d\/nutanix.cnf\n\necho \"#master=100\" | sudo tee -a  \/etc\/my.cnf.d\/nutanix.cnf\n\nserver_id=`sudo cat \/etc\/my.cnf | grep  \"server-id=\" | cut -d= -f2`\nis_master=`sudo cat \/etc\/my.cnf | grep -q -w \"#master=$server_id\"; echo $?`\n\nif [ ${is_master} -ne 0 ]\nthen\n   sudo sed -i '\/\\[mysqld\\]\/a read_only=1' \/etc\/my.cnf.d\/nutanix.cnf\nfi\n\n# -*- Sysctl configuration\nmysql_grp_id=`id -g mysql`\nsudo sysctl -w vm.swappiness=0\nsudo sysctl -w vm.nr_hugepages=1024\nsudo sysctl -w vm.overcommit_memory=1\nsudo sysctl -w vm.dirty_background_ratio=5 \nsudo sysctl -w vm.dirty_ratio=15\nsudo sysctl -w vm.dirty_expire_centisecs=500\nsudo sysctl -w vm.dirty_writeback_centisecs=100\nsudo sysctl -w vm.hugetlb_shm_group=$mysql_grp_id\n\necho \"vm.swappiness=0\nvm.nr_hugepages=1024\nvm.overcommit_memory=1\nvm.dirty_background_ratio=5 \nvm.dirty_ratio=15\nvm.dirty_expire_centisecs=500\nvm.dirty_writeback_centisecs=100\nvm.hugetlb_shm_group=$mysql_grp_id\" | sudo tee  -a \/etc\/sysctl.conf\n\necho \"ACTION=='add|change', SUBSYSTEM=='block', RUN+='\/bin\/sh -c \\\"\/bin\/echo 1024 > \/sys%p\/queue\/max_sectors_kb\\\"'\" | sudo tee \/etc\/udev\/rules.d\/71-block-max-sectors.rules\n#echo 1024 | sudo tee \/sys\/block\/sd?\/queue\/max_sectors_kb\n\necho \"\/dev\/mysqlDataVG\/mysqlDataLV \/mysql\/data ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\necho \"\/dev\/mysqlLogVG\/mysqlLogLV \/mysql\/log ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\nsudo mkdir -p \/mysql\/log \/mysql\/data \/mysql\/tmpdir \/mysql\/undo\nsudo mount -a\nsudo chown -R mysql:mysql \/mysql\n\nsudo systemctl enable mysqld\n\nsudo rm -rf \/mysql\/data\/*\nsudo systemctl start mysqld\n\n#Fix to obtain temp password and set it to blank\npassword=$(grep -oP 'temporary password(.*): \\K(\\S+)' \/var\/log\/mysqld.log)\nsudo mysqladmin --user=root --password=\"$password\" password aaBB**cc1122\nsudo mysql --user=root --password=aaBB**cc1122 -e \"UNINSTALL COMPONENT 'file:\/\/component_validate_password'\"\nsudo mysqladmin --user=root --password=\"aaBB**cc1122\" password \"\"\n\n\n#Mysql secure installation\nsudo mysql -u root<<-EOF\nALTER USER 'root'@'localhost' IDENTIFIED WITH caching_sha2_password BY '@@{MYSQL_PASSWORD}@@';\nDELETE FROM mysql.user WHERE User='root' AND Host NOT IN ('localhost', '127.0.0.1', '::1');\nDELETE FROM mysql.user WHERE User='';\nDELETE FROM mysql.db WHERE Db='test' OR Db='test\\_%';\nFLUSH PRIVILEGES;\nEOF\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"3ee7bf5d-2de9-4958-9b65-e30687c43f17"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Setup MySQL"}],"description":"","message_list":[],"uuid":"d61af59a-b6f9-43e0-90a0-602defc08595","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"eefb69f6_dag","uuid":"8ab9dc63-a049-4225-a8d8-0b7e56114dde"},"name":"7f65f668_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPSlavePackage","uuid":"ed6bf66b-ff88-4209-8ac6-fd62178fea4d"},"retries":"0","description":"","type":"DAG","uuid":"019cfe26-0fda-4f86-b6e4-dbc5461ca4af","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"9607e515_dag"}],"description":"","message_list":[],"uuid":"0db6e5b4-410f-43db-b6d3-874f6e93c10f","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"9607e515_dag","uuid":"019cfe26-0fda-4f86-b6e4-dbc5461ca4af"},"name":"22dbbe31_runbook"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Uninstall_Crb_ed6bf66b_ff88_4209_8ac6_fd62178fea4d"}],"description":"","message_list":[],"uuid":"cc5e2588-5da0-4de7-9153-208c91eaaedf","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Package_ed6bf66b_ff88_4209_8ac6_fd62178fea4d","uuid":"9e11c247-2f14-40fe-8026-614155acfd04"},"name":"SYS_GEN__Runbook_Package_ed6bf66b_ff88_4209_8ac6_fd62178fea4d"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"7d5982d0-32a2-4283-9995-154beb911906","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPSlavePackage","uuid":"ed6bf66b-ff88-4209-8ac6-fd62178fea4d"},"retries":"0","description":"","type":"DAG","uuid":"2728410a-a11b-4e0d-9ee9-72a3a8b4b987","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"5b2b14b1-c670-4103-a214-7cdef65ff10b"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"371ab916-9bee-43ac-9771-437084b94802"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_ed6bf66b_ff88_4209_8ac6_fd62178fea4d","uuid":"8cf26552-5c56-450b-80fb-bf5c8d162f7a"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"5b2b14b1-c670-4103-a214-7cdef65ff10b"},"edge_type":"inherent","type":"","uuid":"a0d225df-37b1-488e-96cb-b842d89ae75c","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"371ab916-9bee-43ac-9771-437084b94802"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"371ab916-9bee-43ac-9771-437084b94802"},"edge_type":"inherent","type":"","uuid":"dc45b219-61f6-4646-8c22-8f8ac0d24648","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_ed6bf66b_ff88_4209_8ac6_fd62178fea4d","uuid":"8cf26552-5c56-450b-80fb-bf5c8d162f7a"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_ed6bf66b_ff88_4209_8ac6_fd62178fea4d"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"5b2b14b1-c670-4103-a214-7cdef65ff10b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"4a2ad0be_runbook","uuid":"d405c9d6-da96-4365-b171-e7ffb7e6b913"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"371ab916-9bee-43ac-9771-437084b94802","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"92247e35_runbook","uuid":"c1fdda9f-aaee-4b0d-899f-a32eb5819a33"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d"},{"target_any_local_reference":{"kind":"app_package","name":"GCPSlavePackage","uuid":"ed6bf66b-ff88-4209-8ac6-fd62178fea4d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"8cf26552-5c56-450b-80fb-bf5c8d162f7a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_ed6bf66b_ff88_4209_8ac6_fd62178fea4d","uuid":"cc5e2588-5da0-4de7-9153-208c91eaaedf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_ed6bf66b_ff88_4209_8ac6_fd62178fea4d"}],"description":"","message_list":[],"uuid":"f294d961-53fd-4c4c-ae0d-1c50fc59ecdf","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_ed6bf66b_ff88_4209_8ac6_fd62178fea4d","uuid":"2728410a-a11b-4e0d-9ee9-72a3a8b4b987"},"name":"SYS_GEN__Runbook_Package_ed6bf66b_ff88_4209_8ac6_fd62178fea4d"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"b9168846-f06c-4dbc-9ef4-bdf4d0bd0a50","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPSlavePackage","uuid":"ed6bf66b-ff88-4209-8ac6-fd62178fea4d"},"retries":"0","description":"","type":"DAG","uuid":"980b2945-506f-4c49-a7f6-e69608506bf9","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"14a2330f-1072-4de4-95a0-5b7359963bb1"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_ed6bf66b_ff88_4209_8ac6_fd62178fea4d","uuid":"2b3033de-d705-42b6-b29f-e15737c8ad58"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"14a2330f-1072-4de4-95a0-5b7359963bb1"},"edge_type":"inherent","type":"","uuid":"54ae8552-ccee-4c57-86c2-6600ea5b9260","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_ed6bf66b_ff88_4209_8ac6_fd62178fea4d","uuid":"2b3033de-d705-42b6-b29f-e15737c8ad58"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_ed6bf66b_ff88_4209_8ac6_fd62178fea4d"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"14a2330f-1072-4de4-95a0-5b7359963bb1","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"9cb9ecf0-89cd-4611-812d-2535c64945cf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d"},{"target_any_local_reference":{"kind":"app_package","name":"GCPSlavePackage","uuid":"ed6bf66b-ff88-4209-8ac6-fd62178fea4d"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"2b3033de-d705-42b6-b29f-e15737c8ad58","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_ed6bf66b_ff88_4209_8ac6_fd62178fea4d"}],"description":"","message_list":[],"uuid":"1ebf1bdc-49c5-4c34-ba4d-731941384e35","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_ed6bf66b_ff88_4209_8ac6_fd62178fea4d","uuid":"980b2945-506f-4c49-a7f6-e69608506bf9"},"name":"SYS_GEN__Runbook_Package_ed6bf66b_ff88_4209_8ac6_fd62178fea4d"}},{"description":"System action for starting an application","message_list":[],"uuid":"515e6453-3b5a-48c3-bcbd-646de13b1823","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPSlavePackage","uuid":"ed6bf66b-ff88-4209-8ac6-fd62178fea4d"},"retries":"0","description":"","type":"DAG","uuid":"6451c13b-90f5-45da-8a6a-fd68b24729d7","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"301bc295-6703-4ef0-88d0-f4c4f255d220"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_ed6bf66b_ff88_4209_8ac6_fd62178fea4d"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"301bc295-6703-4ef0-88d0-f4c4f255d220","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"a027cde0_runbook","uuid":"557651c0-2ccf-45cb-beb3-9f2028221b2e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d"}],"description":"","message_list":[],"uuid":"e0eea72a-5f96-44e3-8f96-89514414c17a","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_ed6bf66b_ff88_4209_8ac6_fd62178fea4d","uuid":"6451c13b-90f5-45da-8a6a-fd68b24729d7"},"name":"SYS_GEN__Runbook_Package_ed6bf66b_ff88_4209_8ac6_fd62178fea4d"}},{"description":"System action for restarting an application","message_list":[],"uuid":"8c2195ff-ebb8-4654-babf-ea150d817857","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPSlavePackage","uuid":"ed6bf66b-ff88-4209-8ac6-fd62178fea4d"},"retries":"0","description":"","type":"DAG","uuid":"d2b6c03b-7d6e-401a-ba16-d3900da67fb0","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"d72c4d3c-935f-4024-84f3-1a9b7e047e1f"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_ed6bf66b_ff88_4209_8ac6_fd62178fea4d"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"d72c4d3c-935f-4024-84f3-1a9b7e047e1f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"f2b2a076_runbook","uuid":"d30fe7b4-3486-4f8a-a3b8-e08401237ee7"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d"}],"description":"","message_list":[],"uuid":"7fad0e67-19bc-44b9-8685-feef433e626c","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_ed6bf66b_ff88_4209_8ac6_fd62178fea4d","uuid":"d2b6c03b-7d6e-401a-ba16-d3900da67fb0"},"name":"SYS_GEN__Runbook_Package_ed6bf66b_ff88_4209_8ac6_fd62178fea4d"}},{"description":"System action for stopping an application","message_list":[],"uuid":"099f070f-865b-46ca-b941-c30a848592a9","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPSlavePackage","uuid":"ed6bf66b-ff88-4209-8ac6-fd62178fea4d"},"retries":"0","description":"","type":"DAG","uuid":"0d22fe67-182f-4b35-82f9-fad062057cfc","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"cf542c02-7f69-400e-aece-80290dbbd40f"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_ed6bf66b_ff88_4209_8ac6_fd62178fea4d"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"cf542c02-7f69-400e-aece-80290dbbd40f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"4a2ad0be_runbook","uuid":"d405c9d6-da96-4365-b171-e7ffb7e6b913"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d"}],"description":"","message_list":[],"uuid":"c3f30e2d-1662-486d-a874-68ac4751dd1c","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_ed6bf66b_ff88_4209_8ac6_fd62178fea4d","uuid":"0d22fe67-182f-4b35-82f9-fad062057cfc"},"name":"SYS_GEN__Runbook_Package_ed6bf66b_ff88_4209_8ac6_fd62178fea4d"}}],"message_list":[],"service_local_reference_list":[{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"}],"uuid":"ed6bf66b-ff88-4209-8ac6-fd62178fea4d","state":"ACTIVE","version":"","editables":{},"type":"DEB","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPSlavePackage","uuid":"ed6bf66b-ff88-4209-8ac6-fd62178fea4d"},"retries":"0","description":"","type":"DAG","uuid":"8ab9dc63-a049-4225-a8d8-0b7e56114dde","child_tasks_local_reference_list":[{"kind":"app_task","name":"Install  System Packages","uuid":"03ef3dec-55e3-4982-9d97-5cd70ac90981"},{"kind":"app_task","name":"Create Disk Setup","uuid":"07a69e13-825e-496d-a2dd-ceeb230c2db9"},{"kind":"app_task","name":"Install MySQL","uuid":"a3f6c4be-c849-49af-97a4-7a0f18d30c82"},{"kind":"app_task","name":"Setup MySQL","uuid":"a75ea3ce-823f-462d-b6d1-be2e47913c44"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Install  System Packages","uuid":"03ef3dec-55e3-4982-9d97-5cd70ac90981"},"edge_type":"user_defined","type":"","uuid":"690b0515-034d-4bc9-9f18-f1dd132c3b45","to_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"07a69e13-825e-496d-a2dd-ceeb230c2db9"}},{"from_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"07a69e13-825e-496d-a2dd-ceeb230c2db9"},"edge_type":"user_defined","type":"","uuid":"0bed9a27-530f-4d74-8e06-533df04f2662","to_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"a3f6c4be-c849-49af-97a4-7a0f18d30c82"}},{"from_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"a3f6c4be-c849-49af-97a4-7a0f18d30c82"},"edge_type":"user_defined","type":"","uuid":"546faa70-d78b-40fc-9661-ec8f92db9d12","to_task_reference":{"kind":"app_task","name":"Setup MySQL","uuid":"a75ea3ce-823f-462d-b6d1-be2e47913c44"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"eefb69f6_dag"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","description":"","type":"EXEC","uuid":"03ef3dec-55e3-4982-9d97-5cd70ac90981","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n# -*- Install Mysql\nsudo yum update -y --quiet\nsudo yum install -y  wget xfs* bc unzip lvm2* lsscsi\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"System packages are installed\"","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"3ee7bf5d-2de9-4958-9b65-e30687c43f17"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install  System Packages"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","description":"","type":"EXEC","uuid":"07a69e13-825e-496d-a2dd-ceeb230c2db9","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n##############\n#\n# LVM setup script for MySQL . 4 disks for DATA and 4 for logs\n# Data disks are 50GB | Log disks are 25GB \n#\n#############\n\n\n#PGSQL data\nsudo pvcreate \/dev\/sdb \/dev\/sdc \/dev\/sdd \/dev\/sde\nsudo vgcreate mysqlDataVG \/dev\/sdb \/dev\/sdd \/dev\/sdc \/dev\/sde\nsudo lvcreate -l 100%FREE -i4 -I1M -n mysqlDataLV mysqlDataVG          ## Use 1MB to avoid IO amplification \n#lvcreate -l 100%FREE -i4 -I4M -n pgDataLV pgDataVG\n\n\n#PGSQL logs\nsudo pvcreate \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo vgcreate mysqlLogVG \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo lvcreate -l 100%FREE -i2 -I1M -n mysqlLogLV mysqlLogVG            ## Use 1MB to avoid IO amplification\n#lvcreate -l 100%FREE -i2 -I4M -n pgLogLV pgLogVG\n\n\n#Disable LVM read ahead\nsudo lvchange -r 0 \/dev\/mysqlDataVG\/mysqlDataLV\nsudo lvchange -r 0 \/dev\/mysqlLogVG\/mysqlLogLV\n\n\n#Format LVMs with ext4 and use nodiscard to make sure format time is fast on Nutanix due to SCSI unmap\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlDataVG\/mysqlDataLV\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlLogVG\/mysqlLogLV\n\nsleep 10\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"3ee7bf5d-2de9-4958-9b65-e30687c43f17"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Create Disk Setup"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","description":"","type":"EXEC","uuid":"a3f6c4be-c849-49af-97a4-7a0f18d30c82","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nsudo hostnamectl set-hostname \"@@{name}@@\"\n\n# -*- Mysql installation \nsudo yum install -y --quiet \"http:\/\/repo.mysql.com\/mysql80-community-release-el7.rpm\"\nsudo yum update -y --quiet\nsudo yum install -y --quiet sshpass mysql-community-server.x86_64\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"3ee7bf5d-2de9-4958-9b65-e30687c43f17"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install MySQL"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","description":"","type":"EXEC","uuid":"a75ea3ce-823f-462d-b6d1-be2e47913c44","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\necho \"!includedir \/etc\/my.cnf.d\" | sudo tee -a \/etc\/my.cnf\n\necho \"[mysqld]\nbinlog-format=mixed\nlog-bin=mysql-bin\ndatadir=\/mysql\/data\nsql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES\ninnodb_data_home_dir = \/mysql\/data\ninnodb_log_group_home_dir = \/mysql\/log\ninnodb_file_per_table\ntmpdir=\/mysql\/tmpdir\ninnodb_undo_directory = \/mysql\/undo\ndefault-storage-engine = innodb\ndefault_tmp_storage_engine = innodb\ninnodb_log_files_in_group = 4\ninnodb_log_file_size = 1G\ninnodb_log_buffer_size = 8M\ninnodb_buffer_pool_size = 6G\t\nlarge-pages\t\ninnodb_buffer_pool_instances = 64\t\ninnodb_flush_method=O_DIRECT\t\ninnodb_flush_neighbors=0\t \ninnodb_flush_log_at_trx_commit=1\ninnodb_buffer_pool_dump_at_shutdown=1\t\ninnodb_buffer_pool_load_at_startup=1\t\nbulk_insert_buffer_size = 256\t\ninnodb_thread_concurrency = 16\t\n \t \n# Undo tablespace\t \ninnodb_undo_tablespaces = 5\t\n \t \n# Networking\t \nwait_timeout=57600\t \nmax_allowed_packet=1G\t\nsocket=\/var\/lib\/mysql\/mysql.sock\t \nskip-name-resolve\nport=3306\t\nmax_connections=1000\t\n\n\n[mysqld_safe]\nlog-error=\/mysql\/log\/mysqld.log\npid-file=\/var\/run\/mysqld\/mysqld.pid\" | sudo tee \/etc\/my.cnf.d\/nutanix.cnf\n\necho \"#master=100\" | sudo tee -a  \/etc\/my.cnf.d\/nutanix.cnf\n\nserver_id=`sudo cat \/etc\/my.cnf | grep  \"server-id=\" | cut -d= -f2`\nis_master=`sudo cat \/etc\/my.cnf | grep -q -w \"#master=$server_id\"; echo $?`\n\nif [ ${is_master} -ne 0 ]\nthen\n   sudo sed -i '\/\\[mysqld\\]\/a read_only=1' \/etc\/my.cnf.d\/nutanix.cnf\nfi\n\n# -*- Sysctl configuration\nmysql_grp_id=`id -g mysql`\nsudo sysctl -w vm.swappiness=0\nsudo sysctl -w vm.nr_hugepages=1024\nsudo sysctl -w vm.overcommit_memory=1\nsudo sysctl -w vm.dirty_background_ratio=5 \nsudo sysctl -w vm.dirty_ratio=15\nsudo sysctl -w vm.dirty_expire_centisecs=500\nsudo sysctl -w vm.dirty_writeback_centisecs=100\nsudo sysctl -w vm.hugetlb_shm_group=$mysql_grp_id\n\necho \"vm.swappiness=0\nvm.nr_hugepages=1024\nvm.overcommit_memory=1\nvm.dirty_background_ratio=5 \nvm.dirty_ratio=15\nvm.dirty_expire_centisecs=500\nvm.dirty_writeback_centisecs=100\nvm.hugetlb_shm_group=$mysql_grp_id\" | sudo tee  -a \/etc\/sysctl.conf\n\necho \"ACTION=='add|change', SUBSYSTEM=='block', RUN+='\/bin\/sh -c \\\"\/bin\/echo 1024 > \/sys%p\/queue\/max_sectors_kb\\\"'\" | sudo tee \/etc\/udev\/rules.d\/71-block-max-sectors.rules\n#echo 1024 | sudo tee \/sys\/block\/sd?\/queue\/max_sectors_kb\n\necho \"\/dev\/mysqlDataVG\/mysqlDataLV \/mysql\/data ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\necho \"\/dev\/mysqlLogVG\/mysqlLogLV \/mysql\/log ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\nsudo mkdir -p \/mysql\/log \/mysql\/data \/mysql\/tmpdir \/mysql\/undo\nsudo mount -a\nsudo chown -R mysql:mysql \/mysql\n\nsudo systemctl enable mysqld\n\nsudo rm -rf \/mysql\/data\/*\nsudo systemctl start mysqld\n\n#Fix to obtain temp password and set it to blank\npassword=$(grep -oP 'temporary password(.*): \\K(\\S+)' \/var\/log\/mysqld.log)\nsudo mysqladmin --user=root --password=\"$password\" password aaBB**cc1122\nsudo mysql --user=root --password=aaBB**cc1122 -e \"UNINSTALL COMPONENT 'file:\/\/component_validate_password'\"\nsudo mysqladmin --user=root --password=\"aaBB**cc1122\" password \"\"\n\n\n#Mysql secure installation\nsudo mysql -u root<<-EOF\nALTER USER 'root'@'localhost' IDENTIFIED WITH caching_sha2_password BY '@@{MYSQL_PASSWORD}@@';\nDELETE FROM mysql.user WHERE User='root' AND Host NOT IN ('localhost', '127.0.0.1', '::1');\nDELETE FROM mysql.user WHERE User='';\nDELETE FROM mysql.db WHERE Db='test' OR Db='test\\_%';\nFLUSH PRIVILEGES;\nEOF\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"3ee7bf5d-2de9-4958-9b65-e30687c43f17"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Setup MySQL"}],"description":"","message_list":[],"uuid":"d61af59a-b6f9-43e0-90a0-602defc08595","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"eefb69f6_dag","uuid":"8ab9dc63-a049-4225-a8d8-0b7e56114dde"},"name":"7f65f668_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPSlavePackage","uuid":"ed6bf66b-ff88-4209-8ac6-fd62178fea4d"},"retries":"0","description":"","type":"DAG","uuid":"019cfe26-0fda-4f86-b6e4-dbc5461ca4af","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"9607e515_dag"}],"description":"","message_list":[],"uuid":"0db6e5b4-410f-43db-b6d3-874f6e93c10f","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"9607e515_dag","uuid":"019cfe26-0fda-4f86-b6e4-dbc5461ca4af"},"name":"22dbbe31_runbook"}},"variable_list":[],"name":"GCPSlavePackage"},{"description":"","action_list":[{"description":"System action for installing an application","message_list":[],"uuid":"858885eb-9eea-4d49-81c9-fc36ed68506d","name":"action_install","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureMasterPackage","uuid":"db2def6e-1144-4d42-ba62-50adf9dc8da0"},"retries":"0","description":"","type":"DAG","uuid":"9e4f7167-008a-49ca-8957-5e66198d546d","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Install_Crb_db2def6e_1144_4d42_ba62_50adf9dc8da0","uuid":"98637643-a44b-41cd-80ce-ab422a64d8e5"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Package_db2def6e_1144_4d42_ba62_50adf9dc8da0"},{"target_any_local_reference":{"kind":"app_package","name":"AzureMasterPackage","uuid":"db2def6e-1144-4d42-ba62-50adf9dc8da0"},"retries":"0","description":"","type":"CUSTOM_PACKAGE_INSTALL","uuid":"98637643-a44b-41cd-80ce-ab422a64d8e5","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureMasterPackage","uuid":"db2def6e-1144-4d42-ba62-50adf9dc8da0"},"retries":"0","description":"","type":"DAG","uuid":"76465feb-3f3d-439c-8092-f8fce0d07f01","child_tasks_local_reference_list":[{"kind":"app_task","name":"PackageInstallTask","uuid":"12ff96a6-c00b-49b8-8471-b6610a702b72"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"ff59932a_dag"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"EXEC","uuid":"12ff96a6-c00b-49b8-8471-b6610a702b72","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\n# -*- Install Mysql\nsudo yum install -y --quiet \"http:\/\/repo.mysql.com\/mysql80-community-release-el7.rpm\"\nsudo yum update -y --quiet\nsudo yum install -y --quiet sshpass mysql-community-server\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"!includedir \/etc\/my.cnf.d\" | sudo tee -a \/etc\/my.cnf\n\necho \"[mysqld]\nbinlog-format=mixed\nlog-bin=mysql-bin\ndatadir=\/mysql\/data\nsql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES\ninnodb_data_home_dir = \/mysql\/data\ninnodb_log_group_home_dir = \/mysql\/log\ninnodb_file_per_table\ntmpdir=\/mysql\/tmpdir\ninnodb_undo_directory = \/mysql\/undo\ndefault-storage-engine = innodb\ndefault_tmp_storage_engine = innodb\ninnodb_log_files_in_group = 4\ninnodb_log_file_size = 1G\ninnodb_log_buffer_size = 8M\ninnodb_buffer_pool_size = 6G\t\nlarge-pages\t\ninnodb_buffer_pool_instances = 64\t\ninnodb_flush_method=O_DIRECT\t\ninnodb_flush_neighbors=0\t \ninnodb_flush_log_at_trx_commit=1\ninnodb_buffer_pool_dump_at_shutdown=1\t\ninnodb_buffer_pool_load_at_startup=1\t\nbulk_insert_buffer_size = 256\t\ninnodb_thread_concurrency = 16\t\n \t \n# Undo tablespace\t \ninnodb_undo_tablespaces = 5\t\n \t \n# Networking\t \nwait_timeout=57600\t \nmax_allowed_packet=1G\t\nsocket=\/var\/lib\/mysql\/mysql.sock\t \nskip-name-resolve\nport=3306\t\nmax_connections=1000\t\n \t \n\n[mysqld_safe]\nlog-error=\/mysql\/log\/mysqld.log\npid-file=\/var\/run\/mysqld\/mysqld.pid\" | sudo tee \/etc\/my.cnf.d\/nutanix.cnf\n\nsudo sed -i \"\/\\[mysqld\\]\/a server-id=100\" \/etc\/my.cnf.d\/nutanix.cnf\necho \"#master=100\" | sudo tee -a  \/etc\/my.cnf.d\/nutanix.cnf\n\nserver_id=`sudo cat \/etc\/my.cnf.d\/nutanix.cnf | grep  \"server-id=\" | cut -d= -f2`\nis_master=`sudo cat \/etc\/my.cnf.d\/nutanix.cnf | grep -q -w \"#master=$server_id\"; echo $?`\n\nif [ ${is_master} -ne 0 ]\nthen\n   sudo sed -i '\/\\[mysqld\\]\/a read_only=1' \/etc\/my.cnf.d\/nutanix.cnf\nfi\n\nsudo mkdir -p \/mysql\/log \/mysql\/data \/mysql\/tmpdir \/mysql\/undo\nsudo mount -a\nsudo chown -R mysql:mysql \/mysql\n\nsudo rm -f \/mysql\/data\/*\nsudo systemctl start mysqld\n\n#Fix to obtain temp password and set it to blank\npassword=$(grep -oP 'temporary password(.*): \\K(\\S+)' \/var\/log\/mysqld.log)\nsudo mysqladmin --user=root --password=\"$password\" password aaBB**cc1122\nsudo mysql --user=root --password=aaBB**cc1122 -e \"UNINSTALL COMPONENT 'file:\/\/component_validate_password'\"\nsudo mysqladmin --user=root --password=\"aaBB**cc1122\" password \"\"\n\n#Mysql secure installation\nsudo mysql -u root<<-EOF\nALTER USER 'root'@'localhost' IDENTIFIED WITH caching_sha2_password BY '@@{MYSQL_PASSWORD}@@';\nDELETE FROM mysql.user WHERE User='root' AND Host NOT IN ('localhost', '127.0.0.1', '::1');\nDELETE FROM mysql.user WHERE User='';\nDELETE FROM mysql.db WHERE Db='test' OR Db='test\\_%';\nFLUSH PRIVILEGES;\nEOF\n"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"PackageInstallTask"}],"description":"","message_list":[],"uuid":"10945139-907a-43a5-90c2-eca548c1c9f7","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"ff59932a_dag","uuid":"76465feb-3f3d-439c-8092-f8fce0d07f01"},"name":"10654624_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureMasterPackage","uuid":"db2def6e-1144-4d42-ba62-50adf9dc8da0"},"retries":"0","description":"","type":"DAG","uuid":"35448fdd-8f73-4de4-a04e-6866b1dbfe58","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"5495194c_dag"}],"description":"","message_list":[],"uuid":"6dbd2dd9-99de-4017-a35e-74939ab025db","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"5495194c_dag","uuid":"35448fdd-8f73-4de4-a04e-6866b1dbfe58"},"name":"a58212c8_runbook"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Install_Crb_db2def6e_1144_4d42_ba62_50adf9dc8da0"}],"description":"","message_list":[],"uuid":"4e2864a8-e7e7-4b9c-9f68-9728fa543973","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Package_db2def6e_1144_4d42_ba62_50adf9dc8da0","uuid":"9e4f7167-008a-49ca-8957-5e66198d546d"},"name":"SYS_GEN__Runbook_Package_db2def6e_1144_4d42_ba62_50adf9dc8da0"}},{"description":"System action for creating an application","message_list":[],"uuid":"fe942e0d-c622-4562-96f0-8899f3924ed8","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureMasterPackage","uuid":"db2def6e-1144-4d42-ba62-50adf9dc8da0"},"retries":"0","description":"","type":"DAG","uuid":"98218dd5-298f-4098-8f18-9ac2a26e25c1","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_db2def6e_1144_4d42_ba62_50adf9dc8da0","uuid":"c1484231-1f82-4aad-8394-ea012e94873d"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"cd90a6f7-3ac8-4cf2-bb37-2403079cd263"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"5ea79dd0-4cab-49f3-ad81-e22bf623e069"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"cd90a6f7-3ac8-4cf2-bb37-2403079cd263"},"edge_type":"inherent","type":"","uuid":"ee4b8b09-d9b8-4801-bcf4-26380b6ce5f6","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"5ea79dd0-4cab-49f3-ad81-e22bf623e069"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_db2def6e_1144_4d42_ba62_50adf9dc8da0","uuid":"c1484231-1f82-4aad-8394-ea012e94873d"},"edge_type":"inherent","type":"","uuid":"229a7210-2603-43d2-b436-c587846c3abd","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"cd90a6f7-3ac8-4cf2-bb37-2403079cd263"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_db2def6e_1144_4d42_ba62_50adf9dc8da0"},{"target_any_local_reference":{"kind":"app_package","name":"AzureMasterPackage","uuid":"db2def6e-1144-4d42-ba62-50adf9dc8da0"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"c1484231-1f82-4aad-8394-ea012e94873d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_db2def6e_1144_4d42_ba62_50adf9dc8da0","uuid":"4e2864a8-e7e7-4b9c-9f68-9728fa543973"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_db2def6e_1144_4d42_ba62_50adf9dc8da0"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"cd90a6f7-3ac8-4cf2-bb37-2403079cd263","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0a970522_runbook","uuid":"9866e43d-ff48-4abb-bade-7f5396ce551e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"5ea79dd0-4cab-49f3-ad81-e22bf623e069","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"5ddb28d1_runbook","uuid":"907290fe-eaef-465b-a916-7c2c67d20c97"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b"}],"description":"","message_list":[],"uuid":"cdd68bbf-5a7c-472f-8848-c7b97578614b","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_db2def6e_1144_4d42_ba62_50adf9dc8da0","uuid":"98218dd5-298f-4098-8f18-9ac2a26e25c1"},"name":"SYS_GEN__Runbook_Package_db2def6e_1144_4d42_ba62_50adf9dc8da0"}},{"description":"System action for uninstalling an application","message_list":[],"uuid":"7c57b543-41ac-48a1-ba00-127e0066f021","name":"action_uninstall","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureMasterPackage","uuid":"db2def6e-1144-4d42-ba62-50adf9dc8da0"},"retries":"0","description":"","type":"DAG","uuid":"776ad312-c244-478b-89e3-3f018e03a877","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Uninstall_Crb_db2def6e_1144_4d42_ba62_50adf9dc8da0","uuid":"4839e2d5-a960-43bd-ac27-96483c8723f7"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Package_db2def6e_1144_4d42_ba62_50adf9dc8da0"},{"target_any_local_reference":{"kind":"app_package","name":"AzureMasterPackage","uuid":"db2def6e-1144-4d42-ba62-50adf9dc8da0"},"retries":"0","description":"","type":"CUSTOM_PACKAGE_UNINSTALL","uuid":"4839e2d5-a960-43bd-ac27-96483c8723f7","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureMasterPackage","uuid":"db2def6e-1144-4d42-ba62-50adf9dc8da0"},"retries":"0","description":"","type":"DAG","uuid":"76465feb-3f3d-439c-8092-f8fce0d07f01","child_tasks_local_reference_list":[{"kind":"app_task","name":"PackageInstallTask","uuid":"12ff96a6-c00b-49b8-8471-b6610a702b72"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"ff59932a_dag"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"EXEC","uuid":"12ff96a6-c00b-49b8-8471-b6610a702b72","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\n# -*- Install Mysql\nsudo yum install -y --quiet \"http:\/\/repo.mysql.com\/mysql80-community-release-el7.rpm\"\nsudo yum update -y --quiet\nsudo yum install -y --quiet sshpass mysql-community-server\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"!includedir \/etc\/my.cnf.d\" | sudo tee -a \/etc\/my.cnf\n\necho \"[mysqld]\nbinlog-format=mixed\nlog-bin=mysql-bin\ndatadir=\/mysql\/data\nsql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES\ninnodb_data_home_dir = \/mysql\/data\ninnodb_log_group_home_dir = \/mysql\/log\ninnodb_file_per_table\ntmpdir=\/mysql\/tmpdir\ninnodb_undo_directory = \/mysql\/undo\ndefault-storage-engine = innodb\ndefault_tmp_storage_engine = innodb\ninnodb_log_files_in_group = 4\ninnodb_log_file_size = 1G\ninnodb_log_buffer_size = 8M\ninnodb_buffer_pool_size = 6G\t\nlarge-pages\t\ninnodb_buffer_pool_instances = 64\t\ninnodb_flush_method=O_DIRECT\t\ninnodb_flush_neighbors=0\t \ninnodb_flush_log_at_trx_commit=1\ninnodb_buffer_pool_dump_at_shutdown=1\t\ninnodb_buffer_pool_load_at_startup=1\t\nbulk_insert_buffer_size = 256\t\ninnodb_thread_concurrency = 16\t\n \t \n# Undo tablespace\t \ninnodb_undo_tablespaces = 5\t\n \t \n# Networking\t \nwait_timeout=57600\t \nmax_allowed_packet=1G\t\nsocket=\/var\/lib\/mysql\/mysql.sock\t \nskip-name-resolve\nport=3306\t\nmax_connections=1000\t\n \t \n\n[mysqld_safe]\nlog-error=\/mysql\/log\/mysqld.log\npid-file=\/var\/run\/mysqld\/mysqld.pid\" | sudo tee \/etc\/my.cnf.d\/nutanix.cnf\n\nsudo sed -i \"\/\\[mysqld\\]\/a server-id=100\" \/etc\/my.cnf.d\/nutanix.cnf\necho \"#master=100\" | sudo tee -a  \/etc\/my.cnf.d\/nutanix.cnf\n\nserver_id=`sudo cat \/etc\/my.cnf.d\/nutanix.cnf | grep  \"server-id=\" | cut -d= -f2`\nis_master=`sudo cat \/etc\/my.cnf.d\/nutanix.cnf | grep -q -w \"#master=$server_id\"; echo $?`\n\nif [ ${is_master} -ne 0 ]\nthen\n   sudo sed -i '\/\\[mysqld\\]\/a read_only=1' \/etc\/my.cnf.d\/nutanix.cnf\nfi\n\nsudo mkdir -p \/mysql\/log \/mysql\/data \/mysql\/tmpdir \/mysql\/undo\nsudo mount -a\nsudo chown -R mysql:mysql \/mysql\n\nsudo rm -f \/mysql\/data\/*\nsudo systemctl start mysqld\n\n#Fix to obtain temp password and set it to blank\npassword=$(grep -oP 'temporary password(.*): \\K(\\S+)' \/var\/log\/mysqld.log)\nsudo mysqladmin --user=root --password=\"$password\" password aaBB**cc1122\nsudo mysql --user=root --password=aaBB**cc1122 -e \"UNINSTALL COMPONENT 'file:\/\/component_validate_password'\"\nsudo mysqladmin --user=root --password=\"aaBB**cc1122\" password \"\"\n\n#Mysql secure installation\nsudo mysql -u root<<-EOF\nALTER USER 'root'@'localhost' IDENTIFIED WITH caching_sha2_password BY '@@{MYSQL_PASSWORD}@@';\nDELETE FROM mysql.user WHERE User='root' AND Host NOT IN ('localhost', '127.0.0.1', '::1');\nDELETE FROM mysql.user WHERE User='';\nDELETE FROM mysql.db WHERE Db='test' OR Db='test\\_%';\nFLUSH PRIVILEGES;\nEOF\n"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"PackageInstallTask"}],"description":"","message_list":[],"uuid":"10945139-907a-43a5-90c2-eca548c1c9f7","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"ff59932a_dag","uuid":"76465feb-3f3d-439c-8092-f8fce0d07f01"},"name":"10654624_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureMasterPackage","uuid":"db2def6e-1144-4d42-ba62-50adf9dc8da0"},"retries":"0","description":"","type":"DAG","uuid":"35448fdd-8f73-4de4-a04e-6866b1dbfe58","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"5495194c_dag"}],"description":"","message_list":[],"uuid":"6dbd2dd9-99de-4017-a35e-74939ab025db","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"5495194c_dag","uuid":"35448fdd-8f73-4de4-a04e-6866b1dbfe58"},"name":"a58212c8_runbook"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Uninstall_Crb_db2def6e_1144_4d42_ba62_50adf9dc8da0"}],"description":"","message_list":[],"uuid":"0234a208-0048-4346-b506-183b0cf9fedd","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Package_db2def6e_1144_4d42_ba62_50adf9dc8da0","uuid":"776ad312-c244-478b-89e3-3f018e03a877"},"name":"SYS_GEN__Runbook_Package_db2def6e_1144_4d42_ba62_50adf9dc8da0"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"ad47a2db-4b4f-4d0f-9785-e442a8f38416","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureMasterPackage","uuid":"db2def6e-1144-4d42-ba62-50adf9dc8da0"},"retries":"0","description":"","type":"DAG","uuid":"0398e1ae-5ff7-4b58-b35e-fe39ead2157a","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"6a5351ff-0028-4108-ba05-206acb34617a"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"5069cc5a-a755-42ae-9382-9d3a5dfd2507"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_db2def6e_1144_4d42_ba62_50adf9dc8da0","uuid":"4aca483a-5dba-4434-b340-a8f124be3255"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"6a5351ff-0028-4108-ba05-206acb34617a"},"edge_type":"inherent","type":"","uuid":"880d8193-f297-45cb-8864-27730571185a","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"5069cc5a-a755-42ae-9382-9d3a5dfd2507"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"5069cc5a-a755-42ae-9382-9d3a5dfd2507"},"edge_type":"inherent","type":"","uuid":"998c5fb3-cf06-48ff-a400-9ef4adf673a2","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_db2def6e_1144_4d42_ba62_50adf9dc8da0","uuid":"4aca483a-5dba-4434-b340-a8f124be3255"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_db2def6e_1144_4d42_ba62_50adf9dc8da0"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"6a5351ff-0028-4108-ba05-206acb34617a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0aefbca3_runbook","uuid":"ce2a2858-b89b-4bb4-8fb3-ee8bd8a6bd3f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"5069cc5a-a755-42ae-9382-9d3a5dfd2507","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"5fd47ec3_runbook","uuid":"e410ef14-5f72-46ab-b7d5-0181621be34f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b"},{"target_any_local_reference":{"kind":"app_package","name":"AzureMasterPackage","uuid":"db2def6e-1144-4d42-ba62-50adf9dc8da0"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"4aca483a-5dba-4434-b340-a8f124be3255","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_db2def6e_1144_4d42_ba62_50adf9dc8da0","uuid":"0234a208-0048-4346-b506-183b0cf9fedd"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_db2def6e_1144_4d42_ba62_50adf9dc8da0"}],"description":"","message_list":[],"uuid":"73cb473e-0e8f-4709-a844-576f7e19d2da","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_db2def6e_1144_4d42_ba62_50adf9dc8da0","uuid":"0398e1ae-5ff7-4b58-b35e-fe39ead2157a"},"name":"SYS_GEN__Runbook_Package_db2def6e_1144_4d42_ba62_50adf9dc8da0"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"486582f5-a0cc-47a4-b0fd-1986f2d28df5","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureMasterPackage","uuid":"db2def6e-1144-4d42-ba62-50adf9dc8da0"},"retries":"0","description":"","type":"DAG","uuid":"a6b5be61-8185-4a18-8672-377903a2a3a4","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"b7e43872-536e-44da-9808-5f8b4cd74a26"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_db2def6e_1144_4d42_ba62_50adf9dc8da0","uuid":"507cfa56-9fd2-4d52-86b7-0a5972b420d9"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"b7e43872-536e-44da-9808-5f8b4cd74a26"},"edge_type":"inherent","type":"","uuid":"aaf96dc7-5408-4db3-be88-2b9eb480274a","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_db2def6e_1144_4d42_ba62_50adf9dc8da0","uuid":"507cfa56-9fd2-4d52-86b7-0a5972b420d9"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_db2def6e_1144_4d42_ba62_50adf9dc8da0"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"b7e43872-536e-44da-9808-5f8b4cd74a26","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"b9b6e25b-f9f5-473d-8c7e-6fcb8b23a4da"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b"},{"target_any_local_reference":{"kind":"app_package","name":"AzureMasterPackage","uuid":"db2def6e-1144-4d42-ba62-50adf9dc8da0"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"507cfa56-9fd2-4d52-86b7-0a5972b420d9","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_db2def6e_1144_4d42_ba62_50adf9dc8da0"}],"description":"","message_list":[],"uuid":"eea5f3d5-2358-4b96-bb49-78fbd14ccd12","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_db2def6e_1144_4d42_ba62_50adf9dc8da0","uuid":"a6b5be61-8185-4a18-8672-377903a2a3a4"},"name":"SYS_GEN__Runbook_Package_db2def6e_1144_4d42_ba62_50adf9dc8da0"}},{"description":"System action for starting an application","message_list":[],"uuid":"0fc31469-0ecf-4362-ade2-9d09661183fc","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureMasterPackage","uuid":"db2def6e-1144-4d42-ba62-50adf9dc8da0"},"retries":"0","description":"","type":"DAG","uuid":"e942c191-a535-4f1f-87ea-7bb59e15cd78","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"f3d5eb9b-80dc-4a2d-abdd-3d8f3170d474"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_db2def6e_1144_4d42_ba62_50adf9dc8da0"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"f3d5eb9b-80dc-4a2d-abdd-3d8f3170d474","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"5ddb28d1_runbook","uuid":"907290fe-eaef-465b-a916-7c2c67d20c97"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b"}],"description":"","message_list":[],"uuid":"907c1ef1-0bbd-4d3c-a011-042ffc230f15","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_db2def6e_1144_4d42_ba62_50adf9dc8da0","uuid":"e942c191-a535-4f1f-87ea-7bb59e15cd78"},"name":"SYS_GEN__Runbook_Package_db2def6e_1144_4d42_ba62_50adf9dc8da0"}},{"description":"System action for restarting an application","message_list":[],"uuid":"35e44a24-edaa-48c9-94c9-65eb72b1e157","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureMasterPackage","uuid":"db2def6e-1144-4d42-ba62-50adf9dc8da0"},"retries":"0","description":"","type":"DAG","uuid":"1fade574-44a3-48d8-862c-d167cc475e74","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"2ae9f5cc-a766-43c4-b0bc-40df8c972062"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_db2def6e_1144_4d42_ba62_50adf9dc8da0"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"2ae9f5cc-a766-43c4-b0bc-40df8c972062","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"7e709238_runbook","uuid":"e38aa3c5-d052-4d28-84e6-acfb09a6af83"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b"}],"description":"","message_list":[],"uuid":"6f77e19d-130c-4923-a903-0ade49fc25c3","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_db2def6e_1144_4d42_ba62_50adf9dc8da0","uuid":"1fade574-44a3-48d8-862c-d167cc475e74"},"name":"SYS_GEN__Runbook_Package_db2def6e_1144_4d42_ba62_50adf9dc8da0"}},{"description":"System action for stopping an application","message_list":[],"uuid":"b7943278-d133-4ddb-adac-261b0d998922","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureMasterPackage","uuid":"db2def6e-1144-4d42-ba62-50adf9dc8da0"},"retries":"0","description":"","type":"DAG","uuid":"1fead559-fc17-4883-9f86-ac3435a4a330","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b","uuid":"e4a00803-131a-41b0-9954-d21a32f612ae"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_db2def6e_1144_4d42_ba62_50adf9dc8da0"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"e4a00803-131a-41b0-9954-d21a32f612ae","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0aefbca3_runbook","uuid":"ce2a2858-b89b-4bb4-8fb3-ee8bd8a6bd3f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_45b5395b_b27a_42e1_864e_0b9f56a5a62b"}],"description":"","message_list":[],"uuid":"06e1c089-f87e-4880-b0af-469369edf1f6","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_db2def6e_1144_4d42_ba62_50adf9dc8da0","uuid":"1fead559-fc17-4883-9f86-ac3435a4a330"},"name":"SYS_GEN__Runbook_Package_db2def6e_1144_4d42_ba62_50adf9dc8da0"}}],"message_list":[],"service_local_reference_list":[{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"}],"uuid":"db2def6e-1144-4d42-ba62-50adf9dc8da0","state":"ACTIVE","version":"","editables":{},"type":"DEB","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureMasterPackage","uuid":"db2def6e-1144-4d42-ba62-50adf9dc8da0"},"retries":"0","description":"","type":"DAG","uuid":"76465feb-3f3d-439c-8092-f8fce0d07f01","child_tasks_local_reference_list":[{"kind":"app_task","name":"PackageInstallTask","uuid":"12ff96a6-c00b-49b8-8471-b6610a702b72"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"ff59932a_dag"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","description":"","type":"EXEC","uuid":"12ff96a6-c00b-49b8-8471-b6610a702b72","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\n# -*- Install Mysql\nsudo yum install -y --quiet \"http:\/\/repo.mysql.com\/mysql80-community-release-el7.rpm\"\nsudo yum update -y --quiet\nsudo yum install -y --quiet sshpass mysql-community-server\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"!includedir \/etc\/my.cnf.d\" | sudo tee -a \/etc\/my.cnf\n\necho \"[mysqld]\nbinlog-format=mixed\nlog-bin=mysql-bin\ndatadir=\/mysql\/data\nsql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES\ninnodb_data_home_dir = \/mysql\/data\ninnodb_log_group_home_dir = \/mysql\/log\ninnodb_file_per_table\ntmpdir=\/mysql\/tmpdir\ninnodb_undo_directory = \/mysql\/undo\ndefault-storage-engine = innodb\ndefault_tmp_storage_engine = innodb\ninnodb_log_files_in_group = 4\ninnodb_log_file_size = 1G\ninnodb_log_buffer_size = 8M\ninnodb_buffer_pool_size = 6G\t\nlarge-pages\t\ninnodb_buffer_pool_instances = 64\t\ninnodb_flush_method=O_DIRECT\t\ninnodb_flush_neighbors=0\t \ninnodb_flush_log_at_trx_commit=1\ninnodb_buffer_pool_dump_at_shutdown=1\t\ninnodb_buffer_pool_load_at_startup=1\t\nbulk_insert_buffer_size = 256\t\ninnodb_thread_concurrency = 16\t\n \t \n# Undo tablespace\t \ninnodb_undo_tablespaces = 5\t\n \t \n# Networking\t \nwait_timeout=57600\t \nmax_allowed_packet=1G\t\nsocket=\/var\/lib\/mysql\/mysql.sock\t \nskip-name-resolve\nport=3306\t\nmax_connections=1000\t\n \t \n\n[mysqld_safe]\nlog-error=\/mysql\/log\/mysqld.log\npid-file=\/var\/run\/mysqld\/mysqld.pid\" | sudo tee \/etc\/my.cnf.d\/nutanix.cnf\n\nsudo sed -i \"\/\\[mysqld\\]\/a server-id=100\" \/etc\/my.cnf.d\/nutanix.cnf\necho \"#master=100\" | sudo tee -a  \/etc\/my.cnf.d\/nutanix.cnf\n\nserver_id=`sudo cat \/etc\/my.cnf.d\/nutanix.cnf | grep  \"server-id=\" | cut -d= -f2`\nis_master=`sudo cat \/etc\/my.cnf.d\/nutanix.cnf | grep -q -w \"#master=$server_id\"; echo $?`\n\nif [ ${is_master} -ne 0 ]\nthen\n   sudo sed -i '\/\\[mysqld\\]\/a read_only=1' \/etc\/my.cnf.d\/nutanix.cnf\nfi\n\nsudo mkdir -p \/mysql\/log \/mysql\/data \/mysql\/tmpdir \/mysql\/undo\nsudo mount -a\nsudo chown -R mysql:mysql \/mysql\n\nsudo rm -f \/mysql\/data\/*\nsudo systemctl start mysqld\n\n#Fix to obtain temp password and set it to blank\npassword=$(grep -oP 'temporary password(.*): \\K(\\S+)' \/var\/log\/mysqld.log)\nsudo mysqladmin --user=root --password=\"$password\" password aaBB**cc1122\nsudo mysql --user=root --password=aaBB**cc1122 -e \"UNINSTALL COMPONENT 'file:\/\/component_validate_password'\"\nsudo mysqladmin --user=root --password=\"aaBB**cc1122\" password \"\"\n\n#Mysql secure installation\nsudo mysql -u root<<-EOF\nALTER USER 'root'@'localhost' IDENTIFIED WITH caching_sha2_password BY '@@{MYSQL_PASSWORD}@@';\nDELETE FROM mysql.user WHERE User='root' AND Host NOT IN ('localhost', '127.0.0.1', '::1');\nDELETE FROM mysql.user WHERE User='';\nDELETE FROM mysql.db WHERE Db='test' OR Db='test\\_%';\nFLUSH PRIVILEGES;\nEOF\n"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"PackageInstallTask"}],"description":"","message_list":[],"uuid":"10945139-907a-43a5-90c2-eca548c1c9f7","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"ff59932a_dag","uuid":"76465feb-3f3d-439c-8092-f8fce0d07f01"},"name":"10654624_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureMasterPackage","uuid":"db2def6e-1144-4d42-ba62-50adf9dc8da0"},"retries":"0","description":"","type":"DAG","uuid":"35448fdd-8f73-4de4-a04e-6866b1dbfe58","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"5495194c_dag"}],"description":"","message_list":[],"uuid":"6dbd2dd9-99de-4017-a35e-74939ab025db","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"5495194c_dag","uuid":"35448fdd-8f73-4de4-a04e-6866b1dbfe58"},"name":"a58212c8_runbook"}},"variable_list":[],"name":"AzureMasterPackage"},{"description":"","action_list":[{"description":"System action for installing an application","message_list":[],"uuid":"15da99f9-3022-4d7e-b146-127891fc7b08","name":"action_install","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureSlavePackage","uuid":"1f8977ca-1cbd-4b0d-855e-cb9d66009669"},"retries":"0","description":"","type":"DAG","uuid":"a16cf6a9-c054-42a2-b99e-d915a6884000","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Install_Crb_1f8977ca_1cbd_4b0d_855e_cb9d66009669","uuid":"1d6b2bad-d93f-4739-8296-b327ce4c8a15"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Package_1f8977ca_1cbd_4b0d_855e_cb9d66009669"},{"target_any_local_reference":{"kind":"app_package","name":"AzureSlavePackage","uuid":"1f8977ca-1cbd-4b0d-855e-cb9d66009669"},"retries":"0","description":"","type":"CUSTOM_PACKAGE_INSTALL","uuid":"1d6b2bad-d93f-4739-8296-b327ce4c8a15","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureSlavePackage","uuid":"1f8977ca-1cbd-4b0d-855e-cb9d66009669"},"retries":"0","description":"","type":"DAG","uuid":"bf977fe7-5c9d-41be-9732-00b9bdf9b131","child_tasks_local_reference_list":[{"kind":"app_task","name":"PackageInstallTask","uuid":"5a487214-5d34-4a84-8aec-61faf816ff22"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"c426da26_dag"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","description":"","type":"EXEC","uuid":"5a487214-5d34-4a84-8aec-61faf816ff22","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\n# -*- Install Mysql\nsudo yum install -y --quiet \"http:\/\/repo.mysql.com\/mysql80-community-release-el7.rpm\"\nsudo yum update -y --quiet\nsudo yum install -y --quiet sshpass mysql-community-server\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"!includedir \/etc\/my.cnf.d\" | sudo tee -a \/etc\/my.cnf\n\necho \"[mysqld]\nbinlog-format=mixed\nlog-bin=mysql-bin\ndatadir=\/mysql\/data\nsql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES\ninnodb_data_home_dir = \/mysql\/data\ninnodb_log_group_home_dir = \/mysql\/log\ninnodb_file_per_table\ntmpdir=\/mysql\/tmpdir\ninnodb_undo_directory = \/mysql\/undo\ndefault-storage-engine = innodb\ndefault_tmp_storage_engine = innodb\ninnodb_log_files_in_group = 4\ninnodb_log_file_size = 1G\ninnodb_log_buffer_size = 8M\ninnodb_buffer_pool_size = 6G\t\nlarge-pages\t\ninnodb_buffer_pool_instances = 64\t\ninnodb_flush_method=O_DIRECT\t\ninnodb_flush_neighbors=0\t \ninnodb_flush_log_at_trx_commit=1\ninnodb_buffer_pool_dump_at_shutdown=1\t\ninnodb_buffer_pool_load_at_startup=1\t\nbulk_insert_buffer_size = 256\t\ninnodb_thread_concurrency = 16\t\n \t \n# Undo tablespace\t \ninnodb_undo_tablespaces = 5\t\n \t \n# Networking\t \nwait_timeout=57600\t \nmax_allowed_packet=1G\t\nsocket=\/var\/lib\/mysql\/mysql.sock\t \nskip-name-resolve\nport=3306\t\nmax_connections=1000\t\n \t \n\n[mysqld_safe]\nlog-error=\/mysql\/log\/mysqld.log\npid-file=\/var\/run\/mysqld\/mysqld.pid\" | sudo tee \/etc\/my.cnf.d\/nutanix.cnf\n\necho \"#master=100\" | sudo tee -a  \/etc\/my.cnf.d\/nutanix.cnf\n\nserver_id=`sudo cat \/etc\/my.cnf.d\/nutanix.cnf | grep  \"server-id=\" | cut -d= -f2`\nis_master=`sudo cat \/etc\/my.cnf.d\/nutanix.cnf | grep -q -w \"#master=$server_id\"; echo $?`\n\nif [ ${is_master} -ne 0 ]\nthen\n   sudo sed -i '\/\\[mysqld\\]\/a read_only=1' \/etc\/my.cnf.d\/nutanix.cnf\nfi\n\nsudo mkdir -p \/mysql\/log \/mysql\/data \/mysql\/tmpdir \/mysql\/undo\nsudo mount -a\nsudo chown -R mysql:mysql \/mysql\n\nsudo rm -f \/mysql\/data\/*\nsudo systemctl start mysqld\n\n#Fix to obtain temp password and set it to blank\npassword=$(grep -oP 'temporary password(.*): \\K(\\S+)' \/var\/log\/mysqld.log)\nsudo mysqladmin --user=root --password=\"$password\" password aaBB**cc1122\nsudo mysql --user=root --password=aaBB**cc1122 -e \"UNINSTALL COMPONENT 'file:\/\/component_validate_password'\"\nsudo mysqladmin --user=root --password=\"aaBB**cc1122\" password \"\"\n\n#Mysql secure installation\nsudo mysql -u root<<-EOF\nALTER USER 'root'@'localhost' IDENTIFIED WITH caching_sha2_password BY '@@{MYSQL_PASSWORD}@@';\nDELETE FROM mysql.user WHERE User='root' AND Host NOT IN ('localhost', '127.0.0.1', '::1');\nDELETE FROM mysql.user WHERE User='';\nDELETE FROM mysql.db WHERE Db='test' OR Db='test\\_%';\nFLUSH PRIVILEGES;\nEOF\n"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"PackageInstallTask"}],"description":"","message_list":[],"uuid":"80de5a8c-8a54-47c7-91e3-ec3c258d774c","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"c426da26_dag","uuid":"bf977fe7-5c9d-41be-9732-00b9bdf9b131"},"name":"604f3369_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureSlavePackage","uuid":"1f8977ca-1cbd-4b0d-855e-cb9d66009669"},"retries":"0","description":"","type":"DAG","uuid":"cf31c4c5-82ed-40a1-b952-2365df16f32c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"d93cd003_dag"}],"description":"","message_list":[],"uuid":"7ec57eb4-e309-470e-83e9-dd605e54f097","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"d93cd003_dag","uuid":"cf31c4c5-82ed-40a1-b952-2365df16f32c"},"name":"dab6a81d_runbook"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Install_Crb_1f8977ca_1cbd_4b0d_855e_cb9d66009669"}],"description":"","message_list":[],"uuid":"4c4d7fcb-412a-4b48-8697-441d2786bb8e","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Package_1f8977ca_1cbd_4b0d_855e_cb9d66009669","uuid":"a16cf6a9-c054-42a2-b99e-d915a6884000"},"name":"SYS_GEN__Runbook_Package_1f8977ca_1cbd_4b0d_855e_cb9d66009669"}},{"description":"System action for creating an application","message_list":[],"uuid":"83455b8b-7cc0-4d6d-955a-78251e61463f","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureSlavePackage","uuid":"1f8977ca-1cbd-4b0d-855e-cb9d66009669"},"retries":"0","description":"","type":"DAG","uuid":"25238a55-0822-45c8-8045-d47f157e3990","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_1f8977ca_1cbd_4b0d_855e_cb9d66009669","uuid":"119a38de-fa17-4beb-809a-d48bffe44334"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"3535c1e8-7a03-41ca-b9ba-3fa60ae79281"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"f77525f7-b2dc-4e21-b831-21146ffbbe0d"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"3535c1e8-7a03-41ca-b9ba-3fa60ae79281"},"edge_type":"inherent","type":"","uuid":"3473fa96-2d1e-40bd-8421-201af3621ba4","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"f77525f7-b2dc-4e21-b831-21146ffbbe0d"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_1f8977ca_1cbd_4b0d_855e_cb9d66009669","uuid":"119a38de-fa17-4beb-809a-d48bffe44334"},"edge_type":"inherent","type":"","uuid":"9b5b7e26-50af-4429-add0-ce02ec2caf3d","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"3535c1e8-7a03-41ca-b9ba-3fa60ae79281"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_1f8977ca_1cbd_4b0d_855e_cb9d66009669"},{"target_any_local_reference":{"kind":"app_package","name":"AzureSlavePackage","uuid":"1f8977ca-1cbd-4b0d-855e-cb9d66009669"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"119a38de-fa17-4beb-809a-d48bffe44334","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_1f8977ca_1cbd_4b0d_855e_cb9d66009669","uuid":"4c4d7fcb-412a-4b48-8697-441d2786bb8e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_1f8977ca_1cbd_4b0d_855e_cb9d66009669"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"3535c1e8-7a03-41ca-b9ba-3fa60ae79281","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"d54168c9_runbook","uuid":"d9d72b08-90b4-46c2-a771-6d338abb4bc3"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"f77525f7-b2dc-4e21-b831-21146ffbbe0d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"a027cde0_runbook","uuid":"557651c0-2ccf-45cb-beb3-9f2028221b2e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d"}],"description":"","message_list":[],"uuid":"88cce3d8-77ab-4bcc-950b-39e0a87b1def","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_1f8977ca_1cbd_4b0d_855e_cb9d66009669","uuid":"25238a55-0822-45c8-8045-d47f157e3990"},"name":"SYS_GEN__Runbook_Package_1f8977ca_1cbd_4b0d_855e_cb9d66009669"}},{"description":"System action for uninstalling an application","message_list":[],"uuid":"9b3fc29c-f541-48f4-bb54-d0682d97f1bb","name":"action_uninstall","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureSlavePackage","uuid":"1f8977ca-1cbd-4b0d-855e-cb9d66009669"},"retries":"0","description":"","type":"DAG","uuid":"291eadd5-a4f5-4821-b7a1-030c23eca680","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Uninstall_Crb_1f8977ca_1cbd_4b0d_855e_cb9d66009669","uuid":"63cd61cb-947d-41cb-b13a-1b83e46f062e"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Package_1f8977ca_1cbd_4b0d_855e_cb9d66009669"},{"target_any_local_reference":{"kind":"app_package","name":"AzureSlavePackage","uuid":"1f8977ca-1cbd-4b0d-855e-cb9d66009669"},"retries":"0","description":"","type":"CUSTOM_PACKAGE_UNINSTALL","uuid":"63cd61cb-947d-41cb-b13a-1b83e46f062e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureSlavePackage","uuid":"1f8977ca-1cbd-4b0d-855e-cb9d66009669"},"retries":"0","description":"","type":"DAG","uuid":"bf977fe7-5c9d-41be-9732-00b9bdf9b131","child_tasks_local_reference_list":[{"kind":"app_task","name":"PackageInstallTask","uuid":"5a487214-5d34-4a84-8aec-61faf816ff22"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"c426da26_dag"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","description":"","type":"EXEC","uuid":"5a487214-5d34-4a84-8aec-61faf816ff22","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\n# -*- Install Mysql\nsudo yum install -y --quiet \"http:\/\/repo.mysql.com\/mysql80-community-release-el7.rpm\"\nsudo yum update -y --quiet\nsudo yum install -y --quiet sshpass mysql-community-server\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"!includedir \/etc\/my.cnf.d\" | sudo tee -a \/etc\/my.cnf\n\necho \"[mysqld]\nbinlog-format=mixed\nlog-bin=mysql-bin\ndatadir=\/mysql\/data\nsql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES\ninnodb_data_home_dir = \/mysql\/data\ninnodb_log_group_home_dir = \/mysql\/log\ninnodb_file_per_table\ntmpdir=\/mysql\/tmpdir\ninnodb_undo_directory = \/mysql\/undo\ndefault-storage-engine = innodb\ndefault_tmp_storage_engine = innodb\ninnodb_log_files_in_group = 4\ninnodb_log_file_size = 1G\ninnodb_log_buffer_size = 8M\ninnodb_buffer_pool_size = 6G\t\nlarge-pages\t\ninnodb_buffer_pool_instances = 64\t\ninnodb_flush_method=O_DIRECT\t\ninnodb_flush_neighbors=0\t \ninnodb_flush_log_at_trx_commit=1\ninnodb_buffer_pool_dump_at_shutdown=1\t\ninnodb_buffer_pool_load_at_startup=1\t\nbulk_insert_buffer_size = 256\t\ninnodb_thread_concurrency = 16\t\n \t \n# Undo tablespace\t \ninnodb_undo_tablespaces = 5\t\n \t \n# Networking\t \nwait_timeout=57600\t \nmax_allowed_packet=1G\t\nsocket=\/var\/lib\/mysql\/mysql.sock\t \nskip-name-resolve\nport=3306\t\nmax_connections=1000\t\n \t \n\n[mysqld_safe]\nlog-error=\/mysql\/log\/mysqld.log\npid-file=\/var\/run\/mysqld\/mysqld.pid\" | sudo tee \/etc\/my.cnf.d\/nutanix.cnf\n\necho \"#master=100\" | sudo tee -a  \/etc\/my.cnf.d\/nutanix.cnf\n\nserver_id=`sudo cat \/etc\/my.cnf.d\/nutanix.cnf | grep  \"server-id=\" | cut -d= -f2`\nis_master=`sudo cat \/etc\/my.cnf.d\/nutanix.cnf | grep -q -w \"#master=$server_id\"; echo $?`\n\nif [ ${is_master} -ne 0 ]\nthen\n   sudo sed -i '\/\\[mysqld\\]\/a read_only=1' \/etc\/my.cnf.d\/nutanix.cnf\nfi\n\nsudo mkdir -p \/mysql\/log \/mysql\/data \/mysql\/tmpdir \/mysql\/undo\nsudo mount -a\nsudo chown -R mysql:mysql \/mysql\n\nsudo rm -f \/mysql\/data\/*\nsudo systemctl start mysqld\n\n#Fix to obtain temp password and set it to blank\npassword=$(grep -oP 'temporary password(.*): \\K(\\S+)' \/var\/log\/mysqld.log)\nsudo mysqladmin --user=root --password=\"$password\" password aaBB**cc1122\nsudo mysql --user=root --password=aaBB**cc1122 -e \"UNINSTALL COMPONENT 'file:\/\/component_validate_password'\"\nsudo mysqladmin --user=root --password=\"aaBB**cc1122\" password \"\"\n\n#Mysql secure installation\nsudo mysql -u root<<-EOF\nALTER USER 'root'@'localhost' IDENTIFIED WITH caching_sha2_password BY '@@{MYSQL_PASSWORD}@@';\nDELETE FROM mysql.user WHERE User='root' AND Host NOT IN ('localhost', '127.0.0.1', '::1');\nDELETE FROM mysql.user WHERE User='';\nDELETE FROM mysql.db WHERE Db='test' OR Db='test\\_%';\nFLUSH PRIVILEGES;\nEOF\n"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"PackageInstallTask"}],"description":"","message_list":[],"uuid":"80de5a8c-8a54-47c7-91e3-ec3c258d774c","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"c426da26_dag","uuid":"bf977fe7-5c9d-41be-9732-00b9bdf9b131"},"name":"604f3369_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureSlavePackage","uuid":"1f8977ca-1cbd-4b0d-855e-cb9d66009669"},"retries":"0","description":"","type":"DAG","uuid":"cf31c4c5-82ed-40a1-b952-2365df16f32c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"d93cd003_dag"}],"description":"","message_list":[],"uuid":"7ec57eb4-e309-470e-83e9-dd605e54f097","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"d93cd003_dag","uuid":"cf31c4c5-82ed-40a1-b952-2365df16f32c"},"name":"dab6a81d_runbook"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Uninstall_Crb_1f8977ca_1cbd_4b0d_855e_cb9d66009669"}],"description":"","message_list":[],"uuid":"77ebe7bd-5322-4b9b-b693-49d52d4c28a6","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Package_1f8977ca_1cbd_4b0d_855e_cb9d66009669","uuid":"291eadd5-a4f5-4821-b7a1-030c23eca680"},"name":"SYS_GEN__Runbook_Package_1f8977ca_1cbd_4b0d_855e_cb9d66009669"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"089bb4f7-eb03-4ed7-b1cf-240cac3f47ac","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureSlavePackage","uuid":"1f8977ca-1cbd-4b0d-855e-cb9d66009669"},"retries":"0","description":"","type":"DAG","uuid":"15cb5fdc-3783-4c5b-bb15-d8601d3b1d8c","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"a78aa21e-733e-413c-a50a-0aefea559052"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"f919c0c7-1e87-44f0-86f7-8eac900ebebd"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_1f8977ca_1cbd_4b0d_855e_cb9d66009669","uuid":"33337d9d-de3a-4393-b164-5e14684c44d6"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"a78aa21e-733e-413c-a50a-0aefea559052"},"edge_type":"inherent","type":"","uuid":"3c88ee11-d4cf-43cb-890c-f162a057064f","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"f919c0c7-1e87-44f0-86f7-8eac900ebebd"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"f919c0c7-1e87-44f0-86f7-8eac900ebebd"},"edge_type":"inherent","type":"","uuid":"7e4c56b6-12f0-414e-927b-4fe36e6da517","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_1f8977ca_1cbd_4b0d_855e_cb9d66009669","uuid":"33337d9d-de3a-4393-b164-5e14684c44d6"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_1f8977ca_1cbd_4b0d_855e_cb9d66009669"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"a78aa21e-733e-413c-a50a-0aefea559052","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"4a2ad0be_runbook","uuid":"d405c9d6-da96-4365-b171-e7ffb7e6b913"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"f919c0c7-1e87-44f0-86f7-8eac900ebebd","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"92247e35_runbook","uuid":"c1fdda9f-aaee-4b0d-899f-a32eb5819a33"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d"},{"target_any_local_reference":{"kind":"app_package","name":"AzureSlavePackage","uuid":"1f8977ca-1cbd-4b0d-855e-cb9d66009669"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"33337d9d-de3a-4393-b164-5e14684c44d6","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_1f8977ca_1cbd_4b0d_855e_cb9d66009669","uuid":"77ebe7bd-5322-4b9b-b693-49d52d4c28a6"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_1f8977ca_1cbd_4b0d_855e_cb9d66009669"}],"description":"","message_list":[],"uuid":"4a8f155e-48a2-4cfd-93d7-2d13986ab967","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_1f8977ca_1cbd_4b0d_855e_cb9d66009669","uuid":"15cb5fdc-3783-4c5b-bb15-d8601d3b1d8c"},"name":"SYS_GEN__Runbook_Package_1f8977ca_1cbd_4b0d_855e_cb9d66009669"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"43e2860d-851f-4807-aeb1-e0aac169de04","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureSlavePackage","uuid":"1f8977ca-1cbd-4b0d-855e-cb9d66009669"},"retries":"0","description":"","type":"DAG","uuid":"0ed40f72-7f58-4091-9af2-a822e34fdec8","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"073e5053-bdc8-4398-857d-12368968951a"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_1f8977ca_1cbd_4b0d_855e_cb9d66009669","uuid":"a81fc493-d107-4eda-a79a-61ec9a0e4e49"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"073e5053-bdc8-4398-857d-12368968951a"},"edge_type":"inherent","type":"","uuid":"dd698141-4d81-43ce-a475-1ed894138266","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_1f8977ca_1cbd_4b0d_855e_cb9d66009669","uuid":"a81fc493-d107-4eda-a79a-61ec9a0e4e49"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_1f8977ca_1cbd_4b0d_855e_cb9d66009669"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"073e5053-bdc8-4398-857d-12368968951a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"9cb9ecf0-89cd-4611-812d-2535c64945cf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d"},{"target_any_local_reference":{"kind":"app_package","name":"AzureSlavePackage","uuid":"1f8977ca-1cbd-4b0d-855e-cb9d66009669"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"a81fc493-d107-4eda-a79a-61ec9a0e4e49","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_1f8977ca_1cbd_4b0d_855e_cb9d66009669"}],"description":"","message_list":[],"uuid":"f32b395a-1d1b-4719-9cf6-24d983dedcbd","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_1f8977ca_1cbd_4b0d_855e_cb9d66009669","uuid":"0ed40f72-7f58-4091-9af2-a822e34fdec8"},"name":"SYS_GEN__Runbook_Package_1f8977ca_1cbd_4b0d_855e_cb9d66009669"}},{"description":"System action for starting an application","message_list":[],"uuid":"7043b67a-26ed-463f-8d61-c5261f44ab98","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureSlavePackage","uuid":"1f8977ca-1cbd-4b0d-855e-cb9d66009669"},"retries":"0","description":"","type":"DAG","uuid":"75239ee7-35fc-4d29-917b-fe92c81ea8b8","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"8c1db176-f92a-4d0d-95f7-37ab67253b45"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_1f8977ca_1cbd_4b0d_855e_cb9d66009669"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"8c1db176-f92a-4d0d-95f7-37ab67253b45","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"a027cde0_runbook","uuid":"557651c0-2ccf-45cb-beb3-9f2028221b2e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d"}],"description":"","message_list":[],"uuid":"901a83a4-d2b6-4fe0-9efe-13b08ecaee5b","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_1f8977ca_1cbd_4b0d_855e_cb9d66009669","uuid":"75239ee7-35fc-4d29-917b-fe92c81ea8b8"},"name":"SYS_GEN__Runbook_Package_1f8977ca_1cbd_4b0d_855e_cb9d66009669"}},{"description":"System action for restarting an application","message_list":[],"uuid":"c0edbb75-6906-4992-9af1-23b50e7cc65f","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureSlavePackage","uuid":"1f8977ca-1cbd-4b0d-855e-cb9d66009669"},"retries":"0","description":"","type":"DAG","uuid":"f76ee301-26b4-4f4f-911d-14540e19373a","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"2af1aa31-ad36-47b6-b0c0-b5bae07a8b37"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_1f8977ca_1cbd_4b0d_855e_cb9d66009669"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"2af1aa31-ad36-47b6-b0c0-b5bae07a8b37","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"f2b2a076_runbook","uuid":"d30fe7b4-3486-4f8a-a3b8-e08401237ee7"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d"}],"description":"","message_list":[],"uuid":"676b616d-d354-4820-bdd9-39d01b22350d","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_1f8977ca_1cbd_4b0d_855e_cb9d66009669","uuid":"f76ee301-26b4-4f4f-911d-14540e19373a"},"name":"SYS_GEN__Runbook_Package_1f8977ca_1cbd_4b0d_855e_cb9d66009669"}},{"description":"System action for stopping an application","message_list":[],"uuid":"2df5c5f1-8923-4f12-8064-ca18cdf536ab","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureSlavePackage","uuid":"1f8977ca-1cbd-4b0d-855e-cb9d66009669"},"retries":"0","description":"","type":"DAG","uuid":"4f06142f-eb15-41da-bd0a-0b5cefe888b6","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d","uuid":"67311048-635c-48ff-a5a3-5910b3f6b1fb"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_1f8977ca_1cbd_4b0d_855e_cb9d66009669"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"67311048-635c-48ff-a5a3-5910b3f6b1fb","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"4a2ad0be_runbook","uuid":"d405c9d6-da96-4365-b171-e7ffb7e6b913"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_3e4843d5_3708_4e21_97bc_da079e98c74d"}],"description":"","message_list":[],"uuid":"4fb884ea-d21f-476f-bd5c-b0362d43ce30","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_1f8977ca_1cbd_4b0d_855e_cb9d66009669","uuid":"4f06142f-eb15-41da-bd0a-0b5cefe888b6"},"name":"SYS_GEN__Runbook_Package_1f8977ca_1cbd_4b0d_855e_cb9d66009669"}}],"message_list":[],"service_local_reference_list":[{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"}],"uuid":"1f8977ca-1cbd-4b0d-855e-cb9d66009669","state":"ACTIVE","version":"","editables":{},"type":"DEB","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureSlavePackage","uuid":"1f8977ca-1cbd-4b0d-855e-cb9d66009669"},"retries":"0","description":"","type":"DAG","uuid":"bf977fe7-5c9d-41be-9732-00b9bdf9b131","child_tasks_local_reference_list":[{"kind":"app_task","name":"PackageInstallTask","uuid":"5a487214-5d34-4a84-8aec-61faf816ff22"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"c426da26_dag"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","description":"","type":"EXEC","uuid":"5a487214-5d34-4a84-8aec-61faf816ff22","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\n# -*- Install Mysql\nsudo yum install -y --quiet \"http:\/\/repo.mysql.com\/mysql80-community-release-el7.rpm\"\nsudo yum update -y --quiet\nsudo yum install -y --quiet sshpass mysql-community-server\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"!includedir \/etc\/my.cnf.d\" | sudo tee -a \/etc\/my.cnf\n\necho \"[mysqld]\nbinlog-format=mixed\nlog-bin=mysql-bin\ndatadir=\/mysql\/data\nsql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES\ninnodb_data_home_dir = \/mysql\/data\ninnodb_log_group_home_dir = \/mysql\/log\ninnodb_file_per_table\ntmpdir=\/mysql\/tmpdir\ninnodb_undo_directory = \/mysql\/undo\ndefault-storage-engine = innodb\ndefault_tmp_storage_engine = innodb\ninnodb_log_files_in_group = 4\ninnodb_log_file_size = 1G\ninnodb_log_buffer_size = 8M\ninnodb_buffer_pool_size = 6G\t\nlarge-pages\t\ninnodb_buffer_pool_instances = 64\t\ninnodb_flush_method=O_DIRECT\t\ninnodb_flush_neighbors=0\t \ninnodb_flush_log_at_trx_commit=1\ninnodb_buffer_pool_dump_at_shutdown=1\t\ninnodb_buffer_pool_load_at_startup=1\t\nbulk_insert_buffer_size = 256\t\ninnodb_thread_concurrency = 16\t\n \t \n# Undo tablespace\t \ninnodb_undo_tablespaces = 5\t\n \t \n# Networking\t \nwait_timeout=57600\t \nmax_allowed_packet=1G\t\nsocket=\/var\/lib\/mysql\/mysql.sock\t \nskip-name-resolve\nport=3306\t\nmax_connections=1000\t\n \t \n\n[mysqld_safe]\nlog-error=\/mysql\/log\/mysqld.log\npid-file=\/var\/run\/mysqld\/mysqld.pid\" | sudo tee \/etc\/my.cnf.d\/nutanix.cnf\n\necho \"#master=100\" | sudo tee -a  \/etc\/my.cnf.d\/nutanix.cnf\n\nserver_id=`sudo cat \/etc\/my.cnf.d\/nutanix.cnf | grep  \"server-id=\" | cut -d= -f2`\nis_master=`sudo cat \/etc\/my.cnf.d\/nutanix.cnf | grep -q -w \"#master=$server_id\"; echo $?`\n\nif [ ${is_master} -ne 0 ]\nthen\n   sudo sed -i '\/\\[mysqld\\]\/a read_only=1' \/etc\/my.cnf.d\/nutanix.cnf\nfi\n\nsudo mkdir -p \/mysql\/log \/mysql\/data \/mysql\/tmpdir \/mysql\/undo\nsudo mount -a\nsudo chown -R mysql:mysql \/mysql\n\nsudo rm -f \/mysql\/data\/*\nsudo systemctl start mysqld\n\n#Fix to obtain temp password and set it to blank\npassword=$(grep -oP 'temporary password(.*): \\K(\\S+)' \/var\/log\/mysqld.log)\nsudo mysqladmin --user=root --password=\"$password\" password aaBB**cc1122\nsudo mysql --user=root --password=aaBB**cc1122 -e \"UNINSTALL COMPONENT 'file:\/\/component_validate_password'\"\nsudo mysqladmin --user=root --password=\"aaBB**cc1122\" password \"\"\n\n#Mysql secure installation\nsudo mysql -u root<<-EOF\nALTER USER 'root'@'localhost' IDENTIFIED WITH caching_sha2_password BY '@@{MYSQL_PASSWORD}@@';\nDELETE FROM mysql.user WHERE User='root' AND Host NOT IN ('localhost', '127.0.0.1', '::1');\nDELETE FROM mysql.user WHERE User='';\nDELETE FROM mysql.db WHERE Db='test' OR Db='test\\_%';\nFLUSH PRIVILEGES;\nEOF\n"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"PackageInstallTask"}],"description":"","message_list":[],"uuid":"80de5a8c-8a54-47c7-91e3-ec3c258d774c","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"c426da26_dag","uuid":"bf977fe7-5c9d-41be-9732-00b9bdf9b131"},"name":"604f3369_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureSlavePackage","uuid":"1f8977ca-1cbd-4b0d-855e-cb9d66009669"},"retries":"0","description":"","type":"DAG","uuid":"cf31c4c5-82ed-40a1-b952-2365df16f32c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"d93cd003_dag"}],"description":"","message_list":[],"uuid":"7ec57eb4-e309-470e-83e9-dd605e54f097","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"d93cd003_dag","uuid":"cf31c4c5-82ed-40a1-b952-2365df16f32c"},"name":"dab6a81d_runbook"}},"variable_list":[],"name":"AzureSlavePackage"}]},"name":"MYSQL"},"spec":{"name":"MYSQL","resources":{"service_definition_list":[{"singleton":false,"name":"MySQL_Master","action_list":[{"description":"System action for creating an application","name":"action_create","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b","name":"MySQL_Master"},"retries":"0","description":"","uuid":"a539c44b-49b1-4533-9317-d4f4c3441a46","child_tasks_local_reference_list":[{"kind":"app_task","name":"ConfigureMaster","uuid":"930e6f8f-fdeb-48c2-bbc6-a584ddaa28f4"},{"kind":"app_task","name":"GetDBState","uuid":"f6bbd923-99a1-4ea2-8623-4a3546b6ad81"}],"attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"ConfigureMaster","uuid":"930e6f8f-fdeb-48c2-bbc6-a584ddaa28f4"},"edge_type":"user_defined","type":"","uuid":"90f6d017-762c-4d02-86be-80ebc2986c8d","to_task_reference":{"kind":"app_task","name":"GetDBState","uuid":"f6bbd923-99a1-4ea2-8623-4a3546b6ad81"}}],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"a6df9f70_dag"},{"target_any_local_reference":{"kind":"app_service","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b","name":"MySQL_Master"},"retries":"0","description":"","uuid":"930e6f8f-fdeb-48c2-bbc6-a584ddaa28f4","child_tasks_local_reference_list":[],"attrs":{"exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\n# -*- Setup variables\nmysql_password=\"@@{MYSQL_PASSWORD}@@\"\n\nserver_id=`sudo cat \/etc\/my.cnf.d\/nutanix.cnf | grep  \"server-id=\" | cut -d= -f2`\nis_master=`sudo cat \/etc\/my.cnf.d\/nutanix.cnf | grep -q -w \"#master=$server_id\"; echo $?`\n\n# -*- Run only on master\nif [ ${is_master} -eq 0 ]\nthen\nsudo sed -i \"\/\\[mysqld\\]\/a innodb_flush_log_at_trx_commit=1\" \/etc\/my.cnf.d\/nutanix.cnf\nsudo sed -i \"\/\\[mysqld\\]\/a sync_binlog=1\" \/etc\/my.cnf.d\/nutanix.cnf\n\nsudo mysql -u root -p${mysql_password}<<EOF\nCREATE USER 'replica'@'%' IDENTIFIED BY \"${mysql_password}\";\nGRANT REPLICATION SLAVE ON *.* to replica@'%';\nFLUSH PRIVILEGES;\nEOF\n\nfi\n\nsudo touch \/var\/run\/mysqld\/mysqld.sock\nsudo chown mysql:mysql \/var\/run\/mysqld\/mysqld.sock\nsudo systemctl restart mysqld\n\nsleep 5\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"3ee7bf5d-2de9-4958-9b65-e30687c43f17"}},"timeout_secs":"0","type":"EXEC","variable_list":[],"name":"ConfigureMaster"},{"target_any_local_reference":{"kind":"app_service","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b","name":"MySQL_Master"},"retries":"0","description":"","uuid":"f6bbd923-99a1-4ea2-8623-4a3546b6ad81","child_tasks_local_reference_list":[],"attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\nmysql_password=\"@@{MYSQL_PASSWORD}@@\"\nmaster_ip=\"@@{address}@@\"\n\nserver_id=`sudo cat \/etc\/my.cnf.d\/nutanix.cnf | grep  \"server-id=\" | cut -d= -f2`\nis_master=`sudo cat \/etc\/my.cnf.d\/nutanix.cnf | grep -q -w \"#master=$server_id\"; echo $?`\n\n\nif [ ${is_master} -eq 0 ]\nthen\n    while true\n    do\n      status=`sudo systemctl status mysqld | grep Active: | awk ' { print $3 }' | sed 's#[(|)]##g'`\n  \t  [ $status = \"running\" ] && break\n      echo $status\n  \t  sleep 2\n    done\n    \n    MYSQL_BIN=$(sudo mysql -u root -p${mysql_password} -e 'show master status;' | grep mysql-bin | awk '{print $1}')\n\tMYSQL_POSITION=$(sudo mysql -u root -p${mysql_password} -e 'show master status;' | grep mysql-bin | awk '{print $2}')\n    \n  echo \"MYSQL_BIN=$MYSQL_BIN\"\n  echo \"MYSQL_POSITION=$MYSQL_POSITION\"\nfi\n\n","eval_variables":["MYSQL_BIN","MYSQL_POSITION"],"eval_scope":"local","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"3ee7bf5d-2de9-4958-9b65-e30687c43f17"},"type":"","script_type":"sh"},"timeout_secs":"0","type":"SET_VARIABLE","variable_list":[],"name":"GetDBState"}],"description":"","uuid":"9866e43d-ff48-4abb-bade-7f5396ce551e","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"a6df9f70_dag","uuid":"a539c44b-49b1-4533-9317-d4f4c3441a46"},"name":"0a970522_runbook"},"type":"system","uuid":"d4cba82b-8146-4638-af98-0efd25282a95"},{"description":"System action for deleting an application. Deletes created VMs as well","name":"action_delete","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b","name":"MySQL_Master"},"retries":"0","description":"","uuid":"e69104b3-152b-4495-bb96-789df07ba4d6","child_tasks_local_reference_list":[],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"3f9277cd_dag"}],"description":"","uuid":"e410ef14-5f72-46ab-b7d5-0181621be34f","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"3f9277cd_dag","uuid":"e69104b3-152b-4495-bb96-789df07ba4d6"},"name":"5fd47ec3_runbook"},"type":"system","uuid":"3535edb9-ad16-4e30-8c7e-fa0106c428bf"},{"description":"System action for starting an application","name":"action_start","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b","name":"MySQL_Master"},"retries":"0","description":"","uuid":"2cc412c2-6cd8-457d-a3e9-8e258495018d","child_tasks_local_reference_list":[{"kind":"app_task","name":"Start","uuid":"8cd10c06-5626-4e19-ad80-077f3e57c971"}],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"32e9c292_dag"},{"target_any_local_reference":{"kind":"app_service","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b","name":"MySQL_Master"},"retries":"0","description":"","uuid":"8cd10c06-5626-4e19-ad80-077f3e57c971","child_tasks_local_reference_list":[],"attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\nsudo systemctl start mysqld\nsudo systemctl enable mysqld"},"timeout_secs":"0","type":"EXEC","variable_list":[],"name":"Start"}],"description":"","uuid":"907290fe-eaef-465b-a916-7c2c67d20c97","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"32e9c292_dag","uuid":"2cc412c2-6cd8-457d-a3e9-8e258495018d"},"name":"5ddb28d1_runbook"},"type":"system","uuid":"9c089c35-2fa9-4988-9aa6-e8d01c3ffa9b"},{"description":"System action for stopping an application","name":"action_stop","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b","name":"MySQL_Master"},"retries":"0","description":"","uuid":"f6840b1e-d290-48ed-a69a-9782013ae714","child_tasks_local_reference_list":[],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"ce63573f_dag"}],"description":"","uuid":"ce2a2858-b89b-4bb4-8fb3-ee8bd8a6bd3f","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"ce63573f_dag","uuid":"f6840b1e-d290-48ed-a69a-9782013ae714"},"name":"0aefbca3_runbook"},"type":"system","uuid":"ea2280d1-380c-4ec7-9305-6478cb98ce3d"},{"description":"System action for restarting an application","name":"action_restart","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b","name":"MySQL_Master"},"retries":"0","description":"","uuid":"84cd2d27-e3be-404f-af3b-e8e48f839dc6","child_tasks_local_reference_list":[],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"c4afa1a6_dag"}],"description":"","uuid":"e38aa3c5-d052-4d28-84e6-acfb09a6af83","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"c4afa1a6_dag","uuid":"84cd2d27-e3be-404f-af3b-e8e48f839dc6"},"name":"7e709238_runbook"},"type":"system","uuid":"271b7791-d6b1-486a-93f0-6e4f55f34447"}],"description":"","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b","port_list":[],"tier":"","variable_list":[{"val_type":"STRING","description":"","uuid":"79d8e436-76a4-4f90-961a-42d8b1feed9f","value":"","label":"","attrs":{"type":""},"type":"LOCAL","name":"MYSQL_BIN"},{"val_type":"STRING","description":"","uuid":"39b0143b-e757-411e-97c7-6f0b3a2c1556","value":"","label":"","attrs":{"type":""},"type":"LOCAL","name":"MYSQL_POSITION"}],"depends_on_list":[]},{"singleton":false,"name":"MySQL_Slave","action_list":[{"description":"System action for creating an application","name":"action_create","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d","name":"MySQL_Slave"},"retries":"0","description":"","uuid":"fe18edc4-44d9-4548-96b4-c23cf77b0e51","child_tasks_local_reference_list":[{"kind":"app_task","name":"ConfigureSlaves","uuid":"0293f936-e0fa-49f5-a14f-adfff6c710b0"}],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"93f99bda_dag"},{"target_any_local_reference":{"kind":"app_service","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d","name":"MySQL_Slave"},"retries":"0","description":"","uuid":"0293f936-e0fa-49f5-a14f-adfff6c710b0","child_tasks_local_reference_list":[],"attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\n\n# -*- Setup variables\nmysql_password=\"@@{MYSQL_PASSWORD}@@\"\nmaster_ip=\"@@{MySQL_Master.address}@@\"\nmaster_bin=\"@@{MySQL_Master.MYSQL_BIN}@@\"\nmaster_position=\"@@{MySQL_Master.MYSQL_POSITION}@@\"\n\nserver_id=`sudo cat \/etc\/my.cnf.d\/nutanix.cnf | grep  \"server-id=\" | cut -d= -f2`\nis_master=`sudo cat \/etc\/my.cnf.d\/nutanix.cnf | grep -q -w \"#master=$server_id\"; echo $?`\n\n# -*- Runs on slaves\nif [ ${is_master} -ne 0 ]\nthen\n  sudo mysql -u root -p${mysql_password} -e \"change master to master_host='${master_ip}',master_user='replica',master_password='${mysql_password}',master_log_file='${master_bin}',master_log_pos=${master_position};\"\n  sudo mysql -u root -p${mysql_password} -e 'start slave;'\n  sudo mysql -u root -p${mysql_password} -e 'show slave status\\G' | grep -A11 Slave_IO_State\nfi\n"},"timeout_secs":"0","type":"EXEC","variable_list":[],"name":"ConfigureSlaves"}],"description":"","uuid":"d9d72b08-90b4-46c2-a771-6d338abb4bc3","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"93f99bda_dag","uuid":"fe18edc4-44d9-4548-96b4-c23cf77b0e51"},"name":"d54168c9_runbook"},"type":"system","uuid":"feb54511-cdbf-4966-935e-b0731d7a486b"},{"description":"System action for deleting an application. Deletes created VMs as well","name":"action_delete","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d","name":"MySQL_Slave"},"retries":"0","description":"","uuid":"edab8594-6725-47c3-b442-9d32d64561cb","child_tasks_local_reference_list":[],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"5066b603_dag"}],"description":"","uuid":"c1fdda9f-aaee-4b0d-899f-a32eb5819a33","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"5066b603_dag","uuid":"edab8594-6725-47c3-b442-9d32d64561cb"},"name":"92247e35_runbook"},"type":"system","uuid":"391500b9-3df9-4370-8d49-98664024b09a"},{"description":"System action for starting an application","name":"action_start","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d","name":"MySQL_Slave"},"retries":"0","description":"","uuid":"a3229ca8-662a-4a46-9b4a-15ec932372df","child_tasks_local_reference_list":[{"kind":"app_task","name":"Start","uuid":"e4d26186-d219-45f8-abdf-a23794c9b679"}],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"abefdcaf_dag"},{"target_any_local_reference":{"kind":"app_service","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d","name":"MySQL_Slave"},"retries":"0","description":"","uuid":"e4d26186-d219-45f8-abdf-a23794c9b679","child_tasks_local_reference_list":[],"attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\nsudo systemctl start mysqld\nsudo systemctl enable mysqld"},"timeout_secs":"0","type":"EXEC","variable_list":[],"name":"Start"}],"description":"","uuid":"557651c0-2ccf-45cb-beb3-9f2028221b2e","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"abefdcaf_dag","uuid":"a3229ca8-662a-4a46-9b4a-15ec932372df"},"name":"a027cde0_runbook"},"type":"system","uuid":"7493fdcb-6d28-41b0-a9eb-e2f768d8a6c2"},{"description":"System action for stopping an application","name":"action_stop","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d","name":"MySQL_Slave"},"retries":"0","description":"","uuid":"907adca0-12c0-44a7-a42f-96a8034ba766","child_tasks_local_reference_list":[],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"097fa65d_dag"}],"description":"","uuid":"d405c9d6-da96-4365-b171-e7ffb7e6b913","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"097fa65d_dag","uuid":"907adca0-12c0-44a7-a42f-96a8034ba766"},"name":"4a2ad0be_runbook"},"type":"system","uuid":"eabc80d3-8e79-42b1-ad89-405a85bdba61"},{"description":"System action for restarting an application","name":"action_restart","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d","name":"MySQL_Slave"},"retries":"0","description":"","uuid":"c3c94ed7-a4ad-450a-be6b-61f158b181fa","child_tasks_local_reference_list":[],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"e1f94389_dag"}],"description":"","uuid":"d30fe7b4-3486-4f8a-a3b8-e08401237ee7","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"e1f94389_dag","uuid":"c3c94ed7-a4ad-450a-be6b-61f158b181fa"},"name":"f2b2a076_runbook"},"type":"system","uuid":"7616140b-3552-491d-a416-7aa40813cc20"}],"description":"","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d","port_list":[],"tier":"","variable_list":[],"depends_on_list":[{"kind":"app_service","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b","name":"MySQL_Master"}]}],"substrate_definition_list":[{"name":"AHVMaster","action_list":[],"uuid":"04eda07e-4a12-44ed-bf35-608dbe760e2b","readiness_probe":{"connection_type":"SSH","retries":"5","disable_readiness_probe":false,"timeout_secs":"300","address":"@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@","delay_secs":"0","connection_port":22,"login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"3ee7bf5d-2de9-4958-9b65-e30687c43f17"}},"editables":{"readiness_probe":{"connection_type":true,"delay_secs":true,"connection_port":true,"timeout_secs":true},"create_spec":{"name":true,"resources":{"nic_list":{},"serial_port_list":{},"num_vcpus_per_socket":true,"num_sockets":true,"memory_size_mib":true,"guest_customization":true,"disk_list":{"1":{"disk_size_mib":true},"3":{"disk_size_mib":true},"2":{"disk_size_mib":true},"5":{"disk_size_mib":true},"4":{"disk_size_mib":true},"7":{"disk_size_mib":true},"6":{"disk_size_mib":true},"8":{"disk_size_mib":true}}}}},"os_type":"Linux","type":"AHV_VM","create_spec":{"name":"mysql-master-@@{calm_time}@@","categories":"","availability_zone_reference":null,"backup_policy":null,"type":"","cluster_reference":null,"resources":{"nic_list":[{"subnet_reference":{"uuid":"efc034e3-b50e-4a48-b02d-25036aeb8bd3"}}],"serial_port_list":[],"guest_tools":null,"num_vcpus_per_socket":2,"num_sockets":2,"gpu_list":[],"memory_size_mib":8192,"parent_reference":null,"hardware_clock_timezone":"","guest_customization":{"cloud_init":{"meta_data":"","type":"","user_data":"#cloud-config\nusers:\n  - name: centos\n    ssh-authorized-keys:\n      - @@{INSTANCE_PUBLIC_KEY}@@\n    sudo: ['ALL=(ALL) NOPASSWD:ALL']"},"type":"","sysprep":null},"power_state":"ON","type":"","account_uuid":"efc034e3-b50e-4a48-b02d-25036aeb8bd3","boot_config":{"boot_device":{"type":"","disk_address":{"adapter_type":"SCSI","device_index":0,"type":""}},"type":"","mac_address":""},"disk_list":[{"data_source_reference":{"kind":"app_package","type":"","name":"CENTOS_74","uuid":"9f1580d6-1ec8-4e83-ade6-af9db607985a"},"type":"","disk_size_mib":0,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":0,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":51200,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":1,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":51200,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":2,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":51200,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":3,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":51200,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":4,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":25600,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":5,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":25600,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":6,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":25600,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":7,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":25600,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":8,"type":""}}}]}},"variable_list":[],"description":""},{"name":"AHVSlave","action_list":[],"uuid":"64640b55-4f15-4de6-8c5b-cc0821f4ef8d","readiness_probe":{"connection_type":"SSH","retries":"5","disable_readiness_probe":false,"timeout_secs":"300","address":"@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@","delay_secs":"0","connection_port":22,"login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"3ee7bf5d-2de9-4958-9b65-e30687c43f17"}},"editables":{"readiness_probe":{"connection_type":true,"delay_secs":true,"connection_port":true,"timeout_secs":true},"create_spec":{"name":true,"resources":{"nic_list":{},"serial_port_list":{},"num_vcpus_per_socket":true,"num_sockets":true,"memory_size_mib":true,"guest_customization":true,"disk_list":{"1":{"disk_size_mib":true},"3":{"disk_size_mib":true},"2":{"disk_size_mib":true},"5":{"disk_size_mib":true},"4":{"disk_size_mib":true},"7":{"disk_size_mib":true},"6":{"disk_size_mib":true},"8":{"disk_size_mib":true}}}}},"os_type":"Linux","type":"AHV_VM","create_spec":{"name":"mysql-slave-@@{calm_array_index}@@-@@{calm_time}@@","categories":"","availability_zone_reference":null,"backup_policy":null,"type":"","cluster_reference":null,"resources":{"nic_list":[{"subnet_reference":{"uuid":"efc034e3-b50e-4a48-b02d-25036aeb8bd3"}}],"serial_port_list":[],"guest_tools":null,"num_vcpus_per_socket":1,"num_sockets":2,"gpu_list":[],"memory_size_mib":8192,"parent_reference":null,"hardware_clock_timezone":"","guest_customization":{"cloud_init":{"meta_data":"","type":"","user_data":"#cloud-config\nusers:\n  - name: centos\n    ssh-authorized-keys:\n      - @@{INSTANCE_PUBLIC_KEY}@@\n    sudo: ['ALL=(ALL) NOPASSWD:ALL']"},"type":"","sysprep":null},"power_state":"ON","type":"","account_uuid":"efc034e3-b50e-4a48-b02d-25036aeb8bd3","boot_config":{"boot_device":{"type":"","disk_address":{"adapter_type":"SCSI","device_index":-1,"type":""}},"type":"","mac_address":""},"disk_list":[{"data_source_reference":{"kind":"app_package","type":"","name":"CENTOS_74","uuid":"9f1580d6-1ec8-4e83-ade6-af9db607985a"},"type":"","disk_size_mib":0,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":0,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":51200,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":1,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":51200,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":2,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":51200,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":3,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":51200,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":4,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":25600,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":5,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":25600,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":6,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":25600,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":7,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":25600,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":8,"type":""}}}]}},"variable_list":[],"description":""},{"name":"AWSMaster","action_list":[],"uuid":"cefa9a98-dcbd-4260-a7b6-12d47af4d968","readiness_probe":{"connection_type":"SSH","retries":"5","disable_readiness_probe":false,"timeout_secs":"300","address":"@@{public_ip_address}@@","delay_secs":"0","connection_port":22,"login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"3ee7bf5d-2de9-4958-9b65-e30687c43f17"}},"editables":{"readiness_probe":{"connection_type":true,"delay_secs":true,"connection_port":true,"timeout_secs":true},"create_spec":{"name":true,"resources":{"instance_profile_name":true,"availability_zone":true,"subnet_id":true,"key_name":true,"region":true,"user_data":true,"image_id":true,"instance_type":true,"security_group_list":true,"block_device_map":{"data_disk_list":{"1":{"size_gb":true},"0":{"size_gb":true},"3":{"size_gb":true},"2":{"size_gb":true},"5":{"size_gb":true},"4":{"size_gb":true},"7":{"size_gb":true},"6":{"size_gb":true}},"root_disk":{"size_gb":true}},"associate_public_ip_address":true,"vpc_id":true,"tag_list":true}}},"os_type":"Linux","type":"AWS_VM","create_spec":{"name":"mysql-master-@@{calm_time}@@","availability_zone_reference":null,"backup_policy":null,"type":"PROVISION_AWS_VM","cluster_reference":null,"resources":{"instance_profile_name":"","availability_zone":"","subnet_id":"","key_name":"","region":"","instance_initiated_shutdown_behavior":"","user_data":"","image_id":"","instance_type":"","state":"RUNNING","security_group_list":[{"type":"","security_group_id":""}],"block_device_map":{"data_disk_list":[{"size_gb":50,"volume_type":"GP2","device_name":"\/dev\/sdb","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":50,"volume_type":"GP2","device_name":"\/dev\/sdc","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":50,"volume_type":"GP2","device_name":"\/dev\/sdd","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":50,"volume_type":"GP2","device_name":"\/dev\/sde","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":25,"volume_type":"GP2","device_name":"\/dev\/sdf","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":25,"volume_type":"GP2","device_name":"\/dev\/sdg","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":25,"volume_type":"GP2","device_name":"\/dev\/sdh","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":25,"volume_type":"GP2","device_name":"\/dev\/sdi","iops":1,"snapshot_id":"","type":"","delete_on_termination":true}],"type":"","root_disk":{"size_gb":10,"volume_type":"GP2","device_name":"\/dev\/sda1","iops":1,"snapshot_id":"","type":"","delete_on_termination":true}},"private_ip_address":"","vpc_id":"","tag_list":[],"type":"","account_uuid":"8c2e0a6b-620a-c62a-c3f4-e58b101dfd0d","associate_public_ip_address":true}},"variable_list":[],"description":""},{"name":"AWSSlave","action_list":[],"uuid":"dc4c740f-2c0d-43d8-b0ac-96221c03c081","readiness_probe":{"connection_type":"SSH","retries":"5","disable_readiness_probe":false,"timeout_secs":"300","address":"@@{public_ip_address}@@","delay_secs":"0","connection_port":22,"login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"3ee7bf5d-2de9-4958-9b65-e30687c43f17"}},"editables":{"readiness_probe":{"connection_type":true,"delay_secs":true,"connection_port":true,"timeout_secs":true},"create_spec":{"name":true,"resources":{"instance_profile_name":true,"availability_zone":true,"subnet_id":true,"key_name":true,"region":true,"user_data":true,"image_id":true,"instance_type":true,"security_group_list":true,"block_device_map":{"data_disk_list":{"1":{"size_gb":true},"0":{"size_gb":true},"3":{"size_gb":true},"2":{"size_gb":true},"5":{"size_gb":true},"4":{"size_gb":true},"7":{"size_gb":true},"6":{"size_gb":true}},"root_disk":{"size_gb":true}},"associate_public_ip_address":true,"vpc_id":true,"tag_list":true}}},"os_type":"Linux","type":"AWS_VM","create_spec":{"name":"mysql-slave-@@{calm_array_index}@@-@@{calm_time}@@","availability_zone_reference":null,"backup_policy":null,"type":"PROVISION_AWS_VM","cluster_reference":null,"resources":{"instance_profile_name":"","availability_zone":"","subnet_id":"","key_name":"","region":"","instance_initiated_shutdown_behavior":"","user_data":"","image_id":"","instance_type":"","state":"RUNNING","security_group_list":[{"type":"","security_group_id":""}],"block_device_map":{"data_disk_list":[{"size_gb":50,"volume_type":"GP2","device_name":"\/dev\/sdb","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":50,"volume_type":"GP2","device_name":"\/dev\/sdc","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":50,"volume_type":"GP2","device_name":"\/dev\/sdd","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":50,"volume_type":"GP2","device_name":"\/dev\/sde","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":25,"volume_type":"GP2","device_name":"\/dev\/sdf","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":25,"volume_type":"GP2","device_name":"\/dev\/sdg","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":25,"volume_type":"GP2","device_name":"\/dev\/sdh","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":25,"volume_type":"GP2","device_name":"\/dev\/sdi","iops":1,"snapshot_id":"","type":"","delete_on_termination":true}],"type":"","root_disk":{"size_gb":10,"volume_type":"GP2","device_name":"\/dev\/sda1","iops":1,"snapshot_id":"","type":"","delete_on_termination":true}},"private_ip_address":"","vpc_id":"","tag_list":[],"type":"","account_uuid":"8c2e0a6b-620a-c62a-c3f4-e58b101dfd0d","associate_public_ip_address":true}},"variable_list":[],"description":""},{"name":"GCPMaster","action_list":[],"uuid":"e094d48b-d166-4e1f-9e53-217b1788fe12","readiness_probe":{"connection_type":"SSH","retries":"5","disable_readiness_probe":false,"timeout_secs":"300","address":"@@{public_ip_address}@@","delay_secs":"0","connection_port":22,"login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"3ee7bf5d-2de9-4958-9b65-e30687c43f17"}},"editables":{"readiness_probe":{"connection_type":true,"connection_port":true,"timeout_secs":true},"create_spec":{"resources":{"labels":true,"machineType":true,"name":true,"tags":{"items":true},"disks":{"0":{"initializeParams":{"diskSizeGb":true,"sourceImage":true,"diskType":true},"autoDelete":true}},"blankDisks":{"1":{"disk_type":true,"name":true,"sizeGb":true,"autoDelete":true},"0":{"disk_type":true,"name":true,"sizeGb":true,"autoDelete":true},"3":{"disk_type":true,"name":true,"sizeGb":true,"autoDelete":true},"2":{"disk_type":true,"name":true,"sizeGb":true,"autoDelete":true},"5":{"disk_type":true,"name":true,"sizeGb":true,"autoDelete":true},"4":{"disk_type":true,"name":true,"sizeGb":true,"autoDelete":true},"7":{"disk_type":true,"name":true,"sizeGb":true,"autoDelete":true},"6":{"disk_type":true,"name":true,"sizeGb":true,"autoDelete":true}},"sshKeys":{"0":true},"serviceAccounts":{"0":{"scopes":true}},"metadata":{"items":true}}}},"os_type":"Linux","type":"GCP_VM","create_spec":{"type":"PROVISION_GCP_VM","resources":{"labels":[],"machineType":"","description":"","zone":"","tags":{"items":["tensorflow"],"type":"","fingerprint":""},"guestCustomization":{"type":"","startupScript":""},"labelFingerprint":"","disks":[{"diskEncryptionKey":{},"deviceName":"","initializeParams":{"sourceImageEncryptionKey":{},"diskName":"","diskType":"","diskSizeGb":-1,"sourceImage":"","type":""},"autoDelete":true,"boot":true,"source":"","mode":"","interface":"","disk_type":"PERSISTENT","type":""}],"name":"mysql-master-@@{calm_time}@@","sshKeys":["centos:ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDMGAS\/K0Mb\/uwFXwD+hkjguy7VMZk2hpuhwPl9FUZwVBrURf\/i9QMJ5\/paPEZixu8VlRx7Inu4iun7rQfrnfeIYInmBwspXHYiTK3oHJAgZnrAHVEf1p6YaxLINlT1NI5yOAGPRWW6of8rBDBH1ObwU2+wcSx\/1H0uIs3aZNLufr+Rh628ACxAum2Gt8AVRj6ua2BPFyt5VTdclyysAmeh1AiixNgOZXOz6y\/i4TbzpY78I3isuKpxsUeXX6jxEMQol406jHDUF6njEOPIQG2zVZ3QJlTG9OlN+NiyZG9WkZz0VG\/6M8ixxIHHI2dNwUbBFv2HUu+8X9LTLFq2O7KjX9Hp7uZKBAySHA3eKaKHIp2bZuU1bT5PRPkggngX86xg+T+OMNnutbAiMnRJ8+FvD5So+5TIx4b9GgxAxure3x2yRPT9lOiQOB+CVpJPxR0Rn9bOI+wiPnD0kAGvK\/fHT+pqL4PM+hTnJtp9rrCRzIQApBx1263jEcYffhW2epZQRO+he5CMawFJ5TBe08om2AaDJ8GQdrpF6YA3W8DzHbmL3DPVVHdmqPLn10o+LX4gv5SdIIDVGdjKOc1BCnLTRmM28d5+sLDt\/M+kvcQgf0y0yDjMVjGECZkt39hbm4ELMHzZtzYLmHNhBZxRqHeJ7qFTuv1kx88OW3Xc5mbBNQ== centos@nutanix.com\n"],"canIpForward":false,"scheduling":{"automaticRestart":true,"type":"","preemptible":false,"onHostMaintenance":"TERMINATE"},"minCpuPlatform":"","blankDisks":[{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-master-dev-0-@@{calm_time}@@","sizeGb":50,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-master-dev-1-@@{calm_time}@@","sizeGb":50,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-master-dev-2-@@{calm_time}@@","sizeGb":50,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-master-dev-3-@@{calm_time}@@","sizeGb":50,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-master-dev-4-@@{calm_time}@@","sizeGb":25,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-master-dev-5-@@{calm_time}@@","sizeGb":25,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-master-dev-6-@@{calm_time}@@","sizeGb":25,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-master-dev-7-@@{calm_time}@@","sizeGb":25,"autoDelete":true}],"metadata":{"items":[{"type":"","value":"centos:ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDMGAS\/K0Mb\/uwFXwD+hkjguy7VMZk2hpuhwPl9FUZwVBrURf\/i9QMJ5\/paPEZixu8VlRx7Inu4iun7rQfrnfeIYInmBwspXHYiTK3oHJAgZnrAHVEf1p6YaxLINlT1NI5yOAGPRWW6of8rBDBH1ObwU2+wcSx\/1H0uIs3aZNLufr+Rh628ACxAum2Gt8AVRj6ua2BPFyt5VTdclyysAmeh1AiixNgOZXOz6y\/i4TbzpY78I3isuKpxsUeXX6jxEMQol406jHDUF6njEOPIQG2zVZ3QJlTG9OlN+NiyZG9WkZz0VG\/6M8ixxIHHI2dNwUbBFv2HUu+8X9LTLFq2O7KjX9Hp7uZKBAySHA3eKaKHIp2bZuU1bT5PRPkggngX86xg+T+OMNnutbAiMnRJ8+FvD5So+5TIx4b9GgxAxure3x2yRPT9lOiQOB+CVpJPxR0Rn9bOI+wiPnD0kAGvK\/fHT+pqL4PM+hTnJtp9rrCRzIQApBx1263jEcYffhW2epZQRO+he5CMawFJ5TBe08om2AaDJ8GQdrpF6YA3W8DzHbmL3DPVVHdmqPLn10o+LX4gv5SdIIDVGdjKOc1BCnLTRmM28d5+sLDt\/M+kvcQgf0y0yDjMVjGECZkt39hbm4ELMHzZtzYLmHNhBZxRqHeJ7qFTuv1kx88OW3Xc5mbBNQ== centos@nutanix.com","key":"ssh-keys"}],"type":"","fingerprint":""},"type":"","account_uuid":"84213a31-4fe8-7e39-3799-e093e5d0dc2e","serviceAccounts":[{"scopes":[],"type":"","email":"108048128720-compute@developer.gserviceaccount.com"}],"networkInterfaces":[{"aliasIpRanges":[],"network":"","accessConfigs":[{"config_type":"ONE_TO_ONE_NAT","type":"","name":"master-default-acn","natIP":""}],"networkIP":"","subnetwork":"","type":""}]}},"variable_list":[],"description":""},{"name":"GCPSlave","action_list":[],"uuid":"824702a6-ed10-4d8b-8046-50ccea53a3c1","readiness_probe":{"connection_type":"SSH","retries":"5","disable_readiness_probe":false,"timeout_secs":"300","address":"@@{public_ip_address}@@","delay_secs":"0","connection_port":22,"login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"3ee7bf5d-2de9-4958-9b65-e30687c43f17"}},"editables":{"readiness_probe":{"connection_type":true,"connection_port":true,"timeout_secs":true},"create_spec":{"resources":{"labels":true,"machineType":true,"name":true,"tags":{"items":true},"disks":{"0":{"initializeParams":{"diskSizeGb":true,"sourceImage":true,"diskType":true},"autoDelete":true}},"blankDisks":{"1":{"disk_type":true,"name":true,"sizeGb":true,"autoDelete":true},"0":{"disk_type":true,"name":true,"sizeGb":true,"autoDelete":true},"3":{"disk_type":true,"name":true,"sizeGb":true,"autoDelete":true},"2":{"disk_type":true,"name":true,"sizeGb":true,"autoDelete":true},"5":{"disk_type":true,"name":true,"sizeGb":true,"autoDelete":true},"4":{"disk_type":true,"name":true,"sizeGb":true,"autoDelete":true},"7":{"disk_type":true,"name":true,"sizeGb":true,"autoDelete":true},"6":{"disk_type":true,"name":true,"sizeGb":true,"autoDelete":true}},"sshKeys":{"0":true},"serviceAccounts":{"0":{"scopes":true}},"metadata":{"items":true}}}},"os_type":"Linux","type":"GCP_VM","create_spec":{"type":"PROVISION_GCP_VM","resources":{"labels":[],"machineType":"","description":"","zone":"","tags":{"items":["tensorflow"],"type":"","fingerprint":""},"guestCustomization":{"type":"","startupScript":""},"labelFingerprint":"","disks":[{"diskEncryptionKey":{},"deviceName":"","initializeParams":{"sourceImageEncryptionKey":{},"diskName":"","diskType":"","diskSizeGb":-1,"sourceImage":"","type":""},"autoDelete":true,"boot":true,"source":"","mode":"","interface":"","disk_type":"PERSISTENT","type":""}],"name":"mysql-slave-@@{calm_array_index}@@-@@{calm_time}@@","sshKeys":["centos:ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDMGAS\/K0Mb\/uwFXwD+hkjguy7VMZk2hpuhwPl9FUZwVBrURf\/i9QMJ5\/paPEZixu8VlRx7Inu4iun7rQfrnfeIYInmBwspXHYiTK3oHJAgZnrAHVEf1p6YaxLINlT1NI5yOAGPRWW6of8rBDBH1ObwU2+wcSx\/1H0uIs3aZNLufr+Rh628ACxAum2Gt8AVRj6ua2BPFyt5VTdclyysAmeh1AiixNgOZXOz6y\/i4TbzpY78I3isuKpxsUeXX6jxEMQol406jHDUF6njEOPIQG2zVZ3QJlTG9OlN+NiyZG9WkZz0VG\/6M8ixxIHHI2dNwUbBFv2HUu+8X9LTLFq2O7KjX9Hp7uZKBAySHA3eKaKHIp2bZuU1bT5PRPkggngX86xg+T+OMNnutbAiMnRJ8+FvD5So+5TIx4b9GgxAxure3x2yRPT9lOiQOB+CVpJPxR0Rn9bOI+wiPnD0kAGvK\/fHT+pqL4PM+hTnJtp9rrCRzIQApBx1263jEcYffhW2epZQRO+he5CMawFJ5TBe08om2AaDJ8GQdrpF6YA3W8DzHbmL3DPVVHdmqPLn10o+LX4gv5SdIIDVGdjKOc1BCnLTRmM28d5+sLDt\/M+kvcQgf0y0yDjMVjGECZkt39hbm4ELMHzZtzYLmHNhBZxRqHeJ7qFTuv1kx88OW3Xc5mbBNQ== centos@nutanix.com\n"],"canIpForward":false,"scheduling":{"automaticRestart":true,"type":"","preemptible":false,"onHostMaintenance":"TERMINATE"},"minCpuPlatform":"","blankDisks":[{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-slave-dev-0-@@{calm_time}@@","sizeGb":50,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-slave-dev-1-@@{calm_time}@@","sizeGb":50,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-slave-dev-2-@@{calm_time}@@","sizeGb":50,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-slave-dev-3-@@{calm_time}@@","sizeGb":50,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-slave-dev-4-@@{calm_time}@@","sizeGb":25,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-slave-dev-5-@@{calm_time}@@","sizeGb":25,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-slave-dev-6-@@{calm_time}@@","sizeGb":25,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-slave-dev-7-@@{calm_time}@@","sizeGb":25,"autoDelete":true}],"metadata":{"items":[{"type":"","value":"centos:ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDMGAS\/K0Mb\/uwFXwD+hkjguy7VMZk2hpuhwPl9FUZwVBrURf\/i9QMJ5\/paPEZixu8VlRx7Inu4iun7rQfrnfeIYInmBwspXHYiTK3oHJAgZnrAHVEf1p6YaxLINlT1NI5yOAGPRWW6of8rBDBH1ObwU2+wcSx\/1H0uIs3aZNLufr+Rh628ACxAum2Gt8AVRj6ua2BPFyt5VTdclyysAmeh1AiixNgOZXOz6y\/i4TbzpY78I3isuKpxsUeXX6jxEMQol406jHDUF6njEOPIQG2zVZ3QJlTG9OlN+NiyZG9WkZz0VG\/6M8ixxIHHI2dNwUbBFv2HUu+8X9LTLFq2O7KjX9Hp7uZKBAySHA3eKaKHIp2bZuU1bT5PRPkggngX86xg+T+OMNnutbAiMnRJ8+FvD5So+5TIx4b9GgxAxure3x2yRPT9lOiQOB+CVpJPxR0Rn9bOI+wiPnD0kAGvK\/fHT+pqL4PM+hTnJtp9rrCRzIQApBx1263jEcYffhW2epZQRO+he5CMawFJ5TBe08om2AaDJ8GQdrpF6YA3W8DzHbmL3DPVVHdmqPLn10o+LX4gv5SdIIDVGdjKOc1BCnLTRmM28d5+sLDt\/M+kvcQgf0y0yDjMVjGECZkt39hbm4ELMHzZtzYLmHNhBZxRqHeJ7qFTuv1kx88OW3Xc5mbBNQ== centos@nutanix.com","key":"ssh-keys"}],"type":"","fingerprint":""},"type":"","account_uuid":"84213a31-4fe8-7e39-3799-e093e5d0dc2e","serviceAccounts":[{"scopes":[],"type":"","email":""}],"networkInterfaces":[{"aliasIpRanges":[],"network":"","accessConfigs":[{"config_type":"ONE_TO_ONE_NAT","type":"","name":"slave-default-acn","natIP":""}],"networkIP":"","subnetwork":"","type":""}]}},"variable_list":[],"description":""},{"name":"AzureMaster","action_list":[],"uuid":"e8c6c48b-bcf4-462b-86e0-20154a34e060","readiness_probe":{"connection_type":"SSH","retries":"5","disable_readiness_probe":false,"timeout_secs":"300","address":"@@{platform.publicIPAddressList[0]}@@","delay_secs":"0","connection_port":22,"login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"3ee7bf5d-2de9-4958-9b65-e30687c43f17"}},"editables":{"readiness_probe":{"connection_type":true,"delay_secs":true,"connection_port":true,"timeout_secs":null},"create_spec":{"resources":{"vm_name":true,"storage_profile":{"is_managed":true,"image_details":{"sku":true,"publisher":true,"version":true,"use_custom_image":true,"offer":true},"os_disk_details":{"storage_type":true,"create_option":true,"caching_type":true,"name":true}},"nw_profile":{"nic_list":{"0":{"nsg_name":true,"vnet_name":true,"private_ip_info":{"ip_allocation_method":true},"nic_name":true,"subnet_name":true,"public_ip_info":{"ip_name":true,"dns_label":true,"ip_allocation_method":true}}}},"resource_group":true,"os_profile":{"linux_config":{"custom_data":true}},"hw_profile":{"vm_size":true},"location":true,"availability_set_id":true,"tag_list":true}}},"os_type":"Linux","type":"AZURE_VM","create_spec":{"type":"PROVISION_AZURE_VM","name":"","resources":{"vm_name":"mysql-master-@@{calm_unique_hash}@@-@@{calm_array_index}@@","storage_profile":{"is_managed":true,"image_details":{"sku":"","publisher":"","offer":"","source_image_id":"","use_custom_image":false,"version":"","type":""},"type":"","os_disk_details":{"size_in_gb":127,"name":"os-@@{calm_unique_hash}@@-@@{calm_array_index}@@-disk","storage_name":"","storage_type":"Standard_LRS","lun":-1,"type":"","create_option":"FromImage","caching_type":"ReadWrite"},"data_disk_list":[]},"nw_profile":{"nic_list":[{"nsg_name":"","vnet_name":"","private_ip_info":{"ip_address":"","ip_allocation_method":"Dynamic","type":""},"nic_name":"nic-@@{calm_unique_hash}@@-@@{calm_array_index}@@-0","subnet_name":"","type":"","public_ip_info":{"ip_name":"public-ip-@@{calm_unique_hash}@@-@@{calm_array_index}@@-0","dns_label":"dns-@@{calm_unique_hash}@@-@@{calm_array_index}@@-0","ip_allocation_method":"Dynamic","type":""}}],"primary_nic":-1,"type":""},"resource_group":"","os_profile":{"secrets":[],"type":"","windows_config":{"winrm_listeners":[],"time_zone":"","additional_unattend_content":[],"provision_vm_agent":true,"auto_updates":false,"type":""},"linux_config":{"disable_password_auth":false,"custom_data":"","type":"","public_keys":[]}},"hw_profile":{"max_data_disk_count":0,"vm_size":"","type":""},"location":"","availability_set_id":"","tag_list":[],"type":"","account_uuid":"3c0f2d94-878c-f34c-6d39-90b854129782"}},"variable_list":[],"description":""},{"name":"AzureSlave","action_list":[],"uuid":"e5d45669-ba56-4079-9064-7e7fc91e3365","readiness_probe":{"connection_type":"SSH","retries":"5","disable_readiness_probe":false,"timeout_secs":"300","address":"@@{platform.publicIPAddressList[0]}@@","delay_secs":"0","connection_port":22,"login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"3ee7bf5d-2de9-4958-9b65-e30687c43f17"}},"editables":{"readiness_probe":{"connection_type":true,"delay_secs":true,"connection_port":true,"timeout_secs":null},"create_spec":{"resources":{"vm_name":true,"storage_profile":{"is_managed":true,"image_details":{"sku":true,"publisher":true,"version":true,"use_custom_image":true,"offer":true},"os_disk_details":{"storage_type":true,"create_option":true,"caching_type":true,"name":true}},"nw_profile":{"nic_list":{"0":{"nsg_name":true,"vnet_name":true,"private_ip_info":{"ip_allocation_method":true},"nic_name":true,"subnet_name":true,"public_ip_info":{"ip_name":true,"dns_label":true,"ip_allocation_method":true}}}},"resource_group":true,"os_profile":{"linux_config":{"custom_data":true}},"hw_profile":{"vm_size":true},"location":true,"availability_set_id":true,"tag_list":true}}},"os_type":"Linux","type":"AZURE_VM","create_spec":{"type":"PROVISION_AZURE_VM","name":"","resources":{"vm_name":"mysql-slave-@@{calm_unique_hash}@@-@@{calm_array_index}@@","storage_profile":{"is_managed":true,"image_details":{"sku":"","publisher":"","offer":"","source_image_id":"","use_custom_image":false,"version":"","type":""},"type":"","os_disk_details":{"size_in_gb":127,"name":"os-@@{calm_unique_hash}@@-@@{calm_array_index}@@-disk","storage_name":"","storage_type":"Standard_LRS","lun":-1,"type":"","create_option":"FromImage","caching_type":"ReadWrite"},"data_disk_list":[]},"nw_profile":{"nic_list":[{"nsg_name":"","vnet_name":"","private_ip_info":{"ip_address":"","ip_allocation_method":"Dynamic","type":""},"nic_name":"nic-@@{calm_unique_hash}@@-@@{calm_array_index}@@-0","subnet_name":"","type":"","public_ip_info":{"ip_name":"public-ip-@@{calm_unique_hash}@@-@@{calm_array_index}@@-0","dns_label":"dns-@@{calm_unique_hash}@@-@@{calm_array_index}@@-0","ip_allocation_method":"Dynamic","type":""}}],"primary_nic":-1,"type":""},"resource_group":"","os_profile":{"secrets":[],"type":"","windows_config":{"winrm_listeners":[],"time_zone":"","additional_unattend_content":[],"provision_vm_agent":true,"auto_updates":false,"type":""},"linux_config":{"disable_password_auth":false,"custom_data":"","type":"","public_keys":[]}},"hw_profile":{"max_data_disk_count":0,"vm_size":"","type":""},"location":"","availability_set_id":"","tag_list":[],"type":"","account_uuid":"3c0f2d94-878c-f34c-6d39-90b854129782"}},"variable_list":[],"description":""}],"credential_definition_list":[{"username":"centos","description":"","uuid":"3ee7bf5d-2de9-4958-9b65-e30687c43f17","secret":{"attrs":{"is_secret_modified":false,"secret_reference":{"uuid":"4515f644-be2d-436f-96de-bc6e1e816df8"}}},"editables":{"username":true,"secret":true},"type":"KEY","name":"CENTOS"}],"type":"USER","app_profile_list":[{"deployment_create_list":[{"name":"9098b02b_deployment","action_list":[],"package_local_reference_list":[{"kind":"app_package","name":"AHVMasterPackage","uuid":"81a41acc-b3b9-4f6c-a201-f4c0801ff657"}],"description":"","published_service_local_reference_list":[],"min_replicas":"1","depends_on_list":[],"max_replicas":"1","substrate_local_reference":{"kind":"app_substrate","name":"AHVMaster","uuid":"04eda07e-4a12-44ed-bf35-608dbe760e2b"},"type":"GREENFIELD","variable_list":[],"uuid":"39ccafae-6cd4-40c9-813a-4656786fad81"},{"name":"de329770_deployment","action_list":[],"package_local_reference_list":[{"kind":"app_package","name":"AHVSlavePackage","uuid":"7d73448d-ff3f-4216-9ebf-a58913350eea"}],"description":"","depends_on_list":[],"min_replicas":"1","max_replicas":"3","published_service_local_reference_list":[],"editables":{"min_replicas":true,"max_replicas":true},"substrate_local_reference":{"kind":"app_substrate","name":"AHVSlave","uuid":"64640b55-4f15-4de6-8c5b-cc0821f4ef8d"},"type":"GREENFIELD","variable_list":[],"uuid":"90a3122d-0ed2-46e1-b053-f4ea2be0e17b"}],"description":"","action_list":[{"description":"Take DB Backup. Specify absolute directory path for BACKUP_FILE_PATH","name":"Backup","critical":false,"runbook":{"task_definition_list":[{"retries":"0","description":"","uuid":"0da5b41a-59ca-4072-a326-a51b79f8f7a8","child_tasks_local_reference_list":[{"kind":"app_task","name":"DB Backup","uuid":"1e6286da-7410-4fd2-b882-f978cdc13310"}],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"3e7d744d_dag"},{"target_any_local_reference":{"kind":"app_service","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b","name":"MySQL_Master"},"retries":"0","description":"","uuid":"1e6286da-7410-4fd2-b882-f978cdc13310","child_tasks_local_reference_list":[],"attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n### Setup variables\nmysql_password=\"@@{MYSQL_PASSWORD}@@\"\ndate_part=`date +%F`\nmkdir -p @@{BACKUP_FILE_PATH}@@\nsudo mysqldump -u root -p${mysql_password} --all-databases | sudo gzip -9 > @@{BACKUP_FILE_PATH}@@\/db_dump.sql.gz","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"3ee7bf5d-2de9-4958-9b65-e30687c43f17"}},"timeout_secs":"0","type":"EXEC","variable_list":[],"name":"DB Backup"}],"description":"","uuid":"cdffd225-d979-4f97-bdf9-cc12090c0ca4","variable_list":[{"val_type":"STRING","description":"","uuid":"350ce961-3471-41ed-b15d-e2f1ecab933e","value":"~\/db_backup","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","name":"BACKUP_FILE_PATH"}],"main_task_local_reference":{"kind":"app_task","name":"3e7d744d_dag","uuid":"0da5b41a-59ca-4072-a326-a51b79f8f7a8"},"name":"c6cd4595_runbook"},"type":"user","uuid":"59cd6f68-9778-4ad2-8de2-a3f98813906c"},{"description":"To restore DB from dump file. Specify absolute directory path for RESTORE_FILE_PATH","name":"Restore","critical":false,"runbook":{"task_definition_list":[{"retries":"0","description":"","uuid":"45e9ca00-0e5c-4262-bf76-cfaa4d99fdbb","child_tasks_local_reference_list":[{"kind":"app_task","name":"DB Restore","uuid":"72cce3ed-5721-4386-8a78-43601558bea7"}],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"458965d2_dag"},{"target_any_local_reference":{"kind":"app_service","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b","name":"MySQL_Master"},"retries":"0","description":"","uuid":"72cce3ed-5721-4386-8a78-43601558bea7","child_tasks_local_reference_list":[],"attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n### Setup variables\nmysql_password=\"@@{MYSQL_PASSWORD}@@\"\ndb_file=@@{RESTORE_FILE_PATH}@@\n\nsudo gunzip < $db_file | sudo mysql -u root -p${mysql_password} ","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"3ee7bf5d-2de9-4958-9b65-e30687c43f17"}},"timeout_secs":"0","type":"EXEC","variable_list":[],"name":"DB Restore"}],"description":"","uuid":"521946fd-2b3e-42a8-b0b8-cf2e529c40c1","variable_list":[{"val_type":"STRING","description":"","uuid":"7b0d632b-a57f-444a-80ba-04a8c97cdd33","value":"~\/db_backup\/db_dump.sql.gz","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","name":"RESTORE_FILE_PATH"}],"main_task_local_reference":{"kind":"app_task","name":"458965d2_dag","uuid":"45e9ca00-0e5c-4262-bf76-cfaa4d99fdbb"},"name":"412d41ad_runbook"},"type":"user","uuid":"fe208f13-9b92-41b8-aaff-9fd9e0d4a903"},{"description":"","name":"ScaleOut","critical":false,"runbook":{"task_definition_list":[{"retries":"0","description":"","uuid":"2c8bcb8a-bbd8-469f-9663-57b05673ab5c","child_tasks_local_reference_list":[{"kind":"app_task","name":"Scale Out","uuid":"467dcbb8-fcd5-4464-8269-73697f524a2f"}],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"0d5ad4a7_dag"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","uuid":"90a3122d-0ed2-46e1-b053-f4ea2be0e17b","name":"de329770_deployment"},"retries":"0","description":"","uuid":"467dcbb8-fcd5-4464-8269-73697f524a2f","child_tasks_local_reference_list":[],"attrs":{"scaling_count":"@@{COUNT}@@","type":"","scaling_type":"SCALEOUT"},"timeout_secs":"0","type":"SCALING","variable_list":[],"name":"Scale Out"}],"description":"","uuid":"177fb049-9d93-4e69-bd1b-018336bd38f2","variable_list":[{"val_type":"STRING","description":"","uuid":"2d6cc6f6-0016-42ed-a694-3519d2f2038a","value":"1","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","name":"COUNT"}],"main_task_local_reference":{"kind":"app_task","name":"0d5ad4a7_dag","uuid":"2c8bcb8a-bbd8-469f-9663-57b05673ab5c"},"name":"45be859a_runbook"},"type":"user","uuid":"6fad1c44-ae3c-4e57-8d38-9e2c1630ec80"},{"description":"","name":"ScaleIn","critical":false,"runbook":{"task_definition_list":[{"retries":"0","description":"","uuid":"85e38df0-74fc-4f7c-a681-5b0e6c02ca3f","child_tasks_local_reference_list":[{"kind":"app_task","name":"Scale In","uuid":"ab7b961e-acaa-46cc-877a-7484bbb1c3a9"}],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"6baa6164_dag"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","uuid":"90a3122d-0ed2-46e1-b053-f4ea2be0e17b","name":"de329770_deployment"},"retries":"0","description":"","uuid":"ab7b961e-acaa-46cc-877a-7484bbb1c3a9","child_tasks_local_reference_list":[],"attrs":{"scaling_count":"@@{COUNT}@@","type":"","scaling_type":"SCALEIN"},"timeout_secs":"0","type":"SCALING","variable_list":[],"name":"Scale In"}],"description":"","uuid":"92ee062f-8bf3-472a-8f66-a70afa9889a4","variable_list":[{"val_type":"STRING","description":"","uuid":"93365c0d-b9f5-46e5-b6b1-bb5587a83593","value":"1","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","name":"COUNT"}],"main_task_local_reference":{"kind":"app_task","name":"6baa6164_dag","uuid":"85e38df0-74fc-4f7c-a681-5b0e6c02ca3f"},"name":"16496c32_runbook"},"type":"user","uuid":"9ffa3257-2a89-460a-8383-f7d1a67e4f3f"}],"name":"Nutanix","variable_list":[{"val_type":"STRING","description":"","uuid":"7ad86890-a7c7-4c6d-a1fd-6700dcd8a4ac","value":"ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDMGAS\/K0Mb\/uwFXwD+hkjguy7VMZk2hpuhwPl9FUZwVBrURf\/i9QMJ5\/paPEZixu8VlRx7Inu4iun7rQfrnfeIYInmBwspXHYiTK3oHJAgZnrAHVEf1p6YaxLINlT1NI5yOAGPRWW6of8rBDBH1ObwU2+wcSx\/1H0uIs3aZNLufr+Rh628ACxAum2Gt8AVRj6ua2BPFyt5VTdclyysAmeh1AiixNgOZXOz6y\/i4TbzpY78I3isuKpxsUeXX6jxEMQol406jHDUF6njEOPIQG2zVZ3QJlTG9OlN+NiyZG9WkZz0VG\/6M8ixxIHHI2dNwUbBFv2HUu+8X9LTLFq2O7KjX9Hp7uZKBAySHA3eKaKHIp2bZuU1bT5PRPkggngX86xg+T+OMNnutbAiMnRJ8+FvD5So+5TIx4b9GgxAxure3x2yRPT9lOiQOB+CVpJPxR0Rn9bOI+wiPnD0kAGvK\/fHT+pqL4PM+hTnJtp9rrCRzIQApBx1263jEcYffhW2epZQRO+he5CMawFJ5TBe08om2AaDJ8GQdrpF6YA3W8DzHbmL3DPVVHdmqPLn10o+LX4gv5SdIIDVGdjKOc1BCnLTRmM28d5+sLDt\/M+kvcQgf0y0yDjMVjGECZkt39hbm4ELMHzZtzYLmHNhBZxRqHeJ7qFTuv1kx88OW3Xc5mbBNQ== centos@nutanix.com","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","name":"INSTANCE_PUBLIC_KEY"},{"val_type":"STRING","description":"","uuid":"7a534576-16d6-4a13-bc76-06a976e7b9fb","label":"","attrs":{"is_secret_modified":false,"secret_reference":{"uuid":"68b23ffb-5def-41b0-9ce0-e81066cedfc4"}},"editables":{"value":true},"type":"SECRET","name":"MYSQL_PASSWORD"}],"uuid":"d8a52a1b-fae6-4fff-9b70-ca02b27dc095"},{"deployment_create_list":[{"name":"62ee1671_deployment","action_list":[],"package_local_reference_list":[{"kind":"app_package","name":"AWSMasterPackage","uuid":"a441a852-e8a5-4f5d-a929-fd0542ae5d8b"}],"description":"","published_service_local_reference_list":[],"min_replicas":"1","depends_on_list":[],"max_replicas":"1","substrate_local_reference":{"kind":"app_substrate","name":"AWSMaster","uuid":"cefa9a98-dcbd-4260-a7b6-12d47af4d968"},"type":"GREENFIELD","variable_list":[],"uuid":"6aed513b-461a-4a72-9a0a-c1458a3e7de9"},{"name":"a7e03ed8_deployment","action_list":[],"package_local_reference_list":[{"kind":"app_package","name":"AWSSlavePackage","uuid":"06bdea25-1ba3-4ded-9f1d-15f9be1e723e"}],"description":"","depends_on_list":[],"min_replicas":"1","max_replicas":"3","published_service_local_reference_list":[],"editables":{"min_replicas":true,"max_replicas":true},"substrate_local_reference":{"kind":"app_substrate","name":"AWSSlave","uuid":"dc4c740f-2c0d-43d8-b0ac-96221c03c081"},"type":"GREENFIELD","variable_list":[],"uuid":"a206929d-23c4-46c4-9717-c19257edd289"}],"description":"","action_list":[{"description":"Take DB Backup. Specify absolute directory path for BACKUP_FILE_PATH","name":"Backup","critical":false,"runbook":{"task_definition_list":[{"retries":"0","description":"","uuid":"faed6aba-2317-42e8-81a9-f36264f93b0e","child_tasks_local_reference_list":[{"kind":"app_task","name":"DB Backup","uuid":"e8b1989e-3afe-4c52-8898-d70350669712"}],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"80ef9728_dag"},{"target_any_local_reference":{"kind":"app_service","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b","name":"MySQL_Master"},"retries":"0","description":"","uuid":"e8b1989e-3afe-4c52-8898-d70350669712","child_tasks_local_reference_list":[],"attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n### Setup variables\nmysql_password=\"@@{MYSQL_PASSWORD}@@\"\ndate_part=`date +%F`\nmkdir -p @@{BACKUP_FILE_PATH}@@\nsudo mysqldump -u root -p${mysql_password} --all-databases | sudo gzip -9 > @@{BACKUP_FILE_PATH}@@\/db_dump.sql.gz","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"3ee7bf5d-2de9-4958-9b65-e30687c43f17"}},"timeout_secs":"0","type":"EXEC","variable_list":[],"name":"DB Backup"}],"description":"","uuid":"01650987-3a6a-4c9f-b00a-453aeb72edb7","variable_list":[{"val_type":"STRING","description":"","uuid":"9ab8dcc2-2b2f-4fba-98a5-4949d8ecf93f","value":"~\/db_backup","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","name":"BACKUP_FILE_PATH"}],"main_task_local_reference":{"kind":"app_task","name":"80ef9728_dag","uuid":"faed6aba-2317-42e8-81a9-f36264f93b0e"},"name":"11eaa560_runbook"},"type":"user","uuid":"6b257a1e-99a3-4a87-bf93-9e5b27662ade"},{"description":"To restore DB from dump file. Specify absolute directory path for RESTORE_FILE_PATH","name":"Restore","critical":false,"runbook":{"task_definition_list":[{"retries":"0","description":"","uuid":"0002f934-a7ee-4b46-80a5-eaef970e37bd","child_tasks_local_reference_list":[{"kind":"app_task","name":"DB Restore","uuid":"501d6147-f404-428b-819f-612f859964b5"}],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"6d512a54_dag"},{"target_any_local_reference":{"kind":"app_service","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b","name":"MySQL_Master"},"retries":"0","description":"","uuid":"501d6147-f404-428b-819f-612f859964b5","child_tasks_local_reference_list":[],"attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n### Setup variables\nmysql_password=\"@@{MYSQL_PASSWORD}@@\"\ndb_file=@@{RESTORE_FILE_PATH}@@\n\nsudo gunzip < $db_file | sudo mysql -u root -p${mysql_password} ","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"3ee7bf5d-2de9-4958-9b65-e30687c43f17"}},"timeout_secs":"0","type":"EXEC","variable_list":[],"name":"DB Restore"}],"description":"","uuid":"f080f57e-873f-48d8-9e11-a5684e2356ff","variable_list":[{"val_type":"STRING","description":"","uuid":"1ffa4d86-353e-4ae3-be0e-d5e44963ffef","value":"~\/db_backup\/db_dump.sql.gz","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","name":"RESTORE_FILE_PATH"}],"main_task_local_reference":{"kind":"app_task","name":"6d512a54_dag","uuid":"0002f934-a7ee-4b46-80a5-eaef970e37bd"},"name":"9651af2f_runbook"},"type":"user","uuid":"f3f9b693-d93b-46c4-aaba-4fbce482886b"},{"description":"","name":"ScaleOut","critical":false,"runbook":{"task_definition_list":[{"retries":"0","description":"","uuid":"e5a3ecbd-7c53-487f-8038-8d2540cd5005","child_tasks_local_reference_list":[{"kind":"app_task","name":"Scale Out","uuid":"7d41818f-2136-40c3-a78a-ba18b62ed69a"}],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"768e7ea3_dag"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","uuid":"a206929d-23c4-46c4-9717-c19257edd289","name":"a7e03ed8_deployment"},"retries":"0","description":"","uuid":"7d41818f-2136-40c3-a78a-ba18b62ed69a","child_tasks_local_reference_list":[],"attrs":{"scaling_count":"@@{COUNT}@@","type":"","scaling_type":"SCALEOUT"},"timeout_secs":"0","type":"SCALING","variable_list":[],"name":"Scale Out"}],"description":"","uuid":"a34d483b-fe69-42cf-832a-d69f6969b84e","variable_list":[{"val_type":"STRING","description":"","uuid":"5ee201b6-aafc-408c-8c57-c1ce1549cc67","value":"1","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","name":"COUNT"}],"main_task_local_reference":{"kind":"app_task","name":"768e7ea3_dag","uuid":"e5a3ecbd-7c53-487f-8038-8d2540cd5005"},"name":"b6420156_runbook"},"type":"user","uuid":"bde09c31-69fd-43d1-96d5-b6cf35acfcc7"},{"description":"","name":"ScaleIn","critical":false,"runbook":{"task_definition_list":[{"retries":"0","description":"","uuid":"a5a8f3bc-6824-4faf-841f-9ea883d93aff","child_tasks_local_reference_list":[{"kind":"app_task","name":"Scale In","uuid":"d6ff2e88-3ba2-4d32-bb57-1aa84fe0f23f"}],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"26dc3690_dag"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","uuid":"a206929d-23c4-46c4-9717-c19257edd289","name":"a7e03ed8_deployment"},"retries":"0","description":"","uuid":"d6ff2e88-3ba2-4d32-bb57-1aa84fe0f23f","child_tasks_local_reference_list":[],"attrs":{"scaling_count":"@@{COUNT}@@","type":"","scaling_type":"SCALEIN"},"timeout_secs":"0","type":"SCALING","variable_list":[],"name":"Scale In"}],"description":"","uuid":"a24502dd-3311-48b3-8fbd-87990430d063","variable_list":[{"val_type":"STRING","description":"","uuid":"9b323fd4-6d50-4bff-9a35-1d8f9493c3cc","value":"1","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","name":"COUNT"}],"main_task_local_reference":{"kind":"app_task","name":"26dc3690_dag","uuid":"a5a8f3bc-6824-4faf-841f-9ea883d93aff"},"name":"5271ed6b_runbook"},"type":"user","uuid":"01cc7d5d-f1d6-43f0-a9ed-d265d9c20bf7"}],"name":"AWS","variable_list":[{"val_type":"STRING","description":"","uuid":"aa71bb57-a1d3-4337-bf91-426866e30de0","label":"","attrs":{"is_secret_modified":false,"secret_reference":{"uuid":"5f02bd8b-ba38-4379-bd23-8242655c1a1a"}},"editables":{"value":true},"type":"SECRET","name":"MYSQL_PASSWORD"}],"uuid":"668d70fb-f5d0-4d4e-b598-e4c85b4fa9aa"},{"deployment_create_list":[{"name":"9b1d29e6_deployment","action_list":[],"package_local_reference_list":[{"kind":"app_package","name":"GCPMasterPackage","uuid":"1201401a-4303-4417-8bee-ece1018bc5fa"}],"description":"","published_service_local_reference_list":[],"min_replicas":"1","depends_on_list":[],"max_replicas":"1","substrate_local_reference":{"kind":"app_substrate","name":"GCPMaster","uuid":"e094d48b-d166-4e1f-9e53-217b1788fe12"},"type":"GREENFIELD","variable_list":[],"uuid":"540ad9dd-65ea-4adb-9276-faa30f93bce6"},{"name":"54ee850e_deployment","action_list":[],"package_local_reference_list":[{"kind":"app_package","name":"GCPSlavePackage","uuid":"ed6bf66b-ff88-4209-8ac6-fd62178fea4d"}],"description":"","depends_on_list":[],"min_replicas":"1","max_replicas":"3","published_service_local_reference_list":[],"editables":{"min_replicas":true,"max_replicas":true},"substrate_local_reference":{"kind":"app_substrate","name":"GCPSlave","uuid":"824702a6-ed10-4d8b-8046-50ccea53a3c1"},"type":"GREENFIELD","variable_list":[],"uuid":"4a15c0e5-22af-4f4d-8b7f-278edc0e41d1"}],"description":"","action_list":[{"description":"","name":"Backup","critical":false,"runbook":{"task_definition_list":[{"retries":"0","description":"","uuid":"0abe83fb-da73-4f53-826b-4c91b68da65b","child_tasks_local_reference_list":[{"kind":"app_task","name":"DB Backup","uuid":"b07d7673-66f7-4022-8f33-bfe5a6077dd2"}],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"c8c571b2_dag"},{"target_any_local_reference":{"kind":"app_service","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b","name":"MySQL_Master"},"retries":"0","description":"","uuid":"b07d7673-66f7-4022-8f33-bfe5a6077dd2","child_tasks_local_reference_list":[],"attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\n\n### Setup variables\nmysql_password=\"@@{MYSQL_PASSWORD}@@\"\ndate_part=`date +%F`\nmkdir -p @@{BACKUP_FILE_PATH}@@\nsudo mysqldump -u root -p${mysql_password} --all-databases | sudo gzip -9 > @@{BACKUP_FILE_PATH}@@\/db_dump.sql.gz"},"timeout_secs":"0","type":"EXEC","variable_list":[],"name":"DB Backup"}],"description":"","uuid":"5a600a12-d3d9-4c1f-bf6a-f4416fc1111a","variable_list":[{"val_type":"STRING","description":"","uuid":"49f520d4-6730-4688-afd8-9084f056f8d8","value":"~\/db_backup","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","name":"BACKUP_FILE_PATH"}],"main_task_local_reference":{"kind":"app_task","name":"c8c571b2_dag","uuid":"0abe83fb-da73-4f53-826b-4c91b68da65b"},"name":"cf21cddc_runbook"},"type":"user","uuid":"ad9e8112-c703-4b14-af36-c2ce9aaf8fc7"},{"description":"","name":"Restore","critical":false,"runbook":{"task_definition_list":[{"retries":"0","description":"","uuid":"074bb8e3-489b-49b2-b178-0fd440f6ccc2","child_tasks_local_reference_list":[{"kind":"app_task","name":"DB Restore","uuid":"2952ccfc-f057-4634-a4cf-f4181dacd89a"}],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"eff38554_dag"},{"target_any_local_reference":{"kind":"app_service","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b","name":"MySQL_Master"},"retries":"0","description":"","uuid":"2952ccfc-f057-4634-a4cf-f4181dacd89a","child_tasks_local_reference_list":[],"attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\n\n### Setup variables\nmysql_password=\"@@{MYSQL_PASSWORD}@@\"\ndb_file=@@{RESTORE_FILE_PATH}@@\n\nsudo gunzip < $db_file | sudo mysql -u root -p${mysql_password} "},"timeout_secs":"0","type":"EXEC","variable_list":[],"name":"DB Restore"}],"description":"","uuid":"3f103deb-478f-44fe-bb89-abf777742f25","variable_list":[{"val_type":"STRING","description":"","uuid":"2864e2da-b3b3-49ee-994a-b8806a7a7d72","value":"~\/db_backup\/db_dump.sql.gz","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","name":"RESTORE_FILE_PATH"}],"main_task_local_reference":{"kind":"app_task","name":"eff38554_dag","uuid":"074bb8e3-489b-49b2-b178-0fd440f6ccc2"},"name":"5911aa86_runbook"},"type":"user","uuid":"5c4e2548-a109-4cc3-b95b-bf2227474c18"},{"description":"","name":"ScaleOut","critical":false,"runbook":{"task_definition_list":[{"retries":"0","description":"","uuid":"e66dd82b-4e21-4ff7-83b2-c7d6ca3a7c88","child_tasks_local_reference_list":[{"kind":"app_task","name":"Scale Out","uuid":"af750f6b-0c0c-4788-b171-86d2a48a5e25"}],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"18ab1dc5_dag"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","uuid":"4a15c0e5-22af-4f4d-8b7f-278edc0e41d1","name":"54ee850e_deployment"},"retries":"0","description":"","uuid":"af750f6b-0c0c-4788-b171-86d2a48a5e25","child_tasks_local_reference_list":[],"attrs":{"scaling_count":"@@{COUNT}@@","type":"","scaling_type":"SCALEOUT"},"timeout_secs":"0","type":"SCALING","variable_list":[],"name":"Scale Out"}],"description":"","uuid":"e76e3469-c9e3-46dd-bb43-7e0b521d28f6","variable_list":[{"val_type":"STRING","description":"","uuid":"24739668-c516-47d1-a48b-9a06fa4b2258","value":"1","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","name":"COUNT"}],"main_task_local_reference":{"kind":"app_task","name":"18ab1dc5_dag","uuid":"e66dd82b-4e21-4ff7-83b2-c7d6ca3a7c88"},"name":"0efec22d_runbook"},"type":"user","uuid":"0da96b36-f57e-4f95-83c3-3fae50fd31cb"},{"description":"","name":"ScaleIn","critical":false,"runbook":{"task_definition_list":[{"retries":"0","description":"","uuid":"77539200-2181-41f4-a717-c8096e268e90","child_tasks_local_reference_list":[{"kind":"app_task","name":"Scale In","uuid":"8ea3757f-fa75-46bb-86c2-4094f36b57fd"}],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"d25c81bb_dag"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","uuid":"4a15c0e5-22af-4f4d-8b7f-278edc0e41d1","name":"54ee850e_deployment"},"retries":"0","description":"","uuid":"8ea3757f-fa75-46bb-86c2-4094f36b57fd","child_tasks_local_reference_list":[],"attrs":{"scaling_count":"@@{COUNT}@@","type":"","scaling_type":"SCALEIN"},"timeout_secs":"0","type":"SCALING","variable_list":[],"name":"Scale In"}],"description":"","uuid":"8a02611c-aa9f-4add-8327-265b7d13476b","variable_list":[{"val_type":"STRING","description":"","uuid":"0fcb9037-0eaa-4ebd-bb83-ad24dbfb4853","value":"1","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","name":"COUNT"}],"main_task_local_reference":{"kind":"app_task","name":"d25c81bb_dag","uuid":"77539200-2181-41f4-a717-c8096e268e90"},"name":"eb302554_runbook"},"type":"user","uuid":"7520331a-d597-4f0a-b185-0b5aa6f47178"}],"name":"GCP","variable_list":[{"val_type":"STRING","description":"","uuid":"d3439246-c764-4e96-93f6-5ed7ebea3619","label":"","attrs":{"is_secret_modified":false,"secret_reference":{"uuid":"721c5ee0-ac17-4c24-8645-b0291e8242cd"}},"editables":{"value":true},"type":"SECRET","name":"MYSQL_PASSWORD"}],"uuid":"d4c8ef6b-d79b-4a39-8af1-b2f519a57c75"},{"deployment_create_list":[{"name":"c56e12c0_deployment","action_list":[],"package_local_reference_list":[{"kind":"app_package","name":"AzureMasterPackage","uuid":"db2def6e-1144-4d42-ba62-50adf9dc8da0"}],"description":"","published_service_local_reference_list":[],"min_replicas":"1","depends_on_list":[],"max_replicas":"1","substrate_local_reference":{"kind":"app_substrate","name":"AzureMaster","uuid":"e8c6c48b-bcf4-462b-86e0-20154a34e060"},"type":"GREENFIELD","variable_list":[],"uuid":"33816960-d3af-41d3-a631-752fa678e2c7"},{"name":"797414cb_deployment","action_list":[],"package_local_reference_list":[{"kind":"app_package","name":"AzureSlavePackage","uuid":"1f8977ca-1cbd-4b0d-855e-cb9d66009669"}],"description":"","depends_on_list":[],"min_replicas":"1","max_replicas":"3","published_service_local_reference_list":[],"editables":{"min_replicas":true,"max_replicas":true},"substrate_local_reference":{"kind":"app_substrate","name":"AzureSlave","uuid":"e5d45669-ba56-4079-9064-7e7fc91e3365"},"type":"GREENFIELD","variable_list":[],"uuid":"76a24a99-6f80-4ccd-9572-bd287e82a66a"}],"description":"","action_list":[{"description":"","name":"Backup","critical":false,"runbook":{"task_definition_list":[{"retries":"0","description":"","uuid":"b83eb07e-60fa-4760-8e7d-251efa2bcd0a","child_tasks_local_reference_list":[{"kind":"app_task","name":"DB Backup","uuid":"b0af933a-f95e-4478-ab5f-872a840f942d"}],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"966ad697_dag"},{"target_any_local_reference":{"kind":"app_service","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b","name":"MySQL_Master"},"retries":"0","description":"","uuid":"b0af933a-f95e-4478-ab5f-872a840f942d","child_tasks_local_reference_list":[],"attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\n\n### Setup variables\nmysql_password=\"@@{MYSQL_PASSWORD}@@\"\ndate_part=`date +%F`\nmkdir -p @@{BACKUP_FILE_PATH}@@\nsudo mysqldump -u root -p${mysql_password} --all-databases | sudo gzip -9 > @@{BACKUP_FILE_PATH}@@\/db_dump.sql.gz"},"timeout_secs":"0","type":"EXEC","variable_list":[],"name":"DB Backup"}],"description":"","uuid":"b852d0f4-855e-4e22-a1af-018fb131a329","variable_list":[{"val_type":"STRING","description":"","uuid":"71922899-5910-41ad-aa3b-c1436ef1091e","value":"~\/db_backup","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","name":"BACKUP_FILE_PATH"}],"main_task_local_reference":{"kind":"app_task","name":"966ad697_dag","uuid":"b83eb07e-60fa-4760-8e7d-251efa2bcd0a"},"name":"f1e44022_runbook"},"type":"user","uuid":"72aaed42-f260-4209-85b4-04376d6a63d7"},{"description":"","name":"Restore","critical":false,"runbook":{"task_definition_list":[{"retries":"0","description":"","uuid":"9e3c79b3-b27c-401b-ad71-b2443d8aa2de","child_tasks_local_reference_list":[{"kind":"app_task","name":"DB Restore","uuid":"49d4bbc0-8f35-4b1f-b1bf-55ee668a984b"}],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"5ed684d9_dag"},{"target_any_local_reference":{"kind":"app_service","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b","name":"MySQL_Master"},"retries":"0","description":"","uuid":"49d4bbc0-8f35-4b1f-b1bf-55ee668a984b","child_tasks_local_reference_list":[],"attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\n\n### Setup variables\nmysql_password=\"@@{MYSQL_PASSWORD}@@\"\ndb_file=@@{RESTORE_FILE_PATH}@@\n\nsudo gunzip < $db_file | sudo mysql -u root -p${mysql_password} "},"timeout_secs":"0","type":"EXEC","variable_list":[],"name":"DB Restore"}],"description":"","uuid":"2804879a-984d-4c21-9bf2-7ae92f18a888","variable_list":[{"val_type":"STRING","description":"","uuid":"ff7e3f3c-4c49-4f90-a780-fc44824216f6","value":"~\/db_backup\/db_dump.sql.gz","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","name":"RESTORE_FILE_PATH"}],"main_task_local_reference":{"kind":"app_task","name":"5ed684d9_dag","uuid":"9e3c79b3-b27c-401b-ad71-b2443d8aa2de"},"name":"70027c7e_runbook"},"type":"user","uuid":"ef327331-a1dd-4c57-8a50-d95935424da5"},{"description":"","name":"ScaleOut","critical":false,"runbook":{"task_definition_list":[{"retries":"0","description":"","uuid":"c86d610a-e079-4062-81bd-af3f55c9addf","child_tasks_local_reference_list":[{"kind":"app_task","name":"ScaleOut","uuid":"e8930e6d-6c6b-4ea5-832d-2815a22be95e"}],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"68006bbc_dag"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","uuid":"76a24a99-6f80-4ccd-9572-bd287e82a66a","name":"797414cb_deployment"},"retries":"0","description":"","uuid":"e8930e6d-6c6b-4ea5-832d-2815a22be95e","child_tasks_local_reference_list":[],"attrs":{"scaling_count":"@@{COUNT}@@","type":"","scaling_type":"SCALEOUT"},"timeout_secs":"0","type":"SCALING","variable_list":[],"name":"ScaleOut"}],"description":"","uuid":"fcfbbeda-ed2e-44fe-afd9-6d26fc9ccc1c","variable_list":[{"val_type":"STRING","description":"","uuid":"f14ec596-f470-4355-b975-1dfc0ecc64c2","value":"1","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","name":"COUNT"}],"main_task_local_reference":{"kind":"app_task","name":"68006bbc_dag","uuid":"c86d610a-e079-4062-81bd-af3f55c9addf"},"name":"7b41b938_runbook"},"type":"user","uuid":"522dd682-0a80-42de-8712-5b432f951c3b"},{"description":"","name":"ScaleIn","critical":false,"runbook":{"task_definition_list":[{"retries":"0","description":"","uuid":"f01d3722-d0d8-4bb5-95b3-473b77a1e4c3","child_tasks_local_reference_list":[{"kind":"app_task","name":"Scale In","uuid":"1d6113d6-fc7f-4937-8773-dabba8330ed4"}],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"b337ca9d_dag"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","uuid":"76a24a99-6f80-4ccd-9572-bd287e82a66a","name":"797414cb_deployment"},"retries":"0","description":"","uuid":"1d6113d6-fc7f-4937-8773-dabba8330ed4","child_tasks_local_reference_list":[],"attrs":{"scaling_count":"@@{COUNT}@@","type":"","scaling_type":"SCALEIN"},"timeout_secs":"0","type":"SCALING","variable_list":[],"name":"Scale In"}],"description":"","uuid":"567ec61a-22d0-4d05-8082-9941e43ec303","variable_list":[{"val_type":"STRING","description":"","uuid":"c17b92c4-d92b-4f93-be71-ebc3d2a165aa","value":"1","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","name":"COUNT"}],"main_task_local_reference":{"kind":"app_task","name":"b337ca9d_dag","uuid":"f01d3722-d0d8-4bb5-95b3-473b77a1e4c3"},"name":"c0c7671a_runbook"},"type":"user","uuid":"9d02bea1-7428-4f5c-8948-962e4daa0391"}],"name":"Azure","variable_list":[{"val_type":"STRING","description":"","uuid":"fbd0fae5-42a7-40da-a89b-7c29d0c63f72","label":"","attrs":{"is_secret_modified":false,"secret_reference":{"uuid":"68941d4c-47d1-4df1-a49f-31884a444c95"}},"editables":{"value":true},"type":"SECRET","name":"MYSQL_PASSWORD"}],"uuid":"d4a51fdc-3a79-492f-b12b-19bad0116251"}],"published_service_definition_list":[],"default_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"3ee7bf5d-2de9-4958-9b65-e30687c43f17"},"package_definition_list":[{"uuid":"81a41acc-b3b9-4f6c-a201-f4c0801ff657","action_list":[],"service_local_reference_list":[{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"}],"name":"AHVMasterPackage","version":"","type":"DEB","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVMasterPackage","uuid":"81a41acc-b3b9-4f6c-a201-f4c0801ff657"},"retries":"0","name":"9cbec184_dag","type":"DAG","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"Install System Packages","uuid":"8192efef-01c0-40c9-98f4-770c06bacfca"},{"kind":"app_task","name":"Create Disk Setup","uuid":"65967983-1067-42ff-84c2-8f464f1ee491"},{"kind":"app_task","name":"Install MySQL","uuid":"62ac7e71-c925-47f4-abda-10e288f7d730"},{"kind":"app_task","name":"Setup MySQL","uuid":"70ee3aeb-4b66-4895-ad88-9e4c14b4a150"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Install System Packages","uuid":"8192efef-01c0-40c9-98f4-770c06bacfca"},"edge_type":"user_defined","type":"","uuid":"a64fc6f6-4048-47ea-8f65-1a96fcac1344","to_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"65967983-1067-42ff-84c2-8f464f1ee491"}},{"from_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"65967983-1067-42ff-84c2-8f464f1ee491"},"edge_type":"user_defined","type":"","uuid":"49fe8511-7e7c-42cd-a796-27f79c83d0dd","to_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"62ac7e71-c925-47f4-abda-10e288f7d730"}},{"from_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"62ac7e71-c925-47f4-abda-10e288f7d730"},"edge_type":"user_defined","type":"","uuid":"242eb95c-7f3e-4f61-8b5c-b9029a7f9000","to_task_reference":{"kind":"app_task","name":"Setup MySQL","uuid":"70ee3aeb-4b66-4895-ad88-9e4c14b4a150"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"3197b99c-326c-43ff-8190-11a3f68ab674"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","name":"Install System Packages","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n# -*- Install Mysql\nsudo yum update -y --quiet\nsudo yum install -y  wget xfs* bc unzip lvm2* lsscsi\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"System packages are installed\"","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"3ee7bf5d-2de9-4958-9b65-e30687c43f17"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"8192efef-01c0-40c9-98f4-770c06bacfca"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","name":"Create Disk Setup","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n##############\n#\n# LVM setup script for MySQL . 4 disks for DATA and 4 for logs\n# Data disks are 50GB | Log disks are 25GB \n#\n#############\n\n\n#PGSQL data\nsudo pvcreate \/dev\/sdb \/dev\/sdc \/dev\/sdd \/dev\/sde\nsudo vgcreate mysqlDataVG \/dev\/sdb \/dev\/sdd \/dev\/sdc \/dev\/sde\nsudo lvcreate -l 100%FREE -i4 -I1M -n mysqlDataLV mysqlDataVG          ## Use 1MB to avoid IO amplification \n#lvcreate -l 100%FREE -i4 -I4M -n pgDataLV pgDataVG\n\n\n#PGSQL logs\nsudo pvcreate \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo vgcreate mysqlLogVG \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo lvcreate -l 100%FREE -i2 -I1M -n mysqlLogLV mysqlLogVG            ## Use 1MB to avoid IO amplification\n#lvcreate -l 100%FREE -i2 -I4M -n pgLogLV pgLogVG\n\n\n#Disable LVM read ahead\nsudo lvchange -r 0 \/dev\/mysqlDataVG\/mysqlDataLV\nsudo lvchange -r 0 \/dev\/mysqlLogVG\/mysqlLogLV\n\n\n#Format LVMs with ext4 and use nodiscard to make sure format time is fast on Nutanix due to SCSI unmap\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlDataVG\/mysqlDataLV\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlLogVG\/mysqlLogLV\n\nsleep 10\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"3ee7bf5d-2de9-4958-9b65-e30687c43f17"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"65967983-1067-42ff-84c2-8f464f1ee491"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","name":"Install MySQL","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nsudo hostnamectl set-hostname \"@@{name}@@\"\n\n# -*- Mysql installation \nsudo yum install -y --quiet \"http:\/\/repo.mysql.com\/mysql80-community-release-el7.rpm\"\nsudo yum update -y --quiet\nsudo yum install -y --quiet sshpass mysql-community-server.x86_64\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"3ee7bf5d-2de9-4958-9b65-e30687c43f17"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"62ac7e71-c925-47f4-abda-10e288f7d730"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","name":"Setup MySQL","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\necho \"!includedir \/etc\/my.cnf.d\" | sudo tee -a \/etc\/my.cnf\n\necho \"[mysqld]\nbinlog-format=mixed\nlog-bin=mysql-bin\ndatadir=\/mysql\/data\nsql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES\ninnodb_data_home_dir = \/mysql\/data\ninnodb_log_group_home_dir = \/mysql\/log\ninnodb_file_per_table\ntmpdir=\/mysql\/tmpdir\ninnodb_undo_directory = \/mysql\/undo\ndefault-storage-engine = innodb\ndefault_tmp_storage_engine = innodb\ninnodb_log_files_in_group = 4\ninnodb_log_file_size = 1G\ninnodb_log_buffer_size = 8M\ninnodb_buffer_pool_size = 6G\t\nlarge-pages\t\ninnodb_buffer_pool_instances = 64\t\ninnodb_flush_method=O_DIRECT\t\ninnodb_flush_neighbors=0\t \ninnodb_flush_log_at_trx_commit=1\ninnodb_buffer_pool_dump_at_shutdown=1\t\ninnodb_buffer_pool_load_at_startup=1\t\nbulk_insert_buffer_size = 256\t\ninnodb_thread_concurrency = 16\t\n \t \n# Undo tablespace\t \ninnodb_undo_tablespaces = 5\t\n \t \n# Networking\t \nwait_timeout=57600\t \nmax_allowed_packet=1G\t\nsocket=\/var\/lib\/mysql\/mysql.sock\t \nskip-name-resolve\nport=3306\t\nmax_connections=1000\t\n\n\n[mysqld_safe]\nlog-error=\/mysql\/log\/mysqld.log\npid-file=\/var\/run\/mysqld\/mysqld.pid\" | sudo tee \/etc\/my.cnf.d\/nutanix.cnf\n\nsudo sed -i \"\/\\[mysqld\\]\/a server-id=100\" \/etc\/my.cnf.d\/nutanix.cnf\necho \"#master=100\" | sudo tee -a  \/etc\/my.cnf.d\/nutanix.cnf\n\nserver_id=`sudo cat \/etc\/my.cnf.d\/nutanix.cnf | grep  \"server-id=\" | cut -d= -f2`\nis_master=`sudo cat \/etc\/my.cnf.d\/nutanix.cnf | grep -q -w \"#master=$server_id\"; echo $?`\n\nif [ ${is_master} -ne 0 ]\nthen\n   sudo sed -i '\/\\[mysqld\\]\/a read_only=1' \/etc\/my.cnf.d\/nutanix.cnf\nfi\n\n# -*- Sysctl configuration\nmysql_grp_id=`id -g mysql`\nsudo sysctl -w vm.swappiness=0\nsudo sysctl -w vm.nr_hugepages=1024\nsudo sysctl -w vm.overcommit_memory=1\nsudo sysctl -w vm.dirty_background_ratio=5 \nsudo sysctl -w vm.dirty_ratio=15\nsudo sysctl -w vm.dirty_expire_centisecs=500\nsudo sysctl -w vm.dirty_writeback_centisecs=100\nsudo sysctl -w vm.hugetlb_shm_group=$mysql_grp_id\n\necho \"vm.swappiness=0\nvm.nr_hugepages=1024\nvm.overcommit_memory=1\nvm.dirty_background_ratio=5 \nvm.dirty_ratio=15\nvm.dirty_expire_centisecs=500\nvm.dirty_writeback_centisecs=100\nvm.hugetlb_shm_group=$mysql_grp_id\" | sudo tee  -a \/etc\/sysctl.conf\n\necho \"ACTION=='add|change', SUBSYSTEM=='block', RUN+='\/bin\/sh -c \\\"\/bin\/echo 1024 > \/sys%p\/queue\/max_sectors_kb\\\"'\" | sudo tee \/etc\/udev\/rules.d\/71-block-max-sectors.rules\n\necho \"\/dev\/mysqlDataVG\/mysqlDataLV \/mysql\/data ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\necho \"\/dev\/mysqlLogVG\/mysqlLogLV \/mysql\/log ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\nsudo mkdir -p \/mysql\/log \/mysql\/data \/mysql\/tmpdir \/mysql\/undo\nsudo mount -a\nsudo chown -R mysql:mysql \/mysql\n\nsudo systemctl enable mysqld\n\nsudo rm -rf \/mysql\/data\/*\nsudo systemctl start mysqld\n\n#Fix to obtain temp password and set it to blank\npassword=$(grep -oP 'temporary password(.*): \\K(\\S+)' \/var\/log\/mysqld.log)\nsudo mysqladmin --user=root --password=\"$password\" password aaBB**cc1122\nsudo mysql --user=root --password=aaBB**cc1122 -e \"UNINSTALL COMPONENT 'file:\/\/component_validate_password'\"\nsudo mysqladmin --user=root --password=\"aaBB**cc1122\" password \"\"\n\n\n#Mysql secure installation\nsudo mysql -u root<<-EOF\nALTER USER 'root'@'localhost' IDENTIFIED WITH caching_sha2_password BY '@@{MYSQL_PASSWORD}@@';\nDELETE FROM mysql.user WHERE User='root' AND Host NOT IN ('localhost', '127.0.0.1', '::1');\nDELETE FROM mysql.user WHERE User='';\nDELETE FROM mysql.db WHERE Db='test' OR Db='test\\_%';\nFLUSH PRIVILEGES;\nEOF\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"3ee7bf5d-2de9-4958-9b65-e30687c43f17"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"70ee3aeb-4b66-4895-ad88-9e4c14b4a150"}],"name":"ee9a3de0_runbook","description":"","state":"ACTIVE","variable_list":[],"message_list":[],"main_task_local_reference":{"kind":"app_task","name":"9cbec184_dag","uuid":"3197b99c-326c-43ff-8190-11a3f68ab674"},"uuid":"3a983271-a01d-474c-b6fc-c43eba420090"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVMasterPackage","uuid":"81a41acc-b3b9-4f6c-a201-f4c0801ff657"},"retries":"0","name":"7e474eb1_dag","type":"DAG","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"PackageUninstallTask","uuid":"879e50c4-1339-48dc-a9ad-9e64e766e836"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"3ea8aed3-7fe5-488d-a8a6-4b1a988c0eb7"},{"target_any_local_reference":{"kind":"app_package","name":"AHVMasterPackage","uuid":"81a41acc-b3b9-4f6c-a201-f4c0801ff657"},"retries":"0","name":"PackageUninstallTask","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"3ee7bf5d-2de9-4958-9b65-e30687c43f17"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"879e50c4-1339-48dc-a9ad-9e64e766e836"}],"name":"4235ede6_runbook","description":"","state":"ACTIVE","variable_list":[],"message_list":[],"main_task_local_reference":{"kind":"app_task","name":"7e474eb1_dag","uuid":"3ea8aed3-7fe5-488d-a8a6-4b1a988c0eb7"},"uuid":"50febfe6-c574-40db-a274-0093d67ec278"}},"variable_list":[],"description":""},{"uuid":"7d73448d-ff3f-4216-9ebf-a58913350eea","action_list":[],"service_local_reference_list":[{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"}],"name":"AHVSlavePackage","version":"","type":"DEB","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVSlavePackage","uuid":"7d73448d-ff3f-4216-9ebf-a58913350eea"},"retries":"0","name":"35a5e492_dag","type":"DAG","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"Install System Packages","uuid":"265350cd-3765-4f65-945b-a36234d71269"},{"kind":"app_task","name":"Create Disk Setup","uuid":"4d2f7820-20a6-4ded-8b11-216650411be2"},{"kind":"app_task","name":"Install MySQL","uuid":"cf45efd7-3b8f-44a5-ad53-441d0c1011aa"},{"kind":"app_task","name":"Setup MySQL","uuid":"1e16624f-a295-4428-bab1-be9406de3ee5"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Install System Packages","uuid":"265350cd-3765-4f65-945b-a36234d71269"},"edge_type":"user_defined","type":"","uuid":"7b973836-8661-42ac-b7de-ec7deaacb853","to_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"4d2f7820-20a6-4ded-8b11-216650411be2"}},{"from_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"4d2f7820-20a6-4ded-8b11-216650411be2"},"edge_type":"user_defined","type":"","uuid":"963252bc-35e0-4085-95d6-760023e7e8f3","to_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"cf45efd7-3b8f-44a5-ad53-441d0c1011aa"}},{"from_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"cf45efd7-3b8f-44a5-ad53-441d0c1011aa"},"edge_type":"user_defined","type":"","uuid":"dee91112-3631-4de9-a8ea-7d66cff9fd97","to_task_reference":{"kind":"app_task","name":"Setup MySQL","uuid":"1e16624f-a295-4428-bab1-be9406de3ee5"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"9bdbf2d4-42ed-4ae5-9c2a-53b6616cd6f7"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","name":"Install System Packages","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n# -*- Install Mysql\nsudo yum update -y --quiet\nsudo yum install -y  wget xfs* bc unzip lvm2* lsscsi\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"System packages are installed\"","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"3ee7bf5d-2de9-4958-9b65-e30687c43f17"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"265350cd-3765-4f65-945b-a36234d71269"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","name":"Create Disk Setup","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n##############\n#\n# LVM setup script for MySQL . 4 disks for DATA and 4 for logs\n# Data disks are 50GB | Log disks are 25GB \n#\n#############\n\n\n#PGSQL data\nsudo pvcreate \/dev\/sdb \/dev\/sdc \/dev\/sdd \/dev\/sde\nsudo vgcreate mysqlDataVG \/dev\/sdb \/dev\/sdd \/dev\/sdc \/dev\/sde\nsudo lvcreate -l 100%FREE -i4 -I1M -n mysqlDataLV mysqlDataVG          ## Use 1MB to avoid IO amplification \n#lvcreate -l 100%FREE -i4 -I4M -n pgDataLV pgDataVG\n\n\n#PGSQL logs\nsudo pvcreate \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo vgcreate mysqlLogVG \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo lvcreate -l 100%FREE -i2 -I1M -n mysqlLogLV mysqlLogVG            ## Use 1MB to avoid IO amplification\n#lvcreate -l 100%FREE -i2 -I4M -n pgLogLV pgLogVG\n\n\n#Disable LVM read ahead\nsudo lvchange -r 0 \/dev\/mysqlDataVG\/mysqlDataLV\nsudo lvchange -r 0 \/dev\/mysqlLogVG\/mysqlLogLV\n\n\n#Format LVMs with ext4 and use nodiscard to make sure format time is fast on Nutanix due to SCSI unmap\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlDataVG\/mysqlDataLV\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlLogVG\/mysqlLogLV\n\nsleep 10\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"3ee7bf5d-2de9-4958-9b65-e30687c43f17"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"4d2f7820-20a6-4ded-8b11-216650411be2"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","name":"Install MySQL","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nsudo hostnamectl set-hostname \"@@{name}@@\"\n\n# -*- Mysql installation \nsudo yum install -y --quiet \"http:\/\/repo.mysql.com\/mysql80-community-release-el7.rpm\"\nsudo yum update -y --quiet\nsudo yum install -y --quiet sshpass mysql-community-server.x86_64\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"3ee7bf5d-2de9-4958-9b65-e30687c43f17"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"cf45efd7-3b8f-44a5-ad53-441d0c1011aa"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","name":"Setup MySQL","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\necho \"!includedir \/etc\/my.cnf.d\" | sudo tee -a \/etc\/my.cnf\n\necho \"[mysqld]\nbinlog-format=mixed\nlog-bin=mysql-bin\ndatadir=\/mysql\/data\nsql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES\ninnodb_data_home_dir = \/mysql\/data\ninnodb_log_group_home_dir = \/mysql\/log\ninnodb_file_per_table\ntmpdir=\/mysql\/tmpdir\ninnodb_undo_directory = \/mysql\/undo\ndefault-storage-engine = innodb\ndefault_tmp_storage_engine = innodb\ninnodb_log_files_in_group = 4\ninnodb_log_file_size = 1G\ninnodb_log_buffer_size = 8M\ninnodb_buffer_pool_size = 6G\t\nlarge-pages\t\ninnodb_buffer_pool_instances = 64\t\ninnodb_flush_method=O_DIRECT\t\ninnodb_flush_neighbors=0\t \ninnodb_flush_log_at_trx_commit=1\ninnodb_buffer_pool_dump_at_shutdown=1\t\ninnodb_buffer_pool_load_at_startup=1\t\nbulk_insert_buffer_size = 256\t\ninnodb_thread_concurrency = 16\t\n \t \n# Undo tablespace\t \ninnodb_undo_tablespaces = 5\t\n \t \n# Networking\t \nwait_timeout=57600\t \nmax_allowed_packet=1G\t\nsocket=\/var\/lib\/mysql\/mysql.sock\t \nskip-name-resolve\nport=3306\t\nmax_connections=1000\t\n\n\n[mysqld_safe]\nlog-error=\/mysql\/log\/mysqld.log\npid-file=\/var\/run\/mysqld\/mysqld.pid\" | sudo tee \/etc\/my.cnf.d\/nutanix.cnf\n\necho \"#master=100\" | sudo tee -a  \/etc\/my.cnf.d\/nutanix.cnf\n\nserver_id=`sudo cat \/etc\/my.cnf | grep  \"server-id=\" | cut -d= -f2`\nis_master=`sudo cat \/etc\/my.cnf | grep -q -w \"#master=$server_id\"; echo $?`\n\nif [ ${is_master} -ne 0 ]\nthen\n   sudo sed -i '\/\\[mysqld\\]\/a read_only=1' \/etc\/my.cnf.d\/nutanix.cnf\nfi\n\n# -*- Sysctl configuration\nmysql_grp_id=`id -g mysql`\nsudo sysctl -w vm.swappiness=0\nsudo sysctl -w vm.nr_hugepages=1024\nsudo sysctl -w vm.overcommit_memory=1\nsudo sysctl -w vm.dirty_background_ratio=5 \nsudo sysctl -w vm.dirty_ratio=15\nsudo sysctl -w vm.dirty_expire_centisecs=500\nsudo sysctl -w vm.dirty_writeback_centisecs=100\nsudo sysctl -w vm.hugetlb_shm_group=$mysql_grp_id\n\necho \"vm.swappiness=0\nvm.nr_hugepages=1024\nvm.overcommit_memory=1\nvm.dirty_background_ratio=5 \nvm.dirty_ratio=15\nvm.dirty_expire_centisecs=500\nvm.dirty_writeback_centisecs=100\nvm.hugetlb_shm_group=$mysql_grp_id\" | sudo tee  -a \/etc\/sysctl.conf\n\necho \"ACTION=='add|change', SUBSYSTEM=='block', RUN+='\/bin\/sh -c \\\"\/bin\/echo 1024 > \/sys%p\/queue\/max_sectors_kb\\\"'\" | sudo tee \/etc\/udev\/rules.d\/71-block-max-sectors.rules\n\n\necho \"\/dev\/mysqlDataVG\/mysqlDataLV \/mysql\/data ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\necho \"\/dev\/mysqlLogVG\/mysqlLogLV \/mysql\/log ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\nsudo mkdir -p \/mysql\/log \/mysql\/data \/mysql\/tmpdir \/mysql\/undo\nsudo mount -a\nsudo chown -R mysql:mysql \/mysql\n\nsudo systemctl enable mysqld\n\nsudo rm -rf \/mysql\/data\/*\nsudo systemctl start mysqld\n\n#Fix to obtain temp password and set it to blank\npassword=$(grep -oP 'temporary password(.*): \\K(\\S+)' \/var\/log\/mysqld.log)\nsudo mysqladmin --user=root --password=\"$password\" password aaBB**cc1122\nsudo mysql --user=root --password=aaBB**cc1122 -e \"UNINSTALL COMPONENT 'file:\/\/component_validate_password'\"\nsudo mysqladmin --user=root --password=\"aaBB**cc1122\" password \"\"\n\n\n#Mysql secure installation\nsudo mysql -u root<<-EOF\nALTER USER 'root'@'localhost' IDENTIFIED WITH caching_sha2_password BY '@@{MYSQL_PASSWORD}@@';\nDELETE FROM mysql.user WHERE User='root' AND Host NOT IN ('localhost', '127.0.0.1', '::1');\nDELETE FROM mysql.user WHERE User='';\nDELETE FROM mysql.db WHERE Db='test' OR Db='test\\_%';\nFLUSH PRIVILEGES;\nEOF\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"3ee7bf5d-2de9-4958-9b65-e30687c43f17"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"1e16624f-a295-4428-bab1-be9406de3ee5"}],"name":"db3247c6_runbook","description":"","state":"ACTIVE","variable_list":[],"message_list":[],"main_task_local_reference":{"kind":"app_task","name":"35a5e492_dag","uuid":"9bdbf2d4-42ed-4ae5-9c2a-53b6616cd6f7"},"uuid":"f4354c03-68e8-4f33-9b2a-e642a81ad87c"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVSlavePackage","uuid":"7d73448d-ff3f-4216-9ebf-a58913350eea"},"retries":"0","name":"53d74d7d_dag","type":"DAG","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"PackageUninstallTask","uuid":"b1ccf385-506e-412d-bb7a-4b92f190bc4a"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"9f115ab4-797f-44a0-880f-2d6f3488fba7"},{"target_any_local_reference":{"kind":"app_package","name":"AHVSlavePackage","uuid":"7d73448d-ff3f-4216-9ebf-a58913350eea"},"retries":"0","name":"PackageUninstallTask","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"3ee7bf5d-2de9-4958-9b65-e30687c43f17"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"b1ccf385-506e-412d-bb7a-4b92f190bc4a"}],"name":"a4fbe7d2_runbook","description":"","state":"ACTIVE","variable_list":[],"message_list":[],"main_task_local_reference":{"kind":"app_task","name":"53d74d7d_dag","uuid":"9f115ab4-797f-44a0-880f-2d6f3488fba7"},"uuid":"a7ebad8b-10de-45a8-8bae-ebaf40e6fa64"}},"variable_list":[],"description":""},{"uuid":"a441a852-e8a5-4f5d-a929-fd0542ae5d8b","action_list":[],"service_local_reference_list":[{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"}],"name":"AWSMasterPackage","version":"","type":"DEB","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSMasterPackage","uuid":"a441a852-e8a5-4f5d-a929-fd0542ae5d8b"},"retries":"0","name":"20906fd3_dag","type":"DAG","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"Install System Packages","uuid":"412b2919-54c1-4e87-9135-cd29a22a4a44"},{"kind":"app_task","name":"Create Disk Setup","uuid":"f7a9be7f-061e-447e-ad4e-495491c8d617"},{"kind":"app_task","name":"Install MySQL","uuid":"52099877-fbfe-4f6f-a7d5-194dbb9ad064"},{"kind":"app_task","name":"Setup MySQL","uuid":"baddad1e-acbc-42b6-b598-464d5bd16918"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Install System Packages","uuid":"412b2919-54c1-4e87-9135-cd29a22a4a44"},"edge_type":"user_defined","type":"","uuid":"442dce89-ffc7-417a-a10e-34930abcb4fa","to_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"f7a9be7f-061e-447e-ad4e-495491c8d617"}},{"from_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"f7a9be7f-061e-447e-ad4e-495491c8d617"},"edge_type":"user_defined","type":"","uuid":"b41c0f44-adcd-4b26-86c2-ae09722cd613","to_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"52099877-fbfe-4f6f-a7d5-194dbb9ad064"}},{"from_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"52099877-fbfe-4f6f-a7d5-194dbb9ad064"},"edge_type":"user_defined","type":"","uuid":"5eb04bff-c984-499a-825e-54c84b8d6a28","to_task_reference":{"kind":"app_task","name":"Setup MySQL","uuid":"baddad1e-acbc-42b6-b598-464d5bd16918"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"3f876c0a-cc1b-4e5b-83f1-e5248e6f50ae"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","name":"Install System Packages","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n# -*- Install Mysql\nsudo yum update -y --quiet\nsudo yum install -y  wget xfs* bc unzip lvm2*\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"System packages are installed\"","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"3ee7bf5d-2de9-4958-9b65-e30687c43f17"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"412b2919-54c1-4e87-9135-cd29a22a4a44"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","name":"Create Disk Setup","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n##############\n#\n# LVM setup script for PostgreSQL . 4 disks for DATA and 2 for logs\n# Data disks are 60GB | Log disks are 20GB \n#\n#############\n\n\n#PGSQL data\nsudo pvcreate \/dev\/xvdb \/dev\/xvdc \/dev\/xvdd \/dev\/xvde\nsudo vgcreate mysqlDataVG \/dev\/xvdb \/dev\/xvdc \/dev\/xvdd \/dev\/xvde\nsudo lvcreate -l 100%FREE -i4 -I1M -n mysqlDataLV mysqlDataVG          ## Use 1MB to avoid IO amplification \n#lvcreate -l 100%FREE -i4 -I4M -n pgDataLV pgDataVG\n\n\n#PGSQL logs\nsudo pvcreate \/dev\/xvdf \/dev\/xvdg \/dev\/xvdh \/dev\/xvdi\nsudo vgcreate mysqlLogVG \/dev\/xvdf \/dev\/xvdg \/dev\/xvdh \/dev\/xvdi\nsudo lvcreate -l 100%FREE -i2 -I1M -n mysqlLogLV mysqlLogVG            ## Use 1MB to avoid IO amplification\n#lvcreate -l 100%FREE -i2 -I4M -n pgLogLV pgLogVG\n\n\n#Disable LVM read ahead\nsudo lvchange -r 0 \/dev\/mysqlDataVG\/mysqlDataLV\nsudo lvchange -r 0 \/dev\/mysqlLogVG\/mysqlLogLV\n\n\n#Format LVMs with ext4 and use nodiscard to make sure format time is fast on Nutanix due to SCSI unmap\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlDataVG\/mysqlDataLV\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlLogVG\/mysqlLogLV\n\nsleep 10\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"3ee7bf5d-2de9-4958-9b65-e30687c43f17"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"f7a9be7f-061e-447e-ad4e-495491c8d617"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","name":"Install MySQL","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nsudo hostnamectl set-hostname \"@@{name}@@\"\n\n# -*- Mysql installation \nsudo yum install -y --quiet \"http:\/\/repo.mysql.com\/mysql80-community-release-el7.rpm\"\nsudo yum update -y --quiet\nsudo yum install -y --quiet sshpass mysql-community-server.x86_64\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"3ee7bf5d-2de9-4958-9b65-e30687c43f17"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"52099877-fbfe-4f6f-a7d5-194dbb9ad064"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","name":"Setup MySQL","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\necho \"!includedir \/etc\/my.cnf.d\" | sudo tee -a \/etc\/my.cnf\n\necho \"[mysqld]\nbinlog-format=mixed\nlog-bin=mysql-bin\ndatadir=\/mysql\/data\nsql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES\ninnodb_data_home_dir = \/mysql\/data\ninnodb_log_group_home_dir = \/mysql\/log\ninnodb_file_per_table\ntmpdir=\/mysql\/tmpdir\ninnodb_undo_directory = \/mysql\/undo\ndefault-storage-engine = innodb\ndefault_tmp_storage_engine = innodb\ninnodb_log_files_in_group = 4\ninnodb_log_file_size = 1G\ninnodb_log_buffer_size = 8M\ninnodb_buffer_pool_size = 6G\t\nlarge-pages\t\ninnodb_buffer_pool_instances = 64\t\ninnodb_flush_method=O_DIRECT\t\ninnodb_flush_neighbors=0\t \ninnodb_flush_log_at_trx_commit=1\ninnodb_buffer_pool_dump_at_shutdown=1\t\ninnodb_buffer_pool_load_at_startup=1\t\nbulk_insert_buffer_size = 256\t\ninnodb_thread_concurrency = 16\t\n \t \n# Undo tablespace\t \ninnodb_undo_tablespaces = 5\t\n \t \n# Networking\t \nwait_timeout=57600\t \nmax_allowed_packet=1G\t\nsocket=\/var\/lib\/mysql\/mysql.sock\t \nskip-name-resolve\nport=3306\t\nmax_connections=1000\t\n\n\n[mysqld_safe]\nlog-error=\/mysql\/log\/mysqld.log\npid-file=\/var\/run\/mysqld\/mysqld.pid\" | sudo tee \/etc\/my.cnf.d\/nutanix.cnf\n\nsudo sed -i \"\/\\[mysqld\\]\/a server-id=100\" \/etc\/my.cnf.d\/nutanix.cnf\necho \"#master=100\" | sudo tee -a  \/etc\/my.cnf.d\/nutanix.cnf\n\nserver_id=`sudo cat etc\/my.cnf.d\/nutanix.cnf | grep  \"server-id=\" | cut -d= -f2`\nis_master=`sudo cat etc\/my.cnf.d\/nutanix.cnf | grep -q -w \"#master=$server_id\"; echo $?`\n\nif [ ${is_master} -ne 0 ]\nthen\n   sudo sed -i '\/\\[mysqld\\]\/a read_only=1' \/etc\/my.cnf.d\/nutanix.cnf\nfi\n\n# -*- Sysctl configuration\nmysql_grp_id=`id -g mysql`\nsudo sysctl -w vm.swappiness=0\nsudo sysctl -w vm.nr_hugepages=1024\nsudo sysctl -w vm.overcommit_memory=1\nsudo sysctl -w vm.dirty_background_ratio=5 \nsudo sysctl -w vm.dirty_ratio=15\nsudo sysctl -w vm.dirty_expire_centisecs=500\nsudo sysctl -w vm.dirty_writeback_centisecs=100\nsudo sysctl -w vm.hugetlb_shm_group=$mysql_grp_id\n\necho \"vm.swappiness=0\nvm.nr_hugepages=1024\nvm.overcommit_memory=1\nvm.dirty_background_ratio=5 \nvm.dirty_ratio=15\nvm.dirty_expire_centisecs=500\nvm.dirty_writeback_centisecs=100\nvm.hugetlb_shm_group=$mysql_grp_id\" | sudo tee  -a \/etc\/sysctl.conf\n\necho \"ACTION=='add|change', SUBSYSTEM=='block', RUN+='\/bin\/sh -c \\\"\/bin\/echo 1024 > \/sys%p\/queue\/max_sectors_kb\\\"'\" | sudo tee \/etc\/udev\/rules.d\/71-block-max-sectors.rules\n\necho \"\/dev\/mysqlDataVG\/mysqlDataLV \/mysql\/data ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\necho \"\/dev\/mysqlLogVG\/mysqlLogLV \/mysql\/log ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\nsudo mkdir -p \/mysql\/log \/mysql\/data \/mysql\/tmpdir \/mysql\/undo\nsudo mount -a\nsudo chown -R mysql:mysql \/mysql\n\nsudo systemctl enable mysqld\n\nsudo rm -rf \/mysql\/data\/*\nsudo systemctl start mysqld\n\n#Fix to obtain temp password and set it to blank\npassword=$(grep -oP 'temporary password(.*): \\K(\\S+)' \/var\/log\/mysqld.log)\nsudo mysqladmin --user=root --password=\"$password\" password aaBB**cc1122\nsudo mysql --user=root --password=aaBB**cc1122 -e \"UNINSTALL COMPONENT 'file:\/\/component_validate_password'\"\nsudo mysqladmin --user=root --password=\"aaBB**cc1122\" password \"\"\n\n\n#Mysql secure installation\nsudo mysql -u root<<-EOF\nALTER USER 'root'@'localhost' IDENTIFIED WITH caching_sha2_password BY '@@{MYSQL_PASSWORD}@@';\nDELETE FROM mysql.user WHERE User='root' AND Host NOT IN ('localhost', '127.0.0.1', '::1');\nDELETE FROM mysql.user WHERE User='';\nDELETE FROM mysql.db WHERE Db='test' OR Db='test\\_%';\nFLUSH PRIVILEGES;\nEOF\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"3ee7bf5d-2de9-4958-9b65-e30687c43f17"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"baddad1e-acbc-42b6-b598-464d5bd16918"}],"name":"8c0bb7c2_runbook","description":"","state":"ACTIVE","variable_list":[],"message_list":[],"main_task_local_reference":{"kind":"app_task","name":"20906fd3_dag","uuid":"3f876c0a-cc1b-4e5b-83f1-e5248e6f50ae"},"uuid":"e65fe349-d9e5-4bb0-82d9-4f53c43b99de"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSMasterPackage","uuid":"a441a852-e8a5-4f5d-a929-fd0542ae5d8b"},"retries":"0","name":"102b4b68_dag","type":"DAG","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"PackageUninstallTask","uuid":"ba736592-427e-4061-8dbd-3c27c7f8ef00"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"0e5e2826-240a-44bb-a65c-e240a45390a4"},{"target_any_local_reference":{"kind":"app_package","name":"AWSMasterPackage","uuid":"a441a852-e8a5-4f5d-a929-fd0542ae5d8b"},"retries":"0","name":"PackageUninstallTask","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"3ee7bf5d-2de9-4958-9b65-e30687c43f17"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"ba736592-427e-4061-8dbd-3c27c7f8ef00"}],"name":"97a9a9af_runbook","description":"","state":"ACTIVE","variable_list":[],"message_list":[],"main_task_local_reference":{"kind":"app_task","name":"102b4b68_dag","uuid":"0e5e2826-240a-44bb-a65c-e240a45390a4"},"uuid":"37ce32eb-34a5-43fb-a9af-8dfedd37149c"}},"variable_list":[],"description":""},{"uuid":"06bdea25-1ba3-4ded-9f1d-15f9be1e723e","action_list":[],"service_local_reference_list":[{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"}],"name":"AWSSlavePackage","version":"","type":"DEB","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSSlavePackage","uuid":"06bdea25-1ba3-4ded-9f1d-15f9be1e723e"},"retries":"0","name":"be281c77_dag","type":"DAG","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"Install System Packages","uuid":"e3c17042-ef12-4da3-b57f-85095b74304a"},{"kind":"app_task","name":"Create Disk Setup","uuid":"d82ff53e-ae03-42f9-85ea-2bec11ad2e5a"},{"kind":"app_task","name":"Install MySQL","uuid":"0694cad5-4ca6-4e1d-9afd-73c1481a476f"},{"kind":"app_task","name":"Setup MySQL","uuid":"abfbedb0-009f-4b5a-b1d9-5d065fa92517"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Install System Packages","uuid":"e3c17042-ef12-4da3-b57f-85095b74304a"},"edge_type":"user_defined","type":"","uuid":"d02cbfc7-157d-4e70-b4af-1319b04db98b","to_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"d82ff53e-ae03-42f9-85ea-2bec11ad2e5a"}},{"from_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"d82ff53e-ae03-42f9-85ea-2bec11ad2e5a"},"edge_type":"user_defined","type":"","uuid":"0eadab9c-bb68-4196-970e-a56e0d533e5d","to_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"0694cad5-4ca6-4e1d-9afd-73c1481a476f"}},{"from_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"0694cad5-4ca6-4e1d-9afd-73c1481a476f"},"edge_type":"user_defined","type":"","uuid":"42dbae56-fb4e-4925-9467-6bd3aadc4e71","to_task_reference":{"kind":"app_task","name":"Setup MySQL","uuid":"abfbedb0-009f-4b5a-b1d9-5d065fa92517"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"6ec97b73-788b-45b6-b0f0-addb26737ba1"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","name":"Install System Packages","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n# -*- Install Mysql\nsudo yum update -y --quiet\nsudo yum install -y  wget xfs* bc unzip lvm2*\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"System packages are installed\"","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"3ee7bf5d-2de9-4958-9b65-e30687c43f17"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"e3c17042-ef12-4da3-b57f-85095b74304a"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","name":"Create Disk Setup","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n##############\n#\n# LVM setup script for PostgreSQL . 4 disks for DATA and 2 for logs\n# Data disks are 60GB | Log disks are 20GB \n#\n#############\n\n\n#PGSQL data\nsudo pvcreate \/dev\/xvdb \/dev\/xvdc \/dev\/xvdd \/dev\/xvde\nsudo vgcreate mysqlDataVG \/dev\/xvdb \/dev\/xvdc \/dev\/xvdd \/dev\/xvde\nsudo lvcreate -l 100%FREE -i4 -I1M -n mysqlDataLV mysqlDataVG          ## Use 1MB to avoid IO amplification \n#lvcreate -l 100%FREE -i4 -I4M -n pgDataLV pgDataVG\n\n\n#PGSQL logs\nsudo pvcreate \/dev\/xvdf \/dev\/xvdg \/dev\/xvdh \/dev\/xvdi\nsudo vgcreate mysqlLogVG \/dev\/xvdf \/dev\/xvdg \/dev\/xvdh \/dev\/xvdi\nsudo lvcreate -l 100%FREE -i2 -I1M -n mysqlLogLV mysqlLogVG            ## Use 1MB to avoid IO amplification\n#lvcreate -l 100%FREE -i2 -I4M -n pgLogLV pgLogVG\n\n\n#Disable LVM read ahead\nsudo lvchange -r 0 \/dev\/mysqlDataVG\/mysqlDataLV\nsudo lvchange -r 0 \/dev\/mysqlLogVG\/mysqlLogLV\n\n\n#Format LVMs with ext4 and use nodiscard to make sure format time is fast on Nutanix due to SCSI unmap\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlDataVG\/mysqlDataLV\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlLogVG\/mysqlLogLV\n\nsleep 10\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"3ee7bf5d-2de9-4958-9b65-e30687c43f17"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"d82ff53e-ae03-42f9-85ea-2bec11ad2e5a"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","name":"Install MySQL","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nsudo hostnamectl set-hostname \"@@{name}@@\"\n\n# -*- Mysql installation \nsudo yum install -y --quiet \"http:\/\/repo.mysql.com\/mysql80-community-release-el7.rpm\"\nsudo yum update -y --quiet\nsudo yum install -y --quiet sshpass mysql-community-server.x86_64\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"3ee7bf5d-2de9-4958-9b65-e30687c43f17"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"0694cad5-4ca6-4e1d-9afd-73c1481a476f"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","name":"Setup MySQL","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\necho \"!includedir \/etc\/my.cnf.d\" | sudo tee -a \/etc\/my.cnf\n\necho \"[mysqld]\nbinlog-format=mixed\nlog-bin=mysql-bin\ndatadir=\/mysql\/data\nsql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES\ninnodb_data_home_dir = \/mysql\/data\ninnodb_log_group_home_dir = \/mysql\/log\ninnodb_file_per_table\ntmpdir=\/mysql\/tmpdir\ninnodb_undo_directory = \/mysql\/undo\ndefault-storage-engine = innodb\ndefault_tmp_storage_engine = innodb\ninnodb_log_files_in_group = 4\ninnodb_log_file_size = 1G\ninnodb_log_buffer_size = 8M\ninnodb_buffer_pool_size = 6G\t\nlarge-pages\t\ninnodb_buffer_pool_instances = 64\t\ninnodb_flush_method=O_DIRECT\t\ninnodb_flush_neighbors=0\t \ninnodb_flush_log_at_trx_commit=1\ninnodb_buffer_pool_dump_at_shutdown=1\t\ninnodb_buffer_pool_load_at_startup=1\t\nbulk_insert_buffer_size = 256\t\ninnodb_thread_concurrency = 16\t\n \t \n# Undo tablespace\t \ninnodb_undo_tablespaces = 5\t\n \t \n# Networking\t \nwait_timeout=57600\t \nmax_allowed_packet=1G\t\nsocket=\/var\/lib\/mysql\/mysql.sock\t \nskip-name-resolve\nport=3306\t\nmax_connections=1000\t\n\n\n[mysqld_safe]\nlog-error=\/mysql\/log\/mysqld.log\npid-file=\/var\/run\/mysqld\/mysqld.pid\" | sudo tee \/etc\/my.cnf.d\/nutanix.cnf\n\necho \"#master=100\" | sudo tee -a  \/etc\/my.cnf.d\/nutanix.cnf\n\nserver_id=`sudo cat etc\/my.cnf.d\/nutanix.cnf | grep  \"server-id=\" | cut -d= -f2`\nis_master=`sudo cat etc\/my.cnf.d\/nutanix.cnf | grep -q -w \"#master=$server_id\"; echo $?`\n\nif [ ${is_master} -ne 0 ]\nthen\n   sudo sed -i '\/\\[mysqld\\]\/a read_only=1' \/etc\/my.cnf.d\/nutanix.cnf\nfi\n\n# -*- Sysctl configuration\nmysql_grp_id=`id -g mysql`\nsudo sysctl -w vm.swappiness=0\nsudo sysctl -w vm.nr_hugepages=1024\nsudo sysctl -w vm.overcommit_memory=1\nsudo sysctl -w vm.dirty_background_ratio=5 \nsudo sysctl -w vm.dirty_ratio=15\nsudo sysctl -w vm.dirty_expire_centisecs=500\nsudo sysctl -w vm.dirty_writeback_centisecs=100\nsudo sysctl -w vm.hugetlb_shm_group=$mysql_grp_id\n\necho \"vm.swappiness=0\nvm.nr_hugepages=1024\nvm.overcommit_memory=1\nvm.dirty_background_ratio=5 \nvm.dirty_ratio=15\nvm.dirty_expire_centisecs=500\nvm.dirty_writeback_centisecs=100\nvm.hugetlb_shm_group=$mysql_grp_id\" | sudo tee  -a \/etc\/sysctl.conf\n\necho \"ACTION=='add|change', SUBSYSTEM=='block', RUN+='\/bin\/sh -c \\\"\/bin\/echo 1024 > \/sys%p\/queue\/max_sectors_kb\\\"'\" | sudo tee \/etc\/udev\/rules.d\/71-block-max-sectors.rules\n\necho \"\/dev\/mysqlDataVG\/mysqlDataLV \/mysql\/data ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\necho \"\/dev\/mysqlLogVG\/mysqlLogLV \/mysql\/log ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\nsudo mkdir -p \/mysql\/log \/mysql\/data \/mysql\/tmpdir \/mysql\/undo\nsudo mount -a\nsudo chown -R mysql:mysql \/mysql\n\nsudo systemctl enable mysqld\n\nsudo rm -rf \/mysql\/data\/*\nsudo systemctl start mysqld\n\n#Fix to obtain temp password and set it to blank\npassword=$(grep -oP 'temporary password(.*): \\K(\\S+)' \/var\/log\/mysqld.log)\nsudo mysqladmin --user=root --password=\"$password\" password aaBB**cc1122\nsudo mysql --user=root --password=aaBB**cc1122 -e \"UNINSTALL COMPONENT 'file:\/\/component_validate_password'\"\nsudo mysqladmin --user=root --password=\"aaBB**cc1122\" password \"\"\n\n\n#Mysql secure installation\nsudo mysql -u root<<-EOF\nALTER USER 'root'@'localhost' IDENTIFIED WITH caching_sha2_password BY '@@{MYSQL_PASSWORD}@@';\nDELETE FROM mysql.user WHERE User='root' AND Host NOT IN ('localhost', '127.0.0.1', '::1');\nDELETE FROM mysql.user WHERE User='';\nDELETE FROM mysql.db WHERE Db='test' OR Db='test\\_%';\nFLUSH PRIVILEGES;\nEOF\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"3ee7bf5d-2de9-4958-9b65-e30687c43f17"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"abfbedb0-009f-4b5a-b1d9-5d065fa92517"}],"name":"c2ab2da2_runbook","description":"","state":"ACTIVE","variable_list":[],"message_list":[],"main_task_local_reference":{"kind":"app_task","name":"be281c77_dag","uuid":"6ec97b73-788b-45b6-b0f0-addb26737ba1"},"uuid":"dbdbac01-14a9-41be-8ec2-5a7c3c2d4629"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSSlavePackage","uuid":"06bdea25-1ba3-4ded-9f1d-15f9be1e723e"},"retries":"0","name":"62f03f3b_dag","type":"DAG","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"PackageUninstallTask","uuid":"9b75ceee-8131-4f62-88b7-4f58a7fbddbf"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"50e8e0a9-3874-437a-a418-e6fab6ab3601"},{"target_any_local_reference":{"kind":"app_package","name":"AWSSlavePackage","uuid":"06bdea25-1ba3-4ded-9f1d-15f9be1e723e"},"retries":"0","name":"PackageUninstallTask","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"3ee7bf5d-2de9-4958-9b65-e30687c43f17"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"9b75ceee-8131-4f62-88b7-4f58a7fbddbf"}],"name":"88bbbcc1_runbook","description":"","state":"ACTIVE","variable_list":[],"message_list":[],"main_task_local_reference":{"kind":"app_task","name":"62f03f3b_dag","uuid":"50e8e0a9-3874-437a-a418-e6fab6ab3601"},"uuid":"959828a9-2ded-4419-83b9-23665549c395"}},"variable_list":[],"description":""},{"uuid":"9f1580d6-1ec8-4e83-ade6-af9db607985a","action_list":[],"service_local_reference_list":[],"name":"CENTOS_74","version":"","type":"SUBSTRATE_IMAGE","options":{"type":"","name":"CENTOS_74","resources":{"image_type":"DISK_IMAGE","checksum":{"checksum_algorithm":"","type":"","checksum_value":""},"source_uri":"http:\/\/download.nutanix.com\/calm\/CentOS-7-x86_64-GenericCloud.qcow2","version":{"product_version":"","type":"","product_name":""},"architecture":"X86_64","type":""},"description":""},"variable_list":[],"description":""},{"uuid":"1201401a-4303-4417-8bee-ece1018bc5fa","action_list":[],"service_local_reference_list":[{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"}],"name":"GCPMasterPackage","version":"","type":"DEB","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPMasterPackage","uuid":"1201401a-4303-4417-8bee-ece1018bc5fa"},"retries":"0","name":"d13a100f_dag","type":"DAG","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"Install System Packages","uuid":"4e0054e3-f074-46fc-8c24-03efb4f74b66"},{"kind":"app_task","name":"Create Disk Setup","uuid":"a9732c48-656e-4bd1-bce7-9a2940cd3f04"},{"kind":"app_task","name":"Install MySQL","uuid":"a98bfa55-2944-4d19-9e5c-5ae28cd3e0f8"},{"kind":"app_task","name":"Setup MySQL","uuid":"38114c05-27c5-416f-8417-02b77cbeaa2e"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Install System Packages","uuid":"4e0054e3-f074-46fc-8c24-03efb4f74b66"},"edge_type":"user_defined","type":"","uuid":"80763470-ee77-4453-b64c-d5e48b77f280","to_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"a9732c48-656e-4bd1-bce7-9a2940cd3f04"}},{"from_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"a9732c48-656e-4bd1-bce7-9a2940cd3f04"},"edge_type":"user_defined","type":"","uuid":"4b6b56ed-f0e1-4502-9af0-45770deb852a","to_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"a98bfa55-2944-4d19-9e5c-5ae28cd3e0f8"}},{"from_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"a98bfa55-2944-4d19-9e5c-5ae28cd3e0f8"},"edge_type":"user_defined","type":"","uuid":"89b8401e-9cbf-4d9b-9874-a7dac004e00d","to_task_reference":{"kind":"app_task","name":"Setup MySQL","uuid":"38114c05-27c5-416f-8417-02b77cbeaa2e"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"c667885c-867c-4ca7-92e7-6a24fc750ba0"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","name":"Install System Packages","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n# -*- Install Mysql\nsudo yum update -y --quiet\nsudo yum install -y  wget xfs* bc unzip lvm2* lsscsi\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"System packages are installed\"","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"3ee7bf5d-2de9-4958-9b65-e30687c43f17"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"4e0054e3-f074-46fc-8c24-03efb4f74b66"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","name":"Create Disk Setup","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n##############\n#\n# LVM setup script for MySQL . 4 disks for DATA and 4 for logs\n# Data disks are 50GB | Log disks are 25GB \n#\n#############\n\n\n#PGSQL data\nsudo pvcreate \/dev\/sdb \/dev\/sdc \/dev\/sdd \/dev\/sde\nsudo vgcreate mysqlDataVG \/dev\/sdb \/dev\/sdd \/dev\/sdc \/dev\/sde\nsudo lvcreate -l 100%FREE -i4 -I1M -n mysqlDataLV mysqlDataVG          ## Use 1MB to avoid IO amplification \n#lvcreate -l 100%FREE -i4 -I4M -n pgDataLV pgDataVG\n\n\n#PGSQL logs\nsudo pvcreate \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo vgcreate mysqlLogVG \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo lvcreate -l 100%FREE -i2 -I1M -n mysqlLogLV mysqlLogVG            ## Use 1MB to avoid IO amplification\n#lvcreate -l 100%FREE -i2 -I4M -n pgLogLV pgLogVG\n\n\n#Disable LVM read ahead\nsudo lvchange -r 0 \/dev\/mysqlDataVG\/mysqlDataLV\nsudo lvchange -r 0 \/dev\/mysqlLogVG\/mysqlLogLV\n\n\n#Format LVMs with ext4 and use nodiscard to make sure format time is fast on Nutanix due to SCSI unmap\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlDataVG\/mysqlDataLV\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlLogVG\/mysqlLogLV\n\nsleep 10\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"3ee7bf5d-2de9-4958-9b65-e30687c43f17"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"a9732c48-656e-4bd1-bce7-9a2940cd3f04"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","name":"Install MySQL","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nsudo hostnamectl set-hostname \"@@{name}@@\"\n\n# -*- Mysql installation \nsudo yum install -y --quiet \"http:\/\/repo.mysql.com\/mysql80-community-release-el7.rpm\"\nsudo yum update -y --quiet\nsudo yum install -y --quiet sshpass mysql-community-server.x86_64\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"3ee7bf5d-2de9-4958-9b65-e30687c43f17"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"a98bfa55-2944-4d19-9e5c-5ae28cd3e0f8"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","name":"Setup MySQL","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\necho \"!includedir \/etc\/my.cnf.d\" | sudo tee -a \/etc\/my.cnf\n\necho \"[mysqld]\nbinlog-format=mixed\nlog-bin=mysql-bin\ndatadir=\/mysql\/data\nsql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES\ninnodb_data_home_dir = \/mysql\/data\ninnodb_log_group_home_dir = \/mysql\/log\ninnodb_file_per_table\ntmpdir=\/mysql\/tmpdir\ninnodb_undo_directory = \/mysql\/undo\ndefault-storage-engine = innodb\ndefault_tmp_storage_engine = innodb\ninnodb_log_files_in_group = 4\ninnodb_log_file_size = 1G\ninnodb_log_buffer_size = 8M\ninnodb_buffer_pool_size = 6G\t\nlarge-pages\t\ninnodb_buffer_pool_instances = 64\t\ninnodb_flush_method=O_DIRECT\t\ninnodb_flush_neighbors=0\t \ninnodb_flush_log_at_trx_commit=1\ninnodb_buffer_pool_dump_at_shutdown=1\t\ninnodb_buffer_pool_load_at_startup=1\t\nbulk_insert_buffer_size = 256\t\ninnodb_thread_concurrency = 16\t\n \t \n# Undo tablespace\t \ninnodb_undo_tablespaces = 5\t\n \t \n# Networking\t \nwait_timeout=57600\t \nmax_allowed_packet=1G\t\nsocket=\/var\/lib\/mysql\/mysql.sock\t \nskip-name-resolve\nport=3306\t\nmax_connections=1000\t\n\n\n[mysqld_safe]\nlog-error=\/mysql\/log\/mysqld.log\npid-file=\/var\/run\/mysqld\/mysqld.pid\" | sudo tee \/etc\/my.cnf.d\/nutanix.cnf\n\nsudo sed -i \"\/\\[mysqld\\]\/a server-id=100\" \/etc\/my.cnf.d\/nutanix.cnf\necho \"#master=100\" | sudo tee -a  \/etc\/my.cnf.d\/nutanix.cnf\n\nserver_id=`sudo cat \/etc\/my.cnf.d\/nutanix.cnf | grep  \"server-id=\" | cut -d= -f2`\nis_master=`sudo cat \/etc\/my.cnf.d\/nutanix.cnf | grep -q -w \"#master=$server_id\"; echo $?`\n\nif [ ${is_master} -ne 0 ]\nthen\n   sudo sed -i '\/\\[mysqld\\]\/a read_only=1' \/etc\/my.cnf.d\/nutanix.cnf\nfi\n\n# -*- Sysctl configuration\nmysql_grp_id=`id -g mysql`\nsudo sysctl -w vm.swappiness=0\nsudo sysctl -w vm.nr_hugepages=1024\nsudo sysctl -w vm.overcommit_memory=1\nsudo sysctl -w vm.dirty_background_ratio=5 \nsudo sysctl -w vm.dirty_ratio=15\nsudo sysctl -w vm.dirty_expire_centisecs=500\nsudo sysctl -w vm.dirty_writeback_centisecs=100\nsudo sysctl -w vm.hugetlb_shm_group=$mysql_grp_id\n\necho \"vm.swappiness=0\nvm.nr_hugepages=1024\nvm.overcommit_memory=1\nvm.dirty_background_ratio=5 \nvm.dirty_ratio=15\nvm.dirty_expire_centisecs=500\nvm.dirty_writeback_centisecs=100\nvm.hugetlb_shm_group=$mysql_grp_id\" | sudo tee  -a \/etc\/sysctl.conf\n\necho \"ACTION=='add|change', SUBSYSTEM=='block', RUN+='\/bin\/sh -c \\\"\/bin\/echo 1024 > \/sys%p\/queue\/max_sectors_kb\\\"'\" | sudo tee \/etc\/udev\/rules.d\/71-block-max-sectors.rules\n#echo 1024 | sudo tee \/sys\/block\/sd?\/queue\/max_sectors_kb\n\necho \"\/dev\/mysqlDataVG\/mysqlDataLV \/mysql\/data ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\necho \"\/dev\/mysqlLogVG\/mysqlLogLV \/mysql\/log ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\nsudo mkdir -p \/mysql\/log \/mysql\/data \/mysql\/tmpdir \/mysql\/undo\nsudo mount -a\nsudo chown -R mysql:mysql \/mysql\n\nsudo systemctl enable mysqld\n\nsudo rm -rf \/mysql\/data\/*\nsudo systemctl start mysqld\n\n#Fix to obtain temp password and set it to blank\npassword=$(grep -oP 'temporary password(.*): \\K(\\S+)' \/var\/log\/mysqld.log)\nsudo mysqladmin --user=root --password=\"$password\" password aaBB**cc1122\nsudo mysql --user=root --password=aaBB**cc1122 -e \"UNINSTALL COMPONENT 'file:\/\/component_validate_password'\"\nsudo mysqladmin --user=root --password=\"aaBB**cc1122\" password \"\"\n\n\n#Mysql secure installation\nsudo mysql -u root<<-EOF\nALTER USER 'root'@'localhost' IDENTIFIED WITH caching_sha2_password BY '@@{MYSQL_PASSWORD}@@';\nDELETE FROM mysql.user WHERE User='root' AND Host NOT IN ('localhost', '127.0.0.1', '::1');\nDELETE FROM mysql.user WHERE User='';\nDELETE FROM mysql.db WHERE Db='test' OR Db='test\\_%';\nFLUSH PRIVILEGES;\nEOF\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"3ee7bf5d-2de9-4958-9b65-e30687c43f17"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"38114c05-27c5-416f-8417-02b77cbeaa2e"}],"name":"267c96d2_runbook","description":"","state":"ACTIVE","variable_list":[],"message_list":[],"main_task_local_reference":{"kind":"app_task","name":"d13a100f_dag","uuid":"c667885c-867c-4ca7-92e7-6a24fc750ba0"},"uuid":"178fae58-20e3-4f9a-9d57-f79f465f78e8"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPMasterPackage","uuid":"1201401a-4303-4417-8bee-ece1018bc5fa"},"retries":"0","name":"01fe868d_dag","type":"DAG","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"79645533-44f8-4114-bc55-15e7bf703ef6"}],"name":"ea47487d_runbook","description":"","state":"ACTIVE","variable_list":[],"message_list":[],"main_task_local_reference":{"kind":"app_task","name":"01fe868d_dag","uuid":"79645533-44f8-4114-bc55-15e7bf703ef6"},"uuid":"379b3619-28eb-4952-a45d-591f2f105024"}},"variable_list":[],"description":""},{"uuid":"ed6bf66b-ff88-4209-8ac6-fd62178fea4d","action_list":[],"service_local_reference_list":[{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"}],"name":"GCPSlavePackage","version":"","type":"DEB","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPSlavePackage","uuid":"ed6bf66b-ff88-4209-8ac6-fd62178fea4d"},"retries":"0","name":"eefb69f6_dag","type":"DAG","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"Install  System Packages","uuid":"03ef3dec-55e3-4982-9d97-5cd70ac90981"},{"kind":"app_task","name":"Create Disk Setup","uuid":"07a69e13-825e-496d-a2dd-ceeb230c2db9"},{"kind":"app_task","name":"Install MySQL","uuid":"a3f6c4be-c849-49af-97a4-7a0f18d30c82"},{"kind":"app_task","name":"Setup MySQL","uuid":"a75ea3ce-823f-462d-b6d1-be2e47913c44"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Install  System Packages","uuid":"03ef3dec-55e3-4982-9d97-5cd70ac90981"},"edge_type":"user_defined","type":"","uuid":"690b0515-034d-4bc9-9f18-f1dd132c3b45","to_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"07a69e13-825e-496d-a2dd-ceeb230c2db9"}},{"from_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"07a69e13-825e-496d-a2dd-ceeb230c2db9"},"edge_type":"user_defined","type":"","uuid":"0bed9a27-530f-4d74-8e06-533df04f2662","to_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"a3f6c4be-c849-49af-97a4-7a0f18d30c82"}},{"from_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"a3f6c4be-c849-49af-97a4-7a0f18d30c82"},"edge_type":"user_defined","type":"","uuid":"546faa70-d78b-40fc-9661-ec8f92db9d12","to_task_reference":{"kind":"app_task","name":"Setup MySQL","uuid":"a75ea3ce-823f-462d-b6d1-be2e47913c44"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"8ab9dc63-a049-4225-a8d8-0b7e56114dde"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","name":"Install  System Packages","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n# -*- Install Mysql\nsudo yum update -y --quiet\nsudo yum install -y  wget xfs* bc unzip lvm2* lsscsi\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"System packages are installed\"","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"3ee7bf5d-2de9-4958-9b65-e30687c43f17"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"03ef3dec-55e3-4982-9d97-5cd70ac90981"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","name":"Create Disk Setup","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n##############\n#\n# LVM setup script for MySQL . 4 disks for DATA and 4 for logs\n# Data disks are 50GB | Log disks are 25GB \n#\n#############\n\n\n#PGSQL data\nsudo pvcreate \/dev\/sdb \/dev\/sdc \/dev\/sdd \/dev\/sde\nsudo vgcreate mysqlDataVG \/dev\/sdb \/dev\/sdd \/dev\/sdc \/dev\/sde\nsudo lvcreate -l 100%FREE -i4 -I1M -n mysqlDataLV mysqlDataVG          ## Use 1MB to avoid IO amplification \n#lvcreate -l 100%FREE -i4 -I4M -n pgDataLV pgDataVG\n\n\n#PGSQL logs\nsudo pvcreate \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo vgcreate mysqlLogVG \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo lvcreate -l 100%FREE -i2 -I1M -n mysqlLogLV mysqlLogVG            ## Use 1MB to avoid IO amplification\n#lvcreate -l 100%FREE -i2 -I4M -n pgLogLV pgLogVG\n\n\n#Disable LVM read ahead\nsudo lvchange -r 0 \/dev\/mysqlDataVG\/mysqlDataLV\nsudo lvchange -r 0 \/dev\/mysqlLogVG\/mysqlLogLV\n\n\n#Format LVMs with ext4 and use nodiscard to make sure format time is fast on Nutanix due to SCSI unmap\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlDataVG\/mysqlDataLV\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlLogVG\/mysqlLogLV\n\nsleep 10\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"3ee7bf5d-2de9-4958-9b65-e30687c43f17"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"07a69e13-825e-496d-a2dd-ceeb230c2db9"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","name":"Install MySQL","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nsudo hostnamectl set-hostname \"@@{name}@@\"\n\n# -*- Mysql installation \nsudo yum install -y --quiet \"http:\/\/repo.mysql.com\/mysql80-community-release-el7.rpm\"\nsudo yum update -y --quiet\nsudo yum install -y --quiet sshpass mysql-community-server.x86_64\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"3ee7bf5d-2de9-4958-9b65-e30687c43f17"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"a3f6c4be-c849-49af-97a4-7a0f18d30c82"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","name":"Setup MySQL","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\necho \"!includedir \/etc\/my.cnf.d\" | sudo tee -a \/etc\/my.cnf\n\necho \"[mysqld]\nbinlog-format=mixed\nlog-bin=mysql-bin\ndatadir=\/mysql\/data\nsql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES\ninnodb_data_home_dir = \/mysql\/data\ninnodb_log_group_home_dir = \/mysql\/log\ninnodb_file_per_table\ntmpdir=\/mysql\/tmpdir\ninnodb_undo_directory = \/mysql\/undo\ndefault-storage-engine = innodb\ndefault_tmp_storage_engine = innodb\ninnodb_log_files_in_group = 4\ninnodb_log_file_size = 1G\ninnodb_log_buffer_size = 8M\ninnodb_buffer_pool_size = 6G\t\nlarge-pages\t\ninnodb_buffer_pool_instances = 64\t\ninnodb_flush_method=O_DIRECT\t\ninnodb_flush_neighbors=0\t \ninnodb_flush_log_at_trx_commit=1\ninnodb_buffer_pool_dump_at_shutdown=1\t\ninnodb_buffer_pool_load_at_startup=1\t\nbulk_insert_buffer_size = 256\t\ninnodb_thread_concurrency = 16\t\n \t \n# Undo tablespace\t \ninnodb_undo_tablespaces = 5\t\n \t \n# Networking\t \nwait_timeout=57600\t \nmax_allowed_packet=1G\t\nsocket=\/var\/lib\/mysql\/mysql.sock\t \nskip-name-resolve\nport=3306\t\nmax_connections=1000\t\n\n\n[mysqld_safe]\nlog-error=\/mysql\/log\/mysqld.log\npid-file=\/var\/run\/mysqld\/mysqld.pid\" | sudo tee \/etc\/my.cnf.d\/nutanix.cnf\n\necho \"#master=100\" | sudo tee -a  \/etc\/my.cnf.d\/nutanix.cnf\n\nserver_id=`sudo cat \/etc\/my.cnf | grep  \"server-id=\" | cut -d= -f2`\nis_master=`sudo cat \/etc\/my.cnf | grep -q -w \"#master=$server_id\"; echo $?`\n\nif [ ${is_master} -ne 0 ]\nthen\n   sudo sed -i '\/\\[mysqld\\]\/a read_only=1' \/etc\/my.cnf.d\/nutanix.cnf\nfi\n\n# -*- Sysctl configuration\nmysql_grp_id=`id -g mysql`\nsudo sysctl -w vm.swappiness=0\nsudo sysctl -w vm.nr_hugepages=1024\nsudo sysctl -w vm.overcommit_memory=1\nsudo sysctl -w vm.dirty_background_ratio=5 \nsudo sysctl -w vm.dirty_ratio=15\nsudo sysctl -w vm.dirty_expire_centisecs=500\nsudo sysctl -w vm.dirty_writeback_centisecs=100\nsudo sysctl -w vm.hugetlb_shm_group=$mysql_grp_id\n\necho \"vm.swappiness=0\nvm.nr_hugepages=1024\nvm.overcommit_memory=1\nvm.dirty_background_ratio=5 \nvm.dirty_ratio=15\nvm.dirty_expire_centisecs=500\nvm.dirty_writeback_centisecs=100\nvm.hugetlb_shm_group=$mysql_grp_id\" | sudo tee  -a \/etc\/sysctl.conf\n\necho \"ACTION=='add|change', SUBSYSTEM=='block', RUN+='\/bin\/sh -c \\\"\/bin\/echo 1024 > \/sys%p\/queue\/max_sectors_kb\\\"'\" | sudo tee \/etc\/udev\/rules.d\/71-block-max-sectors.rules\n#echo 1024 | sudo tee \/sys\/block\/sd?\/queue\/max_sectors_kb\n\necho \"\/dev\/mysqlDataVG\/mysqlDataLV \/mysql\/data ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\necho \"\/dev\/mysqlLogVG\/mysqlLogLV \/mysql\/log ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\nsudo mkdir -p \/mysql\/log \/mysql\/data \/mysql\/tmpdir \/mysql\/undo\nsudo mount -a\nsudo chown -R mysql:mysql \/mysql\n\nsudo systemctl enable mysqld\n\nsudo rm -rf \/mysql\/data\/*\nsudo systemctl start mysqld\n\n#Fix to obtain temp password and set it to blank\npassword=$(grep -oP 'temporary password(.*): \\K(\\S+)' \/var\/log\/mysqld.log)\nsudo mysqladmin --user=root --password=\"$password\" password aaBB**cc1122\nsudo mysql --user=root --password=aaBB**cc1122 -e \"UNINSTALL COMPONENT 'file:\/\/component_validate_password'\"\nsudo mysqladmin --user=root --password=\"aaBB**cc1122\" password \"\"\n\n\n#Mysql secure installation\nsudo mysql -u root<<-EOF\nALTER USER 'root'@'localhost' IDENTIFIED WITH caching_sha2_password BY '@@{MYSQL_PASSWORD}@@';\nDELETE FROM mysql.user WHERE User='root' AND Host NOT IN ('localhost', '127.0.0.1', '::1');\nDELETE FROM mysql.user WHERE User='';\nDELETE FROM mysql.db WHERE Db='test' OR Db='test\\_%';\nFLUSH PRIVILEGES;\nEOF\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"3ee7bf5d-2de9-4958-9b65-e30687c43f17"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"a75ea3ce-823f-462d-b6d1-be2e47913c44"}],"name":"7f65f668_runbook","description":"","state":"ACTIVE","variable_list":[],"message_list":[],"main_task_local_reference":{"kind":"app_task","name":"eefb69f6_dag","uuid":"8ab9dc63-a049-4225-a8d8-0b7e56114dde"},"uuid":"d61af59a-b6f9-43e0-90a0-602defc08595"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPSlavePackage","uuid":"ed6bf66b-ff88-4209-8ac6-fd62178fea4d"},"retries":"0","name":"9607e515_dag","type":"DAG","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"019cfe26-0fda-4f86-b6e4-dbc5461ca4af"}],"name":"22dbbe31_runbook","description":"","state":"ACTIVE","variable_list":[],"message_list":[],"main_task_local_reference":{"kind":"app_task","name":"9607e515_dag","uuid":"019cfe26-0fda-4f86-b6e4-dbc5461ca4af"},"uuid":"0db6e5b4-410f-43db-b6d3-874f6e93c10f"}},"variable_list":[],"description":""},{"uuid":"db2def6e-1144-4d42-ba62-50adf9dc8da0","action_list":[],"service_local_reference_list":[{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"}],"name":"AzureMasterPackage","version":"","type":"DEB","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureMasterPackage","uuid":"db2def6e-1144-4d42-ba62-50adf9dc8da0"},"retries":"0","name":"ff59932a_dag","type":"DAG","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"PackageInstallTask","uuid":"12ff96a6-c00b-49b8-8471-b6610a702b72"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"76465feb-3f3d-439c-8092-f8fce0d07f01"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"45b5395b-b27a-42e1-864e-0b9f56a5a62b"},"retries":"0","name":"PackageInstallTask","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\n# -*- Install Mysql\nsudo yum install -y --quiet \"http:\/\/repo.mysql.com\/mysql80-community-release-el7.rpm\"\nsudo yum update -y --quiet\nsudo yum install -y --quiet sshpass mysql-community-server\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"!includedir \/etc\/my.cnf.d\" | sudo tee -a \/etc\/my.cnf\n\necho \"[mysqld]\nbinlog-format=mixed\nlog-bin=mysql-bin\ndatadir=\/mysql\/data\nsql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES\ninnodb_data_home_dir = \/mysql\/data\ninnodb_log_group_home_dir = \/mysql\/log\ninnodb_file_per_table\ntmpdir=\/mysql\/tmpdir\ninnodb_undo_directory = \/mysql\/undo\ndefault-storage-engine = innodb\ndefault_tmp_storage_engine = innodb\ninnodb_log_files_in_group = 4\ninnodb_log_file_size = 1G\ninnodb_log_buffer_size = 8M\ninnodb_buffer_pool_size = 6G\t\nlarge-pages\t\ninnodb_buffer_pool_instances = 64\t\ninnodb_flush_method=O_DIRECT\t\ninnodb_flush_neighbors=0\t \ninnodb_flush_log_at_trx_commit=1\ninnodb_buffer_pool_dump_at_shutdown=1\t\ninnodb_buffer_pool_load_at_startup=1\t\nbulk_insert_buffer_size = 256\t\ninnodb_thread_concurrency = 16\t\n \t \n# Undo tablespace\t \ninnodb_undo_tablespaces = 5\t\n \t \n# Networking\t \nwait_timeout=57600\t \nmax_allowed_packet=1G\t\nsocket=\/var\/lib\/mysql\/mysql.sock\t \nskip-name-resolve\nport=3306\t\nmax_connections=1000\t\n \t \n\n[mysqld_safe]\nlog-error=\/mysql\/log\/mysqld.log\npid-file=\/var\/run\/mysqld\/mysqld.pid\" | sudo tee \/etc\/my.cnf.d\/nutanix.cnf\n\nsudo sed -i \"\/\\[mysqld\\]\/a server-id=100\" \/etc\/my.cnf.d\/nutanix.cnf\necho \"#master=100\" | sudo tee -a  \/etc\/my.cnf.d\/nutanix.cnf\n\nserver_id=`sudo cat \/etc\/my.cnf.d\/nutanix.cnf | grep  \"server-id=\" | cut -d= -f2`\nis_master=`sudo cat \/etc\/my.cnf.d\/nutanix.cnf | grep -q -w \"#master=$server_id\"; echo $?`\n\nif [ ${is_master} -ne 0 ]\nthen\n   sudo sed -i '\/\\[mysqld\\]\/a read_only=1' \/etc\/my.cnf.d\/nutanix.cnf\nfi\n\nsudo mkdir -p \/mysql\/log \/mysql\/data \/mysql\/tmpdir \/mysql\/undo\nsudo mount -a\nsudo chown -R mysql:mysql \/mysql\n\nsudo rm -f \/mysql\/data\/*\nsudo systemctl start mysqld\n\n#Fix to obtain temp password and set it to blank\npassword=$(grep -oP 'temporary password(.*): \\K(\\S+)' \/var\/log\/mysqld.log)\nsudo mysqladmin --user=root --password=\"$password\" password aaBB**cc1122\nsudo mysql --user=root --password=aaBB**cc1122 -e \"UNINSTALL COMPONENT 'file:\/\/component_validate_password'\"\nsudo mysqladmin --user=root --password=\"aaBB**cc1122\" password \"\"\n\n#Mysql secure installation\nsudo mysql -u root<<-EOF\nALTER USER 'root'@'localhost' IDENTIFIED WITH caching_sha2_password BY '@@{MYSQL_PASSWORD}@@';\nDELETE FROM mysql.user WHERE User='root' AND Host NOT IN ('localhost', '127.0.0.1', '::1');\nDELETE FROM mysql.user WHERE User='';\nDELETE FROM mysql.db WHERE Db='test' OR Db='test\\_%';\nFLUSH PRIVILEGES;\nEOF\n"},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"12ff96a6-c00b-49b8-8471-b6610a702b72"}],"name":"10654624_runbook","description":"","state":"ACTIVE","variable_list":[],"message_list":[],"main_task_local_reference":{"kind":"app_task","name":"ff59932a_dag","uuid":"76465feb-3f3d-439c-8092-f8fce0d07f01"},"uuid":"10945139-907a-43a5-90c2-eca548c1c9f7"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureMasterPackage","uuid":"db2def6e-1144-4d42-ba62-50adf9dc8da0"},"retries":"0","name":"5495194c_dag","type":"DAG","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"35448fdd-8f73-4de4-a04e-6866b1dbfe58"}],"name":"a58212c8_runbook","description":"","state":"ACTIVE","variable_list":[],"message_list":[],"main_task_local_reference":{"kind":"app_task","name":"5495194c_dag","uuid":"35448fdd-8f73-4de4-a04e-6866b1dbfe58"},"uuid":"6dbd2dd9-99de-4017-a35e-74939ab025db"}},"variable_list":[],"description":""},{"uuid":"1f8977ca-1cbd-4b0d-855e-cb9d66009669","action_list":[],"service_local_reference_list":[{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"}],"name":"AzureSlavePackage","version":"","type":"DEB","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureSlavePackage","uuid":"1f8977ca-1cbd-4b0d-855e-cb9d66009669"},"retries":"0","name":"c426da26_dag","type":"DAG","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"PackageInstallTask","uuid":"5a487214-5d34-4a84-8aec-61faf816ff22"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"bf977fe7-5c9d-41be-9732-00b9bdf9b131"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"3e4843d5-3708-4e21-97bc-da079e98c74d"},"retries":"0","name":"PackageInstallTask","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\n# -*- Install Mysql\nsudo yum install -y --quiet \"http:\/\/repo.mysql.com\/mysql80-community-release-el7.rpm\"\nsudo yum update -y --quiet\nsudo yum install -y --quiet sshpass mysql-community-server\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"!includedir \/etc\/my.cnf.d\" | sudo tee -a \/etc\/my.cnf\n\necho \"[mysqld]\nbinlog-format=mixed\nlog-bin=mysql-bin\ndatadir=\/mysql\/data\nsql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES\ninnodb_data_home_dir = \/mysql\/data\ninnodb_log_group_home_dir = \/mysql\/log\ninnodb_file_per_table\ntmpdir=\/mysql\/tmpdir\ninnodb_undo_directory = \/mysql\/undo\ndefault-storage-engine = innodb\ndefault_tmp_storage_engine = innodb\ninnodb_log_files_in_group = 4\ninnodb_log_file_size = 1G\ninnodb_log_buffer_size = 8M\ninnodb_buffer_pool_size = 6G\t\nlarge-pages\t\ninnodb_buffer_pool_instances = 64\t\ninnodb_flush_method=O_DIRECT\t\ninnodb_flush_neighbors=0\t \ninnodb_flush_log_at_trx_commit=1\ninnodb_buffer_pool_dump_at_shutdown=1\t\ninnodb_buffer_pool_load_at_startup=1\t\nbulk_insert_buffer_size = 256\t\ninnodb_thread_concurrency = 16\t\n \t \n# Undo tablespace\t \ninnodb_undo_tablespaces = 5\t\n \t \n# Networking\t \nwait_timeout=57600\t \nmax_allowed_packet=1G\t\nsocket=\/var\/lib\/mysql\/mysql.sock\t \nskip-name-resolve\nport=3306\t\nmax_connections=1000\t\n \t \n\n[mysqld_safe]\nlog-error=\/mysql\/log\/mysqld.log\npid-file=\/var\/run\/mysqld\/mysqld.pid\" | sudo tee \/etc\/my.cnf.d\/nutanix.cnf\n\necho \"#master=100\" | sudo tee -a  \/etc\/my.cnf.d\/nutanix.cnf\n\nserver_id=`sudo cat \/etc\/my.cnf.d\/nutanix.cnf | grep  \"server-id=\" | cut -d= -f2`\nis_master=`sudo cat \/etc\/my.cnf.d\/nutanix.cnf | grep -q -w \"#master=$server_id\"; echo $?`\n\nif [ ${is_master} -ne 0 ]\nthen\n   sudo sed -i '\/\\[mysqld\\]\/a read_only=1' \/etc\/my.cnf.d\/nutanix.cnf\nfi\n\nsudo mkdir -p \/mysql\/log \/mysql\/data \/mysql\/tmpdir \/mysql\/undo\nsudo mount -a\nsudo chown -R mysql:mysql \/mysql\n\nsudo rm -f \/mysql\/data\/*\nsudo systemctl start mysqld\n\n#Fix to obtain temp password and set it to blank\npassword=$(grep -oP 'temporary password(.*): \\K(\\S+)' \/var\/log\/mysqld.log)\nsudo mysqladmin --user=root --password=\"$password\" password aaBB**cc1122\nsudo mysql --user=root --password=aaBB**cc1122 -e \"UNINSTALL COMPONENT 'file:\/\/component_validate_password'\"\nsudo mysqladmin --user=root --password=\"aaBB**cc1122\" password \"\"\n\n#Mysql secure installation\nsudo mysql -u root<<-EOF\nALTER USER 'root'@'localhost' IDENTIFIED WITH caching_sha2_password BY '@@{MYSQL_PASSWORD}@@';\nDELETE FROM mysql.user WHERE User='root' AND Host NOT IN ('localhost', '127.0.0.1', '::1');\nDELETE FROM mysql.user WHERE User='';\nDELETE FROM mysql.db WHERE Db='test' OR Db='test\\_%';\nFLUSH PRIVILEGES;\nEOF\n"},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"5a487214-5d34-4a84-8aec-61faf816ff22"}],"name":"604f3369_runbook","description":"","state":"ACTIVE","variable_list":[],"message_list":[],"main_task_local_reference":{"kind":"app_task","name":"c426da26_dag","uuid":"bf977fe7-5c9d-41be-9732-00b9bdf9b131"},"uuid":"80de5a8c-8a54-47c7-91e3-ec3c258d774c"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureSlavePackage","uuid":"1f8977ca-1cbd-4b0d-855e-cb9d66009669"},"retries":"0","name":"d93cd003_dag","type":"DAG","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"cf31c4c5-82ed-40a1-b952-2365df16f32c"}],"name":"dab6a81d_runbook","description":"","state":"ACTIVE","variable_list":[],"message_list":[],"main_task_local_reference":{"kind":"app_task","name":"d93cd003_dag","uuid":"cf31c4c5-82ed-40a1-b952-2365df16f32c"},"uuid":"7ec57eb4-e309-470e-83e9-dd605e54f097"}},"variable_list":[],"description":""}],"client_attrs":{"3e4843d5-3708-4e21-97bc-da079e98c74d":{"y":400,"x":480},"33816960-d3af-41d3-a631-752fa678e2c7":{"y":400,"x":115},"540ad9dd-65ea-4adb-9276-faa30f93bce6":{"y":400,"x":115},"6aed513b-461a-4a72-9a0a-c1458a3e7de9":{"y":400,"x":115},"39ccafae-6cd4-40c9-813a-4656786fad81":{"y":400,"x":115}}},"description":"* sudo mysql -u root -p[PASSWORD]  \n* default password [ nutanix\/4u ]"},"api_version":"3.0","metadata":{"last_update_time":"1547715860989498","owner_reference":{"kind":"user","uuid":"00000000-0000-0000-0000-000000000000","name":"admin"},"kind":"blueprint","uuid":"0efe48e5-e6d4-4c17-b173-699713bbfadb","project_reference":{"kind":"project","name":"default","uuid":"209e0a42-6f2d-4999-9a9b-5aa705d25661"},"spec_version":1,"creation_time":"1547715779202977","name":"MYSQL"}}