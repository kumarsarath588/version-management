{"status":{"description":"","source_mpi":"","state":"ACTIVE","is_cloned":false,"message_list":[],"resources":{"service_definition_list":[{"port_list":[],"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"bb520e79-47f2-4c40-bfe4-6d197ba4cc5f","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"FileServer","uuid":"a6166b9f-9131-4150-a2d9-005a3ac25938"},"retries":"0","description":"","type":"DAG","uuid":"4b91ffe1-9d4e-411d-b16f-de1463582194","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Service_Element_Create_a6166b9f_9131_4150_a2d9_005a3ac25938","uuid":"4bfc02c1-67c2-4f30-9d7a-b6d9a034f9bc"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Service_a6166b9f_9131_4150_a2d9_005a3ac25938"},{"target_any_local_reference":{"kind":"app_service","name":"FileServer","uuid":"a6166b9f-9131-4150-a2d9-005a3ac25938"},"retries":"0","description":"","type":"CREATE_SERVICE_ELEMENT","uuid":"4bfc02c1-67c2-4f30-9d7a-b6d9a034f9bc","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Service_Element_Create_a6166b9f_9131_4150_a2d9_005a3ac25938"}],"description":"","message_list":[],"uuid":"83638252-93c6-438c-8db0-5ac83effb622","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Service_a6166b9f_9131_4150_a2d9_005a3ac25938","uuid":"4b91ffe1-9d4e-411d-b16f-de1463582194"},"name":"SYS_GEN__Runbook_Service_a6166b9f_9131_4150_a2d9_005a3ac25938"}},{"description":"System action for starting an application","message_list":[],"uuid":"6d9a2f70-0384-4a3b-a830-b62003c950a5","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"FileServer","uuid":"a6166b9f-9131-4150-a2d9-005a3ac25938"},"retries":"0","description":"","type":"DAG","uuid":"5fda3171-919f-4825-b949-ad2e2a432ddb","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Service_Element_Start_a6166b9f_9131_4150_a2d9_005a3ac25938","uuid":"480a6ea8-7023-46a4-a52b-1a05b79cce33"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Service_a6166b9f_9131_4150_a2d9_005a3ac25938"},{"target_any_local_reference":{"kind":"app_service","name":"FileServer","uuid":"a6166b9f-9131-4150-a2d9-005a3ac25938"},"retries":"0","description":"","type":"SERVICE_ELEMENT_OPERATION","uuid":"480a6ea8-7023-46a4-a52b-1a05b79cce33","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"SERVICE_ELEMENT_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Service_Element_Start_a6166b9f_9131_4150_a2d9_005a3ac25938"}],"description":"","message_list":[],"uuid":"66eff7d6-ab88-474f-bd15-7287cd845dc1","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Service_a6166b9f_9131_4150_a2d9_005a3ac25938","uuid":"5fda3171-919f-4825-b949-ad2e2a432ddb"},"name":"SYS_GEN__Runbook_Service_a6166b9f_9131_4150_a2d9_005a3ac25938"}},{"description":"System action for restarting an application","message_list":[],"uuid":"619959b3-3a3f-4410-90a1-5c44ad587ca7","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"FileServer","uuid":"a6166b9f-9131-4150-a2d9-005a3ac25938"},"retries":"0","description":"","type":"DAG","uuid":"25bb50f1-4e0b-4be5-9d25-57127f69439e","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Service_Element_Restart_a6166b9f_9131_4150_a2d9_005a3ac25938","uuid":"84da2d83-6b29-4fad-9776-a6ba1d9c8002"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Service_a6166b9f_9131_4150_a2d9_005a3ac25938"},{"target_any_local_reference":{"kind":"app_service","name":"FileServer","uuid":"a6166b9f-9131-4150-a2d9-005a3ac25938"},"retries":"0","description":"","type":"SERVICE_ELEMENT_OPERATION","uuid":"84da2d83-6b29-4fad-9776-a6ba1d9c8002","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"SERVICE_ELEMENT_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Service_Element_Restart_a6166b9f_9131_4150_a2d9_005a3ac25938"}],"description":"","message_list":[],"uuid":"fb014f3d-1e69-4ee0-afc0-cbe6dbdb9feb","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Service_a6166b9f_9131_4150_a2d9_005a3ac25938","uuid":"25bb50f1-4e0b-4be5-9d25-57127f69439e"},"name":"SYS_GEN__Runbook_Service_a6166b9f_9131_4150_a2d9_005a3ac25938"}},{"description":"System action for stopping an application","message_list":[],"uuid":"ec59eee5-ed39-4d2d-a3c7-97ee7cfa7e6d","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"FileServer","uuid":"a6166b9f-9131-4150-a2d9-005a3ac25938"},"retries":"0","description":"","type":"DAG","uuid":"0988e8b3-34bf-40d3-9782-766bb95aeda8","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Service_Element_Stop_a6166b9f_9131_4150_a2d9_005a3ac25938","uuid":"b53a1ce0-1ab9-4796-8099-f172d1d9e83c"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Service_a6166b9f_9131_4150_a2d9_005a3ac25938"},{"target_any_local_reference":{"kind":"app_service","name":"FileServer","uuid":"a6166b9f-9131-4150-a2d9-005a3ac25938"},"retries":"0","description":"","type":"SERVICE_ELEMENT_OPERATION","uuid":"b53a1ce0-1ab9-4796-8099-f172d1d9e83c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"SERVICE_ELEMENT_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Service_Element_Stop_a6166b9f_9131_4150_a2d9_005a3ac25938"}],"description":"","message_list":[],"uuid":"3bfa10ab-f583-4758-907c-33173aa6670f","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Service_a6166b9f_9131_4150_a2d9_005a3ac25938","uuid":"0988e8b3-34bf-40d3-9782-766bb95aeda8"},"name":"SYS_GEN__Runbook_Service_a6166b9f_9131_4150_a2d9_005a3ac25938"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"36878632-ecaa-4e0d-9997-9329cf182088","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"FileServer","uuid":"a6166b9f-9131-4150-a2d9-005a3ac25938"},"retries":"0","description":"","type":"DAG","uuid":"1ab349ce-8fab-41c1-b0c4-6dc0ad4f82b1","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Service_Element_Delete_a6166b9f_9131_4150_a2d9_005a3ac25938","uuid":"4b1d7d58-32f0-4c1d-933c-5d431093a77a"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Service_a6166b9f_9131_4150_a2d9_005a3ac25938"},{"target_any_local_reference":{"kind":"app_service","name":"FileServer","uuid":"a6166b9f-9131-4150-a2d9-005a3ac25938"},"retries":"0","description":"","type":"DELETE_SERVICE_ELEMENT","uuid":"4b1d7d58-32f0-4c1d-933c-5d431093a77a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Service_Element_Delete_a6166b9f_9131_4150_a2d9_005a3ac25938"}],"description":"","message_list":[],"uuid":"d7058d8b-4fc3-4751-ab34-953e743c0d27","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Service_a6166b9f_9131_4150_a2d9_005a3ac25938","uuid":"1ab349ce-8fab-41c1-b0c4-6dc0ad4f82b1"},"name":"SYS_GEN__Runbook_Service_a6166b9f_9131_4150_a2d9_005a3ac25938"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"0ec3272b-0dee-4f81-9aa9-0f408b5de3d7","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"FileServer","uuid":"a6166b9f-9131-4150-a2d9-005a3ac25938"},"retries":"0","description":"","type":"DAG","uuid":"f96af7dc-44c5-428d-885e-0e16875187e0","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Service_Element_Delete_a6166b9f_9131_4150_a2d9_005a3ac25938","uuid":"7784e36c-bd98-472b-b88e-5936e53825ec"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Service_a6166b9f_9131_4150_a2d9_005a3ac25938"},{"target_any_local_reference":{"kind":"app_service","name":"FileServer","uuid":"a6166b9f-9131-4150-a2d9-005a3ac25938"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"7784e36c-bd98-472b-b88e-5936e53825ec","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Service_Element_Delete_a6166b9f_9131_4150_a2d9_005a3ac25938"}],"description":"","message_list":[],"uuid":"d6586675-8450-4a0b-b1ba-a0ab66a3aee7","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Service_a6166b9f_9131_4150_a2d9_005a3ac25938","uuid":"f96af7dc-44c5-428d-885e-0e16875187e0"},"name":"SYS_GEN__Runbook_Service_a6166b9f_9131_4150_a2d9_005a3ac25938"}}],"message_list":[],"uuid":"a6166b9f-9131-4150-a2d9-005a3ac25938","state":"ACTIVE","depends_on_list":[],"editables":{},"tier":"","singleton":false,"variable_list":[],"name":"FileServer"},{"port_list":[],"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"cdbe4b43-eba0-47f1-b8a0-b8ce4abef21f","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"RODC","uuid":"325908c4-c51c-4578-bec9-1b82603dbdab"},"retries":"0","description":"","type":"DAG","uuid":"ee161032-1680-42fe-b5be-f240990facc0","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Service_Element_Create_325908c4_c51c_4578_bec9_1b82603dbdab","uuid":"797266db-8863-40a8-a478-70e8e5687785"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Service_325908c4_c51c_4578_bec9_1b82603dbdab"},{"target_any_local_reference":{"kind":"app_service","name":"RODC","uuid":"325908c4-c51c-4578-bec9-1b82603dbdab"},"retries":"0","description":"","type":"CREATE_SERVICE_ELEMENT","uuid":"797266db-8863-40a8-a478-70e8e5687785","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Service_Element_Create_325908c4_c51c_4578_bec9_1b82603dbdab"}],"description":"","message_list":[],"uuid":"c53758f0-778c-4b03-bec4-d2b7fcac5b96","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Service_325908c4_c51c_4578_bec9_1b82603dbdab","uuid":"ee161032-1680-42fe-b5be-f240990facc0"},"name":"SYS_GEN__Runbook_Service_325908c4_c51c_4578_bec9_1b82603dbdab"}},{"description":"System action for starting an application","message_list":[],"uuid":"6c358890-21a0-4768-9bde-58f525e4f19c","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"RODC","uuid":"325908c4-c51c-4578-bec9-1b82603dbdab"},"retries":"0","description":"","type":"DAG","uuid":"b8592b19-f7dc-48a3-9ea2-9e73d04209b6","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Service_Element_Start_325908c4_c51c_4578_bec9_1b82603dbdab","uuid":"c3ebf1c3-af02-45c8-99a0-cd5179c762a5"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Service_325908c4_c51c_4578_bec9_1b82603dbdab"},{"target_any_local_reference":{"kind":"app_service","name":"RODC","uuid":"325908c4-c51c-4578-bec9-1b82603dbdab"},"retries":"0","description":"","type":"SERVICE_ELEMENT_OPERATION","uuid":"c3ebf1c3-af02-45c8-99a0-cd5179c762a5","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"SERVICE_ELEMENT_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Service_Element_Start_325908c4_c51c_4578_bec9_1b82603dbdab"}],"description":"","message_list":[],"uuid":"880cf882-93eb-4e52-bbcd-607fe084124e","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Service_325908c4_c51c_4578_bec9_1b82603dbdab","uuid":"b8592b19-f7dc-48a3-9ea2-9e73d04209b6"},"name":"SYS_GEN__Runbook_Service_325908c4_c51c_4578_bec9_1b82603dbdab"}},{"description":"System action for restarting an application","message_list":[],"uuid":"dd734331-9986-4ca3-8c2e-96b0c2c8173b","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"RODC","uuid":"325908c4-c51c-4578-bec9-1b82603dbdab"},"retries":"0","description":"","type":"DAG","uuid":"77e7f428-cc05-4a20-aee8-81997b1673c0","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Service_Element_Restart_325908c4_c51c_4578_bec9_1b82603dbdab","uuid":"6c333f99-9950-4c19-99a3-8ff2cb9baaa2"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Service_325908c4_c51c_4578_bec9_1b82603dbdab"},{"target_any_local_reference":{"kind":"app_service","name":"RODC","uuid":"325908c4-c51c-4578-bec9-1b82603dbdab"},"retries":"0","description":"","type":"SERVICE_ELEMENT_OPERATION","uuid":"6c333f99-9950-4c19-99a3-8ff2cb9baaa2","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"SERVICE_ELEMENT_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Service_Element_Restart_325908c4_c51c_4578_bec9_1b82603dbdab"}],"description":"","message_list":[],"uuid":"392c57d9-9d76-4bb3-9895-2fdeeb7169bc","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Service_325908c4_c51c_4578_bec9_1b82603dbdab","uuid":"77e7f428-cc05-4a20-aee8-81997b1673c0"},"name":"SYS_GEN__Runbook_Service_325908c4_c51c_4578_bec9_1b82603dbdab"}},{"description":"System action for stopping an application","message_list":[],"uuid":"a50abaff-437e-47d1-a3d3-b1bff5c7fb33","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"RODC","uuid":"325908c4-c51c-4578-bec9-1b82603dbdab"},"retries":"0","description":"","type":"DAG","uuid":"8d274572-054d-4993-adaf-2732aceb835c","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Service_Element_Stop_325908c4_c51c_4578_bec9_1b82603dbdab","uuid":"15e4d33d-b805-47b4-a3dd-fe7bdd977831"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Service_325908c4_c51c_4578_bec9_1b82603dbdab"},{"target_any_local_reference":{"kind":"app_service","name":"RODC","uuid":"325908c4-c51c-4578-bec9-1b82603dbdab"},"retries":"0","description":"","type":"SERVICE_ELEMENT_OPERATION","uuid":"15e4d33d-b805-47b4-a3dd-fe7bdd977831","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"SERVICE_ELEMENT_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Service_Element_Stop_325908c4_c51c_4578_bec9_1b82603dbdab"}],"description":"","message_list":[],"uuid":"7eb6ef58-4910-4857-a326-bc5ee4a699cd","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Service_325908c4_c51c_4578_bec9_1b82603dbdab","uuid":"8d274572-054d-4993-adaf-2732aceb835c"},"name":"SYS_GEN__Runbook_Service_325908c4_c51c_4578_bec9_1b82603dbdab"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"7577e58f-865c-427f-b88e-552322c204aa","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"RODC","uuid":"325908c4-c51c-4578-bec9-1b82603dbdab"},"retries":"0","description":"","type":"DAG","uuid":"40e0284f-f7d0-4bee-a899-4eb5e661ce12","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Service_Element_Delete_325908c4_c51c_4578_bec9_1b82603dbdab","uuid":"e360c79b-42ed-43c4-b134-1a2c3078333c"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Service_325908c4_c51c_4578_bec9_1b82603dbdab"},{"target_any_local_reference":{"kind":"app_service","name":"RODC","uuid":"325908c4-c51c-4578-bec9-1b82603dbdab"},"retries":"0","description":"","type":"DELETE_SERVICE_ELEMENT","uuid":"e360c79b-42ed-43c4-b134-1a2c3078333c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Service_Element_Delete_325908c4_c51c_4578_bec9_1b82603dbdab"}],"description":"","message_list":[],"uuid":"1a955176-9264-4360-a806-eb0547bd47d0","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Service_325908c4_c51c_4578_bec9_1b82603dbdab","uuid":"40e0284f-f7d0-4bee-a899-4eb5e661ce12"},"name":"SYS_GEN__Runbook_Service_325908c4_c51c_4578_bec9_1b82603dbdab"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"ce52aa41-d075-4de2-ba70-98bf19e83f37","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"RODC","uuid":"325908c4-c51c-4578-bec9-1b82603dbdab"},"retries":"0","description":"","type":"DAG","uuid":"6943f324-904c-49ea-acce-9550fd67a5ca","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Service_Element_Delete_325908c4_c51c_4578_bec9_1b82603dbdab","uuid":"ed1f881b-da2b-4b0f-abe2-31b6bd58fc7e"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Service_325908c4_c51c_4578_bec9_1b82603dbdab"},{"target_any_local_reference":{"kind":"app_service","name":"RODC","uuid":"325908c4-c51c-4578-bec9-1b82603dbdab"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"ed1f881b-da2b-4b0f-abe2-31b6bd58fc7e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Service_Element_Delete_325908c4_c51c_4578_bec9_1b82603dbdab"}],"description":"","message_list":[],"uuid":"04c97e22-88bc-450c-8040-0d89829acc7b","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Service_325908c4_c51c_4578_bec9_1b82603dbdab","uuid":"6943f324-904c-49ea-acce-9550fd67a5ca"},"name":"SYS_GEN__Runbook_Service_325908c4_c51c_4578_bec9_1b82603dbdab"}}],"message_list":[],"uuid":"325908c4-c51c-4578-bec9-1b82603dbdab","state":"ACTIVE","depends_on_list":[],"editables":{},"tier":"","singleton":false,"variable_list":[],"name":"RODC"},{"port_list":[],"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"10a6b234-efd6-4eef-aa88-8f2e123b37f7","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"SQLServer","uuid":"2f21ee10-b6af-42b5-ba7c-706f5b58ca6a"},"retries":"0","description":"","type":"DAG","uuid":"fcb262a6-8dfc-460d-9a87-3f6a82f910a1","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Service_Element_Create_2f21ee10_b6af_42b5_ba7c_706f5b58ca6a","uuid":"56559017-41b4-4eb6-952c-1367a516156d"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Service_2f21ee10_b6af_42b5_ba7c_706f5b58ca6a"},{"target_any_local_reference":{"kind":"app_service","name":"SQLServer","uuid":"2f21ee10-b6af-42b5-ba7c-706f5b58ca6a"},"retries":"0","description":"","type":"CREATE_SERVICE_ELEMENT","uuid":"56559017-41b4-4eb6-952c-1367a516156d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Service_Element_Create_2f21ee10_b6af_42b5_ba7c_706f5b58ca6a"}],"description":"","message_list":[],"uuid":"5758a7cd-9ceb-4e2b-af39-af1256a466bb","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Service_2f21ee10_b6af_42b5_ba7c_706f5b58ca6a","uuid":"fcb262a6-8dfc-460d-9a87-3f6a82f910a1"},"name":"SYS_GEN__Runbook_Service_2f21ee10_b6af_42b5_ba7c_706f5b58ca6a"}},{"description":"System action for starting an application","message_list":[],"uuid":"365ba0b6-d75a-4177-8bba-4dc79c0c03a0","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"SQLServer","uuid":"2f21ee10-b6af-42b5-ba7c-706f5b58ca6a"},"retries":"0","description":"","type":"DAG","uuid":"af842e4c-a479-4965-8525-45884252e4b1","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Service_Element_Start_2f21ee10_b6af_42b5_ba7c_706f5b58ca6a","uuid":"ae3c77e7-d79d-4771-8061-3c21a1a4529a"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Service_2f21ee10_b6af_42b5_ba7c_706f5b58ca6a"},{"target_any_local_reference":{"kind":"app_service","name":"SQLServer","uuid":"2f21ee10-b6af-42b5-ba7c-706f5b58ca6a"},"retries":"0","description":"","type":"SERVICE_ELEMENT_OPERATION","uuid":"ae3c77e7-d79d-4771-8061-3c21a1a4529a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"SERVICE_ELEMENT_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Service_Element_Start_2f21ee10_b6af_42b5_ba7c_706f5b58ca6a"}],"description":"","message_list":[],"uuid":"0bdab881-7f85-4f56-b018-4f15d9ff7bc8","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Service_2f21ee10_b6af_42b5_ba7c_706f5b58ca6a","uuid":"af842e4c-a479-4965-8525-45884252e4b1"},"name":"SYS_GEN__Runbook_Service_2f21ee10_b6af_42b5_ba7c_706f5b58ca6a"}},{"description":"System action for restarting an application","message_list":[],"uuid":"c340adfc-9b19-41c7-825f-89a57bc25641","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"SQLServer","uuid":"2f21ee10-b6af-42b5-ba7c-706f5b58ca6a"},"retries":"0","description":"","type":"DAG","uuid":"fc07bcf5-1fbe-41a6-9e9d-51597cf25d80","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Service_Element_Restart_2f21ee10_b6af_42b5_ba7c_706f5b58ca6a","uuid":"7e3ddc88-f89f-42e2-befd-ea8cbde7a901"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Service_2f21ee10_b6af_42b5_ba7c_706f5b58ca6a"},{"target_any_local_reference":{"kind":"app_service","name":"SQLServer","uuid":"2f21ee10-b6af-42b5-ba7c-706f5b58ca6a"},"retries":"0","description":"","type":"SERVICE_ELEMENT_OPERATION","uuid":"7e3ddc88-f89f-42e2-befd-ea8cbde7a901","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"SERVICE_ELEMENT_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Service_Element_Restart_2f21ee10_b6af_42b5_ba7c_706f5b58ca6a"}],"description":"","message_list":[],"uuid":"ba93cba3-2b81-4cd6-91dd-f14f28587b35","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Service_2f21ee10_b6af_42b5_ba7c_706f5b58ca6a","uuid":"fc07bcf5-1fbe-41a6-9e9d-51597cf25d80"},"name":"SYS_GEN__Runbook_Service_2f21ee10_b6af_42b5_ba7c_706f5b58ca6a"}},{"description":"System action for stopping an application","message_list":[],"uuid":"2e822983-1ff6-4d21-a30f-edd34816fa3f","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"SQLServer","uuid":"2f21ee10-b6af-42b5-ba7c-706f5b58ca6a"},"retries":"0","description":"","type":"DAG","uuid":"5271db3e-14cb-43a8-9ca9-028a6c529722","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Service_Element_Stop_2f21ee10_b6af_42b5_ba7c_706f5b58ca6a","uuid":"fbf082e2-0eaa-48eb-b39d-5e20f1a2209c"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Service_2f21ee10_b6af_42b5_ba7c_706f5b58ca6a"},{"target_any_local_reference":{"kind":"app_service","name":"SQLServer","uuid":"2f21ee10-b6af-42b5-ba7c-706f5b58ca6a"},"retries":"0","description":"","type":"SERVICE_ELEMENT_OPERATION","uuid":"fbf082e2-0eaa-48eb-b39d-5e20f1a2209c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"SERVICE_ELEMENT_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Service_Element_Stop_2f21ee10_b6af_42b5_ba7c_706f5b58ca6a"}],"description":"","message_list":[],"uuid":"063fea2f-40c7-49b5-a22b-705144983200","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Service_2f21ee10_b6af_42b5_ba7c_706f5b58ca6a","uuid":"5271db3e-14cb-43a8-9ca9-028a6c529722"},"name":"SYS_GEN__Runbook_Service_2f21ee10_b6af_42b5_ba7c_706f5b58ca6a"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"fd3b0c2c-e334-483c-8591-6fc253fc61a5","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"SQLServer","uuid":"2f21ee10-b6af-42b5-ba7c-706f5b58ca6a"},"retries":"0","description":"","type":"DAG","uuid":"6791a1d1-1cf0-4b32-b83f-6f59bf40e23e","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Service_Element_Delete_2f21ee10_b6af_42b5_ba7c_706f5b58ca6a","uuid":"3375ffa5-8962-4745-acfd-7dcb461abbcc"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Service_2f21ee10_b6af_42b5_ba7c_706f5b58ca6a"},{"target_any_local_reference":{"kind":"app_service","name":"SQLServer","uuid":"2f21ee10-b6af-42b5-ba7c-706f5b58ca6a"},"retries":"0","description":"","type":"DELETE_SERVICE_ELEMENT","uuid":"3375ffa5-8962-4745-acfd-7dcb461abbcc","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Service_Element_Delete_2f21ee10_b6af_42b5_ba7c_706f5b58ca6a"}],"description":"","message_list":[],"uuid":"aaa72a81-ffda-43e2-910a-a62a2da19e1a","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Service_2f21ee10_b6af_42b5_ba7c_706f5b58ca6a","uuid":"6791a1d1-1cf0-4b32-b83f-6f59bf40e23e"},"name":"SYS_GEN__Runbook_Service_2f21ee10_b6af_42b5_ba7c_706f5b58ca6a"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"dab91dfd-fc70-4d3a-9a17-4a39ca5c5f81","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"SQLServer","uuid":"2f21ee10-b6af-42b5-ba7c-706f5b58ca6a"},"retries":"0","description":"","type":"DAG","uuid":"c6c93d92-21c6-4815-b907-89dc322e216b","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Service_Element_Delete_2f21ee10_b6af_42b5_ba7c_706f5b58ca6a","uuid":"7b2339db-e2af-4296-ac9e-4d02af9ede65"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Service_2f21ee10_b6af_42b5_ba7c_706f5b58ca6a"},{"target_any_local_reference":{"kind":"app_service","name":"SQLServer","uuid":"2f21ee10-b6af-42b5-ba7c-706f5b58ca6a"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"7b2339db-e2af-4296-ac9e-4d02af9ede65","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Service_Element_Delete_2f21ee10_b6af_42b5_ba7c_706f5b58ca6a"}],"description":"","message_list":[],"uuid":"32d8aace-4022-4652-b90b-6406e8f9b8b1","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Service_2f21ee10_b6af_42b5_ba7c_706f5b58ca6a","uuid":"c6c93d92-21c6-4815-b907-89dc322e216b"},"name":"SYS_GEN__Runbook_Service_2f21ee10_b6af_42b5_ba7c_706f5b58ca6a"}}],"message_list":[],"uuid":"2f21ee10-b6af-42b5-ba7c-706f5b58ca6a","state":"ACTIVE","depends_on_list":[],"editables":{},"tier":"","singleton":false,"variable_list":[],"name":"SQLServer"}],"substrate_definition_list":[{"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"a0a0e615-f5bc-4a53-9514-830fdd293fba","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"FileServer_VM","uuid":"408f49ff-44c2-40f2-a700-4339864af66c"},"retries":"0","description":"","type":"DAG","uuid":"f77176d1-8b19-41a9-ac51-6ab3ab285400","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Nutanix_Provision_408f49ff_44c2_40f2_a700_4339864af66c","uuid":"17d5f103-fbc5-43c8-949e-8d5e27d1910a"},{"kind":"app_task","name":"SYS_GEN__check_login_for_FileServer_VM_408f49ff_44c2_40f2_a700_4339864af66c","uuid":"bc3bf931-59be-4037-8eab-b0df13e596d5"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Nutanix_Provision_408f49ff_44c2_40f2_a700_4339864af66c","uuid":"17d5f103-fbc5-43c8-949e-8d5e27d1910a"},"edge_type":"inherent","type":"","uuid":"cfe17480-597c-40ee-ade6-ba7c14c4de6c","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_FileServer_VM_408f49ff_44c2_40f2_a700_4339864af66c","uuid":"bc3bf931-59be-4037-8eab-b0df13e596d5"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_408f49ff_44c2_40f2_a700_4339864af66c"},{"target_any_local_reference":{"kind":"app_substrate","name":"FileServer_VM","uuid":"408f49ff-44c2-40f2-a700-4339864af66c"},"retries":"0","description":"","type":"PROVISION_NUTANIX","uuid":"17d5f103-fbc5-43c8-949e-8d5e27d1910a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"name":"FileServer-@@{calm_random}@@","categories":"","availability_zone_reference":null,"backup_policy":null,"type":"","cluster_reference":null,"resources":{"nic_list":[{"nic_type":"NORMAL_NIC","ip_endpoint_list":[],"network_function_chain_reference":null,"network_function_nic_type":"INGRESS","mac_address":"","subnet_reference":{"kind":"subnet","type":"","name":"","uuid":"efc034e3-b50e-4a48-b02d-25036aeb8bd3"},"type":""}],"parent_reference":null,"guest_tools":null,"num_vcpus_per_socket":1,"num_sockets":2,"serial_port_list":[],"gpu_list":[],"memory_size_mib":4096,"power_state":"ON","hardware_clock_timezone":"","guest_customization":{"cloud_init":null,"type":"","sysprep":{"install_type":"PREPARED","unattend_xml":"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<unattend xmlns=\"urn:schemas-microsoft-com:unattend\">\n   <settings pass=\"specialize\">\n\n      <component xmlns:wcm=\"http:\/\/schemas.microsoft.com\/WMIConfig\/2002\/State\" xmlns:xsi=\"http:\/\/www.w3.org\/2001\/XMLSchema-instance\" name=\"Microsoft-Windows-TCPIP\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\">\n         <Interfaces>\n            <Interface wcm:action=\"add\">        \n               <Identifier>Ethernet<\/Identifier>\n               <Ipv4Settings>\n                  <DhcpEnabled>true<\/DhcpEnabled>\n                  <RouterDiscoveryEnabled>true<\/RouterDiscoveryEnabled>\n                  <Metric>30<\/Metric>\n               <\/Ipv4Settings>               \n               \n            <\/Interface>\n         <\/Interfaces>\n      <\/component>\n      <component name=\"Microsoft-Windows-DNS-Client\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\" xmlns:wcm=\"http:\/\/schemas.microsoft.com\/WMIConfig\/2002\/State\" xmlns:xsi=\"http:\/\/www.w3.org\/2001\/XMLSchema-instance\">\n            <Interfaces>\n                <Interface wcm:action=\"add\">\n                    <Identifier>Ethernet<\/Identifier>\n                    <DNSServerSearchOrder>\n                        <IpAddress wcm:action=\"add\" wcm:keyValue=\"1\">@@{DNSServer}@@<\/IpAddress>\n                    <\/DNSServerSearchOrder>\n                    <EnableAdapterDomainNameRegistration>true<\/EnableAdapterDomainNameRegistration>\n                     <DisableDynamicUpdate>false<\/DisableDynamicUpdate>\n                <\/Interface>\n            <\/Interfaces>\n        <\/component>\n        \n      <component xmlns=\"\" name=\"Microsoft-Windows-TerminalServices-LocalSessionManager\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\" processorArchitecture=\"amd64\">\n         <fDenyTSConnections>false<\/fDenyTSConnections>\n      <\/component>\n      <component xmlns=\"\" name=\"Microsoft-Windows-TerminalServices-RDP-WinStationExtensions\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\" processorArchitecture=\"amd64\">\n         <UserAuthentication>0<\/UserAuthentication>\n      <\/component>\n      <component xmlns:wcm=\"http:\/\/schemas.microsoft.com\/WMIConfig\/2002\/State\" xmlns:xsi=\"http:\/\/www.w3.org\/2001\/XMLSchema-instance\" name=\"Networking-MPSSVC-Svc\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\">\n         <FirewallGroups>\n            <FirewallGroup wcm:action=\"add\" wcm:keyValue=\"RemoteDesktop\">\n               <Active>true<\/Active>\n               <Profile>all<\/Profile>\n               <Group>@FirewallAPI.dll,-28752<\/Group>\n            <\/FirewallGroup>\n         <\/FirewallGroups>\n      <\/component>\n   <\/settings>\n   <settings pass=\"oobeSystem\">\n      <component xmlns:wcm=\"http:\/\/schemas.microsoft.com\/WMIConfig\/2002\/State\" xmlns:xsi=\"http:\/\/www.w3.org\/2001\/XMLSchema-instance\" name=\"Microsoft-Windows-Shell-Setup\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\">\n         <UserAccounts>\n            <AdministratorPassword>\n               <Value>@@{LOCAL.secret}@@<\/Value>\n               <PlainText>true<\/PlainText>\n            <\/AdministratorPassword>\n         <\/UserAccounts>\n         <AutoLogon>\n            <Password>\n               <Value>@@{LOCAL.secret}@@<\/Value>\n               <PlainText>true<\/PlainText>\n            <\/Password>\n            <Enabled>true<\/Enabled>\n            <Username>@@{LOCAL.username}@@<\/Username>\n         <\/AutoLogon>\n         <FirstLogonCommands>\n         \n            <SynchronousCommand wcm:action=\"add\">\n               <CommandLine>cmd.exe \/c netsh firewall add portopening TCP 5985 \"Port 5985\"<\/CommandLine>\n               <Description>Win RM port open<\/Description>\n               <Order>1<\/Order>\n               <RequiresUserInput>true<\/RequiresUserInput>\n            <\/SynchronousCommand>\n            \n            <SynchronousCommand wcm:action=\"add\">\n \t\t\t\t<CommandLine>%WINDIR%\\System32\\\\WindowsPowerShell\\\\v1.0\\\\PowerShell.exe -command Set-NetFirewallProfile -Profile Domain,Public,Private -Enabled False<\/CommandLine>\n             \t<Description>ADDC Deploy<\/Description>\n             \t<Order>2<\/Order>\n             <RequiresUserInput>false<\/RequiresUserInput>\n             <\/SynchronousCommand>\n             \n            <SynchronousCommand wcm:action=\"add\">\n \t\t\t\t<CommandLine>%WINDIR%\\\\System32\\\\WindowsPowerShell\\\\v1.0\\\\PowerShell.exe -command enable-psremoting<\/CommandLine>\n             \t<Description>ADDC Deploy<\/Description>\n             \t<Order>3<\/Order>\n             <RequiresUserInput>false<\/RequiresUserInput>\n             <\/SynchronousCommand>\n             \n             <SynchronousCommand wcm:action=\"add\">\n \t\t\t\t<CommandLine>%WINDIR%\\System32\\\\WindowsPowerShell\\\\v1.0\\\\PowerShell.exe -command set-executionpolicy remotesigned<\/CommandLine>\n             \t<Description>ADDC Deploy<\/Description>\n             \t<Order>4<\/Order>\n             <RequiresUserInput>false<\/RequiresUserInput>\n             <\/SynchronousCommand>\n             \n             \n             \n         <\/FirstLogonCommands>\n         <OOBE>\n            <HideEULAPage>true<\/HideEULAPage>\n            <SkipMachineOOBE>true<\/SkipMachineOOBE>\n         <\/OOBE>\n      <\/component>\n      <component xmlns:wcm=\"http:\/\/schemas.microsoft.com\/WMIConfig\/2002\/State\" xmlns:xsi=\"http:\/\/www.w3.org\/2001\/XMLSchema-instance\" name=\"Microsoft-Windows-International-Core\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\">\n         <InputLocale>fr-FR<\/InputLocale>\n         <SystemLocale>fr-FR<\/SystemLocale>\n         <UILanguageFallback>en-us<\/UILanguageFallback>\n         <UILanguage>fr-FR<\/UILanguage>\n         <UserLocale>fr-FR<\/UserLocale>\n      <\/component>\n   <\/settings>\n<\/unattend>","type":""}},"type":"","boot_config":{"boot_device":{"type":"","disk_address":{"adapter_type":"SCSI","device_index":0,"type":""}},"type":"","mac_address":""},"disk_list":[{"data_source_reference":{"kind":"image","type":"","name":"Win2k12r2_Sysprep.qcow2","uuid":"4df886ca-c671-4025-ae29-406c562bd5d0"},"type":"","disk_size_mib":0,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":0,"type":""}}}]}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Nutanix_Provision_408f49ff_44c2_40f2_a700_4339864af66c"},{"target_any_local_reference":{"kind":"app_substrate","name":"FileServer_VM","uuid":"408f49ff-44c2-40f2-a700-4339864af66c"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"bc3bf931-59be-4037-8eab-b0df13e596d5","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"60","address":"@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_FileServer_VM_408f49ff_44c2_40f2_a700_4339864af66c"}],"description":"","message_list":[],"uuid":"d59db055-e331-4387-80fa-ad5afce7560c","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_408f49ff_44c2_40f2_a700_4339864af66c","uuid":"f77176d1-8b19-41a9-ac51-6ab3ab285400"},"name":"SYS_GEN__Runbook_Substrate_408f49ff_44c2_40f2_a700_4339864af66c"}},{"description":"System action for powering on an application","message_list":[],"uuid":"a004c966-7ba4-4b44-bdc9-c69592ed17b7","name":"action_poweron","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"FileServer_VM","uuid":"408f49ff-44c2-40f2-a700-4339864af66c"},"retries":"0","description":"","type":"DAG","uuid":"7f4d3ac1-4003-4ad1-9104-385b522a0aa4","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Nutanix_Operation_PowerOn_408f49ff_44c2_40f2_a700_4339864af66c","uuid":"b11540af-2b86-4d92-8545-869786bd4673"},{"kind":"app_task","name":"SYS_GEN__check_login_for_FileServer_VM_408f49ff_44c2_40f2_a700_4339864af66c","uuid":"cc3bdf49-6bb6-49b9-af58-555680fd1a1c"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Nutanix_Operation_PowerOn_408f49ff_44c2_40f2_a700_4339864af66c","uuid":"b11540af-2b86-4d92-8545-869786bd4673"},"edge_type":"inherent","type":"","uuid":"cb6cfcc0-5603-4e5f-8256-7cc173926b05","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_FileServer_VM_408f49ff_44c2_40f2_a700_4339864af66c","uuid":"cc3bdf49-6bb6-49b9-af58-555680fd1a1c"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_408f49ff_44c2_40f2_a700_4339864af66c"},{"target_any_local_reference":{"kind":"app_substrate","name":"FileServer_VM","uuid":"408f49ff-44c2-40f2-a700-4339864af66c"},"retries":"0","description":"","type":"VMOPERATION_NUTANIX","uuid":"b11540af-2b86-4d92-8545-869786bd4673","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Nutanix_Operation_PowerOn_408f49ff_44c2_40f2_a700_4339864af66c"},{"target_any_local_reference":{"kind":"app_substrate","name":"FileServer_VM","uuid":"408f49ff-44c2-40f2-a700-4339864af66c"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"cc3bdf49-6bb6-49b9-af58-555680fd1a1c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"60","address":"@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_FileServer_VM_408f49ff_44c2_40f2_a700_4339864af66c"}],"description":"","message_list":[],"uuid":"a483e6a7-b8eb-42de-9f1d-c8095301d538","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_408f49ff_44c2_40f2_a700_4339864af66c","uuid":"7f4d3ac1-4003-4ad1-9104-385b522a0aa4"},"name":"SYS_GEN__Runbook_Substrate_408f49ff_44c2_40f2_a700_4339864af66c"}},{"description":"System action for restarting an application","message_list":[],"uuid":"cfd7e9b5-4e16-4836-8371-6dd7cd06577a","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"FileServer_VM","uuid":"408f49ff-44c2-40f2-a700-4339864af66c"},"retries":"0","description":"","type":"DAG","uuid":"4b1bbe72-4318-45ae-a7d8-29f8690e9841","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Nutanix_Operation_Restart_408f49ff_44c2_40f2_a700_4339864af66c","uuid":"2e57c3d9-2113-4b7e-b88d-0d1b7946db04"},{"kind":"app_task","name":"SYS_GEN__check_login_for_FileServer_VM_408f49ff_44c2_40f2_a700_4339864af66c","uuid":"6b835004-1417-4e3a-9057-87e2744f4631"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Nutanix_Operation_Restart_408f49ff_44c2_40f2_a700_4339864af66c","uuid":"2e57c3d9-2113-4b7e-b88d-0d1b7946db04"},"edge_type":"inherent","type":"","uuid":"7868316c-8374-4205-90fa-88eeed34075a","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_FileServer_VM_408f49ff_44c2_40f2_a700_4339864af66c","uuid":"6b835004-1417-4e3a-9057-87e2744f4631"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_408f49ff_44c2_40f2_a700_4339864af66c"},{"target_any_local_reference":{"kind":"app_substrate","name":"FileServer_VM","uuid":"408f49ff-44c2-40f2-a700-4339864af66c"},"retries":"0","description":"","type":"VMOPERATION_NUTANIX","uuid":"2e57c3d9-2113-4b7e-b88d-0d1b7946db04","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Nutanix_Operation_Restart_408f49ff_44c2_40f2_a700_4339864af66c"},{"target_any_local_reference":{"kind":"app_substrate","name":"FileServer_VM","uuid":"408f49ff-44c2-40f2-a700-4339864af66c"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"6b835004-1417-4e3a-9057-87e2744f4631","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"60","address":"@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_FileServer_VM_408f49ff_44c2_40f2_a700_4339864af66c"}],"description":"","message_list":[],"uuid":"f42d2a47-dfea-47d4-ad5b-162403121ce5","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_408f49ff_44c2_40f2_a700_4339864af66c","uuid":"4b1bbe72-4318-45ae-a7d8-29f8690e9841"},"name":"SYS_GEN__Runbook_Substrate_408f49ff_44c2_40f2_a700_4339864af66c"}},{"description":"System action for suspending an application","message_list":[],"uuid":"78efef87-d351-498b-b81b-ee2b12a61aa1","name":"action_suspend","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"FileServer_VM","uuid":"408f49ff-44c2-40f2-a700-4339864af66c"},"retries":"0","description":"","type":"DAG","uuid":"61a03b1a-f548-4828-b08e-82e89feff8da","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_408f49ff_44c2_40f2_a700_4339864af66c"}],"description":"","message_list":[],"uuid":"d27fb048-3618-4447-b2e0-91205d0057dc","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_408f49ff_44c2_40f2_a700_4339864af66c","uuid":"61a03b1a-f548-4828-b08e-82e89feff8da"},"name":"SYS_GEN__Runbook_Substrate_408f49ff_44c2_40f2_a700_4339864af66c"}},{"description":"System action for modifying an application","message_list":[],"uuid":"936ecc91-91f6-4b99-b80a-caa0e1cdb516","name":"action_modify","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"FileServer_VM","uuid":"408f49ff-44c2-40f2-a700-4339864af66c"},"retries":"0","description":"","type":"DAG","uuid":"5bf03aa5-f85d-470d-a312-8596aa08f87f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_408f49ff_44c2_40f2_a700_4339864af66c"}],"description":"","message_list":[],"uuid":"c9ac5f46-e43f-448e-9deb-b958b3d01b00","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_408f49ff_44c2_40f2_a700_4339864af66c","uuid":"5bf03aa5-f85d-470d-a312-8596aa08f87f"},"name":"SYS_GEN__Runbook_Substrate_408f49ff_44c2_40f2_a700_4339864af66c"}},{"description":"System action for powering off an application","message_list":[],"uuid":"428e0972-80ab-4c56-8f05-b1d706c15e4e","name":"action_poweroff","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"FileServer_VM","uuid":"408f49ff-44c2-40f2-a700-4339864af66c"},"retries":"0","description":"","type":"DAG","uuid":"cd7fdcb3-39f0-4f6d-853f-23eec5062778","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Nutanix_Operation_PowerOff_408f49ff_44c2_40f2_a700_4339864af66c","uuid":"2c217532-a993-4575-83c3-385e611b410c"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_408f49ff_44c2_40f2_a700_4339864af66c"},{"target_any_local_reference":{"kind":"app_substrate","name":"FileServer_VM","uuid":"408f49ff-44c2-40f2-a700-4339864af66c"},"retries":"0","description":"","type":"VMOPERATION_NUTANIX","uuid":"2c217532-a993-4575-83c3-385e611b410c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Nutanix_Operation_PowerOff_408f49ff_44c2_40f2_a700_4339864af66c"}],"description":"","message_list":[],"uuid":"3ba234da-1898-448b-ab7d-c919f67c9f8e","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_408f49ff_44c2_40f2_a700_4339864af66c","uuid":"cd7fdcb3-39f0-4f6d-853f-23eec5062778"},"name":"SYS_GEN__Runbook_Substrate_408f49ff_44c2_40f2_a700_4339864af66c"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"b50af83d-2460-4e70-8663-5aea4d1cec89","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"FileServer_VM","uuid":"408f49ff-44c2-40f2-a700-4339864af66c"},"retries":"0","description":"","type":"DAG","uuid":"d3326a26-6fea-4023-9013-7605e21e86d1","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Nutanix_Delete_408f49ff_44c2_40f2_a700_4339864af66c","uuid":"63f06009-49da-4f8e-8340-e84ab8ac2352"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_408f49ff_44c2_40f2_a700_4339864af66c"},{"target_any_local_reference":{"kind":"app_substrate","name":"FileServer_VM","uuid":"408f49ff-44c2-40f2-a700-4339864af66c"},"retries":"0","description":"","type":"DELETE_NUTANIX","uuid":"63f06009-49da-4f8e-8340-e84ab8ac2352","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Nutanix_Delete_408f49ff_44c2_40f2_a700_4339864af66c"}],"description":"","message_list":[],"uuid":"c66e6036-9500-4df7-bc4a-da0bb3da4bec","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_408f49ff_44c2_40f2_a700_4339864af66c","uuid":"d3326a26-6fea-4023-9013-7605e21e86d1"},"name":"SYS_GEN__Runbook_Substrate_408f49ff_44c2_40f2_a700_4339864af66c"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"8fb8520a-ed5d-406b-9efe-22489e5ac08f","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"FileServer_VM","uuid":"408f49ff-44c2-40f2-a700-4339864af66c"},"retries":"0","description":"","type":"DAG","uuid":"79004ead-1536-4b7d-a40e-a16546943e91","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Substrate_Element_Delete_408f49ff_44c2_40f2_a700_4339864af66c","uuid":"8dc4c31c-d39c-4d62-a876-c73eb88fb375"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_408f49ff_44c2_40f2_a700_4339864af66c"},{"target_any_local_reference":{"kind":"app_substrate","name":"FileServer_VM","uuid":"408f49ff-44c2-40f2-a700-4339864af66c"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"8dc4c31c-d39c-4d62-a876-c73eb88fb375","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Substrate_Element_Delete_408f49ff_44c2_40f2_a700_4339864af66c"}],"description":"","message_list":[],"uuid":"6babfa42-c26b-4e54-b04c-f5d643a0684b","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_408f49ff_44c2_40f2_a700_4339864af66c","uuid":"79004ead-1536-4b7d-a40e-a16546943e91"},"name":"SYS_GEN__Runbook_Substrate_408f49ff_44c2_40f2_a700_4339864af66c"}}],"message_list":[],"uuid":"408f49ff-44c2-40f2-a700-4339864af66c","state":"ACTIVE","readiness_probe":{"connection_type":"POWERSHELL","retries":"5","disable_readiness_probe":false,"address":"@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@","delay_secs":"60","connection_port":5985,"login_credential_local_reference":{"kind":"app_credential","name":"LOCAL","uuid":"1fdba0b0-e1cf-4835-b0e5-d525cb736b7f"}},"editables":{"create_spec":{"resources":{"nic_list":{},"serial_port_list":{},"disk_list":{}}}},"os_type":"Windows","type":"AHV_VM","create_spec":{"name":"FileServer-@@{calm_random}@@","categories":"","availability_zone_reference":null,"backup_policy":null,"type":"","cluster_reference":null,"resources":{"nic_list":[{"nic_type":"NORMAL_NIC","ip_endpoint_list":[],"network_function_chain_reference":null,"network_function_nic_type":"INGRESS","mac_address":"","subnet_reference":{"kind":"subnet","type":"","name":"","uuid":"efc034e3-b50e-4a48-b02d-25036aeb8bd3"},"type":""}],"parent_reference":null,"guest_tools":null,"num_vcpus_per_socket":1,"num_sockets":2,"serial_port_list":[],"gpu_list":[],"memory_size_mib":4096,"power_state":"ON","hardware_clock_timezone":"","guest_customization":{"cloud_init":null,"type":"","sysprep":{"install_type":"PREPARED","unattend_xml":"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<unattend xmlns=\"urn:schemas-microsoft-com:unattend\">\n   <settings pass=\"specialize\">\n\n      <component xmlns:wcm=\"http:\/\/schemas.microsoft.com\/WMIConfig\/2002\/State\" xmlns:xsi=\"http:\/\/www.w3.org\/2001\/XMLSchema-instance\" name=\"Microsoft-Windows-TCPIP\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\">\n         <Interfaces>\n            <Interface wcm:action=\"add\">        \n               <Identifier>Ethernet<\/Identifier>\n               <Ipv4Settings>\n                  <DhcpEnabled>true<\/DhcpEnabled>\n                  <RouterDiscoveryEnabled>true<\/RouterDiscoveryEnabled>\n                  <Metric>30<\/Metric>\n               <\/Ipv4Settings>               \n               \n            <\/Interface>\n         <\/Interfaces>\n      <\/component>\n      <component name=\"Microsoft-Windows-DNS-Client\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\" xmlns:wcm=\"http:\/\/schemas.microsoft.com\/WMIConfig\/2002\/State\" xmlns:xsi=\"http:\/\/www.w3.org\/2001\/XMLSchema-instance\">\n            <Interfaces>\n                <Interface wcm:action=\"add\">\n                    <Identifier>Ethernet<\/Identifier>\n                    <DNSServerSearchOrder>\n                        <IpAddress wcm:action=\"add\" wcm:keyValue=\"1\">@@{DNSServer}@@<\/IpAddress>\n                    <\/DNSServerSearchOrder>\n                    <EnableAdapterDomainNameRegistration>true<\/EnableAdapterDomainNameRegistration>\n                     <DisableDynamicUpdate>false<\/DisableDynamicUpdate>\n                <\/Interface>\n            <\/Interfaces>\n        <\/component>\n        \n      <component xmlns=\"\" name=\"Microsoft-Windows-TerminalServices-LocalSessionManager\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\" processorArchitecture=\"amd64\">\n         <fDenyTSConnections>false<\/fDenyTSConnections>\n      <\/component>\n      <component xmlns=\"\" name=\"Microsoft-Windows-TerminalServices-RDP-WinStationExtensions\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\" processorArchitecture=\"amd64\">\n         <UserAuthentication>0<\/UserAuthentication>\n      <\/component>\n      <component xmlns:wcm=\"http:\/\/schemas.microsoft.com\/WMIConfig\/2002\/State\" xmlns:xsi=\"http:\/\/www.w3.org\/2001\/XMLSchema-instance\" name=\"Networking-MPSSVC-Svc\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\">\n         <FirewallGroups>\n            <FirewallGroup wcm:action=\"add\" wcm:keyValue=\"RemoteDesktop\">\n               <Active>true<\/Active>\n               <Profile>all<\/Profile>\n               <Group>@FirewallAPI.dll,-28752<\/Group>\n            <\/FirewallGroup>\n         <\/FirewallGroups>\n      <\/component>\n   <\/settings>\n   <settings pass=\"oobeSystem\">\n      <component xmlns:wcm=\"http:\/\/schemas.microsoft.com\/WMIConfig\/2002\/State\" xmlns:xsi=\"http:\/\/www.w3.org\/2001\/XMLSchema-instance\" name=\"Microsoft-Windows-Shell-Setup\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\">\n         <UserAccounts>\n            <AdministratorPassword>\n               <Value>@@{LOCAL.secret}@@<\/Value>\n               <PlainText>true<\/PlainText>\n            <\/AdministratorPassword>\n         <\/UserAccounts>\n         <AutoLogon>\n            <Password>\n               <Value>@@{LOCAL.secret}@@<\/Value>\n               <PlainText>true<\/PlainText>\n            <\/Password>\n            <Enabled>true<\/Enabled>\n            <Username>@@{LOCAL.username}@@<\/Username>\n         <\/AutoLogon>\n         <FirstLogonCommands>\n         \n            <SynchronousCommand wcm:action=\"add\">\n               <CommandLine>cmd.exe \/c netsh firewall add portopening TCP 5985 \"Port 5985\"<\/CommandLine>\n               <Description>Win RM port open<\/Description>\n               <Order>1<\/Order>\n               <RequiresUserInput>true<\/RequiresUserInput>\n            <\/SynchronousCommand>\n            \n            <SynchronousCommand wcm:action=\"add\">\n \t\t\t\t<CommandLine>%WINDIR%\\System32\\\\WindowsPowerShell\\\\v1.0\\\\PowerShell.exe -command Set-NetFirewallProfile -Profile Domain,Public,Private -Enabled False<\/CommandLine>\n             \t<Description>ADDC Deploy<\/Description>\n             \t<Order>2<\/Order>\n             <RequiresUserInput>false<\/RequiresUserInput>\n             <\/SynchronousCommand>\n             \n            <SynchronousCommand wcm:action=\"add\">\n \t\t\t\t<CommandLine>%WINDIR%\\\\System32\\\\WindowsPowerShell\\\\v1.0\\\\PowerShell.exe -command enable-psremoting<\/CommandLine>\n             \t<Description>ADDC Deploy<\/Description>\n             \t<Order>3<\/Order>\n             <RequiresUserInput>false<\/RequiresUserInput>\n             <\/SynchronousCommand>\n             \n             <SynchronousCommand wcm:action=\"add\">\n \t\t\t\t<CommandLine>%WINDIR%\\System32\\\\WindowsPowerShell\\\\v1.0\\\\PowerShell.exe -command set-executionpolicy remotesigned<\/CommandLine>\n             \t<Description>ADDC Deploy<\/Description>\n             \t<Order>4<\/Order>\n             <RequiresUserInput>false<\/RequiresUserInput>\n             <\/SynchronousCommand>\n             \n             \n             \n         <\/FirstLogonCommands>\n         <OOBE>\n            <HideEULAPage>true<\/HideEULAPage>\n            <SkipMachineOOBE>true<\/SkipMachineOOBE>\n         <\/OOBE>\n      <\/component>\n      <component xmlns:wcm=\"http:\/\/schemas.microsoft.com\/WMIConfig\/2002\/State\" xmlns:xsi=\"http:\/\/www.w3.org\/2001\/XMLSchema-instance\" name=\"Microsoft-Windows-International-Core\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\">\n         <InputLocale>fr-FR<\/InputLocale>\n         <SystemLocale>fr-FR<\/SystemLocale>\n         <UILanguageFallback>en-us<\/UILanguageFallback>\n         <UILanguage>fr-FR<\/UILanguage>\n         <UserLocale>fr-FR<\/UserLocale>\n      <\/component>\n   <\/settings>\n<\/unattend>","type":""}},"type":"","boot_config":{"boot_device":{"type":"","disk_address":{"adapter_type":"SCSI","device_index":0,"type":""}},"type":"","mac_address":""},"disk_list":[{"data_source_reference":{"kind":"image","type":"","name":"Win2k12r2_Sysprep.qcow2","uuid":"4df886ca-c671-4025-ae29-406c562bd5d0"},"type":"","disk_size_mib":0,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":0,"type":""}}}]}},"variable_list":[],"name":"FileServer_VM"},{"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"bd5add52-6f93-4795-a79d-4ba11a48e37e","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"RODC_VM","uuid":"1d9b0dbd-cc66-4d70-bc58-555e09ebb3b0"},"retries":"0","description":"","type":"DAG","uuid":"a40be214-2549-4008-95cc-6d537fb024d2","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Nutanix_Provision_1d9b0dbd_cc66_4d70_bc58_555e09ebb3b0","uuid":"38e6e79d-f0ab-4775-adee-ae262b20b864"},{"kind":"app_task","name":"SYS_GEN__check_login_for_RODC_VM_1d9b0dbd_cc66_4d70_bc58_555e09ebb3b0","uuid":"50b969d4-e753-4e2f-9725-ee1d2447676d"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Nutanix_Provision_1d9b0dbd_cc66_4d70_bc58_555e09ebb3b0","uuid":"38e6e79d-f0ab-4775-adee-ae262b20b864"},"edge_type":"inherent","type":"","uuid":"df99274d-ba65-483c-bc9d-a6ed64b75c8c","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_RODC_VM_1d9b0dbd_cc66_4d70_bc58_555e09ebb3b0","uuid":"50b969d4-e753-4e2f-9725-ee1d2447676d"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_1d9b0dbd_cc66_4d70_bc58_555e09ebb3b0"},{"target_any_local_reference":{"kind":"app_substrate","name":"RODC_VM","uuid":"1d9b0dbd-cc66-4d70-bc58-555e09ebb3b0"},"retries":"0","description":"","type":"PROVISION_NUTANIX","uuid":"38e6e79d-f0ab-4775-adee-ae262b20b864","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"name":"AD-@@{DOMAIN_TYPE}@@-@@{calm_random}@@","categories":"","availability_zone_reference":null,"backup_policy":null,"type":"","cluster_reference":null,"resources":{"nic_list":[{"nic_type":"NORMAL_NIC","ip_endpoint_list":[],"network_function_chain_reference":null,"network_function_nic_type":"INGRESS","mac_address":"","subnet_reference":{"kind":"subnet","type":"","name":"","uuid":"efc034e3-b50e-4a48-b02d-25036aeb8bd3"},"type":""}],"parent_reference":null,"guest_tools":null,"num_vcpus_per_socket":1,"num_sockets":2,"serial_port_list":[],"gpu_list":[],"memory_size_mib":4096,"power_state":"ON","hardware_clock_timezone":"","guest_customization":{"cloud_init":null,"type":"","sysprep":{"install_type":"PREPARED","unattend_xml":"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<unattend xmlns=\"urn:schemas-microsoft-com:unattend\">\n   <settings pass=\"specialize\">\n   \n      <component xmlns:wcm=\"http:\/\/schemas.microsoft.com\/WMIConfig\/2002\/State\" xmlns:xsi=\"http:\/\/www.w3.org\/2001\/XMLSchema-instance\" name=\"Microsoft-Windows-TCPIP\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\">\n         <Interfaces>\n            <Interface wcm:action=\"add\">        \n               <Identifier>Ethernet<\/Identifier>\n               <Ipv4Settings>\n                  <DhcpEnabled>true<\/DhcpEnabled>\n                  <RouterDiscoveryEnabled>true<\/RouterDiscoveryEnabled>\n                  <Metric>30<\/Metric>\n               <\/Ipv4Settings>               \n            <\/Interface>\n         <\/Interfaces>\n      <\/component>  \n      \n      <component name=\"Microsoft-Windows-DNS-Client\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\" xmlns:wcm=\"http:\/\/schemas.microsoft.com\/WMIConfig\/2002\/State\" xmlns:xsi=\"http:\/\/www.w3.org\/2001\/XMLSchema-instance\">\n            <Interfaces>\n                <Interface wcm:action=\"add\">\n                    <Identifier>Ethernet<\/Identifier>\n                    <DNSServerSearchOrder>\n                        <IpAddress wcm:action=\"add\" wcm:keyValue=\"1\">@@{DNSServer}@@<\/IpAddress>\n                    <\/DNSServerSearchOrder>\n                    <EnableAdapterDomainNameRegistration>true<\/EnableAdapterDomainNameRegistration>\n                     <DisableDynamicUpdate>false<\/DisableDynamicUpdate>\n                <\/Interface>\n            <\/Interfaces>\n        <\/component>\n      \n      <component xmlns=\"\" name=\"Microsoft-Windows-TerminalServices-LocalSessionManager\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\" processorArchitecture=\"amd64\">\n         <fDenyTSConnections>false<\/fDenyTSConnections>\n      <\/component>\n      <component xmlns=\"\" name=\"Microsoft-Windows-TerminalServices-RDP-WinStationExtensions\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\" processorArchitecture=\"amd64\">\n         <UserAuthentication>0<\/UserAuthentication>\n      <\/component>\n      <component xmlns:wcm=\"http:\/\/schemas.microsoft.com\/WMIConfig\/2002\/State\" xmlns:xsi=\"http:\/\/www.w3.org\/2001\/XMLSchema-instance\" name=\"Networking-MPSSVC-Svc\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\">\n         <FirewallGroups>\n            <FirewallGroup wcm:action=\"add\" wcm:keyValue=\"RemoteDesktop\">\n               <Active>true<\/Active>\n               <Profile>all<\/Profile>\n               <Group>@FirewallAPI.dll,-28752<\/Group>\n            <\/FirewallGroup>\n         <\/FirewallGroups>\n      <\/component>\n   <\/settings>\n   <settings pass=\"oobeSystem\">\n      <component xmlns:wcm=\"http:\/\/schemas.microsoft.com\/WMIConfig\/2002\/State\" xmlns:xsi=\"http:\/\/www.w3.org\/2001\/XMLSchema-instance\" name=\"Microsoft-Windows-Shell-Setup\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\">\n         <UserAccounts>\n            <AdministratorPassword>\n               <Value>@@{LOCAL.secret}@@<\/Value>\n               <PlainText>true<\/PlainText>\n            <\/AdministratorPassword>\n         <\/UserAccounts>\n         <AutoLogon>\n            <Password>\n               <Value>@@{LOCAL.secret}@@<\/Value>\n               <PlainText>true<\/PlainText>\n            <\/Password>\n            <Enabled>true<\/Enabled>\n            <Username>@@{LOCAL.username}@@<\/Username>\n         <\/AutoLogon>\n         <FirstLogonCommands>\n         \n            <SynchronousCommand wcm:action=\"add\">\n               <CommandLine>cmd.exe \/c netsh firewall add portopening TCP 5985 \"Port 5985\"<\/CommandLine>\n               <Description>Win RM port open<\/Description>\n               <Order>1<\/Order>\n               <RequiresUserInput>true<\/RequiresUserInput>\n            <\/SynchronousCommand>\n            \n            <SynchronousCommand wcm:action=\"add\">\n \t\t\t\t<CommandLine>%WINDIR%\\System32\\\\WindowsPowerShell\\\\v1.0\\\\PowerShell.exe -command Set-NetFirewallProfile -Profile Domain,Public,Private -Enabled False<\/CommandLine>\n             \t<Description>ADDC Deploy<\/Description>\n             \t<Order>2<\/Order>\n             <RequiresUserInput>false<\/RequiresUserInput>\n             <\/SynchronousCommand>\n             \n            <SynchronousCommand wcm:action=\"add\">\n \t\t\t\t<CommandLine>%WINDIR%\\\\System32\\\\WindowsPowerShell\\\\v1.0\\\\PowerShell.exe -command enable-psremoting<\/CommandLine>\n             \t<Description>ADDC Deploy<\/Description>\n             \t<Order>3<\/Order>\n             <RequiresUserInput>false<\/RequiresUserInput>\n             <\/SynchronousCommand>\n             \n             <SynchronousCommand wcm:action=\"add\">\n \t\t\t\t<CommandLine>%WINDIR%\\System32\\\\WindowsPowerShell\\\\v1.0\\\\PowerShell.exe -command set-executionpolicy remotesigned<\/CommandLine>\n             \t<Description>ADDC Deploy<\/Description>\n             \t<Order>4<\/Order>\n             <RequiresUserInput>false<\/RequiresUserInput>\n             <\/SynchronousCommand>\n             \n             \n             \n         <\/FirstLogonCommands>\n         <OOBE>\n            <HideEULAPage>true<\/HideEULAPage>\n            <SkipMachineOOBE>true<\/SkipMachineOOBE>\n         <\/OOBE>\n      <\/component>\n      <component xmlns:wcm=\"http:\/\/schemas.microsoft.com\/WMIConfig\/2002\/State\" xmlns:xsi=\"http:\/\/www.w3.org\/2001\/XMLSchema-instance\" name=\"Microsoft-Windows-International-Core\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\">\n         <InputLocale>fr-FR<\/InputLocale>\n         <SystemLocale>fr-FR<\/SystemLocale>\n         <UILanguageFallback>en-us<\/UILanguageFallback>\n         <UILanguage>fr-FR<\/UILanguage>\n         <UserLocale>fr-FR<\/UserLocale>\n      <\/component>\n   <\/settings>\n<\/unattend>","type":""}},"type":"","boot_config":{"boot_device":{"type":"","disk_address":{"adapter_type":"SCSI","device_index":0,"type":""}},"type":"","mac_address":""},"disk_list":[{"data_source_reference":{"kind":"image","type":"","name":"Win2k12r2_Sysprep.qcow2","uuid":"4df886ca-c671-4025-ae29-406c562bd5d0"},"type":"","disk_size_mib":0,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":0,"type":""}}}]}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Nutanix_Provision_1d9b0dbd_cc66_4d70_bc58_555e09ebb3b0"},{"target_any_local_reference":{"kind":"app_substrate","name":"RODC_VM","uuid":"1d9b0dbd-cc66-4d70-bc58-555e09ebb3b0"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"50b969d4-e753-4e2f-9725-ee1d2447676d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"60","address":"@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_RODC_VM_1d9b0dbd_cc66_4d70_bc58_555e09ebb3b0"}],"description":"","message_list":[],"uuid":"043c7b49-75f4-40aa-b7bc-91bfea84fc18","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_1d9b0dbd_cc66_4d70_bc58_555e09ebb3b0","uuid":"a40be214-2549-4008-95cc-6d537fb024d2"},"name":"SYS_GEN__Runbook_Substrate_1d9b0dbd_cc66_4d70_bc58_555e09ebb3b0"}},{"description":"System action for powering on an application","message_list":[],"uuid":"d13363da-2b12-4ebd-9e5e-f78cd4fb7fe2","name":"action_poweron","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"RODC_VM","uuid":"1d9b0dbd-cc66-4d70-bc58-555e09ebb3b0"},"retries":"0","description":"","type":"DAG","uuid":"c1c91659-f6b1-4f43-b473-23bb4f36cfce","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Nutanix_Operation_PowerOn_1d9b0dbd_cc66_4d70_bc58_555e09ebb3b0","uuid":"f37b5e22-a7f0-4de9-9260-dcf075398e17"},{"kind":"app_task","name":"SYS_GEN__check_login_for_RODC_VM_1d9b0dbd_cc66_4d70_bc58_555e09ebb3b0","uuid":"01e65321-60cb-43ac-b749-f9f9b17c4114"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Nutanix_Operation_PowerOn_1d9b0dbd_cc66_4d70_bc58_555e09ebb3b0","uuid":"f37b5e22-a7f0-4de9-9260-dcf075398e17"},"edge_type":"inherent","type":"","uuid":"a16867b6-1bf4-419b-88dc-540cc2da4f1f","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_RODC_VM_1d9b0dbd_cc66_4d70_bc58_555e09ebb3b0","uuid":"01e65321-60cb-43ac-b749-f9f9b17c4114"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_1d9b0dbd_cc66_4d70_bc58_555e09ebb3b0"},{"target_any_local_reference":{"kind":"app_substrate","name":"RODC_VM","uuid":"1d9b0dbd-cc66-4d70-bc58-555e09ebb3b0"},"retries":"0","description":"","type":"VMOPERATION_NUTANIX","uuid":"f37b5e22-a7f0-4de9-9260-dcf075398e17","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Nutanix_Operation_PowerOn_1d9b0dbd_cc66_4d70_bc58_555e09ebb3b0"},{"target_any_local_reference":{"kind":"app_substrate","name":"RODC_VM","uuid":"1d9b0dbd-cc66-4d70-bc58-555e09ebb3b0"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"01e65321-60cb-43ac-b749-f9f9b17c4114","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"60","address":"@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_RODC_VM_1d9b0dbd_cc66_4d70_bc58_555e09ebb3b0"}],"description":"","message_list":[],"uuid":"6ef78da1-552e-43d8-a9ef-1cb7cd659d08","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_1d9b0dbd_cc66_4d70_bc58_555e09ebb3b0","uuid":"c1c91659-f6b1-4f43-b473-23bb4f36cfce"},"name":"SYS_GEN__Runbook_Substrate_1d9b0dbd_cc66_4d70_bc58_555e09ebb3b0"}},{"description":"System action for restarting an application","message_list":[],"uuid":"865e4a1f-5677-4859-9058-cb33c65cdfdc","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"RODC_VM","uuid":"1d9b0dbd-cc66-4d70-bc58-555e09ebb3b0"},"retries":"0","description":"","type":"DAG","uuid":"1801c73d-e00b-471b-b29b-ca0197370302","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Nutanix_Operation_Restart_1d9b0dbd_cc66_4d70_bc58_555e09ebb3b0","uuid":"cdabdf6e-75b2-456b-b1c5-928ce35b3d6b"},{"kind":"app_task","name":"SYS_GEN__check_login_for_RODC_VM_1d9b0dbd_cc66_4d70_bc58_555e09ebb3b0","uuid":"6e676a92-e770-44a3-b6f8-88fd57d69ff9"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Nutanix_Operation_Restart_1d9b0dbd_cc66_4d70_bc58_555e09ebb3b0","uuid":"cdabdf6e-75b2-456b-b1c5-928ce35b3d6b"},"edge_type":"inherent","type":"","uuid":"aad5d302-dd73-493a-9b90-43ec0cecdc92","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_RODC_VM_1d9b0dbd_cc66_4d70_bc58_555e09ebb3b0","uuid":"6e676a92-e770-44a3-b6f8-88fd57d69ff9"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_1d9b0dbd_cc66_4d70_bc58_555e09ebb3b0"},{"target_any_local_reference":{"kind":"app_substrate","name":"RODC_VM","uuid":"1d9b0dbd-cc66-4d70-bc58-555e09ebb3b0"},"retries":"0","description":"","type":"VMOPERATION_NUTANIX","uuid":"cdabdf6e-75b2-456b-b1c5-928ce35b3d6b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Nutanix_Operation_Restart_1d9b0dbd_cc66_4d70_bc58_555e09ebb3b0"},{"target_any_local_reference":{"kind":"app_substrate","name":"RODC_VM","uuid":"1d9b0dbd-cc66-4d70-bc58-555e09ebb3b0"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"6e676a92-e770-44a3-b6f8-88fd57d69ff9","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"60","address":"@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_RODC_VM_1d9b0dbd_cc66_4d70_bc58_555e09ebb3b0"}],"description":"","message_list":[],"uuid":"f2254450-c2bf-4571-bfca-c07a52506d0a","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_1d9b0dbd_cc66_4d70_bc58_555e09ebb3b0","uuid":"1801c73d-e00b-471b-b29b-ca0197370302"},"name":"SYS_GEN__Runbook_Substrate_1d9b0dbd_cc66_4d70_bc58_555e09ebb3b0"}},{"description":"System action for suspending an application","message_list":[],"uuid":"5329e68b-ff15-45f1-b100-5e2805d8e43b","name":"action_suspend","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"RODC_VM","uuid":"1d9b0dbd-cc66-4d70-bc58-555e09ebb3b0"},"retries":"0","description":"","type":"DAG","uuid":"a0f535d8-8d5b-43ab-aa0b-be8691151c5e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_1d9b0dbd_cc66_4d70_bc58_555e09ebb3b0"}],"description":"","message_list":[],"uuid":"bbb0d7c9-7b07-432a-877e-f82968273100","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_1d9b0dbd_cc66_4d70_bc58_555e09ebb3b0","uuid":"a0f535d8-8d5b-43ab-aa0b-be8691151c5e"},"name":"SYS_GEN__Runbook_Substrate_1d9b0dbd_cc66_4d70_bc58_555e09ebb3b0"}},{"description":"System action for modifying an application","message_list":[],"uuid":"08cdbf39-bc9a-4333-ab72-a664b121bd18","name":"action_modify","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"RODC_VM","uuid":"1d9b0dbd-cc66-4d70-bc58-555e09ebb3b0"},"retries":"0","description":"","type":"DAG","uuid":"fffd8b42-b5f0-4526-84a2-345486d1ae3a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_1d9b0dbd_cc66_4d70_bc58_555e09ebb3b0"}],"description":"","message_list":[],"uuid":"e9d7051f-1b29-4ca9-94c6-61e870e5333c","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_1d9b0dbd_cc66_4d70_bc58_555e09ebb3b0","uuid":"fffd8b42-b5f0-4526-84a2-345486d1ae3a"},"name":"SYS_GEN__Runbook_Substrate_1d9b0dbd_cc66_4d70_bc58_555e09ebb3b0"}},{"description":"System action for powering off an application","message_list":[],"uuid":"c7820aef-4ffb-4579-a50e-771a4e07f6de","name":"action_poweroff","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"RODC_VM","uuid":"1d9b0dbd-cc66-4d70-bc58-555e09ebb3b0"},"retries":"0","description":"","type":"DAG","uuid":"10ac6657-56a3-4e5b-9d23-f72a2846818e","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Nutanix_Operation_PowerOff_1d9b0dbd_cc66_4d70_bc58_555e09ebb3b0","uuid":"fe1a0be3-3a55-45a0-90e2-22539dee698b"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_1d9b0dbd_cc66_4d70_bc58_555e09ebb3b0"},{"target_any_local_reference":{"kind":"app_substrate","name":"RODC_VM","uuid":"1d9b0dbd-cc66-4d70-bc58-555e09ebb3b0"},"retries":"0","description":"","type":"VMOPERATION_NUTANIX","uuid":"fe1a0be3-3a55-45a0-90e2-22539dee698b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Nutanix_Operation_PowerOff_1d9b0dbd_cc66_4d70_bc58_555e09ebb3b0"}],"description":"","message_list":[],"uuid":"475807e6-7964-4242-8b07-284ac891eefb","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_1d9b0dbd_cc66_4d70_bc58_555e09ebb3b0","uuid":"10ac6657-56a3-4e5b-9d23-f72a2846818e"},"name":"SYS_GEN__Runbook_Substrate_1d9b0dbd_cc66_4d70_bc58_555e09ebb3b0"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"1a15333e-274e-49ea-b00a-6e1f06956cfd","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"RODC_VM","uuid":"1d9b0dbd-cc66-4d70-bc58-555e09ebb3b0"},"retries":"0","description":"","type":"DAG","uuid":"860719e8-8176-479c-b9c9-9266b98dd0b7","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Nutanix_Delete_1d9b0dbd_cc66_4d70_bc58_555e09ebb3b0","uuid":"5ae29461-6a45-4e67-8ac3-cfefaac1fd03"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_1d9b0dbd_cc66_4d70_bc58_555e09ebb3b0"},{"target_any_local_reference":{"kind":"app_substrate","name":"RODC_VM","uuid":"1d9b0dbd-cc66-4d70-bc58-555e09ebb3b0"},"retries":"0","description":"","type":"DELETE_NUTANIX","uuid":"5ae29461-6a45-4e67-8ac3-cfefaac1fd03","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Nutanix_Delete_1d9b0dbd_cc66_4d70_bc58_555e09ebb3b0"}],"description":"","message_list":[],"uuid":"b5bf4c8d-6241-4280-984b-b61c030aaafe","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_1d9b0dbd_cc66_4d70_bc58_555e09ebb3b0","uuid":"860719e8-8176-479c-b9c9-9266b98dd0b7"},"name":"SYS_GEN__Runbook_Substrate_1d9b0dbd_cc66_4d70_bc58_555e09ebb3b0"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"57f9cf0d-cc8b-498c-bd42-f157aa0d13aa","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"RODC_VM","uuid":"1d9b0dbd-cc66-4d70-bc58-555e09ebb3b0"},"retries":"0","description":"","type":"DAG","uuid":"0c42b094-4cb6-4e75-8cd2-ceb0bd5f5109","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Substrate_Element_Delete_1d9b0dbd_cc66_4d70_bc58_555e09ebb3b0","uuid":"b61dcce0-6674-4527-a43e-d6099d7cfa87"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_1d9b0dbd_cc66_4d70_bc58_555e09ebb3b0"},{"target_any_local_reference":{"kind":"app_substrate","name":"RODC_VM","uuid":"1d9b0dbd-cc66-4d70-bc58-555e09ebb3b0"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"b61dcce0-6674-4527-a43e-d6099d7cfa87","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Substrate_Element_Delete_1d9b0dbd_cc66_4d70_bc58_555e09ebb3b0"}],"description":"","message_list":[],"uuid":"a5e89ea9-3b62-4a16-bac3-eeb4b226bc57","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_1d9b0dbd_cc66_4d70_bc58_555e09ebb3b0","uuid":"0c42b094-4cb6-4e75-8cd2-ceb0bd5f5109"},"name":"SYS_GEN__Runbook_Substrate_1d9b0dbd_cc66_4d70_bc58_555e09ebb3b0"}}],"message_list":[],"uuid":"1d9b0dbd-cc66-4d70-bc58-555e09ebb3b0","state":"ACTIVE","readiness_probe":{"connection_type":"POWERSHELL","retries":"5","disable_readiness_probe":false,"address":"@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@","delay_secs":"60","connection_port":5985,"login_credential_local_reference":{"kind":"app_credential","name":"LOCAL","uuid":"1fdba0b0-e1cf-4835-b0e5-d525cb736b7f"}},"editables":{"create_spec":{"resources":{"nic_list":{},"serial_port_list":{},"disk_list":{}}}},"os_type":"Windows","type":"AHV_VM","create_spec":{"name":"AD-@@{DOMAIN_TYPE}@@-@@{calm_random}@@","categories":"","availability_zone_reference":null,"backup_policy":null,"type":"","cluster_reference":null,"resources":{"nic_list":[{"nic_type":"NORMAL_NIC","ip_endpoint_list":[],"network_function_chain_reference":null,"network_function_nic_type":"INGRESS","mac_address":"","subnet_reference":{"kind":"subnet","type":"","name":"","uuid":"efc034e3-b50e-4a48-b02d-25036aeb8bd3"},"type":""}],"parent_reference":null,"guest_tools":null,"num_vcpus_per_socket":1,"num_sockets":2,"serial_port_list":[],"gpu_list":[],"memory_size_mib":4096,"power_state":"ON","hardware_clock_timezone":"","guest_customization":{"cloud_init":null,"type":"","sysprep":{"install_type":"PREPARED","unattend_xml":"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<unattend xmlns=\"urn:schemas-microsoft-com:unattend\">\n   <settings pass=\"specialize\">\n   \n      <component xmlns:wcm=\"http:\/\/schemas.microsoft.com\/WMIConfig\/2002\/State\" xmlns:xsi=\"http:\/\/www.w3.org\/2001\/XMLSchema-instance\" name=\"Microsoft-Windows-TCPIP\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\">\n         <Interfaces>\n            <Interface wcm:action=\"add\">        \n               <Identifier>Ethernet<\/Identifier>\n               <Ipv4Settings>\n                  <DhcpEnabled>true<\/DhcpEnabled>\n                  <RouterDiscoveryEnabled>true<\/RouterDiscoveryEnabled>\n                  <Metric>30<\/Metric>\n               <\/Ipv4Settings>               \n            <\/Interface>\n         <\/Interfaces>\n      <\/component>  \n      \n      <component name=\"Microsoft-Windows-DNS-Client\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\" xmlns:wcm=\"http:\/\/schemas.microsoft.com\/WMIConfig\/2002\/State\" xmlns:xsi=\"http:\/\/www.w3.org\/2001\/XMLSchema-instance\">\n            <Interfaces>\n                <Interface wcm:action=\"add\">\n                    <Identifier>Ethernet<\/Identifier>\n                    <DNSServerSearchOrder>\n                        <IpAddress wcm:action=\"add\" wcm:keyValue=\"1\">@@{DNSServer}@@<\/IpAddress>\n                    <\/DNSServerSearchOrder>\n                    <EnableAdapterDomainNameRegistration>true<\/EnableAdapterDomainNameRegistration>\n                     <DisableDynamicUpdate>false<\/DisableDynamicUpdate>\n                <\/Interface>\n            <\/Interfaces>\n        <\/component>\n      \n      <component xmlns=\"\" name=\"Microsoft-Windows-TerminalServices-LocalSessionManager\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\" processorArchitecture=\"amd64\">\n         <fDenyTSConnections>false<\/fDenyTSConnections>\n      <\/component>\n      <component xmlns=\"\" name=\"Microsoft-Windows-TerminalServices-RDP-WinStationExtensions\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\" processorArchitecture=\"amd64\">\n         <UserAuthentication>0<\/UserAuthentication>\n      <\/component>\n      <component xmlns:wcm=\"http:\/\/schemas.microsoft.com\/WMIConfig\/2002\/State\" xmlns:xsi=\"http:\/\/www.w3.org\/2001\/XMLSchema-instance\" name=\"Networking-MPSSVC-Svc\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\">\n         <FirewallGroups>\n            <FirewallGroup wcm:action=\"add\" wcm:keyValue=\"RemoteDesktop\">\n               <Active>true<\/Active>\n               <Profile>all<\/Profile>\n               <Group>@FirewallAPI.dll,-28752<\/Group>\n            <\/FirewallGroup>\n         <\/FirewallGroups>\n      <\/component>\n   <\/settings>\n   <settings pass=\"oobeSystem\">\n      <component xmlns:wcm=\"http:\/\/schemas.microsoft.com\/WMIConfig\/2002\/State\" xmlns:xsi=\"http:\/\/www.w3.org\/2001\/XMLSchema-instance\" name=\"Microsoft-Windows-Shell-Setup\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\">\n         <UserAccounts>\n            <AdministratorPassword>\n               <Value>@@{LOCAL.secret}@@<\/Value>\n               <PlainText>true<\/PlainText>\n            <\/AdministratorPassword>\n         <\/UserAccounts>\n         <AutoLogon>\n            <Password>\n               <Value>@@{LOCAL.secret}@@<\/Value>\n               <PlainText>true<\/PlainText>\n            <\/Password>\n            <Enabled>true<\/Enabled>\n            <Username>@@{LOCAL.username}@@<\/Username>\n         <\/AutoLogon>\n         <FirstLogonCommands>\n         \n            <SynchronousCommand wcm:action=\"add\">\n               <CommandLine>cmd.exe \/c netsh firewall add portopening TCP 5985 \"Port 5985\"<\/CommandLine>\n               <Description>Win RM port open<\/Description>\n               <Order>1<\/Order>\n               <RequiresUserInput>true<\/RequiresUserInput>\n            <\/SynchronousCommand>\n            \n            <SynchronousCommand wcm:action=\"add\">\n \t\t\t\t<CommandLine>%WINDIR%\\System32\\\\WindowsPowerShell\\\\v1.0\\\\PowerShell.exe -command Set-NetFirewallProfile -Profile Domain,Public,Private -Enabled False<\/CommandLine>\n             \t<Description>ADDC Deploy<\/Description>\n             \t<Order>2<\/Order>\n             <RequiresUserInput>false<\/RequiresUserInput>\n             <\/SynchronousCommand>\n             \n            <SynchronousCommand wcm:action=\"add\">\n \t\t\t\t<CommandLine>%WINDIR%\\\\System32\\\\WindowsPowerShell\\\\v1.0\\\\PowerShell.exe -command enable-psremoting<\/CommandLine>\n             \t<Description>ADDC Deploy<\/Description>\n             \t<Order>3<\/Order>\n             <RequiresUserInput>false<\/RequiresUserInput>\n             <\/SynchronousCommand>\n             \n             <SynchronousCommand wcm:action=\"add\">\n \t\t\t\t<CommandLine>%WINDIR%\\System32\\\\WindowsPowerShell\\\\v1.0\\\\PowerShell.exe -command set-executionpolicy remotesigned<\/CommandLine>\n             \t<Description>ADDC Deploy<\/Description>\n             \t<Order>4<\/Order>\n             <RequiresUserInput>false<\/RequiresUserInput>\n             <\/SynchronousCommand>\n             \n             \n             \n         <\/FirstLogonCommands>\n         <OOBE>\n            <HideEULAPage>true<\/HideEULAPage>\n            <SkipMachineOOBE>true<\/SkipMachineOOBE>\n         <\/OOBE>\n      <\/component>\n      <component xmlns:wcm=\"http:\/\/schemas.microsoft.com\/WMIConfig\/2002\/State\" xmlns:xsi=\"http:\/\/www.w3.org\/2001\/XMLSchema-instance\" name=\"Microsoft-Windows-International-Core\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\">\n         <InputLocale>fr-FR<\/InputLocale>\n         <SystemLocale>fr-FR<\/SystemLocale>\n         <UILanguageFallback>en-us<\/UILanguageFallback>\n         <UILanguage>fr-FR<\/UILanguage>\n         <UserLocale>fr-FR<\/UserLocale>\n      <\/component>\n   <\/settings>\n<\/unattend>","type":""}},"type":"","boot_config":{"boot_device":{"type":"","disk_address":{"adapter_type":"SCSI","device_index":0,"type":""}},"type":"","mac_address":""},"disk_list":[{"data_source_reference":{"kind":"image","type":"","name":"Win2k12r2_Sysprep.qcow2","uuid":"4df886ca-c671-4025-ae29-406c562bd5d0"},"type":"","disk_size_mib":0,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":0,"type":""}}}]}},"variable_list":[],"name":"RODC_VM"},{"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"002464a5-7dbe-412d-8db3-148422f2b9ce","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"SQLServer_VM","uuid":"c8891d1c-30b4-40ca-87b8-e096bd079c9c"},"retries":"0","description":"","type":"DAG","uuid":"8d6c7ee8-3176-4c62-9ed6-e84228093150","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Nutanix_Provision_c8891d1c_30b4_40ca_87b8_e096bd079c9c","uuid":"1ca1d50a-6fdd-4a54-8a00-80b23835400f"},{"kind":"app_task","name":"SYS_GEN__check_login_for_SQLServer_VM_c8891d1c_30b4_40ca_87b8_e096bd079c9c","uuid":"2ccdeacc-fccc-4371-9369-10f5f618f2a6"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Nutanix_Provision_c8891d1c_30b4_40ca_87b8_e096bd079c9c","uuid":"1ca1d50a-6fdd-4a54-8a00-80b23835400f"},"edge_type":"inherent","type":"","uuid":"e6b69f73-976b-4bb8-9164-340c897820d2","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_SQLServer_VM_c8891d1c_30b4_40ca_87b8_e096bd079c9c","uuid":"2ccdeacc-fccc-4371-9369-10f5f618f2a6"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_c8891d1c_30b4_40ca_87b8_e096bd079c9c"},{"target_any_local_reference":{"kind":"app_substrate","name":"SQLServer_VM","uuid":"c8891d1c-30b4-40ca-87b8-e096bd079c9c"},"retries":"0","description":"","type":"PROVISION_NUTANIX","uuid":"1ca1d50a-6fdd-4a54-8a00-80b23835400f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"name":"SQLServer-@@{calm_random}@@","categories":"","availability_zone_reference":null,"backup_policy":null,"type":"","cluster_reference":null,"resources":{"nic_list":[{"nic_type":"NORMAL_NIC","ip_endpoint_list":[],"network_function_chain_reference":null,"network_function_nic_type":"INGRESS","mac_address":"","subnet_reference":{"kind":"subnet","type":"","name":"","uuid":"efc034e3-b50e-4a48-b02d-25036aeb8bd3"},"type":""}],"parent_reference":null,"guest_tools":null,"num_vcpus_per_socket":1,"num_sockets":2,"serial_port_list":[],"gpu_list":[],"memory_size_mib":4096,"power_state":"ON","hardware_clock_timezone":"","guest_customization":{"cloud_init":null,"type":"","sysprep":{"install_type":"PREPARED","unattend_xml":"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<unattend xmlns=\"urn:schemas-microsoft-com:unattend\">\n   <settings pass=\"specialize\">\n\n      <component xmlns:wcm=\"http:\/\/schemas.microsoft.com\/WMIConfig\/2002\/State\" xmlns:xsi=\"http:\/\/www.w3.org\/2001\/XMLSchema-instance\" name=\"Microsoft-Windows-TCPIP\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\">\n         <Interfaces>\n            <Interface wcm:action=\"add\">        \n               <Identifier>Ethernet<\/Identifier>\n               <Ipv4Settings>\n                  <DhcpEnabled>true<\/DhcpEnabled>\n                  <RouterDiscoveryEnabled>true<\/RouterDiscoveryEnabled>\n                  <Metric>30<\/Metric>\n               <\/Ipv4Settings>               \n               \n            <\/Interface>\n         <\/Interfaces>\n      <\/component>\n      <component name=\"Microsoft-Windows-DNS-Client\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\" xmlns:wcm=\"http:\/\/schemas.microsoft.com\/WMIConfig\/2002\/State\" xmlns:xsi=\"http:\/\/www.w3.org\/2001\/XMLSchema-instance\">\n            <Interfaces>\n                <Interface wcm:action=\"add\">\n                    <Identifier>Ethernet<\/Identifier>\n                    <DNSServerSearchOrder>\n                        <IpAddress wcm:action=\"add\" wcm:keyValue=\"1\">@@{DNSServer}@@<\/IpAddress>\n                    <\/DNSServerSearchOrder>\n                    <EnableAdapterDomainNameRegistration>true<\/EnableAdapterDomainNameRegistration>\n                     <DisableDynamicUpdate>false<\/DisableDynamicUpdate>\n                <\/Interface>\n            <\/Interfaces>\n        <\/component>\n        \n      <component xmlns=\"\" name=\"Microsoft-Windows-TerminalServices-LocalSessionManager\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\" processorArchitecture=\"amd64\">\n         <fDenyTSConnections>false<\/fDenyTSConnections>\n      <\/component>\n      <component xmlns=\"\" name=\"Microsoft-Windows-TerminalServices-RDP-WinStationExtensions\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\" processorArchitecture=\"amd64\">\n         <UserAuthentication>0<\/UserAuthentication>\n      <\/component>\n      <component xmlns:wcm=\"http:\/\/schemas.microsoft.com\/WMIConfig\/2002\/State\" xmlns:xsi=\"http:\/\/www.w3.org\/2001\/XMLSchema-instance\" name=\"Networking-MPSSVC-Svc\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\">\n         <FirewallGroups>\n            <FirewallGroup wcm:action=\"add\" wcm:keyValue=\"RemoteDesktop\">\n               <Active>true<\/Active>\n               <Profile>all<\/Profile>\n               <Group>@FirewallAPI.dll,-28752<\/Group>\n            <\/FirewallGroup>\n         <\/FirewallGroups>\n      <\/component>\n   <\/settings>\n   <settings pass=\"oobeSystem\">\n      <component xmlns:wcm=\"http:\/\/schemas.microsoft.com\/WMIConfig\/2002\/State\" xmlns:xsi=\"http:\/\/www.w3.org\/2001\/XMLSchema-instance\" name=\"Microsoft-Windows-Shell-Setup\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\">\n         <UserAccounts>\n            <AdministratorPassword>\n               <Value>@@{LOCAL.secret}@@<\/Value>\n               <PlainText>true<\/PlainText>\n            <\/AdministratorPassword>\n         <\/UserAccounts>\n         <AutoLogon>\n            <Password>\n               <Value>@@{LOCAL.secret}@@<\/Value>\n               <PlainText>true<\/PlainText>\n            <\/Password>\n            <Enabled>true<\/Enabled>\n            <Username>@@{LOCAL.username}@@<\/Username>\n         <\/AutoLogon>\n         <FirstLogonCommands>\n         \n            <SynchronousCommand wcm:action=\"add\">\n               <CommandLine>cmd.exe \/c netsh firewall add portopening TCP 5985 \"Port 5985\"<\/CommandLine>\n               <Description>Win RM port open<\/Description>\n               <Order>1<\/Order>\n               <RequiresUserInput>true<\/RequiresUserInput>\n            <\/SynchronousCommand>\n            \n            <SynchronousCommand wcm:action=\"add\">\n \t\t\t\t<CommandLine>%WINDIR%\\System32\\\\WindowsPowerShell\\\\v1.0\\\\PowerShell.exe -command Set-NetFirewallProfile -Profile Domain,Public,Private -Enabled False<\/CommandLine>\n             \t<Description>ADDC Deploy<\/Description>\n             \t<Order>2<\/Order>\n             <RequiresUserInput>false<\/RequiresUserInput>\n             <\/SynchronousCommand>\n             \n            <SynchronousCommand wcm:action=\"add\">\n \t\t\t\t<CommandLine>%WINDIR%\\\\System32\\\\WindowsPowerShell\\\\v1.0\\\\PowerShell.exe -command enable-psremoting<\/CommandLine>\n             \t<Description>ADDC Deploy<\/Description>\n             \t<Order>3<\/Order>\n             <RequiresUserInput>false<\/RequiresUserInput>\n             <\/SynchronousCommand>\n             \n             <SynchronousCommand wcm:action=\"add\">\n \t\t\t\t<CommandLine>%WINDIR%\\System32\\\\WindowsPowerShell\\\\v1.0\\\\PowerShell.exe -command set-executionpolicy remotesigned<\/CommandLine>\n             \t<Description>ADDC Deploy<\/Description>\n             \t<Order>4<\/Order>\n             <RequiresUserInput>false<\/RequiresUserInput>\n             <\/SynchronousCommand>\n             \n             \n             \n         <\/FirstLogonCommands>\n         <OOBE>\n            <HideEULAPage>true<\/HideEULAPage>\n            <SkipMachineOOBE>true<\/SkipMachineOOBE>\n         <\/OOBE>\n      <\/component>\n      <component xmlns:wcm=\"http:\/\/schemas.microsoft.com\/WMIConfig\/2002\/State\" xmlns:xsi=\"http:\/\/www.w3.org\/2001\/XMLSchema-instance\" name=\"Microsoft-Windows-International-Core\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\">\n         <InputLocale>fr-FR<\/InputLocale>\n         <SystemLocale>fr-FR<\/SystemLocale>\n         <UILanguageFallback>en-us<\/UILanguageFallback>\n         <UILanguage>fr-FR<\/UILanguage>\n         <UserLocale>fr-FR<\/UserLocale>\n      <\/component>\n   <\/settings>\n<\/unattend>","type":""}},"type":"","boot_config":{"boot_device":{"type":"","disk_address":{"adapter_type":"SCSI","device_index":0,"type":""}},"type":"","mac_address":""},"disk_list":[{"data_source_reference":{"kind":"image","type":"","name":"Win2k12r2_Sysprep.qcow2","uuid":"4df886ca-c671-4025-ae29-406c562bd5d0"},"type":"","disk_size_mib":0,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":0,"type":""}}},{"data_source_reference":{"kind":"image","type":"","name":"SQLServer2014SP2-FullSlipstream-x64-ENU","uuid":"ae7b7652-bddf-41b2-8920-fa3d5bd0be9a"},"type":"","disk_size_mib":0,"volume_group_reference":null,"device_properties":{"type":"","device_type":"CDROM","disk_address":{"adapter_type":"IDE","device_index":1,"type":""}}}]}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Nutanix_Provision_c8891d1c_30b4_40ca_87b8_e096bd079c9c"},{"target_any_local_reference":{"kind":"app_substrate","name":"SQLServer_VM","uuid":"c8891d1c-30b4-40ca-87b8-e096bd079c9c"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"2ccdeacc-fccc-4371-9369-10f5f618f2a6","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"60","address":"@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_SQLServer_VM_c8891d1c_30b4_40ca_87b8_e096bd079c9c"}],"description":"","message_list":[],"uuid":"ac8c08f4-3196-4acc-aed7-fe6c97d455b6","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_c8891d1c_30b4_40ca_87b8_e096bd079c9c","uuid":"8d6c7ee8-3176-4c62-9ed6-e84228093150"},"name":"SYS_GEN__Runbook_Substrate_c8891d1c_30b4_40ca_87b8_e096bd079c9c"}},{"description":"System action for powering on an application","message_list":[],"uuid":"4c57db21-3dc7-4ced-b355-2c39619e05ce","name":"action_poweron","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"SQLServer_VM","uuid":"c8891d1c-30b4-40ca-87b8-e096bd079c9c"},"retries":"0","description":"","type":"DAG","uuid":"f893bc22-bd8d-4fbc-aeba-660eec461224","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Nutanix_Operation_PowerOn_c8891d1c_30b4_40ca_87b8_e096bd079c9c","uuid":"45ecb376-dc4a-4a8d-a306-5fb2ca7f8e87"},{"kind":"app_task","name":"SYS_GEN__check_login_for_SQLServer_VM_c8891d1c_30b4_40ca_87b8_e096bd079c9c","uuid":"d62549ec-fc16-40da-ad21-4db23db7b4db"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Nutanix_Operation_PowerOn_c8891d1c_30b4_40ca_87b8_e096bd079c9c","uuid":"45ecb376-dc4a-4a8d-a306-5fb2ca7f8e87"},"edge_type":"inherent","type":"","uuid":"11f01a17-7add-4f7e-a2b8-2c090be3187f","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_SQLServer_VM_c8891d1c_30b4_40ca_87b8_e096bd079c9c","uuid":"d62549ec-fc16-40da-ad21-4db23db7b4db"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_c8891d1c_30b4_40ca_87b8_e096bd079c9c"},{"target_any_local_reference":{"kind":"app_substrate","name":"SQLServer_VM","uuid":"c8891d1c-30b4-40ca-87b8-e096bd079c9c"},"retries":"0","description":"","type":"VMOPERATION_NUTANIX","uuid":"45ecb376-dc4a-4a8d-a306-5fb2ca7f8e87","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Nutanix_Operation_PowerOn_c8891d1c_30b4_40ca_87b8_e096bd079c9c"},{"target_any_local_reference":{"kind":"app_substrate","name":"SQLServer_VM","uuid":"c8891d1c-30b4-40ca-87b8-e096bd079c9c"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"d62549ec-fc16-40da-ad21-4db23db7b4db","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"60","address":"@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_SQLServer_VM_c8891d1c_30b4_40ca_87b8_e096bd079c9c"}],"description":"","message_list":[],"uuid":"b24f7058-0da3-4ece-9186-5a050c8fcb74","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_c8891d1c_30b4_40ca_87b8_e096bd079c9c","uuid":"f893bc22-bd8d-4fbc-aeba-660eec461224"},"name":"SYS_GEN__Runbook_Substrate_c8891d1c_30b4_40ca_87b8_e096bd079c9c"}},{"description":"System action for restarting an application","message_list":[],"uuid":"833f9f99-fac0-47d8-a2fc-3e8d6e9a7468","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"SQLServer_VM","uuid":"c8891d1c-30b4-40ca-87b8-e096bd079c9c"},"retries":"0","description":"","type":"DAG","uuid":"d63962a8-62d6-4fb5-b8c8-26d23ea7b84d","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Nutanix_Operation_Restart_c8891d1c_30b4_40ca_87b8_e096bd079c9c","uuid":"e8431c1c-f6da-4356-a81c-4c0e247173c6"},{"kind":"app_task","name":"SYS_GEN__check_login_for_SQLServer_VM_c8891d1c_30b4_40ca_87b8_e096bd079c9c","uuid":"1e619e82-39ad-47ac-a922-09fff5a57651"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Nutanix_Operation_Restart_c8891d1c_30b4_40ca_87b8_e096bd079c9c","uuid":"e8431c1c-f6da-4356-a81c-4c0e247173c6"},"edge_type":"inherent","type":"","uuid":"55af201b-9766-452a-8b31-46954430fc3b","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_SQLServer_VM_c8891d1c_30b4_40ca_87b8_e096bd079c9c","uuid":"1e619e82-39ad-47ac-a922-09fff5a57651"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_c8891d1c_30b4_40ca_87b8_e096bd079c9c"},{"target_any_local_reference":{"kind":"app_substrate","name":"SQLServer_VM","uuid":"c8891d1c-30b4-40ca-87b8-e096bd079c9c"},"retries":"0","description":"","type":"VMOPERATION_NUTANIX","uuid":"e8431c1c-f6da-4356-a81c-4c0e247173c6","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Nutanix_Operation_Restart_c8891d1c_30b4_40ca_87b8_e096bd079c9c"},{"target_any_local_reference":{"kind":"app_substrate","name":"SQLServer_VM","uuid":"c8891d1c-30b4-40ca-87b8-e096bd079c9c"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"1e619e82-39ad-47ac-a922-09fff5a57651","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"60","address":"@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_SQLServer_VM_c8891d1c_30b4_40ca_87b8_e096bd079c9c"}],"description":"","message_list":[],"uuid":"150945a0-4e35-4db8-a8b3-f8cd32aea744","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_c8891d1c_30b4_40ca_87b8_e096bd079c9c","uuid":"d63962a8-62d6-4fb5-b8c8-26d23ea7b84d"},"name":"SYS_GEN__Runbook_Substrate_c8891d1c_30b4_40ca_87b8_e096bd079c9c"}},{"description":"System action for suspending an application","message_list":[],"uuid":"16e605e5-5963-49c9-aea8-297ff2891896","name":"action_suspend","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"SQLServer_VM","uuid":"c8891d1c-30b4-40ca-87b8-e096bd079c9c"},"retries":"0","description":"","type":"DAG","uuid":"344da052-0d74-4750-b5ba-0c7d1ed41df1","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_c8891d1c_30b4_40ca_87b8_e096bd079c9c"}],"description":"","message_list":[],"uuid":"f765577e-89eb-4c3f-9079-b46675116545","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_c8891d1c_30b4_40ca_87b8_e096bd079c9c","uuid":"344da052-0d74-4750-b5ba-0c7d1ed41df1"},"name":"SYS_GEN__Runbook_Substrate_c8891d1c_30b4_40ca_87b8_e096bd079c9c"}},{"description":"System action for modifying an application","message_list":[],"uuid":"a44ab2d1-4c19-477a-af83-d76b5c3ee228","name":"action_modify","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"SQLServer_VM","uuid":"c8891d1c-30b4-40ca-87b8-e096bd079c9c"},"retries":"0","description":"","type":"DAG","uuid":"12481c54-7ef0-4049-a74b-f095ac960123","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_c8891d1c_30b4_40ca_87b8_e096bd079c9c"}],"description":"","message_list":[],"uuid":"c3929b68-95d4-4bda-81ee-9470198f7ebe","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_c8891d1c_30b4_40ca_87b8_e096bd079c9c","uuid":"12481c54-7ef0-4049-a74b-f095ac960123"},"name":"SYS_GEN__Runbook_Substrate_c8891d1c_30b4_40ca_87b8_e096bd079c9c"}},{"description":"System action for powering off an application","message_list":[],"uuid":"032265ff-c4dc-4708-a5b4-2ea70eeffb85","name":"action_poweroff","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"SQLServer_VM","uuid":"c8891d1c-30b4-40ca-87b8-e096bd079c9c"},"retries":"0","description":"","type":"DAG","uuid":"1c97f22d-fa6d-41b0-b4ab-66c66c9828fe","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Nutanix_Operation_PowerOff_c8891d1c_30b4_40ca_87b8_e096bd079c9c","uuid":"598c59c2-bebe-49e6-b4fe-673f687547b6"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_c8891d1c_30b4_40ca_87b8_e096bd079c9c"},{"target_any_local_reference":{"kind":"app_substrate","name":"SQLServer_VM","uuid":"c8891d1c-30b4-40ca-87b8-e096bd079c9c"},"retries":"0","description":"","type":"VMOPERATION_NUTANIX","uuid":"598c59c2-bebe-49e6-b4fe-673f687547b6","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Nutanix_Operation_PowerOff_c8891d1c_30b4_40ca_87b8_e096bd079c9c"}],"description":"","message_list":[],"uuid":"476aea5c-2b37-4a5c-b8de-9988e441d0a9","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_c8891d1c_30b4_40ca_87b8_e096bd079c9c","uuid":"1c97f22d-fa6d-41b0-b4ab-66c66c9828fe"},"name":"SYS_GEN__Runbook_Substrate_c8891d1c_30b4_40ca_87b8_e096bd079c9c"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"d0c55f22-00aa-42d6-9ce8-7cf4579e7dd6","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"SQLServer_VM","uuid":"c8891d1c-30b4-40ca-87b8-e096bd079c9c"},"retries":"0","description":"","type":"DAG","uuid":"3358fcaa-fc71-4108-862f-bc8fc434fd12","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Nutanix_Delete_c8891d1c_30b4_40ca_87b8_e096bd079c9c","uuid":"5dfcfc05-50d7-4789-b943-fc63918f3300"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_c8891d1c_30b4_40ca_87b8_e096bd079c9c"},{"target_any_local_reference":{"kind":"app_substrate","name":"SQLServer_VM","uuid":"c8891d1c-30b4-40ca-87b8-e096bd079c9c"},"retries":"0","description":"","type":"DELETE_NUTANIX","uuid":"5dfcfc05-50d7-4789-b943-fc63918f3300","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Nutanix_Delete_c8891d1c_30b4_40ca_87b8_e096bd079c9c"}],"description":"","message_list":[],"uuid":"d4c8e007-5611-4e14-b8b8-b464b8c02469","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_c8891d1c_30b4_40ca_87b8_e096bd079c9c","uuid":"3358fcaa-fc71-4108-862f-bc8fc434fd12"},"name":"SYS_GEN__Runbook_Substrate_c8891d1c_30b4_40ca_87b8_e096bd079c9c"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"f3df9934-ae2e-4f55-942e-ffcb825b52ad","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"SQLServer_VM","uuid":"c8891d1c-30b4-40ca-87b8-e096bd079c9c"},"retries":"0","description":"","type":"DAG","uuid":"0962b2e3-2e07-4bcc-aefb-b3ebe1076ec2","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Substrate_Element_Delete_c8891d1c_30b4_40ca_87b8_e096bd079c9c","uuid":"c2edd0ce-0785-45f8-aa20-750f93418e69"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_c8891d1c_30b4_40ca_87b8_e096bd079c9c"},{"target_any_local_reference":{"kind":"app_substrate","name":"SQLServer_VM","uuid":"c8891d1c-30b4-40ca-87b8-e096bd079c9c"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"c2edd0ce-0785-45f8-aa20-750f93418e69","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Substrate_Element_Delete_c8891d1c_30b4_40ca_87b8_e096bd079c9c"}],"description":"","message_list":[],"uuid":"31528948-dff3-49d1-823a-ee7839ad8938","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_c8891d1c_30b4_40ca_87b8_e096bd079c9c","uuid":"0962b2e3-2e07-4bcc-aefb-b3ebe1076ec2"},"name":"SYS_GEN__Runbook_Substrate_c8891d1c_30b4_40ca_87b8_e096bd079c9c"}}],"message_list":[],"uuid":"c8891d1c-30b4-40ca-87b8-e096bd079c9c","state":"ACTIVE","readiness_probe":{"connection_type":"POWERSHELL","retries":"5","disable_readiness_probe":false,"address":"@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@","delay_secs":"60","connection_port":5985,"login_credential_local_reference":{"kind":"app_credential","name":"LOCAL","uuid":"1fdba0b0-e1cf-4835-b0e5-d525cb736b7f"}},"editables":{"create_spec":{"resources":{"nic_list":{},"serial_port_list":{},"disk_list":{}}}},"os_type":"Windows","type":"AHV_VM","create_spec":{"name":"SQLServer-@@{calm_random}@@","categories":"","availability_zone_reference":null,"backup_policy":null,"type":"","cluster_reference":null,"resources":{"nic_list":[{"nic_type":"NORMAL_NIC","ip_endpoint_list":[],"network_function_chain_reference":null,"network_function_nic_type":"INGRESS","mac_address":"","subnet_reference":{"kind":"subnet","type":"","name":"","uuid":"efc034e3-b50e-4a48-b02d-25036aeb8bd3"},"type":""}],"parent_reference":null,"guest_tools":null,"num_vcpus_per_socket":1,"num_sockets":2,"serial_port_list":[],"gpu_list":[],"memory_size_mib":4096,"power_state":"ON","hardware_clock_timezone":"","guest_customization":{"cloud_init":null,"type":"","sysprep":{"install_type":"PREPARED","unattend_xml":"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<unattend xmlns=\"urn:schemas-microsoft-com:unattend\">\n   <settings pass=\"specialize\">\n\n      <component xmlns:wcm=\"http:\/\/schemas.microsoft.com\/WMIConfig\/2002\/State\" xmlns:xsi=\"http:\/\/www.w3.org\/2001\/XMLSchema-instance\" name=\"Microsoft-Windows-TCPIP\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\">\n         <Interfaces>\n            <Interface wcm:action=\"add\">        \n               <Identifier>Ethernet<\/Identifier>\n               <Ipv4Settings>\n                  <DhcpEnabled>true<\/DhcpEnabled>\n                  <RouterDiscoveryEnabled>true<\/RouterDiscoveryEnabled>\n                  <Metric>30<\/Metric>\n               <\/Ipv4Settings>               \n               \n            <\/Interface>\n         <\/Interfaces>\n      <\/component>\n      <component name=\"Microsoft-Windows-DNS-Client\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\" xmlns:wcm=\"http:\/\/schemas.microsoft.com\/WMIConfig\/2002\/State\" xmlns:xsi=\"http:\/\/www.w3.org\/2001\/XMLSchema-instance\">\n            <Interfaces>\n                <Interface wcm:action=\"add\">\n                    <Identifier>Ethernet<\/Identifier>\n                    <DNSServerSearchOrder>\n                        <IpAddress wcm:action=\"add\" wcm:keyValue=\"1\">@@{DNSServer}@@<\/IpAddress>\n                    <\/DNSServerSearchOrder>\n                    <EnableAdapterDomainNameRegistration>true<\/EnableAdapterDomainNameRegistration>\n                     <DisableDynamicUpdate>false<\/DisableDynamicUpdate>\n                <\/Interface>\n            <\/Interfaces>\n        <\/component>\n        \n      <component xmlns=\"\" name=\"Microsoft-Windows-TerminalServices-LocalSessionManager\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\" processorArchitecture=\"amd64\">\n         <fDenyTSConnections>false<\/fDenyTSConnections>\n      <\/component>\n      <component xmlns=\"\" name=\"Microsoft-Windows-TerminalServices-RDP-WinStationExtensions\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\" processorArchitecture=\"amd64\">\n         <UserAuthentication>0<\/UserAuthentication>\n      <\/component>\n      <component xmlns:wcm=\"http:\/\/schemas.microsoft.com\/WMIConfig\/2002\/State\" xmlns:xsi=\"http:\/\/www.w3.org\/2001\/XMLSchema-instance\" name=\"Networking-MPSSVC-Svc\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\">\n         <FirewallGroups>\n            <FirewallGroup wcm:action=\"add\" wcm:keyValue=\"RemoteDesktop\">\n               <Active>true<\/Active>\n               <Profile>all<\/Profile>\n               <Group>@FirewallAPI.dll,-28752<\/Group>\n            <\/FirewallGroup>\n         <\/FirewallGroups>\n      <\/component>\n   <\/settings>\n   <settings pass=\"oobeSystem\">\n      <component xmlns:wcm=\"http:\/\/schemas.microsoft.com\/WMIConfig\/2002\/State\" xmlns:xsi=\"http:\/\/www.w3.org\/2001\/XMLSchema-instance\" name=\"Microsoft-Windows-Shell-Setup\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\">\n         <UserAccounts>\n            <AdministratorPassword>\n               <Value>@@{LOCAL.secret}@@<\/Value>\n               <PlainText>true<\/PlainText>\n            <\/AdministratorPassword>\n         <\/UserAccounts>\n         <AutoLogon>\n            <Password>\n               <Value>@@{LOCAL.secret}@@<\/Value>\n               <PlainText>true<\/PlainText>\n            <\/Password>\n            <Enabled>true<\/Enabled>\n            <Username>@@{LOCAL.username}@@<\/Username>\n         <\/AutoLogon>\n         <FirstLogonCommands>\n         \n            <SynchronousCommand wcm:action=\"add\">\n               <CommandLine>cmd.exe \/c netsh firewall add portopening TCP 5985 \"Port 5985\"<\/CommandLine>\n               <Description>Win RM port open<\/Description>\n               <Order>1<\/Order>\n               <RequiresUserInput>true<\/RequiresUserInput>\n            <\/SynchronousCommand>\n            \n            <SynchronousCommand wcm:action=\"add\">\n \t\t\t\t<CommandLine>%WINDIR%\\System32\\\\WindowsPowerShell\\\\v1.0\\\\PowerShell.exe -command Set-NetFirewallProfile -Profile Domain,Public,Private -Enabled False<\/CommandLine>\n             \t<Description>ADDC Deploy<\/Description>\n             \t<Order>2<\/Order>\n             <RequiresUserInput>false<\/RequiresUserInput>\n             <\/SynchronousCommand>\n             \n            <SynchronousCommand wcm:action=\"add\">\n \t\t\t\t<CommandLine>%WINDIR%\\\\System32\\\\WindowsPowerShell\\\\v1.0\\\\PowerShell.exe -command enable-psremoting<\/CommandLine>\n             \t<Description>ADDC Deploy<\/Description>\n             \t<Order>3<\/Order>\n             <RequiresUserInput>false<\/RequiresUserInput>\n             <\/SynchronousCommand>\n             \n             <SynchronousCommand wcm:action=\"add\">\n \t\t\t\t<CommandLine>%WINDIR%\\System32\\\\WindowsPowerShell\\\\v1.0\\\\PowerShell.exe -command set-executionpolicy remotesigned<\/CommandLine>\n             \t<Description>ADDC Deploy<\/Description>\n             \t<Order>4<\/Order>\n             <RequiresUserInput>false<\/RequiresUserInput>\n             <\/SynchronousCommand>\n             \n             \n             \n         <\/FirstLogonCommands>\n         <OOBE>\n            <HideEULAPage>true<\/HideEULAPage>\n            <SkipMachineOOBE>true<\/SkipMachineOOBE>\n         <\/OOBE>\n      <\/component>\n      <component xmlns:wcm=\"http:\/\/schemas.microsoft.com\/WMIConfig\/2002\/State\" xmlns:xsi=\"http:\/\/www.w3.org\/2001\/XMLSchema-instance\" name=\"Microsoft-Windows-International-Core\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\">\n         <InputLocale>fr-FR<\/InputLocale>\n         <SystemLocale>fr-FR<\/SystemLocale>\n         <UILanguageFallback>en-us<\/UILanguageFallback>\n         <UILanguage>fr-FR<\/UILanguage>\n         <UserLocale>fr-FR<\/UserLocale>\n      <\/component>\n   <\/settings>\n<\/unattend>","type":""}},"type":"","boot_config":{"boot_device":{"type":"","disk_address":{"adapter_type":"SCSI","device_index":0,"type":""}},"type":"","mac_address":""},"disk_list":[{"data_source_reference":{"kind":"image","type":"","name":"Win2k12r2_Sysprep.qcow2","uuid":"4df886ca-c671-4025-ae29-406c562bd5d0"},"type":"","disk_size_mib":0,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":0,"type":""}}},{"data_source_reference":{"kind":"image","type":"","name":"SQLServer2014SP2-FullSlipstream-x64-ENU","uuid":"ae7b7652-bddf-41b2-8920-fa3d5bd0be9a"},"type":"","disk_size_mib":0,"volume_group_reference":null,"device_properties":{"type":"","device_type":"CDROM","disk_address":{"adapter_type":"IDE","device_index":1,"type":""}}}]}},"variable_list":[],"name":"SQLServer_VM"}],"credential_definition_list":[{"username":"administrator@contoso.com","description":"","state":"ACTIVE","message_list":[],"uuid":"7958c1cb-7109-4f89-8446-47fd7527512c","secret":{"attrs":{"is_secret_modified":false,"secret_reference":{}}},"editables":{},"type":"PASSWORD","name":"DOMAIN_CRED"},{"username":"administrator","description":"","state":"ACTIVE","message_list":[],"uuid":"1fdba0b0-e1cf-4835-b0e5-d525cb736b7f","secret":{"attrs":{"is_secret_modified":false,"secret_reference":{}}},"editables":{},"type":"PASSWORD","name":"LOCAL"}],"type":"USER","app_profile_list":[{"deployment_create_list":[{"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"810ad095-47a6-460e-a659-d448d121910f","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment","uuid":"349219a8-fb21-44cc-9c51-8abec1d4c5c6"},"retries":"0","description":"","type":"DAG","uuid":"7066265b-6847-4fe3-9b8e-0f3f2c7a5f22","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__DE_Provision_349219a8_fb21_44cc_9c51_8abec1d4c5c6","uuid":"86624cda-2892-4c03-b331-7d778c19337c"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_1d9b0dbd_cc66_4d70_bc58_555e09ebb3b0","uuid":"8bf25f15-b6bc-4f40-85fb-aa0653d23b8e"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_570a5408_8999_4ea2_8fcb_bbdba09ae389","uuid":"a6f26999-07b3-4ca5-99e9-1071d774b7e1"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_325908c4_c51c_4578_bec9_1b82603dbdab","uuid":"869258df-ab91-420b-b910-63bdd2fbc789"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_325908c4_c51c_4578_bec9_1b82603dbdab","uuid":"ac7bdbac-4dfc-49ec-9225-c0ae9417fe91"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_325908c4_c51c_4578_bec9_1b82603dbdab","uuid":"869258df-ab91-420b-b910-63bdd2fbc789"},"edge_type":"inherent","type":"","uuid":"04effce4-f105-43d5-90d5-f2a832e43536","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_325908c4_c51c_4578_bec9_1b82603dbdab","uuid":"ac7bdbac-4dfc-49ec-9225-c0ae9417fe91"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_570a5408_8999_4ea2_8fcb_bbdba09ae389","uuid":"a6f26999-07b3-4ca5-99e9-1071d774b7e1"},"edge_type":"inherent","type":"","uuid":"44dbd95b-7bc2-46e4-b1bd-1006f9efc364","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_325908c4_c51c_4578_bec9_1b82603dbdab","uuid":"869258df-ab91-420b-b910-63bdd2fbc789"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_349219a8_fb21_44cc_9c51_8abec1d4c5c6","uuid":"86624cda-2892-4c03-b331-7d778c19337c"},"edge_type":"inherent","type":"","uuid":"29cd413c-928b-4099-8981-1dc8bf31fded","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_1d9b0dbd_cc66_4d70_bc58_555e09ebb3b0","uuid":"8bf25f15-b6bc-4f40-85fb-aa0653d23b8e"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_1d9b0dbd_cc66_4d70_bc58_555e09ebb3b0","uuid":"8bf25f15-b6bc-4f40-85fb-aa0653d23b8e"},"edge_type":"inherent","type":"","uuid":"f1cfcafe-e948-41c0-b080-74561fe158ae","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_570a5408_8999_4ea2_8fcb_bbdba09ae389","uuid":"a6f26999-07b3-4ca5-99e9-1071d774b7e1"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_349219a8_fb21_44cc_9c51_8abec1d4c5c6"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment","uuid":"349219a8-fb21-44cc-9c51-8abec1d4c5c6"},"retries":"0","description":"","type":"CREATE_DEPLOYMENT_ELEMENT","uuid":"86624cda-2892-4c03-b331-7d778c19337c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Provision_349219a8_fb21_44cc_9c51_8abec1d4c5c6"},{"target_any_local_reference":{"kind":"app_substrate","name":"RODC_VM","uuid":"1d9b0dbd-cc66-4d70-bc58-555e09ebb3b0"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"8bf25f15-b6bc-4f40-85fb-aa0653d23b8e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment","uuid":"349219a8-fb21-44cc-9c51-8abec1d4c5c6"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_1d9b0dbd_cc66_4d70_bc58_555e09ebb3b0","uuid":"043c7b49-75f4-40aa-b7bc-91bfea84fc18"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Substrate_1d9b0dbd_cc66_4d70_bc58_555e09ebb3b0"},{"target_any_local_reference":{"kind":"app_package","name":"RODC_Package","uuid":"570a5408-8999-4ea2-8fcb-bbdba09ae389"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"a6f26999-07b3-4ca5-99e9-1071d774b7e1","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment","uuid":"349219a8-fb21-44cc-9c51-8abec1d4c5c6"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_570a5408_8999_4ea2_8fcb_bbdba09ae389","uuid":"8e86fa3f-6d10-47d3-bb7c-afb7609d7be5"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_570a5408_8999_4ea2_8fcb_bbdba09ae389"},{"target_any_local_reference":{"kind":"app_service","name":"RODC","uuid":"325908c4-c51c-4578-bec9-1b82603dbdab"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"869258df-ab91-420b-b910-63bdd2fbc789","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment","uuid":"349219a8-fb21-44cc-9c51-8abec1d4c5c6"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_325908c4_c51c_4578_bec9_1b82603dbdab","uuid":"c53758f0-778c-4b03-bec4-d2b7fcac5b96"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_325908c4_c51c_4578_bec9_1b82603dbdab"},{"target_any_local_reference":{"kind":"app_service","name":"RODC","uuid":"325908c4-c51c-4578-bec9-1b82603dbdab"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"ac7bdbac-4dfc-49ec-9225-c0ae9417fe91","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment","uuid":"349219a8-fb21-44cc-9c51-8abec1d4c5c6"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_325908c4_c51c_4578_bec9_1b82603dbdab","uuid":"880cf882-93eb-4e52-bbcd-607fe084124e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_325908c4_c51c_4578_bec9_1b82603dbdab"}],"description":"","message_list":[],"uuid":"9e9fff10-b83e-4a0b-b96e-39880edf8993","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_349219a8_fb21_44cc_9c51_8abec1d4c5c6","uuid":"7066265b-6847-4fe3-9b8e-0f3f2c7a5f22"},"name":"SYS_GEN__Runbook_Deployment_349219a8_fb21_44cc_9c51_8abec1d4c5c6"}},{"description":"System action for starting an application","message_list":[],"uuid":"eabb7e88-b9b7-4f97-a091-9a13b1a4cd8e","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment","uuid":"349219a8-fb21-44cc-9c51-8abec1d4c5c6"},"retries":"0","description":"","type":"DAG","uuid":"61aa2e37-82cd-4a0d-a757-10a8c2d1fd63","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_1d9b0dbd_cc66_4d70_bc58_555e09ebb3b0","uuid":"d388d378-b6f0-48ec-a94f-59744041ceb6"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_325908c4_c51c_4578_bec9_1b82603dbdab","uuid":"3345e4d2-04f7-4151-80df-70b0d4615460"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_1d9b0dbd_cc66_4d70_bc58_555e09ebb3b0","uuid":"d388d378-b6f0-48ec-a94f-59744041ceb6"},"edge_type":"inherent","type":"","uuid":"1d5376d0-2e4b-48c8-9025-3e230fde837b","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_325908c4_c51c_4578_bec9_1b82603dbdab","uuid":"3345e4d2-04f7-4151-80df-70b0d4615460"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_349219a8_fb21_44cc_9c51_8abec1d4c5c6"},{"target_any_local_reference":{"kind":"app_substrate","name":"RODC_VM","uuid":"1d9b0dbd-cc66-4d70-bc58-555e09ebb3b0"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"d388d378-b6f0-48ec-a94f-59744041ceb6","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment","uuid":"349219a8-fb21-44cc-9c51-8abec1d4c5c6"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_1d9b0dbd_cc66_4d70_bc58_555e09ebb3b0","uuid":"6ef78da1-552e-43d8-a9ef-1cb7cd659d08"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Substrate_1d9b0dbd_cc66_4d70_bc58_555e09ebb3b0"},{"target_any_local_reference":{"kind":"app_service","name":"RODC","uuid":"325908c4-c51c-4578-bec9-1b82603dbdab"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"3345e4d2-04f7-4151-80df-70b0d4615460","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment","uuid":"349219a8-fb21-44cc-9c51-8abec1d4c5c6"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_325908c4_c51c_4578_bec9_1b82603dbdab","uuid":"880cf882-93eb-4e52-bbcd-607fe084124e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_325908c4_c51c_4578_bec9_1b82603dbdab"}],"description":"","message_list":[],"uuid":"eb46302e-ebbd-4530-a12c-50696abd5798","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_349219a8_fb21_44cc_9c51_8abec1d4c5c6","uuid":"61aa2e37-82cd-4a0d-a757-10a8c2d1fd63"},"name":"SYS_GEN__Runbook_Deployment_349219a8_fb21_44cc_9c51_8abec1d4c5c6"}},{"description":"System action for restarting an application","message_list":[],"uuid":"a31ea93b-03b1-4cd3-b48f-4ab6a9c836eb","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment","uuid":"349219a8-fb21-44cc-9c51-8abec1d4c5c6"},"retries":"0","description":"","type":"DAG","uuid":"3d88c1a4-f4b2-4688-9404-6c820597605c","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_1d9b0dbd_cc66_4d70_bc58_555e09ebb3b0","uuid":"b4ac8497-a056-4343-8c81-03f808fb2363"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_325908c4_c51c_4578_bec9_1b82603dbdab","uuid":"da026f46-ac16-4a64-82d4-8c4d98be61e0"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_1d9b0dbd_cc66_4d70_bc58_555e09ebb3b0","uuid":"b4ac8497-a056-4343-8c81-03f808fb2363"},"edge_type":"inherent","type":"","uuid":"e78b5966-07be-4a82-9849-19ca1a956fab","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_325908c4_c51c_4578_bec9_1b82603dbdab","uuid":"da026f46-ac16-4a64-82d4-8c4d98be61e0"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_349219a8_fb21_44cc_9c51_8abec1d4c5c6"},{"target_any_local_reference":{"kind":"app_substrate","name":"RODC_VM","uuid":"1d9b0dbd-cc66-4d70-bc58-555e09ebb3b0"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"b4ac8497-a056-4343-8c81-03f808fb2363","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment","uuid":"349219a8-fb21-44cc-9c51-8abec1d4c5c6"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_1d9b0dbd_cc66_4d70_bc58_555e09ebb3b0","uuid":"f2254450-c2bf-4571-bfca-c07a52506d0a"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Substrate_1d9b0dbd_cc66_4d70_bc58_555e09ebb3b0"},{"target_any_local_reference":{"kind":"app_service","name":"RODC","uuid":"325908c4-c51c-4578-bec9-1b82603dbdab"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"da026f46-ac16-4a64-82d4-8c4d98be61e0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment","uuid":"349219a8-fb21-44cc-9c51-8abec1d4c5c6"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_325908c4_c51c_4578_bec9_1b82603dbdab","uuid":"392c57d9-9d76-4bb3-9895-2fdeeb7169bc"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_325908c4_c51c_4578_bec9_1b82603dbdab"}],"description":"","message_list":[],"uuid":"8b75bee1-6f77-4eb2-bb71-86cedad46fe8","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_349219a8_fb21_44cc_9c51_8abec1d4c5c6","uuid":"3d88c1a4-f4b2-4688-9404-6c820597605c"},"name":"SYS_GEN__Runbook_Deployment_349219a8_fb21_44cc_9c51_8abec1d4c5c6"}},{"description":"System action for stopping an application","message_list":[],"uuid":"13b2e029-f868-4660-aeb2-d37ff6f1faee","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment","uuid":"349219a8-fb21-44cc-9c51-8abec1d4c5c6"},"retries":"0","description":"","type":"DAG","uuid":"7ad63564-2cf7-4f28-8d2c-26fd39eda9de","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_325908c4_c51c_4578_bec9_1b82603dbdab","uuid":"21f967ee-318b-4324-84b4-3a90c1b578b1"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_1d9b0dbd_cc66_4d70_bc58_555e09ebb3b0","uuid":"ca85b6c4-267c-4a39-85df-41a44193f234"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_325908c4_c51c_4578_bec9_1b82603dbdab","uuid":"21f967ee-318b-4324-84b4-3a90c1b578b1"},"edge_type":"inherent","type":"","uuid":"86d4e57d-cdf1-4a4a-bb92-f490137b19c5","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_1d9b0dbd_cc66_4d70_bc58_555e09ebb3b0","uuid":"ca85b6c4-267c-4a39-85df-41a44193f234"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_349219a8_fb21_44cc_9c51_8abec1d4c5c6"},{"target_any_local_reference":{"kind":"app_service","name":"RODC","uuid":"325908c4-c51c-4578-bec9-1b82603dbdab"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"21f967ee-318b-4324-84b4-3a90c1b578b1","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment","uuid":"349219a8-fb21-44cc-9c51-8abec1d4c5c6"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_325908c4_c51c_4578_bec9_1b82603dbdab","uuid":"7eb6ef58-4910-4857-a326-bc5ee4a699cd"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_325908c4_c51c_4578_bec9_1b82603dbdab"},{"target_any_local_reference":{"kind":"app_substrate","name":"RODC_VM","uuid":"1d9b0dbd-cc66-4d70-bc58-555e09ebb3b0"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"ca85b6c4-267c-4a39-85df-41a44193f234","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment","uuid":"349219a8-fb21-44cc-9c51-8abec1d4c5c6"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_1d9b0dbd_cc66_4d70_bc58_555e09ebb3b0","uuid":"475807e6-7964-4242-8b07-284ac891eefb"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Substrate_1d9b0dbd_cc66_4d70_bc58_555e09ebb3b0"}],"description":"","message_list":[],"uuid":"a831d997-b6b2-4751-9f71-8ad453af9c05","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_349219a8_fb21_44cc_9c51_8abec1d4c5c6","uuid":"7ad63564-2cf7-4f28-8d2c-26fd39eda9de"},"name":"SYS_GEN__Runbook_Deployment_349219a8_fb21_44cc_9c51_8abec1d4c5c6"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"b655a993-e206-46e6-84c1-6d0b9eee5b62","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment","uuid":"349219a8-fb21-44cc-9c51-8abec1d4c5c6"},"retries":"0","description":"","type":"DAG","uuid":"5e930f47-cc08-4173-aab5-c810e438a712","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_325908c4_c51c_4578_bec9_1b82603dbdab","uuid":"0328353d-db7b-4e88-a5dc-061fb77068ea"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_325908c4_c51c_4578_bec9_1b82603dbdab","uuid":"f9fefed5-6e14-4dbb-9d7d-e4bf30a70d03"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_570a5408_8999_4ea2_8fcb_bbdba09ae389","uuid":"885d2df9-3c6a-4411-8758-33f470479122"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_1d9b0dbd_cc66_4d70_bc58_555e09ebb3b0","uuid":"73160a1e-24a9-45b7-b26e-1456e31cda57"},{"kind":"app_task","name":"SYS_GEN__DE_Delete_349219a8_fb21_44cc_9c51_8abec1d4c5c6","uuid":"ba2ad6d3-bcff-47a3-ae94-eb7d3b6754dc"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_325908c4_c51c_4578_bec9_1b82603dbdab","uuid":"0328353d-db7b-4e88-a5dc-061fb77068ea"},"edge_type":"inherent","type":"","uuid":"70bcb8dd-1789-4c17-9dab-2fea0c2bebdb","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_325908c4_c51c_4578_bec9_1b82603dbdab","uuid":"f9fefed5-6e14-4dbb-9d7d-e4bf30a70d03"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_325908c4_c51c_4578_bec9_1b82603dbdab","uuid":"f9fefed5-6e14-4dbb-9d7d-e4bf30a70d03"},"edge_type":"inherent","type":"","uuid":"2a13b3a1-4d8b-49b4-884a-cf98ebdb454f","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_570a5408_8999_4ea2_8fcb_bbdba09ae389","uuid":"885d2df9-3c6a-4411-8758-33f470479122"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_570a5408_8999_4ea2_8fcb_bbdba09ae389","uuid":"885d2df9-3c6a-4411-8758-33f470479122"},"edge_type":"inherent","type":"","uuid":"f9b6cfcd-2982-412d-b309-9e76cefc578c","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_1d9b0dbd_cc66_4d70_bc58_555e09ebb3b0","uuid":"73160a1e-24a9-45b7-b26e-1456e31cda57"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_1d9b0dbd_cc66_4d70_bc58_555e09ebb3b0","uuid":"73160a1e-24a9-45b7-b26e-1456e31cda57"},"edge_type":"inherent","type":"","uuid":"9c30e537-db7b-4fa9-9d12-d77e1d2d9700","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Delete_349219a8_fb21_44cc_9c51_8abec1d4c5c6","uuid":"ba2ad6d3-bcff-47a3-ae94-eb7d3b6754dc"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_349219a8_fb21_44cc_9c51_8abec1d4c5c6"},{"target_any_local_reference":{"kind":"app_service","name":"RODC","uuid":"325908c4-c51c-4578-bec9-1b82603dbdab"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"0328353d-db7b-4e88-a5dc-061fb77068ea","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment","uuid":"349219a8-fb21-44cc-9c51-8abec1d4c5c6"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_325908c4_c51c_4578_bec9_1b82603dbdab","uuid":"7eb6ef58-4910-4857-a326-bc5ee4a699cd"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_325908c4_c51c_4578_bec9_1b82603dbdab"},{"target_any_local_reference":{"kind":"app_service","name":"RODC","uuid":"325908c4-c51c-4578-bec9-1b82603dbdab"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"f9fefed5-6e14-4dbb-9d7d-e4bf30a70d03","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment","uuid":"349219a8-fb21-44cc-9c51-8abec1d4c5c6"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_325908c4_c51c_4578_bec9_1b82603dbdab","uuid":"1a955176-9264-4360-a806-eb0547bd47d0"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_325908c4_c51c_4578_bec9_1b82603dbdab"},{"target_any_local_reference":{"kind":"app_package","name":"RODC_Package","uuid":"570a5408-8999-4ea2-8fcb-bbdba09ae389"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"885d2df9-3c6a-4411-8758-33f470479122","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment","uuid":"349219a8-fb21-44cc-9c51-8abec1d4c5c6"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_570a5408_8999_4ea2_8fcb_bbdba09ae389","uuid":"47db4ce8-f0f1-40b7-adcd-4933d04c6039"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_570a5408_8999_4ea2_8fcb_bbdba09ae389"},{"target_any_local_reference":{"kind":"app_substrate","name":"RODC_VM","uuid":"1d9b0dbd-cc66-4d70-bc58-555e09ebb3b0"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"73160a1e-24a9-45b7-b26e-1456e31cda57","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment","uuid":"349219a8-fb21-44cc-9c51-8abec1d4c5c6"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_1d9b0dbd_cc66_4d70_bc58_555e09ebb3b0","uuid":"b5bf4c8d-6241-4280-984b-b61c030aaafe"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Substrate_1d9b0dbd_cc66_4d70_bc58_555e09ebb3b0"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment","uuid":"349219a8-fb21-44cc-9c51-8abec1d4c5c6"},"retries":"0","description":"","type":"DELETE_DEPLOYMENT_ELEMENT","uuid":"ba2ad6d3-bcff-47a3-ae94-eb7d3b6754dc","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Delete_349219a8_fb21_44cc_9c51_8abec1d4c5c6"}],"description":"","message_list":[],"uuid":"6808df75-d746-4e01-a73c-d78d98427aae","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_349219a8_fb21_44cc_9c51_8abec1d4c5c6","uuid":"5e930f47-cc08-4173-aab5-c810e438a712"},"name":"SYS_GEN__Runbook_Deployment_349219a8_fb21_44cc_9c51_8abec1d4c5c6"}},{"description":"System action for scaleout","message_list":[],"uuid":"3fe30e51-2b35-41f0-b53a-2765ad230458","name":"action_scaleout","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment","uuid":"349219a8-fb21-44cc-9c51-8abec1d4c5c6"},"retries":"0","description":"","type":"DAG","uuid":"7c2bae2d-2a60-4e62-b1ad-23b697a626c8","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Deployment_Scaleout_349219a8_fb21_44cc_9c51_8abec1d4c5c6","uuid":"fb1e94f7-4797-496b-97ae-8ceacded2314"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_349219a8_fb21_44cc_9c51_8abec1d4c5c6"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment","uuid":"349219a8-fb21-44cc-9c51-8abec1d4c5c6"},"retries":"0","description":"","type":"SCALING","uuid":"fb1e94f7-4797-496b-97ae-8ceacded2314","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{scaling_count}@@","type":"","scaling_type":"SCALEOUT"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Deployment_Scaleout_349219a8_fb21_44cc_9c51_8abec1d4c5c6"}],"description":"","message_list":[],"uuid":"2aa9c49d-320e-4e23-815a-1b8072b911f2","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"5b33140b-ca81-4002-aef7-734fdd1271dd","value":"0","label":"","state":"NOT_VALIDATED","attrs":{},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"scaling_count"}],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_349219a8_fb21_44cc_9c51_8abec1d4c5c6","uuid":"7c2bae2d-2a60-4e62-b1ad-23b697a626c8"},"name":"SYS_GEN__Runbook_Deployment_349219a8_fb21_44cc_9c51_8abec1d4c5c6"}},{"description":"System action for scalein","message_list":[],"uuid":"489998e8-112e-4981-87b4-8da603a388c1","name":"action_scalein","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment","uuid":"349219a8-fb21-44cc-9c51-8abec1d4c5c6"},"retries":"0","description":"","type":"DAG","uuid":"e74af980-7fb7-4f2b-9cb3-ebd1d40562e2","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Deployment_Scalein_349219a8_fb21_44cc_9c51_8abec1d4c5c6","uuid":"342ed773-0f7f-4306-9af7-183b41f1799d"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_349219a8_fb21_44cc_9c51_8abec1d4c5c6"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment","uuid":"349219a8-fb21-44cc-9c51-8abec1d4c5c6"},"retries":"0","description":"","type":"SCALING","uuid":"342ed773-0f7f-4306-9af7-183b41f1799d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{scaling_count}@@","type":"","scaling_type":"SCALEIN"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Deployment_Scalein_349219a8_fb21_44cc_9c51_8abec1d4c5c6"}],"description":"","message_list":[],"uuid":"619ca850-f0f0-4799-8264-4bf396b1f03c","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"d6d6bc0b-c7eb-4d93-8495-bd024198e9f9","value":"0","label":"","state":"NOT_VALIDATED","attrs":{},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"scaling_count"}],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_349219a8_fb21_44cc_9c51_8abec1d4c5c6","uuid":"e74af980-7fb7-4f2b-9cb3-ebd1d40562e2"},"name":"SYS_GEN__Runbook_Deployment_349219a8_fb21_44cc_9c51_8abec1d4c5c6"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"94934c07-a792-48c5-ae49-197dc7d3067d","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment","uuid":"349219a8-fb21-44cc-9c51-8abec1d4c5c6"},"retries":"0","description":"","type":"DAG","uuid":"298a3d9c-8d79-4b9a-a8f1-5f3c0b64ee5d","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_325908c4_c51c_4578_bec9_1b82603dbdab","uuid":"a5d895b6-669e-4658-80bc-c2b8bf88750b"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_570a5408_8999_4ea2_8fcb_bbdba09ae389","uuid":"16cab8e1-8e6a-418a-b745-31dc191fd255"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_1d9b0dbd_cc66_4d70_bc58_555e09ebb3b0","uuid":"4fdf1134-62b9-4474-bb2c-fee1cd6930b6"},{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_349219a8_fb21_44cc_9c51_8abec1d4c5c6","uuid":"2f48d25b-85c4-4e87-92cf-af6c0628d9dc"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_325908c4_c51c_4578_bec9_1b82603dbdab","uuid":"a5d895b6-669e-4658-80bc-c2b8bf88750b"},"edge_type":"inherent","type":"","uuid":"dc1c74f7-bfcd-4af8-90b4-062f13d85ce3","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_570a5408_8999_4ea2_8fcb_bbdba09ae389","uuid":"16cab8e1-8e6a-418a-b745-31dc191fd255"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_1d9b0dbd_cc66_4d70_bc58_555e09ebb3b0","uuid":"4fdf1134-62b9-4474-bb2c-fee1cd6930b6"},"edge_type":"inherent","type":"","uuid":"50f32e3e-8215-4f84-acab-23ad2a109ba2","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_349219a8_fb21_44cc_9c51_8abec1d4c5c6","uuid":"2f48d25b-85c4-4e87-92cf-af6c0628d9dc"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_570a5408_8999_4ea2_8fcb_bbdba09ae389","uuid":"16cab8e1-8e6a-418a-b745-31dc191fd255"},"edge_type":"inherent","type":"","uuid":"d46ecc1f-ffcd-4f1a-967c-b0dfa0d4223f","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_1d9b0dbd_cc66_4d70_bc58_555e09ebb3b0","uuid":"4fdf1134-62b9-4474-bb2c-fee1cd6930b6"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_349219a8_fb21_44cc_9c51_8abec1d4c5c6"},{"target_any_local_reference":{"kind":"app_service","name":"RODC","uuid":"325908c4-c51c-4578-bec9-1b82603dbdab"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"a5d895b6-669e-4658-80bc-c2b8bf88750b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment","uuid":"349219a8-fb21-44cc-9c51-8abec1d4c5c6"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_325908c4_c51c_4578_bec9_1b82603dbdab","uuid":"04c97e22-88bc-450c-8040-0d89829acc7b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_325908c4_c51c_4578_bec9_1b82603dbdab"},{"target_any_local_reference":{"kind":"app_package","name":"RODC_Package","uuid":"570a5408-8999-4ea2-8fcb-bbdba09ae389"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"16cab8e1-8e6a-418a-b745-31dc191fd255","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_570a5408_8999_4ea2_8fcb_bbdba09ae389"},{"target_any_local_reference":{"kind":"app_substrate","name":"RODC_VM","uuid":"1d9b0dbd-cc66-4d70-bc58-555e09ebb3b0"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"4fdf1134-62b9-4474-bb2c-fee1cd6930b6","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment","uuid":"349219a8-fb21-44cc-9c51-8abec1d4c5c6"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_1d9b0dbd_cc66_4d70_bc58_555e09ebb3b0","uuid":"a5e89ea9-3b62-4a16-bac3-eeb4b226bc57"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Substrate_1d9b0dbd_cc66_4d70_bc58_555e09ebb3b0"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment","uuid":"349219a8-fb21-44cc-9c51-8abec1d4c5c6"},"retries":"0","description":"","type":"SOFT_DELETE_DEPLOYMENT_ELEMENT","uuid":"2f48d25b-85c4-4e87-92cf-af6c0628d9dc","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Soft_Delete_349219a8_fb21_44cc_9c51_8abec1d4c5c6"}],"description":"","message_list":[],"uuid":"125d28a6-f410-49a5-9f90-a45ae0e8ba59","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_349219a8_fb21_44cc_9c51_8abec1d4c5c6","uuid":"298a3d9c-8d79-4b9a-a8f1-5f3c0b64ee5d"},"name":"SYS_GEN__Runbook_Deployment_349219a8_fb21_44cc_9c51_8abec1d4c5c6"}}],"message_list":[],"published_service_local_reference_list":[],"uuid":"349219a8-fb21-44cc-9c51-8abec1d4c5c6","min_replicas":"1","state":"ACTIVE","max_replicas":"1","depends_on_list":[],"editables":{},"package_local_reference_list":[{"kind":"app_package","name":"RODC_Package","uuid":"570a5408-8999-4ea2-8fcb-bbdba09ae389"}],"substrate_local_reference":{"kind":"app_substrate","name":"RODC_VM","uuid":"1d9b0dbd-cc66-4d70-bc58-555e09ebb3b0"},"type":"GREENFIELD","options":{},"variable_list":[],"name":"be8bfd7f_deployment"},{"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"725c63f2-40ca-4990-a388-218cd0654b2e","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1","uuid":"0c3fb32c-a1d7-4352-840d-cc7d2edcb83d"},"retries":"0","description":"","type":"DAG","uuid":"af94b28b-803c-4798-8cb6-8d3b25cb9029","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__DE_Provision_0c3fb32c_a1d7_4352_840d_cc7d2edcb83d","uuid":"83fa263c-2da4-4a60-8e04-8494b3f9f259"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_408f49ff_44c2_40f2_a700_4339864af66c","uuid":"ad77933a-7393-4a28-9cec-c8ac64a7cedf"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_9a25af6d_2e7c_4834_9062_5f870b01cd5c","uuid":"e3f1f12e-96c8-4ac4-896d-44b25f378ce6"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_a6166b9f_9131_4150_a2d9_005a3ac25938","uuid":"1c53ae19-9f8c-4de6-aba1-d2e82fdac83f"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_a6166b9f_9131_4150_a2d9_005a3ac25938","uuid":"026eae15-8040-4796-9dd9-c804814ec771"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_a6166b9f_9131_4150_a2d9_005a3ac25938","uuid":"1c53ae19-9f8c-4de6-aba1-d2e82fdac83f"},"edge_type":"inherent","type":"","uuid":"fc6ac6c9-98e2-4b96-a4a0-a971c3fcf839","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_a6166b9f_9131_4150_a2d9_005a3ac25938","uuid":"026eae15-8040-4796-9dd9-c804814ec771"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_9a25af6d_2e7c_4834_9062_5f870b01cd5c","uuid":"e3f1f12e-96c8-4ac4-896d-44b25f378ce6"},"edge_type":"inherent","type":"","uuid":"950be53e-d67c-4dd7-9dd6-ecdf7c12141d","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_a6166b9f_9131_4150_a2d9_005a3ac25938","uuid":"1c53ae19-9f8c-4de6-aba1-d2e82fdac83f"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_0c3fb32c_a1d7_4352_840d_cc7d2edcb83d","uuid":"83fa263c-2da4-4a60-8e04-8494b3f9f259"},"edge_type":"inherent","type":"","uuid":"285c09d6-9dd7-4c0d-8343-4a5f0b472f38","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_408f49ff_44c2_40f2_a700_4339864af66c","uuid":"ad77933a-7393-4a28-9cec-c8ac64a7cedf"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_408f49ff_44c2_40f2_a700_4339864af66c","uuid":"ad77933a-7393-4a28-9cec-c8ac64a7cedf"},"edge_type":"inherent","type":"","uuid":"acd1e8e4-a792-4d59-a185-01cbfb0a6330","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_9a25af6d_2e7c_4834_9062_5f870b01cd5c","uuid":"e3f1f12e-96c8-4ac4-896d-44b25f378ce6"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_0c3fb32c_a1d7_4352_840d_cc7d2edcb83d"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1","uuid":"0c3fb32c-a1d7-4352-840d-cc7d2edcb83d"},"retries":"0","description":"","type":"CREATE_DEPLOYMENT_ELEMENT","uuid":"83fa263c-2da4-4a60-8e04-8494b3f9f259","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Provision_0c3fb32c_a1d7_4352_840d_cc7d2edcb83d"},{"target_any_local_reference":{"kind":"app_substrate","name":"FileServer_VM","uuid":"408f49ff-44c2-40f2-a700-4339864af66c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"ad77933a-7393-4a28-9cec-c8ac64a7cedf","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1","uuid":"0c3fb32c-a1d7-4352-840d-cc7d2edcb83d"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_408f49ff_44c2_40f2_a700_4339864af66c","uuid":"d59db055-e331-4387-80fa-ad5afce7560c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Substrate_408f49ff_44c2_40f2_a700_4339864af66c"},{"target_any_local_reference":{"kind":"app_package","name":"FileServer_Package","uuid":"9a25af6d-2e7c-4834-9062-5f870b01cd5c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"e3f1f12e-96c8-4ac4-896d-44b25f378ce6","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1","uuid":"0c3fb32c-a1d7-4352-840d-cc7d2edcb83d"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_9a25af6d_2e7c_4834_9062_5f870b01cd5c","uuid":"ad3b2951-9ca7-4afd-8b77-32d5cc65b56c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_9a25af6d_2e7c_4834_9062_5f870b01cd5c"},{"target_any_local_reference":{"kind":"app_service","name":"FileServer","uuid":"a6166b9f-9131-4150-a2d9-005a3ac25938"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"1c53ae19-9f8c-4de6-aba1-d2e82fdac83f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1","uuid":"0c3fb32c-a1d7-4352-840d-cc7d2edcb83d"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_a6166b9f_9131_4150_a2d9_005a3ac25938","uuid":"83638252-93c6-438c-8db0-5ac83effb622"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_a6166b9f_9131_4150_a2d9_005a3ac25938"},{"target_any_local_reference":{"kind":"app_service","name":"FileServer","uuid":"a6166b9f-9131-4150-a2d9-005a3ac25938"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"026eae15-8040-4796-9dd9-c804814ec771","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1","uuid":"0c3fb32c-a1d7-4352-840d-cc7d2edcb83d"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_a6166b9f_9131_4150_a2d9_005a3ac25938","uuid":"66eff7d6-ab88-474f-bd15-7287cd845dc1"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_a6166b9f_9131_4150_a2d9_005a3ac25938"}],"description":"","message_list":[],"uuid":"450643fc-63ca-431b-8dfa-4fe9949ddf0c","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_0c3fb32c_a1d7_4352_840d_cc7d2edcb83d","uuid":"af94b28b-803c-4798-8cb6-8d3b25cb9029"},"name":"SYS_GEN__Runbook_Deployment_0c3fb32c_a1d7_4352_840d_cc7d2edcb83d"}},{"description":"System action for starting an application","message_list":[],"uuid":"378a189b-8945-4fe2-b504-bb8df5c1890a","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1","uuid":"0c3fb32c-a1d7-4352-840d-cc7d2edcb83d"},"retries":"0","description":"","type":"DAG","uuid":"aceb23b3-6472-44f0-957f-0866bbec4bb5","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_408f49ff_44c2_40f2_a700_4339864af66c","uuid":"253453e5-0616-4655-9626-2c8ba84d44d1"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_a6166b9f_9131_4150_a2d9_005a3ac25938","uuid":"ab4123ea-2c10-4454-96a6-0677aa77620d"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_408f49ff_44c2_40f2_a700_4339864af66c","uuid":"253453e5-0616-4655-9626-2c8ba84d44d1"},"edge_type":"inherent","type":"","uuid":"365da1da-dde1-4a2b-a038-6a75ef17f966","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_a6166b9f_9131_4150_a2d9_005a3ac25938","uuid":"ab4123ea-2c10-4454-96a6-0677aa77620d"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_0c3fb32c_a1d7_4352_840d_cc7d2edcb83d"},{"target_any_local_reference":{"kind":"app_substrate","name":"FileServer_VM","uuid":"408f49ff-44c2-40f2-a700-4339864af66c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"253453e5-0616-4655-9626-2c8ba84d44d1","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1","uuid":"0c3fb32c-a1d7-4352-840d-cc7d2edcb83d"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_408f49ff_44c2_40f2_a700_4339864af66c","uuid":"a483e6a7-b8eb-42de-9f1d-c8095301d538"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Substrate_408f49ff_44c2_40f2_a700_4339864af66c"},{"target_any_local_reference":{"kind":"app_service","name":"FileServer","uuid":"a6166b9f-9131-4150-a2d9-005a3ac25938"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"ab4123ea-2c10-4454-96a6-0677aa77620d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1","uuid":"0c3fb32c-a1d7-4352-840d-cc7d2edcb83d"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_a6166b9f_9131_4150_a2d9_005a3ac25938","uuid":"66eff7d6-ab88-474f-bd15-7287cd845dc1"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_a6166b9f_9131_4150_a2d9_005a3ac25938"}],"description":"","message_list":[],"uuid":"b1476bf7-2e14-46e6-b4df-d546607fe0d2","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_0c3fb32c_a1d7_4352_840d_cc7d2edcb83d","uuid":"aceb23b3-6472-44f0-957f-0866bbec4bb5"},"name":"SYS_GEN__Runbook_Deployment_0c3fb32c_a1d7_4352_840d_cc7d2edcb83d"}},{"description":"System action for restarting an application","message_list":[],"uuid":"f602ed56-dd27-4df0-b9df-c7bcf8a1184c","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1","uuid":"0c3fb32c-a1d7-4352-840d-cc7d2edcb83d"},"retries":"0","description":"","type":"DAG","uuid":"9decdae8-019a-427d-9665-ecbf7b170b06","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_408f49ff_44c2_40f2_a700_4339864af66c","uuid":"2e7612a2-99fc-4dc4-ace1-9752c450e820"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_a6166b9f_9131_4150_a2d9_005a3ac25938","uuid":"1b0b7d03-0645-4802-b05e-39a3b2bcfd6e"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_408f49ff_44c2_40f2_a700_4339864af66c","uuid":"2e7612a2-99fc-4dc4-ace1-9752c450e820"},"edge_type":"inherent","type":"","uuid":"3821a102-e469-4790-b3d8-212ed12679ea","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_a6166b9f_9131_4150_a2d9_005a3ac25938","uuid":"1b0b7d03-0645-4802-b05e-39a3b2bcfd6e"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_0c3fb32c_a1d7_4352_840d_cc7d2edcb83d"},{"target_any_local_reference":{"kind":"app_substrate","name":"FileServer_VM","uuid":"408f49ff-44c2-40f2-a700-4339864af66c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"2e7612a2-99fc-4dc4-ace1-9752c450e820","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1","uuid":"0c3fb32c-a1d7-4352-840d-cc7d2edcb83d"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_408f49ff_44c2_40f2_a700_4339864af66c","uuid":"f42d2a47-dfea-47d4-ad5b-162403121ce5"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Substrate_408f49ff_44c2_40f2_a700_4339864af66c"},{"target_any_local_reference":{"kind":"app_service","name":"FileServer","uuid":"a6166b9f-9131-4150-a2d9-005a3ac25938"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"1b0b7d03-0645-4802-b05e-39a3b2bcfd6e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1","uuid":"0c3fb32c-a1d7-4352-840d-cc7d2edcb83d"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_a6166b9f_9131_4150_a2d9_005a3ac25938","uuid":"fb014f3d-1e69-4ee0-afc0-cbe6dbdb9feb"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_a6166b9f_9131_4150_a2d9_005a3ac25938"}],"description":"","message_list":[],"uuid":"6318c854-51f8-4e01-bb07-69073febc833","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_0c3fb32c_a1d7_4352_840d_cc7d2edcb83d","uuid":"9decdae8-019a-427d-9665-ecbf7b170b06"},"name":"SYS_GEN__Runbook_Deployment_0c3fb32c_a1d7_4352_840d_cc7d2edcb83d"}},{"description":"System action for stopping an application","message_list":[],"uuid":"64b8edab-0641-40ad-8d0f-da45ba4fc819","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1","uuid":"0c3fb32c-a1d7-4352-840d-cc7d2edcb83d"},"retries":"0","description":"","type":"DAG","uuid":"08fb6e0c-3621-4643-9e70-8bbf6a7e2ec5","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_a6166b9f_9131_4150_a2d9_005a3ac25938","uuid":"a2f92ea5-e115-46a1-a3ce-3e800c141500"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_408f49ff_44c2_40f2_a700_4339864af66c","uuid":"ae80c92e-e338-44f5-a353-b3d5ccd9e760"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_a6166b9f_9131_4150_a2d9_005a3ac25938","uuid":"a2f92ea5-e115-46a1-a3ce-3e800c141500"},"edge_type":"inherent","type":"","uuid":"29160c5f-364f-4eac-95fb-6e6238e432f4","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_408f49ff_44c2_40f2_a700_4339864af66c","uuid":"ae80c92e-e338-44f5-a353-b3d5ccd9e760"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_0c3fb32c_a1d7_4352_840d_cc7d2edcb83d"},{"target_any_local_reference":{"kind":"app_service","name":"FileServer","uuid":"a6166b9f-9131-4150-a2d9-005a3ac25938"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"a2f92ea5-e115-46a1-a3ce-3e800c141500","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1","uuid":"0c3fb32c-a1d7-4352-840d-cc7d2edcb83d"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_a6166b9f_9131_4150_a2d9_005a3ac25938","uuid":"3bfa10ab-f583-4758-907c-33173aa6670f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_a6166b9f_9131_4150_a2d9_005a3ac25938"},{"target_any_local_reference":{"kind":"app_substrate","name":"FileServer_VM","uuid":"408f49ff-44c2-40f2-a700-4339864af66c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"ae80c92e-e338-44f5-a353-b3d5ccd9e760","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1","uuid":"0c3fb32c-a1d7-4352-840d-cc7d2edcb83d"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_408f49ff_44c2_40f2_a700_4339864af66c","uuid":"3ba234da-1898-448b-ab7d-c919f67c9f8e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Substrate_408f49ff_44c2_40f2_a700_4339864af66c"}],"description":"","message_list":[],"uuid":"d8fa6730-5a38-466e-abfe-f10a25a18026","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_0c3fb32c_a1d7_4352_840d_cc7d2edcb83d","uuid":"08fb6e0c-3621-4643-9e70-8bbf6a7e2ec5"},"name":"SYS_GEN__Runbook_Deployment_0c3fb32c_a1d7_4352_840d_cc7d2edcb83d"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"630d67a9-33fa-4aad-bc72-c2019cbe5552","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1","uuid":"0c3fb32c-a1d7-4352-840d-cc7d2edcb83d"},"retries":"0","description":"","type":"DAG","uuid":"480263e0-406b-4856-b738-010270e400b0","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_a6166b9f_9131_4150_a2d9_005a3ac25938","uuid":"b703cb7c-0976-48d0-bf79-5a2364f1753c"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_a6166b9f_9131_4150_a2d9_005a3ac25938","uuid":"9ff5e20c-8b76-4c25-96a8-0ea1020ebb03"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_9a25af6d_2e7c_4834_9062_5f870b01cd5c","uuid":"d6c342c8-58e1-4729-aca5-f0e70b41736e"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_408f49ff_44c2_40f2_a700_4339864af66c","uuid":"86b8b127-062a-420f-be39-fc8ef7ae1a05"},{"kind":"app_task","name":"SYS_GEN__DE_Delete_0c3fb32c_a1d7_4352_840d_cc7d2edcb83d","uuid":"613b5815-946c-4f7f-983b-5cbc378b0f6e"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_a6166b9f_9131_4150_a2d9_005a3ac25938","uuid":"b703cb7c-0976-48d0-bf79-5a2364f1753c"},"edge_type":"inherent","type":"","uuid":"7a7de26a-c432-4b82-8848-82874d02f69e","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_a6166b9f_9131_4150_a2d9_005a3ac25938","uuid":"9ff5e20c-8b76-4c25-96a8-0ea1020ebb03"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_a6166b9f_9131_4150_a2d9_005a3ac25938","uuid":"9ff5e20c-8b76-4c25-96a8-0ea1020ebb03"},"edge_type":"inherent","type":"","uuid":"e79ded94-ee9d-432b-b897-6aad1828b80c","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_9a25af6d_2e7c_4834_9062_5f870b01cd5c","uuid":"d6c342c8-58e1-4729-aca5-f0e70b41736e"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_408f49ff_44c2_40f2_a700_4339864af66c","uuid":"86b8b127-062a-420f-be39-fc8ef7ae1a05"},"edge_type":"inherent","type":"","uuid":"21cb249b-01b5-47e3-a509-31758d90e28e","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Delete_0c3fb32c_a1d7_4352_840d_cc7d2edcb83d","uuid":"613b5815-946c-4f7f-983b-5cbc378b0f6e"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_9a25af6d_2e7c_4834_9062_5f870b01cd5c","uuid":"d6c342c8-58e1-4729-aca5-f0e70b41736e"},"edge_type":"inherent","type":"","uuid":"7b54b9c3-82f6-40ad-ae41-d4851dbb5638","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_408f49ff_44c2_40f2_a700_4339864af66c","uuid":"86b8b127-062a-420f-be39-fc8ef7ae1a05"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_0c3fb32c_a1d7_4352_840d_cc7d2edcb83d"},{"target_any_local_reference":{"kind":"app_service","name":"FileServer","uuid":"a6166b9f-9131-4150-a2d9-005a3ac25938"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"b703cb7c-0976-48d0-bf79-5a2364f1753c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1","uuid":"0c3fb32c-a1d7-4352-840d-cc7d2edcb83d"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_a6166b9f_9131_4150_a2d9_005a3ac25938","uuid":"3bfa10ab-f583-4758-907c-33173aa6670f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_a6166b9f_9131_4150_a2d9_005a3ac25938"},{"target_any_local_reference":{"kind":"app_service","name":"FileServer","uuid":"a6166b9f-9131-4150-a2d9-005a3ac25938"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"9ff5e20c-8b76-4c25-96a8-0ea1020ebb03","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1","uuid":"0c3fb32c-a1d7-4352-840d-cc7d2edcb83d"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_a6166b9f_9131_4150_a2d9_005a3ac25938","uuid":"d7058d8b-4fc3-4751-ab34-953e743c0d27"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_a6166b9f_9131_4150_a2d9_005a3ac25938"},{"target_any_local_reference":{"kind":"app_package","name":"FileServer_Package","uuid":"9a25af6d-2e7c-4834-9062-5f870b01cd5c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"d6c342c8-58e1-4729-aca5-f0e70b41736e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1","uuid":"0c3fb32c-a1d7-4352-840d-cc7d2edcb83d"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_9a25af6d_2e7c_4834_9062_5f870b01cd5c","uuid":"5c9f3d1f-6af8-4696-872b-29f14b00d9d0"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_9a25af6d_2e7c_4834_9062_5f870b01cd5c"},{"target_any_local_reference":{"kind":"app_substrate","name":"FileServer_VM","uuid":"408f49ff-44c2-40f2-a700-4339864af66c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"86b8b127-062a-420f-be39-fc8ef7ae1a05","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1","uuid":"0c3fb32c-a1d7-4352-840d-cc7d2edcb83d"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_408f49ff_44c2_40f2_a700_4339864af66c","uuid":"c66e6036-9500-4df7-bc4a-da0bb3da4bec"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Substrate_408f49ff_44c2_40f2_a700_4339864af66c"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1","uuid":"0c3fb32c-a1d7-4352-840d-cc7d2edcb83d"},"retries":"0","description":"","type":"DELETE_DEPLOYMENT_ELEMENT","uuid":"613b5815-946c-4f7f-983b-5cbc378b0f6e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Delete_0c3fb32c_a1d7_4352_840d_cc7d2edcb83d"}],"description":"","message_list":[],"uuid":"dd8ad4fe-9559-43ee-84e4-82355b08a175","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_0c3fb32c_a1d7_4352_840d_cc7d2edcb83d","uuid":"480263e0-406b-4856-b738-010270e400b0"},"name":"SYS_GEN__Runbook_Deployment_0c3fb32c_a1d7_4352_840d_cc7d2edcb83d"}},{"description":"System action for scaleout","message_list":[],"uuid":"40391aa6-ab9b-4d7f-875d-2a5d91647ddc","name":"action_scaleout","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1","uuid":"0c3fb32c-a1d7-4352-840d-cc7d2edcb83d"},"retries":"0","description":"","type":"DAG","uuid":"9b074d23-b991-4e64-a7ef-da3bcad2bc6a","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Deployment_Scaleout_0c3fb32c_a1d7_4352_840d_cc7d2edcb83d","uuid":"82688aba-e08c-45d4-9718-2ad11b4bb812"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_0c3fb32c_a1d7_4352_840d_cc7d2edcb83d"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1","uuid":"0c3fb32c-a1d7-4352-840d-cc7d2edcb83d"},"retries":"0","description":"","type":"SCALING","uuid":"82688aba-e08c-45d4-9718-2ad11b4bb812","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{scaling_count}@@","type":"","scaling_type":"SCALEOUT"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Deployment_Scaleout_0c3fb32c_a1d7_4352_840d_cc7d2edcb83d"}],"description":"","message_list":[],"uuid":"9f5c2e32-4564-4376-ad15-41dffc43df22","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"70626ca3-92ae-4e67-8158-7155d872c987","value":"0","label":"","state":"NOT_VALIDATED","attrs":{},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"scaling_count"}],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_0c3fb32c_a1d7_4352_840d_cc7d2edcb83d","uuid":"9b074d23-b991-4e64-a7ef-da3bcad2bc6a"},"name":"SYS_GEN__Runbook_Deployment_0c3fb32c_a1d7_4352_840d_cc7d2edcb83d"}},{"description":"System action for scalein","message_list":[],"uuid":"11464b43-76bc-44c2-9837-ef913c455574","name":"action_scalein","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1","uuid":"0c3fb32c-a1d7-4352-840d-cc7d2edcb83d"},"retries":"0","description":"","type":"DAG","uuid":"9b43dde7-5927-48b4-8df0-4d05b9ee3eee","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Deployment_Scalein_0c3fb32c_a1d7_4352_840d_cc7d2edcb83d","uuid":"0bc622e1-8230-49f3-8d47-f47593d611fb"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_0c3fb32c_a1d7_4352_840d_cc7d2edcb83d"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1","uuid":"0c3fb32c-a1d7-4352-840d-cc7d2edcb83d"},"retries":"0","description":"","type":"SCALING","uuid":"0bc622e1-8230-49f3-8d47-f47593d611fb","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{scaling_count}@@","type":"","scaling_type":"SCALEIN"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Deployment_Scalein_0c3fb32c_a1d7_4352_840d_cc7d2edcb83d"}],"description":"","message_list":[],"uuid":"cda26035-9284-42ec-a320-69e582cc88f7","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"8b2556e2-3acd-4634-b110-ff4a74c393db","value":"0","label":"","state":"NOT_VALIDATED","attrs":{},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"scaling_count"}],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_0c3fb32c_a1d7_4352_840d_cc7d2edcb83d","uuid":"9b43dde7-5927-48b4-8df0-4d05b9ee3eee"},"name":"SYS_GEN__Runbook_Deployment_0c3fb32c_a1d7_4352_840d_cc7d2edcb83d"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"4bc38e44-dae1-4f26-88f8-50e8a0a97fa9","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1","uuid":"0c3fb32c-a1d7-4352-840d-cc7d2edcb83d"},"retries":"0","description":"","type":"DAG","uuid":"82a91aa9-fbbf-48e0-bf65-f517900ba991","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_a6166b9f_9131_4150_a2d9_005a3ac25938","uuid":"1840f3df-909c-4204-86b4-38a388750e90"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_9a25af6d_2e7c_4834_9062_5f870b01cd5c","uuid":"6f282528-0bd1-42d6-b717-9a2d66aea1bb"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_408f49ff_44c2_40f2_a700_4339864af66c","uuid":"823f6abd-3369-4f50-9714-72cd1fe65bd9"},{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_0c3fb32c_a1d7_4352_840d_cc7d2edcb83d","uuid":"e0506eef-e588-4994-8bd3-412f3df10ddb"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_a6166b9f_9131_4150_a2d9_005a3ac25938","uuid":"1840f3df-909c-4204-86b4-38a388750e90"},"edge_type":"inherent","type":"","uuid":"7396d83f-6177-473a-8202-e5d277ff9541","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_9a25af6d_2e7c_4834_9062_5f870b01cd5c","uuid":"6f282528-0bd1-42d6-b717-9a2d66aea1bb"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_408f49ff_44c2_40f2_a700_4339864af66c","uuid":"823f6abd-3369-4f50-9714-72cd1fe65bd9"},"edge_type":"inherent","type":"","uuid":"2de589da-4613-47f9-8bb8-6ee74dd1c5e2","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_0c3fb32c_a1d7_4352_840d_cc7d2edcb83d","uuid":"e0506eef-e588-4994-8bd3-412f3df10ddb"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_9a25af6d_2e7c_4834_9062_5f870b01cd5c","uuid":"6f282528-0bd1-42d6-b717-9a2d66aea1bb"},"edge_type":"inherent","type":"","uuid":"d79fd442-8946-491c-8aa0-9ead4534bcf5","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_408f49ff_44c2_40f2_a700_4339864af66c","uuid":"823f6abd-3369-4f50-9714-72cd1fe65bd9"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_0c3fb32c_a1d7_4352_840d_cc7d2edcb83d"},{"target_any_local_reference":{"kind":"app_service","name":"FileServer","uuid":"a6166b9f-9131-4150-a2d9-005a3ac25938"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"1840f3df-909c-4204-86b4-38a388750e90","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1","uuid":"0c3fb32c-a1d7-4352-840d-cc7d2edcb83d"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_a6166b9f_9131_4150_a2d9_005a3ac25938","uuid":"d6586675-8450-4a0b-b1ba-a0ab66a3aee7"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_a6166b9f_9131_4150_a2d9_005a3ac25938"},{"target_any_local_reference":{"kind":"app_package","name":"FileServer_Package","uuid":"9a25af6d-2e7c-4834-9062-5f870b01cd5c"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"6f282528-0bd1-42d6-b717-9a2d66aea1bb","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_9a25af6d_2e7c_4834_9062_5f870b01cd5c"},{"target_any_local_reference":{"kind":"app_substrate","name":"FileServer_VM","uuid":"408f49ff-44c2-40f2-a700-4339864af66c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"823f6abd-3369-4f50-9714-72cd1fe65bd9","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1","uuid":"0c3fb32c-a1d7-4352-840d-cc7d2edcb83d"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_408f49ff_44c2_40f2_a700_4339864af66c","uuid":"6babfa42-c26b-4e54-b04c-f5d643a0684b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Substrate_408f49ff_44c2_40f2_a700_4339864af66c"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1","uuid":"0c3fb32c-a1d7-4352-840d-cc7d2edcb83d"},"retries":"0","description":"","type":"SOFT_DELETE_DEPLOYMENT_ELEMENT","uuid":"e0506eef-e588-4994-8bd3-412f3df10ddb","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Soft_Delete_0c3fb32c_a1d7_4352_840d_cc7d2edcb83d"}],"description":"","message_list":[],"uuid":"043259d1-07fb-4dad-9a26-3a15545fe1f5","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_0c3fb32c_a1d7_4352_840d_cc7d2edcb83d","uuid":"82a91aa9-fbbf-48e0-bf65-f517900ba991"},"name":"SYS_GEN__Runbook_Deployment_0c3fb32c_a1d7_4352_840d_cc7d2edcb83d"}}],"message_list":[],"published_service_local_reference_list":[],"uuid":"0c3fb32c-a1d7-4352-840d-cc7d2edcb83d","min_replicas":"1","state":"ACTIVE","max_replicas":"1","depends_on_list":[],"editables":{},"package_local_reference_list":[{"kind":"app_package","name":"FileServer_Package","uuid":"9a25af6d-2e7c-4834-9062-5f870b01cd5c"}],"substrate_local_reference":{"kind":"app_substrate","name":"FileServer_VM","uuid":"408f49ff-44c2-40f2-a700-4339864af66c"},"type":"GREENFIELD","options":{},"variable_list":[],"name":"be8bfd7f_deployment_cloned_1"},{"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"e6875394-851c-402a-942e-dcb79179913a","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1_cloned_1","uuid":"e7b94a22-d028-4fee-b2ff-dda1d6e38440"},"retries":"0","description":"","type":"DAG","uuid":"86848793-508b-4d9a-812f-9db2930133ed","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__DE_Provision_e7b94a22_d028_4fee_b2ff_dda1d6e38440","uuid":"386fb5f3-81e6-40b5-8bcb-fc00442108ef"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_c8891d1c_30b4_40ca_87b8_e096bd079c9c","uuid":"77560937-60cb-49d2-87a0-41d4046afb96"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_46aff282_3d8b_4438_ab11_51cf246b6d4f","uuid":"e5aaf924-e776-4a86-8fb5-3534c840c4c2"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_2f21ee10_b6af_42b5_ba7c_706f5b58ca6a","uuid":"55a3074f-2b78-4a63-be90-7d61f58c367c"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_2f21ee10_b6af_42b5_ba7c_706f5b58ca6a","uuid":"f06fe5d5-414b-4b8e-a1d5-9c46f0e2f92a"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_2f21ee10_b6af_42b5_ba7c_706f5b58ca6a","uuid":"55a3074f-2b78-4a63-be90-7d61f58c367c"},"edge_type":"inherent","type":"","uuid":"f9ada83e-bf56-4d68-b1d1-91619add06a9","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_2f21ee10_b6af_42b5_ba7c_706f5b58ca6a","uuid":"f06fe5d5-414b-4b8e-a1d5-9c46f0e2f92a"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_46aff282_3d8b_4438_ab11_51cf246b6d4f","uuid":"e5aaf924-e776-4a86-8fb5-3534c840c4c2"},"edge_type":"inherent","type":"","uuid":"229471ed-c8f8-4a1a-9c1a-134c80cee6c5","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_2f21ee10_b6af_42b5_ba7c_706f5b58ca6a","uuid":"55a3074f-2b78-4a63-be90-7d61f58c367c"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_e7b94a22_d028_4fee_b2ff_dda1d6e38440","uuid":"386fb5f3-81e6-40b5-8bcb-fc00442108ef"},"edge_type":"inherent","type":"","uuid":"a7427f8a-9698-4129-b39b-5441b1e1cbed","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_c8891d1c_30b4_40ca_87b8_e096bd079c9c","uuid":"77560937-60cb-49d2-87a0-41d4046afb96"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_c8891d1c_30b4_40ca_87b8_e096bd079c9c","uuid":"77560937-60cb-49d2-87a0-41d4046afb96"},"edge_type":"inherent","type":"","uuid":"06e347e9-a049-4bdc-b169-65a64fca3230","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_46aff282_3d8b_4438_ab11_51cf246b6d4f","uuid":"e5aaf924-e776-4a86-8fb5-3534c840c4c2"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_e7b94a22_d028_4fee_b2ff_dda1d6e38440"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1_cloned_1","uuid":"e7b94a22-d028-4fee-b2ff-dda1d6e38440"},"retries":"0","description":"","type":"CREATE_DEPLOYMENT_ELEMENT","uuid":"386fb5f3-81e6-40b5-8bcb-fc00442108ef","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Provision_e7b94a22_d028_4fee_b2ff_dda1d6e38440"},{"target_any_local_reference":{"kind":"app_substrate","name":"SQLServer_VM","uuid":"c8891d1c-30b4-40ca-87b8-e096bd079c9c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"77560937-60cb-49d2-87a0-41d4046afb96","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1_cloned_1","uuid":"e7b94a22-d028-4fee-b2ff-dda1d6e38440"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_c8891d1c_30b4_40ca_87b8_e096bd079c9c","uuid":"ac8c08f4-3196-4acc-aed7-fe6c97d455b6"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Substrate_c8891d1c_30b4_40ca_87b8_e096bd079c9c"},{"target_any_local_reference":{"kind":"app_package","name":"SQLServer_Personnalisation","uuid":"46aff282-3d8b-4438-ab11-51cf246b6d4f"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"e5aaf924-e776-4a86-8fb5-3534c840c4c2","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1_cloned_1","uuid":"e7b94a22-d028-4fee-b2ff-dda1d6e38440"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_46aff282_3d8b_4438_ab11_51cf246b6d4f","uuid":"38b24dc6-6b02-4c60-b619-6c08114989b9"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_46aff282_3d8b_4438_ab11_51cf246b6d4f"},{"target_any_local_reference":{"kind":"app_service","name":"SQLServer","uuid":"2f21ee10-b6af-42b5-ba7c-706f5b58ca6a"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"55a3074f-2b78-4a63-be90-7d61f58c367c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1_cloned_1","uuid":"e7b94a22-d028-4fee-b2ff-dda1d6e38440"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_2f21ee10_b6af_42b5_ba7c_706f5b58ca6a","uuid":"5758a7cd-9ceb-4e2b-af39-af1256a466bb"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_2f21ee10_b6af_42b5_ba7c_706f5b58ca6a"},{"target_any_local_reference":{"kind":"app_service","name":"SQLServer","uuid":"2f21ee10-b6af-42b5-ba7c-706f5b58ca6a"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"f06fe5d5-414b-4b8e-a1d5-9c46f0e2f92a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1_cloned_1","uuid":"e7b94a22-d028-4fee-b2ff-dda1d6e38440"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_2f21ee10_b6af_42b5_ba7c_706f5b58ca6a","uuid":"0bdab881-7f85-4f56-b018-4f15d9ff7bc8"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_2f21ee10_b6af_42b5_ba7c_706f5b58ca6a"}],"description":"","message_list":[],"uuid":"8604f439-be81-4c92-b36b-9255c8bcaf4c","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_e7b94a22_d028_4fee_b2ff_dda1d6e38440","uuid":"86848793-508b-4d9a-812f-9db2930133ed"},"name":"SYS_GEN__Runbook_Deployment_e7b94a22_d028_4fee_b2ff_dda1d6e38440"}},{"description":"System action for starting an application","message_list":[],"uuid":"58fcb3b7-14ef-4a75-afba-294b42c542ac","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1_cloned_1","uuid":"e7b94a22-d028-4fee-b2ff-dda1d6e38440"},"retries":"0","description":"","type":"DAG","uuid":"205959ae-9ae2-46f1-8a1a-9a680e0d5a3f","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_c8891d1c_30b4_40ca_87b8_e096bd079c9c","uuid":"56f386d4-d4c8-48d8-8f40-5da49d86d7b5"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_2f21ee10_b6af_42b5_ba7c_706f5b58ca6a","uuid":"4cf321b4-3e62-41c4-8021-c1a37ff25776"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_c8891d1c_30b4_40ca_87b8_e096bd079c9c","uuid":"56f386d4-d4c8-48d8-8f40-5da49d86d7b5"},"edge_type":"inherent","type":"","uuid":"aebcd932-7cd4-4ede-9053-011fe0368144","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_2f21ee10_b6af_42b5_ba7c_706f5b58ca6a","uuid":"4cf321b4-3e62-41c4-8021-c1a37ff25776"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_e7b94a22_d028_4fee_b2ff_dda1d6e38440"},{"target_any_local_reference":{"kind":"app_substrate","name":"SQLServer_VM","uuid":"c8891d1c-30b4-40ca-87b8-e096bd079c9c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"56f386d4-d4c8-48d8-8f40-5da49d86d7b5","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1_cloned_1","uuid":"e7b94a22-d028-4fee-b2ff-dda1d6e38440"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_c8891d1c_30b4_40ca_87b8_e096bd079c9c","uuid":"b24f7058-0da3-4ece-9186-5a050c8fcb74"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Substrate_c8891d1c_30b4_40ca_87b8_e096bd079c9c"},{"target_any_local_reference":{"kind":"app_service","name":"SQLServer","uuid":"2f21ee10-b6af-42b5-ba7c-706f5b58ca6a"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"4cf321b4-3e62-41c4-8021-c1a37ff25776","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1_cloned_1","uuid":"e7b94a22-d028-4fee-b2ff-dda1d6e38440"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_2f21ee10_b6af_42b5_ba7c_706f5b58ca6a","uuid":"0bdab881-7f85-4f56-b018-4f15d9ff7bc8"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_2f21ee10_b6af_42b5_ba7c_706f5b58ca6a"}],"description":"","message_list":[],"uuid":"63f726dd-1a2d-4fe0-83e1-0c620cecff89","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_e7b94a22_d028_4fee_b2ff_dda1d6e38440","uuid":"205959ae-9ae2-46f1-8a1a-9a680e0d5a3f"},"name":"SYS_GEN__Runbook_Deployment_e7b94a22_d028_4fee_b2ff_dda1d6e38440"}},{"description":"System action for restarting an application","message_list":[],"uuid":"60b2b8ff-5afe-4a62-8c69-aee750399c8e","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1_cloned_1","uuid":"e7b94a22-d028-4fee-b2ff-dda1d6e38440"},"retries":"0","description":"","type":"DAG","uuid":"bda25350-21a7-44c9-be65-5c83d951f26a","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_c8891d1c_30b4_40ca_87b8_e096bd079c9c","uuid":"42a73f71-6406-44b2-b884-4e71c03b6730"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_2f21ee10_b6af_42b5_ba7c_706f5b58ca6a","uuid":"48d3cf28-041e-47df-91b6-362977b70d50"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_c8891d1c_30b4_40ca_87b8_e096bd079c9c","uuid":"42a73f71-6406-44b2-b884-4e71c03b6730"},"edge_type":"inherent","type":"","uuid":"47dcec40-b495-40dc-8a44-edbcd901d23c","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_2f21ee10_b6af_42b5_ba7c_706f5b58ca6a","uuid":"48d3cf28-041e-47df-91b6-362977b70d50"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_e7b94a22_d028_4fee_b2ff_dda1d6e38440"},{"target_any_local_reference":{"kind":"app_substrate","name":"SQLServer_VM","uuid":"c8891d1c-30b4-40ca-87b8-e096bd079c9c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"42a73f71-6406-44b2-b884-4e71c03b6730","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1_cloned_1","uuid":"e7b94a22-d028-4fee-b2ff-dda1d6e38440"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_c8891d1c_30b4_40ca_87b8_e096bd079c9c","uuid":"150945a0-4e35-4db8-a8b3-f8cd32aea744"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Substrate_c8891d1c_30b4_40ca_87b8_e096bd079c9c"},{"target_any_local_reference":{"kind":"app_service","name":"SQLServer","uuid":"2f21ee10-b6af-42b5-ba7c-706f5b58ca6a"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"48d3cf28-041e-47df-91b6-362977b70d50","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1_cloned_1","uuid":"e7b94a22-d028-4fee-b2ff-dda1d6e38440"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_2f21ee10_b6af_42b5_ba7c_706f5b58ca6a","uuid":"ba93cba3-2b81-4cd6-91dd-f14f28587b35"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_2f21ee10_b6af_42b5_ba7c_706f5b58ca6a"}],"description":"","message_list":[],"uuid":"c1dc722a-0f44-47ab-b9e8-89d850c6d07f","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_e7b94a22_d028_4fee_b2ff_dda1d6e38440","uuid":"bda25350-21a7-44c9-be65-5c83d951f26a"},"name":"SYS_GEN__Runbook_Deployment_e7b94a22_d028_4fee_b2ff_dda1d6e38440"}},{"description":"System action for stopping an application","message_list":[],"uuid":"87d98e1c-f744-46a3-b971-49a1fe54ea60","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1_cloned_1","uuid":"e7b94a22-d028-4fee-b2ff-dda1d6e38440"},"retries":"0","description":"","type":"DAG","uuid":"c2829efc-84a8-41b2-a72f-8850d81f42ee","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_2f21ee10_b6af_42b5_ba7c_706f5b58ca6a","uuid":"a0b52813-f365-4e50-91f4-f14b1534cd4e"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_c8891d1c_30b4_40ca_87b8_e096bd079c9c","uuid":"f5f4471e-c0c2-42e5-af4c-f511594d69bd"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_2f21ee10_b6af_42b5_ba7c_706f5b58ca6a","uuid":"a0b52813-f365-4e50-91f4-f14b1534cd4e"},"edge_type":"inherent","type":"","uuid":"839a1b8f-c62c-47b0-9adb-6cbbd8c8a478","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_c8891d1c_30b4_40ca_87b8_e096bd079c9c","uuid":"f5f4471e-c0c2-42e5-af4c-f511594d69bd"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_e7b94a22_d028_4fee_b2ff_dda1d6e38440"},{"target_any_local_reference":{"kind":"app_service","name":"SQLServer","uuid":"2f21ee10-b6af-42b5-ba7c-706f5b58ca6a"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"a0b52813-f365-4e50-91f4-f14b1534cd4e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1_cloned_1","uuid":"e7b94a22-d028-4fee-b2ff-dda1d6e38440"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_2f21ee10_b6af_42b5_ba7c_706f5b58ca6a","uuid":"063fea2f-40c7-49b5-a22b-705144983200"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_2f21ee10_b6af_42b5_ba7c_706f5b58ca6a"},{"target_any_local_reference":{"kind":"app_substrate","name":"SQLServer_VM","uuid":"c8891d1c-30b4-40ca-87b8-e096bd079c9c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"f5f4471e-c0c2-42e5-af4c-f511594d69bd","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1_cloned_1","uuid":"e7b94a22-d028-4fee-b2ff-dda1d6e38440"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_c8891d1c_30b4_40ca_87b8_e096bd079c9c","uuid":"476aea5c-2b37-4a5c-b8de-9988e441d0a9"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Substrate_c8891d1c_30b4_40ca_87b8_e096bd079c9c"}],"description":"","message_list":[],"uuid":"25bae4ce-f146-4714-8ec9-f618f0f92b8d","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_e7b94a22_d028_4fee_b2ff_dda1d6e38440","uuid":"c2829efc-84a8-41b2-a72f-8850d81f42ee"},"name":"SYS_GEN__Runbook_Deployment_e7b94a22_d028_4fee_b2ff_dda1d6e38440"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"86321667-0060-4899-b4c0-bcf85afeb7fe","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1_cloned_1","uuid":"e7b94a22-d028-4fee-b2ff-dda1d6e38440"},"retries":"0","description":"","type":"DAG","uuid":"b90fcab9-0fb5-4355-9662-0287590c57bc","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_2f21ee10_b6af_42b5_ba7c_706f5b58ca6a","uuid":"662d82ab-6e60-4ba8-9470-391cf5dfe18b"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_2f21ee10_b6af_42b5_ba7c_706f5b58ca6a","uuid":"5224be2a-bd86-4092-bf9e-0c3f5cb206d3"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_46aff282_3d8b_4438_ab11_51cf246b6d4f","uuid":"2855c946-d031-4243-a10e-01a31ee9c229"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_c8891d1c_30b4_40ca_87b8_e096bd079c9c","uuid":"d8cbf6fd-97a5-48a2-b97e-c9507fb7b081"},{"kind":"app_task","name":"SYS_GEN__DE_Delete_e7b94a22_d028_4fee_b2ff_dda1d6e38440","uuid":"01f87dce-2bc3-4ead-9c34-4daea3d38a09"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_2f21ee10_b6af_42b5_ba7c_706f5b58ca6a","uuid":"662d82ab-6e60-4ba8-9470-391cf5dfe18b"},"edge_type":"inherent","type":"","uuid":"d3ecabcf-bc1b-4aa8-bd87-680197277253","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_2f21ee10_b6af_42b5_ba7c_706f5b58ca6a","uuid":"5224be2a-bd86-4092-bf9e-0c3f5cb206d3"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_2f21ee10_b6af_42b5_ba7c_706f5b58ca6a","uuid":"5224be2a-bd86-4092-bf9e-0c3f5cb206d3"},"edge_type":"inherent","type":"","uuid":"93227df6-106e-420f-8daf-6f91a6d7d4e8","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_46aff282_3d8b_4438_ab11_51cf246b6d4f","uuid":"2855c946-d031-4243-a10e-01a31ee9c229"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_c8891d1c_30b4_40ca_87b8_e096bd079c9c","uuid":"d8cbf6fd-97a5-48a2-b97e-c9507fb7b081"},"edge_type":"inherent","type":"","uuid":"2c2853a0-e0af-41e7-a88a-54f27fed7846","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Delete_e7b94a22_d028_4fee_b2ff_dda1d6e38440","uuid":"01f87dce-2bc3-4ead-9c34-4daea3d38a09"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_46aff282_3d8b_4438_ab11_51cf246b6d4f","uuid":"2855c946-d031-4243-a10e-01a31ee9c229"},"edge_type":"inherent","type":"","uuid":"3e0c0942-5217-4d1e-8ca5-ccb7ef6196e3","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_c8891d1c_30b4_40ca_87b8_e096bd079c9c","uuid":"d8cbf6fd-97a5-48a2-b97e-c9507fb7b081"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_e7b94a22_d028_4fee_b2ff_dda1d6e38440"},{"target_any_local_reference":{"kind":"app_service","name":"SQLServer","uuid":"2f21ee10-b6af-42b5-ba7c-706f5b58ca6a"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"662d82ab-6e60-4ba8-9470-391cf5dfe18b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1_cloned_1","uuid":"e7b94a22-d028-4fee-b2ff-dda1d6e38440"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_2f21ee10_b6af_42b5_ba7c_706f5b58ca6a","uuid":"063fea2f-40c7-49b5-a22b-705144983200"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_2f21ee10_b6af_42b5_ba7c_706f5b58ca6a"},{"target_any_local_reference":{"kind":"app_service","name":"SQLServer","uuid":"2f21ee10-b6af-42b5-ba7c-706f5b58ca6a"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"5224be2a-bd86-4092-bf9e-0c3f5cb206d3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1_cloned_1","uuid":"e7b94a22-d028-4fee-b2ff-dda1d6e38440"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_2f21ee10_b6af_42b5_ba7c_706f5b58ca6a","uuid":"aaa72a81-ffda-43e2-910a-a62a2da19e1a"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_2f21ee10_b6af_42b5_ba7c_706f5b58ca6a"},{"target_any_local_reference":{"kind":"app_package","name":"SQLServer_Personnalisation","uuid":"46aff282-3d8b-4438-ab11-51cf246b6d4f"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"2855c946-d031-4243-a10e-01a31ee9c229","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1_cloned_1","uuid":"e7b94a22-d028-4fee-b2ff-dda1d6e38440"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_46aff282_3d8b_4438_ab11_51cf246b6d4f","uuid":"5e5a75d1-4cb5-467e-a798-c51dcb041a0c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_46aff282_3d8b_4438_ab11_51cf246b6d4f"},{"target_any_local_reference":{"kind":"app_substrate","name":"SQLServer_VM","uuid":"c8891d1c-30b4-40ca-87b8-e096bd079c9c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"d8cbf6fd-97a5-48a2-b97e-c9507fb7b081","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1_cloned_1","uuid":"e7b94a22-d028-4fee-b2ff-dda1d6e38440"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_c8891d1c_30b4_40ca_87b8_e096bd079c9c","uuid":"d4c8e007-5611-4e14-b8b8-b464b8c02469"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Substrate_c8891d1c_30b4_40ca_87b8_e096bd079c9c"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1_cloned_1","uuid":"e7b94a22-d028-4fee-b2ff-dda1d6e38440"},"retries":"0","description":"","type":"DELETE_DEPLOYMENT_ELEMENT","uuid":"01f87dce-2bc3-4ead-9c34-4daea3d38a09","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Delete_e7b94a22_d028_4fee_b2ff_dda1d6e38440"}],"description":"","message_list":[],"uuid":"c492cb14-d756-4e3e-b328-ee20e6fb79d9","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_e7b94a22_d028_4fee_b2ff_dda1d6e38440","uuid":"b90fcab9-0fb5-4355-9662-0287590c57bc"},"name":"SYS_GEN__Runbook_Deployment_e7b94a22_d028_4fee_b2ff_dda1d6e38440"}},{"description":"System action for scaleout","message_list":[],"uuid":"ecfc4d5b-3db9-4124-82bd-6bef61db6e2b","name":"action_scaleout","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1_cloned_1","uuid":"e7b94a22-d028-4fee-b2ff-dda1d6e38440"},"retries":"0","description":"","type":"DAG","uuid":"e0008f74-d65f-405f-8d54-26359745afd4","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Deployment_Scaleout_e7b94a22_d028_4fee_b2ff_dda1d6e38440","uuid":"6b6da3d8-6677-4a09-9834-463467de3795"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_e7b94a22_d028_4fee_b2ff_dda1d6e38440"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1_cloned_1","uuid":"e7b94a22-d028-4fee-b2ff-dda1d6e38440"},"retries":"0","description":"","type":"SCALING","uuid":"6b6da3d8-6677-4a09-9834-463467de3795","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{scaling_count}@@","type":"","scaling_type":"SCALEOUT"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Deployment_Scaleout_e7b94a22_d028_4fee_b2ff_dda1d6e38440"}],"description":"","message_list":[],"uuid":"fbc7a18b-355b-4368-92bc-8b7daf890f55","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"b9be98e1-6046-4638-94cd-972e9fd64810","value":"0","label":"","state":"NOT_VALIDATED","attrs":{},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"scaling_count"}],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_e7b94a22_d028_4fee_b2ff_dda1d6e38440","uuid":"e0008f74-d65f-405f-8d54-26359745afd4"},"name":"SYS_GEN__Runbook_Deployment_e7b94a22_d028_4fee_b2ff_dda1d6e38440"}},{"description":"System action for scalein","message_list":[],"uuid":"9b106426-b5c9-4c7a-aede-7d20e5a82fcd","name":"action_scalein","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1_cloned_1","uuid":"e7b94a22-d028-4fee-b2ff-dda1d6e38440"},"retries":"0","description":"","type":"DAG","uuid":"4bcf8e9d-2c15-4d68-ba4a-61910ef81df5","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Deployment_Scalein_e7b94a22_d028_4fee_b2ff_dda1d6e38440","uuid":"bd1bc7c4-ee80-4b48-bebe-0d6418677010"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_e7b94a22_d028_4fee_b2ff_dda1d6e38440"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1_cloned_1","uuid":"e7b94a22-d028-4fee-b2ff-dda1d6e38440"},"retries":"0","description":"","type":"SCALING","uuid":"bd1bc7c4-ee80-4b48-bebe-0d6418677010","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{scaling_count}@@","type":"","scaling_type":"SCALEIN"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Deployment_Scalein_e7b94a22_d028_4fee_b2ff_dda1d6e38440"}],"description":"","message_list":[],"uuid":"135d1b88-8ada-457b-b9ff-945964c0ff72","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"6a8f4fd4-8f4c-40dd-a368-31d254d77d54","value":"0","label":"","state":"NOT_VALIDATED","attrs":{},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"scaling_count"}],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_e7b94a22_d028_4fee_b2ff_dda1d6e38440","uuid":"4bcf8e9d-2c15-4d68-ba4a-61910ef81df5"},"name":"SYS_GEN__Runbook_Deployment_e7b94a22_d028_4fee_b2ff_dda1d6e38440"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"afd2e5c3-bde2-459e-b86b-d4e881e33906","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1_cloned_1","uuid":"e7b94a22-d028-4fee-b2ff-dda1d6e38440"},"retries":"0","description":"","type":"DAG","uuid":"02264fbd-bd2c-4468-a863-23a636aaff6d","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_2f21ee10_b6af_42b5_ba7c_706f5b58ca6a","uuid":"d292dddf-7ba4-4d84-86d1-c675d9232e82"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_46aff282_3d8b_4438_ab11_51cf246b6d4f","uuid":"b30fbaca-4360-4449-a458-48e2c3b26650"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_c8891d1c_30b4_40ca_87b8_e096bd079c9c","uuid":"1f0c157c-50b5-40b4-959d-44622f9111d2"},{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_e7b94a22_d028_4fee_b2ff_dda1d6e38440","uuid":"5cecbfd3-163d-43cf-817b-21b49bbf93bd"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_2f21ee10_b6af_42b5_ba7c_706f5b58ca6a","uuid":"d292dddf-7ba4-4d84-86d1-c675d9232e82"},"edge_type":"inherent","type":"","uuid":"db5946a5-eb58-4612-a5e3-d2460d09f13b","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_46aff282_3d8b_4438_ab11_51cf246b6d4f","uuid":"b30fbaca-4360-4449-a458-48e2c3b26650"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_c8891d1c_30b4_40ca_87b8_e096bd079c9c","uuid":"1f0c157c-50b5-40b4-959d-44622f9111d2"},"edge_type":"inherent","type":"","uuid":"299534cc-3211-48da-9916-de31a4e472b1","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_e7b94a22_d028_4fee_b2ff_dda1d6e38440","uuid":"5cecbfd3-163d-43cf-817b-21b49bbf93bd"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_46aff282_3d8b_4438_ab11_51cf246b6d4f","uuid":"b30fbaca-4360-4449-a458-48e2c3b26650"},"edge_type":"inherent","type":"","uuid":"14e1660e-6fa0-4e1b-8021-f38987ce25cf","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_c8891d1c_30b4_40ca_87b8_e096bd079c9c","uuid":"1f0c157c-50b5-40b4-959d-44622f9111d2"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_e7b94a22_d028_4fee_b2ff_dda1d6e38440"},{"target_any_local_reference":{"kind":"app_service","name":"SQLServer","uuid":"2f21ee10-b6af-42b5-ba7c-706f5b58ca6a"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"d292dddf-7ba4-4d84-86d1-c675d9232e82","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1_cloned_1","uuid":"e7b94a22-d028-4fee-b2ff-dda1d6e38440"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_2f21ee10_b6af_42b5_ba7c_706f5b58ca6a","uuid":"32d8aace-4022-4652-b90b-6406e8f9b8b1"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_2f21ee10_b6af_42b5_ba7c_706f5b58ca6a"},{"target_any_local_reference":{"kind":"app_package","name":"SQLServer_Personnalisation","uuid":"46aff282-3d8b-4438-ab11-51cf246b6d4f"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"b30fbaca-4360-4449-a458-48e2c3b26650","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_46aff282_3d8b_4438_ab11_51cf246b6d4f"},{"target_any_local_reference":{"kind":"app_substrate","name":"SQLServer_VM","uuid":"c8891d1c-30b4-40ca-87b8-e096bd079c9c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"1f0c157c-50b5-40b4-959d-44622f9111d2","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1_cloned_1","uuid":"e7b94a22-d028-4fee-b2ff-dda1d6e38440"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_c8891d1c_30b4_40ca_87b8_e096bd079c9c","uuid":"31528948-dff3-49d1-823a-ee7839ad8938"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Substrate_c8891d1c_30b4_40ca_87b8_e096bd079c9c"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1_cloned_1","uuid":"e7b94a22-d028-4fee-b2ff-dda1d6e38440"},"retries":"0","description":"","type":"SOFT_DELETE_DEPLOYMENT_ELEMENT","uuid":"5cecbfd3-163d-43cf-817b-21b49bbf93bd","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Soft_Delete_e7b94a22_d028_4fee_b2ff_dda1d6e38440"}],"description":"","message_list":[],"uuid":"c1836478-87cb-40ed-bda7-feac7fcb0af8","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_e7b94a22_d028_4fee_b2ff_dda1d6e38440","uuid":"02264fbd-bd2c-4468-a863-23a636aaff6d"},"name":"SYS_GEN__Runbook_Deployment_e7b94a22_d028_4fee_b2ff_dda1d6e38440"}}],"message_list":[],"published_service_local_reference_list":[],"uuid":"e7b94a22-d028-4fee-b2ff-dda1d6e38440","min_replicas":"1","state":"ACTIVE","max_replicas":"1","depends_on_list":[],"editables":{},"package_local_reference_list":[{"kind":"app_package","name":"SQLServer_Personnalisation","uuid":"46aff282-3d8b-4438-ab11-51cf246b6d4f"}],"substrate_local_reference":{"kind":"app_substrate","name":"SQLServer_VM","uuid":"c8891d1c-30b4-40ca-87b8-e096bd079c9c"},"type":"GREENFIELD","options":{},"variable_list":[],"name":"be8bfd7f_deployment_cloned_1_cloned_1"}],"description":"","action_list":[{"description":"","message_list":[],"uuid":"cd43f621-0d95-4626-903d-718baad0fbf9","name":"ReinitBDD","state":"ACTIVE","critical":false,"attrs":{},"type":"user","runbook":{"task_definition_list":[{"retries":"0","description":"","type":"DAG","uuid":"ea6007ef-a41e-496d-8123-0941f0bf6e13","child_tasks_local_reference_list":[{"kind":"app_task","name":"RestaurationBDD","uuid":"c9fa5f8f-ddfd-4876-a6be-84f12ea600bb"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"82263ac5_dag"},{"target_any_local_reference":{"kind":"app_service","name":"SQLServer","uuid":"2f21ee10-b6af-42b5-ba7c-706f5b58ca6a"},"retries":"0","description":"","type":"EXEC","uuid":"c9fa5f8f-ddfd-4876-a6be-84f12ea600bb","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"Restore-SqlDatabase -ServerInstance \"SQLServer\\\" -Database \"DEMO\" -BackupFile \"\\\\DC1\\partage\\BDD\\DEMO.bak\"\nexit(1)","script_type":"npsscript","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"DOMAIN_CRED","uuid":"7958c1cb-7109-4f89-8446-47fd7527512c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"RestaurationBDD"}],"description":"","message_list":[],"uuid":"c1602541-e99d-4e59-9727-4a21566b1943","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"82263ac5_dag","uuid":"ea6007ef-a41e-496d-8123-0941f0bf6e13"},"name":"d5b36229_runbook"}},{"description":"System action for creating an application","message_list":[],"uuid":"cc886b51-e507-43f4-8714-86f740d2f730","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"Default","uuid":"13a278fa-efdd-45a1-b349-5e5cb421d6ca"},"retries":"0","description":"","type":"DAG","uuid":"9a1317e2-23c0-431a-b4a6-06bf880bc84e","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__DE_Provision_349219a8_fb21_44cc_9c51_8abec1d4c5c6","uuid":"0924de33-ce13-4f9e-af13-ba1ea395a533"},{"kind":"app_task","name":"SYS_GEN__DE_Provision_e7b94a22_d028_4fee_b2ff_dda1d6e38440","uuid":"cbe1073c-8bc0-4e26-9917-c190aa096435"},{"kind":"app_task","name":"SYS_GEN__DE_Provision_0c3fb32c_a1d7_4352_840d_cc7d2edcb83d","uuid":"008f1551-15e7-459d-b8cf-a00059381777"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_c8891d1c_30b4_40ca_87b8_e096bd079c9c","uuid":"a7d1ef5b-4e74-4b11-806c-bf6610424ac2"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_1d9b0dbd_cc66_4d70_bc58_555e09ebb3b0","uuid":"fd88b36e-5818-40b0-91e0-1a0c4c549601"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_408f49ff_44c2_40f2_a700_4339864af66c","uuid":"3d2103b3-43ce-493c-9cce-73f798c0a176"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_46aff282_3d8b_4438_ab11_51cf246b6d4f","uuid":"7a1ab415-50b5-4af5-8f36-fe8e8cd72403"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_9a25af6d_2e7c_4834_9062_5f870b01cd5c","uuid":"cd4d2f2b-a54c-4cc3-8f25-afab52129975"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_570a5408_8999_4ea2_8fcb_bbdba09ae389","uuid":"e7de50fd-ea4d-4e44-9f9b-8a31471ef15e"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_2f21ee10_b6af_42b5_ba7c_706f5b58ca6a","uuid":"a2ecc101-9788-4b0f-8e61-8f72238de8ff"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_a6166b9f_9131_4150_a2d9_005a3ac25938","uuid":"e021adfa-0266-4353-9948-6423d522c28f"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_325908c4_c51c_4578_bec9_1b82603dbdab","uuid":"a4307639-9fb8-4db1-a029-668ed6269ece"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_2f21ee10_b6af_42b5_ba7c_706f5b58ca6a","uuid":"cc035083-260b-49c2-adcd-27d50e7a55c8"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_a6166b9f_9131_4150_a2d9_005a3ac25938","uuid":"4e8e20bc-8d1c-4f2b-8776-dfb0a406c527"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_325908c4_c51c_4578_bec9_1b82603dbdab","uuid":"e0e25fb5-9d77-4223-8f39-057d0210253f"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_325908c4_c51c_4578_bec9_1b82603dbdab","uuid":"a4307639-9fb8-4db1-a029-668ed6269ece"},"edge_type":"inherent","type":"","uuid":"aa6d1318-b223-48c6-980c-37c44f5420de","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_325908c4_c51c_4578_bec9_1b82603dbdab","uuid":"e0e25fb5-9d77-4223-8f39-057d0210253f"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_570a5408_8999_4ea2_8fcb_bbdba09ae389","uuid":"e7de50fd-ea4d-4e44-9f9b-8a31471ef15e"},"edge_type":"inherent","type":"","uuid":"058d2872-2ecb-4e75-bc4e-02f5fc2fbf7d","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_325908c4_c51c_4578_bec9_1b82603dbdab","uuid":"a4307639-9fb8-4db1-a029-668ed6269ece"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_349219a8_fb21_44cc_9c51_8abec1d4c5c6","uuid":"0924de33-ce13-4f9e-af13-ba1ea395a533"},"edge_type":"inherent","type":"","uuid":"b91a90ed-2048-418a-8f45-270c7604a8fb","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_1d9b0dbd_cc66_4d70_bc58_555e09ebb3b0","uuid":"fd88b36e-5818-40b0-91e0-1a0c4c549601"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_1d9b0dbd_cc66_4d70_bc58_555e09ebb3b0","uuid":"fd88b36e-5818-40b0-91e0-1a0c4c549601"},"edge_type":"inherent","type":"","uuid":"b4f97474-36f6-4fb5-9366-69bd7ceb3750","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_570a5408_8999_4ea2_8fcb_bbdba09ae389","uuid":"e7de50fd-ea4d-4e44-9f9b-8a31471ef15e"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_2f21ee10_b6af_42b5_ba7c_706f5b58ca6a","uuid":"a2ecc101-9788-4b0f-8e61-8f72238de8ff"},"edge_type":"inherent","type":"","uuid":"e3ca6703-1c3c-4028-8b7c-bf0c9f63c4d2","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_2f21ee10_b6af_42b5_ba7c_706f5b58ca6a","uuid":"cc035083-260b-49c2-adcd-27d50e7a55c8"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_46aff282_3d8b_4438_ab11_51cf246b6d4f","uuid":"7a1ab415-50b5-4af5-8f36-fe8e8cd72403"},"edge_type":"inherent","type":"","uuid":"2adad6de-b411-43ba-a28b-b7b8aa1aabef","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_2f21ee10_b6af_42b5_ba7c_706f5b58ca6a","uuid":"a2ecc101-9788-4b0f-8e61-8f72238de8ff"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_e7b94a22_d028_4fee_b2ff_dda1d6e38440","uuid":"cbe1073c-8bc0-4e26-9917-c190aa096435"},"edge_type":"inherent","type":"","uuid":"58426f5f-e7c1-4988-bd78-2062daec0ee7","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_c8891d1c_30b4_40ca_87b8_e096bd079c9c","uuid":"a7d1ef5b-4e74-4b11-806c-bf6610424ac2"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_c8891d1c_30b4_40ca_87b8_e096bd079c9c","uuid":"a7d1ef5b-4e74-4b11-806c-bf6610424ac2"},"edge_type":"inherent","type":"","uuid":"cc56d870-b9eb-4b59-90a3-34331bd0d499","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_46aff282_3d8b_4438_ab11_51cf246b6d4f","uuid":"7a1ab415-50b5-4af5-8f36-fe8e8cd72403"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_a6166b9f_9131_4150_a2d9_005a3ac25938","uuid":"e021adfa-0266-4353-9948-6423d522c28f"},"edge_type":"inherent","type":"","uuid":"28f6a243-6f42-4b99-ad60-d4a65a9d0bd5","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_a6166b9f_9131_4150_a2d9_005a3ac25938","uuid":"4e8e20bc-8d1c-4f2b-8776-dfb0a406c527"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_9a25af6d_2e7c_4834_9062_5f870b01cd5c","uuid":"cd4d2f2b-a54c-4cc3-8f25-afab52129975"},"edge_type":"inherent","type":"","uuid":"d6556d20-b256-40bb-8c85-38bb22c2a9c0","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_a6166b9f_9131_4150_a2d9_005a3ac25938","uuid":"e021adfa-0266-4353-9948-6423d522c28f"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_0c3fb32c_a1d7_4352_840d_cc7d2edcb83d","uuid":"008f1551-15e7-459d-b8cf-a00059381777"},"edge_type":"inherent","type":"","uuid":"cab31d59-d608-4e83-8dad-0b232f2c847b","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_408f49ff_44c2_40f2_a700_4339864af66c","uuid":"3d2103b3-43ce-493c-9cce-73f798c0a176"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_408f49ff_44c2_40f2_a700_4339864af66c","uuid":"3d2103b3-43ce-493c-9cce-73f798c0a176"},"edge_type":"inherent","type":"","uuid":"7466efb4-354d-4bfc-b0d1-33575814d43c","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_9a25af6d_2e7c_4834_9062_5f870b01cd5c","uuid":"cd4d2f2b-a54c-4cc3-8f25-afab52129975"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_13a278fa_efdd_45a1_b349_5e5cb421d6ca"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment","uuid":"349219a8-fb21-44cc-9c51-8abec1d4c5c6"},"retries":"0","description":"","type":"CREATE_DEPLOYMENT_ELEMENT","uuid":"0924de33-ce13-4f9e-af13-ba1ea395a533","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Provision_349219a8_fb21_44cc_9c51_8abec1d4c5c6"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1_cloned_1","uuid":"e7b94a22-d028-4fee-b2ff-dda1d6e38440"},"retries":"0","description":"","type":"CREATE_DEPLOYMENT_ELEMENT","uuid":"cbe1073c-8bc0-4e26-9917-c190aa096435","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Provision_e7b94a22_d028_4fee_b2ff_dda1d6e38440"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1","uuid":"0c3fb32c-a1d7-4352-840d-cc7d2edcb83d"},"retries":"0","description":"","type":"CREATE_DEPLOYMENT_ELEMENT","uuid":"008f1551-15e7-459d-b8cf-a00059381777","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Provision_0c3fb32c_a1d7_4352_840d_cc7d2edcb83d"},{"target_any_local_reference":{"kind":"app_substrate","name":"SQLServer_VM","uuid":"c8891d1c-30b4-40ca-87b8-e096bd079c9c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"a7d1ef5b-4e74-4b11-806c-bf6610424ac2","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1_cloned_1","uuid":"e7b94a22-d028-4fee-b2ff-dda1d6e38440"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_c8891d1c_30b4_40ca_87b8_e096bd079c9c","uuid":"ac8c08f4-3196-4acc-aed7-fe6c97d455b6"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Substrate_c8891d1c_30b4_40ca_87b8_e096bd079c9c"},{"target_any_local_reference":{"kind":"app_substrate","name":"RODC_VM","uuid":"1d9b0dbd-cc66-4d70-bc58-555e09ebb3b0"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"fd88b36e-5818-40b0-91e0-1a0c4c549601","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment","uuid":"349219a8-fb21-44cc-9c51-8abec1d4c5c6"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_1d9b0dbd_cc66_4d70_bc58_555e09ebb3b0","uuid":"043c7b49-75f4-40aa-b7bc-91bfea84fc18"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Substrate_1d9b0dbd_cc66_4d70_bc58_555e09ebb3b0"},{"target_any_local_reference":{"kind":"app_substrate","name":"FileServer_VM","uuid":"408f49ff-44c2-40f2-a700-4339864af66c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"3d2103b3-43ce-493c-9cce-73f798c0a176","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1","uuid":"0c3fb32c-a1d7-4352-840d-cc7d2edcb83d"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_408f49ff_44c2_40f2_a700_4339864af66c","uuid":"d59db055-e331-4387-80fa-ad5afce7560c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Substrate_408f49ff_44c2_40f2_a700_4339864af66c"},{"target_any_local_reference":{"kind":"app_package","name":"SQLServer_Personnalisation","uuid":"46aff282-3d8b-4438-ab11-51cf246b6d4f"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"7a1ab415-50b5-4af5-8f36-fe8e8cd72403","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1_cloned_1","uuid":"e7b94a22-d028-4fee-b2ff-dda1d6e38440"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_46aff282_3d8b_4438_ab11_51cf246b6d4f","uuid":"38b24dc6-6b02-4c60-b619-6c08114989b9"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_46aff282_3d8b_4438_ab11_51cf246b6d4f"},{"target_any_local_reference":{"kind":"app_package","name":"FileServer_Package","uuid":"9a25af6d-2e7c-4834-9062-5f870b01cd5c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"cd4d2f2b-a54c-4cc3-8f25-afab52129975","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1","uuid":"0c3fb32c-a1d7-4352-840d-cc7d2edcb83d"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_9a25af6d_2e7c_4834_9062_5f870b01cd5c","uuid":"ad3b2951-9ca7-4afd-8b77-32d5cc65b56c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_9a25af6d_2e7c_4834_9062_5f870b01cd5c"},{"target_any_local_reference":{"kind":"app_package","name":"RODC_Package","uuid":"570a5408-8999-4ea2-8fcb-bbdba09ae389"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"e7de50fd-ea4d-4e44-9f9b-8a31471ef15e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment","uuid":"349219a8-fb21-44cc-9c51-8abec1d4c5c6"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_570a5408_8999_4ea2_8fcb_bbdba09ae389","uuid":"8e86fa3f-6d10-47d3-bb7c-afb7609d7be5"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_570a5408_8999_4ea2_8fcb_bbdba09ae389"},{"target_any_local_reference":{"kind":"app_service","name":"SQLServer","uuid":"2f21ee10-b6af-42b5-ba7c-706f5b58ca6a"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"a2ecc101-9788-4b0f-8e61-8f72238de8ff","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1_cloned_1","uuid":"e7b94a22-d028-4fee-b2ff-dda1d6e38440"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_2f21ee10_b6af_42b5_ba7c_706f5b58ca6a","uuid":"5758a7cd-9ceb-4e2b-af39-af1256a466bb"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_2f21ee10_b6af_42b5_ba7c_706f5b58ca6a"},{"target_any_local_reference":{"kind":"app_service","name":"FileServer","uuid":"a6166b9f-9131-4150-a2d9-005a3ac25938"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"e021adfa-0266-4353-9948-6423d522c28f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1","uuid":"0c3fb32c-a1d7-4352-840d-cc7d2edcb83d"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_a6166b9f_9131_4150_a2d9_005a3ac25938","uuid":"83638252-93c6-438c-8db0-5ac83effb622"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_a6166b9f_9131_4150_a2d9_005a3ac25938"},{"target_any_local_reference":{"kind":"app_service","name":"RODC","uuid":"325908c4-c51c-4578-bec9-1b82603dbdab"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"a4307639-9fb8-4db1-a029-668ed6269ece","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment","uuid":"349219a8-fb21-44cc-9c51-8abec1d4c5c6"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_325908c4_c51c_4578_bec9_1b82603dbdab","uuid":"c53758f0-778c-4b03-bec4-d2b7fcac5b96"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_325908c4_c51c_4578_bec9_1b82603dbdab"},{"target_any_local_reference":{"kind":"app_service","name":"SQLServer","uuid":"2f21ee10-b6af-42b5-ba7c-706f5b58ca6a"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"cc035083-260b-49c2-adcd-27d50e7a55c8","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1_cloned_1","uuid":"e7b94a22-d028-4fee-b2ff-dda1d6e38440"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_2f21ee10_b6af_42b5_ba7c_706f5b58ca6a","uuid":"0bdab881-7f85-4f56-b018-4f15d9ff7bc8"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_2f21ee10_b6af_42b5_ba7c_706f5b58ca6a"},{"target_any_local_reference":{"kind":"app_service","name":"FileServer","uuid":"a6166b9f-9131-4150-a2d9-005a3ac25938"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"4e8e20bc-8d1c-4f2b-8776-dfb0a406c527","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1","uuid":"0c3fb32c-a1d7-4352-840d-cc7d2edcb83d"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_a6166b9f_9131_4150_a2d9_005a3ac25938","uuid":"66eff7d6-ab88-474f-bd15-7287cd845dc1"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_a6166b9f_9131_4150_a2d9_005a3ac25938"},{"target_any_local_reference":{"kind":"app_service","name":"RODC","uuid":"325908c4-c51c-4578-bec9-1b82603dbdab"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"e0e25fb5-9d77-4223-8f39-057d0210253f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment","uuid":"349219a8-fb21-44cc-9c51-8abec1d4c5c6"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_325908c4_c51c_4578_bec9_1b82603dbdab","uuid":"880cf882-93eb-4e52-bbcd-607fe084124e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_325908c4_c51c_4578_bec9_1b82603dbdab"}],"description":"","message_list":[],"uuid":"12ccbaa0-8f05-4f41-98bb-a6107d7e0663","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_13a278fa_efdd_45a1_b349_5e5cb421d6ca","uuid":"9a1317e2-23c0-431a-b4a6-06bf880bc84e"},"name":"SYS_GEN__Runbook_Application_13a278fa_efdd_45a1_b349_5e5cb421d6ca"}},{"description":"System action for starting an application","message_list":[],"uuid":"abdab52b-be32-4453-ae2f-34966ddd37ca","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"Default","uuid":"13a278fa-efdd-45a1-b349-5e5cb421d6ca"},"retries":"0","description":"","type":"DAG","uuid":"8af7dc0c-8c28-4fd3-88c2-21762356b77d","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_c8891d1c_30b4_40ca_87b8_e096bd079c9c","uuid":"12211fb5-c70f-49e1-a79e-589ec2089503"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_408f49ff_44c2_40f2_a700_4339864af66c","uuid":"8b8cd88a-baf4-44f8-9271-e056cf9de3b4"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_1d9b0dbd_cc66_4d70_bc58_555e09ebb3b0","uuid":"92c29a4a-419a-468f-be1c-bc66190a7175"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_325908c4_c51c_4578_bec9_1b82603dbdab","uuid":"f0202d43-2277-4bdf-947c-771debcfbe87"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_a6166b9f_9131_4150_a2d9_005a3ac25938","uuid":"26ec7538-55e5-4e0c-a9f4-c32f3b9247e9"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_2f21ee10_b6af_42b5_ba7c_706f5b58ca6a","uuid":"ec5846d8-f17d-47bc-858a-b884961fe36f"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_1d9b0dbd_cc66_4d70_bc58_555e09ebb3b0","uuid":"92c29a4a-419a-468f-be1c-bc66190a7175"},"edge_type":"inherent","type":"","uuid":"c25f6ee4-ef88-42d8-a0bd-169e1b8ebe33","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_325908c4_c51c_4578_bec9_1b82603dbdab","uuid":"f0202d43-2277-4bdf-947c-771debcfbe87"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_c8891d1c_30b4_40ca_87b8_e096bd079c9c","uuid":"12211fb5-c70f-49e1-a79e-589ec2089503"},"edge_type":"inherent","type":"","uuid":"b12352fe-8cbe-4af0-9474-efb365471081","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_2f21ee10_b6af_42b5_ba7c_706f5b58ca6a","uuid":"ec5846d8-f17d-47bc-858a-b884961fe36f"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_408f49ff_44c2_40f2_a700_4339864af66c","uuid":"8b8cd88a-baf4-44f8-9271-e056cf9de3b4"},"edge_type":"inherent","type":"","uuid":"57a206e2-e79b-4a3f-a474-5d02c37ea11d","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_a6166b9f_9131_4150_a2d9_005a3ac25938","uuid":"26ec7538-55e5-4e0c-a9f4-c32f3b9247e9"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_13a278fa_efdd_45a1_b349_5e5cb421d6ca"},{"target_any_local_reference":{"kind":"app_substrate","name":"SQLServer_VM","uuid":"c8891d1c-30b4-40ca-87b8-e096bd079c9c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"12211fb5-c70f-49e1-a79e-589ec2089503","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1_cloned_1","uuid":"e7b94a22-d028-4fee-b2ff-dda1d6e38440"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_c8891d1c_30b4_40ca_87b8_e096bd079c9c","uuid":"b24f7058-0da3-4ece-9186-5a050c8fcb74"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Substrate_c8891d1c_30b4_40ca_87b8_e096bd079c9c"},{"target_any_local_reference":{"kind":"app_substrate","name":"FileServer_VM","uuid":"408f49ff-44c2-40f2-a700-4339864af66c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"8b8cd88a-baf4-44f8-9271-e056cf9de3b4","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1","uuid":"0c3fb32c-a1d7-4352-840d-cc7d2edcb83d"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_408f49ff_44c2_40f2_a700_4339864af66c","uuid":"a483e6a7-b8eb-42de-9f1d-c8095301d538"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Substrate_408f49ff_44c2_40f2_a700_4339864af66c"},{"target_any_local_reference":{"kind":"app_substrate","name":"RODC_VM","uuid":"1d9b0dbd-cc66-4d70-bc58-555e09ebb3b0"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"92c29a4a-419a-468f-be1c-bc66190a7175","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment","uuid":"349219a8-fb21-44cc-9c51-8abec1d4c5c6"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_1d9b0dbd_cc66_4d70_bc58_555e09ebb3b0","uuid":"6ef78da1-552e-43d8-a9ef-1cb7cd659d08"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Substrate_1d9b0dbd_cc66_4d70_bc58_555e09ebb3b0"},{"target_any_local_reference":{"kind":"app_service","name":"RODC","uuid":"325908c4-c51c-4578-bec9-1b82603dbdab"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"f0202d43-2277-4bdf-947c-771debcfbe87","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment","uuid":"349219a8-fb21-44cc-9c51-8abec1d4c5c6"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_325908c4_c51c_4578_bec9_1b82603dbdab","uuid":"880cf882-93eb-4e52-bbcd-607fe084124e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_325908c4_c51c_4578_bec9_1b82603dbdab"},{"target_any_local_reference":{"kind":"app_service","name":"FileServer","uuid":"a6166b9f-9131-4150-a2d9-005a3ac25938"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"26ec7538-55e5-4e0c-a9f4-c32f3b9247e9","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1","uuid":"0c3fb32c-a1d7-4352-840d-cc7d2edcb83d"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_a6166b9f_9131_4150_a2d9_005a3ac25938","uuid":"66eff7d6-ab88-474f-bd15-7287cd845dc1"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_a6166b9f_9131_4150_a2d9_005a3ac25938"},{"target_any_local_reference":{"kind":"app_service","name":"SQLServer","uuid":"2f21ee10-b6af-42b5-ba7c-706f5b58ca6a"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"ec5846d8-f17d-47bc-858a-b884961fe36f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1_cloned_1","uuid":"e7b94a22-d028-4fee-b2ff-dda1d6e38440"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_2f21ee10_b6af_42b5_ba7c_706f5b58ca6a","uuid":"0bdab881-7f85-4f56-b018-4f15d9ff7bc8"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_2f21ee10_b6af_42b5_ba7c_706f5b58ca6a"}],"description":"","message_list":[],"uuid":"93d277df-0850-438d-aca1-b5ead4c3d9a4","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_13a278fa_efdd_45a1_b349_5e5cb421d6ca","uuid":"8af7dc0c-8c28-4fd3-88c2-21762356b77d"},"name":"SYS_GEN__Runbook_Application_13a278fa_efdd_45a1_b349_5e5cb421d6ca"}},{"description":"System action for restarting an application","message_list":[],"uuid":"f6b2aef9-9f9d-4a5b-afbc-bb4ea87f7983","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"Default","uuid":"13a278fa-efdd-45a1-b349-5e5cb421d6ca"},"retries":"0","description":"","type":"DAG","uuid":"fabaf1f8-5325-4526-bcf8-d7e86d5ec2f2","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_408f49ff_44c2_40f2_a700_4339864af66c","uuid":"2f4b6959-70c2-45d3-8d53-9be3617d9713"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_1d9b0dbd_cc66_4d70_bc58_555e09ebb3b0","uuid":"c987c316-f602-4c1d-8df1-9432e8eec113"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_c8891d1c_30b4_40ca_87b8_e096bd079c9c","uuid":"74cc6702-afd6-4813-9da6-664ffc8f356c"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_2f21ee10_b6af_42b5_ba7c_706f5b58ca6a","uuid":"42d1b61e-88fe-4314-93fe-bb50b2f9715b"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_a6166b9f_9131_4150_a2d9_005a3ac25938","uuid":"7dd88a98-cc09-46f5-9a15-f57a7cb737b6"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_325908c4_c51c_4578_bec9_1b82603dbdab","uuid":"40a69254-4974-4b6d-9385-aac7561d0369"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_1d9b0dbd_cc66_4d70_bc58_555e09ebb3b0","uuid":"c987c316-f602-4c1d-8df1-9432e8eec113"},"edge_type":"inherent","type":"","uuid":"2e7b03db-885c-40e8-8505-6041c477cf5c","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_325908c4_c51c_4578_bec9_1b82603dbdab","uuid":"40a69254-4974-4b6d-9385-aac7561d0369"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_c8891d1c_30b4_40ca_87b8_e096bd079c9c","uuid":"74cc6702-afd6-4813-9da6-664ffc8f356c"},"edge_type":"inherent","type":"","uuid":"27ebf1c2-c2f8-4039-b5d4-8738b64ec331","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_2f21ee10_b6af_42b5_ba7c_706f5b58ca6a","uuid":"42d1b61e-88fe-4314-93fe-bb50b2f9715b"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_408f49ff_44c2_40f2_a700_4339864af66c","uuid":"2f4b6959-70c2-45d3-8d53-9be3617d9713"},"edge_type":"inherent","type":"","uuid":"64804c23-2d5f-403a-8a77-fc6e99ea7db5","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_a6166b9f_9131_4150_a2d9_005a3ac25938","uuid":"7dd88a98-cc09-46f5-9a15-f57a7cb737b6"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_13a278fa_efdd_45a1_b349_5e5cb421d6ca"},{"target_any_local_reference":{"kind":"app_substrate","name":"FileServer_VM","uuid":"408f49ff-44c2-40f2-a700-4339864af66c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"2f4b6959-70c2-45d3-8d53-9be3617d9713","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1","uuid":"0c3fb32c-a1d7-4352-840d-cc7d2edcb83d"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_408f49ff_44c2_40f2_a700_4339864af66c","uuid":"f42d2a47-dfea-47d4-ad5b-162403121ce5"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Substrate_408f49ff_44c2_40f2_a700_4339864af66c"},{"target_any_local_reference":{"kind":"app_substrate","name":"RODC_VM","uuid":"1d9b0dbd-cc66-4d70-bc58-555e09ebb3b0"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"c987c316-f602-4c1d-8df1-9432e8eec113","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment","uuid":"349219a8-fb21-44cc-9c51-8abec1d4c5c6"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_1d9b0dbd_cc66_4d70_bc58_555e09ebb3b0","uuid":"f2254450-c2bf-4571-bfca-c07a52506d0a"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Substrate_1d9b0dbd_cc66_4d70_bc58_555e09ebb3b0"},{"target_any_local_reference":{"kind":"app_substrate","name":"SQLServer_VM","uuid":"c8891d1c-30b4-40ca-87b8-e096bd079c9c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"74cc6702-afd6-4813-9da6-664ffc8f356c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1_cloned_1","uuid":"e7b94a22-d028-4fee-b2ff-dda1d6e38440"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_c8891d1c_30b4_40ca_87b8_e096bd079c9c","uuid":"150945a0-4e35-4db8-a8b3-f8cd32aea744"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Substrate_c8891d1c_30b4_40ca_87b8_e096bd079c9c"},{"target_any_local_reference":{"kind":"app_service","name":"SQLServer","uuid":"2f21ee10-b6af-42b5-ba7c-706f5b58ca6a"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"42d1b61e-88fe-4314-93fe-bb50b2f9715b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1_cloned_1","uuid":"e7b94a22-d028-4fee-b2ff-dda1d6e38440"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_2f21ee10_b6af_42b5_ba7c_706f5b58ca6a","uuid":"ba93cba3-2b81-4cd6-91dd-f14f28587b35"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_2f21ee10_b6af_42b5_ba7c_706f5b58ca6a"},{"target_any_local_reference":{"kind":"app_service","name":"FileServer","uuid":"a6166b9f-9131-4150-a2d9-005a3ac25938"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"7dd88a98-cc09-46f5-9a15-f57a7cb737b6","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1","uuid":"0c3fb32c-a1d7-4352-840d-cc7d2edcb83d"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_a6166b9f_9131_4150_a2d9_005a3ac25938","uuid":"fb014f3d-1e69-4ee0-afc0-cbe6dbdb9feb"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_a6166b9f_9131_4150_a2d9_005a3ac25938"},{"target_any_local_reference":{"kind":"app_service","name":"RODC","uuid":"325908c4-c51c-4578-bec9-1b82603dbdab"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"40a69254-4974-4b6d-9385-aac7561d0369","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment","uuid":"349219a8-fb21-44cc-9c51-8abec1d4c5c6"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_325908c4_c51c_4578_bec9_1b82603dbdab","uuid":"392c57d9-9d76-4bb3-9895-2fdeeb7169bc"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_325908c4_c51c_4578_bec9_1b82603dbdab"}],"description":"","message_list":[],"uuid":"3f5b9654-425e-409c-93c3-b068af8486c9","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_13a278fa_efdd_45a1_b349_5e5cb421d6ca","uuid":"fabaf1f8-5325-4526-bcf8-d7e86d5ec2f2"},"name":"SYS_GEN__Runbook_Application_13a278fa_efdd_45a1_b349_5e5cb421d6ca"}},{"description":"System action for stopping an application","message_list":[],"uuid":"928f14bb-1c56-49a7-a4bc-bb5b46f1aa28","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"Default","uuid":"13a278fa-efdd-45a1-b349-5e5cb421d6ca"},"retries":"0","description":"","type":"DAG","uuid":"b4f387f9-aab3-4901-97ae-2dc949f136bd","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_a6166b9f_9131_4150_a2d9_005a3ac25938","uuid":"f8d5a689-97d0-4047-923b-4978e4fdeb02"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_325908c4_c51c_4578_bec9_1b82603dbdab","uuid":"4aa3fc80-c32f-4b02-ae04-515c0d0b8c3c"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_2f21ee10_b6af_42b5_ba7c_706f5b58ca6a","uuid":"c55adfc5-70f8-422c-aa2d-234be8ec69b2"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_408f49ff_44c2_40f2_a700_4339864af66c","uuid":"2d684da9-6e27-46cc-9fff-3ded82f9f709"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_c8891d1c_30b4_40ca_87b8_e096bd079c9c","uuid":"1ec44039-e5f9-4927-904e-8e05df2cc11e"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_1d9b0dbd_cc66_4d70_bc58_555e09ebb3b0","uuid":"77a38d56-0a07-4afa-92a4-9c14845fb287"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_325908c4_c51c_4578_bec9_1b82603dbdab","uuid":"4aa3fc80-c32f-4b02-ae04-515c0d0b8c3c"},"edge_type":"inherent","type":"","uuid":"402b29ad-0f68-4f9e-b70e-aab35aa0e00f","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_1d9b0dbd_cc66_4d70_bc58_555e09ebb3b0","uuid":"77a38d56-0a07-4afa-92a4-9c14845fb287"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_2f21ee10_b6af_42b5_ba7c_706f5b58ca6a","uuid":"c55adfc5-70f8-422c-aa2d-234be8ec69b2"},"edge_type":"inherent","type":"","uuid":"37106aa1-0ce6-46ac-bfc4-ffc0731d8596","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_c8891d1c_30b4_40ca_87b8_e096bd079c9c","uuid":"1ec44039-e5f9-4927-904e-8e05df2cc11e"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_a6166b9f_9131_4150_a2d9_005a3ac25938","uuid":"f8d5a689-97d0-4047-923b-4978e4fdeb02"},"edge_type":"inherent","type":"","uuid":"00e40fbe-4f1b-4e8c-8ae5-5916840d42f9","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_408f49ff_44c2_40f2_a700_4339864af66c","uuid":"2d684da9-6e27-46cc-9fff-3ded82f9f709"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_13a278fa_efdd_45a1_b349_5e5cb421d6ca"},{"target_any_local_reference":{"kind":"app_service","name":"FileServer","uuid":"a6166b9f-9131-4150-a2d9-005a3ac25938"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"f8d5a689-97d0-4047-923b-4978e4fdeb02","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1","uuid":"0c3fb32c-a1d7-4352-840d-cc7d2edcb83d"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_a6166b9f_9131_4150_a2d9_005a3ac25938","uuid":"3bfa10ab-f583-4758-907c-33173aa6670f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_a6166b9f_9131_4150_a2d9_005a3ac25938"},{"target_any_local_reference":{"kind":"app_service","name":"RODC","uuid":"325908c4-c51c-4578-bec9-1b82603dbdab"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"4aa3fc80-c32f-4b02-ae04-515c0d0b8c3c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment","uuid":"349219a8-fb21-44cc-9c51-8abec1d4c5c6"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_325908c4_c51c_4578_bec9_1b82603dbdab","uuid":"7eb6ef58-4910-4857-a326-bc5ee4a699cd"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_325908c4_c51c_4578_bec9_1b82603dbdab"},{"target_any_local_reference":{"kind":"app_service","name":"SQLServer","uuid":"2f21ee10-b6af-42b5-ba7c-706f5b58ca6a"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"c55adfc5-70f8-422c-aa2d-234be8ec69b2","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1_cloned_1","uuid":"e7b94a22-d028-4fee-b2ff-dda1d6e38440"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_2f21ee10_b6af_42b5_ba7c_706f5b58ca6a","uuid":"063fea2f-40c7-49b5-a22b-705144983200"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_2f21ee10_b6af_42b5_ba7c_706f5b58ca6a"},{"target_any_local_reference":{"kind":"app_substrate","name":"FileServer_VM","uuid":"408f49ff-44c2-40f2-a700-4339864af66c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"2d684da9-6e27-46cc-9fff-3ded82f9f709","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1","uuid":"0c3fb32c-a1d7-4352-840d-cc7d2edcb83d"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_408f49ff_44c2_40f2_a700_4339864af66c","uuid":"3ba234da-1898-448b-ab7d-c919f67c9f8e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Substrate_408f49ff_44c2_40f2_a700_4339864af66c"},{"target_any_local_reference":{"kind":"app_substrate","name":"SQLServer_VM","uuid":"c8891d1c-30b4-40ca-87b8-e096bd079c9c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"1ec44039-e5f9-4927-904e-8e05df2cc11e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1_cloned_1","uuid":"e7b94a22-d028-4fee-b2ff-dda1d6e38440"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_c8891d1c_30b4_40ca_87b8_e096bd079c9c","uuid":"476aea5c-2b37-4a5c-b8de-9988e441d0a9"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Substrate_c8891d1c_30b4_40ca_87b8_e096bd079c9c"},{"target_any_local_reference":{"kind":"app_substrate","name":"RODC_VM","uuid":"1d9b0dbd-cc66-4d70-bc58-555e09ebb3b0"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"77a38d56-0a07-4afa-92a4-9c14845fb287","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment","uuid":"349219a8-fb21-44cc-9c51-8abec1d4c5c6"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_1d9b0dbd_cc66_4d70_bc58_555e09ebb3b0","uuid":"475807e6-7964-4242-8b07-284ac891eefb"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Substrate_1d9b0dbd_cc66_4d70_bc58_555e09ebb3b0"}],"description":"","message_list":[],"uuid":"4cdd6ae7-e39b-4559-a6ba-e2464ffa2d3d","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_13a278fa_efdd_45a1_b349_5e5cb421d6ca","uuid":"b4f387f9-aab3-4901-97ae-2dc949f136bd"},"name":"SYS_GEN__Runbook_Application_13a278fa_efdd_45a1_b349_5e5cb421d6ca"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"be9199d6-cba0-4349-8156-f4664a813661","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"Default","uuid":"13a278fa-efdd-45a1-b349-5e5cb421d6ca"},"retries":"0","description":"","type":"DAG","uuid":"28498820-248d-437c-9224-717c70fd96c4","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_325908c4_c51c_4578_bec9_1b82603dbdab","uuid":"b487f622-295e-4afb-b252-04e21b2732af"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_2f21ee10_b6af_42b5_ba7c_706f5b58ca6a","uuid":"74565d37-9a4d-4952-8979-386c20a99a04"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_a6166b9f_9131_4150_a2d9_005a3ac25938","uuid":"03fc2423-97fc-46c5-832b-7343ac9ab4f9"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_2f21ee10_b6af_42b5_ba7c_706f5b58ca6a","uuid":"6c7613fd-f7ad-4e0d-93b4-8a6e690e13ab"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_a6166b9f_9131_4150_a2d9_005a3ac25938","uuid":"0a96ae6e-b0cc-4bb3-a06e-33c1c8517dfd"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_325908c4_c51c_4578_bec9_1b82603dbdab","uuid":"77d47b32-edc7-45e2-97b7-915360a8af8f"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_46aff282_3d8b_4438_ab11_51cf246b6d4f","uuid":"5ada8913-efd7-4b8c-a04a-16b505e0c443"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_9a25af6d_2e7c_4834_9062_5f870b01cd5c","uuid":"5a0f3ff9-bef7-4d9a-80f1-8280317be07d"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_570a5408_8999_4ea2_8fcb_bbdba09ae389","uuid":"74809185-1d5a-40aa-9214-10edd658d77a"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_408f49ff_44c2_40f2_a700_4339864af66c","uuid":"b7cc4459-527e-4d74-a503-52e56bbc5a26"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_c8891d1c_30b4_40ca_87b8_e096bd079c9c","uuid":"bec410db-5c72-409b-a7b3-83c4d4b1ff39"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_1d9b0dbd_cc66_4d70_bc58_555e09ebb3b0","uuid":"4bb53ca3-7335-4d14-8720-582bafff7b78"},{"kind":"app_task","name":"SYS_GEN__DE_Delete_349219a8_fb21_44cc_9c51_8abec1d4c5c6","uuid":"bdf36f71-ee2a-4a28-905d-88a8fe3a1ffd"},{"kind":"app_task","name":"SYS_GEN__DE_Delete_0c3fb32c_a1d7_4352_840d_cc7d2edcb83d","uuid":"ddeaf3a8-6eca-4395-81a0-00b2449b215b"},{"kind":"app_task","name":"SYS_GEN__DE_Delete_e7b94a22_d028_4fee_b2ff_dda1d6e38440","uuid":"c38f8f94-309e-4d1a-9266-bb1aaed0f943"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_325908c4_c51c_4578_bec9_1b82603dbdab","uuid":"b487f622-295e-4afb-b252-04e21b2732af"},"edge_type":"inherent","type":"","uuid":"274f12a7-675c-46f6-9949-61dde9efa893","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_325908c4_c51c_4578_bec9_1b82603dbdab","uuid":"77d47b32-edc7-45e2-97b7-915360a8af8f"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_325908c4_c51c_4578_bec9_1b82603dbdab","uuid":"77d47b32-edc7-45e2-97b7-915360a8af8f"},"edge_type":"inherent","type":"","uuid":"d5a4f526-8cbc-43d2-a6c5-3ffaa7e9d2c8","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_570a5408_8999_4ea2_8fcb_bbdba09ae389","uuid":"74809185-1d5a-40aa-9214-10edd658d77a"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_570a5408_8999_4ea2_8fcb_bbdba09ae389","uuid":"74809185-1d5a-40aa-9214-10edd658d77a"},"edge_type":"inherent","type":"","uuid":"5275273b-564d-4fad-8b56-e0826d741c8b","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_1d9b0dbd_cc66_4d70_bc58_555e09ebb3b0","uuid":"4bb53ca3-7335-4d14-8720-582bafff7b78"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_1d9b0dbd_cc66_4d70_bc58_555e09ebb3b0","uuid":"4bb53ca3-7335-4d14-8720-582bafff7b78"},"edge_type":"inherent","type":"","uuid":"437f1ff0-4c0c-4290-8893-ef321c029382","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Delete_349219a8_fb21_44cc_9c51_8abec1d4c5c6","uuid":"bdf36f71-ee2a-4a28-905d-88a8fe3a1ffd"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_2f21ee10_b6af_42b5_ba7c_706f5b58ca6a","uuid":"74565d37-9a4d-4952-8979-386c20a99a04"},"edge_type":"inherent","type":"","uuid":"dcc24956-ad5e-40e6-971d-4d8e71af82b0","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_2f21ee10_b6af_42b5_ba7c_706f5b58ca6a","uuid":"6c7613fd-f7ad-4e0d-93b4-8a6e690e13ab"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_2f21ee10_b6af_42b5_ba7c_706f5b58ca6a","uuid":"6c7613fd-f7ad-4e0d-93b4-8a6e690e13ab"},"edge_type":"inherent","type":"","uuid":"cae21ca0-1e4e-4da4-a9a8-ffe5977191da","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_46aff282_3d8b_4438_ab11_51cf246b6d4f","uuid":"5ada8913-efd7-4b8c-a04a-16b505e0c443"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_c8891d1c_30b4_40ca_87b8_e096bd079c9c","uuid":"bec410db-5c72-409b-a7b3-83c4d4b1ff39"},"edge_type":"inherent","type":"","uuid":"ee1667ef-2297-4d1c-ac3b-6c5e7b1e1315","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Delete_e7b94a22_d028_4fee_b2ff_dda1d6e38440","uuid":"c38f8f94-309e-4d1a-9266-bb1aaed0f943"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_46aff282_3d8b_4438_ab11_51cf246b6d4f","uuid":"5ada8913-efd7-4b8c-a04a-16b505e0c443"},"edge_type":"inherent","type":"","uuid":"5ab22c7a-2ca9-48dc-bde1-cef328486c81","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_c8891d1c_30b4_40ca_87b8_e096bd079c9c","uuid":"bec410db-5c72-409b-a7b3-83c4d4b1ff39"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_a6166b9f_9131_4150_a2d9_005a3ac25938","uuid":"03fc2423-97fc-46c5-832b-7343ac9ab4f9"},"edge_type":"inherent","type":"","uuid":"6308582f-3e3f-4a58-b1ae-281fd740146f","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_a6166b9f_9131_4150_a2d9_005a3ac25938","uuid":"0a96ae6e-b0cc-4bb3-a06e-33c1c8517dfd"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_a6166b9f_9131_4150_a2d9_005a3ac25938","uuid":"0a96ae6e-b0cc-4bb3-a06e-33c1c8517dfd"},"edge_type":"inherent","type":"","uuid":"35535a6e-2ee0-4d59-bcad-9e076af91bac","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_9a25af6d_2e7c_4834_9062_5f870b01cd5c","uuid":"5a0f3ff9-bef7-4d9a-80f1-8280317be07d"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_408f49ff_44c2_40f2_a700_4339864af66c","uuid":"b7cc4459-527e-4d74-a503-52e56bbc5a26"},"edge_type":"inherent","type":"","uuid":"dffe2502-90bc-4432-8eb6-09b2a5a6dc10","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Delete_0c3fb32c_a1d7_4352_840d_cc7d2edcb83d","uuid":"ddeaf3a8-6eca-4395-81a0-00b2449b215b"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_9a25af6d_2e7c_4834_9062_5f870b01cd5c","uuid":"5a0f3ff9-bef7-4d9a-80f1-8280317be07d"},"edge_type":"inherent","type":"","uuid":"adba1096-cd8e-4119-91e9-b1faa5c87522","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_408f49ff_44c2_40f2_a700_4339864af66c","uuid":"b7cc4459-527e-4d74-a503-52e56bbc5a26"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_13a278fa_efdd_45a1_b349_5e5cb421d6ca"},{"target_any_local_reference":{"kind":"app_service","name":"RODC","uuid":"325908c4-c51c-4578-bec9-1b82603dbdab"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"b487f622-295e-4afb-b252-04e21b2732af","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment","uuid":"349219a8-fb21-44cc-9c51-8abec1d4c5c6"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_325908c4_c51c_4578_bec9_1b82603dbdab","uuid":"7eb6ef58-4910-4857-a326-bc5ee4a699cd"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_325908c4_c51c_4578_bec9_1b82603dbdab"},{"target_any_local_reference":{"kind":"app_service","name":"SQLServer","uuid":"2f21ee10-b6af-42b5-ba7c-706f5b58ca6a"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"74565d37-9a4d-4952-8979-386c20a99a04","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1_cloned_1","uuid":"e7b94a22-d028-4fee-b2ff-dda1d6e38440"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_2f21ee10_b6af_42b5_ba7c_706f5b58ca6a","uuid":"063fea2f-40c7-49b5-a22b-705144983200"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_2f21ee10_b6af_42b5_ba7c_706f5b58ca6a"},{"target_any_local_reference":{"kind":"app_service","name":"FileServer","uuid":"a6166b9f-9131-4150-a2d9-005a3ac25938"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"03fc2423-97fc-46c5-832b-7343ac9ab4f9","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1","uuid":"0c3fb32c-a1d7-4352-840d-cc7d2edcb83d"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_a6166b9f_9131_4150_a2d9_005a3ac25938","uuid":"3bfa10ab-f583-4758-907c-33173aa6670f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_a6166b9f_9131_4150_a2d9_005a3ac25938"},{"target_any_local_reference":{"kind":"app_service","name":"SQLServer","uuid":"2f21ee10-b6af-42b5-ba7c-706f5b58ca6a"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"6c7613fd-f7ad-4e0d-93b4-8a6e690e13ab","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1_cloned_1","uuid":"e7b94a22-d028-4fee-b2ff-dda1d6e38440"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_2f21ee10_b6af_42b5_ba7c_706f5b58ca6a","uuid":"aaa72a81-ffda-43e2-910a-a62a2da19e1a"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_2f21ee10_b6af_42b5_ba7c_706f5b58ca6a"},{"target_any_local_reference":{"kind":"app_service","name":"FileServer","uuid":"a6166b9f-9131-4150-a2d9-005a3ac25938"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"0a96ae6e-b0cc-4bb3-a06e-33c1c8517dfd","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1","uuid":"0c3fb32c-a1d7-4352-840d-cc7d2edcb83d"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_a6166b9f_9131_4150_a2d9_005a3ac25938","uuid":"d7058d8b-4fc3-4751-ab34-953e743c0d27"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_a6166b9f_9131_4150_a2d9_005a3ac25938"},{"target_any_local_reference":{"kind":"app_service","name":"RODC","uuid":"325908c4-c51c-4578-bec9-1b82603dbdab"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"77d47b32-edc7-45e2-97b7-915360a8af8f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment","uuid":"349219a8-fb21-44cc-9c51-8abec1d4c5c6"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_325908c4_c51c_4578_bec9_1b82603dbdab","uuid":"1a955176-9264-4360-a806-eb0547bd47d0"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_325908c4_c51c_4578_bec9_1b82603dbdab"},{"target_any_local_reference":{"kind":"app_package","name":"SQLServer_Personnalisation","uuid":"46aff282-3d8b-4438-ab11-51cf246b6d4f"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"5ada8913-efd7-4b8c-a04a-16b505e0c443","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1_cloned_1","uuid":"e7b94a22-d028-4fee-b2ff-dda1d6e38440"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_46aff282_3d8b_4438_ab11_51cf246b6d4f","uuid":"5e5a75d1-4cb5-467e-a798-c51dcb041a0c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_46aff282_3d8b_4438_ab11_51cf246b6d4f"},{"target_any_local_reference":{"kind":"app_package","name":"FileServer_Package","uuid":"9a25af6d-2e7c-4834-9062-5f870b01cd5c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"5a0f3ff9-bef7-4d9a-80f1-8280317be07d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1","uuid":"0c3fb32c-a1d7-4352-840d-cc7d2edcb83d"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_9a25af6d_2e7c_4834_9062_5f870b01cd5c","uuid":"5c9f3d1f-6af8-4696-872b-29f14b00d9d0"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_9a25af6d_2e7c_4834_9062_5f870b01cd5c"},{"target_any_local_reference":{"kind":"app_package","name":"RODC_Package","uuid":"570a5408-8999-4ea2-8fcb-bbdba09ae389"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"74809185-1d5a-40aa-9214-10edd658d77a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment","uuid":"349219a8-fb21-44cc-9c51-8abec1d4c5c6"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_570a5408_8999_4ea2_8fcb_bbdba09ae389","uuid":"47db4ce8-f0f1-40b7-adcd-4933d04c6039"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_570a5408_8999_4ea2_8fcb_bbdba09ae389"},{"target_any_local_reference":{"kind":"app_substrate","name":"FileServer_VM","uuid":"408f49ff-44c2-40f2-a700-4339864af66c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"b7cc4459-527e-4d74-a503-52e56bbc5a26","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1","uuid":"0c3fb32c-a1d7-4352-840d-cc7d2edcb83d"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_408f49ff_44c2_40f2_a700_4339864af66c","uuid":"c66e6036-9500-4df7-bc4a-da0bb3da4bec"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Substrate_408f49ff_44c2_40f2_a700_4339864af66c"},{"target_any_local_reference":{"kind":"app_substrate","name":"SQLServer_VM","uuid":"c8891d1c-30b4-40ca-87b8-e096bd079c9c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"bec410db-5c72-409b-a7b3-83c4d4b1ff39","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1_cloned_1","uuid":"e7b94a22-d028-4fee-b2ff-dda1d6e38440"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_c8891d1c_30b4_40ca_87b8_e096bd079c9c","uuid":"d4c8e007-5611-4e14-b8b8-b464b8c02469"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Substrate_c8891d1c_30b4_40ca_87b8_e096bd079c9c"},{"target_any_local_reference":{"kind":"app_substrate","name":"RODC_VM","uuid":"1d9b0dbd-cc66-4d70-bc58-555e09ebb3b0"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"4bb53ca3-7335-4d14-8720-582bafff7b78","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment","uuid":"349219a8-fb21-44cc-9c51-8abec1d4c5c6"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_1d9b0dbd_cc66_4d70_bc58_555e09ebb3b0","uuid":"b5bf4c8d-6241-4280-984b-b61c030aaafe"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Substrate_1d9b0dbd_cc66_4d70_bc58_555e09ebb3b0"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment","uuid":"349219a8-fb21-44cc-9c51-8abec1d4c5c6"},"retries":"0","description":"","type":"DELETE_DEPLOYMENT_ELEMENT","uuid":"bdf36f71-ee2a-4a28-905d-88a8fe3a1ffd","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Delete_349219a8_fb21_44cc_9c51_8abec1d4c5c6"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1","uuid":"0c3fb32c-a1d7-4352-840d-cc7d2edcb83d"},"retries":"0","description":"","type":"DELETE_DEPLOYMENT_ELEMENT","uuid":"ddeaf3a8-6eca-4395-81a0-00b2449b215b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Delete_0c3fb32c_a1d7_4352_840d_cc7d2edcb83d"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1_cloned_1","uuid":"e7b94a22-d028-4fee-b2ff-dda1d6e38440"},"retries":"0","description":"","type":"DELETE_DEPLOYMENT_ELEMENT","uuid":"c38f8f94-309e-4d1a-9266-bb1aaed0f943","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Delete_e7b94a22_d028_4fee_b2ff_dda1d6e38440"}],"description":"","message_list":[],"uuid":"8b9e4451-a452-4ded-9108-a67182daa340","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_13a278fa_efdd_45a1_b349_5e5cb421d6ca","uuid":"28498820-248d-437c-9224-717c70fd96c4"},"name":"SYS_GEN__Runbook_Application_13a278fa_efdd_45a1_b349_5e5cb421d6ca"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"2a9bc61b-b8bf-4e7d-b160-23347793dfe3","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"Default","uuid":"13a278fa-efdd-45a1-b349-5e5cb421d6ca"},"retries":"0","description":"","type":"DAG","uuid":"e95c635e-d2ab-4e30-a059-9b260414c89c","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_325908c4_c51c_4578_bec9_1b82603dbdab","uuid":"9da59dae-45cb-43de-88a0-7053fb2227c8"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_2f21ee10_b6af_42b5_ba7c_706f5b58ca6a","uuid":"cfacd08d-fe59-453d-b41b-0260ef67e770"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_a6166b9f_9131_4150_a2d9_005a3ac25938","uuid":"65fd73a5-db1f-4956-82b2-51a2ceab6704"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_570a5408_8999_4ea2_8fcb_bbdba09ae389","uuid":"487e3223-61c0-44e0-8010-6ba48bcca489"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_9a25af6d_2e7c_4834_9062_5f870b01cd5c","uuid":"ecb9f723-0d8c-4698-bc5b-d79c1974ad99"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_46aff282_3d8b_4438_ab11_51cf246b6d4f","uuid":"a792db23-d7cb-4b67-9baf-216d46aec257"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_c8891d1c_30b4_40ca_87b8_e096bd079c9c","uuid":"97a7aa67-6c35-42f7-af89-351dedfe4ef3"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_1d9b0dbd_cc66_4d70_bc58_555e09ebb3b0","uuid":"ae4d3a06-2d7c-43dd-a42e-91fcbf17bccf"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_408f49ff_44c2_40f2_a700_4339864af66c","uuid":"100f42d7-d18c-48bd-a1e9-ef3ec7e84d9c"},{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_e7b94a22_d028_4fee_b2ff_dda1d6e38440","uuid":"ed527e07-5283-4d36-84f8-7fb25f57cb73"},{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_0c3fb32c_a1d7_4352_840d_cc7d2edcb83d","uuid":"7155da2a-5029-4f93-8110-25dcdc61c743"},{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_349219a8_fb21_44cc_9c51_8abec1d4c5c6","uuid":"3f2fc082-fedb-44ee-9f67-bb7b0c792110"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_325908c4_c51c_4578_bec9_1b82603dbdab","uuid":"9da59dae-45cb-43de-88a0-7053fb2227c8"},"edge_type":"inherent","type":"","uuid":"f45224e8-daab-4475-a1d9-8b27d2aefec8","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_570a5408_8999_4ea2_8fcb_bbdba09ae389","uuid":"487e3223-61c0-44e0-8010-6ba48bcca489"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_1d9b0dbd_cc66_4d70_bc58_555e09ebb3b0","uuid":"ae4d3a06-2d7c-43dd-a42e-91fcbf17bccf"},"edge_type":"inherent","type":"","uuid":"b60cfc00-573d-4411-91f6-939fc7e5e477","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_349219a8_fb21_44cc_9c51_8abec1d4c5c6","uuid":"3f2fc082-fedb-44ee-9f67-bb7b0c792110"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_570a5408_8999_4ea2_8fcb_bbdba09ae389","uuid":"487e3223-61c0-44e0-8010-6ba48bcca489"},"edge_type":"inherent","type":"","uuid":"ee90b0aa-9834-4bd8-96c8-5cfbdbf6107c","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_1d9b0dbd_cc66_4d70_bc58_555e09ebb3b0","uuid":"ae4d3a06-2d7c-43dd-a42e-91fcbf17bccf"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_2f21ee10_b6af_42b5_ba7c_706f5b58ca6a","uuid":"cfacd08d-fe59-453d-b41b-0260ef67e770"},"edge_type":"inherent","type":"","uuid":"793d6896-cfb8-4832-a7f2-38c02638069d","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_46aff282_3d8b_4438_ab11_51cf246b6d4f","uuid":"a792db23-d7cb-4b67-9baf-216d46aec257"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_c8891d1c_30b4_40ca_87b8_e096bd079c9c","uuid":"97a7aa67-6c35-42f7-af89-351dedfe4ef3"},"edge_type":"inherent","type":"","uuid":"2b36f578-966d-4cfd-9e9f-8a1ec2ee41bf","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_e7b94a22_d028_4fee_b2ff_dda1d6e38440","uuid":"ed527e07-5283-4d36-84f8-7fb25f57cb73"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_46aff282_3d8b_4438_ab11_51cf246b6d4f","uuid":"a792db23-d7cb-4b67-9baf-216d46aec257"},"edge_type":"inherent","type":"","uuid":"f6148b07-9359-4017-bde6-f11ad864d6f8","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_c8891d1c_30b4_40ca_87b8_e096bd079c9c","uuid":"97a7aa67-6c35-42f7-af89-351dedfe4ef3"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_a6166b9f_9131_4150_a2d9_005a3ac25938","uuid":"65fd73a5-db1f-4956-82b2-51a2ceab6704"},"edge_type":"inherent","type":"","uuid":"a448c401-aa34-4547-bd0b-1808bdb37293","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_9a25af6d_2e7c_4834_9062_5f870b01cd5c","uuid":"ecb9f723-0d8c-4698-bc5b-d79c1974ad99"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_408f49ff_44c2_40f2_a700_4339864af66c","uuid":"100f42d7-d18c-48bd-a1e9-ef3ec7e84d9c"},"edge_type":"inherent","type":"","uuid":"ed9e7497-583d-492b-9c8f-b56062f1e381","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_0c3fb32c_a1d7_4352_840d_cc7d2edcb83d","uuid":"7155da2a-5029-4f93-8110-25dcdc61c743"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_9a25af6d_2e7c_4834_9062_5f870b01cd5c","uuid":"ecb9f723-0d8c-4698-bc5b-d79c1974ad99"},"edge_type":"inherent","type":"","uuid":"0ba02378-3b92-44c1-86d9-2bb1c80a4df6","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_408f49ff_44c2_40f2_a700_4339864af66c","uuid":"100f42d7-d18c-48bd-a1e9-ef3ec7e84d9c"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_13a278fa_efdd_45a1_b349_5e5cb421d6ca"},{"target_any_local_reference":{"kind":"app_service","name":"RODC","uuid":"325908c4-c51c-4578-bec9-1b82603dbdab"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"9da59dae-45cb-43de-88a0-7053fb2227c8","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment","uuid":"349219a8-fb21-44cc-9c51-8abec1d4c5c6"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_325908c4_c51c_4578_bec9_1b82603dbdab","uuid":"04c97e22-88bc-450c-8040-0d89829acc7b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_325908c4_c51c_4578_bec9_1b82603dbdab"},{"target_any_local_reference":{"kind":"app_service","name":"SQLServer","uuid":"2f21ee10-b6af-42b5-ba7c-706f5b58ca6a"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"cfacd08d-fe59-453d-b41b-0260ef67e770","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1_cloned_1","uuid":"e7b94a22-d028-4fee-b2ff-dda1d6e38440"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_2f21ee10_b6af_42b5_ba7c_706f5b58ca6a","uuid":"32d8aace-4022-4652-b90b-6406e8f9b8b1"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_2f21ee10_b6af_42b5_ba7c_706f5b58ca6a"},{"target_any_local_reference":{"kind":"app_service","name":"FileServer","uuid":"a6166b9f-9131-4150-a2d9-005a3ac25938"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"65fd73a5-db1f-4956-82b2-51a2ceab6704","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1","uuid":"0c3fb32c-a1d7-4352-840d-cc7d2edcb83d"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_a6166b9f_9131_4150_a2d9_005a3ac25938","uuid":"d6586675-8450-4a0b-b1ba-a0ab66a3aee7"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_a6166b9f_9131_4150_a2d9_005a3ac25938"},{"target_any_local_reference":{"kind":"app_package","name":"RODC_Package","uuid":"570a5408-8999-4ea2-8fcb-bbdba09ae389"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"487e3223-61c0-44e0-8010-6ba48bcca489","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_570a5408_8999_4ea2_8fcb_bbdba09ae389"},{"target_any_local_reference":{"kind":"app_package","name":"FileServer_Package","uuid":"9a25af6d-2e7c-4834-9062-5f870b01cd5c"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"ecb9f723-0d8c-4698-bc5b-d79c1974ad99","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_9a25af6d_2e7c_4834_9062_5f870b01cd5c"},{"target_any_local_reference":{"kind":"app_package","name":"SQLServer_Personnalisation","uuid":"46aff282-3d8b-4438-ab11-51cf246b6d4f"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"a792db23-d7cb-4b67-9baf-216d46aec257","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_46aff282_3d8b_4438_ab11_51cf246b6d4f"},{"target_any_local_reference":{"kind":"app_substrate","name":"SQLServer_VM","uuid":"c8891d1c-30b4-40ca-87b8-e096bd079c9c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"97a7aa67-6c35-42f7-af89-351dedfe4ef3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1_cloned_1","uuid":"e7b94a22-d028-4fee-b2ff-dda1d6e38440"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_c8891d1c_30b4_40ca_87b8_e096bd079c9c","uuid":"31528948-dff3-49d1-823a-ee7839ad8938"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Substrate_c8891d1c_30b4_40ca_87b8_e096bd079c9c"},{"target_any_local_reference":{"kind":"app_substrate","name":"RODC_VM","uuid":"1d9b0dbd-cc66-4d70-bc58-555e09ebb3b0"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"ae4d3a06-2d7c-43dd-a42e-91fcbf17bccf","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment","uuid":"349219a8-fb21-44cc-9c51-8abec1d4c5c6"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_1d9b0dbd_cc66_4d70_bc58_555e09ebb3b0","uuid":"a5e89ea9-3b62-4a16-bac3-eeb4b226bc57"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Substrate_1d9b0dbd_cc66_4d70_bc58_555e09ebb3b0"},{"target_any_local_reference":{"kind":"app_substrate","name":"FileServer_VM","uuid":"408f49ff-44c2-40f2-a700-4339864af66c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"100f42d7-d18c-48bd-a1e9-ef3ec7e84d9c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1","uuid":"0c3fb32c-a1d7-4352-840d-cc7d2edcb83d"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_408f49ff_44c2_40f2_a700_4339864af66c","uuid":"6babfa42-c26b-4e54-b04c-f5d643a0684b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Substrate_408f49ff_44c2_40f2_a700_4339864af66c"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1_cloned_1","uuid":"e7b94a22-d028-4fee-b2ff-dda1d6e38440"},"retries":"0","description":"","type":"SOFT_DELETE_DEPLOYMENT_ELEMENT","uuid":"ed527e07-5283-4d36-84f8-7fb25f57cb73","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Soft_Delete_e7b94a22_d028_4fee_b2ff_dda1d6e38440"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1","uuid":"0c3fb32c-a1d7-4352-840d-cc7d2edcb83d"},"retries":"0","description":"","type":"SOFT_DELETE_DEPLOYMENT_ELEMENT","uuid":"7155da2a-5029-4f93-8110-25dcdc61c743","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Soft_Delete_0c3fb32c_a1d7_4352_840d_cc7d2edcb83d"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment","uuid":"349219a8-fb21-44cc-9c51-8abec1d4c5c6"},"retries":"0","description":"","type":"SOFT_DELETE_DEPLOYMENT_ELEMENT","uuid":"3f2fc082-fedb-44ee-9f67-bb7b0c792110","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Soft_Delete_349219a8_fb21_44cc_9c51_8abec1d4c5c6"}],"description":"","message_list":[],"uuid":"9aa84914-3c80-44c5-9df9-610aecd3c9c1","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_13a278fa_efdd_45a1_b349_5e5cb421d6ca","uuid":"e95c635e-d2ab-4e30-a059-9b260414c89c"},"name":"SYS_GEN__Runbook_Application_13a278fa_efdd_45a1_b349_5e5cb421d6ca"}}],"message_list":[],"uuid":"13a278fa-efdd-45a1-b349-5e5cb421d6ca","state":"ACTIVE","dependency_list":[],"variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"9c7f26a9-fd79-4feb-a5e7-5d127766a264","value":"10.46.6.5","label":"","state":"ACTIVE","attrs":{},"editables":{},"is_hidden":false,"type":"LOCAL","options":{},"name":"DNSServer"},{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"e5b3f4c1-c11f-44f5-94d0-077d7b0f6220","value":"contoso.com","label":"","state":"ACTIVE","attrs":{},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"DOMAIN"},{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"c993c5d7-981b-4e40-99d4-394cb7d3d71c","value":"RODC","label":"","state":"ACTIVE","attrs":{},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"DOMAIN_TYPE"},{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"fe17a5b4-235c-410d-8ceb-c9363540c8e6","value":"On en fait un autre ???","label":"","state":"ACTIVE","attrs":{},"editables":{},"is_hidden":false,"type":"LOCAL","options":{},"name":"MSO365_Teams_Message"},{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"43ebd36f-cdc6-41dc-8be0-d815c4c9bb9a","value":"Deploiement termine","label":"","state":"ACTIVE","attrs":{},"editables":{},"is_hidden":false,"type":"LOCAL","options":{},"name":"MSO365_Teams_Title"},{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"3cee257e-657a-4ea2-b9ed-fcbe66e40df2","value":"https:\/\/outlook.office.com\/webhook\/4117132b-9424-40c7-a67a-547478c993c1@f82dcf67-d8b9-429f-a265-0b7a306e57e7\/IncomingWebhook\/eacfeec3457241bd8270bb476abf1cb3\/9f21995d-87ec-4dd0-91d9-149d7911c24f","label":"","state":"ACTIVE","attrs":{},"editables":{},"is_hidden":false,"type":"LOCAL","options":{},"name":"O365_Teams_Connector_Url"},{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"e089da07-f336-4b98-abe3-f52d27999dd5","value":"https:\/\/hooks.slack.com\/services\/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","label":"","state":"ACTIVE","attrs":{},"editables":{},"is_hidden":false,"type":"LOCAL","options":{},"name":"SLACK_HOOK"},{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"3f84c57e-dc74-454f-be94-d53913f8a9be","value":"","label":"","state":"ACTIVE","attrs":{},"editables":{},"is_hidden":false,"type":"LOCAL","options":{},"name":"CHILD_DOMAIN"},{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"67352596-ee12-416e-a9d9-d429b3e205b5","value":"MSSQLSERVER","label":"","state":"ACTIVE","attrs":{},"editables":{},"is_hidden":false,"type":"LOCAL","options":{},"name":"SQL_INSTANCE_NAME"}],"name":"Default"}],"published_service_definition_list":[],"default_credential_local_reference":{"kind":"app_credential","name":"DOMAIN_CRED","uuid":"7958c1cb-7109-4f89-8446-47fd7527512c"},"package_definition_list":[{"description":"","action_list":[{"description":"System action for installing an application","message_list":[],"uuid":"fca66316-d3d2-4bb1-a725-c2d7f50c5a75","name":"action_install","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"FileServer_Package","uuid":"9a25af6d-2e7c-4834-9062-5f870b01cd5c"},"retries":"0","description":"","type":"DAG","uuid":"dd2a9431-f77e-4314-ab95-780b2c1e5db6","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Install_Crb_9a25af6d_2e7c_4834_9062_5f870b01cd5c","uuid":"47a5be8f-3b37-48c2-8fc4-3412e90bce08"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Package_9a25af6d_2e7c_4834_9062_5f870b01cd5c"},{"target_any_local_reference":{"kind":"app_package","name":"FileServer_Package","uuid":"9a25af6d-2e7c-4834-9062-5f870b01cd5c"},"retries":"0","description":"","type":"CUSTOM_PACKAGE_INSTALL","uuid":"47a5be8f-3b37-48c2-8fc4-3412e90bce08","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"FileServer_Package","uuid":"9a25af6d-2e7c-4834-9062-5f870b01cd5c"},"retries":"0","description":"","type":"DAG","uuid":"1a460ace-da41-4469-a5aa-ed2a3e59e74b","child_tasks_local_reference_list":[{"kind":"app_task","name":"FileServer_RenameAndJoinDomain","uuid":"ea8410b8-3c18-4993-873e-e48e639ba3d4"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"76326282_dag"},{"target_any_local_reference":{"kind":"app_service","name":"FileServer","uuid":"a6166b9f-9131-4150-a2d9-005a3ac25938"},"retries":"0","description":"","type":"EXEC","uuid":"ea8410b8-3c18-4993-873e-e48e639ba3d4","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"##############################################\n# Name        : JoinDomain.ps1\n# Author      : K Sarat Kumar\n# Version     : 1.0\n# Description : Script is used to Change hostname of machines and join to domain.\n##############################################\n$HOSTNAME = \"@@{name}@@\"\n\nfunction Set-Hostname{\n  [CmdletBinding()]\n  Param(\n      [parameter(Mandatory=$true)]\n      [string]$Hostname\n)\n  if ($Hostname -eq  $(hostname)){\n    Write-Host \"Hostname already set.\"\n  } else{\n    Rename-Computer -NewName $HOSTNAME -ErrorAction Stop\n  }\n}\n\nfunction JointoDomain {\n  [CmdletBinding()]\n  Param(\n      [parameter(Mandatory=$true)]\n      [string]$DomainName,\n      [parameter(Mandatory=$false)]\n      [string]$OU,\n      [parameter(Mandatory=$true)]\n      [string]$Username,\n      [parameter(Mandatory=$true)]\n      [string]$Password,\n      [parameter(Mandatory=$true)]\n      [string]$Server\n  )\n  $adapter = Get-NetAdapter | ? {$_.Status -eq \"up\"}\n  $adapter | Set-DnsClientServerAddress -ServerAddresses $Server\n\n  if ($env:computername  -eq $env:userdomain) {\n    Write-Host \"Not in domain\"\n    $adminname = \"$DomainName\\$Username\"\n    $adminpassword = ConvertTo-SecureString -asPlainText -Force -String \"$Password\"\n    Write-Host \"$adminname , $password\"\n    $credential = New-Object System.Management.Automation.PSCredential($adminname,$adminpassword)\n    Add-computer -DomainName $DomainName -Credential $credential -force -Options JoinWithNewName,AccountCreate -PassThru -ErrorAction Stop\n  } else {\n     Write-Host \"Already in domain\"\n  }\n}\n\nif ($HOSTNAME -ne $Null){\n  Write-Host \"Setting Hostname\"\n  Set-Hostname -Hostname $HOSTNAME\n}\n\nJointoDomain -DomainName \"@@{DOMAIN}@@\" -Username \"@@{DOMAIN_CRED.username}@@\" -Password \"@@{DOMAIN_CRED.secret}@@\" -Server \"@@{DNSServer}@@\"\n\nRestart-Computer -Force -AsJob\nexit 0\n","script_type":"npsscript","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"LOCAL","uuid":"1fdba0b0-e1cf-4835-b0e5-d525cb736b7f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"FileServer_RenameAndJoinDomain"}],"description":"","message_list":[],"uuid":"51e5c4f8-d9ac-4c54-af6f-28b56db44707","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"76326282_dag","uuid":"1a460ace-da41-4469-a5aa-ed2a3e59e74b"},"name":"b54300dd_runbook_cloned_1"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"FileServer_Package","uuid":"9a25af6d-2e7c-4834-9062-5f870b01cd5c"},"retries":"0","description":"","type":"DAG","uuid":"2cbfc27e-57ae-404c-8f08-efbb4248ceeb","child_tasks_local_reference_list":[{"kind":"app_task","name":"FileServer_UnjoinDoman","uuid":"a0a97d91-be8d-4903-b5d4-5d437b524ad7"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"700b3d0e_dag"},{"target_any_local_reference":{"kind":"app_service","name":"FileServer","uuid":"a6166b9f-9131-4150-a2d9-005a3ac25938"},"retries":"0","description":"","type":"EXEC","uuid":"a0a97d91-be8d-4903-b5d4-5d437b524ad7","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"$adminpassword = ConvertTo-SecureString -asPlainText -Force -String \"@@{DOMAIN_CRED.secret}@@\"\nWrite-Output \"@@{DOMAIN_CRED.username}@@ , @@{DOMAIN_CRED.secret}@@\"\n$credential = New-Object System.Management.Automation.PSCredential(\"@@{DOMAIN_CRED.username}@@\", $adminpassword)\n\nRemove-Computer -UnjoinDomaincredential $credential -Force -PassThru -Verbose -Restart -WorkgroupName Workgroup","script_type":"npsscript","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"DOMAIN_CRED","uuid":"7958c1cb-7109-4f89-8446-47fd7527512c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"FileServer_UnjoinDoman"}],"description":"","message_list":[],"uuid":"0891d4b0-77fe-4072-847e-3c9b6ae9a30f","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"700b3d0e_dag","uuid":"2cbfc27e-57ae-404c-8f08-efbb4248ceeb"},"name":"ea9792f4_runbook_cloned_1"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Install_Crb_9a25af6d_2e7c_4834_9062_5f870b01cd5c"}],"description":"","message_list":[],"uuid":"ad3b2951-9ca7-4afd-8b77-32d5cc65b56c","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Package_9a25af6d_2e7c_4834_9062_5f870b01cd5c","uuid":"dd2a9431-f77e-4314-ab95-780b2c1e5db6"},"name":"SYS_GEN__Runbook_Package_9a25af6d_2e7c_4834_9062_5f870b01cd5c"}},{"description":"System action for creating an application","message_list":[],"uuid":"03c9715f-9571-4c63-91c9-74bcb9cde2c0","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"FileServer_Package","uuid":"9a25af6d-2e7c-4834-9062-5f870b01cd5c"},"retries":"0","description":"","type":"DAG","uuid":"6882b34f-2cb3-410b-bba2-3b8b88238b52","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_9a25af6d_2e7c_4834_9062_5f870b01cd5c","uuid":"b757f8fb-c497-408f-90ee-f700104c872a"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_a6166b9f_9131_4150_a2d9_005a3ac25938","uuid":"07876e66-1ed5-4216-bfc4-141eee0871e7"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_a6166b9f_9131_4150_a2d9_005a3ac25938","uuid":"943a593b-54fe-434c-a4bc-8f2e489c2063"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_a6166b9f_9131_4150_a2d9_005a3ac25938","uuid":"07876e66-1ed5-4216-bfc4-141eee0871e7"},"edge_type":"inherent","type":"","uuid":"eb4197c7-ec35-4424-bc11-acca79ab0391","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_a6166b9f_9131_4150_a2d9_005a3ac25938","uuid":"943a593b-54fe-434c-a4bc-8f2e489c2063"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_9a25af6d_2e7c_4834_9062_5f870b01cd5c","uuid":"b757f8fb-c497-408f-90ee-f700104c872a"},"edge_type":"inherent","type":"","uuid":"f16d0e33-33a6-4048-96a4-77dcb27bfcda","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_a6166b9f_9131_4150_a2d9_005a3ac25938","uuid":"07876e66-1ed5-4216-bfc4-141eee0871e7"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_9a25af6d_2e7c_4834_9062_5f870b01cd5c"},{"target_any_local_reference":{"kind":"app_package","name":"FileServer_Package","uuid":"9a25af6d-2e7c-4834-9062-5f870b01cd5c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"b757f8fb-c497-408f-90ee-f700104c872a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_9a25af6d_2e7c_4834_9062_5f870b01cd5c","uuid":"ad3b2951-9ca7-4afd-8b77-32d5cc65b56c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_9a25af6d_2e7c_4834_9062_5f870b01cd5c"},{"target_any_local_reference":{"kind":"app_service","name":"FileServer","uuid":"a6166b9f-9131-4150-a2d9-005a3ac25938"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"07876e66-1ed5-4216-bfc4-141eee0871e7","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_a6166b9f_9131_4150_a2d9_005a3ac25938","uuid":"83638252-93c6-438c-8db0-5ac83effb622"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_a6166b9f_9131_4150_a2d9_005a3ac25938"},{"target_any_local_reference":{"kind":"app_service","name":"FileServer","uuid":"a6166b9f-9131-4150-a2d9-005a3ac25938"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"943a593b-54fe-434c-a4bc-8f2e489c2063","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_a6166b9f_9131_4150_a2d9_005a3ac25938","uuid":"66eff7d6-ab88-474f-bd15-7287cd845dc1"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_a6166b9f_9131_4150_a2d9_005a3ac25938"}],"description":"","message_list":[],"uuid":"0c6c99af-bd11-45b3-8191-9c1c02a33d4b","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_9a25af6d_2e7c_4834_9062_5f870b01cd5c","uuid":"6882b34f-2cb3-410b-bba2-3b8b88238b52"},"name":"SYS_GEN__Runbook_Package_9a25af6d_2e7c_4834_9062_5f870b01cd5c"}},{"description":"System action for uninstalling an application","message_list":[],"uuid":"e0f3ae1d-b129-4b7b-bcf3-2e4aa048d259","name":"action_uninstall","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"FileServer_Package","uuid":"9a25af6d-2e7c-4834-9062-5f870b01cd5c"},"retries":"0","description":"","type":"DAG","uuid":"85af3d09-ca8f-4043-8e31-3a227fa520db","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Uninstall_Crb_9a25af6d_2e7c_4834_9062_5f870b01cd5c","uuid":"76d0f08b-053a-40ae-bf6a-b6c81d985966"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Package_9a25af6d_2e7c_4834_9062_5f870b01cd5c"},{"target_any_local_reference":{"kind":"app_package","name":"FileServer_Package","uuid":"9a25af6d-2e7c-4834-9062-5f870b01cd5c"},"retries":"0","description":"","type":"CUSTOM_PACKAGE_UNINSTALL","uuid":"76d0f08b-053a-40ae-bf6a-b6c81d985966","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"FileServer_Package","uuid":"9a25af6d-2e7c-4834-9062-5f870b01cd5c"},"retries":"0","description":"","type":"DAG","uuid":"1a460ace-da41-4469-a5aa-ed2a3e59e74b","child_tasks_local_reference_list":[{"kind":"app_task","name":"FileServer_RenameAndJoinDomain","uuid":"ea8410b8-3c18-4993-873e-e48e639ba3d4"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"76326282_dag"},{"target_any_local_reference":{"kind":"app_service","name":"FileServer","uuid":"a6166b9f-9131-4150-a2d9-005a3ac25938"},"retries":"0","description":"","type":"EXEC","uuid":"ea8410b8-3c18-4993-873e-e48e639ba3d4","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"##############################################\n# Name        : JoinDomain.ps1\n# Author      : K Sarat Kumar\n# Version     : 1.0\n# Description : Script is used to Change hostname of machines and join to domain.\n##############################################\n$HOSTNAME = \"@@{name}@@\"\n\nfunction Set-Hostname{\n  [CmdletBinding()]\n  Param(\n      [parameter(Mandatory=$true)]\n      [string]$Hostname\n)\n  if ($Hostname -eq  $(hostname)){\n    Write-Host \"Hostname already set.\"\n  } else{\n    Rename-Computer -NewName $HOSTNAME -ErrorAction Stop\n  }\n}\n\nfunction JointoDomain {\n  [CmdletBinding()]\n  Param(\n      [parameter(Mandatory=$true)]\n      [string]$DomainName,\n      [parameter(Mandatory=$false)]\n      [string]$OU,\n      [parameter(Mandatory=$true)]\n      [string]$Username,\n      [parameter(Mandatory=$true)]\n      [string]$Password,\n      [parameter(Mandatory=$true)]\n      [string]$Server\n  )\n  $adapter = Get-NetAdapter | ? {$_.Status -eq \"up\"}\n  $adapter | Set-DnsClientServerAddress -ServerAddresses $Server\n\n  if ($env:computername  -eq $env:userdomain) {\n    Write-Host \"Not in domain\"\n    $adminname = \"$DomainName\\$Username\"\n    $adminpassword = ConvertTo-SecureString -asPlainText -Force -String \"$Password\"\n    Write-Host \"$adminname , $password\"\n    $credential = New-Object System.Management.Automation.PSCredential($adminname,$adminpassword)\n    Add-computer -DomainName $DomainName -Credential $credential -force -Options JoinWithNewName,AccountCreate -PassThru -ErrorAction Stop\n  } else {\n     Write-Host \"Already in domain\"\n  }\n}\n\nif ($HOSTNAME -ne $Null){\n  Write-Host \"Setting Hostname\"\n  Set-Hostname -Hostname $HOSTNAME\n}\n\nJointoDomain -DomainName \"@@{DOMAIN}@@\" -Username \"@@{DOMAIN_CRED.username}@@\" -Password \"@@{DOMAIN_CRED.secret}@@\" -Server \"@@{DNSServer}@@\"\n\nRestart-Computer -Force -AsJob\nexit 0\n","script_type":"npsscript","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"LOCAL","uuid":"1fdba0b0-e1cf-4835-b0e5-d525cb736b7f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"FileServer_RenameAndJoinDomain"}],"description":"","message_list":[],"uuid":"51e5c4f8-d9ac-4c54-af6f-28b56db44707","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"76326282_dag","uuid":"1a460ace-da41-4469-a5aa-ed2a3e59e74b"},"name":"b54300dd_runbook_cloned_1"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"FileServer_Package","uuid":"9a25af6d-2e7c-4834-9062-5f870b01cd5c"},"retries":"0","description":"","type":"DAG","uuid":"2cbfc27e-57ae-404c-8f08-efbb4248ceeb","child_tasks_local_reference_list":[{"kind":"app_task","name":"FileServer_UnjoinDoman","uuid":"a0a97d91-be8d-4903-b5d4-5d437b524ad7"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"700b3d0e_dag"},{"target_any_local_reference":{"kind":"app_service","name":"FileServer","uuid":"a6166b9f-9131-4150-a2d9-005a3ac25938"},"retries":"0","description":"","type":"EXEC","uuid":"a0a97d91-be8d-4903-b5d4-5d437b524ad7","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"$adminpassword = ConvertTo-SecureString -asPlainText -Force -String \"@@{DOMAIN_CRED.secret}@@\"\nWrite-Output \"@@{DOMAIN_CRED.username}@@ , @@{DOMAIN_CRED.secret}@@\"\n$credential = New-Object System.Management.Automation.PSCredential(\"@@{DOMAIN_CRED.username}@@\", $adminpassword)\n\nRemove-Computer -UnjoinDomaincredential $credential -Force -PassThru -Verbose -Restart -WorkgroupName Workgroup","script_type":"npsscript","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"DOMAIN_CRED","uuid":"7958c1cb-7109-4f89-8446-47fd7527512c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"FileServer_UnjoinDoman"}],"description":"","message_list":[],"uuid":"0891d4b0-77fe-4072-847e-3c9b6ae9a30f","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"700b3d0e_dag","uuid":"2cbfc27e-57ae-404c-8f08-efbb4248ceeb"},"name":"ea9792f4_runbook_cloned_1"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Uninstall_Crb_9a25af6d_2e7c_4834_9062_5f870b01cd5c"}],"description":"","message_list":[],"uuid":"5c9f3d1f-6af8-4696-872b-29f14b00d9d0","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Package_9a25af6d_2e7c_4834_9062_5f870b01cd5c","uuid":"85af3d09-ca8f-4043-8e31-3a227fa520db"},"name":"SYS_GEN__Runbook_Package_9a25af6d_2e7c_4834_9062_5f870b01cd5c"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"2d5bab41-0ee3-48f3-9809-1b43b093ac1c","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"FileServer_Package","uuid":"9a25af6d-2e7c-4834-9062-5f870b01cd5c"},"retries":"0","description":"","type":"DAG","uuid":"e5088d69-6d99-4a01-b3f4-ddfed982c14c","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_a6166b9f_9131_4150_a2d9_005a3ac25938","uuid":"b143e8d3-8d8d-4e65-89c8-a547f1696a4a"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_a6166b9f_9131_4150_a2d9_005a3ac25938","uuid":"343cbd9e-a3d0-4d42-9af7-3303797bbddc"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_9a25af6d_2e7c_4834_9062_5f870b01cd5c","uuid":"2d4be54e-f4d4-4db1-9fea-0a16d396e694"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_a6166b9f_9131_4150_a2d9_005a3ac25938","uuid":"b143e8d3-8d8d-4e65-89c8-a547f1696a4a"},"edge_type":"inherent","type":"","uuid":"7e36b6da-4226-4eb9-b857-a6d13eb11a43","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_a6166b9f_9131_4150_a2d9_005a3ac25938","uuid":"343cbd9e-a3d0-4d42-9af7-3303797bbddc"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_a6166b9f_9131_4150_a2d9_005a3ac25938","uuid":"343cbd9e-a3d0-4d42-9af7-3303797bbddc"},"edge_type":"inherent","type":"","uuid":"429ddc91-41aa-4431-9bb5-e142648bcd29","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_9a25af6d_2e7c_4834_9062_5f870b01cd5c","uuid":"2d4be54e-f4d4-4db1-9fea-0a16d396e694"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_9a25af6d_2e7c_4834_9062_5f870b01cd5c"},{"target_any_local_reference":{"kind":"app_service","name":"FileServer","uuid":"a6166b9f-9131-4150-a2d9-005a3ac25938"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"b143e8d3-8d8d-4e65-89c8-a547f1696a4a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_a6166b9f_9131_4150_a2d9_005a3ac25938","uuid":"3bfa10ab-f583-4758-907c-33173aa6670f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_a6166b9f_9131_4150_a2d9_005a3ac25938"},{"target_any_local_reference":{"kind":"app_service","name":"FileServer","uuid":"a6166b9f-9131-4150-a2d9-005a3ac25938"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"343cbd9e-a3d0-4d42-9af7-3303797bbddc","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_a6166b9f_9131_4150_a2d9_005a3ac25938","uuid":"d7058d8b-4fc3-4751-ab34-953e743c0d27"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_a6166b9f_9131_4150_a2d9_005a3ac25938"},{"target_any_local_reference":{"kind":"app_package","name":"FileServer_Package","uuid":"9a25af6d-2e7c-4834-9062-5f870b01cd5c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"2d4be54e-f4d4-4db1-9fea-0a16d396e694","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_9a25af6d_2e7c_4834_9062_5f870b01cd5c","uuid":"5c9f3d1f-6af8-4696-872b-29f14b00d9d0"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_9a25af6d_2e7c_4834_9062_5f870b01cd5c"}],"description":"","message_list":[],"uuid":"c61b2610-ed06-4393-8d01-cae4aa2389e3","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_9a25af6d_2e7c_4834_9062_5f870b01cd5c","uuid":"e5088d69-6d99-4a01-b3f4-ddfed982c14c"},"name":"SYS_GEN__Runbook_Package_9a25af6d_2e7c_4834_9062_5f870b01cd5c"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"9e08fc5f-4aa1-424f-9274-9eeca8bd1f43","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"FileServer_Package","uuid":"9a25af6d-2e7c-4834-9062-5f870b01cd5c"},"retries":"0","description":"","type":"DAG","uuid":"b6021f33-740d-49ab-b5dc-13acf98fe8c5","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_a6166b9f_9131_4150_a2d9_005a3ac25938","uuid":"059f66fb-bdde-4832-875d-6e11718a4e7d"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_9a25af6d_2e7c_4834_9062_5f870b01cd5c","uuid":"079ce15a-a7dd-41f7-9404-35b9b347f552"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_a6166b9f_9131_4150_a2d9_005a3ac25938","uuid":"059f66fb-bdde-4832-875d-6e11718a4e7d"},"edge_type":"inherent","type":"","uuid":"6846232b-e0d8-4662-8700-da708c297c4c","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_9a25af6d_2e7c_4834_9062_5f870b01cd5c","uuid":"079ce15a-a7dd-41f7-9404-35b9b347f552"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_9a25af6d_2e7c_4834_9062_5f870b01cd5c"},{"target_any_local_reference":{"kind":"app_service","name":"FileServer","uuid":"a6166b9f-9131-4150-a2d9-005a3ac25938"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"059f66fb-bdde-4832-875d-6e11718a4e7d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_a6166b9f_9131_4150_a2d9_005a3ac25938","uuid":"d6586675-8450-4a0b-b1ba-a0ab66a3aee7"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_a6166b9f_9131_4150_a2d9_005a3ac25938"},{"target_any_local_reference":{"kind":"app_package","name":"FileServer_Package","uuid":"9a25af6d-2e7c-4834-9062-5f870b01cd5c"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"079ce15a-a7dd-41f7-9404-35b9b347f552","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_9a25af6d_2e7c_4834_9062_5f870b01cd5c"}],"description":"","message_list":[],"uuid":"38a34362-3cb5-4925-af3b-a5cc27abfdf4","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_9a25af6d_2e7c_4834_9062_5f870b01cd5c","uuid":"b6021f33-740d-49ab-b5dc-13acf98fe8c5"},"name":"SYS_GEN__Runbook_Package_9a25af6d_2e7c_4834_9062_5f870b01cd5c"}},{"description":"System action for starting an application","message_list":[],"uuid":"3a287a4b-c74b-438b-bfe3-42eda7e883f6","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"FileServer_Package","uuid":"9a25af6d-2e7c-4834-9062-5f870b01cd5c"},"retries":"0","description":"","type":"DAG","uuid":"d660bbc5-c379-44cb-af05-2471c3e2e612","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_a6166b9f_9131_4150_a2d9_005a3ac25938","uuid":"df38e09b-36e9-4344-8931-43903dbd659c"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_9a25af6d_2e7c_4834_9062_5f870b01cd5c"},{"target_any_local_reference":{"kind":"app_service","name":"FileServer","uuid":"a6166b9f-9131-4150-a2d9-005a3ac25938"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"df38e09b-36e9-4344-8931-43903dbd659c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_a6166b9f_9131_4150_a2d9_005a3ac25938","uuid":"66eff7d6-ab88-474f-bd15-7287cd845dc1"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_a6166b9f_9131_4150_a2d9_005a3ac25938"}],"description":"","message_list":[],"uuid":"4529d09c-14f3-44d7-a995-220517082e4c","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_9a25af6d_2e7c_4834_9062_5f870b01cd5c","uuid":"d660bbc5-c379-44cb-af05-2471c3e2e612"},"name":"SYS_GEN__Runbook_Package_9a25af6d_2e7c_4834_9062_5f870b01cd5c"}},{"description":"System action for restarting an application","message_list":[],"uuid":"0203feb2-316d-4050-af75-38e74f37c2d4","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"FileServer_Package","uuid":"9a25af6d-2e7c-4834-9062-5f870b01cd5c"},"retries":"0","description":"","type":"DAG","uuid":"a39c9d39-8d2e-4b24-878c-0343df0905b5","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_a6166b9f_9131_4150_a2d9_005a3ac25938","uuid":"b773a89c-c4cc-4ff0-8b76-2e6f5c087f72"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_9a25af6d_2e7c_4834_9062_5f870b01cd5c"},{"target_any_local_reference":{"kind":"app_service","name":"FileServer","uuid":"a6166b9f-9131-4150-a2d9-005a3ac25938"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"b773a89c-c4cc-4ff0-8b76-2e6f5c087f72","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_a6166b9f_9131_4150_a2d9_005a3ac25938","uuid":"fb014f3d-1e69-4ee0-afc0-cbe6dbdb9feb"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_a6166b9f_9131_4150_a2d9_005a3ac25938"}],"description":"","message_list":[],"uuid":"aaf3c875-d777-427c-9f14-4a2ce2322d20","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_9a25af6d_2e7c_4834_9062_5f870b01cd5c","uuid":"a39c9d39-8d2e-4b24-878c-0343df0905b5"},"name":"SYS_GEN__Runbook_Package_9a25af6d_2e7c_4834_9062_5f870b01cd5c"}},{"description":"System action for stopping an application","message_list":[],"uuid":"f737c39a-27ac-4178-8862-8c8a72fe56a5","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"FileServer_Package","uuid":"9a25af6d-2e7c-4834-9062-5f870b01cd5c"},"retries":"0","description":"","type":"DAG","uuid":"18907427-916f-48d3-85f7-ad763a5a2f8a","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_a6166b9f_9131_4150_a2d9_005a3ac25938","uuid":"ae7e39cd-66ac-4e1e-9e1c-d28e7129aca0"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_9a25af6d_2e7c_4834_9062_5f870b01cd5c"},{"target_any_local_reference":{"kind":"app_service","name":"FileServer","uuid":"a6166b9f-9131-4150-a2d9-005a3ac25938"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"ae7e39cd-66ac-4e1e-9e1c-d28e7129aca0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_a6166b9f_9131_4150_a2d9_005a3ac25938","uuid":"3bfa10ab-f583-4758-907c-33173aa6670f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_a6166b9f_9131_4150_a2d9_005a3ac25938"}],"description":"","message_list":[],"uuid":"c68fc346-febb-4f6a-af4e-0d7199496434","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_9a25af6d_2e7c_4834_9062_5f870b01cd5c","uuid":"18907427-916f-48d3-85f7-ad763a5a2f8a"},"name":"SYS_GEN__Runbook_Package_9a25af6d_2e7c_4834_9062_5f870b01cd5c"}}],"message_list":[],"service_local_reference_list":[{"kind":"app_service","name":"FileServer","uuid":"a6166b9f-9131-4150-a2d9-005a3ac25938"}],"uuid":"9a25af6d-2e7c-4834-9062-5f870b01cd5c","state":"ACTIVE","version":"","editables":{},"type":"DEB","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"FileServer_Package","uuid":"9a25af6d-2e7c-4834-9062-5f870b01cd5c"},"retries":"0","description":"","type":"DAG","uuid":"1a460ace-da41-4469-a5aa-ed2a3e59e74b","child_tasks_local_reference_list":[{"kind":"app_task","name":"FileServer_RenameAndJoinDomain","uuid":"ea8410b8-3c18-4993-873e-e48e639ba3d4"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"76326282_dag"},{"target_any_local_reference":{"kind":"app_service","name":"FileServer","uuid":"a6166b9f-9131-4150-a2d9-005a3ac25938"},"retries":"0","description":"","type":"EXEC","uuid":"ea8410b8-3c18-4993-873e-e48e639ba3d4","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"##############################################\n# Name        : JoinDomain.ps1\n# Author      : K Sarat Kumar\n# Version     : 1.0\n# Description : Script is used to Change hostname of machines and join to domain.\n##############################################\n$HOSTNAME = \"@@{name}@@\"\n\nfunction Set-Hostname{\n  [CmdletBinding()]\n  Param(\n      [parameter(Mandatory=$true)]\n      [string]$Hostname\n)\n  if ($Hostname -eq  $(hostname)){\n    Write-Host \"Hostname already set.\"\n  } else{\n    Rename-Computer -NewName $HOSTNAME -ErrorAction Stop\n  }\n}\n\nfunction JointoDomain {\n  [CmdletBinding()]\n  Param(\n      [parameter(Mandatory=$true)]\n      [string]$DomainName,\n      [parameter(Mandatory=$false)]\n      [string]$OU,\n      [parameter(Mandatory=$true)]\n      [string]$Username,\n      [parameter(Mandatory=$true)]\n      [string]$Password,\n      [parameter(Mandatory=$true)]\n      [string]$Server\n  )\n  $adapter = Get-NetAdapter | ? {$_.Status -eq \"up\"}\n  $adapter | Set-DnsClientServerAddress -ServerAddresses $Server\n\n  if ($env:computername  -eq $env:userdomain) {\n    Write-Host \"Not in domain\"\n    $adminname = \"$DomainName\\$Username\"\n    $adminpassword = ConvertTo-SecureString -asPlainText -Force -String \"$Password\"\n    Write-Host \"$adminname , $password\"\n    $credential = New-Object System.Management.Automation.PSCredential($adminname,$adminpassword)\n    Add-computer -DomainName $DomainName -Credential $credential -force -Options JoinWithNewName,AccountCreate -PassThru -ErrorAction Stop\n  } else {\n     Write-Host \"Already in domain\"\n  }\n}\n\nif ($HOSTNAME -ne $Null){\n  Write-Host \"Setting Hostname\"\n  Set-Hostname -Hostname $HOSTNAME\n}\n\nJointoDomain -DomainName \"@@{DOMAIN}@@\" -Username \"@@{DOMAIN_CRED.username}@@\" -Password \"@@{DOMAIN_CRED.secret}@@\" -Server \"@@{DNSServer}@@\"\n\nRestart-Computer -Force -AsJob\nexit 0\n","script_type":"npsscript","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"LOCAL","uuid":"1fdba0b0-e1cf-4835-b0e5-d525cb736b7f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"FileServer_RenameAndJoinDomain"}],"description":"","message_list":[],"uuid":"51e5c4f8-d9ac-4c54-af6f-28b56db44707","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"76326282_dag","uuid":"1a460ace-da41-4469-a5aa-ed2a3e59e74b"},"name":"b54300dd_runbook_cloned_1"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"FileServer_Package","uuid":"9a25af6d-2e7c-4834-9062-5f870b01cd5c"},"retries":"0","description":"","type":"DAG","uuid":"2cbfc27e-57ae-404c-8f08-efbb4248ceeb","child_tasks_local_reference_list":[{"kind":"app_task","name":"FileServer_UnjoinDoman","uuid":"a0a97d91-be8d-4903-b5d4-5d437b524ad7"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"700b3d0e_dag"},{"target_any_local_reference":{"kind":"app_service","name":"FileServer","uuid":"a6166b9f-9131-4150-a2d9-005a3ac25938"},"retries":"0","description":"","type":"EXEC","uuid":"a0a97d91-be8d-4903-b5d4-5d437b524ad7","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"$adminpassword = ConvertTo-SecureString -asPlainText -Force -String \"@@{DOMAIN_CRED.secret}@@\"\nWrite-Output \"@@{DOMAIN_CRED.username}@@ , @@{DOMAIN_CRED.secret}@@\"\n$credential = New-Object System.Management.Automation.PSCredential(\"@@{DOMAIN_CRED.username}@@\", $adminpassword)\n\nRemove-Computer -UnjoinDomaincredential $credential -Force -PassThru -Verbose -Restart -WorkgroupName Workgroup","script_type":"npsscript","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"DOMAIN_CRED","uuid":"7958c1cb-7109-4f89-8446-47fd7527512c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"FileServer_UnjoinDoman"}],"description":"","message_list":[],"uuid":"0891d4b0-77fe-4072-847e-3c9b6ae9a30f","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"700b3d0e_dag","uuid":"2cbfc27e-57ae-404c-8f08-efbb4248ceeb"},"name":"ea9792f4_runbook_cloned_1"}},"variable_list":[],"name":"FileServer_Package"},{"description":"","action_list":[{"description":"System action for installing an application","message_list":[],"uuid":"89a3bd10-f90f-410f-8329-9c4ae7e6f721","name":"action_install","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"RODC_Package","uuid":"570a5408-8999-4ea2-8fcb-bbdba09ae389"},"retries":"0","description":"","type":"DAG","uuid":"c7cf9efd-5afd-45e8-b56b-e0ce71bb1ec9","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Install_Crb_570a5408_8999_4ea2_8fcb_bbdba09ae389","uuid":"03f5f97f-199a-469e-b7aa-6cad4b65afc3"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Package_570a5408_8999_4ea2_8fcb_bbdba09ae389"},{"target_any_local_reference":{"kind":"app_package","name":"RODC_Package","uuid":"570a5408-8999-4ea2-8fcb-bbdba09ae389"},"retries":"0","description":"","type":"CUSTOM_PACKAGE_INSTALL","uuid":"03f5f97f-199a-469e-b7aa-6cad4b65afc3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"RODC_Package","uuid":"570a5408-8999-4ea2-8fcb-bbdba09ae389"},"retries":"0","description":"","type":"DAG","uuid":"6806084c-183d-4e93-9397-c7626302759d","child_tasks_local_reference_list":[{"kind":"app_task","name":"RODC_RenameAndJoinDomain","uuid":"623b0bdb-1734-41ee-b615-0ff295162913"},{"kind":"app_task","name":"RODC_Attente1","uuid":"397ce412-00b7-455a-b1a3-3e7aa9b8390b"},{"kind":"app_task","name":"RODC_ConfigurationRoleRODC","uuid":"268945c3-71bf-485f-88a8-208b2e18b8fb"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"RODC_Attente1","uuid":"397ce412-00b7-455a-b1a3-3e7aa9b8390b"},"edge_type":"user_defined","type":"","uuid":"88b677f3-3366-4f5b-b3fa-02be9f4b3c9b","to_task_reference":{"kind":"app_task","name":"RODC_ConfigurationRoleRODC","uuid":"268945c3-71bf-485f-88a8-208b2e18b8fb"}},{"from_task_reference":{"kind":"app_task","name":"RODC_RenameAndJoinDomain","uuid":"623b0bdb-1734-41ee-b615-0ff295162913"},"edge_type":"user_defined","type":"","uuid":"f2b76bcc-f938-4fbb-a20f-fc68decdf90f","to_task_reference":{"kind":"app_task","name":"RODC_Attente1","uuid":"397ce412-00b7-455a-b1a3-3e7aa9b8390b"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"76326282_dag"},{"target_any_local_reference":{"kind":"app_service","name":"RODC","uuid":"325908c4-c51c-4578-bec9-1b82603dbdab"},"retries":"0","description":"","type":"EXEC","uuid":"623b0bdb-1734-41ee-b615-0ff295162913","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"##############################################\n# Name        : JoinDomain.ps1\n# Author      : K Sarat Kumar\n# Version     : 1.0\n# Description : Script is used to Change hostname of machines and join to domain.\n##############################################\n$HOSTNAME = \"@@{name}@@\"\n\nfunction Set-Hostname{\n  [CmdletBinding()]\n  Param(\n      [parameter(Mandatory=$true)]\n      [string]$Hostname\n)\n  if ($Hostname -eq  $(hostname)){\n    Write-Host \"Hostname already set.\"\n  } else{\n    Rename-Computer -NewName $HOSTNAME -ErrorAction Stop\n  }\n}\n\nfunction JointoDomain {\n  [CmdletBinding()]\n  Param(\n      [parameter(Mandatory=$true)]\n      [string]$DomainName,\n      [parameter(Mandatory=$false)]\n      [string]$OU,\n      [parameter(Mandatory=$true)]\n      [string]$Username,\n      [parameter(Mandatory=$true)]\n      [string]$Password,\n      [parameter(Mandatory=$true)]\n      [string]$Server\n  )\n  $adapter = Get-NetAdapter | ? {$_.Status -eq \"up\"}\n  $adapter | Set-DnsClientServerAddress -ServerAddresses $Server\n\n  if ($env:computername  -eq $env:userdomain) {\n    Write-Host \"Not in domain\"\n    $adminname = \"$DomainName\\$Username\"\n    $adminpassword = ConvertTo-SecureString -asPlainText -Force -String \"$Password\"\n    Write-Host \"$adminname , $password\"\n    $credential = New-Object System.Management.Automation.PSCredential($adminname,$adminpassword)\n    Add-computer -DomainName $DomainName -Credential $credential -force -Options JoinWithNewName,AccountCreate -PassThru -ErrorAction Stop\n  } else {\n     Write-Host \"Already in domain\"\n  }\n}\n\nif ($HOSTNAME -ne $Null){\n  Write-Host \"Setting Hostname\"\n  Set-Hostname -Hostname $HOSTNAME\n}\n\nJointoDomain -DomainName \"@@{DOMAIN}@@\" -Username \"@@{DOMAIN_CRED.username}@@\" -Password \"@@{DOMAIN_CRED.secret}@@\" -Server \"@@{DNSServer}@@\"\n\nRestart-Computer -Force -AsJob\nexit 0","script_type":"npsscript","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"LOCAL","uuid":"1fdba0b0-e1cf-4835-b0e5-d525cb736b7f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"RODC_RenameAndJoinDomain"},{"target_any_local_reference":{"kind":"app_service","name":"RODC","uuid":"325908c4-c51c-4578-bec9-1b82603dbdab"},"retries":"0","description":"","type":"EXEC","uuid":"397ce412-00b7-455a-b1a3-3e7aa9b8390b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"static","type":"","command_line_args":"","exit_status":[],"script":"#script\nsleep(90)"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"RODC_Attente1"},{"target_any_local_reference":{"kind":"app_service","name":"RODC","uuid":"325908c4-c51c-4578-bec9-1b82603dbdab"},"retries":"0","description":"","type":"EXEC","uuid":"268945c3-71bf-485f-88a8-208b2e18b8fb","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"##############################################\n# Name        : ActiveDirectoryBundle.ps1\n# Author      : K Sarath Kumar\n# Version     : 1.0\n# Description : Installs and configures domain controller features AD, CDC, ADC & RODC.\n##############################################\n\n$WS2008R2_MAJOR                 = '6.1'\n$WS2012_MAJOR                   = '6.2'\n$WS2012R2_MAJOR                 = '6.3'\n$WS2016_MAJOR                   = '10.0'\n\n# -*- Checks AD Domain services Installation\nfunction Check-ActiveDirectoryFeature {\n   return $(Get-WindowsFeature AD-Domain-Services -ErrorAction SilentlyContinue).Installed\n}\n# -*- Installs AD Domain services\nfunction Install-ActiveDirectory {\n  Write-Output \"Installing AD Features.\"\n  Install-WindowsFeature -Name AD-Domain-Services -IncludeManagementTools\n}\n# -*- Checks the pre existance of domain\nfunction Check-DomainExistance {\n  #if (Get-ADDomainController -Discover -ErrorAction SilentlyContinue){\n  if (\"$((wmic ComputerSystem get DomainRole)[2])\".trim() -eq \"5\"){\n   return $true\n  } else{\n    return $false\n  }\n}\n\n# -*- Configures AD Domain service\nfunction Configure-ActiveDirectory {\n  [CmdletBinding()]\n  Param(\n      [parameter(Mandatory=$true)]\n      [string]$DomainName,\n      [parameter(Mandatory=$true)]\n      [string]$Password,\n      [parameter(Mandatory=$false)]\n      [string]$DatabasePath=\"C:\\Windows\\NTDS\",\n      [parameter(Mandatory=$true)]\n      [string]$DomainMode,\n      [parameter(Mandatory=$true)]\n      [string]$ForestMode,\n      [parameter(Mandatory=$false)]\n      [string]$LogPath=\"C:\\Windows\\NTDS\",\n      [parameter(Mandatory=$false)]\n      [string]$SysvolPath=\"C:\\Windows\\SYSVOL\",\n      [parameter(Mandatory=$true)]\n      [string]$DomainType,\n      [parameter(Mandatory=$false)]\n      [string]$ChildDomainName\n  )\n  Write-Output \"Import-Module ADDSDeployment\"\n  Import-Module ADDSDeployment\n\n  $secpasswd = ConvertTo-SecureString $Password -AsPlainText -Force\n  $credential = New-Object System.Management.Automation.PSCredential(\"$DomainName\\calm\",$secpasswd)\n  $netbios = $DomainName.Split(\".\")[0].ToUpper()\n  Write-Output \"Configuring Domain services.\"\n  switch ($DomainType){\n    \"DC\"{\n    \tWrite-Output \"01 Install DC Role\"\n      Install-ADDSForest -CreateDnsDelegation:$false -DatabasePath $DatabasePath -DomainMode $DomainMode -DomainName $DomainName -DomainNetbiosName $netbios -ForestMode $ForestMode -InstallDns:$true -LogPath $LogPath -NoRebootOnCompletion:$true -SysvolPath $SysvolPath -Force:$true -SafeModeAdministratorPassword $secpasswd\n    }\n    \"ADC\"{\n    \tWrite-Output \"01 Install ADC Role\"\n      Install-ADDSDomainController -NoGlobalCatalog:$false -CreateDnsDelegation:$false -CriticalReplicationOnly:$false -DatabasePath $DatabasePath -DomainName $DomainName -InstallDns:$true -LogPath $LogPath -NoRebootOnCompletion:$true -SiteName \"Default-First-Site-Name\" -SysvolPath $SysvolPath -Force:$true -SafeModeAdministratorPassword $secpasswd -Credential $credential\n    }\n    \"CDC\"{\n    \tWrite-Output \"01 Install CDC Role\"\n      Install-ADDSDomain -NoGlobalCatalog:$false -CreateDnsDelegation:$true -DatabasePath $DatabasePath -DomainMode $DomainMode -DomainType \"ChildDomain\" -InstallDns:$true -LogPath $LogPath -NewDomainName $ChildDomainName -NewDomainNetbiosName $ChildDomainName.ToUpper() -ParentDomainName $DomainName -NoRebootOnCompletion:$true -SiteName \"Default-First-Site-Name\" -SysvolPath $SysvolPath -Force:$true -SafeModeAdministratorPassword $secpasswd -Credential $credential\n    }\n    \"RODC\"{\n      Write-Output \"01 Install RODC Role\"\n      $SafeModePassword = ConvertTo-SecureString Nutanix\/4u -AsPlainText -Force\n      Write-Output \"01 Install RODC Role - Test\"\n      Test-ADDSDomainControllerInstallation -Credential $credential -SafeModeAdministratorPassword $SafeModePassword -DomainName a56.demo\n      Write-Output \"01 Install RODC Role - Install\"\n      Install-ADDSDomainController -AllowPasswordReplicationAccountName @(\"$netbios\\Groupe de r\u00e9plication dont le mot de passe RODC est autoris\u00e9\") -NoGlobalCatalog:$false -CriticalReplicationOnly:$false -DatabasePath $DatabasePath -DenyPasswordReplicationAccountName @(\"BUILTIN\\Administrateurs\", \"BUILTIN\\Op\u00e9rateurs de serveur\", \"BUILTIN\\Op\u00e9rateurs de sauvegarde\", \"BUILTIN\\Op\u00e9rateurs de compte\", \"$netbios\\Groupe de r\u00e9plication dont le mot de passe RODC est refus\u00e9\") -DomainName $DomainName -InstallDns:$true -LogPath $LogPath -NoRebootOnCompletion:$true -ReadOnlyReplica:$true -SiteName \"Default-First-Site-Name\" -SysvolPath $SysvolPath -Force:$true -SafeModeAdministratorPassword $secpasswd -Credential $credential\n    }\n    default{\n      Write-Output \"01 Invalid DomainType\"\n    }\n}\n}\n# -*- Cheking Exitance of Active directory Feature.\nif (Check-ActiveDirectoryFeature){\n  Write-Output \"Active Directory already installed.\"\n} else{\n  Install-ActiveDirectory\n}\n\nif (Check-DomainExistance){\n  Write-Output \"Domain exists already.\"\n} else{\n  $MajorOSVersion= [string](Get-WmiObject Win32_OperatingSystem | Select-Object @{n=\"Major\";e={($_.Version.Split(\".\")[0]+\".\"+$_.Version.Split(\".\")[1])}}).Major\n  Write-Output \"Domain doesn't exist\"\n  Write-Output \"OS Detected version : $MajorOSVersion\"\n  if ($MajorOSVersion -eq $WS2012R2_MAJOR){\n    $DomainMode = \"Win2012R2\"\n  } elseif ($MajorOSVersion -eq $WS2016_MAJOR){\n    $DomainMode = \"WinThreshold\"\n  }\n  Write-Output \"Domain mode : $DomainMode\"\n  Configure-ActiveDirectory -DomainName \"@@{DOMAIN}@@\" -Password \"@@{DOMAIN_CRED.secret}@@\" -DomainMode $DomainMode -ForestMode $DomainMode -DomainType \"@@{DOMAIN_TYPE}@@\" -ChildDomainName \"@@{CHILD_DOMAIN}@@\"\n}\nStart-Sleep -Seconds 5\n\necho $Error\n\nRestart-Computer -Force -AsJob\nexit 0","script_type":"npsscript","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"DOMAIN_CRED","uuid":"7958c1cb-7109-4f89-8446-47fd7527512c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"RODC_ConfigurationRoleRODC"}],"description":"","message_list":[],"uuid":"1c9e4949-e0ee-4e7c-8f2b-4905fec99f78","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"76326282_dag","uuid":"6806084c-183d-4e93-9397-c7626302759d"},"name":"b54300dd_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"RODC_Package","uuid":"570a5408-8999-4ea2-8fcb-bbdba09ae389"},"retries":"0","description":"","type":"DAG","uuid":"a08f982a-aa25-411c-abf5-3ea1b1f613ac","child_tasks_local_reference_list":[{"kind":"app_task","name":"RODC_Unistall_AD_Services","uuid":"98b47d00-8913-4e6d-9621-54df29706f6d"},{"kind":"app_task","name":"RODC_UnjoinDomain","uuid":"9358929d-5a7a-4d69-8cc5-d4599da69bb1"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"RODC_Unistall_AD_Services","uuid":"98b47d00-8913-4e6d-9621-54df29706f6d"},"edge_type":"user_defined","type":"","uuid":"67f674e5-f249-406b-88f6-333ed0fc0063","to_task_reference":{"kind":"app_task","name":"RODC_UnjoinDomain","uuid":"9358929d-5a7a-4d69-8cc5-d4599da69bb1"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"700b3d0e_dag"},{"target_any_local_reference":{"kind":"app_service","name":"RODC","uuid":"325908c4-c51c-4578-bec9-1b82603dbdab"},"retries":"0","description":"","type":"EXEC","uuid":"98b47d00-8913-4e6d-9621-54df29706f6d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"$adminpassword = ConvertTo-SecureString -asPlainText -Force -String \"@@{DOMAIN_CRED.secret}@@\"\nWrite-Output \"@@{DOMAIN_CRED.username}@@ , @@{DOMAIN_CRED.secret}@@\"\n$credential = New-Object System.Management.Automation.PSCredential(\"@@{DOMAIN_CRED.username}@@\", $adminpassword)\n\nUninstall-ADDSDomainController -Credential $credential -DemoteOperationMasterRole -NoRebootOnCompletion -Force -ForceRemoval -LocalAdministratorPassword $adminpassword","script_type":"npsscript","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"DOMAIN_CRED","uuid":"7958c1cb-7109-4f89-8446-47fd7527512c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"RODC_Unistall_AD_Services"},{"target_any_local_reference":{"kind":"app_service","name":"RODC","uuid":"325908c4-c51c-4578-bec9-1b82603dbdab"},"retries":"0","description":"","type":"EXEC","uuid":"9358929d-5a7a-4d69-8cc5-d4599da69bb1","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"$adminpassword = ConvertTo-SecureString -asPlainText -Force -String \"@@{DOMAIN_CRED.secret}@@\"\nWrite-Output \"@@{DOMAIN_CRED.username}@@ , @@{DOMAIN_CRED.secret}@@\"\n$credential = New-Object System.Management.Automation.PSCredential(\"@@{DOMAIN_CRED.username}@@\", $adminpassword)\n\nRemove-Computer -UnjoinDomaincredential $credential -Force -PassThru -Verbose -Restart -WorkgroupName Workgroup\n\nRestart-Computer -Force -AsJob","script_type":"npsscript","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"DOMAIN_CRED","uuid":"7958c1cb-7109-4f89-8446-47fd7527512c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"RODC_UnjoinDomain"}],"description":"","message_list":[],"uuid":"db3d010e-b2f2-4f84-b479-84b78aa83bbb","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"700b3d0e_dag","uuid":"a08f982a-aa25-411c-abf5-3ea1b1f613ac"},"name":"ea9792f4_runbook"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Install_Crb_570a5408_8999_4ea2_8fcb_bbdba09ae389"}],"description":"","message_list":[],"uuid":"8e86fa3f-6d10-47d3-bb7c-afb7609d7be5","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Package_570a5408_8999_4ea2_8fcb_bbdba09ae389","uuid":"c7cf9efd-5afd-45e8-b56b-e0ce71bb1ec9"},"name":"SYS_GEN__Runbook_Package_570a5408_8999_4ea2_8fcb_bbdba09ae389"}},{"description":"System action for creating an application","message_list":[],"uuid":"bcf73d0a-b8e4-4ef9-8423-e467f213b73d","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"RODC_Package","uuid":"570a5408-8999-4ea2-8fcb-bbdba09ae389"},"retries":"0","description":"","type":"DAG","uuid":"2a3d20ad-eb9b-4380-9e30-414b51612ee6","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_570a5408_8999_4ea2_8fcb_bbdba09ae389","uuid":"32711953-f90b-43ba-bb5c-813df7565c4b"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_325908c4_c51c_4578_bec9_1b82603dbdab","uuid":"e07bc4ab-58d9-4f31-9f2d-5bf3046d3812"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_325908c4_c51c_4578_bec9_1b82603dbdab","uuid":"bc865cac-4eb5-4aa4-a897-4334c732b7c1"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_325908c4_c51c_4578_bec9_1b82603dbdab","uuid":"e07bc4ab-58d9-4f31-9f2d-5bf3046d3812"},"edge_type":"inherent","type":"","uuid":"558e03e4-4e03-479a-8bb3-4c742fcb16b3","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_325908c4_c51c_4578_bec9_1b82603dbdab","uuid":"bc865cac-4eb5-4aa4-a897-4334c732b7c1"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_570a5408_8999_4ea2_8fcb_bbdba09ae389","uuid":"32711953-f90b-43ba-bb5c-813df7565c4b"},"edge_type":"inherent","type":"","uuid":"ee106f18-fd29-4956-80af-824d12107b61","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_325908c4_c51c_4578_bec9_1b82603dbdab","uuid":"e07bc4ab-58d9-4f31-9f2d-5bf3046d3812"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_570a5408_8999_4ea2_8fcb_bbdba09ae389"},{"target_any_local_reference":{"kind":"app_package","name":"RODC_Package","uuid":"570a5408-8999-4ea2-8fcb-bbdba09ae389"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"32711953-f90b-43ba-bb5c-813df7565c4b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_570a5408_8999_4ea2_8fcb_bbdba09ae389","uuid":"8e86fa3f-6d10-47d3-bb7c-afb7609d7be5"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_570a5408_8999_4ea2_8fcb_bbdba09ae389"},{"target_any_local_reference":{"kind":"app_service","name":"RODC","uuid":"325908c4-c51c-4578-bec9-1b82603dbdab"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"e07bc4ab-58d9-4f31-9f2d-5bf3046d3812","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_325908c4_c51c_4578_bec9_1b82603dbdab","uuid":"c53758f0-778c-4b03-bec4-d2b7fcac5b96"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_325908c4_c51c_4578_bec9_1b82603dbdab"},{"target_any_local_reference":{"kind":"app_service","name":"RODC","uuid":"325908c4-c51c-4578-bec9-1b82603dbdab"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"bc865cac-4eb5-4aa4-a897-4334c732b7c1","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_325908c4_c51c_4578_bec9_1b82603dbdab","uuid":"880cf882-93eb-4e52-bbcd-607fe084124e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_325908c4_c51c_4578_bec9_1b82603dbdab"}],"description":"","message_list":[],"uuid":"b59a018e-da4f-4c10-90a8-1d3d4cf1b86e","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_570a5408_8999_4ea2_8fcb_bbdba09ae389","uuid":"2a3d20ad-eb9b-4380-9e30-414b51612ee6"},"name":"SYS_GEN__Runbook_Package_570a5408_8999_4ea2_8fcb_bbdba09ae389"}},{"description":"System action for uninstalling an application","message_list":[],"uuid":"19450e96-d5f8-4de0-b461-f6e14b188487","name":"action_uninstall","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"RODC_Package","uuid":"570a5408-8999-4ea2-8fcb-bbdba09ae389"},"retries":"0","description":"","type":"DAG","uuid":"b05fa4b3-0038-4195-8903-e7ac317e162a","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Uninstall_Crb_570a5408_8999_4ea2_8fcb_bbdba09ae389","uuid":"903b4e7b-cf98-44af-a399-ed83542e6715"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Package_570a5408_8999_4ea2_8fcb_bbdba09ae389"},{"target_any_local_reference":{"kind":"app_package","name":"RODC_Package","uuid":"570a5408-8999-4ea2-8fcb-bbdba09ae389"},"retries":"0","description":"","type":"CUSTOM_PACKAGE_UNINSTALL","uuid":"903b4e7b-cf98-44af-a399-ed83542e6715","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"RODC_Package","uuid":"570a5408-8999-4ea2-8fcb-bbdba09ae389"},"retries":"0","description":"","type":"DAG","uuid":"6806084c-183d-4e93-9397-c7626302759d","child_tasks_local_reference_list":[{"kind":"app_task","name":"RODC_RenameAndJoinDomain","uuid":"623b0bdb-1734-41ee-b615-0ff295162913"},{"kind":"app_task","name":"RODC_Attente1","uuid":"397ce412-00b7-455a-b1a3-3e7aa9b8390b"},{"kind":"app_task","name":"RODC_ConfigurationRoleRODC","uuid":"268945c3-71bf-485f-88a8-208b2e18b8fb"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"RODC_Attente1","uuid":"397ce412-00b7-455a-b1a3-3e7aa9b8390b"},"edge_type":"user_defined","type":"","uuid":"88b677f3-3366-4f5b-b3fa-02be9f4b3c9b","to_task_reference":{"kind":"app_task","name":"RODC_ConfigurationRoleRODC","uuid":"268945c3-71bf-485f-88a8-208b2e18b8fb"}},{"from_task_reference":{"kind":"app_task","name":"RODC_RenameAndJoinDomain","uuid":"623b0bdb-1734-41ee-b615-0ff295162913"},"edge_type":"user_defined","type":"","uuid":"f2b76bcc-f938-4fbb-a20f-fc68decdf90f","to_task_reference":{"kind":"app_task","name":"RODC_Attente1","uuid":"397ce412-00b7-455a-b1a3-3e7aa9b8390b"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"76326282_dag"},{"target_any_local_reference":{"kind":"app_service","name":"RODC","uuid":"325908c4-c51c-4578-bec9-1b82603dbdab"},"retries":"0","description":"","type":"EXEC","uuid":"623b0bdb-1734-41ee-b615-0ff295162913","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"##############################################\n# Name        : JoinDomain.ps1\n# Author      : K Sarat Kumar\n# Version     : 1.0\n# Description : Script is used to Change hostname of machines and join to domain.\n##############################################\n$HOSTNAME = \"@@{name}@@\"\n\nfunction Set-Hostname{\n  [CmdletBinding()]\n  Param(\n      [parameter(Mandatory=$true)]\n      [string]$Hostname\n)\n  if ($Hostname -eq  $(hostname)){\n    Write-Host \"Hostname already set.\"\n  } else{\n    Rename-Computer -NewName $HOSTNAME -ErrorAction Stop\n  }\n}\n\nfunction JointoDomain {\n  [CmdletBinding()]\n  Param(\n      [parameter(Mandatory=$true)]\n      [string]$DomainName,\n      [parameter(Mandatory=$false)]\n      [string]$OU,\n      [parameter(Mandatory=$true)]\n      [string]$Username,\n      [parameter(Mandatory=$true)]\n      [string]$Password,\n      [parameter(Mandatory=$true)]\n      [string]$Server\n  )\n  $adapter = Get-NetAdapter | ? {$_.Status -eq \"up\"}\n  $adapter | Set-DnsClientServerAddress -ServerAddresses $Server\n\n  if ($env:computername  -eq $env:userdomain) {\n    Write-Host \"Not in domain\"\n    $adminname = \"$DomainName\\$Username\"\n    $adminpassword = ConvertTo-SecureString -asPlainText -Force -String \"$Password\"\n    Write-Host \"$adminname , $password\"\n    $credential = New-Object System.Management.Automation.PSCredential($adminname,$adminpassword)\n    Add-computer -DomainName $DomainName -Credential $credential -force -Options JoinWithNewName,AccountCreate -PassThru -ErrorAction Stop\n  } else {\n     Write-Host \"Already in domain\"\n  }\n}\n\nif ($HOSTNAME -ne $Null){\n  Write-Host \"Setting Hostname\"\n  Set-Hostname -Hostname $HOSTNAME\n}\n\nJointoDomain -DomainName \"@@{DOMAIN}@@\" -Username \"@@{DOMAIN_CRED.username}@@\" -Password \"@@{DOMAIN_CRED.secret}@@\" -Server \"@@{DNSServer}@@\"\n\nRestart-Computer -Force -AsJob\nexit 0","script_type":"npsscript","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"LOCAL","uuid":"1fdba0b0-e1cf-4835-b0e5-d525cb736b7f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"RODC_RenameAndJoinDomain"},{"target_any_local_reference":{"kind":"app_service","name":"RODC","uuid":"325908c4-c51c-4578-bec9-1b82603dbdab"},"retries":"0","description":"","type":"EXEC","uuid":"397ce412-00b7-455a-b1a3-3e7aa9b8390b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"static","type":"","command_line_args":"","exit_status":[],"script":"#script\nsleep(90)"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"RODC_Attente1"},{"target_any_local_reference":{"kind":"app_service","name":"RODC","uuid":"325908c4-c51c-4578-bec9-1b82603dbdab"},"retries":"0","description":"","type":"EXEC","uuid":"268945c3-71bf-485f-88a8-208b2e18b8fb","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"##############################################\n# Name        : ActiveDirectoryBundle.ps1\n# Author      : K Sarath Kumar\n# Version     : 1.0\n# Description : Installs and configures domain controller features AD, CDC, ADC & RODC.\n##############################################\n\n$WS2008R2_MAJOR                 = '6.1'\n$WS2012_MAJOR                   = '6.2'\n$WS2012R2_MAJOR                 = '6.3'\n$WS2016_MAJOR                   = '10.0'\n\n# -*- Checks AD Domain services Installation\nfunction Check-ActiveDirectoryFeature {\n   return $(Get-WindowsFeature AD-Domain-Services -ErrorAction SilentlyContinue).Installed\n}\n# -*- Installs AD Domain services\nfunction Install-ActiveDirectory {\n  Write-Output \"Installing AD Features.\"\n  Install-WindowsFeature -Name AD-Domain-Services -IncludeManagementTools\n}\n# -*- Checks the pre existance of domain\nfunction Check-DomainExistance {\n  #if (Get-ADDomainController -Discover -ErrorAction SilentlyContinue){\n  if (\"$((wmic ComputerSystem get DomainRole)[2])\".trim() -eq \"5\"){\n   return $true\n  } else{\n    return $false\n  }\n}\n\n# -*- Configures AD Domain service\nfunction Configure-ActiveDirectory {\n  [CmdletBinding()]\n  Param(\n      [parameter(Mandatory=$true)]\n      [string]$DomainName,\n      [parameter(Mandatory=$true)]\n      [string]$Password,\n      [parameter(Mandatory=$false)]\n      [string]$DatabasePath=\"C:\\Windows\\NTDS\",\n      [parameter(Mandatory=$true)]\n      [string]$DomainMode,\n      [parameter(Mandatory=$true)]\n      [string]$ForestMode,\n      [parameter(Mandatory=$false)]\n      [string]$LogPath=\"C:\\Windows\\NTDS\",\n      [parameter(Mandatory=$false)]\n      [string]$SysvolPath=\"C:\\Windows\\SYSVOL\",\n      [parameter(Mandatory=$true)]\n      [string]$DomainType,\n      [parameter(Mandatory=$false)]\n      [string]$ChildDomainName\n  )\n  Write-Output \"Import-Module ADDSDeployment\"\n  Import-Module ADDSDeployment\n\n  $secpasswd = ConvertTo-SecureString $Password -AsPlainText -Force\n  $credential = New-Object System.Management.Automation.PSCredential(\"$DomainName\\calm\",$secpasswd)\n  $netbios = $DomainName.Split(\".\")[0].ToUpper()\n  Write-Output \"Configuring Domain services.\"\n  switch ($DomainType){\n    \"DC\"{\n    \tWrite-Output \"01 Install DC Role\"\n      Install-ADDSForest -CreateDnsDelegation:$false -DatabasePath $DatabasePath -DomainMode $DomainMode -DomainName $DomainName -DomainNetbiosName $netbios -ForestMode $ForestMode -InstallDns:$true -LogPath $LogPath -NoRebootOnCompletion:$true -SysvolPath $SysvolPath -Force:$true -SafeModeAdministratorPassword $secpasswd\n    }\n    \"ADC\"{\n    \tWrite-Output \"01 Install ADC Role\"\n      Install-ADDSDomainController -NoGlobalCatalog:$false -CreateDnsDelegation:$false -CriticalReplicationOnly:$false -DatabasePath $DatabasePath -DomainName $DomainName -InstallDns:$true -LogPath $LogPath -NoRebootOnCompletion:$true -SiteName \"Default-First-Site-Name\" -SysvolPath $SysvolPath -Force:$true -SafeModeAdministratorPassword $secpasswd -Credential $credential\n    }\n    \"CDC\"{\n    \tWrite-Output \"01 Install CDC Role\"\n      Install-ADDSDomain -NoGlobalCatalog:$false -CreateDnsDelegation:$true -DatabasePath $DatabasePath -DomainMode $DomainMode -DomainType \"ChildDomain\" -InstallDns:$true -LogPath $LogPath -NewDomainName $ChildDomainName -NewDomainNetbiosName $ChildDomainName.ToUpper() -ParentDomainName $DomainName -NoRebootOnCompletion:$true -SiteName \"Default-First-Site-Name\" -SysvolPath $SysvolPath -Force:$true -SafeModeAdministratorPassword $secpasswd -Credential $credential\n    }\n    \"RODC\"{\n      Write-Output \"01 Install RODC Role\"\n      $SafeModePassword = ConvertTo-SecureString Nutanix\/4u -AsPlainText -Force\n      Write-Output \"01 Install RODC Role - Test\"\n      Test-ADDSDomainControllerInstallation -Credential $credential -SafeModeAdministratorPassword $SafeModePassword -DomainName a56.demo\n      Write-Output \"01 Install RODC Role - Install\"\n      Install-ADDSDomainController -AllowPasswordReplicationAccountName @(\"$netbios\\Groupe de r\u00e9plication dont le mot de passe RODC est autoris\u00e9\") -NoGlobalCatalog:$false -CriticalReplicationOnly:$false -DatabasePath $DatabasePath -DenyPasswordReplicationAccountName @(\"BUILTIN\\Administrateurs\", \"BUILTIN\\Op\u00e9rateurs de serveur\", \"BUILTIN\\Op\u00e9rateurs de sauvegarde\", \"BUILTIN\\Op\u00e9rateurs de compte\", \"$netbios\\Groupe de r\u00e9plication dont le mot de passe RODC est refus\u00e9\") -DomainName $DomainName -InstallDns:$true -LogPath $LogPath -NoRebootOnCompletion:$true -ReadOnlyReplica:$true -SiteName \"Default-First-Site-Name\" -SysvolPath $SysvolPath -Force:$true -SafeModeAdministratorPassword $secpasswd -Credential $credential\n    }\n    default{\n      Write-Output \"01 Invalid DomainType\"\n    }\n}\n}\n# -*- Cheking Exitance of Active directory Feature.\nif (Check-ActiveDirectoryFeature){\n  Write-Output \"Active Directory already installed.\"\n} else{\n  Install-ActiveDirectory\n}\n\nif (Check-DomainExistance){\n  Write-Output \"Domain exists already.\"\n} else{\n  $MajorOSVersion= [string](Get-WmiObject Win32_OperatingSystem | Select-Object @{n=\"Major\";e={($_.Version.Split(\".\")[0]+\".\"+$_.Version.Split(\".\")[1])}}).Major\n  Write-Output \"Domain doesn't exist\"\n  Write-Output \"OS Detected version : $MajorOSVersion\"\n  if ($MajorOSVersion -eq $WS2012R2_MAJOR){\n    $DomainMode = \"Win2012R2\"\n  } elseif ($MajorOSVersion -eq $WS2016_MAJOR){\n    $DomainMode = \"WinThreshold\"\n  }\n  Write-Output \"Domain mode : $DomainMode\"\n  Configure-ActiveDirectory -DomainName \"@@{DOMAIN}@@\" -Password \"@@{DOMAIN_CRED.secret}@@\" -DomainMode $DomainMode -ForestMode $DomainMode -DomainType \"@@{DOMAIN_TYPE}@@\" -ChildDomainName \"@@{CHILD_DOMAIN}@@\"\n}\nStart-Sleep -Seconds 5\n\necho $Error\n\nRestart-Computer -Force -AsJob\nexit 0","script_type":"npsscript","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"DOMAIN_CRED","uuid":"7958c1cb-7109-4f89-8446-47fd7527512c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"RODC_ConfigurationRoleRODC"}],"description":"","message_list":[],"uuid":"1c9e4949-e0ee-4e7c-8f2b-4905fec99f78","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"76326282_dag","uuid":"6806084c-183d-4e93-9397-c7626302759d"},"name":"b54300dd_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"RODC_Package","uuid":"570a5408-8999-4ea2-8fcb-bbdba09ae389"},"retries":"0","description":"","type":"DAG","uuid":"a08f982a-aa25-411c-abf5-3ea1b1f613ac","child_tasks_local_reference_list":[{"kind":"app_task","name":"RODC_Unistall_AD_Services","uuid":"98b47d00-8913-4e6d-9621-54df29706f6d"},{"kind":"app_task","name":"RODC_UnjoinDomain","uuid":"9358929d-5a7a-4d69-8cc5-d4599da69bb1"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"RODC_Unistall_AD_Services","uuid":"98b47d00-8913-4e6d-9621-54df29706f6d"},"edge_type":"user_defined","type":"","uuid":"67f674e5-f249-406b-88f6-333ed0fc0063","to_task_reference":{"kind":"app_task","name":"RODC_UnjoinDomain","uuid":"9358929d-5a7a-4d69-8cc5-d4599da69bb1"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"700b3d0e_dag"},{"target_any_local_reference":{"kind":"app_service","name":"RODC","uuid":"325908c4-c51c-4578-bec9-1b82603dbdab"},"retries":"0","description":"","type":"EXEC","uuid":"98b47d00-8913-4e6d-9621-54df29706f6d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"$adminpassword = ConvertTo-SecureString -asPlainText -Force -String \"@@{DOMAIN_CRED.secret}@@\"\nWrite-Output \"@@{DOMAIN_CRED.username}@@ , @@{DOMAIN_CRED.secret}@@\"\n$credential = New-Object System.Management.Automation.PSCredential(\"@@{DOMAIN_CRED.username}@@\", $adminpassword)\n\nUninstall-ADDSDomainController -Credential $credential -DemoteOperationMasterRole -NoRebootOnCompletion -Force -ForceRemoval -LocalAdministratorPassword $adminpassword","script_type":"npsscript","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"DOMAIN_CRED","uuid":"7958c1cb-7109-4f89-8446-47fd7527512c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"RODC_Unistall_AD_Services"},{"target_any_local_reference":{"kind":"app_service","name":"RODC","uuid":"325908c4-c51c-4578-bec9-1b82603dbdab"},"retries":"0","description":"","type":"EXEC","uuid":"9358929d-5a7a-4d69-8cc5-d4599da69bb1","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"$adminpassword = ConvertTo-SecureString -asPlainText -Force -String \"@@{DOMAIN_CRED.secret}@@\"\nWrite-Output \"@@{DOMAIN_CRED.username}@@ , @@{DOMAIN_CRED.secret}@@\"\n$credential = New-Object System.Management.Automation.PSCredential(\"@@{DOMAIN_CRED.username}@@\", $adminpassword)\n\nRemove-Computer -UnjoinDomaincredential $credential -Force -PassThru -Verbose -Restart -WorkgroupName Workgroup\n\nRestart-Computer -Force -AsJob","script_type":"npsscript","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"DOMAIN_CRED","uuid":"7958c1cb-7109-4f89-8446-47fd7527512c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"RODC_UnjoinDomain"}],"description":"","message_list":[],"uuid":"db3d010e-b2f2-4f84-b479-84b78aa83bbb","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"700b3d0e_dag","uuid":"a08f982a-aa25-411c-abf5-3ea1b1f613ac"},"name":"ea9792f4_runbook"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Uninstall_Crb_570a5408_8999_4ea2_8fcb_bbdba09ae389"}],"description":"","message_list":[],"uuid":"47db4ce8-f0f1-40b7-adcd-4933d04c6039","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Package_570a5408_8999_4ea2_8fcb_bbdba09ae389","uuid":"b05fa4b3-0038-4195-8903-e7ac317e162a"},"name":"SYS_GEN__Runbook_Package_570a5408_8999_4ea2_8fcb_bbdba09ae389"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"3d97a3f2-68b8-409c-9cf5-19a0eef93bd4","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"RODC_Package","uuid":"570a5408-8999-4ea2-8fcb-bbdba09ae389"},"retries":"0","description":"","type":"DAG","uuid":"931f024d-43c4-4d79-a873-87a5cc5f5821","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_325908c4_c51c_4578_bec9_1b82603dbdab","uuid":"2389dd0c-4b14-4723-981b-79311905eecf"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_325908c4_c51c_4578_bec9_1b82603dbdab","uuid":"e43f4b76-cf50-42a6-888c-e1cb68292037"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_570a5408_8999_4ea2_8fcb_bbdba09ae389","uuid":"ce5b0f5b-4f77-4b84-8758-aea36ddef004"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_325908c4_c51c_4578_bec9_1b82603dbdab","uuid":"2389dd0c-4b14-4723-981b-79311905eecf"},"edge_type":"inherent","type":"","uuid":"cabccaac-25a6-478d-acb0-9f068af7661b","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_325908c4_c51c_4578_bec9_1b82603dbdab","uuid":"e43f4b76-cf50-42a6-888c-e1cb68292037"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_325908c4_c51c_4578_bec9_1b82603dbdab","uuid":"e43f4b76-cf50-42a6-888c-e1cb68292037"},"edge_type":"inherent","type":"","uuid":"950e435a-56ba-4286-aeba-d7ddeaa8f854","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_570a5408_8999_4ea2_8fcb_bbdba09ae389","uuid":"ce5b0f5b-4f77-4b84-8758-aea36ddef004"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_570a5408_8999_4ea2_8fcb_bbdba09ae389"},{"target_any_local_reference":{"kind":"app_service","name":"RODC","uuid":"325908c4-c51c-4578-bec9-1b82603dbdab"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"2389dd0c-4b14-4723-981b-79311905eecf","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_325908c4_c51c_4578_bec9_1b82603dbdab","uuid":"7eb6ef58-4910-4857-a326-bc5ee4a699cd"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_325908c4_c51c_4578_bec9_1b82603dbdab"},{"target_any_local_reference":{"kind":"app_service","name":"RODC","uuid":"325908c4-c51c-4578-bec9-1b82603dbdab"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"e43f4b76-cf50-42a6-888c-e1cb68292037","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_325908c4_c51c_4578_bec9_1b82603dbdab","uuid":"1a955176-9264-4360-a806-eb0547bd47d0"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_325908c4_c51c_4578_bec9_1b82603dbdab"},{"target_any_local_reference":{"kind":"app_package","name":"RODC_Package","uuid":"570a5408-8999-4ea2-8fcb-bbdba09ae389"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"ce5b0f5b-4f77-4b84-8758-aea36ddef004","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_570a5408_8999_4ea2_8fcb_bbdba09ae389","uuid":"47db4ce8-f0f1-40b7-adcd-4933d04c6039"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_570a5408_8999_4ea2_8fcb_bbdba09ae389"}],"description":"","message_list":[],"uuid":"b00e4565-ccae-4ab3-8e50-86b5444dc9c0","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_570a5408_8999_4ea2_8fcb_bbdba09ae389","uuid":"931f024d-43c4-4d79-a873-87a5cc5f5821"},"name":"SYS_GEN__Runbook_Package_570a5408_8999_4ea2_8fcb_bbdba09ae389"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"9c11fc42-4efb-406a-b477-c79f182d3b31","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"RODC_Package","uuid":"570a5408-8999-4ea2-8fcb-bbdba09ae389"},"retries":"0","description":"","type":"DAG","uuid":"30e671ab-569e-4bf7-9c93-30e6f95e1e0f","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_325908c4_c51c_4578_bec9_1b82603dbdab","uuid":"1b34ac9a-0dc0-4756-9233-b672b2036fa6"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_570a5408_8999_4ea2_8fcb_bbdba09ae389","uuid":"4c3b4603-ab8e-485a-8e1c-d58284044055"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_325908c4_c51c_4578_bec9_1b82603dbdab","uuid":"1b34ac9a-0dc0-4756-9233-b672b2036fa6"},"edge_type":"inherent","type":"","uuid":"39f3a154-8cdc-4537-ba2c-ad0f067b8fc5","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_570a5408_8999_4ea2_8fcb_bbdba09ae389","uuid":"4c3b4603-ab8e-485a-8e1c-d58284044055"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_570a5408_8999_4ea2_8fcb_bbdba09ae389"},{"target_any_local_reference":{"kind":"app_service","name":"RODC","uuid":"325908c4-c51c-4578-bec9-1b82603dbdab"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"1b34ac9a-0dc0-4756-9233-b672b2036fa6","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_325908c4_c51c_4578_bec9_1b82603dbdab","uuid":"04c97e22-88bc-450c-8040-0d89829acc7b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_325908c4_c51c_4578_bec9_1b82603dbdab"},{"target_any_local_reference":{"kind":"app_package","name":"RODC_Package","uuid":"570a5408-8999-4ea2-8fcb-bbdba09ae389"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"4c3b4603-ab8e-485a-8e1c-d58284044055","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_570a5408_8999_4ea2_8fcb_bbdba09ae389"}],"description":"","message_list":[],"uuid":"b3e08c1f-bc99-4d60-b9fd-a77394c2840e","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_570a5408_8999_4ea2_8fcb_bbdba09ae389","uuid":"30e671ab-569e-4bf7-9c93-30e6f95e1e0f"},"name":"SYS_GEN__Runbook_Package_570a5408_8999_4ea2_8fcb_bbdba09ae389"}},{"description":"System action for starting an application","message_list":[],"uuid":"a345e65a-9d9e-43e6-8548-0728e6ccbba2","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"RODC_Package","uuid":"570a5408-8999-4ea2-8fcb-bbdba09ae389"},"retries":"0","description":"","type":"DAG","uuid":"20d13f47-8f98-4554-ac23-32a0611f86dd","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_325908c4_c51c_4578_bec9_1b82603dbdab","uuid":"ecbb9658-084a-47b1-be69-b4fc7b67da55"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_570a5408_8999_4ea2_8fcb_bbdba09ae389"},{"target_any_local_reference":{"kind":"app_service","name":"RODC","uuid":"325908c4-c51c-4578-bec9-1b82603dbdab"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"ecbb9658-084a-47b1-be69-b4fc7b67da55","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_325908c4_c51c_4578_bec9_1b82603dbdab","uuid":"880cf882-93eb-4e52-bbcd-607fe084124e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_325908c4_c51c_4578_bec9_1b82603dbdab"}],"description":"","message_list":[],"uuid":"92dff18e-74d8-49a1-8dc1-f14e37a91bb2","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_570a5408_8999_4ea2_8fcb_bbdba09ae389","uuid":"20d13f47-8f98-4554-ac23-32a0611f86dd"},"name":"SYS_GEN__Runbook_Package_570a5408_8999_4ea2_8fcb_bbdba09ae389"}},{"description":"System action for restarting an application","message_list":[],"uuid":"022b1e4d-5cd1-4fee-8364-6b77d242d70f","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"RODC_Package","uuid":"570a5408-8999-4ea2-8fcb-bbdba09ae389"},"retries":"0","description":"","type":"DAG","uuid":"2abe4f90-97bf-4b2a-935a-8e8e55afb082","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_325908c4_c51c_4578_bec9_1b82603dbdab","uuid":"524eba32-72d5-475a-a37f-12a81ca7b20b"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_570a5408_8999_4ea2_8fcb_bbdba09ae389"},{"target_any_local_reference":{"kind":"app_service","name":"RODC","uuid":"325908c4-c51c-4578-bec9-1b82603dbdab"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"524eba32-72d5-475a-a37f-12a81ca7b20b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_325908c4_c51c_4578_bec9_1b82603dbdab","uuid":"392c57d9-9d76-4bb3-9895-2fdeeb7169bc"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_325908c4_c51c_4578_bec9_1b82603dbdab"}],"description":"","message_list":[],"uuid":"e40e8933-3943-48e9-9d5f-b94de7c55924","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_570a5408_8999_4ea2_8fcb_bbdba09ae389","uuid":"2abe4f90-97bf-4b2a-935a-8e8e55afb082"},"name":"SYS_GEN__Runbook_Package_570a5408_8999_4ea2_8fcb_bbdba09ae389"}},{"description":"System action for stopping an application","message_list":[],"uuid":"bd4508d7-5448-4d62-bb81-099c72574f36","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"RODC_Package","uuid":"570a5408-8999-4ea2-8fcb-bbdba09ae389"},"retries":"0","description":"","type":"DAG","uuid":"b7bc6528-fb82-4239-9b67-cbaa403f7609","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_325908c4_c51c_4578_bec9_1b82603dbdab","uuid":"627fd3b9-c9d7-49da-9ca1-f36e592e9f0a"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_570a5408_8999_4ea2_8fcb_bbdba09ae389"},{"target_any_local_reference":{"kind":"app_service","name":"RODC","uuid":"325908c4-c51c-4578-bec9-1b82603dbdab"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"627fd3b9-c9d7-49da-9ca1-f36e592e9f0a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_325908c4_c51c_4578_bec9_1b82603dbdab","uuid":"7eb6ef58-4910-4857-a326-bc5ee4a699cd"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_325908c4_c51c_4578_bec9_1b82603dbdab"}],"description":"","message_list":[],"uuid":"e83c791a-6701-4bcd-a86a-b2591492199e","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_570a5408_8999_4ea2_8fcb_bbdba09ae389","uuid":"b7bc6528-fb82-4239-9b67-cbaa403f7609"},"name":"SYS_GEN__Runbook_Package_570a5408_8999_4ea2_8fcb_bbdba09ae389"}}],"message_list":[],"service_local_reference_list":[{"kind":"app_service","name":"RODC","uuid":"325908c4-c51c-4578-bec9-1b82603dbdab"}],"uuid":"570a5408-8999-4ea2-8fcb-bbdba09ae389","state":"ACTIVE","version":"","editables":{},"type":"DEB","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"RODC_Package","uuid":"570a5408-8999-4ea2-8fcb-bbdba09ae389"},"retries":"0","description":"","type":"DAG","uuid":"6806084c-183d-4e93-9397-c7626302759d","child_tasks_local_reference_list":[{"kind":"app_task","name":"RODC_RenameAndJoinDomain","uuid":"623b0bdb-1734-41ee-b615-0ff295162913"},{"kind":"app_task","name":"RODC_Attente1","uuid":"397ce412-00b7-455a-b1a3-3e7aa9b8390b"},{"kind":"app_task","name":"RODC_ConfigurationRoleRODC","uuid":"268945c3-71bf-485f-88a8-208b2e18b8fb"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"RODC_Attente1","uuid":"397ce412-00b7-455a-b1a3-3e7aa9b8390b"},"edge_type":"user_defined","type":"","uuid":"88b677f3-3366-4f5b-b3fa-02be9f4b3c9b","to_task_reference":{"kind":"app_task","name":"RODC_ConfigurationRoleRODC","uuid":"268945c3-71bf-485f-88a8-208b2e18b8fb"}},{"from_task_reference":{"kind":"app_task","name":"RODC_RenameAndJoinDomain","uuid":"623b0bdb-1734-41ee-b615-0ff295162913"},"edge_type":"user_defined","type":"","uuid":"f2b76bcc-f938-4fbb-a20f-fc68decdf90f","to_task_reference":{"kind":"app_task","name":"RODC_Attente1","uuid":"397ce412-00b7-455a-b1a3-3e7aa9b8390b"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"76326282_dag"},{"target_any_local_reference":{"kind":"app_service","name":"RODC","uuid":"325908c4-c51c-4578-bec9-1b82603dbdab"},"retries":"0","description":"","type":"EXEC","uuid":"623b0bdb-1734-41ee-b615-0ff295162913","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"##############################################\n# Name        : JoinDomain.ps1\n# Author      : K Sarat Kumar\n# Version     : 1.0\n# Description : Script is used to Change hostname of machines and join to domain.\n##############################################\n$HOSTNAME = \"@@{name}@@\"\n\nfunction Set-Hostname{\n  [CmdletBinding()]\n  Param(\n      [parameter(Mandatory=$true)]\n      [string]$Hostname\n)\n  if ($Hostname -eq  $(hostname)){\n    Write-Host \"Hostname already set.\"\n  } else{\n    Rename-Computer -NewName $HOSTNAME -ErrorAction Stop\n  }\n}\n\nfunction JointoDomain {\n  [CmdletBinding()]\n  Param(\n      [parameter(Mandatory=$true)]\n      [string]$DomainName,\n      [parameter(Mandatory=$false)]\n      [string]$OU,\n      [parameter(Mandatory=$true)]\n      [string]$Username,\n      [parameter(Mandatory=$true)]\n      [string]$Password,\n      [parameter(Mandatory=$true)]\n      [string]$Server\n  )\n  $adapter = Get-NetAdapter | ? {$_.Status -eq \"up\"}\n  $adapter | Set-DnsClientServerAddress -ServerAddresses $Server\n\n  if ($env:computername  -eq $env:userdomain) {\n    Write-Host \"Not in domain\"\n    $adminname = \"$DomainName\\$Username\"\n    $adminpassword = ConvertTo-SecureString -asPlainText -Force -String \"$Password\"\n    Write-Host \"$adminname , $password\"\n    $credential = New-Object System.Management.Automation.PSCredential($adminname,$adminpassword)\n    Add-computer -DomainName $DomainName -Credential $credential -force -Options JoinWithNewName,AccountCreate -PassThru -ErrorAction Stop\n  } else {\n     Write-Host \"Already in domain\"\n  }\n}\n\nif ($HOSTNAME -ne $Null){\n  Write-Host \"Setting Hostname\"\n  Set-Hostname -Hostname $HOSTNAME\n}\n\nJointoDomain -DomainName \"@@{DOMAIN}@@\" -Username \"@@{DOMAIN_CRED.username}@@\" -Password \"@@{DOMAIN_CRED.secret}@@\" -Server \"@@{DNSServer}@@\"\n\nRestart-Computer -Force -AsJob\nexit 0","script_type":"npsscript","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"LOCAL","uuid":"1fdba0b0-e1cf-4835-b0e5-d525cb736b7f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"RODC_RenameAndJoinDomain"},{"target_any_local_reference":{"kind":"app_service","name":"RODC","uuid":"325908c4-c51c-4578-bec9-1b82603dbdab"},"retries":"0","description":"","type":"EXEC","uuid":"397ce412-00b7-455a-b1a3-3e7aa9b8390b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"static","type":"","command_line_args":"","exit_status":[],"script":"#script\nsleep(90)"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"RODC_Attente1"},{"target_any_local_reference":{"kind":"app_service","name":"RODC","uuid":"325908c4-c51c-4578-bec9-1b82603dbdab"},"retries":"0","description":"","type":"EXEC","uuid":"268945c3-71bf-485f-88a8-208b2e18b8fb","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"##############################################\n# Name        : ActiveDirectoryBundle.ps1\n# Author      : K Sarath Kumar\n# Version     : 1.0\n# Description : Installs and configures domain controller features AD, CDC, ADC & RODC.\n##############################################\n\n$WS2008R2_MAJOR                 = '6.1'\n$WS2012_MAJOR                   = '6.2'\n$WS2012R2_MAJOR                 = '6.3'\n$WS2016_MAJOR                   = '10.0'\n\n# -*- Checks AD Domain services Installation\nfunction Check-ActiveDirectoryFeature {\n   return $(Get-WindowsFeature AD-Domain-Services -ErrorAction SilentlyContinue).Installed\n}\n# -*- Installs AD Domain services\nfunction Install-ActiveDirectory {\n  Write-Output \"Installing AD Features.\"\n  Install-WindowsFeature -Name AD-Domain-Services -IncludeManagementTools\n}\n# -*- Checks the pre existance of domain\nfunction Check-DomainExistance {\n  #if (Get-ADDomainController -Discover -ErrorAction SilentlyContinue){\n  if (\"$((wmic ComputerSystem get DomainRole)[2])\".trim() -eq \"5\"){\n   return $true\n  } else{\n    return $false\n  }\n}\n\n# -*- Configures AD Domain service\nfunction Configure-ActiveDirectory {\n  [CmdletBinding()]\n  Param(\n      [parameter(Mandatory=$true)]\n      [string]$DomainName,\n      [parameter(Mandatory=$true)]\n      [string]$Password,\n      [parameter(Mandatory=$false)]\n      [string]$DatabasePath=\"C:\\Windows\\NTDS\",\n      [parameter(Mandatory=$true)]\n      [string]$DomainMode,\n      [parameter(Mandatory=$true)]\n      [string]$ForestMode,\n      [parameter(Mandatory=$false)]\n      [string]$LogPath=\"C:\\Windows\\NTDS\",\n      [parameter(Mandatory=$false)]\n      [string]$SysvolPath=\"C:\\Windows\\SYSVOL\",\n      [parameter(Mandatory=$true)]\n      [string]$DomainType,\n      [parameter(Mandatory=$false)]\n      [string]$ChildDomainName\n  )\n  Write-Output \"Import-Module ADDSDeployment\"\n  Import-Module ADDSDeployment\n\n  $secpasswd = ConvertTo-SecureString $Password -AsPlainText -Force\n  $credential = New-Object System.Management.Automation.PSCredential(\"$DomainName\\calm\",$secpasswd)\n  $netbios = $DomainName.Split(\".\")[0].ToUpper()\n  Write-Output \"Configuring Domain services.\"\n  switch ($DomainType){\n    \"DC\"{\n    \tWrite-Output \"01 Install DC Role\"\n      Install-ADDSForest -CreateDnsDelegation:$false -DatabasePath $DatabasePath -DomainMode $DomainMode -DomainName $DomainName -DomainNetbiosName $netbios -ForestMode $ForestMode -InstallDns:$true -LogPath $LogPath -NoRebootOnCompletion:$true -SysvolPath $SysvolPath -Force:$true -SafeModeAdministratorPassword $secpasswd\n    }\n    \"ADC\"{\n    \tWrite-Output \"01 Install ADC Role\"\n      Install-ADDSDomainController -NoGlobalCatalog:$false -CreateDnsDelegation:$false -CriticalReplicationOnly:$false -DatabasePath $DatabasePath -DomainName $DomainName -InstallDns:$true -LogPath $LogPath -NoRebootOnCompletion:$true -SiteName \"Default-First-Site-Name\" -SysvolPath $SysvolPath -Force:$true -SafeModeAdministratorPassword $secpasswd -Credential $credential\n    }\n    \"CDC\"{\n    \tWrite-Output \"01 Install CDC Role\"\n      Install-ADDSDomain -NoGlobalCatalog:$false -CreateDnsDelegation:$true -DatabasePath $DatabasePath -DomainMode $DomainMode -DomainType \"ChildDomain\" -InstallDns:$true -LogPath $LogPath -NewDomainName $ChildDomainName -NewDomainNetbiosName $ChildDomainName.ToUpper() -ParentDomainName $DomainName -NoRebootOnCompletion:$true -SiteName \"Default-First-Site-Name\" -SysvolPath $SysvolPath -Force:$true -SafeModeAdministratorPassword $secpasswd -Credential $credential\n    }\n    \"RODC\"{\n      Write-Output \"01 Install RODC Role\"\n      $SafeModePassword = ConvertTo-SecureString Nutanix\/4u -AsPlainText -Force\n      Write-Output \"01 Install RODC Role - Test\"\n      Test-ADDSDomainControllerInstallation -Credential $credential -SafeModeAdministratorPassword $SafeModePassword -DomainName a56.demo\n      Write-Output \"01 Install RODC Role - Install\"\n      Install-ADDSDomainController -AllowPasswordReplicationAccountName @(\"$netbios\\Groupe de r\u00e9plication dont le mot de passe RODC est autoris\u00e9\") -NoGlobalCatalog:$false -CriticalReplicationOnly:$false -DatabasePath $DatabasePath -DenyPasswordReplicationAccountName @(\"BUILTIN\\Administrateurs\", \"BUILTIN\\Op\u00e9rateurs de serveur\", \"BUILTIN\\Op\u00e9rateurs de sauvegarde\", \"BUILTIN\\Op\u00e9rateurs de compte\", \"$netbios\\Groupe de r\u00e9plication dont le mot de passe RODC est refus\u00e9\") -DomainName $DomainName -InstallDns:$true -LogPath $LogPath -NoRebootOnCompletion:$true -ReadOnlyReplica:$true -SiteName \"Default-First-Site-Name\" -SysvolPath $SysvolPath -Force:$true -SafeModeAdministratorPassword $secpasswd -Credential $credential\n    }\n    default{\n      Write-Output \"01 Invalid DomainType\"\n    }\n}\n}\n# -*- Cheking Exitance of Active directory Feature.\nif (Check-ActiveDirectoryFeature){\n  Write-Output \"Active Directory already installed.\"\n} else{\n  Install-ActiveDirectory\n}\n\nif (Check-DomainExistance){\n  Write-Output \"Domain exists already.\"\n} else{\n  $MajorOSVersion= [string](Get-WmiObject Win32_OperatingSystem | Select-Object @{n=\"Major\";e={($_.Version.Split(\".\")[0]+\".\"+$_.Version.Split(\".\")[1])}}).Major\n  Write-Output \"Domain doesn't exist\"\n  Write-Output \"OS Detected version : $MajorOSVersion\"\n  if ($MajorOSVersion -eq $WS2012R2_MAJOR){\n    $DomainMode = \"Win2012R2\"\n  } elseif ($MajorOSVersion -eq $WS2016_MAJOR){\n    $DomainMode = \"WinThreshold\"\n  }\n  Write-Output \"Domain mode : $DomainMode\"\n  Configure-ActiveDirectory -DomainName \"@@{DOMAIN}@@\" -Password \"@@{DOMAIN_CRED.secret}@@\" -DomainMode $DomainMode -ForestMode $DomainMode -DomainType \"@@{DOMAIN_TYPE}@@\" -ChildDomainName \"@@{CHILD_DOMAIN}@@\"\n}\nStart-Sleep -Seconds 5\n\necho $Error\n\nRestart-Computer -Force -AsJob\nexit 0","script_type":"npsscript","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"DOMAIN_CRED","uuid":"7958c1cb-7109-4f89-8446-47fd7527512c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"RODC_ConfigurationRoleRODC"}],"description":"","message_list":[],"uuid":"1c9e4949-e0ee-4e7c-8f2b-4905fec99f78","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"76326282_dag","uuid":"6806084c-183d-4e93-9397-c7626302759d"},"name":"b54300dd_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"RODC_Package","uuid":"570a5408-8999-4ea2-8fcb-bbdba09ae389"},"retries":"0","description":"","type":"DAG","uuid":"a08f982a-aa25-411c-abf5-3ea1b1f613ac","child_tasks_local_reference_list":[{"kind":"app_task","name":"RODC_Unistall_AD_Services","uuid":"98b47d00-8913-4e6d-9621-54df29706f6d"},{"kind":"app_task","name":"RODC_UnjoinDomain","uuid":"9358929d-5a7a-4d69-8cc5-d4599da69bb1"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"RODC_Unistall_AD_Services","uuid":"98b47d00-8913-4e6d-9621-54df29706f6d"},"edge_type":"user_defined","type":"","uuid":"67f674e5-f249-406b-88f6-333ed0fc0063","to_task_reference":{"kind":"app_task","name":"RODC_UnjoinDomain","uuid":"9358929d-5a7a-4d69-8cc5-d4599da69bb1"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"700b3d0e_dag"},{"target_any_local_reference":{"kind":"app_service","name":"RODC","uuid":"325908c4-c51c-4578-bec9-1b82603dbdab"},"retries":"0","description":"","type":"EXEC","uuid":"98b47d00-8913-4e6d-9621-54df29706f6d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"$adminpassword = ConvertTo-SecureString -asPlainText -Force -String \"@@{DOMAIN_CRED.secret}@@\"\nWrite-Output \"@@{DOMAIN_CRED.username}@@ , @@{DOMAIN_CRED.secret}@@\"\n$credential = New-Object System.Management.Automation.PSCredential(\"@@{DOMAIN_CRED.username}@@\", $adminpassword)\n\nUninstall-ADDSDomainController -Credential $credential -DemoteOperationMasterRole -NoRebootOnCompletion -Force -ForceRemoval -LocalAdministratorPassword $adminpassword","script_type":"npsscript","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"DOMAIN_CRED","uuid":"7958c1cb-7109-4f89-8446-47fd7527512c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"RODC_Unistall_AD_Services"},{"target_any_local_reference":{"kind":"app_service","name":"RODC","uuid":"325908c4-c51c-4578-bec9-1b82603dbdab"},"retries":"0","description":"","type":"EXEC","uuid":"9358929d-5a7a-4d69-8cc5-d4599da69bb1","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"$adminpassword = ConvertTo-SecureString -asPlainText -Force -String \"@@{DOMAIN_CRED.secret}@@\"\nWrite-Output \"@@{DOMAIN_CRED.username}@@ , @@{DOMAIN_CRED.secret}@@\"\n$credential = New-Object System.Management.Automation.PSCredential(\"@@{DOMAIN_CRED.username}@@\", $adminpassword)\n\nRemove-Computer -UnjoinDomaincredential $credential -Force -PassThru -Verbose -Restart -WorkgroupName Workgroup\n\nRestart-Computer -Force -AsJob","script_type":"npsscript","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"DOMAIN_CRED","uuid":"7958c1cb-7109-4f89-8446-47fd7527512c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"RODC_UnjoinDomain"}],"description":"","message_list":[],"uuid":"db3d010e-b2f2-4f84-b479-84b78aa83bbb","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"700b3d0e_dag","uuid":"a08f982a-aa25-411c-abf5-3ea1b1f613ac"},"name":"ea9792f4_runbook"}},"variable_list":[],"name":"RODC_Package"},{"description":"","action_list":[{"description":"System action for installing an application","message_list":[],"uuid":"689b2098-30cc-4b5a-aa71-e6f948cdad9c","name":"action_install","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"SQLServer_Personnalisation","uuid":"46aff282-3d8b-4438-ab11-51cf246b6d4f"},"retries":"0","description":"","type":"DAG","uuid":"74ecef36-5016-459d-b398-c3fe7b4b1413","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Install_Crb_46aff282_3d8b_4438_ab11_51cf246b6d4f","uuid":"19093d54-b398-4700-8d6d-067b46de329e"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Package_46aff282_3d8b_4438_ab11_51cf246b6d4f"},{"target_any_local_reference":{"kind":"app_package","name":"SQLServer_Personnalisation","uuid":"46aff282-3d8b-4438-ab11-51cf246b6d4f"},"retries":"0","description":"","type":"CUSTOM_PACKAGE_INSTALL","uuid":"19093d54-b398-4700-8d6d-067b46de329e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"SQLServer_Personnalisation","uuid":"46aff282-3d8b-4438-ab11-51cf246b6d4f"},"retries":"0","description":"","type":"DAG","uuid":"87580259-25be-4511-96ad-7fd0e5a90bc7","child_tasks_local_reference_list":[{"kind":"app_task","name":"SQLServer_DisableUAC","uuid":"cb53197c-9d41-4041-a9b5-4234980a7c38"},{"kind":"app_task","name":"SQLServer_RenameAndJoinDomain","uuid":"290fc0f2-eccc-4c52-bf73-8c45ef33b7f4"},{"kind":"app_task","name":"SQLServer_Attente1","uuid":"072015db-8e27-463d-a065-77a53d9956ff"},{"kind":"app_task","name":"SQLServer_DesactivationFirewall","uuid":"468999c3-653e-4430-9732-451bd22a7b9f"},{"kind":"app_task","name":"SQLServer2016_InstallationBinaires","uuid":"5e3d9957-a3a1-48dc-b401-c0b75f195bff"},{"kind":"app_task","name":"SQLServer_ImportBDD","uuid":"d38b26df-bf8a-4f0a-8a62-071615f88580"},{"kind":"app_task","name":"Message_Slack","uuid":"76507492-ef0f-4164-9479-80e273066da0"},{"kind":"app_task","name":"Message_Teams","uuid":"92fcdba7-2c3c-46af-ad82-da68f1c6faa7"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SQLServer_Attente1","uuid":"072015db-8e27-463d-a065-77a53d9956ff"},"edge_type":"user_defined","type":"","uuid":"cf81ad1f-7eb1-46f3-ae65-9170bfe71b8d","to_task_reference":{"kind":"app_task","name":"SQLServer_DesactivationFirewall","uuid":"468999c3-653e-4430-9732-451bd22a7b9f"}},{"from_task_reference":{"kind":"app_task","name":"SQLServer_DesactivationFirewall","uuid":"468999c3-653e-4430-9732-451bd22a7b9f"},"edge_type":"user_defined","type":"","uuid":"9d02b7fa-416b-4428-879e-2e75711c480e","to_task_reference":{"kind":"app_task","name":"SQLServer2016_InstallationBinaires","uuid":"5e3d9957-a3a1-48dc-b401-c0b75f195bff"}},{"from_task_reference":{"kind":"app_task","name":"SQLServer_DisableUAC","uuid":"cb53197c-9d41-4041-a9b5-4234980a7c38"},"edge_type":"user_defined","type":"","uuid":"3d5f471d-6d3b-40ba-b272-2d4669082936","to_task_reference":{"kind":"app_task","name":"SQLServer_RenameAndJoinDomain","uuid":"290fc0f2-eccc-4c52-bf73-8c45ef33b7f4"}},{"from_task_reference":{"kind":"app_task","name":"SQLServer_ImportBDD","uuid":"d38b26df-bf8a-4f0a-8a62-071615f88580"},"edge_type":"user_defined","type":"","uuid":"81c7ca5b-451c-471b-8761-a689521a584c","to_task_reference":{"kind":"app_task","name":"Message_Slack","uuid":"76507492-ef0f-4164-9479-80e273066da0"}},{"from_task_reference":{"kind":"app_task","name":"SQLServer_ImportBDD","uuid":"d38b26df-bf8a-4f0a-8a62-071615f88580"},"edge_type":"user_defined","type":"","uuid":"afb75cd1-9eed-42f7-9875-a598b888b819","to_task_reference":{"kind":"app_task","name":"Message_Teams","uuid":"92fcdba7-2c3c-46af-ad82-da68f1c6faa7"}},{"from_task_reference":{"kind":"app_task","name":"SQLServer2016_InstallationBinaires","uuid":"5e3d9957-a3a1-48dc-b401-c0b75f195bff"},"edge_type":"user_defined","type":"","uuid":"5da32011-398c-4310-a7b1-f4e2f95f3145","to_task_reference":{"kind":"app_task","name":"SQLServer_ImportBDD","uuid":"d38b26df-bf8a-4f0a-8a62-071615f88580"}},{"from_task_reference":{"kind":"app_task","name":"SQLServer_RenameAndJoinDomain","uuid":"290fc0f2-eccc-4c52-bf73-8c45ef33b7f4"},"edge_type":"user_defined","type":"","uuid":"ef6a8977-839e-48c7-bdd8-071b692487a6","to_task_reference":{"kind":"app_task","name":"SQLServer_Attente1","uuid":"072015db-8e27-463d-a065-77a53d9956ff"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"76326282_dag"},{"target_any_local_reference":{"kind":"app_service","name":"SQLServer","uuid":"2f21ee10-b6af-42b5-ba7c-706f5b58ca6a"},"retries":"0","description":"","type":"EXEC","uuid":"cb53197c-9d41-4041-a9b5-4234980a7c38","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"$osversion = (Get-CimInstance Win32_OperatingSystem).Version \n$version = $osversion.split(\".\")[0] \n \nif ($version -eq 10) { \n    Set-ItemProperty \"HKLM:\\SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Policies\\System\" -Name \"ConsentPromptBehaviorAdmin\" -Value \"0\" \n} ElseIf ($Version -eq 6) { \n    $sub = $version.split(\".\")[1] \n    if ($sub -eq 1 -or $sub -eq 0) { \n        Set-ItemProperty \"HKLM:\\SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Policies\\System\" -Name \"EnableLUA\" -Value \"0\" \n    } Else { \n        Set-ItemProperty \"HKLM:\\SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Policies\\System\" -Name \"ConsentPromptBehaviorAdmin\" -Value \"0\" \n    } \n} ElseIf ($Version -eq 5) { \n    Set-ItemProperty \"HKLM:\\SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Policies\\System\" -Name \"EnableLUA\" -Value \"0\" \n} Else { \n    Set-ItemProperty \"HKLM:\\SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Policies\\System\" -Name \"ConsentPromptBehaviorAdmin\" -Value \"0\" \n}","script_type":"npsscript","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"LOCAL","uuid":"1fdba0b0-e1cf-4835-b0e5-d525cb736b7f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SQLServer_DisableUAC"},{"target_any_local_reference":{"kind":"app_service","name":"SQLServer","uuid":"2f21ee10-b6af-42b5-ba7c-706f5b58ca6a"},"retries":"0","description":"","type":"EXEC","uuid":"290fc0f2-eccc-4c52-bf73-8c45ef33b7f4","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"##############################################\n# Name        : JoinDomain.ps1\n# Author      : K Sarat Kumar\n# Version     : 1.0\n# Description : Script is used to Change hostname of machines and join to domain.\n##############################################\n$HOSTNAME = \"@@{name}@@\"\n\nfunction Set-Hostname{\n  [CmdletBinding()]\n  Param(\n      [parameter(Mandatory=$true)]\n      [string]$Hostname\n)\n  if ($Hostname -eq  $(hostname)){\n    Write-Host \"Hostname already set.\"\n  } else{\n    Rename-Computer -NewName $HOSTNAME -ErrorAction Stop\n  }\n}\n\nfunction JointoDomain {\n  [CmdletBinding()]\n  Param(\n      [parameter(Mandatory=$true)]\n      [string]$DomainName,\n      [parameter(Mandatory=$false)]\n      [string]$OU,\n      [parameter(Mandatory=$true)]\n      [string]$Username,\n      [parameter(Mandatory=$true)]\n      [string]$Password,\n      [parameter(Mandatory=$true)]\n      [string]$Server\n  )\n  $adapter = Get-NetAdapter | ? {$_.Status -eq \"up\"}\n  $adapter | Set-DnsClientServerAddress -ServerAddresses $Server\n\n  if ($env:computername  -eq $env:userdomain) {\n    Write-Host \"Not in domain\"\n    $adminname = \"$DomainName\\$Username\"\n    $adminpassword = ConvertTo-SecureString -asPlainText -Force -String \"$Password\"\n    Write-Host \"$adminname , $password\"\n    $credential = New-Object System.Management.Automation.PSCredential($adminname,$adminpassword)\n    Add-computer -DomainName $DomainName -Credential $credential -force -Options JoinWithNewName,AccountCreate -PassThru -ErrorAction Stop\n  } else {\n     Write-Host \"Already in domain\"\n  }\n}\n\nif ($HOSTNAME -ne $Null){\n  Write-Host \"Setting Hostname\"\n  Set-Hostname -Hostname $HOSTNAME\n}\n\nJointoDomain -DomainName \"@@{DOMAIN}@@\" -Username \"@@{DOMAIN_CRED.username}@@\" -Password \"@@{DOMAIN_CRED.secret}@@\" -Server \"@@{DNSServer}@@\"\n\nRestart-Computer -Force -AsJob\nexit 0","script_type":"npsscript","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"LOCAL","uuid":"1fdba0b0-e1cf-4835-b0e5-d525cb736b7f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SQLServer_RenameAndJoinDomain"},{"target_any_local_reference":{"kind":"app_service","name":"SQLServer","uuid":"2f21ee10-b6af-42b5-ba7c-706f5b58ca6a"},"retries":"0","description":"","type":"EXEC","uuid":"072015db-8e27-463d-a065-77a53d9956ff","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"static","type":"","command_line_args":"","exit_status":[],"script":"#script\nsleep(90)"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SQLServer_Attente1"},{"target_any_local_reference":{"kind":"app_service","name":"SQLServer","uuid":"2f21ee10-b6af-42b5-ba7c-706f5b58ca6a"},"retries":"0","description":"","type":"EXEC","uuid":"468999c3-653e-4430-9732-451bd22a7b9f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"netsh advfirewall set allprofiles state off\necho $Error","script_type":"npsscript","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"DOMAIN_CRED","uuid":"7958c1cb-7109-4f89-8446-47fd7527512c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SQLServer_DesactivationFirewall"},{"target_any_local_reference":{"kind":"app_service","name":"SQLServer","uuid":"2f21ee10-b6af-42b5-ba7c-706f5b58ca6a"},"retries":"0","description":"","type":"EXEC","uuid":"5e3d9957-a3a1-48dc-b401-c0b75f195bff","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"D:\\setup.exe \/q \/ACTION=Install \/IACCEPTSQLSERVERLICENSETERMS \/FEATURES=SQL \/INSTANCENAME=\"@@{SQL_INSTANCE_NAME}@@\" \/SQLSVCACCOUNT=\"NT AUTHORITY\\SYSTEM\" \/SQLSYSADMINACCOUNTS=\"@@{DOMAIN_CRED.username}@@\" \/AGTSVCACCOUNT=\"NT AUTHORITY\\Network Service\" \/SQLSVCINSTANTFILEINIT=\"True\" \/IACCEPTSQLSERVERLICENSETERMS \/UpdateEnabled=False","script_type":"npsscript","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"DOMAIN_CRED","uuid":"7958c1cb-7109-4f89-8446-47fd7527512c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SQLServer2016_InstallationBinaires"},{"target_any_local_reference":{"kind":"app_service","name":"SQLServer","uuid":"2f21ee10-b6af-42b5-ba7c-706f5b58ca6a"},"retries":"0","description":"","type":"EXEC","uuid":"d38b26df-bf8a-4f0a-8a62-071615f88580","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"function Check-DomainExistance {\n  #if (Get-ADDomainController -Discover -ErrorAction SilentlyContinue){\n  if (\"$((wmic ComputerSystem get DomainRole)[2])\".trim() -eq \"5\"){\n   return $true\n  } else{\n    return $false\n  }\n}\n\necho \"Restauration de la base de donn\u00e9es.\"\nRestore-SqlDatabase -ServerInstance \"SQLServer\\\" -Database \"DEMO\" -BackupFile \"\\\\DC1\\backup\\DEMO.bak\"\necho \"Restauration termin\u00e9e.\"\n\nexit 0","script_type":"npsscript","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"DOMAIN_CRED","uuid":"7958c1cb-7109-4f89-8446-47fd7527512c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SQLServer_ImportBDD"},{"target_any_local_reference":{"kind":"app_service","name":"SQLServer","uuid":"2f21ee10-b6af-42b5-ba7c-706f5b58ca6a"},"retries":"0","description":"","type":"EXEC","uuid":"76507492-ef0f-4164-9479-80e273066da0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"static","type":"","command_line_args":"","exit_status":[],"script":"#script\n\nheaders = {'Content-Type': 'application\/json'}\napi_url = \"@@{SLACK_HOOK}@@\"\n\npayload = {\n  'text': 'Nutanix CALM : Application @@{calm_application_name}@@ vient d etre deployee :-)'\n}\n\nr = urlreq(api_url, verb='POST', headers=headers, params=json.dumps(payload))\n\nif r.ok:\n  print r.content\nelse:\n  print \"Post request failed\", r.content\n  exit(1)"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Message_Slack"},{"target_any_local_reference":{"kind":"app_service","name":"SQLServer","uuid":"2f21ee10-b6af-42b5-ba7c-706f5b58ca6a"},"retries":"0","description":"","type":"EXEC","uuid":"92fcdba7-2c3c-46af-ad82-da68f1c6faa7","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"static","type":"","command_line_args":"","exit_status":[],"script":"#script\n\nheaders = {'Content-Type': 'application\/json'}\napi_url = \"@@{O365_Teams_Connector_Url}@@\"\n\npayload = {\n  '@context': 'http:\/\/schema.org\/extensions',\n  '@type': 'MessageCard',\n  'themeColor': '0072C6',\n  'title': '@@{MSO365_Teams_Title}@@',\n  'text': '@@{MSO365_Teams_Message}@@',\n  'potentialAction': [\n    {\n      '@type': 'ActionCard',\n      'name': 'Details',\n      'inputs': [\n        {\n          '@type': 'TextInput',\n          'id': 'feedback',\n          'isMultiline': 'true',\n          'title': 'On peut ici mettre tout un tas d informations'\n        }\n      ],\n      'actions': [\n        {\n          '@type': 'HttpPOST',\n          'name': 'Lien',\n          'isPrimary': 'true',\n          'target': 'rdp:\/\/@@{DNSServer}@@'\n        }\n      ]\n    },\n    {\n      '@type': 'OpenUri',\n      'name': 'Connexions',\n      'targets': [\n        { 'os': 'default', 'uri': 'rdp:\/\/@@{DNSServer}@@' }\n      ]\n    }\n  ]\n}\n\nr = urlreq(api_url, verb='POST', headers=headers, params=json.dumps(payload))\n\nif r.ok:\n  print r.content\nelse:\n  print \"Post request failed\", r.content\n  exit(1)"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Message_Teams"}],"description":"","message_list":[],"uuid":"eabb82ae-e6a5-4a07-8cd5-9e7e65ccac69","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"76326282_dag","uuid":"87580259-25be-4511-96ad-7fd0e5a90bc7"},"name":"b54300dd_runbook_cloned_1_cloned_1"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"SQLServer_Personnalisation","uuid":"46aff282-3d8b-4438-ab11-51cf246b6d4f"},"retries":"0","description":"","type":"DAG","uuid":"52e8106d-56ae-47e6-884c-e38560074d0c","child_tasks_local_reference_list":[{"kind":"app_task","name":"SQLServer_UnjoinDomain","uuid":"0238022f-e56d-4272-9098-91cf470ccb65"},{"kind":"app_task","name":"Message_Teams","uuid":"dd415985-4c89-43c0-b583-e5f8daf9d8fd"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SQLServer_UnjoinDomain","uuid":"0238022f-e56d-4272-9098-91cf470ccb65"},"edge_type":"user_defined","type":"","uuid":"6e63a724-1815-4748-b7e6-70373b7bc841","to_task_reference":{"kind":"app_task","name":"Message_Teams","uuid":"dd415985-4c89-43c0-b583-e5f8daf9d8fd"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"700b3d0e_dag"},{"target_any_local_reference":{"kind":"app_service","name":"SQLServer","uuid":"2f21ee10-b6af-42b5-ba7c-706f5b58ca6a"},"retries":"0","description":"","type":"EXEC","uuid":"0238022f-e56d-4272-9098-91cf470ccb65","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"$adminpassword = ConvertTo-SecureString -asPlainText -Force -String \"@@{DOMAIN_CRED.secret}@@\"\nWrite-Output \"@@{DOMAIN_CRED.username}@@ , @@{DOMAIN_CRED.secret}@@\"\n$credential = New-Object System.Management.Automation.PSCredential(\"@@{DOMAIN_CRED.username}@@\", $adminpassword)\n\nRemove-Computer -UnjoinDomaincredential $credential -Force -PassThru -Verbose -Restart -WorkgroupName Workgroup\nrestart-computer","script_type":"npsscript","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"DOMAIN_CRED","uuid":"7958c1cb-7109-4f89-8446-47fd7527512c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SQLServer_UnjoinDomain"},{"target_any_local_reference":{"kind":"app_service","name":"SQLServer","uuid":"2f21ee10-b6af-42b5-ba7c-706f5b58ca6a"},"retries":"0","description":"","type":"EXEC","uuid":"dd415985-4c89-43c0-b583-e5f8daf9d8fd","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"static","type":"","command_line_args":"","exit_status":[],"script":"#script\n\nheaders = {'Content-Type': 'application\/json'}\napi_url = \"@@{O365_Teams_Connector_Url}@@\"\n\npayload = {\n  '@context': 'http:\/\/schema.org\/extensions',\n  '@type': 'MessageCard',\n  'themeColor': '0072C6',\n  'title': 'Nutanix CALM : @@{calm_application_name}@@ - Supprimee',\n  'text': 'Pense a montrer la suppression dans l AD.'\n}\n\nr = urlreq(api_url, verb='POST', headers=headers, params=json.dumps(payload))\n\nif r.ok:\n  print r.content\nelse:\n  print \"Post request failed\", r.content\n  exit(1)"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Message_Teams"}],"description":"","message_list":[],"uuid":"980f6877-695a-47db-9ea4-2ddc4843f883","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"700b3d0e_dag","uuid":"52e8106d-56ae-47e6-884c-e38560074d0c"},"name":"ea9792f4_runbook_cloned_1_cloned_1"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Install_Crb_46aff282_3d8b_4438_ab11_51cf246b6d4f"}],"description":"","message_list":[],"uuid":"38b24dc6-6b02-4c60-b619-6c08114989b9","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Package_46aff282_3d8b_4438_ab11_51cf246b6d4f","uuid":"74ecef36-5016-459d-b398-c3fe7b4b1413"},"name":"SYS_GEN__Runbook_Package_46aff282_3d8b_4438_ab11_51cf246b6d4f"}},{"description":"System action for creating an application","message_list":[],"uuid":"a375bd09-83e0-4529-baeb-aeee0e281955","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"SQLServer_Personnalisation","uuid":"46aff282-3d8b-4438-ab11-51cf246b6d4f"},"retries":"0","description":"","type":"DAG","uuid":"ae1b42c6-f119-4a39-b51a-4622421c7951","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_46aff282_3d8b_4438_ab11_51cf246b6d4f","uuid":"e361f7bf-c3eb-4b49-9dcb-149bf34db57d"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_2f21ee10_b6af_42b5_ba7c_706f5b58ca6a","uuid":"d175a0c9-126c-4639-ac3b-d4e9b2b6fd42"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_2f21ee10_b6af_42b5_ba7c_706f5b58ca6a","uuid":"27c4857d-770d-4878-bab4-dec53a091b72"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_2f21ee10_b6af_42b5_ba7c_706f5b58ca6a","uuid":"d175a0c9-126c-4639-ac3b-d4e9b2b6fd42"},"edge_type":"inherent","type":"","uuid":"04260012-8243-429a-aa61-7ace3ea9480d","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_2f21ee10_b6af_42b5_ba7c_706f5b58ca6a","uuid":"27c4857d-770d-4878-bab4-dec53a091b72"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_46aff282_3d8b_4438_ab11_51cf246b6d4f","uuid":"e361f7bf-c3eb-4b49-9dcb-149bf34db57d"},"edge_type":"inherent","type":"","uuid":"17a860ad-4727-414f-b6c2-6c70171f7b1a","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_2f21ee10_b6af_42b5_ba7c_706f5b58ca6a","uuid":"d175a0c9-126c-4639-ac3b-d4e9b2b6fd42"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_46aff282_3d8b_4438_ab11_51cf246b6d4f"},{"target_any_local_reference":{"kind":"app_package","name":"SQLServer_Personnalisation","uuid":"46aff282-3d8b-4438-ab11-51cf246b6d4f"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"e361f7bf-c3eb-4b49-9dcb-149bf34db57d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_46aff282_3d8b_4438_ab11_51cf246b6d4f","uuid":"38b24dc6-6b02-4c60-b619-6c08114989b9"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_46aff282_3d8b_4438_ab11_51cf246b6d4f"},{"target_any_local_reference":{"kind":"app_service","name":"SQLServer","uuid":"2f21ee10-b6af-42b5-ba7c-706f5b58ca6a"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"d175a0c9-126c-4639-ac3b-d4e9b2b6fd42","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_2f21ee10_b6af_42b5_ba7c_706f5b58ca6a","uuid":"5758a7cd-9ceb-4e2b-af39-af1256a466bb"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_2f21ee10_b6af_42b5_ba7c_706f5b58ca6a"},{"target_any_local_reference":{"kind":"app_service","name":"SQLServer","uuid":"2f21ee10-b6af-42b5-ba7c-706f5b58ca6a"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"27c4857d-770d-4878-bab4-dec53a091b72","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_2f21ee10_b6af_42b5_ba7c_706f5b58ca6a","uuid":"0bdab881-7f85-4f56-b018-4f15d9ff7bc8"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_2f21ee10_b6af_42b5_ba7c_706f5b58ca6a"}],"description":"","message_list":[],"uuid":"4f10c6e1-5e6a-4286-aaa3-564917996997","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_46aff282_3d8b_4438_ab11_51cf246b6d4f","uuid":"ae1b42c6-f119-4a39-b51a-4622421c7951"},"name":"SYS_GEN__Runbook_Package_46aff282_3d8b_4438_ab11_51cf246b6d4f"}},{"description":"System action for uninstalling an application","message_list":[],"uuid":"96ba26c8-6057-4ba3-909e-649c23735f52","name":"action_uninstall","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"SQLServer_Personnalisation","uuid":"46aff282-3d8b-4438-ab11-51cf246b6d4f"},"retries":"0","description":"","type":"DAG","uuid":"80a5cf24-1fed-4f17-8f3c-a89a97d1ef2f","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Uninstall_Crb_46aff282_3d8b_4438_ab11_51cf246b6d4f","uuid":"f8dceceb-4bd6-47f3-afe4-69f423720f15"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Package_46aff282_3d8b_4438_ab11_51cf246b6d4f"},{"target_any_local_reference":{"kind":"app_package","name":"SQLServer_Personnalisation","uuid":"46aff282-3d8b-4438-ab11-51cf246b6d4f"},"retries":"0","description":"","type":"CUSTOM_PACKAGE_UNINSTALL","uuid":"f8dceceb-4bd6-47f3-afe4-69f423720f15","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"SQLServer_Personnalisation","uuid":"46aff282-3d8b-4438-ab11-51cf246b6d4f"},"retries":"0","description":"","type":"DAG","uuid":"87580259-25be-4511-96ad-7fd0e5a90bc7","child_tasks_local_reference_list":[{"kind":"app_task","name":"SQLServer_DisableUAC","uuid":"cb53197c-9d41-4041-a9b5-4234980a7c38"},{"kind":"app_task","name":"SQLServer_RenameAndJoinDomain","uuid":"290fc0f2-eccc-4c52-bf73-8c45ef33b7f4"},{"kind":"app_task","name":"SQLServer_Attente1","uuid":"072015db-8e27-463d-a065-77a53d9956ff"},{"kind":"app_task","name":"SQLServer_DesactivationFirewall","uuid":"468999c3-653e-4430-9732-451bd22a7b9f"},{"kind":"app_task","name":"SQLServer2016_InstallationBinaires","uuid":"5e3d9957-a3a1-48dc-b401-c0b75f195bff"},{"kind":"app_task","name":"SQLServer_ImportBDD","uuid":"d38b26df-bf8a-4f0a-8a62-071615f88580"},{"kind":"app_task","name":"Message_Slack","uuid":"76507492-ef0f-4164-9479-80e273066da0"},{"kind":"app_task","name":"Message_Teams","uuid":"92fcdba7-2c3c-46af-ad82-da68f1c6faa7"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SQLServer_Attente1","uuid":"072015db-8e27-463d-a065-77a53d9956ff"},"edge_type":"user_defined","type":"","uuid":"cf81ad1f-7eb1-46f3-ae65-9170bfe71b8d","to_task_reference":{"kind":"app_task","name":"SQLServer_DesactivationFirewall","uuid":"468999c3-653e-4430-9732-451bd22a7b9f"}},{"from_task_reference":{"kind":"app_task","name":"SQLServer_DesactivationFirewall","uuid":"468999c3-653e-4430-9732-451bd22a7b9f"},"edge_type":"user_defined","type":"","uuid":"9d02b7fa-416b-4428-879e-2e75711c480e","to_task_reference":{"kind":"app_task","name":"SQLServer2016_InstallationBinaires","uuid":"5e3d9957-a3a1-48dc-b401-c0b75f195bff"}},{"from_task_reference":{"kind":"app_task","name":"SQLServer_DisableUAC","uuid":"cb53197c-9d41-4041-a9b5-4234980a7c38"},"edge_type":"user_defined","type":"","uuid":"3d5f471d-6d3b-40ba-b272-2d4669082936","to_task_reference":{"kind":"app_task","name":"SQLServer_RenameAndJoinDomain","uuid":"290fc0f2-eccc-4c52-bf73-8c45ef33b7f4"}},{"from_task_reference":{"kind":"app_task","name":"SQLServer_ImportBDD","uuid":"d38b26df-bf8a-4f0a-8a62-071615f88580"},"edge_type":"user_defined","type":"","uuid":"81c7ca5b-451c-471b-8761-a689521a584c","to_task_reference":{"kind":"app_task","name":"Message_Slack","uuid":"76507492-ef0f-4164-9479-80e273066da0"}},{"from_task_reference":{"kind":"app_task","name":"SQLServer_ImportBDD","uuid":"d38b26df-bf8a-4f0a-8a62-071615f88580"},"edge_type":"user_defined","type":"","uuid":"afb75cd1-9eed-42f7-9875-a598b888b819","to_task_reference":{"kind":"app_task","name":"Message_Teams","uuid":"92fcdba7-2c3c-46af-ad82-da68f1c6faa7"}},{"from_task_reference":{"kind":"app_task","name":"SQLServer2016_InstallationBinaires","uuid":"5e3d9957-a3a1-48dc-b401-c0b75f195bff"},"edge_type":"user_defined","type":"","uuid":"5da32011-398c-4310-a7b1-f4e2f95f3145","to_task_reference":{"kind":"app_task","name":"SQLServer_ImportBDD","uuid":"d38b26df-bf8a-4f0a-8a62-071615f88580"}},{"from_task_reference":{"kind":"app_task","name":"SQLServer_RenameAndJoinDomain","uuid":"290fc0f2-eccc-4c52-bf73-8c45ef33b7f4"},"edge_type":"user_defined","type":"","uuid":"ef6a8977-839e-48c7-bdd8-071b692487a6","to_task_reference":{"kind":"app_task","name":"SQLServer_Attente1","uuid":"072015db-8e27-463d-a065-77a53d9956ff"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"76326282_dag"},{"target_any_local_reference":{"kind":"app_service","name":"SQLServer","uuid":"2f21ee10-b6af-42b5-ba7c-706f5b58ca6a"},"retries":"0","description":"","type":"EXEC","uuid":"cb53197c-9d41-4041-a9b5-4234980a7c38","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"$osversion = (Get-CimInstance Win32_OperatingSystem).Version \n$version = $osversion.split(\".\")[0] \n \nif ($version -eq 10) { \n    Set-ItemProperty \"HKLM:\\SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Policies\\System\" -Name \"ConsentPromptBehaviorAdmin\" -Value \"0\" \n} ElseIf ($Version -eq 6) { \n    $sub = $version.split(\".\")[1] \n    if ($sub -eq 1 -or $sub -eq 0) { \n        Set-ItemProperty \"HKLM:\\SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Policies\\System\" -Name \"EnableLUA\" -Value \"0\" \n    } Else { \n        Set-ItemProperty \"HKLM:\\SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Policies\\System\" -Name \"ConsentPromptBehaviorAdmin\" -Value \"0\" \n    } \n} ElseIf ($Version -eq 5) { \n    Set-ItemProperty \"HKLM:\\SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Policies\\System\" -Name \"EnableLUA\" -Value \"0\" \n} Else { \n    Set-ItemProperty \"HKLM:\\SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Policies\\System\" -Name \"ConsentPromptBehaviorAdmin\" -Value \"0\" \n}","script_type":"npsscript","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"LOCAL","uuid":"1fdba0b0-e1cf-4835-b0e5-d525cb736b7f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SQLServer_DisableUAC"},{"target_any_local_reference":{"kind":"app_service","name":"SQLServer","uuid":"2f21ee10-b6af-42b5-ba7c-706f5b58ca6a"},"retries":"0","description":"","type":"EXEC","uuid":"290fc0f2-eccc-4c52-bf73-8c45ef33b7f4","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"##############################################\n# Name        : JoinDomain.ps1\n# Author      : K Sarat Kumar\n# Version     : 1.0\n# Description : Script is used to Change hostname of machines and join to domain.\n##############################################\n$HOSTNAME = \"@@{name}@@\"\n\nfunction Set-Hostname{\n  [CmdletBinding()]\n  Param(\n      [parameter(Mandatory=$true)]\n      [string]$Hostname\n)\n  if ($Hostname -eq  $(hostname)){\n    Write-Host \"Hostname already set.\"\n  } else{\n    Rename-Computer -NewName $HOSTNAME -ErrorAction Stop\n  }\n}\n\nfunction JointoDomain {\n  [CmdletBinding()]\n  Param(\n      [parameter(Mandatory=$true)]\n      [string]$DomainName,\n      [parameter(Mandatory=$false)]\n      [string]$OU,\n      [parameter(Mandatory=$true)]\n      [string]$Username,\n      [parameter(Mandatory=$true)]\n      [string]$Password,\n      [parameter(Mandatory=$true)]\n      [string]$Server\n  )\n  $adapter = Get-NetAdapter | ? {$_.Status -eq \"up\"}\n  $adapter | Set-DnsClientServerAddress -ServerAddresses $Server\n\n  if ($env:computername  -eq $env:userdomain) {\n    Write-Host \"Not in domain\"\n    $adminname = \"$DomainName\\$Username\"\n    $adminpassword = ConvertTo-SecureString -asPlainText -Force -String \"$Password\"\n    Write-Host \"$adminname , $password\"\n    $credential = New-Object System.Management.Automation.PSCredential($adminname,$adminpassword)\n    Add-computer -DomainName $DomainName -Credential $credential -force -Options JoinWithNewName,AccountCreate -PassThru -ErrorAction Stop\n  } else {\n     Write-Host \"Already in domain\"\n  }\n}\n\nif ($HOSTNAME -ne $Null){\n  Write-Host \"Setting Hostname\"\n  Set-Hostname -Hostname $HOSTNAME\n}\n\nJointoDomain -DomainName \"@@{DOMAIN}@@\" -Username \"@@{DOMAIN_CRED.username}@@\" -Password \"@@{DOMAIN_CRED.secret}@@\" -Server \"@@{DNSServer}@@\"\n\nRestart-Computer -Force -AsJob\nexit 0","script_type":"npsscript","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"LOCAL","uuid":"1fdba0b0-e1cf-4835-b0e5-d525cb736b7f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SQLServer_RenameAndJoinDomain"},{"target_any_local_reference":{"kind":"app_service","name":"SQLServer","uuid":"2f21ee10-b6af-42b5-ba7c-706f5b58ca6a"},"retries":"0","description":"","type":"EXEC","uuid":"072015db-8e27-463d-a065-77a53d9956ff","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"static","type":"","command_line_args":"","exit_status":[],"script":"#script\nsleep(90)"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SQLServer_Attente1"},{"target_any_local_reference":{"kind":"app_service","name":"SQLServer","uuid":"2f21ee10-b6af-42b5-ba7c-706f5b58ca6a"},"retries":"0","description":"","type":"EXEC","uuid":"468999c3-653e-4430-9732-451bd22a7b9f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"netsh advfirewall set allprofiles state off\necho $Error","script_type":"npsscript","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"DOMAIN_CRED","uuid":"7958c1cb-7109-4f89-8446-47fd7527512c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SQLServer_DesactivationFirewall"},{"target_any_local_reference":{"kind":"app_service","name":"SQLServer","uuid":"2f21ee10-b6af-42b5-ba7c-706f5b58ca6a"},"retries":"0","description":"","type":"EXEC","uuid":"5e3d9957-a3a1-48dc-b401-c0b75f195bff","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"D:\\setup.exe \/q \/ACTION=Install \/IACCEPTSQLSERVERLICENSETERMS \/FEATURES=SQL \/INSTANCENAME=\"@@{SQL_INSTANCE_NAME}@@\" \/SQLSVCACCOUNT=\"NT AUTHORITY\\SYSTEM\" \/SQLSYSADMINACCOUNTS=\"@@{DOMAIN_CRED.username}@@\" \/AGTSVCACCOUNT=\"NT AUTHORITY\\Network Service\" \/SQLSVCINSTANTFILEINIT=\"True\" \/IACCEPTSQLSERVERLICENSETERMS \/UpdateEnabled=False","script_type":"npsscript","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"DOMAIN_CRED","uuid":"7958c1cb-7109-4f89-8446-47fd7527512c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SQLServer2016_InstallationBinaires"},{"target_any_local_reference":{"kind":"app_service","name":"SQLServer","uuid":"2f21ee10-b6af-42b5-ba7c-706f5b58ca6a"},"retries":"0","description":"","type":"EXEC","uuid":"d38b26df-bf8a-4f0a-8a62-071615f88580","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"function Check-DomainExistance {\n  #if (Get-ADDomainController -Discover -ErrorAction SilentlyContinue){\n  if (\"$((wmic ComputerSystem get DomainRole)[2])\".trim() -eq \"5\"){\n   return $true\n  } else{\n    return $false\n  }\n}\n\necho \"Restauration de la base de donn\u00e9es.\"\nRestore-SqlDatabase -ServerInstance \"SQLServer\\\" -Database \"DEMO\" -BackupFile \"\\\\DC1\\backup\\DEMO.bak\"\necho \"Restauration termin\u00e9e.\"\n\nexit 0","script_type":"npsscript","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"DOMAIN_CRED","uuid":"7958c1cb-7109-4f89-8446-47fd7527512c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SQLServer_ImportBDD"},{"target_any_local_reference":{"kind":"app_service","name":"SQLServer","uuid":"2f21ee10-b6af-42b5-ba7c-706f5b58ca6a"},"retries":"0","description":"","type":"EXEC","uuid":"76507492-ef0f-4164-9479-80e273066da0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"static","type":"","command_line_args":"","exit_status":[],"script":"#script\n\nheaders = {'Content-Type': 'application\/json'}\napi_url = \"@@{SLACK_HOOK}@@\"\n\npayload = {\n  'text': 'Nutanix CALM : Application @@{calm_application_name}@@ vient d etre deployee :-)'\n}\n\nr = urlreq(api_url, verb='POST', headers=headers, params=json.dumps(payload))\n\nif r.ok:\n  print r.content\nelse:\n  print \"Post request failed\", r.content\n  exit(1)"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Message_Slack"},{"target_any_local_reference":{"kind":"app_service","name":"SQLServer","uuid":"2f21ee10-b6af-42b5-ba7c-706f5b58ca6a"},"retries":"0","description":"","type":"EXEC","uuid":"92fcdba7-2c3c-46af-ad82-da68f1c6faa7","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"static","type":"","command_line_args":"","exit_status":[],"script":"#script\n\nheaders = {'Content-Type': 'application\/json'}\napi_url = \"@@{O365_Teams_Connector_Url}@@\"\n\npayload = {\n  '@context': 'http:\/\/schema.org\/extensions',\n  '@type': 'MessageCard',\n  'themeColor': '0072C6',\n  'title': '@@{MSO365_Teams_Title}@@',\n  'text': '@@{MSO365_Teams_Message}@@',\n  'potentialAction': [\n    {\n      '@type': 'ActionCard',\n      'name': 'Details',\n      'inputs': [\n        {\n          '@type': 'TextInput',\n          'id': 'feedback',\n          'isMultiline': 'true',\n          'title': 'On peut ici mettre tout un tas d informations'\n        }\n      ],\n      'actions': [\n        {\n          '@type': 'HttpPOST',\n          'name': 'Lien',\n          'isPrimary': 'true',\n          'target': 'rdp:\/\/@@{DNSServer}@@'\n        }\n      ]\n    },\n    {\n      '@type': 'OpenUri',\n      'name': 'Connexions',\n      'targets': [\n        { 'os': 'default', 'uri': 'rdp:\/\/@@{DNSServer}@@' }\n      ]\n    }\n  ]\n}\n\nr = urlreq(api_url, verb='POST', headers=headers, params=json.dumps(payload))\n\nif r.ok:\n  print r.content\nelse:\n  print \"Post request failed\", r.content\n  exit(1)"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Message_Teams"}],"description":"","message_list":[],"uuid":"eabb82ae-e6a5-4a07-8cd5-9e7e65ccac69","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"76326282_dag","uuid":"87580259-25be-4511-96ad-7fd0e5a90bc7"},"name":"b54300dd_runbook_cloned_1_cloned_1"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"SQLServer_Personnalisation","uuid":"46aff282-3d8b-4438-ab11-51cf246b6d4f"},"retries":"0","description":"","type":"DAG","uuid":"52e8106d-56ae-47e6-884c-e38560074d0c","child_tasks_local_reference_list":[{"kind":"app_task","name":"SQLServer_UnjoinDomain","uuid":"0238022f-e56d-4272-9098-91cf470ccb65"},{"kind":"app_task","name":"Message_Teams","uuid":"dd415985-4c89-43c0-b583-e5f8daf9d8fd"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SQLServer_UnjoinDomain","uuid":"0238022f-e56d-4272-9098-91cf470ccb65"},"edge_type":"user_defined","type":"","uuid":"6e63a724-1815-4748-b7e6-70373b7bc841","to_task_reference":{"kind":"app_task","name":"Message_Teams","uuid":"dd415985-4c89-43c0-b583-e5f8daf9d8fd"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"700b3d0e_dag"},{"target_any_local_reference":{"kind":"app_service","name":"SQLServer","uuid":"2f21ee10-b6af-42b5-ba7c-706f5b58ca6a"},"retries":"0","description":"","type":"EXEC","uuid":"0238022f-e56d-4272-9098-91cf470ccb65","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"$adminpassword = ConvertTo-SecureString -asPlainText -Force -String \"@@{DOMAIN_CRED.secret}@@\"\nWrite-Output \"@@{DOMAIN_CRED.username}@@ , @@{DOMAIN_CRED.secret}@@\"\n$credential = New-Object System.Management.Automation.PSCredential(\"@@{DOMAIN_CRED.username}@@\", $adminpassword)\n\nRemove-Computer -UnjoinDomaincredential $credential -Force -PassThru -Verbose -Restart -WorkgroupName Workgroup\nrestart-computer","script_type":"npsscript","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"DOMAIN_CRED","uuid":"7958c1cb-7109-4f89-8446-47fd7527512c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SQLServer_UnjoinDomain"},{"target_any_local_reference":{"kind":"app_service","name":"SQLServer","uuid":"2f21ee10-b6af-42b5-ba7c-706f5b58ca6a"},"retries":"0","description":"","type":"EXEC","uuid":"dd415985-4c89-43c0-b583-e5f8daf9d8fd","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"static","type":"","command_line_args":"","exit_status":[],"script":"#script\n\nheaders = {'Content-Type': 'application\/json'}\napi_url = \"@@{O365_Teams_Connector_Url}@@\"\n\npayload = {\n  '@context': 'http:\/\/schema.org\/extensions',\n  '@type': 'MessageCard',\n  'themeColor': '0072C6',\n  'title': 'Nutanix CALM : @@{calm_application_name}@@ - Supprimee',\n  'text': 'Pense a montrer la suppression dans l AD.'\n}\n\nr = urlreq(api_url, verb='POST', headers=headers, params=json.dumps(payload))\n\nif r.ok:\n  print r.content\nelse:\n  print \"Post request failed\", r.content\n  exit(1)"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Message_Teams"}],"description":"","message_list":[],"uuid":"980f6877-695a-47db-9ea4-2ddc4843f883","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"700b3d0e_dag","uuid":"52e8106d-56ae-47e6-884c-e38560074d0c"},"name":"ea9792f4_runbook_cloned_1_cloned_1"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Uninstall_Crb_46aff282_3d8b_4438_ab11_51cf246b6d4f"}],"description":"","message_list":[],"uuid":"5e5a75d1-4cb5-467e-a798-c51dcb041a0c","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Package_46aff282_3d8b_4438_ab11_51cf246b6d4f","uuid":"80a5cf24-1fed-4f17-8f3c-a89a97d1ef2f"},"name":"SYS_GEN__Runbook_Package_46aff282_3d8b_4438_ab11_51cf246b6d4f"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"736c55ae-3bd1-469e-84e2-04751895bb9a","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"SQLServer_Personnalisation","uuid":"46aff282-3d8b-4438-ab11-51cf246b6d4f"},"retries":"0","description":"","type":"DAG","uuid":"4bf3528c-f46a-433a-a38c-48afe9110011","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_2f21ee10_b6af_42b5_ba7c_706f5b58ca6a","uuid":"f3225903-c473-4e4e-8228-8e454fc22292"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_2f21ee10_b6af_42b5_ba7c_706f5b58ca6a","uuid":"e7236a99-0d6f-4e9c-a15b-fc04d24a0f1c"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_46aff282_3d8b_4438_ab11_51cf246b6d4f","uuid":"7a5b3eab-dc84-43c6-bf66-ea62b41d71b6"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_2f21ee10_b6af_42b5_ba7c_706f5b58ca6a","uuid":"f3225903-c473-4e4e-8228-8e454fc22292"},"edge_type":"inherent","type":"","uuid":"d4a8338a-d3c7-4045-942c-ef2015d7c548","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_2f21ee10_b6af_42b5_ba7c_706f5b58ca6a","uuid":"e7236a99-0d6f-4e9c-a15b-fc04d24a0f1c"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_2f21ee10_b6af_42b5_ba7c_706f5b58ca6a","uuid":"e7236a99-0d6f-4e9c-a15b-fc04d24a0f1c"},"edge_type":"inherent","type":"","uuid":"72a79ffe-ea7d-4cf6-86dc-e37997d124c1","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_46aff282_3d8b_4438_ab11_51cf246b6d4f","uuid":"7a5b3eab-dc84-43c6-bf66-ea62b41d71b6"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_46aff282_3d8b_4438_ab11_51cf246b6d4f"},{"target_any_local_reference":{"kind":"app_service","name":"SQLServer","uuid":"2f21ee10-b6af-42b5-ba7c-706f5b58ca6a"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"f3225903-c473-4e4e-8228-8e454fc22292","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_2f21ee10_b6af_42b5_ba7c_706f5b58ca6a","uuid":"063fea2f-40c7-49b5-a22b-705144983200"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_2f21ee10_b6af_42b5_ba7c_706f5b58ca6a"},{"target_any_local_reference":{"kind":"app_service","name":"SQLServer","uuid":"2f21ee10-b6af-42b5-ba7c-706f5b58ca6a"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"e7236a99-0d6f-4e9c-a15b-fc04d24a0f1c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_2f21ee10_b6af_42b5_ba7c_706f5b58ca6a","uuid":"aaa72a81-ffda-43e2-910a-a62a2da19e1a"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_2f21ee10_b6af_42b5_ba7c_706f5b58ca6a"},{"target_any_local_reference":{"kind":"app_package","name":"SQLServer_Personnalisation","uuid":"46aff282-3d8b-4438-ab11-51cf246b6d4f"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"7a5b3eab-dc84-43c6-bf66-ea62b41d71b6","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_46aff282_3d8b_4438_ab11_51cf246b6d4f","uuid":"5e5a75d1-4cb5-467e-a798-c51dcb041a0c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_46aff282_3d8b_4438_ab11_51cf246b6d4f"}],"description":"","message_list":[],"uuid":"e301b63d-55af-4b6e-97a8-b66edf8bba8a","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_46aff282_3d8b_4438_ab11_51cf246b6d4f","uuid":"4bf3528c-f46a-433a-a38c-48afe9110011"},"name":"SYS_GEN__Runbook_Package_46aff282_3d8b_4438_ab11_51cf246b6d4f"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"cbbcb364-4499-444f-9949-4981848e4715","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"SQLServer_Personnalisation","uuid":"46aff282-3d8b-4438-ab11-51cf246b6d4f"},"retries":"0","description":"","type":"DAG","uuid":"bbd7e36d-4503-4529-b10a-85de548e4656","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_2f21ee10_b6af_42b5_ba7c_706f5b58ca6a","uuid":"2a3cac0a-5b85-4fc0-b89c-b5efc335ef19"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_46aff282_3d8b_4438_ab11_51cf246b6d4f","uuid":"1d7a0720-d4e4-4f64-a9e3-80e501477850"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_2f21ee10_b6af_42b5_ba7c_706f5b58ca6a","uuid":"2a3cac0a-5b85-4fc0-b89c-b5efc335ef19"},"edge_type":"inherent","type":"","uuid":"1843b874-75fc-4667-81d3-8473b12bdee6","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_46aff282_3d8b_4438_ab11_51cf246b6d4f","uuid":"1d7a0720-d4e4-4f64-a9e3-80e501477850"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_46aff282_3d8b_4438_ab11_51cf246b6d4f"},{"target_any_local_reference":{"kind":"app_service","name":"SQLServer","uuid":"2f21ee10-b6af-42b5-ba7c-706f5b58ca6a"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"2a3cac0a-5b85-4fc0-b89c-b5efc335ef19","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_2f21ee10_b6af_42b5_ba7c_706f5b58ca6a","uuid":"32d8aace-4022-4652-b90b-6406e8f9b8b1"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_2f21ee10_b6af_42b5_ba7c_706f5b58ca6a"},{"target_any_local_reference":{"kind":"app_package","name":"SQLServer_Personnalisation","uuid":"46aff282-3d8b-4438-ab11-51cf246b6d4f"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"1d7a0720-d4e4-4f64-a9e3-80e501477850","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_46aff282_3d8b_4438_ab11_51cf246b6d4f"}],"description":"","message_list":[],"uuid":"2cb6910c-818e-4eea-80a9-b8890ecf5d1d","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_46aff282_3d8b_4438_ab11_51cf246b6d4f","uuid":"bbd7e36d-4503-4529-b10a-85de548e4656"},"name":"SYS_GEN__Runbook_Package_46aff282_3d8b_4438_ab11_51cf246b6d4f"}},{"description":"System action for starting an application","message_list":[],"uuid":"2e17538d-64af-450d-a81f-5eb98d7825e2","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"SQLServer_Personnalisation","uuid":"46aff282-3d8b-4438-ab11-51cf246b6d4f"},"retries":"0","description":"","type":"DAG","uuid":"87ba82bb-ecc0-4084-8cb0-241982ba37b7","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_2f21ee10_b6af_42b5_ba7c_706f5b58ca6a","uuid":"4195bdf4-d094-4e90-8655-41a5f64230e5"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_46aff282_3d8b_4438_ab11_51cf246b6d4f"},{"target_any_local_reference":{"kind":"app_service","name":"SQLServer","uuid":"2f21ee10-b6af-42b5-ba7c-706f5b58ca6a"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"4195bdf4-d094-4e90-8655-41a5f64230e5","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_2f21ee10_b6af_42b5_ba7c_706f5b58ca6a","uuid":"0bdab881-7f85-4f56-b018-4f15d9ff7bc8"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_2f21ee10_b6af_42b5_ba7c_706f5b58ca6a"}],"description":"","message_list":[],"uuid":"22c337fc-60e7-4009-95ce-fc6254c69bec","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_46aff282_3d8b_4438_ab11_51cf246b6d4f","uuid":"87ba82bb-ecc0-4084-8cb0-241982ba37b7"},"name":"SYS_GEN__Runbook_Package_46aff282_3d8b_4438_ab11_51cf246b6d4f"}},{"description":"System action for restarting an application","message_list":[],"uuid":"465f584c-0b6f-43f1-93ed-ec2a02aae5ad","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"SQLServer_Personnalisation","uuid":"46aff282-3d8b-4438-ab11-51cf246b6d4f"},"retries":"0","description":"","type":"DAG","uuid":"7a26960d-6190-474f-9863-3a06e20b234d","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_2f21ee10_b6af_42b5_ba7c_706f5b58ca6a","uuid":"713e82cc-4445-4748-b320-c6a09ac8cef7"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_46aff282_3d8b_4438_ab11_51cf246b6d4f"},{"target_any_local_reference":{"kind":"app_service","name":"SQLServer","uuid":"2f21ee10-b6af-42b5-ba7c-706f5b58ca6a"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"713e82cc-4445-4748-b320-c6a09ac8cef7","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_2f21ee10_b6af_42b5_ba7c_706f5b58ca6a","uuid":"ba93cba3-2b81-4cd6-91dd-f14f28587b35"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_2f21ee10_b6af_42b5_ba7c_706f5b58ca6a"}],"description":"","message_list":[],"uuid":"565cb42d-9193-4adf-83dc-f6baa0dd039f","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_46aff282_3d8b_4438_ab11_51cf246b6d4f","uuid":"7a26960d-6190-474f-9863-3a06e20b234d"},"name":"SYS_GEN__Runbook_Package_46aff282_3d8b_4438_ab11_51cf246b6d4f"}},{"description":"System action for stopping an application","message_list":[],"uuid":"ffa466b5-2651-4770-a8d9-00744d687604","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"SQLServer_Personnalisation","uuid":"46aff282-3d8b-4438-ab11-51cf246b6d4f"},"retries":"0","description":"","type":"DAG","uuid":"c49f61f8-4345-4aba-8ce0-75eccc141fbe","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_2f21ee10_b6af_42b5_ba7c_706f5b58ca6a","uuid":"1f7c9ea2-c293-4eab-938e-e91251955854"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_46aff282_3d8b_4438_ab11_51cf246b6d4f"},{"target_any_local_reference":{"kind":"app_service","name":"SQLServer","uuid":"2f21ee10-b6af-42b5-ba7c-706f5b58ca6a"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"1f7c9ea2-c293-4eab-938e-e91251955854","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_2f21ee10_b6af_42b5_ba7c_706f5b58ca6a","uuid":"063fea2f-40c7-49b5-a22b-705144983200"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_2f21ee10_b6af_42b5_ba7c_706f5b58ca6a"}],"description":"","message_list":[],"uuid":"5756a728-e1ae-4116-9324-42c477be770e","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_46aff282_3d8b_4438_ab11_51cf246b6d4f","uuid":"c49f61f8-4345-4aba-8ce0-75eccc141fbe"},"name":"SYS_GEN__Runbook_Package_46aff282_3d8b_4438_ab11_51cf246b6d4f"}}],"message_list":[],"service_local_reference_list":[{"kind":"app_service","name":"SQLServer","uuid":"2f21ee10-b6af-42b5-ba7c-706f5b58ca6a"}],"uuid":"46aff282-3d8b-4438-ab11-51cf246b6d4f","state":"ACTIVE","version":"","editables":{},"type":"DEB","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"SQLServer_Personnalisation","uuid":"46aff282-3d8b-4438-ab11-51cf246b6d4f"},"retries":"0","description":"","type":"DAG","uuid":"87580259-25be-4511-96ad-7fd0e5a90bc7","child_tasks_local_reference_list":[{"kind":"app_task","name":"SQLServer_DisableUAC","uuid":"cb53197c-9d41-4041-a9b5-4234980a7c38"},{"kind":"app_task","name":"SQLServer_RenameAndJoinDomain","uuid":"290fc0f2-eccc-4c52-bf73-8c45ef33b7f4"},{"kind":"app_task","name":"SQLServer_Attente1","uuid":"072015db-8e27-463d-a065-77a53d9956ff"},{"kind":"app_task","name":"SQLServer_DesactivationFirewall","uuid":"468999c3-653e-4430-9732-451bd22a7b9f"},{"kind":"app_task","name":"SQLServer2016_InstallationBinaires","uuid":"5e3d9957-a3a1-48dc-b401-c0b75f195bff"},{"kind":"app_task","name":"SQLServer_ImportBDD","uuid":"d38b26df-bf8a-4f0a-8a62-071615f88580"},{"kind":"app_task","name":"Message_Slack","uuid":"76507492-ef0f-4164-9479-80e273066da0"},{"kind":"app_task","name":"Message_Teams","uuid":"92fcdba7-2c3c-46af-ad82-da68f1c6faa7"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SQLServer_Attente1","uuid":"072015db-8e27-463d-a065-77a53d9956ff"},"edge_type":"user_defined","type":"","uuid":"cf81ad1f-7eb1-46f3-ae65-9170bfe71b8d","to_task_reference":{"kind":"app_task","name":"SQLServer_DesactivationFirewall","uuid":"468999c3-653e-4430-9732-451bd22a7b9f"}},{"from_task_reference":{"kind":"app_task","name":"SQLServer_DesactivationFirewall","uuid":"468999c3-653e-4430-9732-451bd22a7b9f"},"edge_type":"user_defined","type":"","uuid":"9d02b7fa-416b-4428-879e-2e75711c480e","to_task_reference":{"kind":"app_task","name":"SQLServer2016_InstallationBinaires","uuid":"5e3d9957-a3a1-48dc-b401-c0b75f195bff"}},{"from_task_reference":{"kind":"app_task","name":"SQLServer_DisableUAC","uuid":"cb53197c-9d41-4041-a9b5-4234980a7c38"},"edge_type":"user_defined","type":"","uuid":"3d5f471d-6d3b-40ba-b272-2d4669082936","to_task_reference":{"kind":"app_task","name":"SQLServer_RenameAndJoinDomain","uuid":"290fc0f2-eccc-4c52-bf73-8c45ef33b7f4"}},{"from_task_reference":{"kind":"app_task","name":"SQLServer_ImportBDD","uuid":"d38b26df-bf8a-4f0a-8a62-071615f88580"},"edge_type":"user_defined","type":"","uuid":"81c7ca5b-451c-471b-8761-a689521a584c","to_task_reference":{"kind":"app_task","name":"Message_Slack","uuid":"76507492-ef0f-4164-9479-80e273066da0"}},{"from_task_reference":{"kind":"app_task","name":"SQLServer_ImportBDD","uuid":"d38b26df-bf8a-4f0a-8a62-071615f88580"},"edge_type":"user_defined","type":"","uuid":"afb75cd1-9eed-42f7-9875-a598b888b819","to_task_reference":{"kind":"app_task","name":"Message_Teams","uuid":"92fcdba7-2c3c-46af-ad82-da68f1c6faa7"}},{"from_task_reference":{"kind":"app_task","name":"SQLServer2016_InstallationBinaires","uuid":"5e3d9957-a3a1-48dc-b401-c0b75f195bff"},"edge_type":"user_defined","type":"","uuid":"5da32011-398c-4310-a7b1-f4e2f95f3145","to_task_reference":{"kind":"app_task","name":"SQLServer_ImportBDD","uuid":"d38b26df-bf8a-4f0a-8a62-071615f88580"}},{"from_task_reference":{"kind":"app_task","name":"SQLServer_RenameAndJoinDomain","uuid":"290fc0f2-eccc-4c52-bf73-8c45ef33b7f4"},"edge_type":"user_defined","type":"","uuid":"ef6a8977-839e-48c7-bdd8-071b692487a6","to_task_reference":{"kind":"app_task","name":"SQLServer_Attente1","uuid":"072015db-8e27-463d-a065-77a53d9956ff"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"76326282_dag"},{"target_any_local_reference":{"kind":"app_service","name":"SQLServer","uuid":"2f21ee10-b6af-42b5-ba7c-706f5b58ca6a"},"retries":"0","description":"","type":"EXEC","uuid":"cb53197c-9d41-4041-a9b5-4234980a7c38","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"$osversion = (Get-CimInstance Win32_OperatingSystem).Version \n$version = $osversion.split(\".\")[0] \n \nif ($version -eq 10) { \n    Set-ItemProperty \"HKLM:\\SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Policies\\System\" -Name \"ConsentPromptBehaviorAdmin\" -Value \"0\" \n} ElseIf ($Version -eq 6) { \n    $sub = $version.split(\".\")[1] \n    if ($sub -eq 1 -or $sub -eq 0) { \n        Set-ItemProperty \"HKLM:\\SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Policies\\System\" -Name \"EnableLUA\" -Value \"0\" \n    } Else { \n        Set-ItemProperty \"HKLM:\\SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Policies\\System\" -Name \"ConsentPromptBehaviorAdmin\" -Value \"0\" \n    } \n} ElseIf ($Version -eq 5) { \n    Set-ItemProperty \"HKLM:\\SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Policies\\System\" -Name \"EnableLUA\" -Value \"0\" \n} Else { \n    Set-ItemProperty \"HKLM:\\SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Policies\\System\" -Name \"ConsentPromptBehaviorAdmin\" -Value \"0\" \n}","script_type":"npsscript","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"LOCAL","uuid":"1fdba0b0-e1cf-4835-b0e5-d525cb736b7f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SQLServer_DisableUAC"},{"target_any_local_reference":{"kind":"app_service","name":"SQLServer","uuid":"2f21ee10-b6af-42b5-ba7c-706f5b58ca6a"},"retries":"0","description":"","type":"EXEC","uuid":"290fc0f2-eccc-4c52-bf73-8c45ef33b7f4","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"##############################################\n# Name        : JoinDomain.ps1\n# Author      : K Sarat Kumar\n# Version     : 1.0\n# Description : Script is used to Change hostname of machines and join to domain.\n##############################################\n$HOSTNAME = \"@@{name}@@\"\n\nfunction Set-Hostname{\n  [CmdletBinding()]\n  Param(\n      [parameter(Mandatory=$true)]\n      [string]$Hostname\n)\n  if ($Hostname -eq  $(hostname)){\n    Write-Host \"Hostname already set.\"\n  } else{\n    Rename-Computer -NewName $HOSTNAME -ErrorAction Stop\n  }\n}\n\nfunction JointoDomain {\n  [CmdletBinding()]\n  Param(\n      [parameter(Mandatory=$true)]\n      [string]$DomainName,\n      [parameter(Mandatory=$false)]\n      [string]$OU,\n      [parameter(Mandatory=$true)]\n      [string]$Username,\n      [parameter(Mandatory=$true)]\n      [string]$Password,\n      [parameter(Mandatory=$true)]\n      [string]$Server\n  )\n  $adapter = Get-NetAdapter | ? {$_.Status -eq \"up\"}\n  $adapter | Set-DnsClientServerAddress -ServerAddresses $Server\n\n  if ($env:computername  -eq $env:userdomain) {\n    Write-Host \"Not in domain\"\n    $adminname = \"$DomainName\\$Username\"\n    $adminpassword = ConvertTo-SecureString -asPlainText -Force -String \"$Password\"\n    Write-Host \"$adminname , $password\"\n    $credential = New-Object System.Management.Automation.PSCredential($adminname,$adminpassword)\n    Add-computer -DomainName $DomainName -Credential $credential -force -Options JoinWithNewName,AccountCreate -PassThru -ErrorAction Stop\n  } else {\n     Write-Host \"Already in domain\"\n  }\n}\n\nif ($HOSTNAME -ne $Null){\n  Write-Host \"Setting Hostname\"\n  Set-Hostname -Hostname $HOSTNAME\n}\n\nJointoDomain -DomainName \"@@{DOMAIN}@@\" -Username \"@@{DOMAIN_CRED.username}@@\" -Password \"@@{DOMAIN_CRED.secret}@@\" -Server \"@@{DNSServer}@@\"\n\nRestart-Computer -Force -AsJob\nexit 0","script_type":"npsscript","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"LOCAL","uuid":"1fdba0b0-e1cf-4835-b0e5-d525cb736b7f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SQLServer_RenameAndJoinDomain"},{"target_any_local_reference":{"kind":"app_service","name":"SQLServer","uuid":"2f21ee10-b6af-42b5-ba7c-706f5b58ca6a"},"retries":"0","description":"","type":"EXEC","uuid":"072015db-8e27-463d-a065-77a53d9956ff","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"static","type":"","command_line_args":"","exit_status":[],"script":"#script\nsleep(90)"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SQLServer_Attente1"},{"target_any_local_reference":{"kind":"app_service","name":"SQLServer","uuid":"2f21ee10-b6af-42b5-ba7c-706f5b58ca6a"},"retries":"0","description":"","type":"EXEC","uuid":"468999c3-653e-4430-9732-451bd22a7b9f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"netsh advfirewall set allprofiles state off\necho $Error","script_type":"npsscript","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"DOMAIN_CRED","uuid":"7958c1cb-7109-4f89-8446-47fd7527512c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SQLServer_DesactivationFirewall"},{"target_any_local_reference":{"kind":"app_service","name":"SQLServer","uuid":"2f21ee10-b6af-42b5-ba7c-706f5b58ca6a"},"retries":"0","description":"","type":"EXEC","uuid":"5e3d9957-a3a1-48dc-b401-c0b75f195bff","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"D:\\setup.exe \/q \/ACTION=Install \/IACCEPTSQLSERVERLICENSETERMS \/FEATURES=SQL \/INSTANCENAME=\"@@{SQL_INSTANCE_NAME}@@\" \/SQLSVCACCOUNT=\"NT AUTHORITY\\SYSTEM\" \/SQLSYSADMINACCOUNTS=\"@@{DOMAIN_CRED.username}@@\" \/AGTSVCACCOUNT=\"NT AUTHORITY\\Network Service\" \/SQLSVCINSTANTFILEINIT=\"True\" \/IACCEPTSQLSERVERLICENSETERMS \/UpdateEnabled=False","script_type":"npsscript","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"DOMAIN_CRED","uuid":"7958c1cb-7109-4f89-8446-47fd7527512c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SQLServer2016_InstallationBinaires"},{"target_any_local_reference":{"kind":"app_service","name":"SQLServer","uuid":"2f21ee10-b6af-42b5-ba7c-706f5b58ca6a"},"retries":"0","description":"","type":"EXEC","uuid":"d38b26df-bf8a-4f0a-8a62-071615f88580","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"function Check-DomainExistance {\n  #if (Get-ADDomainController -Discover -ErrorAction SilentlyContinue){\n  if (\"$((wmic ComputerSystem get DomainRole)[2])\".trim() -eq \"5\"){\n   return $true\n  } else{\n    return $false\n  }\n}\n\necho \"Restauration de la base de donn\u00e9es.\"\nRestore-SqlDatabase -ServerInstance \"SQLServer\\\" -Database \"DEMO\" -BackupFile \"\\\\DC1\\backup\\DEMO.bak\"\necho \"Restauration termin\u00e9e.\"\n\nexit 0","script_type":"npsscript","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"DOMAIN_CRED","uuid":"7958c1cb-7109-4f89-8446-47fd7527512c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SQLServer_ImportBDD"},{"target_any_local_reference":{"kind":"app_service","name":"SQLServer","uuid":"2f21ee10-b6af-42b5-ba7c-706f5b58ca6a"},"retries":"0","description":"","type":"EXEC","uuid":"76507492-ef0f-4164-9479-80e273066da0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"static","type":"","command_line_args":"","exit_status":[],"script":"#script\n\nheaders = {'Content-Type': 'application\/json'}\napi_url = \"@@{SLACK_HOOK}@@\"\n\npayload = {\n  'text': 'Nutanix CALM : Application @@{calm_application_name}@@ vient d etre deployee :-)'\n}\n\nr = urlreq(api_url, verb='POST', headers=headers, params=json.dumps(payload))\n\nif r.ok:\n  print r.content\nelse:\n  print \"Post request failed\", r.content\n  exit(1)"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Message_Slack"},{"target_any_local_reference":{"kind":"app_service","name":"SQLServer","uuid":"2f21ee10-b6af-42b5-ba7c-706f5b58ca6a"},"retries":"0","description":"","type":"EXEC","uuid":"92fcdba7-2c3c-46af-ad82-da68f1c6faa7","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"static","type":"","command_line_args":"","exit_status":[],"script":"#script\n\nheaders = {'Content-Type': 'application\/json'}\napi_url = \"@@{O365_Teams_Connector_Url}@@\"\n\npayload = {\n  '@context': 'http:\/\/schema.org\/extensions',\n  '@type': 'MessageCard',\n  'themeColor': '0072C6',\n  'title': '@@{MSO365_Teams_Title}@@',\n  'text': '@@{MSO365_Teams_Message}@@',\n  'potentialAction': [\n    {\n      '@type': 'ActionCard',\n      'name': 'Details',\n      'inputs': [\n        {\n          '@type': 'TextInput',\n          'id': 'feedback',\n          'isMultiline': 'true',\n          'title': 'On peut ici mettre tout un tas d informations'\n        }\n      ],\n      'actions': [\n        {\n          '@type': 'HttpPOST',\n          'name': 'Lien',\n          'isPrimary': 'true',\n          'target': 'rdp:\/\/@@{DNSServer}@@'\n        }\n      ]\n    },\n    {\n      '@type': 'OpenUri',\n      'name': 'Connexions',\n      'targets': [\n        { 'os': 'default', 'uri': 'rdp:\/\/@@{DNSServer}@@' }\n      ]\n    }\n  ]\n}\n\nr = urlreq(api_url, verb='POST', headers=headers, params=json.dumps(payload))\n\nif r.ok:\n  print r.content\nelse:\n  print \"Post request failed\", r.content\n  exit(1)"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Message_Teams"}],"description":"","message_list":[],"uuid":"eabb82ae-e6a5-4a07-8cd5-9e7e65ccac69","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"76326282_dag","uuid":"87580259-25be-4511-96ad-7fd0e5a90bc7"},"name":"b54300dd_runbook_cloned_1_cloned_1"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"SQLServer_Personnalisation","uuid":"46aff282-3d8b-4438-ab11-51cf246b6d4f"},"retries":"0","description":"","type":"DAG","uuid":"52e8106d-56ae-47e6-884c-e38560074d0c","child_tasks_local_reference_list":[{"kind":"app_task","name":"SQLServer_UnjoinDomain","uuid":"0238022f-e56d-4272-9098-91cf470ccb65"},{"kind":"app_task","name":"Message_Teams","uuid":"dd415985-4c89-43c0-b583-e5f8daf9d8fd"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SQLServer_UnjoinDomain","uuid":"0238022f-e56d-4272-9098-91cf470ccb65"},"edge_type":"user_defined","type":"","uuid":"6e63a724-1815-4748-b7e6-70373b7bc841","to_task_reference":{"kind":"app_task","name":"Message_Teams","uuid":"dd415985-4c89-43c0-b583-e5f8daf9d8fd"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"700b3d0e_dag"},{"target_any_local_reference":{"kind":"app_service","name":"SQLServer","uuid":"2f21ee10-b6af-42b5-ba7c-706f5b58ca6a"},"retries":"0","description":"","type":"EXEC","uuid":"0238022f-e56d-4272-9098-91cf470ccb65","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"$adminpassword = ConvertTo-SecureString -asPlainText -Force -String \"@@{DOMAIN_CRED.secret}@@\"\nWrite-Output \"@@{DOMAIN_CRED.username}@@ , @@{DOMAIN_CRED.secret}@@\"\n$credential = New-Object System.Management.Automation.PSCredential(\"@@{DOMAIN_CRED.username}@@\", $adminpassword)\n\nRemove-Computer -UnjoinDomaincredential $credential -Force -PassThru -Verbose -Restart -WorkgroupName Workgroup\nrestart-computer","script_type":"npsscript","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"DOMAIN_CRED","uuid":"7958c1cb-7109-4f89-8446-47fd7527512c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SQLServer_UnjoinDomain"},{"target_any_local_reference":{"kind":"app_service","name":"SQLServer","uuid":"2f21ee10-b6af-42b5-ba7c-706f5b58ca6a"},"retries":"0","description":"","type":"EXEC","uuid":"dd415985-4c89-43c0-b583-e5f8daf9d8fd","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"static","type":"","command_line_args":"","exit_status":[],"script":"#script\n\nheaders = {'Content-Type': 'application\/json'}\napi_url = \"@@{O365_Teams_Connector_Url}@@\"\n\npayload = {\n  '@context': 'http:\/\/schema.org\/extensions',\n  '@type': 'MessageCard',\n  'themeColor': '0072C6',\n  'title': 'Nutanix CALM : @@{calm_application_name}@@ - Supprimee',\n  'text': 'Pense a montrer la suppression dans l AD.'\n}\n\nr = urlreq(api_url, verb='POST', headers=headers, params=json.dumps(payload))\n\nif r.ok:\n  print r.content\nelse:\n  print \"Post request failed\", r.content\n  exit(1)"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Message_Teams"}],"description":"","message_list":[],"uuid":"980f6877-695a-47db-9ea4-2ddc4843f883","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"700b3d0e_dag","uuid":"52e8106d-56ae-47e6-884c-e38560074d0c"},"name":"ea9792f4_runbook_cloned_1_cloned_1"}},"variable_list":[],"name":"SQLServer_Personnalisation"}]},"name":"Cedric_oldbp"},"spec":{"name":"Cedric_oldbp","resources":{"service_definition_list":[{"singleton":false,"name":"FileServer","action_list":[],"description":"","uuid":"a6166b9f-9131-4150-a2d9-005a3ac25938","port_list":[],"tier":"","variable_list":[],"depends_on_list":[]},{"singleton":false,"name":"RODC","action_list":[],"description":"","uuid":"325908c4-c51c-4578-bec9-1b82603dbdab","port_list":[],"tier":"","variable_list":[],"depends_on_list":[]},{"singleton":false,"name":"SQLServer","action_list":[],"description":"","uuid":"2f21ee10-b6af-42b5-ba7c-706f5b58ca6a","port_list":[],"tier":"","variable_list":[],"depends_on_list":[]}],"substrate_definition_list":[{"name":"FileServer_VM","action_list":[],"uuid":"408f49ff-44c2-40f2-a700-4339864af66c","readiness_probe":{"connection_type":"POWERSHELL","retries":"5","disable_readiness_probe":false,"address":"@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@","delay_secs":"60","connection_port":5985,"login_credential_local_reference":{"kind":"app_credential","name":"LOCAL","uuid":"1fdba0b0-e1cf-4835-b0e5-d525cb736b7f"}},"editables":{"create_spec":{"resources":{"nic_list":{},"serial_port_list":{},"disk_list":{}}}},"os_type":"Windows","type":"AHV_VM","create_spec":{"name":"FileServer-@@{calm_random}@@","resources":{"nic_list":[{"nic_type":"NORMAL_NIC","network_function_chain_reference":null,"network_function_nic_type":"INGRESS","mac_address":"","subnet_reference":{"kind":"subnet","type":"","name":"","uuid":"efc034e3-b50e-4a48-b02d-25036aeb8bd3"},"type":""}],"serial_port_list":[],"guest_tools":null,"num_vcpus_per_socket":1,"num_sockets":2,"gpu_list":[],"memory_size_mib":4096,"parent_reference":null,"hardware_clock_timezone":"","guest_customization":{"cloud_init":null,"type":"","sysprep":{"install_type":"PREPARED","unattend_xml":"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<unattend xmlns=\"urn:schemas-microsoft-com:unattend\">\n   <settings pass=\"specialize\">\n\n      <component xmlns:wcm=\"http:\/\/schemas.microsoft.com\/WMIConfig\/2002\/State\" xmlns:xsi=\"http:\/\/www.w3.org\/2001\/XMLSchema-instance\" name=\"Microsoft-Windows-TCPIP\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\">\n         <Interfaces>\n            <Interface wcm:action=\"add\">        \n               <Identifier>Ethernet<\/Identifier>\n               <Ipv4Settings>\n                  <DhcpEnabled>true<\/DhcpEnabled>\n                  <RouterDiscoveryEnabled>true<\/RouterDiscoveryEnabled>\n                  <Metric>30<\/Metric>\n               <\/Ipv4Settings>               \n               \n            <\/Interface>\n         <\/Interfaces>\n      <\/component>\n      <component name=\"Microsoft-Windows-DNS-Client\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\" xmlns:wcm=\"http:\/\/schemas.microsoft.com\/WMIConfig\/2002\/State\" xmlns:xsi=\"http:\/\/www.w3.org\/2001\/XMLSchema-instance\">\n            <Interfaces>\n                <Interface wcm:action=\"add\">\n                    <Identifier>Ethernet<\/Identifier>\n                    <DNSServerSearchOrder>\n                        <IpAddress wcm:action=\"add\" wcm:keyValue=\"1\">@@{DNSServer}@@<\/IpAddress>\n                    <\/DNSServerSearchOrder>\n                    <EnableAdapterDomainNameRegistration>true<\/EnableAdapterDomainNameRegistration>\n                     <DisableDynamicUpdate>false<\/DisableDynamicUpdate>\n                <\/Interface>\n            <\/Interfaces>\n        <\/component>\n        \n      <component xmlns=\"\" name=\"Microsoft-Windows-TerminalServices-LocalSessionManager\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\" processorArchitecture=\"amd64\">\n         <fDenyTSConnections>false<\/fDenyTSConnections>\n      <\/component>\n      <component xmlns=\"\" name=\"Microsoft-Windows-TerminalServices-RDP-WinStationExtensions\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\" processorArchitecture=\"amd64\">\n         <UserAuthentication>0<\/UserAuthentication>\n      <\/component>\n      <component xmlns:wcm=\"http:\/\/schemas.microsoft.com\/WMIConfig\/2002\/State\" xmlns:xsi=\"http:\/\/www.w3.org\/2001\/XMLSchema-instance\" name=\"Networking-MPSSVC-Svc\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\">\n         <FirewallGroups>\n            <FirewallGroup wcm:action=\"add\" wcm:keyValue=\"RemoteDesktop\">\n               <Active>true<\/Active>\n               <Profile>all<\/Profile>\n               <Group>@FirewallAPI.dll,-28752<\/Group>\n            <\/FirewallGroup>\n         <\/FirewallGroups>\n      <\/component>\n   <\/settings>\n   <settings pass=\"oobeSystem\">\n      <component xmlns:wcm=\"http:\/\/schemas.microsoft.com\/WMIConfig\/2002\/State\" xmlns:xsi=\"http:\/\/www.w3.org\/2001\/XMLSchema-instance\" name=\"Microsoft-Windows-Shell-Setup\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\">\n         <UserAccounts>\n            <AdministratorPassword>\n               <Value>@@{LOCAL.secret}@@<\/Value>\n               <PlainText>true<\/PlainText>\n            <\/AdministratorPassword>\n         <\/UserAccounts>\n         <AutoLogon>\n            <Password>\n               <Value>@@{LOCAL.secret}@@<\/Value>\n               <PlainText>true<\/PlainText>\n            <\/Password>\n            <Enabled>true<\/Enabled>\n            <Username>@@{LOCAL.username}@@<\/Username>\n         <\/AutoLogon>\n         <FirstLogonCommands>\n         \n            <SynchronousCommand wcm:action=\"add\">\n               <CommandLine>cmd.exe \/c netsh firewall add portopening TCP 5985 \"Port 5985\"<\/CommandLine>\n               <Description>Win RM port open<\/Description>\n               <Order>1<\/Order>\n               <RequiresUserInput>true<\/RequiresUserInput>\n            <\/SynchronousCommand>\n            \n            <SynchronousCommand wcm:action=\"add\">\n \t\t\t\t<CommandLine>%WINDIR%\\System32\\\\WindowsPowerShell\\\\v1.0\\\\PowerShell.exe -command Set-NetFirewallProfile -Profile Domain,Public,Private -Enabled False<\/CommandLine>\n             \t<Description>ADDC Deploy<\/Description>\n             \t<Order>2<\/Order>\n             <RequiresUserInput>false<\/RequiresUserInput>\n             <\/SynchronousCommand>\n             \n            <SynchronousCommand wcm:action=\"add\">\n \t\t\t\t<CommandLine>%WINDIR%\\\\System32\\\\WindowsPowerShell\\\\v1.0\\\\PowerShell.exe -command enable-psremoting<\/CommandLine>\n             \t<Description>ADDC Deploy<\/Description>\n             \t<Order>3<\/Order>\n             <RequiresUserInput>false<\/RequiresUserInput>\n             <\/SynchronousCommand>\n             \n             <SynchronousCommand wcm:action=\"add\">\n \t\t\t\t<CommandLine>%WINDIR%\\System32\\\\WindowsPowerShell\\\\v1.0\\\\PowerShell.exe -command set-executionpolicy remotesigned<\/CommandLine>\n             \t<Description>ADDC Deploy<\/Description>\n             \t<Order>4<\/Order>\n             <RequiresUserInput>false<\/RequiresUserInput>\n             <\/SynchronousCommand>\n             \n             \n             \n         <\/FirstLogonCommands>\n         <OOBE>\n            <HideEULAPage>true<\/HideEULAPage>\n            <SkipMachineOOBE>true<\/SkipMachineOOBE>\n         <\/OOBE>\n      <\/component>\n      <component xmlns:wcm=\"http:\/\/schemas.microsoft.com\/WMIConfig\/2002\/State\" xmlns:xsi=\"http:\/\/www.w3.org\/2001\/XMLSchema-instance\" name=\"Microsoft-Windows-International-Core\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\">\n         <InputLocale>fr-FR<\/InputLocale>\n         <SystemLocale>fr-FR<\/SystemLocale>\n         <UILanguageFallback>en-us<\/UILanguageFallback>\n         <UILanguage>fr-FR<\/UILanguage>\n         <UserLocale>fr-FR<\/UserLocale>\n      <\/component>\n   <\/settings>\n<\/unattend>","type":""}},"power_state":"ON","type":"","account_uuid":"efc034e3-b50e-4a48-b02d-25036aeb8bd3","boot_config":{"boot_device":{"type":"","disk_address":{"adapter_type":"SCSI","device_index":0,"type":""}},"type":"","mac_address":""},"disk_list":[{"data_source_reference":{"kind":"image","name":"Win2k12r2_Sysprep.qcow2","uuid":"4df886ca-c671-4025-ae29-406c562bd5d0"},"type":"","disk_size_mib":0,"volume_group_reference":null,"device_properties":{"type":"","disk_address":{"adapter_type":"SCSI","device_index":0,"type":""},"device_type":"DISK"}}]},"availability_zone_reference":null,"backup_policy":null,"type":"","cluster_reference":null,"categories":""},"variable_list":[],"description":""},{"name":"RODC_VM","action_list":[],"uuid":"1d9b0dbd-cc66-4d70-bc58-555e09ebb3b0","readiness_probe":{"connection_type":"POWERSHELL","retries":"5","disable_readiness_probe":false,"address":"@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@","delay_secs":"60","connection_port":5985,"login_credential_local_reference":{"kind":"app_credential","name":"LOCAL","uuid":"1fdba0b0-e1cf-4835-b0e5-d525cb736b7f"}},"editables":{"create_spec":{"resources":{"nic_list":{},"serial_port_list":{},"disk_list":{}}}},"os_type":"Windows","type":"AHV_VM","create_spec":{"name":"AD-@@{DOMAIN_TYPE}@@-@@{calm_random}@@","resources":{"nic_list":[{"nic_type":"NORMAL_NIC","network_function_chain_reference":null,"network_function_nic_type":"INGRESS","mac_address":"","subnet_reference":{"kind":"subnet","type":"","name":"","uuid":"efc034e3-b50e-4a48-b02d-25036aeb8bd3"},"type":""}],"serial_port_list":[],"guest_tools":null,"num_vcpus_per_socket":1,"num_sockets":2,"gpu_list":[],"memory_size_mib":4096,"parent_reference":null,"hardware_clock_timezone":"","guest_customization":{"cloud_init":null,"type":"","sysprep":{"install_type":"PREPARED","unattend_xml":"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<unattend xmlns=\"urn:schemas-microsoft-com:unattend\">\n   <settings pass=\"specialize\">\n   \n      <component xmlns:wcm=\"http:\/\/schemas.microsoft.com\/WMIConfig\/2002\/State\" xmlns:xsi=\"http:\/\/www.w3.org\/2001\/XMLSchema-instance\" name=\"Microsoft-Windows-TCPIP\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\">\n         <Interfaces>\n            <Interface wcm:action=\"add\">        \n               <Identifier>Ethernet<\/Identifier>\n               <Ipv4Settings>\n                  <DhcpEnabled>true<\/DhcpEnabled>\n                  <RouterDiscoveryEnabled>true<\/RouterDiscoveryEnabled>\n                  <Metric>30<\/Metric>\n               <\/Ipv4Settings>               \n            <\/Interface>\n         <\/Interfaces>\n      <\/component>  \n      \n      <component name=\"Microsoft-Windows-DNS-Client\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\" xmlns:wcm=\"http:\/\/schemas.microsoft.com\/WMIConfig\/2002\/State\" xmlns:xsi=\"http:\/\/www.w3.org\/2001\/XMLSchema-instance\">\n            <Interfaces>\n                <Interface wcm:action=\"add\">\n                    <Identifier>Ethernet<\/Identifier>\n                    <DNSServerSearchOrder>\n                        <IpAddress wcm:action=\"add\" wcm:keyValue=\"1\">@@{DNSServer}@@<\/IpAddress>\n                    <\/DNSServerSearchOrder>\n                    <EnableAdapterDomainNameRegistration>true<\/EnableAdapterDomainNameRegistration>\n                     <DisableDynamicUpdate>false<\/DisableDynamicUpdate>\n                <\/Interface>\n            <\/Interfaces>\n        <\/component>\n      \n      <component xmlns=\"\" name=\"Microsoft-Windows-TerminalServices-LocalSessionManager\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\" processorArchitecture=\"amd64\">\n         <fDenyTSConnections>false<\/fDenyTSConnections>\n      <\/component>\n      <component xmlns=\"\" name=\"Microsoft-Windows-TerminalServices-RDP-WinStationExtensions\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\" processorArchitecture=\"amd64\">\n         <UserAuthentication>0<\/UserAuthentication>\n      <\/component>\n      <component xmlns:wcm=\"http:\/\/schemas.microsoft.com\/WMIConfig\/2002\/State\" xmlns:xsi=\"http:\/\/www.w3.org\/2001\/XMLSchema-instance\" name=\"Networking-MPSSVC-Svc\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\">\n         <FirewallGroups>\n            <FirewallGroup wcm:action=\"add\" wcm:keyValue=\"RemoteDesktop\">\n               <Active>true<\/Active>\n               <Profile>all<\/Profile>\n               <Group>@FirewallAPI.dll,-28752<\/Group>\n            <\/FirewallGroup>\n         <\/FirewallGroups>\n      <\/component>\n   <\/settings>\n   <settings pass=\"oobeSystem\">\n      <component xmlns:wcm=\"http:\/\/schemas.microsoft.com\/WMIConfig\/2002\/State\" xmlns:xsi=\"http:\/\/www.w3.org\/2001\/XMLSchema-instance\" name=\"Microsoft-Windows-Shell-Setup\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\">\n         <UserAccounts>\n            <AdministratorPassword>\n               <Value>@@{LOCAL.secret}@@<\/Value>\n               <PlainText>true<\/PlainText>\n            <\/AdministratorPassword>\n         <\/UserAccounts>\n         <AutoLogon>\n            <Password>\n               <Value>@@{LOCAL.secret}@@<\/Value>\n               <PlainText>true<\/PlainText>\n            <\/Password>\n            <Enabled>true<\/Enabled>\n            <Username>@@{LOCAL.username}@@<\/Username>\n         <\/AutoLogon>\n         <FirstLogonCommands>\n         \n            <SynchronousCommand wcm:action=\"add\">\n               <CommandLine>cmd.exe \/c netsh firewall add portopening TCP 5985 \"Port 5985\"<\/CommandLine>\n               <Description>Win RM port open<\/Description>\n               <Order>1<\/Order>\n               <RequiresUserInput>true<\/RequiresUserInput>\n            <\/SynchronousCommand>\n            \n            <SynchronousCommand wcm:action=\"add\">\n \t\t\t\t<CommandLine>%WINDIR%\\System32\\\\WindowsPowerShell\\\\v1.0\\\\PowerShell.exe -command Set-NetFirewallProfile -Profile Domain,Public,Private -Enabled False<\/CommandLine>\n             \t<Description>ADDC Deploy<\/Description>\n             \t<Order>2<\/Order>\n             <RequiresUserInput>false<\/RequiresUserInput>\n             <\/SynchronousCommand>\n             \n            <SynchronousCommand wcm:action=\"add\">\n \t\t\t\t<CommandLine>%WINDIR%\\\\System32\\\\WindowsPowerShell\\\\v1.0\\\\PowerShell.exe -command enable-psremoting<\/CommandLine>\n             \t<Description>ADDC Deploy<\/Description>\n             \t<Order>3<\/Order>\n             <RequiresUserInput>false<\/RequiresUserInput>\n             <\/SynchronousCommand>\n             \n             <SynchronousCommand wcm:action=\"add\">\n \t\t\t\t<CommandLine>%WINDIR%\\System32\\\\WindowsPowerShell\\\\v1.0\\\\PowerShell.exe -command set-executionpolicy remotesigned<\/CommandLine>\n             \t<Description>ADDC Deploy<\/Description>\n             \t<Order>4<\/Order>\n             <RequiresUserInput>false<\/RequiresUserInput>\n             <\/SynchronousCommand>\n             \n             \n             \n         <\/FirstLogonCommands>\n         <OOBE>\n            <HideEULAPage>true<\/HideEULAPage>\n            <SkipMachineOOBE>true<\/SkipMachineOOBE>\n         <\/OOBE>\n      <\/component>\n      <component xmlns:wcm=\"http:\/\/schemas.microsoft.com\/WMIConfig\/2002\/State\" xmlns:xsi=\"http:\/\/www.w3.org\/2001\/XMLSchema-instance\" name=\"Microsoft-Windows-International-Core\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\">\n         <InputLocale>fr-FR<\/InputLocale>\n         <SystemLocale>fr-FR<\/SystemLocale>\n         <UILanguageFallback>en-us<\/UILanguageFallback>\n         <UILanguage>fr-FR<\/UILanguage>\n         <UserLocale>fr-FR<\/UserLocale>\n      <\/component>\n   <\/settings>\n<\/unattend>","type":""}},"power_state":"ON","type":"","account_uuid":"efc034e3-b50e-4a48-b02d-25036aeb8bd3","boot_config":{"boot_device":{"type":"","disk_address":{"type":"","device_index":0,"adapter_type":"SCSI"}},"type":"","mac_address":""},"disk_list":[{"data_source_reference":{"kind":"image","name":"Win2k12r2_Sysprep.qcow2","uuid":"4df886ca-c671-4025-ae29-406c562bd5d0"},"type":"","disk_size_mib":0,"volume_group_reference":null,"device_properties":{"type":"","disk_address":{"type":"","device_index":0,"adapter_type":"SCSI"},"device_type":"DISK"}}]},"availability_zone_reference":null,"backup_policy":null,"type":"","cluster_reference":null,"categories":""},"variable_list":[],"description":""},{"name":"SQLServer_VM","action_list":[],"uuid":"c8891d1c-30b4-40ca-87b8-e096bd079c9c","readiness_probe":{"connection_type":"POWERSHELL","retries":"5","disable_readiness_probe":false,"address":"@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@","delay_secs":"60","connection_port":5985,"login_credential_local_reference":{"kind":"app_credential","name":"LOCAL","uuid":"1fdba0b0-e1cf-4835-b0e5-d525cb736b7f"}},"editables":{"create_spec":{"resources":{"nic_list":{},"serial_port_list":{},"disk_list":{}}}},"os_type":"Windows","type":"AHV_VM","create_spec":{"name":"SQLServer-@@{calm_random}@@","resources":{"nic_list":[{"nic_type":"NORMAL_NIC","network_function_chain_reference":null,"network_function_nic_type":"INGRESS","mac_address":"","subnet_reference":{"kind":"subnet","type":"","name":"","uuid":"efc034e3-b50e-4a48-b02d-25036aeb8bd3"},"type":""}],"serial_port_list":[],"guest_tools":null,"num_vcpus_per_socket":1,"num_sockets":2,"gpu_list":[],"memory_size_mib":4096,"parent_reference":null,"hardware_clock_timezone":"","guest_customization":{"cloud_init":null,"type":"","sysprep":{"install_type":"PREPARED","unattend_xml":"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<unattend xmlns=\"urn:schemas-microsoft-com:unattend\">\n   <settings pass=\"specialize\">\n\n      <component xmlns:wcm=\"http:\/\/schemas.microsoft.com\/WMIConfig\/2002\/State\" xmlns:xsi=\"http:\/\/www.w3.org\/2001\/XMLSchema-instance\" name=\"Microsoft-Windows-TCPIP\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\">\n         <Interfaces>\n            <Interface wcm:action=\"add\">        \n               <Identifier>Ethernet<\/Identifier>\n               <Ipv4Settings>\n                  <DhcpEnabled>true<\/DhcpEnabled>\n                  <RouterDiscoveryEnabled>true<\/RouterDiscoveryEnabled>\n                  <Metric>30<\/Metric>\n               <\/Ipv4Settings>               \n               \n            <\/Interface>\n         <\/Interfaces>\n      <\/component>\n      <component name=\"Microsoft-Windows-DNS-Client\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\" xmlns:wcm=\"http:\/\/schemas.microsoft.com\/WMIConfig\/2002\/State\" xmlns:xsi=\"http:\/\/www.w3.org\/2001\/XMLSchema-instance\">\n            <Interfaces>\n                <Interface wcm:action=\"add\">\n                    <Identifier>Ethernet<\/Identifier>\n                    <DNSServerSearchOrder>\n                        <IpAddress wcm:action=\"add\" wcm:keyValue=\"1\">@@{DNSServer}@@<\/IpAddress>\n                    <\/DNSServerSearchOrder>\n                    <EnableAdapterDomainNameRegistration>true<\/EnableAdapterDomainNameRegistration>\n                     <DisableDynamicUpdate>false<\/DisableDynamicUpdate>\n                <\/Interface>\n            <\/Interfaces>\n        <\/component>\n        \n      <component xmlns=\"\" name=\"Microsoft-Windows-TerminalServices-LocalSessionManager\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\" processorArchitecture=\"amd64\">\n         <fDenyTSConnections>false<\/fDenyTSConnections>\n      <\/component>\n      <component xmlns=\"\" name=\"Microsoft-Windows-TerminalServices-RDP-WinStationExtensions\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\" processorArchitecture=\"amd64\">\n         <UserAuthentication>0<\/UserAuthentication>\n      <\/component>\n      <component xmlns:wcm=\"http:\/\/schemas.microsoft.com\/WMIConfig\/2002\/State\" xmlns:xsi=\"http:\/\/www.w3.org\/2001\/XMLSchema-instance\" name=\"Networking-MPSSVC-Svc\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\">\n         <FirewallGroups>\n            <FirewallGroup wcm:action=\"add\" wcm:keyValue=\"RemoteDesktop\">\n               <Active>true<\/Active>\n               <Profile>all<\/Profile>\n               <Group>@FirewallAPI.dll,-28752<\/Group>\n            <\/FirewallGroup>\n         <\/FirewallGroups>\n      <\/component>\n   <\/settings>\n   <settings pass=\"oobeSystem\">\n      <component xmlns:wcm=\"http:\/\/schemas.microsoft.com\/WMIConfig\/2002\/State\" xmlns:xsi=\"http:\/\/www.w3.org\/2001\/XMLSchema-instance\" name=\"Microsoft-Windows-Shell-Setup\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\">\n         <UserAccounts>\n            <AdministratorPassword>\n               <Value>@@{LOCAL.secret}@@<\/Value>\n               <PlainText>true<\/PlainText>\n            <\/AdministratorPassword>\n         <\/UserAccounts>\n         <AutoLogon>\n            <Password>\n               <Value>@@{LOCAL.secret}@@<\/Value>\n               <PlainText>true<\/PlainText>\n            <\/Password>\n            <Enabled>true<\/Enabled>\n            <Username>@@{LOCAL.username}@@<\/Username>\n         <\/AutoLogon>\n         <FirstLogonCommands>\n         \n            <SynchronousCommand wcm:action=\"add\">\n               <CommandLine>cmd.exe \/c netsh firewall add portopening TCP 5985 \"Port 5985\"<\/CommandLine>\n               <Description>Win RM port open<\/Description>\n               <Order>1<\/Order>\n               <RequiresUserInput>true<\/RequiresUserInput>\n            <\/SynchronousCommand>\n            \n            <SynchronousCommand wcm:action=\"add\">\n \t\t\t\t<CommandLine>%WINDIR%\\System32\\\\WindowsPowerShell\\\\v1.0\\\\PowerShell.exe -command Set-NetFirewallProfile -Profile Domain,Public,Private -Enabled False<\/CommandLine>\n             \t<Description>ADDC Deploy<\/Description>\n             \t<Order>2<\/Order>\n             <RequiresUserInput>false<\/RequiresUserInput>\n             <\/SynchronousCommand>\n             \n            <SynchronousCommand wcm:action=\"add\">\n \t\t\t\t<CommandLine>%WINDIR%\\\\System32\\\\WindowsPowerShell\\\\v1.0\\\\PowerShell.exe -command enable-psremoting<\/CommandLine>\n             \t<Description>ADDC Deploy<\/Description>\n             \t<Order>3<\/Order>\n             <RequiresUserInput>false<\/RequiresUserInput>\n             <\/SynchronousCommand>\n             \n             <SynchronousCommand wcm:action=\"add\">\n \t\t\t\t<CommandLine>%WINDIR%\\System32\\\\WindowsPowerShell\\\\v1.0\\\\PowerShell.exe -command set-executionpolicy remotesigned<\/CommandLine>\n             \t<Description>ADDC Deploy<\/Description>\n             \t<Order>4<\/Order>\n             <RequiresUserInput>false<\/RequiresUserInput>\n             <\/SynchronousCommand>\n             \n             \n             \n         <\/FirstLogonCommands>\n         <OOBE>\n            <HideEULAPage>true<\/HideEULAPage>\n            <SkipMachineOOBE>true<\/SkipMachineOOBE>\n         <\/OOBE>\n      <\/component>\n      <component xmlns:wcm=\"http:\/\/schemas.microsoft.com\/WMIConfig\/2002\/State\" xmlns:xsi=\"http:\/\/www.w3.org\/2001\/XMLSchema-instance\" name=\"Microsoft-Windows-International-Core\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\">\n         <InputLocale>fr-FR<\/InputLocale>\n         <SystemLocale>fr-FR<\/SystemLocale>\n         <UILanguageFallback>en-us<\/UILanguageFallback>\n         <UILanguage>fr-FR<\/UILanguage>\n         <UserLocale>fr-FR<\/UserLocale>\n      <\/component>\n   <\/settings>\n<\/unattend>","type":""}},"power_state":"ON","type":"","account_uuid":"efc034e3-b50e-4a48-b02d-25036aeb8bd3","boot_config":{"boot_device":{"type":"","disk_address":{"type":"","device_index":0,"adapter_type":"SCSI"}},"type":"","mac_address":""},"disk_list":[{"data_source_reference":{"kind":"image","name":"Win2k12r2_Sysprep.qcow2","uuid":"4df886ca-c671-4025-ae29-406c562bd5d0"},"type":"","disk_size_mib":0,"volume_group_reference":null,"device_properties":{"type":"","disk_address":{"type":"","device_index":0,"adapter_type":"SCSI"},"device_type":"DISK"}},{"data_source_reference":{"kind":"image","name":"SQLServer2014SP2-FullSlipstream-x64-ENU","uuid":"ae7b7652-bddf-41b2-8920-fa3d5bd0be9a"},"type":"","disk_size_mib":0,"volume_group_reference":null,"device_properties":{"type":"","disk_address":{"type":"","device_index":1,"adapter_type":"IDE"},"device_type":"CDROM"}}]},"availability_zone_reference":null,"backup_policy":null,"type":"","cluster_reference":null,"categories":""},"variable_list":[],"description":""}],"credential_definition_list":[{"username":"administrator@contoso.com","uuid":"7958c1cb-7109-4f89-8446-47fd7527512c","name":"DOMAIN_CRED","secret":{"attrs":{"is_secret_modified":false,"secret_reference":{"uuid":"4fd6e86c-cac2-4f45-a894-1258eae1e764"}}},"type":"PASSWORD","description":""},{"username":"administrator","uuid":"1fdba0b0-e1cf-4835-b0e5-d525cb736b7f","name":"LOCAL","secret":{"attrs":{"is_secret_modified":false,"secret_reference":{"uuid":"46660996-b30e-416d-87a9-ef2b5c633d2e"}}},"type":"PASSWORD","description":""}],"type":"USER","app_profile_list":[{"deployment_create_list":[{"name":"be8bfd7f_deployment","action_list":[],"package_local_reference_list":[{"kind":"app_package","name":"RODC_Package","uuid":"570a5408-8999-4ea2-8fcb-bbdba09ae389"}],"description":"","published_service_local_reference_list":[],"min_replicas":"1","depends_on_list":[],"max_replicas":"1","substrate_local_reference":{"kind":"app_substrate","name":"RODC_VM","uuid":"1d9b0dbd-cc66-4d70-bc58-555e09ebb3b0"},"type":"GREENFIELD","variable_list":[],"uuid":"349219a8-fb21-44cc-9c51-8abec1d4c5c6"},{"name":"be8bfd7f_deployment_cloned_1","action_list":[],"package_local_reference_list":[{"kind":"app_package","name":"FileServer_Package","uuid":"9a25af6d-2e7c-4834-9062-5f870b01cd5c"}],"description":"","published_service_local_reference_list":[],"min_replicas":"1","depends_on_list":[],"max_replicas":"1","substrate_local_reference":{"kind":"app_substrate","name":"FileServer_VM","uuid":"408f49ff-44c2-40f2-a700-4339864af66c"},"type":"GREENFIELD","variable_list":[],"uuid":"0c3fb32c-a1d7-4352-840d-cc7d2edcb83d"},{"name":"be8bfd7f_deployment_cloned_1_cloned_1","action_list":[],"package_local_reference_list":[{"kind":"app_package","name":"SQLServer_Personnalisation","uuid":"46aff282-3d8b-4438-ab11-51cf246b6d4f"}],"description":"","published_service_local_reference_list":[],"min_replicas":"1","depends_on_list":[],"max_replicas":"1","substrate_local_reference":{"kind":"app_substrate","name":"SQLServer_VM","uuid":"c8891d1c-30b4-40ca-87b8-e096bd079c9c"},"type":"GREENFIELD","variable_list":[],"uuid":"e7b94a22-d028-4fee-b2ff-dda1d6e38440"}],"description":"","action_list":[{"description":"","name":"ReinitBDD","critical":false,"runbook":{"task_definition_list":[{"retries":"0","description":"","uuid":"ea6007ef-a41e-496d-8123-0941f0bf6e13","child_tasks_local_reference_list":[{"kind":"app_task","name":"RestaurationBDD","uuid":"c9fa5f8f-ddfd-4876-a6be-84f12ea600bb"}],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"82263ac5_dag"},{"target_any_local_reference":{"kind":"app_service","uuid":"2f21ee10-b6af-42b5-ba7c-706f5b58ca6a","name":"SQLServer"},"retries":"0","description":"","uuid":"c9fa5f8f-ddfd-4876-a6be-84f12ea600bb","child_tasks_local_reference_list":[],"attrs":{"exit_status":[],"script":"Restore-SqlDatabase -ServerInstance \"SQLServer\\\" -Database \"DEMO\" -BackupFile \"\\\\DC1\\partage\\BDD\\DEMO.bak\"\nexit(1)","script_type":"npsscript","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"DOMAIN_CRED","uuid":"7958c1cb-7109-4f89-8446-47fd7527512c"}},"timeout_secs":"0","type":"EXEC","variable_list":[],"name":"RestaurationBDD"}],"description":"","uuid":"c1602541-e99d-4e59-9727-4a21566b1943","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"82263ac5_dag","uuid":"ea6007ef-a41e-496d-8123-0941f0bf6e13"},"name":"d5b36229_runbook"},"type":"user","uuid":"cd43f621-0d95-4626-903d-718baad0fbf9"}],"name":"Default","variable_list":[{"val_type":"STRING","description":"","uuid":"9c7f26a9-fd79-4feb-a5e7-5d127766a264","value":"10.46.6.5","label":"","type":"LOCAL","name":"DNSServer"},{"val_type":"STRING","name":"DOMAIN","uuid":"e5b3f4c1-c11f-44f5-94d0-077d7b0f6220","value":"contoso.com","label":"","editables":{"value":true},"type":"LOCAL","description":""},{"val_type":"STRING","name":"DOMAIN_TYPE","uuid":"c993c5d7-981b-4e40-99d4-394cb7d3d71c","value":"RODC","label":"","editables":{"value":true},"type":"LOCAL","description":""},{"val_type":"STRING","description":"","uuid":"fe17a5b4-235c-410d-8ceb-c9363540c8e6","value":"On en fait un autre ???","label":"","type":"LOCAL","name":"MSO365_Teams_Message"},{"val_type":"STRING","description":"","uuid":"43ebd36f-cdc6-41dc-8be0-d815c4c9bb9a","value":"Deploiement termine","label":"","type":"LOCAL","name":"MSO365_Teams_Title"},{"val_type":"STRING","description":"","uuid":"3cee257e-657a-4ea2-b9ed-fcbe66e40df2","value":"https:\/\/outlook.office.com\/webhook\/4117132b-9424-40c7-a67a-547478c993c1@f82dcf67-d8b9-429f-a265-0b7a306e57e7\/IncomingWebhook\/eacfeec3457241bd8270bb476abf1cb3\/9f21995d-87ec-4dd0-91d9-149d7911c24f","label":"","type":"LOCAL","name":"O365_Teams_Connector_Url"},{"val_type":"STRING","description":"","uuid":"e089da07-f336-4b98-abe3-f52d27999dd5","value":"https:\/\/hooks.slack.com\/services\/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","label":"","type":"LOCAL","name":"SLACK_HOOK"},{"val_type":"STRING","description":"","uuid":"3f84c57e-dc74-454f-be94-d53913f8a9be","value":"","label":"","type":"LOCAL","name":"CHILD_DOMAIN"},{"val_type":"STRING","description":"","uuid":"67352596-ee12-416e-a9d9-d429b3e205b5","value":"MSSQLSERVER","label":"","type":"LOCAL","name":"SQL_INSTANCE_NAME"}],"uuid":"13a278fa-efdd-45a1-b349-5e5cb421d6ca"}],"published_service_definition_list":[],"default_credential_local_reference":{"kind":"app_credential","name":"DOMAIN_CRED","uuid":"7958c1cb-7109-4f89-8446-47fd7527512c"},"package_definition_list":[{"uuid":"9a25af6d-2e7c-4834-9062-5f870b01cd5c","action_list":[],"service_local_reference_list":[{"kind":"app_service","name":"FileServer","uuid":"a6166b9f-9131-4150-a2d9-005a3ac25938"}],"name":"FileServer_Package","version":"","type":"DEB","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"FileServer_Package","uuid":"9a25af6d-2e7c-4834-9062-5f870b01cd5c"},"retries":"0","name":"76326282_dag","type":"DAG","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"FileServer_RenameAndJoinDomain","uuid":"ea8410b8-3c18-4993-873e-e48e639ba3d4"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"1a460ace-da41-4469-a5aa-ed2a3e59e74b"},{"target_any_local_reference":{"kind":"app_service","name":"FileServer","uuid":"a6166b9f-9131-4150-a2d9-005a3ac25938"},"retries":"0","name":"FileServer_RenameAndJoinDomain","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"##############################################\n# Name        : JoinDomain.ps1\n# Author      : K Sarat Kumar\n# Version     : 1.0\n# Description : Script is used to Change hostname of machines and join to domain.\n##############################################\n$HOSTNAME = \"@@{name}@@\"\n\nfunction Set-Hostname{\n  [CmdletBinding()]\n  Param(\n      [parameter(Mandatory=$true)]\n      [string]$Hostname\n)\n  if ($Hostname -eq  $(hostname)){\n    Write-Host \"Hostname already set.\"\n  } else{\n    Rename-Computer -NewName $HOSTNAME -ErrorAction Stop\n  }\n}\n\nfunction JointoDomain {\n  [CmdletBinding()]\n  Param(\n      [parameter(Mandatory=$true)]\n      [string]$DomainName,\n      [parameter(Mandatory=$false)]\n      [string]$OU,\n      [parameter(Mandatory=$true)]\n      [string]$Username,\n      [parameter(Mandatory=$true)]\n      [string]$Password,\n      [parameter(Mandatory=$true)]\n      [string]$Server\n  )\n  $adapter = Get-NetAdapter | ? {$_.Status -eq \"up\"}\n  $adapter | Set-DnsClientServerAddress -ServerAddresses $Server\n\n  if ($env:computername  -eq $env:userdomain) {\n    Write-Host \"Not in domain\"\n    $adminname = \"$DomainName\\$Username\"\n    $adminpassword = ConvertTo-SecureString -asPlainText -Force -String \"$Password\"\n    Write-Host \"$adminname , $password\"\n    $credential = New-Object System.Management.Automation.PSCredential($adminname,$adminpassword)\n    Add-computer -DomainName $DomainName -Credential $credential -force -Options JoinWithNewName,AccountCreate -PassThru -ErrorAction Stop\n  } else {\n     Write-Host \"Already in domain\"\n  }\n}\n\nif ($HOSTNAME -ne $Null){\n  Write-Host \"Setting Hostname\"\n  Set-Hostname -Hostname $HOSTNAME\n}\n\nJointoDomain -DomainName \"@@{DOMAIN}@@\" -Username \"@@{DOMAIN_CRED.username}@@\" -Password \"@@{DOMAIN_CRED.secret}@@\" -Server \"@@{DNSServer}@@\"\n\nRestart-Computer -Force -AsJob\nexit 0\n","script_type":"npsscript","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"LOCAL","uuid":"1fdba0b0-e1cf-4835-b0e5-d525cb736b7f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"ea8410b8-3c18-4993-873e-e48e639ba3d4"}],"name":"b54300dd_runbook_cloned_1","description":"","state":"ACTIVE","variable_list":[],"message_list":[],"main_task_local_reference":{"kind":"app_task","name":"76326282_dag","uuid":"1a460ace-da41-4469-a5aa-ed2a3e59e74b"},"uuid":"51e5c4f8-d9ac-4c54-af6f-28b56db44707"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"FileServer_Package","uuid":"9a25af6d-2e7c-4834-9062-5f870b01cd5c"},"retries":"0","name":"700b3d0e_dag","type":"DAG","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"FileServer_UnjoinDoman","uuid":"a0a97d91-be8d-4903-b5d4-5d437b524ad7"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"2cbfc27e-57ae-404c-8f08-efbb4248ceeb"},{"target_any_local_reference":{"kind":"app_service","name":"FileServer","uuid":"a6166b9f-9131-4150-a2d9-005a3ac25938"},"retries":"0","name":"FileServer_UnjoinDoman","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"$adminpassword = ConvertTo-SecureString -asPlainText -Force -String \"@@{DOMAIN_CRED.secret}@@\"\nWrite-Output \"@@{DOMAIN_CRED.username}@@ , @@{DOMAIN_CRED.secret}@@\"\n$credential = New-Object System.Management.Automation.PSCredential(\"@@{DOMAIN_CRED.username}@@\", $adminpassword)\n\nRemove-Computer -UnjoinDomaincredential $credential -Force -PassThru -Verbose -Restart -WorkgroupName Workgroup","script_type":"npsscript","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"DOMAIN_CRED","uuid":"7958c1cb-7109-4f89-8446-47fd7527512c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"a0a97d91-be8d-4903-b5d4-5d437b524ad7"}],"name":"ea9792f4_runbook_cloned_1","description":"","state":"ACTIVE","variable_list":[],"message_list":[],"main_task_local_reference":{"kind":"app_task","name":"700b3d0e_dag","uuid":"2cbfc27e-57ae-404c-8f08-efbb4248ceeb"},"uuid":"0891d4b0-77fe-4072-847e-3c9b6ae9a30f"}},"variable_list":[],"description":""},{"uuid":"570a5408-8999-4ea2-8fcb-bbdba09ae389","action_list":[],"service_local_reference_list":[{"kind":"app_service","name":"RODC","uuid":"325908c4-c51c-4578-bec9-1b82603dbdab"}],"name":"RODC_Package","version":"","type":"DEB","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"RODC_Package","uuid":"570a5408-8999-4ea2-8fcb-bbdba09ae389"},"retries":"0","name":"76326282_dag","type":"DAG","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"RODC_RenameAndJoinDomain","uuid":"623b0bdb-1734-41ee-b615-0ff295162913"},{"kind":"app_task","name":"RODC_Attente1","uuid":"397ce412-00b7-455a-b1a3-3e7aa9b8390b"},{"kind":"app_task","name":"RODC_ConfigurationRoleRODC","uuid":"268945c3-71bf-485f-88a8-208b2e18b8fb"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"RODC_Attente1","uuid":"397ce412-00b7-455a-b1a3-3e7aa9b8390b"},"edge_type":"user_defined","type":"","uuid":"88b677f3-3366-4f5b-b3fa-02be9f4b3c9b","to_task_reference":{"kind":"app_task","name":"RODC_ConfigurationRoleRODC","uuid":"268945c3-71bf-485f-88a8-208b2e18b8fb"}},{"from_task_reference":{"kind":"app_task","name":"RODC_RenameAndJoinDomain","uuid":"623b0bdb-1734-41ee-b615-0ff295162913"},"edge_type":"user_defined","type":"","uuid":"f2b76bcc-f938-4fbb-a20f-fc68decdf90f","to_task_reference":{"kind":"app_task","name":"RODC_Attente1","uuid":"397ce412-00b7-455a-b1a3-3e7aa9b8390b"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"6806084c-183d-4e93-9397-c7626302759d"},{"target_any_local_reference":{"kind":"app_service","name":"RODC","uuid":"325908c4-c51c-4578-bec9-1b82603dbdab"},"retries":"0","name":"RODC_RenameAndJoinDomain","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"##############################################\n# Name        : JoinDomain.ps1\n# Author      : K Sarat Kumar\n# Version     : 1.0\n# Description : Script is used to Change hostname of machines and join to domain.\n##############################################\n$HOSTNAME = \"@@{name}@@\"\n\nfunction Set-Hostname{\n  [CmdletBinding()]\n  Param(\n      [parameter(Mandatory=$true)]\n      [string]$Hostname\n)\n  if ($Hostname -eq  $(hostname)){\n    Write-Host \"Hostname already set.\"\n  } else{\n    Rename-Computer -NewName $HOSTNAME -ErrorAction Stop\n  }\n}\n\nfunction JointoDomain {\n  [CmdletBinding()]\n  Param(\n      [parameter(Mandatory=$true)]\n      [string]$DomainName,\n      [parameter(Mandatory=$false)]\n      [string]$OU,\n      [parameter(Mandatory=$true)]\n      [string]$Username,\n      [parameter(Mandatory=$true)]\n      [string]$Password,\n      [parameter(Mandatory=$true)]\n      [string]$Server\n  )\n  $adapter = Get-NetAdapter | ? {$_.Status -eq \"up\"}\n  $adapter | Set-DnsClientServerAddress -ServerAddresses $Server\n\n  if ($env:computername  -eq $env:userdomain) {\n    Write-Host \"Not in domain\"\n    $adminname = \"$DomainName\\$Username\"\n    $adminpassword = ConvertTo-SecureString -asPlainText -Force -String \"$Password\"\n    Write-Host \"$adminname , $password\"\n    $credential = New-Object System.Management.Automation.PSCredential($adminname,$adminpassword)\n    Add-computer -DomainName $DomainName -Credential $credential -force -Options JoinWithNewName,AccountCreate -PassThru -ErrorAction Stop\n  } else {\n     Write-Host \"Already in domain\"\n  }\n}\n\nif ($HOSTNAME -ne $Null){\n  Write-Host \"Setting Hostname\"\n  Set-Hostname -Hostname $HOSTNAME\n}\n\nJointoDomain -DomainName \"@@{DOMAIN}@@\" -Username \"@@{DOMAIN_CRED.username}@@\" -Password \"@@{DOMAIN_CRED.secret}@@\" -Server \"@@{DNSServer}@@\"\n\nRestart-Computer -Force -AsJob\nexit 0","script_type":"npsscript","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"LOCAL","uuid":"1fdba0b0-e1cf-4835-b0e5-d525cb736b7f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"623b0bdb-1734-41ee-b615-0ff295162913"},{"target_any_local_reference":{"kind":"app_service","name":"RODC","uuid":"325908c4-c51c-4578-bec9-1b82603dbdab"},"retries":"0","name":"RODC_Attente1","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script":"#script\nsleep(90)","type":"","command_line_args":"","exit_status":[],"script_type":"static"},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"397ce412-00b7-455a-b1a3-3e7aa9b8390b"},{"target_any_local_reference":{"kind":"app_service","name":"RODC","uuid":"325908c4-c51c-4578-bec9-1b82603dbdab"},"retries":"0","name":"RODC_ConfigurationRoleRODC","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"##############################################\n# Name        : ActiveDirectoryBundle.ps1\n# Author      : K Sarath Kumar\n# Version     : 1.0\n# Description : Installs and configures domain controller features AD, CDC, ADC & RODC.\n##############################################\n\n$WS2008R2_MAJOR                 = '6.1'\n$WS2012_MAJOR                   = '6.2'\n$WS2012R2_MAJOR                 = '6.3'\n$WS2016_MAJOR                   = '10.0'\n\n# -*- Checks AD Domain services Installation\nfunction Check-ActiveDirectoryFeature {\n   return $(Get-WindowsFeature AD-Domain-Services -ErrorAction SilentlyContinue).Installed\n}\n# -*- Installs AD Domain services\nfunction Install-ActiveDirectory {\n  Write-Output \"Installing AD Features.\"\n  Install-WindowsFeature -Name AD-Domain-Services -IncludeManagementTools\n}\n# -*- Checks the pre existance of domain\nfunction Check-DomainExistance {\n  #if (Get-ADDomainController -Discover -ErrorAction SilentlyContinue){\n  if (\"$((wmic ComputerSystem get DomainRole)[2])\".trim() -eq \"5\"){\n   return $true\n  } else{\n    return $false\n  }\n}\n\n# -*- Configures AD Domain service\nfunction Configure-ActiveDirectory {\n  [CmdletBinding()]\n  Param(\n      [parameter(Mandatory=$true)]\n      [string]$DomainName,\n      [parameter(Mandatory=$true)]\n      [string]$Password,\n      [parameter(Mandatory=$false)]\n      [string]$DatabasePath=\"C:\\Windows\\NTDS\",\n      [parameter(Mandatory=$true)]\n      [string]$DomainMode,\n      [parameter(Mandatory=$true)]\n      [string]$ForestMode,\n      [parameter(Mandatory=$false)]\n      [string]$LogPath=\"C:\\Windows\\NTDS\",\n      [parameter(Mandatory=$false)]\n      [string]$SysvolPath=\"C:\\Windows\\SYSVOL\",\n      [parameter(Mandatory=$true)]\n      [string]$DomainType,\n      [parameter(Mandatory=$false)]\n      [string]$ChildDomainName\n  )\n  Write-Output \"Import-Module ADDSDeployment\"\n  Import-Module ADDSDeployment\n\n  $secpasswd = ConvertTo-SecureString $Password -AsPlainText -Force\n  $credential = New-Object System.Management.Automation.PSCredential(\"$DomainName\\calm\",$secpasswd)\n  $netbios = $DomainName.Split(\".\")[0].ToUpper()\n  Write-Output \"Configuring Domain services.\"\n  switch ($DomainType){\n    \"DC\"{\n    \tWrite-Output \"01 Install DC Role\"\n      Install-ADDSForest -CreateDnsDelegation:$false -DatabasePath $DatabasePath -DomainMode $DomainMode -DomainName $DomainName -DomainNetbiosName $netbios -ForestMode $ForestMode -InstallDns:$true -LogPath $LogPath -NoRebootOnCompletion:$true -SysvolPath $SysvolPath -Force:$true -SafeModeAdministratorPassword $secpasswd\n    }\n    \"ADC\"{\n    \tWrite-Output \"01 Install ADC Role\"\n      Install-ADDSDomainController -NoGlobalCatalog:$false -CreateDnsDelegation:$false -CriticalReplicationOnly:$false -DatabasePath $DatabasePath -DomainName $DomainName -InstallDns:$true -LogPath $LogPath -NoRebootOnCompletion:$true -SiteName \"Default-First-Site-Name\" -SysvolPath $SysvolPath -Force:$true -SafeModeAdministratorPassword $secpasswd -Credential $credential\n    }\n    \"CDC\"{\n    \tWrite-Output \"01 Install CDC Role\"\n      Install-ADDSDomain -NoGlobalCatalog:$false -CreateDnsDelegation:$true -DatabasePath $DatabasePath -DomainMode $DomainMode -DomainType \"ChildDomain\" -InstallDns:$true -LogPath $LogPath -NewDomainName $ChildDomainName -NewDomainNetbiosName $ChildDomainName.ToUpper() -ParentDomainName $DomainName -NoRebootOnCompletion:$true -SiteName \"Default-First-Site-Name\" -SysvolPath $SysvolPath -Force:$true -SafeModeAdministratorPassword $secpasswd -Credential $credential\n    }\n    \"RODC\"{\n      Write-Output \"01 Install RODC Role\"\n      $SafeModePassword = ConvertTo-SecureString Nutanix\/4u -AsPlainText -Force\n      Write-Output \"01 Install RODC Role - Test\"\n      Test-ADDSDomainControllerInstallation -Credential $credential -SafeModeAdministratorPassword $SafeModePassword -DomainName a56.demo\n      Write-Output \"01 Install RODC Role - Install\"\n      Install-ADDSDomainController -AllowPasswordReplicationAccountName @(\"$netbios\\Groupe de r\u00e9plication dont le mot de passe RODC est autoris\u00e9\") -NoGlobalCatalog:$false -CriticalReplicationOnly:$false -DatabasePath $DatabasePath -DenyPasswordReplicationAccountName @(\"BUILTIN\\Administrateurs\", \"BUILTIN\\Op\u00e9rateurs de serveur\", \"BUILTIN\\Op\u00e9rateurs de sauvegarde\", \"BUILTIN\\Op\u00e9rateurs de compte\", \"$netbios\\Groupe de r\u00e9plication dont le mot de passe RODC est refus\u00e9\") -DomainName $DomainName -InstallDns:$true -LogPath $LogPath -NoRebootOnCompletion:$true -ReadOnlyReplica:$true -SiteName \"Default-First-Site-Name\" -SysvolPath $SysvolPath -Force:$true -SafeModeAdministratorPassword $secpasswd -Credential $credential\n    }\n    default{\n      Write-Output \"01 Invalid DomainType\"\n    }\n}\n}\n# -*- Cheking Exitance of Active directory Feature.\nif (Check-ActiveDirectoryFeature){\n  Write-Output \"Active Directory already installed.\"\n} else{\n  Install-ActiveDirectory\n}\n\nif (Check-DomainExistance){\n  Write-Output \"Domain exists already.\"\n} else{\n  $MajorOSVersion= [string](Get-WmiObject Win32_OperatingSystem | Select-Object @{n=\"Major\";e={($_.Version.Split(\".\")[0]+\".\"+$_.Version.Split(\".\")[1])}}).Major\n  Write-Output \"Domain doesn't exist\"\n  Write-Output \"OS Detected version : $MajorOSVersion\"\n  if ($MajorOSVersion -eq $WS2012R2_MAJOR){\n    $DomainMode = \"Win2012R2\"\n  } elseif ($MajorOSVersion -eq $WS2016_MAJOR){\n    $DomainMode = \"WinThreshold\"\n  }\n  Write-Output \"Domain mode : $DomainMode\"\n  Configure-ActiveDirectory -DomainName \"@@{DOMAIN}@@\" -Password \"@@{DOMAIN_CRED.secret}@@\" -DomainMode $DomainMode -ForestMode $DomainMode -DomainType \"@@{DOMAIN_TYPE}@@\" -ChildDomainName \"@@{CHILD_DOMAIN}@@\"\n}\nStart-Sleep -Seconds 5\n\necho $Error\n\nRestart-Computer -Force -AsJob\nexit 0","script_type":"npsscript","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"DOMAIN_CRED","uuid":"7958c1cb-7109-4f89-8446-47fd7527512c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"268945c3-71bf-485f-88a8-208b2e18b8fb"}],"name":"b54300dd_runbook","description":"","state":"ACTIVE","variable_list":[],"message_list":[],"main_task_local_reference":{"kind":"app_task","name":"76326282_dag","uuid":"6806084c-183d-4e93-9397-c7626302759d"},"uuid":"1c9e4949-e0ee-4e7c-8f2b-4905fec99f78"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"RODC_Package","uuid":"570a5408-8999-4ea2-8fcb-bbdba09ae389"},"retries":"0","name":"700b3d0e_dag","type":"DAG","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"RODC_Unistall_AD_Services","uuid":"98b47d00-8913-4e6d-9621-54df29706f6d"},{"kind":"app_task","name":"RODC_UnjoinDomain","uuid":"9358929d-5a7a-4d69-8cc5-d4599da69bb1"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"RODC_Unistall_AD_Services","uuid":"98b47d00-8913-4e6d-9621-54df29706f6d"},"edge_type":"user_defined","type":"","uuid":"67f674e5-f249-406b-88f6-333ed0fc0063","to_task_reference":{"kind":"app_task","name":"RODC_UnjoinDomain","uuid":"9358929d-5a7a-4d69-8cc5-d4599da69bb1"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"a08f982a-aa25-411c-abf5-3ea1b1f613ac"},{"target_any_local_reference":{"kind":"app_service","name":"RODC","uuid":"325908c4-c51c-4578-bec9-1b82603dbdab"},"retries":"0","name":"RODC_Unistall_AD_Services","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"$adminpassword = ConvertTo-SecureString -asPlainText -Force -String \"@@{DOMAIN_CRED.secret}@@\"\nWrite-Output \"@@{DOMAIN_CRED.username}@@ , @@{DOMAIN_CRED.secret}@@\"\n$credential = New-Object System.Management.Automation.PSCredential(\"@@{DOMAIN_CRED.username}@@\", $adminpassword)\n\nUninstall-ADDSDomainController -Credential $credential -DemoteOperationMasterRole -NoRebootOnCompletion -Force -ForceRemoval -LocalAdministratorPassword $adminpassword","script_type":"npsscript","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"DOMAIN_CRED","uuid":"7958c1cb-7109-4f89-8446-47fd7527512c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"98b47d00-8913-4e6d-9621-54df29706f6d"},{"target_any_local_reference":{"kind":"app_service","name":"RODC","uuid":"325908c4-c51c-4578-bec9-1b82603dbdab"},"retries":"0","name":"RODC_UnjoinDomain","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"$adminpassword = ConvertTo-SecureString -asPlainText -Force -String \"@@{DOMAIN_CRED.secret}@@\"\nWrite-Output \"@@{DOMAIN_CRED.username}@@ , @@{DOMAIN_CRED.secret}@@\"\n$credential = New-Object System.Management.Automation.PSCredential(\"@@{DOMAIN_CRED.username}@@\", $adminpassword)\n\nRemove-Computer -UnjoinDomaincredential $credential -Force -PassThru -Verbose -Restart -WorkgroupName Workgroup\n\nRestart-Computer -Force -AsJob","script_type":"npsscript","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"DOMAIN_CRED","uuid":"7958c1cb-7109-4f89-8446-47fd7527512c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"9358929d-5a7a-4d69-8cc5-d4599da69bb1"}],"name":"ea9792f4_runbook","description":"","state":"ACTIVE","variable_list":[],"message_list":[],"main_task_local_reference":{"kind":"app_task","name":"700b3d0e_dag","uuid":"a08f982a-aa25-411c-abf5-3ea1b1f613ac"},"uuid":"db3d010e-b2f2-4f84-b479-84b78aa83bbb"}},"variable_list":[],"description":""},{"uuid":"46aff282-3d8b-4438-ab11-51cf246b6d4f","action_list":[],"service_local_reference_list":[{"kind":"app_service","name":"SQLServer","uuid":"2f21ee10-b6af-42b5-ba7c-706f5b58ca6a"}],"name":"SQLServer_Personnalisation","version":"","type":"DEB","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"SQLServer_Personnalisation","uuid":"46aff282-3d8b-4438-ab11-51cf246b6d4f"},"retries":"0","name":"76326282_dag","type":"DAG","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"SQLServer_DisableUAC","uuid":"cb53197c-9d41-4041-a9b5-4234980a7c38"},{"kind":"app_task","name":"SQLServer_RenameAndJoinDomain","uuid":"290fc0f2-eccc-4c52-bf73-8c45ef33b7f4"},{"kind":"app_task","name":"SQLServer_Attente1","uuid":"072015db-8e27-463d-a065-77a53d9956ff"},{"kind":"app_task","name":"SQLServer_DesactivationFirewall","uuid":"468999c3-653e-4430-9732-451bd22a7b9f"},{"kind":"app_task","name":"SQLServer2016_InstallationBinaires","uuid":"5e3d9957-a3a1-48dc-b401-c0b75f195bff"},{"kind":"app_task","name":"SQLServer_ImportBDD","uuid":"d38b26df-bf8a-4f0a-8a62-071615f88580"},{"kind":"app_task","name":"Message_Slack","uuid":"76507492-ef0f-4164-9479-80e273066da0"},{"kind":"app_task","name":"Message_Teams","uuid":"92fcdba7-2c3c-46af-ad82-da68f1c6faa7"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SQLServer_Attente1","uuid":"072015db-8e27-463d-a065-77a53d9956ff"},"edge_type":"user_defined","type":"","uuid":"cf81ad1f-7eb1-46f3-ae65-9170bfe71b8d","to_task_reference":{"kind":"app_task","name":"SQLServer_DesactivationFirewall","uuid":"468999c3-653e-4430-9732-451bd22a7b9f"}},{"from_task_reference":{"kind":"app_task","name":"SQLServer_DesactivationFirewall","uuid":"468999c3-653e-4430-9732-451bd22a7b9f"},"edge_type":"user_defined","type":"","uuid":"9d02b7fa-416b-4428-879e-2e75711c480e","to_task_reference":{"kind":"app_task","name":"SQLServer2016_InstallationBinaires","uuid":"5e3d9957-a3a1-48dc-b401-c0b75f195bff"}},{"from_task_reference":{"kind":"app_task","name":"SQLServer_DisableUAC","uuid":"cb53197c-9d41-4041-a9b5-4234980a7c38"},"edge_type":"user_defined","type":"","uuid":"3d5f471d-6d3b-40ba-b272-2d4669082936","to_task_reference":{"kind":"app_task","name":"SQLServer_RenameAndJoinDomain","uuid":"290fc0f2-eccc-4c52-bf73-8c45ef33b7f4"}},{"from_task_reference":{"kind":"app_task","name":"SQLServer_ImportBDD","uuid":"d38b26df-bf8a-4f0a-8a62-071615f88580"},"edge_type":"user_defined","type":"","uuid":"81c7ca5b-451c-471b-8761-a689521a584c","to_task_reference":{"kind":"app_task","name":"Message_Slack","uuid":"76507492-ef0f-4164-9479-80e273066da0"}},{"from_task_reference":{"kind":"app_task","name":"SQLServer_ImportBDD","uuid":"d38b26df-bf8a-4f0a-8a62-071615f88580"},"edge_type":"user_defined","type":"","uuid":"afb75cd1-9eed-42f7-9875-a598b888b819","to_task_reference":{"kind":"app_task","name":"Message_Teams","uuid":"92fcdba7-2c3c-46af-ad82-da68f1c6faa7"}},{"from_task_reference":{"kind":"app_task","name":"SQLServer2016_InstallationBinaires","uuid":"5e3d9957-a3a1-48dc-b401-c0b75f195bff"},"edge_type":"user_defined","type":"","uuid":"5da32011-398c-4310-a7b1-f4e2f95f3145","to_task_reference":{"kind":"app_task","name":"SQLServer_ImportBDD","uuid":"d38b26df-bf8a-4f0a-8a62-071615f88580"}},{"from_task_reference":{"kind":"app_task","name":"SQLServer_RenameAndJoinDomain","uuid":"290fc0f2-eccc-4c52-bf73-8c45ef33b7f4"},"edge_type":"user_defined","type":"","uuid":"ef6a8977-839e-48c7-bdd8-071b692487a6","to_task_reference":{"kind":"app_task","name":"SQLServer_Attente1","uuid":"072015db-8e27-463d-a065-77a53d9956ff"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"87580259-25be-4511-96ad-7fd0e5a90bc7"},{"target_any_local_reference":{"kind":"app_service","name":"SQLServer","uuid":"2f21ee10-b6af-42b5-ba7c-706f5b58ca6a"},"retries":"0","name":"SQLServer_DisableUAC","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"$osversion = (Get-CimInstance Win32_OperatingSystem).Version \n$version = $osversion.split(\".\")[0] \n \nif ($version -eq 10) { \n    Set-ItemProperty \"HKLM:\\SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Policies\\System\" -Name \"ConsentPromptBehaviorAdmin\" -Value \"0\" \n} ElseIf ($Version -eq 6) { \n    $sub = $version.split(\".\")[1] \n    if ($sub -eq 1 -or $sub -eq 0) { \n        Set-ItemProperty \"HKLM:\\SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Policies\\System\" -Name \"EnableLUA\" -Value \"0\" \n    } Else { \n        Set-ItemProperty \"HKLM:\\SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Policies\\System\" -Name \"ConsentPromptBehaviorAdmin\" -Value \"0\" \n    } \n} ElseIf ($Version -eq 5) { \n    Set-ItemProperty \"HKLM:\\SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Policies\\System\" -Name \"EnableLUA\" -Value \"0\" \n} Else { \n    Set-ItemProperty \"HKLM:\\SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Policies\\System\" -Name \"ConsentPromptBehaviorAdmin\" -Value \"0\" \n}","script_type":"npsscript","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"LOCAL","uuid":"1fdba0b0-e1cf-4835-b0e5-d525cb736b7f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"cb53197c-9d41-4041-a9b5-4234980a7c38"},{"target_any_local_reference":{"kind":"app_service","name":"SQLServer","uuid":"2f21ee10-b6af-42b5-ba7c-706f5b58ca6a"},"retries":"0","name":"SQLServer_RenameAndJoinDomain","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"##############################################\n# Name        : JoinDomain.ps1\n# Author      : K Sarat Kumar\n# Version     : 1.0\n# Description : Script is used to Change hostname of machines and join to domain.\n##############################################\n$HOSTNAME = \"@@{name}@@\"\n\nfunction Set-Hostname{\n  [CmdletBinding()]\n  Param(\n      [parameter(Mandatory=$true)]\n      [string]$Hostname\n)\n  if ($Hostname -eq  $(hostname)){\n    Write-Host \"Hostname already set.\"\n  } else{\n    Rename-Computer -NewName $HOSTNAME -ErrorAction Stop\n  }\n}\n\nfunction JointoDomain {\n  [CmdletBinding()]\n  Param(\n      [parameter(Mandatory=$true)]\n      [string]$DomainName,\n      [parameter(Mandatory=$false)]\n      [string]$OU,\n      [parameter(Mandatory=$true)]\n      [string]$Username,\n      [parameter(Mandatory=$true)]\n      [string]$Password,\n      [parameter(Mandatory=$true)]\n      [string]$Server\n  )\n  $adapter = Get-NetAdapter | ? {$_.Status -eq \"up\"}\n  $adapter | Set-DnsClientServerAddress -ServerAddresses $Server\n\n  if ($env:computername  -eq $env:userdomain) {\n    Write-Host \"Not in domain\"\n    $adminname = \"$DomainName\\$Username\"\n    $adminpassword = ConvertTo-SecureString -asPlainText -Force -String \"$Password\"\n    Write-Host \"$adminname , $password\"\n    $credential = New-Object System.Management.Automation.PSCredential($adminname,$adminpassword)\n    Add-computer -DomainName $DomainName -Credential $credential -force -Options JoinWithNewName,AccountCreate -PassThru -ErrorAction Stop\n  } else {\n     Write-Host \"Already in domain\"\n  }\n}\n\nif ($HOSTNAME -ne $Null){\n  Write-Host \"Setting Hostname\"\n  Set-Hostname -Hostname $HOSTNAME\n}\n\nJointoDomain -DomainName \"@@{DOMAIN}@@\" -Username \"@@{DOMAIN_CRED.username}@@\" -Password \"@@{DOMAIN_CRED.secret}@@\" -Server \"@@{DNSServer}@@\"\n\nRestart-Computer -Force -AsJob\nexit 0","script_type":"npsscript","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"LOCAL","uuid":"1fdba0b0-e1cf-4835-b0e5-d525cb736b7f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"290fc0f2-eccc-4c52-bf73-8c45ef33b7f4"},{"target_any_local_reference":{"kind":"app_service","name":"SQLServer","uuid":"2f21ee10-b6af-42b5-ba7c-706f5b58ca6a"},"retries":"0","name":"SQLServer_Attente1","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script":"#script\nsleep(90)","type":"","command_line_args":"","exit_status":[],"script_type":"static"},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"072015db-8e27-463d-a065-77a53d9956ff"},{"target_any_local_reference":{"kind":"app_service","name":"SQLServer","uuid":"2f21ee10-b6af-42b5-ba7c-706f5b58ca6a"},"retries":"0","name":"SQLServer_DesactivationFirewall","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"netsh advfirewall set allprofiles state off\necho $Error","script_type":"npsscript","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"DOMAIN_CRED","uuid":"7958c1cb-7109-4f89-8446-47fd7527512c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"468999c3-653e-4430-9732-451bd22a7b9f"},{"target_any_local_reference":{"kind":"app_service","name":"SQLServer","uuid":"2f21ee10-b6af-42b5-ba7c-706f5b58ca6a"},"retries":"0","name":"SQLServer2016_InstallationBinaires","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"D:\\setup.exe \/q \/ACTION=Install \/IACCEPTSQLSERVERLICENSETERMS \/FEATURES=SQL \/INSTANCENAME=\"@@{SQL_INSTANCE_NAME}@@\" \/SQLSVCACCOUNT=\"NT AUTHORITY\\SYSTEM\" \/SQLSYSADMINACCOUNTS=\"@@{DOMAIN_CRED.username}@@\" \/AGTSVCACCOUNT=\"NT AUTHORITY\\Network Service\" \/SQLSVCINSTANTFILEINIT=\"True\" \/IACCEPTSQLSERVERLICENSETERMS \/UpdateEnabled=False","script_type":"npsscript","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"DOMAIN_CRED","uuid":"7958c1cb-7109-4f89-8446-47fd7527512c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"5e3d9957-a3a1-48dc-b401-c0b75f195bff"},{"target_any_local_reference":{"kind":"app_service","name":"SQLServer","uuid":"2f21ee10-b6af-42b5-ba7c-706f5b58ca6a"},"retries":"0","name":"SQLServer_ImportBDD","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"function Check-DomainExistance {\n  #if (Get-ADDomainController -Discover -ErrorAction SilentlyContinue){\n  if (\"$((wmic ComputerSystem get DomainRole)[2])\".trim() -eq \"5\"){\n   return $true\n  } else{\n    return $false\n  }\n}\n\necho \"Restauration de la base de donn\u00e9es.\"\nRestore-SqlDatabase -ServerInstance \"SQLServer\\\" -Database \"DEMO\" -BackupFile \"\\\\DC1\\backup\\DEMO.bak\"\necho \"Restauration termin\u00e9e.\"\n\nexit 0","script_type":"npsscript","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"DOMAIN_CRED","uuid":"7958c1cb-7109-4f89-8446-47fd7527512c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"d38b26df-bf8a-4f0a-8a62-071615f88580"},{"target_any_local_reference":{"kind":"app_service","name":"SQLServer","uuid":"2f21ee10-b6af-42b5-ba7c-706f5b58ca6a"},"retries":"0","name":"Message_Slack","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script":"#script\n\nheaders = {'Content-Type': 'application\/json'}\napi_url = \"@@{SLACK_HOOK}@@\"\n\npayload = {\n  'text': 'Nutanix CALM : Application @@{calm_application_name}@@ vient d etre deployee :-)'\n}\n\nr = urlreq(api_url, verb='POST', headers=headers, params=json.dumps(payload))\n\nif r.ok:\n  print r.content\nelse:\n  print \"Post request failed\", r.content\n  exit(1)","type":"","command_line_args":"","exit_status":[],"script_type":"static"},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"76507492-ef0f-4164-9479-80e273066da0"},{"target_any_local_reference":{"kind":"app_service","name":"SQLServer","uuid":"2f21ee10-b6af-42b5-ba7c-706f5b58ca6a"},"retries":"0","name":"Message_Teams","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script":"#script\n\nheaders = {'Content-Type': 'application\/json'}\napi_url = \"@@{O365_Teams_Connector_Url}@@\"\n\npayload = {\n  '@context': 'http:\/\/schema.org\/extensions',\n  '@type': 'MessageCard',\n  'themeColor': '0072C6',\n  'title': '@@{MSO365_Teams_Title}@@',\n  'text': '@@{MSO365_Teams_Message}@@',\n  'potentialAction': [\n    {\n      '@type': 'ActionCard',\n      'name': 'Details',\n      'inputs': [\n        {\n          '@type': 'TextInput',\n          'id': 'feedback',\n          'isMultiline': 'true',\n          'title': 'On peut ici mettre tout un tas d informations'\n        }\n      ],\n      'actions': [\n        {\n          '@type': 'HttpPOST',\n          'name': 'Lien',\n          'isPrimary': 'true',\n          'target': 'rdp:\/\/@@{DNSServer}@@'\n        }\n      ]\n    },\n    {\n      '@type': 'OpenUri',\n      'name': 'Connexions',\n      'targets': [\n        { 'os': 'default', 'uri': 'rdp:\/\/@@{DNSServer}@@' }\n      ]\n    }\n  ]\n}\n\nr = urlreq(api_url, verb='POST', headers=headers, params=json.dumps(payload))\n\nif r.ok:\n  print r.content\nelse:\n  print \"Post request failed\", r.content\n  exit(1)","type":"","command_line_args":"","exit_status":[],"script_type":"static"},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"92fcdba7-2c3c-46af-ad82-da68f1c6faa7"}],"name":"b54300dd_runbook_cloned_1_cloned_1","description":"","state":"ACTIVE","variable_list":[],"message_list":[],"main_task_local_reference":{"kind":"app_task","name":"76326282_dag","uuid":"87580259-25be-4511-96ad-7fd0e5a90bc7"},"uuid":"eabb82ae-e6a5-4a07-8cd5-9e7e65ccac69"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"SQLServer_Personnalisation","uuid":"46aff282-3d8b-4438-ab11-51cf246b6d4f"},"retries":"0","name":"700b3d0e_dag","type":"DAG","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"SQLServer_UnjoinDomain","uuid":"0238022f-e56d-4272-9098-91cf470ccb65"},{"kind":"app_task","name":"Message_Teams","uuid":"dd415985-4c89-43c0-b583-e5f8daf9d8fd"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SQLServer_UnjoinDomain","uuid":"0238022f-e56d-4272-9098-91cf470ccb65"},"edge_type":"user_defined","type":"","uuid":"6e63a724-1815-4748-b7e6-70373b7bc841","to_task_reference":{"kind":"app_task","name":"Message_Teams","uuid":"dd415985-4c89-43c0-b583-e5f8daf9d8fd"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"52e8106d-56ae-47e6-884c-e38560074d0c"},{"target_any_local_reference":{"kind":"app_service","name":"SQLServer","uuid":"2f21ee10-b6af-42b5-ba7c-706f5b58ca6a"},"retries":"0","name":"SQLServer_UnjoinDomain","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"$adminpassword = ConvertTo-SecureString -asPlainText -Force -String \"@@{DOMAIN_CRED.secret}@@\"\nWrite-Output \"@@{DOMAIN_CRED.username}@@ , @@{DOMAIN_CRED.secret}@@\"\n$credential = New-Object System.Management.Automation.PSCredential(\"@@{DOMAIN_CRED.username}@@\", $adminpassword)\n\nRemove-Computer -UnjoinDomaincredential $credential -Force -PassThru -Verbose -Restart -WorkgroupName Workgroup\nrestart-computer","script_type":"npsscript","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"DOMAIN_CRED","uuid":"7958c1cb-7109-4f89-8446-47fd7527512c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"0238022f-e56d-4272-9098-91cf470ccb65"},{"target_any_local_reference":{"kind":"app_service","name":"SQLServer","uuid":"2f21ee10-b6af-42b5-ba7c-706f5b58ca6a"},"retries":"0","name":"Message_Teams","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script":"#script\n\nheaders = {'Content-Type': 'application\/json'}\napi_url = \"@@{O365_Teams_Connector_Url}@@\"\n\npayload = {\n  '@context': 'http:\/\/schema.org\/extensions',\n  '@type': 'MessageCard',\n  'themeColor': '0072C6',\n  'title': 'Nutanix CALM : @@{calm_application_name}@@ - Supprimee',\n  'text': 'Pense a montrer la suppression dans l AD.'\n}\n\nr = urlreq(api_url, verb='POST', headers=headers, params=json.dumps(payload))\n\nif r.ok:\n  print r.content\nelse:\n  print \"Post request failed\", r.content\n  exit(1)","type":"","command_line_args":"","exit_status":[],"script_type":"static"},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"dd415985-4c89-43c0-b583-e5f8daf9d8fd"}],"name":"ea9792f4_runbook_cloned_1_cloned_1","description":"","state":"ACTIVE","variable_list":[],"message_list":[],"main_task_local_reference":{"kind":"app_task","name":"700b3d0e_dag","uuid":"52e8106d-56ae-47e6-884c-e38560074d0c"},"uuid":"980f6877-695a-47db-9ea4-2ddc4843f883"}},"variable_list":[],"description":""}],"client_attrs":{"e7b94a22-d028-4fee-b2ff-dda1d6e38440":{"y":-251.2815618292,"x":20.3851461903},"0c3fb32c-a1d7-4352-840d-cc7d2edcb83d":{"y":-549,"x":-577},"349219a8-fb21-44cc-9c51-8abec1d4c5c6":{"y":-329.5708924784,"x":-217.8658835047}}},"description":""},"api_version":"3.0","metadata":{"last_update_time":"1552458877028428","owner_reference":{"kind":"user","uuid":"00000000-0000-0000-0000-000000000000","name":"admin"},"kind":"blueprint","uuid":"6b88b45c-3a38-482f-b6c7-081763ed2680","project_reference":{"kind":"project","name":"default","uuid":"209e0a42-6f2d-4999-9a9b-5aa705d25661"},"spec_version":9,"creation_time":"1551956494887913","name":"Cedric_oldbp"}}