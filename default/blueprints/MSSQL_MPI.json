{"status":{"description":"","source_mpi":"","state":"DRAFT","is_cloned":false,"message_list":[{"message":"Credential is invalid","reason":"INVALID_CREDENTIAL","details":[{"attribute_name":"default_credential"}]}],"resources":{"service_definition_list":[{"port_list":[],"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"bf27bfd1-c25a-447d-8e1e-4febba6ddd4a","name":"action_create","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"MSSQL","uuid":"a4b732b0-c3de-410f-90c8-6e0628e0af37"},"retries":"0","description":"","type":"DAG","uuid":"3bef9fde-e4d9-404e-b4e2-97abcd040e0e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"030017c3_dag"}],"description":"","message_list":[],"uuid":"8eccd264-b78a-415c-8a57-000e47a940d5","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"030017c3_dag","uuid":"3bef9fde-e4d9-404e-b4e2-97abcd040e0e"},"name":"5730e30f_runbook"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"d5effa1e-d09d-40ea-87ca-f6d8bdcd128d","name":"action_delete","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"MSSQL","uuid":"a4b732b0-c3de-410f-90c8-6e0628e0af37"},"retries":"0","description":"","type":"DAG","uuid":"0e097f5b-0d2c-4217-a79d-9a6ba8aad464","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"6f5f997d_dag"}],"description":"","message_list":[],"uuid":"441b0363-81e1-4686-a82a-33594f1ec102","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"6f5f997d_dag","uuid":"0e097f5b-0d2c-4217-a79d-9a6ba8aad464"},"name":"b01e7edf_runbook"}},{"description":"System action for starting an application","message_list":[],"uuid":"5b20b695-66fa-45ab-87f9-41307a99ceee","name":"action_start","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"MSSQL","uuid":"a4b732b0-c3de-410f-90c8-6e0628e0af37"},"retries":"0","description":"","type":"DAG","uuid":"84ef1f7b-c124-4ac5-bc17-bbb52a76a97d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"c2b90e7d_dag"}],"description":"","message_list":[],"uuid":"798e0d01-fa9b-49f9-8aba-a3fe8cf77617","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"c2b90e7d_dag","uuid":"84ef1f7b-c124-4ac5-bc17-bbb52a76a97d"},"name":"0263f5a9_runbook"}},{"description":"System action for stopping an application","message_list":[],"uuid":"1740f8dc-82d0-4be1-88d5-816b20349c22","name":"action_stop","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"MSSQL","uuid":"a4b732b0-c3de-410f-90c8-6e0628e0af37"},"retries":"0","description":"","type":"DAG","uuid":"6ad1d0f6-f904-455c-b63e-391363f2b9a8","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"00b1cc9f_dag"}],"description":"","message_list":[],"uuid":"eb1b35f8-5520-4c2e-af1c-4c637ff02f14","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"00b1cc9f_dag","uuid":"6ad1d0f6-f904-455c-b63e-391363f2b9a8"},"name":"8aadc288_runbook"}},{"description":"System action for restarting an application","message_list":[],"uuid":"85e31d7e-824d-4dc7-b722-aa306cbb1fed","name":"action_restart","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"MSSQL","uuid":"a4b732b0-c3de-410f-90c8-6e0628e0af37"},"retries":"0","description":"","type":"DAG","uuid":"d6cbf3ad-ebbd-4a10-b511-28d91eaa5eed","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"6c4b7c3b_dag"}],"description":"","message_list":[],"uuid":"b8872014-4fdf-4e44-8d1a-f6ab05f66c45","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"6c4b7c3b_dag","uuid":"d6cbf3ad-ebbd-4a10-b511-28d91eaa5eed"},"name":"a059f54d_runbook"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"ca3e337f-c35c-40b6-a899-6a605afd12f0","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"MSSQL","uuid":"a4b732b0-c3de-410f-90c8-6e0628e0af37"},"retries":"0","description":"","type":"DAG","uuid":"ea977f72-8bfd-4b70-80b1-55daad8857b0","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Service_Element_Delete_a4b732b0_c3de_410f_90c8_6e0628e0af37","uuid":"635d1274-3fab-4643-a920-869474cc3489"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Service_a4b732b0_c3de_410f_90c8_6e0628e0af37"},{"target_any_local_reference":{"kind":"app_service","name":"MSSQL","uuid":"a4b732b0-c3de-410f-90c8-6e0628e0af37"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"635d1274-3fab-4643-a920-869474cc3489","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Service_Element_Delete_a4b732b0_c3de_410f_90c8_6e0628e0af37"}],"description":"","message_list":[],"uuid":"cda98b10-e8b0-43dd-ad26-4bb604fd7906","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Service_a4b732b0_c3de_410f_90c8_6e0628e0af37","uuid":"ea977f72-8bfd-4b70-80b1-55daad8857b0"},"name":"SYS_GEN__Runbook_Service_a4b732b0_c3de_410f_90c8_6e0628e0af37"}}],"message_list":[],"uuid":"a4b732b0-c3de-410f-90c8-6e0628e0af37","state":"ACTIVE","depends_on_list":[],"editables":{},"tier":"","singleton":false,"variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"c7d585ca-2891-4680-9f1f-3cfb9668d6bc","value":"","label":"","state":"ACTIVE","attrs":{"type":""},"editables":{},"is_hidden":false,"type":"LOCAL","options":{},"name":"EXECUTION_MODE"}],"name":"MSSQL"}],"substrate_definition_list":[{"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"d419ef54-f1ec-4385-ab46-064640b1e975","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"MSSQL2014","uuid":"9d94b753-f455-4679-a3e0-06e8ec334dd7"},"retries":"0","description":"","type":"DAG","uuid":"c069e3e8-d7c7-4029-944b-812875a5c87d","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Nutanix_Provision_9d94b753_f455_4679_a3e0_06e8ec334dd7","uuid":"c814c9b3-cd3c-4411-ac6b-1ac122fa5e11"},{"kind":"app_task","name":"SYS_GEN__check_login_for_MSSQL2014_9d94b753_f455_4679_a3e0_06e8ec334dd7","uuid":"21d3eaa7-31c6-4429-8612-d18227b88eae"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Nutanix_Provision_9d94b753_f455_4679_a3e0_06e8ec334dd7","uuid":"c814c9b3-cd3c-4411-ac6b-1ac122fa5e11"},"edge_type":"inherent","type":"","uuid":"3dc97ce1-cd60-4f39-bd1d-186ae654063d","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_MSSQL2014_9d94b753_f455_4679_a3e0_06e8ec334dd7","uuid":"21d3eaa7-31c6-4429-8612-d18227b88eae"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_9d94b753_f455_4679_a3e0_06e8ec334dd7"},{"target_any_local_reference":{"kind":"app_substrate","name":"MSSQL2014","uuid":"9d94b753-f455-4679-a3e0-06e8ec334dd7"},"retries":"0","description":"","type":"PROVISION_NUTANIX","uuid":"c814c9b3-cd3c-4411-ac6b-1ac122fa5e11","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"name":"MSSQL-@@{calm_random}@@","categories":"","availability_zone_reference":null,"backup_policy":null,"type":"","cluster_reference":null,"resources":{"nic_list":[],"parent_reference":null,"guest_tools":null,"num_vcpus_per_socket":1,"num_sockets":4,"serial_port_list":[],"gpu_list":[],"memory_size_mib":4096,"power_state":"ON","hardware_clock_timezone":"","guest_customization":{"cloud_init":null,"type":"","sysprep":{"install_type":"PREPARED","unattend_xml":"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<unattend xmlns=\"urn:schemas-microsoft-com:unattend\">\n   <settings pass=\"specialize\">\n      <component xmlns:wcm=\"http:\/\/schemas.microsoft.com\/WMIConfig\/2002\/State\" xmlns:xsi=\"http:\/\/www.w3.org\/2001\/XMLSchema-instance\" name=\"Microsoft-Windows-Shell-Setup\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\">\n         <ComputerName>@@{name}@@<\/ComputerName>\n         <RegisteredOrganization>Nutanix<\/RegisteredOrganization>\n         <RegisteredOwner>Acropolis<\/RegisteredOwner>\n         <TimeZone>UTC<\/TimeZone>\n      <\/component>\n      <component xmlns=\"\" name=\"Microsoft-Windows-TerminalServices-LocalSessionManager\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\" processorArchitecture=\"amd64\">\n         <fDenyTSConnections>false<\/fDenyTSConnections>\n      <\/component>\n      <component xmlns=\"\" name=\"Microsoft-Windows-TerminalServices-RDP-WinStationExtensions\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\" processorArchitecture=\"amd64\">\n         <UserAuthentication>0<\/UserAuthentication>\n      <\/component>\n      <component xmlns:wcm=\"http:\/\/schemas.microsoft.com\/WMIConfig\/2002\/State\" xmlns:xsi=\"http:\/\/www.w3.org\/2001\/XMLSchema-instance\" name=\"Networking-MPSSVC-Svc\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\">\n         <FirewallGroups>\n            <FirewallGroup wcm:action=\"add\" wcm:keyValue=\"RemoteDesktop\">\n               <Active>true<\/Active>\n               <Profile>all<\/Profile>\n               <Group>@FirewallAPI.dll,-28752<\/Group>\n            <\/FirewallGroup>\n         <\/FirewallGroups>\n      <\/component>\n   <\/settings>\n   <settings pass=\"oobeSystem\">\n      <component xmlns:wcm=\"http:\/\/schemas.microsoft.com\/WMIConfig\/2002\/State\" xmlns:xsi=\"http:\/\/www.w3.org\/2001\/XMLSchema-instance\" name=\"Microsoft-Windows-Shell-Setup\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\">\n         <UserAccounts>\n            <AdministratorPassword>\n               <Value>@@{LOCAL.secret}@@<\/Value>\n               <PlainText>true<\/PlainText>\n            <\/AdministratorPassword>\n         <\/UserAccounts>\n         <AutoLogon>\n            <Password>\n               <Value>@@{LOCAL.secret}@@<\/Value>\n               <PlainText>true<\/PlainText>\n            <\/Password>\n            <Enabled>true<\/Enabled>\n            <Username>Administrator<\/Username>\n         <\/AutoLogon>\n         <FirstLogonCommands>\n            <SynchronousCommand wcm:action=\"add\">\n               <CommandLine>cmd.exe \/c netsh firewall add portopening TCP 5985 \"Port 5985\"<\/CommandLine>\n               <Description>Win RM port open<\/Description>\n               <Order>1<\/Order>\n               <RequiresUserInput>true<\/RequiresUserInput>\n            <\/SynchronousCommand>\n         <\/FirstLogonCommands>\n         <OOBE>\n            <HideEULAPage>true<\/HideEULAPage>\n            <SkipMachineOOBE>true<\/SkipMachineOOBE>\n         <\/OOBE>\n      <\/component>\n      <component xmlns:wcm=\"http:\/\/schemas.microsoft.com\/WMIConfig\/2002\/State\" xmlns:xsi=\"http:\/\/www.w3.org\/2001\/XMLSchema-instance\" name=\"Microsoft-Windows-International-Core\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\">\n         <InputLocale>en-US<\/InputLocale>\n         <SystemLocale>en-US<\/SystemLocale>\n         <UILanguageFallback>en-us<\/UILanguageFallback>\n         <UILanguage>en-US<\/UILanguage>\n         <UserLocale>en-US<\/UserLocale>\n      <\/component>\n   <\/settings>\n<\/unattend>","type":""}},"type":"","boot_config":{"boot_device":{"type":"","disk_address":{"adapter_type":"SCSI","device_index":0,"type":""}},"type":"","mac_address":""},"disk_list":[{"data_source_reference":{"kind":"image","type":"","name":"WindowsServer2016-Base","uuid":"7e750478-38fd-48d3-a683-ab15fa30c0fb"},"type":"","disk_size_mib":0,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":0,"type":""}}},{"data_source_reference":{"kind":"image","type":"","name":"SQLServer2014SP2-FullSlipstream-x64-ENU","uuid":"c5d1bcf8-ecf6-4e9d-9e36-4f02cf93ac3e"},"type":"","disk_size_mib":0,"volume_group_reference":null,"device_properties":{"type":"","device_type":"CDROM","disk_address":{"adapter_type":"IDE","device_index":0,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":51200,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":1,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":153600,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":2,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":307200,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":3,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":307200,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":4,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":102400,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":5,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":102400,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":6,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":204800,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":7,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":204800,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":8,"type":""}}}]}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Nutanix_Provision_9d94b753_f455_4679_a3e0_06e8ec334dd7"},{"target_any_local_reference":{"kind":"app_substrate","name":"MSSQL2014","uuid":"9d94b753-f455-4679-a3e0-06e8ec334dd7"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"21d3eaa7-31c6-4429-8612-d18227b88eae","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"300","address":"@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_MSSQL2014_9d94b753_f455_4679_a3e0_06e8ec334dd7"}],"description":"","message_list":[],"uuid":"66990a4e-eb6f-4c8e-a226-b61d7636aaaf","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_9d94b753_f455_4679_a3e0_06e8ec334dd7","uuid":"c069e3e8-d7c7-4029-944b-812875a5c87d"},"name":"SYS_GEN__Runbook_Substrate_9d94b753_f455_4679_a3e0_06e8ec334dd7"}},{"description":"System action for powering on an application","message_list":[],"uuid":"638fa249-ea73-4776-8366-0daa06a6ae80","name":"action_poweron","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"MSSQL2014","uuid":"9d94b753-f455-4679-a3e0-06e8ec334dd7"},"retries":"0","description":"","type":"DAG","uuid":"cfbf020d-e3b1-4313-b52d-6a43e80768cf","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Nutanix_Operation_PowerOn_9d94b753_f455_4679_a3e0_06e8ec334dd7","uuid":"30b6f6ee-27ef-4047-bb94-fb6561b193c6"},{"kind":"app_task","name":"SYS_GEN__check_login_for_MSSQL2014_9d94b753_f455_4679_a3e0_06e8ec334dd7","uuid":"b778bf12-e752-416f-b52d-efbf8a547b05"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Nutanix_Operation_PowerOn_9d94b753_f455_4679_a3e0_06e8ec334dd7","uuid":"30b6f6ee-27ef-4047-bb94-fb6561b193c6"},"edge_type":"inherent","type":"","uuid":"8ddbafe8-0c0c-4fe7-84dc-163e62101667","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_MSSQL2014_9d94b753_f455_4679_a3e0_06e8ec334dd7","uuid":"b778bf12-e752-416f-b52d-efbf8a547b05"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_9d94b753_f455_4679_a3e0_06e8ec334dd7"},{"target_any_local_reference":{"kind":"app_substrate","name":"MSSQL2014","uuid":"9d94b753-f455-4679-a3e0-06e8ec334dd7"},"retries":"0","description":"","type":"VMOPERATION_NUTANIX","uuid":"30b6f6ee-27ef-4047-bb94-fb6561b193c6","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Nutanix_Operation_PowerOn_9d94b753_f455_4679_a3e0_06e8ec334dd7"},{"target_any_local_reference":{"kind":"app_substrate","name":"MSSQL2014","uuid":"9d94b753-f455-4679-a3e0-06e8ec334dd7"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"b778bf12-e752-416f-b52d-efbf8a547b05","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"300","address":"@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_MSSQL2014_9d94b753_f455_4679_a3e0_06e8ec334dd7"}],"description":"","message_list":[],"uuid":"db66dec6-f0ca-4ad7-8a8c-1e5cdc881c82","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_9d94b753_f455_4679_a3e0_06e8ec334dd7","uuid":"cfbf020d-e3b1-4313-b52d-6a43e80768cf"},"name":"SYS_GEN__Runbook_Substrate_9d94b753_f455_4679_a3e0_06e8ec334dd7"}},{"description":"System action for restarting an application","message_list":[],"uuid":"7a5bab33-16c8-4796-b545-e1c59168ba98","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"MSSQL2014","uuid":"9d94b753-f455-4679-a3e0-06e8ec334dd7"},"retries":"0","description":"","type":"DAG","uuid":"52e206ec-7166-4f45-8b65-462644478018","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Nutanix_Operation_Restart_9d94b753_f455_4679_a3e0_06e8ec334dd7","uuid":"6759e8b0-2908-46bc-aaff-7679a3742fae"},{"kind":"app_task","name":"SYS_GEN__check_login_for_MSSQL2014_9d94b753_f455_4679_a3e0_06e8ec334dd7","uuid":"9f03deb2-7464-4616-901d-4240202aedb9"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Nutanix_Operation_Restart_9d94b753_f455_4679_a3e0_06e8ec334dd7","uuid":"6759e8b0-2908-46bc-aaff-7679a3742fae"},"edge_type":"inherent","type":"","uuid":"0731bf1e-25a8-49e7-ab6d-84a33deaff4f","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_MSSQL2014_9d94b753_f455_4679_a3e0_06e8ec334dd7","uuid":"9f03deb2-7464-4616-901d-4240202aedb9"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_9d94b753_f455_4679_a3e0_06e8ec334dd7"},{"target_any_local_reference":{"kind":"app_substrate","name":"MSSQL2014","uuid":"9d94b753-f455-4679-a3e0-06e8ec334dd7"},"retries":"0","description":"","type":"VMOPERATION_NUTANIX","uuid":"6759e8b0-2908-46bc-aaff-7679a3742fae","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Nutanix_Operation_Restart_9d94b753_f455_4679_a3e0_06e8ec334dd7"},{"target_any_local_reference":{"kind":"app_substrate","name":"MSSQL2014","uuid":"9d94b753-f455-4679-a3e0-06e8ec334dd7"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"9f03deb2-7464-4616-901d-4240202aedb9","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"300","address":"@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_MSSQL2014_9d94b753_f455_4679_a3e0_06e8ec334dd7"}],"description":"","message_list":[],"uuid":"15ecd5d4-e50b-43c0-b4c6-0ba58143bb23","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_9d94b753_f455_4679_a3e0_06e8ec334dd7","uuid":"52e206ec-7166-4f45-8b65-462644478018"},"name":"SYS_GEN__Runbook_Substrate_9d94b753_f455_4679_a3e0_06e8ec334dd7"}},{"description":"System action for suspending an application","message_list":[],"uuid":"1b728144-1f8e-41ff-9975-177c8470bce7","name":"action_suspend","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"MSSQL2014","uuid":"9d94b753-f455-4679-a3e0-06e8ec334dd7"},"retries":"0","description":"","type":"DAG","uuid":"e4e9809d-d55b-4b37-b9b9-33ad85f130e5","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_9d94b753_f455_4679_a3e0_06e8ec334dd7"}],"description":"","message_list":[],"uuid":"f98c7d16-e44f-453d-81a5-98abb5ac4507","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_9d94b753_f455_4679_a3e0_06e8ec334dd7","uuid":"e4e9809d-d55b-4b37-b9b9-33ad85f130e5"},"name":"SYS_GEN__Runbook_Substrate_9d94b753_f455_4679_a3e0_06e8ec334dd7"}},{"description":"System action for modifying an application","message_list":[],"uuid":"e85f99f3-655e-4eba-a0a6-bd49632ad4cd","name":"action_modify","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"MSSQL2014","uuid":"9d94b753-f455-4679-a3e0-06e8ec334dd7"},"retries":"0","description":"","type":"DAG","uuid":"e3e49efd-13a8-45a0-88c4-a62810cbe80a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_9d94b753_f455_4679_a3e0_06e8ec334dd7"}],"description":"","message_list":[],"uuid":"b88e8586-35f6-4021-8eeb-da36acc01b2c","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_9d94b753_f455_4679_a3e0_06e8ec334dd7","uuid":"e3e49efd-13a8-45a0-88c4-a62810cbe80a"},"name":"SYS_GEN__Runbook_Substrate_9d94b753_f455_4679_a3e0_06e8ec334dd7"}},{"description":"System action for powering off an application","message_list":[],"uuid":"6f8fdd50-6601-4f4c-bdc5-5a5fc22a8d02","name":"action_poweroff","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"MSSQL2014","uuid":"9d94b753-f455-4679-a3e0-06e8ec334dd7"},"retries":"0","description":"","type":"DAG","uuid":"79f59a5c-041b-4921-ac4f-b6382fe96d97","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Nutanix_Operation_PowerOff_9d94b753_f455_4679_a3e0_06e8ec334dd7","uuid":"86aa0e71-bb54-4570-b2a8-cc93de4640f2"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_9d94b753_f455_4679_a3e0_06e8ec334dd7"},{"target_any_local_reference":{"kind":"app_substrate","name":"MSSQL2014","uuid":"9d94b753-f455-4679-a3e0-06e8ec334dd7"},"retries":"0","description":"","type":"VMOPERATION_NUTANIX","uuid":"86aa0e71-bb54-4570-b2a8-cc93de4640f2","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Nutanix_Operation_PowerOff_9d94b753_f455_4679_a3e0_06e8ec334dd7"}],"description":"","message_list":[],"uuid":"6fae3d98-06f5-495f-bce1-ed25590510a0","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_9d94b753_f455_4679_a3e0_06e8ec334dd7","uuid":"79f59a5c-041b-4921-ac4f-b6382fe96d97"},"name":"SYS_GEN__Runbook_Substrate_9d94b753_f455_4679_a3e0_06e8ec334dd7"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"1df006bd-7cdf-4484-8f61-6dddf045b085","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"MSSQL2014","uuid":"9d94b753-f455-4679-a3e0-06e8ec334dd7"},"retries":"0","description":"","type":"DAG","uuid":"57e71dfa-4d5a-4c6b-b82b-e6ea915de4a2","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Nutanix_Delete_9d94b753_f455_4679_a3e0_06e8ec334dd7","uuid":"54301ab9-0473-42dc-af99-6b2fcec2aee2"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_9d94b753_f455_4679_a3e0_06e8ec334dd7"},{"target_any_local_reference":{"kind":"app_substrate","name":"MSSQL2014","uuid":"9d94b753-f455-4679-a3e0-06e8ec334dd7"},"retries":"0","description":"","type":"DELETE_NUTANIX","uuid":"54301ab9-0473-42dc-af99-6b2fcec2aee2","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Nutanix_Delete_9d94b753_f455_4679_a3e0_06e8ec334dd7"}],"description":"","message_list":[],"uuid":"b17f257a-08db-4bf8-adee-4a365998c260","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_9d94b753_f455_4679_a3e0_06e8ec334dd7","uuid":"57e71dfa-4d5a-4c6b-b82b-e6ea915de4a2"},"name":"SYS_GEN__Runbook_Substrate_9d94b753_f455_4679_a3e0_06e8ec334dd7"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"03e5ff42-31dc-42a0-b6dc-e8044e33736f","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"MSSQL2014","uuid":"9d94b753-f455-4679-a3e0-06e8ec334dd7"},"retries":"0","description":"","type":"DAG","uuid":"78dc7de8-f264-41e8-a799-ec5117e0e60e","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Substrate_Element_Delete_9d94b753_f455_4679_a3e0_06e8ec334dd7","uuid":"bc794213-08d2-4387-9884-e2ea74cc4e54"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_9d94b753_f455_4679_a3e0_06e8ec334dd7"},{"target_any_local_reference":{"kind":"app_substrate","name":"MSSQL2014","uuid":"9d94b753-f455-4679-a3e0-06e8ec334dd7"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"bc794213-08d2-4387-9884-e2ea74cc4e54","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Substrate_Element_Delete_9d94b753_f455_4679_a3e0_06e8ec334dd7"}],"description":"","message_list":[],"uuid":"b99cf511-2fa6-4fe0-a33d-7f6a4fd80245","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_9d94b753_f455_4679_a3e0_06e8ec334dd7","uuid":"78dc7de8-f264-41e8-a799-ec5117e0e60e"},"name":"SYS_GEN__Runbook_Substrate_9d94b753_f455_4679_a3e0_06e8ec334dd7"}}],"message_list":[{"message":"editable 0 is not a valid list index","reason":"INVALID_EDITABLE","details":[{"attribute_name":"0"}]}],"uuid":"9d94b753-f455-4679-a3e0-06e8ec334dd7","state":"DRAFT","readiness_probe":{"connection_type":"POWERSHELL","retries":"5","disable_readiness_probe":false,"address":"@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@","delay_secs":"60","connection_port":5985,"login_credential_local_reference":{"kind":"app_credential","name":"LOCAL","uuid":"260a7259-60ca-416b-beae-022ec4b195ae"}},"editables":{"readiness_probe":{"connection_type":true,"delay_secs":true,"connection_port":true,"timeout_secs":true},"create_spec":{"name":true,"resources":{"nic_list":{"0":{"subnet_reference":true}},"serial_port_list":{},"num_vcpus_per_socket":true,"num_sockets":true,"memory_size_mib":true,"guest_customization":true,"disk_list":{"1":{"data_source_reference":true,"device_properties":{"disk_address":{"adapter_type":true},"device_type":true}},"0":{"data_source_reference":true,"device_properties":{"disk_address":{"adapter_type":true},"device_type":true}},"3":{"disk_size_mib":true},"2":{"disk_size_mib":true},"5":{"disk_size_mib":true},"4":{"disk_size_mib":true},"7":{"disk_size_mib":true},"6":{"disk_size_mib":true},"9":{"disk_size_mib":true},"8":{"disk_size_mib":true}}}}},"os_type":"Windows","type":"AHV_VM","create_spec":{"name":"MSSQL-@@{calm_random}@@","categories":"","availability_zone_reference":null,"backup_policy":null,"type":"","cluster_reference":null,"resources":{"nic_list":[],"parent_reference":null,"guest_tools":null,"num_vcpus_per_socket":1,"num_sockets":4,"serial_port_list":[],"gpu_list":[],"memory_size_mib":4096,"power_state":"ON","hardware_clock_timezone":"","guest_customization":{"cloud_init":null,"type":"","sysprep":{"install_type":"PREPARED","unattend_xml":"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<unattend xmlns=\"urn:schemas-microsoft-com:unattend\">\n   <settings pass=\"specialize\">\n      <component xmlns:wcm=\"http:\/\/schemas.microsoft.com\/WMIConfig\/2002\/State\" xmlns:xsi=\"http:\/\/www.w3.org\/2001\/XMLSchema-instance\" name=\"Microsoft-Windows-Shell-Setup\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\">\n         <ComputerName>@@{name}@@<\/ComputerName>\n         <RegisteredOrganization>Nutanix<\/RegisteredOrganization>\n         <RegisteredOwner>Acropolis<\/RegisteredOwner>\n         <TimeZone>UTC<\/TimeZone>\n      <\/component>\n      <component xmlns=\"\" name=\"Microsoft-Windows-TerminalServices-LocalSessionManager\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\" processorArchitecture=\"amd64\">\n         <fDenyTSConnections>false<\/fDenyTSConnections>\n      <\/component>\n      <component xmlns=\"\" name=\"Microsoft-Windows-TerminalServices-RDP-WinStationExtensions\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\" processorArchitecture=\"amd64\">\n         <UserAuthentication>0<\/UserAuthentication>\n      <\/component>\n      <component xmlns:wcm=\"http:\/\/schemas.microsoft.com\/WMIConfig\/2002\/State\" xmlns:xsi=\"http:\/\/www.w3.org\/2001\/XMLSchema-instance\" name=\"Networking-MPSSVC-Svc\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\">\n         <FirewallGroups>\n            <FirewallGroup wcm:action=\"add\" wcm:keyValue=\"RemoteDesktop\">\n               <Active>true<\/Active>\n               <Profile>all<\/Profile>\n               <Group>@FirewallAPI.dll,-28752<\/Group>\n            <\/FirewallGroup>\n         <\/FirewallGroups>\n      <\/component>\n   <\/settings>\n   <settings pass=\"oobeSystem\">\n      <component xmlns:wcm=\"http:\/\/schemas.microsoft.com\/WMIConfig\/2002\/State\" xmlns:xsi=\"http:\/\/www.w3.org\/2001\/XMLSchema-instance\" name=\"Microsoft-Windows-Shell-Setup\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\">\n         <UserAccounts>\n            <AdministratorPassword>\n               <Value>@@{LOCAL.secret}@@<\/Value>\n               <PlainText>true<\/PlainText>\n            <\/AdministratorPassword>\n         <\/UserAccounts>\n         <AutoLogon>\n            <Password>\n               <Value>@@{LOCAL.secret}@@<\/Value>\n               <PlainText>true<\/PlainText>\n            <\/Password>\n            <Enabled>true<\/Enabled>\n            <Username>Administrator<\/Username>\n         <\/AutoLogon>\n         <FirstLogonCommands>\n            <SynchronousCommand wcm:action=\"add\">\n               <CommandLine>cmd.exe \/c netsh firewall add portopening TCP 5985 \"Port 5985\"<\/CommandLine>\n               <Description>Win RM port open<\/Description>\n               <Order>1<\/Order>\n               <RequiresUserInput>true<\/RequiresUserInput>\n            <\/SynchronousCommand>\n         <\/FirstLogonCommands>\n         <OOBE>\n            <HideEULAPage>true<\/HideEULAPage>\n            <SkipMachineOOBE>true<\/SkipMachineOOBE>\n         <\/OOBE>\n      <\/component>\n      <component xmlns:wcm=\"http:\/\/schemas.microsoft.com\/WMIConfig\/2002\/State\" xmlns:xsi=\"http:\/\/www.w3.org\/2001\/XMLSchema-instance\" name=\"Microsoft-Windows-International-Core\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\">\n         <InputLocale>en-US<\/InputLocale>\n         <SystemLocale>en-US<\/SystemLocale>\n         <UILanguageFallback>en-us<\/UILanguageFallback>\n         <UILanguage>en-US<\/UILanguage>\n         <UserLocale>en-US<\/UserLocale>\n      <\/component>\n   <\/settings>\n<\/unattend>","type":""}},"type":"","boot_config":{"boot_device":{"type":"","disk_address":{"adapter_type":"SCSI","device_index":0,"type":""}},"type":"","mac_address":""},"disk_list":[{"data_source_reference":{"kind":"image","type":"","name":"WindowsServer2016-Base","uuid":"7e750478-38fd-48d3-a683-ab15fa30c0fb"},"type":"","disk_size_mib":0,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":0,"type":""}}},{"data_source_reference":{"kind":"image","type":"","name":"SQLServer2014SP2-FullSlipstream-x64-ENU","uuid":"c5d1bcf8-ecf6-4e9d-9e36-4f02cf93ac3e"},"type":"","disk_size_mib":0,"volume_group_reference":null,"device_properties":{"type":"","device_type":"CDROM","disk_address":{"adapter_type":"IDE","device_index":0,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":51200,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":1,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":153600,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":2,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":307200,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":3,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":307200,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":4,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":102400,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":5,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":102400,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":6,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":204800,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":7,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":204800,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":8,"type":""}}}]}},"variable_list":[],"name":"MSSQL2014"}],"credential_definition_list":[{"username":"administrator","description":"","state":"DRAFT","message_list":[{"message":"Secret value for credential is empty","reason":"EMPTY_VALUE","details":[{"attribute_name":"secret"}]}],"uuid":"260a7259-60ca-416b-beae-022ec4b195ae","secret":{"attrs":{"is_secret_modified":false,"secret_reference":{}}},"editables":{"username":true,"secret":true},"type":"PASSWORD","name":"LOCAL"},{"username":"administrator@contoso.com","description":"","state":"DRAFT","message_list":[{"message":"Secret value for credential is empty","reason":"EMPTY_VALUE","details":[{"attribute_name":"secret"}]}],"uuid":"951c02cf-a5e4-454c-8961-903cf8a691eb","secret":{"attrs":{"is_secret_modified":false,"secret_reference":{}}},"editables":{"username":true,"secret":true},"type":"PASSWORD","name":"DOMAIN_CRED"},{"username":"contoso\\administrator","description":"","state":"DRAFT","message_list":[{"message":"Secret value for credential is empty","reason":"EMPTY_VALUE","details":[{"attribute_name":"secret"}]}],"uuid":"68e0612d-d8f0-4c2d-b919-418ca91b8a7e","secret":{"attrs":{"is_secret_modified":false,"secret_reference":{}}},"editables":{"username":true,"secret":true},"type":"PASSWORD","name":"SQL_CRED"}],"type":"USER","app_profile_list":[{"deployment_create_list":[{"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"95fa5dbf-ea9f-4321-925f-a3c60732faf9","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"49669086_deployment","uuid":"03377180-ffea-4ceb-b4c2-47aecdce938e"},"retries":"0","description":"","type":"DAG","uuid":"82036130-cfdf-4bbf-9b9f-26b33bade9f1","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__DE_Provision_03377180_ffea_4ceb_b4c2_47aecdce938e","uuid":"af15bd9a-582c-41d6-bb64-0df7663f0c18"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_9d94b753_f455_4679_a3e0_06e8ec334dd7","uuid":"08eea2a7-e8b0-4a12-9ec0-c5edae4ad817"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_2de8a964_cdc9_4a5a_8b18_bc5fabf8583d","uuid":"07a7682f-81df-438e-b546-32049aaf48f5"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_a4b732b0_c3de_410f_90c8_6e0628e0af37","uuid":"324598a7-c5ae-48dc-ba21-1aba90c51392"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_a4b732b0_c3de_410f_90c8_6e0628e0af37","uuid":"7fcbe89f-dbc6-480b-b0f4-aa2e24dfe95a"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_a4b732b0_c3de_410f_90c8_6e0628e0af37","uuid":"324598a7-c5ae-48dc-ba21-1aba90c51392"},"edge_type":"inherent","type":"","uuid":"a35675f1-ff8a-4b6a-b341-b289d8e0f665","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_a4b732b0_c3de_410f_90c8_6e0628e0af37","uuid":"7fcbe89f-dbc6-480b-b0f4-aa2e24dfe95a"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_2de8a964_cdc9_4a5a_8b18_bc5fabf8583d","uuid":"07a7682f-81df-438e-b546-32049aaf48f5"},"edge_type":"inherent","type":"","uuid":"2763409f-0d78-4f1d-b3cb-738b560b267f","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_a4b732b0_c3de_410f_90c8_6e0628e0af37","uuid":"324598a7-c5ae-48dc-ba21-1aba90c51392"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_03377180_ffea_4ceb_b4c2_47aecdce938e","uuid":"af15bd9a-582c-41d6-bb64-0df7663f0c18"},"edge_type":"inherent","type":"","uuid":"8020e451-b37a-4d89-b217-9342907a9538","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_9d94b753_f455_4679_a3e0_06e8ec334dd7","uuid":"08eea2a7-e8b0-4a12-9ec0-c5edae4ad817"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_9d94b753_f455_4679_a3e0_06e8ec334dd7","uuid":"08eea2a7-e8b0-4a12-9ec0-c5edae4ad817"},"edge_type":"inherent","type":"","uuid":"8a3c9627-f4c1-46e1-82b2-36d2fb12b40b","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_2de8a964_cdc9_4a5a_8b18_bc5fabf8583d","uuid":"07a7682f-81df-438e-b546-32049aaf48f5"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_03377180_ffea_4ceb_b4c2_47aecdce938e"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"49669086_deployment","uuid":"03377180-ffea-4ceb-b4c2-47aecdce938e"},"retries":"0","description":"","type":"CREATE_DEPLOYMENT_ELEMENT","uuid":"af15bd9a-582c-41d6-bb64-0df7663f0c18","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Provision_03377180_ffea_4ceb_b4c2_47aecdce938e"},{"target_any_local_reference":{"kind":"app_substrate","name":"MSSQL2014","uuid":"9d94b753-f455-4679-a3e0-06e8ec334dd7"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"08eea2a7-e8b0-4a12-9ec0-c5edae4ad817","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"49669086_deployment","uuid":"03377180-ffea-4ceb-b4c2-47aecdce938e"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_9d94b753_f455_4679_a3e0_06e8ec334dd7","uuid":"66990a4e-eb6f-4c8e-a226-b61d7636aaaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Substrate_9d94b753_f455_4679_a3e0_06e8ec334dd7"},{"target_any_local_reference":{"kind":"app_package","name":"MSSQLPackage","uuid":"2de8a964-cdc9-4a5a-8b18-bc5fabf8583d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"07a7682f-81df-438e-b546-32049aaf48f5","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"49669086_deployment","uuid":"03377180-ffea-4ceb-b4c2-47aecdce938e"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_2de8a964_cdc9_4a5a_8b18_bc5fabf8583d","uuid":"b03242bb-edc3-4243-a5ef-45cb2573b27e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_2de8a964_cdc9_4a5a_8b18_bc5fabf8583d"},{"target_any_local_reference":{"kind":"app_service","name":"MSSQL","uuid":"a4b732b0-c3de-410f-90c8-6e0628e0af37"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"324598a7-c5ae-48dc-ba21-1aba90c51392","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"49669086_deployment","uuid":"03377180-ffea-4ceb-b4c2-47aecdce938e"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"5730e30f_runbook","uuid":"8eccd264-b78a-415c-8a57-000e47a940d5"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_a4b732b0_c3de_410f_90c8_6e0628e0af37"},{"target_any_local_reference":{"kind":"app_service","name":"MSSQL","uuid":"a4b732b0-c3de-410f-90c8-6e0628e0af37"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"7fcbe89f-dbc6-480b-b0f4-aa2e24dfe95a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"49669086_deployment","uuid":"03377180-ffea-4ceb-b4c2-47aecdce938e"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0263f5a9_runbook","uuid":"798e0d01-fa9b-49f9-8aba-a3fe8cf77617"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_a4b732b0_c3de_410f_90c8_6e0628e0af37"}],"description":"","message_list":[],"uuid":"4d5b9bc3-7841-44de-9afc-ba85832a5b28","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_03377180_ffea_4ceb_b4c2_47aecdce938e","uuid":"82036130-cfdf-4bbf-9b9f-26b33bade9f1"},"name":"SYS_GEN__Runbook_Deployment_03377180_ffea_4ceb_b4c2_47aecdce938e"}},{"description":"System action for starting an application","message_list":[],"uuid":"3d0296f2-4c5f-4d56-a978-6325718956dd","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"49669086_deployment","uuid":"03377180-ffea-4ceb-b4c2-47aecdce938e"},"retries":"0","description":"","type":"DAG","uuid":"9b87d40f-1974-4b88-90a2-f92dd60e6205","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_9d94b753_f455_4679_a3e0_06e8ec334dd7","uuid":"8e36e18c-a771-48c2-ae62-113de02be37a"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_a4b732b0_c3de_410f_90c8_6e0628e0af37","uuid":"f0e43313-bac9-4c21-9c1f-52074ef81950"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_9d94b753_f455_4679_a3e0_06e8ec334dd7","uuid":"8e36e18c-a771-48c2-ae62-113de02be37a"},"edge_type":"inherent","type":"","uuid":"110720b2-78bf-4caa-8eed-51153329de9c","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_a4b732b0_c3de_410f_90c8_6e0628e0af37","uuid":"f0e43313-bac9-4c21-9c1f-52074ef81950"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_03377180_ffea_4ceb_b4c2_47aecdce938e"},{"target_any_local_reference":{"kind":"app_substrate","name":"MSSQL2014","uuid":"9d94b753-f455-4679-a3e0-06e8ec334dd7"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"8e36e18c-a771-48c2-ae62-113de02be37a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"49669086_deployment","uuid":"03377180-ffea-4ceb-b4c2-47aecdce938e"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_9d94b753_f455_4679_a3e0_06e8ec334dd7","uuid":"db66dec6-f0ca-4ad7-8a8c-1e5cdc881c82"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Substrate_9d94b753_f455_4679_a3e0_06e8ec334dd7"},{"target_any_local_reference":{"kind":"app_service","name":"MSSQL","uuid":"a4b732b0-c3de-410f-90c8-6e0628e0af37"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"f0e43313-bac9-4c21-9c1f-52074ef81950","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"49669086_deployment","uuid":"03377180-ffea-4ceb-b4c2-47aecdce938e"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0263f5a9_runbook","uuid":"798e0d01-fa9b-49f9-8aba-a3fe8cf77617"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_a4b732b0_c3de_410f_90c8_6e0628e0af37"}],"description":"","message_list":[],"uuid":"03ae4d9a-5b35-4107-81a2-5049135c7043","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_03377180_ffea_4ceb_b4c2_47aecdce938e","uuid":"9b87d40f-1974-4b88-90a2-f92dd60e6205"},"name":"SYS_GEN__Runbook_Deployment_03377180_ffea_4ceb_b4c2_47aecdce938e"}},{"description":"System action for restarting an application","message_list":[],"uuid":"1e6cee40-7548-4706-9364-1d8c4d7c8481","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"49669086_deployment","uuid":"03377180-ffea-4ceb-b4c2-47aecdce938e"},"retries":"0","description":"","type":"DAG","uuid":"8a1b3f7b-446b-43ab-8a5e-ab9398c727ee","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_9d94b753_f455_4679_a3e0_06e8ec334dd7","uuid":"bd97bea4-4dee-4b58-8ce8-b5d64a5af8ff"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_a4b732b0_c3de_410f_90c8_6e0628e0af37","uuid":"af932eef-59c5-4445-a007-d58f816cffec"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_9d94b753_f455_4679_a3e0_06e8ec334dd7","uuid":"bd97bea4-4dee-4b58-8ce8-b5d64a5af8ff"},"edge_type":"inherent","type":"","uuid":"e297f5bc-3046-4d72-9d83-bd0aa736f42e","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_a4b732b0_c3de_410f_90c8_6e0628e0af37","uuid":"af932eef-59c5-4445-a007-d58f816cffec"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_03377180_ffea_4ceb_b4c2_47aecdce938e"},{"target_any_local_reference":{"kind":"app_substrate","name":"MSSQL2014","uuid":"9d94b753-f455-4679-a3e0-06e8ec334dd7"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"bd97bea4-4dee-4b58-8ce8-b5d64a5af8ff","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"49669086_deployment","uuid":"03377180-ffea-4ceb-b4c2-47aecdce938e"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_9d94b753_f455_4679_a3e0_06e8ec334dd7","uuid":"15ecd5d4-e50b-43c0-b4c6-0ba58143bb23"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Substrate_9d94b753_f455_4679_a3e0_06e8ec334dd7"},{"target_any_local_reference":{"kind":"app_service","name":"MSSQL","uuid":"a4b732b0-c3de-410f-90c8-6e0628e0af37"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"af932eef-59c5-4445-a007-d58f816cffec","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"49669086_deployment","uuid":"03377180-ffea-4ceb-b4c2-47aecdce938e"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"a059f54d_runbook","uuid":"b8872014-4fdf-4e44-8d1a-f6ab05f66c45"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_a4b732b0_c3de_410f_90c8_6e0628e0af37"}],"description":"","message_list":[],"uuid":"5ceabe53-a4fc-4152-8e9c-09f9ad566319","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_03377180_ffea_4ceb_b4c2_47aecdce938e","uuid":"8a1b3f7b-446b-43ab-8a5e-ab9398c727ee"},"name":"SYS_GEN__Runbook_Deployment_03377180_ffea_4ceb_b4c2_47aecdce938e"}},{"description":"System action for stopping an application","message_list":[],"uuid":"5bb251d1-a4e2-48dc-a305-f2b58d9b358d","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"49669086_deployment","uuid":"03377180-ffea-4ceb-b4c2-47aecdce938e"},"retries":"0","description":"","type":"DAG","uuid":"3a6cda0a-8b49-45f8-a38c-1d18faed780e","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_a4b732b0_c3de_410f_90c8_6e0628e0af37","uuid":"9766bad5-98fa-4a6f-afdc-821cae96dff3"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_9d94b753_f455_4679_a3e0_06e8ec334dd7","uuid":"203cd5a5-d5bd-4658-9aac-cccc4009bb76"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_a4b732b0_c3de_410f_90c8_6e0628e0af37","uuid":"9766bad5-98fa-4a6f-afdc-821cae96dff3"},"edge_type":"inherent","type":"","uuid":"322928fe-d93b-4b53-965c-1e74088b815f","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_9d94b753_f455_4679_a3e0_06e8ec334dd7","uuid":"203cd5a5-d5bd-4658-9aac-cccc4009bb76"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_03377180_ffea_4ceb_b4c2_47aecdce938e"},{"target_any_local_reference":{"kind":"app_service","name":"MSSQL","uuid":"a4b732b0-c3de-410f-90c8-6e0628e0af37"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"9766bad5-98fa-4a6f-afdc-821cae96dff3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"49669086_deployment","uuid":"03377180-ffea-4ceb-b4c2-47aecdce938e"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"8aadc288_runbook","uuid":"eb1b35f8-5520-4c2e-af1c-4c637ff02f14"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_a4b732b0_c3de_410f_90c8_6e0628e0af37"},{"target_any_local_reference":{"kind":"app_substrate","name":"MSSQL2014","uuid":"9d94b753-f455-4679-a3e0-06e8ec334dd7"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"203cd5a5-d5bd-4658-9aac-cccc4009bb76","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"49669086_deployment","uuid":"03377180-ffea-4ceb-b4c2-47aecdce938e"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_9d94b753_f455_4679_a3e0_06e8ec334dd7","uuid":"6fae3d98-06f5-495f-bce1-ed25590510a0"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Substrate_9d94b753_f455_4679_a3e0_06e8ec334dd7"}],"description":"","message_list":[],"uuid":"25594ba2-4a15-40a2-b3a4-bc6f000a0593","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_03377180_ffea_4ceb_b4c2_47aecdce938e","uuid":"3a6cda0a-8b49-45f8-a38c-1d18faed780e"},"name":"SYS_GEN__Runbook_Deployment_03377180_ffea_4ceb_b4c2_47aecdce938e"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"2647f01d-e8ac-456a-a6e0-42791436282a","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"49669086_deployment","uuid":"03377180-ffea-4ceb-b4c2-47aecdce938e"},"retries":"0","description":"","type":"DAG","uuid":"e741c89a-2ee0-44c1-88ad-223f826d4010","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_a4b732b0_c3de_410f_90c8_6e0628e0af37","uuid":"0c2b0f2d-dd2d-49dc-aff8-713f5274e750"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_a4b732b0_c3de_410f_90c8_6e0628e0af37","uuid":"8b512566-c9a6-475a-940a-a61cbd5c80f2"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_2de8a964_cdc9_4a5a_8b18_bc5fabf8583d","uuid":"d3670583-dfe6-4aff-a8a0-4e1afaedee4f"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_9d94b753_f455_4679_a3e0_06e8ec334dd7","uuid":"153512ed-9dcc-4ad6-a89d-e4e1bad75782"},{"kind":"app_task","name":"SYS_GEN__DE_Delete_03377180_ffea_4ceb_b4c2_47aecdce938e","uuid":"d8a12641-da89-4592-95b6-56f049b117cd"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_a4b732b0_c3de_410f_90c8_6e0628e0af37","uuid":"0c2b0f2d-dd2d-49dc-aff8-713f5274e750"},"edge_type":"inherent","type":"","uuid":"69a46018-ce1f-42b4-91c6-5d194103f485","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_a4b732b0_c3de_410f_90c8_6e0628e0af37","uuid":"8b512566-c9a6-475a-940a-a61cbd5c80f2"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_a4b732b0_c3de_410f_90c8_6e0628e0af37","uuid":"8b512566-c9a6-475a-940a-a61cbd5c80f2"},"edge_type":"inherent","type":"","uuid":"871cb4d5-c4d0-4bca-b93b-632bae6c977b","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_2de8a964_cdc9_4a5a_8b18_bc5fabf8583d","uuid":"d3670583-dfe6-4aff-a8a0-4e1afaedee4f"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_9d94b753_f455_4679_a3e0_06e8ec334dd7","uuid":"153512ed-9dcc-4ad6-a89d-e4e1bad75782"},"edge_type":"inherent","type":"","uuid":"f198600c-f731-4f50-b43d-5d0dff19d462","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Delete_03377180_ffea_4ceb_b4c2_47aecdce938e","uuid":"d8a12641-da89-4592-95b6-56f049b117cd"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_2de8a964_cdc9_4a5a_8b18_bc5fabf8583d","uuid":"d3670583-dfe6-4aff-a8a0-4e1afaedee4f"},"edge_type":"inherent","type":"","uuid":"524ef31e-a422-425a-bf9f-f58e8b6fb2fa","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_9d94b753_f455_4679_a3e0_06e8ec334dd7","uuid":"153512ed-9dcc-4ad6-a89d-e4e1bad75782"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_03377180_ffea_4ceb_b4c2_47aecdce938e"},{"target_any_local_reference":{"kind":"app_service","name":"MSSQL","uuid":"a4b732b0-c3de-410f-90c8-6e0628e0af37"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"0c2b0f2d-dd2d-49dc-aff8-713f5274e750","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"49669086_deployment","uuid":"03377180-ffea-4ceb-b4c2-47aecdce938e"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"8aadc288_runbook","uuid":"eb1b35f8-5520-4c2e-af1c-4c637ff02f14"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_a4b732b0_c3de_410f_90c8_6e0628e0af37"},{"target_any_local_reference":{"kind":"app_service","name":"MSSQL","uuid":"a4b732b0-c3de-410f-90c8-6e0628e0af37"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"8b512566-c9a6-475a-940a-a61cbd5c80f2","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"49669086_deployment","uuid":"03377180-ffea-4ceb-b4c2-47aecdce938e"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"b01e7edf_runbook","uuid":"441b0363-81e1-4686-a82a-33594f1ec102"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_a4b732b0_c3de_410f_90c8_6e0628e0af37"},{"target_any_local_reference":{"kind":"app_package","name":"MSSQLPackage","uuid":"2de8a964-cdc9-4a5a-8b18-bc5fabf8583d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"d3670583-dfe6-4aff-a8a0-4e1afaedee4f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"49669086_deployment","uuid":"03377180-ffea-4ceb-b4c2-47aecdce938e"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_2de8a964_cdc9_4a5a_8b18_bc5fabf8583d","uuid":"dc56f856-3826-41db-9ce8-871f9d5c17ca"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_2de8a964_cdc9_4a5a_8b18_bc5fabf8583d"},{"target_any_local_reference":{"kind":"app_substrate","name":"MSSQL2014","uuid":"9d94b753-f455-4679-a3e0-06e8ec334dd7"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"153512ed-9dcc-4ad6-a89d-e4e1bad75782","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"49669086_deployment","uuid":"03377180-ffea-4ceb-b4c2-47aecdce938e"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_9d94b753_f455_4679_a3e0_06e8ec334dd7","uuid":"b17f257a-08db-4bf8-adee-4a365998c260"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Substrate_9d94b753_f455_4679_a3e0_06e8ec334dd7"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"49669086_deployment","uuid":"03377180-ffea-4ceb-b4c2-47aecdce938e"},"retries":"0","description":"","type":"DELETE_DEPLOYMENT_ELEMENT","uuid":"d8a12641-da89-4592-95b6-56f049b117cd","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Delete_03377180_ffea_4ceb_b4c2_47aecdce938e"}],"description":"","message_list":[],"uuid":"3ea4620c-29dc-4663-95eb-501cffd9848a","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_03377180_ffea_4ceb_b4c2_47aecdce938e","uuid":"e741c89a-2ee0-44c1-88ad-223f826d4010"},"name":"SYS_GEN__Runbook_Deployment_03377180_ffea_4ceb_b4c2_47aecdce938e"}},{"description":"System action for scaleout","message_list":[],"uuid":"9cb33fff-2ccd-4fdd-8383-af7e67027e57","name":"action_scaleout","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"49669086_deployment","uuid":"03377180-ffea-4ceb-b4c2-47aecdce938e"},"retries":"0","description":"","type":"DAG","uuid":"b3c3f243-aabb-4964-948f-efb518ca12ab","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Deployment_Scaleout_03377180_ffea_4ceb_b4c2_47aecdce938e","uuid":"97a5cd5b-1fb4-4b32-aa5b-9a5260914142"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_03377180_ffea_4ceb_b4c2_47aecdce938e"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"49669086_deployment","uuid":"03377180-ffea-4ceb-b4c2-47aecdce938e"},"retries":"0","description":"","type":"SCALING","uuid":"97a5cd5b-1fb4-4b32-aa5b-9a5260914142","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{scaling_count}@@","type":"","scaling_type":"SCALEOUT"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Deployment_Scaleout_03377180_ffea_4ceb_b4c2_47aecdce938e"}],"description":"","message_list":[],"uuid":"393e5877-3c6b-42b3-a29c-9d9ea388390e","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"feab1d04-6cdc-4085-ad2a-ee4757fbe9c9","value":"0","label":"","state":"NOT_VALIDATED","attrs":{},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"scaling_count"}],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_03377180_ffea_4ceb_b4c2_47aecdce938e","uuid":"b3c3f243-aabb-4964-948f-efb518ca12ab"},"name":"SYS_GEN__Runbook_Deployment_03377180_ffea_4ceb_b4c2_47aecdce938e"}},{"description":"System action for scalein","message_list":[],"uuid":"05b349d2-431e-4f66-b614-d0e469990123","name":"action_scalein","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"49669086_deployment","uuid":"03377180-ffea-4ceb-b4c2-47aecdce938e"},"retries":"0","description":"","type":"DAG","uuid":"f2aee2aa-ce95-4132-9ed4-461b3c5cb52c","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Deployment_Scalein_03377180_ffea_4ceb_b4c2_47aecdce938e","uuid":"a58198fd-c544-47f3-87f8-5d9bd7121122"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_03377180_ffea_4ceb_b4c2_47aecdce938e"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"49669086_deployment","uuid":"03377180-ffea-4ceb-b4c2-47aecdce938e"},"retries":"0","description":"","type":"SCALING","uuid":"a58198fd-c544-47f3-87f8-5d9bd7121122","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{scaling_count}@@","type":"","scaling_type":"SCALEIN"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Deployment_Scalein_03377180_ffea_4ceb_b4c2_47aecdce938e"}],"description":"","message_list":[],"uuid":"93042e74-449d-474b-af13-c5abb1344350","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"6f37dbc7-4174-4538-aef1-718fd9b44fe7","value":"0","label":"","state":"NOT_VALIDATED","attrs":{},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"scaling_count"}],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_03377180_ffea_4ceb_b4c2_47aecdce938e","uuid":"f2aee2aa-ce95-4132-9ed4-461b3c5cb52c"},"name":"SYS_GEN__Runbook_Deployment_03377180_ffea_4ceb_b4c2_47aecdce938e"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"a27f105b-e4ea-4cc7-8d91-4ea8a260b145","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"49669086_deployment","uuid":"03377180-ffea-4ceb-b4c2-47aecdce938e"},"retries":"0","description":"","type":"DAG","uuid":"f05c4c83-cb8c-4c14-9dc5-b7cad2cebbfd","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_a4b732b0_c3de_410f_90c8_6e0628e0af37","uuid":"1cb237a2-7b91-4ad6-a332-738225aedad5"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_2de8a964_cdc9_4a5a_8b18_bc5fabf8583d","uuid":"9984e00c-3553-4dbb-a4ca-e881b898e89c"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_9d94b753_f455_4679_a3e0_06e8ec334dd7","uuid":"80de6fc2-97dc-43a0-b551-2b271d12ff68"},{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_03377180_ffea_4ceb_b4c2_47aecdce938e","uuid":"f40279db-db34-4ab4-8f2e-533d338d0eab"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_a4b732b0_c3de_410f_90c8_6e0628e0af37","uuid":"1cb237a2-7b91-4ad6-a332-738225aedad5"},"edge_type":"inherent","type":"","uuid":"b2909db5-c707-413c-b598-01b24c0f329f","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_2de8a964_cdc9_4a5a_8b18_bc5fabf8583d","uuid":"9984e00c-3553-4dbb-a4ca-e881b898e89c"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_9d94b753_f455_4679_a3e0_06e8ec334dd7","uuid":"80de6fc2-97dc-43a0-b551-2b271d12ff68"},"edge_type":"inherent","type":"","uuid":"25e3afce-6b3f-4a56-b7aa-d124f307ec3a","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_03377180_ffea_4ceb_b4c2_47aecdce938e","uuid":"f40279db-db34-4ab4-8f2e-533d338d0eab"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_2de8a964_cdc9_4a5a_8b18_bc5fabf8583d","uuid":"9984e00c-3553-4dbb-a4ca-e881b898e89c"},"edge_type":"inherent","type":"","uuid":"63f1719a-1776-484a-b5c3-ab4bccc7366b","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_9d94b753_f455_4679_a3e0_06e8ec334dd7","uuid":"80de6fc2-97dc-43a0-b551-2b271d12ff68"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_03377180_ffea_4ceb_b4c2_47aecdce938e"},{"target_any_local_reference":{"kind":"app_service","name":"MSSQL","uuid":"a4b732b0-c3de-410f-90c8-6e0628e0af37"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"1cb237a2-7b91-4ad6-a332-738225aedad5","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"49669086_deployment","uuid":"03377180-ffea-4ceb-b4c2-47aecdce938e"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_a4b732b0_c3de_410f_90c8_6e0628e0af37","uuid":"cda98b10-e8b0-43dd-ad26-4bb604fd7906"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_a4b732b0_c3de_410f_90c8_6e0628e0af37"},{"target_any_local_reference":{"kind":"app_package","name":"MSSQLPackage","uuid":"2de8a964-cdc9-4a5a-8b18-bc5fabf8583d"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"9984e00c-3553-4dbb-a4ca-e881b898e89c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_2de8a964_cdc9_4a5a_8b18_bc5fabf8583d"},{"target_any_local_reference":{"kind":"app_substrate","name":"MSSQL2014","uuid":"9d94b753-f455-4679-a3e0-06e8ec334dd7"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"80de6fc2-97dc-43a0-b551-2b271d12ff68","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"49669086_deployment","uuid":"03377180-ffea-4ceb-b4c2-47aecdce938e"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_9d94b753_f455_4679_a3e0_06e8ec334dd7","uuid":"b99cf511-2fa6-4fe0-a33d-7f6a4fd80245"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Substrate_9d94b753_f455_4679_a3e0_06e8ec334dd7"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"49669086_deployment","uuid":"03377180-ffea-4ceb-b4c2-47aecdce938e"},"retries":"0","description":"","type":"SOFT_DELETE_DEPLOYMENT_ELEMENT","uuid":"f40279db-db34-4ab4-8f2e-533d338d0eab","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Soft_Delete_03377180_ffea_4ceb_b4c2_47aecdce938e"}],"description":"","message_list":[],"uuid":"4e7c9dab-5c6a-43c2-ba63-002132a8e918","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_03377180_ffea_4ceb_b4c2_47aecdce938e","uuid":"f05c4c83-cb8c-4c14-9dc5-b7cad2cebbfd"},"name":"SYS_GEN__Runbook_Deployment_03377180_ffea_4ceb_b4c2_47aecdce938e"}}],"message_list":[],"published_service_local_reference_list":[],"uuid":"03377180-ffea-4ceb-b4c2-47aecdce938e","min_replicas":"1","state":"DRAFT","max_replicas":"1","depends_on_list":[],"editables":{},"package_local_reference_list":[{"kind":"app_package","name":"MSSQLPackage","uuid":"2de8a964-cdc9-4a5a-8b18-bc5fabf8583d"}],"substrate_local_reference":{"kind":"app_substrate","name":"MSSQL2014","uuid":"9d94b753-f455-4679-a3e0-06e8ec334dd7"},"type":"GREENFIELD","options":{},"variable_list":[],"name":"49669086_deployment"}],"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"de56eed0-a9f9-46ba-b29e-a0fb2605c2d9","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"Nutanix","uuid":"91c525db-40dc-4651-880c-33189dfcec7f"},"retries":"0","description":"","type":"DAG","uuid":"5814ad8e-b6ac-4325-9ffb-f67dce71861d","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__DE_Provision_03377180_ffea_4ceb_b4c2_47aecdce938e","uuid":"728fe728-3f59-44d0-b6de-2e4c01cfa194"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_9d94b753_f455_4679_a3e0_06e8ec334dd7","uuid":"124e2066-8b94-46c6-aa3a-fea305ca23f8"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_2de8a964_cdc9_4a5a_8b18_bc5fabf8583d","uuid":"2c53d374-13df-47fe-9e6b-d53373c2eb5b"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_a4b732b0_c3de_410f_90c8_6e0628e0af37","uuid":"cddc1cd2-4a40-4760-a86e-63f245cd0f23"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_a4b732b0_c3de_410f_90c8_6e0628e0af37","uuid":"1aa4b5bb-25d4-4f18-b6a1-395c9925eb5a"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_a4b732b0_c3de_410f_90c8_6e0628e0af37","uuid":"cddc1cd2-4a40-4760-a86e-63f245cd0f23"},"edge_type":"inherent","type":"","uuid":"c43d0942-ed24-462f-9223-195a96b2132f","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_a4b732b0_c3de_410f_90c8_6e0628e0af37","uuid":"1aa4b5bb-25d4-4f18-b6a1-395c9925eb5a"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_2de8a964_cdc9_4a5a_8b18_bc5fabf8583d","uuid":"2c53d374-13df-47fe-9e6b-d53373c2eb5b"},"edge_type":"inherent","type":"","uuid":"17876130-3954-4844-855d-ccec2f900626","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_a4b732b0_c3de_410f_90c8_6e0628e0af37","uuid":"cddc1cd2-4a40-4760-a86e-63f245cd0f23"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_03377180_ffea_4ceb_b4c2_47aecdce938e","uuid":"728fe728-3f59-44d0-b6de-2e4c01cfa194"},"edge_type":"inherent","type":"","uuid":"a17120e7-87aa-4047-9c7d-3f2cad9e80ca","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_9d94b753_f455_4679_a3e0_06e8ec334dd7","uuid":"124e2066-8b94-46c6-aa3a-fea305ca23f8"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_9d94b753_f455_4679_a3e0_06e8ec334dd7","uuid":"124e2066-8b94-46c6-aa3a-fea305ca23f8"},"edge_type":"inherent","type":"","uuid":"59ce6a53-3601-4330-8c11-162ed43ffbe6","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_2de8a964_cdc9_4a5a_8b18_bc5fabf8583d","uuid":"2c53d374-13df-47fe-9e6b-d53373c2eb5b"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_91c525db_40dc_4651_880c_33189dfcec7f"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"49669086_deployment","uuid":"03377180-ffea-4ceb-b4c2-47aecdce938e"},"retries":"0","description":"","type":"CREATE_DEPLOYMENT_ELEMENT","uuid":"728fe728-3f59-44d0-b6de-2e4c01cfa194","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Provision_03377180_ffea_4ceb_b4c2_47aecdce938e"},{"target_any_local_reference":{"kind":"app_substrate","name":"MSSQL2014","uuid":"9d94b753-f455-4679-a3e0-06e8ec334dd7"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"124e2066-8b94-46c6-aa3a-fea305ca23f8","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"49669086_deployment","uuid":"03377180-ffea-4ceb-b4c2-47aecdce938e"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_9d94b753_f455_4679_a3e0_06e8ec334dd7","uuid":"66990a4e-eb6f-4c8e-a226-b61d7636aaaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Substrate_9d94b753_f455_4679_a3e0_06e8ec334dd7"},{"target_any_local_reference":{"kind":"app_package","name":"MSSQLPackage","uuid":"2de8a964-cdc9-4a5a-8b18-bc5fabf8583d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"2c53d374-13df-47fe-9e6b-d53373c2eb5b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"49669086_deployment","uuid":"03377180-ffea-4ceb-b4c2-47aecdce938e"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_2de8a964_cdc9_4a5a_8b18_bc5fabf8583d","uuid":"b03242bb-edc3-4243-a5ef-45cb2573b27e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_2de8a964_cdc9_4a5a_8b18_bc5fabf8583d"},{"target_any_local_reference":{"kind":"app_service","name":"MSSQL","uuid":"a4b732b0-c3de-410f-90c8-6e0628e0af37"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"cddc1cd2-4a40-4760-a86e-63f245cd0f23","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"49669086_deployment","uuid":"03377180-ffea-4ceb-b4c2-47aecdce938e"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"5730e30f_runbook","uuid":"8eccd264-b78a-415c-8a57-000e47a940d5"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_a4b732b0_c3de_410f_90c8_6e0628e0af37"},{"target_any_local_reference":{"kind":"app_service","name":"MSSQL","uuid":"a4b732b0-c3de-410f-90c8-6e0628e0af37"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"1aa4b5bb-25d4-4f18-b6a1-395c9925eb5a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"49669086_deployment","uuid":"03377180-ffea-4ceb-b4c2-47aecdce938e"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0263f5a9_runbook","uuid":"798e0d01-fa9b-49f9-8aba-a3fe8cf77617"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_a4b732b0_c3de_410f_90c8_6e0628e0af37"}],"description":"","message_list":[],"uuid":"cb9b2039-db15-454a-9786-7f574075ddbe","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_91c525db_40dc_4651_880c_33189dfcec7f","uuid":"5814ad8e-b6ac-4325-9ffb-f67dce71861d"},"name":"SYS_GEN__Runbook_Application_91c525db_40dc_4651_880c_33189dfcec7f"}},{"description":"System action for starting an application","message_list":[],"uuid":"212bec2c-75b9-43bc-a82c-136831f8d8f3","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"Nutanix","uuid":"91c525db-40dc-4651-880c-33189dfcec7f"},"retries":"0","description":"","type":"DAG","uuid":"6d00e580-1995-4d5d-91bc-1b58d56739a2","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_9d94b753_f455_4679_a3e0_06e8ec334dd7","uuid":"6cac6640-4f58-4c30-be4b-2b32de743c40"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_a4b732b0_c3de_410f_90c8_6e0628e0af37","uuid":"11dbb95f-430d-46a6-ae81-9e0765c542a4"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_9d94b753_f455_4679_a3e0_06e8ec334dd7","uuid":"6cac6640-4f58-4c30-be4b-2b32de743c40"},"edge_type":"inherent","type":"","uuid":"baef6ff1-aadc-4f63-b1a1-a74ad8dad30d","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_a4b732b0_c3de_410f_90c8_6e0628e0af37","uuid":"11dbb95f-430d-46a6-ae81-9e0765c542a4"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_91c525db_40dc_4651_880c_33189dfcec7f"},{"target_any_local_reference":{"kind":"app_substrate","name":"MSSQL2014","uuid":"9d94b753-f455-4679-a3e0-06e8ec334dd7"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"6cac6640-4f58-4c30-be4b-2b32de743c40","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"49669086_deployment","uuid":"03377180-ffea-4ceb-b4c2-47aecdce938e"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_9d94b753_f455_4679_a3e0_06e8ec334dd7","uuid":"db66dec6-f0ca-4ad7-8a8c-1e5cdc881c82"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Substrate_9d94b753_f455_4679_a3e0_06e8ec334dd7"},{"target_any_local_reference":{"kind":"app_service","name":"MSSQL","uuid":"a4b732b0-c3de-410f-90c8-6e0628e0af37"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"11dbb95f-430d-46a6-ae81-9e0765c542a4","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"49669086_deployment","uuid":"03377180-ffea-4ceb-b4c2-47aecdce938e"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0263f5a9_runbook","uuid":"798e0d01-fa9b-49f9-8aba-a3fe8cf77617"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_a4b732b0_c3de_410f_90c8_6e0628e0af37"}],"description":"","message_list":[],"uuid":"6f8d0cb4-c1e5-4513-b8f0-1a9121290ef4","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_91c525db_40dc_4651_880c_33189dfcec7f","uuid":"6d00e580-1995-4d5d-91bc-1b58d56739a2"},"name":"SYS_GEN__Runbook_Application_91c525db_40dc_4651_880c_33189dfcec7f"}},{"description":"System action for restarting an application","message_list":[],"uuid":"2fcd5f5a-a21a-4af3-98ac-eb0041a45ba1","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"Nutanix","uuid":"91c525db-40dc-4651-880c-33189dfcec7f"},"retries":"0","description":"","type":"DAG","uuid":"cd237c88-7ce0-4b87-8675-b80dc0abd027","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_9d94b753_f455_4679_a3e0_06e8ec334dd7","uuid":"808a90ff-2cb9-4fae-b1c9-c7c4a5187ba5"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_a4b732b0_c3de_410f_90c8_6e0628e0af37","uuid":"79d1bbac-fd14-4a12-a2d8-92b005753d4f"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_9d94b753_f455_4679_a3e0_06e8ec334dd7","uuid":"808a90ff-2cb9-4fae-b1c9-c7c4a5187ba5"},"edge_type":"inherent","type":"","uuid":"272a93f4-6e22-4aea-94d8-efd929601946","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_a4b732b0_c3de_410f_90c8_6e0628e0af37","uuid":"79d1bbac-fd14-4a12-a2d8-92b005753d4f"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_91c525db_40dc_4651_880c_33189dfcec7f"},{"target_any_local_reference":{"kind":"app_substrate","name":"MSSQL2014","uuid":"9d94b753-f455-4679-a3e0-06e8ec334dd7"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"808a90ff-2cb9-4fae-b1c9-c7c4a5187ba5","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"49669086_deployment","uuid":"03377180-ffea-4ceb-b4c2-47aecdce938e"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_9d94b753_f455_4679_a3e0_06e8ec334dd7","uuid":"15ecd5d4-e50b-43c0-b4c6-0ba58143bb23"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Substrate_9d94b753_f455_4679_a3e0_06e8ec334dd7"},{"target_any_local_reference":{"kind":"app_service","name":"MSSQL","uuid":"a4b732b0-c3de-410f-90c8-6e0628e0af37"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"79d1bbac-fd14-4a12-a2d8-92b005753d4f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"49669086_deployment","uuid":"03377180-ffea-4ceb-b4c2-47aecdce938e"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"a059f54d_runbook","uuid":"b8872014-4fdf-4e44-8d1a-f6ab05f66c45"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_a4b732b0_c3de_410f_90c8_6e0628e0af37"}],"description":"","message_list":[],"uuid":"3a8fbc9a-cfb4-41e9-89c7-c790c4795bad","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_91c525db_40dc_4651_880c_33189dfcec7f","uuid":"cd237c88-7ce0-4b87-8675-b80dc0abd027"},"name":"SYS_GEN__Runbook_Application_91c525db_40dc_4651_880c_33189dfcec7f"}},{"description":"System action for stopping an application","message_list":[],"uuid":"55f70f03-a031-4995-b801-abcaace97810","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"Nutanix","uuid":"91c525db-40dc-4651-880c-33189dfcec7f"},"retries":"0","description":"","type":"DAG","uuid":"30d7a127-fea0-41b6-8fe6-a2776905ccb9","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_a4b732b0_c3de_410f_90c8_6e0628e0af37","uuid":"e0ba72a7-b671-4bca-99d3-68c6ad8a1d64"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_9d94b753_f455_4679_a3e0_06e8ec334dd7","uuid":"1f6fb07d-e01f-43f1-863c-ae77ffd57330"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_a4b732b0_c3de_410f_90c8_6e0628e0af37","uuid":"e0ba72a7-b671-4bca-99d3-68c6ad8a1d64"},"edge_type":"inherent","type":"","uuid":"3211d19a-8a76-4718-a7c3-68ed11e2a93a","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_9d94b753_f455_4679_a3e0_06e8ec334dd7","uuid":"1f6fb07d-e01f-43f1-863c-ae77ffd57330"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_91c525db_40dc_4651_880c_33189dfcec7f"},{"target_any_local_reference":{"kind":"app_service","name":"MSSQL","uuid":"a4b732b0-c3de-410f-90c8-6e0628e0af37"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"e0ba72a7-b671-4bca-99d3-68c6ad8a1d64","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"49669086_deployment","uuid":"03377180-ffea-4ceb-b4c2-47aecdce938e"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"8aadc288_runbook","uuid":"eb1b35f8-5520-4c2e-af1c-4c637ff02f14"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_a4b732b0_c3de_410f_90c8_6e0628e0af37"},{"target_any_local_reference":{"kind":"app_substrate","name":"MSSQL2014","uuid":"9d94b753-f455-4679-a3e0-06e8ec334dd7"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"1f6fb07d-e01f-43f1-863c-ae77ffd57330","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"49669086_deployment","uuid":"03377180-ffea-4ceb-b4c2-47aecdce938e"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_9d94b753_f455_4679_a3e0_06e8ec334dd7","uuid":"6fae3d98-06f5-495f-bce1-ed25590510a0"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Substrate_9d94b753_f455_4679_a3e0_06e8ec334dd7"}],"description":"","message_list":[],"uuid":"7763b384-c423-4629-ae81-c803e43a7575","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_91c525db_40dc_4651_880c_33189dfcec7f","uuid":"30d7a127-fea0-41b6-8fe6-a2776905ccb9"},"name":"SYS_GEN__Runbook_Application_91c525db_40dc_4651_880c_33189dfcec7f"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"b1ca68e0-45fe-47d4-a4f5-b06100b7e567","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"Nutanix","uuid":"91c525db-40dc-4651-880c-33189dfcec7f"},"retries":"0","description":"","type":"DAG","uuid":"b4de3008-0cdd-47a1-ad80-cd65947f6706","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_a4b732b0_c3de_410f_90c8_6e0628e0af37","uuid":"123d580e-33e9-42b9-a74c-5a54e0f45058"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_a4b732b0_c3de_410f_90c8_6e0628e0af37","uuid":"5f7bccd7-95cd-4900-a1c3-3137cb7f952a"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_2de8a964_cdc9_4a5a_8b18_bc5fabf8583d","uuid":"f824244c-c339-407d-9bc7-8435802752fe"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_9d94b753_f455_4679_a3e0_06e8ec334dd7","uuid":"9f9afa5c-67ee-4aa9-b0b1-2dd619b1367d"},{"kind":"app_task","name":"SYS_GEN__DE_Delete_03377180_ffea_4ceb_b4c2_47aecdce938e","uuid":"3aa2e559-9043-4394-aa98-20f40d6b5777"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_a4b732b0_c3de_410f_90c8_6e0628e0af37","uuid":"123d580e-33e9-42b9-a74c-5a54e0f45058"},"edge_type":"inherent","type":"","uuid":"930fe393-f8a9-4edd-99ef-8823a2fde972","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_a4b732b0_c3de_410f_90c8_6e0628e0af37","uuid":"5f7bccd7-95cd-4900-a1c3-3137cb7f952a"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_a4b732b0_c3de_410f_90c8_6e0628e0af37","uuid":"5f7bccd7-95cd-4900-a1c3-3137cb7f952a"},"edge_type":"inherent","type":"","uuid":"24da035f-c2fa-41d8-ae6f-6c7bfab5edac","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_2de8a964_cdc9_4a5a_8b18_bc5fabf8583d","uuid":"f824244c-c339-407d-9bc7-8435802752fe"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_9d94b753_f455_4679_a3e0_06e8ec334dd7","uuid":"9f9afa5c-67ee-4aa9-b0b1-2dd619b1367d"},"edge_type":"inherent","type":"","uuid":"223ab526-0416-4189-8ea3-f51fc2c7d276","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Delete_03377180_ffea_4ceb_b4c2_47aecdce938e","uuid":"3aa2e559-9043-4394-aa98-20f40d6b5777"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_2de8a964_cdc9_4a5a_8b18_bc5fabf8583d","uuid":"f824244c-c339-407d-9bc7-8435802752fe"},"edge_type":"inherent","type":"","uuid":"d8e6b20c-8e0d-4d7d-9835-5d2e9ae09037","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_9d94b753_f455_4679_a3e0_06e8ec334dd7","uuid":"9f9afa5c-67ee-4aa9-b0b1-2dd619b1367d"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_91c525db_40dc_4651_880c_33189dfcec7f"},{"target_any_local_reference":{"kind":"app_service","name":"MSSQL","uuid":"a4b732b0-c3de-410f-90c8-6e0628e0af37"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"123d580e-33e9-42b9-a74c-5a54e0f45058","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"49669086_deployment","uuid":"03377180-ffea-4ceb-b4c2-47aecdce938e"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"8aadc288_runbook","uuid":"eb1b35f8-5520-4c2e-af1c-4c637ff02f14"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_a4b732b0_c3de_410f_90c8_6e0628e0af37"},{"target_any_local_reference":{"kind":"app_service","name":"MSSQL","uuid":"a4b732b0-c3de-410f-90c8-6e0628e0af37"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"5f7bccd7-95cd-4900-a1c3-3137cb7f952a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"49669086_deployment","uuid":"03377180-ffea-4ceb-b4c2-47aecdce938e"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"b01e7edf_runbook","uuid":"441b0363-81e1-4686-a82a-33594f1ec102"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_a4b732b0_c3de_410f_90c8_6e0628e0af37"},{"target_any_local_reference":{"kind":"app_package","name":"MSSQLPackage","uuid":"2de8a964-cdc9-4a5a-8b18-bc5fabf8583d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"f824244c-c339-407d-9bc7-8435802752fe","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"49669086_deployment","uuid":"03377180-ffea-4ceb-b4c2-47aecdce938e"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_2de8a964_cdc9_4a5a_8b18_bc5fabf8583d","uuid":"dc56f856-3826-41db-9ce8-871f9d5c17ca"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_2de8a964_cdc9_4a5a_8b18_bc5fabf8583d"},{"target_any_local_reference":{"kind":"app_substrate","name":"MSSQL2014","uuid":"9d94b753-f455-4679-a3e0-06e8ec334dd7"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"9f9afa5c-67ee-4aa9-b0b1-2dd619b1367d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"49669086_deployment","uuid":"03377180-ffea-4ceb-b4c2-47aecdce938e"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_9d94b753_f455_4679_a3e0_06e8ec334dd7","uuid":"b17f257a-08db-4bf8-adee-4a365998c260"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Substrate_9d94b753_f455_4679_a3e0_06e8ec334dd7"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"49669086_deployment","uuid":"03377180-ffea-4ceb-b4c2-47aecdce938e"},"retries":"0","description":"","type":"DELETE_DEPLOYMENT_ELEMENT","uuid":"3aa2e559-9043-4394-aa98-20f40d6b5777","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Delete_03377180_ffea_4ceb_b4c2_47aecdce938e"}],"description":"","message_list":[],"uuid":"b7caa1c5-f056-4c3b-882b-eec69c311da5","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_91c525db_40dc_4651_880c_33189dfcec7f","uuid":"b4de3008-0cdd-47a1-ad80-cd65947f6706"},"name":"SYS_GEN__Runbook_Application_91c525db_40dc_4651_880c_33189dfcec7f"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"9dd71f38-f22c-4af1-ae20-fba641d17ec8","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"Nutanix","uuid":"91c525db-40dc-4651-880c-33189dfcec7f"},"retries":"0","description":"","type":"DAG","uuid":"7d23c6b0-f6f1-43be-af78-9ea10d67422d","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_a4b732b0_c3de_410f_90c8_6e0628e0af37","uuid":"f4114c5e-8619-4bc9-a270-2410af2aecc3"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_2de8a964_cdc9_4a5a_8b18_bc5fabf8583d","uuid":"b7d59d14-708c-42db-8a88-1eda3b5c6cc9"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_9d94b753_f455_4679_a3e0_06e8ec334dd7","uuid":"4c69d5a8-24fb-4762-a3bc-0f7edf82a891"},{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_03377180_ffea_4ceb_b4c2_47aecdce938e","uuid":"4f259c91-3629-4d9b-b807-7395259179e5"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_a4b732b0_c3de_410f_90c8_6e0628e0af37","uuid":"f4114c5e-8619-4bc9-a270-2410af2aecc3"},"edge_type":"inherent","type":"","uuid":"a9ef4c9e-7e70-4f56-a3f1-9d3f35bf6d83","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_2de8a964_cdc9_4a5a_8b18_bc5fabf8583d","uuid":"b7d59d14-708c-42db-8a88-1eda3b5c6cc9"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_9d94b753_f455_4679_a3e0_06e8ec334dd7","uuid":"4c69d5a8-24fb-4762-a3bc-0f7edf82a891"},"edge_type":"inherent","type":"","uuid":"de91b036-a949-4537-8de1-03895811aa3e","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_03377180_ffea_4ceb_b4c2_47aecdce938e","uuid":"4f259c91-3629-4d9b-b807-7395259179e5"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_2de8a964_cdc9_4a5a_8b18_bc5fabf8583d","uuid":"b7d59d14-708c-42db-8a88-1eda3b5c6cc9"},"edge_type":"inherent","type":"","uuid":"0c6eb87d-84cc-43e6-bf71-f63f61e34297","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_9d94b753_f455_4679_a3e0_06e8ec334dd7","uuid":"4c69d5a8-24fb-4762-a3bc-0f7edf82a891"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_91c525db_40dc_4651_880c_33189dfcec7f"},{"target_any_local_reference":{"kind":"app_service","name":"MSSQL","uuid":"a4b732b0-c3de-410f-90c8-6e0628e0af37"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"f4114c5e-8619-4bc9-a270-2410af2aecc3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"49669086_deployment","uuid":"03377180-ffea-4ceb-b4c2-47aecdce938e"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_a4b732b0_c3de_410f_90c8_6e0628e0af37","uuid":"cda98b10-e8b0-43dd-ad26-4bb604fd7906"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_a4b732b0_c3de_410f_90c8_6e0628e0af37"},{"target_any_local_reference":{"kind":"app_package","name":"MSSQLPackage","uuid":"2de8a964-cdc9-4a5a-8b18-bc5fabf8583d"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"b7d59d14-708c-42db-8a88-1eda3b5c6cc9","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_2de8a964_cdc9_4a5a_8b18_bc5fabf8583d"},{"target_any_local_reference":{"kind":"app_substrate","name":"MSSQL2014","uuid":"9d94b753-f455-4679-a3e0-06e8ec334dd7"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"4c69d5a8-24fb-4762-a3bc-0f7edf82a891","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"49669086_deployment","uuid":"03377180-ffea-4ceb-b4c2-47aecdce938e"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_9d94b753_f455_4679_a3e0_06e8ec334dd7","uuid":"b99cf511-2fa6-4fe0-a33d-7f6a4fd80245"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Substrate_9d94b753_f455_4679_a3e0_06e8ec334dd7"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"49669086_deployment","uuid":"03377180-ffea-4ceb-b4c2-47aecdce938e"},"retries":"0","description":"","type":"SOFT_DELETE_DEPLOYMENT_ELEMENT","uuid":"4f259c91-3629-4d9b-b807-7395259179e5","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Soft_Delete_03377180_ffea_4ceb_b4c2_47aecdce938e"}],"description":"","message_list":[],"uuid":"f3551c04-9dc0-48da-a359-664c33435ab1","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_91c525db_40dc_4651_880c_33189dfcec7f","uuid":"7d23c6b0-f6f1-43be-af78-9ea10d67422d"},"name":"SYS_GEN__Runbook_Application_91c525db_40dc_4651_880c_33189dfcec7f"}}],"message_list":[],"uuid":"91c525db-40dc-4651-880c-33189dfcec7f","state":"DRAFT","dependency_list":[],"variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"7f2589a4-bc26-4344-89d1-f9e55f9e4ebe","value":"10.15.193.5","label":"","state":"ACTIVE","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"AD_IP"},{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"c517bce6-6938-45f3-be16-158442aa4592","value":"contoso.com","label":"","state":"ACTIVE","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"DOMAIN"},{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"b584dd65-6a7d-493d-a2fb-940b33e1f028","value":"yes","label":"","state":"ACTIVE","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"INCLUDE_BPG"},{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"4679ed8c-12c7-4255-a7b4-3be1b5816ea8","value":"http:\/\/download.microsoft.com\/download\/8\/e\/c\/8ec3a7d8-05b4-440a-a71e-ca3ee25fe057\/rktools.exe","label":"","state":"ACTIVE","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"BPG_RKTOOLS_URL"}],"name":"Nutanix"}],"published_service_definition_list":[],"default_credential_local_reference":{"kind":"app_credential","name":"LOCAL","uuid":"260a7259-60ca-416b-beae-022ec4b195ae"},"package_definition_list":[{"description":"","action_list":[{"description":"System action for installing an application","message_list":[],"uuid":"15b638be-175e-4789-b706-62d525a945dc","name":"action_install","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"MSSQLPackage","uuid":"2de8a964-cdc9-4a5a-8b18-bc5fabf8583d"},"retries":"0","description":"","type":"DAG","uuid":"a7ce1a47-d506-4c62-a234-9f634575063d","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Install_Crb_2de8a964_cdc9_4a5a_8b18_bc5fabf8583d","uuid":"fbbf6270-0093-4690-8bbe-6ef2401bc074"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Package_2de8a964_cdc9_4a5a_8b18_bc5fabf8583d"},{"target_any_local_reference":{"kind":"app_package","name":"MSSQLPackage","uuid":"2de8a964-cdc9-4a5a-8b18-bc5fabf8583d"},"retries":"0","description":"","type":"CUSTOM_PACKAGE_INSTALL","uuid":"fbbf6270-0093-4690-8bbe-6ef2401bc074","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"MSSQLPackage","uuid":"2de8a964-cdc9-4a5a-8b18-bc5fabf8583d"},"retries":"0","description":"","type":"DAG","uuid":"202f4b2f-65f2-4fba-8be8-51764743c90c","child_tasks_local_reference_list":[{"kind":"app_task","name":"Enable Credssp","uuid":"74408982-abe8-4c60-91c8-def413139408"},{"kind":"app_task","name":"AddToDomain","uuid":"322e953b-5f8f-4f07-83f4-b74ce18ae965"},{"kind":"app_task","name":"Wait for Machine to Join domain","uuid":"8feaa3ed-b825-43f6-819a-51704730d67c"},{"kind":"app_task","name":"InitializeDisk","uuid":"d5815872-d4a9-4300-9c23-0df9fbd98897"},{"kind":"app_task","name":"InstallSQL","uuid":"b8e48889-91d4-4b4f-98d0-408fbb1bf8e7"},{"kind":"app_task","name":"ApplyOSBPG","uuid":"33a5d252-cb98-4bcb-a74f-1c587a92a023"},{"kind":"app_task","name":"ApplySQLBPG","uuid":"cd1065bc-86b3-468a-8b4c-fb8386fae08a"},{"kind":"app_task","name":"FirewallRules","uuid":"e4819e41-28e0-4dd9-98ad-c46e92de7a1f"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Enable Credssp","uuid":"74408982-abe8-4c60-91c8-def413139408"},"edge_type":"user_defined","type":"","uuid":"ed237af4-178b-4344-9b25-f6914a5f6eae","to_task_reference":{"kind":"app_task","name":"AddToDomain","uuid":"322e953b-5f8f-4f07-83f4-b74ce18ae965"}},{"from_task_reference":{"kind":"app_task","name":"AddToDomain","uuid":"322e953b-5f8f-4f07-83f4-b74ce18ae965"},"edge_type":"user_defined","type":"","uuid":"1b333650-4222-4d28-ab8f-ed6e78842a45","to_task_reference":{"kind":"app_task","name":"Wait for Machine to Join domain","uuid":"8feaa3ed-b825-43f6-819a-51704730d67c"}},{"from_task_reference":{"kind":"app_task","name":"Wait for Machine to Join domain","uuid":"8feaa3ed-b825-43f6-819a-51704730d67c"},"edge_type":"user_defined","type":"","uuid":"cda4edc5-2edf-423c-afb2-fbe72aca239e","to_task_reference":{"kind":"app_task","name":"InitializeDisk","uuid":"d5815872-d4a9-4300-9c23-0df9fbd98897"}},{"from_task_reference":{"kind":"app_task","name":"InitializeDisk","uuid":"d5815872-d4a9-4300-9c23-0df9fbd98897"},"edge_type":"user_defined","type":"","uuid":"68f0c526-8361-438a-b947-708f000c8a1a","to_task_reference":{"kind":"app_task","name":"InstallSQL","uuid":"b8e48889-91d4-4b4f-98d0-408fbb1bf8e7"}},{"from_task_reference":{"kind":"app_task","name":"InstallSQL","uuid":"b8e48889-91d4-4b4f-98d0-408fbb1bf8e7"},"edge_type":"user_defined","type":"","uuid":"379c9e5b-eb62-4b06-ab7d-dcfd5deeb387","to_task_reference":{"kind":"app_task","name":"ApplyOSBPG","uuid":"33a5d252-cb98-4bcb-a74f-1c587a92a023"}},{"from_task_reference":{"kind":"app_task","name":"ApplyOSBPG","uuid":"33a5d252-cb98-4bcb-a74f-1c587a92a023"},"edge_type":"user_defined","type":"","uuid":"2f03fedd-2ae6-44f1-b6e6-675e6d86e0ac","to_task_reference":{"kind":"app_task","name":"ApplySQLBPG","uuid":"cd1065bc-86b3-468a-8b4c-fb8386fae08a"}},{"from_task_reference":{"kind":"app_task","name":"ApplySQLBPG","uuid":"cd1065bc-86b3-468a-8b4c-fb8386fae08a"},"edge_type":"user_defined","type":"","uuid":"05d15f7f-8160-4d42-b06a-56e2ed7cd1e0","to_task_reference":{"kind":"app_task","name":"FirewallRules","uuid":"e4819e41-28e0-4dd9-98ad-c46e92de7a1f"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"87d54973_dag"},{"target_any_local_reference":{"kind":"app_package","name":"MSSQLPackage","uuid":"2de8a964-cdc9-4a5a-8b18-bc5fabf8583d"},"retries":"0","description":"","type":"EXEC","uuid":"74408982-abe8-4c60-91c8-def413139408","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"npsscript","type":"","command_line_args":"","exit_status":[],"script":"Enable-WSManCredSSP -Role Server -Force"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Enable Credssp"},{"target_any_local_reference":{"kind":"app_service","name":"MSSQL","uuid":"a4b732b0-c3de-410f-90c8-6e0628e0af37"},"retries":"0","description":"","type":"EXEC","uuid":"322e953b-5f8f-4f07-83f4-b74ce18ae965","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"##############################################\n# Name        : JoinDomain.ps1\n# Author      : K Sarat Kumar\n# Version     : 1.0\n# Description : Script is used to Change hostname of machines and join to domain.\n##############################################\n\nfunction JointoDomain {\n  [CmdletBinding()]\n  Param(\n      [parameter(Mandatory=$true)]\n      [string]$DomainName,\n      [parameter(Mandatory=$false)]\n      [string]$OU,\n      [parameter(Mandatory=$true)]\n      [string]$Username,\n      [parameter(Mandatory=$true)]\n      [string]$Password,\n      [parameter(Mandatory=$true)]\n      [string]$Server\n  )\n  $adapter = Get-NetAdapter | ? {$_.Status -eq \"up\"}\n  $adapter | Set-DnsClientServerAddress -ServerAddresses $Server\n\n  if ($env:computername  -eq $env:userdomain) {\n    Write-Host \"Not in domain\"\n    #$adminname = \"$DomainName\\$Username\"\n    $adminname = \"$Username\"\n    $adminpassword = ConvertTo-SecureString -asPlainText -Force -String \"$Password\"\n    Write-Host \"$adminname , $password\"\n    $credential = New-Object System.Management.Automation.PSCredential($adminname,$adminpassword)\n    Add-computer -DomainName $DomainName -Credential $credential -force -Options JoinWithNewName,AccountCreate -PassThru -ErrorAction Stop\n  } else {\n     Write-Host \"Already in domain\"\n  }\n}\n\nJointoDomain -DomainName \"@@{DOMAIN}@@\" -Username \"@@{DOMAIN_CRED.username}@@\" -Password \"@@{DOMAIN_CRED.secret}@@\" -Server \"@@{AD_IP}@@\"\n\nRestart-Computer -Force -AsJob\nexit 0\n","script_type":"npsscript","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"LOCAL","uuid":"260a7259-60ca-416b-beae-022ec4b195ae"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"AddToDomain"},{"target_any_local_reference":{"kind":"app_service","name":"MSSQL","uuid":"a4b732b0-c3de-410f-90c8-6e0628e0af37"},"retries":"0","description":"","type":"EXEC","uuid":"8feaa3ed-b825-43f6-819a-51704730d67c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"static","type":"","command_line_args":"","exit_status":[],"script":"#script\nsleep(60)"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Wait for Machine to Join domain"},{"target_any_local_reference":{"kind":"app_service","name":"MSSQL","uuid":"a4b732b0-c3de-410f-90c8-6e0628e0af37"},"retries":"0","description":"","type":"EXEC","uuid":"d5815872-d4a9-4300-9c23-0df9fbd98897","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"$start_time = Get-Date\n\nGet-Disk -Number 1 | Initialize-Disk -ErrorAction SilentlyContinue\nGet-Disk -Number 2 | Initialize-Disk -ErrorAction SilentlyContinue\nGet-Disk -Number 3 | Initialize-Disk -ErrorAction SilentlyContinue\nGet-Disk -Number 4 | Initialize-Disk -ErrorAction SilentlyContinue\nGet-Disk -Number 5 | Initialize-Disk -ErrorAction SilentlyContinue\nGet-Disk -Number 6 | Initialize-Disk -ErrorAction SilentlyContinue\nGet-Disk -Number 7 | Initialize-Disk -ErrorAction SilentlyContinue\nGet-Disk -Number 8 | Initialize-Disk -ErrorAction SilentlyContinue\n\n# Format SQL binaries disk\nNew-Partition -DiskNumber 1 -DriveLetter F -UseMaximumSize -ErrorAction SilentlyContinue | Format-Volume -Confirm:$false\n\n# Format SQL backup\/restore disk\nNew-Partition -DiskNumber 2 -DriveLetter R -UseMaximumSize -ErrorAction SilentlyContinue | Format-Volume -Confirm:$false\n\n# Format DB DATA drives\nNew-Partition -DiskNumber 3 -DriveLetter G -UseMaximumSize -ErrorAction SilentlyContinue | Format-Volume -Confirm:$false\nNew-Partition -DiskNumber 4 -DriveLetter H -UseMaximumSize -ErrorAction SilentlyContinue | Format-Volume -Confirm:$false\n\n# Format DB TEMP drives\nNew-Partition -DiskNumber 5 -DriveLetter I -UseMaximumSize -ErrorAction SilentlyContinue | Format-Volume -Confirm:$false\nNew-Partition -DiskNumber 6 -DriveLetter J -UseMaximumSize -ErrorAction SilentlyContinue | Format-Volume -Confirm:$false\n\n# Format DB LOGS drives\nNew-Partition -DiskNumber 7 -DriveLetter T -UseMaximumSize -ErrorAction SilentlyContinue | Format-Volume -Confirm:$false\nNew-Partition -DiskNumber 8 -DriveLetter L -UseMaximumSize -ErrorAction SilentlyContinue | Format-Volume -Confirm:$false\n\n#Format drive with 64K block size, assigns Label and drive letter\nFormat-Volume -DriveLetter F -FileSystem NTFS -NewFileSystemLabel \"SQLINSTALL\" -Confirm:$false \nFormat-Volume -DriveLetter R -AllocationUnitSize 65536 -FileSystem NTFS -NewFileSystemLabel \"SQLBCK\" -Confirm:$false \nFormat-Volume -DriveLetter G -AllocationUnitSize 65536 -FileSystem NTFS -NewFileSystemLabel \"DATA01\" -Confirm:$false \nFormat-Volume -DriveLetter H -AllocationUnitSize 65536 -FileSystem NTFS -NewFileSystemLabel \"DATA02\" -Confirm:$false \nFormat-Volume -DriveLetter I -AllocationUnitSize 65536 -FileSystem NTFS -NewFileSystemLabel \"TEMPDB01\" -Confirm:$false \nFormat-Volume -DriveLetter J -AllocationUnitSize 65536 -FileSystem NTFS -NewFileSystemLabel \"TEMPDB02\" -Confirm:$false \nFormat-Volume -DriveLetter T -AllocationUnitSize 65536 -FileSystem NTFS -NewFileSystemLabel \"TEMPDBLOG01\" -Confirm:$false \nFormat-Volume -DriveLetter L -AllocationUnitSize 65536 -FileSystem NTFS -NewFileSystemLabel \"ULOG01\" -Confirm:$false \n\nWrite-Output \"Time taken: $((Get-Date).Subtract($start_time).seconds) Second(s)\"\n","script_type":"npsscript","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"LOCAL","uuid":"260a7259-60ca-416b-beae-022ec4b195ae"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"InitializeDisk"},{"target_any_local_reference":{"kind":"app_service","name":"MSSQL","uuid":"a4b732b0-c3de-410f-90c8-6e0628e0af37"},"retries":"0","description":"","type":"EXEC","uuid":"b8e48889-91d4-4b4f-98d0-408fbb1bf8e7","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"$DriveLetter = $(Get-Partition -DiskNumber 1 -PartitionNumber 2 | select DriveLetter -ExpandProperty DriveLetter)\n$edition = \"Standard\"\n$HOSTNAME=$(hostname)\n$PackageName = \"MsSqlServer2014Standard\"\n$Prerequisites = \"Net-Framework-Core\"\n$silentArgs = \"\/IACCEPTSQLSERVERLICENSETERMS \/Q \/ACTION=install \/FEATURES=SQLENGINE,SSMS,ADV_SSMS,CONN,IS,BC,SDK,BOL \/SECURITYMODE=sql \/SAPWD=`\"@@{SQL_CRED.secret}@@`\" \/ASSYSADMINACCOUNTS=`\"@@{SQL_CRED.username}@@`\" \/SQLSYSADMINACCOUNTS=`\"@@{SQL_CRED.username}@@`\" \/INSTANCEID=MSSQLSERVER \/INSTANCENAME=MSSQLSERVER \/UPDATEENABLED=False \/INDICATEPROGRESS \/TCPENABLED=1 \/INSTALLSQLDATADIR=`\"${DriveLetter}:\\Microsoft SQL Server`\"\"\n$setupDriveLetter = \"D:\"\n$setupPath = \"$setupDriveLetter\\setup.exe\"\n$validExitCodes = @(0)\n\nif ($Prerequisites){\nInstall-WindowsFeature -IncludeAllSubFeature -ErrorAction Stop $Prerequisites\n}\n\nWrite-Output \"Installing $PackageName....\"\n\n$install = Start-Process -FilePath $setupPath -ArgumentList $silentArgs -Wait -NoNewWindow -PassThru\n$install.WaitForExit()\n\n$exitCode = $install.ExitCode\n$install.Dispose()\n\nWrite-Output \"Command [`\"$setupPath`\" $silentArgs] exited with `'$exitCode`'.\"\nif ($validExitCodes -notcontains $exitCode) {\nWrite-Output \"Running [`\"$setupPath`\" $silentArgs] was not successful. Exit code was '$exitCode'. See log for possible error messages.\"\nexit 1\n}","script_type":"npsscript","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"DOMAIN_CRED","uuid":"951c02cf-a5e4-454c-8961-903cf8a691eb"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"InstallSQL"},{"target_any_local_reference":{"kind":"app_service","name":"MSSQL","uuid":"a4b732b0-c3de-410f-90c8-6e0628e0af37"},"retries":"0","description":"","type":"EXEC","uuid":"33a5d252-cb98-4bcb-a74f-1c587a92a023","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"if ((\"@@{INCLUDE_BPG}@@\" -eq \"no\") -or (\"@@{BPG_RKTOOLS_URL}@@\" -eq \"\")){\n    \"Ignoring BPG\"\n    exit 0\n}\n\n$start_time = Get-Date\n\n$TempDirectory = \"C:\\Temp\"\n$RktTemp = \"$TempDirectory\\rktools.2003\"\n\n$url = \"@@{BPG_RKTOOLS_URL}@@\"\n$filePath = \"$TempDirectory\\rktools.exe\"\n\nNew-Item -ItemType Directory -Force -Path $TempDirectory\n(New-Object System.Net.WebClient).DownloadFile($url,$filePath)\n\n& $filePath \/Q \/T:\"$RktTemp\" \/C\n\nStart-Sleep 10\n\n$PackageName = \"rktools.2003\"\n$setupPath = \"C:\\Windows\\System32\\msiexec.exe\"\n$silentArgs = \"\/i $RktTemp\\rktools.msi \/qn\"\n$validExitCodes = @(0)\n\nWrite-Output \"Installing $PackageName....\"\n\n$install = Start-Process -FilePath $setupPath -ArgumentList $silentArgs -Wait -NoNewWindow -PassThru\n$install.WaitForExit()\n\n$exitCode = $install.ExitCode\n$install.Dispose()\n\nWrite-Output \"Command [`\"$setupPath`\" $silentArgs] exited with `'$exitCode`'.\"\nif ($validExitCodes -notcontains $exitCode) {\nWrite-Output \"Running [`\"$setupPath`\" $silentArgs] was not successful. Exit code was '$exitCode'. See log for possible error messages.\"\nexit 1\n}\n\n# OS related tunning\n# Set Windows Power Options to High Performance\npowercfg -s 8c5e7fda-e8bf-4a96-9a85-a6e23a8c635c\n\n#Grant Memory privileges to user \n$ntrights_cli = \"C:\\Program Files (x86)\\Windows Resource Kits\\Tools\\ntrights.exe\"\n& $ntrights_cli -u \"NT SERVICE\\MSSQLSERVER\" +r SeLockMemoryPrivilege\n& $ntrights_cli -u \"NT SERVICE\\MSSQLSERVER\" +r SeManageVolumePrivilege\n\n\nWrite-Output \"Time taken: $((Get-Date).Subtract($start_time).seconds) Second(s)\"","script_type":"npsscript","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"DOMAIN_CRED","uuid":"951c02cf-a5e4-454c-8961-903cf8a691eb"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"ApplyOSBPG"},{"target_any_local_reference":{"kind":"app_service","name":"MSSQL","uuid":"a4b732b0-c3de-410f-90c8-6e0628e0af37"},"retries":"0","description":"","type":"EXEC","uuid":"cd1065bc-86b3-468a-8b4c-fb8386fae08a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"if ((\"@@{INCLUDE_BPG}@@\" -eq \"no\") -or (\"@@{BPG_RKTOOLS_URL}@@\" -eq \"\")){\n    \"Ignoring BPG\"\n    exit 0\n}\n\n$start_time = Get-Date\n\n$TempDirectory = \"C:\\Temp\"\n$sqladdparms_cli = \"$TempDirectory\\Add-SqlServerStartupParameter.ps1\"\n$TSQLSCRIPTSDIR = \"$TempDirectory\\TSQL_Scripts\"\nNew-Item -ItemType Directory -Force -Path $TSQLSCRIPTSDIR\n\nSet-Content -Path \"$sqladdparms_cli\" -Value '\nparam(\n## The parameter you wish to add\n[Parameter(Mandatory = $true)]\n$StartupParameter\n)\n\n$hklmRootNode = \"HKLM:\\SOFTWARE\\Microsoft\\Microsoft SQL Server\"\n\n$props = Get-ItemProperty \"$hklmRootNode\\Instance Names\\SQL\"\n$instances = $props.psobject.properties | ?{$_.Value -like \"MSSQL*\"} | select Value\n\n$instances | %{\n$inst = $_.Value;\n$regKey = \"$hklmRootNode\\$inst\\MSSQLServer\\Parameters\"\n$props = Get-ItemProperty $regKey\n$params = $props.psobject.properties | ?{$_.Name -like \"SQLArg*\"} | select Name, Value\n#$params | ft -AutoSize\n$hasFlag = $false\nforeach ($param in $params) {\nif($param.Value -eq $StartupParameter) {\n$hasFlag = $true\nbreak;\n}\n}\nif (-not $hasFlag) {\n\"Adding $StartupParameter\"\n$newRegProp = \"SQLArg\"+($params.Count)\nSet-ItemProperty -Path $regKey -Name $newRegProp -Value $StartupParameter\n} else {\n\"$StartupParameter already set\"\n}\n}'\nSet-Content -Path \"$TSQLSCRIPTSDIR\\01-ChangeTempDB.sql\" -Value \"use master`r`n\ngo`r`n\nAlter database tempdb modify file (name = tempdev, filename = 'I:\\TEMPDB01\\tempdb01.mdf', SIZE = 4096, FILEGROWTH=0)`r`n\ngo`r`n\nAlter database tempdb modify file (name = templog, filename = 'T:\\TempDB-logs01\\templog01.ldf', SIZE = 4096, FILEGROWTH=0)`r`n\ngo`r`n\nAlter database tempdb ADD file (name = tempdev02, filename = 'I:\\TEMPDB01\\tempdb02.ndf', SIZE = 4096, FILEGROWTH=0)`r`n\ngo`r`n\nAlter database tempdb ADD file (name = tempdev03, filename = 'J:\\TEMPDB02\\tempdb03.ndf', SIZE = 4096, FILEGROWTH=0)`r`n\ngo`r`n\nAlter database tempdb ADD file (name = tempdev04, filename = 'J:\\TEMPDB02\\tempdb04.ndf', SIZE = 4096, FILEGROWTH=0)`r`n\ngo`r`n\n`r`n\nALTER DATABASE [tempdb] MODIFY FILE (NAME=N'tempdev', NEWNAME=N'tempdev01')`r`n\nGO`r`n\nALTER DATABASE [tempdb] MODIFY FILE (NAME=N'templog', NEWNAME=N'templog01')`r`n\nGO\"\n\nSet-Content -Path \"$TSQLSCRIPTSDIR\\02-IncreaseTempDB_logs.sql\" -Value \"Use master`r`n\ngo`r`n\nALTER DATABASE tempdb MODIFY FILE (NAME = templog01, filename = 'T:\\TempDB-logs01\\templog01.ldf', SIZE`r`n\n= 8096);`r`n\nGO`r`n\nALTER DATABASE tempdb MODIFY FILE (NAME = templog01, FILENAME = 'T:\\TempDB-logs01\\templog01.ldf', SIZE`r`n\n= 12288);`r`n\nGO\"\n\nSet-Content -Path \"$TSQLSCRIPTSDIR\\03-SQL_set_memory.sql\" -Value \"USE master;`r`n\nexec sp_configure 'show advanced options', 1;`r`n\nRECONFIGURE;`r`n\nGO`r`n\nDECLARE `r`n\n@total_mem decimal (10,0),`r`n\n@min int,`r`n\n@max int`r`n\nSELECT `r`n\n--SELECT (physical_memory_kb\/1024) AS Server_Physical_Memory_MB`r`n\n@total_mem = (physical_memory_kb\/1024)`r`n\nFROM sys.dm_os_sys_info`r`n\n`r`n\nset @min = @total_mem * 0.1`r`n\nset @max = @total_mem * 0.85`r`n\nprint @min`r`n\nprint @max`r`n\n--print @total_mem`r`n\n`r`n\n`r`n\nEXEC sp_configure 'min server memory (MB)',@min`r`n\nEXEC sp_configure 'max server memory (MB)',@max`r`n\nRECONFIGURE\"\n\nSet-Content -Path \"$TSQLSCRIPTSDIR\\04-SQL-ChangeDefaultPaths.sql\" -Value \"USE [master]`r`n\nGO`r`n\n-- Change default location for data files`r`n\nEXEC xp_instance_regwrite`r`n\nN'HKEY_LOCAL_MACHINE',`r`n\nN'Software\\Microsoft\\MSSQLServer\\MSSQLServer',`r`n\nN'DefaultData',`r`n\nREG_SZ,`r`n\nN'G:\\SQLDATA01'`r`n\nGO`r`n\n-- Change default location for log files`r`n\nEXEC xp_instance_regwrite`r`n\nN'HKEY_LOCAL_MACHINE',`r`n\nN'Software\\Microsoft\\MSSQLServer\\MSSQLServer',`r`n\nN'DefaultLog',`r`n\nREG_SZ,`r`n\nN'L:\\UserDB-logs01'`r`n\nGO`r`n\n-- Change default location for backups`r`n\nEXEC xp_instance_regwrite`r`n\nN'HKEY_LOCAL_MACHINE',`r`n\nN'Software\\Microsoft\\MSSQLServer\\MSSQLServer',`r`n\nN'BackupDirectory',`r`n\nREG_SZ,`r`n\nN'R:\\SQLBACK'`r`n\nGO\"\n\n#create directories\nmkdir G:\\SQLDATA01\\\nmkdir H:\\SQLDATA02\\\nmkdir I:\\TEMPDB01\\\nmkdir J:\\TEMPDB02\\\nmkdir L:\\UserDB-logs01\\\nmkdir T:\\TempDB-logs01\\\nmkdir R:\\SQLBACK\n\n#ADD SQL T parameters \n#T1117 This parameter forces MS SQL Server to grow all database files uniformly\n#T1118 This parameter forces MS SQL Server to use full extents only\n& $sqladdparms_cli '-T1117'\n& $sqladdparms_cli '-T1118'\nrestart-service MSSQL* -force\n\n#import powershell SQL module\nimport-module \"sqlps\" -DisableNameChecking\n\ninvoke-sqlcmd -hostname localhost -inputFile \"$TSQLSCRIPTSDIR\\01-ChangeTempDB.sql\"\ninvoke-sqlcmd -hostname localhost -inputFile \"$TSQLSCRIPTSDIR\\02-IncreaseTempDB_logs.sql\"\ninvoke-sqlcmd -hostname localhost -inputFile \"$TSQLSCRIPTSDIR\\03-SQL_set_memory.sql\"\ninvoke-sqlcmd -hostname localhost -inputFile \"$TSQLSCRIPTSDIR\\04-SQL-ChangeDefaultPaths.sql\"\n\n#Delete original SQL temp files\nstop-service MSSQL* \nStart-Sleep 5\nrm \"F:\\Microsoft SQL Server\\MSSQL12.MSSQLSERVER\\MSSQL\\DATA\\temp*\"\n\nstart-service MSSQL* \nwmic useraccount get sid\nWrite-Output \"Time taken: $((Get-Date).Subtract($start_time).seconds) Second(s)\"\n","script_type":"npsscript","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"DOMAIN_CRED","uuid":"951c02cf-a5e4-454c-8961-903cf8a691eb"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"ApplySQLBPG"},{"target_any_local_reference":{"kind":"app_service","name":"MSSQL","uuid":"a4b732b0-c3de-410f-90c8-6e0628e0af37"},"retries":"0","description":"","type":"EXEC","uuid":"e4819e41-28e0-4dd9-98ad-c46e92de7a1f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"New-NetFirewallRule -DisplayName \"SQL Server\" -Direction Inbound -Protocol TCP -LocalPort 1433 -Action allow\nNew-NetFirewallRule -DisplayName \"SQL Admin Connection\" -Direction Inbound -Protocol TCP -LocalPort 1434 -Action allow\nNew-NetFirewallRule -DisplayName \"SQL Database Management\" -Direction Inbound -Protocol UDP -LocalPort 1434 -Action allow\nNew-NetFirewallRule -DisplayName \"SQL Service Broker\" -Direction Inbound -Protocol TCP -LocalPort 4022 -Action allow\nNew-NetFirewallRule -DisplayName \"SQL Debugger\/RPC\" -Direction Inbound -Protocol TCP -LocalPort 135 -Action allow\nNew-NetFirewallRule -DisplayName \"SQL Browser\" -Direction Inbound -Protocol TCP -LocalPort 2382 -Action allow","script_type":"npsscript","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"DOMAIN_CRED","uuid":"951c02cf-a5e4-454c-8961-903cf8a691eb"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"FirewallRules"}],"description":"","message_list":[],"uuid":"9c83acee-c38b-4b72-ba09-67dededbfcb3","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"87d54973_dag","uuid":"202f4b2f-65f2-4fba-8be8-51764743c90c"},"name":"b58c360f_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"MSSQLPackage","uuid":"2de8a964-cdc9-4a5a-8b18-bc5fabf8583d"},"retries":"0","description":"","type":"DAG","uuid":"9235c837-898a-4062-b489-900e0b4d83e6","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"c5e51cfd_dag"}],"description":"","message_list":[],"uuid":"cfeaabcc-1da9-46ec-9b5f-dd65fb8b760d","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"c5e51cfd_dag","uuid":"9235c837-898a-4062-b489-900e0b4d83e6"},"name":"8cc4ed37_runbook"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Install_Crb_2de8a964_cdc9_4a5a_8b18_bc5fabf8583d"}],"description":"","message_list":[],"uuid":"b03242bb-edc3-4243-a5ef-45cb2573b27e","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Package_2de8a964_cdc9_4a5a_8b18_bc5fabf8583d","uuid":"a7ce1a47-d506-4c62-a234-9f634575063d"},"name":"SYS_GEN__Runbook_Package_2de8a964_cdc9_4a5a_8b18_bc5fabf8583d"}},{"description":"System action for creating an application","message_list":[],"uuid":"b0dbdb38-e361-4fae-a3e3-3899dd49aaaa","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"MSSQLPackage","uuid":"2de8a964-cdc9-4a5a-8b18-bc5fabf8583d"},"retries":"0","description":"","type":"DAG","uuid":"4ad9e9df-f02e-4c0a-82e9-3efeb4442ff3","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_2de8a964_cdc9_4a5a_8b18_bc5fabf8583d","uuid":"b7a8ae06-358c-49d4-a901-dcd86ee2d9eb"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_a4b732b0_c3de_410f_90c8_6e0628e0af37","uuid":"d8250065-9fc5-4d50-9517-5a62bf095dc4"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_a4b732b0_c3de_410f_90c8_6e0628e0af37","uuid":"7ec18cee-b2be-4ea2-ae7d-68e70cb79ded"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_a4b732b0_c3de_410f_90c8_6e0628e0af37","uuid":"d8250065-9fc5-4d50-9517-5a62bf095dc4"},"edge_type":"inherent","type":"","uuid":"3b3f4a6d-e9b7-4f5d-a898-a1b03bfe6a3c","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_a4b732b0_c3de_410f_90c8_6e0628e0af37","uuid":"7ec18cee-b2be-4ea2-ae7d-68e70cb79ded"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_2de8a964_cdc9_4a5a_8b18_bc5fabf8583d","uuid":"b7a8ae06-358c-49d4-a901-dcd86ee2d9eb"},"edge_type":"inherent","type":"","uuid":"1e9b63bb-51c2-40a3-b998-03e3efae0db8","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_a4b732b0_c3de_410f_90c8_6e0628e0af37","uuid":"d8250065-9fc5-4d50-9517-5a62bf095dc4"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_2de8a964_cdc9_4a5a_8b18_bc5fabf8583d"},{"target_any_local_reference":{"kind":"app_package","name":"MSSQLPackage","uuid":"2de8a964-cdc9-4a5a-8b18-bc5fabf8583d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"b7a8ae06-358c-49d4-a901-dcd86ee2d9eb","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_2de8a964_cdc9_4a5a_8b18_bc5fabf8583d","uuid":"b03242bb-edc3-4243-a5ef-45cb2573b27e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_2de8a964_cdc9_4a5a_8b18_bc5fabf8583d"},{"target_any_local_reference":{"kind":"app_service","name":"MSSQL","uuid":"a4b732b0-c3de-410f-90c8-6e0628e0af37"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"d8250065-9fc5-4d50-9517-5a62bf095dc4","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"5730e30f_runbook","uuid":"8eccd264-b78a-415c-8a57-000e47a940d5"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_a4b732b0_c3de_410f_90c8_6e0628e0af37"},{"target_any_local_reference":{"kind":"app_service","name":"MSSQL","uuid":"a4b732b0-c3de-410f-90c8-6e0628e0af37"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"7ec18cee-b2be-4ea2-ae7d-68e70cb79ded","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0263f5a9_runbook","uuid":"798e0d01-fa9b-49f9-8aba-a3fe8cf77617"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_a4b732b0_c3de_410f_90c8_6e0628e0af37"}],"description":"","message_list":[],"uuid":"45724680-8069-43ce-83eb-2bfafb81f7fa","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_2de8a964_cdc9_4a5a_8b18_bc5fabf8583d","uuid":"4ad9e9df-f02e-4c0a-82e9-3efeb4442ff3"},"name":"SYS_GEN__Runbook_Package_2de8a964_cdc9_4a5a_8b18_bc5fabf8583d"}},{"description":"System action for uninstalling an application","message_list":[],"uuid":"79f7e6ca-72c2-4172-9ab3-16f7fb1e99fc","name":"action_uninstall","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"MSSQLPackage","uuid":"2de8a964-cdc9-4a5a-8b18-bc5fabf8583d"},"retries":"0","description":"","type":"DAG","uuid":"414cdd33-d041-432f-897e-afe2e572249b","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Uninstall_Crb_2de8a964_cdc9_4a5a_8b18_bc5fabf8583d","uuid":"bbc550f3-9286-4803-b208-7d426f2a8e28"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Package_2de8a964_cdc9_4a5a_8b18_bc5fabf8583d"},{"target_any_local_reference":{"kind":"app_package","name":"MSSQLPackage","uuid":"2de8a964-cdc9-4a5a-8b18-bc5fabf8583d"},"retries":"0","description":"","type":"CUSTOM_PACKAGE_UNINSTALL","uuid":"bbc550f3-9286-4803-b208-7d426f2a8e28","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"MSSQLPackage","uuid":"2de8a964-cdc9-4a5a-8b18-bc5fabf8583d"},"retries":"0","description":"","type":"DAG","uuid":"202f4b2f-65f2-4fba-8be8-51764743c90c","child_tasks_local_reference_list":[{"kind":"app_task","name":"Enable Credssp","uuid":"74408982-abe8-4c60-91c8-def413139408"},{"kind":"app_task","name":"AddToDomain","uuid":"322e953b-5f8f-4f07-83f4-b74ce18ae965"},{"kind":"app_task","name":"Wait for Machine to Join domain","uuid":"8feaa3ed-b825-43f6-819a-51704730d67c"},{"kind":"app_task","name":"InitializeDisk","uuid":"d5815872-d4a9-4300-9c23-0df9fbd98897"},{"kind":"app_task","name":"InstallSQL","uuid":"b8e48889-91d4-4b4f-98d0-408fbb1bf8e7"},{"kind":"app_task","name":"ApplyOSBPG","uuid":"33a5d252-cb98-4bcb-a74f-1c587a92a023"},{"kind":"app_task","name":"ApplySQLBPG","uuid":"cd1065bc-86b3-468a-8b4c-fb8386fae08a"},{"kind":"app_task","name":"FirewallRules","uuid":"e4819e41-28e0-4dd9-98ad-c46e92de7a1f"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Enable Credssp","uuid":"74408982-abe8-4c60-91c8-def413139408"},"edge_type":"user_defined","type":"","uuid":"ed237af4-178b-4344-9b25-f6914a5f6eae","to_task_reference":{"kind":"app_task","name":"AddToDomain","uuid":"322e953b-5f8f-4f07-83f4-b74ce18ae965"}},{"from_task_reference":{"kind":"app_task","name":"AddToDomain","uuid":"322e953b-5f8f-4f07-83f4-b74ce18ae965"},"edge_type":"user_defined","type":"","uuid":"1b333650-4222-4d28-ab8f-ed6e78842a45","to_task_reference":{"kind":"app_task","name":"Wait for Machine to Join domain","uuid":"8feaa3ed-b825-43f6-819a-51704730d67c"}},{"from_task_reference":{"kind":"app_task","name":"Wait for Machine to Join domain","uuid":"8feaa3ed-b825-43f6-819a-51704730d67c"},"edge_type":"user_defined","type":"","uuid":"cda4edc5-2edf-423c-afb2-fbe72aca239e","to_task_reference":{"kind":"app_task","name":"InitializeDisk","uuid":"d5815872-d4a9-4300-9c23-0df9fbd98897"}},{"from_task_reference":{"kind":"app_task","name":"InitializeDisk","uuid":"d5815872-d4a9-4300-9c23-0df9fbd98897"},"edge_type":"user_defined","type":"","uuid":"68f0c526-8361-438a-b947-708f000c8a1a","to_task_reference":{"kind":"app_task","name":"InstallSQL","uuid":"b8e48889-91d4-4b4f-98d0-408fbb1bf8e7"}},{"from_task_reference":{"kind":"app_task","name":"InstallSQL","uuid":"b8e48889-91d4-4b4f-98d0-408fbb1bf8e7"},"edge_type":"user_defined","type":"","uuid":"379c9e5b-eb62-4b06-ab7d-dcfd5deeb387","to_task_reference":{"kind":"app_task","name":"ApplyOSBPG","uuid":"33a5d252-cb98-4bcb-a74f-1c587a92a023"}},{"from_task_reference":{"kind":"app_task","name":"ApplyOSBPG","uuid":"33a5d252-cb98-4bcb-a74f-1c587a92a023"},"edge_type":"user_defined","type":"","uuid":"2f03fedd-2ae6-44f1-b6e6-675e6d86e0ac","to_task_reference":{"kind":"app_task","name":"ApplySQLBPG","uuid":"cd1065bc-86b3-468a-8b4c-fb8386fae08a"}},{"from_task_reference":{"kind":"app_task","name":"ApplySQLBPG","uuid":"cd1065bc-86b3-468a-8b4c-fb8386fae08a"},"edge_type":"user_defined","type":"","uuid":"05d15f7f-8160-4d42-b06a-56e2ed7cd1e0","to_task_reference":{"kind":"app_task","name":"FirewallRules","uuid":"e4819e41-28e0-4dd9-98ad-c46e92de7a1f"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"87d54973_dag"},{"target_any_local_reference":{"kind":"app_package","name":"MSSQLPackage","uuid":"2de8a964-cdc9-4a5a-8b18-bc5fabf8583d"},"retries":"0","description":"","type":"EXEC","uuid":"74408982-abe8-4c60-91c8-def413139408","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"npsscript","type":"","command_line_args":"","exit_status":[],"script":"Enable-WSManCredSSP -Role Server -Force"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Enable Credssp"},{"target_any_local_reference":{"kind":"app_service","name":"MSSQL","uuid":"a4b732b0-c3de-410f-90c8-6e0628e0af37"},"retries":"0","description":"","type":"EXEC","uuid":"322e953b-5f8f-4f07-83f4-b74ce18ae965","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"##############################################\n# Name        : JoinDomain.ps1\n# Author      : K Sarat Kumar\n# Version     : 1.0\n# Description : Script is used to Change hostname of machines and join to domain.\n##############################################\n\nfunction JointoDomain {\n  [CmdletBinding()]\n  Param(\n      [parameter(Mandatory=$true)]\n      [string]$DomainName,\n      [parameter(Mandatory=$false)]\n      [string]$OU,\n      [parameter(Mandatory=$true)]\n      [string]$Username,\n      [parameter(Mandatory=$true)]\n      [string]$Password,\n      [parameter(Mandatory=$true)]\n      [string]$Server\n  )\n  $adapter = Get-NetAdapter | ? {$_.Status -eq \"up\"}\n  $adapter | Set-DnsClientServerAddress -ServerAddresses $Server\n\n  if ($env:computername  -eq $env:userdomain) {\n    Write-Host \"Not in domain\"\n    #$adminname = \"$DomainName\\$Username\"\n    $adminname = \"$Username\"\n    $adminpassword = ConvertTo-SecureString -asPlainText -Force -String \"$Password\"\n    Write-Host \"$adminname , $password\"\n    $credential = New-Object System.Management.Automation.PSCredential($adminname,$adminpassword)\n    Add-computer -DomainName $DomainName -Credential $credential -force -Options JoinWithNewName,AccountCreate -PassThru -ErrorAction Stop\n  } else {\n     Write-Host \"Already in domain\"\n  }\n}\n\nJointoDomain -DomainName \"@@{DOMAIN}@@\" -Username \"@@{DOMAIN_CRED.username}@@\" -Password \"@@{DOMAIN_CRED.secret}@@\" -Server \"@@{AD_IP}@@\"\n\nRestart-Computer -Force -AsJob\nexit 0\n","script_type":"npsscript","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"LOCAL","uuid":"260a7259-60ca-416b-beae-022ec4b195ae"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"AddToDomain"},{"target_any_local_reference":{"kind":"app_service","name":"MSSQL","uuid":"a4b732b0-c3de-410f-90c8-6e0628e0af37"},"retries":"0","description":"","type":"EXEC","uuid":"8feaa3ed-b825-43f6-819a-51704730d67c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"static","type":"","command_line_args":"","exit_status":[],"script":"#script\nsleep(60)"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Wait for Machine to Join domain"},{"target_any_local_reference":{"kind":"app_service","name":"MSSQL","uuid":"a4b732b0-c3de-410f-90c8-6e0628e0af37"},"retries":"0","description":"","type":"EXEC","uuid":"d5815872-d4a9-4300-9c23-0df9fbd98897","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"$start_time = Get-Date\n\nGet-Disk -Number 1 | Initialize-Disk -ErrorAction SilentlyContinue\nGet-Disk -Number 2 | Initialize-Disk -ErrorAction SilentlyContinue\nGet-Disk -Number 3 | Initialize-Disk -ErrorAction SilentlyContinue\nGet-Disk -Number 4 | Initialize-Disk -ErrorAction SilentlyContinue\nGet-Disk -Number 5 | Initialize-Disk -ErrorAction SilentlyContinue\nGet-Disk -Number 6 | Initialize-Disk -ErrorAction SilentlyContinue\nGet-Disk -Number 7 | Initialize-Disk -ErrorAction SilentlyContinue\nGet-Disk -Number 8 | Initialize-Disk -ErrorAction SilentlyContinue\n\n# Format SQL binaries disk\nNew-Partition -DiskNumber 1 -DriveLetter F -UseMaximumSize -ErrorAction SilentlyContinue | Format-Volume -Confirm:$false\n\n# Format SQL backup\/restore disk\nNew-Partition -DiskNumber 2 -DriveLetter R -UseMaximumSize -ErrorAction SilentlyContinue | Format-Volume -Confirm:$false\n\n# Format DB DATA drives\nNew-Partition -DiskNumber 3 -DriveLetter G -UseMaximumSize -ErrorAction SilentlyContinue | Format-Volume -Confirm:$false\nNew-Partition -DiskNumber 4 -DriveLetter H -UseMaximumSize -ErrorAction SilentlyContinue | Format-Volume -Confirm:$false\n\n# Format DB TEMP drives\nNew-Partition -DiskNumber 5 -DriveLetter I -UseMaximumSize -ErrorAction SilentlyContinue | Format-Volume -Confirm:$false\nNew-Partition -DiskNumber 6 -DriveLetter J -UseMaximumSize -ErrorAction SilentlyContinue | Format-Volume -Confirm:$false\n\n# Format DB LOGS drives\nNew-Partition -DiskNumber 7 -DriveLetter T -UseMaximumSize -ErrorAction SilentlyContinue | Format-Volume -Confirm:$false\nNew-Partition -DiskNumber 8 -DriveLetter L -UseMaximumSize -ErrorAction SilentlyContinue | Format-Volume -Confirm:$false\n\n#Format drive with 64K block size, assigns Label and drive letter\nFormat-Volume -DriveLetter F -FileSystem NTFS -NewFileSystemLabel \"SQLINSTALL\" -Confirm:$false \nFormat-Volume -DriveLetter R -AllocationUnitSize 65536 -FileSystem NTFS -NewFileSystemLabel \"SQLBCK\" -Confirm:$false \nFormat-Volume -DriveLetter G -AllocationUnitSize 65536 -FileSystem NTFS -NewFileSystemLabel \"DATA01\" -Confirm:$false \nFormat-Volume -DriveLetter H -AllocationUnitSize 65536 -FileSystem NTFS -NewFileSystemLabel \"DATA02\" -Confirm:$false \nFormat-Volume -DriveLetter I -AllocationUnitSize 65536 -FileSystem NTFS -NewFileSystemLabel \"TEMPDB01\" -Confirm:$false \nFormat-Volume -DriveLetter J -AllocationUnitSize 65536 -FileSystem NTFS -NewFileSystemLabel \"TEMPDB02\" -Confirm:$false \nFormat-Volume -DriveLetter T -AllocationUnitSize 65536 -FileSystem NTFS -NewFileSystemLabel \"TEMPDBLOG01\" -Confirm:$false \nFormat-Volume -DriveLetter L -AllocationUnitSize 65536 -FileSystem NTFS -NewFileSystemLabel \"ULOG01\" -Confirm:$false \n\nWrite-Output \"Time taken: $((Get-Date).Subtract($start_time).seconds) Second(s)\"\n","script_type":"npsscript","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"LOCAL","uuid":"260a7259-60ca-416b-beae-022ec4b195ae"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"InitializeDisk"},{"target_any_local_reference":{"kind":"app_service","name":"MSSQL","uuid":"a4b732b0-c3de-410f-90c8-6e0628e0af37"},"retries":"0","description":"","type":"EXEC","uuid":"b8e48889-91d4-4b4f-98d0-408fbb1bf8e7","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"$DriveLetter = $(Get-Partition -DiskNumber 1 -PartitionNumber 2 | select DriveLetter -ExpandProperty DriveLetter)\n$edition = \"Standard\"\n$HOSTNAME=$(hostname)\n$PackageName = \"MsSqlServer2014Standard\"\n$Prerequisites = \"Net-Framework-Core\"\n$silentArgs = \"\/IACCEPTSQLSERVERLICENSETERMS \/Q \/ACTION=install \/FEATURES=SQLENGINE,SSMS,ADV_SSMS,CONN,IS,BC,SDK,BOL \/SECURITYMODE=sql \/SAPWD=`\"@@{SQL_CRED.secret}@@`\" \/ASSYSADMINACCOUNTS=`\"@@{SQL_CRED.username}@@`\" \/SQLSYSADMINACCOUNTS=`\"@@{SQL_CRED.username}@@`\" \/INSTANCEID=MSSQLSERVER \/INSTANCENAME=MSSQLSERVER \/UPDATEENABLED=False \/INDICATEPROGRESS \/TCPENABLED=1 \/INSTALLSQLDATADIR=`\"${DriveLetter}:\\Microsoft SQL Server`\"\"\n$setupDriveLetter = \"D:\"\n$setupPath = \"$setupDriveLetter\\setup.exe\"\n$validExitCodes = @(0)\n\nif ($Prerequisites){\nInstall-WindowsFeature -IncludeAllSubFeature -ErrorAction Stop $Prerequisites\n}\n\nWrite-Output \"Installing $PackageName....\"\n\n$install = Start-Process -FilePath $setupPath -ArgumentList $silentArgs -Wait -NoNewWindow -PassThru\n$install.WaitForExit()\n\n$exitCode = $install.ExitCode\n$install.Dispose()\n\nWrite-Output \"Command [`\"$setupPath`\" $silentArgs] exited with `'$exitCode`'.\"\nif ($validExitCodes -notcontains $exitCode) {\nWrite-Output \"Running [`\"$setupPath`\" $silentArgs] was not successful. Exit code was '$exitCode'. See log for possible error messages.\"\nexit 1\n}","script_type":"npsscript","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"DOMAIN_CRED","uuid":"951c02cf-a5e4-454c-8961-903cf8a691eb"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"InstallSQL"},{"target_any_local_reference":{"kind":"app_service","name":"MSSQL","uuid":"a4b732b0-c3de-410f-90c8-6e0628e0af37"},"retries":"0","description":"","type":"EXEC","uuid":"33a5d252-cb98-4bcb-a74f-1c587a92a023","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"if ((\"@@{INCLUDE_BPG}@@\" -eq \"no\") -or (\"@@{BPG_RKTOOLS_URL}@@\" -eq \"\")){\n    \"Ignoring BPG\"\n    exit 0\n}\n\n$start_time = Get-Date\n\n$TempDirectory = \"C:\\Temp\"\n$RktTemp = \"$TempDirectory\\rktools.2003\"\n\n$url = \"@@{BPG_RKTOOLS_URL}@@\"\n$filePath = \"$TempDirectory\\rktools.exe\"\n\nNew-Item -ItemType Directory -Force -Path $TempDirectory\n(New-Object System.Net.WebClient).DownloadFile($url,$filePath)\n\n& $filePath \/Q \/T:\"$RktTemp\" \/C\n\nStart-Sleep 10\n\n$PackageName = \"rktools.2003\"\n$setupPath = \"C:\\Windows\\System32\\msiexec.exe\"\n$silentArgs = \"\/i $RktTemp\\rktools.msi \/qn\"\n$validExitCodes = @(0)\n\nWrite-Output \"Installing $PackageName....\"\n\n$install = Start-Process -FilePath $setupPath -ArgumentList $silentArgs -Wait -NoNewWindow -PassThru\n$install.WaitForExit()\n\n$exitCode = $install.ExitCode\n$install.Dispose()\n\nWrite-Output \"Command [`\"$setupPath`\" $silentArgs] exited with `'$exitCode`'.\"\nif ($validExitCodes -notcontains $exitCode) {\nWrite-Output \"Running [`\"$setupPath`\" $silentArgs] was not successful. Exit code was '$exitCode'. See log for possible error messages.\"\nexit 1\n}\n\n# OS related tunning\n# Set Windows Power Options to High Performance\npowercfg -s 8c5e7fda-e8bf-4a96-9a85-a6e23a8c635c\n\n#Grant Memory privileges to user \n$ntrights_cli = \"C:\\Program Files (x86)\\Windows Resource Kits\\Tools\\ntrights.exe\"\n& $ntrights_cli -u \"NT SERVICE\\MSSQLSERVER\" +r SeLockMemoryPrivilege\n& $ntrights_cli -u \"NT SERVICE\\MSSQLSERVER\" +r SeManageVolumePrivilege\n\n\nWrite-Output \"Time taken: $((Get-Date).Subtract($start_time).seconds) Second(s)\"","script_type":"npsscript","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"DOMAIN_CRED","uuid":"951c02cf-a5e4-454c-8961-903cf8a691eb"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"ApplyOSBPG"},{"target_any_local_reference":{"kind":"app_service","name":"MSSQL","uuid":"a4b732b0-c3de-410f-90c8-6e0628e0af37"},"retries":"0","description":"","type":"EXEC","uuid":"cd1065bc-86b3-468a-8b4c-fb8386fae08a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"if ((\"@@{INCLUDE_BPG}@@\" -eq \"no\") -or (\"@@{BPG_RKTOOLS_URL}@@\" -eq \"\")){\n    \"Ignoring BPG\"\n    exit 0\n}\n\n$start_time = Get-Date\n\n$TempDirectory = \"C:\\Temp\"\n$sqladdparms_cli = \"$TempDirectory\\Add-SqlServerStartupParameter.ps1\"\n$TSQLSCRIPTSDIR = \"$TempDirectory\\TSQL_Scripts\"\nNew-Item -ItemType Directory -Force -Path $TSQLSCRIPTSDIR\n\nSet-Content -Path \"$sqladdparms_cli\" -Value '\nparam(\n## The parameter you wish to add\n[Parameter(Mandatory = $true)]\n$StartupParameter\n)\n\n$hklmRootNode = \"HKLM:\\SOFTWARE\\Microsoft\\Microsoft SQL Server\"\n\n$props = Get-ItemProperty \"$hklmRootNode\\Instance Names\\SQL\"\n$instances = $props.psobject.properties | ?{$_.Value -like \"MSSQL*\"} | select Value\n\n$instances | %{\n$inst = $_.Value;\n$regKey = \"$hklmRootNode\\$inst\\MSSQLServer\\Parameters\"\n$props = Get-ItemProperty $regKey\n$params = $props.psobject.properties | ?{$_.Name -like \"SQLArg*\"} | select Name, Value\n#$params | ft -AutoSize\n$hasFlag = $false\nforeach ($param in $params) {\nif($param.Value -eq $StartupParameter) {\n$hasFlag = $true\nbreak;\n}\n}\nif (-not $hasFlag) {\n\"Adding $StartupParameter\"\n$newRegProp = \"SQLArg\"+($params.Count)\nSet-ItemProperty -Path $regKey -Name $newRegProp -Value $StartupParameter\n} else {\n\"$StartupParameter already set\"\n}\n}'\nSet-Content -Path \"$TSQLSCRIPTSDIR\\01-ChangeTempDB.sql\" -Value \"use master`r`n\ngo`r`n\nAlter database tempdb modify file (name = tempdev, filename = 'I:\\TEMPDB01\\tempdb01.mdf', SIZE = 4096, FILEGROWTH=0)`r`n\ngo`r`n\nAlter database tempdb modify file (name = templog, filename = 'T:\\TempDB-logs01\\templog01.ldf', SIZE = 4096, FILEGROWTH=0)`r`n\ngo`r`n\nAlter database tempdb ADD file (name = tempdev02, filename = 'I:\\TEMPDB01\\tempdb02.ndf', SIZE = 4096, FILEGROWTH=0)`r`n\ngo`r`n\nAlter database tempdb ADD file (name = tempdev03, filename = 'J:\\TEMPDB02\\tempdb03.ndf', SIZE = 4096, FILEGROWTH=0)`r`n\ngo`r`n\nAlter database tempdb ADD file (name = tempdev04, filename = 'J:\\TEMPDB02\\tempdb04.ndf', SIZE = 4096, FILEGROWTH=0)`r`n\ngo`r`n\n`r`n\nALTER DATABASE [tempdb] MODIFY FILE (NAME=N'tempdev', NEWNAME=N'tempdev01')`r`n\nGO`r`n\nALTER DATABASE [tempdb] MODIFY FILE (NAME=N'templog', NEWNAME=N'templog01')`r`n\nGO\"\n\nSet-Content -Path \"$TSQLSCRIPTSDIR\\02-IncreaseTempDB_logs.sql\" -Value \"Use master`r`n\ngo`r`n\nALTER DATABASE tempdb MODIFY FILE (NAME = templog01, filename = 'T:\\TempDB-logs01\\templog01.ldf', SIZE`r`n\n= 8096);`r`n\nGO`r`n\nALTER DATABASE tempdb MODIFY FILE (NAME = templog01, FILENAME = 'T:\\TempDB-logs01\\templog01.ldf', SIZE`r`n\n= 12288);`r`n\nGO\"\n\nSet-Content -Path \"$TSQLSCRIPTSDIR\\03-SQL_set_memory.sql\" -Value \"USE master;`r`n\nexec sp_configure 'show advanced options', 1;`r`n\nRECONFIGURE;`r`n\nGO`r`n\nDECLARE `r`n\n@total_mem decimal (10,0),`r`n\n@min int,`r`n\n@max int`r`n\nSELECT `r`n\n--SELECT (physical_memory_kb\/1024) AS Server_Physical_Memory_MB`r`n\n@total_mem = (physical_memory_kb\/1024)`r`n\nFROM sys.dm_os_sys_info`r`n\n`r`n\nset @min = @total_mem * 0.1`r`n\nset @max = @total_mem * 0.85`r`n\nprint @min`r`n\nprint @max`r`n\n--print @total_mem`r`n\n`r`n\n`r`n\nEXEC sp_configure 'min server memory (MB)',@min`r`n\nEXEC sp_configure 'max server memory (MB)',@max`r`n\nRECONFIGURE\"\n\nSet-Content -Path \"$TSQLSCRIPTSDIR\\04-SQL-ChangeDefaultPaths.sql\" -Value \"USE [master]`r`n\nGO`r`n\n-- Change default location for data files`r`n\nEXEC xp_instance_regwrite`r`n\nN'HKEY_LOCAL_MACHINE',`r`n\nN'Software\\Microsoft\\MSSQLServer\\MSSQLServer',`r`n\nN'DefaultData',`r`n\nREG_SZ,`r`n\nN'G:\\SQLDATA01'`r`n\nGO`r`n\n-- Change default location for log files`r`n\nEXEC xp_instance_regwrite`r`n\nN'HKEY_LOCAL_MACHINE',`r`n\nN'Software\\Microsoft\\MSSQLServer\\MSSQLServer',`r`n\nN'DefaultLog',`r`n\nREG_SZ,`r`n\nN'L:\\UserDB-logs01'`r`n\nGO`r`n\n-- Change default location for backups`r`n\nEXEC xp_instance_regwrite`r`n\nN'HKEY_LOCAL_MACHINE',`r`n\nN'Software\\Microsoft\\MSSQLServer\\MSSQLServer',`r`n\nN'BackupDirectory',`r`n\nREG_SZ,`r`n\nN'R:\\SQLBACK'`r`n\nGO\"\n\n#create directories\nmkdir G:\\SQLDATA01\\\nmkdir H:\\SQLDATA02\\\nmkdir I:\\TEMPDB01\\\nmkdir J:\\TEMPDB02\\\nmkdir L:\\UserDB-logs01\\\nmkdir T:\\TempDB-logs01\\\nmkdir R:\\SQLBACK\n\n#ADD SQL T parameters \n#T1117 This parameter forces MS SQL Server to grow all database files uniformly\n#T1118 This parameter forces MS SQL Server to use full extents only\n& $sqladdparms_cli '-T1117'\n& $sqladdparms_cli '-T1118'\nrestart-service MSSQL* -force\n\n#import powershell SQL module\nimport-module \"sqlps\" -DisableNameChecking\n\ninvoke-sqlcmd -hostname localhost -inputFile \"$TSQLSCRIPTSDIR\\01-ChangeTempDB.sql\"\ninvoke-sqlcmd -hostname localhost -inputFile \"$TSQLSCRIPTSDIR\\02-IncreaseTempDB_logs.sql\"\ninvoke-sqlcmd -hostname localhost -inputFile \"$TSQLSCRIPTSDIR\\03-SQL_set_memory.sql\"\ninvoke-sqlcmd -hostname localhost -inputFile \"$TSQLSCRIPTSDIR\\04-SQL-ChangeDefaultPaths.sql\"\n\n#Delete original SQL temp files\nstop-service MSSQL* \nStart-Sleep 5\nrm \"F:\\Microsoft SQL Server\\MSSQL12.MSSQLSERVER\\MSSQL\\DATA\\temp*\"\n\nstart-service MSSQL* \nwmic useraccount get sid\nWrite-Output \"Time taken: $((Get-Date).Subtract($start_time).seconds) Second(s)\"\n","script_type":"npsscript","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"DOMAIN_CRED","uuid":"951c02cf-a5e4-454c-8961-903cf8a691eb"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"ApplySQLBPG"},{"target_any_local_reference":{"kind":"app_service","name":"MSSQL","uuid":"a4b732b0-c3de-410f-90c8-6e0628e0af37"},"retries":"0","description":"","type":"EXEC","uuid":"e4819e41-28e0-4dd9-98ad-c46e92de7a1f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"New-NetFirewallRule -DisplayName \"SQL Server\" -Direction Inbound -Protocol TCP -LocalPort 1433 -Action allow\nNew-NetFirewallRule -DisplayName \"SQL Admin Connection\" -Direction Inbound -Protocol TCP -LocalPort 1434 -Action allow\nNew-NetFirewallRule -DisplayName \"SQL Database Management\" -Direction Inbound -Protocol UDP -LocalPort 1434 -Action allow\nNew-NetFirewallRule -DisplayName \"SQL Service Broker\" -Direction Inbound -Protocol TCP -LocalPort 4022 -Action allow\nNew-NetFirewallRule -DisplayName \"SQL Debugger\/RPC\" -Direction Inbound -Protocol TCP -LocalPort 135 -Action allow\nNew-NetFirewallRule -DisplayName \"SQL Browser\" -Direction Inbound -Protocol TCP -LocalPort 2382 -Action allow","script_type":"npsscript","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"DOMAIN_CRED","uuid":"951c02cf-a5e4-454c-8961-903cf8a691eb"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"FirewallRules"}],"description":"","message_list":[],"uuid":"9c83acee-c38b-4b72-ba09-67dededbfcb3","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"87d54973_dag","uuid":"202f4b2f-65f2-4fba-8be8-51764743c90c"},"name":"b58c360f_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"MSSQLPackage","uuid":"2de8a964-cdc9-4a5a-8b18-bc5fabf8583d"},"retries":"0","description":"","type":"DAG","uuid":"9235c837-898a-4062-b489-900e0b4d83e6","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"c5e51cfd_dag"}],"description":"","message_list":[],"uuid":"cfeaabcc-1da9-46ec-9b5f-dd65fb8b760d","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"c5e51cfd_dag","uuid":"9235c837-898a-4062-b489-900e0b4d83e6"},"name":"8cc4ed37_runbook"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Uninstall_Crb_2de8a964_cdc9_4a5a_8b18_bc5fabf8583d"}],"description":"","message_list":[],"uuid":"dc56f856-3826-41db-9ce8-871f9d5c17ca","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Package_2de8a964_cdc9_4a5a_8b18_bc5fabf8583d","uuid":"414cdd33-d041-432f-897e-afe2e572249b"},"name":"SYS_GEN__Runbook_Package_2de8a964_cdc9_4a5a_8b18_bc5fabf8583d"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"a077496e-05f1-437a-8dd2-12641af3cd15","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"MSSQLPackage","uuid":"2de8a964-cdc9-4a5a-8b18-bc5fabf8583d"},"retries":"0","description":"","type":"DAG","uuid":"65574b63-59ae-4ca9-9bc9-53073586f02c","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_a4b732b0_c3de_410f_90c8_6e0628e0af37","uuid":"dd9a63a1-9b4f-46f5-af5a-b61789e41159"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_a4b732b0_c3de_410f_90c8_6e0628e0af37","uuid":"630655e4-3c45-43a0-895b-7378757436ec"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_2de8a964_cdc9_4a5a_8b18_bc5fabf8583d","uuid":"3f84a6ed-c07b-4884-8d81-c7fa1681049f"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_a4b732b0_c3de_410f_90c8_6e0628e0af37","uuid":"dd9a63a1-9b4f-46f5-af5a-b61789e41159"},"edge_type":"inherent","type":"","uuid":"8ae5b3aa-3a88-4a8a-84ac-407fd905cd2c","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_a4b732b0_c3de_410f_90c8_6e0628e0af37","uuid":"630655e4-3c45-43a0-895b-7378757436ec"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_a4b732b0_c3de_410f_90c8_6e0628e0af37","uuid":"630655e4-3c45-43a0-895b-7378757436ec"},"edge_type":"inherent","type":"","uuid":"146d28ea-2f32-4273-9b7a-bd8cb0e394ce","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_2de8a964_cdc9_4a5a_8b18_bc5fabf8583d","uuid":"3f84a6ed-c07b-4884-8d81-c7fa1681049f"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_2de8a964_cdc9_4a5a_8b18_bc5fabf8583d"},{"target_any_local_reference":{"kind":"app_service","name":"MSSQL","uuid":"a4b732b0-c3de-410f-90c8-6e0628e0af37"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"dd9a63a1-9b4f-46f5-af5a-b61789e41159","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"8aadc288_runbook","uuid":"eb1b35f8-5520-4c2e-af1c-4c637ff02f14"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_a4b732b0_c3de_410f_90c8_6e0628e0af37"},{"target_any_local_reference":{"kind":"app_service","name":"MSSQL","uuid":"a4b732b0-c3de-410f-90c8-6e0628e0af37"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"630655e4-3c45-43a0-895b-7378757436ec","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"b01e7edf_runbook","uuid":"441b0363-81e1-4686-a82a-33594f1ec102"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_a4b732b0_c3de_410f_90c8_6e0628e0af37"},{"target_any_local_reference":{"kind":"app_package","name":"MSSQLPackage","uuid":"2de8a964-cdc9-4a5a-8b18-bc5fabf8583d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"3f84a6ed-c07b-4884-8d81-c7fa1681049f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_2de8a964_cdc9_4a5a_8b18_bc5fabf8583d","uuid":"dc56f856-3826-41db-9ce8-871f9d5c17ca"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_2de8a964_cdc9_4a5a_8b18_bc5fabf8583d"}],"description":"","message_list":[],"uuid":"d731ae8f-39fb-40e4-9961-7451ca874cce","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_2de8a964_cdc9_4a5a_8b18_bc5fabf8583d","uuid":"65574b63-59ae-4ca9-9bc9-53073586f02c"},"name":"SYS_GEN__Runbook_Package_2de8a964_cdc9_4a5a_8b18_bc5fabf8583d"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"0456a42f-fb69-4767-89d3-b7901b10c636","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"MSSQLPackage","uuid":"2de8a964-cdc9-4a5a-8b18-bc5fabf8583d"},"retries":"0","description":"","type":"DAG","uuid":"987fc8ac-3e8e-42a6-9a27-d4372a350c77","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_a4b732b0_c3de_410f_90c8_6e0628e0af37","uuid":"5347c506-6172-4a44-9490-78eb08f0fe25"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_2de8a964_cdc9_4a5a_8b18_bc5fabf8583d","uuid":"efd993fe-d565-40d9-bf5a-a5a0e0a205f6"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_a4b732b0_c3de_410f_90c8_6e0628e0af37","uuid":"5347c506-6172-4a44-9490-78eb08f0fe25"},"edge_type":"inherent","type":"","uuid":"2acc32fb-5bf3-4188-8657-ca32925f4b01","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_2de8a964_cdc9_4a5a_8b18_bc5fabf8583d","uuid":"efd993fe-d565-40d9-bf5a-a5a0e0a205f6"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_2de8a964_cdc9_4a5a_8b18_bc5fabf8583d"},{"target_any_local_reference":{"kind":"app_service","name":"MSSQL","uuid":"a4b732b0-c3de-410f-90c8-6e0628e0af37"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"5347c506-6172-4a44-9490-78eb08f0fe25","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_a4b732b0_c3de_410f_90c8_6e0628e0af37","uuid":"cda98b10-e8b0-43dd-ad26-4bb604fd7906"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_a4b732b0_c3de_410f_90c8_6e0628e0af37"},{"target_any_local_reference":{"kind":"app_package","name":"MSSQLPackage","uuid":"2de8a964-cdc9-4a5a-8b18-bc5fabf8583d"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"efd993fe-d565-40d9-bf5a-a5a0e0a205f6","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_2de8a964_cdc9_4a5a_8b18_bc5fabf8583d"}],"description":"","message_list":[],"uuid":"6c170755-a614-4932-9424-8a66cdb6bf21","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_2de8a964_cdc9_4a5a_8b18_bc5fabf8583d","uuid":"987fc8ac-3e8e-42a6-9a27-d4372a350c77"},"name":"SYS_GEN__Runbook_Package_2de8a964_cdc9_4a5a_8b18_bc5fabf8583d"}},{"description":"System action for starting an application","message_list":[],"uuid":"73832df3-fb79-4ede-802d-fb6ec25ab36c","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"MSSQLPackage","uuid":"2de8a964-cdc9-4a5a-8b18-bc5fabf8583d"},"retries":"0","description":"","type":"DAG","uuid":"ce40b78d-718d-46a3-9256-b33b381ae464","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_a4b732b0_c3de_410f_90c8_6e0628e0af37","uuid":"12cbfbfe-3c84-4fe6-939a-b0e2faff9cd7"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_2de8a964_cdc9_4a5a_8b18_bc5fabf8583d"},{"target_any_local_reference":{"kind":"app_service","name":"MSSQL","uuid":"a4b732b0-c3de-410f-90c8-6e0628e0af37"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"12cbfbfe-3c84-4fe6-939a-b0e2faff9cd7","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0263f5a9_runbook","uuid":"798e0d01-fa9b-49f9-8aba-a3fe8cf77617"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_a4b732b0_c3de_410f_90c8_6e0628e0af37"}],"description":"","message_list":[],"uuid":"fd1b3dc0-be8c-47ca-8c7d-6b5b4f7cfe35","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_2de8a964_cdc9_4a5a_8b18_bc5fabf8583d","uuid":"ce40b78d-718d-46a3-9256-b33b381ae464"},"name":"SYS_GEN__Runbook_Package_2de8a964_cdc9_4a5a_8b18_bc5fabf8583d"}},{"description":"System action for restarting an application","message_list":[],"uuid":"85d97e20-2f7f-4898-92a8-dbc369a2e0a2","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"MSSQLPackage","uuid":"2de8a964-cdc9-4a5a-8b18-bc5fabf8583d"},"retries":"0","description":"","type":"DAG","uuid":"0a30aba1-714c-471e-be6e-87eef703b37d","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_a4b732b0_c3de_410f_90c8_6e0628e0af37","uuid":"36978da7-b14a-44dc-82b7-941c39701e91"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_2de8a964_cdc9_4a5a_8b18_bc5fabf8583d"},{"target_any_local_reference":{"kind":"app_service","name":"MSSQL","uuid":"a4b732b0-c3de-410f-90c8-6e0628e0af37"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"36978da7-b14a-44dc-82b7-941c39701e91","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"a059f54d_runbook","uuid":"b8872014-4fdf-4e44-8d1a-f6ab05f66c45"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_a4b732b0_c3de_410f_90c8_6e0628e0af37"}],"description":"","message_list":[],"uuid":"eb08a885-f5d9-4d38-a783-b025cd66ba9b","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_2de8a964_cdc9_4a5a_8b18_bc5fabf8583d","uuid":"0a30aba1-714c-471e-be6e-87eef703b37d"},"name":"SYS_GEN__Runbook_Package_2de8a964_cdc9_4a5a_8b18_bc5fabf8583d"}},{"description":"System action for stopping an application","message_list":[],"uuid":"e34d408a-3a81-42de-8ab8-1294dfdd0780","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"MSSQLPackage","uuid":"2de8a964-cdc9-4a5a-8b18-bc5fabf8583d"},"retries":"0","description":"","type":"DAG","uuid":"8d96f2e4-5378-4d9a-a709-f54921f91e8d","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_a4b732b0_c3de_410f_90c8_6e0628e0af37","uuid":"734fc666-6628-4160-9425-8f05da95f75d"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_2de8a964_cdc9_4a5a_8b18_bc5fabf8583d"},{"target_any_local_reference":{"kind":"app_service","name":"MSSQL","uuid":"a4b732b0-c3de-410f-90c8-6e0628e0af37"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"734fc666-6628-4160-9425-8f05da95f75d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"8aadc288_runbook","uuid":"eb1b35f8-5520-4c2e-af1c-4c637ff02f14"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_a4b732b0_c3de_410f_90c8_6e0628e0af37"}],"description":"","message_list":[],"uuid":"f3acfa92-4e29-412c-b4e7-bcda830b34b5","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_2de8a964_cdc9_4a5a_8b18_bc5fabf8583d","uuid":"8d96f2e4-5378-4d9a-a709-f54921f91e8d"},"name":"SYS_GEN__Runbook_Package_2de8a964_cdc9_4a5a_8b18_bc5fabf8583d"}}],"message_list":[],"service_local_reference_list":[{"kind":"app_service","name":"MSSQL","uuid":"a4b732b0-c3de-410f-90c8-6e0628e0af37"}],"uuid":"2de8a964-cdc9-4a5a-8b18-bc5fabf8583d","state":"ACTIVE","version":"","editables":{},"type":"DEB","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"MSSQLPackage","uuid":"2de8a964-cdc9-4a5a-8b18-bc5fabf8583d"},"retries":"0","description":"","type":"DAG","uuid":"202f4b2f-65f2-4fba-8be8-51764743c90c","child_tasks_local_reference_list":[{"kind":"app_task","name":"Enable Credssp","uuid":"74408982-abe8-4c60-91c8-def413139408"},{"kind":"app_task","name":"AddToDomain","uuid":"322e953b-5f8f-4f07-83f4-b74ce18ae965"},{"kind":"app_task","name":"Wait for Machine to Join domain","uuid":"8feaa3ed-b825-43f6-819a-51704730d67c"},{"kind":"app_task","name":"InitializeDisk","uuid":"d5815872-d4a9-4300-9c23-0df9fbd98897"},{"kind":"app_task","name":"InstallSQL","uuid":"b8e48889-91d4-4b4f-98d0-408fbb1bf8e7"},{"kind":"app_task","name":"ApplyOSBPG","uuid":"33a5d252-cb98-4bcb-a74f-1c587a92a023"},{"kind":"app_task","name":"ApplySQLBPG","uuid":"cd1065bc-86b3-468a-8b4c-fb8386fae08a"},{"kind":"app_task","name":"FirewallRules","uuid":"e4819e41-28e0-4dd9-98ad-c46e92de7a1f"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Enable Credssp","uuid":"74408982-abe8-4c60-91c8-def413139408"},"edge_type":"user_defined","type":"","uuid":"ed237af4-178b-4344-9b25-f6914a5f6eae","to_task_reference":{"kind":"app_task","name":"AddToDomain","uuid":"322e953b-5f8f-4f07-83f4-b74ce18ae965"}},{"from_task_reference":{"kind":"app_task","name":"AddToDomain","uuid":"322e953b-5f8f-4f07-83f4-b74ce18ae965"},"edge_type":"user_defined","type":"","uuid":"1b333650-4222-4d28-ab8f-ed6e78842a45","to_task_reference":{"kind":"app_task","name":"Wait for Machine to Join domain","uuid":"8feaa3ed-b825-43f6-819a-51704730d67c"}},{"from_task_reference":{"kind":"app_task","name":"Wait for Machine to Join domain","uuid":"8feaa3ed-b825-43f6-819a-51704730d67c"},"edge_type":"user_defined","type":"","uuid":"cda4edc5-2edf-423c-afb2-fbe72aca239e","to_task_reference":{"kind":"app_task","name":"InitializeDisk","uuid":"d5815872-d4a9-4300-9c23-0df9fbd98897"}},{"from_task_reference":{"kind":"app_task","name":"InitializeDisk","uuid":"d5815872-d4a9-4300-9c23-0df9fbd98897"},"edge_type":"user_defined","type":"","uuid":"68f0c526-8361-438a-b947-708f000c8a1a","to_task_reference":{"kind":"app_task","name":"InstallSQL","uuid":"b8e48889-91d4-4b4f-98d0-408fbb1bf8e7"}},{"from_task_reference":{"kind":"app_task","name":"InstallSQL","uuid":"b8e48889-91d4-4b4f-98d0-408fbb1bf8e7"},"edge_type":"user_defined","type":"","uuid":"379c9e5b-eb62-4b06-ab7d-dcfd5deeb387","to_task_reference":{"kind":"app_task","name":"ApplyOSBPG","uuid":"33a5d252-cb98-4bcb-a74f-1c587a92a023"}},{"from_task_reference":{"kind":"app_task","name":"ApplyOSBPG","uuid":"33a5d252-cb98-4bcb-a74f-1c587a92a023"},"edge_type":"user_defined","type":"","uuid":"2f03fedd-2ae6-44f1-b6e6-675e6d86e0ac","to_task_reference":{"kind":"app_task","name":"ApplySQLBPG","uuid":"cd1065bc-86b3-468a-8b4c-fb8386fae08a"}},{"from_task_reference":{"kind":"app_task","name":"ApplySQLBPG","uuid":"cd1065bc-86b3-468a-8b4c-fb8386fae08a"},"edge_type":"user_defined","type":"","uuid":"05d15f7f-8160-4d42-b06a-56e2ed7cd1e0","to_task_reference":{"kind":"app_task","name":"FirewallRules","uuid":"e4819e41-28e0-4dd9-98ad-c46e92de7a1f"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"87d54973_dag"},{"target_any_local_reference":{"kind":"app_package","name":"MSSQLPackage","uuid":"2de8a964-cdc9-4a5a-8b18-bc5fabf8583d"},"retries":"0","description":"","type":"EXEC","uuid":"74408982-abe8-4c60-91c8-def413139408","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"npsscript","type":"","command_line_args":"","exit_status":[],"script":"Enable-WSManCredSSP -Role Server -Force"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Enable Credssp"},{"target_any_local_reference":{"kind":"app_service","name":"MSSQL","uuid":"a4b732b0-c3de-410f-90c8-6e0628e0af37"},"retries":"0","description":"","type":"EXEC","uuid":"322e953b-5f8f-4f07-83f4-b74ce18ae965","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"##############################################\n# Name        : JoinDomain.ps1\n# Author      : K Sarat Kumar\n# Version     : 1.0\n# Description : Script is used to Change hostname of machines and join to domain.\n##############################################\n\nfunction JointoDomain {\n  [CmdletBinding()]\n  Param(\n      [parameter(Mandatory=$true)]\n      [string]$DomainName,\n      [parameter(Mandatory=$false)]\n      [string]$OU,\n      [parameter(Mandatory=$true)]\n      [string]$Username,\n      [parameter(Mandatory=$true)]\n      [string]$Password,\n      [parameter(Mandatory=$true)]\n      [string]$Server\n  )\n  $adapter = Get-NetAdapter | ? {$_.Status -eq \"up\"}\n  $adapter | Set-DnsClientServerAddress -ServerAddresses $Server\n\n  if ($env:computername  -eq $env:userdomain) {\n    Write-Host \"Not in domain\"\n    #$adminname = \"$DomainName\\$Username\"\n    $adminname = \"$Username\"\n    $adminpassword = ConvertTo-SecureString -asPlainText -Force -String \"$Password\"\n    Write-Host \"$adminname , $password\"\n    $credential = New-Object System.Management.Automation.PSCredential($adminname,$adminpassword)\n    Add-computer -DomainName $DomainName -Credential $credential -force -Options JoinWithNewName,AccountCreate -PassThru -ErrorAction Stop\n  } else {\n     Write-Host \"Already in domain\"\n  }\n}\n\nJointoDomain -DomainName \"@@{DOMAIN}@@\" -Username \"@@{DOMAIN_CRED.username}@@\" -Password \"@@{DOMAIN_CRED.secret}@@\" -Server \"@@{AD_IP}@@\"\n\nRestart-Computer -Force -AsJob\nexit 0\n","script_type":"npsscript","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"LOCAL","uuid":"260a7259-60ca-416b-beae-022ec4b195ae"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"AddToDomain"},{"target_any_local_reference":{"kind":"app_service","name":"MSSQL","uuid":"a4b732b0-c3de-410f-90c8-6e0628e0af37"},"retries":"0","description":"","type":"EXEC","uuid":"8feaa3ed-b825-43f6-819a-51704730d67c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"static","type":"","command_line_args":"","exit_status":[],"script":"#script\nsleep(60)"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Wait for Machine to Join domain"},{"target_any_local_reference":{"kind":"app_service","name":"MSSQL","uuid":"a4b732b0-c3de-410f-90c8-6e0628e0af37"},"retries":"0","description":"","type":"EXEC","uuid":"d5815872-d4a9-4300-9c23-0df9fbd98897","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"$start_time = Get-Date\n\nGet-Disk -Number 1 | Initialize-Disk -ErrorAction SilentlyContinue\nGet-Disk -Number 2 | Initialize-Disk -ErrorAction SilentlyContinue\nGet-Disk -Number 3 | Initialize-Disk -ErrorAction SilentlyContinue\nGet-Disk -Number 4 | Initialize-Disk -ErrorAction SilentlyContinue\nGet-Disk -Number 5 | Initialize-Disk -ErrorAction SilentlyContinue\nGet-Disk -Number 6 | Initialize-Disk -ErrorAction SilentlyContinue\nGet-Disk -Number 7 | Initialize-Disk -ErrorAction SilentlyContinue\nGet-Disk -Number 8 | Initialize-Disk -ErrorAction SilentlyContinue\n\n# Format SQL binaries disk\nNew-Partition -DiskNumber 1 -DriveLetter F -UseMaximumSize -ErrorAction SilentlyContinue | Format-Volume -Confirm:$false\n\n# Format SQL backup\/restore disk\nNew-Partition -DiskNumber 2 -DriveLetter R -UseMaximumSize -ErrorAction SilentlyContinue | Format-Volume -Confirm:$false\n\n# Format DB DATA drives\nNew-Partition -DiskNumber 3 -DriveLetter G -UseMaximumSize -ErrorAction SilentlyContinue | Format-Volume -Confirm:$false\nNew-Partition -DiskNumber 4 -DriveLetter H -UseMaximumSize -ErrorAction SilentlyContinue | Format-Volume -Confirm:$false\n\n# Format DB TEMP drives\nNew-Partition -DiskNumber 5 -DriveLetter I -UseMaximumSize -ErrorAction SilentlyContinue | Format-Volume -Confirm:$false\nNew-Partition -DiskNumber 6 -DriveLetter J -UseMaximumSize -ErrorAction SilentlyContinue | Format-Volume -Confirm:$false\n\n# Format DB LOGS drives\nNew-Partition -DiskNumber 7 -DriveLetter T -UseMaximumSize -ErrorAction SilentlyContinue | Format-Volume -Confirm:$false\nNew-Partition -DiskNumber 8 -DriveLetter L -UseMaximumSize -ErrorAction SilentlyContinue | Format-Volume -Confirm:$false\n\n#Format drive with 64K block size, assigns Label and drive letter\nFormat-Volume -DriveLetter F -FileSystem NTFS -NewFileSystemLabel \"SQLINSTALL\" -Confirm:$false \nFormat-Volume -DriveLetter R -AllocationUnitSize 65536 -FileSystem NTFS -NewFileSystemLabel \"SQLBCK\" -Confirm:$false \nFormat-Volume -DriveLetter G -AllocationUnitSize 65536 -FileSystem NTFS -NewFileSystemLabel \"DATA01\" -Confirm:$false \nFormat-Volume -DriveLetter H -AllocationUnitSize 65536 -FileSystem NTFS -NewFileSystemLabel \"DATA02\" -Confirm:$false \nFormat-Volume -DriveLetter I -AllocationUnitSize 65536 -FileSystem NTFS -NewFileSystemLabel \"TEMPDB01\" -Confirm:$false \nFormat-Volume -DriveLetter J -AllocationUnitSize 65536 -FileSystem NTFS -NewFileSystemLabel \"TEMPDB02\" -Confirm:$false \nFormat-Volume -DriveLetter T -AllocationUnitSize 65536 -FileSystem NTFS -NewFileSystemLabel \"TEMPDBLOG01\" -Confirm:$false \nFormat-Volume -DriveLetter L -AllocationUnitSize 65536 -FileSystem NTFS -NewFileSystemLabel \"ULOG01\" -Confirm:$false \n\nWrite-Output \"Time taken: $((Get-Date).Subtract($start_time).seconds) Second(s)\"\n","script_type":"npsscript","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"LOCAL","uuid":"260a7259-60ca-416b-beae-022ec4b195ae"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"InitializeDisk"},{"target_any_local_reference":{"kind":"app_service","name":"MSSQL","uuid":"a4b732b0-c3de-410f-90c8-6e0628e0af37"},"retries":"0","description":"","type":"EXEC","uuid":"b8e48889-91d4-4b4f-98d0-408fbb1bf8e7","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"$DriveLetter = $(Get-Partition -DiskNumber 1 -PartitionNumber 2 | select DriveLetter -ExpandProperty DriveLetter)\n$edition = \"Standard\"\n$HOSTNAME=$(hostname)\n$PackageName = \"MsSqlServer2014Standard\"\n$Prerequisites = \"Net-Framework-Core\"\n$silentArgs = \"\/IACCEPTSQLSERVERLICENSETERMS \/Q \/ACTION=install \/FEATURES=SQLENGINE,SSMS,ADV_SSMS,CONN,IS,BC,SDK,BOL \/SECURITYMODE=sql \/SAPWD=`\"@@{SQL_CRED.secret}@@`\" \/ASSYSADMINACCOUNTS=`\"@@{SQL_CRED.username}@@`\" \/SQLSYSADMINACCOUNTS=`\"@@{SQL_CRED.username}@@`\" \/INSTANCEID=MSSQLSERVER \/INSTANCENAME=MSSQLSERVER \/UPDATEENABLED=False \/INDICATEPROGRESS \/TCPENABLED=1 \/INSTALLSQLDATADIR=`\"${DriveLetter}:\\Microsoft SQL Server`\"\"\n$setupDriveLetter = \"D:\"\n$setupPath = \"$setupDriveLetter\\setup.exe\"\n$validExitCodes = @(0)\n\nif ($Prerequisites){\nInstall-WindowsFeature -IncludeAllSubFeature -ErrorAction Stop $Prerequisites\n}\n\nWrite-Output \"Installing $PackageName....\"\n\n$install = Start-Process -FilePath $setupPath -ArgumentList $silentArgs -Wait -NoNewWindow -PassThru\n$install.WaitForExit()\n\n$exitCode = $install.ExitCode\n$install.Dispose()\n\nWrite-Output \"Command [`\"$setupPath`\" $silentArgs] exited with `'$exitCode`'.\"\nif ($validExitCodes -notcontains $exitCode) {\nWrite-Output \"Running [`\"$setupPath`\" $silentArgs] was not successful. Exit code was '$exitCode'. See log for possible error messages.\"\nexit 1\n}","script_type":"npsscript","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"DOMAIN_CRED","uuid":"951c02cf-a5e4-454c-8961-903cf8a691eb"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"InstallSQL"},{"target_any_local_reference":{"kind":"app_service","name":"MSSQL","uuid":"a4b732b0-c3de-410f-90c8-6e0628e0af37"},"retries":"0","description":"","type":"EXEC","uuid":"33a5d252-cb98-4bcb-a74f-1c587a92a023","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"if ((\"@@{INCLUDE_BPG}@@\" -eq \"no\") -or (\"@@{BPG_RKTOOLS_URL}@@\" -eq \"\")){\n    \"Ignoring BPG\"\n    exit 0\n}\n\n$start_time = Get-Date\n\n$TempDirectory = \"C:\\Temp\"\n$RktTemp = \"$TempDirectory\\rktools.2003\"\n\n$url = \"@@{BPG_RKTOOLS_URL}@@\"\n$filePath = \"$TempDirectory\\rktools.exe\"\n\nNew-Item -ItemType Directory -Force -Path $TempDirectory\n(New-Object System.Net.WebClient).DownloadFile($url,$filePath)\n\n& $filePath \/Q \/T:\"$RktTemp\" \/C\n\nStart-Sleep 10\n\n$PackageName = \"rktools.2003\"\n$setupPath = \"C:\\Windows\\System32\\msiexec.exe\"\n$silentArgs = \"\/i $RktTemp\\rktools.msi \/qn\"\n$validExitCodes = @(0)\n\nWrite-Output \"Installing $PackageName....\"\n\n$install = Start-Process -FilePath $setupPath -ArgumentList $silentArgs -Wait -NoNewWindow -PassThru\n$install.WaitForExit()\n\n$exitCode = $install.ExitCode\n$install.Dispose()\n\nWrite-Output \"Command [`\"$setupPath`\" $silentArgs] exited with `'$exitCode`'.\"\nif ($validExitCodes -notcontains $exitCode) {\nWrite-Output \"Running [`\"$setupPath`\" $silentArgs] was not successful. Exit code was '$exitCode'. See log for possible error messages.\"\nexit 1\n}\n\n# OS related tunning\n# Set Windows Power Options to High Performance\npowercfg -s 8c5e7fda-e8bf-4a96-9a85-a6e23a8c635c\n\n#Grant Memory privileges to user \n$ntrights_cli = \"C:\\Program Files (x86)\\Windows Resource Kits\\Tools\\ntrights.exe\"\n& $ntrights_cli -u \"NT SERVICE\\MSSQLSERVER\" +r SeLockMemoryPrivilege\n& $ntrights_cli -u \"NT SERVICE\\MSSQLSERVER\" +r SeManageVolumePrivilege\n\n\nWrite-Output \"Time taken: $((Get-Date).Subtract($start_time).seconds) Second(s)\"","script_type":"npsscript","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"DOMAIN_CRED","uuid":"951c02cf-a5e4-454c-8961-903cf8a691eb"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"ApplyOSBPG"},{"target_any_local_reference":{"kind":"app_service","name":"MSSQL","uuid":"a4b732b0-c3de-410f-90c8-6e0628e0af37"},"retries":"0","description":"","type":"EXEC","uuid":"cd1065bc-86b3-468a-8b4c-fb8386fae08a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"if ((\"@@{INCLUDE_BPG}@@\" -eq \"no\") -or (\"@@{BPG_RKTOOLS_URL}@@\" -eq \"\")){\n    \"Ignoring BPG\"\n    exit 0\n}\n\n$start_time = Get-Date\n\n$TempDirectory = \"C:\\Temp\"\n$sqladdparms_cli = \"$TempDirectory\\Add-SqlServerStartupParameter.ps1\"\n$TSQLSCRIPTSDIR = \"$TempDirectory\\TSQL_Scripts\"\nNew-Item -ItemType Directory -Force -Path $TSQLSCRIPTSDIR\n\nSet-Content -Path \"$sqladdparms_cli\" -Value '\nparam(\n## The parameter you wish to add\n[Parameter(Mandatory = $true)]\n$StartupParameter\n)\n\n$hklmRootNode = \"HKLM:\\SOFTWARE\\Microsoft\\Microsoft SQL Server\"\n\n$props = Get-ItemProperty \"$hklmRootNode\\Instance Names\\SQL\"\n$instances = $props.psobject.properties | ?{$_.Value -like \"MSSQL*\"} | select Value\n\n$instances | %{\n$inst = $_.Value;\n$regKey = \"$hklmRootNode\\$inst\\MSSQLServer\\Parameters\"\n$props = Get-ItemProperty $regKey\n$params = $props.psobject.properties | ?{$_.Name -like \"SQLArg*\"} | select Name, Value\n#$params | ft -AutoSize\n$hasFlag = $false\nforeach ($param in $params) {\nif($param.Value -eq $StartupParameter) {\n$hasFlag = $true\nbreak;\n}\n}\nif (-not $hasFlag) {\n\"Adding $StartupParameter\"\n$newRegProp = \"SQLArg\"+($params.Count)\nSet-ItemProperty -Path $regKey -Name $newRegProp -Value $StartupParameter\n} else {\n\"$StartupParameter already set\"\n}\n}'\nSet-Content -Path \"$TSQLSCRIPTSDIR\\01-ChangeTempDB.sql\" -Value \"use master`r`n\ngo`r`n\nAlter database tempdb modify file (name = tempdev, filename = 'I:\\TEMPDB01\\tempdb01.mdf', SIZE = 4096, FILEGROWTH=0)`r`n\ngo`r`n\nAlter database tempdb modify file (name = templog, filename = 'T:\\TempDB-logs01\\templog01.ldf', SIZE = 4096, FILEGROWTH=0)`r`n\ngo`r`n\nAlter database tempdb ADD file (name = tempdev02, filename = 'I:\\TEMPDB01\\tempdb02.ndf', SIZE = 4096, FILEGROWTH=0)`r`n\ngo`r`n\nAlter database tempdb ADD file (name = tempdev03, filename = 'J:\\TEMPDB02\\tempdb03.ndf', SIZE = 4096, FILEGROWTH=0)`r`n\ngo`r`n\nAlter database tempdb ADD file (name = tempdev04, filename = 'J:\\TEMPDB02\\tempdb04.ndf', SIZE = 4096, FILEGROWTH=0)`r`n\ngo`r`n\n`r`n\nALTER DATABASE [tempdb] MODIFY FILE (NAME=N'tempdev', NEWNAME=N'tempdev01')`r`n\nGO`r`n\nALTER DATABASE [tempdb] MODIFY FILE (NAME=N'templog', NEWNAME=N'templog01')`r`n\nGO\"\n\nSet-Content -Path \"$TSQLSCRIPTSDIR\\02-IncreaseTempDB_logs.sql\" -Value \"Use master`r`n\ngo`r`n\nALTER DATABASE tempdb MODIFY FILE (NAME = templog01, filename = 'T:\\TempDB-logs01\\templog01.ldf', SIZE`r`n\n= 8096);`r`n\nGO`r`n\nALTER DATABASE tempdb MODIFY FILE (NAME = templog01, FILENAME = 'T:\\TempDB-logs01\\templog01.ldf', SIZE`r`n\n= 12288);`r`n\nGO\"\n\nSet-Content -Path \"$TSQLSCRIPTSDIR\\03-SQL_set_memory.sql\" -Value \"USE master;`r`n\nexec sp_configure 'show advanced options', 1;`r`n\nRECONFIGURE;`r`n\nGO`r`n\nDECLARE `r`n\n@total_mem decimal (10,0),`r`n\n@min int,`r`n\n@max int`r`n\nSELECT `r`n\n--SELECT (physical_memory_kb\/1024) AS Server_Physical_Memory_MB`r`n\n@total_mem = (physical_memory_kb\/1024)`r`n\nFROM sys.dm_os_sys_info`r`n\n`r`n\nset @min = @total_mem * 0.1`r`n\nset @max = @total_mem * 0.85`r`n\nprint @min`r`n\nprint @max`r`n\n--print @total_mem`r`n\n`r`n\n`r`n\nEXEC sp_configure 'min server memory (MB)',@min`r`n\nEXEC sp_configure 'max server memory (MB)',@max`r`n\nRECONFIGURE\"\n\nSet-Content -Path \"$TSQLSCRIPTSDIR\\04-SQL-ChangeDefaultPaths.sql\" -Value \"USE [master]`r`n\nGO`r`n\n-- Change default location for data files`r`n\nEXEC xp_instance_regwrite`r`n\nN'HKEY_LOCAL_MACHINE',`r`n\nN'Software\\Microsoft\\MSSQLServer\\MSSQLServer',`r`n\nN'DefaultData',`r`n\nREG_SZ,`r`n\nN'G:\\SQLDATA01'`r`n\nGO`r`n\n-- Change default location for log files`r`n\nEXEC xp_instance_regwrite`r`n\nN'HKEY_LOCAL_MACHINE',`r`n\nN'Software\\Microsoft\\MSSQLServer\\MSSQLServer',`r`n\nN'DefaultLog',`r`n\nREG_SZ,`r`n\nN'L:\\UserDB-logs01'`r`n\nGO`r`n\n-- Change default location for backups`r`n\nEXEC xp_instance_regwrite`r`n\nN'HKEY_LOCAL_MACHINE',`r`n\nN'Software\\Microsoft\\MSSQLServer\\MSSQLServer',`r`n\nN'BackupDirectory',`r`n\nREG_SZ,`r`n\nN'R:\\SQLBACK'`r`n\nGO\"\n\n#create directories\nmkdir G:\\SQLDATA01\\\nmkdir H:\\SQLDATA02\\\nmkdir I:\\TEMPDB01\\\nmkdir J:\\TEMPDB02\\\nmkdir L:\\UserDB-logs01\\\nmkdir T:\\TempDB-logs01\\\nmkdir R:\\SQLBACK\n\n#ADD SQL T parameters \n#T1117 This parameter forces MS SQL Server to grow all database files uniformly\n#T1118 This parameter forces MS SQL Server to use full extents only\n& $sqladdparms_cli '-T1117'\n& $sqladdparms_cli '-T1118'\nrestart-service MSSQL* -force\n\n#import powershell SQL module\nimport-module \"sqlps\" -DisableNameChecking\n\ninvoke-sqlcmd -hostname localhost -inputFile \"$TSQLSCRIPTSDIR\\01-ChangeTempDB.sql\"\ninvoke-sqlcmd -hostname localhost -inputFile \"$TSQLSCRIPTSDIR\\02-IncreaseTempDB_logs.sql\"\ninvoke-sqlcmd -hostname localhost -inputFile \"$TSQLSCRIPTSDIR\\03-SQL_set_memory.sql\"\ninvoke-sqlcmd -hostname localhost -inputFile \"$TSQLSCRIPTSDIR\\04-SQL-ChangeDefaultPaths.sql\"\n\n#Delete original SQL temp files\nstop-service MSSQL* \nStart-Sleep 5\nrm \"F:\\Microsoft SQL Server\\MSSQL12.MSSQLSERVER\\MSSQL\\DATA\\temp*\"\n\nstart-service MSSQL* \nwmic useraccount get sid\nWrite-Output \"Time taken: $((Get-Date).Subtract($start_time).seconds) Second(s)\"\n","script_type":"npsscript","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"DOMAIN_CRED","uuid":"951c02cf-a5e4-454c-8961-903cf8a691eb"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"ApplySQLBPG"},{"target_any_local_reference":{"kind":"app_service","name":"MSSQL","uuid":"a4b732b0-c3de-410f-90c8-6e0628e0af37"},"retries":"0","description":"","type":"EXEC","uuid":"e4819e41-28e0-4dd9-98ad-c46e92de7a1f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"New-NetFirewallRule -DisplayName \"SQL Server\" -Direction Inbound -Protocol TCP -LocalPort 1433 -Action allow\nNew-NetFirewallRule -DisplayName \"SQL Admin Connection\" -Direction Inbound -Protocol TCP -LocalPort 1434 -Action allow\nNew-NetFirewallRule -DisplayName \"SQL Database Management\" -Direction Inbound -Protocol UDP -LocalPort 1434 -Action allow\nNew-NetFirewallRule -DisplayName \"SQL Service Broker\" -Direction Inbound -Protocol TCP -LocalPort 4022 -Action allow\nNew-NetFirewallRule -DisplayName \"SQL Debugger\/RPC\" -Direction Inbound -Protocol TCP -LocalPort 135 -Action allow\nNew-NetFirewallRule -DisplayName \"SQL Browser\" -Direction Inbound -Protocol TCP -LocalPort 2382 -Action allow","script_type":"npsscript","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"DOMAIN_CRED","uuid":"951c02cf-a5e4-454c-8961-903cf8a691eb"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"FirewallRules"}],"description":"","message_list":[],"uuid":"9c83acee-c38b-4b72-ba09-67dededbfcb3","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"87d54973_dag","uuid":"202f4b2f-65f2-4fba-8be8-51764743c90c"},"name":"b58c360f_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"MSSQLPackage","uuid":"2de8a964-cdc9-4a5a-8b18-bc5fabf8583d"},"retries":"0","description":"","type":"DAG","uuid":"9235c837-898a-4062-b489-900e0b4d83e6","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"c5e51cfd_dag"}],"description":"","message_list":[],"uuid":"cfeaabcc-1da9-46ec-9b5f-dd65fb8b760d","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"c5e51cfd_dag","uuid":"9235c837-898a-4062-b489-900e0b4d83e6"},"name":"8cc4ed37_runbook"}},"variable_list":[],"name":"MSSQLPackage"}]},"name":"MSSQL_MPI"},"spec":{"name":"MSSQL_MPI","resources":{"service_definition_list":[{"singleton":false,"uuid":"a4b732b0-c3de-410f-90c8-6e0628e0af37","action_list":[{"uuid":"bf27bfd1-c25a-447d-8e1e-4febba6ddd4a","name":"action_create","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"MSSQL","uuid":"a4b732b0-c3de-410f-90c8-6e0628e0af37"},"retries":"0","description":"","uuid":"3bef9fde-e4d9-404e-b4e2-97abcd040e0e","child_tasks_local_reference_list":[],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"030017c3_dag"}],"uuid":"8eccd264-b78a-415c-8a57-000e47a940d5","description":"","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"030017c3_dag","uuid":"3bef9fde-e4d9-404e-b4e2-97abcd040e0e"},"name":"5730e30f_runbook"},"type":"system","description":"System action for creating an application"},{"uuid":"d5effa1e-d09d-40ea-87ca-f6d8bdcd128d","name":"action_delete","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"MSSQL","uuid":"a4b732b0-c3de-410f-90c8-6e0628e0af37"},"retries":"0","description":"","uuid":"0e097f5b-0d2c-4217-a79d-9a6ba8aad464","child_tasks_local_reference_list":[],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"6f5f997d_dag"}],"uuid":"441b0363-81e1-4686-a82a-33594f1ec102","description":"","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"6f5f997d_dag","uuid":"0e097f5b-0d2c-4217-a79d-9a6ba8aad464"},"name":"b01e7edf_runbook"},"type":"system","description":"System action for deleting an application. Deletes created VMs as well"},{"uuid":"5b20b695-66fa-45ab-87f9-41307a99ceee","name":"action_start","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"MSSQL","uuid":"a4b732b0-c3de-410f-90c8-6e0628e0af37"},"retries":"0","description":"","uuid":"84ef1f7b-c124-4ac5-bc17-bbb52a76a97d","child_tasks_local_reference_list":[],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"c2b90e7d_dag"}],"uuid":"798e0d01-fa9b-49f9-8aba-a3fe8cf77617","description":"","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"c2b90e7d_dag","uuid":"84ef1f7b-c124-4ac5-bc17-bbb52a76a97d"},"name":"0263f5a9_runbook"},"type":"system","description":"System action for starting an application"},{"uuid":"1740f8dc-82d0-4be1-88d5-816b20349c22","name":"action_stop","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"MSSQL","uuid":"a4b732b0-c3de-410f-90c8-6e0628e0af37"},"retries":"0","description":"","uuid":"6ad1d0f6-f904-455c-b63e-391363f2b9a8","child_tasks_local_reference_list":[],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"00b1cc9f_dag"}],"uuid":"eb1b35f8-5520-4c2e-af1c-4c637ff02f14","description":"","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"00b1cc9f_dag","uuid":"6ad1d0f6-f904-455c-b63e-391363f2b9a8"},"name":"8aadc288_runbook"},"type":"system","description":"System action for stopping an application"},{"uuid":"85e31d7e-824d-4dc7-b722-aa306cbb1fed","name":"action_restart","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"MSSQL","uuid":"a4b732b0-c3de-410f-90c8-6e0628e0af37"},"retries":"0","description":"","uuid":"d6cbf3ad-ebbd-4a10-b511-28d91eaa5eed","child_tasks_local_reference_list":[],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"6c4b7c3b_dag"}],"uuid":"b8872014-4fdf-4e44-8d1a-f6ab05f66c45","description":"","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"6c4b7c3b_dag","uuid":"d6cbf3ad-ebbd-4a10-b511-28d91eaa5eed"},"name":"a059f54d_runbook"},"type":"system","description":"System action for restarting an application"}],"description":"","depends_on_list":[],"port_list":[],"tier":"","variable_list":[{"val_type":"STRING","description":"","uuid":"c7d585ca-2891-4680-9f1f-3cfb9668d6bc","value":"","label":"","attrs":{"type":""},"type":"LOCAL","name":"EXECUTION_MODE"}],"name":"MSSQL"}],"substrate_definition_list":[{"description":"","action_list":[],"uuid":"9d94b753-f455-4679-a3e0-06e8ec334dd7","readiness_probe":{"connection_type":"POWERSHELL","retries":"5","disable_readiness_probe":false,"timeout_secs":"300","address":"@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@","delay_secs":"60","connection_port":5985,"login_credential_local_reference":{"kind":"app_credential","name":"LOCAL","uuid":"260a7259-60ca-416b-beae-022ec4b195ae"}},"editables":{"readiness_probe":{"connection_type":true,"delay_secs":true,"connection_port":true,"timeout_secs":true},"create_spec":{"name":true,"resources":{"nic_list":{"0":{"subnet_reference":true}},"serial_port_list":{},"num_vcpus_per_socket":true,"num_sockets":true,"memory_size_mib":true,"guest_customization":true,"disk_list":{"1":{"data_source_reference":true,"device_properties":{"device_type":true,"disk_address":{"adapter_type":true}}},"0":{"data_source_reference":true,"device_properties":{"device_type":true,"disk_address":{"adapter_type":true}}},"3":{"disk_size_mib":true},"2":{"disk_size_mib":true},"5":{"disk_size_mib":true},"4":{"disk_size_mib":true},"7":{"disk_size_mib":true},"6":{"disk_size_mib":true},"9":{"disk_size_mib":true},"8":{"disk_size_mib":true}}}}},"os_type":"Windows","type":"AHV_VM","create_spec":{"name":"MSSQL-@@{calm_random}@@","categories":"","availability_zone_reference":null,"backup_policy":null,"type":"","cluster_reference":null,"resources":{"nic_list":[],"serial_port_list":[],"guest_tools":null,"num_vcpus_per_socket":1,"num_sockets":4,"gpu_list":[],"memory_size_mib":4096,"parent_reference":null,"hardware_clock_timezone":"","guest_customization":{"cloud_init":null,"type":"","sysprep":{"install_type":"PREPARED","unattend_xml":"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<unattend xmlns=\"urn:schemas-microsoft-com:unattend\">\n   <settings pass=\"specialize\">\n      <component xmlns:wcm=\"http:\/\/schemas.microsoft.com\/WMIConfig\/2002\/State\" xmlns:xsi=\"http:\/\/www.w3.org\/2001\/XMLSchema-instance\" name=\"Microsoft-Windows-Shell-Setup\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\">\n         <ComputerName>@@{name}@@<\/ComputerName>\n         <RegisteredOrganization>Nutanix<\/RegisteredOrganization>\n         <RegisteredOwner>Acropolis<\/RegisteredOwner>\n         <TimeZone>UTC<\/TimeZone>\n      <\/component>\n      <component xmlns=\"\" name=\"Microsoft-Windows-TerminalServices-LocalSessionManager\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\" processorArchitecture=\"amd64\">\n         <fDenyTSConnections>false<\/fDenyTSConnections>\n      <\/component>\n      <component xmlns=\"\" name=\"Microsoft-Windows-TerminalServices-RDP-WinStationExtensions\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\" processorArchitecture=\"amd64\">\n         <UserAuthentication>0<\/UserAuthentication>\n      <\/component>\n      <component xmlns:wcm=\"http:\/\/schemas.microsoft.com\/WMIConfig\/2002\/State\" xmlns:xsi=\"http:\/\/www.w3.org\/2001\/XMLSchema-instance\" name=\"Networking-MPSSVC-Svc\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\">\n         <FirewallGroups>\n            <FirewallGroup wcm:action=\"add\" wcm:keyValue=\"RemoteDesktop\">\n               <Active>true<\/Active>\n               <Profile>all<\/Profile>\n               <Group>@FirewallAPI.dll,-28752<\/Group>\n            <\/FirewallGroup>\n         <\/FirewallGroups>\n      <\/component>\n   <\/settings>\n   <settings pass=\"oobeSystem\">\n      <component xmlns:wcm=\"http:\/\/schemas.microsoft.com\/WMIConfig\/2002\/State\" xmlns:xsi=\"http:\/\/www.w3.org\/2001\/XMLSchema-instance\" name=\"Microsoft-Windows-Shell-Setup\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\">\n         <UserAccounts>\n            <AdministratorPassword>\n               <Value>@@{LOCAL.secret}@@<\/Value>\n               <PlainText>true<\/PlainText>\n            <\/AdministratorPassword>\n         <\/UserAccounts>\n         <AutoLogon>\n            <Password>\n               <Value>@@{LOCAL.secret}@@<\/Value>\n               <PlainText>true<\/PlainText>\n            <\/Password>\n            <Enabled>true<\/Enabled>\n            <Username>Administrator<\/Username>\n         <\/AutoLogon>\n         <FirstLogonCommands>\n            <SynchronousCommand wcm:action=\"add\">\n               <CommandLine>cmd.exe \/c netsh firewall add portopening TCP 5985 \"Port 5985\"<\/CommandLine>\n               <Description>Win RM port open<\/Description>\n               <Order>1<\/Order>\n               <RequiresUserInput>true<\/RequiresUserInput>\n            <\/SynchronousCommand>\n         <\/FirstLogonCommands>\n         <OOBE>\n            <HideEULAPage>true<\/HideEULAPage>\n            <SkipMachineOOBE>true<\/SkipMachineOOBE>\n         <\/OOBE>\n      <\/component>\n      <component xmlns:wcm=\"http:\/\/schemas.microsoft.com\/WMIConfig\/2002\/State\" xmlns:xsi=\"http:\/\/www.w3.org\/2001\/XMLSchema-instance\" name=\"Microsoft-Windows-International-Core\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\">\n         <InputLocale>en-US<\/InputLocale>\n         <SystemLocale>en-US<\/SystemLocale>\n         <UILanguageFallback>en-us<\/UILanguageFallback>\n         <UILanguage>en-US<\/UILanguage>\n         <UserLocale>en-US<\/UserLocale>\n      <\/component>\n   <\/settings>\n<\/unattend>","type":""}},"power_state":"ON","type":"","boot_config":{"boot_device":{"type":"","disk_address":{"adapter_type":"SCSI","device_index":0,"type":""}},"type":"","mac_address":""},"disk_list":[{"data_source_reference":{"kind":"image","type":"","name":"WindowsServer2016-Base","uuid":"7e750478-38fd-48d3-a683-ab15fa30c0fb"},"type":"","disk_size_mib":0,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":0,"type":""}}},{"data_source_reference":{"kind":"image","type":"","name":"SQLServer2014SP2-FullSlipstream-x64-ENU","uuid":"c5d1bcf8-ecf6-4e9d-9e36-4f02cf93ac3e"},"type":"","disk_size_mib":0,"volume_group_reference":null,"device_properties":{"type":"","device_type":"CDROM","disk_address":{"adapter_type":"IDE","device_index":0,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":51200,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":1,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":153600,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":2,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":307200,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":3,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":307200,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":4,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":102400,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":5,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":102400,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":6,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":204800,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":7,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":204800,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":8,"type":""}}}]}},"variable_list":[],"name":"MSSQL2014"}],"credential_definition_list":[{"username":"administrator","description":"","uuid":"260a7259-60ca-416b-beae-022ec4b195ae","secret":{"attrs":{"is_secret_modified":false,"secret_reference":{"uuid":"6db6de4c-7d9e-40d5-bc7b-dbcea5773fa9"}}},"editables":{"username":true,"secret":true},"type":"PASSWORD","name":"LOCAL"},{"username":"administrator@contoso.com","description":"","uuid":"951c02cf-a5e4-454c-8961-903cf8a691eb","secret":{"attrs":{"is_secret_modified":false,"secret_reference":{"uuid":"35faabe3-2617-4b2d-a7df-488c5a33e448"}}},"editables":{"username":true,"secret":true},"type":"PASSWORD","name":"DOMAIN_CRED"},{"username":"contoso\\administrator","description":"","uuid":"68e0612d-d8f0-4c2d-b919-418ca91b8a7e","secret":{"attrs":{"is_secret_modified":false,"secret_reference":{"uuid":"c7be50c4-741a-4a0f-b402-091cda3c849b"}}},"editables":{"username":true,"secret":true},"type":"PASSWORD","name":"SQL_CRED"}],"type":"USER","app_profile_list":[{"deployment_create_list":[{"description":"","action_list":[],"package_local_reference_list":[{"kind":"app_package","name":"MSSQLPackage","uuid":"2de8a964-cdc9-4a5a-8b18-bc5fabf8583d"}],"uuid":"03377180-ffea-4ceb-b4c2-47aecdce938e","min_replicas":"1","max_replicas":"1","substrate_local_reference":{"kind":"app_substrate","name":"MSSQL2014","uuid":"9d94b753-f455-4679-a3e0-06e8ec334dd7"},"type":"GREENFIELD","variable_list":[],"name":"49669086_deployment"}],"uuid":"91c525db-40dc-4651-880c-33189dfcec7f","action_list":[],"description":"","variable_list":[{"val_type":"STRING","description":"","uuid":"7f2589a4-bc26-4344-89d1-f9e55f9e4ebe","value":"10.15.193.5","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","name":"AD_IP"},{"val_type":"STRING","description":"","uuid":"c517bce6-6938-45f3-be16-158442aa4592","value":"contoso.com","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","name":"DOMAIN"},{"val_type":"STRING","description":"","uuid":"b584dd65-6a7d-493d-a2fb-940b33e1f028","value":"yes","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","name":"INCLUDE_BPG"},{"val_type":"STRING","description":"","uuid":"4679ed8c-12c7-4255-a7b4-3be1b5816ea8","value":"http:\/\/download.microsoft.com\/download\/8\/e\/c\/8ec3a7d8-05b4-440a-a71e-ca3ee25fe057\/rktools.exe","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","name":"BPG_RKTOOLS_URL"}],"name":"Nutanix"}],"default_credential_local_reference":{"kind":"app_credential","name":"LOCAL","uuid":"260a7259-60ca-416b-beae-022ec4b195ae"},"package_definition_list":[{"description":"","action_list":[],"service_local_reference_list":[{"kind":"app_service","name":"MSSQL","uuid":"a4b732b0-c3de-410f-90c8-6e0628e0af37"}],"uuid":"2de8a964-cdc9-4a5a-8b18-bc5fabf8583d","version":"","type":"DEB","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"MSSQLPackage","uuid":"2de8a964-cdc9-4a5a-8b18-bc5fabf8583d"},"retries":"0","name":"87d54973_dag","type":"DAG","uuid":"202f4b2f-65f2-4fba-8be8-51764743c90c","child_tasks_local_reference_list":[{"kind":"app_task","name":"Enable Credssp","uuid":"74408982-abe8-4c60-91c8-def413139408"},{"kind":"app_task","name":"AddToDomain","uuid":"322e953b-5f8f-4f07-83f4-b74ce18ae965"},{"kind":"app_task","name":"Wait for Machine to Join domain","uuid":"8feaa3ed-b825-43f6-819a-51704730d67c"},{"kind":"app_task","name":"InitializeDisk","uuid":"d5815872-d4a9-4300-9c23-0df9fbd98897"},{"kind":"app_task","name":"InstallSQL","uuid":"b8e48889-91d4-4b4f-98d0-408fbb1bf8e7"},{"kind":"app_task","name":"ApplyOSBPG","uuid":"33a5d252-cb98-4bcb-a74f-1c587a92a023"},{"kind":"app_task","name":"ApplySQLBPG","uuid":"cd1065bc-86b3-468a-8b4c-fb8386fae08a"},{"kind":"app_task","name":"FirewallRules","uuid":"e4819e41-28e0-4dd9-98ad-c46e92de7a1f"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Enable Credssp","uuid":"74408982-abe8-4c60-91c8-def413139408"},"edge_type":"user_defined","type":"","uuid":"ed237af4-178b-4344-9b25-f6914a5f6eae","to_task_reference":{"kind":"app_task","name":"AddToDomain","uuid":"322e953b-5f8f-4f07-83f4-b74ce18ae965"}},{"from_task_reference":{"kind":"app_task","name":"AddToDomain","uuid":"322e953b-5f8f-4f07-83f4-b74ce18ae965"},"edge_type":"user_defined","type":"","uuid":"1b333650-4222-4d28-ab8f-ed6e78842a45","to_task_reference":{"kind":"app_task","name":"Wait for Machine to Join domain","uuid":"8feaa3ed-b825-43f6-819a-51704730d67c"}},{"from_task_reference":{"kind":"app_task","name":"Wait for Machine to Join domain","uuid":"8feaa3ed-b825-43f6-819a-51704730d67c"},"edge_type":"user_defined","type":"","uuid":"cda4edc5-2edf-423c-afb2-fbe72aca239e","to_task_reference":{"kind":"app_task","name":"InitializeDisk","uuid":"d5815872-d4a9-4300-9c23-0df9fbd98897"}},{"from_task_reference":{"kind":"app_task","name":"InitializeDisk","uuid":"d5815872-d4a9-4300-9c23-0df9fbd98897"},"edge_type":"user_defined","type":"","uuid":"68f0c526-8361-438a-b947-708f000c8a1a","to_task_reference":{"kind":"app_task","name":"InstallSQL","uuid":"b8e48889-91d4-4b4f-98d0-408fbb1bf8e7"}},{"from_task_reference":{"kind":"app_task","name":"InstallSQL","uuid":"b8e48889-91d4-4b4f-98d0-408fbb1bf8e7"},"edge_type":"user_defined","type":"","uuid":"379c9e5b-eb62-4b06-ab7d-dcfd5deeb387","to_task_reference":{"kind":"app_task","name":"ApplyOSBPG","uuid":"33a5d252-cb98-4bcb-a74f-1c587a92a023"}},{"from_task_reference":{"kind":"app_task","name":"ApplyOSBPG","uuid":"33a5d252-cb98-4bcb-a74f-1c587a92a023"},"edge_type":"user_defined","type":"","uuid":"2f03fedd-2ae6-44f1-b6e6-675e6d86e0ac","to_task_reference":{"kind":"app_task","name":"ApplySQLBPG","uuid":"cd1065bc-86b3-468a-8b4c-fb8386fae08a"}},{"from_task_reference":{"kind":"app_task","name":"ApplySQLBPG","uuid":"cd1065bc-86b3-468a-8b4c-fb8386fae08a"},"edge_type":"user_defined","type":"","uuid":"05d15f7f-8160-4d42-b06a-56e2ed7cd1e0","to_task_reference":{"kind":"app_task","name":"FirewallRules","uuid":"e4819e41-28e0-4dd9-98ad-c46e92de7a1f"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"description":""},{"target_any_local_reference":{"kind":"app_package","name":"MSSQLPackage","uuid":"2de8a964-cdc9-4a5a-8b18-bc5fabf8583d"},"retries":"0","name":"Enable Credssp","type":"EXEC","uuid":"74408982-abe8-4c60-91c8-def413139408","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script":"Enable-WSManCredSSP -Role Server -Force","type":"","command_line_args":"","exit_status":[],"script_type":"npsscript"},"timeout_secs":"0","message_list":[],"variable_list":[],"description":""},{"target_any_local_reference":{"kind":"app_service","name":"MSSQL","uuid":"a4b732b0-c3de-410f-90c8-6e0628e0af37"},"retries":"0","name":"AddToDomain","type":"EXEC","uuid":"322e953b-5f8f-4f07-83f4-b74ce18ae965","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"##############################################\n# Name        : JoinDomain.ps1\n# Author      : K Sarat Kumar\n# Version     : 1.0\n# Description : Script is used to Change hostname of machines and join to domain.\n##############################################\n\nfunction JointoDomain {\n  [CmdletBinding()]\n  Param(\n      [parameter(Mandatory=$true)]\n      [string]$DomainName,\n      [parameter(Mandatory=$false)]\n      [string]$OU,\n      [parameter(Mandatory=$true)]\n      [string]$Username,\n      [parameter(Mandatory=$true)]\n      [string]$Password,\n      [parameter(Mandatory=$true)]\n      [string]$Server\n  )\n  $adapter = Get-NetAdapter | ? {$_.Status -eq \"up\"}\n  $adapter | Set-DnsClientServerAddress -ServerAddresses $Server\n\n  if ($env:computername  -eq $env:userdomain) {\n    Write-Host \"Not in domain\"\n    #$adminname = \"$DomainName\\$Username\"\n    $adminname = \"$Username\"\n    $adminpassword = ConvertTo-SecureString -asPlainText -Force -String \"$Password\"\n    Write-Host \"$adminname , $password\"\n    $credential = New-Object System.Management.Automation.PSCredential($adminname,$adminpassword)\n    Add-computer -DomainName $DomainName -Credential $credential -force -Options JoinWithNewName,AccountCreate -PassThru -ErrorAction Stop\n  } else {\n     Write-Host \"Already in domain\"\n  }\n}\n\nJointoDomain -DomainName \"@@{DOMAIN}@@\" -Username \"@@{DOMAIN_CRED.username}@@\" -Password \"@@{DOMAIN_CRED.secret}@@\" -Server \"@@{AD_IP}@@\"\n\nRestart-Computer -Force -AsJob\nexit 0\n","login_credential_local_reference":{"kind":"app_credential","name":"LOCAL","uuid":"260a7259-60ca-416b-beae-022ec4b195ae"},"type":"","command_line_args":"","script_type":"npsscript"},"timeout_secs":"0","message_list":[],"variable_list":[],"description":""},{"target_any_local_reference":{"kind":"app_service","name":"MSSQL","uuid":"a4b732b0-c3de-410f-90c8-6e0628e0af37"},"retries":"0","name":"Wait for Machine to Join domain","type":"EXEC","uuid":"8feaa3ed-b825-43f6-819a-51704730d67c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script":"#script\nsleep(60)","type":"","command_line_args":"","exit_status":[],"script_type":"static"},"timeout_secs":"0","message_list":[],"variable_list":[],"description":""},{"target_any_local_reference":{"kind":"app_service","name":"MSSQL","uuid":"a4b732b0-c3de-410f-90c8-6e0628e0af37"},"retries":"0","name":"InitializeDisk","type":"EXEC","uuid":"d5815872-d4a9-4300-9c23-0df9fbd98897","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"$start_time = Get-Date\n\nGet-Disk -Number 1 | Initialize-Disk -ErrorAction SilentlyContinue\nGet-Disk -Number 2 | Initialize-Disk -ErrorAction SilentlyContinue\nGet-Disk -Number 3 | Initialize-Disk -ErrorAction SilentlyContinue\nGet-Disk -Number 4 | Initialize-Disk -ErrorAction SilentlyContinue\nGet-Disk -Number 5 | Initialize-Disk -ErrorAction SilentlyContinue\nGet-Disk -Number 6 | Initialize-Disk -ErrorAction SilentlyContinue\nGet-Disk -Number 7 | Initialize-Disk -ErrorAction SilentlyContinue\nGet-Disk -Number 8 | Initialize-Disk -ErrorAction SilentlyContinue\n\n# Format SQL binaries disk\nNew-Partition -DiskNumber 1 -DriveLetter F -UseMaximumSize -ErrorAction SilentlyContinue | Format-Volume -Confirm:$false\n\n# Format SQL backup\/restore disk\nNew-Partition -DiskNumber 2 -DriveLetter R -UseMaximumSize -ErrorAction SilentlyContinue | Format-Volume -Confirm:$false\n\n# Format DB DATA drives\nNew-Partition -DiskNumber 3 -DriveLetter G -UseMaximumSize -ErrorAction SilentlyContinue | Format-Volume -Confirm:$false\nNew-Partition -DiskNumber 4 -DriveLetter H -UseMaximumSize -ErrorAction SilentlyContinue | Format-Volume -Confirm:$false\n\n# Format DB TEMP drives\nNew-Partition -DiskNumber 5 -DriveLetter I -UseMaximumSize -ErrorAction SilentlyContinue | Format-Volume -Confirm:$false\nNew-Partition -DiskNumber 6 -DriveLetter J -UseMaximumSize -ErrorAction SilentlyContinue | Format-Volume -Confirm:$false\n\n# Format DB LOGS drives\nNew-Partition -DiskNumber 7 -DriveLetter T -UseMaximumSize -ErrorAction SilentlyContinue | Format-Volume -Confirm:$false\nNew-Partition -DiskNumber 8 -DriveLetter L -UseMaximumSize -ErrorAction SilentlyContinue | Format-Volume -Confirm:$false\n\n#Format drive with 64K block size, assigns Label and drive letter\nFormat-Volume -DriveLetter F -FileSystem NTFS -NewFileSystemLabel \"SQLINSTALL\" -Confirm:$false \nFormat-Volume -DriveLetter R -AllocationUnitSize 65536 -FileSystem NTFS -NewFileSystemLabel \"SQLBCK\" -Confirm:$false \nFormat-Volume -DriveLetter G -AllocationUnitSize 65536 -FileSystem NTFS -NewFileSystemLabel \"DATA01\" -Confirm:$false \nFormat-Volume -DriveLetter H -AllocationUnitSize 65536 -FileSystem NTFS -NewFileSystemLabel \"DATA02\" -Confirm:$false \nFormat-Volume -DriveLetter I -AllocationUnitSize 65536 -FileSystem NTFS -NewFileSystemLabel \"TEMPDB01\" -Confirm:$false \nFormat-Volume -DriveLetter J -AllocationUnitSize 65536 -FileSystem NTFS -NewFileSystemLabel \"TEMPDB02\" -Confirm:$false \nFormat-Volume -DriveLetter T -AllocationUnitSize 65536 -FileSystem NTFS -NewFileSystemLabel \"TEMPDBLOG01\" -Confirm:$false \nFormat-Volume -DriveLetter L -AllocationUnitSize 65536 -FileSystem NTFS -NewFileSystemLabel \"ULOG01\" -Confirm:$false \n\nWrite-Output \"Time taken: $((Get-Date).Subtract($start_time).seconds) Second(s)\"\n","login_credential_local_reference":{"kind":"app_credential","name":"LOCAL","uuid":"260a7259-60ca-416b-beae-022ec4b195ae"},"type":"","command_line_args":"","script_type":"npsscript"},"timeout_secs":"0","message_list":[],"variable_list":[],"description":""},{"target_any_local_reference":{"kind":"app_service","name":"MSSQL","uuid":"a4b732b0-c3de-410f-90c8-6e0628e0af37"},"retries":"0","name":"InstallSQL","type":"EXEC","uuid":"b8e48889-91d4-4b4f-98d0-408fbb1bf8e7","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"$DriveLetter = $(Get-Partition -DiskNumber 1 -PartitionNumber 2 | select DriveLetter -ExpandProperty DriveLetter)\n$edition = \"Standard\"\n$HOSTNAME=$(hostname)\n$PackageName = \"MsSqlServer2014Standard\"\n$Prerequisites = \"Net-Framework-Core\"\n$silentArgs = \"\/IACCEPTSQLSERVERLICENSETERMS \/Q \/ACTION=install \/FEATURES=SQLENGINE,SSMS,ADV_SSMS,CONN,IS,BC,SDK,BOL \/SECURITYMODE=sql \/SAPWD=`\"@@{SQL_CRED.secret}@@`\" \/ASSYSADMINACCOUNTS=`\"@@{SQL_CRED.username}@@`\" \/SQLSYSADMINACCOUNTS=`\"@@{SQL_CRED.username}@@`\" \/INSTANCEID=MSSQLSERVER \/INSTANCENAME=MSSQLSERVER \/UPDATEENABLED=False \/INDICATEPROGRESS \/TCPENABLED=1 \/INSTALLSQLDATADIR=`\"${DriveLetter}:\\Microsoft SQL Server`\"\"\n$setupDriveLetter = \"D:\"\n$setupPath = \"$setupDriveLetter\\setup.exe\"\n$validExitCodes = @(0)\n\nif ($Prerequisites){\nInstall-WindowsFeature -IncludeAllSubFeature -ErrorAction Stop $Prerequisites\n}\n\nWrite-Output \"Installing $PackageName....\"\n\n$install = Start-Process -FilePath $setupPath -ArgumentList $silentArgs -Wait -NoNewWindow -PassThru\n$install.WaitForExit()\n\n$exitCode = $install.ExitCode\n$install.Dispose()\n\nWrite-Output \"Command [`\"$setupPath`\" $silentArgs] exited with `'$exitCode`'.\"\nif ($validExitCodes -notcontains $exitCode) {\nWrite-Output \"Running [`\"$setupPath`\" $silentArgs] was not successful. Exit code was '$exitCode'. See log for possible error messages.\"\nexit 1\n}","login_credential_local_reference":{"kind":"app_credential","name":"DOMAIN_CRED","uuid":"951c02cf-a5e4-454c-8961-903cf8a691eb"},"type":"","command_line_args":"","script_type":"npsscript"},"timeout_secs":"0","message_list":[],"variable_list":[],"description":""},{"target_any_local_reference":{"kind":"app_service","name":"MSSQL","uuid":"a4b732b0-c3de-410f-90c8-6e0628e0af37"},"retries":"0","name":"ApplyOSBPG","type":"EXEC","uuid":"33a5d252-cb98-4bcb-a74f-1c587a92a023","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"if ((\"@@{INCLUDE_BPG}@@\" -eq \"no\") -or (\"@@{BPG_RKTOOLS_URL}@@\" -eq \"\")){\n    \"Ignoring BPG\"\n    exit 0\n}\n\n$start_time = Get-Date\n\n$TempDirectory = \"C:\\Temp\"\n$RktTemp = \"$TempDirectory\\rktools.2003\"\n\n$url = \"@@{BPG_RKTOOLS_URL}@@\"\n$filePath = \"$TempDirectory\\rktools.exe\"\n\nNew-Item -ItemType Directory -Force -Path $TempDirectory\n(New-Object System.Net.WebClient).DownloadFile($url,$filePath)\n\n& $filePath \/Q \/T:\"$RktTemp\" \/C\n\nStart-Sleep 10\n\n$PackageName = \"rktools.2003\"\n$setupPath = \"C:\\Windows\\System32\\msiexec.exe\"\n$silentArgs = \"\/i $RktTemp\\rktools.msi \/qn\"\n$validExitCodes = @(0)\n\nWrite-Output \"Installing $PackageName....\"\n\n$install = Start-Process -FilePath $setupPath -ArgumentList $silentArgs -Wait -NoNewWindow -PassThru\n$install.WaitForExit()\n\n$exitCode = $install.ExitCode\n$install.Dispose()\n\nWrite-Output \"Command [`\"$setupPath`\" $silentArgs] exited with `'$exitCode`'.\"\nif ($validExitCodes -notcontains $exitCode) {\nWrite-Output \"Running [`\"$setupPath`\" $silentArgs] was not successful. Exit code was '$exitCode'. See log for possible error messages.\"\nexit 1\n}\n\n# OS related tunning\n# Set Windows Power Options to High Performance\npowercfg -s 8c5e7fda-e8bf-4a96-9a85-a6e23a8c635c\n\n#Grant Memory privileges to user \n$ntrights_cli = \"C:\\Program Files (x86)\\Windows Resource Kits\\Tools\\ntrights.exe\"\n& $ntrights_cli -u \"NT SERVICE\\MSSQLSERVER\" +r SeLockMemoryPrivilege\n& $ntrights_cli -u \"NT SERVICE\\MSSQLSERVER\" +r SeManageVolumePrivilege\n\n\nWrite-Output \"Time taken: $((Get-Date).Subtract($start_time).seconds) Second(s)\"","login_credential_local_reference":{"kind":"app_credential","name":"DOMAIN_CRED","uuid":"951c02cf-a5e4-454c-8961-903cf8a691eb"},"type":"","command_line_args":"","script_type":"npsscript"},"timeout_secs":"0","message_list":[],"variable_list":[],"description":""},{"target_any_local_reference":{"kind":"app_service","name":"MSSQL","uuid":"a4b732b0-c3de-410f-90c8-6e0628e0af37"},"retries":"0","name":"ApplySQLBPG","type":"EXEC","uuid":"cd1065bc-86b3-468a-8b4c-fb8386fae08a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"if ((\"@@{INCLUDE_BPG}@@\" -eq \"no\") -or (\"@@{BPG_RKTOOLS_URL}@@\" -eq \"\")){\n    \"Ignoring BPG\"\n    exit 0\n}\n\n$start_time = Get-Date\n\n$TempDirectory = \"C:\\Temp\"\n$sqladdparms_cli = \"$TempDirectory\\Add-SqlServerStartupParameter.ps1\"\n$TSQLSCRIPTSDIR = \"$TempDirectory\\TSQL_Scripts\"\nNew-Item -ItemType Directory -Force -Path $TSQLSCRIPTSDIR\n\nSet-Content -Path \"$sqladdparms_cli\" -Value '\nparam(\n## The parameter you wish to add\n[Parameter(Mandatory = $true)]\n$StartupParameter\n)\n\n$hklmRootNode = \"HKLM:\\SOFTWARE\\Microsoft\\Microsoft SQL Server\"\n\n$props = Get-ItemProperty \"$hklmRootNode\\Instance Names\\SQL\"\n$instances = $props.psobject.properties | ?{$_.Value -like \"MSSQL*\"} | select Value\n\n$instances | %{\n$inst = $_.Value;\n$regKey = \"$hklmRootNode\\$inst\\MSSQLServer\\Parameters\"\n$props = Get-ItemProperty $regKey\n$params = $props.psobject.properties | ?{$_.Name -like \"SQLArg*\"} | select Name, Value\n#$params | ft -AutoSize\n$hasFlag = $false\nforeach ($param in $params) {\nif($param.Value -eq $StartupParameter) {\n$hasFlag = $true\nbreak;\n}\n}\nif (-not $hasFlag) {\n\"Adding $StartupParameter\"\n$newRegProp = \"SQLArg\"+($params.Count)\nSet-ItemProperty -Path $regKey -Name $newRegProp -Value $StartupParameter\n} else {\n\"$StartupParameter already set\"\n}\n}'\nSet-Content -Path \"$TSQLSCRIPTSDIR\\01-ChangeTempDB.sql\" -Value \"use master`r`n\ngo`r`n\nAlter database tempdb modify file (name = tempdev, filename = 'I:\\TEMPDB01\\tempdb01.mdf', SIZE = 4096, FILEGROWTH=0)`r`n\ngo`r`n\nAlter database tempdb modify file (name = templog, filename = 'T:\\TempDB-logs01\\templog01.ldf', SIZE = 4096, FILEGROWTH=0)`r`n\ngo`r`n\nAlter database tempdb ADD file (name = tempdev02, filename = 'I:\\TEMPDB01\\tempdb02.ndf', SIZE = 4096, FILEGROWTH=0)`r`n\ngo`r`n\nAlter database tempdb ADD file (name = tempdev03, filename = 'J:\\TEMPDB02\\tempdb03.ndf', SIZE = 4096, FILEGROWTH=0)`r`n\ngo`r`n\nAlter database tempdb ADD file (name = tempdev04, filename = 'J:\\TEMPDB02\\tempdb04.ndf', SIZE = 4096, FILEGROWTH=0)`r`n\ngo`r`n\n`r`n\nALTER DATABASE [tempdb] MODIFY FILE (NAME=N'tempdev', NEWNAME=N'tempdev01')`r`n\nGO`r`n\nALTER DATABASE [tempdb] MODIFY FILE (NAME=N'templog', NEWNAME=N'templog01')`r`n\nGO\"\n\nSet-Content -Path \"$TSQLSCRIPTSDIR\\02-IncreaseTempDB_logs.sql\" -Value \"Use master`r`n\ngo`r`n\nALTER DATABASE tempdb MODIFY FILE (NAME = templog01, filename = 'T:\\TempDB-logs01\\templog01.ldf', SIZE`r`n\n= 8096);`r`n\nGO`r`n\nALTER DATABASE tempdb MODIFY FILE (NAME = templog01, FILENAME = 'T:\\TempDB-logs01\\templog01.ldf', SIZE`r`n\n= 12288);`r`n\nGO\"\n\nSet-Content -Path \"$TSQLSCRIPTSDIR\\03-SQL_set_memory.sql\" -Value \"USE master;`r`n\nexec sp_configure 'show advanced options', 1;`r`n\nRECONFIGURE;`r`n\nGO`r`n\nDECLARE `r`n\n@total_mem decimal (10,0),`r`n\n@min int,`r`n\n@max int`r`n\nSELECT `r`n\n--SELECT (physical_memory_kb\/1024) AS Server_Physical_Memory_MB`r`n\n@total_mem = (physical_memory_kb\/1024)`r`n\nFROM sys.dm_os_sys_info`r`n\n`r`n\nset @min = @total_mem * 0.1`r`n\nset @max = @total_mem * 0.85`r`n\nprint @min`r`n\nprint @max`r`n\n--print @total_mem`r`n\n`r`n\n`r`n\nEXEC sp_configure 'min server memory (MB)',@min`r`n\nEXEC sp_configure 'max server memory (MB)',@max`r`n\nRECONFIGURE\"\n\nSet-Content -Path \"$TSQLSCRIPTSDIR\\04-SQL-ChangeDefaultPaths.sql\" -Value \"USE [master]`r`n\nGO`r`n\n-- Change default location for data files`r`n\nEXEC xp_instance_regwrite`r`n\nN'HKEY_LOCAL_MACHINE',`r`n\nN'Software\\Microsoft\\MSSQLServer\\MSSQLServer',`r`n\nN'DefaultData',`r`n\nREG_SZ,`r`n\nN'G:\\SQLDATA01'`r`n\nGO`r`n\n-- Change default location for log files`r`n\nEXEC xp_instance_regwrite`r`n\nN'HKEY_LOCAL_MACHINE',`r`n\nN'Software\\Microsoft\\MSSQLServer\\MSSQLServer',`r`n\nN'DefaultLog',`r`n\nREG_SZ,`r`n\nN'L:\\UserDB-logs01'`r`n\nGO`r`n\n-- Change default location for backups`r`n\nEXEC xp_instance_regwrite`r`n\nN'HKEY_LOCAL_MACHINE',`r`n\nN'Software\\Microsoft\\MSSQLServer\\MSSQLServer',`r`n\nN'BackupDirectory',`r`n\nREG_SZ,`r`n\nN'R:\\SQLBACK'`r`n\nGO\"\n\n#create directories\nmkdir G:\\SQLDATA01\\\nmkdir H:\\SQLDATA02\\\nmkdir I:\\TEMPDB01\\\nmkdir J:\\TEMPDB02\\\nmkdir L:\\UserDB-logs01\\\nmkdir T:\\TempDB-logs01\\\nmkdir R:\\SQLBACK\n\n#ADD SQL T parameters \n#T1117 This parameter forces MS SQL Server to grow all database files uniformly\n#T1118 This parameter forces MS SQL Server to use full extents only\n& $sqladdparms_cli '-T1117'\n& $sqladdparms_cli '-T1118'\nrestart-service MSSQL* -force\n\n#import powershell SQL module\nimport-module \"sqlps\" -DisableNameChecking\n\ninvoke-sqlcmd -hostname localhost -inputFile \"$TSQLSCRIPTSDIR\\01-ChangeTempDB.sql\"\ninvoke-sqlcmd -hostname localhost -inputFile \"$TSQLSCRIPTSDIR\\02-IncreaseTempDB_logs.sql\"\ninvoke-sqlcmd -hostname localhost -inputFile \"$TSQLSCRIPTSDIR\\03-SQL_set_memory.sql\"\ninvoke-sqlcmd -hostname localhost -inputFile \"$TSQLSCRIPTSDIR\\04-SQL-ChangeDefaultPaths.sql\"\n\n#Delete original SQL temp files\nstop-service MSSQL* \nStart-Sleep 5\nrm \"F:\\Microsoft SQL Server\\MSSQL12.MSSQLSERVER\\MSSQL\\DATA\\temp*\"\n\nstart-service MSSQL* \nwmic useraccount get sid\nWrite-Output \"Time taken: $((Get-Date).Subtract($start_time).seconds) Second(s)\"\n","login_credential_local_reference":{"kind":"app_credential","name":"DOMAIN_CRED","uuid":"951c02cf-a5e4-454c-8961-903cf8a691eb"},"type":"","command_line_args":"","script_type":"npsscript"},"timeout_secs":"0","message_list":[],"variable_list":[],"description":""},{"target_any_local_reference":{"kind":"app_service","name":"MSSQL","uuid":"a4b732b0-c3de-410f-90c8-6e0628e0af37"},"retries":"0","name":"FirewallRules","type":"EXEC","uuid":"e4819e41-28e0-4dd9-98ad-c46e92de7a1f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"New-NetFirewallRule -DisplayName \"SQL Server\" -Direction Inbound -Protocol TCP -LocalPort 1433 -Action allow\nNew-NetFirewallRule -DisplayName \"SQL Admin Connection\" -Direction Inbound -Protocol TCP -LocalPort 1434 -Action allow\nNew-NetFirewallRule -DisplayName \"SQL Database Management\" -Direction Inbound -Protocol UDP -LocalPort 1434 -Action allow\nNew-NetFirewallRule -DisplayName \"SQL Service Broker\" -Direction Inbound -Protocol TCP -LocalPort 4022 -Action allow\nNew-NetFirewallRule -DisplayName \"SQL Debugger\/RPC\" -Direction Inbound -Protocol TCP -LocalPort 135 -Action allow\nNew-NetFirewallRule -DisplayName \"SQL Browser\" -Direction Inbound -Protocol TCP -LocalPort 2382 -Action allow","login_credential_local_reference":{"kind":"app_credential","name":"DOMAIN_CRED","uuid":"951c02cf-a5e4-454c-8961-903cf8a691eb"},"type":"","command_line_args":"","script_type":"npsscript"},"timeout_secs":"0","message_list":[],"variable_list":[],"description":""}],"description":"","uuid":"9c83acee-c38b-4b72-ba09-67dededbfcb3","state":"ACTIVE","variable_list":[],"message_list":[],"main_task_local_reference":{"kind":"app_task","name":"87d54973_dag","uuid":"202f4b2f-65f2-4fba-8be8-51764743c90c"},"name":"b58c360f_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"MSSQLPackage","uuid":"2de8a964-cdc9-4a5a-8b18-bc5fabf8583d"},"retries":"0","name":"c5e51cfd_dag","type":"DAG","uuid":"9235c837-898a-4062-b489-900e0b4d83e6","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"description":""}],"description":"","uuid":"cfeaabcc-1da9-46ec-9b5f-dd65fb8b760d","state":"ACTIVE","variable_list":[],"message_list":[],"main_task_local_reference":{"kind":"app_task","name":"c5e51cfd_dag","uuid":"9235c837-898a-4062-b489-900e0b4d83e6"},"name":"8cc4ed37_runbook"}},"variable_list":[],"name":"MSSQLPackage"}],"client_attrs":{"a4b732b0-c3de-410f-90c8-6e0628e0af37":{"y":100,"x":480}}},"description":""},"api_version":"3.0","metadata":{"last_update_time":"1546941168754621","owner_reference":{"kind":"user","uuid":"00000000-0000-0000-0000-000000000000","name":"admin"},"kind":"blueprint","uuid":"1fb6dbc1-2fef-43de-831f-cf2998512c4d","project_reference":{"kind":"project","name":"default","uuid":"209e0a42-6f2d-4999-9a9b-5aa705d25661"},"spec_version":0,"creation_time":"1546941168754621","name":"MSSQL_MPI"}}