{"status":{"description":"* sudo mysqladmin password $${MARIADB_PASSWORD}}\n* default password [ nutanix\/4u ]","source_mpi":"","state":"DRAFT","is_cloned":false,"message_list":[{"message":"Credential is invalid","reason":"INVALID_CREDENTIAL","details":[{"attribute_name":"default_credential"}]}],"resources":{"service_definition_list":[{"port_list":[],"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"fdceb4a9-ebb8-491f-ba26-d55eaa395c99","name":"action_create","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Single_Node","uuid":"9296bb26-cdbe-40bd-ac42-8b174a57d949"},"retries":"0","description":"","type":"DAG","uuid":"844ed4e2-4d91-456e-a31c-a6a5a62507f9","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"5a264e52_dag"}],"description":"","message_list":[],"uuid":"c4241504-cb7c-4751-9166-c8bed0f3c315","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"5a264e52_dag","uuid":"844ed4e2-4d91-456e-a31c-a6a5a62507f9"},"name":"01bb4182_runbook"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"53681845-faf1-451d-817a-3c6b093e9603","name":"action_delete","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Single_Node","uuid":"9296bb26-cdbe-40bd-ac42-8b174a57d949"},"retries":"0","description":"","type":"DAG","uuid":"fc56d19e-c8df-45a0-9c1e-a181e34e5517","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"c03b22fe_dag"}],"description":"","message_list":[],"uuid":"c0a1db4c-d1e3-4d71-bfd8-14c75b2023e9","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"c03b22fe_dag","uuid":"fc56d19e-c8df-45a0-9c1e-a181e34e5517"},"name":"3298ad28_runbook"}},{"description":"System action for starting an application","message_list":[],"uuid":"d52650a2-2d5b-4156-ae2d-b314cd2404c6","name":"action_start","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Single_Node","uuid":"9296bb26-cdbe-40bd-ac42-8b174a57d949"},"retries":"0","description":"","type":"DAG","uuid":"30f8fc17-fe97-4482-8cc2-dda33c17af1f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"6b1066a1_dag"}],"description":"","message_list":[],"uuid":"801ddb39-7bb0-48aa-b330-7eb3418485f2","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"6b1066a1_dag","uuid":"30f8fc17-fe97-4482-8cc2-dda33c17af1f"},"name":"1bf1bdf4_runbook"}},{"description":"System action for stopping an application","message_list":[],"uuid":"b068247e-946e-49fb-84f4-7dd0fc9967cd","name":"action_stop","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Single_Node","uuid":"9296bb26-cdbe-40bd-ac42-8b174a57d949"},"retries":"0","description":"","type":"DAG","uuid":"f050277c-3bd9-4a42-a09a-a16c7323124a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"af3a3abc_dag"}],"description":"","message_list":[],"uuid":"2b9e76d4-937c-497f-a68a-15d59e450782","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"af3a3abc_dag","uuid":"f050277c-3bd9-4a42-a09a-a16c7323124a"},"name":"a068d42f_runbook"}},{"description":"System action for restarting an application","message_list":[],"uuid":"76977b8e-023c-488f-99ae-e713778c5cda","name":"action_restart","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Single_Node","uuid":"9296bb26-cdbe-40bd-ac42-8b174a57d949"},"retries":"0","description":"","type":"DAG","uuid":"b47c0f33-3770-4228-9d68-1bf34d0af95a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"e676c8c0_dag"}],"description":"","message_list":[],"uuid":"87cb76f0-0228-4cd4-808e-9c6a8682d0ab","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"e676c8c0_dag","uuid":"b47c0f33-3770-4228-9d68-1bf34d0af95a"},"name":"dbeb27ce_runbook"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"86a91ad4-4f1d-4b40-bd19-7ab50e13f2fb","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Single_Node","uuid":"9296bb26-cdbe-40bd-ac42-8b174a57d949"},"retries":"0","description":"","type":"DAG","uuid":"02fab728-0023-424c-9095-baaf912500a8","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Service_Element_Delete_9296bb26_cdbe_40bd_ac42_8b174a57d949","uuid":"6b9d8ea8-dff7-4c45-bb8e-308a575f91d0"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Service_9296bb26_cdbe_40bd_ac42_8b174a57d949"},{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Single_Node","uuid":"9296bb26-cdbe-40bd-ac42-8b174a57d949"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"6b9d8ea8-dff7-4c45-bb8e-308a575f91d0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Service_Element_Delete_9296bb26_cdbe_40bd_ac42_8b174a57d949"}],"description":"","message_list":[],"uuid":"a17d0f01-4e77-4af0-9aa6-0efd6be7513b","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Service_9296bb26_cdbe_40bd_ac42_8b174a57d949","uuid":"02fab728-0023-424c-9095-baaf912500a8"},"name":"SYS_GEN__Runbook_Service_9296bb26_cdbe_40bd_ac42_8b174a57d949"}}],"message_list":[],"uuid":"9296bb26-cdbe-40bd-ac42-8b174a57d949","state":"ACTIVE","depends_on_list":[],"editables":{},"tier":"","singleton":false,"variable_list":[],"name":"MariaDB_Single_Node"}],"substrate_definition_list":[{"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"7614583c-605f-4520-9a52-3afbcc9a4f5b","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AHV_Centos_Mariadb","uuid":"50d2be11-d5d3-4f79-9d24-5a525fbbb706"},"retries":"0","description":"","type":"DAG","uuid":"e868c265-b41d-476d-b7f4-7b68fbf7963d","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Nutanix_Provision_50d2be11_d5d3_4f79_9d24_5a525fbbb706","uuid":"e0e2879c-c6de-46df-91cd-f45b01d28fee"},{"kind":"app_task","name":"SYS_GEN__check_login_for_AHV_Centos_Mariadb_50d2be11_d5d3_4f79_9d24_5a525fbbb706","uuid":"e397d838-e7cc-4c11-87fb-3b3072a936f4"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Nutanix_Provision_50d2be11_d5d3_4f79_9d24_5a525fbbb706","uuid":"e0e2879c-c6de-46df-91cd-f45b01d28fee"},"edge_type":"inherent","type":"","uuid":"33b5659c-3649-4f90-b168-2dfa5fd7897e","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_AHV_Centos_Mariadb_50d2be11_d5d3_4f79_9d24_5a525fbbb706","uuid":"e397d838-e7cc-4c11-87fb-3b3072a936f4"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_50d2be11_d5d3_4f79_9d24_5a525fbbb706"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHV_Centos_Mariadb","uuid":"50d2be11-d5d3-4f79-9d24-5a525fbbb706"},"retries":"0","description":"","type":"PROVISION_NUTANIX","uuid":"e0e2879c-c6de-46df-91cd-f45b01d28fee","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"name":"MariaDB-@@{calm_time}@@","categories":"","availability_zone_reference":null,"backup_policy":null,"type":"","cluster_reference":null,"resources":{"nic_list":[{"nic_type":"NORMAL_NIC","ip_endpoint_list":[],"network_function_chain_reference":null,"network_function_nic_type":"INGRESS","mac_address":"","subnet_reference":{"kind":"subnet","type":"","name":"","uuid":""},"type":""}],"parent_reference":null,"guest_tools":null,"num_vcpus_per_socket":1,"num_sockets":2,"serial_port_list":[],"gpu_list":[],"memory_size_mib":16384,"power_state":"ON","hardware_clock_timezone":"","guest_customization":{"cloud_init":{"meta_data":"","type":"","user_data":"#cloud-config\nusers:\n  - name: centos\n    ssh-authorized-keys:\n      - @@{CENTOS.public_key}@@\n    sudo: ['ALL=(ALL) NOPASSWD:ALL']"},"type":"","sysprep":null},"type":"","boot_config":{"boot_device":{"type":"","disk_address":{"adapter_type":"SCSI","device_index":0,"type":""}},"type":"","mac_address":""},"disk_list":[{"data_source_reference":{"kind":"app_package","type":"","name":"AHV_CENTOS_76","uuid":"0801ef2b-4347-4741-b232-e3df1dc5f742"},"type":"","disk_size_mib":0,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":0,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":51200,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":1,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":51200,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":2,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":51200,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":3,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":51200,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":4,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":25600,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":5,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":25600,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":6,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":25600,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":7,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":25600,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":8,"type":""}}}]}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Nutanix_Provision_50d2be11_d5d3_4f79_9d24_5a525fbbb706"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHV_Centos_Mariadb","uuid":"50d2be11-d5d3-4f79-9d24-5a525fbbb706"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"e397d838-e7cc-4c11-87fb-3b3072a936f4","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"300","address":"@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_AHV_Centos_Mariadb_50d2be11_d5d3_4f79_9d24_5a525fbbb706"}],"description":"","message_list":[],"uuid":"26a442b7-cdb9-47d1-8b23-e58531786e53","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_50d2be11_d5d3_4f79_9d24_5a525fbbb706","uuid":"e868c265-b41d-476d-b7f4-7b68fbf7963d"},"name":"SYS_GEN__Runbook_Substrate_50d2be11_d5d3_4f79_9d24_5a525fbbb706"}},{"description":"System action for powering on an application","message_list":[],"uuid":"484d422b-34c2-4223-9c59-4847159a241e","name":"action_poweron","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AHV_Centos_Mariadb","uuid":"50d2be11-d5d3-4f79-9d24-5a525fbbb706"},"retries":"0","description":"","type":"DAG","uuid":"ab7e43e3-241c-4f88-8f75-b02ea56eb7bf","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Nutanix_Operation_PowerOn_50d2be11_d5d3_4f79_9d24_5a525fbbb706","uuid":"20b6da05-d242-4413-8b11-808e0915b979"},{"kind":"app_task","name":"SYS_GEN__check_login_for_AHV_Centos_Mariadb_50d2be11_d5d3_4f79_9d24_5a525fbbb706","uuid":"61aaa273-2a6e-4c56-b2b8-9b447ef46e11"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Nutanix_Operation_PowerOn_50d2be11_d5d3_4f79_9d24_5a525fbbb706","uuid":"20b6da05-d242-4413-8b11-808e0915b979"},"edge_type":"inherent","type":"","uuid":"50688c3e-f881-4774-b855-e3afb2dbc6a2","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_AHV_Centos_Mariadb_50d2be11_d5d3_4f79_9d24_5a525fbbb706","uuid":"61aaa273-2a6e-4c56-b2b8-9b447ef46e11"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_50d2be11_d5d3_4f79_9d24_5a525fbbb706"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHV_Centos_Mariadb","uuid":"50d2be11-d5d3-4f79-9d24-5a525fbbb706"},"retries":"0","description":"","type":"VMOPERATION_NUTANIX","uuid":"20b6da05-d242-4413-8b11-808e0915b979","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Nutanix_Operation_PowerOn_50d2be11_d5d3_4f79_9d24_5a525fbbb706"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHV_Centos_Mariadb","uuid":"50d2be11-d5d3-4f79-9d24-5a525fbbb706"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"61aaa273-2a6e-4c56-b2b8-9b447ef46e11","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"300","address":"@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_AHV_Centos_Mariadb_50d2be11_d5d3_4f79_9d24_5a525fbbb706"}],"description":"","message_list":[],"uuid":"781e7330-71e6-4d8b-8d4f-76612b36f0f7","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_50d2be11_d5d3_4f79_9d24_5a525fbbb706","uuid":"ab7e43e3-241c-4f88-8f75-b02ea56eb7bf"},"name":"SYS_GEN__Runbook_Substrate_50d2be11_d5d3_4f79_9d24_5a525fbbb706"}},{"description":"System action for restarting an application","message_list":[],"uuid":"8a111dc4-a239-403f-b966-c50fa89769e2","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AHV_Centos_Mariadb","uuid":"50d2be11-d5d3-4f79-9d24-5a525fbbb706"},"retries":"0","description":"","type":"DAG","uuid":"c041d655-d609-4298-a3e2-c5082c96304d","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Nutanix_Operation_Restart_50d2be11_d5d3_4f79_9d24_5a525fbbb706","uuid":"5912c676-e107-4b76-ad0b-e8667555b4cd"},{"kind":"app_task","name":"SYS_GEN__check_login_for_AHV_Centos_Mariadb_50d2be11_d5d3_4f79_9d24_5a525fbbb706","uuid":"6ad39c97-a558-4671-8d4d-fedaf569608d"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Nutanix_Operation_Restart_50d2be11_d5d3_4f79_9d24_5a525fbbb706","uuid":"5912c676-e107-4b76-ad0b-e8667555b4cd"},"edge_type":"inherent","type":"","uuid":"547624c4-7719-4ed0-994f-990513b279f1","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_AHV_Centos_Mariadb_50d2be11_d5d3_4f79_9d24_5a525fbbb706","uuid":"6ad39c97-a558-4671-8d4d-fedaf569608d"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_50d2be11_d5d3_4f79_9d24_5a525fbbb706"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHV_Centos_Mariadb","uuid":"50d2be11-d5d3-4f79-9d24-5a525fbbb706"},"retries":"0","description":"","type":"VMOPERATION_NUTANIX","uuid":"5912c676-e107-4b76-ad0b-e8667555b4cd","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Nutanix_Operation_Restart_50d2be11_d5d3_4f79_9d24_5a525fbbb706"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHV_Centos_Mariadb","uuid":"50d2be11-d5d3-4f79-9d24-5a525fbbb706"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"6ad39c97-a558-4671-8d4d-fedaf569608d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"300","address":"@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_AHV_Centos_Mariadb_50d2be11_d5d3_4f79_9d24_5a525fbbb706"}],"description":"","message_list":[],"uuid":"9837b21a-6bbc-40b1-b03f-bfa89806105d","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_50d2be11_d5d3_4f79_9d24_5a525fbbb706","uuid":"c041d655-d609-4298-a3e2-c5082c96304d"},"name":"SYS_GEN__Runbook_Substrate_50d2be11_d5d3_4f79_9d24_5a525fbbb706"}},{"description":"System action for suspending an application","message_list":[],"uuid":"3f5a5f5d-4849-41e7-ab96-b27c80116259","name":"action_suspend","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AHV_Centos_Mariadb","uuid":"50d2be11-d5d3-4f79-9d24-5a525fbbb706"},"retries":"0","description":"","type":"DAG","uuid":"b13417d2-db21-42d9-a1f0-4e155c0d287e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_50d2be11_d5d3_4f79_9d24_5a525fbbb706"}],"description":"","message_list":[],"uuid":"acabb88c-dfe5-41fa-91aa-0befbb46ca60","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_50d2be11_d5d3_4f79_9d24_5a525fbbb706","uuid":"b13417d2-db21-42d9-a1f0-4e155c0d287e"},"name":"SYS_GEN__Runbook_Substrate_50d2be11_d5d3_4f79_9d24_5a525fbbb706"}},{"description":"System action for modifying an application","message_list":[],"uuid":"c9f38fc4-121d-459e-81aa-7f04ca900cd3","name":"action_modify","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AHV_Centos_Mariadb","uuid":"50d2be11-d5d3-4f79-9d24-5a525fbbb706"},"retries":"0","description":"","type":"DAG","uuid":"7747fdbf-c5ce-420a-acef-90f67df569be","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_50d2be11_d5d3_4f79_9d24_5a525fbbb706"}],"description":"","message_list":[],"uuid":"f5955b31-ffd7-4a0d-96f5-b5effc20f6cf","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_50d2be11_d5d3_4f79_9d24_5a525fbbb706","uuid":"7747fdbf-c5ce-420a-acef-90f67df569be"},"name":"SYS_GEN__Runbook_Substrate_50d2be11_d5d3_4f79_9d24_5a525fbbb706"}},{"description":"System action for powering off an application","message_list":[],"uuid":"aa3e6646-b0b3-4ac6-a67e-e824dddcea68","name":"action_poweroff","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AHV_Centos_Mariadb","uuid":"50d2be11-d5d3-4f79-9d24-5a525fbbb706"},"retries":"0","description":"","type":"DAG","uuid":"ac8411b2-c84b-40c9-a6a2-ea84d1bda7ac","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Nutanix_Operation_PowerOff_50d2be11_d5d3_4f79_9d24_5a525fbbb706","uuid":"847a10be-ba53-4cbd-8610-925c427bf5b6"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_50d2be11_d5d3_4f79_9d24_5a525fbbb706"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHV_Centos_Mariadb","uuid":"50d2be11-d5d3-4f79-9d24-5a525fbbb706"},"retries":"0","description":"","type":"VMOPERATION_NUTANIX","uuid":"847a10be-ba53-4cbd-8610-925c427bf5b6","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Nutanix_Operation_PowerOff_50d2be11_d5d3_4f79_9d24_5a525fbbb706"}],"description":"","message_list":[],"uuid":"d549ac27-bc6b-481e-a3d5-9a0006aef622","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_50d2be11_d5d3_4f79_9d24_5a525fbbb706","uuid":"ac8411b2-c84b-40c9-a6a2-ea84d1bda7ac"},"name":"SYS_GEN__Runbook_Substrate_50d2be11_d5d3_4f79_9d24_5a525fbbb706"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"c4a88fb8-dfab-4af0-8e96-83b69cba061a","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AHV_Centos_Mariadb","uuid":"50d2be11-d5d3-4f79-9d24-5a525fbbb706"},"retries":"0","description":"","type":"DAG","uuid":"06706fb0-898a-4619-9735-7b0736bcd4c1","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Nutanix_Delete_50d2be11_d5d3_4f79_9d24_5a525fbbb706","uuid":"9f609e9c-de59-4bb6-baad-de86f06d797e"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_50d2be11_d5d3_4f79_9d24_5a525fbbb706"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHV_Centos_Mariadb","uuid":"50d2be11-d5d3-4f79-9d24-5a525fbbb706"},"retries":"0","description":"","type":"DELETE_NUTANIX","uuid":"9f609e9c-de59-4bb6-baad-de86f06d797e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Nutanix_Delete_50d2be11_d5d3_4f79_9d24_5a525fbbb706"}],"description":"","message_list":[],"uuid":"378a6c2a-6c14-4113-87e5-379962f63925","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_50d2be11_d5d3_4f79_9d24_5a525fbbb706","uuid":"06706fb0-898a-4619-9735-7b0736bcd4c1"},"name":"SYS_GEN__Runbook_Substrate_50d2be11_d5d3_4f79_9d24_5a525fbbb706"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"6b08697e-7b29-4c55-9a6e-4edef7264135","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AHV_Centos_Mariadb","uuid":"50d2be11-d5d3-4f79-9d24-5a525fbbb706"},"retries":"0","description":"","type":"DAG","uuid":"802f7cca-ef2f-4899-9555-4a299d8650ca","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Substrate_Element_Delete_50d2be11_d5d3_4f79_9d24_5a525fbbb706","uuid":"df3c9303-1d3b-440e-be72-ae5be53797a1"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_50d2be11_d5d3_4f79_9d24_5a525fbbb706"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHV_Centos_Mariadb","uuid":"50d2be11-d5d3-4f79-9d24-5a525fbbb706"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"df3c9303-1d3b-440e-be72-ae5be53797a1","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Substrate_Element_Delete_50d2be11_d5d3_4f79_9d24_5a525fbbb706"}],"description":"","message_list":[],"uuid":"65d800f1-c1fc-4c03-b575-95b4aa5e20c2","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_50d2be11_d5d3_4f79_9d24_5a525fbbb706","uuid":"802f7cca-ef2f-4899-9555-4a299d8650ca"},"name":"SYS_GEN__Runbook_Substrate_50d2be11_d5d3_4f79_9d24_5a525fbbb706"}}],"message_list":[],"uuid":"50d2be11-d5d3-4f79-9d24-5a525fbbb706","state":"ACTIVE","readiness_probe":{"connection_type":"SSH","retries":"5","disable_readiness_probe":false,"address":"@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@","delay_secs":"60","connection_port":22,"login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"d4f96641-9ca5-4df0-b13d-6a920dbeb27d"}},"editables":{"readiness_probe":{"connection_type":true,"retries":true,"delay_secs":true,"connection_port":true,"timeout_secs":null},"create_spec":{"resources":{"nic_list":{"0":{"subnet_reference":true}},"serial_port_list":{},"num_vcpus_per_socket":true,"num_sockets":true,"memory_size_mib":true,"guest_customization":true,"disk_list":{"1":{"disk_size_mib":true},"0":{"device_properties":{"disk_address":{}}},"3":{"disk_size_mib":true},"2":{"disk_size_mib":true},"5":{"disk_size_mib":true},"4":{"disk_size_mib":true},"7":{"disk_size_mib":true},"6":{"disk_size_mib":true},"8":{"disk_size_mib":true}}},"categories":true,"name":true}},"os_type":"Linux","type":"AHV_VM","create_spec":{"name":"MariaDB-@@{calm_time}@@","categories":"","availability_zone_reference":null,"backup_policy":null,"type":"","cluster_reference":null,"resources":{"nic_list":[{"nic_type":"NORMAL_NIC","ip_endpoint_list":[],"network_function_chain_reference":null,"network_function_nic_type":"INGRESS","mac_address":"","subnet_reference":{"kind":"subnet","type":"","name":"","uuid":""},"type":""}],"parent_reference":null,"guest_tools":null,"num_vcpus_per_socket":1,"num_sockets":2,"serial_port_list":[],"gpu_list":[],"memory_size_mib":16384,"power_state":"ON","hardware_clock_timezone":"","guest_customization":{"cloud_init":{"meta_data":"","type":"","user_data":"#cloud-config\nusers:\n  - name: centos\n    ssh-authorized-keys:\n      - @@{CENTOS.public_key}@@\n    sudo: ['ALL=(ALL) NOPASSWD:ALL']"},"type":"","sysprep":null},"type":"","boot_config":{"boot_device":{"type":"","disk_address":{"adapter_type":"SCSI","device_index":0,"type":""}},"type":"","mac_address":""},"disk_list":[{"data_source_reference":{"kind":"app_package","type":"","name":"AHV_CENTOS_76","uuid":"0801ef2b-4347-4741-b232-e3df1dc5f742"},"type":"","disk_size_mib":0,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":0,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":51200,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":1,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":51200,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":2,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":51200,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":3,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":51200,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":4,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":25600,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":5,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":25600,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":6,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":25600,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":7,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":25600,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":8,"type":""}}}]}},"variable_list":[],"name":"AHV_Centos_Mariadb"}],"credential_definition_list":[{"username":"centos","description":"","state":"DRAFT","message_list":[{"message":"Secret value for credential is empty","reason":"EMPTY_VALUE","details":[{"attribute_name":"secret"}]}],"uuid":"d4f96641-9ca5-4df0-b13d-6a920dbeb27d","secret":{"attrs":{"is_secret_modified":false,"secret_reference":{}}},"editables":{},"type":"KEY","name":"CENTOS"}],"type":"USER","app_profile_list":[{"deployment_create_list":[{"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"063b879b-2a6e-4f3e-93d0-36264891876f","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment","uuid":"f5a07b18-7834-405a-b162-f4e507005676"},"retries":"0","description":"","type":"DAG","uuid":"a822c886-884a-4c23-bfd2-5b3249fcebc4","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__DE_Provision_f5a07b18_7834_405a_b162_f4e507005676","uuid":"6089fcc0-5df7-452c-b7af-e1357dc96eea"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_0801ef2b_4347_4741_b232_e3df1dc5f742","uuid":"bd7ac3f1-3146-493f-8181-a73d9d10a839"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_50d2be11_d5d3_4f79_9d24_5a525fbbb706","uuid":"7375021a-7c27-4356-a4a0-6f245316c26e"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_d99df877_a890_40e0_857a_3134f89864a2","uuid":"6ed2419d-c874-48d4-a55b-368a88271ad1"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_9296bb26_cdbe_40bd_ac42_8b174a57d949","uuid":"d3606a6f-28c5-4804-855a-c0deeaa325d2"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_9296bb26_cdbe_40bd_ac42_8b174a57d949","uuid":"18fb37c5-1dab-4ede-a8b2-3d72d5917f2c"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_9296bb26_cdbe_40bd_ac42_8b174a57d949","uuid":"d3606a6f-28c5-4804-855a-c0deeaa325d2"},"edge_type":"inherent","type":"","uuid":"cf3a560c-8e9c-4df8-bed3-19a80f200c00","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_9296bb26_cdbe_40bd_ac42_8b174a57d949","uuid":"18fb37c5-1dab-4ede-a8b2-3d72d5917f2c"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_d99df877_a890_40e0_857a_3134f89864a2","uuid":"6ed2419d-c874-48d4-a55b-368a88271ad1"},"edge_type":"inherent","type":"","uuid":"f14969c6-f4dd-460b-92dd-203ab4c94196","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_9296bb26_cdbe_40bd_ac42_8b174a57d949","uuid":"d3606a6f-28c5-4804-855a-c0deeaa325d2"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_50d2be11_d5d3_4f79_9d24_5a525fbbb706","uuid":"7375021a-7c27-4356-a4a0-6f245316c26e"},"edge_type":"inherent","type":"","uuid":"1460ce0d-3337-4856-97c2-ff050a4e8200","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_d99df877_a890_40e0_857a_3134f89864a2","uuid":"6ed2419d-c874-48d4-a55b-368a88271ad1"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_0801ef2b_4347_4741_b232_e3df1dc5f742","uuid":"bd7ac3f1-3146-493f-8181-a73d9d10a839"},"edge_type":"inherent","type":"","uuid":"a346bc22-b830-4783-8e3d-d750c1821621","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_50d2be11_d5d3_4f79_9d24_5a525fbbb706","uuid":"7375021a-7c27-4356-a4a0-6f245316c26e"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_f5a07b18_7834_405a_b162_f4e507005676","uuid":"6089fcc0-5df7-452c-b7af-e1357dc96eea"},"edge_type":"inherent","type":"","uuid":"0836a6d9-4601-47ff-b3ed-903c8820babf","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_50d2be11_d5d3_4f79_9d24_5a525fbbb706","uuid":"7375021a-7c27-4356-a4a0-6f245316c26e"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_f5a07b18_7834_405a_b162_f4e507005676","uuid":"6089fcc0-5df7-452c-b7af-e1357dc96eea"},"edge_type":"inherent","type":"","uuid":"6b1aef27-4643-42d1-a7e8-deb004788e8e","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_0801ef2b_4347_4741_b232_e3df1dc5f742","uuid":"bd7ac3f1-3146-493f-8181-a73d9d10a839"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_f5a07b18_7834_405a_b162_f4e507005676"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment","uuid":"f5a07b18-7834-405a-b162-f4e507005676"},"retries":"0","description":"","type":"CREATE_DEPLOYMENT_ELEMENT","uuid":"6089fcc0-5df7-452c-b7af-e1357dc96eea","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Provision_f5a07b18_7834_405a_b162_f4e507005676"},{"target_any_local_reference":{"kind":"app_package","name":"AHV_CENTOS_76","uuid":"0801ef2b-4347-4741-b232-e3df1dc5f742"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"bd7ac3f1-3146-493f-8181-a73d9d10a839","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment","uuid":"f5a07b18-7834-405a-b162-f4e507005676"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_0801ef2b_4347_4741_b232_e3df1dc5f742","uuid":"5fa426be-6e9c-4898-acd1-99d102f372a9"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_0801ef2b_4347_4741_b232_e3df1dc5f742"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHV_Centos_Mariadb","uuid":"50d2be11-d5d3-4f79-9d24-5a525fbbb706"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"7375021a-7c27-4356-a4a0-6f245316c26e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment","uuid":"f5a07b18-7834-405a-b162-f4e507005676"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_50d2be11_d5d3_4f79_9d24_5a525fbbb706","uuid":"26a442b7-cdb9-47d1-8b23-e58531786e53"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Substrate_50d2be11_d5d3_4f79_9d24_5a525fbbb706"},{"target_any_local_reference":{"kind":"app_package","name":"AHV_Mariadb_Install","uuid":"d99df877-a890-40e0-857a-3134f89864a2"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"6ed2419d-c874-48d4-a55b-368a88271ad1","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment","uuid":"f5a07b18-7834-405a-b162-f4e507005676"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_d99df877_a890_40e0_857a_3134f89864a2","uuid":"7c79fd9a-8e17-472d-b8eb-ff3718372f7a"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_d99df877_a890_40e0_857a_3134f89864a2"},{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Single_Node","uuid":"9296bb26-cdbe-40bd-ac42-8b174a57d949"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"d3606a6f-28c5-4804-855a-c0deeaa325d2","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment","uuid":"f5a07b18-7834-405a-b162-f4e507005676"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"01bb4182_runbook","uuid":"c4241504-cb7c-4751-9166-c8bed0f3c315"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_9296bb26_cdbe_40bd_ac42_8b174a57d949"},{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Single_Node","uuid":"9296bb26-cdbe-40bd-ac42-8b174a57d949"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"18fb37c5-1dab-4ede-a8b2-3d72d5917f2c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment","uuid":"f5a07b18-7834-405a-b162-f4e507005676"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"1bf1bdf4_runbook","uuid":"801ddb39-7bb0-48aa-b330-7eb3418485f2"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_9296bb26_cdbe_40bd_ac42_8b174a57d949"}],"description":"","message_list":[],"uuid":"68e98612-3ed5-4850-9fe7-65a1490e7248","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_f5a07b18_7834_405a_b162_f4e507005676","uuid":"a822c886-884a-4c23-bfd2-5b3249fcebc4"},"name":"SYS_GEN__Runbook_Deployment_f5a07b18_7834_405a_b162_f4e507005676"}},{"description":"System action for starting an application","message_list":[],"uuid":"8acd22ef-9065-4ddc-9802-1477d1fbcbb7","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment","uuid":"f5a07b18-7834-405a-b162-f4e507005676"},"retries":"0","description":"","type":"DAG","uuid":"77cadf5c-4330-432f-aece-b169ac3f10ed","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_50d2be11_d5d3_4f79_9d24_5a525fbbb706","uuid":"9e340e50-2238-4ab8-bc47-3e78ee720a83"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_9296bb26_cdbe_40bd_ac42_8b174a57d949","uuid":"8c711217-5276-49a0-93f2-df2df34339a6"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_50d2be11_d5d3_4f79_9d24_5a525fbbb706","uuid":"9e340e50-2238-4ab8-bc47-3e78ee720a83"},"edge_type":"inherent","type":"","uuid":"2e8457ab-1fec-438a-9fb1-579e82e96e4b","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_9296bb26_cdbe_40bd_ac42_8b174a57d949","uuid":"8c711217-5276-49a0-93f2-df2df34339a6"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_f5a07b18_7834_405a_b162_f4e507005676"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHV_Centos_Mariadb","uuid":"50d2be11-d5d3-4f79-9d24-5a525fbbb706"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"9e340e50-2238-4ab8-bc47-3e78ee720a83","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment","uuid":"f5a07b18-7834-405a-b162-f4e507005676"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_50d2be11_d5d3_4f79_9d24_5a525fbbb706","uuid":"781e7330-71e6-4d8b-8d4f-76612b36f0f7"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Substrate_50d2be11_d5d3_4f79_9d24_5a525fbbb706"},{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Single_Node","uuid":"9296bb26-cdbe-40bd-ac42-8b174a57d949"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"8c711217-5276-49a0-93f2-df2df34339a6","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment","uuid":"f5a07b18-7834-405a-b162-f4e507005676"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"1bf1bdf4_runbook","uuid":"801ddb39-7bb0-48aa-b330-7eb3418485f2"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_9296bb26_cdbe_40bd_ac42_8b174a57d949"}],"description":"","message_list":[],"uuid":"ac2344fb-f4e6-4bdb-a741-0a35887365f3","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_f5a07b18_7834_405a_b162_f4e507005676","uuid":"77cadf5c-4330-432f-aece-b169ac3f10ed"},"name":"SYS_GEN__Runbook_Deployment_f5a07b18_7834_405a_b162_f4e507005676"}},{"description":"System action for restarting an application","message_list":[],"uuid":"6a9b4d17-8b48-4439-ba49-0d35e6ed15ec","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment","uuid":"f5a07b18-7834-405a-b162-f4e507005676"},"retries":"0","description":"","type":"DAG","uuid":"d307ccb4-8e86-4231-b523-cf63776770aa","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_50d2be11_d5d3_4f79_9d24_5a525fbbb706","uuid":"34327942-b06f-4cfb-b8ac-ac39776135e2"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_9296bb26_cdbe_40bd_ac42_8b174a57d949","uuid":"e366223e-5e8b-4096-b364-60126dddf78a"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_50d2be11_d5d3_4f79_9d24_5a525fbbb706","uuid":"34327942-b06f-4cfb-b8ac-ac39776135e2"},"edge_type":"inherent","type":"","uuid":"09b03caf-7413-45ea-8fd5-d25d5c2d8b25","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_9296bb26_cdbe_40bd_ac42_8b174a57d949","uuid":"e366223e-5e8b-4096-b364-60126dddf78a"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_f5a07b18_7834_405a_b162_f4e507005676"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHV_Centos_Mariadb","uuid":"50d2be11-d5d3-4f79-9d24-5a525fbbb706"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"34327942-b06f-4cfb-b8ac-ac39776135e2","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment","uuid":"f5a07b18-7834-405a-b162-f4e507005676"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_50d2be11_d5d3_4f79_9d24_5a525fbbb706","uuid":"9837b21a-6bbc-40b1-b03f-bfa89806105d"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Substrate_50d2be11_d5d3_4f79_9d24_5a525fbbb706"},{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Single_Node","uuid":"9296bb26-cdbe-40bd-ac42-8b174a57d949"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"e366223e-5e8b-4096-b364-60126dddf78a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment","uuid":"f5a07b18-7834-405a-b162-f4e507005676"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"dbeb27ce_runbook","uuid":"87cb76f0-0228-4cd4-808e-9c6a8682d0ab"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_9296bb26_cdbe_40bd_ac42_8b174a57d949"}],"description":"","message_list":[],"uuid":"325e6c04-5eaf-4784-b29b-7d88832a1f59","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_f5a07b18_7834_405a_b162_f4e507005676","uuid":"d307ccb4-8e86-4231-b523-cf63776770aa"},"name":"SYS_GEN__Runbook_Deployment_f5a07b18_7834_405a_b162_f4e507005676"}},{"description":"System action for stopping an application","message_list":[],"uuid":"a1ea525e-25aa-44e8-a0a2-6bdadb06a7fd","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment","uuid":"f5a07b18-7834-405a-b162-f4e507005676"},"retries":"0","description":"","type":"DAG","uuid":"e0bc23f3-9aed-4d78-bd1b-5bed3b05d046","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_9296bb26_cdbe_40bd_ac42_8b174a57d949","uuid":"0c818e22-37db-4a76-9023-fc4a60eee386"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_50d2be11_d5d3_4f79_9d24_5a525fbbb706","uuid":"de7480cb-5e37-45f1-9570-19133bde7a5e"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_9296bb26_cdbe_40bd_ac42_8b174a57d949","uuid":"0c818e22-37db-4a76-9023-fc4a60eee386"},"edge_type":"inherent","type":"","uuid":"7f6f216a-82e0-4b0d-b3b7-c1c8886a9835","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_50d2be11_d5d3_4f79_9d24_5a525fbbb706","uuid":"de7480cb-5e37-45f1-9570-19133bde7a5e"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_f5a07b18_7834_405a_b162_f4e507005676"},{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Single_Node","uuid":"9296bb26-cdbe-40bd-ac42-8b174a57d949"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"0c818e22-37db-4a76-9023-fc4a60eee386","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment","uuid":"f5a07b18-7834-405a-b162-f4e507005676"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"a068d42f_runbook","uuid":"2b9e76d4-937c-497f-a68a-15d59e450782"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_9296bb26_cdbe_40bd_ac42_8b174a57d949"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHV_Centos_Mariadb","uuid":"50d2be11-d5d3-4f79-9d24-5a525fbbb706"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"de7480cb-5e37-45f1-9570-19133bde7a5e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment","uuid":"f5a07b18-7834-405a-b162-f4e507005676"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_50d2be11_d5d3_4f79_9d24_5a525fbbb706","uuid":"d549ac27-bc6b-481e-a3d5-9a0006aef622"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Substrate_50d2be11_d5d3_4f79_9d24_5a525fbbb706"}],"description":"","message_list":[],"uuid":"656a1420-23b3-4500-a4b8-0f9ad75b6e30","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_f5a07b18_7834_405a_b162_f4e507005676","uuid":"e0bc23f3-9aed-4d78-bd1b-5bed3b05d046"},"name":"SYS_GEN__Runbook_Deployment_f5a07b18_7834_405a_b162_f4e507005676"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"32fb027f-d46b-4e80-9052-236fc486c110","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment","uuid":"f5a07b18-7834-405a-b162-f4e507005676"},"retries":"0","description":"","type":"DAG","uuid":"59e263ee-3dad-42f9-8423-d56924919b15","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_9296bb26_cdbe_40bd_ac42_8b174a57d949","uuid":"d3b88fda-79de-4ec0-be9d-d13ce8aa4e32"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_9296bb26_cdbe_40bd_ac42_8b174a57d949","uuid":"b0f76dc1-4a56-4a63-bee9-07484eb51c6a"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_d99df877_a890_40e0_857a_3134f89864a2","uuid":"b3041e87-059a-4c28-a535-0497fe6fd5e7"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_50d2be11_d5d3_4f79_9d24_5a525fbbb706","uuid":"fda4f968-eb55-450a-86db-d8fc9e5f71d5"},{"kind":"app_task","name":"SYS_GEN__DE_Delete_f5a07b18_7834_405a_b162_f4e507005676","uuid":"81b29676-ae5b-4d38-91f4-d5512d2deee3"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_9296bb26_cdbe_40bd_ac42_8b174a57d949","uuid":"d3b88fda-79de-4ec0-be9d-d13ce8aa4e32"},"edge_type":"inherent","type":"","uuid":"f7cc1dbf-b9a5-401c-9a52-367a0510a246","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_9296bb26_cdbe_40bd_ac42_8b174a57d949","uuid":"b0f76dc1-4a56-4a63-bee9-07484eb51c6a"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_9296bb26_cdbe_40bd_ac42_8b174a57d949","uuid":"b0f76dc1-4a56-4a63-bee9-07484eb51c6a"},"edge_type":"inherent","type":"","uuid":"d8341038-e362-45be-9a52-911c60c050eb","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_d99df877_a890_40e0_857a_3134f89864a2","uuid":"b3041e87-059a-4c28-a535-0497fe6fd5e7"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_50d2be11_d5d3_4f79_9d24_5a525fbbb706","uuid":"fda4f968-eb55-450a-86db-d8fc9e5f71d5"},"edge_type":"inherent","type":"","uuid":"5d2a7dd1-ea23-4772-8a4c-faa3f1f2a559","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Delete_f5a07b18_7834_405a_b162_f4e507005676","uuid":"81b29676-ae5b-4d38-91f4-d5512d2deee3"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_d99df877_a890_40e0_857a_3134f89864a2","uuid":"b3041e87-059a-4c28-a535-0497fe6fd5e7"},"edge_type":"inherent","type":"","uuid":"2289bea6-fd0a-43bb-8fa9-e9a6f7727f9e","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_50d2be11_d5d3_4f79_9d24_5a525fbbb706","uuid":"fda4f968-eb55-450a-86db-d8fc9e5f71d5"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_f5a07b18_7834_405a_b162_f4e507005676"},{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Single_Node","uuid":"9296bb26-cdbe-40bd-ac42-8b174a57d949"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"d3b88fda-79de-4ec0-be9d-d13ce8aa4e32","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment","uuid":"f5a07b18-7834-405a-b162-f4e507005676"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"a068d42f_runbook","uuid":"2b9e76d4-937c-497f-a68a-15d59e450782"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_9296bb26_cdbe_40bd_ac42_8b174a57d949"},{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Single_Node","uuid":"9296bb26-cdbe-40bd-ac42-8b174a57d949"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"b0f76dc1-4a56-4a63-bee9-07484eb51c6a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment","uuid":"f5a07b18-7834-405a-b162-f4e507005676"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"3298ad28_runbook","uuid":"c0a1db4c-d1e3-4d71-bfd8-14c75b2023e9"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_9296bb26_cdbe_40bd_ac42_8b174a57d949"},{"target_any_local_reference":{"kind":"app_package","name":"AHV_Mariadb_Install","uuid":"d99df877-a890-40e0-857a-3134f89864a2"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"b3041e87-059a-4c28-a535-0497fe6fd5e7","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment","uuid":"f5a07b18-7834-405a-b162-f4e507005676"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_d99df877_a890_40e0_857a_3134f89864a2","uuid":"8c1bf788-d2e1-4bcd-9940-a3f9d88db022"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_d99df877_a890_40e0_857a_3134f89864a2"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHV_Centos_Mariadb","uuid":"50d2be11-d5d3-4f79-9d24-5a525fbbb706"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"fda4f968-eb55-450a-86db-d8fc9e5f71d5","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment","uuid":"f5a07b18-7834-405a-b162-f4e507005676"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_50d2be11_d5d3_4f79_9d24_5a525fbbb706","uuid":"378a6c2a-6c14-4113-87e5-379962f63925"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Substrate_50d2be11_d5d3_4f79_9d24_5a525fbbb706"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment","uuid":"f5a07b18-7834-405a-b162-f4e507005676"},"retries":"0","description":"","type":"DELETE_DEPLOYMENT_ELEMENT","uuid":"81b29676-ae5b-4d38-91f4-d5512d2deee3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Delete_f5a07b18_7834_405a_b162_f4e507005676"}],"description":"","message_list":[],"uuid":"2e17a485-ef9e-4ea8-81ee-4de2c730479c","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_f5a07b18_7834_405a_b162_f4e507005676","uuid":"59e263ee-3dad-42f9-8423-d56924919b15"},"name":"SYS_GEN__Runbook_Deployment_f5a07b18_7834_405a_b162_f4e507005676"}},{"description":"System action for scaleout","message_list":[],"uuid":"76e025b8-7069-4ba4-8a8c-307827ee97b8","name":"action_scaleout","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment","uuid":"f5a07b18-7834-405a-b162-f4e507005676"},"retries":"0","description":"","type":"DAG","uuid":"7dc20736-9621-4aab-bea5-7089ae8499b0","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Deployment_Scaleout_f5a07b18_7834_405a_b162_f4e507005676","uuid":"a89ce483-9754-42b6-9e99-ce2cacae0fcc"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_f5a07b18_7834_405a_b162_f4e507005676"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment","uuid":"f5a07b18-7834-405a-b162-f4e507005676"},"retries":"0","description":"","type":"SCALING","uuid":"a89ce483-9754-42b6-9e99-ce2cacae0fcc","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{scaling_count}@@","type":"","scaling_type":"SCALEOUT"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Deployment_Scaleout_f5a07b18_7834_405a_b162_f4e507005676"}],"description":"","message_list":[],"uuid":"1d288f23-6f0a-47fc-b1fa-1b448c5418b0","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"aed6adaf-7091-410f-b03c-fcaa89ebcee5","value":"0","label":"","state":"NOT_VALIDATED","attrs":{},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"scaling_count"}],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_f5a07b18_7834_405a_b162_f4e507005676","uuid":"7dc20736-9621-4aab-bea5-7089ae8499b0"},"name":"SYS_GEN__Runbook_Deployment_f5a07b18_7834_405a_b162_f4e507005676"}},{"description":"System action for scalein","message_list":[],"uuid":"679cf90e-5f21-48b0-b816-1bbf56ad996d","name":"action_scalein","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment","uuid":"f5a07b18-7834-405a-b162-f4e507005676"},"retries":"0","description":"","type":"DAG","uuid":"f628a5f0-365a-4396-ab32-9efef98d4922","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Deployment_Scalein_f5a07b18_7834_405a_b162_f4e507005676","uuid":"46c4cef9-d33d-4167-9b16-db4affb88177"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_f5a07b18_7834_405a_b162_f4e507005676"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment","uuid":"f5a07b18-7834-405a-b162-f4e507005676"},"retries":"0","description":"","type":"SCALING","uuid":"46c4cef9-d33d-4167-9b16-db4affb88177","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{scaling_count}@@","type":"","scaling_type":"SCALEIN"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Deployment_Scalein_f5a07b18_7834_405a_b162_f4e507005676"}],"description":"","message_list":[],"uuid":"9df74c87-552b-4573-9a90-ac18f287cc15","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"2cba26fc-0694-41fd-bb18-e074ef2fc75b","value":"0","label":"","state":"NOT_VALIDATED","attrs":{},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"scaling_count"}],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_f5a07b18_7834_405a_b162_f4e507005676","uuid":"f628a5f0-365a-4396-ab32-9efef98d4922"},"name":"SYS_GEN__Runbook_Deployment_f5a07b18_7834_405a_b162_f4e507005676"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"1917562b-7eff-4439-9f7e-63555d2b371d","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment","uuid":"f5a07b18-7834-405a-b162-f4e507005676"},"retries":"0","description":"","type":"DAG","uuid":"b7edb55f-be23-4605-97bd-afb53176b0ad","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_9296bb26_cdbe_40bd_ac42_8b174a57d949","uuid":"92f00f53-ffa8-4419-a431-f81ec2876e6c"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_d99df877_a890_40e0_857a_3134f89864a2","uuid":"cc30461f-a105-44e2-9eed-b930dda1b69c"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_50d2be11_d5d3_4f79_9d24_5a525fbbb706","uuid":"f61d075d-0ec4-4681-8a00-222ce1df3107"},{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_f5a07b18_7834_405a_b162_f4e507005676","uuid":"d3e165cf-a985-4f14-8013-2e7a1e41f101"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_9296bb26_cdbe_40bd_ac42_8b174a57d949","uuid":"92f00f53-ffa8-4419-a431-f81ec2876e6c"},"edge_type":"inherent","type":"","uuid":"ae2999cd-64c9-4c43-bbff-eeeec809ad46","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_d99df877_a890_40e0_857a_3134f89864a2","uuid":"cc30461f-a105-44e2-9eed-b930dda1b69c"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_50d2be11_d5d3_4f79_9d24_5a525fbbb706","uuid":"f61d075d-0ec4-4681-8a00-222ce1df3107"},"edge_type":"inherent","type":"","uuid":"4155bada-37b3-4ea3-9610-c26aa12e1afd","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_f5a07b18_7834_405a_b162_f4e507005676","uuid":"d3e165cf-a985-4f14-8013-2e7a1e41f101"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_d99df877_a890_40e0_857a_3134f89864a2","uuid":"cc30461f-a105-44e2-9eed-b930dda1b69c"},"edge_type":"inherent","type":"","uuid":"a3a229e6-253b-446f-9621-16410da3f918","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_50d2be11_d5d3_4f79_9d24_5a525fbbb706","uuid":"f61d075d-0ec4-4681-8a00-222ce1df3107"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_f5a07b18_7834_405a_b162_f4e507005676"},{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Single_Node","uuid":"9296bb26-cdbe-40bd-ac42-8b174a57d949"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"92f00f53-ffa8-4419-a431-f81ec2876e6c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment","uuid":"f5a07b18-7834-405a-b162-f4e507005676"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_9296bb26_cdbe_40bd_ac42_8b174a57d949","uuid":"a17d0f01-4e77-4af0-9aa6-0efd6be7513b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_9296bb26_cdbe_40bd_ac42_8b174a57d949"},{"target_any_local_reference":{"kind":"app_package","name":"AHV_Mariadb_Install","uuid":"d99df877-a890-40e0-857a-3134f89864a2"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"cc30461f-a105-44e2-9eed-b930dda1b69c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_d99df877_a890_40e0_857a_3134f89864a2"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHV_Centos_Mariadb","uuid":"50d2be11-d5d3-4f79-9d24-5a525fbbb706"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"f61d075d-0ec4-4681-8a00-222ce1df3107","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment","uuid":"f5a07b18-7834-405a-b162-f4e507005676"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_50d2be11_d5d3_4f79_9d24_5a525fbbb706","uuid":"65d800f1-c1fc-4c03-b575-95b4aa5e20c2"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Substrate_50d2be11_d5d3_4f79_9d24_5a525fbbb706"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment","uuid":"f5a07b18-7834-405a-b162-f4e507005676"},"retries":"0","description":"","type":"SOFT_DELETE_DEPLOYMENT_ELEMENT","uuid":"d3e165cf-a985-4f14-8013-2e7a1e41f101","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Soft_Delete_f5a07b18_7834_405a_b162_f4e507005676"}],"description":"","message_list":[],"uuid":"b1fc118c-cbf8-4905-b100-2c0521858659","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_f5a07b18_7834_405a_b162_f4e507005676","uuid":"b7edb55f-be23-4605-97bd-afb53176b0ad"},"name":"SYS_GEN__Runbook_Deployment_f5a07b18_7834_405a_b162_f4e507005676"}}],"message_list":[],"published_service_local_reference_list":[],"uuid":"f5a07b18-7834-405a-b162-f4e507005676","min_replicas":"1","state":"ACTIVE","max_replicas":"1","depends_on_list":[],"editables":{},"package_local_reference_list":[{"kind":"app_package","name":"AHV_Mariadb_Install","uuid":"d99df877-a890-40e0-857a-3134f89864a2"}],"substrate_local_reference":{"kind":"app_substrate","name":"AHV_Centos_Mariadb","uuid":"50d2be11-d5d3-4f79-9d24-5a525fbbb706"},"type":"GREENFIELD","options":{},"variable_list":[],"name":"a7b3d65f_deployment"}],"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"0b9526d4-3d64-4750-b521-a50ae805a79d","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"Nutanix","uuid":"2293d93f-8d56-4268-b27f-6fed66d6451d"},"retries":"0","description":"","type":"DAG","uuid":"e339aaec-6b2f-4987-aec5-bc134bf41027","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__DE_Provision_f5a07b18_7834_405a_b162_f4e507005676","uuid":"a5660b86-89ac-44b5-913c-a03bb24ff121"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_0801ef2b_4347_4741_b232_e3df1dc5f742","uuid":"1d7b99a6-9b17-4fc1-a1b6-dda67050b231"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_50d2be11_d5d3_4f79_9d24_5a525fbbb706","uuid":"53a277ed-2e37-4aa9-a5c7-386af0c5dcf8"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_d99df877_a890_40e0_857a_3134f89864a2","uuid":"cc9dc69d-bbd3-4b06-907b-13420597808e"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_9296bb26_cdbe_40bd_ac42_8b174a57d949","uuid":"67c0a01e-5687-4100-9ab4-f172f0e16735"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_9296bb26_cdbe_40bd_ac42_8b174a57d949","uuid":"3375177d-9dd0-4224-a029-b06959fc3b0a"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_9296bb26_cdbe_40bd_ac42_8b174a57d949","uuid":"67c0a01e-5687-4100-9ab4-f172f0e16735"},"edge_type":"inherent","type":"","uuid":"e3325dfd-672b-4cbf-bb3f-6a8043c8e853","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_9296bb26_cdbe_40bd_ac42_8b174a57d949","uuid":"3375177d-9dd0-4224-a029-b06959fc3b0a"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_d99df877_a890_40e0_857a_3134f89864a2","uuid":"cc9dc69d-bbd3-4b06-907b-13420597808e"},"edge_type":"inherent","type":"","uuid":"a1f6a258-a1b5-4e2a-8f00-ebfbcb77dcb9","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_9296bb26_cdbe_40bd_ac42_8b174a57d949","uuid":"67c0a01e-5687-4100-9ab4-f172f0e16735"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_50d2be11_d5d3_4f79_9d24_5a525fbbb706","uuid":"53a277ed-2e37-4aa9-a5c7-386af0c5dcf8"},"edge_type":"inherent","type":"","uuid":"900251bd-9eec-4aa1-883c-0ce03399b6c8","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_d99df877_a890_40e0_857a_3134f89864a2","uuid":"cc9dc69d-bbd3-4b06-907b-13420597808e"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_0801ef2b_4347_4741_b232_e3df1dc5f742","uuid":"1d7b99a6-9b17-4fc1-a1b6-dda67050b231"},"edge_type":"inherent","type":"","uuid":"965f4a1e-d8a9-439f-8fd2-d7fee905a613","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_50d2be11_d5d3_4f79_9d24_5a525fbbb706","uuid":"53a277ed-2e37-4aa9-a5c7-386af0c5dcf8"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_f5a07b18_7834_405a_b162_f4e507005676","uuid":"a5660b86-89ac-44b5-913c-a03bb24ff121"},"edge_type":"inherent","type":"","uuid":"b4d1f1e2-7bf3-4a54-a88b-f172f729e842","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_50d2be11_d5d3_4f79_9d24_5a525fbbb706","uuid":"53a277ed-2e37-4aa9-a5c7-386af0c5dcf8"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_f5a07b18_7834_405a_b162_f4e507005676","uuid":"a5660b86-89ac-44b5-913c-a03bb24ff121"},"edge_type":"inherent","type":"","uuid":"792fba00-5915-4e50-b953-ca4f978a7849","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_0801ef2b_4347_4741_b232_e3df1dc5f742","uuid":"1d7b99a6-9b17-4fc1-a1b6-dda67050b231"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_2293d93f_8d56_4268_b27f_6fed66d6451d"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment","uuid":"f5a07b18-7834-405a-b162-f4e507005676"},"retries":"0","description":"","type":"CREATE_DEPLOYMENT_ELEMENT","uuid":"a5660b86-89ac-44b5-913c-a03bb24ff121","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Provision_f5a07b18_7834_405a_b162_f4e507005676"},{"target_any_local_reference":{"kind":"app_package","name":"AHV_CENTOS_76","uuid":"0801ef2b-4347-4741-b232-e3df1dc5f742"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"1d7b99a6-9b17-4fc1-a1b6-dda67050b231","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment","uuid":"f5a07b18-7834-405a-b162-f4e507005676"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_0801ef2b_4347_4741_b232_e3df1dc5f742","uuid":"5fa426be-6e9c-4898-acd1-99d102f372a9"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_0801ef2b_4347_4741_b232_e3df1dc5f742"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHV_Centos_Mariadb","uuid":"50d2be11-d5d3-4f79-9d24-5a525fbbb706"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"53a277ed-2e37-4aa9-a5c7-386af0c5dcf8","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment","uuid":"f5a07b18-7834-405a-b162-f4e507005676"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_50d2be11_d5d3_4f79_9d24_5a525fbbb706","uuid":"26a442b7-cdb9-47d1-8b23-e58531786e53"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Substrate_50d2be11_d5d3_4f79_9d24_5a525fbbb706"},{"target_any_local_reference":{"kind":"app_package","name":"AHV_Mariadb_Install","uuid":"d99df877-a890-40e0-857a-3134f89864a2"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"cc9dc69d-bbd3-4b06-907b-13420597808e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment","uuid":"f5a07b18-7834-405a-b162-f4e507005676"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_d99df877_a890_40e0_857a_3134f89864a2","uuid":"7c79fd9a-8e17-472d-b8eb-ff3718372f7a"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_d99df877_a890_40e0_857a_3134f89864a2"},{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Single_Node","uuid":"9296bb26-cdbe-40bd-ac42-8b174a57d949"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"67c0a01e-5687-4100-9ab4-f172f0e16735","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment","uuid":"f5a07b18-7834-405a-b162-f4e507005676"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"01bb4182_runbook","uuid":"c4241504-cb7c-4751-9166-c8bed0f3c315"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_9296bb26_cdbe_40bd_ac42_8b174a57d949"},{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Single_Node","uuid":"9296bb26-cdbe-40bd-ac42-8b174a57d949"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"3375177d-9dd0-4224-a029-b06959fc3b0a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment","uuid":"f5a07b18-7834-405a-b162-f4e507005676"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"1bf1bdf4_runbook","uuid":"801ddb39-7bb0-48aa-b330-7eb3418485f2"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_9296bb26_cdbe_40bd_ac42_8b174a57d949"}],"description":"","message_list":[],"uuid":"ab2ae160-9014-4485-aef8-1b3438590c48","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_2293d93f_8d56_4268_b27f_6fed66d6451d","uuid":"e339aaec-6b2f-4987-aec5-bc134bf41027"},"name":"SYS_GEN__Runbook_Application_2293d93f_8d56_4268_b27f_6fed66d6451d"}},{"description":"System action for starting an application","message_list":[],"uuid":"3b4ad43b-5dc9-4d5d-82b8-8d227c3ebdc3","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"Nutanix","uuid":"2293d93f-8d56-4268-b27f-6fed66d6451d"},"retries":"0","description":"","type":"DAG","uuid":"8cbe57ff-50d9-42c0-8115-2168449712f5","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_50d2be11_d5d3_4f79_9d24_5a525fbbb706","uuid":"dd71eb70-0e84-4958-8572-b8abe8800a6f"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_9296bb26_cdbe_40bd_ac42_8b174a57d949","uuid":"bf9837cc-d47b-4d1b-a4e0-d9a450f1092d"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_50d2be11_d5d3_4f79_9d24_5a525fbbb706","uuid":"dd71eb70-0e84-4958-8572-b8abe8800a6f"},"edge_type":"inherent","type":"","uuid":"e8ddf6a1-0dfb-40fa-8b90-31b8a3703bb3","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_9296bb26_cdbe_40bd_ac42_8b174a57d949","uuid":"bf9837cc-d47b-4d1b-a4e0-d9a450f1092d"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_2293d93f_8d56_4268_b27f_6fed66d6451d"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHV_Centos_Mariadb","uuid":"50d2be11-d5d3-4f79-9d24-5a525fbbb706"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"dd71eb70-0e84-4958-8572-b8abe8800a6f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment","uuid":"f5a07b18-7834-405a-b162-f4e507005676"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_50d2be11_d5d3_4f79_9d24_5a525fbbb706","uuid":"781e7330-71e6-4d8b-8d4f-76612b36f0f7"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Substrate_50d2be11_d5d3_4f79_9d24_5a525fbbb706"},{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Single_Node","uuid":"9296bb26-cdbe-40bd-ac42-8b174a57d949"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"bf9837cc-d47b-4d1b-a4e0-d9a450f1092d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment","uuid":"f5a07b18-7834-405a-b162-f4e507005676"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"1bf1bdf4_runbook","uuid":"801ddb39-7bb0-48aa-b330-7eb3418485f2"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_9296bb26_cdbe_40bd_ac42_8b174a57d949"}],"description":"","message_list":[],"uuid":"d1142b98-9e37-4c84-825c-48c0d4fa9114","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_2293d93f_8d56_4268_b27f_6fed66d6451d","uuid":"8cbe57ff-50d9-42c0-8115-2168449712f5"},"name":"SYS_GEN__Runbook_Application_2293d93f_8d56_4268_b27f_6fed66d6451d"}},{"description":"System action for restarting an application","message_list":[],"uuid":"a13c121c-6ebc-4f51-9ca6-0fa0354135cf","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"Nutanix","uuid":"2293d93f-8d56-4268-b27f-6fed66d6451d"},"retries":"0","description":"","type":"DAG","uuid":"fbc16b90-8d00-4596-bf05-41a0fe36091b","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_50d2be11_d5d3_4f79_9d24_5a525fbbb706","uuid":"f5460a65-c17a-4617-b60d-b720ec6986db"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_9296bb26_cdbe_40bd_ac42_8b174a57d949","uuid":"4fbf5278-a684-4caa-ada4-c0af75d0a570"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_50d2be11_d5d3_4f79_9d24_5a525fbbb706","uuid":"f5460a65-c17a-4617-b60d-b720ec6986db"},"edge_type":"inherent","type":"","uuid":"e93b1267-87a2-4149-a806-d14250c785c0","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_9296bb26_cdbe_40bd_ac42_8b174a57d949","uuid":"4fbf5278-a684-4caa-ada4-c0af75d0a570"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_2293d93f_8d56_4268_b27f_6fed66d6451d"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHV_Centos_Mariadb","uuid":"50d2be11-d5d3-4f79-9d24-5a525fbbb706"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"f5460a65-c17a-4617-b60d-b720ec6986db","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment","uuid":"f5a07b18-7834-405a-b162-f4e507005676"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_50d2be11_d5d3_4f79_9d24_5a525fbbb706","uuid":"9837b21a-6bbc-40b1-b03f-bfa89806105d"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Substrate_50d2be11_d5d3_4f79_9d24_5a525fbbb706"},{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Single_Node","uuid":"9296bb26-cdbe-40bd-ac42-8b174a57d949"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"4fbf5278-a684-4caa-ada4-c0af75d0a570","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment","uuid":"f5a07b18-7834-405a-b162-f4e507005676"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"dbeb27ce_runbook","uuid":"87cb76f0-0228-4cd4-808e-9c6a8682d0ab"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_9296bb26_cdbe_40bd_ac42_8b174a57d949"}],"description":"","message_list":[],"uuid":"e72d29b6-46ca-45f6-9646-f942233219bb","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_2293d93f_8d56_4268_b27f_6fed66d6451d","uuid":"fbc16b90-8d00-4596-bf05-41a0fe36091b"},"name":"SYS_GEN__Runbook_Application_2293d93f_8d56_4268_b27f_6fed66d6451d"}},{"description":"System action for stopping an application","message_list":[],"uuid":"9b27379f-91e6-47c5-89fc-7887e66814d3","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"Nutanix","uuid":"2293d93f-8d56-4268-b27f-6fed66d6451d"},"retries":"0","description":"","type":"DAG","uuid":"6ad9d11a-fa07-403e-9d01-d621ae186f13","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_9296bb26_cdbe_40bd_ac42_8b174a57d949","uuid":"c2c09247-4034-4e73-81d1-6b0fd7e8e216"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_50d2be11_d5d3_4f79_9d24_5a525fbbb706","uuid":"1cf1724e-6db6-4cb1-a57b-6681b6aea26a"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_9296bb26_cdbe_40bd_ac42_8b174a57d949","uuid":"c2c09247-4034-4e73-81d1-6b0fd7e8e216"},"edge_type":"inherent","type":"","uuid":"cf330c5f-8e7e-48f3-916b-68b83af982da","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_50d2be11_d5d3_4f79_9d24_5a525fbbb706","uuid":"1cf1724e-6db6-4cb1-a57b-6681b6aea26a"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_2293d93f_8d56_4268_b27f_6fed66d6451d"},{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Single_Node","uuid":"9296bb26-cdbe-40bd-ac42-8b174a57d949"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"c2c09247-4034-4e73-81d1-6b0fd7e8e216","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment","uuid":"f5a07b18-7834-405a-b162-f4e507005676"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"a068d42f_runbook","uuid":"2b9e76d4-937c-497f-a68a-15d59e450782"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_9296bb26_cdbe_40bd_ac42_8b174a57d949"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHV_Centos_Mariadb","uuid":"50d2be11-d5d3-4f79-9d24-5a525fbbb706"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"1cf1724e-6db6-4cb1-a57b-6681b6aea26a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment","uuid":"f5a07b18-7834-405a-b162-f4e507005676"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_50d2be11_d5d3_4f79_9d24_5a525fbbb706","uuid":"d549ac27-bc6b-481e-a3d5-9a0006aef622"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Substrate_50d2be11_d5d3_4f79_9d24_5a525fbbb706"}],"description":"","message_list":[],"uuid":"e7e20d88-7cf9-49e3-ae1e-3f6447660f88","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_2293d93f_8d56_4268_b27f_6fed66d6451d","uuid":"6ad9d11a-fa07-403e-9d01-d621ae186f13"},"name":"SYS_GEN__Runbook_Application_2293d93f_8d56_4268_b27f_6fed66d6451d"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"6ece0f9d-5229-40c7-9ac3-03382f1ab432","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"Nutanix","uuid":"2293d93f-8d56-4268-b27f-6fed66d6451d"},"retries":"0","description":"","type":"DAG","uuid":"00825a3f-b6c4-4236-9e44-4a16f29a22ca","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_9296bb26_cdbe_40bd_ac42_8b174a57d949","uuid":"53925a76-d668-4fcd-9e0b-48d4101b2a3b"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_9296bb26_cdbe_40bd_ac42_8b174a57d949","uuid":"ea27f46a-fd10-4f88-b59e-49af2d285132"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_d99df877_a890_40e0_857a_3134f89864a2","uuid":"7f39d452-f08f-4509-ba49-f26e547b21ef"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_50d2be11_d5d3_4f79_9d24_5a525fbbb706","uuid":"eadd4214-2b5f-495c-8844-e9e1de4d137e"},{"kind":"app_task","name":"SYS_GEN__DE_Delete_f5a07b18_7834_405a_b162_f4e507005676","uuid":"7b25ad96-a5b0-4ca3-bed4-33730d754d08"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_9296bb26_cdbe_40bd_ac42_8b174a57d949","uuid":"53925a76-d668-4fcd-9e0b-48d4101b2a3b"},"edge_type":"inherent","type":"","uuid":"ae053934-a55f-4183-a4d2-976b92a0f1ec","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_9296bb26_cdbe_40bd_ac42_8b174a57d949","uuid":"ea27f46a-fd10-4f88-b59e-49af2d285132"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_9296bb26_cdbe_40bd_ac42_8b174a57d949","uuid":"ea27f46a-fd10-4f88-b59e-49af2d285132"},"edge_type":"inherent","type":"","uuid":"7a9dcc71-d07a-4b47-8163-59805e7605e8","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_d99df877_a890_40e0_857a_3134f89864a2","uuid":"7f39d452-f08f-4509-ba49-f26e547b21ef"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_50d2be11_d5d3_4f79_9d24_5a525fbbb706","uuid":"eadd4214-2b5f-495c-8844-e9e1de4d137e"},"edge_type":"inherent","type":"","uuid":"586c2db2-b60e-4c76-82b2-b6e41df19277","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Delete_f5a07b18_7834_405a_b162_f4e507005676","uuid":"7b25ad96-a5b0-4ca3-bed4-33730d754d08"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_d99df877_a890_40e0_857a_3134f89864a2","uuid":"7f39d452-f08f-4509-ba49-f26e547b21ef"},"edge_type":"inherent","type":"","uuid":"d2168658-bb6f-4d06-aa25-f3c56ff6447b","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_50d2be11_d5d3_4f79_9d24_5a525fbbb706","uuid":"eadd4214-2b5f-495c-8844-e9e1de4d137e"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_2293d93f_8d56_4268_b27f_6fed66d6451d"},{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Single_Node","uuid":"9296bb26-cdbe-40bd-ac42-8b174a57d949"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"53925a76-d668-4fcd-9e0b-48d4101b2a3b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment","uuid":"f5a07b18-7834-405a-b162-f4e507005676"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"a068d42f_runbook","uuid":"2b9e76d4-937c-497f-a68a-15d59e450782"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_9296bb26_cdbe_40bd_ac42_8b174a57d949"},{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Single_Node","uuid":"9296bb26-cdbe-40bd-ac42-8b174a57d949"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"ea27f46a-fd10-4f88-b59e-49af2d285132","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment","uuid":"f5a07b18-7834-405a-b162-f4e507005676"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"3298ad28_runbook","uuid":"c0a1db4c-d1e3-4d71-bfd8-14c75b2023e9"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_9296bb26_cdbe_40bd_ac42_8b174a57d949"},{"target_any_local_reference":{"kind":"app_package","name":"AHV_Mariadb_Install","uuid":"d99df877-a890-40e0-857a-3134f89864a2"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"7f39d452-f08f-4509-ba49-f26e547b21ef","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment","uuid":"f5a07b18-7834-405a-b162-f4e507005676"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_d99df877_a890_40e0_857a_3134f89864a2","uuid":"8c1bf788-d2e1-4bcd-9940-a3f9d88db022"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_d99df877_a890_40e0_857a_3134f89864a2"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHV_Centos_Mariadb","uuid":"50d2be11-d5d3-4f79-9d24-5a525fbbb706"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"eadd4214-2b5f-495c-8844-e9e1de4d137e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment","uuid":"f5a07b18-7834-405a-b162-f4e507005676"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_50d2be11_d5d3_4f79_9d24_5a525fbbb706","uuid":"378a6c2a-6c14-4113-87e5-379962f63925"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Substrate_50d2be11_d5d3_4f79_9d24_5a525fbbb706"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment","uuid":"f5a07b18-7834-405a-b162-f4e507005676"},"retries":"0","description":"","type":"DELETE_DEPLOYMENT_ELEMENT","uuid":"7b25ad96-a5b0-4ca3-bed4-33730d754d08","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Delete_f5a07b18_7834_405a_b162_f4e507005676"}],"description":"","message_list":[],"uuid":"dbff7636-5e71-4aff-bec3-37d89232e3a4","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_2293d93f_8d56_4268_b27f_6fed66d6451d","uuid":"00825a3f-b6c4-4236-9e44-4a16f29a22ca"},"name":"SYS_GEN__Runbook_Application_2293d93f_8d56_4268_b27f_6fed66d6451d"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"c96ca4bf-761c-4e96-bcc6-a3d21d4021bf","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"Nutanix","uuid":"2293d93f-8d56-4268-b27f-6fed66d6451d"},"retries":"0","description":"","type":"DAG","uuid":"f443551b-adba-4710-a04a-bb3c5d436397","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_9296bb26_cdbe_40bd_ac42_8b174a57d949","uuid":"9df6dd93-f6be-4d3b-99bd-1fabbf92703f"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_d99df877_a890_40e0_857a_3134f89864a2","uuid":"b23adfb6-d41f-4b71-9b31-fc684cca8005"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_50d2be11_d5d3_4f79_9d24_5a525fbbb706","uuid":"54feca57-9a5f-4e1d-89a7-be0dfc2e5bd5"},{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_f5a07b18_7834_405a_b162_f4e507005676","uuid":"5be1de2b-3099-4b17-848d-840716e8e022"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_9296bb26_cdbe_40bd_ac42_8b174a57d949","uuid":"9df6dd93-f6be-4d3b-99bd-1fabbf92703f"},"edge_type":"inherent","type":"","uuid":"a3b4394c-af69-45d8-84f8-910aba24feb9","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_d99df877_a890_40e0_857a_3134f89864a2","uuid":"b23adfb6-d41f-4b71-9b31-fc684cca8005"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_50d2be11_d5d3_4f79_9d24_5a525fbbb706","uuid":"54feca57-9a5f-4e1d-89a7-be0dfc2e5bd5"},"edge_type":"inherent","type":"","uuid":"b1c1d22c-6b3d-4455-8224-301c287856ad","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_f5a07b18_7834_405a_b162_f4e507005676","uuid":"5be1de2b-3099-4b17-848d-840716e8e022"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_d99df877_a890_40e0_857a_3134f89864a2","uuid":"b23adfb6-d41f-4b71-9b31-fc684cca8005"},"edge_type":"inherent","type":"","uuid":"b7698871-85e0-4198-a0f8-11b46333f290","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_50d2be11_d5d3_4f79_9d24_5a525fbbb706","uuid":"54feca57-9a5f-4e1d-89a7-be0dfc2e5bd5"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_2293d93f_8d56_4268_b27f_6fed66d6451d"},{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Single_Node","uuid":"9296bb26-cdbe-40bd-ac42-8b174a57d949"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"9df6dd93-f6be-4d3b-99bd-1fabbf92703f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment","uuid":"f5a07b18-7834-405a-b162-f4e507005676"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_9296bb26_cdbe_40bd_ac42_8b174a57d949","uuid":"a17d0f01-4e77-4af0-9aa6-0efd6be7513b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_9296bb26_cdbe_40bd_ac42_8b174a57d949"},{"target_any_local_reference":{"kind":"app_package","name":"AHV_Mariadb_Install","uuid":"d99df877-a890-40e0-857a-3134f89864a2"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"b23adfb6-d41f-4b71-9b31-fc684cca8005","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_d99df877_a890_40e0_857a_3134f89864a2"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHV_Centos_Mariadb","uuid":"50d2be11-d5d3-4f79-9d24-5a525fbbb706"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"54feca57-9a5f-4e1d-89a7-be0dfc2e5bd5","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment","uuid":"f5a07b18-7834-405a-b162-f4e507005676"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_50d2be11_d5d3_4f79_9d24_5a525fbbb706","uuid":"65d800f1-c1fc-4c03-b575-95b4aa5e20c2"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Substrate_50d2be11_d5d3_4f79_9d24_5a525fbbb706"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"a7b3d65f_deployment","uuid":"f5a07b18-7834-405a-b162-f4e507005676"},"retries":"0","description":"","type":"SOFT_DELETE_DEPLOYMENT_ELEMENT","uuid":"5be1de2b-3099-4b17-848d-840716e8e022","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Soft_Delete_f5a07b18_7834_405a_b162_f4e507005676"}],"description":"","message_list":[],"uuid":"3c7cbd11-af47-4912-bcae-70a6926bcbab","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_2293d93f_8d56_4268_b27f_6fed66d6451d","uuid":"f443551b-adba-4710-a04a-bb3c5d436397"},"name":"SYS_GEN__Runbook_Application_2293d93f_8d56_4268_b27f_6fed66d6451d"}}],"message_list":[],"uuid":"2293d93f-8d56-4268-b27f-6fed66d6451d","state":"ACTIVE","dependency_list":[],"variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[{"message":"Secret value for variable is empty","reason":"EMPTY_VALUE","details":[{"attribute_name":"secret"}]},{"message":"Value of secret variable is empty","reason":"EMPTY_VALUE","details":[{"attribute_name":"value"}]}],"uuid":"040cd9a1-1aa1-4cb9-a150-44e348b97b19","value":"","label":"","state":"ACTIVE","attrs":{"is_secret_modified":false,"secret_reference":{"uuid":"0233f641-1025-4e00-b3e5-3f003ceaf9ce"},"type":""},"editables":{"value":true},"is_hidden":false,"type":"SECRET","options":{},"name":"MARIADB_PASSWORD"}],"name":"Nutanix"}],"published_service_definition_list":[],"default_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"d4f96641-9ca5-4df0-b13d-6a920dbeb27d"},"package_definition_list":[{"description":"","action_list":[{"description":"System action for installing an application","message_list":[],"uuid":"bbc3d8dc-6542-4444-be06-8e0d540d9c5c","name":"action_install","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHV_Mariadb_Install","uuid":"d99df877-a890-40e0-857a-3134f89864a2"},"retries":"0","description":"","type":"DAG","uuid":"09f8066d-c8e9-46b7-9e01-2a646ee70452","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Install_Crb_d99df877_a890_40e0_857a_3134f89864a2","uuid":"8c54e48b-0e41-4632-9afb-e9b988df148c"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Package_d99df877_a890_40e0_857a_3134f89864a2"},{"target_any_local_reference":{"kind":"app_package","name":"AHV_Mariadb_Install","uuid":"d99df877-a890-40e0-857a-3134f89864a2"},"retries":"0","description":"","type":"CUSTOM_PACKAGE_INSTALL","uuid":"8c54e48b-0e41-4632-9afb-e9b988df148c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHV_Mariadb_Install","uuid":"d99df877-a890-40e0-857a-3134f89864a2"},"retries":"0","description":"","type":"DAG","uuid":"ceeac9c0-a632-42c6-a4b7-6f09ffce2964","child_tasks_local_reference_list":[{"kind":"app_task","name":"Setup Partitions","uuid":"f48895aa-fa9b-43d6-9d14-8169cb52a582"},{"kind":"app_task","name":"Install_MariaDB","uuid":"2a494f1f-826f-43a2-98b7-76fb7f0fb4bb"},{"kind":"app_task","name":"Configure_MariaDB","uuid":"9dedd154-ed1f-4462-927b-c3c19f6a8e45"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Setup Partitions","uuid":"f48895aa-fa9b-43d6-9d14-8169cb52a582"},"edge_type":"user_defined","type":"","uuid":"3c1d7397-9f40-40b3-9c15-3232471a609d","to_task_reference":{"kind":"app_task","name":"Install_MariaDB","uuid":"2a494f1f-826f-43a2-98b7-76fb7f0fb4bb"}},{"from_task_reference":{"kind":"app_task","name":"Install_MariaDB","uuid":"2a494f1f-826f-43a2-98b7-76fb7f0fb4bb"},"edge_type":"user_defined","type":"","uuid":"c5ded6d4-d27f-4b48-9a16-f959b9fd4cde","to_task_reference":{"kind":"app_task","name":"Configure_MariaDB","uuid":"9dedd154-ed1f-4462-927b-c3c19f6a8e45"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"722b8b0f_dag"},{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Single_Node","uuid":"9296bb26-cdbe-40bd-ac42-8b174a57d949"},"retries":"0","description":"","type":"EXEC","uuid":"f48895aa-fa9b-43d6-9d14-8169cb52a582","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n##############\n#\n# LVM setup script for MariaDB . 4 disks for DATA and 4 for logs\n# Data disks are 50GB | Log disks are 25GB \n#\n#############\nsudo yum -y update\nsudo yum -y install lvm2 iotop\n\n#MariaDB data\nsudo pvcreate \/dev\/sdb \/dev\/sdc \/dev\/sdd \/dev\/sde\nsudo vgcreate mariadbDataVG \/dev\/sdb \/dev\/sdd \/dev\/sdc \/dev\/sde\nsudo lvcreate -l 100%FREE -i4 -I1M -n mariadbDataLV mariadbDataVG          ## Use 1MB to avoid IO amplification \n#lvcreate -l 100%FREE -i4 -I4M -n pgDataLV pgDataVG\n\n\n#MariaDB logs\nsudo pvcreate \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo vgcreate mariadbLogVG \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo lvcreate -l 100%FREE -i2 -I1M -n mariadbLogLV mariadbLogVG            ## Use 1MB to avoid IO amplification\n#lvcreate -l 100%FREE -i2 -I4M -n pgLogLV pgLogVG\n\n\n#Disable LVM read ahead\nsudo lvchange -r 0 \/dev\/mariadbDataVG\/mariadbDataLV\nsudo lvchange -r 0 \/dev\/mariadbLogVG\/mariadbLogLV\n\n\n#Format LVMs with ext4 and use nodiscard to make sure format time is fast on Nutanix due to SCSI unmap\nsudo mkfs.ext4 -E nodiscard \/dev\/mariadbDataVG\/mariadbDataLV\nsudo mkfs.ext4 -E nodiscard \/dev\/mariadbLogVG\/mariadbLogLV\n\nsleep 30\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"d4f96641-9ca5-4df0-b13d-6a920dbeb27d"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Setup Partitions"},{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Single_Node","uuid":"9296bb26-cdbe-40bd-ac42-8b174a57d949"},"retries":"0","description":"","type":"EXEC","uuid":"2a494f1f-826f-43a2-98b7-76fb7f0fb4bb","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash -x\n\nsudo hostnamectl set-hostname \"@@{name}@@\"\n\n\necho '[mariadb]\nname = MariaDB\nbaseurl = http:\/\/yum.mariadb.org\/10.3\/rhel7-amd64\ngpgkey=https:\/\/yum.mariadb.org\/RPM-GPG-KEY-MariaDB\ngpgcheck=1' | sudo tee \/etc\/yum.repos.d\/mariadb.repo\n\nsudo yum install MariaDB-server MariaDB-client -y","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"d4f96641-9ca5-4df0-b13d-6a920dbeb27d"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install_MariaDB"},{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Single_Node","uuid":"9296bb26-cdbe-40bd-ac42-8b174a57d949"},"retries":"0","description":"","type":"EXEC","uuid":"9dedd154-ed1f-4462-927b-c3c19f6a8e45","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n# Disable selinux\nsudo setenforce 0\nsudo sed -i 's\/SELINUX=enforcing\/SELINUX=disabled\/g;s\/SELINUXTYPE=targeted\/#&\/g' \/etc\/selinux\/config\n\necho '!includedir \/etc\/my.cnf.d' | sudo tee \/etc\/my.cnf\n\necho '[mysqld]\nbinlog-format=mixed\nlog-bin=mysql-bin\ndatadir=\/mysql\/data\nsql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES\ninnodb_data_home_dir = \/mysql\/data\ninnodb_log_group_home_dir = \/mysql\/log\ninnodb_file_per_table\ntmpdir=\/mysql\/tmpdir\ninnodb_undo_directory = \/mysql\/undo\n\ndefault_tmp_storage_engine = innodb\ninnodb_log_files_in_group = 4\ninnodb_log_file_size = 1G\ninnodb_log_buffer_size = 8M\ninnodb_buffer_pool_size = 6G\nlarge-pages\ninnodb_buffer_pool_instances = 64\ninnodb_flush_method=O_DIRECT\ninnodb_flush_neighbors=0\ninnodb_flush_log_at_trx_commit=1\ninnodb_buffer_pool_dump_at_shutdown=1\ninnodb_buffer_pool_load_at_startup=1\nbulk_insert_buffer_size = 256\ninnodb_thread_concurrency = 16\n\n# Undo tablespace\ninnodb_undo_tablespaces = 5\n\n# Networking\nwait_timeout=57600\nmax_allowed_packet=1G\nsocket=\/var\/lib\/mysql\/mysql.sock\nskip-name-resolve\nport=3306\nmax_connections=1000' | sudo tee \/etc\/my.cnf.d\/nutanix.cnf\n\nsudo sed -i \"\/\\[mysqld\\]\/a server-id=100\" \/etc\/my.cnf.d\/nutanix.cnf\n\n# -*- Sysctl configuration\nmysql_grp_id=`id -g mysql`\nsudo sysctl -w vm.swappiness=0\nsudo sysctl -w vm.nr_hugepages=1024\nsudo sysctl -w vm.overcommit_memory=1\nsudo sysctl -w vm.dirty_background_ratio=5 \nsudo sysctl -w vm.dirty_ratio=15\nsudo sysctl -w vm.dirty_expire_centisecs=500\nsudo sysctl -w vm.dirty_writeback_centisecs=100\nsudo sysctl -w vm.hugetlb_shm_group=$mysql_grp_id\n\necho 'vm.swappiness=0\nvm.nr_hugepages=1024\nvm.overcommit_memory=1\nvm.dirty_background_ratio=5 \nvm.dirty_ratio=15\nvm.dirty_expire_centisecs=500\nvm.dirty_writeback_centisecs=100\nvm.hugetlb_shm_group=$mysql_grp_id' | sudo tee  -a \/etc\/sysctl.conf\n\necho \"ACTION=='add|change', SUBSYSTEM=='block', RUN+='\/bin\/sh -c \\\"\/bin\/echo 1024 > \/sys%p\/queue\/max_sectors_kb\\\"'\" | sudo tee \/etc\/udev\/rules.d\/71-block-max-sectors.rules\n#echo 1024 | sudo tee \/sys\/block\/sd?\/queue\/max_sectors_kb\n\necho \"\/dev\/mariadbDataVG\/mariadbDataLV \/mysql\/data ext4 rw,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\necho \"\/dev\/mariadbLogVG\/mariadbLogLV \/mysql\/log ext4 rw,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\nsudo mkdir -p \/mysql\/log \/mysql\/data \/mysql\/tmpdir \/mysql\/undo\nsudo mount -a\n\nsudo rm -rf \/mysql\/data\/*\nsudo mysql_install_db &>\/dev\/null\nsudo chown -R mysql:mysql \/mysql\n\nsudo systemctl enable mariadb\nsudo systemctl start mariadb\n\n# Set root password\nsudo mysqladmin password '@@{MARIADB_PASSWORD}@@'","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"d4f96641-9ca5-4df0-b13d-6a920dbeb27d"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Configure_MariaDB"}],"description":"","message_list":[],"uuid":"04e5cdf3-9f39-4d55-b969-df868a2750d6","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"722b8b0f_dag","uuid":"ceeac9c0-a632-42c6-a4b7-6f09ffce2964"},"name":"407db839_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHV_Mariadb_Install","uuid":"d99df877-a890-40e0-857a-3134f89864a2"},"retries":"0","description":"","type":"DAG","uuid":"58f5884d-d051-4045-a7a5-07e40281bf12","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"c94517ac_dag"}],"description":"","message_list":[],"uuid":"fdfbfc90-2b37-44b2-be1b-5d47329b9520","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"c94517ac_dag","uuid":"58f5884d-d051-4045-a7a5-07e40281bf12"},"name":"fa2ee8fd_runbook"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Install_Crb_d99df877_a890_40e0_857a_3134f89864a2"}],"description":"","message_list":[],"uuid":"7c79fd9a-8e17-472d-b8eb-ff3718372f7a","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Package_d99df877_a890_40e0_857a_3134f89864a2","uuid":"09f8066d-c8e9-46b7-9e01-2a646ee70452"},"name":"SYS_GEN__Runbook_Package_d99df877_a890_40e0_857a_3134f89864a2"}},{"description":"System action for creating an application","message_list":[],"uuid":"3c641df0-9b4d-4b0a-8ac4-2b793b23e444","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHV_Mariadb_Install","uuid":"d99df877-a890-40e0-857a-3134f89864a2"},"retries":"0","description":"","type":"DAG","uuid":"b895ffa8-d8c0-4fa3-b319-a0e4f6330c54","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_d99df877_a890_40e0_857a_3134f89864a2","uuid":"33078a46-8760-4009-b615-54cfb18fbdac"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_9296bb26_cdbe_40bd_ac42_8b174a57d949","uuid":"5b62a6ef-61e1-4cab-935b-a7803adbd365"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_9296bb26_cdbe_40bd_ac42_8b174a57d949","uuid":"78afc98d-52aa-4d42-b5c1-9d1d79fd3973"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_9296bb26_cdbe_40bd_ac42_8b174a57d949","uuid":"5b62a6ef-61e1-4cab-935b-a7803adbd365"},"edge_type":"inherent","type":"","uuid":"0251fc08-23ce-4af1-91b5-31e86dbc4869","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_9296bb26_cdbe_40bd_ac42_8b174a57d949","uuid":"78afc98d-52aa-4d42-b5c1-9d1d79fd3973"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_d99df877_a890_40e0_857a_3134f89864a2","uuid":"33078a46-8760-4009-b615-54cfb18fbdac"},"edge_type":"inherent","type":"","uuid":"d4af30bd-8dcf-4b20-89df-ce1019fde552","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_9296bb26_cdbe_40bd_ac42_8b174a57d949","uuid":"5b62a6ef-61e1-4cab-935b-a7803adbd365"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_d99df877_a890_40e0_857a_3134f89864a2"},{"target_any_local_reference":{"kind":"app_package","name":"AHV_Mariadb_Install","uuid":"d99df877-a890-40e0-857a-3134f89864a2"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"33078a46-8760-4009-b615-54cfb18fbdac","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_d99df877_a890_40e0_857a_3134f89864a2","uuid":"7c79fd9a-8e17-472d-b8eb-ff3718372f7a"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_d99df877_a890_40e0_857a_3134f89864a2"},{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Single_Node","uuid":"9296bb26-cdbe-40bd-ac42-8b174a57d949"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"5b62a6ef-61e1-4cab-935b-a7803adbd365","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"01bb4182_runbook","uuid":"c4241504-cb7c-4751-9166-c8bed0f3c315"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_9296bb26_cdbe_40bd_ac42_8b174a57d949"},{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Single_Node","uuid":"9296bb26-cdbe-40bd-ac42-8b174a57d949"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"78afc98d-52aa-4d42-b5c1-9d1d79fd3973","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"1bf1bdf4_runbook","uuid":"801ddb39-7bb0-48aa-b330-7eb3418485f2"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_9296bb26_cdbe_40bd_ac42_8b174a57d949"}],"description":"","message_list":[],"uuid":"83c3fa76-f355-41eb-bada-d9a315033dc5","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_d99df877_a890_40e0_857a_3134f89864a2","uuid":"b895ffa8-d8c0-4fa3-b319-a0e4f6330c54"},"name":"SYS_GEN__Runbook_Package_d99df877_a890_40e0_857a_3134f89864a2"}},{"description":"System action for uninstalling an application","message_list":[],"uuid":"c08c9aaf-9893-4542-8a1b-b8178908d222","name":"action_uninstall","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHV_Mariadb_Install","uuid":"d99df877-a890-40e0-857a-3134f89864a2"},"retries":"0","description":"","type":"DAG","uuid":"937f4fda-e3cf-4c63-921b-e61cbeac3ae4","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Uninstall_Crb_d99df877_a890_40e0_857a_3134f89864a2","uuid":"40efe35b-0af2-48a6-ad42-932cd3e7195b"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Package_d99df877_a890_40e0_857a_3134f89864a2"},{"target_any_local_reference":{"kind":"app_package","name":"AHV_Mariadb_Install","uuid":"d99df877-a890-40e0-857a-3134f89864a2"},"retries":"0","description":"","type":"CUSTOM_PACKAGE_UNINSTALL","uuid":"40efe35b-0af2-48a6-ad42-932cd3e7195b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHV_Mariadb_Install","uuid":"d99df877-a890-40e0-857a-3134f89864a2"},"retries":"0","description":"","type":"DAG","uuid":"ceeac9c0-a632-42c6-a4b7-6f09ffce2964","child_tasks_local_reference_list":[{"kind":"app_task","name":"Setup Partitions","uuid":"f48895aa-fa9b-43d6-9d14-8169cb52a582"},{"kind":"app_task","name":"Install_MariaDB","uuid":"2a494f1f-826f-43a2-98b7-76fb7f0fb4bb"},{"kind":"app_task","name":"Configure_MariaDB","uuid":"9dedd154-ed1f-4462-927b-c3c19f6a8e45"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Setup Partitions","uuid":"f48895aa-fa9b-43d6-9d14-8169cb52a582"},"edge_type":"user_defined","type":"","uuid":"3c1d7397-9f40-40b3-9c15-3232471a609d","to_task_reference":{"kind":"app_task","name":"Install_MariaDB","uuid":"2a494f1f-826f-43a2-98b7-76fb7f0fb4bb"}},{"from_task_reference":{"kind":"app_task","name":"Install_MariaDB","uuid":"2a494f1f-826f-43a2-98b7-76fb7f0fb4bb"},"edge_type":"user_defined","type":"","uuid":"c5ded6d4-d27f-4b48-9a16-f959b9fd4cde","to_task_reference":{"kind":"app_task","name":"Configure_MariaDB","uuid":"9dedd154-ed1f-4462-927b-c3c19f6a8e45"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"722b8b0f_dag"},{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Single_Node","uuid":"9296bb26-cdbe-40bd-ac42-8b174a57d949"},"retries":"0","description":"","type":"EXEC","uuid":"f48895aa-fa9b-43d6-9d14-8169cb52a582","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n##############\n#\n# LVM setup script for MariaDB . 4 disks for DATA and 4 for logs\n# Data disks are 50GB | Log disks are 25GB \n#\n#############\nsudo yum -y update\nsudo yum -y install lvm2 iotop\n\n#MariaDB data\nsudo pvcreate \/dev\/sdb \/dev\/sdc \/dev\/sdd \/dev\/sde\nsudo vgcreate mariadbDataVG \/dev\/sdb \/dev\/sdd \/dev\/sdc \/dev\/sde\nsudo lvcreate -l 100%FREE -i4 -I1M -n mariadbDataLV mariadbDataVG          ## Use 1MB to avoid IO amplification \n#lvcreate -l 100%FREE -i4 -I4M -n pgDataLV pgDataVG\n\n\n#MariaDB logs\nsudo pvcreate \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo vgcreate mariadbLogVG \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo lvcreate -l 100%FREE -i2 -I1M -n mariadbLogLV mariadbLogVG            ## Use 1MB to avoid IO amplification\n#lvcreate -l 100%FREE -i2 -I4M -n pgLogLV pgLogVG\n\n\n#Disable LVM read ahead\nsudo lvchange -r 0 \/dev\/mariadbDataVG\/mariadbDataLV\nsudo lvchange -r 0 \/dev\/mariadbLogVG\/mariadbLogLV\n\n\n#Format LVMs with ext4 and use nodiscard to make sure format time is fast on Nutanix due to SCSI unmap\nsudo mkfs.ext4 -E nodiscard \/dev\/mariadbDataVG\/mariadbDataLV\nsudo mkfs.ext4 -E nodiscard \/dev\/mariadbLogVG\/mariadbLogLV\n\nsleep 30\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"d4f96641-9ca5-4df0-b13d-6a920dbeb27d"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Setup Partitions"},{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Single_Node","uuid":"9296bb26-cdbe-40bd-ac42-8b174a57d949"},"retries":"0","description":"","type":"EXEC","uuid":"2a494f1f-826f-43a2-98b7-76fb7f0fb4bb","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash -x\n\nsudo hostnamectl set-hostname \"@@{name}@@\"\n\n\necho '[mariadb]\nname = MariaDB\nbaseurl = http:\/\/yum.mariadb.org\/10.3\/rhel7-amd64\ngpgkey=https:\/\/yum.mariadb.org\/RPM-GPG-KEY-MariaDB\ngpgcheck=1' | sudo tee \/etc\/yum.repos.d\/mariadb.repo\n\nsudo yum install MariaDB-server MariaDB-client -y","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"d4f96641-9ca5-4df0-b13d-6a920dbeb27d"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install_MariaDB"},{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Single_Node","uuid":"9296bb26-cdbe-40bd-ac42-8b174a57d949"},"retries":"0","description":"","type":"EXEC","uuid":"9dedd154-ed1f-4462-927b-c3c19f6a8e45","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n# Disable selinux\nsudo setenforce 0\nsudo sed -i 's\/SELINUX=enforcing\/SELINUX=disabled\/g;s\/SELINUXTYPE=targeted\/#&\/g' \/etc\/selinux\/config\n\necho '!includedir \/etc\/my.cnf.d' | sudo tee \/etc\/my.cnf\n\necho '[mysqld]\nbinlog-format=mixed\nlog-bin=mysql-bin\ndatadir=\/mysql\/data\nsql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES\ninnodb_data_home_dir = \/mysql\/data\ninnodb_log_group_home_dir = \/mysql\/log\ninnodb_file_per_table\ntmpdir=\/mysql\/tmpdir\ninnodb_undo_directory = \/mysql\/undo\n\ndefault_tmp_storage_engine = innodb\ninnodb_log_files_in_group = 4\ninnodb_log_file_size = 1G\ninnodb_log_buffer_size = 8M\ninnodb_buffer_pool_size = 6G\nlarge-pages\ninnodb_buffer_pool_instances = 64\ninnodb_flush_method=O_DIRECT\ninnodb_flush_neighbors=0\ninnodb_flush_log_at_trx_commit=1\ninnodb_buffer_pool_dump_at_shutdown=1\ninnodb_buffer_pool_load_at_startup=1\nbulk_insert_buffer_size = 256\ninnodb_thread_concurrency = 16\n\n# Undo tablespace\ninnodb_undo_tablespaces = 5\n\n# Networking\nwait_timeout=57600\nmax_allowed_packet=1G\nsocket=\/var\/lib\/mysql\/mysql.sock\nskip-name-resolve\nport=3306\nmax_connections=1000' | sudo tee \/etc\/my.cnf.d\/nutanix.cnf\n\nsudo sed -i \"\/\\[mysqld\\]\/a server-id=100\" \/etc\/my.cnf.d\/nutanix.cnf\n\n# -*- Sysctl configuration\nmysql_grp_id=`id -g mysql`\nsudo sysctl -w vm.swappiness=0\nsudo sysctl -w vm.nr_hugepages=1024\nsudo sysctl -w vm.overcommit_memory=1\nsudo sysctl -w vm.dirty_background_ratio=5 \nsudo sysctl -w vm.dirty_ratio=15\nsudo sysctl -w vm.dirty_expire_centisecs=500\nsudo sysctl -w vm.dirty_writeback_centisecs=100\nsudo sysctl -w vm.hugetlb_shm_group=$mysql_grp_id\n\necho 'vm.swappiness=0\nvm.nr_hugepages=1024\nvm.overcommit_memory=1\nvm.dirty_background_ratio=5 \nvm.dirty_ratio=15\nvm.dirty_expire_centisecs=500\nvm.dirty_writeback_centisecs=100\nvm.hugetlb_shm_group=$mysql_grp_id' | sudo tee  -a \/etc\/sysctl.conf\n\necho \"ACTION=='add|change', SUBSYSTEM=='block', RUN+='\/bin\/sh -c \\\"\/bin\/echo 1024 > \/sys%p\/queue\/max_sectors_kb\\\"'\" | sudo tee \/etc\/udev\/rules.d\/71-block-max-sectors.rules\n#echo 1024 | sudo tee \/sys\/block\/sd?\/queue\/max_sectors_kb\n\necho \"\/dev\/mariadbDataVG\/mariadbDataLV \/mysql\/data ext4 rw,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\necho \"\/dev\/mariadbLogVG\/mariadbLogLV \/mysql\/log ext4 rw,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\nsudo mkdir -p \/mysql\/log \/mysql\/data \/mysql\/tmpdir \/mysql\/undo\nsudo mount -a\n\nsudo rm -rf \/mysql\/data\/*\nsudo mysql_install_db &>\/dev\/null\nsudo chown -R mysql:mysql \/mysql\n\nsudo systemctl enable mariadb\nsudo systemctl start mariadb\n\n# Set root password\nsudo mysqladmin password '@@{MARIADB_PASSWORD}@@'","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"d4f96641-9ca5-4df0-b13d-6a920dbeb27d"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Configure_MariaDB"}],"description":"","message_list":[],"uuid":"04e5cdf3-9f39-4d55-b969-df868a2750d6","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"722b8b0f_dag","uuid":"ceeac9c0-a632-42c6-a4b7-6f09ffce2964"},"name":"407db839_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHV_Mariadb_Install","uuid":"d99df877-a890-40e0-857a-3134f89864a2"},"retries":"0","description":"","type":"DAG","uuid":"58f5884d-d051-4045-a7a5-07e40281bf12","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"c94517ac_dag"}],"description":"","message_list":[],"uuid":"fdfbfc90-2b37-44b2-be1b-5d47329b9520","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"c94517ac_dag","uuid":"58f5884d-d051-4045-a7a5-07e40281bf12"},"name":"fa2ee8fd_runbook"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Uninstall_Crb_d99df877_a890_40e0_857a_3134f89864a2"}],"description":"","message_list":[],"uuid":"8c1bf788-d2e1-4bcd-9940-a3f9d88db022","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Package_d99df877_a890_40e0_857a_3134f89864a2","uuid":"937f4fda-e3cf-4c63-921b-e61cbeac3ae4"},"name":"SYS_GEN__Runbook_Package_d99df877_a890_40e0_857a_3134f89864a2"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"db3c5095-3972-4797-84ab-9ad30f1131cd","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHV_Mariadb_Install","uuid":"d99df877-a890-40e0-857a-3134f89864a2"},"retries":"0","description":"","type":"DAG","uuid":"5af00123-836e-4e40-8efa-08a714749ce3","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_9296bb26_cdbe_40bd_ac42_8b174a57d949","uuid":"25f11dbf-4a04-4db5-8b9c-63aaa06a940f"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_9296bb26_cdbe_40bd_ac42_8b174a57d949","uuid":"bd0c23aa-1149-4ebe-83fb-78dec47c673c"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_d99df877_a890_40e0_857a_3134f89864a2","uuid":"ae8712e7-3b68-4bc2-8908-928b91c0d020"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_9296bb26_cdbe_40bd_ac42_8b174a57d949","uuid":"25f11dbf-4a04-4db5-8b9c-63aaa06a940f"},"edge_type":"inherent","type":"","uuid":"91ea8dbd-3120-447c-9df7-696009165f25","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_9296bb26_cdbe_40bd_ac42_8b174a57d949","uuid":"bd0c23aa-1149-4ebe-83fb-78dec47c673c"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_9296bb26_cdbe_40bd_ac42_8b174a57d949","uuid":"bd0c23aa-1149-4ebe-83fb-78dec47c673c"},"edge_type":"inherent","type":"","uuid":"6c415af6-e30d-4483-b1a2-83dafb5b136c","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_d99df877_a890_40e0_857a_3134f89864a2","uuid":"ae8712e7-3b68-4bc2-8908-928b91c0d020"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_d99df877_a890_40e0_857a_3134f89864a2"},{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Single_Node","uuid":"9296bb26-cdbe-40bd-ac42-8b174a57d949"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"25f11dbf-4a04-4db5-8b9c-63aaa06a940f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"a068d42f_runbook","uuid":"2b9e76d4-937c-497f-a68a-15d59e450782"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_9296bb26_cdbe_40bd_ac42_8b174a57d949"},{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Single_Node","uuid":"9296bb26-cdbe-40bd-ac42-8b174a57d949"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"bd0c23aa-1149-4ebe-83fb-78dec47c673c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"3298ad28_runbook","uuid":"c0a1db4c-d1e3-4d71-bfd8-14c75b2023e9"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_9296bb26_cdbe_40bd_ac42_8b174a57d949"},{"target_any_local_reference":{"kind":"app_package","name":"AHV_Mariadb_Install","uuid":"d99df877-a890-40e0-857a-3134f89864a2"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"ae8712e7-3b68-4bc2-8908-928b91c0d020","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_d99df877_a890_40e0_857a_3134f89864a2","uuid":"8c1bf788-d2e1-4bcd-9940-a3f9d88db022"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_d99df877_a890_40e0_857a_3134f89864a2"}],"description":"","message_list":[],"uuid":"01b0e486-4a24-4711-b933-c89d8d785121","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_d99df877_a890_40e0_857a_3134f89864a2","uuid":"5af00123-836e-4e40-8efa-08a714749ce3"},"name":"SYS_GEN__Runbook_Package_d99df877_a890_40e0_857a_3134f89864a2"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"e4ef6ca0-3ecc-4b74-973f-be5bd34a1d72","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHV_Mariadb_Install","uuid":"d99df877-a890-40e0-857a-3134f89864a2"},"retries":"0","description":"","type":"DAG","uuid":"b5e9bf4e-56fa-497a-a9b0-0f8c6d2cb580","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_9296bb26_cdbe_40bd_ac42_8b174a57d949","uuid":"4f626dfc-9334-420e-a35d-c391299c590e"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_d99df877_a890_40e0_857a_3134f89864a2","uuid":"661f07c8-ecdc-4716-84ad-7f0279dc6067"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_9296bb26_cdbe_40bd_ac42_8b174a57d949","uuid":"4f626dfc-9334-420e-a35d-c391299c590e"},"edge_type":"inherent","type":"","uuid":"1e605d8d-b14d-4c2a-b40a-fb4342713508","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_d99df877_a890_40e0_857a_3134f89864a2","uuid":"661f07c8-ecdc-4716-84ad-7f0279dc6067"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_d99df877_a890_40e0_857a_3134f89864a2"},{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Single_Node","uuid":"9296bb26-cdbe-40bd-ac42-8b174a57d949"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"4f626dfc-9334-420e-a35d-c391299c590e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_9296bb26_cdbe_40bd_ac42_8b174a57d949","uuid":"a17d0f01-4e77-4af0-9aa6-0efd6be7513b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_9296bb26_cdbe_40bd_ac42_8b174a57d949"},{"target_any_local_reference":{"kind":"app_package","name":"AHV_Mariadb_Install","uuid":"d99df877-a890-40e0-857a-3134f89864a2"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"661f07c8-ecdc-4716-84ad-7f0279dc6067","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_d99df877_a890_40e0_857a_3134f89864a2"}],"description":"","message_list":[],"uuid":"d5bd4ba2-f80c-4dba-98ac-d6ce2b924351","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_d99df877_a890_40e0_857a_3134f89864a2","uuid":"b5e9bf4e-56fa-497a-a9b0-0f8c6d2cb580"},"name":"SYS_GEN__Runbook_Package_d99df877_a890_40e0_857a_3134f89864a2"}},{"description":"System action for starting an application","message_list":[],"uuid":"3c55bd53-1059-4f4e-9822-1f83f98b3823","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHV_Mariadb_Install","uuid":"d99df877-a890-40e0-857a-3134f89864a2"},"retries":"0","description":"","type":"DAG","uuid":"8c1bfc05-400b-4333-8b01-84bba762c43c","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_9296bb26_cdbe_40bd_ac42_8b174a57d949","uuid":"a6c38c1f-c56c-487c-a995-8f91793c243b"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_d99df877_a890_40e0_857a_3134f89864a2"},{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Single_Node","uuid":"9296bb26-cdbe-40bd-ac42-8b174a57d949"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"a6c38c1f-c56c-487c-a995-8f91793c243b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"1bf1bdf4_runbook","uuid":"801ddb39-7bb0-48aa-b330-7eb3418485f2"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_9296bb26_cdbe_40bd_ac42_8b174a57d949"}],"description":"","message_list":[],"uuid":"588521be-4297-4343-8a49-df750b6e1641","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_d99df877_a890_40e0_857a_3134f89864a2","uuid":"8c1bfc05-400b-4333-8b01-84bba762c43c"},"name":"SYS_GEN__Runbook_Package_d99df877_a890_40e0_857a_3134f89864a2"}},{"description":"System action for restarting an application","message_list":[],"uuid":"c58ed1ec-4fe5-491d-9924-3bff14201000","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHV_Mariadb_Install","uuid":"d99df877-a890-40e0-857a-3134f89864a2"},"retries":"0","description":"","type":"DAG","uuid":"b98b5443-afcb-4013-b8db-b6377c86d7d7","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_9296bb26_cdbe_40bd_ac42_8b174a57d949","uuid":"6307c432-47aa-4f44-a2f2-57d0dc7e4f40"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_d99df877_a890_40e0_857a_3134f89864a2"},{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Single_Node","uuid":"9296bb26-cdbe-40bd-ac42-8b174a57d949"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"6307c432-47aa-4f44-a2f2-57d0dc7e4f40","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"dbeb27ce_runbook","uuid":"87cb76f0-0228-4cd4-808e-9c6a8682d0ab"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_9296bb26_cdbe_40bd_ac42_8b174a57d949"}],"description":"","message_list":[],"uuid":"1652e0bf-4574-4ce9-984e-c0dc759d57ca","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_d99df877_a890_40e0_857a_3134f89864a2","uuid":"b98b5443-afcb-4013-b8db-b6377c86d7d7"},"name":"SYS_GEN__Runbook_Package_d99df877_a890_40e0_857a_3134f89864a2"}},{"description":"System action for stopping an application","message_list":[],"uuid":"9b4683ec-49cf-4778-b3fe-6dec012575e9","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHV_Mariadb_Install","uuid":"d99df877-a890-40e0-857a-3134f89864a2"},"retries":"0","description":"","type":"DAG","uuid":"27c0a51b-5e60-450e-bd8a-bd122e476f1a","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_9296bb26_cdbe_40bd_ac42_8b174a57d949","uuid":"de757752-eb3c-4177-9b9d-9d268a7c5ba4"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_d99df877_a890_40e0_857a_3134f89864a2"},{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Single_Node","uuid":"9296bb26-cdbe-40bd-ac42-8b174a57d949"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"de757752-eb3c-4177-9b9d-9d268a7c5ba4","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"a068d42f_runbook","uuid":"2b9e76d4-937c-497f-a68a-15d59e450782"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_9296bb26_cdbe_40bd_ac42_8b174a57d949"}],"description":"","message_list":[],"uuid":"796a61a8-6dc2-461a-a201-cd713f00df1e","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_d99df877_a890_40e0_857a_3134f89864a2","uuid":"27c0a51b-5e60-450e-bd8a-bd122e476f1a"},"name":"SYS_GEN__Runbook_Package_d99df877_a890_40e0_857a_3134f89864a2"}}],"message_list":[],"service_local_reference_list":[{"kind":"app_service","name":"MariaDB_Single_Node","uuid":"9296bb26-cdbe-40bd-ac42-8b174a57d949"}],"uuid":"d99df877-a890-40e0-857a-3134f89864a2","state":"ACTIVE","version":"","editables":{},"type":"DEB","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHV_Mariadb_Install","uuid":"d99df877-a890-40e0-857a-3134f89864a2"},"retries":"0","description":"","type":"DAG","uuid":"ceeac9c0-a632-42c6-a4b7-6f09ffce2964","child_tasks_local_reference_list":[{"kind":"app_task","name":"Setup Partitions","uuid":"f48895aa-fa9b-43d6-9d14-8169cb52a582"},{"kind":"app_task","name":"Install_MariaDB","uuid":"2a494f1f-826f-43a2-98b7-76fb7f0fb4bb"},{"kind":"app_task","name":"Configure_MariaDB","uuid":"9dedd154-ed1f-4462-927b-c3c19f6a8e45"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Setup Partitions","uuid":"f48895aa-fa9b-43d6-9d14-8169cb52a582"},"edge_type":"user_defined","type":"","uuid":"3c1d7397-9f40-40b3-9c15-3232471a609d","to_task_reference":{"kind":"app_task","name":"Install_MariaDB","uuid":"2a494f1f-826f-43a2-98b7-76fb7f0fb4bb"}},{"from_task_reference":{"kind":"app_task","name":"Install_MariaDB","uuid":"2a494f1f-826f-43a2-98b7-76fb7f0fb4bb"},"edge_type":"user_defined","type":"","uuid":"c5ded6d4-d27f-4b48-9a16-f959b9fd4cde","to_task_reference":{"kind":"app_task","name":"Configure_MariaDB","uuid":"9dedd154-ed1f-4462-927b-c3c19f6a8e45"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"722b8b0f_dag"},{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Single_Node","uuid":"9296bb26-cdbe-40bd-ac42-8b174a57d949"},"retries":"0","description":"","type":"EXEC","uuid":"f48895aa-fa9b-43d6-9d14-8169cb52a582","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n##############\n#\n# LVM setup script for MariaDB . 4 disks for DATA and 4 for logs\n# Data disks are 50GB | Log disks are 25GB \n#\n#############\nsudo yum -y update\nsudo yum -y install lvm2 iotop\n\n#MariaDB data\nsudo pvcreate \/dev\/sdb \/dev\/sdc \/dev\/sdd \/dev\/sde\nsudo vgcreate mariadbDataVG \/dev\/sdb \/dev\/sdd \/dev\/sdc \/dev\/sde\nsudo lvcreate -l 100%FREE -i4 -I1M -n mariadbDataLV mariadbDataVG          ## Use 1MB to avoid IO amplification \n#lvcreate -l 100%FREE -i4 -I4M -n pgDataLV pgDataVG\n\n\n#MariaDB logs\nsudo pvcreate \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo vgcreate mariadbLogVG \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo lvcreate -l 100%FREE -i2 -I1M -n mariadbLogLV mariadbLogVG            ## Use 1MB to avoid IO amplification\n#lvcreate -l 100%FREE -i2 -I4M -n pgLogLV pgLogVG\n\n\n#Disable LVM read ahead\nsudo lvchange -r 0 \/dev\/mariadbDataVG\/mariadbDataLV\nsudo lvchange -r 0 \/dev\/mariadbLogVG\/mariadbLogLV\n\n\n#Format LVMs with ext4 and use nodiscard to make sure format time is fast on Nutanix due to SCSI unmap\nsudo mkfs.ext4 -E nodiscard \/dev\/mariadbDataVG\/mariadbDataLV\nsudo mkfs.ext4 -E nodiscard \/dev\/mariadbLogVG\/mariadbLogLV\n\nsleep 30\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"d4f96641-9ca5-4df0-b13d-6a920dbeb27d"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Setup Partitions"},{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Single_Node","uuid":"9296bb26-cdbe-40bd-ac42-8b174a57d949"},"retries":"0","description":"","type":"EXEC","uuid":"2a494f1f-826f-43a2-98b7-76fb7f0fb4bb","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash -x\n\nsudo hostnamectl set-hostname \"@@{name}@@\"\n\n\necho '[mariadb]\nname = MariaDB\nbaseurl = http:\/\/yum.mariadb.org\/10.3\/rhel7-amd64\ngpgkey=https:\/\/yum.mariadb.org\/RPM-GPG-KEY-MariaDB\ngpgcheck=1' | sudo tee \/etc\/yum.repos.d\/mariadb.repo\n\nsudo yum install MariaDB-server MariaDB-client -y","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"d4f96641-9ca5-4df0-b13d-6a920dbeb27d"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install_MariaDB"},{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Single_Node","uuid":"9296bb26-cdbe-40bd-ac42-8b174a57d949"},"retries":"0","description":"","type":"EXEC","uuid":"9dedd154-ed1f-4462-927b-c3c19f6a8e45","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n# Disable selinux\nsudo setenforce 0\nsudo sed -i 's\/SELINUX=enforcing\/SELINUX=disabled\/g;s\/SELINUXTYPE=targeted\/#&\/g' \/etc\/selinux\/config\n\necho '!includedir \/etc\/my.cnf.d' | sudo tee \/etc\/my.cnf\n\necho '[mysqld]\nbinlog-format=mixed\nlog-bin=mysql-bin\ndatadir=\/mysql\/data\nsql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES\ninnodb_data_home_dir = \/mysql\/data\ninnodb_log_group_home_dir = \/mysql\/log\ninnodb_file_per_table\ntmpdir=\/mysql\/tmpdir\ninnodb_undo_directory = \/mysql\/undo\n\ndefault_tmp_storage_engine = innodb\ninnodb_log_files_in_group = 4\ninnodb_log_file_size = 1G\ninnodb_log_buffer_size = 8M\ninnodb_buffer_pool_size = 6G\nlarge-pages\ninnodb_buffer_pool_instances = 64\ninnodb_flush_method=O_DIRECT\ninnodb_flush_neighbors=0\ninnodb_flush_log_at_trx_commit=1\ninnodb_buffer_pool_dump_at_shutdown=1\ninnodb_buffer_pool_load_at_startup=1\nbulk_insert_buffer_size = 256\ninnodb_thread_concurrency = 16\n\n# Undo tablespace\ninnodb_undo_tablespaces = 5\n\n# Networking\nwait_timeout=57600\nmax_allowed_packet=1G\nsocket=\/var\/lib\/mysql\/mysql.sock\nskip-name-resolve\nport=3306\nmax_connections=1000' | sudo tee \/etc\/my.cnf.d\/nutanix.cnf\n\nsudo sed -i \"\/\\[mysqld\\]\/a server-id=100\" \/etc\/my.cnf.d\/nutanix.cnf\n\n# -*- Sysctl configuration\nmysql_grp_id=`id -g mysql`\nsudo sysctl -w vm.swappiness=0\nsudo sysctl -w vm.nr_hugepages=1024\nsudo sysctl -w vm.overcommit_memory=1\nsudo sysctl -w vm.dirty_background_ratio=5 \nsudo sysctl -w vm.dirty_ratio=15\nsudo sysctl -w vm.dirty_expire_centisecs=500\nsudo sysctl -w vm.dirty_writeback_centisecs=100\nsudo sysctl -w vm.hugetlb_shm_group=$mysql_grp_id\n\necho 'vm.swappiness=0\nvm.nr_hugepages=1024\nvm.overcommit_memory=1\nvm.dirty_background_ratio=5 \nvm.dirty_ratio=15\nvm.dirty_expire_centisecs=500\nvm.dirty_writeback_centisecs=100\nvm.hugetlb_shm_group=$mysql_grp_id' | sudo tee  -a \/etc\/sysctl.conf\n\necho \"ACTION=='add|change', SUBSYSTEM=='block', RUN+='\/bin\/sh -c \\\"\/bin\/echo 1024 > \/sys%p\/queue\/max_sectors_kb\\\"'\" | sudo tee \/etc\/udev\/rules.d\/71-block-max-sectors.rules\n#echo 1024 | sudo tee \/sys\/block\/sd?\/queue\/max_sectors_kb\n\necho \"\/dev\/mariadbDataVG\/mariadbDataLV \/mysql\/data ext4 rw,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\necho \"\/dev\/mariadbLogVG\/mariadbLogLV \/mysql\/log ext4 rw,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\nsudo mkdir -p \/mysql\/log \/mysql\/data \/mysql\/tmpdir \/mysql\/undo\nsudo mount -a\n\nsudo rm -rf \/mysql\/data\/*\nsudo mysql_install_db &>\/dev\/null\nsudo chown -R mysql:mysql \/mysql\n\nsudo systemctl enable mariadb\nsudo systemctl start mariadb\n\n# Set root password\nsudo mysqladmin password '@@{MARIADB_PASSWORD}@@'","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"d4f96641-9ca5-4df0-b13d-6a920dbeb27d"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Configure_MariaDB"}],"description":"","message_list":[],"uuid":"04e5cdf3-9f39-4d55-b969-df868a2750d6","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"722b8b0f_dag","uuid":"ceeac9c0-a632-42c6-a4b7-6f09ffce2964"},"name":"407db839_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHV_Mariadb_Install","uuid":"d99df877-a890-40e0-857a-3134f89864a2"},"retries":"0","description":"","type":"DAG","uuid":"58f5884d-d051-4045-a7a5-07e40281bf12","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"c94517ac_dag"}],"description":"","message_list":[],"uuid":"fdfbfc90-2b37-44b2-be1b-5d47329b9520","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"c94517ac_dag","uuid":"58f5884d-d051-4045-a7a5-07e40281bf12"},"name":"fa2ee8fd_runbook"}},"variable_list":[],"name":"AHV_Mariadb_Install"},{"description":"","action_list":[{"description":"System action for installing an application","message_list":[],"uuid":"60fc0a4d-d7b1-4103-9557-1dbf28dc19e0","name":"action_install","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHV_CENTOS_76","uuid":"0801ef2b-4347-4741-b232-e3df1dc5f742"},"retries":"0","description":"","type":"DAG","uuid":"de718b06-4346-4014-9d82-bb9e19871713","child_tasks_local_reference_list":[{"kind":"app_task","name":"Image Fetch task for VM","uuid":"d8eb49b7-d1cb-4d6c-bdec-6fd808f0823c"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Package_0801ef2b_4347_4741_b232_e3df1dc5f742"},{"target_any_local_reference":{"kind":"app_package","name":"AHV_CENTOS_76","uuid":"0801ef2b-4347-4741-b232-e3df1dc5f742"},"retries":"0","description":"","type":"SUBSTRATE_IMAGE_FETCH","uuid":"d8eb49b7-d1cb-4d6c-bdec-6fd808f0823c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"","name":"CENTOS_76","resources":{"image_type":"DISK_IMAGE","checksum":{"checksum_algorithm":"","type":"","checksum_value":""},"source_uri":"http:\/\/download.nutanix.com\/calm\/CentOS-7-x86_64-1810.qcow2","version":{"product_version":"","type":"","product_name":""},"architecture":"X86_64","type":""},"description":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Image Fetch task for VM"}],"description":"","message_list":[],"uuid":"5fa426be-6e9c-4898-acd1-99d102f372a9","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Package_0801ef2b_4347_4741_b232_e3df1dc5f742","uuid":"de718b06-4346-4014-9d82-bb9e19871713"},"name":"SYS_GEN__Runbook_Package_0801ef2b_4347_4741_b232_e3df1dc5f742"}},{"description":"System action for creating an application","message_list":[],"uuid":"4339b881-52b5-45e8-bbcc-a4e73d42a913","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHV_CENTOS_76","uuid":"0801ef2b-4347-4741-b232-e3df1dc5f742"},"retries":"0","description":"","type":"DAG","uuid":"ad8482c5-aaa1-42e7-944e-8e8b23864b21","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_0801ef2b_4347_4741_b232_e3df1dc5f742","uuid":"018d1b97-6bf4-4539-ba54-091b0f15d13c"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_0801ef2b_4347_4741_b232_e3df1dc5f742"},{"target_any_local_reference":{"kind":"app_package","name":"AHV_CENTOS_76","uuid":"0801ef2b-4347-4741-b232-e3df1dc5f742"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"018d1b97-6bf4-4539-ba54-091b0f15d13c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_0801ef2b_4347_4741_b232_e3df1dc5f742","uuid":"5fa426be-6e9c-4898-acd1-99d102f372a9"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_0801ef2b_4347_4741_b232_e3df1dc5f742"}],"description":"","message_list":[],"uuid":"05fe24e5-8bf1-4dec-b6d7-9e373b009a3a","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_0801ef2b_4347_4741_b232_e3df1dc5f742","uuid":"ad8482c5-aaa1-42e7-944e-8e8b23864b21"},"name":"SYS_GEN__Runbook_Package_0801ef2b_4347_4741_b232_e3df1dc5f742"}},{"description":"System action for starting an application","message_list":[],"uuid":"70fba80d-e1a8-4bf3-a958-0f6fe2ec2ef4","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHV_CENTOS_76","uuid":"0801ef2b-4347-4741-b232-e3df1dc5f742"},"retries":"0","description":"","type":"DAG","uuid":"766b18d2-4e0e-4980-9dea-a086a38200ed","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_0801ef2b_4347_4741_b232_e3df1dc5f742"}],"description":"","message_list":[],"uuid":"080c613a-1526-4661-83f9-afd887bd5f7f","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_0801ef2b_4347_4741_b232_e3df1dc5f742","uuid":"766b18d2-4e0e-4980-9dea-a086a38200ed"},"name":"SYS_GEN__Runbook_Package_0801ef2b_4347_4741_b232_e3df1dc5f742"}},{"description":"System action for restarting an application","message_list":[],"uuid":"12d026d4-8c74-45be-b923-729aa22c5489","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHV_CENTOS_76","uuid":"0801ef2b-4347-4741-b232-e3df1dc5f742"},"retries":"0","description":"","type":"DAG","uuid":"3f096f52-d660-498a-a543-24cf4b305bf6","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_0801ef2b_4347_4741_b232_e3df1dc5f742"}],"description":"","message_list":[],"uuid":"55cac68b-72aa-482a-984a-7e631ff7b11b","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_0801ef2b_4347_4741_b232_e3df1dc5f742","uuid":"3f096f52-d660-498a-a543-24cf4b305bf6"},"name":"SYS_GEN__Runbook_Package_0801ef2b_4347_4741_b232_e3df1dc5f742"}},{"description":"System action for stopping an application","message_list":[],"uuid":"ddb7bc2b-3cdd-46f5-80f3-8a726ac7e28d","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHV_CENTOS_76","uuid":"0801ef2b-4347-4741-b232-e3df1dc5f742"},"retries":"0","description":"","type":"DAG","uuid":"3cab8c19-b1c2-44c6-ac6e-f26c9be49dba","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_0801ef2b_4347_4741_b232_e3df1dc5f742"}],"description":"","message_list":[],"uuid":"0ad4d0d1-b131-4b10-8830-351e08d42d51","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_0801ef2b_4347_4741_b232_e3df1dc5f742","uuid":"3cab8c19-b1c2-44c6-ac6e-f26c9be49dba"},"name":"SYS_GEN__Runbook_Package_0801ef2b_4347_4741_b232_e3df1dc5f742"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"ed679d2a-3280-4067-b60b-503217803911","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHV_CENTOS_76","uuid":"0801ef2b-4347-4741-b232-e3df1dc5f742"},"retries":"0","description":"","type":"DAG","uuid":"e5abf2c8-4f7f-4429-b2e5-00d44c556f03","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_0801ef2b_4347_4741_b232_e3df1dc5f742"}],"description":"","message_list":[],"uuid":"d9e4272d-fbfe-443a-ae71-76289399cb21","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_0801ef2b_4347_4741_b232_e3df1dc5f742","uuid":"e5abf2c8-4f7f-4429-b2e5-00d44c556f03"},"name":"SYS_GEN__Runbook_Package_0801ef2b_4347_4741_b232_e3df1dc5f742"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"6ea8b67a-da78-40c2-95c2-eab80860dcde","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHV_CENTOS_76","uuid":"0801ef2b-4347-4741-b232-e3df1dc5f742"},"retries":"0","description":"","type":"DAG","uuid":"d8ef9da0-c054-4e44-8739-8d0772801236","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_0801ef2b_4347_4741_b232_e3df1dc5f742"}],"description":"","message_list":[],"uuid":"53c6521f-8af8-4783-ac60-7c38a6a666c3","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_0801ef2b_4347_4741_b232_e3df1dc5f742","uuid":"d8ef9da0-c054-4e44-8739-8d0772801236"},"name":"SYS_GEN__Runbook_Package_0801ef2b_4347_4741_b232_e3df1dc5f742"}}],"message_list":[],"service_local_reference_list":[],"uuid":"0801ef2b-4347-4741-b232-e3df1dc5f742","state":"ACTIVE","version":"","editables":{},"type":"SUBSTRATE_IMAGE","options":{"type":"","name":"CENTOS_76","resources":{"image_type":"DISK_IMAGE","checksum":{"checksum_algorithm":"","type":"","checksum_value":""},"source_uri":"http:\/\/download.nutanix.com\/calm\/CentOS-7-x86_64-1810.qcow2","version":{"product_version":"","type":"","product_name":""},"architecture":"X86_64","type":""},"description":""},"variable_list":[],"name":"AHV_CENTOS_76"}]},"name":"mdb_300"},"spec":{"name":"mdb_300","resources":{"service_definition_list":[{"singleton":false,"uuid":"9296bb26-cdbe-40bd-ac42-8b174a57d949","action_list":[{"uuid":"fdceb4a9-ebb8-491f-ba26-d55eaa395c99","name":"action_create","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Single_Node","uuid":"9296bb26-cdbe-40bd-ac42-8b174a57d949"},"retries":"0","description":"","uuid":"844ed4e2-4d91-456e-a31c-a6a5a62507f9","child_tasks_local_reference_list":[],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"5a264e52_dag"}],"uuid":"c4241504-cb7c-4751-9166-c8bed0f3c315","description":"","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"5a264e52_dag","uuid":"844ed4e2-4d91-456e-a31c-a6a5a62507f9"},"name":"01bb4182_runbook"},"type":"system","description":"System action for creating an application"},{"uuid":"53681845-faf1-451d-817a-3c6b093e9603","name":"action_delete","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Single_Node","uuid":"9296bb26-cdbe-40bd-ac42-8b174a57d949"},"retries":"0","description":"","uuid":"fc56d19e-c8df-45a0-9c1e-a181e34e5517","child_tasks_local_reference_list":[],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"c03b22fe_dag"}],"uuid":"c0a1db4c-d1e3-4d71-bfd8-14c75b2023e9","description":"","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"c03b22fe_dag","uuid":"fc56d19e-c8df-45a0-9c1e-a181e34e5517"},"name":"3298ad28_runbook"},"type":"system","description":"System action for deleting an application. Deletes created VMs as well"},{"uuid":"d52650a2-2d5b-4156-ae2d-b314cd2404c6","name":"action_start","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Single_Node","uuid":"9296bb26-cdbe-40bd-ac42-8b174a57d949"},"retries":"0","description":"","uuid":"30f8fc17-fe97-4482-8cc2-dda33c17af1f","child_tasks_local_reference_list":[],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"6b1066a1_dag"}],"uuid":"801ddb39-7bb0-48aa-b330-7eb3418485f2","description":"","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"6b1066a1_dag","uuid":"30f8fc17-fe97-4482-8cc2-dda33c17af1f"},"name":"1bf1bdf4_runbook"},"type":"system","description":"System action for starting an application"},{"uuid":"b068247e-946e-49fb-84f4-7dd0fc9967cd","name":"action_stop","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Single_Node","uuid":"9296bb26-cdbe-40bd-ac42-8b174a57d949"},"retries":"0","description":"","uuid":"f050277c-3bd9-4a42-a09a-a16c7323124a","child_tasks_local_reference_list":[],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"af3a3abc_dag"}],"uuid":"2b9e76d4-937c-497f-a68a-15d59e450782","description":"","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"af3a3abc_dag","uuid":"f050277c-3bd9-4a42-a09a-a16c7323124a"},"name":"a068d42f_runbook"},"type":"system","description":"System action for stopping an application"},{"uuid":"76977b8e-023c-488f-99ae-e713778c5cda","name":"action_restart","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Single_Node","uuid":"9296bb26-cdbe-40bd-ac42-8b174a57d949"},"retries":"0","description":"","uuid":"b47c0f33-3770-4228-9d68-1bf34d0af95a","child_tasks_local_reference_list":[],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"e676c8c0_dag"}],"uuid":"87cb76f0-0228-4cd4-808e-9c6a8682d0ab","description":"","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"e676c8c0_dag","uuid":"b47c0f33-3770-4228-9d68-1bf34d0af95a"},"name":"dbeb27ce_runbook"},"type":"system","description":"System action for restarting an application"}],"description":"","depends_on_list":[],"port_list":[],"tier":"","variable_list":[],"name":"MariaDB_Single_Node"}],"substrate_definition_list":[{"description":"","action_list":[],"uuid":"50d2be11-d5d3-4f79-9d24-5a525fbbb706","readiness_probe":{"connection_type":"SSH","retries":"5","disable_readiness_probe":false,"timeout_secs":"300","address":"@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@","delay_secs":"60","connection_port":22,"login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"d4f96641-9ca5-4df0-b13d-6a920dbeb27d"}},"editables":{"readiness_probe":{"connection_type":true,"retries":true,"delay_secs":true,"connection_port":true,"timeout_secs":null},"create_spec":{"categories":true,"resources":{"nic_list":{"0":{"subnet_reference":true}},"serial_port_list":{},"num_vcpus_per_socket":true,"num_sockets":true,"memory_size_mib":true,"guest_customization":true,"disk_list":{"1":{"disk_size_mib":true},"0":{"device_properties":{"disk_address":{}}},"3":{"disk_size_mib":true},"2":{"disk_size_mib":true},"5":{"disk_size_mib":true},"4":{"disk_size_mib":true},"7":{"disk_size_mib":true},"6":{"disk_size_mib":true},"8":{"disk_size_mib":true}}},"name":true}},"os_type":"Linux","type":"AHV_VM","create_spec":{"name":"MariaDB-@@{calm_time}@@","resources":{"nic_list":[{"nic_type":"NORMAL_NIC","ip_endpoint_list":[],"network_function_chain_reference":null,"network_function_nic_type":"INGRESS","mac_address":"","subnet_reference":{"kind":"subnet","type":"","name":"","uuid":""},"type":""}],"serial_port_list":[],"guest_tools":null,"num_vcpus_per_socket":1,"num_sockets":2,"gpu_list":[],"memory_size_mib":16384,"parent_reference":null,"hardware_clock_timezone":"","guest_customization":{"cloud_init":{"meta_data":"","type":"","user_data":"#cloud-config\nusers:\n  - name: centos\n    ssh-authorized-keys:\n      - @@{CENTOS.public_key}@@\n    sudo: ['ALL=(ALL) NOPASSWD:ALL']"},"type":"","sysprep":null},"power_state":"ON","type":"","boot_config":{"boot_device":{"type":"","disk_address":{"type":"","device_index":0,"adapter_type":"SCSI"}},"type":"","mac_address":""},"disk_list":[{"data_source_reference":{"kind":"app_package","type":"","name":"AHV_CENTOS_76","uuid":"0801ef2b-4347-4741-b232-e3df1dc5f742"},"type":"","disk_size_mib":0,"volume_group_reference":null,"device_properties":{"type":"","disk_address":{"type":"","device_index":0,"adapter_type":"SCSI"},"device_type":"DISK"}},{"data_source_reference":null,"type":"","disk_size_mib":51200,"volume_group_reference":null,"device_properties":{"type":"","disk_address":{"type":"","device_index":1,"adapter_type":"SCSI"},"device_type":"DISK"}},{"data_source_reference":null,"type":"","disk_size_mib":51200,"volume_group_reference":null,"device_properties":{"type":"","disk_address":{"type":"","device_index":2,"adapter_type":"SCSI"},"device_type":"DISK"}},{"data_source_reference":null,"type":"","disk_size_mib":51200,"volume_group_reference":null,"device_properties":{"type":"","disk_address":{"type":"","device_index":3,"adapter_type":"SCSI"},"device_type":"DISK"}},{"data_source_reference":null,"type":"","disk_size_mib":51200,"volume_group_reference":null,"device_properties":{"type":"","disk_address":{"type":"","device_index":4,"adapter_type":"SCSI"},"device_type":"DISK"}},{"data_source_reference":null,"type":"","disk_size_mib":25600,"volume_group_reference":null,"device_properties":{"type":"","disk_address":{"type":"","device_index":5,"adapter_type":"SCSI"},"device_type":"DISK"}},{"data_source_reference":null,"type":"","disk_size_mib":25600,"volume_group_reference":null,"device_properties":{"type":"","disk_address":{"type":"","device_index":6,"adapter_type":"SCSI"},"device_type":"DISK"}},{"data_source_reference":null,"type":"","disk_size_mib":25600,"volume_group_reference":null,"device_properties":{"type":"","disk_address":{"type":"","device_index":7,"adapter_type":"SCSI"},"device_type":"DISK"}},{"data_source_reference":null,"type":"","disk_size_mib":25600,"volume_group_reference":null,"device_properties":{"type":"","disk_address":{"type":"","device_index":8,"adapter_type":"SCSI"},"device_type":"DISK"}}]},"availability_zone_reference":null,"backup_policy":null,"type":"","cluster_reference":null,"categories":""},"variable_list":[],"name":"AHV_Centos_Mariadb"}],"credential_definition_list":[{"username":"centos","uuid":"d4f96641-9ca5-4df0-b13d-6a920dbeb27d","name":"CENTOS","secret":{"attrs":{"is_secret_modified":false,"secret_reference":{"uuid":"5f51d904-d430-41fb-951a-fda1a80c73aa"}}},"type":"KEY","description":""}],"type":"USER","app_profile_list":[{"deployment_create_list":[{"uuid":"f5a07b18-7834-405a-b162-f4e507005676","action_list":[],"package_local_reference_list":[{"kind":"app_package","name":"AHV_Mariadb_Install","uuid":"d99df877-a890-40e0-857a-3134f89864a2"}],"description":"","name":"a7b3d65f_deployment","min_replicas":"1","published_service_local_reference_list":[],"max_replicas":"1","substrate_local_reference":{"kind":"app_substrate","name":"AHV_Centos_Mariadb","uuid":"50d2be11-d5d3-4f79-9d24-5a525fbbb706"},"type":"GREENFIELD","variable_list":[],"depends_on_list":[]}],"uuid":"2293d93f-8d56-4268-b27f-6fed66d6451d","action_list":[],"description":"","variable_list":[{"val_type":"STRING","is_mandatory":false,"name":"MARIADB_PASSWORD","data_type":"BASE","uuid":"040cd9a1-1aa1-4cb9-a150-44e348b97b19","label":"","attrs":{"is_secret_modified":true,"secret_reference":{"uuid":"55f730b2-5ec7-4a28-bf2d-b907d27bd257"}},"editables":{"value":true},"is_hidden":false,"type":"SECRET","description":""}],"name":"Nutanix"}],"published_service_definition_list":[],"default_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"d4f96641-9ca5-4df0-b13d-6a920dbeb27d"},"package_definition_list":[{"description":"","action_list":[],"service_local_reference_list":[{"kind":"app_service","name":"MariaDB_Single_Node","uuid":"9296bb26-cdbe-40bd-ac42-8b174a57d949"}],"uuid":"d99df877-a890-40e0-857a-3134f89864a2","version":"","type":"DEB","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHV_Mariadb_Install","uuid":"d99df877-a890-40e0-857a-3134f89864a2"},"retries":"0","name":"722b8b0f_dag","type":"DAG","uuid":"ceeac9c0-a632-42c6-a4b7-6f09ffce2964","child_tasks_local_reference_list":[{"kind":"app_task","name":"Setup Partitions","uuid":"f48895aa-fa9b-43d6-9d14-8169cb52a582"},{"kind":"app_task","name":"Install_MariaDB","uuid":"2a494f1f-826f-43a2-98b7-76fb7f0fb4bb"},{"kind":"app_task","name":"Configure_MariaDB","uuid":"9dedd154-ed1f-4462-927b-c3c19f6a8e45"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Setup Partitions","uuid":"f48895aa-fa9b-43d6-9d14-8169cb52a582"},"edge_type":"user_defined","type":"","uuid":"3c1d7397-9f40-40b3-9c15-3232471a609d","to_task_reference":{"kind":"app_task","name":"Install_MariaDB","uuid":"2a494f1f-826f-43a2-98b7-76fb7f0fb4bb"}},{"from_task_reference":{"kind":"app_task","name":"Install_MariaDB","uuid":"2a494f1f-826f-43a2-98b7-76fb7f0fb4bb"},"edge_type":"user_defined","type":"","uuid":"c5ded6d4-d27f-4b48-9a16-f959b9fd4cde","to_task_reference":{"kind":"app_task","name":"Configure_MariaDB","uuid":"9dedd154-ed1f-4462-927b-c3c19f6a8e45"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"description":""},{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Single_Node","uuid":"9296bb26-cdbe-40bd-ac42-8b174a57d949"},"retries":"0","name":"Setup Partitions","type":"EXEC","uuid":"f48895aa-fa9b-43d6-9d14-8169cb52a582","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n##############\n#\n# LVM setup script for MariaDB . 4 disks for DATA and 4 for logs\n# Data disks are 50GB | Log disks are 25GB \n#\n#############\nsudo yum -y update\nsudo yum -y install lvm2 iotop\n\n#MariaDB data\nsudo pvcreate \/dev\/sdb \/dev\/sdc \/dev\/sdd \/dev\/sde\nsudo vgcreate mariadbDataVG \/dev\/sdb \/dev\/sdd \/dev\/sdc \/dev\/sde\nsudo lvcreate -l 100%FREE -i4 -I1M -n mariadbDataLV mariadbDataVG          ## Use 1MB to avoid IO amplification \n#lvcreate -l 100%FREE -i4 -I4M -n pgDataLV pgDataVG\n\n\n#MariaDB logs\nsudo pvcreate \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo vgcreate mariadbLogVG \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo lvcreate -l 100%FREE -i2 -I1M -n mariadbLogLV mariadbLogVG            ## Use 1MB to avoid IO amplification\n#lvcreate -l 100%FREE -i2 -I4M -n pgLogLV pgLogVG\n\n\n#Disable LVM read ahead\nsudo lvchange -r 0 \/dev\/mariadbDataVG\/mariadbDataLV\nsudo lvchange -r 0 \/dev\/mariadbLogVG\/mariadbLogLV\n\n\n#Format LVMs with ext4 and use nodiscard to make sure format time is fast on Nutanix due to SCSI unmap\nsudo mkfs.ext4 -E nodiscard \/dev\/mariadbDataVG\/mariadbDataLV\nsudo mkfs.ext4 -E nodiscard \/dev\/mariadbLogVG\/mariadbLogLV\n\nsleep 30\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"d4f96641-9ca5-4df0-b13d-6a920dbeb27d"}},"timeout_secs":"0","message_list":[],"variable_list":[],"description":""},{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Single_Node","uuid":"9296bb26-cdbe-40bd-ac42-8b174a57d949"},"retries":"0","name":"Install_MariaDB","type":"EXEC","uuid":"2a494f1f-826f-43a2-98b7-76fb7f0fb4bb","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash -x\n\nsudo hostnamectl set-hostname \"@@{name}@@\"\n\n\necho '[mariadb]\nname = MariaDB\nbaseurl = http:\/\/yum.mariadb.org\/10.3\/rhel7-amd64\ngpgkey=https:\/\/yum.mariadb.org\/RPM-GPG-KEY-MariaDB\ngpgcheck=1' | sudo tee \/etc\/yum.repos.d\/mariadb.repo\n\nsudo yum install MariaDB-server MariaDB-client -y","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"d4f96641-9ca5-4df0-b13d-6a920dbeb27d"}},"timeout_secs":"0","message_list":[],"variable_list":[],"description":""},{"target_any_local_reference":{"kind":"app_service","name":"MariaDB_Single_Node","uuid":"9296bb26-cdbe-40bd-ac42-8b174a57d949"},"retries":"0","name":"Configure_MariaDB","type":"EXEC","uuid":"9dedd154-ed1f-4462-927b-c3c19f6a8e45","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n# Disable selinux\nsudo setenforce 0\nsudo sed -i 's\/SELINUX=enforcing\/SELINUX=disabled\/g;s\/SELINUXTYPE=targeted\/#&\/g' \/etc\/selinux\/config\n\necho '!includedir \/etc\/my.cnf.d' | sudo tee \/etc\/my.cnf\n\necho '[mysqld]\nbinlog-format=mixed\nlog-bin=mysql-bin\ndatadir=\/mysql\/data\nsql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES\ninnodb_data_home_dir = \/mysql\/data\ninnodb_log_group_home_dir = \/mysql\/log\ninnodb_file_per_table\ntmpdir=\/mysql\/tmpdir\ninnodb_undo_directory = \/mysql\/undo\n\ndefault_tmp_storage_engine = innodb\ninnodb_log_files_in_group = 4\ninnodb_log_file_size = 1G\ninnodb_log_buffer_size = 8M\ninnodb_buffer_pool_size = 6G\nlarge-pages\ninnodb_buffer_pool_instances = 64\ninnodb_flush_method=O_DIRECT\ninnodb_flush_neighbors=0\ninnodb_flush_log_at_trx_commit=1\ninnodb_buffer_pool_dump_at_shutdown=1\ninnodb_buffer_pool_load_at_startup=1\nbulk_insert_buffer_size = 256\ninnodb_thread_concurrency = 16\n\n# Undo tablespace\ninnodb_undo_tablespaces = 5\n\n# Networking\nwait_timeout=57600\nmax_allowed_packet=1G\nsocket=\/var\/lib\/mysql\/mysql.sock\nskip-name-resolve\nport=3306\nmax_connections=1000' | sudo tee \/etc\/my.cnf.d\/nutanix.cnf\n\nsudo sed -i \"\/\\[mysqld\\]\/a server-id=100\" \/etc\/my.cnf.d\/nutanix.cnf\n\n# -*- Sysctl configuration\nmysql_grp_id=`id -g mysql`\nsudo sysctl -w vm.swappiness=0\nsudo sysctl -w vm.nr_hugepages=1024\nsudo sysctl -w vm.overcommit_memory=1\nsudo sysctl -w vm.dirty_background_ratio=5 \nsudo sysctl -w vm.dirty_ratio=15\nsudo sysctl -w vm.dirty_expire_centisecs=500\nsudo sysctl -w vm.dirty_writeback_centisecs=100\nsudo sysctl -w vm.hugetlb_shm_group=$mysql_grp_id\n\necho 'vm.swappiness=0\nvm.nr_hugepages=1024\nvm.overcommit_memory=1\nvm.dirty_background_ratio=5 \nvm.dirty_ratio=15\nvm.dirty_expire_centisecs=500\nvm.dirty_writeback_centisecs=100\nvm.hugetlb_shm_group=$mysql_grp_id' | sudo tee  -a \/etc\/sysctl.conf\n\necho \"ACTION=='add|change', SUBSYSTEM=='block', RUN+='\/bin\/sh -c \\\"\/bin\/echo 1024 > \/sys%p\/queue\/max_sectors_kb\\\"'\" | sudo tee \/etc\/udev\/rules.d\/71-block-max-sectors.rules\n#echo 1024 | sudo tee \/sys\/block\/sd?\/queue\/max_sectors_kb\n\necho \"\/dev\/mariadbDataVG\/mariadbDataLV \/mysql\/data ext4 rw,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\necho \"\/dev\/mariadbLogVG\/mariadbLogLV \/mysql\/log ext4 rw,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\nsudo mkdir -p \/mysql\/log \/mysql\/data \/mysql\/tmpdir \/mysql\/undo\nsudo mount -a\n\nsudo rm -rf \/mysql\/data\/*\nsudo mysql_install_db &>\/dev\/null\nsudo chown -R mysql:mysql \/mysql\n\nsudo systemctl enable mariadb\nsudo systemctl start mariadb\n\n# Set root password\nsudo mysqladmin password '@@{MARIADB_PASSWORD}@@'","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"d4f96641-9ca5-4df0-b13d-6a920dbeb27d"}},"timeout_secs":"0","message_list":[],"variable_list":[],"description":""}],"description":"","uuid":"04e5cdf3-9f39-4d55-b969-df868a2750d6","state":"ACTIVE","variable_list":[],"message_list":[],"main_task_local_reference":{"kind":"app_task","name":"722b8b0f_dag","uuid":"ceeac9c0-a632-42c6-a4b7-6f09ffce2964"},"name":"407db839_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHV_Mariadb_Install","uuid":"d99df877-a890-40e0-857a-3134f89864a2"},"retries":"0","name":"c94517ac_dag","type":"DAG","uuid":"58f5884d-d051-4045-a7a5-07e40281bf12","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"description":""}],"description":"","uuid":"fdfbfc90-2b37-44b2-be1b-5d47329b9520","state":"ACTIVE","variable_list":[],"message_list":[],"main_task_local_reference":{"kind":"app_task","name":"c94517ac_dag","uuid":"58f5884d-d051-4045-a7a5-07e40281bf12"},"name":"fa2ee8fd_runbook"}},"variable_list":[],"name":"AHV_Mariadb_Install"},{"description":"","action_list":[],"service_local_reference_list":[],"uuid":"0801ef2b-4347-4741-b232-e3df1dc5f742","version":"","type":"SUBSTRATE_IMAGE","options":{"type":"","name":"CENTOS_76","resources":{"image_type":"DISK_IMAGE","checksum":{"checksum_algorithm":"","type":"","checksum_value":""},"source_uri":"http:\/\/download.nutanix.com\/calm\/CentOS-7-x86_64-1810.qcow2","version":{"product_version":"","type":"","product_name":""},"architecture":"X86_64","type":""},"description":""},"variable_list":[],"name":"AHV_CENTOS_76"}],"client_attrs":{"None":{"y":219,"x":698.9083251953},"f5a07b18-7834-405a-b162-f4e507005676":{"y":280,"x":471.5}}},"description":"* sudo mysqladmin password $${MARIADB_PASSWORD}}\n* default password [ nutanix\/4u ]"},"api_version":"3.0","metadata":{"last_update_time":"1558324100579138","categories_mapping":{"AppFamily":["Databases"]},"kind":"blueprint","uuid":"c5e33a42-48ed-4bfb-9598-41b3d78f5891","owner_reference":{"kind":"user","uuid":"00000000-0000-0000-0000-000000000000","name":"admin"},"project_reference":{"kind":"project","name":"default","uuid":"209e0a42-6f2d-4999-9a9b-5aa705d25661"},"spec_version":0,"creation_time":"1558324100579138","categories":{"AppFamily":"Databases"},"name":"mdb_300"}}