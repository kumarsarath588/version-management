{"status":{"description":"* [HYCU](https:\/\/@@{AHV_HYCU.address}@@:8443)","source_mpi":"","state":"ACTIVE","is_cloned":false,"message_list":[],"resources":{"service_definition_list":[{"port_list":[],"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"19f77702-13ee-433b-8510-848ab3299600","name":"action_create","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"HYCU","uuid":"68544437-203f-42d3-88d3-42dd45239c71"},"retries":"0","description":"","type":"DAG","uuid":"c68c5a89-9159-4e37-a362-2709c839faed","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"0a8750e2_dag"}],"description":"","message_list":[],"uuid":"fda62ab9-19b2-4886-a95d-8e7b014a6f10","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"0a8750e2_dag","uuid":"c68c5a89-9159-4e37-a362-2709c839faed"},"name":"124cb92b_runbook"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"6606706b-8334-4171-b313-5693dc7c2454","name":"action_delete","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"HYCU","uuid":"68544437-203f-42d3-88d3-42dd45239c71"},"retries":"0","description":"","type":"DAG","uuid":"4c4dda79-47c8-44d5-a867-365c3064d10d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"c9368241_dag"}],"description":"","message_list":[],"uuid":"3f1b1e99-d64d-4a02-9040-d9d26a0d4bee","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"c9368241_dag","uuid":"4c4dda79-47c8-44d5-a867-365c3064d10d"},"name":"ebbad80f_runbook"}},{"description":"System action for starting an application","message_list":[],"uuid":"b9b7d6e9-4e8b-4c94-9d12-7fd64619616e","name":"action_start","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"HYCU","uuid":"68544437-203f-42d3-88d3-42dd45239c71"},"retries":"0","description":"","type":"DAG","uuid":"265118a6-53c0-49b4-9a2c-524f3e8cd12f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"6ed68e83_dag"}],"description":"","message_list":[],"uuid":"1281802f-d78c-4d80-b265-ecc7ec11827f","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"6ed68e83_dag","uuid":"265118a6-53c0-49b4-9a2c-524f3e8cd12f"},"name":"d8e5204b_runbook"}},{"description":"System action for stopping an application","message_list":[],"uuid":"5edf2f8c-62a3-4a42-a88d-67c59cee80c5","name":"action_stop","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"HYCU","uuid":"68544437-203f-42d3-88d3-42dd45239c71"},"retries":"0","description":"","type":"DAG","uuid":"d1cf7960-8365-4d4b-ba5d-9027aed8a5a3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"13c3aba6_dag"}],"description":"","message_list":[],"uuid":"26933329-b25c-4aba-8532-ec59b2933534","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"13c3aba6_dag","uuid":"d1cf7960-8365-4d4b-ba5d-9027aed8a5a3"},"name":"f6b78719_runbook"}},{"description":"System action for restarting an application","message_list":[],"uuid":"130b8937-68e6-4cc0-9f1e-ed1186afdf61","name":"action_restart","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"HYCU","uuid":"68544437-203f-42d3-88d3-42dd45239c71"},"retries":"0","description":"","type":"DAG","uuid":"0c7b37a3-aa63-4b44-bd64-334f6b6b416b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"fdda3fb0_dag"}],"description":"","message_list":[],"uuid":"f5f5d052-a9c2-4e4e-9cfb-7e961c2d2f54","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"fdda3fb0_dag","uuid":"0c7b37a3-aa63-4b44-bd64-334f6b6b416b"},"name":"b85cb2cc_runbook"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"e528d31a-9a8b-4cf2-96b3-9043ebf01438","name":"action_soft_delete","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"HYCU","uuid":"68544437-203f-42d3-88d3-42dd45239c71"},"retries":"0","description":"","type":"DAG","uuid":"34196805-1c82-4ceb-9054-9ceca4cf72ed","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Service_Element_Delete_2088365f_88eb_49f4_b2c5_dd2887b746be","uuid":"691571d6-77a5-451e-ae74-cc60910d5d71"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Service_2088365f_88eb_49f4_b2c5_dd2887b746be"},{"target_any_local_reference":{"kind":"app_service","name":"HYCU","uuid":"68544437-203f-42d3-88d3-42dd45239c71"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"691571d6-77a5-451e-ae74-cc60910d5d71","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Service_Element_Delete_2088365f_88eb_49f4_b2c5_dd2887b746be"}],"description":"","message_list":[],"uuid":"7395b6df-94ca-4cb9-a790-84bf1ad599e4","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Service_2088365f_88eb_49f4_b2c5_dd2887b746be","uuid":"34196805-1c82-4ceb-9054-9ceca4cf72ed"},"name":"SYS_GEN__Runbook_Service_2088365f_88eb_49f4_b2c5_dd2887b746be"}}],"message_list":[],"uuid":"68544437-203f-42d3-88d3-42dd45239c71","state":"ACTIVE","depends_on_list":[],"editables":{},"tier":"","singleton":false,"variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"4ba6ea9e-e8ab-4d84-9c7f-e106ab2f4f3e","value":"","label":"","state":"ACTIVE","attrs":{"type":""},"editables":{},"is_hidden":false,"type":"LOCAL","options":{},"name":"TARGET_IQN"},{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"9141018d-bc09-4eb5-ac63-a1bbcc4b9b48","value":"","label":"","state":"ACTIVE","attrs":{"type":""},"editables":{},"is_hidden":false,"type":"LOCAL","options":{},"name":"INITIATOR_IQN"}],"name":"HYCU"}],"substrate_definition_list":[{"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"6c349d3b-c07e-4f38-8b07-9b6fe2d7c6e4","name":"action_create","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AHV_HYCU","uuid":"5eab0b4b-cf59-43c2-8532-41e270d80e56"},"retries":"0","description":"","type":"DAG","uuid":"8c686ab1-e273-41c1-bde2-35117c0c8c89","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Nutanix_Provision_5eab0b4b_cf59_43c2_8532_41e270d80e56","uuid":"d5b6933c-534f-4ab8-9b19-99d8a29ff93d"},{"kind":"app_task","name":"SYS_GEN__check_login_for_AHV_HYCU_5eab0b4b_cf59_43c2_8532_41e270d80e56","uuid":"d12b9258-3af4-433a-831d-9e99e3687d60"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Nutanix_Provision_5eab0b4b_cf59_43c2_8532_41e270d80e56","uuid":"d5b6933c-534f-4ab8-9b19-99d8a29ff93d"},"edge_type":"inherent","type":"","uuid":"458dde33-5539-4782-b8a8-d138abb685b7","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_AHV_HYCU_5eab0b4b_cf59_43c2_8532_41e270d80e56","uuid":"d12b9258-3af4-433a-831d-9e99e3687d60"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHV_HYCU","uuid":"5eab0b4b-cf59-43c2-8532-41e270d80e56"},"retries":"0","description":"","type":"PROVISION_NUTANIX","uuid":"d5b6933c-534f-4ab8-9b19-99d8a29ff93d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"name":"hycu-@@{calm_time}@@","categories":"","availability_zone_reference":null,"backup_policy":null,"type":"","cluster_reference":null,"resources":{"nic_list":[{"nic_type":"NORMAL_NIC","ip_endpoint_list":[{"ip":"@@{HYCU_IP}@@","type":"ASSIGNED"}],"network_function_chain_reference":null,"network_function_nic_type":"INGRESS","mac_address":"","subnet_reference":{"kind":"subnet","type":"","name":"","uuid":"099dbe61-2c00-4964-9567-f547ec224e10"},"type":""}],"parent_reference":null,"guest_tools":null,"num_vcpus_per_socket":1,"num_sockets":4,"serial_port_list":[],"gpu_list":[],"memory_size_mib":4096,"power_state":"ON","hardware_clock_timezone":"","guest_customization":{"cloud_init":{"meta_data":"","type":"","user_data":"#cloud-config\nbootcmd:\n- \/opt\/grizzly\/bin\/cloud_init_setup.sh @@{HYCU_HOSTNAME}@@ @@{HYCU_IP}@@\/@@{HYCU_PREFIX}@@ @@{HYCU_GATEWAY}@@ @@{HYCU_DNS}@@ @@{HYCU_DOMAIN}@@"},"type":"","sysprep":null},"type":"","boot_config":{"boot_device":{"type":"","disk_address":{"adapter_type":"SCSI","device_index":0,"type":""}},"type":"","mac_address":""},"disk_list":[{"data_source_reference":{"kind":"app_package","type":"","name":"HYCU_3_5_1","uuid":"5c74d4e1-b982-417b-b4b7-1e80c10e96a0"},"type":"","disk_size_mib":0,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":0,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":32768,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":1,"type":""}}}]}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Nutanix_Provision_5eab0b4b_cf59_43c2_8532_41e270d80e56"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHV_HYCU","uuid":"5eab0b4b-cf59-43c2-8532-41e270d80e56"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"d12b9258-3af4-433a-831d-9e99e3687d60","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"300","address":"@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_AHV_HYCU_5eab0b4b_cf59_43c2_8532_41e270d80e56"}],"description":"","message_list":[],"uuid":"a7c3392f-fd4b-4430-9ef6-8039bb3d1cad","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7","uuid":"8c686ab1-e273-41c1-bde2-35117c0c8c89"},"name":"SYS_GEN__Runbook_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7"}},{"description":"System action for powering on an application","message_list":[],"uuid":"996ff5c8-fca8-4c81-ba25-decefc1ffae9","name":"action_poweron","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AHV_HYCU","uuid":"5eab0b4b-cf59-43c2-8532-41e270d80e56"},"retries":"0","description":"","type":"DAG","uuid":"210a07fe-b088-4a4d-b761-8e892e0f56df","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Nutanix_Operation_PowerOn_5eab0b4b_cf59_43c2_8532_41e270d80e56","uuid":"b39ec3a7-65b9-4b20-93c2-4f4c4cfae52b"},{"kind":"app_task","name":"SYS_GEN__check_login_for_AHV_HYCU_5eab0b4b_cf59_43c2_8532_41e270d80e56","uuid":"6e11e4f4-1774-4630-8334-17604db92ed0"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Nutanix_Operation_PowerOn_5eab0b4b_cf59_43c2_8532_41e270d80e56","uuid":"b39ec3a7-65b9-4b20-93c2-4f4c4cfae52b"},"edge_type":"inherent","type":"","uuid":"97a88bba-d5bc-4426-b2bf-ffcf9902713e","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_AHV_HYCU_5eab0b4b_cf59_43c2_8532_41e270d80e56","uuid":"6e11e4f4-1774-4630-8334-17604db92ed0"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHV_HYCU","uuid":"5eab0b4b-cf59-43c2-8532-41e270d80e56"},"retries":"0","description":"","type":"VMOPERATION_NUTANIX","uuid":"b39ec3a7-65b9-4b20-93c2-4f4c4cfae52b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Nutanix_Operation_PowerOn_5eab0b4b_cf59_43c2_8532_41e270d80e56"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHV_HYCU","uuid":"5eab0b4b-cf59-43c2-8532-41e270d80e56"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"6e11e4f4-1774-4630-8334-17604db92ed0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"300","address":"@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_AHV_HYCU_5eab0b4b_cf59_43c2_8532_41e270d80e56"}],"description":"","message_list":[],"uuid":"ac6f0677-fb28-478c-b308-cddb78a2e597","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7","uuid":"210a07fe-b088-4a4d-b761-8e892e0f56df"},"name":"SYS_GEN__Runbook_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7"}},{"description":"System action for restarting an application","message_list":[],"uuid":"8410df46-b604-467d-89c1-a0dbe279d366","name":"action_restart","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AHV_HYCU","uuid":"5eab0b4b-cf59-43c2-8532-41e270d80e56"},"retries":"0","description":"","type":"DAG","uuid":"6b09f776-abbb-4c5a-8cca-a2f0612769d5","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Nutanix_Operation_Restart_5eab0b4b_cf59_43c2_8532_41e270d80e56","uuid":"5a675713-88a5-4be5-9a2c-b17d048a91ce"},{"kind":"app_task","name":"SYS_GEN__check_login_for_AHV_HYCU_5eab0b4b_cf59_43c2_8532_41e270d80e56","uuid":"923bf9aa-5bd2-4357-956c-4a0724308620"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Nutanix_Operation_Restart_5eab0b4b_cf59_43c2_8532_41e270d80e56","uuid":"5a675713-88a5-4be5-9a2c-b17d048a91ce"},"edge_type":"inherent","type":"","uuid":"c0196756-f2b7-425d-823a-167b58ee8a45","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_AHV_HYCU_5eab0b4b_cf59_43c2_8532_41e270d80e56","uuid":"923bf9aa-5bd2-4357-956c-4a0724308620"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHV_HYCU","uuid":"5eab0b4b-cf59-43c2-8532-41e270d80e56"},"retries":"0","description":"","type":"VMOPERATION_NUTANIX","uuid":"5a675713-88a5-4be5-9a2c-b17d048a91ce","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Nutanix_Operation_Restart_5eab0b4b_cf59_43c2_8532_41e270d80e56"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHV_HYCU","uuid":"5eab0b4b-cf59-43c2-8532-41e270d80e56"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"923bf9aa-5bd2-4357-956c-4a0724308620","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"300","address":"@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_AHV_HYCU_5eab0b4b_cf59_43c2_8532_41e270d80e56"}],"description":"","message_list":[],"uuid":"f80bedb0-cb2e-4cbd-9723-1d98052da2b8","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7","uuid":"6b09f776-abbb-4c5a-8cca-a2f0612769d5"},"name":"SYS_GEN__Runbook_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7"}},{"description":"System action for suspending an application","message_list":[],"uuid":"abd447a6-abf2-4a8a-9ff7-fb2254a109e1","name":"action_suspend","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AHV_HYCU","uuid":"5eab0b4b-cf59-43c2-8532-41e270d80e56"},"retries":"0","description":"","type":"DAG","uuid":"4479d383-64db-43d2-a933-9af0aab93bd7","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7"}],"description":"","message_list":[],"uuid":"677801bb-ab93-41bd-961f-3608b5e454d6","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7","uuid":"4479d383-64db-43d2-a933-9af0aab93bd7"},"name":"SYS_GEN__Runbook_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7"}},{"description":"System action for modifying an application","message_list":[],"uuid":"f2bd567c-d41d-4231-9cfb-60ce0ad8112d","name":"action_modify","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AHV_HYCU","uuid":"5eab0b4b-cf59-43c2-8532-41e270d80e56"},"retries":"0","description":"","type":"DAG","uuid":"5028cf8e-7fcb-4131-892f-e9fe85bfc880","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7"}],"description":"","message_list":[],"uuid":"519e5114-1df3-45e0-aa40-9a4a76636485","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7","uuid":"5028cf8e-7fcb-4131-892f-e9fe85bfc880"},"name":"SYS_GEN__Runbook_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7"}},{"description":"System action for powering off an application","message_list":[],"uuid":"d219fd8c-d59f-47ed-81d5-f7c4d4b446a7","name":"action_poweroff","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AHV_HYCU","uuid":"5eab0b4b-cf59-43c2-8532-41e270d80e56"},"retries":"0","description":"","type":"DAG","uuid":"194e4f0c-7b07-482e-aac9-911df6815ad5","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Nutanix_Operation_PowerOff_5eab0b4b_cf59_43c2_8532_41e270d80e56","uuid":"c308c2f1-62d3-4295-af72-4e738eb4f6c3"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHV_HYCU","uuid":"5eab0b4b-cf59-43c2-8532-41e270d80e56"},"retries":"0","description":"","type":"VMOPERATION_NUTANIX","uuid":"c308c2f1-62d3-4295-af72-4e738eb4f6c3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Nutanix_Operation_PowerOff_5eab0b4b_cf59_43c2_8532_41e270d80e56"}],"description":"","message_list":[],"uuid":"903e3a0d-e347-4eb2-a197-795fb87b7a9f","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7","uuid":"194e4f0c-7b07-482e-aac9-911df6815ad5"},"name":"SYS_GEN__Runbook_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"15c58d96-1bb9-423e-94f6-eb7960adc326","name":"action_delete","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AHV_HYCU","uuid":"5eab0b4b-cf59-43c2-8532-41e270d80e56"},"retries":"0","description":"","type":"DAG","uuid":"b2013dca-f8c6-4eb4-8a81-fd55eb383ef2","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Nutanix_Delete_5eab0b4b_cf59_43c2_8532_41e270d80e56","uuid":"864117a1-9043-4cbd-8229-c3dafc13ee81"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHV_HYCU","uuid":"5eab0b4b-cf59-43c2-8532-41e270d80e56"},"retries":"0","description":"","type":"DELETE_NUTANIX","uuid":"864117a1-9043-4cbd-8229-c3dafc13ee81","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Nutanix_Delete_5eab0b4b_cf59_43c2_8532_41e270d80e56"}],"description":"","message_list":[],"uuid":"904bba25-959f-46ad-8e65-4fe306bb3e51","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7","uuid":"b2013dca-f8c6-4eb4-8a81-fd55eb383ef2"},"name":"SYS_GEN__Runbook_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"258f2586-5661-4186-a93d-3dc17095a8ff","name":"action_soft_delete","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AHV_HYCU","uuid":"5eab0b4b-cf59-43c2-8532-41e270d80e56"},"retries":"0","description":"","type":"DAG","uuid":"ea241718-3ac6-472b-92be-672390eabb8d","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Substrate_Element_Delete_5eab0b4b_cf59_43c2_8532_41e270d80e56","uuid":"f0027587-6952-4ec5-8ac4-bee2c48468bb"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHV_HYCU","uuid":"5eab0b4b-cf59-43c2-8532-41e270d80e56"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"f0027587-6952-4ec5-8ac4-bee2c48468bb","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Substrate_Element_Delete_5eab0b4b_cf59_43c2_8532_41e270d80e56"}],"description":"","message_list":[],"uuid":"613a08d3-c2c3-4d78-a26a-1a4585178ad8","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7","uuid":"ea241718-3ac6-472b-92be-672390eabb8d"},"name":"SYS_GEN__Runbook_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7"}}],"message_list":[],"uuid":"5eab0b4b-cf59-43c2-8532-41e270d80e56","state":"ACTIVE","readiness_probe":{"connection_type":"SSH","retries":"5","disable_readiness_probe":true,"address":"@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@","delay_secs":"0","connection_port":22},"editables":{"readiness_probe":{"connection_type":true,"retries":true,"delay_secs":true,"connection_port":true,"timeout_secs":null},"create_spec":{"categories":true,"name":true,"resources":{"nic_list":{"0":{"ip_endpoint_list":{"0":{"ip":true}},"subnet_reference":true}},"serial_port_list":{},"num_vcpus_per_socket":true,"num_sockets":true,"memory_size_mib":true,"guest_customization":true,"disk_list":{"1":{"disk_size_mib":true}}}}},"os_type":"Linux","type":"AHV_VM","create_spec":{"name":"hycu-@@{calm_time}@@","categories":"","availability_zone_reference":null,"backup_policy":null,"type":"","cluster_reference":null,"resources":{"nic_list":[{"nic_type":"NORMAL_NIC","ip_endpoint_list":[{"ip":"@@{HYCU_IP}@@","type":"ASSIGNED"}],"network_function_chain_reference":null,"network_function_nic_type":"INGRESS","mac_address":"","subnet_reference":{"kind":"subnet","type":"","name":"","uuid":"099dbe61-2c00-4964-9567-f547ec224e10"},"type":""}],"parent_reference":null,"guest_tools":null,"num_vcpus_per_socket":1,"num_sockets":4,"serial_port_list":[],"gpu_list":[],"memory_size_mib":4096,"power_state":"ON","hardware_clock_timezone":"","guest_customization":{"cloud_init":{"meta_data":"","type":"","user_data":"#cloud-config\nbootcmd:\n- \/opt\/grizzly\/bin\/cloud_init_setup.sh @@{HYCU_HOSTNAME}@@ @@{HYCU_IP}@@\/@@{HYCU_PREFIX}@@ @@{HYCU_GATEWAY}@@ @@{HYCU_DNS}@@ @@{HYCU_DOMAIN}@@"},"type":"","sysprep":null},"type":"","boot_config":{"boot_device":{"type":"","disk_address":{"adapter_type":"SCSI","device_index":0,"type":""}},"type":"","mac_address":""},"disk_list":[{"data_source_reference":{"kind":"app_package","type":"","name":"HYCU_3_5_1","uuid":"5c74d4e1-b982-417b-b4b7-1e80c10e96a0"},"type":"","disk_size_mib":0,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":0,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":32768,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":1,"type":""}}}]}},"variable_list":[],"name":"AHV_HYCU"}],"credential_definition_list":[{"username":"hycu","description":"","state":"ACTIVE","message_list":[],"uuid":"792c419f-af7d-4af2-8b3f-809024c27703","secret":{"attrs":{"is_secret_modified":false,"secret_reference":{}}},"editables":{"username":true,"secret":true},"type":"PASSWORD","name":"HYCU_CRED"},{"username":"admin","description":"","state":"ACTIVE","message_list":[],"uuid":"51a64461-f263-4340-b8c8-47968b373387","secret":{"attrs":{"is_secret_modified":false,"secret_reference":{}}},"editables":{"username":true,"secret":true},"type":"PASSWORD","name":"NTX_PRISM_USER_FOR_HYCU"}],"type":"USER","app_profile_list":[{"deployment_create_list":[{"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"45048898-d330-41cb-9255-1c35451a1115","name":"action_create","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"b0aa55d2_deployment","uuid":"3be3bd5f-b169-48f9-9b0f-33481dd4ab03"},"retries":"0","description":"","type":"DAG","uuid":"968983f8-db7d-4e7e-a34c-80a1fa7bed09","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__DE_Provision_f9497542_3359_4892_aad7_ecb44805d12f","uuid":"ee23b2ef-cef6-4d7f-b60d-10122891fe07"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_819795cb_9f8e_4881_8690_239b4260b9ec","uuid":"ad900a76-93b7-4570-8dba-e4960bc2d4e9"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7","uuid":"cfc8a3b3-3b3b-4f5a-beaa-75ca8632a4da"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_245bf4ad_7ce5_4f29_9f09_a4ceab8ed1e0","uuid":"669d7c2d-2ead-46fc-9e7c-c08c10016ab1"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be","uuid":"e916fba5-0f13-4a2f-9c8f-d50f28d8ac6f"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be","uuid":"ede7eb54-1c0b-4978-906a-0259825d95b3"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be","uuid":"e916fba5-0f13-4a2f-9c8f-d50f28d8ac6f"},"edge_type":"inherent","type":"","uuid":"968f2be9-490b-490f-b6c2-756c292f8ec2","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be","uuid":"ede7eb54-1c0b-4978-906a-0259825d95b3"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_245bf4ad_7ce5_4f29_9f09_a4ceab8ed1e0","uuid":"669d7c2d-2ead-46fc-9e7c-c08c10016ab1"},"edge_type":"inherent","type":"","uuid":"531ff7b2-c160-4b1c-af51-f79e5c5abe9f","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be","uuid":"e916fba5-0f13-4a2f-9c8f-d50f28d8ac6f"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_f9497542_3359_4892_aad7_ecb44805d12f","uuid":"ee23b2ef-cef6-4d7f-b60d-10122891fe07"},"edge_type":"inherent","type":"","uuid":"79225e5b-5d27-433f-be29-49de73af90ce","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_819795cb_9f8e_4881_8690_239b4260b9ec","uuid":"ad900a76-93b7-4570-8dba-e4960bc2d4e9"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_f9497542_3359_4892_aad7_ecb44805d12f","uuid":"ee23b2ef-cef6-4d7f-b60d-10122891fe07"},"edge_type":"inherent","type":"","uuid":"683f0a45-88db-48f6-aee9-32e588d0535d","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7","uuid":"cfc8a3b3-3b3b-4f5a-beaa-75ca8632a4da"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7","uuid":"cfc8a3b3-3b3b-4f5a-beaa-75ca8632a4da"},"edge_type":"inherent","type":"","uuid":"07d32d08-f183-4103-a689-a5f48577bc46","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_245bf4ad_7ce5_4f29_9f09_a4ceab8ed1e0","uuid":"669d7c2d-2ead-46fc-9e7c-c08c10016ab1"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_819795cb_9f8e_4881_8690_239b4260b9ec","uuid":"ad900a76-93b7-4570-8dba-e4960bc2d4e9"},"edge_type":"inherent","type":"","uuid":"401b6aff-37f2-4d8f-a4d4-35f901b2bc24","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7","uuid":"cfc8a3b3-3b3b-4f5a-beaa-75ca8632a4da"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_f9497542_3359_4892_aad7_ecb44805d12f"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"b0aa55d2_deployment","uuid":"3be3bd5f-b169-48f9-9b0f-33481dd4ab03"},"retries":"0","description":"","type":"CREATE_DEPLOYMENT_ELEMENT","uuid":"ee23b2ef-cef6-4d7f-b60d-10122891fe07","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Provision_f9497542_3359_4892_aad7_ecb44805d12f"},{"target_any_local_reference":{"kind":"app_package","name":"HYCU_3_5_1","uuid":"5c74d4e1-b982-417b-b4b7-1e80c10e96a0"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"ad900a76-93b7-4570-8dba-e4960bc2d4e9","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"b0aa55d2_deployment","uuid":"3be3bd5f-b169-48f9-9b0f-33481dd4ab03"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_819795cb_9f8e_4881_8690_239b4260b9ec","uuid":"c897fcb6-6caf-4047-bf45-9feea06bdaae"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_819795cb_9f8e_4881_8690_239b4260b9ec"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHV_HYCU","uuid":"5eab0b4b-cf59-43c2-8532-41e270d80e56"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"cfc8a3b3-3b3b-4f5a-beaa-75ca8632a4da","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"b0aa55d2_deployment","uuid":"3be3bd5f-b169-48f9-9b0f-33481dd4ab03"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7","uuid":"a7c3392f-fd4b-4430-9ef6-8039bb3d1cad"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7"},{"target_any_local_reference":{"kind":"app_package","name":"AHV_HYCU_Package","uuid":"bf5b1016-4b5a-4ee5-95cd-6bbb4288d2c8"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"669d7c2d-2ead-46fc-9e7c-c08c10016ab1","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"b0aa55d2_deployment","uuid":"3be3bd5f-b169-48f9-9b0f-33481dd4ab03"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_245bf4ad_7ce5_4f29_9f09_a4ceab8ed1e0","uuid":"5854d77d-2967-4ed5-aa57-30139cd73102"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_245bf4ad_7ce5_4f29_9f09_a4ceab8ed1e0"},{"target_any_local_reference":{"kind":"app_service","name":"HYCU","uuid":"68544437-203f-42d3-88d3-42dd45239c71"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"e916fba5-0f13-4a2f-9c8f-d50f28d8ac6f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"b0aa55d2_deployment","uuid":"3be3bd5f-b169-48f9-9b0f-33481dd4ab03"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"124cb92b_runbook","uuid":"fda62ab9-19b2-4886-a95d-8e7b014a6f10"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be"},{"target_any_local_reference":{"kind":"app_service","name":"HYCU","uuid":"68544437-203f-42d3-88d3-42dd45239c71"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"ede7eb54-1c0b-4978-906a-0259825d95b3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"b0aa55d2_deployment","uuid":"3be3bd5f-b169-48f9-9b0f-33481dd4ab03"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"d8e5204b_runbook","uuid":"1281802f-d78c-4d80-b265-ecc7ec11827f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be"}],"description":"","message_list":[],"uuid":"d12bbc78-5ea1-4052-aabc-c089918dd5c6","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_f9497542_3359_4892_aad7_ecb44805d12f","uuid":"968983f8-db7d-4e7e-a34c-80a1fa7bed09"},"name":"SYS_GEN__Runbook_Deployment_f9497542_3359_4892_aad7_ecb44805d12f"}},{"description":"System action for starting an application","message_list":[],"uuid":"dc4710fe-4e24-40a1-8a5b-c81285ae46b0","name":"action_start","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"b0aa55d2_deployment","uuid":"3be3bd5f-b169-48f9-9b0f-33481dd4ab03"},"retries":"0","description":"","type":"DAG","uuid":"f1917002-2ee4-4e15-8a20-1f24b9030a02","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7","uuid":"949c2c8b-2354-46c5-b739-b42079b9d31a"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be","uuid":"5e0d6120-ac68-48a4-995a-9e989718a993"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7","uuid":"949c2c8b-2354-46c5-b739-b42079b9d31a"},"edge_type":"inherent","type":"","uuid":"74e6ed84-c6e4-424c-95c8-12b380c7b5d1","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be","uuid":"5e0d6120-ac68-48a4-995a-9e989718a993"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_f9497542_3359_4892_aad7_ecb44805d12f"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHV_HYCU","uuid":"5eab0b4b-cf59-43c2-8532-41e270d80e56"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"949c2c8b-2354-46c5-b739-b42079b9d31a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"b0aa55d2_deployment","uuid":"3be3bd5f-b169-48f9-9b0f-33481dd4ab03"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7","uuid":"ac6f0677-fb28-478c-b308-cddb78a2e597"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7"},{"target_any_local_reference":{"kind":"app_service","name":"HYCU","uuid":"68544437-203f-42d3-88d3-42dd45239c71"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"5e0d6120-ac68-48a4-995a-9e989718a993","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"b0aa55d2_deployment","uuid":"3be3bd5f-b169-48f9-9b0f-33481dd4ab03"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"d8e5204b_runbook","uuid":"1281802f-d78c-4d80-b265-ecc7ec11827f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be"}],"description":"","message_list":[],"uuid":"2444c4ef-3ee8-4e03-a2f1-a61f36facda3","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_f9497542_3359_4892_aad7_ecb44805d12f","uuid":"f1917002-2ee4-4e15-8a20-1f24b9030a02"},"name":"SYS_GEN__Runbook_Deployment_f9497542_3359_4892_aad7_ecb44805d12f"}},{"description":"System action for restarting an application","message_list":[],"uuid":"9ab56a49-0e01-4ec6-8a99-fffc7329e4d0","name":"action_restart","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"b0aa55d2_deployment","uuid":"3be3bd5f-b169-48f9-9b0f-33481dd4ab03"},"retries":"0","description":"","type":"DAG","uuid":"f165cb8b-8030-4f51-b938-b90312da88e3","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7","uuid":"d66d00d7-d0f0-4719-ba43-d0daa7e1fdd4"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be","uuid":"3a1690fd-dfea-4b6a-b828-8d646f02c470"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7","uuid":"d66d00d7-d0f0-4719-ba43-d0daa7e1fdd4"},"edge_type":"inherent","type":"","uuid":"897fccc0-622f-4e9d-8d8b-3e13e7aa0013","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be","uuid":"3a1690fd-dfea-4b6a-b828-8d646f02c470"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_f9497542_3359_4892_aad7_ecb44805d12f"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHV_HYCU","uuid":"5eab0b4b-cf59-43c2-8532-41e270d80e56"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"d66d00d7-d0f0-4719-ba43-d0daa7e1fdd4","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"b0aa55d2_deployment","uuid":"3be3bd5f-b169-48f9-9b0f-33481dd4ab03"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7","uuid":"f80bedb0-cb2e-4cbd-9723-1d98052da2b8"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7"},{"target_any_local_reference":{"kind":"app_service","name":"HYCU","uuid":"68544437-203f-42d3-88d3-42dd45239c71"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"3a1690fd-dfea-4b6a-b828-8d646f02c470","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"b0aa55d2_deployment","uuid":"3be3bd5f-b169-48f9-9b0f-33481dd4ab03"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"b85cb2cc_runbook","uuid":"f5f5d052-a9c2-4e4e-9cfb-7e961c2d2f54"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be"}],"description":"","message_list":[],"uuid":"3d0386f7-2df0-4785-ba3e-120692bf8fb6","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_f9497542_3359_4892_aad7_ecb44805d12f","uuid":"f165cb8b-8030-4f51-b938-b90312da88e3"},"name":"SYS_GEN__Runbook_Deployment_f9497542_3359_4892_aad7_ecb44805d12f"}},{"description":"System action for stopping an application","message_list":[],"uuid":"0b993866-a9c3-4f45-9088-163516fd6ca0","name":"action_stop","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"b0aa55d2_deployment","uuid":"3be3bd5f-b169-48f9-9b0f-33481dd4ab03"},"retries":"0","description":"","type":"DAG","uuid":"2c21b041-e8be-4808-b0b6-2a4f004f8e75","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be","uuid":"546da081-09b0-4f32-84b2-2bf96aaa8f56"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7","uuid":"905e0f26-3383-42ec-a413-bbcf0711e2eb"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be","uuid":"546da081-09b0-4f32-84b2-2bf96aaa8f56"},"edge_type":"inherent","type":"","uuid":"4f8d0d65-fa77-4fd2-b9ac-b92129cd41e0","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7","uuid":"905e0f26-3383-42ec-a413-bbcf0711e2eb"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_f9497542_3359_4892_aad7_ecb44805d12f"},{"target_any_local_reference":{"kind":"app_service","name":"HYCU","uuid":"68544437-203f-42d3-88d3-42dd45239c71"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"546da081-09b0-4f32-84b2-2bf96aaa8f56","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"b0aa55d2_deployment","uuid":"3be3bd5f-b169-48f9-9b0f-33481dd4ab03"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"f6b78719_runbook","uuid":"26933329-b25c-4aba-8532-ec59b2933534"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHV_HYCU","uuid":"5eab0b4b-cf59-43c2-8532-41e270d80e56"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"905e0f26-3383-42ec-a413-bbcf0711e2eb","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"b0aa55d2_deployment","uuid":"3be3bd5f-b169-48f9-9b0f-33481dd4ab03"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7","uuid":"903e3a0d-e347-4eb2-a197-795fb87b7a9f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7"}],"description":"","message_list":[],"uuid":"999f102b-aac7-4eff-9340-8b837d302830","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_f9497542_3359_4892_aad7_ecb44805d12f","uuid":"2c21b041-e8be-4808-b0b6-2a4f004f8e75"},"name":"SYS_GEN__Runbook_Deployment_f9497542_3359_4892_aad7_ecb44805d12f"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"73452ae3-2f19-40e4-ade2-b24ac87e349d","name":"action_delete","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"b0aa55d2_deployment","uuid":"3be3bd5f-b169-48f9-9b0f-33481dd4ab03"},"retries":"0","description":"","type":"DAG","uuid":"94804a2e-fa00-4088-9ddc-984037130c46","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be","uuid":"f3a935af-6331-4b70-a660-5c39d3ef0cd3"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be","uuid":"e382d688-2197-4270-b38d-fde7c24030d6"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_245bf4ad_7ce5_4f29_9f09_a4ceab8ed1e0","uuid":"b6242248-7d59-40bf-979e-5fccc3f2b65c"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7","uuid":"2edce9fc-a068-4711-8ec1-c9c35d8be01c"},{"kind":"app_task","name":"SYS_GEN__DE_Delete_f9497542_3359_4892_aad7_ecb44805d12f","uuid":"f72bb9b8-bcf0-4e49-8cb8-16598a560453"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be","uuid":"f3a935af-6331-4b70-a660-5c39d3ef0cd3"},"edge_type":"inherent","type":"","uuid":"2871714c-8d2f-468a-9215-578a940e5bb0","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be","uuid":"e382d688-2197-4270-b38d-fde7c24030d6"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be","uuid":"e382d688-2197-4270-b38d-fde7c24030d6"},"edge_type":"inherent","type":"","uuid":"1740ac9c-28b0-46c8-869c-70d1357bd94a","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_245bf4ad_7ce5_4f29_9f09_a4ceab8ed1e0","uuid":"b6242248-7d59-40bf-979e-5fccc3f2b65c"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7","uuid":"2edce9fc-a068-4711-8ec1-c9c35d8be01c"},"edge_type":"inherent","type":"","uuid":"5d131a9d-543b-49ea-9e53-678f7baf098f","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Delete_f9497542_3359_4892_aad7_ecb44805d12f","uuid":"f72bb9b8-bcf0-4e49-8cb8-16598a560453"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_245bf4ad_7ce5_4f29_9f09_a4ceab8ed1e0","uuid":"b6242248-7d59-40bf-979e-5fccc3f2b65c"},"edge_type":"inherent","type":"","uuid":"292611f2-5e19-4c38-8f82-e92bcaacd730","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7","uuid":"2edce9fc-a068-4711-8ec1-c9c35d8be01c"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_f9497542_3359_4892_aad7_ecb44805d12f"},{"target_any_local_reference":{"kind":"app_service","name":"HYCU","uuid":"68544437-203f-42d3-88d3-42dd45239c71"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"f3a935af-6331-4b70-a660-5c39d3ef0cd3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"b0aa55d2_deployment","uuid":"3be3bd5f-b169-48f9-9b0f-33481dd4ab03"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"f6b78719_runbook","uuid":"26933329-b25c-4aba-8532-ec59b2933534"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be"},{"target_any_local_reference":{"kind":"app_service","name":"HYCU","uuid":"68544437-203f-42d3-88d3-42dd45239c71"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"e382d688-2197-4270-b38d-fde7c24030d6","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"b0aa55d2_deployment","uuid":"3be3bd5f-b169-48f9-9b0f-33481dd4ab03"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"ebbad80f_runbook","uuid":"3f1b1e99-d64d-4a02-9040-d9d26a0d4bee"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be"},{"target_any_local_reference":{"kind":"app_package","name":"AHV_HYCU_Package","uuid":"bf5b1016-4b5a-4ee5-95cd-6bbb4288d2c8"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"b6242248-7d59-40bf-979e-5fccc3f2b65c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"b0aa55d2_deployment","uuid":"3be3bd5f-b169-48f9-9b0f-33481dd4ab03"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_245bf4ad_7ce5_4f29_9f09_a4ceab8ed1e0","uuid":"0732d470-c7a9-4152-9b8c-134586e27f40"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_245bf4ad_7ce5_4f29_9f09_a4ceab8ed1e0"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHV_HYCU","uuid":"5eab0b4b-cf59-43c2-8532-41e270d80e56"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"2edce9fc-a068-4711-8ec1-c9c35d8be01c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"b0aa55d2_deployment","uuid":"3be3bd5f-b169-48f9-9b0f-33481dd4ab03"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7","uuid":"904bba25-959f-46ad-8e65-4fe306bb3e51"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"b0aa55d2_deployment","uuid":"3be3bd5f-b169-48f9-9b0f-33481dd4ab03"},"retries":"0","description":"","type":"DELETE_DEPLOYMENT_ELEMENT","uuid":"f72bb9b8-bcf0-4e49-8cb8-16598a560453","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Delete_f9497542_3359_4892_aad7_ecb44805d12f"}],"description":"","message_list":[],"uuid":"bedee9c6-ec36-4aa3-aace-48f57a55def3","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_f9497542_3359_4892_aad7_ecb44805d12f","uuid":"94804a2e-fa00-4088-9ddc-984037130c46"},"name":"SYS_GEN__Runbook_Deployment_f9497542_3359_4892_aad7_ecb44805d12f"}},{"description":"System action for scaleout","message_list":[],"uuid":"98e2db88-3adc-4b6b-8f5f-8c20cd88fd25","name":"action_scaleout","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"b0aa55d2_deployment","uuid":"3be3bd5f-b169-48f9-9b0f-33481dd4ab03"},"retries":"0","description":"","type":"DAG","uuid":"ce61cbed-1159-454a-894b-7aa8867ee1c2","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Deployment_Scaleout_f9497542_3359_4892_aad7_ecb44805d12f","uuid":"caa0cb2e-a0eb-48f5-bc91-d7ca15afec08"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_f9497542_3359_4892_aad7_ecb44805d12f"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"b0aa55d2_deployment","uuid":"3be3bd5f-b169-48f9-9b0f-33481dd4ab03"},"retries":"0","description":"","type":"SCALING","uuid":"caa0cb2e-a0eb-48f5-bc91-d7ca15afec08","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{scaling_count}@@","type":"","scaling_type":"SCALEOUT"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Deployment_Scaleout_f9497542_3359_4892_aad7_ecb44805d12f"}],"description":"","message_list":[],"uuid":"20cbd94b-0192-4123-85cd-840c2629f945","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"13f8a0ac-cd02-4b77-90c9-89f4ae78952d","value":"0","label":"","state":"NOT_VALIDATED","attrs":{},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"scaling_count"}],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_f9497542_3359_4892_aad7_ecb44805d12f","uuid":"ce61cbed-1159-454a-894b-7aa8867ee1c2"},"name":"SYS_GEN__Runbook_Deployment_f9497542_3359_4892_aad7_ecb44805d12f"}},{"description":"System action for scalein","message_list":[],"uuid":"a7eecbb8-c9fe-4a3f-9503-43af0f3b7559","name":"action_scalein","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"b0aa55d2_deployment","uuid":"3be3bd5f-b169-48f9-9b0f-33481dd4ab03"},"retries":"0","description":"","type":"DAG","uuid":"e035d15e-dc29-4527-af7b-87824f7ce959","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Deployment_Scalein_f9497542_3359_4892_aad7_ecb44805d12f","uuid":"3318b02c-49c4-4150-bb2f-d6914e84d745"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_f9497542_3359_4892_aad7_ecb44805d12f"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"b0aa55d2_deployment","uuid":"3be3bd5f-b169-48f9-9b0f-33481dd4ab03"},"retries":"0","description":"","type":"SCALING","uuid":"3318b02c-49c4-4150-bb2f-d6914e84d745","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{scaling_count}@@","type":"","scaling_type":"SCALEIN"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Deployment_Scalein_f9497542_3359_4892_aad7_ecb44805d12f"}],"description":"","message_list":[],"uuid":"73893244-d98b-4493-9c35-f2a5781b0ace","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"5244798f-c401-4a01-b774-7428a29d4fd6","value":"0","label":"","state":"NOT_VALIDATED","attrs":{},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"scaling_count"}],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_f9497542_3359_4892_aad7_ecb44805d12f","uuid":"e035d15e-dc29-4527-af7b-87824f7ce959"},"name":"SYS_GEN__Runbook_Deployment_f9497542_3359_4892_aad7_ecb44805d12f"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"3d23a44d-2610-45ac-a2df-8650f755db25","name":"action_soft_delete","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"b0aa55d2_deployment","uuid":"3be3bd5f-b169-48f9-9b0f-33481dd4ab03"},"retries":"0","description":"","type":"DAG","uuid":"2faa71a6-29be-4db4-a2f0-437b7300f053","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be","uuid":"8e21428a-261f-4c34-b8f9-076651b8ad95"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_245bf4ad_7ce5_4f29_9f09_a4ceab8ed1e0","uuid":"95a20126-c715-414a-bd1e-cdf1054ad97c"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7","uuid":"e29af4bf-09d3-4e27-b5de-48946e973151"},{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_f9497542_3359_4892_aad7_ecb44805d12f","uuid":"b570e12a-0444-4140-a1c8-cda7969caaad"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be","uuid":"8e21428a-261f-4c34-b8f9-076651b8ad95"},"edge_type":"inherent","type":"","uuid":"5c7df0eb-7a80-4bee-a074-62c2777bd584","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_245bf4ad_7ce5_4f29_9f09_a4ceab8ed1e0","uuid":"95a20126-c715-414a-bd1e-cdf1054ad97c"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7","uuid":"e29af4bf-09d3-4e27-b5de-48946e973151"},"edge_type":"inherent","type":"","uuid":"5ace5db3-2580-4f75-9b6c-3784266fded2","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_f9497542_3359_4892_aad7_ecb44805d12f","uuid":"b570e12a-0444-4140-a1c8-cda7969caaad"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_245bf4ad_7ce5_4f29_9f09_a4ceab8ed1e0","uuid":"95a20126-c715-414a-bd1e-cdf1054ad97c"},"edge_type":"inherent","type":"","uuid":"5cf9ac1d-5bfc-4dfc-b7e4-a92c735763e9","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7","uuid":"e29af4bf-09d3-4e27-b5de-48946e973151"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_f9497542_3359_4892_aad7_ecb44805d12f"},{"target_any_local_reference":{"kind":"app_service","name":"HYCU","uuid":"68544437-203f-42d3-88d3-42dd45239c71"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"8e21428a-261f-4c34-b8f9-076651b8ad95","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"b0aa55d2_deployment","uuid":"3be3bd5f-b169-48f9-9b0f-33481dd4ab03"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_2088365f_88eb_49f4_b2c5_dd2887b746be","uuid":"7395b6df-94ca-4cb9-a790-84bf1ad599e4"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be"},{"target_any_local_reference":{"kind":"app_package","name":"AHV_HYCU_Package","uuid":"bf5b1016-4b5a-4ee5-95cd-6bbb4288d2c8"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"95a20126-c715-414a-bd1e-cdf1054ad97c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_245bf4ad_7ce5_4f29_9f09_a4ceab8ed1e0"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHV_HYCU","uuid":"5eab0b4b-cf59-43c2-8532-41e270d80e56"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"e29af4bf-09d3-4e27-b5de-48946e973151","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"b0aa55d2_deployment","uuid":"3be3bd5f-b169-48f9-9b0f-33481dd4ab03"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7","uuid":"613a08d3-c2c3-4d78-a26a-1a4585178ad8"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"b0aa55d2_deployment","uuid":"3be3bd5f-b169-48f9-9b0f-33481dd4ab03"},"retries":"0","description":"","type":"SOFT_DELETE_DEPLOYMENT_ELEMENT","uuid":"b570e12a-0444-4140-a1c8-cda7969caaad","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Soft_Delete_f9497542_3359_4892_aad7_ecb44805d12f"}],"description":"","message_list":[],"uuid":"b628599d-a839-4803-93fc-bac4bbcae8a2","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_f9497542_3359_4892_aad7_ecb44805d12f","uuid":"2faa71a6-29be-4db4-a2f0-437b7300f053"},"name":"SYS_GEN__Runbook_Deployment_f9497542_3359_4892_aad7_ecb44805d12f"}}],"message_list":[],"published_service_local_reference_list":[],"uuid":"3be3bd5f-b169-48f9-9b0f-33481dd4ab03","min_replicas":"1","state":"ACTIVE","max_replicas":"1","depends_on_list":[],"editables":{},"package_local_reference_list":[{"kind":"app_package","name":"AHV_HYCU_Package","uuid":"bf5b1016-4b5a-4ee5-95cd-6bbb4288d2c8"}],"substrate_local_reference":{"kind":"app_substrate","name":"AHV_HYCU","uuid":"5eab0b4b-cf59-43c2-8532-41e270d80e56"},"type":"GREENFIELD","options":{},"variable_list":[],"name":"b0aa55d2_deployment"}],"description":"","action_list":[{"description":"Add ","message_list":[],"uuid":"5e71d376-8048-4240-85f0-2321a8b1de16","name":"Add ABS target","state":"ACTIVE","critical":false,"attrs":{},"type":"user","runbook":{"task_definition_list":[{"retries":"0","description":"","type":"DAG","uuid":"e650042c-a8ce-495f-a508-1dbb48df6843","child_tasks_local_reference_list":[{"kind":"app_task","name":"Create VG","uuid":"3129bd4f-2471-4fd1-bd59-279d51d0bdc9"},{"kind":"app_task","name":"Get Initiator IQN","uuid":"f863596d-a1d0-424e-80b5-b0b64568c18e"},{"kind":"app_task","name":"Attach Client to VG","uuid":"69312df0-b190-4338-bc0e-8571391ff1d2"},{"kind":"app_task","name":"Add VG target","uuid":"0f4be651-3ade-4543-9480-feb2cd8de7e9"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Create VG","uuid":"3129bd4f-2471-4fd1-bd59-279d51d0bdc9"},"edge_type":"user_defined","type":"","uuid":"b985ef25-671e-4b1f-bc23-e4ba4310d7af","to_task_reference":{"kind":"app_task","name":"Get Initiator IQN","uuid":"f863596d-a1d0-424e-80b5-b0b64568c18e"}},{"from_task_reference":{"kind":"app_task","name":"Get Initiator IQN","uuid":"f863596d-a1d0-424e-80b5-b0b64568c18e"},"edge_type":"user_defined","type":"","uuid":"d71a7e85-10cd-4e83-a890-02d054379620","to_task_reference":{"kind":"app_task","name":"Attach Client to VG","uuid":"69312df0-b190-4338-bc0e-8571391ff1d2"}},{"from_task_reference":{"kind":"app_task","name":"Attach Client to VG","uuid":"69312df0-b190-4338-bc0e-8571391ff1d2"},"edge_type":"user_defined","type":"","uuid":"fab4da4f-7eb7-4c12-9c04-29f74c1bebcd","to_task_reference":{"kind":"app_task","name":"Add VG target","uuid":"0f4be651-3ade-4543-9480-feb2cd8de7e9"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"05a2ac1c_dag"},{"target_any_local_reference":{"kind":"app_service","name":"HYCU","uuid":"68544437-203f-42d3-88d3-42dd45239c71"},"retries":"0","description":"","type":"SET_VARIABLE","uuid":"3129bd4f-2471-4fd1-bd59-279d51d0bdc9","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#script\n\nprism_ip = '@@{NTX_STORAGE_CLUSTER_URL}@@'\nusername = '@@{NTX_PRISM_USER_FOR_HYCU.username}@@'\npassword = '@@{NTX_PRISM_USER_FOR_HYCU.secret}@@'\nstorage_container_name = '@@{NTX_CONTAINER_NAME}@@'\nstorage_container_uuid = ''\nvgname = '@@{NTX_VG_NAME}@@'\ntarget_vg_size = @@{NTX_TARGET_SIZE_TB}@@*1024*1024*1024*1024\n\napi_url = prism_ip + \"\/PrismGateway\/services\/rest\/v2.0\/\"\n\nprint \"INFO: Retrieving storage container uuid for: {}.\".format(storage_container_name)\n\n# -*- Get Container UUID\n\nget_container_uuid_url = api_url + \"storage_containers\"\ntry:\n  response = urlreq(get_container_uuid_url, verb='GET', auth=\"BASIC\", user=username, passwd=password, verify=False)\n  storage_containers = json.loads(response.content)\n  for container in storage_containers['entities']:\n    if container['name'] == storage_container_name:\n      storage_container_uuid = container['storage_container_uuid']\nexcept Exception as e:\n\tprint \"ERROR: Failed to get storage container uuid, check storage container name or check username\/password\"\n\tprint e.message\n\texit(1)\n\nprint \"INFO: storage container uuid is: {}.\".format(storage_container_uuid)\n\n# -*- Check volume group existance\n\ncheck_vg_url = api_url + \"volume_groups\"\nresponse = urlreq(check_vg_url, verb='GET', auth=\"BASIC\", user=username, passwd=password, verify=False)\nvgs = json.loads(response.content)\nfor vg in vgs['entities']:\n  if vg['name'] == vgname:\n    print \"ERROR: Volume group with name {} already exists.\".format(vgname)\n    exit(1)\n\nprint \"INFO: Creating volume group '{}'.\".format(vgname)\n\n# -*- Create Volume Group\n\ncreate_vg_url = api_url + \"volume_groups\"\npayload = {\n\t\"disk_list\": [{\n\t\t\"create_config\": {\n\t\t\t\"size\": target_vg_size,\n\t\t\t\"storage_container_uuid\": storage_container_uuid\n\t\t},\n\t\t\"index\": 0\n\t}],\n\t\"is_shared\": True,\n\t\"name\": vgname\n}\n\nresponse = urlreq(create_vg_url, verb='POST', auth=\"BASIC\", user=username, passwd=password, params=json.dumps(payload), verify=False)\nif response.status_code != 201:\n\tprint \"ERROR: creation of volume group '{}' failed.\".format(vgname)\n\nvg_create_status = json.loads(response.content)\ntask_uuid = vg_create_status['task_uuid']\n\nsleep(5)\n\ncheck_vg_creation_url = api_url + \"tasks\/\" + task_uuid\nresponse = response = urlreq(check_vg_creation_url, verb='GET', auth=\"BASIC\", user=username, passwd=password, verify=False)\nvg_create_status = json.loads(response.content)\n\nif vg_create_status['progress_status'] != \"Succeeded\":\n\tprint \"ERROR: creation of volume group '{}' failed.\".format(vgname)\n\texit(1)\nelse:\n\tprint \"INFO: creation of volume group '{}' Successful.\".format(vgname)\n    \n# -*- Get Volume Group Target IQN\n\ncheck_vg_url = api_url + \"volume_groups\"\nresponse = urlreq(check_vg_url, verb='GET', auth=\"BASIC\", user=username, passwd=password, verify=False)\nvgs = json.loads(response.content)\nfor vg in vgs['entities']:\n  if vg['name'] == vgname:\n    iscsi_target=vg[\"iscsi_target\"]\n\nprint \"TARGET_IQN=iqn.2010-06.com.nutanix:\" + iscsi_target","eval_variables":["TARGET_IQN"],"eval_scope":"local","type":"","script_type":"static"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Create VG"},{"target_any_local_reference":{"kind":"app_service","name":"HYCU","uuid":"68544437-203f-42d3-88d3-42dd45239c71"},"retries":"0","description":"","type":"SET_VARIABLE","uuid":"f863596d-a1d0-424e-80b5-b0b64568c18e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#script\n\nhycu_ip = '@@{address}@@'\nusername = 'admin'\npassword = 'admin'\n\napi_url = \"https:\/\/\" + hycu_ip + \":8443\/rest\/v1.0\"\n\nprint \"INFO: Retrieving HYCU Node Initiator Name.\"\n\n# -*- Retrieving HYCU Node Initiator Name\n\nget_iscsiinitiator = api_url + \"\/administration\/iscsiinitiator\"\ntry:\n  response = urlreq(get_iscsiinitiator, verb='GET', auth=\"BASIC\", user=username, passwd=password, verify=False)\n  get_iscsiinitiator = json.loads(response.content)\n  iqn = get_iscsiinitiator[\"entities\"][0][\"initiatorname\"]\nexcept Exception as e:\n\tprint \"ERROR: HYCU Node Initiator Name check username\/password\"\n\tprint e.message\n\texit(1)\n\nprint \"INFO: Initiator Name is: {}.\".format(iqn)\n\nprint \"INITIATOR_IQN=\" + iqn","eval_variables":["INITIATOR_IQN"],"eval_scope":"local","type":"","script_type":"static"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Get Initiator IQN"},{"target_any_local_reference":{"kind":"app_service","name":"HYCU","uuid":"68544437-203f-42d3-88d3-42dd45239c71"},"retries":"0","description":"","type":"EXEC","uuid":"69312df0-b190-4338-bc0e-8571391ff1d2","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"static","type":"","command_line_args":"","exit_status":[],"script":"#script\n\nprism_ip = '@@{NTX_STORAGE_CLUSTER_URL}@@'\nusername = '@@{NTX_PRISM_USER_FOR_HYCU.username}@@'\npassword = '@@{NTX_PRISM_USER_FOR_HYCU.secret}@@'\nvgname = '@@{NTX_VG_NAME}@@'\nvg_uuid = ''\nIQN='@@{INITIATOR_IQN}@@'\n\napi_url = prism_ip + \"\/PrismGateway\/services\/rest\/v2.0\/\"\n\nprint \"INFO: Attaching VG {} to node.\".format(vgname)\n\n# -*- Check volume group existance\n\ntry:\n  check_vg_url = api_url + \"volume_groups\"\n  response = urlreq(check_vg_url, verb='GET', auth=\"BASIC\", user=username, passwd=password, verify=False)\n  vgs = json.loads(response.content)\n  for vg in vgs['entities']:\n    if vg['name'] == vgname:\n      vg_uuid = vg['uuid']\nexcept Exception as e:\n\tprint \"ERROR: Failed to get volume group, check volume group or check username\/password\"\n\tprint e.message\n\texit(1)\n    \nif vg_uuid == '':\n  print \"ERROR: Volume group with name {} doesn't exists\".format(vgname)\n  exit(1)\n\n# -*- Attach Volume Group\n\nattach_vg_url = api_url + \"volume_groups\/\" + vg_uuid + \"\/open\"\npayload = {\n  \"iscsi_client\": {\n    \"client_address\": IQN\n  },\n  \"operation\": \"ATTACH\"\n}\n\nresponse = urlreq(attach_vg_url, verb='POST', auth=\"BASIC\", user=username, passwd=password, params=json.dumps(payload), verify=False)\nif response.status_code != 201:\n\tprint \"ERROR: Attaching vg '{}' failed.\".format(vgname)\n\nattach_status = json.loads(response.content)\nif attach_status['value']:\n  print \"INFO: Attaching vg '{}' Successful.\".format(vgname)\nelse:\n  print \"ERROR: Attaching vg '{}' failed.\".format(vgname)"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Attach Client to VG"},{"target_any_local_reference":{"kind":"app_service","name":"HYCU","uuid":"68544437-203f-42d3-88d3-42dd45239c71"},"retries":"0","description":"","type":"EXEC","uuid":"0f4be651-3ade-4543-9480-feb2cd8de7e9","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"static","type":"","command_line_args":"","exit_status":[],"script":"#script\n\nhycu_ip = '@@{address}@@'\nusername = 'admin'\npassword = 'admin'\ntarget_name = \"@@{HYCU_TARGET_NAME}@@\"\ndata_service_ip = \"@@{NTX_DATA_SERVICE_IP}@@\"\ndata_service_port = \"@@{NTX_DATA_SERVICE_PORT}@@\"\ntarget_iqn = \"@@{TARGET_IQN}@@\"\n\napi_url = \"https:\/\/\" + hycu_ip + \":8443\/rest\/v1.0\"\n\nprint \"INFO: Creating target '{}'.\".format(target_name)\n\n# -*- Retrieving HYCU Node Initiator Name\n\npayload = {\n\t\"name\": target_name,\n\t\"description\": \"\",\n\t\"targetType\": \"I_SCSI\",\n\t\"allowedBackupStreams\": 1,\n\t\"encryption\": False,\n\t\"iScsiStorageDetails\": {\n\t\t\"port\": data_service_port,\n\t\t\"address\": data_service_ip,\n\t\t\"chap\": False,\n\t\t\"targetname\": target_iqn,\n\t\t\"username\": \"\",\n\t\t\"password\": \"\",\n\t\t\"mutualChap\": False\n\t}\n}\n\n# -*- Checking existance of the target.\ncheck_target_url = api_url + \"\/targets\"\nresponse = urlreq(check_target_url, verb='GET', auth=\"BASIC\", user=username, passwd=password, verify=False)\ntargets = json.loads(response.content)\nfor target in targets['entities']:\n  if target['name'] == target_name:\n    print \"ERROR: Target with name {} already exists.\".format(target_name)\n    exit(1)\n    \n# -*- Creating Target\ncreate_target_url = api_url + \"\/targets\"\ntry:\n  headers = {'content-type': \"application\/json\"}\n  response = urlreq(create_target_url, verb='POST', auth=\"BASIC\", user=username, passwd=password, params=json.dumps(payload), verify=False, headers=headers)\n  if response.status_code != 202:\n\tprint \"ERROR: creation of target '{}' failed.\".format(target_name)\n  target_create_status = json.loads(response.content)\n  job_uuid = target_create_status[\"entities\"][0][\"jobUuid\"]\nexcept Exception as e:\n  print \"ERROR: Creation of target '{}' failed, check username\/password\".format(target_name) \n  print e.message\n  exit(1)\n\n    \njobs_url = api_url + \"\/jobs\/\" + job_uuid\nwhile(True):\n  response = urlreq(jobs_url, verb='GET', auth=\"BASIC\", user=username, passwd=password, verify=False)\n  if response.status_code != 200:\n    print \"ERROR: Failed to get job status '{}'.\".format(job_uuid)\n  job_status = json.loads(response.content)\n  if job_status[\"entities\"][0][\"status\"] == \"OK\":\n    print \"INFO: creation of target '{}' successful.\".format(target_name)\n    break\n  elif job_status[\"entities\"][0][\"status\"] == \"ERROR\":\n    print \"ERROR: Failed to create '{}'.\".format(target_name)\n    print job_status[\"entities\"][0][\"taskExitMessage\"][\"debug\"]\n    exit(1)\n  else:\n    print \"INFO: creation of target '{}' in-progress sleeping for 5 seconds.\".format(target_name)\n    sleep(5)"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Add VG target"}],"description":"","message_list":[],"uuid":"21007512-134e-4425-b236-d9e352154311","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"bb0fd3bf-306b-4c14-ad40-364d24d82906","value":"NutanixABS","label":"","state":"ACTIVE","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"HYCU_TARGET_NAME"},{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"c37e77f2-275a-4702-8f18-9592b39ef18b","value":"default-container-34275","label":"","state":"ACTIVE","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"NTX_CONTAINER_NAME"},{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"b2d74ca1-6e24-4d1f-bd08-545e99899794","value":"hycu-volume-group01","label":"","state":"ACTIVE","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"NTX_VG_NAME"},{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"16af2f8d-f0e0-41b3-b0db-ceced81021a9","value":"10.46.34.39","label":"","state":"ACTIVE","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"NTX_DATA_SERVICE_IP"},{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"4146cda9-1dbf-4807-94a4-3d253c7fceef","value":"3260","label":"","state":"ACTIVE","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"NTX_DATA_SERVICE_PORT"},{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"3b0c731f-382e-4eca-a396-c0fdf808d862","value":"1","label":"","state":"ACTIVE","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"NTX_TARGET_SIZE_TB"}],"main_task_local_reference":{"kind":"app_task","name":"05a2ac1c_dag","uuid":"e650042c-a8ce-495f-a508-1dbb48df6843"},"name":"320f45b6_runbook"}},{"description":"","message_list":[],"uuid":"f0a1e9a2-5eca-4774-8279-1e295dc64fe4","name":"Add AFS target","state":"ACTIVE","critical":false,"attrs":{},"type":"user","runbook":{"task_definition_list":[{"retries":"0","description":"","type":"DAG","uuid":"c714084d-8538-4691-9412-6128a42aa838","child_tasks_local_reference_list":[{"kind":"app_task","name":"Add AFS Target","uuid":"2175177c-0d9f-4a6b-bafc-482e8d677ff6"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"c8537784_dag"},{"target_any_local_reference":{"kind":"app_service","name":"HYCU","uuid":"68544437-203f-42d3-88d3-42dd45239c71"},"retries":"0","description":"","type":"EXEC","uuid":"2175177c-0d9f-4a6b-bafc-482e8d677ff6","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"static","type":"","command_line_args":"","exit_status":[],"script":"#script\n\nhycu_ip = '@@{address}@@'\nusername = 'admin'\npassword = 'admin'\ntarget_name = \"@@{HYCU_TARGET_NAME}@@\"\nafs_type = \"@@{NTX_EXISTING_AFS_TYPE}@@\"\nafs_host = \"@@{NTX_EXISTING_AFS_HOST}@@\"\nafs_sharedpath = \"@@{NTX_EXISTING_AFS_SHARED_PATH}@@\"\nsmb_username = \"@@{NTX_EXISTING_SMB_USERNAME}@@\"\nsmb_password = \"@@{NTX_EXISTING_SMB_PASSWORD}@@\"\nsmb_domain = \"@@{NTX_EXISTING_SMB_DOMAIN}@@\"\ntarget_size = @@{NTX_TARGET_SIZE_TB}@@*1024*1024*1024*1024\n\nif afs_type == \"\":\n  print \"INFO: 'NTX_EXISTING_AFS_TYPE' is a mandatory variable\"\nif afs_host == \"\" and afs_sharedpath == \"\" and target_name == \"\":\n  print \"INFO: 'NTX_EXISTING_AFS_HOST', 'NTX_EXISTING_AFS_SHARED_PATH', 'TARGET_NAME' are a mandatory variable\"\n\napi_url = \"https:\/\/\" + hycu_ip + \":8443\/rest\/v1.0\"\n  \nif afs_type == 'NFS':\n  print \"INFO: Creating NFS target '{}'.\".format(target_name)\n  payload = {\n      \"name\": target_name,\n      \"description\": \"\",\n      \"targetType\": \"NFS\",\n      \"allowedBackupStreams\": 1,\n      \"encryption\": False,\n      \"nfsFileSystemDetails\": {\n          \"address\": afs_host,\n          \"sharedPath\": afs_sharedpath\n      },\n      \"advertisedCapacityInBytes\": target_size\n  }\nelif afs_type == 'SMB':\n  print \"INFO: Creating ABS target '{}'.\".format(target_name)\n  payload = {\n\t\"name\": target_name,\n\t\"description\": \"\",\n\t\"targetType\": \"SMB\",\n    \"allowedBackupStreams\": 1,\n    \"encryption\": False,\n\t\"smbFileSystemDetails\": {\n\t\t\"username\": smb_username,\n\t\t\"password\": smb_password,\n\t\t\"domain\": smb_domain,\n\t\t\"sharedPath\": afs_sharedpath,\n\t\t\"address\": afs_host\n\t}\n  }\nelse:\n  print \"ERROR: 'NTX_EXISTING_AFS_TYPE' can only be 'SMB\/NFS'.\".format(target_name)\n  exit(1)\n  \n# -*- Checking existance of the target.\ncheck_target_url = api_url + \"\/targets\"\nresponse = urlreq(check_target_url, verb='GET', auth=\"BASIC\", user=username, passwd=password, verify=False)\ntargets = json.loads(response.content)\nfor target in targets['entities']:\n  if target['name'] == target_name:\n    print \"ERROR: Target with name {} already exists.\".format(target_name)\n    exit(1)\n    \n# -*- Creating Target\ncreate_target_url = api_url + \"\/targets\"\ntry:\n  headers = {'content-type': \"application\/json\"}\n  response = urlreq(create_target_url, verb='POST', auth=\"BASIC\", user=username, passwd=password, params=json.dumps(payload), verify=False, headers=headers)\n  if response.status_code != 202:\n\tprint \"ERROR: creation of target '{}' failed.\".format(target_name)\n  target_create_status = json.loads(response.content)\n  job_uuid = target_create_status[\"entities\"][0][\"jobUuid\"]\nexcept Exception as e:\n  print \"ERROR: Creation of target '{}' failed, check username\/password\".format(target_name) \n  print e.message\n  exit(1)\n\njobs_url = api_url + \"\/jobs\/\" + job_uuid\nwhile(True):\n  response = urlreq(jobs_url, verb='GET', auth=\"BASIC\", user=username, passwd=password, verify=False)\n  if response.status_code != 200:\n    print \"ERROR: Failed to get job status '{}'.\".format(job_uuid)\n  job_status = json.loads(response.content)\n  if job_status[\"entities\"][0][\"status\"] == \"OK\":\n    print \"INFO: creation of target '{}' successful.\".format(target_name)\n    break\n  elif job_status[\"entities\"][0][\"status\"] == \"ERROR\":\n    print \"ERROR: Failed to create '{}'.\".format(target_name)\n    print job_status[\"entities\"][0][\"taskExitMessage\"][\"debug\"]\n    exit(1)\n  else:\n    print \"INFO: creation of target '{}' in-progress sleeping for 5 seconds.\".format(target_name)\n    sleep(5)"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Add AFS Target"}],"description":"","message_list":[],"uuid":"4cdd31a9-ffad-4a29-a1dd-0a8ff2a74141","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":true,"description":"","data_type":"BASE","message_list":[],"uuid":"7183964d-4cd3-4857-b73b-fafb0aa2bf53","value":"NutanixAFS","label":"","state":"ACTIVE","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"HYCU_TARGET_NAME"},{"regex":{},"val_type":"STRING","is_mandatory":true,"description":"","data_type":"BASE","message_list":[],"uuid":"281bad19-9a2f-4ffd-a434-921dc9897fbc","value":"SMB","label":"","state":"ACTIVE","attrs":{"type":"LOCAL"},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{"type":"PREDEFINED","choices":["SMB","NFS"]},"name":"NTX_EXISTING_AFS_TYPE"},{"regex":{},"val_type":"STRING","is_mandatory":true,"description":"","data_type":"BASE","message_list":[],"uuid":"271c7b5e-09d4-4636-a9ee-5e5aada69b40","value":"10.46.34.175","label":"","state":"ACTIVE","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"NTX_EXISTING_AFS_HOST"},{"regex":{},"val_type":"STRING","is_mandatory":true,"description":"","data_type":"BASE","message_list":[],"uuid":"36643309-96b0-449c-abcb-d7f8a61ca305","value":"smb-share","label":"","state":"ACTIVE","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"NTX_EXISTING_AFS_SHARED_PATH"},{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"fd0f7e54-2cf0-4149-94e6-2f1c780bb19e","value":"1","label":"","state":"ACTIVE","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"NTX_TARGET_SIZE_TB"},{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"af6b150c-f765-410c-9a5b-2458bec4414b","value":"","label":"","state":"ACTIVE","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"NTX_EXISTING_SMB_DOMAIN"},{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"d8154151-a321-420e-95fe-ad08f50c5df5","value":"","label":"","state":"ACTIVE","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"NTX_EXISTING_SMB_USERNAME"},{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"e1c72715-861c-4e8c-b68b-6d9ba7d1aaf3","value":"","label":"","state":"ACTIVE","attrs":{"is_secret_modified":false,"secret_reference":{"uuid":"8b06599f-854a-443f-bc72-b25c8e479492"},"type":""},"editables":{"value":true},"is_hidden":false,"type":"SECRET","options":{},"name":"NTX_EXISTING_SMB_PASSWORD"}],"main_task_local_reference":{"kind":"app_task","name":"c8537784_dag","uuid":"c714084d-8538-4691-9412-6128a42aa838"},"name":"16ddab2e_runbook"}},{"description":"System action for creating an application","message_list":[],"uuid":"b9730b05-4745-49a8-a179-4d51e6e85b9a","name":"action_create","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"Nutanix","uuid":"9425ae13-7b0f-4194-a8f6-e579de6035cb"},"retries":"0","description":"","type":"DAG","uuid":"f5c9324d-7fc0-4e06-a466-0d47855b4427","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__DE_Provision_f9497542_3359_4892_aad7_ecb44805d12f","uuid":"1095e90b-7a38-422c-b726-69dd0834c07a"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_819795cb_9f8e_4881_8690_239b4260b9ec","uuid":"cfa3d11d-70f0-4052-8f9d-47095ab28ca5"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7","uuid":"a05ee029-f333-4e5d-adc6-10992cf9bd4a"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_245bf4ad_7ce5_4f29_9f09_a4ceab8ed1e0","uuid":"f3e51f49-1aa5-48a4-9744-44f7df6c281d"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be","uuid":"99995c33-a76d-436c-a016-4458a6bb1f9d"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be","uuid":"9c74068d-d1d9-4434-b322-24ea327d4cb8"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be","uuid":"99995c33-a76d-436c-a016-4458a6bb1f9d"},"edge_type":"inherent","type":"","uuid":"b19138e9-ce9e-4354-9a80-a8ff254cea87","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be","uuid":"9c74068d-d1d9-4434-b322-24ea327d4cb8"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_245bf4ad_7ce5_4f29_9f09_a4ceab8ed1e0","uuid":"f3e51f49-1aa5-48a4-9744-44f7df6c281d"},"edge_type":"inherent","type":"","uuid":"c4e8cdde-7e5e-4906-b997-d4240f313266","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be","uuid":"99995c33-a76d-436c-a016-4458a6bb1f9d"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_f9497542_3359_4892_aad7_ecb44805d12f","uuid":"1095e90b-7a38-422c-b726-69dd0834c07a"},"edge_type":"inherent","type":"","uuid":"3093394b-91d6-4193-a581-c136923c81ad","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_819795cb_9f8e_4881_8690_239b4260b9ec","uuid":"cfa3d11d-70f0-4052-8f9d-47095ab28ca5"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_f9497542_3359_4892_aad7_ecb44805d12f","uuid":"1095e90b-7a38-422c-b726-69dd0834c07a"},"edge_type":"inherent","type":"","uuid":"b7cd2529-ab04-46ab-a477-0a39ea71c70d","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7","uuid":"a05ee029-f333-4e5d-adc6-10992cf9bd4a"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7","uuid":"a05ee029-f333-4e5d-adc6-10992cf9bd4a"},"edge_type":"inherent","type":"","uuid":"46746d29-eeb8-4a70-8705-c26b61a0dc0f","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_245bf4ad_7ce5_4f29_9f09_a4ceab8ed1e0","uuid":"f3e51f49-1aa5-48a4-9744-44f7df6c281d"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_819795cb_9f8e_4881_8690_239b4260b9ec","uuid":"cfa3d11d-70f0-4052-8f9d-47095ab28ca5"},"edge_type":"inherent","type":"","uuid":"60a14848-a579-4012-bc95-315649848d5f","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7","uuid":"a05ee029-f333-4e5d-adc6-10992cf9bd4a"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_994a7225_af3b_4caf_b4c5_6e22491d1dbb"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"b0aa55d2_deployment","uuid":"3be3bd5f-b169-48f9-9b0f-33481dd4ab03"},"retries":"0","description":"","type":"CREATE_DEPLOYMENT_ELEMENT","uuid":"1095e90b-7a38-422c-b726-69dd0834c07a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Provision_f9497542_3359_4892_aad7_ecb44805d12f"},{"target_any_local_reference":{"kind":"app_package","name":"HYCU_3_5_1","uuid":"5c74d4e1-b982-417b-b4b7-1e80c10e96a0"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"cfa3d11d-70f0-4052-8f9d-47095ab28ca5","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"b0aa55d2_deployment","uuid":"3be3bd5f-b169-48f9-9b0f-33481dd4ab03"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_819795cb_9f8e_4881_8690_239b4260b9ec","uuid":"c897fcb6-6caf-4047-bf45-9feea06bdaae"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_819795cb_9f8e_4881_8690_239b4260b9ec"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHV_HYCU","uuid":"5eab0b4b-cf59-43c2-8532-41e270d80e56"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"a05ee029-f333-4e5d-adc6-10992cf9bd4a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"b0aa55d2_deployment","uuid":"3be3bd5f-b169-48f9-9b0f-33481dd4ab03"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7","uuid":"a7c3392f-fd4b-4430-9ef6-8039bb3d1cad"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7"},{"target_any_local_reference":{"kind":"app_package","name":"AHV_HYCU_Package","uuid":"bf5b1016-4b5a-4ee5-95cd-6bbb4288d2c8"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"f3e51f49-1aa5-48a4-9744-44f7df6c281d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"b0aa55d2_deployment","uuid":"3be3bd5f-b169-48f9-9b0f-33481dd4ab03"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_245bf4ad_7ce5_4f29_9f09_a4ceab8ed1e0","uuid":"5854d77d-2967-4ed5-aa57-30139cd73102"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_245bf4ad_7ce5_4f29_9f09_a4ceab8ed1e0"},{"target_any_local_reference":{"kind":"app_service","name":"HYCU","uuid":"68544437-203f-42d3-88d3-42dd45239c71"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"99995c33-a76d-436c-a016-4458a6bb1f9d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"b0aa55d2_deployment","uuid":"3be3bd5f-b169-48f9-9b0f-33481dd4ab03"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"124cb92b_runbook","uuid":"fda62ab9-19b2-4886-a95d-8e7b014a6f10"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be"},{"target_any_local_reference":{"kind":"app_service","name":"HYCU","uuid":"68544437-203f-42d3-88d3-42dd45239c71"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"9c74068d-d1d9-4434-b322-24ea327d4cb8","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"b0aa55d2_deployment","uuid":"3be3bd5f-b169-48f9-9b0f-33481dd4ab03"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"d8e5204b_runbook","uuid":"1281802f-d78c-4d80-b265-ecc7ec11827f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be"}],"description":"","message_list":[],"uuid":"e12c96be-1d92-468e-8402-acc31cc26fb1","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_994a7225_af3b_4caf_b4c5_6e22491d1dbb","uuid":"f5c9324d-7fc0-4e06-a466-0d47855b4427"},"name":"SYS_GEN__Runbook_Application_994a7225_af3b_4caf_b4c5_6e22491d1dbb"}},{"description":"System action for starting an application","message_list":[],"uuid":"500dcd5f-197c-41f8-972b-70a5612e2a05","name":"action_start","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"Nutanix","uuid":"9425ae13-7b0f-4194-a8f6-e579de6035cb"},"retries":"0","description":"","type":"DAG","uuid":"9a2029c2-9976-4a86-ada2-beca9547e438","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7","uuid":"19114991-796f-448c-98c7-6f091741194d"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be","uuid":"8ffe8bab-6619-45e7-b9f5-ae40ced5cb28"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7","uuid":"19114991-796f-448c-98c7-6f091741194d"},"edge_type":"inherent","type":"","uuid":"d8fe4506-aaaa-441c-a977-44f4357b6582","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be","uuid":"8ffe8bab-6619-45e7-b9f5-ae40ced5cb28"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_994a7225_af3b_4caf_b4c5_6e22491d1dbb"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHV_HYCU","uuid":"5eab0b4b-cf59-43c2-8532-41e270d80e56"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"19114991-796f-448c-98c7-6f091741194d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"b0aa55d2_deployment","uuid":"3be3bd5f-b169-48f9-9b0f-33481dd4ab03"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7","uuid":"ac6f0677-fb28-478c-b308-cddb78a2e597"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7"},{"target_any_local_reference":{"kind":"app_service","name":"HYCU","uuid":"68544437-203f-42d3-88d3-42dd45239c71"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"8ffe8bab-6619-45e7-b9f5-ae40ced5cb28","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"b0aa55d2_deployment","uuid":"3be3bd5f-b169-48f9-9b0f-33481dd4ab03"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"d8e5204b_runbook","uuid":"1281802f-d78c-4d80-b265-ecc7ec11827f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be"}],"description":"","message_list":[],"uuid":"02b95c05-57bc-4a3a-9a0e-5e697373fa74","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_994a7225_af3b_4caf_b4c5_6e22491d1dbb","uuid":"9a2029c2-9976-4a86-ada2-beca9547e438"},"name":"SYS_GEN__Runbook_Application_994a7225_af3b_4caf_b4c5_6e22491d1dbb"}},{"description":"System action for restarting an application","message_list":[],"uuid":"ec447e77-6f51-45c0-8333-e6c24fdf5bb8","name":"action_restart","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"Nutanix","uuid":"9425ae13-7b0f-4194-a8f6-e579de6035cb"},"retries":"0","description":"","type":"DAG","uuid":"05794603-f912-4637-b84b-655831bee380","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7","uuid":"c86c159c-d7d1-48a9-b7f5-3590753dc694"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be","uuid":"df60fe4a-e305-4ca8-8665-8cedd7df683f"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7","uuid":"c86c159c-d7d1-48a9-b7f5-3590753dc694"},"edge_type":"inherent","type":"","uuid":"e499f929-7b91-49f7-8e97-8a5cf0f41a7e","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be","uuid":"df60fe4a-e305-4ca8-8665-8cedd7df683f"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_994a7225_af3b_4caf_b4c5_6e22491d1dbb"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHV_HYCU","uuid":"5eab0b4b-cf59-43c2-8532-41e270d80e56"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"c86c159c-d7d1-48a9-b7f5-3590753dc694","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"b0aa55d2_deployment","uuid":"3be3bd5f-b169-48f9-9b0f-33481dd4ab03"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7","uuid":"f80bedb0-cb2e-4cbd-9723-1d98052da2b8"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7"},{"target_any_local_reference":{"kind":"app_service","name":"HYCU","uuid":"68544437-203f-42d3-88d3-42dd45239c71"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"df60fe4a-e305-4ca8-8665-8cedd7df683f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"b0aa55d2_deployment","uuid":"3be3bd5f-b169-48f9-9b0f-33481dd4ab03"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"b85cb2cc_runbook","uuid":"f5f5d052-a9c2-4e4e-9cfb-7e961c2d2f54"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be"}],"description":"","message_list":[],"uuid":"a7aee51b-ee16-4eb4-864e-1019b177d929","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_994a7225_af3b_4caf_b4c5_6e22491d1dbb","uuid":"05794603-f912-4637-b84b-655831bee380"},"name":"SYS_GEN__Runbook_Application_994a7225_af3b_4caf_b4c5_6e22491d1dbb"}},{"description":"System action for stopping an application","message_list":[],"uuid":"2310fe25-2201-4881-a8f8-fb7addb55b7e","name":"action_stop","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"Nutanix","uuid":"9425ae13-7b0f-4194-a8f6-e579de6035cb"},"retries":"0","description":"","type":"DAG","uuid":"5a10e722-3f66-4a0f-bec1-5c8e0d227e3a","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be","uuid":"62cfb696-6bec-4205-a9f1-71396364e465"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7","uuid":"e6c70dec-7685-4dd4-92e6-98cb2be5f542"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be","uuid":"62cfb696-6bec-4205-a9f1-71396364e465"},"edge_type":"inherent","type":"","uuid":"2c017c48-0137-4879-8437-15c5ce2d0efd","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7","uuid":"e6c70dec-7685-4dd4-92e6-98cb2be5f542"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_994a7225_af3b_4caf_b4c5_6e22491d1dbb"},{"target_any_local_reference":{"kind":"app_service","name":"HYCU","uuid":"68544437-203f-42d3-88d3-42dd45239c71"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"62cfb696-6bec-4205-a9f1-71396364e465","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"b0aa55d2_deployment","uuid":"3be3bd5f-b169-48f9-9b0f-33481dd4ab03"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"f6b78719_runbook","uuid":"26933329-b25c-4aba-8532-ec59b2933534"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHV_HYCU","uuid":"5eab0b4b-cf59-43c2-8532-41e270d80e56"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"e6c70dec-7685-4dd4-92e6-98cb2be5f542","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"b0aa55d2_deployment","uuid":"3be3bd5f-b169-48f9-9b0f-33481dd4ab03"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7","uuid":"903e3a0d-e347-4eb2-a197-795fb87b7a9f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7"}],"description":"","message_list":[],"uuid":"39992a0d-6de0-46b9-b16b-ea2f0ecb34b1","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_994a7225_af3b_4caf_b4c5_6e22491d1dbb","uuid":"5a10e722-3f66-4a0f-bec1-5c8e0d227e3a"},"name":"SYS_GEN__Runbook_Application_994a7225_af3b_4caf_b4c5_6e22491d1dbb"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"3960ce16-1a64-4038-88de-c05672546c2c","name":"action_delete","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"Nutanix","uuid":"9425ae13-7b0f-4194-a8f6-e579de6035cb"},"retries":"0","description":"","type":"DAG","uuid":"952fe4c9-a5c8-4e42-a01e-5d4e31a41358","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be","uuid":"73d8a436-320b-4b20-aacf-38ab529d8ee0"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be","uuid":"2d2011b0-0676-40fe-b0ff-f8c39c4a43ef"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_245bf4ad_7ce5_4f29_9f09_a4ceab8ed1e0","uuid":"3ac372fa-234a-4df8-93c5-b7d2aee7e7a1"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7","uuid":"4efbf06b-74ee-423d-8d4c-ec36d0b8a1b3"},{"kind":"app_task","name":"SYS_GEN__DE_Delete_f9497542_3359_4892_aad7_ecb44805d12f","uuid":"3f17c21d-4a8b-4f27-8312-2b32585bd4ab"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be","uuid":"73d8a436-320b-4b20-aacf-38ab529d8ee0"},"edge_type":"inherent","type":"","uuid":"31042816-6ef3-4d2f-b920-921972f56b27","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be","uuid":"2d2011b0-0676-40fe-b0ff-f8c39c4a43ef"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be","uuid":"2d2011b0-0676-40fe-b0ff-f8c39c4a43ef"},"edge_type":"inherent","type":"","uuid":"1a00b657-64ee-453f-af96-5ffa1980f350","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_245bf4ad_7ce5_4f29_9f09_a4ceab8ed1e0","uuid":"3ac372fa-234a-4df8-93c5-b7d2aee7e7a1"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7","uuid":"4efbf06b-74ee-423d-8d4c-ec36d0b8a1b3"},"edge_type":"inherent","type":"","uuid":"e1630b8f-26e1-426a-950c-e111986d3dd8","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Delete_f9497542_3359_4892_aad7_ecb44805d12f","uuid":"3f17c21d-4a8b-4f27-8312-2b32585bd4ab"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_245bf4ad_7ce5_4f29_9f09_a4ceab8ed1e0","uuid":"3ac372fa-234a-4df8-93c5-b7d2aee7e7a1"},"edge_type":"inherent","type":"","uuid":"469ec2d5-e2dd-4ac1-925a-6a010983d6e5","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7","uuid":"4efbf06b-74ee-423d-8d4c-ec36d0b8a1b3"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_994a7225_af3b_4caf_b4c5_6e22491d1dbb"},{"target_any_local_reference":{"kind":"app_service","name":"HYCU","uuid":"68544437-203f-42d3-88d3-42dd45239c71"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"73d8a436-320b-4b20-aacf-38ab529d8ee0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"b0aa55d2_deployment","uuid":"3be3bd5f-b169-48f9-9b0f-33481dd4ab03"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"f6b78719_runbook","uuid":"26933329-b25c-4aba-8532-ec59b2933534"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be"},{"target_any_local_reference":{"kind":"app_service","name":"HYCU","uuid":"68544437-203f-42d3-88d3-42dd45239c71"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"2d2011b0-0676-40fe-b0ff-f8c39c4a43ef","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"b0aa55d2_deployment","uuid":"3be3bd5f-b169-48f9-9b0f-33481dd4ab03"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"ebbad80f_runbook","uuid":"3f1b1e99-d64d-4a02-9040-d9d26a0d4bee"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be"},{"target_any_local_reference":{"kind":"app_package","name":"AHV_HYCU_Package","uuid":"bf5b1016-4b5a-4ee5-95cd-6bbb4288d2c8"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"3ac372fa-234a-4df8-93c5-b7d2aee7e7a1","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"b0aa55d2_deployment","uuid":"3be3bd5f-b169-48f9-9b0f-33481dd4ab03"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_245bf4ad_7ce5_4f29_9f09_a4ceab8ed1e0","uuid":"0732d470-c7a9-4152-9b8c-134586e27f40"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_245bf4ad_7ce5_4f29_9f09_a4ceab8ed1e0"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHV_HYCU","uuid":"5eab0b4b-cf59-43c2-8532-41e270d80e56"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"4efbf06b-74ee-423d-8d4c-ec36d0b8a1b3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"b0aa55d2_deployment","uuid":"3be3bd5f-b169-48f9-9b0f-33481dd4ab03"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7","uuid":"904bba25-959f-46ad-8e65-4fe306bb3e51"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"b0aa55d2_deployment","uuid":"3be3bd5f-b169-48f9-9b0f-33481dd4ab03"},"retries":"0","description":"","type":"DELETE_DEPLOYMENT_ELEMENT","uuid":"3f17c21d-4a8b-4f27-8312-2b32585bd4ab","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Delete_f9497542_3359_4892_aad7_ecb44805d12f"}],"description":"","message_list":[],"uuid":"5d7d9ffb-adf2-449c-a5a6-441dca5b461d","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_994a7225_af3b_4caf_b4c5_6e22491d1dbb","uuid":"952fe4c9-a5c8-4e42-a01e-5d4e31a41358"},"name":"SYS_GEN__Runbook_Application_994a7225_af3b_4caf_b4c5_6e22491d1dbb"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"e04c5cde-b8e6-4863-aa41-9a2fd4b1e482","name":"action_soft_delete","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"Nutanix","uuid":"9425ae13-7b0f-4194-a8f6-e579de6035cb"},"retries":"0","description":"","type":"DAG","uuid":"5bf2e537-3e81-4ee0-8351-f789222a2f54","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be","uuid":"4edacba4-db16-47e1-8153-a46d152d98d4"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_245bf4ad_7ce5_4f29_9f09_a4ceab8ed1e0","uuid":"7fc11b2a-862c-425e-a50f-b1df88ac9c8f"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7","uuid":"632c6355-779a-4bbe-8ae9-b92dd4c69a08"},{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_f9497542_3359_4892_aad7_ecb44805d12f","uuid":"e89e0e89-2444-4e5c-87d0-863c5db56b5d"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be","uuid":"4edacba4-db16-47e1-8153-a46d152d98d4"},"edge_type":"inherent","type":"","uuid":"0a1b6152-6f20-45a3-ae2c-ba6eac0fbf4a","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_245bf4ad_7ce5_4f29_9f09_a4ceab8ed1e0","uuid":"7fc11b2a-862c-425e-a50f-b1df88ac9c8f"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7","uuid":"632c6355-779a-4bbe-8ae9-b92dd4c69a08"},"edge_type":"inherent","type":"","uuid":"f029119c-f163-4747-bc77-86f958fc70c8","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_f9497542_3359_4892_aad7_ecb44805d12f","uuid":"e89e0e89-2444-4e5c-87d0-863c5db56b5d"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_245bf4ad_7ce5_4f29_9f09_a4ceab8ed1e0","uuid":"7fc11b2a-862c-425e-a50f-b1df88ac9c8f"},"edge_type":"inherent","type":"","uuid":"ed503b4d-f646-4f42-84d4-ee829288be29","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7","uuid":"632c6355-779a-4bbe-8ae9-b92dd4c69a08"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_994a7225_af3b_4caf_b4c5_6e22491d1dbb"},{"target_any_local_reference":{"kind":"app_service","name":"HYCU","uuid":"68544437-203f-42d3-88d3-42dd45239c71"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"4edacba4-db16-47e1-8153-a46d152d98d4","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"b0aa55d2_deployment","uuid":"3be3bd5f-b169-48f9-9b0f-33481dd4ab03"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_2088365f_88eb_49f4_b2c5_dd2887b746be","uuid":"7395b6df-94ca-4cb9-a790-84bf1ad599e4"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be"},{"target_any_local_reference":{"kind":"app_package","name":"AHV_HYCU_Package","uuid":"bf5b1016-4b5a-4ee5-95cd-6bbb4288d2c8"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"7fc11b2a-862c-425e-a50f-b1df88ac9c8f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_245bf4ad_7ce5_4f29_9f09_a4ceab8ed1e0"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHV_HYCU","uuid":"5eab0b4b-cf59-43c2-8532-41e270d80e56"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"632c6355-779a-4bbe-8ae9-b92dd4c69a08","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"b0aa55d2_deployment","uuid":"3be3bd5f-b169-48f9-9b0f-33481dd4ab03"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7","uuid":"613a08d3-c2c3-4d78-a26a-1a4585178ad8"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"b0aa55d2_deployment","uuid":"3be3bd5f-b169-48f9-9b0f-33481dd4ab03"},"retries":"0","description":"","type":"SOFT_DELETE_DEPLOYMENT_ELEMENT","uuid":"e89e0e89-2444-4e5c-87d0-863c5db56b5d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Soft_Delete_f9497542_3359_4892_aad7_ecb44805d12f"}],"description":"","message_list":[],"uuid":"3be48a5f-96e2-4fa3-8d46-a4abd4a89779","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_994a7225_af3b_4caf_b4c5_6e22491d1dbb","uuid":"5bf2e537-3e81-4ee0-8351-f789222a2f54"},"name":"SYS_GEN__Runbook_Application_994a7225_af3b_4caf_b4c5_6e22491d1dbb"}}],"message_list":[],"uuid":"9425ae13-7b0f-4194-a8f6-e579de6035cb","state":"ACTIVE","dependency_list":[],"variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":true,"description":"Storage cluster address where HYCU is hosted.","data_type":"BASE","message_list":[],"uuid":"901c3b37-1802-466a-8832-56bcc4ccd2e9","value":"https:\/\/10.46.34.88:9440","label":"","state":"ACTIVE","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"NTX_STORAGE_CLUSTER_URL"},{"regex":{},"val_type":"STRING","is_mandatory":true,"description":"Coma separated list of PROD cluster to be managed by HYCU.","data_type":"BASE","message_list":[],"uuid":"80134afb-7b42-42c2-80fd-742905f94364","value":"https:\/\/10.46.34.87:9440","label":"","state":"ACTIVE","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"NTX_PRODUCTION_CLUSTER_URL"},{"regex":{},"val_type":"STRING","is_mandatory":true,"description":"","data_type":"BASE","message_list":[],"uuid":"7d4efad0-c24c-4a4c-9be6-fb5c7566c932","value":"calm-hycu","label":"","state":"ACTIVE","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"HYCU_HOSTNAME"},{"regex":{},"val_type":"STRING","is_mandatory":true,"description":"IP address to be assigned to HYCU.","data_type":"BASE","message_list":[],"uuid":"4405816b-d70b-45b7-8ed7-d07b775e79e0","value":"10.46.6.211","label":"","state":"ACTIVE","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"HYCU_IP"},{"regex":{},"val_type":"STRING","is_mandatory":true,"description":"Prefix of the IP network","data_type":"BASE","message_list":[],"uuid":"2917c741-bb9c-46ad-ac2a-44cb92efef18","value":"24","label":"","state":"ACTIVE","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"HYCU_PREFIX"},{"regex":{},"val_type":"STRING","is_mandatory":true,"description":"Gateway for the network.","data_type":"BASE","message_list":[],"uuid":"6aea0db8-d99c-4a92-8d4b-6e02b8f9b670","value":"10.46.6.1","label":"","state":"ACTIVE","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"HYCU_GATEWAY"},{"regex":{},"val_type":"STRING","is_mandatory":true,"description":"DNS IP","data_type":"BASE","message_list":[],"uuid":"8b7dd035-dafc-446b-b220-4821708d87e1","value":"8.8.8.8","label":"","state":"ACTIVE","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"HYCU_DNS"},{"regex":{},"val_type":"STRING","is_mandatory":true,"description":"DNS search domains.","data_type":"BASE","message_list":[],"uuid":"b16838bf-e32e-48ce-b39b-57db87e9fa7c","value":"nutanix.com","label":"","state":"ACTIVE","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"HYCU_DOMAIN"}],"name":"Nutanix"}],"published_service_definition_list":[],"default_credential_local_reference":{"kind":"app_credential","name":"HYCU_CRED","uuid":"792c419f-af7d-4af2-8b3f-809024c27703"},"package_definition_list":[{"description":"","action_list":[{"description":"System action for installing an application","message_list":[],"uuid":"46019c8e-bebc-47ee-bb31-12b4cd0e8bea","name":"action_install","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHV_HYCU_Package","uuid":"bf5b1016-4b5a-4ee5-95cd-6bbb4288d2c8"},"retries":"0","description":"","type":"DAG","uuid":"00d11cf0-5873-42a3-b6cc-397f92d05815","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Install_Crb_bf5b1016_4b5a_4ee5_95cd_6bbb4288d2c8","uuid":"04fff483-4349-4c9f-862b-17552c644128"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Package_245bf4ad_7ce5_4f29_9f09_a4ceab8ed1e0"},{"target_any_local_reference":{"kind":"app_package","name":"AHV_HYCU_Package","uuid":"bf5b1016-4b5a-4ee5-95cd-6bbb4288d2c8"},"retries":"0","description":"","type":"CUSTOM_PACKAGE_INSTALL","uuid":"04fff483-4349-4c9f-862b-17552c644128","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHV_HYCU_Package","uuid":"bf5b1016-4b5a-4ee5-95cd-6bbb4288d2c8"},"retries":"0","description":"","type":"DAG","uuid":"93a7c546-6060-4527-914d-c21013a4c805","child_tasks_local_reference_list":[{"kind":"app_task","name":"Wait for HYCU services to start","uuid":"e8793758-180b-464c-8cfe-a5d6ef158172"},{"kind":"app_task","name":"Add Storage Cluster","uuid":"e1e32fbd-4855-91c0-ce2d-d8589d23a49e"},{"kind":"app_task","name":"Add Prod Clusters","uuid":"8dff1f44-816b-881b-865d-64a9fe55b4c6"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Wait for HYCU services to start","uuid":"e8793758-180b-464c-8cfe-a5d6ef158172"},"edge_type":"user_defined","type":"","uuid":"d8221195-d614-8a20-586a-1772cf3d56c9","to_task_reference":{"kind":"app_task","name":"Add Storage Cluster","uuid":"e1e32fbd-4855-91c0-ce2d-d8589d23a49e"}},{"from_task_reference":{"kind":"app_task","name":"Add Storage Cluster","uuid":"e1e32fbd-4855-91c0-ce2d-d8589d23a49e"},"edge_type":"user_defined","type":"","uuid":"4b1530aa-7c84-887b-83dd-fe6e8eee5cc4","to_task_reference":{"kind":"app_task","name":"Add Prod Clusters","uuid":"8dff1f44-816b-881b-865d-64a9fe55b4c6"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"f098a20c_dag"},{"target_any_local_reference":{"kind":"app_service","name":"HYCU","uuid":"68544437-203f-42d3-88d3-42dd45239c71"},"retries":"0","description":"","type":"HTTP","uuid":"e8793758-180b-464c-8cfe-a5d6ef158172","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"expected_response_params":[{"status":"SUCCESS","code":200,"type":""}],"request_body":"","retry_count":20,"url":"https:\/\/@@{address}@@:8443\/rest\/v1.0\/administration\/httpserver","response_paths":{},"retry_interval":10,"headers":[],"authentication":{"auth_type":"basic","basic_auth":{"username":"admin","password":{"attrs":{"is_secret_modified":false,"secret_reference":{}}}}},"tls_verify":false,"content_type":"application\/json","connection_timeout":10,"type":"","method":"GET"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Wait for HYCU services to start"},{"target_any_local_reference":{"kind":"app_service","name":"HYCU","uuid":"68544437-203f-42d3-88d3-42dd45239c71"},"retries":"0","description":"","type":"EXEC","uuid":"e1e32fbd-4855-91c0-ce2d-d8589d23a49e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"static","type":"","command_line_args":"","exit_status":[],"script":"#script\n\nhycu_ip = '@@{address}@@'\nusername = 'admin'\npassword = 'admin'\npe_ip = \"@@{NTX_STORAGE_CLUSTER_URL}@@\"\npe_username = \"@@{NTX_PRISM_USER_FOR_HYCU.username}@@\"\npe_password = \"@@{NTX_PRISM_USER_FOR_HYCU.secret}@@\"\n\nif pe_ip == \"\":\n  \"ERROR: 'NTX_STORAGE_CLUSTER_URL' should not be empty\".format(pe_ip)\n  exit(1)\n  \nif pe_username == \"\" and pe_password == \"\":\n  \"ERROR: 'NTX_PRISM_USER_FOR_HYCU' should not be empty, plese fill in the PRISM credentials for hycu\".format(pe_ip)\n  exit(1)\n\napi_url = \"https:\/\/\" + hycu_ip + \":8443\/rest\/v1.0\"\n\nprint \"INFO: Adding Storage cluster '{}'.\".format(pe_ip)\n\n# -*- Retrieving HYCU Node Initiator Name\n\npayload = {\n    \"username\": pe_username,\n    \"url\": pe_ip,\n    \"hypervisorType\": \"KVM\",\n    \"password\": pe_password\n}\n\ncreate_target_url = api_url + \"\/administration\/clusters\"\ntry:\n  headers = {'content-type': \"application\/json\"}\n  response = urlreq(create_target_url, verb='POST', auth=\"BASIC\", user=username, passwd=password, params=json.dumps(payload), verify=False, headers=headers, timeout=30)\n  if response.status_code != 202:\n    print \"ERROR: Adding cluster '{}' failed.\".format(pe_ip)\n  target_create_status = json.loads(response.content)\n  job_uuid = target_create_status[\"entities\"][0][\"jobUuid\"]\nexcept Exception as e:\n  print \"ERROR: Adding cluster '{}' failed, check username\/password\".format(pe_ip) \n  print e.message\n  exit(1)\n    \njobs_url = api_url + \"\/jobs\/\" + job_uuid\nwhile(True):\n  response = urlreq(jobs_url, verb='GET', auth=\"BASIC\", user=username, passwd=password, verify=False)\n  if response.status_code != 200:\n    print \"ERROR: Failed to get job status '{}'.\".format(job_uuid)\n  job_status = json.loads(response.content)\n  if job_status[\"entities\"][0][\"status\"] == \"OK\":\n    print \"INFO: Adding cluster '{}' successful.\".format(pe_ip)\n    break\n  elif job_status[\"entities\"][0][\"status\"] == \"ERROR\":\n    print \"ERROR: Adding cluster '{}' failed.\".format(pe_ip)\n    print job_status[\"entities\"][0][\"taskExitMessage\"][\"debug\"]\n    exit(1)\n  else:\n    print \"INFO: creation of Cluster '{}' in-progress sleeping for 5 seconds.\".format(pe_ip)\n    sleep(5)"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Add Storage Cluster"},{"target_any_local_reference":{"kind":"app_service","name":"HYCU","uuid":"68544437-203f-42d3-88d3-42dd45239c71"},"retries":"0","description":"","type":"EXEC","uuid":"8dff1f44-816b-881b-865d-64a9fe55b4c6","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"static","type":"","command_line_args":"","exit_status":[],"script":"#script\n\nhycu_ip = '@@{address}@@'\nusername = 'admin'\npassword = 'admin'\npe_ips = \"@@{NTX_PRODUCTION_CLUSTER_URL}@@\"\npe_username = \"@@{NTX_PRISM_USER_FOR_HYCU.username}@@\"\npe_password = \"@@{NTX_PRISM_USER_FOR_HYCU.secret}@@\"\n\nif pe_ips == \"\":\n  \"INFO: 'NTX_PRODUCTION_CLUSTER_URL' were not specified exiting.\".format(pe_ip) \n  exit(0)\n  \n  \nif pe_username == \"\" and pe_password == \"\":\n  \"ERROR: 'NTX_PRISM_USER_FOR_HYCU' should not be empty, plese fill in the PRISM credentials for hycu\".format(pe_ip) \n  exit(1)\n\napi_url = \"https:\/\/\" + hycu_ip + \":8443\/rest\/v1.0\"\n\nprint \"INFO: Adding prod clusters '{}'.\".format(pe_ips)\n\n# -*- Retrieving HYCU Node Initiator Name\nfor pe_ip in pe_ips.split(\",\"):\n  if pe_ip == \"\":\n    print \"WARNING: PE IP cannot be empty: '{}'.\".format(pe_ip)\n    continue\n\n  payload = {\n      \"username\": pe_username,\n      \"url\": pe_ip,\n      \"hypervisorType\": \"KVM\",\n      \"password\": pe_password\n  }\n\n  create_target_url = api_url + \"\/administration\/clusters\"\n  try:\n    headers = {'content-type': \"application\/json\"}\n    response = urlreq(create_target_url, verb='POST', auth=\"BASIC\", user=username, passwd=password, params=json.dumps(payload), verify=False, headers=headers, timeout=30)\n    if response.status_code != 202:\n      print \"ERROR: Adding cluster '{}' failed.\".format(pe_ip)\n    target_create_status = json.loads(response.content)\n    job_uuid = target_create_status[\"entities\"][0][\"jobUuid\"]\n  except Exception as e:\n    print \"ERROR: Adding cluster '{}' failed, check username\/password\".format(pe_ip) \n    print e.message\n    exit(1)\n  \n  jobs_url = api_url + \"\/jobs\/\" + job_uuid\n  while(True):\n    response = urlreq(jobs_url, verb='GET', auth=\"BASIC\", user=username, passwd=password, verify=False)\n    if response.status_code != 200:\n      print \"ERROR: Failed to get job status '{}'.\".format(job_uuid)\n    job_status = json.loads(response.content)\n    if job_status[\"entities\"][0][\"status\"] == \"OK\":\n      print \"INFO: Adding cluster '{}' successful.\".format(pe_ip)\n      break\n    elif job_status[\"entities\"][0][\"status\"] == \"ERROR\":\n      print \"ERROR: Adding cluster '{}' failed.\".format(pe_ip)\n      print job_status[\"entities\"][0][\"taskExitMessage\"][\"debug\"]\n      exit(1)\n    else:\n      print \"INFO: Addition of Cluster '{}' in-progress sleeping for 5 seconds.\".format(pe_ip)\n      sleep(5)"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Add Prod Clusters"}],"description":"","message_list":[],"uuid":"0e163d82-70e3-47e1-857c-c928ef6a17f0","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"f098a20c_dag","uuid":"93a7c546-6060-4527-914d-c21013a4c805"},"name":"27de86fc_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHV_HYCU_Package","uuid":"bf5b1016-4b5a-4ee5-95cd-6bbb4288d2c8"},"retries":"0","description":"","type":"DAG","uuid":"2b0d615a-033a-4df1-a1d5-9d535e89406b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"349d3711_dag"}],"description":"","message_list":[],"uuid":"d1bdb459-59c5-491d-9c08-58bb4a87ab5f","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"349d3711_dag","uuid":"2b0d615a-033a-4df1-a1d5-9d535e89406b"},"name":"b8e1f741_runbook"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Install_Crb_bf5b1016_4b5a_4ee5_95cd_6bbb4288d2c8"}],"description":"","message_list":[],"uuid":"5854d77d-2967-4ed5-aa57-30139cd73102","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Package_245bf4ad_7ce5_4f29_9f09_a4ceab8ed1e0","uuid":"00d11cf0-5873-42a3-b6cc-397f92d05815"},"name":"SYS_GEN__Runbook_Package_245bf4ad_7ce5_4f29_9f09_a4ceab8ed1e0"}},{"description":"System action for creating an application","message_list":[],"uuid":"9c304587-e8fe-4faf-88c0-d06ad32fda23","name":"action_create","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHV_HYCU_Package","uuid":"bf5b1016-4b5a-4ee5-95cd-6bbb4288d2c8"},"retries":"0","description":"","type":"DAG","uuid":"da83d2a8-a08d-42c5-b8d9-c5bee597afde","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_245bf4ad_7ce5_4f29_9f09_a4ceab8ed1e0","uuid":"58d1496b-a177-4da4-965f-84837ec4c09f"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be","uuid":"ac97ecfa-99b0-4ddd-b0ce-0a969d8ad83a"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be","uuid":"6aef99d8-ff36-4866-8fe3-955ea9d02f48"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be","uuid":"ac97ecfa-99b0-4ddd-b0ce-0a969d8ad83a"},"edge_type":"inherent","type":"","uuid":"ca37f280-6472-4847-850f-982a2adb6da3","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be","uuid":"6aef99d8-ff36-4866-8fe3-955ea9d02f48"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_245bf4ad_7ce5_4f29_9f09_a4ceab8ed1e0","uuid":"58d1496b-a177-4da4-965f-84837ec4c09f"},"edge_type":"inherent","type":"","uuid":"84723f70-9573-4c9b-9880-00e80ae48479","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be","uuid":"ac97ecfa-99b0-4ddd-b0ce-0a969d8ad83a"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_245bf4ad_7ce5_4f29_9f09_a4ceab8ed1e0"},{"target_any_local_reference":{"kind":"app_package","name":"AHV_HYCU_Package","uuid":"bf5b1016-4b5a-4ee5-95cd-6bbb4288d2c8"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"58d1496b-a177-4da4-965f-84837ec4c09f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_245bf4ad_7ce5_4f29_9f09_a4ceab8ed1e0","uuid":"5854d77d-2967-4ed5-aa57-30139cd73102"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_245bf4ad_7ce5_4f29_9f09_a4ceab8ed1e0"},{"target_any_local_reference":{"kind":"app_service","name":"HYCU","uuid":"68544437-203f-42d3-88d3-42dd45239c71"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"ac97ecfa-99b0-4ddd-b0ce-0a969d8ad83a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"124cb92b_runbook","uuid":"fda62ab9-19b2-4886-a95d-8e7b014a6f10"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be"},{"target_any_local_reference":{"kind":"app_service","name":"HYCU","uuid":"68544437-203f-42d3-88d3-42dd45239c71"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"6aef99d8-ff36-4866-8fe3-955ea9d02f48","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"d8e5204b_runbook","uuid":"1281802f-d78c-4d80-b265-ecc7ec11827f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be"}],"description":"","message_list":[],"uuid":"bb03cd56-d02b-4dca-8082-46abc375e782","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_245bf4ad_7ce5_4f29_9f09_a4ceab8ed1e0","uuid":"da83d2a8-a08d-42c5-b8d9-c5bee597afde"},"name":"SYS_GEN__Runbook_Package_245bf4ad_7ce5_4f29_9f09_a4ceab8ed1e0"}},{"description":"System action for uninstalling an application","message_list":[],"uuid":"023aca5e-de7e-4c85-881d-60961e25d93f","name":"action_uninstall","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHV_HYCU_Package","uuid":"bf5b1016-4b5a-4ee5-95cd-6bbb4288d2c8"},"retries":"0","description":"","type":"DAG","uuid":"98f487da-de91-4a6f-8506-1c4f83ab5d65","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Uninstall_Crb_bf5b1016_4b5a_4ee5_95cd_6bbb4288d2c8","uuid":"ecf0bff3-4303-4b63-b417-e97f9a7a5988"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Package_245bf4ad_7ce5_4f29_9f09_a4ceab8ed1e0"},{"target_any_local_reference":{"kind":"app_package","name":"AHV_HYCU_Package","uuid":"bf5b1016-4b5a-4ee5-95cd-6bbb4288d2c8"},"retries":"0","description":"","type":"CUSTOM_PACKAGE_UNINSTALL","uuid":"ecf0bff3-4303-4b63-b417-e97f9a7a5988","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHV_HYCU_Package","uuid":"bf5b1016-4b5a-4ee5-95cd-6bbb4288d2c8"},"retries":"0","description":"","type":"DAG","uuid":"93a7c546-6060-4527-914d-c21013a4c805","child_tasks_local_reference_list":[{"kind":"app_task","name":"Wait for HYCU services to start","uuid":"e8793758-180b-464c-8cfe-a5d6ef158172"},{"kind":"app_task","name":"Add Storage Cluster","uuid":"e1e32fbd-4855-91c0-ce2d-d8589d23a49e"},{"kind":"app_task","name":"Add Prod Clusters","uuid":"8dff1f44-816b-881b-865d-64a9fe55b4c6"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Wait for HYCU services to start","uuid":"e8793758-180b-464c-8cfe-a5d6ef158172"},"edge_type":"user_defined","type":"","uuid":"d8221195-d614-8a20-586a-1772cf3d56c9","to_task_reference":{"kind":"app_task","name":"Add Storage Cluster","uuid":"e1e32fbd-4855-91c0-ce2d-d8589d23a49e"}},{"from_task_reference":{"kind":"app_task","name":"Add Storage Cluster","uuid":"e1e32fbd-4855-91c0-ce2d-d8589d23a49e"},"edge_type":"user_defined","type":"","uuid":"4b1530aa-7c84-887b-83dd-fe6e8eee5cc4","to_task_reference":{"kind":"app_task","name":"Add Prod Clusters","uuid":"8dff1f44-816b-881b-865d-64a9fe55b4c6"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"f098a20c_dag"},{"target_any_local_reference":{"kind":"app_service","name":"HYCU","uuid":"68544437-203f-42d3-88d3-42dd45239c71"},"retries":"0","description":"","type":"HTTP","uuid":"e8793758-180b-464c-8cfe-a5d6ef158172","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"expected_response_params":[{"status":"SUCCESS","code":200,"type":""}],"request_body":"","retry_count":20,"url":"https:\/\/@@{address}@@:8443\/rest\/v1.0\/administration\/httpserver","response_paths":{},"retry_interval":10,"headers":[],"authentication":{"auth_type":"basic","basic_auth":{"username":"admin","password":{"attrs":{"is_secret_modified":false,"secret_reference":{}}}}},"tls_verify":false,"content_type":"application\/json","connection_timeout":10,"type":"","method":"GET"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Wait for HYCU services to start"},{"target_any_local_reference":{"kind":"app_service","name":"HYCU","uuid":"68544437-203f-42d3-88d3-42dd45239c71"},"retries":"0","description":"","type":"EXEC","uuid":"e1e32fbd-4855-91c0-ce2d-d8589d23a49e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"static","type":"","command_line_args":"","exit_status":[],"script":"#script\n\nhycu_ip = '@@{address}@@'\nusername = 'admin'\npassword = 'admin'\npe_ip = \"@@{NTX_STORAGE_CLUSTER_URL}@@\"\npe_username = \"@@{NTX_PRISM_USER_FOR_HYCU.username}@@\"\npe_password = \"@@{NTX_PRISM_USER_FOR_HYCU.secret}@@\"\n\nif pe_ip == \"\":\n  \"ERROR: 'NTX_STORAGE_CLUSTER_URL' should not be empty\".format(pe_ip)\n  exit(1)\n  \nif pe_username == \"\" and pe_password == \"\":\n  \"ERROR: 'NTX_PRISM_USER_FOR_HYCU' should not be empty, plese fill in the PRISM credentials for hycu\".format(pe_ip)\n  exit(1)\n\napi_url = \"https:\/\/\" + hycu_ip + \":8443\/rest\/v1.0\"\n\nprint \"INFO: Adding Storage cluster '{}'.\".format(pe_ip)\n\n# -*- Retrieving HYCU Node Initiator Name\n\npayload = {\n    \"username\": pe_username,\n    \"url\": pe_ip,\n    \"hypervisorType\": \"KVM\",\n    \"password\": pe_password\n}\n\ncreate_target_url = api_url + \"\/administration\/clusters\"\ntry:\n  headers = {'content-type': \"application\/json\"}\n  response = urlreq(create_target_url, verb='POST', auth=\"BASIC\", user=username, passwd=password, params=json.dumps(payload), verify=False, headers=headers, timeout=30)\n  if response.status_code != 202:\n    print \"ERROR: Adding cluster '{}' failed.\".format(pe_ip)\n  target_create_status = json.loads(response.content)\n  job_uuid = target_create_status[\"entities\"][0][\"jobUuid\"]\nexcept Exception as e:\n  print \"ERROR: Adding cluster '{}' failed, check username\/password\".format(pe_ip) \n  print e.message\n  exit(1)\n    \njobs_url = api_url + \"\/jobs\/\" + job_uuid\nwhile(True):\n  response = urlreq(jobs_url, verb='GET', auth=\"BASIC\", user=username, passwd=password, verify=False)\n  if response.status_code != 200:\n    print \"ERROR: Failed to get job status '{}'.\".format(job_uuid)\n  job_status = json.loads(response.content)\n  if job_status[\"entities\"][0][\"status\"] == \"OK\":\n    print \"INFO: Adding cluster '{}' successful.\".format(pe_ip)\n    break\n  elif job_status[\"entities\"][0][\"status\"] == \"ERROR\":\n    print \"ERROR: Adding cluster '{}' failed.\".format(pe_ip)\n    print job_status[\"entities\"][0][\"taskExitMessage\"][\"debug\"]\n    exit(1)\n  else:\n    print \"INFO: creation of Cluster '{}' in-progress sleeping for 5 seconds.\".format(pe_ip)\n    sleep(5)"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Add Storage Cluster"},{"target_any_local_reference":{"kind":"app_service","name":"HYCU","uuid":"68544437-203f-42d3-88d3-42dd45239c71"},"retries":"0","description":"","type":"EXEC","uuid":"8dff1f44-816b-881b-865d-64a9fe55b4c6","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"static","type":"","command_line_args":"","exit_status":[],"script":"#script\n\nhycu_ip = '@@{address}@@'\nusername = 'admin'\npassword = 'admin'\npe_ips = \"@@{NTX_PRODUCTION_CLUSTER_URL}@@\"\npe_username = \"@@{NTX_PRISM_USER_FOR_HYCU.username}@@\"\npe_password = \"@@{NTX_PRISM_USER_FOR_HYCU.secret}@@\"\n\nif pe_ips == \"\":\n  \"INFO: 'NTX_PRODUCTION_CLUSTER_URL' were not specified exiting.\".format(pe_ip) \n  exit(0)\n  \n  \nif pe_username == \"\" and pe_password == \"\":\n  \"ERROR: 'NTX_PRISM_USER_FOR_HYCU' should not be empty, plese fill in the PRISM credentials for hycu\".format(pe_ip) \n  exit(1)\n\napi_url = \"https:\/\/\" + hycu_ip + \":8443\/rest\/v1.0\"\n\nprint \"INFO: Adding prod clusters '{}'.\".format(pe_ips)\n\n# -*- Retrieving HYCU Node Initiator Name\nfor pe_ip in pe_ips.split(\",\"):\n  if pe_ip == \"\":\n    print \"WARNING: PE IP cannot be empty: '{}'.\".format(pe_ip)\n    continue\n\n  payload = {\n      \"username\": pe_username,\n      \"url\": pe_ip,\n      \"hypervisorType\": \"KVM\",\n      \"password\": pe_password\n  }\n\n  create_target_url = api_url + \"\/administration\/clusters\"\n  try:\n    headers = {'content-type': \"application\/json\"}\n    response = urlreq(create_target_url, verb='POST', auth=\"BASIC\", user=username, passwd=password, params=json.dumps(payload), verify=False, headers=headers, timeout=30)\n    if response.status_code != 202:\n      print \"ERROR: Adding cluster '{}' failed.\".format(pe_ip)\n    target_create_status = json.loads(response.content)\n    job_uuid = target_create_status[\"entities\"][0][\"jobUuid\"]\n  except Exception as e:\n    print \"ERROR: Adding cluster '{}' failed, check username\/password\".format(pe_ip) \n    print e.message\n    exit(1)\n  \n  jobs_url = api_url + \"\/jobs\/\" + job_uuid\n  while(True):\n    response = urlreq(jobs_url, verb='GET', auth=\"BASIC\", user=username, passwd=password, verify=False)\n    if response.status_code != 200:\n      print \"ERROR: Failed to get job status '{}'.\".format(job_uuid)\n    job_status = json.loads(response.content)\n    if job_status[\"entities\"][0][\"status\"] == \"OK\":\n      print \"INFO: Adding cluster '{}' successful.\".format(pe_ip)\n      break\n    elif job_status[\"entities\"][0][\"status\"] == \"ERROR\":\n      print \"ERROR: Adding cluster '{}' failed.\".format(pe_ip)\n      print job_status[\"entities\"][0][\"taskExitMessage\"][\"debug\"]\n      exit(1)\n    else:\n      print \"INFO: Addition of Cluster '{}' in-progress sleeping for 5 seconds.\".format(pe_ip)\n      sleep(5)"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Add Prod Clusters"}],"description":"","message_list":[],"uuid":"0e163d82-70e3-47e1-857c-c928ef6a17f0","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"f098a20c_dag","uuid":"93a7c546-6060-4527-914d-c21013a4c805"},"name":"27de86fc_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHV_HYCU_Package","uuid":"bf5b1016-4b5a-4ee5-95cd-6bbb4288d2c8"},"retries":"0","description":"","type":"DAG","uuid":"2b0d615a-033a-4df1-a1d5-9d535e89406b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"349d3711_dag"}],"description":"","message_list":[],"uuid":"d1bdb459-59c5-491d-9c08-58bb4a87ab5f","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"349d3711_dag","uuid":"2b0d615a-033a-4df1-a1d5-9d535e89406b"},"name":"b8e1f741_runbook"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Uninstall_Crb_bf5b1016_4b5a_4ee5_95cd_6bbb4288d2c8"}],"description":"","message_list":[],"uuid":"0732d470-c7a9-4152-9b8c-134586e27f40","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Package_245bf4ad_7ce5_4f29_9f09_a4ceab8ed1e0","uuid":"98f487da-de91-4a6f-8506-1c4f83ab5d65"},"name":"SYS_GEN__Runbook_Package_245bf4ad_7ce5_4f29_9f09_a4ceab8ed1e0"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"7b9bc1f1-f337-46e1-8101-efe1de93b5e1","name":"action_delete","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHV_HYCU_Package","uuid":"bf5b1016-4b5a-4ee5-95cd-6bbb4288d2c8"},"retries":"0","description":"","type":"DAG","uuid":"8bd89dc3-0a9e-485b-a600-c95a59b76995","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be","uuid":"d3451231-c0c1-48c9-a04a-27f82301b6db"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be","uuid":"17709c5a-833f-458d-9d05-9df00239f4b2"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_245bf4ad_7ce5_4f29_9f09_a4ceab8ed1e0","uuid":"ecea9cc3-1638-4b08-abfd-a741b6e86099"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be","uuid":"d3451231-c0c1-48c9-a04a-27f82301b6db"},"edge_type":"inherent","type":"","uuid":"1f6c0d2c-89c2-4b68-bd77-f3455dfde79b","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be","uuid":"17709c5a-833f-458d-9d05-9df00239f4b2"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be","uuid":"17709c5a-833f-458d-9d05-9df00239f4b2"},"edge_type":"inherent","type":"","uuid":"741b4c37-3f9a-4c0f-951d-71fa3d728aea","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_245bf4ad_7ce5_4f29_9f09_a4ceab8ed1e0","uuid":"ecea9cc3-1638-4b08-abfd-a741b6e86099"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_245bf4ad_7ce5_4f29_9f09_a4ceab8ed1e0"},{"target_any_local_reference":{"kind":"app_service","name":"HYCU","uuid":"68544437-203f-42d3-88d3-42dd45239c71"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"d3451231-c0c1-48c9-a04a-27f82301b6db","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"f6b78719_runbook","uuid":"26933329-b25c-4aba-8532-ec59b2933534"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be"},{"target_any_local_reference":{"kind":"app_service","name":"HYCU","uuid":"68544437-203f-42d3-88d3-42dd45239c71"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"17709c5a-833f-458d-9d05-9df00239f4b2","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"ebbad80f_runbook","uuid":"3f1b1e99-d64d-4a02-9040-d9d26a0d4bee"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be"},{"target_any_local_reference":{"kind":"app_package","name":"AHV_HYCU_Package","uuid":"bf5b1016-4b5a-4ee5-95cd-6bbb4288d2c8"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"ecea9cc3-1638-4b08-abfd-a741b6e86099","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_245bf4ad_7ce5_4f29_9f09_a4ceab8ed1e0","uuid":"0732d470-c7a9-4152-9b8c-134586e27f40"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_245bf4ad_7ce5_4f29_9f09_a4ceab8ed1e0"}],"description":"","message_list":[],"uuid":"ded4632e-5f9b-4b94-9c08-13f8fa5a68f3","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_245bf4ad_7ce5_4f29_9f09_a4ceab8ed1e0","uuid":"8bd89dc3-0a9e-485b-a600-c95a59b76995"},"name":"SYS_GEN__Runbook_Package_245bf4ad_7ce5_4f29_9f09_a4ceab8ed1e0"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"669a1b23-a4dd-4292-aabf-53b1877e6e03","name":"action_soft_delete","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHV_HYCU_Package","uuid":"bf5b1016-4b5a-4ee5-95cd-6bbb4288d2c8"},"retries":"0","description":"","type":"DAG","uuid":"6c426845-0f77-4572-88a1-a7f8e544e258","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be","uuid":"273b1b37-1778-41cf-ac72-00de0a4c4ccc"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_245bf4ad_7ce5_4f29_9f09_a4ceab8ed1e0","uuid":"54b36916-89da-4a54-9924-a67a6bbe8d6f"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be","uuid":"273b1b37-1778-41cf-ac72-00de0a4c4ccc"},"edge_type":"inherent","type":"","uuid":"43f13599-764e-48e6-bbf9-803ae09af066","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_245bf4ad_7ce5_4f29_9f09_a4ceab8ed1e0","uuid":"54b36916-89da-4a54-9924-a67a6bbe8d6f"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_245bf4ad_7ce5_4f29_9f09_a4ceab8ed1e0"},{"target_any_local_reference":{"kind":"app_service","name":"HYCU","uuid":"68544437-203f-42d3-88d3-42dd45239c71"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"273b1b37-1778-41cf-ac72-00de0a4c4ccc","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_2088365f_88eb_49f4_b2c5_dd2887b746be","uuid":"7395b6df-94ca-4cb9-a790-84bf1ad599e4"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be"},{"target_any_local_reference":{"kind":"app_package","name":"AHV_HYCU_Package","uuid":"bf5b1016-4b5a-4ee5-95cd-6bbb4288d2c8"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"54b36916-89da-4a54-9924-a67a6bbe8d6f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_245bf4ad_7ce5_4f29_9f09_a4ceab8ed1e0"}],"description":"","message_list":[],"uuid":"e09f6d84-0565-4590-a752-fd9e964c31bd","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_245bf4ad_7ce5_4f29_9f09_a4ceab8ed1e0","uuid":"6c426845-0f77-4572-88a1-a7f8e544e258"},"name":"SYS_GEN__Runbook_Package_245bf4ad_7ce5_4f29_9f09_a4ceab8ed1e0"}},{"description":"System action for starting an application","message_list":[],"uuid":"64ac1ad5-1abf-4bd8-8754-dba54f22e664","name":"action_start","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHV_HYCU_Package","uuid":"bf5b1016-4b5a-4ee5-95cd-6bbb4288d2c8"},"retries":"0","description":"","type":"DAG","uuid":"55e32a61-206d-44ea-9a57-e35942db6a72","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be","uuid":"d89d5fa6-6dd2-4043-a328-eddfe5897e9e"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_245bf4ad_7ce5_4f29_9f09_a4ceab8ed1e0"},{"target_any_local_reference":{"kind":"app_service","name":"HYCU","uuid":"68544437-203f-42d3-88d3-42dd45239c71"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"d89d5fa6-6dd2-4043-a328-eddfe5897e9e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"d8e5204b_runbook","uuid":"1281802f-d78c-4d80-b265-ecc7ec11827f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be"}],"description":"","message_list":[],"uuid":"526c2709-73ac-446c-a9ae-a8ef9ea76d34","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_245bf4ad_7ce5_4f29_9f09_a4ceab8ed1e0","uuid":"55e32a61-206d-44ea-9a57-e35942db6a72"},"name":"SYS_GEN__Runbook_Package_245bf4ad_7ce5_4f29_9f09_a4ceab8ed1e0"}},{"description":"System action for restarting an application","message_list":[],"uuid":"91cadb5d-983e-4fd4-9a9e-08e3c4368854","name":"action_restart","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHV_HYCU_Package","uuid":"bf5b1016-4b5a-4ee5-95cd-6bbb4288d2c8"},"retries":"0","description":"","type":"DAG","uuid":"15eb1993-820e-46f5-b334-813bbcaff5b0","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be","uuid":"cf29411e-23fe-4155-852d-a5d124120e28"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_245bf4ad_7ce5_4f29_9f09_a4ceab8ed1e0"},{"target_any_local_reference":{"kind":"app_service","name":"HYCU","uuid":"68544437-203f-42d3-88d3-42dd45239c71"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"cf29411e-23fe-4155-852d-a5d124120e28","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"b85cb2cc_runbook","uuid":"f5f5d052-a9c2-4e4e-9cfb-7e961c2d2f54"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be"}],"description":"","message_list":[],"uuid":"7577bce1-5965-4528-bea4-fbefd4058538","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_245bf4ad_7ce5_4f29_9f09_a4ceab8ed1e0","uuid":"15eb1993-820e-46f5-b334-813bbcaff5b0"},"name":"SYS_GEN__Runbook_Package_245bf4ad_7ce5_4f29_9f09_a4ceab8ed1e0"}},{"description":"System action for stopping an application","message_list":[],"uuid":"5a580847-2d27-4850-a754-ea0de7fe4ccc","name":"action_stop","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHV_HYCU_Package","uuid":"bf5b1016-4b5a-4ee5-95cd-6bbb4288d2c8"},"retries":"0","description":"","type":"DAG","uuid":"f2d2067c-2da4-4391-bc57-58ee4b0ee601","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be","uuid":"0c50e37e-eb23-40a0-bd68-5f19a2715b6d"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_245bf4ad_7ce5_4f29_9f09_a4ceab8ed1e0"},{"target_any_local_reference":{"kind":"app_service","name":"HYCU","uuid":"68544437-203f-42d3-88d3-42dd45239c71"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"0c50e37e-eb23-40a0-bd68-5f19a2715b6d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"f6b78719_runbook","uuid":"26933329-b25c-4aba-8532-ec59b2933534"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be"}],"description":"","message_list":[],"uuid":"82be5f95-9295-458d-9672-cc20fa3dec8d","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_245bf4ad_7ce5_4f29_9f09_a4ceab8ed1e0","uuid":"f2d2067c-2da4-4391-bc57-58ee4b0ee601"},"name":"SYS_GEN__Runbook_Package_245bf4ad_7ce5_4f29_9f09_a4ceab8ed1e0"}}],"message_list":[],"service_local_reference_list":[{"kind":"app_service","name":"HYCU","uuid":"68544437-203f-42d3-88d3-42dd45239c71"}],"uuid":"bf5b1016-4b5a-4ee5-95cd-6bbb4288d2c8","state":"ACTIVE","version":"","editables":{},"type":"DEB","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHV_HYCU_Package","uuid":"bf5b1016-4b5a-4ee5-95cd-6bbb4288d2c8"},"retries":"0","description":"","type":"DAG","uuid":"93a7c546-6060-4527-914d-c21013a4c805","child_tasks_local_reference_list":[{"kind":"app_task","name":"Wait for HYCU services to start","uuid":"e8793758-180b-464c-8cfe-a5d6ef158172"},{"kind":"app_task","name":"Add Storage Cluster","uuid":"e1e32fbd-4855-91c0-ce2d-d8589d23a49e"},{"kind":"app_task","name":"Add Prod Clusters","uuid":"8dff1f44-816b-881b-865d-64a9fe55b4c6"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Wait for HYCU services to start","uuid":"e8793758-180b-464c-8cfe-a5d6ef158172"},"edge_type":"user_defined","type":"","uuid":"d8221195-d614-8a20-586a-1772cf3d56c9","to_task_reference":{"kind":"app_task","name":"Add Storage Cluster","uuid":"e1e32fbd-4855-91c0-ce2d-d8589d23a49e"}},{"from_task_reference":{"kind":"app_task","name":"Add Storage Cluster","uuid":"e1e32fbd-4855-91c0-ce2d-d8589d23a49e"},"edge_type":"user_defined","type":"","uuid":"4b1530aa-7c84-887b-83dd-fe6e8eee5cc4","to_task_reference":{"kind":"app_task","name":"Add Prod Clusters","uuid":"8dff1f44-816b-881b-865d-64a9fe55b4c6"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"f098a20c_dag"},{"target_any_local_reference":{"kind":"app_service","name":"HYCU","uuid":"68544437-203f-42d3-88d3-42dd45239c71"},"retries":"0","description":"","type":"HTTP","uuid":"e8793758-180b-464c-8cfe-a5d6ef158172","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"expected_response_params":[{"status":"SUCCESS","code":200,"type":""}],"request_body":"","retry_count":20,"url":"https:\/\/@@{address}@@:8443\/rest\/v1.0\/administration\/httpserver","response_paths":{},"retry_interval":10,"headers":[],"authentication":{"auth_type":"basic","basic_auth":{"username":"admin","password":{"attrs":{"is_secret_modified":false,"secret_reference":{}}}}},"tls_verify":false,"content_type":"application\/json","connection_timeout":10,"type":"","method":"GET"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Wait for HYCU services to start"},{"target_any_local_reference":{"kind":"app_service","name":"HYCU","uuid":"68544437-203f-42d3-88d3-42dd45239c71"},"retries":"0","description":"","type":"EXEC","uuid":"e1e32fbd-4855-91c0-ce2d-d8589d23a49e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"static","type":"","command_line_args":"","exit_status":[],"script":"#script\n\nhycu_ip = '@@{address}@@'\nusername = 'admin'\npassword = 'admin'\npe_ip = \"@@{NTX_STORAGE_CLUSTER_URL}@@\"\npe_username = \"@@{NTX_PRISM_USER_FOR_HYCU.username}@@\"\npe_password = \"@@{NTX_PRISM_USER_FOR_HYCU.secret}@@\"\n\nif pe_ip == \"\":\n  \"ERROR: 'NTX_STORAGE_CLUSTER_URL' should not be empty\".format(pe_ip)\n  exit(1)\n  \nif pe_username == \"\" and pe_password == \"\":\n  \"ERROR: 'NTX_PRISM_USER_FOR_HYCU' should not be empty, plese fill in the PRISM credentials for hycu\".format(pe_ip)\n  exit(1)\n\napi_url = \"https:\/\/\" + hycu_ip + \":8443\/rest\/v1.0\"\n\nprint \"INFO: Adding Storage cluster '{}'.\".format(pe_ip)\n\n# -*- Retrieving HYCU Node Initiator Name\n\npayload = {\n    \"username\": pe_username,\n    \"url\": pe_ip,\n    \"hypervisorType\": \"KVM\",\n    \"password\": pe_password\n}\n\ncreate_target_url = api_url + \"\/administration\/clusters\"\ntry:\n  headers = {'content-type': \"application\/json\"}\n  response = urlreq(create_target_url, verb='POST', auth=\"BASIC\", user=username, passwd=password, params=json.dumps(payload), verify=False, headers=headers, timeout=30)\n  if response.status_code != 202:\n    print \"ERROR: Adding cluster '{}' failed.\".format(pe_ip)\n  target_create_status = json.loads(response.content)\n  job_uuid = target_create_status[\"entities\"][0][\"jobUuid\"]\nexcept Exception as e:\n  print \"ERROR: Adding cluster '{}' failed, check username\/password\".format(pe_ip) \n  print e.message\n  exit(1)\n    \njobs_url = api_url + \"\/jobs\/\" + job_uuid\nwhile(True):\n  response = urlreq(jobs_url, verb='GET', auth=\"BASIC\", user=username, passwd=password, verify=False)\n  if response.status_code != 200:\n    print \"ERROR: Failed to get job status '{}'.\".format(job_uuid)\n  job_status = json.loads(response.content)\n  if job_status[\"entities\"][0][\"status\"] == \"OK\":\n    print \"INFO: Adding cluster '{}' successful.\".format(pe_ip)\n    break\n  elif job_status[\"entities\"][0][\"status\"] == \"ERROR\":\n    print \"ERROR: Adding cluster '{}' failed.\".format(pe_ip)\n    print job_status[\"entities\"][0][\"taskExitMessage\"][\"debug\"]\n    exit(1)\n  else:\n    print \"INFO: creation of Cluster '{}' in-progress sleeping for 5 seconds.\".format(pe_ip)\n    sleep(5)"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Add Storage Cluster"},{"target_any_local_reference":{"kind":"app_service","name":"HYCU","uuid":"68544437-203f-42d3-88d3-42dd45239c71"},"retries":"0","description":"","type":"EXEC","uuid":"8dff1f44-816b-881b-865d-64a9fe55b4c6","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"static","type":"","command_line_args":"","exit_status":[],"script":"#script\n\nhycu_ip = '@@{address}@@'\nusername = 'admin'\npassword = 'admin'\npe_ips = \"@@{NTX_PRODUCTION_CLUSTER_URL}@@\"\npe_username = \"@@{NTX_PRISM_USER_FOR_HYCU.username}@@\"\npe_password = \"@@{NTX_PRISM_USER_FOR_HYCU.secret}@@\"\n\nif pe_ips == \"\":\n  \"INFO: 'NTX_PRODUCTION_CLUSTER_URL' were not specified exiting.\".format(pe_ip) \n  exit(0)\n  \n  \nif pe_username == \"\" and pe_password == \"\":\n  \"ERROR: 'NTX_PRISM_USER_FOR_HYCU' should not be empty, plese fill in the PRISM credentials for hycu\".format(pe_ip) \n  exit(1)\n\napi_url = \"https:\/\/\" + hycu_ip + \":8443\/rest\/v1.0\"\n\nprint \"INFO: Adding prod clusters '{}'.\".format(pe_ips)\n\n# -*- Retrieving HYCU Node Initiator Name\nfor pe_ip in pe_ips.split(\",\"):\n  if pe_ip == \"\":\n    print \"WARNING: PE IP cannot be empty: '{}'.\".format(pe_ip)\n    continue\n\n  payload = {\n      \"username\": pe_username,\n      \"url\": pe_ip,\n      \"hypervisorType\": \"KVM\",\n      \"password\": pe_password\n  }\n\n  create_target_url = api_url + \"\/administration\/clusters\"\n  try:\n    headers = {'content-type': \"application\/json\"}\n    response = urlreq(create_target_url, verb='POST', auth=\"BASIC\", user=username, passwd=password, params=json.dumps(payload), verify=False, headers=headers, timeout=30)\n    if response.status_code != 202:\n      print \"ERROR: Adding cluster '{}' failed.\".format(pe_ip)\n    target_create_status = json.loads(response.content)\n    job_uuid = target_create_status[\"entities\"][0][\"jobUuid\"]\n  except Exception as e:\n    print \"ERROR: Adding cluster '{}' failed, check username\/password\".format(pe_ip) \n    print e.message\n    exit(1)\n  \n  jobs_url = api_url + \"\/jobs\/\" + job_uuid\n  while(True):\n    response = urlreq(jobs_url, verb='GET', auth=\"BASIC\", user=username, passwd=password, verify=False)\n    if response.status_code != 200:\n      print \"ERROR: Failed to get job status '{}'.\".format(job_uuid)\n    job_status = json.loads(response.content)\n    if job_status[\"entities\"][0][\"status\"] == \"OK\":\n      print \"INFO: Adding cluster '{}' successful.\".format(pe_ip)\n      break\n    elif job_status[\"entities\"][0][\"status\"] == \"ERROR\":\n      print \"ERROR: Adding cluster '{}' failed.\".format(pe_ip)\n      print job_status[\"entities\"][0][\"taskExitMessage\"][\"debug\"]\n      exit(1)\n    else:\n      print \"INFO: Addition of Cluster '{}' in-progress sleeping for 5 seconds.\".format(pe_ip)\n      sleep(5)"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Add Prod Clusters"}],"description":"","message_list":[],"uuid":"0e163d82-70e3-47e1-857c-c928ef6a17f0","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"f098a20c_dag","uuid":"93a7c546-6060-4527-914d-c21013a4c805"},"name":"27de86fc_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHV_HYCU_Package","uuid":"bf5b1016-4b5a-4ee5-95cd-6bbb4288d2c8"},"retries":"0","description":"","type":"DAG","uuid":"2b0d615a-033a-4df1-a1d5-9d535e89406b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"349d3711_dag"}],"description":"","message_list":[],"uuid":"d1bdb459-59c5-491d-9c08-58bb4a87ab5f","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"349d3711_dag","uuid":"2b0d615a-033a-4df1-a1d5-9d535e89406b"},"name":"b8e1f741_runbook"}},"variable_list":[],"name":"AHV_HYCU_Package"},{"description":"","action_list":[{"description":"System action for installing an application","message_list":[],"uuid":"823ecb4b-24e4-4b50-a57d-b32bc92edb00","name":"action_install","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"HYCU_3_5_1","uuid":"5c74d4e1-b982-417b-b4b7-1e80c10e96a0"},"retries":"0","description":"","type":"DAG","uuid":"3bd9a0a9-a246-4a81-b8c8-5f74f66daae5","child_tasks_local_reference_list":[{"kind":"app_task","name":"Image Fetch task for VM","uuid":"26c9caaa-a11b-4f7b-8c57-a7ee472fa1c5"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Package_819795cb_9f8e_4881_8690_239b4260b9ec"},{"target_any_local_reference":{"kind":"app_package","name":"HYCU_3_5_1","uuid":"5c74d4e1-b982-417b-b4b7-1e80c10e96a0"},"retries":"0","description":"","type":"SUBSTRATE_IMAGE_FETCH","uuid":"26c9caaa-a11b-4f7b-8c57-a7ee472fa1c5","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"","name":"HYCU_3_5_1","resources":{"image_type":"DISK_IMAGE","checksum":{"checksum_algorithm":"","type":"","checksum_value":""},"source_uri":"https:\/\/repository.comtrade.com\/hycu\/v3.5.1\/hycu-3.5.1-742.qcow2","version":{"product_version":"3.5.1","type":"","product_name":"HYCU"},"architecture":"X86_64","type":""},"description":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Image Fetch task for VM"}],"description":"","message_list":[],"uuid":"c897fcb6-6caf-4047-bf45-9feea06bdaae","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Package_819795cb_9f8e_4881_8690_239b4260b9ec","uuid":"3bd9a0a9-a246-4a81-b8c8-5f74f66daae5"},"name":"SYS_GEN__Runbook_Package_819795cb_9f8e_4881_8690_239b4260b9ec"}},{"description":"System action for creating an application","message_list":[],"uuid":"2d926b25-e3c8-4bf6-bd36-f72890d99684","name":"action_create","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"HYCU_3_5_1","uuid":"5c74d4e1-b982-417b-b4b7-1e80c10e96a0"},"retries":"0","description":"","type":"DAG","uuid":"95599d14-82f7-4c29-9f3a-c1325007cdfa","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_819795cb_9f8e_4881_8690_239b4260b9ec","uuid":"665f4298-c854-44bc-8be8-0316ce687ee9"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_819795cb_9f8e_4881_8690_239b4260b9ec"},{"target_any_local_reference":{"kind":"app_package","name":"HYCU_3_5_1","uuid":"5c74d4e1-b982-417b-b4b7-1e80c10e96a0"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"665f4298-c854-44bc-8be8-0316ce687ee9","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_819795cb_9f8e_4881_8690_239b4260b9ec","uuid":"c897fcb6-6caf-4047-bf45-9feea06bdaae"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_819795cb_9f8e_4881_8690_239b4260b9ec"}],"description":"","message_list":[],"uuid":"2b175032-7e6b-4b9e-b3db-f8a7d78a68b0","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_819795cb_9f8e_4881_8690_239b4260b9ec","uuid":"95599d14-82f7-4c29-9f3a-c1325007cdfa"},"name":"SYS_GEN__Runbook_Package_819795cb_9f8e_4881_8690_239b4260b9ec"}},{"description":"System action for starting an application","message_list":[],"uuid":"715ad10b-e1a3-4660-961d-056105688bc9","name":"action_start","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"HYCU_3_5_1","uuid":"5c74d4e1-b982-417b-b4b7-1e80c10e96a0"},"retries":"0","description":"","type":"DAG","uuid":"772e190b-c42c-4c98-9005-9a96058cf3a3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_819795cb_9f8e_4881_8690_239b4260b9ec"}],"description":"","message_list":[],"uuid":"7194d337-f517-4d49-b890-26be8e33b813","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_819795cb_9f8e_4881_8690_239b4260b9ec","uuid":"772e190b-c42c-4c98-9005-9a96058cf3a3"},"name":"SYS_GEN__Runbook_Package_819795cb_9f8e_4881_8690_239b4260b9ec"}},{"description":"System action for restarting an application","message_list":[],"uuid":"795d33cd-22cb-4750-9517-4ced099fa1a2","name":"action_restart","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"HYCU_3_5_1","uuid":"5c74d4e1-b982-417b-b4b7-1e80c10e96a0"},"retries":"0","description":"","type":"DAG","uuid":"afb2a272-0656-486c-b2fd-7bdc86b036a3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_819795cb_9f8e_4881_8690_239b4260b9ec"}],"description":"","message_list":[],"uuid":"8e57b598-57ad-46c2-bb58-1ea6c046f2bf","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_819795cb_9f8e_4881_8690_239b4260b9ec","uuid":"afb2a272-0656-486c-b2fd-7bdc86b036a3"},"name":"SYS_GEN__Runbook_Package_819795cb_9f8e_4881_8690_239b4260b9ec"}},{"description":"System action for stopping an application","message_list":[],"uuid":"98b35100-fd08-48e8-b0af-799ac1058346","name":"action_stop","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"HYCU_3_5_1","uuid":"5c74d4e1-b982-417b-b4b7-1e80c10e96a0"},"retries":"0","description":"","type":"DAG","uuid":"136740a8-596a-43ef-854c-f1cbdea13852","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_819795cb_9f8e_4881_8690_239b4260b9ec"}],"description":"","message_list":[],"uuid":"a0158493-92b3-4fa1-bc1a-96cc2466c037","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_819795cb_9f8e_4881_8690_239b4260b9ec","uuid":"136740a8-596a-43ef-854c-f1cbdea13852"},"name":"SYS_GEN__Runbook_Package_819795cb_9f8e_4881_8690_239b4260b9ec"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"747714f1-f761-4833-a143-591ff11248dd","name":"action_delete","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"HYCU_3_5_1","uuid":"5c74d4e1-b982-417b-b4b7-1e80c10e96a0"},"retries":"0","description":"","type":"DAG","uuid":"7549bc53-c57a-43b0-8e86-87589a6c5c27","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_819795cb_9f8e_4881_8690_239b4260b9ec"}],"description":"","message_list":[],"uuid":"39923648-3b2a-47df-a0e7-a6e69c08d281","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_819795cb_9f8e_4881_8690_239b4260b9ec","uuid":"7549bc53-c57a-43b0-8e86-87589a6c5c27"},"name":"SYS_GEN__Runbook_Package_819795cb_9f8e_4881_8690_239b4260b9ec"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"e3e6e788-93d4-432b-9bcd-eb3e73195648","name":"action_soft_delete","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"HYCU_3_5_1","uuid":"5c74d4e1-b982-417b-b4b7-1e80c10e96a0"},"retries":"0","description":"","type":"DAG","uuid":"1905d36a-8ba5-4619-9985-c59a407993f8","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_819795cb_9f8e_4881_8690_239b4260b9ec"}],"description":"","message_list":[],"uuid":"2eb433be-8b8f-41ed-95f8-2eacf9edf369","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_819795cb_9f8e_4881_8690_239b4260b9ec","uuid":"1905d36a-8ba5-4619-9985-c59a407993f8"},"name":"SYS_GEN__Runbook_Package_819795cb_9f8e_4881_8690_239b4260b9ec"}}],"message_list":[],"service_local_reference_list":[],"uuid":"5c74d4e1-b982-417b-b4b7-1e80c10e96a0","state":"ACTIVE","version":"","editables":{},"type":"SUBSTRATE_IMAGE","options":{"type":"","name":"HYCU_3_5_1","resources":{"image_type":"DISK_IMAGE","checksum":{"checksum_algorithm":"","type":"","checksum_value":""},"source_uri":"https:\/\/repository.comtrade.com\/hycu\/v3.5.1\/hycu-3.5.1-742.qcow2","version":{"product_version":"3.5.1","type":"","product_name":"HYCU"},"architecture":"X86_64","type":""},"description":""},"variable_list":[],"name":"HYCU_3_5_1"}]},"name":"HYCU X DPaaS on Nutanix Storage"},"spec":{"name":"HYCU X DPaaS on Nutanix Storage","resources":{"service_definition_list":[{"singleton":false,"name":"HYCU","action_list":[{"description":"System action for creating an application","name":"action_create","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","uuid":"68544437-203f-42d3-88d3-42dd45239c71","name":"HYCU"},"retries":"0","description":"","uuid":"c68c5a89-9159-4e37-a362-2709c839faed","child_tasks_local_reference_list":[],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"0a8750e2_dag"}],"description":"","uuid":"fda62ab9-19b2-4886-a95d-8e7b014a6f10","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"0a8750e2_dag","uuid":"c68c5a89-9159-4e37-a362-2709c839faed"},"name":"124cb92b_runbook"},"type":"system","uuid":"19f77702-13ee-433b-8510-848ab3299600"},{"description":"System action for deleting an application. Deletes created VMs as well","name":"action_delete","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","uuid":"68544437-203f-42d3-88d3-42dd45239c71","name":"HYCU"},"retries":"0","description":"","uuid":"4c4dda79-47c8-44d5-a867-365c3064d10d","child_tasks_local_reference_list":[],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"c9368241_dag"}],"description":"","uuid":"3f1b1e99-d64d-4a02-9040-d9d26a0d4bee","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"c9368241_dag","uuid":"4c4dda79-47c8-44d5-a867-365c3064d10d"},"name":"ebbad80f_runbook"},"type":"system","uuid":"6606706b-8334-4171-b313-5693dc7c2454"},{"description":"System action for starting an application","name":"action_start","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","uuid":"68544437-203f-42d3-88d3-42dd45239c71","name":"HYCU"},"retries":"0","description":"","uuid":"265118a6-53c0-49b4-9a2c-524f3e8cd12f","child_tasks_local_reference_list":[],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"6ed68e83_dag"}],"description":"","uuid":"1281802f-d78c-4d80-b265-ecc7ec11827f","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"6ed68e83_dag","uuid":"265118a6-53c0-49b4-9a2c-524f3e8cd12f"},"name":"d8e5204b_runbook"},"type":"system","uuid":"b9b7d6e9-4e8b-4c94-9d12-7fd64619616e"},{"description":"System action for stopping an application","name":"action_stop","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","uuid":"68544437-203f-42d3-88d3-42dd45239c71","name":"HYCU"},"retries":"0","description":"","uuid":"d1cf7960-8365-4d4b-ba5d-9027aed8a5a3","child_tasks_local_reference_list":[],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"13c3aba6_dag"}],"description":"","uuid":"26933329-b25c-4aba-8532-ec59b2933534","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"13c3aba6_dag","uuid":"d1cf7960-8365-4d4b-ba5d-9027aed8a5a3"},"name":"f6b78719_runbook"},"type":"system","uuid":"5edf2f8c-62a3-4a42-a88d-67c59cee80c5"},{"description":"System action for restarting an application","name":"action_restart","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","uuid":"68544437-203f-42d3-88d3-42dd45239c71","name":"HYCU"},"retries":"0","description":"","uuid":"0c7b37a3-aa63-4b44-bd64-334f6b6b416b","child_tasks_local_reference_list":[],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"fdda3fb0_dag"}],"description":"","uuid":"f5f5d052-a9c2-4e4e-9cfb-7e961c2d2f54","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"fdda3fb0_dag","uuid":"0c7b37a3-aa63-4b44-bd64-334f6b6b416b"},"name":"b85cb2cc_runbook"},"type":"system","uuid":"130b8937-68e6-4cc0-9f1e-ed1186afdf61"}],"description":"","uuid":"68544437-203f-42d3-88d3-42dd45239c71","port_list":[],"tier":"","variable_list":[{"val_type":"STRING","uuid":"4ba6ea9e-e8ab-4d84-9c7f-e106ab2f4f3e","name":"TARGET_IQN","value":"","label":"","attrs":{"type":""},"type":"LOCAL","description":""},{"val_type":"STRING","uuid":"9141018d-bc09-4eb5-ac63-a1bbcc4b9b48","name":"INITIATOR_IQN","value":"","label":"","attrs":{"type":""},"type":"LOCAL","description":""}],"depends_on_list":[]}],"substrate_definition_list":[{"name":"AHV_HYCU","action_list":[],"uuid":"5eab0b4b-cf59-43c2-8532-41e270d80e56","readiness_probe":{"connection_type":"SSH","retries":"5","disable_readiness_probe":true,"timeout_secs":"300","address":"@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@","delay_secs":"0","connection_port":22},"editables":{"readiness_probe":{"connection_type":true,"retries":true,"delay_secs":true,"connection_port":true,"timeout_secs":null},"create_spec":{"categories":true,"name":true,"resources":{"nic_list":{"0":{"ip_endpoint_list":{"0":{"ip":true}},"subnet_reference":true}},"serial_port_list":{},"num_vcpus_per_socket":true,"num_sockets":true,"memory_size_mib":true,"guest_customization":true,"disk_list":{"1":{"disk_size_mib":true}}}}},"os_type":"Linux","type":"AHV_VM","create_spec":{"name":"hycu-@@{calm_time}@@","resources":{"nic_list":[{"nic_type":"NORMAL_NIC","ip_endpoint_list":[{"ip":"@@{HYCU_IP}@@","type":"ASSIGNED"}],"network_function_chain_reference":null,"network_function_nic_type":"INGRESS","mac_address":"","subnet_reference":{"kind":"subnet","type":"","name":"","uuid":"099dbe61-2c00-4964-9567-f547ec224e10"},"type":""}],"serial_port_list":[],"guest_tools":null,"num_vcpus_per_socket":1,"num_sockets":4,"gpu_list":[],"memory_size_mib":4096,"parent_reference":null,"hardware_clock_timezone":"","guest_customization":{"cloud_init":{"meta_data":"","type":"","user_data":"#cloud-config\nbootcmd:\n- \/opt\/grizzly\/bin\/cloud_init_setup.sh @@{HYCU_HOSTNAME}@@ @@{HYCU_IP}@@\/@@{HYCU_PREFIX}@@ @@{HYCU_GATEWAY}@@ @@{HYCU_DNS}@@ @@{HYCU_DOMAIN}@@"},"type":"","sysprep":null},"power_state":"ON","type":"","account_uuid":"efc034e3-b50e-4a48-b02d-25036aeb8bd3","boot_config":{"boot_device":{"type":"","disk_address":{"type":"","device_index":0,"adapter_type":"SCSI"}},"type":"","mac_address":""},"disk_list":[{"data_source_reference":{"kind":"app_package","type":"","name":"HYCU_3_1_3","uuid":"5c74d4e1-b982-417b-b4b7-1e80c10e96a0"},"type":"","disk_size_mib":0,"volume_group_reference":null,"device_properties":{"type":"","disk_address":{"type":"","device_index":0,"adapter_type":"SCSI"},"device_type":"DISK"}},{"data_source_reference":null,"type":"","disk_size_mib":32768,"volume_group_reference":null,"device_properties":{"type":"","disk_address":{"type":"","device_index":1,"adapter_type":"SCSI"},"device_type":"DISK"}}]},"availability_zone_reference":null,"backup_policy":null,"type":"","cluster_reference":null,"categories":""},"variable_list":[],"description":""}],"credential_definition_list":[{"username":"hycu","description":"","uuid":"792c419f-af7d-4af2-8b3f-809024c27703","secret":{"attrs":{"is_secret_modified":false,"secret_reference":{"uuid":"e7a4e806-84cf-479e-a298-c3a29a49f8ea"}}},"editables":{"username":true,"secret":true},"type":"PASSWORD","name":"HYCU_CRED"},{"username":"admin","description":"","uuid":"51a64461-f263-4340-b8c8-47968b373387","secret":{"attrs":{"is_secret_modified":false,"secret_reference":{"uuid":"ec2bf36a-2f9e-4217-99f9-f783633473c8"}}},"editables":{"username":true,"secret":true},"type":"PASSWORD","name":"NTX_PRISM_USER_FOR_HYCU"}],"type":"USER","app_profile_list":[{"deployment_create_list":[{"name":"b0aa55d2_deployment","action_list":[],"package_local_reference_list":[{"kind":"app_package","name":"AHV_HYCU_Package","uuid":"bf5b1016-4b5a-4ee5-95cd-6bbb4288d2c8"}],"uuid":"3be3bd5f-b169-48f9-9b0f-33481dd4ab03","min_replicas":"1","max_replicas":"1","substrate_local_reference":{"kind":"app_substrate","name":"AHV_HYCU","uuid":"5eab0b4b-cf59-43c2-8532-41e270d80e56"},"type":"GREENFIELD","variable_list":[],"description":""}],"description":"","action_list":[{"description":"Add ","name":"Add ABS target","critical":false,"runbook":{"task_definition_list":[{"retries":"0","description":"","uuid":"e650042c-a8ce-495f-a508-1dbb48df6843","child_tasks_local_reference_list":[{"kind":"app_task","name":"Create VG","uuid":"3129bd4f-2471-4fd1-bd59-279d51d0bdc9"},{"kind":"app_task","name":"Get Initiator IQN","uuid":"f863596d-a1d0-424e-80b5-b0b64568c18e"},{"kind":"app_task","name":"Attach Client to VG","uuid":"69312df0-b190-4338-bc0e-8571391ff1d2"},{"kind":"app_task","name":"Add VG target","uuid":"0f4be651-3ade-4543-9480-feb2cd8de7e9"}],"attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Create VG","uuid":"3129bd4f-2471-4fd1-bd59-279d51d0bdc9"},"edge_type":"user_defined","type":"","uuid":"b985ef25-671e-4b1f-bc23-e4ba4310d7af","to_task_reference":{"kind":"app_task","name":"Get Initiator IQN","uuid":"f863596d-a1d0-424e-80b5-b0b64568c18e"}},{"from_task_reference":{"kind":"app_task","name":"Get Initiator IQN","uuid":"f863596d-a1d0-424e-80b5-b0b64568c18e"},"edge_type":"user_defined","type":"","uuid":"d71a7e85-10cd-4e83-a890-02d054379620","to_task_reference":{"kind":"app_task","name":"Attach Client to VG","uuid":"69312df0-b190-4338-bc0e-8571391ff1d2"}},{"from_task_reference":{"kind":"app_task","name":"Attach Client to VG","uuid":"69312df0-b190-4338-bc0e-8571391ff1d2"},"edge_type":"user_defined","type":"","uuid":"fab4da4f-7eb7-4c12-9c04-29f74c1bebcd","to_task_reference":{"kind":"app_task","name":"Add VG target","uuid":"0f4be651-3ade-4543-9480-feb2cd8de7e9"}}],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"05a2ac1c_dag"},{"target_any_local_reference":{"kind":"app_service","uuid":"68544437-203f-42d3-88d3-42dd45239c71","name":"HYCU"},"retries":"0","description":"","uuid":"3129bd4f-2471-4fd1-bd59-279d51d0bdc9","child_tasks_local_reference_list":[],"attrs":{"exit_status":[],"script":"#script\n\nprism_ip = '@@{NTX_STORAGE_CLUSTER_URL}@@'\nusername = '@@{NTX_PRISM_USER_FOR_HYCU.username}@@'\npassword = '@@{NTX_PRISM_USER_FOR_HYCU.secret}@@'\nstorage_container_name = '@@{NTX_CONTAINER_NAME}@@'\nstorage_container_uuid = ''\nvgname = '@@{NTX_VG_NAME}@@'\ntarget_vg_size = @@{NTX_TARGET_SIZE_TB}@@*1024*1024*1024*1024\n\napi_url = prism_ip + \"\/PrismGateway\/services\/rest\/v2.0\/\"\n\nprint \"INFO: Retrieving storage container uuid for: {}.\".format(storage_container_name)\n\n# -*- Get Container UUID\n\nget_container_uuid_url = api_url + \"storage_containers\"\ntry:\n  response = urlreq(get_container_uuid_url, verb='GET', auth=\"BASIC\", user=username, passwd=password, verify=False)\n  storage_containers = json.loads(response.content)\n  for container in storage_containers['entities']:\n    if container['name'] == storage_container_name:\n      storage_container_uuid = container['storage_container_uuid']\nexcept Exception as e:\n\tprint \"ERROR: Failed to get storage container uuid, check storage container name or check username\/password\"\n\tprint e.message\n\texit(1)\n\nprint \"INFO: storage container uuid is: {}.\".format(storage_container_uuid)\n\n# -*- Check volume group existance\n\ncheck_vg_url = api_url + \"volume_groups\"\nresponse = urlreq(check_vg_url, verb='GET', auth=\"BASIC\", user=username, passwd=password, verify=False)\nvgs = json.loads(response.content)\nfor vg in vgs['entities']:\n  if vg['name'] == vgname:\n    print \"ERROR: Volume group with name {} already exists.\".format(vgname)\n    exit(1)\n\nprint \"INFO: Creating volume group '{}'.\".format(vgname)\n\n# -*- Create Volume Group\n\ncreate_vg_url = api_url + \"volume_groups\"\npayload = {\n\t\"disk_list\": [{\n\t\t\"create_config\": {\n\t\t\t\"size\": target_vg_size,\n\t\t\t\"storage_container_uuid\": storage_container_uuid\n\t\t},\n\t\t\"index\": 0\n\t}],\n\t\"is_shared\": True,\n\t\"name\": vgname\n}\n\nresponse = urlreq(create_vg_url, verb='POST', auth=\"BASIC\", user=username, passwd=password, params=json.dumps(payload), verify=False)\nif response.status_code != 201:\n\tprint \"ERROR: creation of volume group '{}' failed.\".format(vgname)\n\nvg_create_status = json.loads(response.content)\ntask_uuid = vg_create_status['task_uuid']\n\nsleep(5)\n\ncheck_vg_creation_url = api_url + \"tasks\/\" + task_uuid\nresponse = response = urlreq(check_vg_creation_url, verb='GET', auth=\"BASIC\", user=username, passwd=password, verify=False)\nvg_create_status = json.loads(response.content)\n\nif vg_create_status['progress_status'] != \"Succeeded\":\n\tprint \"ERROR: creation of volume group '{}' failed.\".format(vgname)\n\texit(1)\nelse:\n\tprint \"INFO: creation of volume group '{}' Successful.\".format(vgname)\n    \n# -*- Get Volume Group Target IQN\n\ncheck_vg_url = api_url + \"volume_groups\"\nresponse = urlreq(check_vg_url, verb='GET', auth=\"BASIC\", user=username, passwd=password, verify=False)\nvgs = json.loads(response.content)\nfor vg in vgs['entities']:\n  if vg['name'] == vgname:\n    iscsi_target=vg[\"iscsi_target\"]\n\nprint \"TARGET_IQN=iqn.2010-06.com.nutanix:\" + iscsi_target","eval_variables":["TARGET_IQN"],"eval_scope":"local","type":"","script_type":"static"},"timeout_secs":"0","type":"SET_VARIABLE","variable_list":[],"name":"Create VG"},{"target_any_local_reference":{"kind":"app_service","uuid":"68544437-203f-42d3-88d3-42dd45239c71","name":"HYCU"},"retries":"0","description":"","uuid":"f863596d-a1d0-424e-80b5-b0b64568c18e","child_tasks_local_reference_list":[],"attrs":{"exit_status":[],"script":"#script\n\nhycu_ip = '@@{address}@@'\nusername = 'admin'\npassword = 'admin'\n\napi_url = \"https:\/\/\" + hycu_ip + \":8443\/rest\/v1.0\"\n\nprint \"INFO: Retrieving HYCU Node Initiator Name.\"\n\n# -*- Retrieving HYCU Node Initiator Name\n\nget_iscsiinitiator = api_url + \"\/administration\/iscsiinitiator\"\ntry:\n  response = urlreq(get_iscsiinitiator, verb='GET', auth=\"BASIC\", user=username, passwd=password, verify=False)\n  get_iscsiinitiator = json.loads(response.content)\n  iqn = get_iscsiinitiator[\"entities\"][0][\"initiatorname\"]\nexcept Exception as e:\n\tprint \"ERROR: HYCU Node Initiator Name check username\/password\"\n\tprint e.message\n\texit(1)\n\nprint \"INFO: Initiator Name is: {}.\".format(iqn)\n\nprint \"INITIATOR_IQN=\" + iqn","eval_variables":["INITIATOR_IQN"],"eval_scope":"local","type":"","script_type":"static"},"timeout_secs":"0","type":"SET_VARIABLE","variable_list":[],"name":"Get Initiator IQN"},{"target_any_local_reference":{"kind":"app_service","uuid":"68544437-203f-42d3-88d3-42dd45239c71","name":"HYCU"},"retries":"0","description":"","uuid":"69312df0-b190-4338-bc0e-8571391ff1d2","child_tasks_local_reference_list":[],"attrs":{"script":"#script\n\nprism_ip = '@@{NTX_STORAGE_CLUSTER_URL}@@'\nusername = '@@{NTX_PRISM_USER_FOR_HYCU.username}@@'\npassword = '@@{NTX_PRISM_USER_FOR_HYCU.secret}@@'\nvgname = '@@{NTX_VG_NAME}@@'\nvg_uuid = ''\nIQN='@@{INITIATOR_IQN}@@'\n\napi_url = prism_ip + \"\/PrismGateway\/services\/rest\/v2.0\/\"\n\nprint \"INFO: Attaching VG {} to node.\".format(vgname)\n\n# -*- Check volume group existance\n\ntry:\n  check_vg_url = api_url + \"volume_groups\"\n  response = urlreq(check_vg_url, verb='GET', auth=\"BASIC\", user=username, passwd=password, verify=False)\n  vgs = json.loads(response.content)\n  for vg in vgs['entities']:\n    if vg['name'] == vgname:\n      vg_uuid = vg['uuid']\nexcept Exception as e:\n\tprint \"ERROR: Failed to get volume group, check volume group or check username\/password\"\n\tprint e.message\n\texit(1)\n    \nif vg_uuid == '':\n  print \"ERROR: Volume group with name {} doesn't exists\".format(vgname)\n  exit(1)\n\n# -*- Attach Volume Group\n\nattach_vg_url = api_url + \"volume_groups\/\" + vg_uuid + \"\/open\"\npayload = {\n  \"iscsi_client\": {\n    \"client_address\": IQN\n  },\n  \"operation\": \"ATTACH\"\n}\n\nresponse = urlreq(attach_vg_url, verb='POST', auth=\"BASIC\", user=username, passwd=password, params=json.dumps(payload), verify=False)\nif response.status_code != 201:\n\tprint \"ERROR: Attaching vg '{}' failed.\".format(vgname)\n\nattach_status = json.loads(response.content)\nif attach_status['value']:\n  print \"INFO: Attaching vg '{}' Successful.\".format(vgname)\nelse:\n  print \"ERROR: Attaching vg '{}' failed.\".format(vgname)","type":"","command_line_args":"","exit_status":[],"script_type":"static"},"timeout_secs":"0","type":"EXEC","variable_list":[],"name":"Attach Client to VG"},{"target_any_local_reference":{"kind":"app_service","uuid":"68544437-203f-42d3-88d3-42dd45239c71","name":"HYCU"},"retries":"0","description":"","uuid":"0f4be651-3ade-4543-9480-feb2cd8de7e9","child_tasks_local_reference_list":[],"attrs":{"script":"#script\n\nhycu_ip = '@@{address}@@'\nusername = 'admin'\npassword = 'admin'\ntarget_name = \"@@{HYCU_TARGET_NAME}@@\"\ndata_service_ip = \"@@{NTX_DATA_SERVICE_IP}@@\"\ndata_service_port = \"@@{NTX_DATA_SERVICE_PORT}@@\"\ntarget_iqn = \"@@{TARGET_IQN}@@\"\n\napi_url = \"https:\/\/\" + hycu_ip + \":8443\/rest\/v1.0\"\n\nprint \"INFO: Creating target '{}'.\".format(target_name)\n\n# -*- Retrieving HYCU Node Initiator Name\n\npayload = {\n\t\"name\": target_name,\n\t\"description\": \"\",\n\t\"targetType\": \"I_SCSI\",\n\t\"allowedBackupStreams\": 1,\n\t\"encryption\": False,\n\t\"iScsiStorageDetails\": {\n\t\t\"port\": data_service_port,\n\t\t\"address\": data_service_ip,\n\t\t\"chap\": False,\n\t\t\"targetname\": target_iqn,\n\t\t\"username\": \"\",\n\t\t\"password\": \"\",\n\t\t\"mutualChap\": False\n\t}\n}\n\n# -*- Checking existance of the target.\ncheck_target_url = api_url + \"\/targets\"\nresponse = urlreq(check_target_url, verb='GET', auth=\"BASIC\", user=username, passwd=password, verify=False)\ntargets = json.loads(response.content)\nfor target in targets['entities']:\n  if target['name'] == target_name:\n    print \"ERROR: Target with name {} already exists.\".format(target_name)\n    exit(1)\n    \n# -*- Creating Target\ncreate_target_url = api_url + \"\/targets\"\ntry:\n  headers = {'content-type': \"application\/json\"}\n  response = urlreq(create_target_url, verb='POST', auth=\"BASIC\", user=username, passwd=password, params=json.dumps(payload), verify=False, headers=headers)\n  if response.status_code != 202:\n\tprint \"ERROR: creation of target '{}' failed.\".format(target_name)\n  target_create_status = json.loads(response.content)\n  job_uuid = target_create_status[\"entities\"][0][\"jobUuid\"]\nexcept Exception as e:\n  print \"ERROR: Creation of target '{}' failed, check username\/password\".format(target_name) \n  print e.message\n  exit(1)\n\n    \njobs_url = api_url + \"\/jobs\/\" + job_uuid\nwhile(True):\n  response = urlreq(jobs_url, verb='GET', auth=\"BASIC\", user=username, passwd=password, verify=False)\n  if response.status_code != 200:\n    print \"ERROR: Failed to get job status '{}'.\".format(job_uuid)\n  job_status = json.loads(response.content)\n  if job_status[\"entities\"][0][\"status\"] == \"OK\":\n    print \"INFO: creation of target '{}' successful.\".format(target_name)\n    break\n  elif job_status[\"entities\"][0][\"status\"] == \"ERROR\":\n    print \"ERROR: Failed to create '{}'.\".format(target_name)\n    print job_status[\"entities\"][0][\"taskExitMessage\"][\"debug\"]\n    exit(1)\n  else:\n    print \"INFO: creation of target '{}' in-progress sleeping for 5 seconds.\".format(target_name)\n    sleep(5)","type":"","command_line_args":"","exit_status":[],"script_type":"static"},"timeout_secs":"0","type":"EXEC","variable_list":[],"name":"Add VG target"}],"description":"","uuid":"21007512-134e-4425-b236-d9e352154311","variable_list":[{"val_type":"STRING","uuid":"bb0fd3bf-306b-4c14-ad40-364d24d82906","name":"HYCU_TARGET_NAME","value":"NutanixABS","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","description":""},{"val_type":"STRING","uuid":"c37e77f2-275a-4702-8f18-9592b39ef18b","name":"NTX_CONTAINER_NAME","value":"default-container-34275","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","description":""},{"val_type":"STRING","uuid":"b2d74ca1-6e24-4d1f-bd08-545e99899794","name":"NTX_VG_NAME","value":"hycu-volume-group01","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","description":""},{"val_type":"STRING","uuid":"16af2f8d-f0e0-41b3-b0db-ceced81021a9","name":"NTX_DATA_SERVICE_IP","value":"10.46.34.39","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","description":""},{"val_type":"STRING","uuid":"4146cda9-1dbf-4807-94a4-3d253c7fceef","name":"NTX_DATA_SERVICE_PORT","value":"3260","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","description":""},{"val_type":"STRING","uuid":"3b0c731f-382e-4eca-a396-c0fdf808d862","name":"NTX_TARGET_SIZE_TB","value":"1","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","description":""}],"main_task_local_reference":{"kind":"app_task","name":"05a2ac1c_dag","uuid":"e650042c-a8ce-495f-a508-1dbb48df6843"},"name":"320f45b6_runbook"},"type":"user","uuid":"5e71d376-8048-4240-85f0-2321a8b1de16"},{"description":"","name":"Add AFS target","critical":false,"runbook":{"task_definition_list":[{"retries":"0","description":"","uuid":"c714084d-8538-4691-9412-6128a42aa838","child_tasks_local_reference_list":[{"kind":"app_task","name":"Add AFS Target","uuid":"2175177c-0d9f-4a6b-bafc-482e8d677ff6"}],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"c8537784_dag"},{"target_any_local_reference":{"kind":"app_service","uuid":"68544437-203f-42d3-88d3-42dd45239c71","name":"HYCU"},"retries":"0","description":"","uuid":"2175177c-0d9f-4a6b-bafc-482e8d677ff6","child_tasks_local_reference_list":[],"attrs":{"script":"#script\n\nhycu_ip = '@@{address}@@'\nusername = 'admin'\npassword = 'admin'\ntarget_name = \"@@{HYCU_TARGET_NAME}@@\"\nafs_type = \"@@{NTX_EXISTING_AFS_TYPE}@@\"\nafs_host = \"@@{NTX_EXISTING_AFS_HOST}@@\"\nafs_sharedpath = \"@@{NTX_EXISTING_AFS_SHARED_PATH}@@\"\nsmb_username = \"@@{NTX_EXISTING_SMB_USERNAME}@@\"\nsmb_password = \"@@{NTX_EXISTING_SMB_PASSWORD}@@\"\nsmb_domain = \"@@{NTX_EXISTING_SMB_DOMAIN}@@\"\ntarget_size = @@{NTX_TARGET_SIZE_TB}@@*1024*1024*1024*1024\n\nif afs_type == \"\":\n  print \"INFO: 'NTX_EXISTING_AFS_TYPE' is a mandatory variable\"\nif afs_host == \"\" and afs_sharedpath == \"\" and target_name == \"\":\n  print \"INFO: 'NTX_EXISTING_AFS_HOST', 'NTX_EXISTING_AFS_SHARED_PATH', 'TARGET_NAME' are a mandatory variable\"\n\napi_url = \"https:\/\/\" + hycu_ip + \":8443\/rest\/v1.0\"\n  \nif afs_type == 'NFS':\n  print \"INFO: Creating NFS target '{}'.\".format(target_name)\n  payload = {\n      \"name\": target_name,\n      \"description\": \"\",\n      \"targetType\": \"NFS\",\n      \"allowedBackupStreams\": 1,\n      \"encryption\": False,\n      \"nfsFileSystemDetails\": {\n          \"address\": afs_host,\n          \"sharedPath\": afs_sharedpath\n      },\n      \"advertisedCapacityInBytes\": target_size\n  }\nelif afs_type == 'SMB':\n  print \"INFO: Creating ABS target '{}'.\".format(target_name)\n  payload = {\n\t\"name\": target_name,\n\t\"description\": \"\",\n\t\"targetType\": \"SMB\",\n    \"allowedBackupStreams\": 1,\n    \"encryption\": False,\n\t\"smbFileSystemDetails\": {\n\t\t\"username\": smb_username,\n\t\t\"password\": smb_password,\n\t\t\"domain\": smb_domain,\n\t\t\"sharedPath\": afs_sharedpath,\n\t\t\"address\": afs_host\n\t}\n  }\nelse:\n  print \"ERROR: 'NTX_EXISTING_AFS_TYPE' can only be 'SMB\/NFS'.\".format(target_name)\n  exit(1)\n  \n# -*- Checking existance of the target.\ncheck_target_url = api_url + \"\/targets\"\nresponse = urlreq(check_target_url, verb='GET', auth=\"BASIC\", user=username, passwd=password, verify=False)\ntargets = json.loads(response.content)\nfor target in targets['entities']:\n  if target['name'] == target_name:\n    print \"ERROR: Target with name {} already exists.\".format(target_name)\n    exit(1)\n    \n# -*- Creating Target\ncreate_target_url = api_url + \"\/targets\"\ntry:\n  headers = {'content-type': \"application\/json\"}\n  response = urlreq(create_target_url, verb='POST', auth=\"BASIC\", user=username, passwd=password, params=json.dumps(payload), verify=False, headers=headers)\n  if response.status_code != 202:\n\tprint \"ERROR: creation of target '{}' failed.\".format(target_name)\n  target_create_status = json.loads(response.content)\n  job_uuid = target_create_status[\"entities\"][0][\"jobUuid\"]\nexcept Exception as e:\n  print \"ERROR: Creation of target '{}' failed, check username\/password\".format(target_name) \n  print e.message\n  exit(1)\n\njobs_url = api_url + \"\/jobs\/\" + job_uuid\nwhile(True):\n  response = urlreq(jobs_url, verb='GET', auth=\"BASIC\", user=username, passwd=password, verify=False)\n  if response.status_code != 200:\n    print \"ERROR: Failed to get job status '{}'.\".format(job_uuid)\n  job_status = json.loads(response.content)\n  if job_status[\"entities\"][0][\"status\"] == \"OK\":\n    print \"INFO: creation of target '{}' successful.\".format(target_name)\n    break\n  elif job_status[\"entities\"][0][\"status\"] == \"ERROR\":\n    print \"ERROR: Failed to create '{}'.\".format(target_name)\n    print job_status[\"entities\"][0][\"taskExitMessage\"][\"debug\"]\n    exit(1)\n  else:\n    print \"INFO: creation of target '{}' in-progress sleeping for 5 seconds.\".format(target_name)\n    sleep(5)","type":"","command_line_args":"","exit_status":[],"script_type":"static"},"timeout_secs":"0","type":"EXEC","variable_list":[],"name":"Add AFS Target"}],"description":"","uuid":"4cdd31a9-ffad-4a29-a1dd-0a8ff2a74141","variable_list":[{"val_type":"STRING","is_mandatory":true,"uuid":"7183964d-4cd3-4857-b73b-fafb0aa2bf53","name":"HYCU_TARGET_NAME","value":"NutanixAFS","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","description":""},{"val_type":"STRING","is_mandatory":true,"uuid":"281bad19-9a2f-4ffd-a434-921dc9897fbc","name":"NTX_EXISTING_AFS_TYPE","value":"SMB","label":"","attrs":{"type":"LOCAL"},"editables":{"value":true},"type":"LOCAL","options":{"choices":["SMB","NFS"]},"description":""},{"val_type":"STRING","is_mandatory":true,"uuid":"271c7b5e-09d4-4636-a9ee-5e5aada69b40","name":"NTX_EXISTING_AFS_HOST","value":"10.46.34.175","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","description":""},{"val_type":"STRING","is_mandatory":true,"uuid":"36643309-96b0-449c-abcb-d7f8a61ca305","name":"NTX_EXISTING_AFS_SHARED_PATH","value":"smb-share","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","description":""},{"val_type":"STRING","uuid":"fd0f7e54-2cf0-4149-94e6-2f1c780bb19e","name":"NTX_TARGET_SIZE_TB","value":"1","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","description":""},{"val_type":"STRING","uuid":"af6b150c-f765-410c-9a5b-2458bec4414b","name":"NTX_EXISTING_SMB_DOMAIN","value":"","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","description":""},{"val_type":"STRING","uuid":"d8154151-a321-420e-95fe-ad08f50c5df5","name":"NTX_EXISTING_SMB_USERNAME","value":"","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","description":""},{"val_type":"STRING","uuid":"e1c72715-861c-4e8c-b68b-6d9ba7d1aaf3","name":"NTX_EXISTING_SMB_PASSWORD","label":"","attrs":{"is_secret_modified":false,"secret_reference":{"uuid":"b3b36142-4d9c-4dfb-98ff-9b89a3b22d9e"}},"editables":{"value":true},"type":"SECRET","description":""}],"main_task_local_reference":{"kind":"app_task","name":"c8537784_dag","uuid":"c714084d-8538-4691-9412-6128a42aa838"},"name":"16ddab2e_runbook"},"type":"user","uuid":"f0a1e9a2-5eca-4774-8279-1e295dc64fe4"}],"name":"Nutanix","variable_list":[{"val_type":"STRING","is_mandatory":true,"uuid":"901c3b37-1802-466a-8832-56bcc4ccd2e9","name":"NTX_STORAGE_CLUSTER_URL","value":"https:\/\/10.46.34.88:9440","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","description":"Storage cluster address where HYCU is hosted."},{"val_type":"STRING","is_mandatory":true,"uuid":"80134afb-7b42-42c2-80fd-742905f94364","name":"NTX_PRODUCTION_CLUSTER_URL","value":"https:\/\/10.46.34.87:9440","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","description":"Coma separated list of PROD cluster to be managed by HYCU."},{"val_type":"STRING","is_mandatory":true,"uuid":"7d4efad0-c24c-4a4c-9be6-fb5c7566c932","name":"HYCU_HOSTNAME","value":"calm-hycu","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","description":""},{"val_type":"STRING","is_mandatory":true,"uuid":"4405816b-d70b-45b7-8ed7-d07b775e79e0","name":"HYCU_IP","value":"10.46.6.211","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","description":"IP address to be assigned to HYCU."},{"val_type":"STRING","is_mandatory":true,"uuid":"2917c741-bb9c-46ad-ac2a-44cb92efef18","name":"HYCU_PREFIX","value":"24","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","description":"Prefix of the IP network"},{"val_type":"STRING","is_mandatory":true,"uuid":"6aea0db8-d99c-4a92-8d4b-6e02b8f9b670","name":"HYCU_GATEWAY","value":"10.46.6.1","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","description":"Gateway for the network."},{"val_type":"STRING","is_mandatory":true,"uuid":"8b7dd035-dafc-446b-b220-4821708d87e1","name":"HYCU_DNS","value":"8.8.8.8","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","description":"DNS IP"},{"val_type":"STRING","is_mandatory":true,"uuid":"b16838bf-e32e-48ce-b39b-57db87e9fa7c","name":"HYCU_DOMAIN","value":"nutanix.com","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","description":"DNS search domains."}],"uuid":"9425ae13-7b0f-4194-a8f6-e579de6035cb"}],"default_credential_local_reference":{"kind":"app_credential","name":"HYCU_CRED","uuid":"792c419f-af7d-4af2-8b3f-809024c27703"},"package_definition_list":[{"uuid":"bf5b1016-4b5a-4ee5-95cd-6bbb4288d2c8","action_list":[],"service_local_reference_list":[{"kind":"app_service","name":"HYCU","uuid":"68544437-203f-42d3-88d3-42dd45239c71"}],"name":"AHV_HYCU_Package","version":"","type":"DEB","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHV_HYCU_Package","uuid":"bf5b1016-4b5a-4ee5-95cd-6bbb4288d2c8"},"retries":"0","name":"f098a20c_dag","type":"DAG","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"Add Storage Cluster","uuid":"e8793758-180b-464c-8cfe-a5d6ef158172"},{"kind":"app_task","uuid":"e1e32fbd-4855-91c0-ce2d-d8589d23a49e"},{"kind":"app_task","uuid":"8dff1f44-816b-881b-865d-64a9fe55b4c6"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","uuid":"e8793758-180b-464c-8cfe-a5d6ef158172"},"uuid":"d8221195-d614-8a20-586a-1772cf3d56c9","to_task_reference":{"kind":"app_task","uuid":"e1e32fbd-4855-91c0-ce2d-d8589d23a49e"}},{"from_task_reference":{"kind":"app_task","uuid":"e1e32fbd-4855-91c0-ce2d-d8589d23a49e"},"uuid":"4b1530aa-7c84-887b-83dd-fe6e8eee5cc4","to_task_reference":{"kind":"app_task","uuid":"8dff1f44-816b-881b-865d-64a9fe55b4c6"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"93a7c546-6060-4527-914d-c21013a4c805"},{"target_any_local_reference":{"kind":"app_service","uuid":"68544437-203f-42d3-88d3-42dd45239c71"},"retries":"0","name":"Wait for HYCU services to start","type":"HTTP","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"expected_response_params":[{"status":"SUCCESS","code":"200"}],"url":"https:\/\/@@{address}@@:8443\/rest\/v1.0\/administration\/httpserver","retry_interval":10,"retry_count":20,"authentication":{"auth_type":"basic","basic_auth":{"username":"admin","password":{"attrs":{"is_secret_modified":false},"value":"admin"}}},"content_type":"application\/json","connection_timeout":10,"method":"GET"},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"e8793758-180b-464c-8cfe-a5d6ef158172"},{"target_any_local_reference":{"kind":"app_service","uuid":"68544437-203f-42d3-88d3-42dd45239c71"},"name":"Add Storage Cluster","child_tasks_local_reference_list":[],"attrs":{"script_type":"static","script":"#script\n\nhycu_ip = '@@{address}@@'\nusername = 'admin'\npassword = 'admin'\npe_ip = \"@@{NTX_STORAGE_CLUSTER_URL}@@\"\npe_username = \"@@{NTX_PRISM_USER_FOR_HYCU.username}@@\"\npe_password = \"@@{NTX_PRISM_USER_FOR_HYCU.secret}@@\"\n\nif pe_ip == \"\":\n  \"ERROR: 'NTX_STORAGE_CLUSTER_URL' should not be empty\".format(pe_ip)\n  exit(1)\n  \nif pe_username == \"\" and pe_password == \"\":\n  \"ERROR: 'NTX_PRISM_USER_FOR_HYCU' should not be empty, plese fill in the PRISM credentials for hycu\".format(pe_ip)\n  exit(1)\n\napi_url = \"https:\/\/\" + hycu_ip + \":8443\/rest\/v1.0\"\n\nprint \"INFO: Adding Storage cluster '{}'.\".format(pe_ip)\n\n# -*- Retrieving HYCU Node Initiator Name\n\npayload = {\n    \"username\": pe_username,\n    \"url\": pe_ip,\n    \"hypervisorType\": \"KVM\",\n    \"password\": pe_password\n}\n\ncreate_target_url = api_url + \"\/administration\/clusters\"\ntry:\n  headers = {'content-type': \"application\/json\"}\n  response = urlreq(create_target_url, verb='POST', auth=\"BASIC\", user=username, passwd=password, params=json.dumps(payload), verify=False, headers=headers, timeout=30)\n  if response.status_code != 202:\n    print \"ERROR: Adding cluster '{}' failed.\".format(pe_ip)\n  target_create_status = json.loads(response.content)\n  job_uuid = target_create_status[\"entities\"][0][\"jobUuid\"]\nexcept Exception as e:\n  print \"ERROR: Adding cluster '{}' failed, check username\/password\".format(pe_ip) \n  print e.message\n  exit(1)\n    \njobs_url = api_url + \"\/jobs\/\" + job_uuid\nwhile(True):\n  response = urlreq(jobs_url, verb='GET', auth=\"BASIC\", user=username, passwd=password, verify=False)\n  if response.status_code != 200:\n    print \"ERROR: Failed to get job status '{}'.\".format(job_uuid)\n  job_status = json.loads(response.content)\n  if job_status[\"entities\"][0][\"status\"] == \"OK\":\n    print \"INFO: Adding cluster '{}' successful.\".format(pe_ip)\n    break\n  elif job_status[\"entities\"][0][\"status\"] == \"ERROR\":\n    print \"ERROR: Adding cluster '{}' failed.\".format(pe_ip)\n    print job_status[\"entities\"][0][\"taskExitMessage\"][\"debug\"]\n    exit(1)\n  else:\n    print \"INFO: creation of Cluster '{}' in-progress sleeping for 5 seconds.\".format(pe_ip)\n    sleep(5)"},"type":"EXEC","variable_list":[],"uuid":"e1e32fbd-4855-91c0-ce2d-d8589d23a49e"},{"target_any_local_reference":{"kind":"app_service","uuid":"68544437-203f-42d3-88d3-42dd45239c71"},"name":"Add Prod Clusters","child_tasks_local_reference_list":[],"attrs":{"script_type":"static","script":"#script\n\nhycu_ip = '@@{address}@@'\nusername = 'admin'\npassword = 'admin'\npe_ips = \"@@{NTX_PRODUCTION_CLUSTER_URL}@@\"\npe_username = \"@@{NTX_PRISM_USER_FOR_HYCU.username}@@\"\npe_password = \"@@{NTX_PRISM_USER_FOR_HYCU.secret}@@\"\n\nif pe_ips == \"\":\n  \"INFO: 'NTX_PRODUCTION_CLUSTER_URL' were not specified exiting.\".format(pe_ip) \n  exit(0)\n  \n  \nif pe_username == \"\" and pe_password == \"\":\n  \"ERROR: 'NTX_PRISM_USER_FOR_HYCU' should not be empty, plese fill in the PRISM credentials for hycu\".format(pe_ip) \n  exit(1)\n\napi_url = \"https:\/\/\" + hycu_ip + \":8443\/rest\/v1.0\"\n\nprint \"INFO: Adding prod clusters '{}'.\".format(pe_ips)\n\n# -*- Retrieving HYCU Node Initiator Name\nfor pe_ip in pe_ips.split(\",\"):\n  if pe_ip == \"\":\n    print \"WARNING: PE IP cannot be empty: '{}'.\".format(pe_ip)\n    continue\n\n  payload = {\n      \"username\": pe_username,\n      \"url\": pe_ip,\n      \"hypervisorType\": \"KVM\",\n      \"password\": pe_password\n  }\n\n  create_target_url = api_url + \"\/administration\/clusters\"\n  try:\n    headers = {'content-type': \"application\/json\"}\n    response = urlreq(create_target_url, verb='POST', auth=\"BASIC\", user=username, passwd=password, params=json.dumps(payload), verify=False, headers=headers, timeout=30)\n    if response.status_code != 202:\n      print \"ERROR: Adding cluster '{}' failed.\".format(pe_ip)\n    target_create_status = json.loads(response.content)\n    job_uuid = target_create_status[\"entities\"][0][\"jobUuid\"]\n  except Exception as e:\n    print \"ERROR: Adding cluster '{}' failed, check username\/password\".format(pe_ip) \n    print e.message\n    exit(1)\n  \n  jobs_url = api_url + \"\/jobs\/\" + job_uuid\n  while(True):\n    response = urlreq(jobs_url, verb='GET', auth=\"BASIC\", user=username, passwd=password, verify=False)\n    if response.status_code != 200:\n      print \"ERROR: Failed to get job status '{}'.\".format(job_uuid)\n    job_status = json.loads(response.content)\n    if job_status[\"entities\"][0][\"status\"] == \"OK\":\n      print \"INFO: Adding cluster '{}' successful.\".format(pe_ip)\n      break\n    elif job_status[\"entities\"][0][\"status\"] == \"ERROR\":\n      print \"ERROR: Adding cluster '{}' failed.\".format(pe_ip)\n      print job_status[\"entities\"][0][\"taskExitMessage\"][\"debug\"]\n      exit(1)\n    else:\n      print \"INFO: Addition of Cluster '{}' in-progress sleeping for 5 seconds.\".format(pe_ip)\n      sleep(5)"},"type":"EXEC","variable_list":[],"uuid":"8dff1f44-816b-881b-865d-64a9fe55b4c6"}],"name":"27de86fc_runbook","description":"","state":"ACTIVE","variable_list":[],"message_list":[],"main_task_local_reference":{"kind":"app_task","name":"f098a20c_dag","uuid":"93a7c546-6060-4527-914d-c21013a4c805"},"uuid":"0e163d82-70e3-47e1-857c-c928ef6a17f0"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHV_HYCU_Package","uuid":"bf5b1016-4b5a-4ee5-95cd-6bbb4288d2c8"},"retries":"0","name":"349d3711_dag","type":"DAG","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"2b0d615a-033a-4df1-a1d5-9d535e89406b"}],"name":"b8e1f741_runbook","description":"","state":"ACTIVE","variable_list":[],"message_list":[],"main_task_local_reference":{"kind":"app_task","name":"349d3711_dag","uuid":"2b0d615a-033a-4df1-a1d5-9d535e89406b"},"uuid":"d1bdb459-59c5-491d-9c08-58bb4a87ab5f"}},"variable_list":[],"description":""},{"uuid":"5c74d4e1-b982-417b-b4b7-1e80c10e96a0","action_list":[],"service_local_reference_list":[],"name":"HYCU_3_5_1","version":"","type":"SUBSTRATE_IMAGE","options":{"type":"","name":"HYCU_3_5_1","resources":{"image_type":"DISK_IMAGE","checksum":{},"source_uri":"https:\/\/repository.comtrade.com\/hycu\/v3.5.1\/hycu-3.5.1-742.qcow2","version":{"product_version":"3.5.1","type":"","product_name":"HYCU"},"architecture":"X86_64","type":""},"description":""},"variable_list":[],"description":""}],"client_attrs":{"3be3bd5f-b169-48f9-9b0f-33481dd4ab03":{"y":306.5,"x":808}}},"description":"* [HYCU](https:\/\/@@{AHV_HYCU.address}@@:8443)"},"api_version":"3.0","metadata":{"last_update_time":"1554896835989388","owner_reference":{"kind":"user","uuid":"00000000-0000-0000-0000-000000000000","name":"admin"},"kind":"blueprint","uuid":"29b39802-4fd2-4da6-977b-5172d915cdd5","project_reference":{"kind":"project","name":"default","uuid":"209e0a42-6f2d-4999-9a9b-5aa705d25661"},"spec_version":20,"creation_time":"1549428420183192","name":"HYCU X DPaaS on Nutanix Storage"}}