{"status":{"description":"* Using mongodb command line `sudo mongo --host @@{Router.address}@@ --port 27017`","source_mpi":"","state":"ACTIVE","is_cloned":false,"message_list":[],"resources":{"service_definition_list":[{"port_list":[],"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"d40ebaee-d7b5-4c15-84a4-0c1d819e8b3a","name":"action_create","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"DAG","uuid":"7036ef3b-3512-45ce-b3bc-b39240b4b42b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"d1a00281_dag"}],"description":"","message_list":[],"uuid":"6f256634-e57a-41ea-a837-438a40018db7","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"d1a00281_dag","uuid":"7036ef3b-3512-45ce-b3bc-b39240b4b42b"},"name":"f678ba44_runbook"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"15f22f69-55fb-499c-b80f-8781186f3a9d","name":"action_delete","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"DAG","uuid":"84d6aa5b-5d30-40aa-8c74-9d7a7dcbc2c7","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"13c995e9_dag"}],"description":"","message_list":[],"uuid":"d80d8f71-625e-4530-bf85-66347f427405","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"13c995e9_dag","uuid":"84d6aa5b-5d30-40aa-8c74-9d7a7dcbc2c7"},"name":"6631f4bd_runbook"}},{"description":"System action for starting an application","message_list":[],"uuid":"bd4fe20c-4f58-4800-b3cc-21707eaba9f8","name":"action_start","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"DAG","uuid":"af4e0b39-cdfa-4fc7-b6e6-24525339fd9c","child_tasks_local_reference_list":[{"kind":"app_task","name":"Start","uuid":"3a97e61b-f692-4cf2-acc2-1f79b4655aef"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"e4b747f7_dag"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"EXEC","uuid":"3a97e61b-f692-4cf2-acc2-1f79b4655aef","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\nsudo systemctl stop mongod\nsudo systemctl disable mongod\nsudo systemctl start mongos\nsudo systemctl enable mongos"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Start"}],"description":"","message_list":[],"uuid":"28341bf4-2766-4701-8747-1722ed61db3c","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"e4b747f7_dag","uuid":"af4e0b39-cdfa-4fc7-b6e6-24525339fd9c"},"name":"6729beee_runbook"}},{"description":"System action for stopping an application","message_list":[],"uuid":"d932432c-25fc-4391-b174-48f0ec8d20e6","name":"action_stop","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"DAG","uuid":"b7064fcf-07a8-4632-bd81-0ea706326a82","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"609a09bd_dag"}],"description":"","message_list":[],"uuid":"215f65d0-6496-443c-9017-6dec4743560f","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"609a09bd_dag","uuid":"b7064fcf-07a8-4632-bd81-0ea706326a82"},"name":"6d2afcdd_runbook"}},{"description":"System action for restarting an application","message_list":[],"uuid":"e157f6f5-2b21-40a3-8c33-dbaf961c91a0","name":"action_restart","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"DAG","uuid":"eb1a4af0-24d7-43cf-9b24-0db85225a892","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"ad2243e1_dag"}],"description":"","message_list":[],"uuid":"dcdcb0d6-e68b-4641-8609-e6dc92c57b21","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"ad2243e1_dag","uuid":"eb1a4af0-24d7-43cf-9b24-0db85225a892"},"name":"5261a312_runbook"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"a783ae5a-7651-415f-a1f6-fff1a381d67b","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"DAG","uuid":"f26cb4ee-b211-4f7f-acc6-3443338096b2","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Service_Element_Delete_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"11cb1e4b-1262-4b85-860e-262d6e2d764e"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Service_57337465_81f3_4470_86b8_b234707e1e9e"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"11cb1e4b-1262-4b85-860e-262d6e2d764e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Service_Element_Delete_57337465_81f3_4470_86b8_b234707e1e9e"}],"description":"","message_list":[],"uuid":"3fe61be2-c077-40a8-91a6-e9e75a5d2af3","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"f26cb4ee-b211-4f7f-acc6-3443338096b2"},"name":"SYS_GEN__Runbook_Service_57337465_81f3_4470_86b8_b234707e1e9e"}}],"message_list":[],"uuid":"57337465-81f3-4470-86b8-b234707e1e9e","state":"ACTIVE","depends_on_list":[],"editables":{},"tier":"","singleton":false,"variable_list":[],"name":"Router"},{"port_list":[],"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"169d5a01-dfa2-4e7e-a0a4-a31aff5400f2","name":"action_create","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"DAG","uuid":"e7fcc53e-b69b-47d4-8536-10522374cadb","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"f7e70534_dag"}],"description":"","message_list":[],"uuid":"741de02d-b511-4b87-8b94-a1b0b74e0fb7","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"f7e70534_dag","uuid":"e7fcc53e-b69b-47d4-8536-10522374cadb"},"name":"0a879260_runbook"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"2970ed1e-0e26-4fb4-a50a-8d7d5d09b72b","name":"action_delete","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"DAG","uuid":"78238999-c73f-4ef2-a0f0-07efd0f87017","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"12e11772_dag"}],"description":"","message_list":[],"uuid":"8625e87a-c851-44ac-9a8c-6808a1ac5574","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"12e11772_dag","uuid":"78238999-c73f-4ef2-a0f0-07efd0f87017"},"name":"3c3538b9_runbook"}},{"description":"System action for starting an application","message_list":[],"uuid":"20dd5c78-7355-4a08-91a7-30d3f21f8713","name":"action_start","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"DAG","uuid":"bfe07d4d-ddb7-49bd-ad47-e8333de7a380","child_tasks_local_reference_list":[{"kind":"app_task","name":"Start","uuid":"164508db-5082-4088-b114-fff2169b8d47"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"af5f3241_dag"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"EXEC","uuid":"164508db-5082-4088-b114-fff2169b8d47","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\nsudo systemctl start mongod\nsudo systemctl enable mongod"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Start"}],"description":"","message_list":[],"uuid":"0c2528e9-82d6-40bc-9b4d-721eabd37ead","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"af5f3241_dag","uuid":"bfe07d4d-ddb7-49bd-ad47-e8333de7a380"},"name":"f4695758_runbook"}},{"description":"System action for stopping an application","message_list":[],"uuid":"2d8dbd5d-b9ca-4e43-b820-7ce486dc99d0","name":"action_stop","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"DAG","uuid":"e872499a-158a-4f31-bcdd-8a683a83d766","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"78683256_dag"}],"description":"","message_list":[],"uuid":"e6335ceb-f00b-4ec5-8425-3864e1897a7d","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"78683256_dag","uuid":"e872499a-158a-4f31-bcdd-8a683a83d766"},"name":"a33b20bd_runbook"}},{"description":"System action for restarting an application","message_list":[],"uuid":"44c4b37e-2874-44c5-9c3f-17286556f2ef","name":"action_restart","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"DAG","uuid":"34d13ba3-15a9-44dc-8851-090d20fdee00","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"148b8c3e_dag"}],"description":"","message_list":[],"uuid":"7c36f5f8-9e8b-4f97-b855-438dc7eb8f3d","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"148b8c3e_dag","uuid":"34d13ba3-15a9-44dc-8851-090d20fdee00"},"name":"b7169291_runbook"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"87219456-6eaf-404e-9aa8-4be222eb3bc8","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"DAG","uuid":"86f945dd-cf84-4a28-ad15-337e42b89aa0","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Service_Element_Delete_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"5319b7fd-e584-4b8d-84db-8cd9cc7920a1"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Service_a953c31a_1345_47a6_8af3_9de919a722bd"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"5319b7fd-e584-4b8d-84db-8cd9cc7920a1","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Service_Element_Delete_a953c31a_1345_47a6_8af3_9de919a722bd"}],"description":"","message_list":[],"uuid":"71c44ff6-8283-4578-8e15-dbf648d09ee4","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"86f945dd-cf84-4a28-ad15-337e42b89aa0"},"name":"SYS_GEN__Runbook_Service_a953c31a_1345_47a6_8af3_9de919a722bd"}}],"message_list":[],"uuid":"a953c31a-1345-47a6-8af3-9de919a722bd","state":"ACTIVE","depends_on_list":[],"editables":{},"tier":"","singleton":false,"variable_list":[],"name":"ConfigSet"},{"port_list":[],"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"e9dc8d5a-4695-4088-aa8b-73bc991e9d29","name":"action_create","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"DAG","uuid":"8a2dbfbd-c4e2-41cc-91b8-870473ed7267","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"614aa2b8_dag"}],"description":"","message_list":[],"uuid":"c08988e8-53fc-48b3-942d-00d118016989","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"614aa2b8_dag","uuid":"8a2dbfbd-c4e2-41cc-91b8-870473ed7267"},"name":"0bda2b69_runbook"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"c23fe507-12e7-4726-b054-e17ba6c33df2","name":"action_delete","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"DAG","uuid":"285f6722-ba0c-49c7-9a2d-9953bf131e91","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"a7917b2b_dag"}],"description":"","message_list":[],"uuid":"c6545ccb-d141-45bd-bf59-cf1e44946785","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"a7917b2b_dag","uuid":"285f6722-ba0c-49c7-9a2d-9953bf131e91"},"name":"036f3879_runbook"}},{"description":"System action for starting an application","message_list":[],"uuid":"1756a82e-ccbc-42e8-ba99-fb86f69e2fa6","name":"action_start","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"DAG","uuid":"9302aa8c-a244-417b-9b54-cc734665a98b","child_tasks_local_reference_list":[{"kind":"app_task","name":"Start","uuid":"3edfe352-6b27-4e34-bcee-001963b3111c"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"a3862dd5_dag"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"EXEC","uuid":"3edfe352-6b27-4e34-bcee-001963b3111c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\nsudo systemctl start mongod\nsudo systemctl enable mongod"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Start"}],"description":"","message_list":[],"uuid":"43f16a26-e0b7-42a9-b2de-6e6d4147d381","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"a3862dd5_dag","uuid":"9302aa8c-a244-417b-9b54-cc734665a98b"},"name":"0f1333dd_runbook"}},{"description":"System action for stopping an application","message_list":[],"uuid":"1c909ae1-a265-44aa-83b8-5b61e3b73fb9","name":"action_stop","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"DAG","uuid":"2c31ad88-b311-49ba-8ba3-aa8f6a24a030","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"9ef82f03_dag"}],"description":"","message_list":[],"uuid":"42cf4c9d-d9e5-435e-b222-f2d33a05683f","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"9ef82f03_dag","uuid":"2c31ad88-b311-49ba-8ba3-aa8f6a24a030"},"name":"85883b0a_runbook"}},{"description":"System action for restarting an application","message_list":[],"uuid":"da6f7d5b-458d-49e9-afd4-c02d5733465e","name":"action_restart","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"DAG","uuid":"862e0d2c-75be-45f7-9e9a-4a9fa29cd7b2","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"6fd14db5_dag"}],"description":"","message_list":[],"uuid":"03856e37-e1bf-4b7c-95bb-87bf81c6c940","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"6fd14db5_dag","uuid":"862e0d2c-75be-45f7-9e9a-4a9fa29cd7b2"},"name":"4f7b2559_runbook"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"74dd37e8-118a-44f5-a4d8-0488429949b8","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"DAG","uuid":"c4bdbf29-0b6f-4ae7-baf7-433f373b16a9","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Service_Element_Delete_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"a89fc2cb-3d96-4772-9933-a64f8a8440e9"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Service_17a450f6_2b1b_48c1_be1d_60954b642b47"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"a89fc2cb-3d96-4772-9933-a64f8a8440e9","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Service_Element_Delete_17a450f6_2b1b_48c1_be1d_60954b642b47"}],"description":"","message_list":[],"uuid":"433fbe65-0fc7-4649-a088-87d5660f88a6","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"c4bdbf29-0b6f-4ae7-baf7-433f373b16a9"},"name":"SYS_GEN__Runbook_Service_17a450f6_2b1b_48c1_be1d_60954b642b47"}}],"message_list":[],"uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47","state":"ACTIVE","depends_on_list":[],"editables":{},"tier":"","singleton":false,"variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"632ae0ce-49b2-4b79-8162-38f35c0706b1","value":"","label":"","state":"ACTIVE","attrs":{"type":""},"editables":{},"is_hidden":false,"type":"LOCAL","options":{},"name":"SHARD_TO_MOVE"}],"name":"DataSet"}],"substrate_definition_list":[{"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"c5006957-a6c2-4288-8f5f-8dc7110a6923","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AHVRouter","uuid":"e372d8fd-d7ad-4678-ac50-0517f533c9d4"},"retries":"0","description":"","type":"DAG","uuid":"db774bf2-94c7-4664-aa72-3bc1bdc5d490","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Nutanix_Provision_e372d8fd_d7ad_4678_ac50_0517f533c9d4","uuid":"f2e9dc02-2fdc-4408-808b-f7751e00f08e"},{"kind":"app_task","name":"SYS_GEN__check_login_for_AHVRouter_e372d8fd_d7ad_4678_ac50_0517f533c9d4","uuid":"9191b203-b999-416f-9dc5-012b35c1c844"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Nutanix_Provision_e372d8fd_d7ad_4678_ac50_0517f533c9d4","uuid":"f2e9dc02-2fdc-4408-808b-f7751e00f08e"},"edge_type":"inherent","type":"","uuid":"7c7691e7-58a4-4d6c-8f47-d8dcb96174b2","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_AHVRouter_e372d8fd_d7ad_4678_ac50_0517f533c9d4","uuid":"9191b203-b999-416f-9dc5-012b35c1c844"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_e372d8fd_d7ad_4678_ac50_0517f533c9d4"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVRouter","uuid":"e372d8fd-d7ad-4678-ac50-0517f533c9d4"},"retries":"0","description":"","type":"PROVISION_NUTANIX","uuid":"f2e9dc02-2fdc-4408-808b-f7751e00f08e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"name":"MongoRouter-@@{calm_array_index}@@-@@{calm_time}@@","categories":"","availability_zone_reference":null,"backup_policy":null,"type":"","cluster_reference":null,"resources":{"nic_list":[{"nic_type":"NORMAL_NIC","ip_endpoint_list":[],"network_function_chain_reference":null,"network_function_nic_type":"INGRESS","mac_address":"","subnet_reference":{"kind":"subnet","type":"","name":"","uuid":"efc034e3-b50e-4a48-b02d-25036aeb8bd3"},"type":""}],"parent_reference":null,"guest_tools":null,"num_vcpus_per_socket":1,"num_sockets":2,"serial_port_list":[],"gpu_list":[],"memory_size_mib":2048,"power_state":"ON","hardware_clock_timezone":"","guest_customization":{"cloud_init":{"meta_data":"","type":"","user_data":"#cloud-config\nusers:\n  - name: centos\n    ssh-authorized-keys:\n      - @@{CENTOS.public_key}@@\n    sudo: ['ALL=(ALL) NOPASSWD:ALL']"},"type":"","sysprep":null},"type":"","boot_config":{"boot_device":{"type":"","disk_address":{"adapter_type":"SCSI","device_index":0,"type":""}},"type":"","mac_address":""},"disk_list":[{"data_source_reference":{"kind":"app_package","type":"","name":"AHV_CENTOS_76","uuid":"adee1967-610d-4f23-964b-6d9b24e27af2"},"type":"","disk_size_mib":0,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":0,"type":""}}}]}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Nutanix_Provision_e372d8fd_d7ad_4678_ac50_0517f533c9d4"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVRouter","uuid":"e372d8fd-d7ad-4678-ac50-0517f533c9d4"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"9191b203-b999-416f-9dc5-012b35c1c844","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"60","address":"@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_AHVRouter_e372d8fd_d7ad_4678_ac50_0517f533c9d4"}],"description":"","message_list":[],"uuid":"8d84e705-f6f5-4fbf-a511-ed662173d0d8","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_e372d8fd_d7ad_4678_ac50_0517f533c9d4","uuid":"db774bf2-94c7-4664-aa72-3bc1bdc5d490"},"name":"SYS_GEN__Runbook_Substrate_e372d8fd_d7ad_4678_ac50_0517f533c9d4"}},{"description":"System action for powering on an application","message_list":[],"uuid":"e904ce43-34bb-4a4d-a86a-5aab97ef4e24","name":"action_poweron","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AHVRouter","uuid":"e372d8fd-d7ad-4678-ac50-0517f533c9d4"},"retries":"0","description":"","type":"DAG","uuid":"c9851e71-a87c-449d-bf5a-c8f1d3ec5c11","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Nutanix_Operation_PowerOn_e372d8fd_d7ad_4678_ac50_0517f533c9d4","uuid":"9338cb49-797f-4788-93b6-eff9986943b5"},{"kind":"app_task","name":"SYS_GEN__check_login_for_AHVRouter_e372d8fd_d7ad_4678_ac50_0517f533c9d4","uuid":"5a1429b8-fdb7-4610-b3cf-798b5e90b138"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Nutanix_Operation_PowerOn_e372d8fd_d7ad_4678_ac50_0517f533c9d4","uuid":"9338cb49-797f-4788-93b6-eff9986943b5"},"edge_type":"inherent","type":"","uuid":"f7f7217c-8965-4e66-b57e-1b00da3b83b3","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_AHVRouter_e372d8fd_d7ad_4678_ac50_0517f533c9d4","uuid":"5a1429b8-fdb7-4610-b3cf-798b5e90b138"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_e372d8fd_d7ad_4678_ac50_0517f533c9d4"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVRouter","uuid":"e372d8fd-d7ad-4678-ac50-0517f533c9d4"},"retries":"0","description":"","type":"VMOPERATION_NUTANIX","uuid":"9338cb49-797f-4788-93b6-eff9986943b5","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Nutanix_Operation_PowerOn_e372d8fd_d7ad_4678_ac50_0517f533c9d4"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVRouter","uuid":"e372d8fd-d7ad-4678-ac50-0517f533c9d4"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"5a1429b8-fdb7-4610-b3cf-798b5e90b138","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"60","address":"@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_AHVRouter_e372d8fd_d7ad_4678_ac50_0517f533c9d4"}],"description":"","message_list":[],"uuid":"157384aa-6193-404c-9da0-4eb34413d03e","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_e372d8fd_d7ad_4678_ac50_0517f533c9d4","uuid":"c9851e71-a87c-449d-bf5a-c8f1d3ec5c11"},"name":"SYS_GEN__Runbook_Substrate_e372d8fd_d7ad_4678_ac50_0517f533c9d4"}},{"description":"System action for restarting an application","message_list":[],"uuid":"357533d5-14e5-474d-8904-a1e8360d1ba9","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AHVRouter","uuid":"e372d8fd-d7ad-4678-ac50-0517f533c9d4"},"retries":"0","description":"","type":"DAG","uuid":"220fc5a6-8606-448a-9297-3864b9e39143","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Nutanix_Operation_Restart_e372d8fd_d7ad_4678_ac50_0517f533c9d4","uuid":"b1d1cfeb-d9f4-4e96-a376-34484bcb2a73"},{"kind":"app_task","name":"SYS_GEN__check_login_for_AHVRouter_e372d8fd_d7ad_4678_ac50_0517f533c9d4","uuid":"37534d37-c0db-424e-9f81-243c116522ab"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Nutanix_Operation_Restart_e372d8fd_d7ad_4678_ac50_0517f533c9d4","uuid":"b1d1cfeb-d9f4-4e96-a376-34484bcb2a73"},"edge_type":"inherent","type":"","uuid":"22e0ce6f-b68a-4b25-811a-ee0d4052c840","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_AHVRouter_e372d8fd_d7ad_4678_ac50_0517f533c9d4","uuid":"37534d37-c0db-424e-9f81-243c116522ab"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_e372d8fd_d7ad_4678_ac50_0517f533c9d4"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVRouter","uuid":"e372d8fd-d7ad-4678-ac50-0517f533c9d4"},"retries":"0","description":"","type":"VMOPERATION_NUTANIX","uuid":"b1d1cfeb-d9f4-4e96-a376-34484bcb2a73","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Nutanix_Operation_Restart_e372d8fd_d7ad_4678_ac50_0517f533c9d4"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVRouter","uuid":"e372d8fd-d7ad-4678-ac50-0517f533c9d4"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"37534d37-c0db-424e-9f81-243c116522ab","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"60","address":"@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_AHVRouter_e372d8fd_d7ad_4678_ac50_0517f533c9d4"}],"description":"","message_list":[],"uuid":"0bb711c8-37ac-4cc4-b29f-d9eb496057e9","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_e372d8fd_d7ad_4678_ac50_0517f533c9d4","uuid":"220fc5a6-8606-448a-9297-3864b9e39143"},"name":"SYS_GEN__Runbook_Substrate_e372d8fd_d7ad_4678_ac50_0517f533c9d4"}},{"description":"System action for suspending an application","message_list":[],"uuid":"c4e76a09-4d9b-409a-9e13-ea002edbc7b5","name":"action_suspend","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AHVRouter","uuid":"e372d8fd-d7ad-4678-ac50-0517f533c9d4"},"retries":"0","description":"","type":"DAG","uuid":"4cd7fd1f-ea5b-410b-902f-b3fbe85ddf03","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_e372d8fd_d7ad_4678_ac50_0517f533c9d4"}],"description":"","message_list":[],"uuid":"803dab6d-13f6-4b73-af21-63d70f84e988","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_e372d8fd_d7ad_4678_ac50_0517f533c9d4","uuid":"4cd7fd1f-ea5b-410b-902f-b3fbe85ddf03"},"name":"SYS_GEN__Runbook_Substrate_e372d8fd_d7ad_4678_ac50_0517f533c9d4"}},{"description":"System action for modifying an application","message_list":[],"uuid":"a5a48d32-f7e0-4743-b912-b4152bdd93d5","name":"action_modify","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AHVRouter","uuid":"e372d8fd-d7ad-4678-ac50-0517f533c9d4"},"retries":"0","description":"","type":"DAG","uuid":"bbfa2383-2736-4fdc-8bb1-6f0f55bad9ff","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_e372d8fd_d7ad_4678_ac50_0517f533c9d4"}],"description":"","message_list":[],"uuid":"3e758e46-2f75-4d6d-b7ed-7ada454b882f","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_e372d8fd_d7ad_4678_ac50_0517f533c9d4","uuid":"bbfa2383-2736-4fdc-8bb1-6f0f55bad9ff"},"name":"SYS_GEN__Runbook_Substrate_e372d8fd_d7ad_4678_ac50_0517f533c9d4"}},{"description":"System action for powering off an application","message_list":[],"uuid":"104c299d-b7ed-4e73-906b-b2519f66cfa9","name":"action_poweroff","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AHVRouter","uuid":"e372d8fd-d7ad-4678-ac50-0517f533c9d4"},"retries":"0","description":"","type":"DAG","uuid":"ac75a433-707a-49a5-bcab-100a3f4ef5b2","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Nutanix_Operation_PowerOff_e372d8fd_d7ad_4678_ac50_0517f533c9d4","uuid":"9cde3a5b-2e10-466e-8f18-a6bd561c7eb3"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_e372d8fd_d7ad_4678_ac50_0517f533c9d4"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVRouter","uuid":"e372d8fd-d7ad-4678-ac50-0517f533c9d4"},"retries":"0","description":"","type":"VMOPERATION_NUTANIX","uuid":"9cde3a5b-2e10-466e-8f18-a6bd561c7eb3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Nutanix_Operation_PowerOff_e372d8fd_d7ad_4678_ac50_0517f533c9d4"}],"description":"","message_list":[],"uuid":"c93dbab5-2876-4a0b-be53-370cb5bcc56a","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_e372d8fd_d7ad_4678_ac50_0517f533c9d4","uuid":"ac75a433-707a-49a5-bcab-100a3f4ef5b2"},"name":"SYS_GEN__Runbook_Substrate_e372d8fd_d7ad_4678_ac50_0517f533c9d4"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"f1e8c70d-3b87-4bb9-aaab-167449e1eeea","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AHVRouter","uuid":"e372d8fd-d7ad-4678-ac50-0517f533c9d4"},"retries":"0","description":"","type":"DAG","uuid":"a518381e-cd87-44d8-8ca4-eafb637edccc","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Nutanix_Delete_e372d8fd_d7ad_4678_ac50_0517f533c9d4","uuid":"d4a5fe4c-a08c-4de1-ab8c-7484fe52831e"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_e372d8fd_d7ad_4678_ac50_0517f533c9d4"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVRouter","uuid":"e372d8fd-d7ad-4678-ac50-0517f533c9d4"},"retries":"0","description":"","type":"DELETE_NUTANIX","uuid":"d4a5fe4c-a08c-4de1-ab8c-7484fe52831e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Nutanix_Delete_e372d8fd_d7ad_4678_ac50_0517f533c9d4"}],"description":"","message_list":[],"uuid":"dc822d75-6f06-4c36-a89a-0e90ea0c9c91","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_e372d8fd_d7ad_4678_ac50_0517f533c9d4","uuid":"a518381e-cd87-44d8-8ca4-eafb637edccc"},"name":"SYS_GEN__Runbook_Substrate_e372d8fd_d7ad_4678_ac50_0517f533c9d4"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"69fe8394-7a42-41a7-b4d0-6bd26b101890","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AHVRouter","uuid":"e372d8fd-d7ad-4678-ac50-0517f533c9d4"},"retries":"0","description":"","type":"DAG","uuid":"b9ed7eda-974d-472e-bbe8-ab07fb8c007c","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Substrate_Element_Delete_e372d8fd_d7ad_4678_ac50_0517f533c9d4","uuid":"4070db98-f986-403f-b15d-3578b768fe85"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_e372d8fd_d7ad_4678_ac50_0517f533c9d4"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVRouter","uuid":"e372d8fd-d7ad-4678-ac50-0517f533c9d4"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"4070db98-f986-403f-b15d-3578b768fe85","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Substrate_Element_Delete_e372d8fd_d7ad_4678_ac50_0517f533c9d4"}],"description":"","message_list":[],"uuid":"5d51122e-ccea-4c32-a1c4-5e0b1bee6413","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_e372d8fd_d7ad_4678_ac50_0517f533c9d4","uuid":"b9ed7eda-974d-472e-bbe8-ab07fb8c007c"},"name":"SYS_GEN__Runbook_Substrate_e372d8fd_d7ad_4678_ac50_0517f533c9d4"}}],"message_list":[],"uuid":"e372d8fd-d7ad-4678-ac50-0517f533c9d4","state":"ACTIVE","readiness_probe":{"connection_type":"SSH","retries":"5","disable_readiness_probe":false,"address":"@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@","delay_secs":"0","connection_port":22},"editables":{"readiness_probe":{"connection_type":true,"delay_secs":true,"connection_port":true,"timeout_secs":true},"create_spec":{"name":true,"resources":{"nic_list":{},"serial_port_list":{},"num_vcpus_per_socket":true,"num_sockets":true,"memory_size_mib":true,"guest_customization":true,"disk_list":{}}}},"os_type":"Linux","type":"AHV_VM","create_spec":{"name":"MongoRouter-@@{calm_array_index}@@-@@{calm_time}@@","categories":"","availability_zone_reference":null,"backup_policy":null,"type":"","cluster_reference":null,"resources":{"nic_list":[{"nic_type":"NORMAL_NIC","ip_endpoint_list":[],"network_function_chain_reference":null,"network_function_nic_type":"INGRESS","mac_address":"","subnet_reference":{"kind":"subnet","type":"","name":"","uuid":"efc034e3-b50e-4a48-b02d-25036aeb8bd3"},"type":""}],"parent_reference":null,"guest_tools":null,"num_vcpus_per_socket":1,"num_sockets":2,"serial_port_list":[],"gpu_list":[],"memory_size_mib":2048,"power_state":"ON","hardware_clock_timezone":"","guest_customization":{"cloud_init":{"meta_data":"","type":"","user_data":"#cloud-config\nusers:\n  - name: centos\n    ssh-authorized-keys:\n      - @@{CENTOS.public_key}@@\n    sudo: ['ALL=(ALL) NOPASSWD:ALL']"},"type":"","sysprep":null},"type":"","boot_config":{"boot_device":{"type":"","disk_address":{"adapter_type":"SCSI","device_index":0,"type":""}},"type":"","mac_address":""},"disk_list":[{"data_source_reference":{"kind":"app_package","type":"","name":"AHV_CENTOS_76","uuid":"adee1967-610d-4f23-964b-6d9b24e27af2"},"type":"","disk_size_mib":0,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":0,"type":""}}}]}},"variable_list":[],"name":"AHVRouter"},{"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"e98b96bf-7ed1-44bd-885e-f0f1ad831af8","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AHVConfigSet","uuid":"9da256c1-17f2-4787-a501-f5b250fccce7"},"retries":"0","description":"","type":"DAG","uuid":"37a74502-0387-411d-9554-a15abd456686","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Nutanix_Provision_9da256c1_17f2_4787_a501_f5b250fccce7","uuid":"ac1a212c-fdae-4a51-b0f8-3c20e594e7ed"},{"kind":"app_task","name":"SYS_GEN__check_login_for_AHVConfigSet_9da256c1_17f2_4787_a501_f5b250fccce7","uuid":"47dff680-df76-469c-b43c-911ff8ece986"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Nutanix_Provision_9da256c1_17f2_4787_a501_f5b250fccce7","uuid":"ac1a212c-fdae-4a51-b0f8-3c20e594e7ed"},"edge_type":"inherent","type":"","uuid":"b490608b-6495-40af-a327-14062427aeec","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_AHVConfigSet_9da256c1_17f2_4787_a501_f5b250fccce7","uuid":"47dff680-df76-469c-b43c-911ff8ece986"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_9da256c1_17f2_4787_a501_f5b250fccce7"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVConfigSet","uuid":"9da256c1-17f2-4787-a501-f5b250fccce7"},"retries":"0","description":"","type":"PROVISION_NUTANIX","uuid":"ac1a212c-fdae-4a51-b0f8-3c20e594e7ed","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"name":"MongoConfigSet-@@{calm_array_index}@@-@@{calm_time}@@","categories":"","availability_zone_reference":null,"backup_policy":null,"type":"","cluster_reference":null,"resources":{"nic_list":[{"nic_type":"NORMAL_NIC","ip_endpoint_list":[],"network_function_chain_reference":null,"network_function_nic_type":"INGRESS","mac_address":"","subnet_reference":{"kind":"subnet","type":"","name":"","uuid":"efc034e3-b50e-4a48-b02d-25036aeb8bd3"},"type":""}],"parent_reference":null,"guest_tools":null,"num_vcpus_per_socket":1,"num_sockets":2,"serial_port_list":[],"gpu_list":[],"memory_size_mib":2048,"power_state":"ON","hardware_clock_timezone":"","guest_customization":{"cloud_init":{"meta_data":"","type":"","user_data":"#cloud-config\nusers:\n  - name: centos\n    ssh-authorized-keys:\n      - @@{CENTOS.public_key}@@\n    sudo: ['ALL=(ALL) NOPASSWD:ALL']"},"type":"","sysprep":null},"type":"","boot_config":{"boot_device":{"type":"","disk_address":{"adapter_type":"SCSI","device_index":0,"type":""}},"type":"","mac_address":""},"disk_list":[{"data_source_reference":{"kind":"app_package","type":"","name":"AHV_CENTOS_76","uuid":"adee1967-610d-4f23-964b-6d9b24e27af2"},"type":"","disk_size_mib":0,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":0,"type":""}}}]}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Nutanix_Provision_9da256c1_17f2_4787_a501_f5b250fccce7"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVConfigSet","uuid":"9da256c1-17f2-4787-a501-f5b250fccce7"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"47dff680-df76-469c-b43c-911ff8ece986","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"60","address":"@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_AHVConfigSet_9da256c1_17f2_4787_a501_f5b250fccce7"}],"description":"","message_list":[],"uuid":"17d41483-a39c-4ce1-962f-3733ca2a2a94","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_9da256c1_17f2_4787_a501_f5b250fccce7","uuid":"37a74502-0387-411d-9554-a15abd456686"},"name":"SYS_GEN__Runbook_Substrate_9da256c1_17f2_4787_a501_f5b250fccce7"}},{"description":"System action for powering on an application","message_list":[],"uuid":"512d7a51-69d8-4f85-9972-049cbe367beb","name":"action_poweron","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AHVConfigSet","uuid":"9da256c1-17f2-4787-a501-f5b250fccce7"},"retries":"0","description":"","type":"DAG","uuid":"3c77e340-5cf4-474a-a65a-aa2abaa81487","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Nutanix_Operation_PowerOn_9da256c1_17f2_4787_a501_f5b250fccce7","uuid":"1226a45f-b2df-4ed8-95aa-74ad5ae53e90"},{"kind":"app_task","name":"SYS_GEN__check_login_for_AHVConfigSet_9da256c1_17f2_4787_a501_f5b250fccce7","uuid":"893a22d9-4adb-4068-8327-222c05a928f3"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Nutanix_Operation_PowerOn_9da256c1_17f2_4787_a501_f5b250fccce7","uuid":"1226a45f-b2df-4ed8-95aa-74ad5ae53e90"},"edge_type":"inherent","type":"","uuid":"feb3e4e9-2736-4070-a4f3-0301cc061f2f","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_AHVConfigSet_9da256c1_17f2_4787_a501_f5b250fccce7","uuid":"893a22d9-4adb-4068-8327-222c05a928f3"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_9da256c1_17f2_4787_a501_f5b250fccce7"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVConfigSet","uuid":"9da256c1-17f2-4787-a501-f5b250fccce7"},"retries":"0","description":"","type":"VMOPERATION_NUTANIX","uuid":"1226a45f-b2df-4ed8-95aa-74ad5ae53e90","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Nutanix_Operation_PowerOn_9da256c1_17f2_4787_a501_f5b250fccce7"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVConfigSet","uuid":"9da256c1-17f2-4787-a501-f5b250fccce7"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"893a22d9-4adb-4068-8327-222c05a928f3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"60","address":"@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_AHVConfigSet_9da256c1_17f2_4787_a501_f5b250fccce7"}],"description":"","message_list":[],"uuid":"66cce55f-8532-483e-8799-cb5e9ab8fe65","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_9da256c1_17f2_4787_a501_f5b250fccce7","uuid":"3c77e340-5cf4-474a-a65a-aa2abaa81487"},"name":"SYS_GEN__Runbook_Substrate_9da256c1_17f2_4787_a501_f5b250fccce7"}},{"description":"System action for restarting an application","message_list":[],"uuid":"7ab4a187-f750-436e-b253-2fe328824dbd","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AHVConfigSet","uuid":"9da256c1-17f2-4787-a501-f5b250fccce7"},"retries":"0","description":"","type":"DAG","uuid":"36b42cab-6e04-49f7-a700-2dd36e1e1286","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Nutanix_Operation_Restart_9da256c1_17f2_4787_a501_f5b250fccce7","uuid":"5204316c-ba36-45d2-b072-9e803c967b1a"},{"kind":"app_task","name":"SYS_GEN__check_login_for_AHVConfigSet_9da256c1_17f2_4787_a501_f5b250fccce7","uuid":"d6e62338-c751-4088-8735-eb5782ca5a1b"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Nutanix_Operation_Restart_9da256c1_17f2_4787_a501_f5b250fccce7","uuid":"5204316c-ba36-45d2-b072-9e803c967b1a"},"edge_type":"inherent","type":"","uuid":"a555325f-672e-48d4-a83b-fe21509d5e1d","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_AHVConfigSet_9da256c1_17f2_4787_a501_f5b250fccce7","uuid":"d6e62338-c751-4088-8735-eb5782ca5a1b"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_9da256c1_17f2_4787_a501_f5b250fccce7"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVConfigSet","uuid":"9da256c1-17f2-4787-a501-f5b250fccce7"},"retries":"0","description":"","type":"VMOPERATION_NUTANIX","uuid":"5204316c-ba36-45d2-b072-9e803c967b1a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Nutanix_Operation_Restart_9da256c1_17f2_4787_a501_f5b250fccce7"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVConfigSet","uuid":"9da256c1-17f2-4787-a501-f5b250fccce7"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"d6e62338-c751-4088-8735-eb5782ca5a1b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"60","address":"@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_AHVConfigSet_9da256c1_17f2_4787_a501_f5b250fccce7"}],"description":"","message_list":[],"uuid":"f4f18dee-1c5e-4b18-9237-fee52521faf7","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_9da256c1_17f2_4787_a501_f5b250fccce7","uuid":"36b42cab-6e04-49f7-a700-2dd36e1e1286"},"name":"SYS_GEN__Runbook_Substrate_9da256c1_17f2_4787_a501_f5b250fccce7"}},{"description":"System action for suspending an application","message_list":[],"uuid":"5ae79ecc-dbd4-4227-ac34-3827c56e0365","name":"action_suspend","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AHVConfigSet","uuid":"9da256c1-17f2-4787-a501-f5b250fccce7"},"retries":"0","description":"","type":"DAG","uuid":"dc7fdaa6-32fc-459d-8d75-09bba7fadaa4","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_9da256c1_17f2_4787_a501_f5b250fccce7"}],"description":"","message_list":[],"uuid":"b0001200-b465-45fa-bc45-80a2f4341e70","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_9da256c1_17f2_4787_a501_f5b250fccce7","uuid":"dc7fdaa6-32fc-459d-8d75-09bba7fadaa4"},"name":"SYS_GEN__Runbook_Substrate_9da256c1_17f2_4787_a501_f5b250fccce7"}},{"description":"System action for modifying an application","message_list":[],"uuid":"4eb0d671-29ab-4ccc-a067-8690119ae080","name":"action_modify","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AHVConfigSet","uuid":"9da256c1-17f2-4787-a501-f5b250fccce7"},"retries":"0","description":"","type":"DAG","uuid":"77b64048-f822-4c29-8b41-13adb5e025e7","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_9da256c1_17f2_4787_a501_f5b250fccce7"}],"description":"","message_list":[],"uuid":"8af115ca-c7fd-4f93-b0d2-6c190be245e4","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_9da256c1_17f2_4787_a501_f5b250fccce7","uuid":"77b64048-f822-4c29-8b41-13adb5e025e7"},"name":"SYS_GEN__Runbook_Substrate_9da256c1_17f2_4787_a501_f5b250fccce7"}},{"description":"System action for powering off an application","message_list":[],"uuid":"5130f96a-409e-4708-b3ab-063fbfa243b7","name":"action_poweroff","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AHVConfigSet","uuid":"9da256c1-17f2-4787-a501-f5b250fccce7"},"retries":"0","description":"","type":"DAG","uuid":"41b40674-04dd-4e18-abdf-5eedccc9e79e","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Nutanix_Operation_PowerOff_9da256c1_17f2_4787_a501_f5b250fccce7","uuid":"2bcc7e8c-74d5-415e-9ea6-2e90ac585dde"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_9da256c1_17f2_4787_a501_f5b250fccce7"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVConfigSet","uuid":"9da256c1-17f2-4787-a501-f5b250fccce7"},"retries":"0","description":"","type":"VMOPERATION_NUTANIX","uuid":"2bcc7e8c-74d5-415e-9ea6-2e90ac585dde","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Nutanix_Operation_PowerOff_9da256c1_17f2_4787_a501_f5b250fccce7"}],"description":"","message_list":[],"uuid":"8f3b8470-bb0f-48a0-973d-b5bf5b811830","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_9da256c1_17f2_4787_a501_f5b250fccce7","uuid":"41b40674-04dd-4e18-abdf-5eedccc9e79e"},"name":"SYS_GEN__Runbook_Substrate_9da256c1_17f2_4787_a501_f5b250fccce7"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"75fd4c22-7f32-4b20-be0f-082a4b2b5dc4","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AHVConfigSet","uuid":"9da256c1-17f2-4787-a501-f5b250fccce7"},"retries":"0","description":"","type":"DAG","uuid":"f35a3d59-fa4e-4c99-9f18-357ba3ce0028","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Nutanix_Delete_9da256c1_17f2_4787_a501_f5b250fccce7","uuid":"aca0ec0a-81ef-4be5-ab64-b02cd4a4b147"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_9da256c1_17f2_4787_a501_f5b250fccce7"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVConfigSet","uuid":"9da256c1-17f2-4787-a501-f5b250fccce7"},"retries":"0","description":"","type":"DELETE_NUTANIX","uuid":"aca0ec0a-81ef-4be5-ab64-b02cd4a4b147","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Nutanix_Delete_9da256c1_17f2_4787_a501_f5b250fccce7"}],"description":"","message_list":[],"uuid":"4be5abd0-247c-4ad8-ba24-f0a0bb0d2e15","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_9da256c1_17f2_4787_a501_f5b250fccce7","uuid":"f35a3d59-fa4e-4c99-9f18-357ba3ce0028"},"name":"SYS_GEN__Runbook_Substrate_9da256c1_17f2_4787_a501_f5b250fccce7"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"77427b69-268a-4946-86af-fb101fe6f4e7","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AHVConfigSet","uuid":"9da256c1-17f2-4787-a501-f5b250fccce7"},"retries":"0","description":"","type":"DAG","uuid":"f5200ba4-14e3-4baf-99db-1b159ffe165e","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Substrate_Element_Delete_9da256c1_17f2_4787_a501_f5b250fccce7","uuid":"0fdc3fd2-869f-4337-a0fb-27656fce20d5"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_9da256c1_17f2_4787_a501_f5b250fccce7"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVConfigSet","uuid":"9da256c1-17f2-4787-a501-f5b250fccce7"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"0fdc3fd2-869f-4337-a0fb-27656fce20d5","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Substrate_Element_Delete_9da256c1_17f2_4787_a501_f5b250fccce7"}],"description":"","message_list":[],"uuid":"b12b8baf-b3a6-48d8-a184-beac4602d6ed","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_9da256c1_17f2_4787_a501_f5b250fccce7","uuid":"f5200ba4-14e3-4baf-99db-1b159ffe165e"},"name":"SYS_GEN__Runbook_Substrate_9da256c1_17f2_4787_a501_f5b250fccce7"}}],"message_list":[],"uuid":"9da256c1-17f2-4787-a501-f5b250fccce7","state":"ACTIVE","readiness_probe":{"connection_type":"SSH","retries":"5","disable_readiness_probe":false,"address":"@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@","delay_secs":"0","connection_port":22},"editables":{"readiness_probe":{"connection_type":true,"delay_secs":true,"connection_port":true,"timeout_secs":true},"create_spec":{"name":true,"resources":{"nic_list":{},"serial_port_list":{},"num_vcpus_per_socket":true,"num_sockets":true,"memory_size_mib":true,"guest_customization":true,"disk_list":{}}}},"os_type":"Linux","type":"AHV_VM","create_spec":{"name":"MongoConfigSet-@@{calm_array_index}@@-@@{calm_time}@@","categories":"","availability_zone_reference":null,"backup_policy":null,"type":"","cluster_reference":null,"resources":{"nic_list":[{"nic_type":"NORMAL_NIC","ip_endpoint_list":[],"network_function_chain_reference":null,"network_function_nic_type":"INGRESS","mac_address":"","subnet_reference":{"kind":"subnet","type":"","name":"","uuid":"efc034e3-b50e-4a48-b02d-25036aeb8bd3"},"type":""}],"parent_reference":null,"guest_tools":null,"num_vcpus_per_socket":1,"num_sockets":2,"serial_port_list":[],"gpu_list":[],"memory_size_mib":2048,"power_state":"ON","hardware_clock_timezone":"","guest_customization":{"cloud_init":{"meta_data":"","type":"","user_data":"#cloud-config\nusers:\n  - name: centos\n    ssh-authorized-keys:\n      - @@{CENTOS.public_key}@@\n    sudo: ['ALL=(ALL) NOPASSWD:ALL']"},"type":"","sysprep":null},"type":"","boot_config":{"boot_device":{"type":"","disk_address":{"adapter_type":"SCSI","device_index":0,"type":""}},"type":"","mac_address":""},"disk_list":[{"data_source_reference":{"kind":"app_package","type":"","name":"AHV_CENTOS_76","uuid":"adee1967-610d-4f23-964b-6d9b24e27af2"},"type":"","disk_size_mib":0,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":0,"type":""}}}]}},"variable_list":[],"name":"AHVConfigSet"},{"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"50936657-70d5-4d4f-86a9-2b9b52ed8654","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AHVDataSet","uuid":"08c0cce6-3507-478b-8aff-abff38fc49ea"},"retries":"0","description":"","type":"DAG","uuid":"09c23bf8-957b-475e-bfb6-2d3bd390d043","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Nutanix_Provision_08c0cce6_3507_478b_8aff_abff38fc49ea","uuid":"73f1de5b-0328-4de6-a26f-31291fd879da"},{"kind":"app_task","name":"SYS_GEN__check_login_for_AHVDataSet_08c0cce6_3507_478b_8aff_abff38fc49ea","uuid":"302db5d1-90d5-4e12-a521-202b6e0c65d3"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Nutanix_Provision_08c0cce6_3507_478b_8aff_abff38fc49ea","uuid":"73f1de5b-0328-4de6-a26f-31291fd879da"},"edge_type":"inherent","type":"","uuid":"933e831a-c778-4358-9348-649ebe803293","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_AHVDataSet_08c0cce6_3507_478b_8aff_abff38fc49ea","uuid":"302db5d1-90d5-4e12-a521-202b6e0c65d3"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_08c0cce6_3507_478b_8aff_abff38fc49ea"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVDataSet","uuid":"08c0cce6-3507-478b-8aff-abff38fc49ea"},"retries":"0","description":"","type":"PROVISION_NUTANIX","uuid":"73f1de5b-0328-4de6-a26f-31291fd879da","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"name":"MongoDataSet-@@{calm_array_index}@@-@@{calm_time}@@","categories":"","availability_zone_reference":null,"backup_policy":null,"type":"","cluster_reference":null,"resources":{"nic_list":[{"nic_type":"NORMAL_NIC","ip_endpoint_list":[],"network_function_chain_reference":null,"network_function_nic_type":"INGRESS","mac_address":"","subnet_reference":{"kind":"subnet","type":"","name":"","uuid":"efc034e3-b50e-4a48-b02d-25036aeb8bd3"},"type":""}],"parent_reference":null,"guest_tools":null,"num_vcpus_per_socket":1,"num_sockets":2,"serial_port_list":[],"gpu_list":[],"memory_size_mib":4096,"power_state":"ON","hardware_clock_timezone":"","guest_customization":{"cloud_init":{"meta_data":"","type":"","user_data":"#cloud-config\nusers:\n  - name: centos\n    ssh-authorized-keys:\n      - @@{CENTOS.public_key}@@\n    sudo: ['ALL=(ALL) NOPASSWD:ALL']"},"type":"","sysprep":null},"type":"","boot_config":{"boot_device":{"type":"","disk_address":{"adapter_type":"SCSI","device_index":0,"type":""}},"type":"","mac_address":""},"disk_list":[{"data_source_reference":{"kind":"app_package","type":"","name":"AHV_CENTOS_76","uuid":"adee1967-610d-4f23-964b-6d9b24e27af2"},"type":"","disk_size_mib":0,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":0,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":20480,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":1,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":20480,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":2,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":20480,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":3,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":20480,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":4,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":20480,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":5,"type":""}}}]}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Nutanix_Provision_08c0cce6_3507_478b_8aff_abff38fc49ea"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVDataSet","uuid":"08c0cce6-3507-478b-8aff-abff38fc49ea"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"302db5d1-90d5-4e12-a521-202b6e0c65d3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"60","address":"@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_AHVDataSet_08c0cce6_3507_478b_8aff_abff38fc49ea"}],"description":"","message_list":[],"uuid":"1f38ea12-3794-4347-81de-66d6fb838d75","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_08c0cce6_3507_478b_8aff_abff38fc49ea","uuid":"09c23bf8-957b-475e-bfb6-2d3bd390d043"},"name":"SYS_GEN__Runbook_Substrate_08c0cce6_3507_478b_8aff_abff38fc49ea"}},{"description":"System action for powering on an application","message_list":[],"uuid":"5162086c-46da-42c0-95db-4235af9c0c70","name":"action_poweron","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AHVDataSet","uuid":"08c0cce6-3507-478b-8aff-abff38fc49ea"},"retries":"0","description":"","type":"DAG","uuid":"0ff8205f-4c06-41a0-8be6-473901b149ab","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Nutanix_Operation_PowerOn_08c0cce6_3507_478b_8aff_abff38fc49ea","uuid":"3dea2ec2-fc05-42d3-8dca-fc109f134f17"},{"kind":"app_task","name":"SYS_GEN__check_login_for_AHVDataSet_08c0cce6_3507_478b_8aff_abff38fc49ea","uuid":"6865b061-1199-43f4-a9d4-f8a8ee0a745f"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Nutanix_Operation_PowerOn_08c0cce6_3507_478b_8aff_abff38fc49ea","uuid":"3dea2ec2-fc05-42d3-8dca-fc109f134f17"},"edge_type":"inherent","type":"","uuid":"912f0843-f3bc-41d7-b2fc-5e60b965d091","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_AHVDataSet_08c0cce6_3507_478b_8aff_abff38fc49ea","uuid":"6865b061-1199-43f4-a9d4-f8a8ee0a745f"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_08c0cce6_3507_478b_8aff_abff38fc49ea"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVDataSet","uuid":"08c0cce6-3507-478b-8aff-abff38fc49ea"},"retries":"0","description":"","type":"VMOPERATION_NUTANIX","uuid":"3dea2ec2-fc05-42d3-8dca-fc109f134f17","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Nutanix_Operation_PowerOn_08c0cce6_3507_478b_8aff_abff38fc49ea"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVDataSet","uuid":"08c0cce6-3507-478b-8aff-abff38fc49ea"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"6865b061-1199-43f4-a9d4-f8a8ee0a745f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"60","address":"@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_AHVDataSet_08c0cce6_3507_478b_8aff_abff38fc49ea"}],"description":"","message_list":[],"uuid":"52eee603-4f64-4537-83b5-dd746f45b5d9","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_08c0cce6_3507_478b_8aff_abff38fc49ea","uuid":"0ff8205f-4c06-41a0-8be6-473901b149ab"},"name":"SYS_GEN__Runbook_Substrate_08c0cce6_3507_478b_8aff_abff38fc49ea"}},{"description":"System action for restarting an application","message_list":[],"uuid":"ad9e6002-ffb7-4092-83be-339c7e0856d4","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AHVDataSet","uuid":"08c0cce6-3507-478b-8aff-abff38fc49ea"},"retries":"0","description":"","type":"DAG","uuid":"89333967-6e9b-4731-9665-31feb59b411b","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Nutanix_Operation_Restart_08c0cce6_3507_478b_8aff_abff38fc49ea","uuid":"c991ada6-875e-40fd-9f81-3e761dbc03fe"},{"kind":"app_task","name":"SYS_GEN__check_login_for_AHVDataSet_08c0cce6_3507_478b_8aff_abff38fc49ea","uuid":"e51dacb6-548a-43d9-9448-3cc1e0c77e0d"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Nutanix_Operation_Restart_08c0cce6_3507_478b_8aff_abff38fc49ea","uuid":"c991ada6-875e-40fd-9f81-3e761dbc03fe"},"edge_type":"inherent","type":"","uuid":"223b73ea-baae-4870-b895-3840209bcaaa","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_AHVDataSet_08c0cce6_3507_478b_8aff_abff38fc49ea","uuid":"e51dacb6-548a-43d9-9448-3cc1e0c77e0d"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_08c0cce6_3507_478b_8aff_abff38fc49ea"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVDataSet","uuid":"08c0cce6-3507-478b-8aff-abff38fc49ea"},"retries":"0","description":"","type":"VMOPERATION_NUTANIX","uuid":"c991ada6-875e-40fd-9f81-3e761dbc03fe","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Nutanix_Operation_Restart_08c0cce6_3507_478b_8aff_abff38fc49ea"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVDataSet","uuid":"08c0cce6-3507-478b-8aff-abff38fc49ea"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"e51dacb6-548a-43d9-9448-3cc1e0c77e0d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"60","address":"@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_AHVDataSet_08c0cce6_3507_478b_8aff_abff38fc49ea"}],"description":"","message_list":[],"uuid":"b9b8d72b-0250-4598-a278-6dc166bd7a91","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_08c0cce6_3507_478b_8aff_abff38fc49ea","uuid":"89333967-6e9b-4731-9665-31feb59b411b"},"name":"SYS_GEN__Runbook_Substrate_08c0cce6_3507_478b_8aff_abff38fc49ea"}},{"description":"System action for suspending an application","message_list":[],"uuid":"8ba15470-0a9d-4445-aff8-bb1014e96ead","name":"action_suspend","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AHVDataSet","uuid":"08c0cce6-3507-478b-8aff-abff38fc49ea"},"retries":"0","description":"","type":"DAG","uuid":"91073219-cc3a-4f96-a43a-38943f5193b5","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_08c0cce6_3507_478b_8aff_abff38fc49ea"}],"description":"","message_list":[],"uuid":"cc94c838-4d5b-4c2a-86b0-5f1e5b6b3fd5","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_08c0cce6_3507_478b_8aff_abff38fc49ea","uuid":"91073219-cc3a-4f96-a43a-38943f5193b5"},"name":"SYS_GEN__Runbook_Substrate_08c0cce6_3507_478b_8aff_abff38fc49ea"}},{"description":"System action for modifying an application","message_list":[],"uuid":"4f2d728d-efc6-4ffb-a436-4b915bddf31d","name":"action_modify","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AHVDataSet","uuid":"08c0cce6-3507-478b-8aff-abff38fc49ea"},"retries":"0","description":"","type":"DAG","uuid":"d40740c1-e837-493b-8037-73a16c69a2bc","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_08c0cce6_3507_478b_8aff_abff38fc49ea"}],"description":"","message_list":[],"uuid":"1205859f-9459-4704-9b72-3d6264b04d62","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_08c0cce6_3507_478b_8aff_abff38fc49ea","uuid":"d40740c1-e837-493b-8037-73a16c69a2bc"},"name":"SYS_GEN__Runbook_Substrate_08c0cce6_3507_478b_8aff_abff38fc49ea"}},{"description":"System action for powering off an application","message_list":[],"uuid":"818b20df-7ee8-43ac-aab4-ed4c39099da7","name":"action_poweroff","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AHVDataSet","uuid":"08c0cce6-3507-478b-8aff-abff38fc49ea"},"retries":"0","description":"","type":"DAG","uuid":"b2fa1df0-9ca0-4fbe-a500-d3724c0e23e9","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Nutanix_Operation_PowerOff_08c0cce6_3507_478b_8aff_abff38fc49ea","uuid":"8fcff0e8-e2d5-4607-bcaf-dc399ce79b30"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_08c0cce6_3507_478b_8aff_abff38fc49ea"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVDataSet","uuid":"08c0cce6-3507-478b-8aff-abff38fc49ea"},"retries":"0","description":"","type":"VMOPERATION_NUTANIX","uuid":"8fcff0e8-e2d5-4607-bcaf-dc399ce79b30","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Nutanix_Operation_PowerOff_08c0cce6_3507_478b_8aff_abff38fc49ea"}],"description":"","message_list":[],"uuid":"655fbe3c-2444-480e-b2c8-e819a34cc2af","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_08c0cce6_3507_478b_8aff_abff38fc49ea","uuid":"b2fa1df0-9ca0-4fbe-a500-d3724c0e23e9"},"name":"SYS_GEN__Runbook_Substrate_08c0cce6_3507_478b_8aff_abff38fc49ea"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"109c1725-652a-4875-ab6c-34268ae48f2d","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AHVDataSet","uuid":"08c0cce6-3507-478b-8aff-abff38fc49ea"},"retries":"0","description":"","type":"DAG","uuid":"4a63598f-d7a2-4db5-a102-4673736c7c34","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Nutanix_Delete_08c0cce6_3507_478b_8aff_abff38fc49ea","uuid":"ce3b2fc7-0c52-42ae-893d-d3856f98ac21"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_08c0cce6_3507_478b_8aff_abff38fc49ea"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVDataSet","uuid":"08c0cce6-3507-478b-8aff-abff38fc49ea"},"retries":"0","description":"","type":"DELETE_NUTANIX","uuid":"ce3b2fc7-0c52-42ae-893d-d3856f98ac21","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Nutanix_Delete_08c0cce6_3507_478b_8aff_abff38fc49ea"}],"description":"","message_list":[],"uuid":"7386e339-8f83-40bc-b7c8-cd86fd430338","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_08c0cce6_3507_478b_8aff_abff38fc49ea","uuid":"4a63598f-d7a2-4db5-a102-4673736c7c34"},"name":"SYS_GEN__Runbook_Substrate_08c0cce6_3507_478b_8aff_abff38fc49ea"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"ae58a020-9e19-419d-be26-0008f05987d5","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AHVDataSet","uuid":"08c0cce6-3507-478b-8aff-abff38fc49ea"},"retries":"0","description":"","type":"DAG","uuid":"316c1104-a65a-4d77-849e-5a007af55ad0","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Substrate_Element_Delete_08c0cce6_3507_478b_8aff_abff38fc49ea","uuid":"9665deea-ce8f-4cb4-aa84-23d99ed00ce1"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_08c0cce6_3507_478b_8aff_abff38fc49ea"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVDataSet","uuid":"08c0cce6-3507-478b-8aff-abff38fc49ea"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"9665deea-ce8f-4cb4-aa84-23d99ed00ce1","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Substrate_Element_Delete_08c0cce6_3507_478b_8aff_abff38fc49ea"}],"description":"","message_list":[],"uuid":"142a8576-e99d-4164-a4ae-356279683990","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_08c0cce6_3507_478b_8aff_abff38fc49ea","uuid":"316c1104-a65a-4d77-849e-5a007af55ad0"},"name":"SYS_GEN__Runbook_Substrate_08c0cce6_3507_478b_8aff_abff38fc49ea"}}],"message_list":[],"uuid":"08c0cce6-3507-478b-8aff-abff38fc49ea","state":"ACTIVE","readiness_probe":{"connection_type":"SSH","retries":"5","disable_readiness_probe":false,"address":"@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@","delay_secs":"0","connection_port":22},"editables":{"readiness_probe":{"connection_type":true,"delay_secs":true,"connection_port":true,"timeout_secs":true},"create_spec":{"name":true,"resources":{"nic_list":{},"serial_port_list":{},"num_vcpus_per_socket":true,"num_sockets":true,"memory_size_mib":true,"guest_customization":true,"disk_list":{}}}},"os_type":"Linux","type":"AHV_VM","create_spec":{"name":"MongoDataSet-@@{calm_array_index}@@-@@{calm_time}@@","categories":"","availability_zone_reference":null,"backup_policy":null,"type":"","cluster_reference":null,"resources":{"nic_list":[{"nic_type":"NORMAL_NIC","ip_endpoint_list":[],"network_function_chain_reference":null,"network_function_nic_type":"INGRESS","mac_address":"","subnet_reference":{"kind":"subnet","type":"","name":"","uuid":"efc034e3-b50e-4a48-b02d-25036aeb8bd3"},"type":""}],"parent_reference":null,"guest_tools":null,"num_vcpus_per_socket":1,"num_sockets":2,"serial_port_list":[],"gpu_list":[],"memory_size_mib":4096,"power_state":"ON","hardware_clock_timezone":"","guest_customization":{"cloud_init":{"meta_data":"","type":"","user_data":"#cloud-config\nusers:\n  - name: centos\n    ssh-authorized-keys:\n      - @@{CENTOS.public_key}@@\n    sudo: ['ALL=(ALL) NOPASSWD:ALL']"},"type":"","sysprep":null},"type":"","boot_config":{"boot_device":{"type":"","disk_address":{"adapter_type":"SCSI","device_index":0,"type":""}},"type":"","mac_address":""},"disk_list":[{"data_source_reference":{"kind":"app_package","type":"","name":"AHV_CENTOS_76","uuid":"adee1967-610d-4f23-964b-6d9b24e27af2"},"type":"","disk_size_mib":0,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":0,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":20480,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":1,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":20480,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":2,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":20480,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":3,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":20480,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":4,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":20480,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":5,"type":""}}}]}},"variable_list":[],"name":"AHVDataSet"},{"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"1c17d3c4-f01d-424b-b398-c409faa7dda9","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AWSRouter","uuid":"2edf2b2d-2087-4a99-a074-e95c34b101c6"},"retries":"0","description":"","type":"DAG","uuid":"94e3d167-d724-493a-beda-bb580e30df3d","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Aws_Provision_2edf2b2d_2087_4a99_a074_e95c34b101c6","uuid":"c7aab607-1fd9-42ca-8834-21a960c41690"},{"kind":"app_task","name":"SYS_GEN__check_login_for_AWSRouter_2edf2b2d_2087_4a99_a074_e95c34b101c6","uuid":"9e1b5df9-6938-41f0-900c-218ab583ac2d"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Aws_Provision_2edf2b2d_2087_4a99_a074_e95c34b101c6","uuid":"c7aab607-1fd9-42ca-8834-21a960c41690"},"edge_type":"inherent","type":"","uuid":"abb94663-4a7c-41a3-976d-f2f5c4fe1df5","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_AWSRouter_2edf2b2d_2087_4a99_a074_e95c34b101c6","uuid":"9e1b5df9-6938-41f0-900c-218ab583ac2d"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_2edf2b2d_2087_4a99_a074_e95c34b101c6"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSRouter","uuid":"2edf2b2d-2087-4a99-a074-e95c34b101c6"},"retries":"0","description":"","type":"PROVISION_AWS_VM","uuid":"c7aab607-1fd9-42ca-8834-21a960c41690","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"name":"MongoRouter-@@{calm_array_index}@@-@@{calm_time}@@","availability_zone_reference":null,"backup_policy":null,"type":"PROVISION_AWS_VM","cluster_reference":null,"resources":{"instance_profile_name":"","instance_type":"t2.medium","subnet_id":"subnet-c599a5ef","key_name":"calm-blueprints","region":"us-east-1","availability_zone":"us-east-1a","instance_initiated_shutdown_behavior":"","user_data":"","image_id":"ami-0ccec2041ac92b449","state":"RUNNING","security_group_list":[{"type":"","security_group_id":"sg-3b938f40"}],"block_device_map":{"data_disk_list":[],"type":"","root_disk":{"size_gb":10,"volume_type":"GP2","device_name":"\/dev\/sda1","iops":1,"snapshot_id":"","type":"","delete_on_termination":true}},"private_ip_address":"","vpc_id":"vpc-ffd54d98","tag_list":[],"type":"","account_uuid":"8c2e0a6b-620a-c62a-c3f4-e58b101dfd0d","associate_public_ip_address":true}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Aws_Provision_2edf2b2d_2087_4a99_a074_e95c34b101c6"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSRouter","uuid":"2edf2b2d-2087-4a99-a074-e95c34b101c6"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"9e1b5df9-6938-41f0-900c-218ab583ac2d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"60","address":"@@{public_ip_address}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_AWSRouter_2edf2b2d_2087_4a99_a074_e95c34b101c6"}],"description":"","message_list":[],"uuid":"b846cb74-1e89-4ff2-802e-4af7fc025929","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_2edf2b2d_2087_4a99_a074_e95c34b101c6","uuid":"94e3d167-d724-493a-beda-bb580e30df3d"},"name":"SYS_GEN__Runbook_Substrate_2edf2b2d_2087_4a99_a074_e95c34b101c6"}},{"description":"System action for powering on an application","message_list":[],"uuid":"b8a76861-5787-4c14-9008-034cb402fc6d","name":"action_poweron","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AWSRouter","uuid":"2edf2b2d-2087-4a99-a074-e95c34b101c6"},"retries":"0","description":"","type":"DAG","uuid":"15f63037-822e-4bd3-8f9f-3133ea3791e7","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Aws_Operation_PowerOn_2edf2b2d_2087_4a99_a074_e95c34b101c6","uuid":"d36d948e-e55c-4d67-9308-45f6ff23ac1c"},{"kind":"app_task","name":"SYS_GEN__check_login_for_AWSRouter_2edf2b2d_2087_4a99_a074_e95c34b101c6","uuid":"6535e266-ee97-4a81-bcbe-e0a7bb44d210"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Aws_Operation_PowerOn_2edf2b2d_2087_4a99_a074_e95c34b101c6","uuid":"d36d948e-e55c-4d67-9308-45f6ff23ac1c"},"edge_type":"inherent","type":"","uuid":"fde112ff-d94f-4375-80c0-da09752535ba","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_AWSRouter_2edf2b2d_2087_4a99_a074_e95c34b101c6","uuid":"6535e266-ee97-4a81-bcbe-e0a7bb44d210"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_2edf2b2d_2087_4a99_a074_e95c34b101c6"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSRouter","uuid":"2edf2b2d-2087-4a99-a074-e95c34b101c6"},"retries":"0","description":"","type":"VMOPERATION_AWS_VM","uuid":"d36d948e-e55c-4d67-9308-45f6ff23ac1c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Aws_Operation_PowerOn_2edf2b2d_2087_4a99_a074_e95c34b101c6"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSRouter","uuid":"2edf2b2d-2087-4a99-a074-e95c34b101c6"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"6535e266-ee97-4a81-bcbe-e0a7bb44d210","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"60","address":"@@{public_ip_address}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_AWSRouter_2edf2b2d_2087_4a99_a074_e95c34b101c6"}],"description":"","message_list":[],"uuid":"0e714ecb-a848-4101-bb03-f0caa8ba55f2","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_2edf2b2d_2087_4a99_a074_e95c34b101c6","uuid":"15f63037-822e-4bd3-8f9f-3133ea3791e7"},"name":"SYS_GEN__Runbook_Substrate_2edf2b2d_2087_4a99_a074_e95c34b101c6"}},{"description":"System action for restarting an application","message_list":[],"uuid":"f7a8ecae-4777-4a9c-a12e-9f5f206c69b9","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AWSRouter","uuid":"2edf2b2d-2087-4a99-a074-e95c34b101c6"},"retries":"0","description":"","type":"DAG","uuid":"0576b9cb-8da0-4dae-81ce-88719f71d1a5","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Aws_Operation_Restart_2edf2b2d_2087_4a99_a074_e95c34b101c6","uuid":"05811f62-c59b-4b19-bda9-270def333a6a"},{"kind":"app_task","name":"SYS_GEN__check_login_for_AWSRouter_2edf2b2d_2087_4a99_a074_e95c34b101c6","uuid":"48435652-f0a8-41ce-9439-f33f120bdccc"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Aws_Operation_Restart_2edf2b2d_2087_4a99_a074_e95c34b101c6","uuid":"05811f62-c59b-4b19-bda9-270def333a6a"},"edge_type":"inherent","type":"","uuid":"81b3bb7b-ec32-4c55-872a-3e42936870c7","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_AWSRouter_2edf2b2d_2087_4a99_a074_e95c34b101c6","uuid":"48435652-f0a8-41ce-9439-f33f120bdccc"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_2edf2b2d_2087_4a99_a074_e95c34b101c6"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSRouter","uuid":"2edf2b2d-2087-4a99-a074-e95c34b101c6"},"retries":"0","description":"","type":"VMOPERATION_AWS_VM","uuid":"05811f62-c59b-4b19-bda9-270def333a6a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Aws_Operation_Restart_2edf2b2d_2087_4a99_a074_e95c34b101c6"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSRouter","uuid":"2edf2b2d-2087-4a99-a074-e95c34b101c6"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"48435652-f0a8-41ce-9439-f33f120bdccc","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"60","address":"@@{public_ip_address}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_AWSRouter_2edf2b2d_2087_4a99_a074_e95c34b101c6"}],"description":"","message_list":[],"uuid":"a5503768-a0c1-40f9-9f83-7179f166f1d7","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_2edf2b2d_2087_4a99_a074_e95c34b101c6","uuid":"0576b9cb-8da0-4dae-81ce-88719f71d1a5"},"name":"SYS_GEN__Runbook_Substrate_2edf2b2d_2087_4a99_a074_e95c34b101c6"}},{"description":"System action for suspending an application","message_list":[],"uuid":"ebe7cc14-583a-49b8-85fa-ec561c75e56f","name":"action_suspend","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AWSRouter","uuid":"2edf2b2d-2087-4a99-a074-e95c34b101c6"},"retries":"0","description":"","type":"DAG","uuid":"9d226327-438a-4c37-b80d-ded04c2917a7","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_2edf2b2d_2087_4a99_a074_e95c34b101c6"}],"description":"","message_list":[],"uuid":"b152adfe-6a2f-417e-9e51-4645d2eb043c","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_2edf2b2d_2087_4a99_a074_e95c34b101c6","uuid":"9d226327-438a-4c37-b80d-ded04c2917a7"},"name":"SYS_GEN__Runbook_Substrate_2edf2b2d_2087_4a99_a074_e95c34b101c6"}},{"description":"System action for modifying an application","message_list":[],"uuid":"87020b2a-ee2e-42e1-9d21-71457b53c659","name":"action_modify","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AWSRouter","uuid":"2edf2b2d-2087-4a99-a074-e95c34b101c6"},"retries":"0","description":"","type":"DAG","uuid":"28d967ce-72b7-4cc2-b659-a0328c30b5cf","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_2edf2b2d_2087_4a99_a074_e95c34b101c6"}],"description":"","message_list":[],"uuid":"fd74f1ac-b23d-45d5-ba74-a099c00672cd","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_2edf2b2d_2087_4a99_a074_e95c34b101c6","uuid":"28d967ce-72b7-4cc2-b659-a0328c30b5cf"},"name":"SYS_GEN__Runbook_Substrate_2edf2b2d_2087_4a99_a074_e95c34b101c6"}},{"description":"System action for powering off an application","message_list":[],"uuid":"23de47ae-2743-4f37-9ae4-ab121d679c66","name":"action_poweroff","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AWSRouter","uuid":"2edf2b2d-2087-4a99-a074-e95c34b101c6"},"retries":"0","description":"","type":"DAG","uuid":"917fbe38-d81c-4f06-b93f-fd673323292e","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Aws_Operation_PowerOff_2edf2b2d_2087_4a99_a074_e95c34b101c6","uuid":"234d0d67-c5fe-4c9e-90f2-0784399903c3"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_2edf2b2d_2087_4a99_a074_e95c34b101c6"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSRouter","uuid":"2edf2b2d-2087-4a99-a074-e95c34b101c6"},"retries":"0","description":"","type":"VMOPERATION_AWS_VM","uuid":"234d0d67-c5fe-4c9e-90f2-0784399903c3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Aws_Operation_PowerOff_2edf2b2d_2087_4a99_a074_e95c34b101c6"}],"description":"","message_list":[],"uuid":"65b7f6fd-abaa-40cb-b48b-70df62a88e1c","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_2edf2b2d_2087_4a99_a074_e95c34b101c6","uuid":"917fbe38-d81c-4f06-b93f-fd673323292e"},"name":"SYS_GEN__Runbook_Substrate_2edf2b2d_2087_4a99_a074_e95c34b101c6"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"1a766d82-73aa-4109-9810-9ab8bad8c7ce","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AWSRouter","uuid":"2edf2b2d-2087-4a99-a074-e95c34b101c6"},"retries":"0","description":"","type":"DAG","uuid":"0dca4e2b-5651-4016-80a0-f1d5fbdb25b2","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Aws_Delete_2edf2b2d_2087_4a99_a074_e95c34b101c6","uuid":"a5aaaadd-1022-44d4-984b-5e6be2bb7a8d"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_2edf2b2d_2087_4a99_a074_e95c34b101c6"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSRouter","uuid":"2edf2b2d-2087-4a99-a074-e95c34b101c6"},"retries":"0","description":"","type":"DELETE_AWS_VM","uuid":"a5aaaadd-1022-44d4-984b-5e6be2bb7a8d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Aws_Delete_2edf2b2d_2087_4a99_a074_e95c34b101c6"}],"description":"","message_list":[],"uuid":"fecd292d-0803-4718-ab23-800447745090","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_2edf2b2d_2087_4a99_a074_e95c34b101c6","uuid":"0dca4e2b-5651-4016-80a0-f1d5fbdb25b2"},"name":"SYS_GEN__Runbook_Substrate_2edf2b2d_2087_4a99_a074_e95c34b101c6"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"ad042436-2d9d-46f9-8b32-52ae5c2916f9","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AWSRouter","uuid":"2edf2b2d-2087-4a99-a074-e95c34b101c6"},"retries":"0","description":"","type":"DAG","uuid":"5f76a601-83c9-4eff-b3fe-99b686be8492","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Substrate_Element_Delete_2edf2b2d_2087_4a99_a074_e95c34b101c6","uuid":"140bad7e-3fd5-45f1-b7d8-e4994037064d"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_2edf2b2d_2087_4a99_a074_e95c34b101c6"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSRouter","uuid":"2edf2b2d-2087-4a99-a074-e95c34b101c6"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"140bad7e-3fd5-45f1-b7d8-e4994037064d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Substrate_Element_Delete_2edf2b2d_2087_4a99_a074_e95c34b101c6"}],"description":"","message_list":[],"uuid":"95e4d46e-2871-4b36-b073-61299afc1f36","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_2edf2b2d_2087_4a99_a074_e95c34b101c6","uuid":"5f76a601-83c9-4eff-b3fe-99b686be8492"},"name":"SYS_GEN__Runbook_Substrate_2edf2b2d_2087_4a99_a074_e95c34b101c6"}}],"message_list":[],"uuid":"2edf2b2d-2087-4a99-a074-e95c34b101c6","state":"ACTIVE","readiness_probe":{"connection_type":"SSH","retries":"5","disable_readiness_probe":false,"address":"@@{public_ip_address}@@","delay_secs":"0","connection_port":22},"editables":{"readiness_probe":{"connection_type":true,"delay_secs":true,"connection_port":true,"timeout_secs":true},"create_spec":{"name":true,"resources":{"instance_profile_name":true,"availability_zone":true,"subnet_id":true,"key_name":true,"region":true,"user_data":true,"image_id":true,"instance_type":true,"security_group_list":true,"block_device_map":{"root_disk":{"size_gb":true}},"associate_public_ip_address":true,"vpc_id":true,"tag_list":true}}},"os_type":"Linux","type":"AWS_VM","create_spec":{"name":"MongoRouter-@@{calm_array_index}@@-@@{calm_time}@@","availability_zone_reference":null,"backup_policy":null,"type":"PROVISION_AWS_VM","cluster_reference":null,"resources":{"instance_profile_name":"","instance_type":"t2.medium","subnet_id":"subnet-c599a5ef","key_name":"calm-blueprints","region":"us-east-1","availability_zone":"us-east-1a","instance_initiated_shutdown_behavior":"","user_data":"","image_id":"ami-0ccec2041ac92b449","state":"RUNNING","security_group_list":[{"type":"","security_group_id":"sg-3b938f40"}],"block_device_map":{"data_disk_list":[],"type":"","root_disk":{"size_gb":10,"volume_type":"GP2","device_name":"\/dev\/sda1","iops":1,"snapshot_id":"","type":"","delete_on_termination":true}},"private_ip_address":"","vpc_id":"vpc-ffd54d98","tag_list":[],"type":"","account_uuid":"8c2e0a6b-620a-c62a-c3f4-e58b101dfd0d","associate_public_ip_address":true}},"variable_list":[],"name":"AWSRouter"},{"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"9be6f52b-6e75-4aaa-9b96-c989c2e811d2","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AWSConfigSet","uuid":"66b46e7e-c7ab-4692-a0a0-060f0c7bc6b5"},"retries":"0","description":"","type":"DAG","uuid":"f0bb5719-c76b-4b62-83e9-b470cfbeca45","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Aws_Provision_66b46e7e_c7ab_4692_a0a0_060f0c7bc6b5","uuid":"d7584380-b86a-480e-aef6-9421e8be5e8c"},{"kind":"app_task","name":"SYS_GEN__check_login_for_AWSConfigSet_66b46e7e_c7ab_4692_a0a0_060f0c7bc6b5","uuid":"69a6143d-ea4f-486b-926e-76a3a7bfca1b"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Aws_Provision_66b46e7e_c7ab_4692_a0a0_060f0c7bc6b5","uuid":"d7584380-b86a-480e-aef6-9421e8be5e8c"},"edge_type":"inherent","type":"","uuid":"32aa27c3-6ad6-4ff4-9cc6-c7d6d6dacaeb","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_AWSConfigSet_66b46e7e_c7ab_4692_a0a0_060f0c7bc6b5","uuid":"69a6143d-ea4f-486b-926e-76a3a7bfca1b"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_66b46e7e_c7ab_4692_a0a0_060f0c7bc6b5"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSConfigSet","uuid":"66b46e7e-c7ab-4692-a0a0-060f0c7bc6b5"},"retries":"0","description":"","type":"PROVISION_AWS_VM","uuid":"d7584380-b86a-480e-aef6-9421e8be5e8c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"name":"MongoConfigSet-@@{calm_array_index}@@-@@{calm_time}@@","availability_zone_reference":null,"backup_policy":null,"type":"PROVISION_AWS_VM","cluster_reference":null,"resources":{"instance_profile_name":"","instance_type":"t2.medium","subnet_id":"subnet-c599a5ef","key_name":"calm-blueprints","region":"us-east-1","availability_zone":"us-east-1a","instance_initiated_shutdown_behavior":"","user_data":"","image_id":"ami-0ccec2041ac92b449","state":"RUNNING","security_group_list":[{"type":"","security_group_id":"sg-3b938f40"}],"block_device_map":{"data_disk_list":[],"type":"","root_disk":{"size_gb":10,"volume_type":"GP2","device_name":"\/dev\/sda1","iops":1,"snapshot_id":"","type":"","delete_on_termination":true}},"private_ip_address":"","vpc_id":"vpc-ffd54d98","tag_list":[],"type":"","account_uuid":"8c2e0a6b-620a-c62a-c3f4-e58b101dfd0d","associate_public_ip_address":true}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Aws_Provision_66b46e7e_c7ab_4692_a0a0_060f0c7bc6b5"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSConfigSet","uuid":"66b46e7e-c7ab-4692-a0a0-060f0c7bc6b5"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"69a6143d-ea4f-486b-926e-76a3a7bfca1b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"60","address":"@@{public_ip_address}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_AWSConfigSet_66b46e7e_c7ab_4692_a0a0_060f0c7bc6b5"}],"description":"","message_list":[],"uuid":"a681edd6-253a-4051-858c-1f61acf89757","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_66b46e7e_c7ab_4692_a0a0_060f0c7bc6b5","uuid":"f0bb5719-c76b-4b62-83e9-b470cfbeca45"},"name":"SYS_GEN__Runbook_Substrate_66b46e7e_c7ab_4692_a0a0_060f0c7bc6b5"}},{"description":"System action for powering on an application","message_list":[],"uuid":"d52c71c5-935a-4520-aa8f-27421786f9ca","name":"action_poweron","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AWSConfigSet","uuid":"66b46e7e-c7ab-4692-a0a0-060f0c7bc6b5"},"retries":"0","description":"","type":"DAG","uuid":"0446fe94-9c75-4619-998b-fe91d15fb08e","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Aws_Operation_PowerOn_66b46e7e_c7ab_4692_a0a0_060f0c7bc6b5","uuid":"14f61361-b077-42d6-89a3-919a3972823a"},{"kind":"app_task","name":"SYS_GEN__check_login_for_AWSConfigSet_66b46e7e_c7ab_4692_a0a0_060f0c7bc6b5","uuid":"655832b2-4ae2-4ffc-9e96-7667cdc63aa2"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Aws_Operation_PowerOn_66b46e7e_c7ab_4692_a0a0_060f0c7bc6b5","uuid":"14f61361-b077-42d6-89a3-919a3972823a"},"edge_type":"inherent","type":"","uuid":"8b5aabb6-52fe-4e77-99b5-699f5b915eb5","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_AWSConfigSet_66b46e7e_c7ab_4692_a0a0_060f0c7bc6b5","uuid":"655832b2-4ae2-4ffc-9e96-7667cdc63aa2"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_66b46e7e_c7ab_4692_a0a0_060f0c7bc6b5"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSConfigSet","uuid":"66b46e7e-c7ab-4692-a0a0-060f0c7bc6b5"},"retries":"0","description":"","type":"VMOPERATION_AWS_VM","uuid":"14f61361-b077-42d6-89a3-919a3972823a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Aws_Operation_PowerOn_66b46e7e_c7ab_4692_a0a0_060f0c7bc6b5"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSConfigSet","uuid":"66b46e7e-c7ab-4692-a0a0-060f0c7bc6b5"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"655832b2-4ae2-4ffc-9e96-7667cdc63aa2","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"60","address":"@@{public_ip_address}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_AWSConfigSet_66b46e7e_c7ab_4692_a0a0_060f0c7bc6b5"}],"description":"","message_list":[],"uuid":"6a055da6-0d50-49ab-aa36-f54d4d109e16","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_66b46e7e_c7ab_4692_a0a0_060f0c7bc6b5","uuid":"0446fe94-9c75-4619-998b-fe91d15fb08e"},"name":"SYS_GEN__Runbook_Substrate_66b46e7e_c7ab_4692_a0a0_060f0c7bc6b5"}},{"description":"System action for restarting an application","message_list":[],"uuid":"48ff38e4-5970-41c9-b9a8-d54e15967c52","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AWSConfigSet","uuid":"66b46e7e-c7ab-4692-a0a0-060f0c7bc6b5"},"retries":"0","description":"","type":"DAG","uuid":"04636922-d6d4-4271-90a9-93b20717cbd0","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Aws_Operation_Restart_66b46e7e_c7ab_4692_a0a0_060f0c7bc6b5","uuid":"3cb44c5a-4963-4f3c-98d6-03fb4621a4f6"},{"kind":"app_task","name":"SYS_GEN__check_login_for_AWSConfigSet_66b46e7e_c7ab_4692_a0a0_060f0c7bc6b5","uuid":"da5698be-0c78-40b6-afec-b54114e61546"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Aws_Operation_Restart_66b46e7e_c7ab_4692_a0a0_060f0c7bc6b5","uuid":"3cb44c5a-4963-4f3c-98d6-03fb4621a4f6"},"edge_type":"inherent","type":"","uuid":"4bc43c53-6916-44f4-9a00-03c07be7e2d8","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_AWSConfigSet_66b46e7e_c7ab_4692_a0a0_060f0c7bc6b5","uuid":"da5698be-0c78-40b6-afec-b54114e61546"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_66b46e7e_c7ab_4692_a0a0_060f0c7bc6b5"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSConfigSet","uuid":"66b46e7e-c7ab-4692-a0a0-060f0c7bc6b5"},"retries":"0","description":"","type":"VMOPERATION_AWS_VM","uuid":"3cb44c5a-4963-4f3c-98d6-03fb4621a4f6","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Aws_Operation_Restart_66b46e7e_c7ab_4692_a0a0_060f0c7bc6b5"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSConfigSet","uuid":"66b46e7e-c7ab-4692-a0a0-060f0c7bc6b5"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"da5698be-0c78-40b6-afec-b54114e61546","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"60","address":"@@{public_ip_address}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_AWSConfigSet_66b46e7e_c7ab_4692_a0a0_060f0c7bc6b5"}],"description":"","message_list":[],"uuid":"c5c70c83-4cfd-4f58-8975-03b9cf9e882c","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_66b46e7e_c7ab_4692_a0a0_060f0c7bc6b5","uuid":"04636922-d6d4-4271-90a9-93b20717cbd0"},"name":"SYS_GEN__Runbook_Substrate_66b46e7e_c7ab_4692_a0a0_060f0c7bc6b5"}},{"description":"System action for suspending an application","message_list":[],"uuid":"2a320c39-521e-4ec5-a940-28871b39c910","name":"action_suspend","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AWSConfigSet","uuid":"66b46e7e-c7ab-4692-a0a0-060f0c7bc6b5"},"retries":"0","description":"","type":"DAG","uuid":"673a325b-1a53-4d8b-9073-653f60ed7d01","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_66b46e7e_c7ab_4692_a0a0_060f0c7bc6b5"}],"description":"","message_list":[],"uuid":"83738a55-0ca2-4c95-89c5-b3dee70d3c17","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_66b46e7e_c7ab_4692_a0a0_060f0c7bc6b5","uuid":"673a325b-1a53-4d8b-9073-653f60ed7d01"},"name":"SYS_GEN__Runbook_Substrate_66b46e7e_c7ab_4692_a0a0_060f0c7bc6b5"}},{"description":"System action for modifying an application","message_list":[],"uuid":"6a44ef4d-96e3-4ea0-9c04-14442a6cce06","name":"action_modify","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AWSConfigSet","uuid":"66b46e7e-c7ab-4692-a0a0-060f0c7bc6b5"},"retries":"0","description":"","type":"DAG","uuid":"4220e2c6-224d-48ca-8f3f-9b47ba1fdef9","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_66b46e7e_c7ab_4692_a0a0_060f0c7bc6b5"}],"description":"","message_list":[],"uuid":"d1b4d398-75da-4471-af45-da287a9f75df","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_66b46e7e_c7ab_4692_a0a0_060f0c7bc6b5","uuid":"4220e2c6-224d-48ca-8f3f-9b47ba1fdef9"},"name":"SYS_GEN__Runbook_Substrate_66b46e7e_c7ab_4692_a0a0_060f0c7bc6b5"}},{"description":"System action for powering off an application","message_list":[],"uuid":"7a751ff9-c459-471d-8782-5bfc7bd7610f","name":"action_poweroff","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AWSConfigSet","uuid":"66b46e7e-c7ab-4692-a0a0-060f0c7bc6b5"},"retries":"0","description":"","type":"DAG","uuid":"55978d8f-9146-4dc8-ba33-73f3620c4fed","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Aws_Operation_PowerOff_66b46e7e_c7ab_4692_a0a0_060f0c7bc6b5","uuid":"1ae00150-fe4c-4bba-8645-71fca9c50b76"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_66b46e7e_c7ab_4692_a0a0_060f0c7bc6b5"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSConfigSet","uuid":"66b46e7e-c7ab-4692-a0a0-060f0c7bc6b5"},"retries":"0","description":"","type":"VMOPERATION_AWS_VM","uuid":"1ae00150-fe4c-4bba-8645-71fca9c50b76","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Aws_Operation_PowerOff_66b46e7e_c7ab_4692_a0a0_060f0c7bc6b5"}],"description":"","message_list":[],"uuid":"85fa61a2-e006-4105-aff8-2514fec84417","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_66b46e7e_c7ab_4692_a0a0_060f0c7bc6b5","uuid":"55978d8f-9146-4dc8-ba33-73f3620c4fed"},"name":"SYS_GEN__Runbook_Substrate_66b46e7e_c7ab_4692_a0a0_060f0c7bc6b5"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"28384321-35b1-4dbf-ac45-74dab3e76dae","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AWSConfigSet","uuid":"66b46e7e-c7ab-4692-a0a0-060f0c7bc6b5"},"retries":"0","description":"","type":"DAG","uuid":"149f78b8-3741-4852-9468-b60b9042fc56","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Aws_Delete_66b46e7e_c7ab_4692_a0a0_060f0c7bc6b5","uuid":"88ae1c35-2c7f-479f-9b42-c2d1b7626c09"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_66b46e7e_c7ab_4692_a0a0_060f0c7bc6b5"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSConfigSet","uuid":"66b46e7e-c7ab-4692-a0a0-060f0c7bc6b5"},"retries":"0","description":"","type":"DELETE_AWS_VM","uuid":"88ae1c35-2c7f-479f-9b42-c2d1b7626c09","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Aws_Delete_66b46e7e_c7ab_4692_a0a0_060f0c7bc6b5"}],"description":"","message_list":[],"uuid":"7bdc1c16-34bd-4211-8078-03e4b379f936","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_66b46e7e_c7ab_4692_a0a0_060f0c7bc6b5","uuid":"149f78b8-3741-4852-9468-b60b9042fc56"},"name":"SYS_GEN__Runbook_Substrate_66b46e7e_c7ab_4692_a0a0_060f0c7bc6b5"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"68035fdb-e932-4392-a00f-efb439d09c60","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AWSConfigSet","uuid":"66b46e7e-c7ab-4692-a0a0-060f0c7bc6b5"},"retries":"0","description":"","type":"DAG","uuid":"af7c433b-dac6-42dc-a1a5-925022fe7df2","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Substrate_Element_Delete_66b46e7e_c7ab_4692_a0a0_060f0c7bc6b5","uuid":"ae6d579b-5290-4f3e-bc7b-7bab4034c94f"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_66b46e7e_c7ab_4692_a0a0_060f0c7bc6b5"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSConfigSet","uuid":"66b46e7e-c7ab-4692-a0a0-060f0c7bc6b5"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"ae6d579b-5290-4f3e-bc7b-7bab4034c94f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Substrate_Element_Delete_66b46e7e_c7ab_4692_a0a0_060f0c7bc6b5"}],"description":"","message_list":[],"uuid":"9d344f11-5aaa-4237-8a74-e06e83ad795c","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_66b46e7e_c7ab_4692_a0a0_060f0c7bc6b5","uuid":"af7c433b-dac6-42dc-a1a5-925022fe7df2"},"name":"SYS_GEN__Runbook_Substrate_66b46e7e_c7ab_4692_a0a0_060f0c7bc6b5"}}],"message_list":[],"uuid":"66b46e7e-c7ab-4692-a0a0-060f0c7bc6b5","state":"ACTIVE","readiness_probe":{"connection_type":"SSH","retries":"5","disable_readiness_probe":false,"address":"@@{public_ip_address}@@","delay_secs":"0","connection_port":22},"editables":{"readiness_probe":{"connection_type":true,"delay_secs":true,"connection_port":true,"timeout_secs":true},"create_spec":{"name":true,"resources":{"instance_profile_name":true,"availability_zone":true,"subnet_id":true,"key_name":true,"region":true,"user_data":true,"image_id":true,"instance_type":true,"security_group_list":true,"block_device_map":{"root_disk":{"size_gb":true}},"associate_public_ip_address":true,"vpc_id":true,"tag_list":true}}},"os_type":"Linux","type":"AWS_VM","create_spec":{"name":"MongoConfigSet-@@{calm_array_index}@@-@@{calm_time}@@","availability_zone_reference":null,"backup_policy":null,"type":"PROVISION_AWS_VM","cluster_reference":null,"resources":{"instance_profile_name":"","instance_type":"t2.medium","subnet_id":"subnet-c599a5ef","key_name":"calm-blueprints","region":"us-east-1","availability_zone":"us-east-1a","instance_initiated_shutdown_behavior":"","user_data":"","image_id":"ami-0ccec2041ac92b449","state":"RUNNING","security_group_list":[{"type":"","security_group_id":"sg-3b938f40"}],"block_device_map":{"data_disk_list":[],"type":"","root_disk":{"size_gb":10,"volume_type":"GP2","device_name":"\/dev\/sda1","iops":1,"snapshot_id":"","type":"","delete_on_termination":true}},"private_ip_address":"","vpc_id":"vpc-ffd54d98","tag_list":[],"type":"","account_uuid":"8c2e0a6b-620a-c62a-c3f4-e58b101dfd0d","associate_public_ip_address":true}},"variable_list":[],"name":"AWSConfigSet"},{"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"ec25749d-0a12-4b1f-a014-fb823c2d9ce2","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AWSDataSet","uuid":"fc7a0a47-84f8-44d8-b89a-85d46f0da96d"},"retries":"0","description":"","type":"DAG","uuid":"91346d31-0db5-40c0-89df-052bd6321f2c","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Aws_Provision_fc7a0a47_84f8_44d8_b89a_85d46f0da96d","uuid":"12057778-186f-4507-9cf0-fa22fcb0df5a"},{"kind":"app_task","name":"SYS_GEN__check_login_for_AWSDataSet_fc7a0a47_84f8_44d8_b89a_85d46f0da96d","uuid":"a60807d8-3bb3-411c-a4d5-110a2ac6107b"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Aws_Provision_fc7a0a47_84f8_44d8_b89a_85d46f0da96d","uuid":"12057778-186f-4507-9cf0-fa22fcb0df5a"},"edge_type":"inherent","type":"","uuid":"431afced-2972-42c5-9121-9a156deaa2cc","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_AWSDataSet_fc7a0a47_84f8_44d8_b89a_85d46f0da96d","uuid":"a60807d8-3bb3-411c-a4d5-110a2ac6107b"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_fc7a0a47_84f8_44d8_b89a_85d46f0da96d"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSDataSet","uuid":"fc7a0a47-84f8-44d8-b89a-85d46f0da96d"},"retries":"0","description":"","type":"PROVISION_AWS_VM","uuid":"12057778-186f-4507-9cf0-fa22fcb0df5a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"name":"MongoDataSet-@@{calm_array_index}@@-@@{calm_time}@@","availability_zone_reference":null,"backup_policy":null,"type":"PROVISION_AWS_VM","cluster_reference":null,"resources":{"instance_profile_name":"","instance_type":"t2.large","subnet_id":"subnet-9d1085b1","key_name":"calm-blueprints","region":"us-east-1","availability_zone":"us-east-1a","instance_initiated_shutdown_behavior":"","user_data":"","image_id":"ami-0ccec2041ac92b449","state":"RUNNING","security_group_list":[{"type":"","security_group_id":"sg-3b938f40"}],"block_device_map":{"data_disk_list":[{"size_gb":20,"volume_type":"GP2","device_name":"\/dev\/sdb","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":20,"volume_type":"GP2","device_name":"\/dev\/sdc","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":20,"volume_type":"GP2","device_name":"\/dev\/sdd","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":20,"volume_type":"GP2","device_name":"\/dev\/sde","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":20,"volume_type":"GP2","device_name":"\/dev\/sdf","iops":1,"snapshot_id":"","type":"","delete_on_termination":true}],"type":"","root_disk":{"size_gb":10,"volume_type":"GP2","device_name":"\/dev\/sda1","iops":1,"snapshot_id":"","type":"","delete_on_termination":true}},"private_ip_address":"","vpc_id":"vpc-ffd54d98","tag_list":[],"type":"","account_uuid":"8c2e0a6b-620a-c62a-c3f4-e58b101dfd0d","associate_public_ip_address":true}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Aws_Provision_fc7a0a47_84f8_44d8_b89a_85d46f0da96d"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSDataSet","uuid":"fc7a0a47-84f8-44d8-b89a-85d46f0da96d"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"a60807d8-3bb3-411c-a4d5-110a2ac6107b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"60","address":"@@{public_ip_address}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_AWSDataSet_fc7a0a47_84f8_44d8_b89a_85d46f0da96d"}],"description":"","message_list":[],"uuid":"c60d34ae-6131-4b71-b40c-3744d18992e5","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_fc7a0a47_84f8_44d8_b89a_85d46f0da96d","uuid":"91346d31-0db5-40c0-89df-052bd6321f2c"},"name":"SYS_GEN__Runbook_Substrate_fc7a0a47_84f8_44d8_b89a_85d46f0da96d"}},{"description":"System action for powering on an application","message_list":[],"uuid":"57f16521-44e1-4206-8566-538c8f63769c","name":"action_poweron","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AWSDataSet","uuid":"fc7a0a47-84f8-44d8-b89a-85d46f0da96d"},"retries":"0","description":"","type":"DAG","uuid":"6725ba14-f314-4fe1-b1df-eb3e847092ef","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Aws_Operation_PowerOn_fc7a0a47_84f8_44d8_b89a_85d46f0da96d","uuid":"52892fe2-7790-4c9a-b748-90108fb7a3a4"},{"kind":"app_task","name":"SYS_GEN__check_login_for_AWSDataSet_fc7a0a47_84f8_44d8_b89a_85d46f0da96d","uuid":"c10fcc40-ff03-4b9d-8973-30422b2d75af"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Aws_Operation_PowerOn_fc7a0a47_84f8_44d8_b89a_85d46f0da96d","uuid":"52892fe2-7790-4c9a-b748-90108fb7a3a4"},"edge_type":"inherent","type":"","uuid":"04e1db98-255b-4f54-b0c3-5600748fa1a8","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_AWSDataSet_fc7a0a47_84f8_44d8_b89a_85d46f0da96d","uuid":"c10fcc40-ff03-4b9d-8973-30422b2d75af"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_fc7a0a47_84f8_44d8_b89a_85d46f0da96d"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSDataSet","uuid":"fc7a0a47-84f8-44d8-b89a-85d46f0da96d"},"retries":"0","description":"","type":"VMOPERATION_AWS_VM","uuid":"52892fe2-7790-4c9a-b748-90108fb7a3a4","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Aws_Operation_PowerOn_fc7a0a47_84f8_44d8_b89a_85d46f0da96d"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSDataSet","uuid":"fc7a0a47-84f8-44d8-b89a-85d46f0da96d"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"c10fcc40-ff03-4b9d-8973-30422b2d75af","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"60","address":"@@{public_ip_address}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_AWSDataSet_fc7a0a47_84f8_44d8_b89a_85d46f0da96d"}],"description":"","message_list":[],"uuid":"9c348c42-9120-4880-b8d8-b67b25db8c71","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_fc7a0a47_84f8_44d8_b89a_85d46f0da96d","uuid":"6725ba14-f314-4fe1-b1df-eb3e847092ef"},"name":"SYS_GEN__Runbook_Substrate_fc7a0a47_84f8_44d8_b89a_85d46f0da96d"}},{"description":"System action for restarting an application","message_list":[],"uuid":"d1192d7b-b0f2-47ce-a83b-019efac11143","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AWSDataSet","uuid":"fc7a0a47-84f8-44d8-b89a-85d46f0da96d"},"retries":"0","description":"","type":"DAG","uuid":"7a80a230-2dde-487f-a52a-5a6c98939a87","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Aws_Operation_Restart_fc7a0a47_84f8_44d8_b89a_85d46f0da96d","uuid":"06a7f90c-a735-4afa-949e-5956d57b5f39"},{"kind":"app_task","name":"SYS_GEN__check_login_for_AWSDataSet_fc7a0a47_84f8_44d8_b89a_85d46f0da96d","uuid":"2670803e-6f70-45c6-bdc1-1b2153b1405a"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Aws_Operation_Restart_fc7a0a47_84f8_44d8_b89a_85d46f0da96d","uuid":"06a7f90c-a735-4afa-949e-5956d57b5f39"},"edge_type":"inherent","type":"","uuid":"71b92c71-6ebc-4918-82b4-f12dd86fb2eb","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_AWSDataSet_fc7a0a47_84f8_44d8_b89a_85d46f0da96d","uuid":"2670803e-6f70-45c6-bdc1-1b2153b1405a"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_fc7a0a47_84f8_44d8_b89a_85d46f0da96d"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSDataSet","uuid":"fc7a0a47-84f8-44d8-b89a-85d46f0da96d"},"retries":"0","description":"","type":"VMOPERATION_AWS_VM","uuid":"06a7f90c-a735-4afa-949e-5956d57b5f39","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Aws_Operation_Restart_fc7a0a47_84f8_44d8_b89a_85d46f0da96d"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSDataSet","uuid":"fc7a0a47-84f8-44d8-b89a-85d46f0da96d"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"2670803e-6f70-45c6-bdc1-1b2153b1405a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"60","address":"@@{public_ip_address}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_AWSDataSet_fc7a0a47_84f8_44d8_b89a_85d46f0da96d"}],"description":"","message_list":[],"uuid":"ee103458-ef90-4f73-997d-ff13c1359c30","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_fc7a0a47_84f8_44d8_b89a_85d46f0da96d","uuid":"7a80a230-2dde-487f-a52a-5a6c98939a87"},"name":"SYS_GEN__Runbook_Substrate_fc7a0a47_84f8_44d8_b89a_85d46f0da96d"}},{"description":"System action for suspending an application","message_list":[],"uuid":"dcef17bd-5e91-401a-9349-810a136b7739","name":"action_suspend","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AWSDataSet","uuid":"fc7a0a47-84f8-44d8-b89a-85d46f0da96d"},"retries":"0","description":"","type":"DAG","uuid":"2afd18f9-1590-4c0c-a2ab-4f7bd502ec0c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_fc7a0a47_84f8_44d8_b89a_85d46f0da96d"}],"description":"","message_list":[],"uuid":"4554b3c7-1013-44d6-b290-ec0f3f3d54ad","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_fc7a0a47_84f8_44d8_b89a_85d46f0da96d","uuid":"2afd18f9-1590-4c0c-a2ab-4f7bd502ec0c"},"name":"SYS_GEN__Runbook_Substrate_fc7a0a47_84f8_44d8_b89a_85d46f0da96d"}},{"description":"System action for modifying an application","message_list":[],"uuid":"e07e2376-721d-41cf-95a3-539293af54e8","name":"action_modify","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AWSDataSet","uuid":"fc7a0a47-84f8-44d8-b89a-85d46f0da96d"},"retries":"0","description":"","type":"DAG","uuid":"62e986cc-7fa7-48e1-9238-31d0636a44ac","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_fc7a0a47_84f8_44d8_b89a_85d46f0da96d"}],"description":"","message_list":[],"uuid":"0a443f27-d9bb-448f-9437-43e1484bdb81","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_fc7a0a47_84f8_44d8_b89a_85d46f0da96d","uuid":"62e986cc-7fa7-48e1-9238-31d0636a44ac"},"name":"SYS_GEN__Runbook_Substrate_fc7a0a47_84f8_44d8_b89a_85d46f0da96d"}},{"description":"System action for powering off an application","message_list":[],"uuid":"9bde2173-062c-4abc-ac8a-160ddc1e5be4","name":"action_poweroff","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AWSDataSet","uuid":"fc7a0a47-84f8-44d8-b89a-85d46f0da96d"},"retries":"0","description":"","type":"DAG","uuid":"d836c104-6d20-4c01-829b-4aed433ac8e5","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Aws_Operation_PowerOff_fc7a0a47_84f8_44d8_b89a_85d46f0da96d","uuid":"51a5182e-2be8-4582-9b82-ed40a306a509"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_fc7a0a47_84f8_44d8_b89a_85d46f0da96d"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSDataSet","uuid":"fc7a0a47-84f8-44d8-b89a-85d46f0da96d"},"retries":"0","description":"","type":"VMOPERATION_AWS_VM","uuid":"51a5182e-2be8-4582-9b82-ed40a306a509","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Aws_Operation_PowerOff_fc7a0a47_84f8_44d8_b89a_85d46f0da96d"}],"description":"","message_list":[],"uuid":"ca615ee2-3802-4ba4-a39e-3a51e122d5ec","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_fc7a0a47_84f8_44d8_b89a_85d46f0da96d","uuid":"d836c104-6d20-4c01-829b-4aed433ac8e5"},"name":"SYS_GEN__Runbook_Substrate_fc7a0a47_84f8_44d8_b89a_85d46f0da96d"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"bc28301d-1892-4258-a158-bc724d142a73","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AWSDataSet","uuid":"fc7a0a47-84f8-44d8-b89a-85d46f0da96d"},"retries":"0","description":"","type":"DAG","uuid":"97be0832-b7ac-419b-8c64-f85a25cf3313","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Aws_Delete_fc7a0a47_84f8_44d8_b89a_85d46f0da96d","uuid":"2014b189-5792-4248-8efb-a40a2413f778"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_fc7a0a47_84f8_44d8_b89a_85d46f0da96d"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSDataSet","uuid":"fc7a0a47-84f8-44d8-b89a-85d46f0da96d"},"retries":"0","description":"","type":"DELETE_AWS_VM","uuid":"2014b189-5792-4248-8efb-a40a2413f778","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Aws_Delete_fc7a0a47_84f8_44d8_b89a_85d46f0da96d"}],"description":"","message_list":[],"uuid":"75f5c4d4-fc32-4fb7-82e6-5288f0391ddc","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_fc7a0a47_84f8_44d8_b89a_85d46f0da96d","uuid":"97be0832-b7ac-419b-8c64-f85a25cf3313"},"name":"SYS_GEN__Runbook_Substrate_fc7a0a47_84f8_44d8_b89a_85d46f0da96d"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"81e17457-d35e-47c2-b279-95ffbad02791","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AWSDataSet","uuid":"fc7a0a47-84f8-44d8-b89a-85d46f0da96d"},"retries":"0","description":"","type":"DAG","uuid":"ea667eac-2919-4f58-bff8-2825957b57ef","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Substrate_Element_Delete_fc7a0a47_84f8_44d8_b89a_85d46f0da96d","uuid":"91aa97be-a599-489f-b480-565c3e79676c"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_fc7a0a47_84f8_44d8_b89a_85d46f0da96d"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSDataSet","uuid":"fc7a0a47-84f8-44d8-b89a-85d46f0da96d"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"91aa97be-a599-489f-b480-565c3e79676c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Substrate_Element_Delete_fc7a0a47_84f8_44d8_b89a_85d46f0da96d"}],"description":"","message_list":[],"uuid":"2e83ceba-d289-4b22-b317-6ae15f28890d","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_fc7a0a47_84f8_44d8_b89a_85d46f0da96d","uuid":"ea667eac-2919-4f58-bff8-2825957b57ef"},"name":"SYS_GEN__Runbook_Substrate_fc7a0a47_84f8_44d8_b89a_85d46f0da96d"}}],"message_list":[],"uuid":"fc7a0a47-84f8-44d8-b89a-85d46f0da96d","state":"ACTIVE","readiness_probe":{"connection_type":"SSH","retries":"5","disable_readiness_probe":false,"address":"@@{public_ip_address}@@","delay_secs":"0","connection_port":22},"editables":{"readiness_probe":{"connection_type":true,"retries":true,"delay_secs":true,"connection_port":true,"timeout_secs":true},"create_spec":{"name":true,"resources":{"instance_profile_name":true,"availability_zone":true,"subnet_id":true,"key_name":true,"region":true,"user_data":true,"image_id":true,"instance_type":true,"security_group_list":true,"block_device_map":{"data_disk_list":{"1":{"size_gb":true},"0":{"size_gb":true},"3":{"size_gb":true},"2":{"size_gb":true},"4":{"size_gb":true}},"root_disk":{"size_gb":true}},"associate_public_ip_address":true,"vpc_id":true,"tag_list":true}}},"os_type":"Linux","type":"AWS_VM","create_spec":{"name":"MongoDataSet-@@{calm_array_index}@@-@@{calm_time}@@","availability_zone_reference":null,"backup_policy":null,"type":"PROVISION_AWS_VM","cluster_reference":null,"resources":{"instance_profile_name":"","instance_type":"t2.large","subnet_id":"subnet-9d1085b1","key_name":"calm-blueprints","region":"us-east-1","availability_zone":"us-east-1a","instance_initiated_shutdown_behavior":"","user_data":"","image_id":"ami-0ccec2041ac92b449","state":"RUNNING","security_group_list":[{"type":"","security_group_id":"sg-3b938f40"}],"block_device_map":{"data_disk_list":[{"size_gb":20,"volume_type":"GP2","device_name":"\/dev\/sdb","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":20,"volume_type":"GP2","device_name":"\/dev\/sdc","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":20,"volume_type":"GP2","device_name":"\/dev\/sdd","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":20,"volume_type":"GP2","device_name":"\/dev\/sde","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":20,"volume_type":"GP2","device_name":"\/dev\/sdf","iops":1,"snapshot_id":"","type":"","delete_on_termination":true}],"type":"","root_disk":{"size_gb":10,"volume_type":"GP2","device_name":"\/dev\/sda1","iops":1,"snapshot_id":"","type":"","delete_on_termination":true}},"private_ip_address":"","vpc_id":"vpc-ffd54d98","tag_list":[],"type":"","account_uuid":"8c2e0a6b-620a-c62a-c3f4-e58b101dfd0d","associate_public_ip_address":true}},"variable_list":[],"name":"AWSDataSet"},{"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"2391e66b-66fb-4b86-862b-98e79b65e695","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"GCPRouter","uuid":"edbd689a-b0bd-461c-ac27-e6ab2d71b009"},"retries":"0","description":"","type":"DAG","uuid":"0acafc47-e09e-4308-b0fd-0dfdcc969869","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Gcp_Provision_edbd689a_b0bd_461c_ac27_e6ab2d71b009","uuid":"dfa440c4-e1af-4090-ab18-4b1f91cb1941"},{"kind":"app_task","name":"SYS_GEN__check_login_for_GCPRouter_edbd689a_b0bd_461c_ac27_e6ab2d71b009","uuid":"2282eea7-746d-4cce-9050-9dcdb26f4d70"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Gcp_Provision_edbd689a_b0bd_461c_ac27_e6ab2d71b009","uuid":"dfa440c4-e1af-4090-ab18-4b1f91cb1941"},"edge_type":"inherent","type":"","uuid":"8b6af744-9e5e-4553-afd2-a8b2e9e8612e","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_GCPRouter_edbd689a_b0bd_461c_ac27_e6ab2d71b009","uuid":"2282eea7-746d-4cce-9050-9dcdb26f4d70"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_edbd689a_b0bd_461c_ac27_e6ab2d71b009"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPRouter","uuid":"edbd689a-b0bd-461c-ac27-e6ab2d71b009"},"retries":"0","description":"","type":"PROVISION_GCP_VM","uuid":"dfa440c4-e1af-4090-ab18-4b1f91cb1941","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"PROVISION_GCP_VM","resources":{"labels":[],"machineType":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/machineTypes\/n1-highcpu-2","description":"","zone":"us-central1-c","tags":{"items":[],"type":"","fingerprint":""},"guestCustomization":{"type":"","sysprep":"","startupScript":""},"labelFingerprint":"","disks":[{"diskEncryptionKey":{"rawKey":"","type":""},"deviceName":"","initializeParams":{"sourceImageEncryptionKey":{"rawKey":"","type":""},"diskName":"","diskType":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","diskSizeGb":-1,"sourceImage":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/global\/images\/centos-7","type":""},"autoDelete":true,"boot":true,"source":"","mode":"","interface":"","disk_type":"PERSISTENT","type":""}],"metadata":{"items":[],"type":"","fingerprint":""},"sshKeys":["centos:ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDMGAS\/K0Mb\/uwFXwD+hkjguy7VMZk2hpuhwPl9FUZwVBrURf\/i9QMJ5\/paPEZixu8VlRx7Inu4iun7rQfrnfeIYInmBwspXHYiTK3oHJAgZnrAHVEf1p6YaxLINlT1NI5yOAGPRWW6of8rBDBH1ObwU2+wcSx\/1H0uIs3aZNLufr+Rh628ACxAum2Gt8AVRj6ua2BPFyt5VTdclyysAmeh1AiixNgOZXOz6y\/i4TbzpY78I3isuKpxsUeXX6jxEMQol406jHDUF6njEOPIQG2zVZ3QJlTG9OlN+NiyZG9WkZz0VG\/6M8ixxIHHI2dNwUbBFv2HUu+8X9LTLFq2O7KjX9Hp7uZKBAySHA3eKaKHIp2bZuU1bT5PRPkggngX86xg+T+OMNnutbAiMnRJ8+FvD5So+5TIx4b9GgxAxure3x2yRPT9lOiQOB+CVpJPxR0Rn9bOI+wiPnD0kAGvK\/fHT+pqL4PM+hTnJtp9rrCRzIQApBx1263jEcYffhW2epZQRO+he5CMawFJ5TBe08om2AaDJ8GQdrpF6YA3W8DzHbmL3DPVVHdmqPLn10o+LX4gv5SdIIDVGdjKOc1BCnLTRmM28d5+sLDt\/M+kvcQgf0y0yDjMVjGECZkt39hbm4ELMHzZtzYLmHNhBZxRqHeJ7qFTuv1kx88OW3Xc5mbBNQ== centos@nutanix.com\n"],"minCpuPlatform":"","scheduling":{"automaticRestart":true,"type":"","preemptible":false,"onHostMaintenance":"TERMINATE"},"canIpForward":false,"blankDisks":[],"networkInterfaces":[{"aliasIpRanges":[],"network":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/global\/networks\/default","accessConfigs":[{"config_type":"ONE_TO_ONE_NAT","type":"","name":"mongo-router-acn-@@{calm_array_index}@@-@@{calm_time}@@","natIP":""}],"networkIP":"","subnetwork":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/regions\/us-central1\/subnetworks\/default","type":"","associatePublicIP":true}],"type":"","account_uuid":"84213a31-4fe8-7e39-3799-e093e5d0dc2e","serviceAccounts":[{"scopes":["https:\/\/www.googleapis.com\/auth\/devstorage.read_only","https:\/\/www.googleapis.com\/auth\/logging.write","https:\/\/www.googleapis.com\/auth\/monitoring.write","https:\/\/www.googleapis.com\/auth\/servicecontrol","https:\/\/www.googleapis.com\/auth\/service.management.readonly","https:\/\/www.googleapis.com\/auth\/trace.append"],"type":"","email":"108048128720-compute@developer.gserviceaccount.com"}],"name":"mongo-router-set-@@{calm_array_index}@@-@@{calm_time}@@"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Gcp_Provision_edbd689a_b0bd_461c_ac27_e6ab2d71b009"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPRouter","uuid":"edbd689a-b0bd-461c-ac27-e6ab2d71b009"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"2282eea7-746d-4cce-9050-9dcdb26f4d70","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"60","address":"@@{public_ip_address}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_GCPRouter_edbd689a_b0bd_461c_ac27_e6ab2d71b009"}],"description":"","message_list":[],"uuid":"32238d2a-58d5-4a34-8721-8edd6c6ce473","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_edbd689a_b0bd_461c_ac27_e6ab2d71b009","uuid":"0acafc47-e09e-4308-b0fd-0dfdcc969869"},"name":"SYS_GEN__Runbook_Substrate_edbd689a_b0bd_461c_ac27_e6ab2d71b009"}},{"description":"System action for powering on an application","message_list":[],"uuid":"ea243757-1603-47af-961a-ce79b721a295","name":"action_poweron","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"GCPRouter","uuid":"edbd689a-b0bd-461c-ac27-e6ab2d71b009"},"retries":"0","description":"","type":"DAG","uuid":"1e020f28-0ce4-4736-9a27-7348c29858ec","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Gcp_Operation_PowerOn_edbd689a_b0bd_461c_ac27_e6ab2d71b009","uuid":"79d93540-a821-4dbd-ba64-d5ea36c42da3"},{"kind":"app_task","name":"SYS_GEN__check_login_for_GCPRouter_edbd689a_b0bd_461c_ac27_e6ab2d71b009","uuid":"2992f33d-f69d-4130-9b9b-ffb88f397f96"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Gcp_Operation_PowerOn_edbd689a_b0bd_461c_ac27_e6ab2d71b009","uuid":"79d93540-a821-4dbd-ba64-d5ea36c42da3"},"edge_type":"inherent","type":"","uuid":"3412e0f6-1249-4988-ad31-89345dadf72a","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_GCPRouter_edbd689a_b0bd_461c_ac27_e6ab2d71b009","uuid":"2992f33d-f69d-4130-9b9b-ffb88f397f96"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_edbd689a_b0bd_461c_ac27_e6ab2d71b009"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPRouter","uuid":"edbd689a-b0bd-461c-ac27-e6ab2d71b009"},"retries":"0","description":"","type":"VMOPERATION_GCP_VM","uuid":"79d93540-a821-4dbd-ba64-d5ea36c42da3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Gcp_Operation_PowerOn_edbd689a_b0bd_461c_ac27_e6ab2d71b009"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPRouter","uuid":"edbd689a-b0bd-461c-ac27-e6ab2d71b009"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"2992f33d-f69d-4130-9b9b-ffb88f397f96","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"60","address":"@@{public_ip_address}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_GCPRouter_edbd689a_b0bd_461c_ac27_e6ab2d71b009"}],"description":"","message_list":[],"uuid":"102f9a69-9587-425c-9886-b026c0c3cfa2","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_edbd689a_b0bd_461c_ac27_e6ab2d71b009","uuid":"1e020f28-0ce4-4736-9a27-7348c29858ec"},"name":"SYS_GEN__Runbook_Substrate_edbd689a_b0bd_461c_ac27_e6ab2d71b009"}},{"description":"System action for restarting an application","message_list":[],"uuid":"d150d745-2fbe-4d15-b562-542807873791","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"GCPRouter","uuid":"edbd689a-b0bd-461c-ac27-e6ab2d71b009"},"retries":"0","description":"","type":"DAG","uuid":"bd6e6934-64b1-4613-bf38-440a50880aa6","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Gcp_Operation_Restart_edbd689a_b0bd_461c_ac27_e6ab2d71b009","uuid":"46791ad1-5b4a-4ca0-b787-dcf53d54afcb"},{"kind":"app_task","name":"SYS_GEN__check_login_for_GCPRouter_edbd689a_b0bd_461c_ac27_e6ab2d71b009","uuid":"977bb835-9f7d-4531-93c5-16f243054fe9"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Gcp_Operation_Restart_edbd689a_b0bd_461c_ac27_e6ab2d71b009","uuid":"46791ad1-5b4a-4ca0-b787-dcf53d54afcb"},"edge_type":"inherent","type":"","uuid":"b84f00d3-a199-4087-843d-a14afaf35e0a","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_GCPRouter_edbd689a_b0bd_461c_ac27_e6ab2d71b009","uuid":"977bb835-9f7d-4531-93c5-16f243054fe9"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_edbd689a_b0bd_461c_ac27_e6ab2d71b009"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPRouter","uuid":"edbd689a-b0bd-461c-ac27-e6ab2d71b009"},"retries":"0","description":"","type":"VMOPERATION_GCP_VM","uuid":"46791ad1-5b4a-4ca0-b787-dcf53d54afcb","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Gcp_Operation_Restart_edbd689a_b0bd_461c_ac27_e6ab2d71b009"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPRouter","uuid":"edbd689a-b0bd-461c-ac27-e6ab2d71b009"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"977bb835-9f7d-4531-93c5-16f243054fe9","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"60","address":"@@{public_ip_address}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_GCPRouter_edbd689a_b0bd_461c_ac27_e6ab2d71b009"}],"description":"","message_list":[],"uuid":"9158b8de-b50a-4447-bbe2-e92f2ca013f3","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_edbd689a_b0bd_461c_ac27_e6ab2d71b009","uuid":"bd6e6934-64b1-4613-bf38-440a50880aa6"},"name":"SYS_GEN__Runbook_Substrate_edbd689a_b0bd_461c_ac27_e6ab2d71b009"}},{"description":"System action for suspending an application","message_list":[],"uuid":"51fc7a85-264a-4a33-9a53-102de535c818","name":"action_suspend","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"GCPRouter","uuid":"edbd689a-b0bd-461c-ac27-e6ab2d71b009"},"retries":"0","description":"","type":"DAG","uuid":"6dce3e32-7b6c-4d8d-82e3-8c180af52c62","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_edbd689a_b0bd_461c_ac27_e6ab2d71b009"}],"description":"","message_list":[],"uuid":"bf0dd562-2eec-4244-81d3-22ddf6682aba","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_edbd689a_b0bd_461c_ac27_e6ab2d71b009","uuid":"6dce3e32-7b6c-4d8d-82e3-8c180af52c62"},"name":"SYS_GEN__Runbook_Substrate_edbd689a_b0bd_461c_ac27_e6ab2d71b009"}},{"description":"System action for modifying an application","message_list":[],"uuid":"b5bf3ba8-e059-474b-bf8c-99145b9f3a66","name":"action_modify","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"GCPRouter","uuid":"edbd689a-b0bd-461c-ac27-e6ab2d71b009"},"retries":"0","description":"","type":"DAG","uuid":"e92739e2-384a-4a86-9bc5-5f8ec24269dd","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_edbd689a_b0bd_461c_ac27_e6ab2d71b009"}],"description":"","message_list":[],"uuid":"915fd3a8-2714-4ce0-82bd-a2f6351602b8","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_edbd689a_b0bd_461c_ac27_e6ab2d71b009","uuid":"e92739e2-384a-4a86-9bc5-5f8ec24269dd"},"name":"SYS_GEN__Runbook_Substrate_edbd689a_b0bd_461c_ac27_e6ab2d71b009"}},{"description":"System action for powering off an application","message_list":[],"uuid":"9028a8f0-bb23-470d-92f6-6891bfac9ba4","name":"action_poweroff","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"GCPRouter","uuid":"edbd689a-b0bd-461c-ac27-e6ab2d71b009"},"retries":"0","description":"","type":"DAG","uuid":"4b67199d-20b1-46d4-91c7-d4b14053b93e","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Gcp_Operation_PowerOff_edbd689a_b0bd_461c_ac27_e6ab2d71b009","uuid":"3021d869-b046-458e-bdd9-b0a927c059d7"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_edbd689a_b0bd_461c_ac27_e6ab2d71b009"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPRouter","uuid":"edbd689a-b0bd-461c-ac27-e6ab2d71b009"},"retries":"0","description":"","type":"VMOPERATION_GCP_VM","uuid":"3021d869-b046-458e-bdd9-b0a927c059d7","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Gcp_Operation_PowerOff_edbd689a_b0bd_461c_ac27_e6ab2d71b009"}],"description":"","message_list":[],"uuid":"c2a37e1d-31c6-4688-90f4-f14799c7bd8e","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_edbd689a_b0bd_461c_ac27_e6ab2d71b009","uuid":"4b67199d-20b1-46d4-91c7-d4b14053b93e"},"name":"SYS_GEN__Runbook_Substrate_edbd689a_b0bd_461c_ac27_e6ab2d71b009"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"3d8885d5-6888-419b-b3d3-f063892fc7fc","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"GCPRouter","uuid":"edbd689a-b0bd-461c-ac27-e6ab2d71b009"},"retries":"0","description":"","type":"DAG","uuid":"5f2f5786-c5bc-4140-ae87-aa126b1c3953","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Gcp_Delete_edbd689a_b0bd_461c_ac27_e6ab2d71b009","uuid":"5afd2be0-b719-4614-aece-6d48e58453ad"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_edbd689a_b0bd_461c_ac27_e6ab2d71b009"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPRouter","uuid":"edbd689a-b0bd-461c-ac27-e6ab2d71b009"},"retries":"0","description":"","type":"DELETE_GCP_VM","uuid":"5afd2be0-b719-4614-aece-6d48e58453ad","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Gcp_Delete_edbd689a_b0bd_461c_ac27_e6ab2d71b009"}],"description":"","message_list":[],"uuid":"58f36220-0ea5-4636-ad5b-03c895f07c14","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_edbd689a_b0bd_461c_ac27_e6ab2d71b009","uuid":"5f2f5786-c5bc-4140-ae87-aa126b1c3953"},"name":"SYS_GEN__Runbook_Substrate_edbd689a_b0bd_461c_ac27_e6ab2d71b009"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"8f63bfb5-6ca8-4009-93cc-e473eb9f0818","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"GCPRouter","uuid":"edbd689a-b0bd-461c-ac27-e6ab2d71b009"},"retries":"0","description":"","type":"DAG","uuid":"8cf65789-e0e0-4881-85ed-a136fef1d7b8","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Substrate_Element_Delete_edbd689a_b0bd_461c_ac27_e6ab2d71b009","uuid":"933a006d-9fb9-4156-ad4a-f21b9c7bf815"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_edbd689a_b0bd_461c_ac27_e6ab2d71b009"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPRouter","uuid":"edbd689a-b0bd-461c-ac27-e6ab2d71b009"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"933a006d-9fb9-4156-ad4a-f21b9c7bf815","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Substrate_Element_Delete_edbd689a_b0bd_461c_ac27_e6ab2d71b009"}],"description":"","message_list":[],"uuid":"8363be5f-99d4-4631-bf4a-318cc29dc0a8","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_edbd689a_b0bd_461c_ac27_e6ab2d71b009","uuid":"8cf65789-e0e0-4881-85ed-a136fef1d7b8"},"name":"SYS_GEN__Runbook_Substrate_edbd689a_b0bd_461c_ac27_e6ab2d71b009"}}],"message_list":[],"uuid":"edbd689a-b0bd-461c-ac27-e6ab2d71b009","state":"ACTIVE","readiness_probe":{"connection_type":"SSH","retries":"5","disable_readiness_probe":false,"address":"@@{public_ip_address}@@","delay_secs":"0","connection_port":22},"editables":{"readiness_probe":{"connection_type":true,"retries":true,"timeout_secs":true,"address":true,"delay_secs":true,"connection_port":true},"create_spec":{"resources":{"labels":true,"machineType":true,"name":true,"zone":true,"tags":{"items":true},"guestCustomization":{"startupScript":true},"disks":{"0":{"initializeParams":{"diskSizeGb":true,"sourceImage":true,"diskType":true},"autoDelete":true}},"serviceAccounts":{"0":{"scopes":true,"email":true}},"networkInterfaces":{"0":{"accessConfigs":{"0":{"config_type":true,"name":true}},"network":true,"subnetwork":true,"associatePublicIP":true}},"sshKeys":{"0":true},"metadata":{"items":true}}}},"os_type":"Linux","type":"GCP_VM","create_spec":{"type":"PROVISION_GCP_VM","resources":{"labels":[],"machineType":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/machineTypes\/n1-highcpu-2","description":"","zone":"us-central1-c","tags":{"items":[],"type":"","fingerprint":""},"guestCustomization":{"type":"","sysprep":"","startupScript":""},"labelFingerprint":"","disks":[{"diskEncryptionKey":{"rawKey":"","type":""},"deviceName":"","initializeParams":{"sourceImageEncryptionKey":{"rawKey":"","type":""},"diskName":"","diskType":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","diskSizeGb":-1,"sourceImage":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/global\/images\/centos-7","type":""},"autoDelete":true,"boot":true,"source":"","mode":"","interface":"","disk_type":"PERSISTENT","type":""}],"metadata":{"items":[],"type":"","fingerprint":""},"sshKeys":["centos:ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDMGAS\/K0Mb\/uwFXwD+hkjguy7VMZk2hpuhwPl9FUZwVBrURf\/i9QMJ5\/paPEZixu8VlRx7Inu4iun7rQfrnfeIYInmBwspXHYiTK3oHJAgZnrAHVEf1p6YaxLINlT1NI5yOAGPRWW6of8rBDBH1ObwU2+wcSx\/1H0uIs3aZNLufr+Rh628ACxAum2Gt8AVRj6ua2BPFyt5VTdclyysAmeh1AiixNgOZXOz6y\/i4TbzpY78I3isuKpxsUeXX6jxEMQol406jHDUF6njEOPIQG2zVZ3QJlTG9OlN+NiyZG9WkZz0VG\/6M8ixxIHHI2dNwUbBFv2HUu+8X9LTLFq2O7KjX9Hp7uZKBAySHA3eKaKHIp2bZuU1bT5PRPkggngX86xg+T+OMNnutbAiMnRJ8+FvD5So+5TIx4b9GgxAxure3x2yRPT9lOiQOB+CVpJPxR0Rn9bOI+wiPnD0kAGvK\/fHT+pqL4PM+hTnJtp9rrCRzIQApBx1263jEcYffhW2epZQRO+he5CMawFJ5TBe08om2AaDJ8GQdrpF6YA3W8DzHbmL3DPVVHdmqPLn10o+LX4gv5SdIIDVGdjKOc1BCnLTRmM28d5+sLDt\/M+kvcQgf0y0yDjMVjGECZkt39hbm4ELMHzZtzYLmHNhBZxRqHeJ7qFTuv1kx88OW3Xc5mbBNQ== centos@nutanix.com\n"],"minCpuPlatform":"","scheduling":{"automaticRestart":true,"type":"","preemptible":false,"onHostMaintenance":"TERMINATE"},"canIpForward":false,"blankDisks":[],"networkInterfaces":[{"aliasIpRanges":[],"network":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/global\/networks\/default","accessConfigs":[{"config_type":"ONE_TO_ONE_NAT","type":"","name":"mongo-router-acn-@@{calm_array_index}@@-@@{calm_time}@@","natIP":""}],"networkIP":"","subnetwork":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/regions\/us-central1\/subnetworks\/default","type":"","associatePublicIP":true}],"type":"","account_uuid":"84213a31-4fe8-7e39-3799-e093e5d0dc2e","serviceAccounts":[{"scopes":["https:\/\/www.googleapis.com\/auth\/devstorage.read_only","https:\/\/www.googleapis.com\/auth\/logging.write","https:\/\/www.googleapis.com\/auth\/monitoring.write","https:\/\/www.googleapis.com\/auth\/servicecontrol","https:\/\/www.googleapis.com\/auth\/service.management.readonly","https:\/\/www.googleapis.com\/auth\/trace.append"],"type":"","email":"108048128720-compute@developer.gserviceaccount.com"}],"name":"mongo-router-set-@@{calm_array_index}@@-@@{calm_time}@@"}},"variable_list":[],"name":"GCPRouter"},{"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"8e1358d9-e1f8-4ca2-91e5-d144064774fa","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"GCPConfigSet","uuid":"4a15a437-7787-4f4e-a85c-124d560111da"},"retries":"0","description":"","type":"DAG","uuid":"ad420799-75d4-4ce7-a76c-37db0fdb9c33","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Gcp_Provision_4a15a437_7787_4f4e_a85c_124d560111da","uuid":"4cdf6c0e-a152-4705-b3ec-ed162ae2dad5"},{"kind":"app_task","name":"SYS_GEN__check_login_for_GCPConfigSet_4a15a437_7787_4f4e_a85c_124d560111da","uuid":"13c2807c-75ec-4a49-966c-2858dea57892"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Gcp_Provision_4a15a437_7787_4f4e_a85c_124d560111da","uuid":"4cdf6c0e-a152-4705-b3ec-ed162ae2dad5"},"edge_type":"inherent","type":"","uuid":"11083c33-9e06-437c-b34d-0c442ace008b","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_GCPConfigSet_4a15a437_7787_4f4e_a85c_124d560111da","uuid":"13c2807c-75ec-4a49-966c-2858dea57892"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_4a15a437_7787_4f4e_a85c_124d560111da"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPConfigSet","uuid":"4a15a437-7787-4f4e-a85c-124d560111da"},"retries":"0","description":"","type":"PROVISION_GCP_VM","uuid":"4cdf6c0e-a152-4705-b3ec-ed162ae2dad5","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"PROVISION_GCP_VM","resources":{"labels":[],"machineType":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/machineTypes\/n1-highcpu-2","description":"","zone":"us-central1-c","tags":{"items":[],"type":"","fingerprint":""},"guestCustomization":{"type":"","sysprep":"","startupScript":""},"labelFingerprint":"","disks":[{"diskEncryptionKey":{"rawKey":"","type":""},"deviceName":"","initializeParams":{"sourceImageEncryptionKey":{"rawKey":"","type":""},"diskName":"","diskType":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","diskSizeGb":-1,"sourceImage":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/global\/images\/centos-7","type":""},"autoDelete":true,"boot":true,"source":"","mode":"","interface":"","disk_type":"PERSISTENT","type":""}],"metadata":{"items":[],"type":"","fingerprint":""},"sshKeys":["centos:ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDMGAS\/K0Mb\/uwFXwD+hkjguy7VMZk2hpuhwPl9FUZwVBrURf\/i9QMJ5\/paPEZixu8VlRx7Inu4iun7rQfrnfeIYInmBwspXHYiTK3oHJAgZnrAHVEf1p6YaxLINlT1NI5yOAGPRWW6of8rBDBH1ObwU2+wcSx\/1H0uIs3aZNLufr+Rh628ACxAum2Gt8AVRj6ua2BPFyt5VTdclyysAmeh1AiixNgOZXOz6y\/i4TbzpY78I3isuKpxsUeXX6jxEMQol406jHDUF6njEOPIQG2zVZ3QJlTG9OlN+NiyZG9WkZz0VG\/6M8ixxIHHI2dNwUbBFv2HUu+8X9LTLFq2O7KjX9Hp7uZKBAySHA3eKaKHIp2bZuU1bT5PRPkggngX86xg+T+OMNnutbAiMnRJ8+FvD5So+5TIx4b9GgxAxure3x2yRPT9lOiQOB+CVpJPxR0Rn9bOI+wiPnD0kAGvK\/fHT+pqL4PM+hTnJtp9rrCRzIQApBx1263jEcYffhW2epZQRO+he5CMawFJ5TBe08om2AaDJ8GQdrpF6YA3W8DzHbmL3DPVVHdmqPLn10o+LX4gv5SdIIDVGdjKOc1BCnLTRmM28d5+sLDt\/M+kvcQgf0y0yDjMVjGECZkt39hbm4ELMHzZtzYLmHNhBZxRqHeJ7qFTuv1kx88OW3Xc5mbBNQ== centos@nutanix.com\n"],"minCpuPlatform":"","scheduling":{"automaticRestart":true,"type":"","preemptible":false,"onHostMaintenance":"TERMINATE"},"canIpForward":false,"blankDisks":[],"networkInterfaces":[{"aliasIpRanges":[],"network":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/global\/networks\/default","accessConfigs":[{"config_type":"ONE_TO_ONE_NAT","type":"","name":"mongo-config-acn-@@{calm_array_index}@@-@@{calm_time}@@","natIP":""}],"networkIP":"","subnetwork":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/regions\/us-central1\/subnetworks\/default","type":"","associatePublicIP":true}],"type":"","account_uuid":"84213a31-4fe8-7e39-3799-e093e5d0dc2e","serviceAccounts":[{"scopes":["https:\/\/www.googleapis.com\/auth\/devstorage.read_only","https:\/\/www.googleapis.com\/auth\/logging.write","https:\/\/www.googleapis.com\/auth\/monitoring.write","https:\/\/www.googleapis.com\/auth\/servicecontrol","https:\/\/www.googleapis.com\/auth\/service.management.readonly","https:\/\/www.googleapis.com\/auth\/trace.append"],"type":"","email":""}],"name":"mongo-config-set-@@{calm_array_index}@@-@@{calm_time}@@"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Gcp_Provision_4a15a437_7787_4f4e_a85c_124d560111da"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPConfigSet","uuid":"4a15a437-7787-4f4e-a85c-124d560111da"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"13c2807c-75ec-4a49-966c-2858dea57892","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"60","address":"@@{public_ip_address}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_GCPConfigSet_4a15a437_7787_4f4e_a85c_124d560111da"}],"description":"","message_list":[],"uuid":"3dfdab2b-a950-44ce-bc53-d829a28874a3","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_4a15a437_7787_4f4e_a85c_124d560111da","uuid":"ad420799-75d4-4ce7-a76c-37db0fdb9c33"},"name":"SYS_GEN__Runbook_Substrate_4a15a437_7787_4f4e_a85c_124d560111da"}},{"description":"System action for powering on an application","message_list":[],"uuid":"88cab64b-3b67-41cc-8477-0d9166303f3b","name":"action_poweron","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"GCPConfigSet","uuid":"4a15a437-7787-4f4e-a85c-124d560111da"},"retries":"0","description":"","type":"DAG","uuid":"b57a7cb7-5cae-42f1-9882-f40626d79a96","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Gcp_Operation_PowerOn_4a15a437_7787_4f4e_a85c_124d560111da","uuid":"a18416a3-16d2-4367-8590-9e7fbe6a9918"},{"kind":"app_task","name":"SYS_GEN__check_login_for_GCPConfigSet_4a15a437_7787_4f4e_a85c_124d560111da","uuid":"10a83c8f-5138-4db1-a4b4-1ac7f2b672ec"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Gcp_Operation_PowerOn_4a15a437_7787_4f4e_a85c_124d560111da","uuid":"a18416a3-16d2-4367-8590-9e7fbe6a9918"},"edge_type":"inherent","type":"","uuid":"b9cc6b0d-3a91-44ab-bb70-60554d7ddf98","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_GCPConfigSet_4a15a437_7787_4f4e_a85c_124d560111da","uuid":"10a83c8f-5138-4db1-a4b4-1ac7f2b672ec"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_4a15a437_7787_4f4e_a85c_124d560111da"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPConfigSet","uuid":"4a15a437-7787-4f4e-a85c-124d560111da"},"retries":"0","description":"","type":"VMOPERATION_GCP_VM","uuid":"a18416a3-16d2-4367-8590-9e7fbe6a9918","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Gcp_Operation_PowerOn_4a15a437_7787_4f4e_a85c_124d560111da"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPConfigSet","uuid":"4a15a437-7787-4f4e-a85c-124d560111da"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"10a83c8f-5138-4db1-a4b4-1ac7f2b672ec","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"60","address":"@@{public_ip_address}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_GCPConfigSet_4a15a437_7787_4f4e_a85c_124d560111da"}],"description":"","message_list":[],"uuid":"43a5a712-292e-425e-b1de-ee35fe796adc","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_4a15a437_7787_4f4e_a85c_124d560111da","uuid":"b57a7cb7-5cae-42f1-9882-f40626d79a96"},"name":"SYS_GEN__Runbook_Substrate_4a15a437_7787_4f4e_a85c_124d560111da"}},{"description":"System action for restarting an application","message_list":[],"uuid":"30fbdd93-7c69-4bd1-a730-2b5836d05735","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"GCPConfigSet","uuid":"4a15a437-7787-4f4e-a85c-124d560111da"},"retries":"0","description":"","type":"DAG","uuid":"5f3aaad8-9c17-41a9-a0a6-6cd59a878159","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Gcp_Operation_Restart_4a15a437_7787_4f4e_a85c_124d560111da","uuid":"00b0ba83-f1ae-44c8-8af2-25f251cb6c08"},{"kind":"app_task","name":"SYS_GEN__check_login_for_GCPConfigSet_4a15a437_7787_4f4e_a85c_124d560111da","uuid":"d1b18bdb-cf5c-4806-b80f-2c14a7659db6"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Gcp_Operation_Restart_4a15a437_7787_4f4e_a85c_124d560111da","uuid":"00b0ba83-f1ae-44c8-8af2-25f251cb6c08"},"edge_type":"inherent","type":"","uuid":"efacb5ca-f540-403b-983e-99de2eff92d7","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_GCPConfigSet_4a15a437_7787_4f4e_a85c_124d560111da","uuid":"d1b18bdb-cf5c-4806-b80f-2c14a7659db6"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_4a15a437_7787_4f4e_a85c_124d560111da"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPConfigSet","uuid":"4a15a437-7787-4f4e-a85c-124d560111da"},"retries":"0","description":"","type":"VMOPERATION_GCP_VM","uuid":"00b0ba83-f1ae-44c8-8af2-25f251cb6c08","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Gcp_Operation_Restart_4a15a437_7787_4f4e_a85c_124d560111da"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPConfigSet","uuid":"4a15a437-7787-4f4e-a85c-124d560111da"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"d1b18bdb-cf5c-4806-b80f-2c14a7659db6","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"60","address":"@@{public_ip_address}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_GCPConfigSet_4a15a437_7787_4f4e_a85c_124d560111da"}],"description":"","message_list":[],"uuid":"e1ea4d4d-5f50-4d41-af2b-33551c074109","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_4a15a437_7787_4f4e_a85c_124d560111da","uuid":"5f3aaad8-9c17-41a9-a0a6-6cd59a878159"},"name":"SYS_GEN__Runbook_Substrate_4a15a437_7787_4f4e_a85c_124d560111da"}},{"description":"System action for suspending an application","message_list":[],"uuid":"3270a0e1-bf8c-4ad5-a20a-477b0c56ac8a","name":"action_suspend","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"GCPConfigSet","uuid":"4a15a437-7787-4f4e-a85c-124d560111da"},"retries":"0","description":"","type":"DAG","uuid":"7b1f33ff-2880-4c1e-a377-ff27b5f4cb4a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_4a15a437_7787_4f4e_a85c_124d560111da"}],"description":"","message_list":[],"uuid":"01c16825-9514-41e6-8db8-0373c7d91e37","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_4a15a437_7787_4f4e_a85c_124d560111da","uuid":"7b1f33ff-2880-4c1e-a377-ff27b5f4cb4a"},"name":"SYS_GEN__Runbook_Substrate_4a15a437_7787_4f4e_a85c_124d560111da"}},{"description":"System action for modifying an application","message_list":[],"uuid":"94d7abd3-8e86-4ddf-ae76-ab9dfe3e366f","name":"action_modify","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"GCPConfigSet","uuid":"4a15a437-7787-4f4e-a85c-124d560111da"},"retries":"0","description":"","type":"DAG","uuid":"3549ba3e-5c72-47ed-b4c9-384044da103d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_4a15a437_7787_4f4e_a85c_124d560111da"}],"description":"","message_list":[],"uuid":"d8cbdda7-1dc5-4f8c-b961-9d91a82f58d4","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_4a15a437_7787_4f4e_a85c_124d560111da","uuid":"3549ba3e-5c72-47ed-b4c9-384044da103d"},"name":"SYS_GEN__Runbook_Substrate_4a15a437_7787_4f4e_a85c_124d560111da"}},{"description":"System action for powering off an application","message_list":[],"uuid":"26ca0768-8288-4a7f-86de-7ac74bfc50f8","name":"action_poweroff","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"GCPConfigSet","uuid":"4a15a437-7787-4f4e-a85c-124d560111da"},"retries":"0","description":"","type":"DAG","uuid":"3fd222b5-9449-4677-939e-138a1a6125a0","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Gcp_Operation_PowerOff_4a15a437_7787_4f4e_a85c_124d560111da","uuid":"15182a93-6205-4037-b0d7-78129f98dee9"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_4a15a437_7787_4f4e_a85c_124d560111da"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPConfigSet","uuid":"4a15a437-7787-4f4e-a85c-124d560111da"},"retries":"0","description":"","type":"VMOPERATION_GCP_VM","uuid":"15182a93-6205-4037-b0d7-78129f98dee9","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Gcp_Operation_PowerOff_4a15a437_7787_4f4e_a85c_124d560111da"}],"description":"","message_list":[],"uuid":"94b79745-8694-4ef5-83aa-c7ccbaadc81d","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_4a15a437_7787_4f4e_a85c_124d560111da","uuid":"3fd222b5-9449-4677-939e-138a1a6125a0"},"name":"SYS_GEN__Runbook_Substrate_4a15a437_7787_4f4e_a85c_124d560111da"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"75790386-6344-475d-b4df-f14e485c7cd8","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"GCPConfigSet","uuid":"4a15a437-7787-4f4e-a85c-124d560111da"},"retries":"0","description":"","type":"DAG","uuid":"05c9b8b3-e3fe-4562-a94d-80e57aaf8f1f","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Gcp_Delete_4a15a437_7787_4f4e_a85c_124d560111da","uuid":"99d54d56-0e6e-4ae2-9c90-b5c8894cf9d1"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_4a15a437_7787_4f4e_a85c_124d560111da"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPConfigSet","uuid":"4a15a437-7787-4f4e-a85c-124d560111da"},"retries":"0","description":"","type":"DELETE_GCP_VM","uuid":"99d54d56-0e6e-4ae2-9c90-b5c8894cf9d1","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Gcp_Delete_4a15a437_7787_4f4e_a85c_124d560111da"}],"description":"","message_list":[],"uuid":"f4893592-3aee-4106-8065-ec4f64ed6f94","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_4a15a437_7787_4f4e_a85c_124d560111da","uuid":"05c9b8b3-e3fe-4562-a94d-80e57aaf8f1f"},"name":"SYS_GEN__Runbook_Substrate_4a15a437_7787_4f4e_a85c_124d560111da"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"ecb79102-f4a8-487d-8e42-2925a4c6e479","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"GCPConfigSet","uuid":"4a15a437-7787-4f4e-a85c-124d560111da"},"retries":"0","description":"","type":"DAG","uuid":"686cd4cc-0cb5-4969-b058-ac6b3524deaf","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Substrate_Element_Delete_4a15a437_7787_4f4e_a85c_124d560111da","uuid":"1893c36e-b7d2-4ee7-9275-62e1f5973659"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_4a15a437_7787_4f4e_a85c_124d560111da"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPConfigSet","uuid":"4a15a437-7787-4f4e-a85c-124d560111da"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"1893c36e-b7d2-4ee7-9275-62e1f5973659","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Substrate_Element_Delete_4a15a437_7787_4f4e_a85c_124d560111da"}],"description":"","message_list":[],"uuid":"294c931b-3c2b-48fa-af56-0bec3d459010","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_4a15a437_7787_4f4e_a85c_124d560111da","uuid":"686cd4cc-0cb5-4969-b058-ac6b3524deaf"},"name":"SYS_GEN__Runbook_Substrate_4a15a437_7787_4f4e_a85c_124d560111da"}}],"message_list":[],"uuid":"4a15a437-7787-4f4e-a85c-124d560111da","state":"ACTIVE","readiness_probe":{"connection_type":"SSH","retries":"5","disable_readiness_probe":false,"address":"@@{public_ip_address}@@","delay_secs":"0","connection_port":22},"editables":{"readiness_probe":{"connection_type":true,"retries":true,"timeout_secs":true,"address":true,"delay_secs":true,"connection_port":true},"create_spec":{"resources":{"labels":true,"machineType":true,"name":true,"zone":true,"tags":{"items":true},"guestCustomization":{"startupScript":true},"disks":{"0":{"initializeParams":{"diskSizeGb":true,"sourceImage":true,"diskType":true},"autoDelete":true}},"serviceAccounts":{"0":{"scopes":true,"email":true}},"networkInterfaces":{"0":{"accessConfigs":{"0":{"config_type":true,"name":true}},"network":true,"subnetwork":true,"associatePublicIP":true}},"sshKeys":{"0":true},"metadata":{"items":true}}}},"os_type":"Linux","type":"GCP_VM","create_spec":{"type":"PROVISION_GCP_VM","resources":{"labels":[],"machineType":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/machineTypes\/n1-highcpu-2","description":"","zone":"us-central1-c","tags":{"items":[],"type":"","fingerprint":""},"guestCustomization":{"type":"","sysprep":"","startupScript":""},"labelFingerprint":"","disks":[{"diskEncryptionKey":{"rawKey":"","type":""},"deviceName":"","initializeParams":{"sourceImageEncryptionKey":{"rawKey":"","type":""},"diskName":"","diskType":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","diskSizeGb":-1,"sourceImage":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/global\/images\/centos-7","type":""},"autoDelete":true,"boot":true,"source":"","mode":"","interface":"","disk_type":"PERSISTENT","type":""}],"metadata":{"items":[],"type":"","fingerprint":""},"sshKeys":["centos:ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDMGAS\/K0Mb\/uwFXwD+hkjguy7VMZk2hpuhwPl9FUZwVBrURf\/i9QMJ5\/paPEZixu8VlRx7Inu4iun7rQfrnfeIYInmBwspXHYiTK3oHJAgZnrAHVEf1p6YaxLINlT1NI5yOAGPRWW6of8rBDBH1ObwU2+wcSx\/1H0uIs3aZNLufr+Rh628ACxAum2Gt8AVRj6ua2BPFyt5VTdclyysAmeh1AiixNgOZXOz6y\/i4TbzpY78I3isuKpxsUeXX6jxEMQol406jHDUF6njEOPIQG2zVZ3QJlTG9OlN+NiyZG9WkZz0VG\/6M8ixxIHHI2dNwUbBFv2HUu+8X9LTLFq2O7KjX9Hp7uZKBAySHA3eKaKHIp2bZuU1bT5PRPkggngX86xg+T+OMNnutbAiMnRJ8+FvD5So+5TIx4b9GgxAxure3x2yRPT9lOiQOB+CVpJPxR0Rn9bOI+wiPnD0kAGvK\/fHT+pqL4PM+hTnJtp9rrCRzIQApBx1263jEcYffhW2epZQRO+he5CMawFJ5TBe08om2AaDJ8GQdrpF6YA3W8DzHbmL3DPVVHdmqPLn10o+LX4gv5SdIIDVGdjKOc1BCnLTRmM28d5+sLDt\/M+kvcQgf0y0yDjMVjGECZkt39hbm4ELMHzZtzYLmHNhBZxRqHeJ7qFTuv1kx88OW3Xc5mbBNQ== centos@nutanix.com\n"],"minCpuPlatform":"","scheduling":{"automaticRestart":true,"type":"","preemptible":false,"onHostMaintenance":"TERMINATE"},"canIpForward":false,"blankDisks":[],"networkInterfaces":[{"aliasIpRanges":[],"network":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/global\/networks\/default","accessConfigs":[{"config_type":"ONE_TO_ONE_NAT","type":"","name":"mongo-config-acn-@@{calm_array_index}@@-@@{calm_time}@@","natIP":""}],"networkIP":"","subnetwork":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/regions\/us-central1\/subnetworks\/default","type":"","associatePublicIP":true}],"type":"","account_uuid":"84213a31-4fe8-7e39-3799-e093e5d0dc2e","serviceAccounts":[{"scopes":["https:\/\/www.googleapis.com\/auth\/devstorage.read_only","https:\/\/www.googleapis.com\/auth\/logging.write","https:\/\/www.googleapis.com\/auth\/monitoring.write","https:\/\/www.googleapis.com\/auth\/servicecontrol","https:\/\/www.googleapis.com\/auth\/service.management.readonly","https:\/\/www.googleapis.com\/auth\/trace.append"],"type":"","email":""}],"name":"mongo-config-set-@@{calm_array_index}@@-@@{calm_time}@@"}},"variable_list":[],"name":"GCPConfigSet"},{"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"58e433c4-0a35-49c4-87fe-50c224887e25","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"GCPDataSet","uuid":"8f11d2d7-3737-4025-9613-b72ea529ed07"},"retries":"0","description":"","type":"DAG","uuid":"29a5b3e3-e706-4cb2-b2c7-edffd7ac3d58","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Gcp_Provision_8f11d2d7_3737_4025_9613_b72ea529ed07","uuid":"38f3b5ff-46b0-4837-90cc-9edc044890ac"},{"kind":"app_task","name":"SYS_GEN__check_login_for_GCPDataSet_8f11d2d7_3737_4025_9613_b72ea529ed07","uuid":"3c9b573b-a7c5-4c48-baa7-7c34aa201f9b"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Gcp_Provision_8f11d2d7_3737_4025_9613_b72ea529ed07","uuid":"38f3b5ff-46b0-4837-90cc-9edc044890ac"},"edge_type":"inherent","type":"","uuid":"29be5905-65c7-496a-824b-392392bae93f","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_GCPDataSet_8f11d2d7_3737_4025_9613_b72ea529ed07","uuid":"3c9b573b-a7c5-4c48-baa7-7c34aa201f9b"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_8f11d2d7_3737_4025_9613_b72ea529ed07"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPDataSet","uuid":"8f11d2d7-3737-4025-9613-b72ea529ed07"},"retries":"0","description":"","type":"PROVISION_GCP_VM","uuid":"38f3b5ff-46b0-4837-90cc-9edc044890ac","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"PROVISION_GCP_VM","resources":{"labels":[],"machineType":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/machineTypes\/n1-highcpu-4","description":"","zone":"us-central1-c","tags":{"items":[],"type":"","fingerprint":""},"guestCustomization":{"type":"","sysprep":"","startupScript":""},"labelFingerprint":"","disks":[{"diskEncryptionKey":{"rawKey":"","type":""},"deviceName":"","initializeParams":{"sourceImageEncryptionKey":{"rawKey":"","type":""},"diskName":"","diskType":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","diskSizeGb":-1,"sourceImage":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/global\/images\/centos-7","type":""},"autoDelete":true,"boot":true,"source":"","mode":"","interface":"","disk_type":"PERSISTENT","type":""}],"metadata":{"items":[],"type":"","fingerprint":""},"sshKeys":["centos:ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDMGAS\/K0Mb\/uwFXwD+hkjguy7VMZk2hpuhwPl9FUZwVBrURf\/i9QMJ5\/paPEZixu8VlRx7Inu4iun7rQfrnfeIYInmBwspXHYiTK3oHJAgZnrAHVEf1p6YaxLINlT1NI5yOAGPRWW6of8rBDBH1ObwU2+wcSx\/1H0uIs3aZNLufr+Rh628ACxAum2Gt8AVRj6ua2BPFyt5VTdclyysAmeh1AiixNgOZXOz6y\/i4TbzpY78I3isuKpxsUeXX6jxEMQol406jHDUF6njEOPIQG2zVZ3QJlTG9OlN+NiyZG9WkZz0VG\/6M8ixxIHHI2dNwUbBFv2HUu+8X9LTLFq2O7KjX9Hp7uZKBAySHA3eKaKHIp2bZuU1bT5PRPkggngX86xg+T+OMNnutbAiMnRJ8+FvD5So+5TIx4b9GgxAxure3x2yRPT9lOiQOB+CVpJPxR0Rn9bOI+wiPnD0kAGvK\/fHT+pqL4PM+hTnJtp9rrCRzIQApBx1263jEcYffhW2epZQRO+he5CMawFJ5TBe08om2AaDJ8GQdrpF6YA3W8DzHbmL3DPVVHdmqPLn10o+LX4gv5SdIIDVGdjKOc1BCnLTRmM28d5+sLDt\/M+kvcQgf0y0yDjMVjGECZkt39hbm4ELMHzZtzYLmHNhBZxRqHeJ7qFTuv1kx88OW3Xc5mbBNQ== centos@nutanix.com\n"],"minCpuPlatform":"","scheduling":{"automaticRestart":true,"type":"","preemptible":false,"onHostMaintenance":"TERMINATE"},"canIpForward":false,"blankDisks":[{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mongo-disk1-@@{calm_array_index}@@-@@{calm_time}@@","sizeGb":20,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mongo-disk2-@@{calm_array_index}@@-@@{calm_time}@@","sizeGb":20,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mongo-disk3-@@{calm_array_index}@@-@@{calm_time}@@","sizeGb":20,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mongo-disk4-@@{calm_array_index}@@-@@{calm_time}@@","sizeGb":20,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mongo-disk5-@@{calm_array_index}@@-@@{calm_time}@@","sizeGb":20,"autoDelete":true}],"networkInterfaces":[{"aliasIpRanges":[],"network":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/global\/networks\/default","accessConfigs":[{"config_type":"ONE_TO_ONE_NAT","type":"","name":"mongo-data-acn-@@{calm_array_index}@@-@@{calm_time}@@","natIP":""}],"networkIP":"","subnetwork":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/regions\/us-central1\/subnetworks\/default","type":"","associatePublicIP":true}],"type":"","account_uuid":"84213a31-4fe8-7e39-3799-e093e5d0dc2e","serviceAccounts":[{"scopes":["https:\/\/www.googleapis.com\/auth\/devstorage.read_only","https:\/\/www.googleapis.com\/auth\/logging.write","https:\/\/www.googleapis.com\/auth\/monitoring.write","https:\/\/www.googleapis.com\/auth\/servicecontrol","https:\/\/www.googleapis.com\/auth\/service.management.readonly","https:\/\/www.googleapis.com\/auth\/trace.append"],"type":"","email":""}],"name":"mongo-data-set-@@{calm_array_index}@@-@@{calm_time}@@"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Gcp_Provision_8f11d2d7_3737_4025_9613_b72ea529ed07"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPDataSet","uuid":"8f11d2d7-3737-4025-9613-b72ea529ed07"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"3c9b573b-a7c5-4c48-baa7-7c34aa201f9b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"60","address":"@@{public_ip_address}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_GCPDataSet_8f11d2d7_3737_4025_9613_b72ea529ed07"}],"description":"","message_list":[],"uuid":"7adb25be-239a-47bf-a87b-5496c7813c19","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_8f11d2d7_3737_4025_9613_b72ea529ed07","uuid":"29a5b3e3-e706-4cb2-b2c7-edffd7ac3d58"},"name":"SYS_GEN__Runbook_Substrate_8f11d2d7_3737_4025_9613_b72ea529ed07"}},{"description":"System action for powering on an application","message_list":[],"uuid":"86837ac6-2f24-4947-b35b-952c1fbc76e1","name":"action_poweron","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"GCPDataSet","uuid":"8f11d2d7-3737-4025-9613-b72ea529ed07"},"retries":"0","description":"","type":"DAG","uuid":"6689f98f-2d5d-44fb-83ad-0caa0dc9d2a5","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Gcp_Operation_PowerOn_8f11d2d7_3737_4025_9613_b72ea529ed07","uuid":"ec33f96e-e02e-4bd6-a0fe-4f773eb4e3f9"},{"kind":"app_task","name":"SYS_GEN__check_login_for_GCPDataSet_8f11d2d7_3737_4025_9613_b72ea529ed07","uuid":"6829f404-0fa5-4649-993d-37e40ed2941e"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Gcp_Operation_PowerOn_8f11d2d7_3737_4025_9613_b72ea529ed07","uuid":"ec33f96e-e02e-4bd6-a0fe-4f773eb4e3f9"},"edge_type":"inherent","type":"","uuid":"933e6994-3646-4f33-8843-6e22fe570d5d","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_GCPDataSet_8f11d2d7_3737_4025_9613_b72ea529ed07","uuid":"6829f404-0fa5-4649-993d-37e40ed2941e"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_8f11d2d7_3737_4025_9613_b72ea529ed07"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPDataSet","uuid":"8f11d2d7-3737-4025-9613-b72ea529ed07"},"retries":"0","description":"","type":"VMOPERATION_GCP_VM","uuid":"ec33f96e-e02e-4bd6-a0fe-4f773eb4e3f9","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Gcp_Operation_PowerOn_8f11d2d7_3737_4025_9613_b72ea529ed07"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPDataSet","uuid":"8f11d2d7-3737-4025-9613-b72ea529ed07"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"6829f404-0fa5-4649-993d-37e40ed2941e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"60","address":"@@{public_ip_address}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_GCPDataSet_8f11d2d7_3737_4025_9613_b72ea529ed07"}],"description":"","message_list":[],"uuid":"30a08689-22ce-47de-9774-0ee679b6edcd","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_8f11d2d7_3737_4025_9613_b72ea529ed07","uuid":"6689f98f-2d5d-44fb-83ad-0caa0dc9d2a5"},"name":"SYS_GEN__Runbook_Substrate_8f11d2d7_3737_4025_9613_b72ea529ed07"}},{"description":"System action for restarting an application","message_list":[],"uuid":"c45ed4b6-30dd-4c4f-ae01-f39ec4ce8c81","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"GCPDataSet","uuid":"8f11d2d7-3737-4025-9613-b72ea529ed07"},"retries":"0","description":"","type":"DAG","uuid":"c3dff34f-1dea-4c7c-b995-cfed52371d7f","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Gcp_Operation_Restart_8f11d2d7_3737_4025_9613_b72ea529ed07","uuid":"a88d73a7-371f-47dd-a9a8-f78c0e3faf40"},{"kind":"app_task","name":"SYS_GEN__check_login_for_GCPDataSet_8f11d2d7_3737_4025_9613_b72ea529ed07","uuid":"ae7b3948-3383-46ed-853f-20305fb976d2"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Gcp_Operation_Restart_8f11d2d7_3737_4025_9613_b72ea529ed07","uuid":"a88d73a7-371f-47dd-a9a8-f78c0e3faf40"},"edge_type":"inherent","type":"","uuid":"eef84610-2577-4fcd-b5c2-fd4c42441a8d","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_GCPDataSet_8f11d2d7_3737_4025_9613_b72ea529ed07","uuid":"ae7b3948-3383-46ed-853f-20305fb976d2"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_8f11d2d7_3737_4025_9613_b72ea529ed07"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPDataSet","uuid":"8f11d2d7-3737-4025-9613-b72ea529ed07"},"retries":"0","description":"","type":"VMOPERATION_GCP_VM","uuid":"a88d73a7-371f-47dd-a9a8-f78c0e3faf40","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Gcp_Operation_Restart_8f11d2d7_3737_4025_9613_b72ea529ed07"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPDataSet","uuid":"8f11d2d7-3737-4025-9613-b72ea529ed07"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"ae7b3948-3383-46ed-853f-20305fb976d2","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"60","address":"@@{public_ip_address}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_GCPDataSet_8f11d2d7_3737_4025_9613_b72ea529ed07"}],"description":"","message_list":[],"uuid":"b018530f-986b-4b81-bf3f-4297d0556b86","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_8f11d2d7_3737_4025_9613_b72ea529ed07","uuid":"c3dff34f-1dea-4c7c-b995-cfed52371d7f"},"name":"SYS_GEN__Runbook_Substrate_8f11d2d7_3737_4025_9613_b72ea529ed07"}},{"description":"System action for suspending an application","message_list":[],"uuid":"d36b489a-d7e6-4103-9de9-6ffecbd5682e","name":"action_suspend","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"GCPDataSet","uuid":"8f11d2d7-3737-4025-9613-b72ea529ed07"},"retries":"0","description":"","type":"DAG","uuid":"373e433e-0a3a-4cb3-b115-62d1bc01d0d4","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_8f11d2d7_3737_4025_9613_b72ea529ed07"}],"description":"","message_list":[],"uuid":"412a847e-9a96-41c2-a0fc-b176d9c74761","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_8f11d2d7_3737_4025_9613_b72ea529ed07","uuid":"373e433e-0a3a-4cb3-b115-62d1bc01d0d4"},"name":"SYS_GEN__Runbook_Substrate_8f11d2d7_3737_4025_9613_b72ea529ed07"}},{"description":"System action for modifying an application","message_list":[],"uuid":"460ff57b-87e0-44e2-b018-94e6fc6dc21a","name":"action_modify","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"GCPDataSet","uuid":"8f11d2d7-3737-4025-9613-b72ea529ed07"},"retries":"0","description":"","type":"DAG","uuid":"b9159927-a32e-4248-bc06-4137f66c0992","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_8f11d2d7_3737_4025_9613_b72ea529ed07"}],"description":"","message_list":[],"uuid":"97620ef4-4d05-4310-b5b1-bc010804bcb5","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_8f11d2d7_3737_4025_9613_b72ea529ed07","uuid":"b9159927-a32e-4248-bc06-4137f66c0992"},"name":"SYS_GEN__Runbook_Substrate_8f11d2d7_3737_4025_9613_b72ea529ed07"}},{"description":"System action for powering off an application","message_list":[],"uuid":"b2a870c2-1caa-47df-bad5-de68a1118eb6","name":"action_poweroff","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"GCPDataSet","uuid":"8f11d2d7-3737-4025-9613-b72ea529ed07"},"retries":"0","description":"","type":"DAG","uuid":"c7adcefa-2287-49dc-b839-eb8f9a55359e","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Gcp_Operation_PowerOff_8f11d2d7_3737_4025_9613_b72ea529ed07","uuid":"bbf07574-a632-41c3-99b2-7f92fefee9f8"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_8f11d2d7_3737_4025_9613_b72ea529ed07"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPDataSet","uuid":"8f11d2d7-3737-4025-9613-b72ea529ed07"},"retries":"0","description":"","type":"VMOPERATION_GCP_VM","uuid":"bbf07574-a632-41c3-99b2-7f92fefee9f8","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Gcp_Operation_PowerOff_8f11d2d7_3737_4025_9613_b72ea529ed07"}],"description":"","message_list":[],"uuid":"5ff6f230-26f1-4bf7-9864-fff4c393be0c","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_8f11d2d7_3737_4025_9613_b72ea529ed07","uuid":"c7adcefa-2287-49dc-b839-eb8f9a55359e"},"name":"SYS_GEN__Runbook_Substrate_8f11d2d7_3737_4025_9613_b72ea529ed07"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"c7c8138c-986d-43b5-8396-9013b436477f","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"GCPDataSet","uuid":"8f11d2d7-3737-4025-9613-b72ea529ed07"},"retries":"0","description":"","type":"DAG","uuid":"e1e6df2f-250a-41f1-a217-9fc8b700a830","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Gcp_Delete_8f11d2d7_3737_4025_9613_b72ea529ed07","uuid":"d78dacce-2879-4f4d-b680-4cfa5f048492"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_8f11d2d7_3737_4025_9613_b72ea529ed07"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPDataSet","uuid":"8f11d2d7-3737-4025-9613-b72ea529ed07"},"retries":"0","description":"","type":"DELETE_GCP_VM","uuid":"d78dacce-2879-4f4d-b680-4cfa5f048492","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Gcp_Delete_8f11d2d7_3737_4025_9613_b72ea529ed07"}],"description":"","message_list":[],"uuid":"59d79369-31d3-42d3-93d1-e32083a5032c","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_8f11d2d7_3737_4025_9613_b72ea529ed07","uuid":"e1e6df2f-250a-41f1-a217-9fc8b700a830"},"name":"SYS_GEN__Runbook_Substrate_8f11d2d7_3737_4025_9613_b72ea529ed07"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"3c2f7425-e405-4bfa-84a6-37ca8a8f30c9","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"GCPDataSet","uuid":"8f11d2d7-3737-4025-9613-b72ea529ed07"},"retries":"0","description":"","type":"DAG","uuid":"31a83239-b6ed-42bb-96e7-feb800b7755f","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Substrate_Element_Delete_8f11d2d7_3737_4025_9613_b72ea529ed07","uuid":"8763c09f-e132-4952-af7b-85d24ecdd443"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_8f11d2d7_3737_4025_9613_b72ea529ed07"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPDataSet","uuid":"8f11d2d7-3737-4025-9613-b72ea529ed07"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"8763c09f-e132-4952-af7b-85d24ecdd443","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Substrate_Element_Delete_8f11d2d7_3737_4025_9613_b72ea529ed07"}],"description":"","message_list":[],"uuid":"12afa562-b6e8-4db2-92c3-e0c30b11b856","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_8f11d2d7_3737_4025_9613_b72ea529ed07","uuid":"31a83239-b6ed-42bb-96e7-feb800b7755f"},"name":"SYS_GEN__Runbook_Substrate_8f11d2d7_3737_4025_9613_b72ea529ed07"}}],"message_list":[],"uuid":"8f11d2d7-3737-4025-9613-b72ea529ed07","state":"ACTIVE","readiness_probe":{"connection_type":"SSH","retries":"5","disable_readiness_probe":false,"address":"@@{platform.networkInterfaces[0].accessConfigs[0].natIP}@@","delay_secs":"0","connection_port":22},"editables":{"readiness_probe":{"connection_type":true,"retries":true,"timeout_secs":true,"address":true,"delay_secs":true,"connection_port":true},"create_spec":{"resources":{"labels":true,"machineType":true,"name":true,"zone":true,"tags":{"items":true},"guestCustomization":{"startupScript":true},"disks":{"0":{"initializeParams":{"diskSizeGb":true,"sourceImage":true,"diskType":true},"autoDelete":true}},"blankDisks":{"1":{"disk_type":true,"name":true,"sizeGb":true,"autoDelete":true},"0":{"disk_type":true,"name":true,"sizeGb":true,"autoDelete":true},"3":{"disk_type":true,"name":true,"sizeGb":true,"autoDelete":true},"2":{"disk_type":true,"name":true,"sizeGb":true,"autoDelete":true},"4":{"disk_type":true,"name":true,"sizeGb":true,"autoDelete":true}},"networkInterfaces":{"0":{"accessConfigs":{"0":{"config_type":true,"name":true}},"network":true,"subnetwork":true,"associatePublicIP":true}},"sshKeys":{"0":true},"serviceAccounts":{"0":{"scopes":true,"email":true}},"metadata":{"items":true}}}},"os_type":"Linux","type":"GCP_VM","create_spec":{"type":"PROVISION_GCP_VM","resources":{"labels":[],"machineType":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/machineTypes\/n1-highcpu-4","description":"","zone":"us-central1-c","tags":{"items":[],"type":"","fingerprint":""},"guestCustomization":{"type":"","sysprep":"","startupScript":""},"labelFingerprint":"","disks":[{"diskEncryptionKey":{"rawKey":"","type":""},"deviceName":"","initializeParams":{"sourceImageEncryptionKey":{"rawKey":"","type":""},"diskName":"","diskType":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","diskSizeGb":-1,"sourceImage":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/global\/images\/centos-7","type":""},"autoDelete":true,"boot":true,"source":"","mode":"","interface":"","disk_type":"PERSISTENT","type":""}],"metadata":{"items":[],"type":"","fingerprint":""},"sshKeys":["centos:ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDMGAS\/K0Mb\/uwFXwD+hkjguy7VMZk2hpuhwPl9FUZwVBrURf\/i9QMJ5\/paPEZixu8VlRx7Inu4iun7rQfrnfeIYInmBwspXHYiTK3oHJAgZnrAHVEf1p6YaxLINlT1NI5yOAGPRWW6of8rBDBH1ObwU2+wcSx\/1H0uIs3aZNLufr+Rh628ACxAum2Gt8AVRj6ua2BPFyt5VTdclyysAmeh1AiixNgOZXOz6y\/i4TbzpY78I3isuKpxsUeXX6jxEMQol406jHDUF6njEOPIQG2zVZ3QJlTG9OlN+NiyZG9WkZz0VG\/6M8ixxIHHI2dNwUbBFv2HUu+8X9LTLFq2O7KjX9Hp7uZKBAySHA3eKaKHIp2bZuU1bT5PRPkggngX86xg+T+OMNnutbAiMnRJ8+FvD5So+5TIx4b9GgxAxure3x2yRPT9lOiQOB+CVpJPxR0Rn9bOI+wiPnD0kAGvK\/fHT+pqL4PM+hTnJtp9rrCRzIQApBx1263jEcYffhW2epZQRO+he5CMawFJ5TBe08om2AaDJ8GQdrpF6YA3W8DzHbmL3DPVVHdmqPLn10o+LX4gv5SdIIDVGdjKOc1BCnLTRmM28d5+sLDt\/M+kvcQgf0y0yDjMVjGECZkt39hbm4ELMHzZtzYLmHNhBZxRqHeJ7qFTuv1kx88OW3Xc5mbBNQ== centos@nutanix.com\n"],"minCpuPlatform":"","scheduling":{"automaticRestart":true,"type":"","preemptible":false,"onHostMaintenance":"TERMINATE"},"canIpForward":false,"blankDisks":[{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mongo-disk1-@@{calm_array_index}@@-@@{calm_time}@@","sizeGb":20,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mongo-disk2-@@{calm_array_index}@@-@@{calm_time}@@","sizeGb":20,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mongo-disk3-@@{calm_array_index}@@-@@{calm_time}@@","sizeGb":20,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mongo-disk4-@@{calm_array_index}@@-@@{calm_time}@@","sizeGb":20,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mongo-disk5-@@{calm_array_index}@@-@@{calm_time}@@","sizeGb":20,"autoDelete":true}],"networkInterfaces":[{"aliasIpRanges":[],"network":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/global\/networks\/default","accessConfigs":[{"config_type":"ONE_TO_ONE_NAT","type":"","name":"mongo-data-acn-@@{calm_array_index}@@-@@{calm_time}@@","natIP":""}],"networkIP":"","subnetwork":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/regions\/us-central1\/subnetworks\/default","type":"","associatePublicIP":true}],"type":"","account_uuid":"84213a31-4fe8-7e39-3799-e093e5d0dc2e","serviceAccounts":[{"scopes":["https:\/\/www.googleapis.com\/auth\/devstorage.read_only","https:\/\/www.googleapis.com\/auth\/logging.write","https:\/\/www.googleapis.com\/auth\/monitoring.write","https:\/\/www.googleapis.com\/auth\/servicecontrol","https:\/\/www.googleapis.com\/auth\/service.management.readonly","https:\/\/www.googleapis.com\/auth\/trace.append"],"type":"","email":""}],"name":"mongo-data-set-@@{calm_array_index}@@-@@{calm_time}@@"}},"variable_list":[],"name":"GCPDataSet"},{"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"17f2e315-68e3-4d26-9e0f-bbce6987b3c1","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AzureRouter","uuid":"7c3d971c-23bd-4e2f-8fb0-93f1a45751e9"},"retries":"0","description":"","type":"DAG","uuid":"41ba56be-785d-45ed-a160-d06e9dceb82d","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Azure_Provision_7c3d971c_23bd_4e2f_8fb0_93f1a45751e9","uuid":"99bfe024-dd60-44ab-b2d8-8d3f7e0d16c8"},{"kind":"app_task","name":"SYS_GEN__check_login_for_AzureRouter_7c3d971c_23bd_4e2f_8fb0_93f1a45751e9","uuid":"21862a7e-4f35-4ce4-a562-1a96c23e8c86"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Azure_Provision_7c3d971c_23bd_4e2f_8fb0_93f1a45751e9","uuid":"99bfe024-dd60-44ab-b2d8-8d3f7e0d16c8"},"edge_type":"inherent","type":"","uuid":"a5f02f63-4b14-4de4-a121-b4d2154a7af1","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_AzureRouter_7c3d971c_23bd_4e2f_8fb0_93f1a45751e9","uuid":"21862a7e-4f35-4ce4-a562-1a96c23e8c86"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_7c3d971c_23bd_4e2f_8fb0_93f1a45751e9"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureRouter","uuid":"7c3d971c-23bd-4e2f-8fb0-93f1a45751e9"},"retries":"0","description":"","type":"PROVISION_AZURE_VM","uuid":"99bfe024-dd60-44ab-b2d8-8d3f7e0d16c8","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"PROVISION_AZURE_VM","name":"","resources":{"vm_name":"MongoRouter-@@{calm_unique_hash}@@-@@{calm_array_index}@@","storage_profile":{"is_managed":true,"image_details":{"sku":"7.6","publisher":"OpenLogic","offer":"CentOS-HPC","source_image_id":"","use_custom_image":false,"version":"7.6.20190327","type":""},"type":"","os_disk_details":{"size_in_gb":127,"name":"os-@@{calm_unique_hash}@@-@@{calm_array_index}@@-disk","storage_name":"","storage_type":"Standard_LRS","lun":-1,"type":"","create_option":"FromImage","caching_type":"ReadWrite"},"data_disk_list":[]},"nw_profile":{"nic_list":[{"nsg_name":"sg-allow-all-eastus2","vnet_name":"calm-virtual-network-eastus2","private_ip_info":{"ip_address":"","ip_allocation_method":"Dynamic","type":""},"nic_name":"nic-@@{calm_unique_hash}@@-@@{calm_array_index}@@-0","subnet_name":"default","type":"","public_ip_info":{"ip_name":"public-ip-@@{calm_unique_hash}@@-@@{calm_array_index}@@-0","dns_label":"dns-@@{calm_unique_hash}@@-@@{calm_array_index}@@-0","ip_allocation_method":"Dynamic","type":""}}],"primary_nic":-1,"type":""},"resource_group":"calmrg","os_profile":{"secrets":[],"type":"","windows_config":{"winrm_listeners":[],"time_zone":"","additional_unattend_content":[],"provision_vm_agent":true,"auto_updates":false,"type":""},"linux_config":{"disable_password_auth":false,"custom_data":"","type":"","public_keys":[]}},"hw_profile":{"max_data_disk_count":4,"vm_size":"Standard_D1_v2","type":""},"location":"eastus2","availability_set_id":"","tag_list":[],"type":"","account_uuid":"3c0f2d94-878c-f34c-6d39-90b854129782"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Azure_Provision_7c3d971c_23bd_4e2f_8fb0_93f1a45751e9"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureRouter","uuid":"7c3d971c-23bd-4e2f-8fb0-93f1a45751e9"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"21862a7e-4f35-4ce4-a562-1a96c23e8c86","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"60","address":"@@{platform.publicIPAddressList[0]}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_AzureRouter_7c3d971c_23bd_4e2f_8fb0_93f1a45751e9"}],"description":"","message_list":[],"uuid":"e5c3b181-3e09-4e71-90d1-7b4b7278e222","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_7c3d971c_23bd_4e2f_8fb0_93f1a45751e9","uuid":"41ba56be-785d-45ed-a160-d06e9dceb82d"},"name":"SYS_GEN__Runbook_Substrate_7c3d971c_23bd_4e2f_8fb0_93f1a45751e9"}},{"description":"System action for powering on an application","message_list":[],"uuid":"78e5d60b-cd18-4a4a-a1db-53a47d2cf4bc","name":"action_poweron","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AzureRouter","uuid":"7c3d971c-23bd-4e2f-8fb0-93f1a45751e9"},"retries":"0","description":"","type":"DAG","uuid":"b2b79ac0-223c-4c4d-82b5-4b84f4c5071d","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Azure_Operation_PowerOn_7c3d971c_23bd_4e2f_8fb0_93f1a45751e9","uuid":"52753fd3-af02-4c5d-81af-a957729814ad"},{"kind":"app_task","name":"SYS_GEN__check_login_for_AzureRouter_7c3d971c_23bd_4e2f_8fb0_93f1a45751e9","uuid":"9bd4c885-619c-4452-b387-585adf6598d4"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Azure_Operation_PowerOn_7c3d971c_23bd_4e2f_8fb0_93f1a45751e9","uuid":"52753fd3-af02-4c5d-81af-a957729814ad"},"edge_type":"inherent","type":"","uuid":"453d2141-3f39-4a53-a618-ff56947c8ffc","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_AzureRouter_7c3d971c_23bd_4e2f_8fb0_93f1a45751e9","uuid":"9bd4c885-619c-4452-b387-585adf6598d4"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_7c3d971c_23bd_4e2f_8fb0_93f1a45751e9"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureRouter","uuid":"7c3d971c-23bd-4e2f-8fb0-93f1a45751e9"},"retries":"0","description":"","type":"VMOPERATION_AZURE_VM","uuid":"52753fd3-af02-4c5d-81af-a957729814ad","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Azure_Operation_PowerOn_7c3d971c_23bd_4e2f_8fb0_93f1a45751e9"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureRouter","uuid":"7c3d971c-23bd-4e2f-8fb0-93f1a45751e9"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"9bd4c885-619c-4452-b387-585adf6598d4","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"60","address":"@@{platform.publicIPAddressList[0]}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_AzureRouter_7c3d971c_23bd_4e2f_8fb0_93f1a45751e9"}],"description":"","message_list":[],"uuid":"255817c8-9728-4ea2-9a9f-4d50c09232da","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_7c3d971c_23bd_4e2f_8fb0_93f1a45751e9","uuid":"b2b79ac0-223c-4c4d-82b5-4b84f4c5071d"},"name":"SYS_GEN__Runbook_Substrate_7c3d971c_23bd_4e2f_8fb0_93f1a45751e9"}},{"description":"System action for restarting an application","message_list":[],"uuid":"d2f92c2c-1ab7-4c75-83c7-7ad32fa701ca","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AzureRouter","uuid":"7c3d971c-23bd-4e2f-8fb0-93f1a45751e9"},"retries":"0","description":"","type":"DAG","uuid":"c3326f23-1659-4b23-832d-690716be03ee","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Azure_Operation_Restart7c3d971c_23bd_4e2f_8fb0_93f1a45751e9","uuid":"16c174fb-f981-4b6c-8cfb-b6ed477f83e4"},{"kind":"app_task","name":"SYS_GEN__check_login_for_AzureRouter_7c3d971c_23bd_4e2f_8fb0_93f1a45751e9","uuid":"36fdc863-7333-4ff0-b10c-feea6cf85df5"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Azure_Operation_Restart7c3d971c_23bd_4e2f_8fb0_93f1a45751e9","uuid":"16c174fb-f981-4b6c-8cfb-b6ed477f83e4"},"edge_type":"inherent","type":"","uuid":"50f90e22-a68b-452f-83ac-b7b8b15c3f72","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_AzureRouter_7c3d971c_23bd_4e2f_8fb0_93f1a45751e9","uuid":"36fdc863-7333-4ff0-b10c-feea6cf85df5"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_7c3d971c_23bd_4e2f_8fb0_93f1a45751e9"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureRouter","uuid":"7c3d971c-23bd-4e2f-8fb0-93f1a45751e9"},"retries":"0","description":"","type":"VMOPERATION_AZURE_VM","uuid":"16c174fb-f981-4b6c-8cfb-b6ed477f83e4","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Azure_Operation_Restart7c3d971c_23bd_4e2f_8fb0_93f1a45751e9"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureRouter","uuid":"7c3d971c-23bd-4e2f-8fb0-93f1a45751e9"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"36fdc863-7333-4ff0-b10c-feea6cf85df5","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"60","address":"@@{platform.publicIPAddressList[0]}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_AzureRouter_7c3d971c_23bd_4e2f_8fb0_93f1a45751e9"}],"description":"","message_list":[],"uuid":"3069294f-f417-4410-a942-f429b7a892ba","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_7c3d971c_23bd_4e2f_8fb0_93f1a45751e9","uuid":"c3326f23-1659-4b23-832d-690716be03ee"},"name":"SYS_GEN__Runbook_Substrate_7c3d971c_23bd_4e2f_8fb0_93f1a45751e9"}},{"description":"System action for suspending an application","message_list":[],"uuid":"8099d1be-98cd-40f6-8cfd-110de217c032","name":"action_suspend","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AzureRouter","uuid":"7c3d971c-23bd-4e2f-8fb0-93f1a45751e9"},"retries":"0","description":"","type":"DAG","uuid":"a18e775a-e73d-40e9-8938-eba4840ba556","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_7c3d971c_23bd_4e2f_8fb0_93f1a45751e9"}],"description":"","message_list":[],"uuid":"4c06f785-cef5-4dcf-9370-c0275bca0c85","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_7c3d971c_23bd_4e2f_8fb0_93f1a45751e9","uuid":"a18e775a-e73d-40e9-8938-eba4840ba556"},"name":"SYS_GEN__Runbook_Substrate_7c3d971c_23bd_4e2f_8fb0_93f1a45751e9"}},{"description":"System action for modifying an application","message_list":[],"uuid":"0d8fd555-6b20-4214-8660-20132de17261","name":"action_modify","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AzureRouter","uuid":"7c3d971c-23bd-4e2f-8fb0-93f1a45751e9"},"retries":"0","description":"","type":"DAG","uuid":"f049cc76-4384-48ad-8559-2576b38fc788","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_7c3d971c_23bd_4e2f_8fb0_93f1a45751e9"}],"description":"","message_list":[],"uuid":"527d6827-8ad1-4f48-a0f4-4260a318cbc2","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_7c3d971c_23bd_4e2f_8fb0_93f1a45751e9","uuid":"f049cc76-4384-48ad-8559-2576b38fc788"},"name":"SYS_GEN__Runbook_Substrate_7c3d971c_23bd_4e2f_8fb0_93f1a45751e9"}},{"description":"System action for powering off an application","message_list":[],"uuid":"5b6498ae-a107-4c9b-aef0-b3d324d1e224","name":"action_poweroff","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AzureRouter","uuid":"7c3d971c-23bd-4e2f-8fb0-93f1a45751e9"},"retries":"0","description":"","type":"DAG","uuid":"8997f17f-35d2-401c-ac6d-cf0a967b9dce","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Azure_Operation_Poweroff_7c3d971c_23bd_4e2f_8fb0_93f1a45751e9","uuid":"46dc8a59-7f41-4693-90e8-0ebf1e9eff16"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_7c3d971c_23bd_4e2f_8fb0_93f1a45751e9"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureRouter","uuid":"7c3d971c-23bd-4e2f-8fb0-93f1a45751e9"},"retries":"0","description":"","type":"VMOPERATION_AZURE_VM","uuid":"46dc8a59-7f41-4693-90e8-0ebf1e9eff16","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Azure_Operation_Poweroff_7c3d971c_23bd_4e2f_8fb0_93f1a45751e9"}],"description":"","message_list":[],"uuid":"0ff24d2e-4e52-4c77-a72f-ca9018a89d05","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_7c3d971c_23bd_4e2f_8fb0_93f1a45751e9","uuid":"8997f17f-35d2-401c-ac6d-cf0a967b9dce"},"name":"SYS_GEN__Runbook_Substrate_7c3d971c_23bd_4e2f_8fb0_93f1a45751e9"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"cf79e1fe-b757-4f89-8764-829b071bcef3","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AzureRouter","uuid":"7c3d971c-23bd-4e2f-8fb0-93f1a45751e9"},"retries":"0","description":"","type":"DAG","uuid":"810f84cf-b350-442a-89ef-d047cc179573","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Azure_Delete_7c3d971c_23bd_4e2f_8fb0_93f1a45751e9","uuid":"90292acd-c93b-472e-8fa8-df4081fa0a8b"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_7c3d971c_23bd_4e2f_8fb0_93f1a45751e9"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureRouter","uuid":"7c3d971c-23bd-4e2f-8fb0-93f1a45751e9"},"retries":"0","description":"","type":"DELETE_AZURE_VM","uuid":"90292acd-c93b-472e-8fa8-df4081fa0a8b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Azure_Delete_7c3d971c_23bd_4e2f_8fb0_93f1a45751e9"}],"description":"","message_list":[],"uuid":"00341568-6462-4340-a8a7-aa47753e464d","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_7c3d971c_23bd_4e2f_8fb0_93f1a45751e9","uuid":"810f84cf-b350-442a-89ef-d047cc179573"},"name":"SYS_GEN__Runbook_Substrate_7c3d971c_23bd_4e2f_8fb0_93f1a45751e9"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"0e146fb4-ac09-46fc-a849-e57ce691e778","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AzureRouter","uuid":"7c3d971c-23bd-4e2f-8fb0-93f1a45751e9"},"retries":"0","description":"","type":"DAG","uuid":"1e9b7fba-8537-4275-b7b1-554bb0570fed","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Substrate_Element_Delete_7c3d971c_23bd_4e2f_8fb0_93f1a45751e9","uuid":"ed74c1e2-ccac-44f6-b2fc-ba59bf912e9e"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_7c3d971c_23bd_4e2f_8fb0_93f1a45751e9"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureRouter","uuid":"7c3d971c-23bd-4e2f-8fb0-93f1a45751e9"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"ed74c1e2-ccac-44f6-b2fc-ba59bf912e9e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Substrate_Element_Delete_7c3d971c_23bd_4e2f_8fb0_93f1a45751e9"}],"description":"","message_list":[],"uuid":"21a3ecd6-b83d-4340-9bc4-92962180e081","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_7c3d971c_23bd_4e2f_8fb0_93f1a45751e9","uuid":"1e9b7fba-8537-4275-b7b1-554bb0570fed"},"name":"SYS_GEN__Runbook_Substrate_7c3d971c_23bd_4e2f_8fb0_93f1a45751e9"}}],"message_list":[],"uuid":"7c3d971c-23bd-4e2f-8fb0-93f1a45751e9","state":"ACTIVE","readiness_probe":{"connection_type":"SSH","retries":"5","disable_readiness_probe":false,"address":"@@{platform.publicIPAddressList[0]}@@","delay_secs":"0","connection_port":22},"editables":{"readiness_probe":{"connection_type":true,"retries":true,"delay_secs":true,"connection_port":true,"timeout_secs":null},"create_spec":{"resources":{"vm_name":true,"storage_profile":{"is_managed":true,"image_details":{"sku":true,"publisher":true,"offer":true,"source_image_id":true,"use_custom_image":true,"version":true},"os_disk_details":{"storage_type":true,"name":true,"caching_type":true,"create_option":true}},"nw_profile":{"nic_list":{"0":{"subnet_name":true,"nsg_name":true,"vnet_name":true}}},"resource_group":true,"os_profile":{"linux_config":{"custom_data":true}},"hw_profile":{"vm_size":true},"location":true,"availability_set_id":true,"tag_list":true}}},"os_type":"Linux","type":"AZURE_VM","create_spec":{"type":"PROVISION_AZURE_VM","name":"","resources":{"vm_name":"MongoRouter-@@{calm_unique_hash}@@-@@{calm_array_index}@@","storage_profile":{"is_managed":true,"image_details":{"sku":"7.6","publisher":"OpenLogic","offer":"CentOS-HPC","source_image_id":"","use_custom_image":false,"version":"7.6.20190327","type":""},"type":"","os_disk_details":{"size_in_gb":127,"name":"os-@@{calm_unique_hash}@@-@@{calm_array_index}@@-disk","storage_name":"","storage_type":"Standard_LRS","lun":-1,"type":"","create_option":"FromImage","caching_type":"ReadWrite"},"data_disk_list":[]},"nw_profile":{"nic_list":[{"nsg_name":"sg-allow-all-eastus2","vnet_name":"calm-virtual-network-eastus2","private_ip_info":{"ip_address":"","ip_allocation_method":"Dynamic","type":""},"nic_name":"nic-@@{calm_unique_hash}@@-@@{calm_array_index}@@-0","subnet_name":"default","type":"","public_ip_info":{"ip_name":"public-ip-@@{calm_unique_hash}@@-@@{calm_array_index}@@-0","dns_label":"dns-@@{calm_unique_hash}@@-@@{calm_array_index}@@-0","ip_allocation_method":"Dynamic","type":""}}],"primary_nic":-1,"type":""},"resource_group":"calmrg","os_profile":{"secrets":[],"type":"","windows_config":{"winrm_listeners":[],"time_zone":"","additional_unattend_content":[],"provision_vm_agent":true,"auto_updates":false,"type":""},"linux_config":{"disable_password_auth":false,"custom_data":"","type":"","public_keys":[]}},"hw_profile":{"max_data_disk_count":4,"vm_size":"Standard_D1_v2","type":""},"location":"eastus2","availability_set_id":"","tag_list":[],"type":"","account_uuid":"3c0f2d94-878c-f34c-6d39-90b854129782"}},"variable_list":[],"name":"AzureRouter"},{"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"92816645-fe00-495c-8e43-9301114939db","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AzureConfigSet","uuid":"81d5239a-1d40-44b1-8dcc-01c5276fea58"},"retries":"0","description":"","type":"DAG","uuid":"750bd3ad-42bf-4d65-a464-1e6b6a87be1a","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Azure_Provision_81d5239a_1d40_44b1_8dcc_01c5276fea58","uuid":"40750132-f0c2-49a0-8c8b-d2cc997ce43b"},{"kind":"app_task","name":"SYS_GEN__check_login_for_AzureConfigSet_81d5239a_1d40_44b1_8dcc_01c5276fea58","uuid":"2cec4217-4b9c-4ed1-911b-a05d2885019d"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Azure_Provision_81d5239a_1d40_44b1_8dcc_01c5276fea58","uuid":"40750132-f0c2-49a0-8c8b-d2cc997ce43b"},"edge_type":"inherent","type":"","uuid":"823a6ed9-ab68-4746-b43e-093676d90fa7","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_AzureConfigSet_81d5239a_1d40_44b1_8dcc_01c5276fea58","uuid":"2cec4217-4b9c-4ed1-911b-a05d2885019d"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_81d5239a_1d40_44b1_8dcc_01c5276fea58"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureConfigSet","uuid":"81d5239a-1d40-44b1-8dcc-01c5276fea58"},"retries":"0","description":"","type":"PROVISION_AZURE_VM","uuid":"40750132-f0c2-49a0-8c8b-d2cc997ce43b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"PROVISION_AZURE_VM","name":"","resources":{"vm_name":"MongoConfigSet-@@{calm_unique_hash}@@-@@{calm_array_index}@@","storage_profile":{"is_managed":true,"image_details":{"sku":"7.6","publisher":"OpenLogic","offer":"CentOS-HPC","source_image_id":"","use_custom_image":false,"version":"7.6.20190327","type":""},"type":"","os_disk_details":{"size_in_gb":127,"name":"os-@@{calm_unique_hash}@@-@@{calm_array_index}@@-disk","storage_name":"","storage_type":"Standard_LRS","lun":-1,"type":"","create_option":"FromImage","caching_type":"ReadWrite"},"data_disk_list":[]},"nw_profile":{"nic_list":[{"nsg_name":"sg-allow-all-eastus2","vnet_name":"calm-virtual-network-eastus2","private_ip_info":{"ip_address":"","ip_allocation_method":"Dynamic","type":""},"nic_name":"nic-@@{calm_unique_hash}@@-@@{calm_array_index}@@-0","subnet_name":"default","type":"","public_ip_info":{"ip_name":"public-ip-@@{calm_unique_hash}@@-@@{calm_array_index}@@-0","dns_label":"dns-@@{calm_unique_hash}@@-@@{calm_array_index}@@-0","ip_allocation_method":"Dynamic","type":""}}],"primary_nic":-1,"type":""},"resource_group":"calmrg","os_profile":{"secrets":[],"type":"","windows_config":{"winrm_listeners":[],"time_zone":"","additional_unattend_content":[],"provision_vm_agent":true,"auto_updates":false,"type":""},"linux_config":{"disable_password_auth":false,"custom_data":"","type":"","public_keys":[]}},"hw_profile":{"max_data_disk_count":4,"vm_size":"Standard_D1_v2","type":""},"location":"eastus2","availability_set_id":"","tag_list":[],"type":"","account_uuid":"3c0f2d94-878c-f34c-6d39-90b854129782"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Azure_Provision_81d5239a_1d40_44b1_8dcc_01c5276fea58"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureConfigSet","uuid":"81d5239a-1d40-44b1-8dcc-01c5276fea58"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"2cec4217-4b9c-4ed1-911b-a05d2885019d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"60","address":"@@{platform.publicIPAddressList[0]}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_AzureConfigSet_81d5239a_1d40_44b1_8dcc_01c5276fea58"}],"description":"","message_list":[],"uuid":"a57ef3ff-7ae7-46f9-b953-88ca58e520d3","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_81d5239a_1d40_44b1_8dcc_01c5276fea58","uuid":"750bd3ad-42bf-4d65-a464-1e6b6a87be1a"},"name":"SYS_GEN__Runbook_Substrate_81d5239a_1d40_44b1_8dcc_01c5276fea58"}},{"description":"System action for powering on an application","message_list":[],"uuid":"d9fde94f-973b-4383-b1b7-be42ebc96ef1","name":"action_poweron","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AzureConfigSet","uuid":"81d5239a-1d40-44b1-8dcc-01c5276fea58"},"retries":"0","description":"","type":"DAG","uuid":"a53ca1be-3aa7-47df-8bc7-df835de3e71c","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Azure_Operation_PowerOn_81d5239a_1d40_44b1_8dcc_01c5276fea58","uuid":"677c1bee-6543-4dc8-9c96-efd9ac9abbff"},{"kind":"app_task","name":"SYS_GEN__check_login_for_AzureConfigSet_81d5239a_1d40_44b1_8dcc_01c5276fea58","uuid":"b734dd20-5e3c-4c08-9612-6c78688de602"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Azure_Operation_PowerOn_81d5239a_1d40_44b1_8dcc_01c5276fea58","uuid":"677c1bee-6543-4dc8-9c96-efd9ac9abbff"},"edge_type":"inherent","type":"","uuid":"b87964d5-b4c4-4cac-9314-c6fd367aaf38","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_AzureConfigSet_81d5239a_1d40_44b1_8dcc_01c5276fea58","uuid":"b734dd20-5e3c-4c08-9612-6c78688de602"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_81d5239a_1d40_44b1_8dcc_01c5276fea58"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureConfigSet","uuid":"81d5239a-1d40-44b1-8dcc-01c5276fea58"},"retries":"0","description":"","type":"VMOPERATION_AZURE_VM","uuid":"677c1bee-6543-4dc8-9c96-efd9ac9abbff","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Azure_Operation_PowerOn_81d5239a_1d40_44b1_8dcc_01c5276fea58"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureConfigSet","uuid":"81d5239a-1d40-44b1-8dcc-01c5276fea58"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"b734dd20-5e3c-4c08-9612-6c78688de602","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"60","address":"@@{platform.publicIPAddressList[0]}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_AzureConfigSet_81d5239a_1d40_44b1_8dcc_01c5276fea58"}],"description":"","message_list":[],"uuid":"f4abd1f6-cc19-40ae-9c83-160b236144a3","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_81d5239a_1d40_44b1_8dcc_01c5276fea58","uuid":"a53ca1be-3aa7-47df-8bc7-df835de3e71c"},"name":"SYS_GEN__Runbook_Substrate_81d5239a_1d40_44b1_8dcc_01c5276fea58"}},{"description":"System action for restarting an application","message_list":[],"uuid":"d47b6018-dd00-494f-928e-8ba4684b2016","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AzureConfigSet","uuid":"81d5239a-1d40-44b1-8dcc-01c5276fea58"},"retries":"0","description":"","type":"DAG","uuid":"bd3cf5e9-3f82-4b8b-b694-fb20facf29fe","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Azure_Operation_Restart81d5239a_1d40_44b1_8dcc_01c5276fea58","uuid":"1caac904-f07a-4381-b1a2-6a9a7cce144a"},{"kind":"app_task","name":"SYS_GEN__check_login_for_AzureConfigSet_81d5239a_1d40_44b1_8dcc_01c5276fea58","uuid":"c71e8106-8420-4a2f-aab2-8b13196f938d"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Azure_Operation_Restart81d5239a_1d40_44b1_8dcc_01c5276fea58","uuid":"1caac904-f07a-4381-b1a2-6a9a7cce144a"},"edge_type":"inherent","type":"","uuid":"b47bb219-1b04-4282-a5b4-ac42704af26b","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_AzureConfigSet_81d5239a_1d40_44b1_8dcc_01c5276fea58","uuid":"c71e8106-8420-4a2f-aab2-8b13196f938d"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_81d5239a_1d40_44b1_8dcc_01c5276fea58"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureConfigSet","uuid":"81d5239a-1d40-44b1-8dcc-01c5276fea58"},"retries":"0","description":"","type":"VMOPERATION_AZURE_VM","uuid":"1caac904-f07a-4381-b1a2-6a9a7cce144a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Azure_Operation_Restart81d5239a_1d40_44b1_8dcc_01c5276fea58"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureConfigSet","uuid":"81d5239a-1d40-44b1-8dcc-01c5276fea58"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"c71e8106-8420-4a2f-aab2-8b13196f938d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"60","address":"@@{platform.publicIPAddressList[0]}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_AzureConfigSet_81d5239a_1d40_44b1_8dcc_01c5276fea58"}],"description":"","message_list":[],"uuid":"61b0165d-344c-4ae2-bed8-e5b488be5b02","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_81d5239a_1d40_44b1_8dcc_01c5276fea58","uuid":"bd3cf5e9-3f82-4b8b-b694-fb20facf29fe"},"name":"SYS_GEN__Runbook_Substrate_81d5239a_1d40_44b1_8dcc_01c5276fea58"}},{"description":"System action for suspending an application","message_list":[],"uuid":"b67a9f7e-c7f6-4339-b22e-c3a5731acecc","name":"action_suspend","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AzureConfigSet","uuid":"81d5239a-1d40-44b1-8dcc-01c5276fea58"},"retries":"0","description":"","type":"DAG","uuid":"eb394c36-8e75-4a5b-84bd-3e0b483a6c4a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_81d5239a_1d40_44b1_8dcc_01c5276fea58"}],"description":"","message_list":[],"uuid":"22727c1f-a74a-491b-b351-a4a15c77a2ca","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_81d5239a_1d40_44b1_8dcc_01c5276fea58","uuid":"eb394c36-8e75-4a5b-84bd-3e0b483a6c4a"},"name":"SYS_GEN__Runbook_Substrate_81d5239a_1d40_44b1_8dcc_01c5276fea58"}},{"description":"System action for modifying an application","message_list":[],"uuid":"810a484a-7274-4193-b021-798cf7744120","name":"action_modify","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AzureConfigSet","uuid":"81d5239a-1d40-44b1-8dcc-01c5276fea58"},"retries":"0","description":"","type":"DAG","uuid":"f6f1300e-5a45-4922-8391-9d13f816398c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_81d5239a_1d40_44b1_8dcc_01c5276fea58"}],"description":"","message_list":[],"uuid":"f31366ba-f0ba-4519-b991-e0fd7bb462d4","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_81d5239a_1d40_44b1_8dcc_01c5276fea58","uuid":"f6f1300e-5a45-4922-8391-9d13f816398c"},"name":"SYS_GEN__Runbook_Substrate_81d5239a_1d40_44b1_8dcc_01c5276fea58"}},{"description":"System action for powering off an application","message_list":[],"uuid":"e6c5099a-97cf-4a08-904c-c14ddffb1086","name":"action_poweroff","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AzureConfigSet","uuid":"81d5239a-1d40-44b1-8dcc-01c5276fea58"},"retries":"0","description":"","type":"DAG","uuid":"831cae93-de29-4afd-ab7b-3890bb8bdc6d","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Azure_Operation_Poweroff_81d5239a_1d40_44b1_8dcc_01c5276fea58","uuid":"25202c79-fbb0-4f3a-b997-4413a6f4b883"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_81d5239a_1d40_44b1_8dcc_01c5276fea58"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureConfigSet","uuid":"81d5239a-1d40-44b1-8dcc-01c5276fea58"},"retries":"0","description":"","type":"VMOPERATION_AZURE_VM","uuid":"25202c79-fbb0-4f3a-b997-4413a6f4b883","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Azure_Operation_Poweroff_81d5239a_1d40_44b1_8dcc_01c5276fea58"}],"description":"","message_list":[],"uuid":"2fd9f024-8d34-4d8d-9c21-feabc25f3c7d","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_81d5239a_1d40_44b1_8dcc_01c5276fea58","uuid":"831cae93-de29-4afd-ab7b-3890bb8bdc6d"},"name":"SYS_GEN__Runbook_Substrate_81d5239a_1d40_44b1_8dcc_01c5276fea58"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"0cf5723d-557d-45ac-a939-c302c557d5a0","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AzureConfigSet","uuid":"81d5239a-1d40-44b1-8dcc-01c5276fea58"},"retries":"0","description":"","type":"DAG","uuid":"ebe00987-8843-4686-99e1-e5ecf760ffe8","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Azure_Delete_81d5239a_1d40_44b1_8dcc_01c5276fea58","uuid":"4359eb5d-a02c-4ee2-bc67-74d5bfb456e2"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_81d5239a_1d40_44b1_8dcc_01c5276fea58"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureConfigSet","uuid":"81d5239a-1d40-44b1-8dcc-01c5276fea58"},"retries":"0","description":"","type":"DELETE_AZURE_VM","uuid":"4359eb5d-a02c-4ee2-bc67-74d5bfb456e2","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Azure_Delete_81d5239a_1d40_44b1_8dcc_01c5276fea58"}],"description":"","message_list":[],"uuid":"1cc6f1ac-0a3a-4526-bc28-3d8f508be02e","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_81d5239a_1d40_44b1_8dcc_01c5276fea58","uuid":"ebe00987-8843-4686-99e1-e5ecf760ffe8"},"name":"SYS_GEN__Runbook_Substrate_81d5239a_1d40_44b1_8dcc_01c5276fea58"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"656846aa-9f58-4ecc-aee5-943aa8f56010","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AzureConfigSet","uuid":"81d5239a-1d40-44b1-8dcc-01c5276fea58"},"retries":"0","description":"","type":"DAG","uuid":"895554e2-c077-4d45-a200-f058eb031fb7","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Substrate_Element_Delete_81d5239a_1d40_44b1_8dcc_01c5276fea58","uuid":"9f64998f-a2b5-46e4-98ad-f5b38e5a56e7"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_81d5239a_1d40_44b1_8dcc_01c5276fea58"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureConfigSet","uuid":"81d5239a-1d40-44b1-8dcc-01c5276fea58"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"9f64998f-a2b5-46e4-98ad-f5b38e5a56e7","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Substrate_Element_Delete_81d5239a_1d40_44b1_8dcc_01c5276fea58"}],"description":"","message_list":[],"uuid":"4573785a-2596-4310-bdec-3c768f06b939","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_81d5239a_1d40_44b1_8dcc_01c5276fea58","uuid":"895554e2-c077-4d45-a200-f058eb031fb7"},"name":"SYS_GEN__Runbook_Substrate_81d5239a_1d40_44b1_8dcc_01c5276fea58"}}],"message_list":[],"uuid":"81d5239a-1d40-44b1-8dcc-01c5276fea58","state":"ACTIVE","readiness_probe":{"connection_type":"SSH","retries":"5","disable_readiness_probe":false,"address":"@@{platform.publicIPAddressList[0]}@@","delay_secs":"0","connection_port":22},"editables":{"readiness_probe":{"connection_type":true,"retries":true,"delay_secs":true,"connection_port":true,"timeout_secs":null},"create_spec":{"resources":{"vm_name":true,"storage_profile":{"is_managed":true,"image_details":{"sku":true,"publisher":true,"offer":true,"source_image_id":true,"use_custom_image":true,"version":true},"os_disk_details":{"storage_type":true,"name":true,"caching_type":true,"create_option":true}},"nw_profile":{"nic_list":{"0":{"subnet_name":true,"nsg_name":true,"vnet_name":true}}},"resource_group":true,"os_profile":{"linux_config":{"custom_data":true}},"hw_profile":{"vm_size":true},"location":true,"availability_set_id":true,"tag_list":true}}},"os_type":"Linux","type":"AZURE_VM","create_spec":{"type":"PROVISION_AZURE_VM","name":"","resources":{"vm_name":"MongoConfigSet-@@{calm_unique_hash}@@-@@{calm_array_index}@@","storage_profile":{"is_managed":true,"image_details":{"sku":"7.6","publisher":"OpenLogic","offer":"CentOS-HPC","source_image_id":"","use_custom_image":false,"version":"7.6.20190327","type":""},"type":"","os_disk_details":{"size_in_gb":127,"name":"os-@@{calm_unique_hash}@@-@@{calm_array_index}@@-disk","storage_name":"","storage_type":"Standard_LRS","lun":-1,"type":"","create_option":"FromImage","caching_type":"ReadWrite"},"data_disk_list":[]},"nw_profile":{"nic_list":[{"nsg_name":"sg-allow-all-eastus2","vnet_name":"calm-virtual-network-eastus2","private_ip_info":{"ip_address":"","ip_allocation_method":"Dynamic","type":""},"nic_name":"nic-@@{calm_unique_hash}@@-@@{calm_array_index}@@-0","subnet_name":"default","type":"","public_ip_info":{"ip_name":"public-ip-@@{calm_unique_hash}@@-@@{calm_array_index}@@-0","dns_label":"dns-@@{calm_unique_hash}@@-@@{calm_array_index}@@-0","ip_allocation_method":"Dynamic","type":""}}],"primary_nic":-1,"type":""},"resource_group":"calmrg","os_profile":{"secrets":[],"type":"","windows_config":{"winrm_listeners":[],"time_zone":"","additional_unattend_content":[],"provision_vm_agent":true,"auto_updates":false,"type":""},"linux_config":{"disable_password_auth":false,"custom_data":"","type":"","public_keys":[]}},"hw_profile":{"max_data_disk_count":4,"vm_size":"Standard_D1_v2","type":""},"location":"eastus2","availability_set_id":"","tag_list":[],"type":"","account_uuid":"3c0f2d94-878c-f34c-6d39-90b854129782"}},"variable_list":[],"name":"AzureConfigSet"},{"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"71b7060d-f696-4cd2-94ee-7b6e2ab21f8e","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AzureDataSet","uuid":"a8c1760d-72af-4889-9407-0f1199c89e5d"},"retries":"0","description":"","type":"DAG","uuid":"b3e0d2e1-b462-4788-b80a-6acef1e235e6","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Azure_Provision_a8c1760d_72af_4889_9407_0f1199c89e5d","uuid":"28b86dd2-aa6a-487b-99f0-877785d27e46"},{"kind":"app_task","name":"SYS_GEN__check_login_for_AzureDataSet_a8c1760d_72af_4889_9407_0f1199c89e5d","uuid":"0a358461-7701-4147-b6b5-42592765d198"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Azure_Provision_a8c1760d_72af_4889_9407_0f1199c89e5d","uuid":"28b86dd2-aa6a-487b-99f0-877785d27e46"},"edge_type":"inherent","type":"","uuid":"3fb1a43d-39e2-45f5-adc2-e9ef4543f84c","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_AzureDataSet_a8c1760d_72af_4889_9407_0f1199c89e5d","uuid":"0a358461-7701-4147-b6b5-42592765d198"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_a8c1760d_72af_4889_9407_0f1199c89e5d"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureDataSet","uuid":"a8c1760d-72af-4889-9407-0f1199c89e5d"},"retries":"0","description":"","type":"PROVISION_AZURE_VM","uuid":"28b86dd2-aa6a-487b-99f0-877785d27e46","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"PROVISION_AZURE_VM","name":"","resources":{"vm_name":"MongoDataSet-@@{calm_unique_hash}@@-@@{calm_array_index}@@","storage_profile":{"is_managed":true,"image_details":{"sku":"7.6","publisher":"OpenLogic","offer":"CentOS-HPC","source_image_id":"","use_custom_image":false,"version":"7.6.20190327","type":""},"type":"","os_disk_details":{"size_in_gb":127,"name":"os-@@{calm_unique_hash}@@-@@{calm_array_index}@@-disk","storage_name":"","storage_type":"Standard_LRS","lun":-1,"type":"","create_option":"FromImage","caching_type":"ReadWrite"},"data_disk_list":[]},"nw_profile":{"nic_list":[{"nsg_name":"sg-allow-all-eastus2","vnet_name":"calm-virtual-network-eastus2","private_ip_info":{"ip_address":"","ip_allocation_method":"Dynamic","type":""},"nic_name":"nic-@@{calm_unique_hash}@@-@@{calm_array_index}@@-0","subnet_name":"default","type":"","public_ip_info":{"ip_name":"public-ip-@@{calm_unique_hash}@@-@@{calm_array_index}@@-0","dns_label":"dns-@@{calm_unique_hash}@@-@@{calm_array_index}@@-0","ip_allocation_method":"Dynamic","type":""}}],"primary_nic":-1,"type":""},"resource_group":"calmrg","os_profile":{"secrets":[],"type":"","windows_config":{"winrm_listeners":[],"time_zone":"","additional_unattend_content":[],"provision_vm_agent":true,"auto_updates":false,"type":""},"linux_config":{"disable_password_auth":false,"custom_data":"","type":"","public_keys":[]}},"hw_profile":{"max_data_disk_count":4,"vm_size":"Standard_D1_v2","type":""},"location":"eastus2","availability_set_id":"","tag_list":[],"type":"","account_uuid":"3c0f2d94-878c-f34c-6d39-90b854129782"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Azure_Provision_a8c1760d_72af_4889_9407_0f1199c89e5d"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureDataSet","uuid":"a8c1760d-72af-4889-9407-0f1199c89e5d"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"0a358461-7701-4147-b6b5-42592765d198","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"60","address":"@@{platform.publicIPAddressList[0]}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_AzureDataSet_a8c1760d_72af_4889_9407_0f1199c89e5d"}],"description":"","message_list":[],"uuid":"1dc0f625-84b2-4973-8003-c9a6d473c3d5","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_a8c1760d_72af_4889_9407_0f1199c89e5d","uuid":"b3e0d2e1-b462-4788-b80a-6acef1e235e6"},"name":"SYS_GEN__Runbook_Substrate_a8c1760d_72af_4889_9407_0f1199c89e5d"}},{"description":"System action for powering on an application","message_list":[],"uuid":"671f3f91-1bc9-47e2-8b07-93de391e3edb","name":"action_poweron","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AzureDataSet","uuid":"a8c1760d-72af-4889-9407-0f1199c89e5d"},"retries":"0","description":"","type":"DAG","uuid":"ff047104-ae17-40f9-8d6f-b3a105fcd62b","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Azure_Operation_PowerOn_a8c1760d_72af_4889_9407_0f1199c89e5d","uuid":"62549723-0e62-4b10-9180-4d1c331086cc"},{"kind":"app_task","name":"SYS_GEN__check_login_for_AzureDataSet_a8c1760d_72af_4889_9407_0f1199c89e5d","uuid":"ed28a525-10fb-4c51-87f4-cb20d765c81f"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Azure_Operation_PowerOn_a8c1760d_72af_4889_9407_0f1199c89e5d","uuid":"62549723-0e62-4b10-9180-4d1c331086cc"},"edge_type":"inherent","type":"","uuid":"016aaf61-d74e-4b07-bc45-f70f3c4241ff","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_AzureDataSet_a8c1760d_72af_4889_9407_0f1199c89e5d","uuid":"ed28a525-10fb-4c51-87f4-cb20d765c81f"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_a8c1760d_72af_4889_9407_0f1199c89e5d"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureDataSet","uuid":"a8c1760d-72af-4889-9407-0f1199c89e5d"},"retries":"0","description":"","type":"VMOPERATION_AZURE_VM","uuid":"62549723-0e62-4b10-9180-4d1c331086cc","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Azure_Operation_PowerOn_a8c1760d_72af_4889_9407_0f1199c89e5d"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureDataSet","uuid":"a8c1760d-72af-4889-9407-0f1199c89e5d"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"ed28a525-10fb-4c51-87f4-cb20d765c81f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"60","address":"@@{platform.publicIPAddressList[0]}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_AzureDataSet_a8c1760d_72af_4889_9407_0f1199c89e5d"}],"description":"","message_list":[],"uuid":"60dd23c7-a1d8-40d7-acd3-f7fcafecfb10","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_a8c1760d_72af_4889_9407_0f1199c89e5d","uuid":"ff047104-ae17-40f9-8d6f-b3a105fcd62b"},"name":"SYS_GEN__Runbook_Substrate_a8c1760d_72af_4889_9407_0f1199c89e5d"}},{"description":"System action for restarting an application","message_list":[],"uuid":"2a2bc9de-b00a-4827-874d-93c21f373efa","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AzureDataSet","uuid":"a8c1760d-72af-4889-9407-0f1199c89e5d"},"retries":"0","description":"","type":"DAG","uuid":"0275f256-254e-4e62-b1e9-079c2365e657","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Azure_Operation_Restarta8c1760d_72af_4889_9407_0f1199c89e5d","uuid":"54e92439-e09e-4618-a207-6e5609c6ecf7"},{"kind":"app_task","name":"SYS_GEN__check_login_for_AzureDataSet_a8c1760d_72af_4889_9407_0f1199c89e5d","uuid":"3767c9bf-8d14-4c1d-be2e-7d97fb22c96c"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Azure_Operation_Restarta8c1760d_72af_4889_9407_0f1199c89e5d","uuid":"54e92439-e09e-4618-a207-6e5609c6ecf7"},"edge_type":"inherent","type":"","uuid":"5782bdc9-313a-442a-a56c-eb78ae7ee128","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_AzureDataSet_a8c1760d_72af_4889_9407_0f1199c89e5d","uuid":"3767c9bf-8d14-4c1d-be2e-7d97fb22c96c"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_a8c1760d_72af_4889_9407_0f1199c89e5d"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureDataSet","uuid":"a8c1760d-72af-4889-9407-0f1199c89e5d"},"retries":"0","description":"","type":"VMOPERATION_AZURE_VM","uuid":"54e92439-e09e-4618-a207-6e5609c6ecf7","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Azure_Operation_Restarta8c1760d_72af_4889_9407_0f1199c89e5d"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureDataSet","uuid":"a8c1760d-72af-4889-9407-0f1199c89e5d"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"3767c9bf-8d14-4c1d-be2e-7d97fb22c96c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"60","address":"@@{platform.publicIPAddressList[0]}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_AzureDataSet_a8c1760d_72af_4889_9407_0f1199c89e5d"}],"description":"","message_list":[],"uuid":"6f3aa448-2a84-4625-bd84-23d6844ba2a4","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_a8c1760d_72af_4889_9407_0f1199c89e5d","uuid":"0275f256-254e-4e62-b1e9-079c2365e657"},"name":"SYS_GEN__Runbook_Substrate_a8c1760d_72af_4889_9407_0f1199c89e5d"}},{"description":"System action for suspending an application","message_list":[],"uuid":"4c112eb3-e023-4399-8549-5e06d2c3bd0e","name":"action_suspend","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AzureDataSet","uuid":"a8c1760d-72af-4889-9407-0f1199c89e5d"},"retries":"0","description":"","type":"DAG","uuid":"b42b7e4f-eae3-4a4c-86ca-0c16f2feb4db","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_a8c1760d_72af_4889_9407_0f1199c89e5d"}],"description":"","message_list":[],"uuid":"91c009e5-b201-4179-8353-85ce18649d30","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_a8c1760d_72af_4889_9407_0f1199c89e5d","uuid":"b42b7e4f-eae3-4a4c-86ca-0c16f2feb4db"},"name":"SYS_GEN__Runbook_Substrate_a8c1760d_72af_4889_9407_0f1199c89e5d"}},{"description":"System action for modifying an application","message_list":[],"uuid":"85185713-ade6-4659-a549-a0e98f861a4f","name":"action_modify","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AzureDataSet","uuid":"a8c1760d-72af-4889-9407-0f1199c89e5d"},"retries":"0","description":"","type":"DAG","uuid":"ed6bd998-00e4-4d43-9421-9ea1650efc0b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_a8c1760d_72af_4889_9407_0f1199c89e5d"}],"description":"","message_list":[],"uuid":"0cd7ca8d-fc2f-455a-a3cb-b558403b5303","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_a8c1760d_72af_4889_9407_0f1199c89e5d","uuid":"ed6bd998-00e4-4d43-9421-9ea1650efc0b"},"name":"SYS_GEN__Runbook_Substrate_a8c1760d_72af_4889_9407_0f1199c89e5d"}},{"description":"System action for powering off an application","message_list":[],"uuid":"76bf80b0-aeaa-46a4-aa39-d61b76c80fe8","name":"action_poweroff","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AzureDataSet","uuid":"a8c1760d-72af-4889-9407-0f1199c89e5d"},"retries":"0","description":"","type":"DAG","uuid":"868c8c23-8088-4e2c-9c7a-68c030dbbc8f","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Azure_Operation_Poweroff_a8c1760d_72af_4889_9407_0f1199c89e5d","uuid":"529ef398-9e79-4714-9a6a-a619ea84fd4a"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_a8c1760d_72af_4889_9407_0f1199c89e5d"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureDataSet","uuid":"a8c1760d-72af-4889-9407-0f1199c89e5d"},"retries":"0","description":"","type":"VMOPERATION_AZURE_VM","uuid":"529ef398-9e79-4714-9a6a-a619ea84fd4a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Azure_Operation_Poweroff_a8c1760d_72af_4889_9407_0f1199c89e5d"}],"description":"","message_list":[],"uuid":"a5103213-31ff-4b9c-b683-9cd478413869","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_a8c1760d_72af_4889_9407_0f1199c89e5d","uuid":"868c8c23-8088-4e2c-9c7a-68c030dbbc8f"},"name":"SYS_GEN__Runbook_Substrate_a8c1760d_72af_4889_9407_0f1199c89e5d"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"f7308b40-0bff-4e46-a186-8ffd670a0339","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AzureDataSet","uuid":"a8c1760d-72af-4889-9407-0f1199c89e5d"},"retries":"0","description":"","type":"DAG","uuid":"8aa70ac2-6344-43ce-88af-e5d3440b6b59","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Azure_Delete_a8c1760d_72af_4889_9407_0f1199c89e5d","uuid":"db99ad55-09f2-4ae6-a5a2-d05a587ce3fa"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_a8c1760d_72af_4889_9407_0f1199c89e5d"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureDataSet","uuid":"a8c1760d-72af-4889-9407-0f1199c89e5d"},"retries":"0","description":"","type":"DELETE_AZURE_VM","uuid":"db99ad55-09f2-4ae6-a5a2-d05a587ce3fa","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Azure_Delete_a8c1760d_72af_4889_9407_0f1199c89e5d"}],"description":"","message_list":[],"uuid":"de726781-cb9b-4b3e-a6f9-1ad5a5916ba3","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_a8c1760d_72af_4889_9407_0f1199c89e5d","uuid":"8aa70ac2-6344-43ce-88af-e5d3440b6b59"},"name":"SYS_GEN__Runbook_Substrate_a8c1760d_72af_4889_9407_0f1199c89e5d"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"8adbecf0-3b28-4f55-85bb-0401b0e593c9","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AzureDataSet","uuid":"a8c1760d-72af-4889-9407-0f1199c89e5d"},"retries":"0","description":"","type":"DAG","uuid":"a7040762-d74f-451c-8493-d163090b322f","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Substrate_Element_Delete_a8c1760d_72af_4889_9407_0f1199c89e5d","uuid":"46909cbf-efad-4e77-a714-22a0e7deee1e"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_a8c1760d_72af_4889_9407_0f1199c89e5d"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureDataSet","uuid":"a8c1760d-72af-4889-9407-0f1199c89e5d"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"46909cbf-efad-4e77-a714-22a0e7deee1e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Substrate_Element_Delete_a8c1760d_72af_4889_9407_0f1199c89e5d"}],"description":"","message_list":[],"uuid":"7d00def0-4959-49fd-b6ea-31314f2c2aea","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_a8c1760d_72af_4889_9407_0f1199c89e5d","uuid":"a7040762-d74f-451c-8493-d163090b322f"},"name":"SYS_GEN__Runbook_Substrate_a8c1760d_72af_4889_9407_0f1199c89e5d"}}],"message_list":[],"uuid":"a8c1760d-72af-4889-9407-0f1199c89e5d","state":"ACTIVE","readiness_probe":{"connection_type":"SSH","retries":"5","disable_readiness_probe":false,"address":"@@{platform.publicIPAddressList[0]}@@","delay_secs":"0","connection_port":22},"editables":{"readiness_probe":{"connection_type":true,"retries":true,"delay_secs":true,"connection_port":true,"timeout_secs":null},"create_spec":{"resources":{"vm_name":true,"storage_profile":{"is_managed":true,"image_details":{"sku":true,"publisher":true,"offer":true,"source_image_id":true,"use_custom_image":true,"version":true},"os_disk_details":{"storage_type":true,"name":true,"caching_type":true,"create_option":true}},"nw_profile":{"nic_list":{"0":{"subnet_name":true,"nsg_name":true,"vnet_name":true}}},"resource_group":true,"os_profile":{"linux_config":{"custom_data":true}},"hw_profile":{"vm_size":true},"location":true,"availability_set_id":true,"tag_list":true}}},"os_type":"Linux","type":"AZURE_VM","create_spec":{"type":"PROVISION_AZURE_VM","name":"","resources":{"vm_name":"MongoDataSet-@@{calm_unique_hash}@@-@@{calm_array_index}@@","storage_profile":{"is_managed":true,"image_details":{"sku":"7.6","publisher":"OpenLogic","offer":"CentOS-HPC","source_image_id":"","use_custom_image":false,"version":"7.6.20190327","type":""},"type":"","os_disk_details":{"size_in_gb":127,"name":"os-@@{calm_unique_hash}@@-@@{calm_array_index}@@-disk","storage_name":"","storage_type":"Standard_LRS","lun":-1,"type":"","create_option":"FromImage","caching_type":"ReadWrite"},"data_disk_list":[]},"nw_profile":{"nic_list":[{"nsg_name":"sg-allow-all-eastus2","vnet_name":"calm-virtual-network-eastus2","private_ip_info":{"ip_address":"","ip_allocation_method":"Dynamic","type":""},"nic_name":"nic-@@{calm_unique_hash}@@-@@{calm_array_index}@@-0","subnet_name":"default","type":"","public_ip_info":{"ip_name":"public-ip-@@{calm_unique_hash}@@-@@{calm_array_index}@@-0","dns_label":"dns-@@{calm_unique_hash}@@-@@{calm_array_index}@@-0","ip_allocation_method":"Dynamic","type":""}}],"primary_nic":-1,"type":""},"resource_group":"calmrg","os_profile":{"secrets":[],"type":"","windows_config":{"winrm_listeners":[],"time_zone":"","additional_unattend_content":[],"provision_vm_agent":true,"auto_updates":false,"type":""},"linux_config":{"disable_password_auth":false,"custom_data":"","type":"","public_keys":[]}},"hw_profile":{"max_data_disk_count":4,"vm_size":"Standard_D1_v2","type":""},"location":"eastus2","availability_set_id":"","tag_list":[],"type":"","account_uuid":"3c0f2d94-878c-f34c-6d39-90b854129782"}},"variable_list":[],"name":"AzureDataSet"},{"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"0220baac-cd39-4bab-b927-fe1e2daff92c","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareRouter","uuid":"25161802-9ed5-60fa-2a85-553c7df9e7e7"},"retries":"0","description":"","type":"DAG","uuid":"ec10f1a4-eabf-4eab-a261-29c1d8fd1ae8","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Vmware_Provision_25161802_9ed5_60fa_2a85_553c7df9e7e7","uuid":"d3934196-5f05-4517-8472-0aa2401fd117"},{"kind":"app_task","name":"SYS_GEN__check_login_for_VMwareRouter_25161802_9ed5_60fa_2a85_553c7df9e7e7","uuid":"c35ba431-1a73-4bc7-b169-f911a973f770"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Vmware_Provision_25161802_9ed5_60fa_2a85_553c7df9e7e7","uuid":"d3934196-5f05-4517-8472-0aa2401fd117"},"edge_type":"inherent","type":"","uuid":"2544c740-f10f-4028-bc5f-75efaa42a2dd","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_VMwareRouter_25161802_9ed5_60fa_2a85_553c7df9e7e7","uuid":"c35ba431-1a73-4bc7-b169-f911a973f770"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_25161802_9ed5_60fa_2a85_553c7df9e7e7"},{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareRouter","uuid":"25161802-9ed5-60fa-2a85-553c7df9e7e7"},"retries":"0","description":"","type":"PROVISION_VCENTER","uuid":"d3934196-5f05-4517-8472-0aa2401fd117","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"name":"MongoRouter-@@{calm_array_index}@@-@@{calm_time}@@","storage_pod":"DatastoreCluster","drs_mode":true,"cluster":"Sabine59-Cluster","host":"","clone_is_template":false,"template":"ceebfa0c-f616-c3ca-4d88-fe76d5434070","datastore":"","type":"PROVISION_VMWARE_VM","resources":{"nic_list":[{"nic_type":"e1000","type":"","net_name":"key-vim.host.PortGroup-VM Network"}],"template_nic_list":[],"template_controller_list":[],"num_vcpus_per_socket":1,"num_sockets":2,"controller_list":[],"memory_size_mib":4096,"power_state":"poweron","guest_customization":{"type":"","cloud_init":"#cloud-config\nusers:\n  - name: centos\n    ssh-authorized-keys:\n      - @@{CENTOS.public_key}@@\n    sudo: ['ALL=(ALL) NOPASSWD:ALL']","linux_data":null,"customization_name":"","customization_type":"GUEST_OS_LINUX","windows_data":null},"template_disk_list":[],"type":"","account_uuid":"7f90399d-ed3d-1c70-447d-17004ef1bd0a","disk_list":[]}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Vmware_Provision_25161802_9ed5_60fa_2a85_553c7df9e7e7"},{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareRouter","uuid":"25161802-9ed5-60fa-2a85-553c7df9e7e7"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"c35ba431-1a73-4bc7-b169-f911a973f770","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"60","address":"@@{platform.ipAddressList[0]}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_VMwareRouter_25161802_9ed5_60fa_2a85_553c7df9e7e7"}],"description":"","message_list":[],"uuid":"eb73678e-ec19-4a3f-b8cd-a58bfd3cedac","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_25161802_9ed5_60fa_2a85_553c7df9e7e7","uuid":"ec10f1a4-eabf-4eab-a261-29c1d8fd1ae8"},"name":"SYS_GEN__Runbook_Substrate_25161802_9ed5_60fa_2a85_553c7df9e7e7"}},{"description":"System action for powering on an application","message_list":[],"uuid":"64a85e6c-8e24-4205-8936-2d36f386eb68","name":"action_poweron","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareRouter","uuid":"25161802-9ed5-60fa-2a85-553c7df9e7e7"},"retries":"0","description":"","type":"DAG","uuid":"0169efd4-9638-40ce-b5c9-9b21144ef785","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Vmware_Operation_PowerOn_25161802_9ed5_60fa_2a85_553c7df9e7e7","uuid":"7e0a372b-4c39-406b-beca-be006d454d6a"},{"kind":"app_task","name":"SYS_GEN__check_login_for_VMwareRouter_25161802_9ed5_60fa_2a85_553c7df9e7e7","uuid":"1ed79b06-c06f-42c6-8cd5-68505df22e97"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Vmware_Operation_PowerOn_25161802_9ed5_60fa_2a85_553c7df9e7e7","uuid":"7e0a372b-4c39-406b-beca-be006d454d6a"},"edge_type":"inherent","type":"","uuid":"ae627e9d-1d1f-47ad-9a5b-d4aefbddc72c","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_VMwareRouter_25161802_9ed5_60fa_2a85_553c7df9e7e7","uuid":"1ed79b06-c06f-42c6-8cd5-68505df22e97"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_25161802_9ed5_60fa_2a85_553c7df9e7e7"},{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareRouter","uuid":"25161802-9ed5-60fa-2a85-553c7df9e7e7"},"retries":"0","description":"","type":"VMOPERATION_VCENTER","uuid":"7e0a372b-4c39-406b-beca-be006d454d6a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Vmware_Operation_PowerOn_25161802_9ed5_60fa_2a85_553c7df9e7e7"},{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareRouter","uuid":"25161802-9ed5-60fa-2a85-553c7df9e7e7"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"1ed79b06-c06f-42c6-8cd5-68505df22e97","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"60","address":"@@{platform.ipAddressList[0]}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_VMwareRouter_25161802_9ed5_60fa_2a85_553c7df9e7e7"}],"description":"","message_list":[],"uuid":"ec8b313a-6359-43be-9d17-fe7a31729fcc","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_25161802_9ed5_60fa_2a85_553c7df9e7e7","uuid":"0169efd4-9638-40ce-b5c9-9b21144ef785"},"name":"SYS_GEN__Runbook_Substrate_25161802_9ed5_60fa_2a85_553c7df9e7e7"}},{"description":"System action for restarting an application","message_list":[],"uuid":"0dfbd2bd-246e-42e2-aee1-0eff3e3ea305","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareRouter","uuid":"25161802-9ed5-60fa-2a85-553c7df9e7e7"},"retries":"0","description":"","type":"DAG","uuid":"b6f4cfa9-fa31-4222-b098-63b9ce03e6b1","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Vmware_Operation_Restart25161802_9ed5_60fa_2a85_553c7df9e7e7","uuid":"d3eda9bc-b92c-4a87-9104-b5de16cae8ab"},{"kind":"app_task","name":"SYS_GEN__check_login_for_VMwareRouter_25161802_9ed5_60fa_2a85_553c7df9e7e7","uuid":"66a0ae0a-b875-4eae-b4c7-4cb8ad1721a0"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Vmware_Operation_Restart25161802_9ed5_60fa_2a85_553c7df9e7e7","uuid":"d3eda9bc-b92c-4a87-9104-b5de16cae8ab"},"edge_type":"inherent","type":"","uuid":"d6f53424-9787-489f-984e-6bf5015bffe5","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_VMwareRouter_25161802_9ed5_60fa_2a85_553c7df9e7e7","uuid":"66a0ae0a-b875-4eae-b4c7-4cb8ad1721a0"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_25161802_9ed5_60fa_2a85_553c7df9e7e7"},{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareRouter","uuid":"25161802-9ed5-60fa-2a85-553c7df9e7e7"},"retries":"0","description":"","type":"VMOPERATION_VCENTER","uuid":"d3eda9bc-b92c-4a87-9104-b5de16cae8ab","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Vmware_Operation_Restart25161802_9ed5_60fa_2a85_553c7df9e7e7"},{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareRouter","uuid":"25161802-9ed5-60fa-2a85-553c7df9e7e7"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"66a0ae0a-b875-4eae-b4c7-4cb8ad1721a0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"60","address":"@@{platform.ipAddressList[0]}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_VMwareRouter_25161802_9ed5_60fa_2a85_553c7df9e7e7"}],"description":"","message_list":[],"uuid":"9027cdb6-3cff-480f-aee1-7b0e53954297","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_25161802_9ed5_60fa_2a85_553c7df9e7e7","uuid":"b6f4cfa9-fa31-4222-b098-63b9ce03e6b1"},"name":"SYS_GEN__Runbook_Substrate_25161802_9ed5_60fa_2a85_553c7df9e7e7"}},{"description":"System action for suspending an application","message_list":[],"uuid":"3cde34be-2a3d-40d5-afb3-b2b78d5e2268","name":"action_suspend","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareRouter","uuid":"25161802-9ed5-60fa-2a85-553c7df9e7e7"},"retries":"0","description":"","type":"DAG","uuid":"2440a434-914f-49c5-83b4-1ceae3116292","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_25161802_9ed5_60fa_2a85_553c7df9e7e7"}],"description":"","message_list":[],"uuid":"3aabd57b-a0e3-4744-82a2-6589cabb841b","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_25161802_9ed5_60fa_2a85_553c7df9e7e7","uuid":"2440a434-914f-49c5-83b4-1ceae3116292"},"name":"SYS_GEN__Runbook_Substrate_25161802_9ed5_60fa_2a85_553c7df9e7e7"}},{"description":"System action for modifying an application","message_list":[],"uuid":"7abe97c7-8ef2-4274-95c7-1d25d0fe8b3b","name":"action_modify","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareRouter","uuid":"25161802-9ed5-60fa-2a85-553c7df9e7e7"},"retries":"0","description":"","type":"DAG","uuid":"7ed8152e-db9a-4eb8-b78b-7d4115c7ae02","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_25161802_9ed5_60fa_2a85_553c7df9e7e7"}],"description":"","message_list":[],"uuid":"8feb5f91-a3e1-4481-85f3-e5244eacc57c","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_25161802_9ed5_60fa_2a85_553c7df9e7e7","uuid":"7ed8152e-db9a-4eb8-b78b-7d4115c7ae02"},"name":"SYS_GEN__Runbook_Substrate_25161802_9ed5_60fa_2a85_553c7df9e7e7"}},{"description":"System action for powering off an application","message_list":[],"uuid":"4605d178-45ec-4f99-8758-d48fde549169","name":"action_poweroff","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareRouter","uuid":"25161802-9ed5-60fa-2a85-553c7df9e7e7"},"retries":"0","description":"","type":"DAG","uuid":"2cc8c64f-0a1e-46a0-a828-9694408ccac7","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Vmware_Operation_Poweroff_25161802_9ed5_60fa_2a85_553c7df9e7e7","uuid":"78013a53-f033-47eb-a8e9-ab7bd977a0ab"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_25161802_9ed5_60fa_2a85_553c7df9e7e7"},{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareRouter","uuid":"25161802-9ed5-60fa-2a85-553c7df9e7e7"},"retries":"0","description":"","type":"VMOPERATION_VCENTER","uuid":"78013a53-f033-47eb-a8e9-ab7bd977a0ab","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Vmware_Operation_Poweroff_25161802_9ed5_60fa_2a85_553c7df9e7e7"}],"description":"","message_list":[],"uuid":"9abeb19b-9d82-4a2a-9f16-90012751ebb3","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_25161802_9ed5_60fa_2a85_553c7df9e7e7","uuid":"2cc8c64f-0a1e-46a0-a828-9694408ccac7"},"name":"SYS_GEN__Runbook_Substrate_25161802_9ed5_60fa_2a85_553c7df9e7e7"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"a66a0d04-61d0-453b-a0f6-59a2515560c6","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareRouter","uuid":"25161802-9ed5-60fa-2a85-553c7df9e7e7"},"retries":"0","description":"","type":"DAG","uuid":"98f6ee66-6ea2-4899-ac3d-c9dc4c3074bc","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Vmware_Delete_25161802_9ed5_60fa_2a85_553c7df9e7e7","uuid":"bf8c7071-0c2c-452e-895d-7b67c678b46f"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_25161802_9ed5_60fa_2a85_553c7df9e7e7"},{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareRouter","uuid":"25161802-9ed5-60fa-2a85-553c7df9e7e7"},"retries":"0","description":"","type":"DELETE_VCENTER","uuid":"bf8c7071-0c2c-452e-895d-7b67c678b46f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Vmware_Delete_25161802_9ed5_60fa_2a85_553c7df9e7e7"}],"description":"","message_list":[],"uuid":"88073051-bd2a-4762-95c1-a2bff2f7887f","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_25161802_9ed5_60fa_2a85_553c7df9e7e7","uuid":"98f6ee66-6ea2-4899-ac3d-c9dc4c3074bc"},"name":"SYS_GEN__Runbook_Substrate_25161802_9ed5_60fa_2a85_553c7df9e7e7"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"b3a11ef8-3f99-49d0-8717-9b23a11b48b7","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareRouter","uuid":"25161802-9ed5-60fa-2a85-553c7df9e7e7"},"retries":"0","description":"","type":"DAG","uuid":"94604278-dee0-4f4e-a518-8409f23c0f73","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Substrate_Element_Delete_25161802_9ed5_60fa_2a85_553c7df9e7e7","uuid":"23d24bd0-754e-4b22-9aed-beb67e9b7e40"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_25161802_9ed5_60fa_2a85_553c7df9e7e7"},{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareRouter","uuid":"25161802-9ed5-60fa-2a85-553c7df9e7e7"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"23d24bd0-754e-4b22-9aed-beb67e9b7e40","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Substrate_Element_Delete_25161802_9ed5_60fa_2a85_553c7df9e7e7"}],"description":"","message_list":[],"uuid":"f541300e-7cd0-4453-969a-c2fc9c17770f","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_25161802_9ed5_60fa_2a85_553c7df9e7e7","uuid":"94604278-dee0-4f4e-a518-8409f23c0f73"},"name":"SYS_GEN__Runbook_Substrate_25161802_9ed5_60fa_2a85_553c7df9e7e7"}}],"message_list":[],"uuid":"25161802-9ed5-60fa-2a85-553c7df9e7e7","state":"ACTIVE","readiness_probe":{"connection_type":"SSH","retries":"5","disable_readiness_probe":false,"address":"@@{platform.ipAddressList[0]}@@","delay_secs":"60","connection_port":22},"editables":{"readiness_probe":{"connection_type":true,"retries":true,"delay_secs":true,"connection_port":true,"timeout_secs":null},"create_spec":{"name":true,"resources":{"template_nic_list":{},"nic_list":{"0":{"nic_type":true,"net_name":true}},"template_controller_list":{},"num_vcpus_per_socket":true,"num_sockets":true,"controller_list":{},"memory_size_mib":true,"template_disk_list":{},"disk_list":{}}}},"os_type":"Linux","type":"VMWARE_VM","create_spec":{"name":"MongoRouter-@@{calm_array_index}@@-@@{calm_time}@@","storage_pod":"DatastoreCluster","drs_mode":true,"cluster":"Sabine59-Cluster","host":"","clone_is_template":false,"template":"ceebfa0c-f616-c3ca-4d88-fe76d5434070","datastore":"","type":"PROVISION_VMWARE_VM","resources":{"nic_list":[{"nic_type":"e1000","type":"","net_name":"key-vim.host.PortGroup-VM Network"}],"template_nic_list":[],"template_controller_list":[],"num_vcpus_per_socket":1,"num_sockets":2,"controller_list":[],"memory_size_mib":4096,"power_state":"poweron","guest_customization":{"type":"","cloud_init":"#cloud-config\nusers:\n  - name: centos\n    ssh-authorized-keys:\n      - @@{CENTOS.public_key}@@\n    sudo: ['ALL=(ALL) NOPASSWD:ALL']","linux_data":null,"customization_name":"","customization_type":"GUEST_OS_LINUX","windows_data":null},"template_disk_list":[],"type":"","account_uuid":"7f90399d-ed3d-1c70-447d-17004ef1bd0a","disk_list":[]}},"variable_list":[],"name":"VMwareRouter"},{"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"7e94714d-e0d6-4dbf-8a77-ac13fab13fc8","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareConfigSet","uuid":"2b99298d-b852-5bda-2c5b-9bc3b7f800e4"},"retries":"0","description":"","type":"DAG","uuid":"5585b41c-8a1f-498e-b5bb-3730066f0a2d","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Vmware_Provision_2b99298d_b852_5bda_2c5b_9bc3b7f800e4","uuid":"6c286057-78aa-4f61-a381-0f10e242af78"},{"kind":"app_task","name":"SYS_GEN__check_login_for_VMwareConfigSet_2b99298d_b852_5bda_2c5b_9bc3b7f800e4","uuid":"b594b5b2-d463-4b6c-8eca-bcbaf09b0d0e"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Vmware_Provision_2b99298d_b852_5bda_2c5b_9bc3b7f800e4","uuid":"6c286057-78aa-4f61-a381-0f10e242af78"},"edge_type":"inherent","type":"","uuid":"c91c4e96-74cf-4014-8666-3ce823eb6cd2","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_VMwareConfigSet_2b99298d_b852_5bda_2c5b_9bc3b7f800e4","uuid":"b594b5b2-d463-4b6c-8eca-bcbaf09b0d0e"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_2b99298d_b852_5bda_2c5b_9bc3b7f800e4"},{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareConfigSet","uuid":"2b99298d-b852-5bda-2c5b-9bc3b7f800e4"},"retries":"0","description":"","type":"PROVISION_VCENTER","uuid":"6c286057-78aa-4f61-a381-0f10e242af78","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"name":"MongoConfigSet-@@{calm_array_index}@@-@@{calm_time}@@","storage_pod":"DatastoreCluster","drs_mode":true,"cluster":"Sabine59-Cluster","host":"","clone_is_template":false,"template":"ceebfa0c-f616-c3ca-4d88-fe76d5434070","datastore":"","type":"PROVISION_VMWARE_VM","resources":{"nic_list":[{"nic_type":"e1000","type":"","net_name":"key-vim.host.PortGroup-VM Network"}],"template_nic_list":[],"template_controller_list":[],"num_vcpus_per_socket":1,"num_sockets":2,"controller_list":[],"memory_size_mib":4096,"power_state":"poweron","guest_customization":{"type":"","cloud_init":"#cloud-config\nusers:\n  - name: centos\n    ssh-authorized-keys:\n      - @@{CENTOS.public_key}@@\n    sudo: ['ALL=(ALL) NOPASSWD:ALL']","linux_data":null,"customization_name":"","customization_type":"GUEST_OS_LINUX","windows_data":null},"template_disk_list":[],"type":"","account_uuid":"7f90399d-ed3d-1c70-447d-17004ef1bd0a","disk_list":[]}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Vmware_Provision_2b99298d_b852_5bda_2c5b_9bc3b7f800e4"},{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareConfigSet","uuid":"2b99298d-b852-5bda-2c5b-9bc3b7f800e4"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"b594b5b2-d463-4b6c-8eca-bcbaf09b0d0e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"60","address":"@@{platform.ipAddressList[0]}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_VMwareConfigSet_2b99298d_b852_5bda_2c5b_9bc3b7f800e4"}],"description":"","message_list":[],"uuid":"f5af4138-e703-46ef-a35a-959792505109","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_2b99298d_b852_5bda_2c5b_9bc3b7f800e4","uuid":"5585b41c-8a1f-498e-b5bb-3730066f0a2d"},"name":"SYS_GEN__Runbook_Substrate_2b99298d_b852_5bda_2c5b_9bc3b7f800e4"}},{"description":"System action for powering on an application","message_list":[],"uuid":"0ccc5f9a-cf50-400c-96cb-a72b4b9c4019","name":"action_poweron","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareConfigSet","uuid":"2b99298d-b852-5bda-2c5b-9bc3b7f800e4"},"retries":"0","description":"","type":"DAG","uuid":"ce7c4019-19cd-4ad1-a12c-2dc2f2eb84c3","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Vmware_Operation_PowerOn_2b99298d_b852_5bda_2c5b_9bc3b7f800e4","uuid":"1664f416-f6ae-4a6b-8598-7626bf13f0e7"},{"kind":"app_task","name":"SYS_GEN__check_login_for_VMwareConfigSet_2b99298d_b852_5bda_2c5b_9bc3b7f800e4","uuid":"6437a880-31da-4e96-a0b6-758cb90bc85a"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Vmware_Operation_PowerOn_2b99298d_b852_5bda_2c5b_9bc3b7f800e4","uuid":"1664f416-f6ae-4a6b-8598-7626bf13f0e7"},"edge_type":"inherent","type":"","uuid":"98c489a5-eea6-4cdd-94b5-7e025ce7ed8f","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_VMwareConfigSet_2b99298d_b852_5bda_2c5b_9bc3b7f800e4","uuid":"6437a880-31da-4e96-a0b6-758cb90bc85a"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_2b99298d_b852_5bda_2c5b_9bc3b7f800e4"},{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareConfigSet","uuid":"2b99298d-b852-5bda-2c5b-9bc3b7f800e4"},"retries":"0","description":"","type":"VMOPERATION_VCENTER","uuid":"1664f416-f6ae-4a6b-8598-7626bf13f0e7","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Vmware_Operation_PowerOn_2b99298d_b852_5bda_2c5b_9bc3b7f800e4"},{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareConfigSet","uuid":"2b99298d-b852-5bda-2c5b-9bc3b7f800e4"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"6437a880-31da-4e96-a0b6-758cb90bc85a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"60","address":"@@{platform.ipAddressList[0]}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_VMwareConfigSet_2b99298d_b852_5bda_2c5b_9bc3b7f800e4"}],"description":"","message_list":[],"uuid":"2046f918-1bba-478c-b571-d65ab961095b","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_2b99298d_b852_5bda_2c5b_9bc3b7f800e4","uuid":"ce7c4019-19cd-4ad1-a12c-2dc2f2eb84c3"},"name":"SYS_GEN__Runbook_Substrate_2b99298d_b852_5bda_2c5b_9bc3b7f800e4"}},{"description":"System action for restarting an application","message_list":[],"uuid":"1011f348-621f-4d10-a6f6-b6b3912d29ff","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareConfigSet","uuid":"2b99298d-b852-5bda-2c5b-9bc3b7f800e4"},"retries":"0","description":"","type":"DAG","uuid":"8d1b0f5f-7db7-4658-82ce-ff01eb3e4621","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Vmware_Operation_Restart2b99298d_b852_5bda_2c5b_9bc3b7f800e4","uuid":"612a1ff1-e3d3-42d4-82bb-827321439d5f"},{"kind":"app_task","name":"SYS_GEN__check_login_for_VMwareConfigSet_2b99298d_b852_5bda_2c5b_9bc3b7f800e4","uuid":"52c2f878-b1a5-4be8-a37a-3f801da6163f"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Vmware_Operation_Restart2b99298d_b852_5bda_2c5b_9bc3b7f800e4","uuid":"612a1ff1-e3d3-42d4-82bb-827321439d5f"},"edge_type":"inherent","type":"","uuid":"5aa6a74e-df50-4a22-9186-00597c1be6ee","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_VMwareConfigSet_2b99298d_b852_5bda_2c5b_9bc3b7f800e4","uuid":"52c2f878-b1a5-4be8-a37a-3f801da6163f"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_2b99298d_b852_5bda_2c5b_9bc3b7f800e4"},{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareConfigSet","uuid":"2b99298d-b852-5bda-2c5b-9bc3b7f800e4"},"retries":"0","description":"","type":"VMOPERATION_VCENTER","uuid":"612a1ff1-e3d3-42d4-82bb-827321439d5f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Vmware_Operation_Restart2b99298d_b852_5bda_2c5b_9bc3b7f800e4"},{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareConfigSet","uuid":"2b99298d-b852-5bda-2c5b-9bc3b7f800e4"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"52c2f878-b1a5-4be8-a37a-3f801da6163f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"60","address":"@@{platform.ipAddressList[0]}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_VMwareConfigSet_2b99298d_b852_5bda_2c5b_9bc3b7f800e4"}],"description":"","message_list":[],"uuid":"c7bb4adf-8da0-43da-a495-cac70e774316","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_2b99298d_b852_5bda_2c5b_9bc3b7f800e4","uuid":"8d1b0f5f-7db7-4658-82ce-ff01eb3e4621"},"name":"SYS_GEN__Runbook_Substrate_2b99298d_b852_5bda_2c5b_9bc3b7f800e4"}},{"description":"System action for suspending an application","message_list":[],"uuid":"e0cbf991-ec4a-43d5-b6a1-7c8f82832ee8","name":"action_suspend","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareConfigSet","uuid":"2b99298d-b852-5bda-2c5b-9bc3b7f800e4"},"retries":"0","description":"","type":"DAG","uuid":"b465efb0-fc3e-4721-ade5-0d8834b8164f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_2b99298d_b852_5bda_2c5b_9bc3b7f800e4"}],"description":"","message_list":[],"uuid":"e0a7dce5-dce9-4580-8836-be2c02603149","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_2b99298d_b852_5bda_2c5b_9bc3b7f800e4","uuid":"b465efb0-fc3e-4721-ade5-0d8834b8164f"},"name":"SYS_GEN__Runbook_Substrate_2b99298d_b852_5bda_2c5b_9bc3b7f800e4"}},{"description":"System action for modifying an application","message_list":[],"uuid":"4f76db99-6291-47db-accd-50cd7d92850a","name":"action_modify","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareConfigSet","uuid":"2b99298d-b852-5bda-2c5b-9bc3b7f800e4"},"retries":"0","description":"","type":"DAG","uuid":"49e3607a-6552-4a93-8695-d783281a5294","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_2b99298d_b852_5bda_2c5b_9bc3b7f800e4"}],"description":"","message_list":[],"uuid":"826af33c-c895-45f1-8617-70ded9f7db9b","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_2b99298d_b852_5bda_2c5b_9bc3b7f800e4","uuid":"49e3607a-6552-4a93-8695-d783281a5294"},"name":"SYS_GEN__Runbook_Substrate_2b99298d_b852_5bda_2c5b_9bc3b7f800e4"}},{"description":"System action for powering off an application","message_list":[],"uuid":"f85a180b-2190-45b9-a136-2a8d8731b305","name":"action_poweroff","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareConfigSet","uuid":"2b99298d-b852-5bda-2c5b-9bc3b7f800e4"},"retries":"0","description":"","type":"DAG","uuid":"92a148c2-f7f4-4beb-b822-8b4d7a16565e","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Vmware_Operation_Poweroff_2b99298d_b852_5bda_2c5b_9bc3b7f800e4","uuid":"372d1b67-a183-4cc5-adeb-b287faab2b0d"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_2b99298d_b852_5bda_2c5b_9bc3b7f800e4"},{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareConfigSet","uuid":"2b99298d-b852-5bda-2c5b-9bc3b7f800e4"},"retries":"0","description":"","type":"VMOPERATION_VCENTER","uuid":"372d1b67-a183-4cc5-adeb-b287faab2b0d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Vmware_Operation_Poweroff_2b99298d_b852_5bda_2c5b_9bc3b7f800e4"}],"description":"","message_list":[],"uuid":"974f0436-b71c-4dc9-bffb-fff1117a87ad","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_2b99298d_b852_5bda_2c5b_9bc3b7f800e4","uuid":"92a148c2-f7f4-4beb-b822-8b4d7a16565e"},"name":"SYS_GEN__Runbook_Substrate_2b99298d_b852_5bda_2c5b_9bc3b7f800e4"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"dab08283-e4fd-4e15-a06e-f6db4c73203a","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareConfigSet","uuid":"2b99298d-b852-5bda-2c5b-9bc3b7f800e4"},"retries":"0","description":"","type":"DAG","uuid":"088cd010-7c8c-41b3-a0fd-f5a7307e325c","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Vmware_Delete_2b99298d_b852_5bda_2c5b_9bc3b7f800e4","uuid":"7dedb099-3473-40c5-97b1-cfa8b1471cff"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_2b99298d_b852_5bda_2c5b_9bc3b7f800e4"},{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareConfigSet","uuid":"2b99298d-b852-5bda-2c5b-9bc3b7f800e4"},"retries":"0","description":"","type":"DELETE_VCENTER","uuid":"7dedb099-3473-40c5-97b1-cfa8b1471cff","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Vmware_Delete_2b99298d_b852_5bda_2c5b_9bc3b7f800e4"}],"description":"","message_list":[],"uuid":"b05544a6-ed04-43eb-b589-0190375cd56b","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_2b99298d_b852_5bda_2c5b_9bc3b7f800e4","uuid":"088cd010-7c8c-41b3-a0fd-f5a7307e325c"},"name":"SYS_GEN__Runbook_Substrate_2b99298d_b852_5bda_2c5b_9bc3b7f800e4"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"cf23df8c-9289-4fcb-9cd5-873c49551fab","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareConfigSet","uuid":"2b99298d-b852-5bda-2c5b-9bc3b7f800e4"},"retries":"0","description":"","type":"DAG","uuid":"de960138-c954-47c5-b775-3be5f8f22b55","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Substrate_Element_Delete_2b99298d_b852_5bda_2c5b_9bc3b7f800e4","uuid":"b6ae0aca-607b-431d-b9ae-72a475846919"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_2b99298d_b852_5bda_2c5b_9bc3b7f800e4"},{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareConfigSet","uuid":"2b99298d-b852-5bda-2c5b-9bc3b7f800e4"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"b6ae0aca-607b-431d-b9ae-72a475846919","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Substrate_Element_Delete_2b99298d_b852_5bda_2c5b_9bc3b7f800e4"}],"description":"","message_list":[],"uuid":"a051ba7f-6d14-435b-84ef-f7e63b0aaa45","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_2b99298d_b852_5bda_2c5b_9bc3b7f800e4","uuid":"de960138-c954-47c5-b775-3be5f8f22b55"},"name":"SYS_GEN__Runbook_Substrate_2b99298d_b852_5bda_2c5b_9bc3b7f800e4"}}],"message_list":[],"uuid":"2b99298d-b852-5bda-2c5b-9bc3b7f800e4","state":"ACTIVE","readiness_probe":{"connection_type":"SSH","retries":"5","disable_readiness_probe":false,"address":"@@{platform.ipAddressList[0]}@@","delay_secs":"60","connection_port":22},"editables":{"readiness_probe":{"connection_type":true,"retries":true,"delay_secs":true,"connection_port":true,"timeout_secs":null},"create_spec":{"name":true,"resources":{"template_nic_list":{},"nic_list":{"0":{"nic_type":true,"net_name":true}},"template_controller_list":{},"num_vcpus_per_socket":true,"num_sockets":true,"controller_list":{},"memory_size_mib":true,"template_disk_list":{},"disk_list":{}}}},"os_type":"Linux","type":"VMWARE_VM","create_spec":{"name":"MongoConfigSet-@@{calm_array_index}@@-@@{calm_time}@@","storage_pod":"DatastoreCluster","drs_mode":true,"cluster":"Sabine59-Cluster","host":"","clone_is_template":false,"template":"ceebfa0c-f616-c3ca-4d88-fe76d5434070","datastore":"","type":"PROVISION_VMWARE_VM","resources":{"nic_list":[{"nic_type":"e1000","type":"","net_name":"key-vim.host.PortGroup-VM Network"}],"template_nic_list":[],"template_controller_list":[],"num_vcpus_per_socket":1,"num_sockets":2,"controller_list":[],"memory_size_mib":4096,"power_state":"poweron","guest_customization":{"type":"","cloud_init":"#cloud-config\nusers:\n  - name: centos\n    ssh-authorized-keys:\n      - @@{CENTOS.public_key}@@\n    sudo: ['ALL=(ALL) NOPASSWD:ALL']","linux_data":null,"customization_name":"","customization_type":"GUEST_OS_LINUX","windows_data":null},"template_disk_list":[],"type":"","account_uuid":"7f90399d-ed3d-1c70-447d-17004ef1bd0a","disk_list":[]}},"variable_list":[],"name":"VMwareConfigSet"},{"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"4364a4ee-3b49-4f0a-9c68-2f227894be37","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareDataSet","uuid":"06f22add-e66c-670a-443c-c6fb6a86018d"},"retries":"0","description":"","type":"DAG","uuid":"90a35f9d-5a98-4cca-b1c8-26b34f46479e","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Vmware_Provision_06f22add_e66c_670a_443c_c6fb6a86018d","uuid":"6c6e5ce4-8c6e-4514-9314-a9bf9292f61b"},{"kind":"app_task","name":"SYS_GEN__check_login_for_VMwareDataSet_06f22add_e66c_670a_443c_c6fb6a86018d","uuid":"511c952e-1ced-4406-b664-7e8789436244"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Vmware_Provision_06f22add_e66c_670a_443c_c6fb6a86018d","uuid":"6c6e5ce4-8c6e-4514-9314-a9bf9292f61b"},"edge_type":"inherent","type":"","uuid":"9552726c-eed8-4167-8505-2b0a9d6fb1d3","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_VMwareDataSet_06f22add_e66c_670a_443c_c6fb6a86018d","uuid":"511c952e-1ced-4406-b664-7e8789436244"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_06f22add_e66c_670a_443c_c6fb6a86018d"},{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareDataSet","uuid":"06f22add-e66c-670a-443c-c6fb6a86018d"},"retries":"0","description":"","type":"PROVISION_VCENTER","uuid":"6c6e5ce4-8c6e-4514-9314-a9bf9292f61b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"name":"MongoDataSet-@@{calm_array_index}@@-@@{calm_time}@@","storage_pod":"DatastoreCluster","drs_mode":true,"cluster":"Sabine59-Cluster","host":"","clone_is_template":false,"template":"ceebfa0c-f616-c3ca-4d88-fe76d5434070","datastore":"","type":"PROVISION_VMWARE_VM","resources":{"nic_list":[{"nic_type":"e1000","type":"","net_name":"key-vim.host.PortGroup-VM Network"}],"template_nic_list":[],"template_controller_list":[],"num_vcpus_per_socket":1,"num_sockets":2,"controller_list":[],"memory_size_mib":4096,"power_state":"poweron","guest_customization":{"type":"","cloud_init":"#cloud-config\nusers:\n  - name: centos\n    ssh-authorized-keys:\n      - @@{CENTOS.public_key}@@\n    sudo: ['ALL=(ALL) NOPASSWD:ALL']","linux_data":null,"customization_name":"","customization_type":"GUEST_OS_LINUX","windows_data":null},"template_disk_list":[],"type":"","account_uuid":"7f90399d-ed3d-1c70-447d-17004ef1bd0a","disk_list":[{"disk_size_mb":10240,"disk_mode":"persistent","adapter_type":"SCSI","iso_path":"","location":"","disk_type":"disk","type":""},{"disk_size_mb":10240,"disk_mode":"persistent","adapter_type":"SCSI","iso_path":"","location":"","disk_type":"disk","type":""},{"disk_size_mb":10240,"disk_mode":"persistent","adapter_type":"SCSI","iso_path":"","location":"","disk_type":"disk","type":""},{"disk_size_mb":10240,"disk_mode":"persistent","adapter_type":"SCSI","iso_path":"","location":"","disk_type":"disk","type":""},{"disk_size_mb":10240,"disk_mode":"persistent","adapter_type":"SCSI","iso_path":"","location":"","disk_type":"disk","type":""}]}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Vmware_Provision_06f22add_e66c_670a_443c_c6fb6a86018d"},{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareDataSet","uuid":"06f22add-e66c-670a-443c-c6fb6a86018d"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"511c952e-1ced-4406-b664-7e8789436244","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"60","address":"@@{platform.ipAddressList[0]}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_VMwareDataSet_06f22add_e66c_670a_443c_c6fb6a86018d"}],"description":"","message_list":[],"uuid":"99e6cd80-321e-41b5-9229-8ba1125411e6","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_06f22add_e66c_670a_443c_c6fb6a86018d","uuid":"90a35f9d-5a98-4cca-b1c8-26b34f46479e"},"name":"SYS_GEN__Runbook_Substrate_06f22add_e66c_670a_443c_c6fb6a86018d"}},{"description":"System action for powering on an application","message_list":[],"uuid":"f5388be1-aaf6-47ad-ac50-c982880c4443","name":"action_poweron","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareDataSet","uuid":"06f22add-e66c-670a-443c-c6fb6a86018d"},"retries":"0","description":"","type":"DAG","uuid":"53bcbb4a-7c8b-4972-a91b-a42461749e1a","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Vmware_Operation_PowerOn_06f22add_e66c_670a_443c_c6fb6a86018d","uuid":"e8d79b32-54a7-41b6-9fde-9b7b987b13a2"},{"kind":"app_task","name":"SYS_GEN__check_login_for_VMwareDataSet_06f22add_e66c_670a_443c_c6fb6a86018d","uuid":"e711db7c-147a-4990-aae4-2f6be6f09567"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Vmware_Operation_PowerOn_06f22add_e66c_670a_443c_c6fb6a86018d","uuid":"e8d79b32-54a7-41b6-9fde-9b7b987b13a2"},"edge_type":"inherent","type":"","uuid":"b5f7b147-d472-4e7f-9127-761a26fde829","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_VMwareDataSet_06f22add_e66c_670a_443c_c6fb6a86018d","uuid":"e711db7c-147a-4990-aae4-2f6be6f09567"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_06f22add_e66c_670a_443c_c6fb6a86018d"},{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareDataSet","uuid":"06f22add-e66c-670a-443c-c6fb6a86018d"},"retries":"0","description":"","type":"VMOPERATION_VCENTER","uuid":"e8d79b32-54a7-41b6-9fde-9b7b987b13a2","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Vmware_Operation_PowerOn_06f22add_e66c_670a_443c_c6fb6a86018d"},{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareDataSet","uuid":"06f22add-e66c-670a-443c-c6fb6a86018d"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"e711db7c-147a-4990-aae4-2f6be6f09567","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"60","address":"@@{platform.ipAddressList[0]}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_VMwareDataSet_06f22add_e66c_670a_443c_c6fb6a86018d"}],"description":"","message_list":[],"uuid":"e8fd2def-41bb-498d-aabf-051de33cae08","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_06f22add_e66c_670a_443c_c6fb6a86018d","uuid":"53bcbb4a-7c8b-4972-a91b-a42461749e1a"},"name":"SYS_GEN__Runbook_Substrate_06f22add_e66c_670a_443c_c6fb6a86018d"}},{"description":"System action for restarting an application","message_list":[],"uuid":"d7b042c5-2712-4dcd-af32-6ddd60528527","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareDataSet","uuid":"06f22add-e66c-670a-443c-c6fb6a86018d"},"retries":"0","description":"","type":"DAG","uuid":"992ecfa5-6d50-4959-ade8-5b2a2ad52cd6","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Vmware_Operation_Restart06f22add_e66c_670a_443c_c6fb6a86018d","uuid":"1be5a2e7-5026-4c25-b6c9-0b504b1c933b"},{"kind":"app_task","name":"SYS_GEN__check_login_for_VMwareDataSet_06f22add_e66c_670a_443c_c6fb6a86018d","uuid":"8a466c95-d6d1-450a-8af8-69f4fcd23bed"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Vmware_Operation_Restart06f22add_e66c_670a_443c_c6fb6a86018d","uuid":"1be5a2e7-5026-4c25-b6c9-0b504b1c933b"},"edge_type":"inherent","type":"","uuid":"e1339faf-a921-4e27-bc6b-0bdd39cd9d2d","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_VMwareDataSet_06f22add_e66c_670a_443c_c6fb6a86018d","uuid":"8a466c95-d6d1-450a-8af8-69f4fcd23bed"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_06f22add_e66c_670a_443c_c6fb6a86018d"},{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareDataSet","uuid":"06f22add-e66c-670a-443c-c6fb6a86018d"},"retries":"0","description":"","type":"VMOPERATION_VCENTER","uuid":"1be5a2e7-5026-4c25-b6c9-0b504b1c933b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Vmware_Operation_Restart06f22add_e66c_670a_443c_c6fb6a86018d"},{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareDataSet","uuid":"06f22add-e66c-670a-443c-c6fb6a86018d"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"8a466c95-d6d1-450a-8af8-69f4fcd23bed","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"60","address":"@@{platform.ipAddressList[0]}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_VMwareDataSet_06f22add_e66c_670a_443c_c6fb6a86018d"}],"description":"","message_list":[],"uuid":"f2bc8083-9446-49d8-bf9c-dd29d8eba490","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_06f22add_e66c_670a_443c_c6fb6a86018d","uuid":"992ecfa5-6d50-4959-ade8-5b2a2ad52cd6"},"name":"SYS_GEN__Runbook_Substrate_06f22add_e66c_670a_443c_c6fb6a86018d"}},{"description":"System action for suspending an application","message_list":[],"uuid":"a1fadb0c-b7fe-4728-b008-98923703fcaa","name":"action_suspend","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareDataSet","uuid":"06f22add-e66c-670a-443c-c6fb6a86018d"},"retries":"0","description":"","type":"DAG","uuid":"3e1af258-dc81-4805-a915-0264bfa371b5","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_06f22add_e66c_670a_443c_c6fb6a86018d"}],"description":"","message_list":[],"uuid":"a95149be-e185-4147-8a41-a1abb66bbe92","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_06f22add_e66c_670a_443c_c6fb6a86018d","uuid":"3e1af258-dc81-4805-a915-0264bfa371b5"},"name":"SYS_GEN__Runbook_Substrate_06f22add_e66c_670a_443c_c6fb6a86018d"}},{"description":"System action for modifying an application","message_list":[],"uuid":"fb90e7cf-3c52-4b2b-8f36-2fe85644ab0e","name":"action_modify","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareDataSet","uuid":"06f22add-e66c-670a-443c-c6fb6a86018d"},"retries":"0","description":"","type":"DAG","uuid":"e7384d94-4ea5-41aa-afb9-f5df73e4aed1","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_06f22add_e66c_670a_443c_c6fb6a86018d"}],"description":"","message_list":[],"uuid":"790ca90a-b056-41e8-ba5d-84f39b406b3a","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_06f22add_e66c_670a_443c_c6fb6a86018d","uuid":"e7384d94-4ea5-41aa-afb9-f5df73e4aed1"},"name":"SYS_GEN__Runbook_Substrate_06f22add_e66c_670a_443c_c6fb6a86018d"}},{"description":"System action for powering off an application","message_list":[],"uuid":"2305f061-264e-4d43-9f27-d12f0fd46fa7","name":"action_poweroff","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareDataSet","uuid":"06f22add-e66c-670a-443c-c6fb6a86018d"},"retries":"0","description":"","type":"DAG","uuid":"92157d56-9190-47de-8a54-ae1cb0105f5e","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Vmware_Operation_Poweroff_06f22add_e66c_670a_443c_c6fb6a86018d","uuid":"65755c5e-156e-44ab-a700-43e1f0a30a11"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_06f22add_e66c_670a_443c_c6fb6a86018d"},{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareDataSet","uuid":"06f22add-e66c-670a-443c-c6fb6a86018d"},"retries":"0","description":"","type":"VMOPERATION_VCENTER","uuid":"65755c5e-156e-44ab-a700-43e1f0a30a11","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Vmware_Operation_Poweroff_06f22add_e66c_670a_443c_c6fb6a86018d"}],"description":"","message_list":[],"uuid":"84f8c1b0-a6ef-449c-81e5-ad18078d735c","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_06f22add_e66c_670a_443c_c6fb6a86018d","uuid":"92157d56-9190-47de-8a54-ae1cb0105f5e"},"name":"SYS_GEN__Runbook_Substrate_06f22add_e66c_670a_443c_c6fb6a86018d"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"c63ced7f-0a35-4158-8358-93cb662364d4","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareDataSet","uuid":"06f22add-e66c-670a-443c-c6fb6a86018d"},"retries":"0","description":"","type":"DAG","uuid":"15e835ca-7678-4a14-b9b5-0d1fb7d302aa","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Vmware_Delete_06f22add_e66c_670a_443c_c6fb6a86018d","uuid":"8838df8c-7661-444a-a1c6-0e5bce234ea1"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_06f22add_e66c_670a_443c_c6fb6a86018d"},{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareDataSet","uuid":"06f22add-e66c-670a-443c-c6fb6a86018d"},"retries":"0","description":"","type":"DELETE_VCENTER","uuid":"8838df8c-7661-444a-a1c6-0e5bce234ea1","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Vmware_Delete_06f22add_e66c_670a_443c_c6fb6a86018d"}],"description":"","message_list":[],"uuid":"31f2da9e-d6c8-4f61-b378-80ac14fa5f1e","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_06f22add_e66c_670a_443c_c6fb6a86018d","uuid":"15e835ca-7678-4a14-b9b5-0d1fb7d302aa"},"name":"SYS_GEN__Runbook_Substrate_06f22add_e66c_670a_443c_c6fb6a86018d"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"8291d711-1d2b-4020-9728-d8fef413ed9c","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareDataSet","uuid":"06f22add-e66c-670a-443c-c6fb6a86018d"},"retries":"0","description":"","type":"DAG","uuid":"75e0f2ee-c392-4e4e-8f5c-f0d4990b4519","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Substrate_Element_Delete_06f22add_e66c_670a_443c_c6fb6a86018d","uuid":"f0864fd7-5409-4aa6-8f03-a4f9f255c20e"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_06f22add_e66c_670a_443c_c6fb6a86018d"},{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareDataSet","uuid":"06f22add-e66c-670a-443c-c6fb6a86018d"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"f0864fd7-5409-4aa6-8f03-a4f9f255c20e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Substrate_Element_Delete_06f22add_e66c_670a_443c_c6fb6a86018d"}],"description":"","message_list":[],"uuid":"be0be973-b02f-4d77-b969-8109b3f0b5a8","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_06f22add_e66c_670a_443c_c6fb6a86018d","uuid":"75e0f2ee-c392-4e4e-8f5c-f0d4990b4519"},"name":"SYS_GEN__Runbook_Substrate_06f22add_e66c_670a_443c_c6fb6a86018d"}}],"message_list":[],"uuid":"06f22add-e66c-670a-443c-c6fb6a86018d","state":"ACTIVE","readiness_probe":{"connection_type":"SSH","retries":"5","disable_readiness_probe":false,"address":"@@{platform.ipAddressList[0]}@@","delay_secs":"60","connection_port":22},"editables":{"readiness_probe":{"connection_type":true,"retries":true,"delay_secs":true,"connection_port":true,"timeout_secs":null},"create_spec":{"name":true,"resources":{"template_nic_list":{},"nic_list":{"0":{"nic_type":true,"net_name":true}},"template_controller_list":{},"num_vcpus_per_socket":true,"num_sockets":true,"controller_list":{},"memory_size_mib":true,"template_disk_list":{},"disk_list":{"1":{"disk_size_mb":true,"disk_mode":true,"adapter_type":true,"location":true,"controller_key":true,"disk_type":true},"0":{"disk_size_mb":true,"disk_mode":true,"adapter_type":true,"location":true,"controller_key":true,"disk_type":true},"3":{"disk_size_mb":true,"disk_mode":true,"adapter_type":true,"location":true,"controller_key":true,"disk_type":true},"2":{"disk_size_mb":true,"disk_mode":true,"adapter_type":true,"location":true,"controller_key":true,"disk_type":true},"4":{"disk_size_mb":true,"disk_mode":true,"adapter_type":true,"location":true,"controller_key":true,"disk_type":true}}}}},"os_type":"Linux","type":"VMWARE_VM","create_spec":{"name":"MongoDataSet-@@{calm_array_index}@@-@@{calm_time}@@","storage_pod":"DatastoreCluster","drs_mode":true,"cluster":"Sabine59-Cluster","host":"","clone_is_template":false,"template":"ceebfa0c-f616-c3ca-4d88-fe76d5434070","datastore":"","type":"PROVISION_VMWARE_VM","resources":{"nic_list":[{"nic_type":"e1000","type":"","net_name":"key-vim.host.PortGroup-VM Network"}],"template_nic_list":[],"template_controller_list":[],"num_vcpus_per_socket":1,"num_sockets":2,"controller_list":[],"memory_size_mib":4096,"power_state":"poweron","guest_customization":{"type":"","cloud_init":"#cloud-config\nusers:\n  - name: centos\n    ssh-authorized-keys:\n      - @@{CENTOS.public_key}@@\n    sudo: ['ALL=(ALL) NOPASSWD:ALL']","linux_data":null,"customization_name":"","customization_type":"GUEST_OS_LINUX","windows_data":null},"template_disk_list":[],"type":"","account_uuid":"7f90399d-ed3d-1c70-447d-17004ef1bd0a","disk_list":[{"disk_size_mb":10240,"disk_mode":"persistent","adapter_type":"SCSI","iso_path":"","location":"","disk_type":"disk","type":""},{"disk_size_mb":10240,"disk_mode":"persistent","adapter_type":"SCSI","iso_path":"","location":"","disk_type":"disk","type":""},{"disk_size_mb":10240,"disk_mode":"persistent","adapter_type":"SCSI","iso_path":"","location":"","disk_type":"disk","type":""},{"disk_size_mb":10240,"disk_mode":"persistent","adapter_type":"SCSI","iso_path":"","location":"","disk_type":"disk","type":""},{"disk_size_mb":10240,"disk_mode":"persistent","adapter_type":"SCSI","iso_path":"","location":"","disk_type":"disk","type":""}]}},"variable_list":[],"name":"VMwareDataSet"}],"credential_definition_list":[{"username":"centos","description":"","state":"ACTIVE","message_list":[],"uuid":"43f2dfc8-f9f0-4085-9434-cf67cd57cdae","secret":{"attrs":{"is_secret_modified":false,"secret_reference":{}}},"editables":{},"type":"KEY","name":"CENTOS"}],"type":"USER","app_profile_list":[{"deployment_create_list":[{"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"74cf63c8-c06c-4bc2-9b0c-857ab2f48d1a","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"ff4974a5_deployment","uuid":"30b27cdf-628e-49d3-b6e5-6b82278e432d"},"retries":"0","description":"","type":"DAG","uuid":"dda6a8f9-2679-4fb7-936c-7e9d2ad5f718","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__DE_Provision_30b27cdf_628e_49d3_b6e5_6b82278e432d","uuid":"4058aa1e-30a2-435e-8383-e1dcb8f7c33f"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_adee1967_610d_4f23_964b_6d9b24e27af2","uuid":"db433e52-b739-406e-bad9-d0581ac04d09"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_e372d8fd_d7ad_4678_ac50_0517f533c9d4","uuid":"aa3a054e-ed84-4e92-9988-edf58f671844"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_a5843e3f_6aa0_452e_801b_2940a59c8f83","uuid":"6ad3c7c4-b089-41ee-83f1-5dbed3dcbfa2"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"61a85782-813a-4ca6-81bc-324842964336"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"a1f50b3e-b77b-4851-98a8-030077285311"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"61a85782-813a-4ca6-81bc-324842964336"},"edge_type":"inherent","type":"","uuid":"06efc7c7-3ff1-4040-aad9-57e26be759aa","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"a1f50b3e-b77b-4851-98a8-030077285311"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_a5843e3f_6aa0_452e_801b_2940a59c8f83","uuid":"6ad3c7c4-b089-41ee-83f1-5dbed3dcbfa2"},"edge_type":"inherent","type":"","uuid":"7c0a108e-7066-4b34-9ea9-079d5fac03a0","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"61a85782-813a-4ca6-81bc-324842964336"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_e372d8fd_d7ad_4678_ac50_0517f533c9d4","uuid":"aa3a054e-ed84-4e92-9988-edf58f671844"},"edge_type":"inherent","type":"","uuid":"9d9dacfa-cd1c-463e-812c-2ad4f7516419","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_a5843e3f_6aa0_452e_801b_2940a59c8f83","uuid":"6ad3c7c4-b089-41ee-83f1-5dbed3dcbfa2"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_adee1967_610d_4f23_964b_6d9b24e27af2","uuid":"db433e52-b739-406e-bad9-d0581ac04d09"},"edge_type":"inherent","type":"","uuid":"690a0cf6-5ae6-4158-9870-e77c0bc8a6ea","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_e372d8fd_d7ad_4678_ac50_0517f533c9d4","uuid":"aa3a054e-ed84-4e92-9988-edf58f671844"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_30b27cdf_628e_49d3_b6e5_6b82278e432d","uuid":"4058aa1e-30a2-435e-8383-e1dcb8f7c33f"},"edge_type":"inherent","type":"","uuid":"d73bb391-2f83-48da-b3ce-ca3ea67219d6","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_e372d8fd_d7ad_4678_ac50_0517f533c9d4","uuid":"aa3a054e-ed84-4e92-9988-edf58f671844"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_30b27cdf_628e_49d3_b6e5_6b82278e432d","uuid":"4058aa1e-30a2-435e-8383-e1dcb8f7c33f"},"edge_type":"inherent","type":"","uuid":"3318f2a0-0550-439c-87a0-0757d205babe","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_adee1967_610d_4f23_964b_6d9b24e27af2","uuid":"db433e52-b739-406e-bad9-d0581ac04d09"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_30b27cdf_628e_49d3_b6e5_6b82278e432d"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"ff4974a5_deployment","uuid":"30b27cdf-628e-49d3-b6e5-6b82278e432d"},"retries":"0","description":"","type":"CREATE_DEPLOYMENT_ELEMENT","uuid":"4058aa1e-30a2-435e-8383-e1dcb8f7c33f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Provision_30b27cdf_628e_49d3_b6e5_6b82278e432d"},{"target_any_local_reference":{"kind":"app_package","name":"AHV_CENTOS_76","uuid":"adee1967-610d-4f23-964b-6d9b24e27af2"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"db433e52-b739-406e-bad9-d0581ac04d09","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"ff4974a5_deployment","uuid":"30b27cdf-628e-49d3-b6e5-6b82278e432d"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_adee1967_610d_4f23_964b_6d9b24e27af2","uuid":"f4fe8fda-b03b-40b2-be86-03a535882e58"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_adee1967_610d_4f23_964b_6d9b24e27af2"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVRouter","uuid":"e372d8fd-d7ad-4678-ac50-0517f533c9d4"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"aa3a054e-ed84-4e92-9988-edf58f671844","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"ff4974a5_deployment","uuid":"30b27cdf-628e-49d3-b6e5-6b82278e432d"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_e372d8fd_d7ad_4678_ac50_0517f533c9d4","uuid":"8d84e705-f6f5-4fbf-a511-ed662173d0d8"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Substrate_e372d8fd_d7ad_4678_ac50_0517f533c9d4"},{"target_any_local_reference":{"kind":"app_package","name":"AHVRouterPackage","uuid":"a5843e3f-6aa0-452e-801b-2940a59c8f83"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"6ad3c7c4-b089-41ee-83f1-5dbed3dcbfa2","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"ff4974a5_deployment","uuid":"30b27cdf-628e-49d3-b6e5-6b82278e432d"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_a5843e3f_6aa0_452e_801b_2940a59c8f83","uuid":"433e8cb8-18ee-4bd6-a6a5-6a244c27874e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_a5843e3f_6aa0_452e_801b_2940a59c8f83"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"61a85782-813a-4ca6-81bc-324842964336","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"ff4974a5_deployment","uuid":"30b27cdf-628e-49d3-b6e5-6b82278e432d"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"f678ba44_runbook","uuid":"6f256634-e57a-41ea-a837-438a40018db7"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"a1f50b3e-b77b-4851-98a8-030077285311","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"ff4974a5_deployment","uuid":"30b27cdf-628e-49d3-b6e5-6b82278e432d"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"6729beee_runbook","uuid":"28341bf4-2766-4701-8747-1722ed61db3c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e"}],"description":"","message_list":[],"uuid":"b273f630-d1d2-43f9-9427-a55c8cd0377a","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_30b27cdf_628e_49d3_b6e5_6b82278e432d","uuid":"dda6a8f9-2679-4fb7-936c-7e9d2ad5f718"},"name":"SYS_GEN__Runbook_Deployment_30b27cdf_628e_49d3_b6e5_6b82278e432d"}},{"description":"System action for starting an application","message_list":[],"uuid":"b0b6e6d3-438d-4ab4-a9d2-034c4a61be0b","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"ff4974a5_deployment","uuid":"30b27cdf-628e-49d3-b6e5-6b82278e432d"},"retries":"0","description":"","type":"DAG","uuid":"bf357860-7187-44f1-8755-e0c3a231d047","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_e372d8fd_d7ad_4678_ac50_0517f533c9d4","uuid":"a6755ed7-97cf-4f5c-befd-20da898fed2d"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"d3382d6b-b356-49be-bd6c-46dcfd273ea0"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_e372d8fd_d7ad_4678_ac50_0517f533c9d4","uuid":"a6755ed7-97cf-4f5c-befd-20da898fed2d"},"edge_type":"inherent","type":"","uuid":"90e65a0e-554c-4e7d-82a4-67a112bce8be","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"d3382d6b-b356-49be-bd6c-46dcfd273ea0"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_30b27cdf_628e_49d3_b6e5_6b82278e432d"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVRouter","uuid":"e372d8fd-d7ad-4678-ac50-0517f533c9d4"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"a6755ed7-97cf-4f5c-befd-20da898fed2d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"ff4974a5_deployment","uuid":"30b27cdf-628e-49d3-b6e5-6b82278e432d"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_e372d8fd_d7ad_4678_ac50_0517f533c9d4","uuid":"157384aa-6193-404c-9da0-4eb34413d03e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Substrate_e372d8fd_d7ad_4678_ac50_0517f533c9d4"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"d3382d6b-b356-49be-bd6c-46dcfd273ea0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"ff4974a5_deployment","uuid":"30b27cdf-628e-49d3-b6e5-6b82278e432d"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"6729beee_runbook","uuid":"28341bf4-2766-4701-8747-1722ed61db3c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e"}],"description":"","message_list":[],"uuid":"4db476bd-205a-4d26-bf15-a0ac97cf703e","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_30b27cdf_628e_49d3_b6e5_6b82278e432d","uuid":"bf357860-7187-44f1-8755-e0c3a231d047"},"name":"SYS_GEN__Runbook_Deployment_30b27cdf_628e_49d3_b6e5_6b82278e432d"}},{"description":"System action for restarting an application","message_list":[],"uuid":"d8db4a46-5203-4932-ba40-a685a0266013","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"ff4974a5_deployment","uuid":"30b27cdf-628e-49d3-b6e5-6b82278e432d"},"retries":"0","description":"","type":"DAG","uuid":"0ebd8d95-6da3-470b-9043-7d6891d94857","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_e372d8fd_d7ad_4678_ac50_0517f533c9d4","uuid":"673f48e8-e283-4590-8801-0864a0c7f979"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"5566668d-194a-4b52-9908-452f1867646f"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_e372d8fd_d7ad_4678_ac50_0517f533c9d4","uuid":"673f48e8-e283-4590-8801-0864a0c7f979"},"edge_type":"inherent","type":"","uuid":"24814cb1-bec7-454d-94a3-16b62535c117","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"5566668d-194a-4b52-9908-452f1867646f"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_30b27cdf_628e_49d3_b6e5_6b82278e432d"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVRouter","uuid":"e372d8fd-d7ad-4678-ac50-0517f533c9d4"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"673f48e8-e283-4590-8801-0864a0c7f979","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"ff4974a5_deployment","uuid":"30b27cdf-628e-49d3-b6e5-6b82278e432d"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_e372d8fd_d7ad_4678_ac50_0517f533c9d4","uuid":"0bb711c8-37ac-4cc4-b29f-d9eb496057e9"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Substrate_e372d8fd_d7ad_4678_ac50_0517f533c9d4"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"5566668d-194a-4b52-9908-452f1867646f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"ff4974a5_deployment","uuid":"30b27cdf-628e-49d3-b6e5-6b82278e432d"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"5261a312_runbook","uuid":"dcdcb0d6-e68b-4641-8609-e6dc92c57b21"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e"}],"description":"","message_list":[],"uuid":"d519b9df-d265-4efb-90ac-34c8c4c0b919","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_30b27cdf_628e_49d3_b6e5_6b82278e432d","uuid":"0ebd8d95-6da3-470b-9043-7d6891d94857"},"name":"SYS_GEN__Runbook_Deployment_30b27cdf_628e_49d3_b6e5_6b82278e432d"}},{"description":"System action for stopping an application","message_list":[],"uuid":"30a1be1d-5316-47b3-85c5-01a4434c47c1","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"ff4974a5_deployment","uuid":"30b27cdf-628e-49d3-b6e5-6b82278e432d"},"retries":"0","description":"","type":"DAG","uuid":"05f014a7-7c78-4da1-82da-4f1620c207f5","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"0a491747-21ea-41f2-8828-cea5ea49ad27"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_e372d8fd_d7ad_4678_ac50_0517f533c9d4","uuid":"0522e572-fbca-41c8-a021-c954f66fc064"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"0a491747-21ea-41f2-8828-cea5ea49ad27"},"edge_type":"inherent","type":"","uuid":"baddf0a7-94eb-4130-9303-759788353c21","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_e372d8fd_d7ad_4678_ac50_0517f533c9d4","uuid":"0522e572-fbca-41c8-a021-c954f66fc064"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_30b27cdf_628e_49d3_b6e5_6b82278e432d"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"0a491747-21ea-41f2-8828-cea5ea49ad27","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"ff4974a5_deployment","uuid":"30b27cdf-628e-49d3-b6e5-6b82278e432d"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"6d2afcdd_runbook","uuid":"215f65d0-6496-443c-9017-6dec4743560f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVRouter","uuid":"e372d8fd-d7ad-4678-ac50-0517f533c9d4"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"0522e572-fbca-41c8-a021-c954f66fc064","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"ff4974a5_deployment","uuid":"30b27cdf-628e-49d3-b6e5-6b82278e432d"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_e372d8fd_d7ad_4678_ac50_0517f533c9d4","uuid":"c93dbab5-2876-4a0b-be53-370cb5bcc56a"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Substrate_e372d8fd_d7ad_4678_ac50_0517f533c9d4"}],"description":"","message_list":[],"uuid":"2cd13bf0-c606-4036-b8b4-fbba1b45915c","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_30b27cdf_628e_49d3_b6e5_6b82278e432d","uuid":"05f014a7-7c78-4da1-82da-4f1620c207f5"},"name":"SYS_GEN__Runbook_Deployment_30b27cdf_628e_49d3_b6e5_6b82278e432d"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"539c0283-c2f2-45e5-98c7-0bbaf94ebe09","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"ff4974a5_deployment","uuid":"30b27cdf-628e-49d3-b6e5-6b82278e432d"},"retries":"0","description":"","type":"DAG","uuid":"3babb843-075c-45db-9be3-896dbd897b94","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"169665b3-ebef-4f20-99bc-7107628aef11"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"bf953e79-48a2-4607-86a3-e139fd4f5bbe"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_a5843e3f_6aa0_452e_801b_2940a59c8f83","uuid":"60dd6911-4695-438c-a2c3-a296de73795f"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_e372d8fd_d7ad_4678_ac50_0517f533c9d4","uuid":"5081ee7c-a553-475a-9c4d-c573fee07963"},{"kind":"app_task","name":"SYS_GEN__DE_Delete_30b27cdf_628e_49d3_b6e5_6b82278e432d","uuid":"43340bd2-68c2-43b7-b9ad-67fb5bd52880"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"169665b3-ebef-4f20-99bc-7107628aef11"},"edge_type":"inherent","type":"","uuid":"7a74dc6a-8b79-4b05-93ab-226f01e6f49c","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"bf953e79-48a2-4607-86a3-e139fd4f5bbe"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"bf953e79-48a2-4607-86a3-e139fd4f5bbe"},"edge_type":"inherent","type":"","uuid":"821ff11b-6d0c-4572-9a82-9acbebac5151","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_a5843e3f_6aa0_452e_801b_2940a59c8f83","uuid":"60dd6911-4695-438c-a2c3-a296de73795f"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_e372d8fd_d7ad_4678_ac50_0517f533c9d4","uuid":"5081ee7c-a553-475a-9c4d-c573fee07963"},"edge_type":"inherent","type":"","uuid":"3f7f43b4-75ea-4852-a4e3-d57b005f7b33","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Delete_30b27cdf_628e_49d3_b6e5_6b82278e432d","uuid":"43340bd2-68c2-43b7-b9ad-67fb5bd52880"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_a5843e3f_6aa0_452e_801b_2940a59c8f83","uuid":"60dd6911-4695-438c-a2c3-a296de73795f"},"edge_type":"inherent","type":"","uuid":"5220c433-a9c0-415d-9958-d77c9fc6a152","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_e372d8fd_d7ad_4678_ac50_0517f533c9d4","uuid":"5081ee7c-a553-475a-9c4d-c573fee07963"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_30b27cdf_628e_49d3_b6e5_6b82278e432d"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"169665b3-ebef-4f20-99bc-7107628aef11","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"ff4974a5_deployment","uuid":"30b27cdf-628e-49d3-b6e5-6b82278e432d"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"6d2afcdd_runbook","uuid":"215f65d0-6496-443c-9017-6dec4743560f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"bf953e79-48a2-4607-86a3-e139fd4f5bbe","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"ff4974a5_deployment","uuid":"30b27cdf-628e-49d3-b6e5-6b82278e432d"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"6631f4bd_runbook","uuid":"d80d8f71-625e-4530-bf85-66347f427405"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e"},{"target_any_local_reference":{"kind":"app_package","name":"AHVRouterPackage","uuid":"a5843e3f-6aa0-452e-801b-2940a59c8f83"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"60dd6911-4695-438c-a2c3-a296de73795f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"ff4974a5_deployment","uuid":"30b27cdf-628e-49d3-b6e5-6b82278e432d"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_a5843e3f_6aa0_452e_801b_2940a59c8f83","uuid":"8799d723-e0a0-4e4d-96cf-a8b3a9ffe74c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_a5843e3f_6aa0_452e_801b_2940a59c8f83"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVRouter","uuid":"e372d8fd-d7ad-4678-ac50-0517f533c9d4"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"5081ee7c-a553-475a-9c4d-c573fee07963","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"ff4974a5_deployment","uuid":"30b27cdf-628e-49d3-b6e5-6b82278e432d"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_e372d8fd_d7ad_4678_ac50_0517f533c9d4","uuid":"dc822d75-6f06-4c36-a89a-0e90ea0c9c91"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Substrate_e372d8fd_d7ad_4678_ac50_0517f533c9d4"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"ff4974a5_deployment","uuid":"30b27cdf-628e-49d3-b6e5-6b82278e432d"},"retries":"0","description":"","type":"DELETE_DEPLOYMENT_ELEMENT","uuid":"43340bd2-68c2-43b7-b9ad-67fb5bd52880","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Delete_30b27cdf_628e_49d3_b6e5_6b82278e432d"}],"description":"","message_list":[],"uuid":"6cd0babe-9fff-4220-b44a-608d7ae1ce83","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_30b27cdf_628e_49d3_b6e5_6b82278e432d","uuid":"3babb843-075c-45db-9be3-896dbd897b94"},"name":"SYS_GEN__Runbook_Deployment_30b27cdf_628e_49d3_b6e5_6b82278e432d"}},{"description":"System action for scaleout","message_list":[],"uuid":"b19ebd91-9dad-4b22-8e8a-72738093e38b","name":"action_scaleout","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"ff4974a5_deployment","uuid":"30b27cdf-628e-49d3-b6e5-6b82278e432d"},"retries":"0","description":"","type":"DAG","uuid":"dd07120e-4149-451e-8f63-b1647ff4763b","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Deployment_Scaleout_30b27cdf_628e_49d3_b6e5_6b82278e432d","uuid":"184aebd5-dce6-40cc-baaf-e116c6bf5d52"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_30b27cdf_628e_49d3_b6e5_6b82278e432d"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"ff4974a5_deployment","uuid":"30b27cdf-628e-49d3-b6e5-6b82278e432d"},"retries":"0","description":"","type":"SCALING","uuid":"184aebd5-dce6-40cc-baaf-e116c6bf5d52","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{scaling_count}@@","type":"","scaling_type":"SCALEOUT"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Deployment_Scaleout_30b27cdf_628e_49d3_b6e5_6b82278e432d"}],"description":"","message_list":[],"uuid":"10b8e3b9-21e5-42ed-acac-0117d36540cb","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"da8c61dd-a586-4e2e-87a7-3f18d7653f0d","value":"0","label":"","state":"NOT_VALIDATED","attrs":{},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"scaling_count"}],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_30b27cdf_628e_49d3_b6e5_6b82278e432d","uuid":"dd07120e-4149-451e-8f63-b1647ff4763b"},"name":"SYS_GEN__Runbook_Deployment_30b27cdf_628e_49d3_b6e5_6b82278e432d"}},{"description":"System action for scalein","message_list":[],"uuid":"46f035f1-4dc4-4934-8a3d-21252e376400","name":"action_scalein","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"ff4974a5_deployment","uuid":"30b27cdf-628e-49d3-b6e5-6b82278e432d"},"retries":"0","description":"","type":"DAG","uuid":"1d5053f0-3e91-41b1-b927-49f280fb6568","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Deployment_Scalein_30b27cdf_628e_49d3_b6e5_6b82278e432d","uuid":"d64cccb1-ad01-48d8-a2d7-77669676663f"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_30b27cdf_628e_49d3_b6e5_6b82278e432d"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"ff4974a5_deployment","uuid":"30b27cdf-628e-49d3-b6e5-6b82278e432d"},"retries":"0","description":"","type":"SCALING","uuid":"d64cccb1-ad01-48d8-a2d7-77669676663f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{scaling_count}@@","type":"","scaling_type":"SCALEIN"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Deployment_Scalein_30b27cdf_628e_49d3_b6e5_6b82278e432d"}],"description":"","message_list":[],"uuid":"39ef53cb-d189-4f51-9db2-94afae589f99","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"41a2aecb-07bb-4d70-a79e-e549a63a1774","value":"0","label":"","state":"NOT_VALIDATED","attrs":{},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"scaling_count"}],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_30b27cdf_628e_49d3_b6e5_6b82278e432d","uuid":"1d5053f0-3e91-41b1-b927-49f280fb6568"},"name":"SYS_GEN__Runbook_Deployment_30b27cdf_628e_49d3_b6e5_6b82278e432d"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"25d74870-7840-418b-94d7-07920ef7ee1d","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"ff4974a5_deployment","uuid":"30b27cdf-628e-49d3-b6e5-6b82278e432d"},"retries":"0","description":"","type":"DAG","uuid":"2c3eea11-406d-4ae4-9869-872d6671007d","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"63a9409c-5c08-4a57-9d7a-b7d2bd4fba24"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_a5843e3f_6aa0_452e_801b_2940a59c8f83","uuid":"5b50610a-1b3a-4418-8ba7-7e1e6e9d4beb"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_e372d8fd_d7ad_4678_ac50_0517f533c9d4","uuid":"cb392a84-577e-4a94-aaec-b78daedf9c55"},{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_30b27cdf_628e_49d3_b6e5_6b82278e432d","uuid":"91369779-7d30-4c4e-a8ad-e5a1ee5521c4"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"63a9409c-5c08-4a57-9d7a-b7d2bd4fba24"},"edge_type":"inherent","type":"","uuid":"a07cd17c-39ff-4c6e-9c6a-7375c3c20c30","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_a5843e3f_6aa0_452e_801b_2940a59c8f83","uuid":"5b50610a-1b3a-4418-8ba7-7e1e6e9d4beb"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_a5843e3f_6aa0_452e_801b_2940a59c8f83","uuid":"5b50610a-1b3a-4418-8ba7-7e1e6e9d4beb"},"edge_type":"inherent","type":"","uuid":"00d34616-10d0-4b0f-8ff6-6e52971c4430","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_e372d8fd_d7ad_4678_ac50_0517f533c9d4","uuid":"cb392a84-577e-4a94-aaec-b78daedf9c55"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_e372d8fd_d7ad_4678_ac50_0517f533c9d4","uuid":"cb392a84-577e-4a94-aaec-b78daedf9c55"},"edge_type":"inherent","type":"","uuid":"25de47b8-bc82-44b9-87d1-062b467ca59f","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_30b27cdf_628e_49d3_b6e5_6b82278e432d","uuid":"91369779-7d30-4c4e-a8ad-e5a1ee5521c4"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_30b27cdf_628e_49d3_b6e5_6b82278e432d"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"63a9409c-5c08-4a57-9d7a-b7d2bd4fba24","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"ff4974a5_deployment","uuid":"30b27cdf-628e-49d3-b6e5-6b82278e432d"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"3fe61be2-c077-40a8-91a6-e9e75a5d2af3"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e"},{"target_any_local_reference":{"kind":"app_package","name":"AHVRouterPackage","uuid":"a5843e3f-6aa0-452e-801b-2940a59c8f83"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"5b50610a-1b3a-4418-8ba7-7e1e6e9d4beb","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_a5843e3f_6aa0_452e_801b_2940a59c8f83"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVRouter","uuid":"e372d8fd-d7ad-4678-ac50-0517f533c9d4"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"cb392a84-577e-4a94-aaec-b78daedf9c55","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"ff4974a5_deployment","uuid":"30b27cdf-628e-49d3-b6e5-6b82278e432d"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_e372d8fd_d7ad_4678_ac50_0517f533c9d4","uuid":"5d51122e-ccea-4c32-a1c4-5e0b1bee6413"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Substrate_e372d8fd_d7ad_4678_ac50_0517f533c9d4"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"ff4974a5_deployment","uuid":"30b27cdf-628e-49d3-b6e5-6b82278e432d"},"retries":"0","description":"","type":"SOFT_DELETE_DEPLOYMENT_ELEMENT","uuid":"91369779-7d30-4c4e-a8ad-e5a1ee5521c4","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Soft_Delete_30b27cdf_628e_49d3_b6e5_6b82278e432d"}],"description":"","message_list":[],"uuid":"bc312e11-5f04-4656-91b3-3edf5af9cfcd","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_30b27cdf_628e_49d3_b6e5_6b82278e432d","uuid":"2c3eea11-406d-4ae4-9869-872d6671007d"},"name":"SYS_GEN__Runbook_Deployment_30b27cdf_628e_49d3_b6e5_6b82278e432d"}}],"message_list":[],"published_service_local_reference_list":[],"uuid":"30b27cdf-628e-49d3-b6e5-6b82278e432d","min_replicas":"3","state":"ACTIVE","max_replicas":"3","depends_on_list":[],"editables":{"min_replicas":true,"max_replicas":true},"package_local_reference_list":[{"kind":"app_package","name":"AHVRouterPackage","uuid":"a5843e3f-6aa0-452e-801b-2940a59c8f83"}],"substrate_local_reference":{"kind":"app_substrate","name":"AHVRouter","uuid":"e372d8fd-d7ad-4678-ac50-0517f533c9d4"},"type":"GREENFIELD","options":{},"variable_list":[],"name":"ff4974a5_deployment"},{"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"04bc98d6-c68b-4aa4-b828-c6c3a812df04","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"86730684_deployment","uuid":"b4f16742-83ea-4655-ad4c-b84f9a91cee5"},"retries":"0","description":"","type":"DAG","uuid":"ba01c919-e25d-4932-8682-4198368c5408","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__DE_Provision_b4f16742_83ea_4655_ad4c_b84f9a91cee5","uuid":"a637a424-fbce-4a53-915e-9764c82ab3cd"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_adee1967_610d_4f23_964b_6d9b24e27af2","uuid":"ff5d197b-cfe6-4bc8-9e74-1e0ee0afb71e"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_9da256c1_17f2_4787_a501_f5b250fccce7","uuid":"34248648-c240-4d7a-ac6c-f0902f9b0ef2"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_da11565f_0ae8_48e8_a066_569b84be461c","uuid":"f383b3b0-6c3b-4367-bbca-3e188a2b58a7"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"9ad785b0-757f-40f1-9cfc-fae1dd1b8193"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"f3231b00-8338-461e-ad18-4e3727ec5fc6"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"9ad785b0-757f-40f1-9cfc-fae1dd1b8193"},"edge_type":"inherent","type":"","uuid":"a1d0c552-adfd-4a2a-83f0-5d595384f75b","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"f3231b00-8338-461e-ad18-4e3727ec5fc6"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_da11565f_0ae8_48e8_a066_569b84be461c","uuid":"f383b3b0-6c3b-4367-bbca-3e188a2b58a7"},"edge_type":"inherent","type":"","uuid":"6e504c7d-a6f6-4ac5-9a7a-340bbf79fbb6","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"9ad785b0-757f-40f1-9cfc-fae1dd1b8193"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_9da256c1_17f2_4787_a501_f5b250fccce7","uuid":"34248648-c240-4d7a-ac6c-f0902f9b0ef2"},"edge_type":"inherent","type":"","uuid":"26f725a5-4b04-48d2-bc94-4a34cd4a5eb3","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_da11565f_0ae8_48e8_a066_569b84be461c","uuid":"f383b3b0-6c3b-4367-bbca-3e188a2b58a7"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_adee1967_610d_4f23_964b_6d9b24e27af2","uuid":"ff5d197b-cfe6-4bc8-9e74-1e0ee0afb71e"},"edge_type":"inherent","type":"","uuid":"bf57745c-6244-4b3a-85c3-4588657c9d5f","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_9da256c1_17f2_4787_a501_f5b250fccce7","uuid":"34248648-c240-4d7a-ac6c-f0902f9b0ef2"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_b4f16742_83ea_4655_ad4c_b84f9a91cee5","uuid":"a637a424-fbce-4a53-915e-9764c82ab3cd"},"edge_type":"inherent","type":"","uuid":"07b7c910-15ad-4720-8c3b-2939f25d1054","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_9da256c1_17f2_4787_a501_f5b250fccce7","uuid":"34248648-c240-4d7a-ac6c-f0902f9b0ef2"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_b4f16742_83ea_4655_ad4c_b84f9a91cee5","uuid":"a637a424-fbce-4a53-915e-9764c82ab3cd"},"edge_type":"inherent","type":"","uuid":"145e1218-39d4-4e00-ab5d-4cb84d9d758a","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_adee1967_610d_4f23_964b_6d9b24e27af2","uuid":"ff5d197b-cfe6-4bc8-9e74-1e0ee0afb71e"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_b4f16742_83ea_4655_ad4c_b84f9a91cee5"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"86730684_deployment","uuid":"b4f16742-83ea-4655-ad4c-b84f9a91cee5"},"retries":"0","description":"","type":"CREATE_DEPLOYMENT_ELEMENT","uuid":"a637a424-fbce-4a53-915e-9764c82ab3cd","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Provision_b4f16742_83ea_4655_ad4c_b84f9a91cee5"},{"target_any_local_reference":{"kind":"app_package","name":"AHV_CENTOS_76","uuid":"adee1967-610d-4f23-964b-6d9b24e27af2"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"ff5d197b-cfe6-4bc8-9e74-1e0ee0afb71e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"86730684_deployment","uuid":"b4f16742-83ea-4655-ad4c-b84f9a91cee5"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_adee1967_610d_4f23_964b_6d9b24e27af2","uuid":"f4fe8fda-b03b-40b2-be86-03a535882e58"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_adee1967_610d_4f23_964b_6d9b24e27af2"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVConfigSet","uuid":"9da256c1-17f2-4787-a501-f5b250fccce7"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"34248648-c240-4d7a-ac6c-f0902f9b0ef2","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"86730684_deployment","uuid":"b4f16742-83ea-4655-ad4c-b84f9a91cee5"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_9da256c1_17f2_4787_a501_f5b250fccce7","uuid":"17d41483-a39c-4ce1-962f-3733ca2a2a94"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Substrate_9da256c1_17f2_4787_a501_f5b250fccce7"},{"target_any_local_reference":{"kind":"app_package","name":"AHVConfigSetPackage","uuid":"da11565f-0ae8-48e8-a066-569b84be461c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"f383b3b0-6c3b-4367-bbca-3e188a2b58a7","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"86730684_deployment","uuid":"b4f16742-83ea-4655-ad4c-b84f9a91cee5"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_da11565f_0ae8_48e8_a066_569b84be461c","uuid":"12445605-c638-4984-93c6-863cfe7d14de"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_da11565f_0ae8_48e8_a066_569b84be461c"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"9ad785b0-757f-40f1-9cfc-fae1dd1b8193","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"86730684_deployment","uuid":"b4f16742-83ea-4655-ad4c-b84f9a91cee5"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0a879260_runbook","uuid":"741de02d-b511-4b87-8b94-a1b0b74e0fb7"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"f3231b00-8338-461e-ad18-4e3727ec5fc6","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"86730684_deployment","uuid":"b4f16742-83ea-4655-ad4c-b84f9a91cee5"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"f4695758_runbook","uuid":"0c2528e9-82d6-40bc-9b4d-721eabd37ead"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd"}],"description":"","message_list":[],"uuid":"c1c9382c-f732-4413-b8ef-979f35c84253","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_b4f16742_83ea_4655_ad4c_b84f9a91cee5","uuid":"ba01c919-e25d-4932-8682-4198368c5408"},"name":"SYS_GEN__Runbook_Deployment_b4f16742_83ea_4655_ad4c_b84f9a91cee5"}},{"description":"System action for starting an application","message_list":[],"uuid":"c06bdf20-5f86-48f8-b766-7e55e71a2a47","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"86730684_deployment","uuid":"b4f16742-83ea-4655-ad4c-b84f9a91cee5"},"retries":"0","description":"","type":"DAG","uuid":"15b5994a-0318-40d7-bda3-a9b6e71c7470","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_9da256c1_17f2_4787_a501_f5b250fccce7","uuid":"b8fe90d7-bbd2-496b-8845-a01102efbce9"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"d83a6369-fe52-4143-8b62-be08a8ed0dc0"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_9da256c1_17f2_4787_a501_f5b250fccce7","uuid":"b8fe90d7-bbd2-496b-8845-a01102efbce9"},"edge_type":"inherent","type":"","uuid":"c791f700-d41b-4b31-86a1-97c51e998cbb","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"d83a6369-fe52-4143-8b62-be08a8ed0dc0"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_b4f16742_83ea_4655_ad4c_b84f9a91cee5"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVConfigSet","uuid":"9da256c1-17f2-4787-a501-f5b250fccce7"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"b8fe90d7-bbd2-496b-8845-a01102efbce9","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"86730684_deployment","uuid":"b4f16742-83ea-4655-ad4c-b84f9a91cee5"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_9da256c1_17f2_4787_a501_f5b250fccce7","uuid":"66cce55f-8532-483e-8799-cb5e9ab8fe65"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Substrate_9da256c1_17f2_4787_a501_f5b250fccce7"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"d83a6369-fe52-4143-8b62-be08a8ed0dc0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"86730684_deployment","uuid":"b4f16742-83ea-4655-ad4c-b84f9a91cee5"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"f4695758_runbook","uuid":"0c2528e9-82d6-40bc-9b4d-721eabd37ead"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd"}],"description":"","message_list":[],"uuid":"c9d11d95-5891-4871-8890-424c23805f33","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_b4f16742_83ea_4655_ad4c_b84f9a91cee5","uuid":"15b5994a-0318-40d7-bda3-a9b6e71c7470"},"name":"SYS_GEN__Runbook_Deployment_b4f16742_83ea_4655_ad4c_b84f9a91cee5"}},{"description":"System action for restarting an application","message_list":[],"uuid":"b4a2f802-3ac3-4aa3-b8e8-77598d26052d","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"86730684_deployment","uuid":"b4f16742-83ea-4655-ad4c-b84f9a91cee5"},"retries":"0","description":"","type":"DAG","uuid":"7f401f4b-ec4c-4d20-8c94-2461d87044bd","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_9da256c1_17f2_4787_a501_f5b250fccce7","uuid":"ddadfa24-7e36-45ad-8e6d-00b9f5fd0718"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"8e6a6798-26aa-4502-8497-8b11cc770bd8"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_9da256c1_17f2_4787_a501_f5b250fccce7","uuid":"ddadfa24-7e36-45ad-8e6d-00b9f5fd0718"},"edge_type":"inherent","type":"","uuid":"53a9ca82-f194-4884-b0a8-5f73df845c31","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"8e6a6798-26aa-4502-8497-8b11cc770bd8"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_b4f16742_83ea_4655_ad4c_b84f9a91cee5"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVConfigSet","uuid":"9da256c1-17f2-4787-a501-f5b250fccce7"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"ddadfa24-7e36-45ad-8e6d-00b9f5fd0718","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"86730684_deployment","uuid":"b4f16742-83ea-4655-ad4c-b84f9a91cee5"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_9da256c1_17f2_4787_a501_f5b250fccce7","uuid":"f4f18dee-1c5e-4b18-9237-fee52521faf7"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Substrate_9da256c1_17f2_4787_a501_f5b250fccce7"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"8e6a6798-26aa-4502-8497-8b11cc770bd8","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"86730684_deployment","uuid":"b4f16742-83ea-4655-ad4c-b84f9a91cee5"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"b7169291_runbook","uuid":"7c36f5f8-9e8b-4f97-b855-438dc7eb8f3d"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd"}],"description":"","message_list":[],"uuid":"3b4fec94-a423-4ab6-a999-9aeb9492a8f1","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_b4f16742_83ea_4655_ad4c_b84f9a91cee5","uuid":"7f401f4b-ec4c-4d20-8c94-2461d87044bd"},"name":"SYS_GEN__Runbook_Deployment_b4f16742_83ea_4655_ad4c_b84f9a91cee5"}},{"description":"System action for stopping an application","message_list":[],"uuid":"da517279-8960-4d88-9a2a-759e6febcdf4","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"86730684_deployment","uuid":"b4f16742-83ea-4655-ad4c-b84f9a91cee5"},"retries":"0","description":"","type":"DAG","uuid":"042c6477-774b-4ab8-8e50-85ead773c708","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"53d81aff-076d-4087-b8fd-bba1df4a9201"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_9da256c1_17f2_4787_a501_f5b250fccce7","uuid":"e74c1422-5c98-4f4c-bd03-2c0f7828ad69"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"53d81aff-076d-4087-b8fd-bba1df4a9201"},"edge_type":"inherent","type":"","uuid":"1425ebd2-a566-4b9f-b8f0-ab737b23e7e0","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_9da256c1_17f2_4787_a501_f5b250fccce7","uuid":"e74c1422-5c98-4f4c-bd03-2c0f7828ad69"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_b4f16742_83ea_4655_ad4c_b84f9a91cee5"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"53d81aff-076d-4087-b8fd-bba1df4a9201","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"86730684_deployment","uuid":"b4f16742-83ea-4655-ad4c-b84f9a91cee5"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"a33b20bd_runbook","uuid":"e6335ceb-f00b-4ec5-8425-3864e1897a7d"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVConfigSet","uuid":"9da256c1-17f2-4787-a501-f5b250fccce7"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"e74c1422-5c98-4f4c-bd03-2c0f7828ad69","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"86730684_deployment","uuid":"b4f16742-83ea-4655-ad4c-b84f9a91cee5"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_9da256c1_17f2_4787_a501_f5b250fccce7","uuid":"8f3b8470-bb0f-48a0-973d-b5bf5b811830"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Substrate_9da256c1_17f2_4787_a501_f5b250fccce7"}],"description":"","message_list":[],"uuid":"1709c6c3-b4a7-44ea-b219-9e4898e6cca7","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_b4f16742_83ea_4655_ad4c_b84f9a91cee5","uuid":"042c6477-774b-4ab8-8e50-85ead773c708"},"name":"SYS_GEN__Runbook_Deployment_b4f16742_83ea_4655_ad4c_b84f9a91cee5"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"8d90be2a-1177-45a2-a68f-b0edbb84f4b5","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"86730684_deployment","uuid":"b4f16742-83ea-4655-ad4c-b84f9a91cee5"},"retries":"0","description":"","type":"DAG","uuid":"47950e7a-5d90-4925-a695-2dda41e817c5","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"8d9922f4-5627-4373-8b43-7116aca305a7"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"d0b24f5c-d290-4fb0-8f52-49717d2881ed"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_da11565f_0ae8_48e8_a066_569b84be461c","uuid":"bfde2a5c-5235-41a3-b246-a515e15daa91"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_9da256c1_17f2_4787_a501_f5b250fccce7","uuid":"a2cd3e7a-d0a2-4dcc-9c3e-ef8ace710525"},{"kind":"app_task","name":"SYS_GEN__DE_Delete_b4f16742_83ea_4655_ad4c_b84f9a91cee5","uuid":"4ddd196e-1c01-4172-b6b1-304aefa02319"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"8d9922f4-5627-4373-8b43-7116aca305a7"},"edge_type":"inherent","type":"","uuid":"d74c21d2-f2fa-4a1a-ac51-0a98008a6e1c","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"d0b24f5c-d290-4fb0-8f52-49717d2881ed"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"d0b24f5c-d290-4fb0-8f52-49717d2881ed"},"edge_type":"inherent","type":"","uuid":"932b608f-42e3-4c98-8b80-4c039530d5b4","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_da11565f_0ae8_48e8_a066_569b84be461c","uuid":"bfde2a5c-5235-41a3-b246-a515e15daa91"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_9da256c1_17f2_4787_a501_f5b250fccce7","uuid":"a2cd3e7a-d0a2-4dcc-9c3e-ef8ace710525"},"edge_type":"inherent","type":"","uuid":"0bd89571-a8c2-43be-9e57-d31eb7c0fd15","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Delete_b4f16742_83ea_4655_ad4c_b84f9a91cee5","uuid":"4ddd196e-1c01-4172-b6b1-304aefa02319"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_da11565f_0ae8_48e8_a066_569b84be461c","uuid":"bfde2a5c-5235-41a3-b246-a515e15daa91"},"edge_type":"inherent","type":"","uuid":"fa40b30f-903b-49c0-93eb-3838c0540009","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_9da256c1_17f2_4787_a501_f5b250fccce7","uuid":"a2cd3e7a-d0a2-4dcc-9c3e-ef8ace710525"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_b4f16742_83ea_4655_ad4c_b84f9a91cee5"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"8d9922f4-5627-4373-8b43-7116aca305a7","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"86730684_deployment","uuid":"b4f16742-83ea-4655-ad4c-b84f9a91cee5"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"a33b20bd_runbook","uuid":"e6335ceb-f00b-4ec5-8425-3864e1897a7d"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"d0b24f5c-d290-4fb0-8f52-49717d2881ed","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"86730684_deployment","uuid":"b4f16742-83ea-4655-ad4c-b84f9a91cee5"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"3c3538b9_runbook","uuid":"8625e87a-c851-44ac-9a8c-6808a1ac5574"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd"},{"target_any_local_reference":{"kind":"app_package","name":"AHVConfigSetPackage","uuid":"da11565f-0ae8-48e8-a066-569b84be461c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"bfde2a5c-5235-41a3-b246-a515e15daa91","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"86730684_deployment","uuid":"b4f16742-83ea-4655-ad4c-b84f9a91cee5"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_da11565f_0ae8_48e8_a066_569b84be461c","uuid":"446b4d01-cf37-4d64-8ea1-ef6a6808144a"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_da11565f_0ae8_48e8_a066_569b84be461c"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVConfigSet","uuid":"9da256c1-17f2-4787-a501-f5b250fccce7"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"a2cd3e7a-d0a2-4dcc-9c3e-ef8ace710525","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"86730684_deployment","uuid":"b4f16742-83ea-4655-ad4c-b84f9a91cee5"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_9da256c1_17f2_4787_a501_f5b250fccce7","uuid":"4be5abd0-247c-4ad8-ba24-f0a0bb0d2e15"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Substrate_9da256c1_17f2_4787_a501_f5b250fccce7"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"86730684_deployment","uuid":"b4f16742-83ea-4655-ad4c-b84f9a91cee5"},"retries":"0","description":"","type":"DELETE_DEPLOYMENT_ELEMENT","uuid":"4ddd196e-1c01-4172-b6b1-304aefa02319","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Delete_b4f16742_83ea_4655_ad4c_b84f9a91cee5"}],"description":"","message_list":[],"uuid":"be7295fa-189f-4cc3-813f-3964971b3033","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_b4f16742_83ea_4655_ad4c_b84f9a91cee5","uuid":"47950e7a-5d90-4925-a695-2dda41e817c5"},"name":"SYS_GEN__Runbook_Deployment_b4f16742_83ea_4655_ad4c_b84f9a91cee5"}},{"description":"System action for scaleout","message_list":[],"uuid":"5dc2cafb-1470-4a3d-a2fd-0a2944c26a26","name":"action_scaleout","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"86730684_deployment","uuid":"b4f16742-83ea-4655-ad4c-b84f9a91cee5"},"retries":"0","description":"","type":"DAG","uuid":"500ff976-e0b4-4335-8e2e-286a25d45c06","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Deployment_Scaleout_b4f16742_83ea_4655_ad4c_b84f9a91cee5","uuid":"c2671db1-2398-408c-8ac6-f612d0f8f0a7"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_b4f16742_83ea_4655_ad4c_b84f9a91cee5"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"86730684_deployment","uuid":"b4f16742-83ea-4655-ad4c-b84f9a91cee5"},"retries":"0","description":"","type":"SCALING","uuid":"c2671db1-2398-408c-8ac6-f612d0f8f0a7","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{scaling_count}@@","type":"","scaling_type":"SCALEOUT"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Deployment_Scaleout_b4f16742_83ea_4655_ad4c_b84f9a91cee5"}],"description":"","message_list":[],"uuid":"a84d43a5-e172-4d45-a63b-fc274c3c3110","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"d37af2ed-a68a-4f18-a7ec-80d7b55c101a","value":"0","label":"","state":"NOT_VALIDATED","attrs":{},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"scaling_count"}],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_b4f16742_83ea_4655_ad4c_b84f9a91cee5","uuid":"500ff976-e0b4-4335-8e2e-286a25d45c06"},"name":"SYS_GEN__Runbook_Deployment_b4f16742_83ea_4655_ad4c_b84f9a91cee5"}},{"description":"System action for scalein","message_list":[],"uuid":"3dff444b-e82e-4121-ae6e-fa7f97c3b3e1","name":"action_scalein","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"86730684_deployment","uuid":"b4f16742-83ea-4655-ad4c-b84f9a91cee5"},"retries":"0","description":"","type":"DAG","uuid":"85ee9031-b4c6-40f7-97dd-2934e7edbc48","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Deployment_Scalein_b4f16742_83ea_4655_ad4c_b84f9a91cee5","uuid":"be74b539-7dea-45a8-ace8-1c19ec11c2ca"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_b4f16742_83ea_4655_ad4c_b84f9a91cee5"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"86730684_deployment","uuid":"b4f16742-83ea-4655-ad4c-b84f9a91cee5"},"retries":"0","description":"","type":"SCALING","uuid":"be74b539-7dea-45a8-ace8-1c19ec11c2ca","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{scaling_count}@@","type":"","scaling_type":"SCALEIN"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Deployment_Scalein_b4f16742_83ea_4655_ad4c_b84f9a91cee5"}],"description":"","message_list":[],"uuid":"8b58759c-b8ea-4f23-8f14-6033f625be93","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"4851d5dd-c6a8-49b8-abdb-70a06232b801","value":"0","label":"","state":"NOT_VALIDATED","attrs":{},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"scaling_count"}],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_b4f16742_83ea_4655_ad4c_b84f9a91cee5","uuid":"85ee9031-b4c6-40f7-97dd-2934e7edbc48"},"name":"SYS_GEN__Runbook_Deployment_b4f16742_83ea_4655_ad4c_b84f9a91cee5"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"26906b35-24e2-42e8-8e35-f48553b885cb","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"86730684_deployment","uuid":"b4f16742-83ea-4655-ad4c-b84f9a91cee5"},"retries":"0","description":"","type":"DAG","uuid":"5fa1acf6-3c42-4104-9c72-e7d4f3c08073","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"fe3c04aa-8053-4fa0-b93f-6cab1dfcf611"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_da11565f_0ae8_48e8_a066_569b84be461c","uuid":"0ecb06fd-9887-4798-b642-3fd84dda3bf0"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_9da256c1_17f2_4787_a501_f5b250fccce7","uuid":"3a115346-4bfe-4f7b-9c24-ff1f238a5b93"},{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_b4f16742_83ea_4655_ad4c_b84f9a91cee5","uuid":"51e2260a-4e94-4b48-81a0-b2b269327621"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"fe3c04aa-8053-4fa0-b93f-6cab1dfcf611"},"edge_type":"inherent","type":"","uuid":"8833f622-c978-411b-b27c-f75a695cc022","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_da11565f_0ae8_48e8_a066_569b84be461c","uuid":"0ecb06fd-9887-4798-b642-3fd84dda3bf0"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_9da256c1_17f2_4787_a501_f5b250fccce7","uuid":"3a115346-4bfe-4f7b-9c24-ff1f238a5b93"},"edge_type":"inherent","type":"","uuid":"04eb6886-78f8-4732-a762-4a90d0ac7e05","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_b4f16742_83ea_4655_ad4c_b84f9a91cee5","uuid":"51e2260a-4e94-4b48-81a0-b2b269327621"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_da11565f_0ae8_48e8_a066_569b84be461c","uuid":"0ecb06fd-9887-4798-b642-3fd84dda3bf0"},"edge_type":"inherent","type":"","uuid":"9fb9f5fc-9e6c-4761-895f-56a943412028","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_9da256c1_17f2_4787_a501_f5b250fccce7","uuid":"3a115346-4bfe-4f7b-9c24-ff1f238a5b93"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_b4f16742_83ea_4655_ad4c_b84f9a91cee5"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"fe3c04aa-8053-4fa0-b93f-6cab1dfcf611","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"86730684_deployment","uuid":"b4f16742-83ea-4655-ad4c-b84f9a91cee5"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"71c44ff6-8283-4578-8e15-dbf648d09ee4"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd"},{"target_any_local_reference":{"kind":"app_package","name":"AHVConfigSetPackage","uuid":"da11565f-0ae8-48e8-a066-569b84be461c"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"0ecb06fd-9887-4798-b642-3fd84dda3bf0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_da11565f_0ae8_48e8_a066_569b84be461c"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVConfigSet","uuid":"9da256c1-17f2-4787-a501-f5b250fccce7"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"3a115346-4bfe-4f7b-9c24-ff1f238a5b93","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"86730684_deployment","uuid":"b4f16742-83ea-4655-ad4c-b84f9a91cee5"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_9da256c1_17f2_4787_a501_f5b250fccce7","uuid":"b12b8baf-b3a6-48d8-a184-beac4602d6ed"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Substrate_9da256c1_17f2_4787_a501_f5b250fccce7"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"86730684_deployment","uuid":"b4f16742-83ea-4655-ad4c-b84f9a91cee5"},"retries":"0","description":"","type":"SOFT_DELETE_DEPLOYMENT_ELEMENT","uuid":"51e2260a-4e94-4b48-81a0-b2b269327621","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Soft_Delete_b4f16742_83ea_4655_ad4c_b84f9a91cee5"}],"description":"","message_list":[],"uuid":"784f24cf-16ca-46b6-9736-f8392c5cca50","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_b4f16742_83ea_4655_ad4c_b84f9a91cee5","uuid":"5fa1acf6-3c42-4104-9c72-e7d4f3c08073"},"name":"SYS_GEN__Runbook_Deployment_b4f16742_83ea_4655_ad4c_b84f9a91cee5"}}],"message_list":[],"published_service_local_reference_list":[],"uuid":"b4f16742-83ea-4655-ad4c-b84f9a91cee5","min_replicas":"3","state":"ACTIVE","max_replicas":"3","depends_on_list":[],"editables":{"min_replicas":true,"max_replicas":true},"package_local_reference_list":[{"kind":"app_package","name":"AHVConfigSetPackage","uuid":"da11565f-0ae8-48e8-a066-569b84be461c"}],"substrate_local_reference":{"kind":"app_substrate","name":"AHVConfigSet","uuid":"9da256c1-17f2-4787-a501-f5b250fccce7"},"type":"GREENFIELD","options":{},"variable_list":[],"name":"86730684_deployment"},{"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"26aee673-8f34-4c4f-9b67-87f4bc812176","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment","uuid":"5ec3de5b-7545-40af-b8c9-5a62a56a9453"},"retries":"0","description":"","type":"DAG","uuid":"2e5d4779-93b7-423d-80e2-496649b807eb","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__DE_Provision_5ec3de5b_7545_40af_b8c9_5a62a56a9453","uuid":"4e552a22-709a-4c99-9d01-411593b546ab"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_adee1967_610d_4f23_964b_6d9b24e27af2","uuid":"292489e1-1e02-4cc8-af21-811939581e6e"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_08c0cce6_3507_478b_8aff_abff38fc49ea","uuid":"0d78e010-66d3-4a4d-a8bb-a247c9ca5f1a"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_e4258915_bb88_40f3_b138_34102b8832b5","uuid":"b50f95eb-faa0-4846-8cad-a1844527f85f"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"07eec825-d3dd-446f-8b73-9ea926608eeb"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"1c6eff77-7399-4eb4-8877-ef2f1cf4ff72"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"07eec825-d3dd-446f-8b73-9ea926608eeb"},"edge_type":"inherent","type":"","uuid":"1d042ef9-0b15-4703-a33a-e256b2d6737b","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"1c6eff77-7399-4eb4-8877-ef2f1cf4ff72"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_e4258915_bb88_40f3_b138_34102b8832b5","uuid":"b50f95eb-faa0-4846-8cad-a1844527f85f"},"edge_type":"inherent","type":"","uuid":"3e04f194-fb9b-4921-b671-e90bfb28bd45","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"07eec825-d3dd-446f-8b73-9ea926608eeb"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_08c0cce6_3507_478b_8aff_abff38fc49ea","uuid":"0d78e010-66d3-4a4d-a8bb-a247c9ca5f1a"},"edge_type":"inherent","type":"","uuid":"0870d654-5ccd-4f3b-84d4-795984ca44d7","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_e4258915_bb88_40f3_b138_34102b8832b5","uuid":"b50f95eb-faa0-4846-8cad-a1844527f85f"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_5ec3de5b_7545_40af_b8c9_5a62a56a9453","uuid":"4e552a22-709a-4c99-9d01-411593b546ab"},"edge_type":"inherent","type":"","uuid":"1b69be47-f9cc-4006-b443-2f8ecd7cc56e","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_08c0cce6_3507_478b_8aff_abff38fc49ea","uuid":"0d78e010-66d3-4a4d-a8bb-a247c9ca5f1a"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_adee1967_610d_4f23_964b_6d9b24e27af2","uuid":"292489e1-1e02-4cc8-af21-811939581e6e"},"edge_type":"inherent","type":"","uuid":"37f8150d-ef33-43d5-99e7-12546793c072","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_08c0cce6_3507_478b_8aff_abff38fc49ea","uuid":"0d78e010-66d3-4a4d-a8bb-a247c9ca5f1a"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_5ec3de5b_7545_40af_b8c9_5a62a56a9453","uuid":"4e552a22-709a-4c99-9d01-411593b546ab"},"edge_type":"inherent","type":"","uuid":"cd7f2637-0f7b-4dce-90f0-83d4d7b04170","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_adee1967_610d_4f23_964b_6d9b24e27af2","uuid":"292489e1-1e02-4cc8-af21-811939581e6e"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_5ec3de5b_7545_40af_b8c9_5a62a56a9453"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment","uuid":"5ec3de5b-7545-40af-b8c9-5a62a56a9453"},"retries":"0","description":"","type":"CREATE_DEPLOYMENT_ELEMENT","uuid":"4e552a22-709a-4c99-9d01-411593b546ab","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Provision_5ec3de5b_7545_40af_b8c9_5a62a56a9453"},{"target_any_local_reference":{"kind":"app_package","name":"AHV_CENTOS_76","uuid":"adee1967-610d-4f23-964b-6d9b24e27af2"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"292489e1-1e02-4cc8-af21-811939581e6e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment","uuid":"5ec3de5b-7545-40af-b8c9-5a62a56a9453"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_adee1967_610d_4f23_964b_6d9b24e27af2","uuid":"f4fe8fda-b03b-40b2-be86-03a535882e58"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_adee1967_610d_4f23_964b_6d9b24e27af2"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVDataSet","uuid":"08c0cce6-3507-478b-8aff-abff38fc49ea"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"0d78e010-66d3-4a4d-a8bb-a247c9ca5f1a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment","uuid":"5ec3de5b-7545-40af-b8c9-5a62a56a9453"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_08c0cce6_3507_478b_8aff_abff38fc49ea","uuid":"1f38ea12-3794-4347-81de-66d6fb838d75"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Substrate_08c0cce6_3507_478b_8aff_abff38fc49ea"},{"target_any_local_reference":{"kind":"app_package","name":"AHVDataSetPackage","uuid":"e4258915-bb88-40f3-b138-34102b8832b5"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"b50f95eb-faa0-4846-8cad-a1844527f85f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment","uuid":"5ec3de5b-7545-40af-b8c9-5a62a56a9453"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_e4258915_bb88_40f3_b138_34102b8832b5","uuid":"53348729-3a63-427e-8217-f5b39b374ad9"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_e4258915_bb88_40f3_b138_34102b8832b5"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"07eec825-d3dd-446f-8b73-9ea926608eeb","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment","uuid":"5ec3de5b-7545-40af-b8c9-5a62a56a9453"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0bda2b69_runbook","uuid":"c08988e8-53fc-48b3-942d-00d118016989"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"1c6eff77-7399-4eb4-8877-ef2f1cf4ff72","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment","uuid":"5ec3de5b-7545-40af-b8c9-5a62a56a9453"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0f1333dd_runbook","uuid":"43f16a26-e0b7-42a9-b2de-6e6d4147d381"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47"}],"description":"","message_list":[],"uuid":"1aab8915-a875-4f4a-b8dd-72ee992d5a4d","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_5ec3de5b_7545_40af_b8c9_5a62a56a9453","uuid":"2e5d4779-93b7-423d-80e2-496649b807eb"},"name":"SYS_GEN__Runbook_Deployment_5ec3de5b_7545_40af_b8c9_5a62a56a9453"}},{"description":"System action for starting an application","message_list":[],"uuid":"6bed979a-777f-4f27-962e-18f79de92f1b","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment","uuid":"5ec3de5b-7545-40af-b8c9-5a62a56a9453"},"retries":"0","description":"","type":"DAG","uuid":"0c92e26b-2d63-4b48-b238-76dad3ed41b0","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_08c0cce6_3507_478b_8aff_abff38fc49ea","uuid":"630eac07-c749-42c3-b972-7a4ee3d78fd5"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"f4322051-9141-4a80-b530-d19b93f74504"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_08c0cce6_3507_478b_8aff_abff38fc49ea","uuid":"630eac07-c749-42c3-b972-7a4ee3d78fd5"},"edge_type":"inherent","type":"","uuid":"4ebabe95-bcec-4ec0-90ed-eff7f96b107f","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"f4322051-9141-4a80-b530-d19b93f74504"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_5ec3de5b_7545_40af_b8c9_5a62a56a9453"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVDataSet","uuid":"08c0cce6-3507-478b-8aff-abff38fc49ea"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"630eac07-c749-42c3-b972-7a4ee3d78fd5","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment","uuid":"5ec3de5b-7545-40af-b8c9-5a62a56a9453"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_08c0cce6_3507_478b_8aff_abff38fc49ea","uuid":"52eee603-4f64-4537-83b5-dd746f45b5d9"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Substrate_08c0cce6_3507_478b_8aff_abff38fc49ea"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"f4322051-9141-4a80-b530-d19b93f74504","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment","uuid":"5ec3de5b-7545-40af-b8c9-5a62a56a9453"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0f1333dd_runbook","uuid":"43f16a26-e0b7-42a9-b2de-6e6d4147d381"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47"}],"description":"","message_list":[],"uuid":"940579fb-e6c9-4143-8f53-b87a26422009","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_5ec3de5b_7545_40af_b8c9_5a62a56a9453","uuid":"0c92e26b-2d63-4b48-b238-76dad3ed41b0"},"name":"SYS_GEN__Runbook_Deployment_5ec3de5b_7545_40af_b8c9_5a62a56a9453"}},{"description":"System action for restarting an application","message_list":[],"uuid":"dd35a064-1255-489c-8ffd-8dfcaab46786","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment","uuid":"5ec3de5b-7545-40af-b8c9-5a62a56a9453"},"retries":"0","description":"","type":"DAG","uuid":"2985b5b5-6b60-4407-8a3b-18a0f68e8b36","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_08c0cce6_3507_478b_8aff_abff38fc49ea","uuid":"0f62abee-b60b-4def-b957-2f03a88bd380"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"0faee15c-f7d2-4331-bf05-a61ecda91503"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_08c0cce6_3507_478b_8aff_abff38fc49ea","uuid":"0f62abee-b60b-4def-b957-2f03a88bd380"},"edge_type":"inherent","type":"","uuid":"97f7ca7c-254b-47b4-8b41-954d7012ccec","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"0faee15c-f7d2-4331-bf05-a61ecda91503"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_5ec3de5b_7545_40af_b8c9_5a62a56a9453"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVDataSet","uuid":"08c0cce6-3507-478b-8aff-abff38fc49ea"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"0f62abee-b60b-4def-b957-2f03a88bd380","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment","uuid":"5ec3de5b-7545-40af-b8c9-5a62a56a9453"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_08c0cce6_3507_478b_8aff_abff38fc49ea","uuid":"b9b8d72b-0250-4598-a278-6dc166bd7a91"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Substrate_08c0cce6_3507_478b_8aff_abff38fc49ea"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"0faee15c-f7d2-4331-bf05-a61ecda91503","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment","uuid":"5ec3de5b-7545-40af-b8c9-5a62a56a9453"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"4f7b2559_runbook","uuid":"03856e37-e1bf-4b7c-95bb-87bf81c6c940"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47"}],"description":"","message_list":[],"uuid":"e068c17d-bf98-42d8-8aba-d2e8bbef20a9","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_5ec3de5b_7545_40af_b8c9_5a62a56a9453","uuid":"2985b5b5-6b60-4407-8a3b-18a0f68e8b36"},"name":"SYS_GEN__Runbook_Deployment_5ec3de5b_7545_40af_b8c9_5a62a56a9453"}},{"description":"System action for stopping an application","message_list":[],"uuid":"cfe04b5a-4445-4245-9deb-a36c441e470e","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment","uuid":"5ec3de5b-7545-40af-b8c9-5a62a56a9453"},"retries":"0","description":"","type":"DAG","uuid":"110fe16f-1a5e-4d26-b632-ef0ace381eb1","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"92903020-5846-4fa9-b4c8-d2584317bfad"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_08c0cce6_3507_478b_8aff_abff38fc49ea","uuid":"7f9bda04-dfd9-48a2-ad4d-665b40c43f9a"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"92903020-5846-4fa9-b4c8-d2584317bfad"},"edge_type":"inherent","type":"","uuid":"6c22083c-5a09-4e01-8a7a-e903669e477d","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_08c0cce6_3507_478b_8aff_abff38fc49ea","uuid":"7f9bda04-dfd9-48a2-ad4d-665b40c43f9a"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_5ec3de5b_7545_40af_b8c9_5a62a56a9453"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"92903020-5846-4fa9-b4c8-d2584317bfad","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment","uuid":"5ec3de5b-7545-40af-b8c9-5a62a56a9453"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"85883b0a_runbook","uuid":"42cf4c9d-d9e5-435e-b222-f2d33a05683f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVDataSet","uuid":"08c0cce6-3507-478b-8aff-abff38fc49ea"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"7f9bda04-dfd9-48a2-ad4d-665b40c43f9a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment","uuid":"5ec3de5b-7545-40af-b8c9-5a62a56a9453"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_08c0cce6_3507_478b_8aff_abff38fc49ea","uuid":"655fbe3c-2444-480e-b2c8-e819a34cc2af"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Substrate_08c0cce6_3507_478b_8aff_abff38fc49ea"}],"description":"","message_list":[],"uuid":"a1aaa563-1df1-4f27-8182-cbf1dc1e160d","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_5ec3de5b_7545_40af_b8c9_5a62a56a9453","uuid":"110fe16f-1a5e-4d26-b632-ef0ace381eb1"},"name":"SYS_GEN__Runbook_Deployment_5ec3de5b_7545_40af_b8c9_5a62a56a9453"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"4f31013a-534f-4008-8c49-56b2f9c7e5fd","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment","uuid":"5ec3de5b-7545-40af-b8c9-5a62a56a9453"},"retries":"0","description":"","type":"DAG","uuid":"33836d1a-b61b-4470-8db2-be04b8854385","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"b29a744f-45cb-4100-8075-a51941747441"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"17a05663-b835-4deb-b27e-b5c28bec8feb"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_e4258915_bb88_40f3_b138_34102b8832b5","uuid":"97108f64-0fe9-4a45-b426-0225368e9ec2"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_08c0cce6_3507_478b_8aff_abff38fc49ea","uuid":"24bf40c8-95b5-4571-81a2-6c96fe10a4a8"},{"kind":"app_task","name":"SYS_GEN__DE_Delete_5ec3de5b_7545_40af_b8c9_5a62a56a9453","uuid":"b1b8b8f3-5bc3-46ad-9b73-530c005cca45"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"b29a744f-45cb-4100-8075-a51941747441"},"edge_type":"inherent","type":"","uuid":"7d1e61fc-f113-441d-8356-9f023a14dd92","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"17a05663-b835-4deb-b27e-b5c28bec8feb"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"17a05663-b835-4deb-b27e-b5c28bec8feb"},"edge_type":"inherent","type":"","uuid":"7b496105-b8a3-405c-8632-0a8e02585822","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_e4258915_bb88_40f3_b138_34102b8832b5","uuid":"97108f64-0fe9-4a45-b426-0225368e9ec2"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_08c0cce6_3507_478b_8aff_abff38fc49ea","uuid":"24bf40c8-95b5-4571-81a2-6c96fe10a4a8"},"edge_type":"inherent","type":"","uuid":"d74597d8-4bf3-4fdb-af1b-2e39fe25f16a","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Delete_5ec3de5b_7545_40af_b8c9_5a62a56a9453","uuid":"b1b8b8f3-5bc3-46ad-9b73-530c005cca45"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_e4258915_bb88_40f3_b138_34102b8832b5","uuid":"97108f64-0fe9-4a45-b426-0225368e9ec2"},"edge_type":"inherent","type":"","uuid":"a91351f5-eed8-45e8-a593-2803f1357154","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_08c0cce6_3507_478b_8aff_abff38fc49ea","uuid":"24bf40c8-95b5-4571-81a2-6c96fe10a4a8"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_5ec3de5b_7545_40af_b8c9_5a62a56a9453"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"b29a744f-45cb-4100-8075-a51941747441","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment","uuid":"5ec3de5b-7545-40af-b8c9-5a62a56a9453"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"85883b0a_runbook","uuid":"42cf4c9d-d9e5-435e-b222-f2d33a05683f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"17a05663-b835-4deb-b27e-b5c28bec8feb","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment","uuid":"5ec3de5b-7545-40af-b8c9-5a62a56a9453"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"036f3879_runbook","uuid":"c6545ccb-d141-45bd-bf59-cf1e44946785"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47"},{"target_any_local_reference":{"kind":"app_package","name":"AHVDataSetPackage","uuid":"e4258915-bb88-40f3-b138-34102b8832b5"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"97108f64-0fe9-4a45-b426-0225368e9ec2","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment","uuid":"5ec3de5b-7545-40af-b8c9-5a62a56a9453"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_e4258915_bb88_40f3_b138_34102b8832b5","uuid":"bba437f8-e577-4c53-884b-3e88581b60c6"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_e4258915_bb88_40f3_b138_34102b8832b5"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVDataSet","uuid":"08c0cce6-3507-478b-8aff-abff38fc49ea"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"24bf40c8-95b5-4571-81a2-6c96fe10a4a8","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment","uuid":"5ec3de5b-7545-40af-b8c9-5a62a56a9453"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_08c0cce6_3507_478b_8aff_abff38fc49ea","uuid":"7386e339-8f83-40bc-b7c8-cd86fd430338"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Substrate_08c0cce6_3507_478b_8aff_abff38fc49ea"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment","uuid":"5ec3de5b-7545-40af-b8c9-5a62a56a9453"},"retries":"0","description":"","type":"DELETE_DEPLOYMENT_ELEMENT","uuid":"b1b8b8f3-5bc3-46ad-9b73-530c005cca45","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Delete_5ec3de5b_7545_40af_b8c9_5a62a56a9453"}],"description":"","message_list":[],"uuid":"7f29616c-163d-40ca-b509-36a0b209187a","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_5ec3de5b_7545_40af_b8c9_5a62a56a9453","uuid":"33836d1a-b61b-4470-8db2-be04b8854385"},"name":"SYS_GEN__Runbook_Deployment_5ec3de5b_7545_40af_b8c9_5a62a56a9453"}},{"description":"System action for scaleout","message_list":[],"uuid":"34cfe4ab-87c0-48f9-82bf-48676eaea65c","name":"action_scaleout","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment","uuid":"5ec3de5b-7545-40af-b8c9-5a62a56a9453"},"retries":"0","description":"","type":"DAG","uuid":"ebaa1a94-b75c-4ef7-a32c-4f30666ef720","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Deployment_Scaleout_5ec3de5b_7545_40af_b8c9_5a62a56a9453","uuid":"ef5e4f50-18ac-4692-aada-44dbbcef736b"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_5ec3de5b_7545_40af_b8c9_5a62a56a9453"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment","uuid":"5ec3de5b-7545-40af-b8c9-5a62a56a9453"},"retries":"0","description":"","type":"SCALING","uuid":"ef5e4f50-18ac-4692-aada-44dbbcef736b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{scaling_count}@@","type":"","scaling_type":"SCALEOUT"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Deployment_Scaleout_5ec3de5b_7545_40af_b8c9_5a62a56a9453"}],"description":"","message_list":[],"uuid":"b746d5b9-39e7-4d5a-9d73-b0800342137a","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"084b75f6-0ae8-4f84-bc0c-8e8a2d387376","value":"0","label":"","state":"NOT_VALIDATED","attrs":{},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"scaling_count"}],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_5ec3de5b_7545_40af_b8c9_5a62a56a9453","uuid":"ebaa1a94-b75c-4ef7-a32c-4f30666ef720"},"name":"SYS_GEN__Runbook_Deployment_5ec3de5b_7545_40af_b8c9_5a62a56a9453"}},{"description":"System action for scalein","message_list":[],"uuid":"a69f7ce4-8495-414f-982e-8903e89b72ff","name":"action_scalein","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment","uuid":"5ec3de5b-7545-40af-b8c9-5a62a56a9453"},"retries":"0","description":"","type":"DAG","uuid":"a35ad1cd-5714-4e9f-be5a-9dbcd371a780","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Deployment_Scalein_5ec3de5b_7545_40af_b8c9_5a62a56a9453","uuid":"646606fd-f2e4-4f92-b9f3-84c98473a6e8"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_5ec3de5b_7545_40af_b8c9_5a62a56a9453"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment","uuid":"5ec3de5b-7545-40af-b8c9-5a62a56a9453"},"retries":"0","description":"","type":"SCALING","uuid":"646606fd-f2e4-4f92-b9f3-84c98473a6e8","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{scaling_count}@@","type":"","scaling_type":"SCALEIN"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Deployment_Scalein_5ec3de5b_7545_40af_b8c9_5a62a56a9453"}],"description":"","message_list":[],"uuid":"52e4ff27-c252-49d8-8bee-d9520d88aef4","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"8aa5c3d7-6190-4e3f-b74d-d46f540ea133","value":"0","label":"","state":"NOT_VALIDATED","attrs":{},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"scaling_count"}],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_5ec3de5b_7545_40af_b8c9_5a62a56a9453","uuid":"a35ad1cd-5714-4e9f-be5a-9dbcd371a780"},"name":"SYS_GEN__Runbook_Deployment_5ec3de5b_7545_40af_b8c9_5a62a56a9453"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"5d32e237-8704-46ed-bae5-220f901f0122","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment","uuid":"5ec3de5b-7545-40af-b8c9-5a62a56a9453"},"retries":"0","description":"","type":"DAG","uuid":"3c681029-b94e-49ed-a7f4-548417cb357e","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"e0d2961a-aada-454b-8bae-ba1161f35f1d"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_e4258915_bb88_40f3_b138_34102b8832b5","uuid":"c854cd38-3577-41a6-b30a-9911210598d7"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_08c0cce6_3507_478b_8aff_abff38fc49ea","uuid":"119d030e-05c0-4d4d-a08d-331d43592449"},{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_5ec3de5b_7545_40af_b8c9_5a62a56a9453","uuid":"cb1109c6-b2a2-475a-b5d8-90763c844b86"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"e0d2961a-aada-454b-8bae-ba1161f35f1d"},"edge_type":"inherent","type":"","uuid":"08fd192c-45cd-4163-aa9b-41f6e5bdde79","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_e4258915_bb88_40f3_b138_34102b8832b5","uuid":"c854cd38-3577-41a6-b30a-9911210598d7"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_08c0cce6_3507_478b_8aff_abff38fc49ea","uuid":"119d030e-05c0-4d4d-a08d-331d43592449"},"edge_type":"inherent","type":"","uuid":"bb13d06c-4f9d-459e-a3f3-a45b3708a658","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_5ec3de5b_7545_40af_b8c9_5a62a56a9453","uuid":"cb1109c6-b2a2-475a-b5d8-90763c844b86"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_e4258915_bb88_40f3_b138_34102b8832b5","uuid":"c854cd38-3577-41a6-b30a-9911210598d7"},"edge_type":"inherent","type":"","uuid":"b6765e1a-3b89-447d-9832-ea2ccbf7fea9","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_08c0cce6_3507_478b_8aff_abff38fc49ea","uuid":"119d030e-05c0-4d4d-a08d-331d43592449"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_5ec3de5b_7545_40af_b8c9_5a62a56a9453"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"e0d2961a-aada-454b-8bae-ba1161f35f1d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment","uuid":"5ec3de5b-7545-40af-b8c9-5a62a56a9453"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"433fbe65-0fc7-4649-a088-87d5660f88a6"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47"},{"target_any_local_reference":{"kind":"app_package","name":"AHVDataSetPackage","uuid":"e4258915-bb88-40f3-b138-34102b8832b5"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"c854cd38-3577-41a6-b30a-9911210598d7","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_e4258915_bb88_40f3_b138_34102b8832b5"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVDataSet","uuid":"08c0cce6-3507-478b-8aff-abff38fc49ea"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"119d030e-05c0-4d4d-a08d-331d43592449","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment","uuid":"5ec3de5b-7545-40af-b8c9-5a62a56a9453"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_08c0cce6_3507_478b_8aff_abff38fc49ea","uuid":"142a8576-e99d-4164-a4ae-356279683990"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Substrate_08c0cce6_3507_478b_8aff_abff38fc49ea"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment","uuid":"5ec3de5b-7545-40af-b8c9-5a62a56a9453"},"retries":"0","description":"","type":"SOFT_DELETE_DEPLOYMENT_ELEMENT","uuid":"cb1109c6-b2a2-475a-b5d8-90763c844b86","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Soft_Delete_5ec3de5b_7545_40af_b8c9_5a62a56a9453"}],"description":"","message_list":[],"uuid":"4ae02baf-68df-48af-a6ab-32318e444374","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_5ec3de5b_7545_40af_b8c9_5a62a56a9453","uuid":"3c681029-b94e-49ed-a7f4-548417cb357e"},"name":"SYS_GEN__Runbook_Deployment_5ec3de5b_7545_40af_b8c9_5a62a56a9453"}}],"message_list":[],"published_service_local_reference_list":[],"uuid":"5ec3de5b-7545-40af-b8c9-5a62a56a9453","min_replicas":"3","state":"ACTIVE","max_replicas":"9","depends_on_list":[],"editables":{"min_replicas":true,"max_replicas":true},"package_local_reference_list":[{"kind":"app_package","name":"AHVDataSetPackage","uuid":"e4258915-bb88-40f3-b138-34102b8832b5"}],"substrate_local_reference":{"kind":"app_substrate","name":"AHVDataSet","uuid":"08c0cce6-3507-478b-8aff-abff38fc49ea"},"type":"GREENFIELD","options":{},"variable_list":[],"name":"fc5d23e3_deployment"}],"description":"","action_list":[{"description":"","message_list":[],"uuid":"f2416529-9d7b-42cd-9eb2-cf34d029eeda","name":"ScaleOut","state":"ACTIVE","critical":false,"attrs":{},"type":"user","runbook":{"task_definition_list":[{"retries":"0","description":"","type":"DAG","uuid":"5e80cf34-39e1-4b26-a492-49fc96ddaaf9","child_tasks_local_reference_list":[{"kind":"app_task","name":"Scale Out","uuid":"8cd89ffd-b3fc-458d-9576-53deb3b7de12"},{"kind":"app_task","name":"AddNewShard","uuid":"f24004bc-1154-46d3-bd0e-635ddb0f122c"},{"kind":"app_task","name":"SetHostsFile2","uuid":"ffc7934e-fe13-4055-8018-02f7b821ac2c"},{"kind":"app_task","name":"SetHostsFile1","uuid":"dc68d118-92b8-4988-886c-b9564e8e2f70"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Scale Out","uuid":"8cd89ffd-b3fc-458d-9576-53deb3b7de12"},"edge_type":"user_defined","type":"","uuid":"0ef1248d-4a95-4be3-ac5c-197128696f24","to_task_reference":{"kind":"app_task","name":"AddNewShard","uuid":"f24004bc-1154-46d3-bd0e-635ddb0f122c"}},{"from_task_reference":{"kind":"app_task","name":"Scale Out","uuid":"8cd89ffd-b3fc-458d-9576-53deb3b7de12"},"edge_type":"user_defined","type":"","uuid":"4bb6b82e-8068-47a0-9e2f-9d59e6d722fd","to_task_reference":{"kind":"app_task","name":"SetHostsFile2","uuid":"ffc7934e-fe13-4055-8018-02f7b821ac2c"}},{"from_task_reference":{"kind":"app_task","name":"Scale Out","uuid":"8cd89ffd-b3fc-458d-9576-53deb3b7de12"},"edge_type":"user_defined","type":"","uuid":"7dd2faf4-202a-440a-a2a7-bbfdd97f257f","to_task_reference":{"kind":"app_task","name":"SetHostsFile1","uuid":"dc68d118-92b8-4988-886c-b9564e8e2f70"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"c03e1222_dag"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment","uuid":"5ec3de5b-7545-40af-b8c9-5a62a56a9453"},"retries":"0","description":"","type":"SCALING","uuid":"8cd89ffd-b3fc-458d-9576-53deb3b7de12","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{NODES_PER_REPLICA_SET}@@","type":"","scaling_type":"SCALEOUT"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Scale Out"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"EXEC","uuid":"f24004bc-1154-46d3-bd0e-635ddb0f122c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\ncat > \/tmp\/set-hostnames.py <<EOF\n#!\/usr\/bin\/python\nimport re\nconfig_ips=\"@@{AHVConfigSet.address}@@\"\ndata_ips=\"@@{AHVDataSet.address}@@\"\nrouter_ips=\"@@{calm_array_address}@@\"\n\nhostfile = open('\/etc\/hosts', 'r').read()\nprint hostfile\nhostfile = re.sub('\\n#MONGODB-BEGIN.*?#MONGODB-END', '', hostfile, flags=re.DOTALL)\nhostfile += \"#MONGODB-BEGIN\\n\"\ncount=1\nfor ip in config_ips.split(','):\n  hostfile += ip + \" config\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in data_ips.split(','):\n  hostfile += ip + \" data\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in router_ips.split(','):\n  hostfile += ip + \" router\" + str(count) + \".mongodb\\n\"\n  count += 1\nhostfile += \"#MONGODB-END\\n\"\nopen('\/etc\/hosts', 'w').write(hostfile)\nEOF\n\nsudo python \/tmp\/set-hostnames.py\n\nNODES_PER_REPLICA_SET=\"@@{NODES_PER_REPLICA_SET}@@\"\nINTERNAL_IP=\"@@{address}@@\"\nREPLICA_IPS=($(echo @@{DataSet.address}@@ | sed 's\/^,\/\/' | sed 's\/,$\/\/' | tr \",\" \"\\n\"))\nnoOfShards=$((${#REPLICA_IPS[@]}\/${NODES_PER_REPLICA_SET}))\n\ncount=0\nfor ((number=1;number <= $noOfShards;number++))\ndo\n  replicaSetName=\"dataReplSet${number}\"\n  sudo mongo --host ${INTERNAL_IP} --port 27017 --eval \"sh.addShard( \\\"$replicaSetName\/${REPLICA_IPS[${count}]}:27017\\\" )\"\n  count=$(($count + ${NODES_PER_REPLICA_SET}))\ndone","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"43f2dfc8-f9f0-4085-9434-cf67cd57cdae"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"AddNewShard"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"EXEC","uuid":"ffc7934e-fe13-4055-8018-02f7b821ac2c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\ncat > \/tmp\/set-hostnames.py <<EOF\n#!\/usr\/bin\/python\nimport re\nconfig_ips=\"@@{calm_array_address}@@\"\ndata_ips=\"@@{AHVDataSet.address}@@\"\nrouter_ips=\"@@{AHVRouter.address}@@\"\n\nhostfile = open('\/etc\/hosts', 'r').read()\nprint hostfile\nhostfile = re.sub('\\n#MONGODB-BEGIN.*?#MONGODB-END', '', hostfile, flags=re.DOTALL)\nhostfile += \"#MONGODB-BEGIN\\n\"\ncount=1\nfor ip in config_ips.split(','):\n  hostfile += ip + \" config\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in data_ips.split(','):\n  hostfile += ip + \" data\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in router_ips.split(','):\n  hostfile += ip + \" router\" + str(count) + \".mongodb\\n\"\n  count += 1\nhostfile += \"#MONGODB-END\\n\"\nopen('\/etc\/hosts', 'w').write(hostfile)\nEOF\n\nsudo python \/tmp\/set-hostnames.py"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SetHostsFile2"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"EXEC","uuid":"dc68d118-92b8-4988-886c-b9564e8e2f70","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\ncat > \/tmp\/set-hostnames.py <<EOF\n#!\/usr\/bin\/python\nimport re\nconfig_ips=\"@@{AHVConfigSet.address}@@\"\ndata_ips=\"@@{calm_array_address}@@\"\nrouter_ips=\"@@{AHVRouter.address}@@\"\n\nhostfile = open('\/etc\/hosts', 'r').read()\nprint hostfile\nhostfile = re.sub('\\n#MONGODB-BEGIN.*?#MONGODB-END', '', hostfile, flags=re.DOTALL)\nhostfile += \"#MONGODB-BEGIN\\n\"\ncount=1\nfor ip in config_ips.split(','):\n  hostfile += ip + \" config\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in data_ips.split(','):\n  hostfile += ip + \" data\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in router_ips.split(','):\n  hostfile += ip + \" router\" + str(count) + \".mongodb\\n\"\n  count += 1\nhostfile += \"#MONGODB-END\\n\"\nopen('\/etc\/hosts', 'w').write(hostfile)\nEOF\n\nsudo python \/tmp\/set-hostnames.py"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SetHostsFile1"}],"description":"","message_list":[],"uuid":"4b37f781-7cbe-4b69-9cfb-1c038658bda0","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"c03e1222_dag","uuid":"5e80cf34-39e1-4b26-a492-49fc96ddaaf9"},"name":"f0b90ba7_runbook"}},{"description":"","message_list":[],"uuid":"58f4d88d-e198-440e-a857-822d557295e0","name":"ScaleIn","state":"ACTIVE","critical":false,"attrs":{},"type":"user","runbook":{"task_definition_list":[{"retries":"0","description":"","type":"DAG","uuid":"bec44b43-d263-4a7e-bb3d-4ad93889a8fe","child_tasks_local_reference_list":[{"kind":"app_task","name":"Scale In","uuid":"e406b44a-3d7f-4938-bc56-37020c2b5bba"},{"kind":"app_task","name":"SetHostsFile3","uuid":"639007c3-4fbe-4dcc-9666-b17aee6c8d78"},{"kind":"app_task","name":"SetHostsFile1","uuid":"85198549-04fb-4e36-a5a4-9ebf3fa842ea"},{"kind":"app_task","name":"SetHostsFile2","uuid":"1912c706-7e19-495c-8a01-ba3d2b0219f0"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Scale In","uuid":"e406b44a-3d7f-4938-bc56-37020c2b5bba"},"edge_type":"user_defined","type":"","uuid":"4a196834-fc1c-4ca3-989a-41558762ea92","to_task_reference":{"kind":"app_task","name":"SetHostsFile3","uuid":"639007c3-4fbe-4dcc-9666-b17aee6c8d78"}},{"from_task_reference":{"kind":"app_task","name":"Scale In","uuid":"e406b44a-3d7f-4938-bc56-37020c2b5bba"},"edge_type":"user_defined","type":"","uuid":"69fcf552-92bb-4fcb-bd1d-344ba94cb7de","to_task_reference":{"kind":"app_task","name":"SetHostsFile1","uuid":"85198549-04fb-4e36-a5a4-9ebf3fa842ea"}},{"from_task_reference":{"kind":"app_task","name":"Scale In","uuid":"e406b44a-3d7f-4938-bc56-37020c2b5bba"},"edge_type":"user_defined","type":"","uuid":"4d2920b8-5da9-4d11-9b2a-002b24d62907","to_task_reference":{"kind":"app_task","name":"SetHostsFile2","uuid":"1912c706-7e19-495c-8a01-ba3d2b0219f0"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"c90468d9_dag"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment","uuid":"5ec3de5b-7545-40af-b8c9-5a62a56a9453"},"retries":"0","description":"","type":"SCALING","uuid":"e406b44a-3d7f-4938-bc56-37020c2b5bba","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{NODES_PER_REPLICA_SET}@@","type":"","scaling_type":"SCALEIN"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Scale In"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"EXEC","uuid":"639007c3-4fbe-4dcc-9666-b17aee6c8d78","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\ncat > \/tmp\/set-hostnames.py <<EOF\n#!\/usr\/bin\/python\nimport re\nconfig_ips=\"@@{AHVConfigSet.address}@@\"\ndata_ips=\"@@{calm_array_address}@@\"\nrouter_ips=\"@@{AHVRouter.address}@@\"\n\nhostfile = open('\/etc\/hosts', 'r').read()\nprint hostfile\nhostfile = re.sub('\\n#MONGODB-BEGIN.*?#MONGODB-END', '', hostfile, flags=re.DOTALL)\nhostfile += \"#MONGODB-BEGIN\\n\"\ncount=1\nfor ip in config_ips.split(','):\n  hostfile += ip + \" config\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in data_ips.split(','):\n  hostfile += ip + \" data\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in router_ips.split(','):\n  hostfile += ip + \" router\" + str(count) + \".mongodb\\n\"\n  count += 1\nhostfile += \"#MONGODB-END\\n\"\nopen('\/etc\/hosts', 'w').write(hostfile)\nEOF\n\nsudo python \/tmp\/set-hostnames.py"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SetHostsFile3"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"EXEC","uuid":"85198549-04fb-4e36-a5a4-9ebf3fa842ea","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\ncat > \/tmp\/set-hostnames.py <<EOF\n#!\/usr\/bin\/python\nimport re\nconfig_ips=\"@@{AHVConfigSet.address}@@\"\ndata_ips=\"@@{AHVDataSet.address}@@\"\nrouter_ips=\"@@{calm_array_address}@@\"\n\nhostfile = open('\/etc\/hosts', 'r').read()\nprint hostfile\nhostfile = re.sub('\\n#MONGODB-BEGIN.*?#MONGODB-END', '', hostfile, flags=re.DOTALL)\nhostfile += \"#MONGODB-BEGIN\\n\"\ncount=1\nfor ip in config_ips.split(','):\n  hostfile += ip + \" config\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in data_ips.split(','):\n  hostfile += ip + \" data\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in router_ips.split(','):\n  hostfile += ip + \" router\" + str(count) + \".mongodb\\n\"\n  count += 1\nhostfile += \"#MONGODB-END\\n\"\nopen('\/etc\/hosts', 'w').write(hostfile)\nEOF\n\nsudo python \/tmp\/set-hostnames.py"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SetHostsFile1"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"EXEC","uuid":"1912c706-7e19-495c-8a01-ba3d2b0219f0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\ncat > \/tmp\/set-hostnames.py <<EOF\n#!\/usr\/bin\/python\nimport re\nconfig_ips=\"@@{calm_array_address}@@\"\ndata_ips=\"@@{AHVDataSet.address}@@\"\nrouter_ips=\"@@{AHVRouter.address}@@\"\n\nhostfile = open('\/etc\/hosts', 'r').read()\nprint hostfile\nhostfile = re.sub('\\n#MONGODB-BEGIN.*?#MONGODB-END', '', hostfile, flags=re.DOTALL)\nhostfile += \"#MONGODB-BEGIN\\n\"\ncount=1\nfor ip in config_ips.split(','):\n  hostfile += ip + \" config\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in data_ips.split(','):\n  hostfile += ip + \" data\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in router_ips.split(','):\n  hostfile += ip + \" router\" + str(count) + \".mongodb\\n\"\n  count += 1\nhostfile += \"#MONGODB-END\\n\"\nopen('\/etc\/hosts', 'w').write(hostfile)\nEOF\n\nsudo python \/tmp\/set-hostnames.py"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SetHostsFile2"}],"description":"","message_list":[],"uuid":"3c6f36dc-0463-416e-9803-291221c9717c","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"a594a3a8-c720-4eac-b0ff-db16ac4abdb6","value":"","label":"","state":"ACTIVE","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"SHARD_TO_MOVE"}],"main_task_local_reference":{"kind":"app_task","name":"c90468d9_dag","uuid":"bec44b43-d263-4a7e-bb3d-4ad93889a8fe"},"name":"d27541f5_runbook"}},{"description":"System action for creating an application","message_list":[],"uuid":"61ff637e-14de-4463-a9ec-bfbe3b9294c8","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"Nutanix","uuid":"ddef2352-c753-476e-8dff-ec9ec56a2872"},"retries":"0","description":"","type":"DAG","uuid":"40c19c54-b5e7-4d16-b382-d002bf3f8e6f","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__DE_Provision_5ec3de5b_7545_40af_b8c9_5a62a56a9453","uuid":"e021f4a5-d728-49d0-b88a-8145b80ee34c"},{"kind":"app_task","name":"SYS_GEN__DE_Provision_b4f16742_83ea_4655_ad4c_b84f9a91cee5","uuid":"fdd63fab-34d9-4522-9ce9-70170dd92ff8"},{"kind":"app_task","name":"SYS_GEN__DE_Provision_30b27cdf_628e_49d3_b6e5_6b82278e432d","uuid":"92608b49-5f1c-4295-888c-7c70720a6f6f"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_adee1967_610d_4f23_964b_6d9b24e27af2_1","uuid":"6bedb7e2-03f3-4641-a00b-adb0f13ba4c3"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_adee1967_610d_4f23_964b_6d9b24e27af2","uuid":"f85892a1-4350-4468-84af-a3c2a42b4900"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_adee1967_610d_4f23_964b_6d9b24e27af2_2","uuid":"c5e8b73f-e89d-49e6-849b-e2c71698a2c0"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_08c0cce6_3507_478b_8aff_abff38fc49ea","uuid":"8bb544b1-e7d4-41de-aef9-469d5313fb83"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_9da256c1_17f2_4787_a501_f5b250fccce7","uuid":"e4953d9d-8a39-4daa-986f-abd0f9dbc6f4"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_e372d8fd_d7ad_4678_ac50_0517f533c9d4","uuid":"670b85ad-9489-47a5-8580-6044d9d28d36"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_e4258915_bb88_40f3_b138_34102b8832b5","uuid":"f1406564-3d7f-46cd-bc37-ef57e4b490d4"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_da11565f_0ae8_48e8_a066_569b84be461c","uuid":"41c05207-f955-4631-b080-86626e3e6c3c"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"65e9656a-a1c1-413f-a5ab-79bfbb2b1e39"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"9eb74fa5-eff1-4420-9423-79ffa4d98f0b"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"ace3c11f-928f-4e80-9a34-49a82e25b95e"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"b0459cc3-3b19-4f15-9e5a-cdf5793806d1"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_a5843e3f_6aa0_452e_801b_2940a59c8f83","uuid":"39157161-365e-47d5-b7ac-eb9cfc485665"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"e3fc2756-4ad5-4500-9fd0-f92c4e637093"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"70ec6641-95f9-4018-ba64-c979418319d1"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"e3fc2756-4ad5-4500-9fd0-f92c4e637093"},"edge_type":"inherent","type":"","uuid":"ffd2d265-4c98-4894-9b5f-7c1174d8c8cc","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"70ec6641-95f9-4018-ba64-c979418319d1"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_a5843e3f_6aa0_452e_801b_2940a59c8f83","uuid":"39157161-365e-47d5-b7ac-eb9cfc485665"},"edge_type":"inherent","type":"","uuid":"f26de850-a7b3-49a4-a2ae-3271934040ad","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"e3fc2756-4ad5-4500-9fd0-f92c4e637093"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_e372d8fd_d7ad_4678_ac50_0517f533c9d4","uuid":"670b85ad-9489-47a5-8580-6044d9d28d36"},"edge_type":"inherent","type":"","uuid":"4168bb3e-b4d9-4cf7-a36b-2cb6242a0046","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_a5843e3f_6aa0_452e_801b_2940a59c8f83","uuid":"39157161-365e-47d5-b7ac-eb9cfc485665"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_adee1967_610d_4f23_964b_6d9b24e27af2","uuid":"f85892a1-4350-4468-84af-a3c2a42b4900"},"edge_type":"inherent","type":"","uuid":"9943fa3c-794e-493f-926a-d981f4839439","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_e372d8fd_d7ad_4678_ac50_0517f533c9d4","uuid":"670b85ad-9489-47a5-8580-6044d9d28d36"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_30b27cdf_628e_49d3_b6e5_6b82278e432d","uuid":"92608b49-5f1c-4295-888c-7c70720a6f6f"},"edge_type":"inherent","type":"","uuid":"c57b61e5-440b-4833-b4e5-c9587a65538d","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_e372d8fd_d7ad_4678_ac50_0517f533c9d4","uuid":"670b85ad-9489-47a5-8580-6044d9d28d36"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_30b27cdf_628e_49d3_b6e5_6b82278e432d","uuid":"92608b49-5f1c-4295-888c-7c70720a6f6f"},"edge_type":"inherent","type":"","uuid":"5b808a06-c484-4b50-8a63-dbf04fe1a320","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_adee1967_610d_4f23_964b_6d9b24e27af2","uuid":"f85892a1-4350-4468-84af-a3c2a42b4900"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"65e9656a-a1c1-413f-a5ab-79bfbb2b1e39"},"edge_type":"inherent","type":"","uuid":"f7ccca2f-5352-410b-b943-676c00b1c151","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"ace3c11f-928f-4e80-9a34-49a82e25b95e"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_da11565f_0ae8_48e8_a066_569b84be461c","uuid":"41c05207-f955-4631-b080-86626e3e6c3c"},"edge_type":"inherent","type":"","uuid":"624c8bee-9adc-4bdc-82a4-73e00b958226","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"65e9656a-a1c1-413f-a5ab-79bfbb2b1e39"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_9da256c1_17f2_4787_a501_f5b250fccce7","uuid":"e4953d9d-8a39-4daa-986f-abd0f9dbc6f4"},"edge_type":"inherent","type":"","uuid":"047fbf9c-1ebb-4a88-9943-f54cf3e40f0e","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_da11565f_0ae8_48e8_a066_569b84be461c","uuid":"41c05207-f955-4631-b080-86626e3e6c3c"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_adee1967_610d_4f23_964b_6d9b24e27af2_1","uuid":"6bedb7e2-03f3-4641-a00b-adb0f13ba4c3"},"edge_type":"inherent","type":"","uuid":"18a24763-6481-4101-8b79-d1ac32d71d33","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_9da256c1_17f2_4787_a501_f5b250fccce7","uuid":"e4953d9d-8a39-4daa-986f-abd0f9dbc6f4"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_b4f16742_83ea_4655_ad4c_b84f9a91cee5","uuid":"fdd63fab-34d9-4522-9ce9-70170dd92ff8"},"edge_type":"inherent","type":"","uuid":"1f758e12-e231-43f8-baf3-48e89c1c70c6","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_9da256c1_17f2_4787_a501_f5b250fccce7","uuid":"e4953d9d-8a39-4daa-986f-abd0f9dbc6f4"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_b4f16742_83ea_4655_ad4c_b84f9a91cee5","uuid":"fdd63fab-34d9-4522-9ce9-70170dd92ff8"},"edge_type":"inherent","type":"","uuid":"00cc85d1-14ad-42da-ad78-c7eae838147c","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_adee1967_610d_4f23_964b_6d9b24e27af2_1","uuid":"6bedb7e2-03f3-4641-a00b-adb0f13ba4c3"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"9eb74fa5-eff1-4420-9423-79ffa4d98f0b"},"edge_type":"inherent","type":"","uuid":"1769a67f-42b8-4a2c-bbbb-4502b9ef2d36","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"b0459cc3-3b19-4f15-9e5a-cdf5793806d1"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_e4258915_bb88_40f3_b138_34102b8832b5","uuid":"f1406564-3d7f-46cd-bc37-ef57e4b490d4"},"edge_type":"inherent","type":"","uuid":"8efb9635-cd32-4b80-9dfb-5e5547c6def2","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"9eb74fa5-eff1-4420-9423-79ffa4d98f0b"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_08c0cce6_3507_478b_8aff_abff38fc49ea","uuid":"8bb544b1-e7d4-41de-aef9-469d5313fb83"},"edge_type":"inherent","type":"","uuid":"0f93075a-c322-41db-9bf5-31a8073b099a","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_e4258915_bb88_40f3_b138_34102b8832b5","uuid":"f1406564-3d7f-46cd-bc37-ef57e4b490d4"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_5ec3de5b_7545_40af_b8c9_5a62a56a9453","uuid":"e021f4a5-d728-49d0-b88a-8145b80ee34c"},"edge_type":"inherent","type":"","uuid":"7e917f65-5d94-4ff3-a5dd-b57707d63fbc","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_08c0cce6_3507_478b_8aff_abff38fc49ea","uuid":"8bb544b1-e7d4-41de-aef9-469d5313fb83"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_adee1967_610d_4f23_964b_6d9b24e27af2_2","uuid":"c5e8b73f-e89d-49e6-849b-e2c71698a2c0"},"edge_type":"inherent","type":"","uuid":"113696d0-7a79-4dc4-91ca-3bb2f3d70fba","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_08c0cce6_3507_478b_8aff_abff38fc49ea","uuid":"8bb544b1-e7d4-41de-aef9-469d5313fb83"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_5ec3de5b_7545_40af_b8c9_5a62a56a9453","uuid":"e021f4a5-d728-49d0-b88a-8145b80ee34c"},"edge_type":"inherent","type":"","uuid":"eab03841-b999-4176-a885-78000afe7516","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_adee1967_610d_4f23_964b_6d9b24e27af2_2","uuid":"c5e8b73f-e89d-49e6-849b-e2c71698a2c0"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_08c0cce6_3507_478b_8aff_abff38fc49ea","uuid":"8bb544b1-e7d4-41de-aef9-469d5313fb83"},"edge_type":"dependency","type":"","uuid":"2cf3c748-0b0c-4ce3-9c10-e11db2eba50f","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_a5843e3f_6aa0_452e_801b_2940a59c8f83","uuid":"39157161-365e-47d5-b7ac-eb9cfc485665"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_9da256c1_17f2_4787_a501_f5b250fccce7","uuid":"e4953d9d-8a39-4daa-986f-abd0f9dbc6f4"},"edge_type":"dependency","type":"","uuid":"51d6b596-a99e-480a-8c5a-6181544c356b","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_a5843e3f_6aa0_452e_801b_2940a59c8f83","uuid":"39157161-365e-47d5-b7ac-eb9cfc485665"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"ace3c11f-928f-4e80-9a34-49a82e25b95e"},"edge_type":"dependency","type":"","uuid":"5d999537-1dbc-4015-ab37-f1e73b25ef4e","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_a5843e3f_6aa0_452e_801b_2940a59c8f83","uuid":"39157161-365e-47d5-b7ac-eb9cfc485665"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"b0459cc3-3b19-4f15-9e5a-cdf5793806d1"},"edge_type":"dependency","type":"","uuid":"3c53401d-fef7-4dd0-9e13-42ea3c82ef58","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_a5843e3f_6aa0_452e_801b_2940a59c8f83","uuid":"39157161-365e-47d5-b7ac-eb9cfc485665"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_08c0cce6_3507_478b_8aff_abff38fc49ea","uuid":"8bb544b1-e7d4-41de-aef9-469d5313fb83"},"edge_type":"dependency","type":"","uuid":"bd88da33-3ad8-4f46-b3c0-26e1259dfd3b","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_da11565f_0ae8_48e8_a066_569b84be461c","uuid":"41c05207-f955-4631-b080-86626e3e6c3c"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_e372d8fd_d7ad_4678_ac50_0517f533c9d4","uuid":"670b85ad-9489-47a5-8580-6044d9d28d36"},"edge_type":"dependency","type":"","uuid":"ce5b8c0b-232f-4eaa-94c2-e98eaa023f8e","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_da11565f_0ae8_48e8_a066_569b84be461c","uuid":"41c05207-f955-4631-b080-86626e3e6c3c"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_9da256c1_17f2_4787_a501_f5b250fccce7","uuid":"e4953d9d-8a39-4daa-986f-abd0f9dbc6f4"},"edge_type":"dependency","type":"","uuid":"9f159ec6-2422-4850-8b5a-28fcebc3b2f2","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_e4258915_bb88_40f3_b138_34102b8832b5","uuid":"f1406564-3d7f-46cd-bc37-ef57e4b490d4"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_e372d8fd_d7ad_4678_ac50_0517f533c9d4","uuid":"670b85ad-9489-47a5-8580-6044d9d28d36"},"edge_type":"dependency","type":"","uuid":"cdda9dfb-cb05-4974-b247-807315cbd2d4","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_e4258915_bb88_40f3_b138_34102b8832b5","uuid":"f1406564-3d7f-46cd-bc37-ef57e4b490d4"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_ddef2352_c753_476e_8dff_ec9ec56a2872"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment","uuid":"5ec3de5b-7545-40af-b8c9-5a62a56a9453"},"retries":"0","description":"","type":"CREATE_DEPLOYMENT_ELEMENT","uuid":"e021f4a5-d728-49d0-b88a-8145b80ee34c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Provision_5ec3de5b_7545_40af_b8c9_5a62a56a9453"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"86730684_deployment","uuid":"b4f16742-83ea-4655-ad4c-b84f9a91cee5"},"retries":"0","description":"","type":"CREATE_DEPLOYMENT_ELEMENT","uuid":"fdd63fab-34d9-4522-9ce9-70170dd92ff8","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Provision_b4f16742_83ea_4655_ad4c_b84f9a91cee5"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"ff4974a5_deployment","uuid":"30b27cdf-628e-49d3-b6e5-6b82278e432d"},"retries":"0","description":"","type":"CREATE_DEPLOYMENT_ELEMENT","uuid":"92608b49-5f1c-4295-888c-7c70720a6f6f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Provision_30b27cdf_628e_49d3_b6e5_6b82278e432d"},{"target_any_local_reference":{"kind":"app_package","name":"AHV_CENTOS_76","uuid":"adee1967-610d-4f23-964b-6d9b24e27af2"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"6bedb7e2-03f3-4641-a00b-adb0f13ba4c3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"86730684_deployment","uuid":"b4f16742-83ea-4655-ad4c-b84f9a91cee5"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_adee1967_610d_4f23_964b_6d9b24e27af2","uuid":"f4fe8fda-b03b-40b2-be86-03a535882e58"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_adee1967_610d_4f23_964b_6d9b24e27af2_1"},{"target_any_local_reference":{"kind":"app_package","name":"AHV_CENTOS_76","uuid":"adee1967-610d-4f23-964b-6d9b24e27af2"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"f85892a1-4350-4468-84af-a3c2a42b4900","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"ff4974a5_deployment","uuid":"30b27cdf-628e-49d3-b6e5-6b82278e432d"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_adee1967_610d_4f23_964b_6d9b24e27af2","uuid":"f4fe8fda-b03b-40b2-be86-03a535882e58"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_adee1967_610d_4f23_964b_6d9b24e27af2"},{"target_any_local_reference":{"kind":"app_package","name":"AHV_CENTOS_76","uuid":"adee1967-610d-4f23-964b-6d9b24e27af2"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"c5e8b73f-e89d-49e6-849b-e2c71698a2c0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment","uuid":"5ec3de5b-7545-40af-b8c9-5a62a56a9453"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_adee1967_610d_4f23_964b_6d9b24e27af2","uuid":"f4fe8fda-b03b-40b2-be86-03a535882e58"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_adee1967_610d_4f23_964b_6d9b24e27af2_2"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVDataSet","uuid":"08c0cce6-3507-478b-8aff-abff38fc49ea"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"8bb544b1-e7d4-41de-aef9-469d5313fb83","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment","uuid":"5ec3de5b-7545-40af-b8c9-5a62a56a9453"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_08c0cce6_3507_478b_8aff_abff38fc49ea","uuid":"1f38ea12-3794-4347-81de-66d6fb838d75"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Substrate_08c0cce6_3507_478b_8aff_abff38fc49ea"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVConfigSet","uuid":"9da256c1-17f2-4787-a501-f5b250fccce7"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"e4953d9d-8a39-4daa-986f-abd0f9dbc6f4","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"86730684_deployment","uuid":"b4f16742-83ea-4655-ad4c-b84f9a91cee5"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_9da256c1_17f2_4787_a501_f5b250fccce7","uuid":"17d41483-a39c-4ce1-962f-3733ca2a2a94"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Substrate_9da256c1_17f2_4787_a501_f5b250fccce7"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVRouter","uuid":"e372d8fd-d7ad-4678-ac50-0517f533c9d4"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"670b85ad-9489-47a5-8580-6044d9d28d36","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"ff4974a5_deployment","uuid":"30b27cdf-628e-49d3-b6e5-6b82278e432d"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_e372d8fd_d7ad_4678_ac50_0517f533c9d4","uuid":"8d84e705-f6f5-4fbf-a511-ed662173d0d8"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Substrate_e372d8fd_d7ad_4678_ac50_0517f533c9d4"},{"target_any_local_reference":{"kind":"app_package","name":"AHVDataSetPackage","uuid":"e4258915-bb88-40f3-b138-34102b8832b5"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"f1406564-3d7f-46cd-bc37-ef57e4b490d4","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment","uuid":"5ec3de5b-7545-40af-b8c9-5a62a56a9453"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_e4258915_bb88_40f3_b138_34102b8832b5","uuid":"53348729-3a63-427e-8217-f5b39b374ad9"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_e4258915_bb88_40f3_b138_34102b8832b5"},{"target_any_local_reference":{"kind":"app_package","name":"AHVConfigSetPackage","uuid":"da11565f-0ae8-48e8-a066-569b84be461c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"41c05207-f955-4631-b080-86626e3e6c3c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"86730684_deployment","uuid":"b4f16742-83ea-4655-ad4c-b84f9a91cee5"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_da11565f_0ae8_48e8_a066_569b84be461c","uuid":"12445605-c638-4984-93c6-863cfe7d14de"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_da11565f_0ae8_48e8_a066_569b84be461c"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"65e9656a-a1c1-413f-a5ab-79bfbb2b1e39","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"86730684_deployment","uuid":"b4f16742-83ea-4655-ad4c-b84f9a91cee5"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0a879260_runbook","uuid":"741de02d-b511-4b87-8b94-a1b0b74e0fb7"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"9eb74fa5-eff1-4420-9423-79ffa4d98f0b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment","uuid":"5ec3de5b-7545-40af-b8c9-5a62a56a9453"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0bda2b69_runbook","uuid":"c08988e8-53fc-48b3-942d-00d118016989"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"ace3c11f-928f-4e80-9a34-49a82e25b95e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"86730684_deployment","uuid":"b4f16742-83ea-4655-ad4c-b84f9a91cee5"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"f4695758_runbook","uuid":"0c2528e9-82d6-40bc-9b4d-721eabd37ead"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"b0459cc3-3b19-4f15-9e5a-cdf5793806d1","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment","uuid":"5ec3de5b-7545-40af-b8c9-5a62a56a9453"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0f1333dd_runbook","uuid":"43f16a26-e0b7-42a9-b2de-6e6d4147d381"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47"},{"target_any_local_reference":{"kind":"app_package","name":"AHVRouterPackage","uuid":"a5843e3f-6aa0-452e-801b-2940a59c8f83"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"39157161-365e-47d5-b7ac-eb9cfc485665","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"ff4974a5_deployment","uuid":"30b27cdf-628e-49d3-b6e5-6b82278e432d"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_a5843e3f_6aa0_452e_801b_2940a59c8f83","uuid":"433e8cb8-18ee-4bd6-a6a5-6a244c27874e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_a5843e3f_6aa0_452e_801b_2940a59c8f83"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"e3fc2756-4ad5-4500-9fd0-f92c4e637093","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"ff4974a5_deployment","uuid":"30b27cdf-628e-49d3-b6e5-6b82278e432d"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"f678ba44_runbook","uuid":"6f256634-e57a-41ea-a837-438a40018db7"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"70ec6641-95f9-4018-ba64-c979418319d1","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"ff4974a5_deployment","uuid":"30b27cdf-628e-49d3-b6e5-6b82278e432d"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"6729beee_runbook","uuid":"28341bf4-2766-4701-8747-1722ed61db3c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e"}],"description":"","message_list":[],"uuid":"3ff779c7-d0e1-4cbb-b043-247cfa8edef7","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_ddef2352_c753_476e_8dff_ec9ec56a2872","uuid":"40c19c54-b5e7-4d16-b382-d002bf3f8e6f"},"name":"SYS_GEN__Runbook_Application_ddef2352_c753_476e_8dff_ec9ec56a2872"}},{"description":"System action for starting an application","message_list":[],"uuid":"dd292d19-0d65-4f0e-87f6-8f59a2a8bd0b","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"Nutanix","uuid":"ddef2352-c753-476e-8dff-ec9ec56a2872"},"retries":"0","description":"","type":"DAG","uuid":"2a7fd188-32b1-4de9-a4b9-0a8752d00481","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_08c0cce6_3507_478b_8aff_abff38fc49ea","uuid":"c90ea55c-2e03-4565-a916-d71707fa36c0"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_e372d8fd_d7ad_4678_ac50_0517f533c9d4","uuid":"cacea6bf-9f77-484a-beea-d4705c6cb414"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_9da256c1_17f2_4787_a501_f5b250fccce7","uuid":"a07ef161-c11e-4c27-bcdc-bab1c97c8efc"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"4e0a88f0-ae56-4997-b8fb-f5360261f16e"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"b994bc77-33a4-4f2b-88d7-dbd3a0bd8044"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"1e4b3e26-1c74-4d59-a37b-53b4aaa9d7f8"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_e372d8fd_d7ad_4678_ac50_0517f533c9d4","uuid":"cacea6bf-9f77-484a-beea-d4705c6cb414"},"edge_type":"inherent","type":"","uuid":"cf9255ef-cb50-456a-a6cb-c413f2ee779e","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"1e4b3e26-1c74-4d59-a37b-53b4aaa9d7f8"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_9da256c1_17f2_4787_a501_f5b250fccce7","uuid":"a07ef161-c11e-4c27-bcdc-bab1c97c8efc"},"edge_type":"inherent","type":"","uuid":"c9cfe599-be13-4e81-a2a3-0a6b81134594","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"4e0a88f0-ae56-4997-b8fb-f5360261f16e"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_08c0cce6_3507_478b_8aff_abff38fc49ea","uuid":"c90ea55c-2e03-4565-a916-d71707fa36c0"},"edge_type":"inherent","type":"","uuid":"052c4e96-4d56-4190-8be2-26d41338b505","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"b994bc77-33a4-4f2b-88d7-dbd3a0bd8044"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_ddef2352_c753_476e_8dff_ec9ec56a2872"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVDataSet","uuid":"08c0cce6-3507-478b-8aff-abff38fc49ea"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"c90ea55c-2e03-4565-a916-d71707fa36c0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment","uuid":"5ec3de5b-7545-40af-b8c9-5a62a56a9453"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_08c0cce6_3507_478b_8aff_abff38fc49ea","uuid":"52eee603-4f64-4537-83b5-dd746f45b5d9"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Substrate_08c0cce6_3507_478b_8aff_abff38fc49ea"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVRouter","uuid":"e372d8fd-d7ad-4678-ac50-0517f533c9d4"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"cacea6bf-9f77-484a-beea-d4705c6cb414","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"ff4974a5_deployment","uuid":"30b27cdf-628e-49d3-b6e5-6b82278e432d"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_e372d8fd_d7ad_4678_ac50_0517f533c9d4","uuid":"157384aa-6193-404c-9da0-4eb34413d03e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Substrate_e372d8fd_d7ad_4678_ac50_0517f533c9d4"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVConfigSet","uuid":"9da256c1-17f2-4787-a501-f5b250fccce7"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"a07ef161-c11e-4c27-bcdc-bab1c97c8efc","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"86730684_deployment","uuid":"b4f16742-83ea-4655-ad4c-b84f9a91cee5"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_9da256c1_17f2_4787_a501_f5b250fccce7","uuid":"66cce55f-8532-483e-8799-cb5e9ab8fe65"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Substrate_9da256c1_17f2_4787_a501_f5b250fccce7"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"4e0a88f0-ae56-4997-b8fb-f5360261f16e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"86730684_deployment","uuid":"b4f16742-83ea-4655-ad4c-b84f9a91cee5"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"f4695758_runbook","uuid":"0c2528e9-82d6-40bc-9b4d-721eabd37ead"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"b994bc77-33a4-4f2b-88d7-dbd3a0bd8044","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment","uuid":"5ec3de5b-7545-40af-b8c9-5a62a56a9453"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0f1333dd_runbook","uuid":"43f16a26-e0b7-42a9-b2de-6e6d4147d381"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"1e4b3e26-1c74-4d59-a37b-53b4aaa9d7f8","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"ff4974a5_deployment","uuid":"30b27cdf-628e-49d3-b6e5-6b82278e432d"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"6729beee_runbook","uuid":"28341bf4-2766-4701-8747-1722ed61db3c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e"}],"description":"","message_list":[],"uuid":"85bbc441-663d-4202-8cd2-091bce40ffe2","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_ddef2352_c753_476e_8dff_ec9ec56a2872","uuid":"2a7fd188-32b1-4de9-a4b9-0a8752d00481"},"name":"SYS_GEN__Runbook_Application_ddef2352_c753_476e_8dff_ec9ec56a2872"}},{"description":"System action for restarting an application","message_list":[],"uuid":"ff4f5c24-47f9-4ec8-bcf9-1a6e29d918f9","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"Nutanix","uuid":"ddef2352-c753-476e-8dff-ec9ec56a2872"},"retries":"0","description":"","type":"DAG","uuid":"b8dc411f-d6c1-4b11-9009-f18a306682a5","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_e372d8fd_d7ad_4678_ac50_0517f533c9d4","uuid":"29f6544b-325f-43e1-9214-11f8c40086a7"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_9da256c1_17f2_4787_a501_f5b250fccce7","uuid":"dae1ffba-5f3e-4cba-a6fb-3179c5bfe2ca"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_08c0cce6_3507_478b_8aff_abff38fc49ea","uuid":"cf5464f6-f9d4-40a6-9d78-6c30768ee862"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"cfe9fff6-7f65-4667-968f-57f927c80194"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"fb373b8b-9da9-4eb5-882b-04bbe40c9360"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"17bc997d-8d5f-49c9-84d2-e67f61b674a6"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_e372d8fd_d7ad_4678_ac50_0517f533c9d4","uuid":"29f6544b-325f-43e1-9214-11f8c40086a7"},"edge_type":"inherent","type":"","uuid":"85c85400-9a9f-46f6-912a-a23e89bb0f66","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"fb373b8b-9da9-4eb5-882b-04bbe40c9360"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_9da256c1_17f2_4787_a501_f5b250fccce7","uuid":"dae1ffba-5f3e-4cba-a6fb-3179c5bfe2ca"},"edge_type":"inherent","type":"","uuid":"0a2a862e-99df-4fae-b099-c3186fea2e79","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"17bc997d-8d5f-49c9-84d2-e67f61b674a6"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_08c0cce6_3507_478b_8aff_abff38fc49ea","uuid":"cf5464f6-f9d4-40a6-9d78-6c30768ee862"},"edge_type":"inherent","type":"","uuid":"a4ef63b5-e369-4dd5-b1ba-127960bc6293","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"cfe9fff6-7f65-4667-968f-57f927c80194"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_ddef2352_c753_476e_8dff_ec9ec56a2872"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVRouter","uuid":"e372d8fd-d7ad-4678-ac50-0517f533c9d4"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"29f6544b-325f-43e1-9214-11f8c40086a7","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"ff4974a5_deployment","uuid":"30b27cdf-628e-49d3-b6e5-6b82278e432d"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_e372d8fd_d7ad_4678_ac50_0517f533c9d4","uuid":"0bb711c8-37ac-4cc4-b29f-d9eb496057e9"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Substrate_e372d8fd_d7ad_4678_ac50_0517f533c9d4"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVConfigSet","uuid":"9da256c1-17f2-4787-a501-f5b250fccce7"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"dae1ffba-5f3e-4cba-a6fb-3179c5bfe2ca","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"86730684_deployment","uuid":"b4f16742-83ea-4655-ad4c-b84f9a91cee5"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_9da256c1_17f2_4787_a501_f5b250fccce7","uuid":"f4f18dee-1c5e-4b18-9237-fee52521faf7"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Substrate_9da256c1_17f2_4787_a501_f5b250fccce7"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVDataSet","uuid":"08c0cce6-3507-478b-8aff-abff38fc49ea"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"cf5464f6-f9d4-40a6-9d78-6c30768ee862","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment","uuid":"5ec3de5b-7545-40af-b8c9-5a62a56a9453"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_08c0cce6_3507_478b_8aff_abff38fc49ea","uuid":"b9b8d72b-0250-4598-a278-6dc166bd7a91"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Substrate_08c0cce6_3507_478b_8aff_abff38fc49ea"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"cfe9fff6-7f65-4667-968f-57f927c80194","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment","uuid":"5ec3de5b-7545-40af-b8c9-5a62a56a9453"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"4f7b2559_runbook","uuid":"03856e37-e1bf-4b7c-95bb-87bf81c6c940"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"fb373b8b-9da9-4eb5-882b-04bbe40c9360","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"ff4974a5_deployment","uuid":"30b27cdf-628e-49d3-b6e5-6b82278e432d"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"5261a312_runbook","uuid":"dcdcb0d6-e68b-4641-8609-e6dc92c57b21"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"17bc997d-8d5f-49c9-84d2-e67f61b674a6","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"86730684_deployment","uuid":"b4f16742-83ea-4655-ad4c-b84f9a91cee5"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"b7169291_runbook","uuid":"7c36f5f8-9e8b-4f97-b855-438dc7eb8f3d"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd"}],"description":"","message_list":[],"uuid":"5ee7e3e8-5380-4f91-a98b-d9387649f3d6","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_ddef2352_c753_476e_8dff_ec9ec56a2872","uuid":"b8dc411f-d6c1-4b11-9009-f18a306682a5"},"name":"SYS_GEN__Runbook_Application_ddef2352_c753_476e_8dff_ec9ec56a2872"}},{"description":"System action for stopping an application","message_list":[],"uuid":"860ddd34-83a9-44a3-8a7f-58b165720116","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"Nutanix","uuid":"ddef2352-c753-476e-8dff-ec9ec56a2872"},"retries":"0","description":"","type":"DAG","uuid":"50e8db28-c10c-48c5-b397-37076c946fb9","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"a2519a69-1983-4ee3-981c-42bf33630b07"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"4483be88-76eb-427d-bcc8-313b34ba0fac"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"3492d75e-7b77-4457-aef3-a145a769c358"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_08c0cce6_3507_478b_8aff_abff38fc49ea","uuid":"9f5a40c1-b99b-4841-ab94-f6ad9e4053ab"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_e372d8fd_d7ad_4678_ac50_0517f533c9d4","uuid":"ebf75259-807a-4df1-9c79-a288ea0a2165"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_9da256c1_17f2_4787_a501_f5b250fccce7","uuid":"e2e9c213-9ac4-4f81-9d56-86b348db4ef5"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"4483be88-76eb-427d-bcc8-313b34ba0fac"},"edge_type":"inherent","type":"","uuid":"19d016e1-d848-44bb-b35d-279d05f80e59","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_e372d8fd_d7ad_4678_ac50_0517f533c9d4","uuid":"ebf75259-807a-4df1-9c79-a288ea0a2165"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"3492d75e-7b77-4457-aef3-a145a769c358"},"edge_type":"inherent","type":"","uuid":"3bee19de-e72b-4fba-a392-a6be85cb040b","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_9da256c1_17f2_4787_a501_f5b250fccce7","uuid":"e2e9c213-9ac4-4f81-9d56-86b348db4ef5"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"a2519a69-1983-4ee3-981c-42bf33630b07"},"edge_type":"inherent","type":"","uuid":"90096f84-ec98-478f-ae32-6fbaa5a29a34","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_08c0cce6_3507_478b_8aff_abff38fc49ea","uuid":"9f5a40c1-b99b-4841-ab94-f6ad9e4053ab"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_ddef2352_c753_476e_8dff_ec9ec56a2872"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"a2519a69-1983-4ee3-981c-42bf33630b07","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment","uuid":"5ec3de5b-7545-40af-b8c9-5a62a56a9453"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"85883b0a_runbook","uuid":"42cf4c9d-d9e5-435e-b222-f2d33a05683f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"4483be88-76eb-427d-bcc8-313b34ba0fac","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"ff4974a5_deployment","uuid":"30b27cdf-628e-49d3-b6e5-6b82278e432d"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"6d2afcdd_runbook","uuid":"215f65d0-6496-443c-9017-6dec4743560f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"3492d75e-7b77-4457-aef3-a145a769c358","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"86730684_deployment","uuid":"b4f16742-83ea-4655-ad4c-b84f9a91cee5"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"a33b20bd_runbook","uuid":"e6335ceb-f00b-4ec5-8425-3864e1897a7d"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVDataSet","uuid":"08c0cce6-3507-478b-8aff-abff38fc49ea"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"9f5a40c1-b99b-4841-ab94-f6ad9e4053ab","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment","uuid":"5ec3de5b-7545-40af-b8c9-5a62a56a9453"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_08c0cce6_3507_478b_8aff_abff38fc49ea","uuid":"655fbe3c-2444-480e-b2c8-e819a34cc2af"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Substrate_08c0cce6_3507_478b_8aff_abff38fc49ea"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVRouter","uuid":"e372d8fd-d7ad-4678-ac50-0517f533c9d4"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"ebf75259-807a-4df1-9c79-a288ea0a2165","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"ff4974a5_deployment","uuid":"30b27cdf-628e-49d3-b6e5-6b82278e432d"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_e372d8fd_d7ad_4678_ac50_0517f533c9d4","uuid":"c93dbab5-2876-4a0b-be53-370cb5bcc56a"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Substrate_e372d8fd_d7ad_4678_ac50_0517f533c9d4"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVConfigSet","uuid":"9da256c1-17f2-4787-a501-f5b250fccce7"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"e2e9c213-9ac4-4f81-9d56-86b348db4ef5","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"86730684_deployment","uuid":"b4f16742-83ea-4655-ad4c-b84f9a91cee5"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_9da256c1_17f2_4787_a501_f5b250fccce7","uuid":"8f3b8470-bb0f-48a0-973d-b5bf5b811830"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Substrate_9da256c1_17f2_4787_a501_f5b250fccce7"}],"description":"","message_list":[],"uuid":"9d63e158-1f66-43a8-b4ce-3351e3eb7fce","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_ddef2352_c753_476e_8dff_ec9ec56a2872","uuid":"50e8db28-c10c-48c5-b397-37076c946fb9"},"name":"SYS_GEN__Runbook_Application_ddef2352_c753_476e_8dff_ec9ec56a2872"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"36526f1a-f99d-4e48-96cb-a8bfc9eb62ab","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"Nutanix","uuid":"ddef2352-c753-476e-8dff-ec9ec56a2872"},"retries":"0","description":"","type":"DAG","uuid":"36ba4473-6e70-43f0-a444-ad26c0c1b4cc","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"fc1f95ab-10e1-4d1c-92c9-b67c4446d3e6"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"10e50ad4-c042-40a8-b6fd-db2f19bc85aa"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_a5843e3f_6aa0_452e_801b_2940a59c8f83","uuid":"a9716759-cd0e-4aaf-a19d-a3902b849335"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"4dfa47ad-d4a4-4d2b-86b4-24fc2917fd01"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"0e80c6ac-2351-49e5-abd8-a64ce08f2a01"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"57732867-f8a4-4702-a790-2f1c35547557"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"9f058216-cc5c-4f72-8f59-97756d3d87d2"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_da11565f_0ae8_48e8_a066_569b84be461c","uuid":"31259da5-668b-4768-bce7-3fc3c942d23f"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_e4258915_bb88_40f3_b138_34102b8832b5","uuid":"ed6b5bfa-bd4a-4711-aeaf-55e2c8b1fec4"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_08c0cce6_3507_478b_8aff_abff38fc49ea","uuid":"30c77917-4553-4bcf-9ad9-08918f2dcd42"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_9da256c1_17f2_4787_a501_f5b250fccce7","uuid":"6ae68f56-9a99-4f50-9dc1-4f260c65a1e9"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_e372d8fd_d7ad_4678_ac50_0517f533c9d4","uuid":"05cd9fd2-ad91-491e-9155-079e7a5b1119"},{"kind":"app_task","name":"SYS_GEN__DE_Delete_30b27cdf_628e_49d3_b6e5_6b82278e432d","uuid":"99300e5d-c787-4e31-b46f-eafcdfcc4e0e"},{"kind":"app_task","name":"SYS_GEN__DE_Delete_5ec3de5b_7545_40af_b8c9_5a62a56a9453","uuid":"7991015b-96c3-4b3a-808d-119d5c0ebb2a"},{"kind":"app_task","name":"SYS_GEN__DE_Delete_b4f16742_83ea_4655_ad4c_b84f9a91cee5","uuid":"6817e384-910b-42eb-935a-e13aeb01198e"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"fc1f95ab-10e1-4d1c-92c9-b67c4446d3e6"},"edge_type":"inherent","type":"","uuid":"cc2540de-da4e-4a6d-9558-4de4f5f9fe4c","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"10e50ad4-c042-40a8-b6fd-db2f19bc85aa"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"10e50ad4-c042-40a8-b6fd-db2f19bc85aa"},"edge_type":"inherent","type":"","uuid":"02243dda-7eec-4449-a9a9-1dcabe9e52f3","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_a5843e3f_6aa0_452e_801b_2940a59c8f83","uuid":"a9716759-cd0e-4aaf-a19d-a3902b849335"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_e372d8fd_d7ad_4678_ac50_0517f533c9d4","uuid":"05cd9fd2-ad91-491e-9155-079e7a5b1119"},"edge_type":"inherent","type":"","uuid":"668070fe-2217-4bbe-a833-b8db936a6970","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Delete_30b27cdf_628e_49d3_b6e5_6b82278e432d","uuid":"99300e5d-c787-4e31-b46f-eafcdfcc4e0e"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_a5843e3f_6aa0_452e_801b_2940a59c8f83","uuid":"a9716759-cd0e-4aaf-a19d-a3902b849335"},"edge_type":"inherent","type":"","uuid":"53d0bf90-e4c3-4a39-b897-9a90a828a1c6","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_e372d8fd_d7ad_4678_ac50_0517f533c9d4","uuid":"05cd9fd2-ad91-491e-9155-079e7a5b1119"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"0e80c6ac-2351-49e5-abd8-a64ce08f2a01"},"edge_type":"inherent","type":"","uuid":"03b1adfc-b318-44de-b0d2-006b37215350","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"57732867-f8a4-4702-a790-2f1c35547557"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"57732867-f8a4-4702-a790-2f1c35547557"},"edge_type":"inherent","type":"","uuid":"b16fe1a0-5ec1-411f-8505-a839f3720e50","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_da11565f_0ae8_48e8_a066_569b84be461c","uuid":"31259da5-668b-4768-bce7-3fc3c942d23f"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_9da256c1_17f2_4787_a501_f5b250fccce7","uuid":"6ae68f56-9a99-4f50-9dc1-4f260c65a1e9"},"edge_type":"inherent","type":"","uuid":"c1ee6f38-b5e0-4d99-b8a9-1e313a237fee","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Delete_b4f16742_83ea_4655_ad4c_b84f9a91cee5","uuid":"6817e384-910b-42eb-935a-e13aeb01198e"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_da11565f_0ae8_48e8_a066_569b84be461c","uuid":"31259da5-668b-4768-bce7-3fc3c942d23f"},"edge_type":"inherent","type":"","uuid":"088bc349-e7f5-4b63-8298-4e702ac86773","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_9da256c1_17f2_4787_a501_f5b250fccce7","uuid":"6ae68f56-9a99-4f50-9dc1-4f260c65a1e9"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"4dfa47ad-d4a4-4d2b-86b4-24fc2917fd01"},"edge_type":"inherent","type":"","uuid":"e3074b55-8221-43cc-89be-4de96024081b","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"9f058216-cc5c-4f72-8f59-97756d3d87d2"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"9f058216-cc5c-4f72-8f59-97756d3d87d2"},"edge_type":"inherent","type":"","uuid":"1e97d457-3422-4d38-a2f8-9465305d7a98","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_e4258915_bb88_40f3_b138_34102b8832b5","uuid":"ed6b5bfa-bd4a-4711-aeaf-55e2c8b1fec4"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_08c0cce6_3507_478b_8aff_abff38fc49ea","uuid":"30c77917-4553-4bcf-9ad9-08918f2dcd42"},"edge_type":"inherent","type":"","uuid":"df05f06e-6372-4d17-9ef3-0a2a683b1312","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Delete_5ec3de5b_7545_40af_b8c9_5a62a56a9453","uuid":"7991015b-96c3-4b3a-808d-119d5c0ebb2a"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_e4258915_bb88_40f3_b138_34102b8832b5","uuid":"ed6b5bfa-bd4a-4711-aeaf-55e2c8b1fec4"},"edge_type":"inherent","type":"","uuid":"abc67cbe-c886-4db6-b013-05fbb0a41524","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_08c0cce6_3507_478b_8aff_abff38fc49ea","uuid":"30c77917-4553-4bcf-9ad9-08918f2dcd42"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_a5843e3f_6aa0_452e_801b_2940a59c8f83","uuid":"a9716759-cd0e-4aaf-a19d-a3902b849335"},"edge_type":"create_action_edge","type":"","uuid":"f1472579-db9c-4e91-9972-a69b361ef70d","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_08c0cce6_3507_478b_8aff_abff38fc49ea","uuid":"30c77917-4553-4bcf-9ad9-08918f2dcd42"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_a5843e3f_6aa0_452e_801b_2940a59c8f83","uuid":"a9716759-cd0e-4aaf-a19d-a3902b849335"},"edge_type":"create_action_edge","type":"","uuid":"6b03171c-cfea-4a04-93c4-75f369de1744","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_9da256c1_17f2_4787_a501_f5b250fccce7","uuid":"6ae68f56-9a99-4f50-9dc1-4f260c65a1e9"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_a5843e3f_6aa0_452e_801b_2940a59c8f83","uuid":"a9716759-cd0e-4aaf-a19d-a3902b849335"},"edge_type":"create_action_edge","type":"","uuid":"b6c2e583-7a89-4dfc-a170-ca0191c8ca18","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"0e80c6ac-2351-49e5-abd8-a64ce08f2a01"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_a5843e3f_6aa0_452e_801b_2940a59c8f83","uuid":"a9716759-cd0e-4aaf-a19d-a3902b849335"},"edge_type":"create_action_edge","type":"","uuid":"37bc36a4-2934-4fc0-bd8a-b1746106247f","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"4dfa47ad-d4a4-4d2b-86b4-24fc2917fd01"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_da11565f_0ae8_48e8_a066_569b84be461c","uuid":"31259da5-668b-4768-bce7-3fc3c942d23f"},"edge_type":"create_action_edge","type":"","uuid":"0911a5b6-d42b-4caa-9284-9225a6d0e13a","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_08c0cce6_3507_478b_8aff_abff38fc49ea","uuid":"30c77917-4553-4bcf-9ad9-08918f2dcd42"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_da11565f_0ae8_48e8_a066_569b84be461c","uuid":"31259da5-668b-4768-bce7-3fc3c942d23f"},"edge_type":"create_action_edge","type":"","uuid":"f1dbfff6-906c-467d-9c02-d45f2c9f718e","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_e372d8fd_d7ad_4678_ac50_0517f533c9d4","uuid":"05cd9fd2-ad91-491e-9155-079e7a5b1119"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_e4258915_bb88_40f3_b138_34102b8832b5","uuid":"ed6b5bfa-bd4a-4711-aeaf-55e2c8b1fec4"},"edge_type":"create_action_edge","type":"","uuid":"cc639ac4-57f7-4a4a-b2b0-a21e664c2b41","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_9da256c1_17f2_4787_a501_f5b250fccce7","uuid":"6ae68f56-9a99-4f50-9dc1-4f260c65a1e9"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_e4258915_bb88_40f3_b138_34102b8832b5","uuid":"ed6b5bfa-bd4a-4711-aeaf-55e2c8b1fec4"},"edge_type":"create_action_edge","type":"","uuid":"bcb44174-91a1-421a-bc16-f65d7d72bfa6","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_e372d8fd_d7ad_4678_ac50_0517f533c9d4","uuid":"05cd9fd2-ad91-491e-9155-079e7a5b1119"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_ddef2352_c753_476e_8dff_ec9ec56a2872"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"fc1f95ab-10e1-4d1c-92c9-b67c4446d3e6","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"ff4974a5_deployment","uuid":"30b27cdf-628e-49d3-b6e5-6b82278e432d"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"6d2afcdd_runbook","uuid":"215f65d0-6496-443c-9017-6dec4743560f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"10e50ad4-c042-40a8-b6fd-db2f19bc85aa","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"ff4974a5_deployment","uuid":"30b27cdf-628e-49d3-b6e5-6b82278e432d"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"6631f4bd_runbook","uuid":"d80d8f71-625e-4530-bf85-66347f427405"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e"},{"target_any_local_reference":{"kind":"app_package","name":"AHVRouterPackage","uuid":"a5843e3f-6aa0-452e-801b-2940a59c8f83"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"a9716759-cd0e-4aaf-a19d-a3902b849335","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"ff4974a5_deployment","uuid":"30b27cdf-628e-49d3-b6e5-6b82278e432d"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_a5843e3f_6aa0_452e_801b_2940a59c8f83","uuid":"8799d723-e0a0-4e4d-96cf-a8b3a9ffe74c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_a5843e3f_6aa0_452e_801b_2940a59c8f83"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"4dfa47ad-d4a4-4d2b-86b4-24fc2917fd01","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment","uuid":"5ec3de5b-7545-40af-b8c9-5a62a56a9453"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"85883b0a_runbook","uuid":"42cf4c9d-d9e5-435e-b222-f2d33a05683f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"0e80c6ac-2351-49e5-abd8-a64ce08f2a01","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"86730684_deployment","uuid":"b4f16742-83ea-4655-ad4c-b84f9a91cee5"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"a33b20bd_runbook","uuid":"e6335ceb-f00b-4ec5-8425-3864e1897a7d"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"57732867-f8a4-4702-a790-2f1c35547557","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"86730684_deployment","uuid":"b4f16742-83ea-4655-ad4c-b84f9a91cee5"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"3c3538b9_runbook","uuid":"8625e87a-c851-44ac-9a8c-6808a1ac5574"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"9f058216-cc5c-4f72-8f59-97756d3d87d2","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment","uuid":"5ec3de5b-7545-40af-b8c9-5a62a56a9453"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"036f3879_runbook","uuid":"c6545ccb-d141-45bd-bf59-cf1e44946785"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47"},{"target_any_local_reference":{"kind":"app_package","name":"AHVConfigSetPackage","uuid":"da11565f-0ae8-48e8-a066-569b84be461c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"31259da5-668b-4768-bce7-3fc3c942d23f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"86730684_deployment","uuid":"b4f16742-83ea-4655-ad4c-b84f9a91cee5"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_da11565f_0ae8_48e8_a066_569b84be461c","uuid":"446b4d01-cf37-4d64-8ea1-ef6a6808144a"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_da11565f_0ae8_48e8_a066_569b84be461c"},{"target_any_local_reference":{"kind":"app_package","name":"AHVDataSetPackage","uuid":"e4258915-bb88-40f3-b138-34102b8832b5"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"ed6b5bfa-bd4a-4711-aeaf-55e2c8b1fec4","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment","uuid":"5ec3de5b-7545-40af-b8c9-5a62a56a9453"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_e4258915_bb88_40f3_b138_34102b8832b5","uuid":"bba437f8-e577-4c53-884b-3e88581b60c6"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_e4258915_bb88_40f3_b138_34102b8832b5"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVDataSet","uuid":"08c0cce6-3507-478b-8aff-abff38fc49ea"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"30c77917-4553-4bcf-9ad9-08918f2dcd42","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment","uuid":"5ec3de5b-7545-40af-b8c9-5a62a56a9453"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_08c0cce6_3507_478b_8aff_abff38fc49ea","uuid":"7386e339-8f83-40bc-b7c8-cd86fd430338"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Substrate_08c0cce6_3507_478b_8aff_abff38fc49ea"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVConfigSet","uuid":"9da256c1-17f2-4787-a501-f5b250fccce7"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"6ae68f56-9a99-4f50-9dc1-4f260c65a1e9","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"86730684_deployment","uuid":"b4f16742-83ea-4655-ad4c-b84f9a91cee5"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_9da256c1_17f2_4787_a501_f5b250fccce7","uuid":"4be5abd0-247c-4ad8-ba24-f0a0bb0d2e15"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Substrate_9da256c1_17f2_4787_a501_f5b250fccce7"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVRouter","uuid":"e372d8fd-d7ad-4678-ac50-0517f533c9d4"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"05cd9fd2-ad91-491e-9155-079e7a5b1119","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"ff4974a5_deployment","uuid":"30b27cdf-628e-49d3-b6e5-6b82278e432d"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_e372d8fd_d7ad_4678_ac50_0517f533c9d4","uuid":"dc822d75-6f06-4c36-a89a-0e90ea0c9c91"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Substrate_e372d8fd_d7ad_4678_ac50_0517f533c9d4"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"ff4974a5_deployment","uuid":"30b27cdf-628e-49d3-b6e5-6b82278e432d"},"retries":"0","description":"","type":"DELETE_DEPLOYMENT_ELEMENT","uuid":"99300e5d-c787-4e31-b46f-eafcdfcc4e0e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Delete_30b27cdf_628e_49d3_b6e5_6b82278e432d"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment","uuid":"5ec3de5b-7545-40af-b8c9-5a62a56a9453"},"retries":"0","description":"","type":"DELETE_DEPLOYMENT_ELEMENT","uuid":"7991015b-96c3-4b3a-808d-119d5c0ebb2a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Delete_5ec3de5b_7545_40af_b8c9_5a62a56a9453"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"86730684_deployment","uuid":"b4f16742-83ea-4655-ad4c-b84f9a91cee5"},"retries":"0","description":"","type":"DELETE_DEPLOYMENT_ELEMENT","uuid":"6817e384-910b-42eb-935a-e13aeb01198e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Delete_b4f16742_83ea_4655_ad4c_b84f9a91cee5"}],"description":"","message_list":[],"uuid":"4028af54-c0c4-490a-aa1c-35580198c056","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_ddef2352_c753_476e_8dff_ec9ec56a2872","uuid":"36ba4473-6e70-43f0-a444-ad26c0c1b4cc"},"name":"SYS_GEN__Runbook_Application_ddef2352_c753_476e_8dff_ec9ec56a2872"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"0d71ef8e-a014-430d-ac3d-2afbe7e9a6d9","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"Nutanix","uuid":"ddef2352-c753-476e-8dff-ec9ec56a2872"},"retries":"0","description":"","type":"DAG","uuid":"91580570-75de-45b9-ac23-4584cb5c7544","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"22c860a4-afe5-4a54-9bee-f8c722f496f5"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_a5843e3f_6aa0_452e_801b_2940a59c8f83","uuid":"99c16205-6ea7-4977-872d-2e21b9547b0c"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"cce97019-3ebe-4161-aa34-e5d29cc73e8d"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"3ac45bbd-b31e-4e36-845e-f55009b69297"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_da11565f_0ae8_48e8_a066_569b84be461c","uuid":"02f3d1be-c879-4799-a4f0-b199c7b1868e"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_e4258915_bb88_40f3_b138_34102b8832b5","uuid":"3df634d4-4dda-483e-af9b-cdbf2f6f182b"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_08c0cce6_3507_478b_8aff_abff38fc49ea","uuid":"b1c7289c-0ea1-4950-8707-ee01dde15d2f"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_e372d8fd_d7ad_4678_ac50_0517f533c9d4","uuid":"f31ab52e-53bf-46fa-b9fc-4b40fbc57b08"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_9da256c1_17f2_4787_a501_f5b250fccce7","uuid":"c10dc837-82a5-4212-aa65-a195fd4eb5f2"},{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_30b27cdf_628e_49d3_b6e5_6b82278e432d","uuid":"de17078f-92f3-4230-9e85-a5d0fdd006b7"},{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_b4f16742_83ea_4655_ad4c_b84f9a91cee5","uuid":"0762b4e0-7e8c-4da7-92bb-c6efb229e706"},{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_5ec3de5b_7545_40af_b8c9_5a62a56a9453","uuid":"72a31a73-1f96-4933-b19e-69c1682badce"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"22c860a4-afe5-4a54-9bee-f8c722f496f5"},"edge_type":"inherent","type":"","uuid":"704f07b8-8d62-48f0-b4ca-d8660878bb58","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_a5843e3f_6aa0_452e_801b_2940a59c8f83","uuid":"99c16205-6ea7-4977-872d-2e21b9547b0c"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_a5843e3f_6aa0_452e_801b_2940a59c8f83","uuid":"99c16205-6ea7-4977-872d-2e21b9547b0c"},"edge_type":"inherent","type":"","uuid":"55eb0e93-b0a9-4454-a560-952b39a20f74","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_e372d8fd_d7ad_4678_ac50_0517f533c9d4","uuid":"f31ab52e-53bf-46fa-b9fc-4b40fbc57b08"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_e372d8fd_d7ad_4678_ac50_0517f533c9d4","uuid":"f31ab52e-53bf-46fa-b9fc-4b40fbc57b08"},"edge_type":"inherent","type":"","uuid":"cf3b4e6f-8091-48f4-8b9b-5242232e8fca","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_30b27cdf_628e_49d3_b6e5_6b82278e432d","uuid":"de17078f-92f3-4230-9e85-a5d0fdd006b7"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"cce97019-3ebe-4161-aa34-e5d29cc73e8d"},"edge_type":"inherent","type":"","uuid":"bf3edd0d-e6bb-4785-b4b1-99cbff11120b","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_da11565f_0ae8_48e8_a066_569b84be461c","uuid":"02f3d1be-c879-4799-a4f0-b199c7b1868e"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_9da256c1_17f2_4787_a501_f5b250fccce7","uuid":"c10dc837-82a5-4212-aa65-a195fd4eb5f2"},"edge_type":"inherent","type":"","uuid":"bf3097e7-e97a-4769-a0d5-874fe541a756","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_b4f16742_83ea_4655_ad4c_b84f9a91cee5","uuid":"0762b4e0-7e8c-4da7-92bb-c6efb229e706"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_da11565f_0ae8_48e8_a066_569b84be461c","uuid":"02f3d1be-c879-4799-a4f0-b199c7b1868e"},"edge_type":"inherent","type":"","uuid":"856afecd-f217-4232-ac2b-84c452353eed","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_9da256c1_17f2_4787_a501_f5b250fccce7","uuid":"c10dc837-82a5-4212-aa65-a195fd4eb5f2"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"3ac45bbd-b31e-4e36-845e-f55009b69297"},"edge_type":"inherent","type":"","uuid":"7b990ed7-6347-4345-8195-8173dc76053a","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_e4258915_bb88_40f3_b138_34102b8832b5","uuid":"3df634d4-4dda-483e-af9b-cdbf2f6f182b"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_08c0cce6_3507_478b_8aff_abff38fc49ea","uuid":"b1c7289c-0ea1-4950-8707-ee01dde15d2f"},"edge_type":"inherent","type":"","uuid":"0ecae624-a9a8-4377-b39d-c55ef3f9a26e","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_5ec3de5b_7545_40af_b8c9_5a62a56a9453","uuid":"72a31a73-1f96-4933-b19e-69c1682badce"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_e4258915_bb88_40f3_b138_34102b8832b5","uuid":"3df634d4-4dda-483e-af9b-cdbf2f6f182b"},"edge_type":"inherent","type":"","uuid":"6ee42b44-f404-453d-ad1f-f8e00b393b9f","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_08c0cce6_3507_478b_8aff_abff38fc49ea","uuid":"b1c7289c-0ea1-4950-8707-ee01dde15d2f"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_a5843e3f_6aa0_452e_801b_2940a59c8f83","uuid":"99c16205-6ea7-4977-872d-2e21b9547b0c"},"edge_type":"create_action_edge","type":"","uuid":"a4792335-a355-41f3-98c4-7402c2f0b767","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_08c0cce6_3507_478b_8aff_abff38fc49ea","uuid":"b1c7289c-0ea1-4950-8707-ee01dde15d2f"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_a5843e3f_6aa0_452e_801b_2940a59c8f83","uuid":"99c16205-6ea7-4977-872d-2e21b9547b0c"},"edge_type":"create_action_edge","type":"","uuid":"d8e8b018-785e-4b34-9554-aa00b971d700","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_9da256c1_17f2_4787_a501_f5b250fccce7","uuid":"c10dc837-82a5-4212-aa65-a195fd4eb5f2"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_a5843e3f_6aa0_452e_801b_2940a59c8f83","uuid":"99c16205-6ea7-4977-872d-2e21b9547b0c"},"edge_type":"create_action_edge","type":"","uuid":"7a0a238e-a43f-46cc-846d-7d629b444cee","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"cce97019-3ebe-4161-aa34-e5d29cc73e8d"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_a5843e3f_6aa0_452e_801b_2940a59c8f83","uuid":"99c16205-6ea7-4977-872d-2e21b9547b0c"},"edge_type":"create_action_edge","type":"","uuid":"839071f0-676c-48ea-8869-28566c6df96a","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"3ac45bbd-b31e-4e36-845e-f55009b69297"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_da11565f_0ae8_48e8_a066_569b84be461c","uuid":"02f3d1be-c879-4799-a4f0-b199c7b1868e"},"edge_type":"create_action_edge","type":"","uuid":"651adae1-59a9-410e-a2a5-a3d340d917fb","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_08c0cce6_3507_478b_8aff_abff38fc49ea","uuid":"b1c7289c-0ea1-4950-8707-ee01dde15d2f"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_da11565f_0ae8_48e8_a066_569b84be461c","uuid":"02f3d1be-c879-4799-a4f0-b199c7b1868e"},"edge_type":"create_action_edge","type":"","uuid":"d4c7b530-0a8d-4190-bae2-7ecc6070b721","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_e372d8fd_d7ad_4678_ac50_0517f533c9d4","uuid":"f31ab52e-53bf-46fa-b9fc-4b40fbc57b08"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_e4258915_bb88_40f3_b138_34102b8832b5","uuid":"3df634d4-4dda-483e-af9b-cdbf2f6f182b"},"edge_type":"create_action_edge","type":"","uuid":"c840b5f4-d925-4fbd-b1fb-87ed806b05ed","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_9da256c1_17f2_4787_a501_f5b250fccce7","uuid":"c10dc837-82a5-4212-aa65-a195fd4eb5f2"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_e4258915_bb88_40f3_b138_34102b8832b5","uuid":"3df634d4-4dda-483e-af9b-cdbf2f6f182b"},"edge_type":"create_action_edge","type":"","uuid":"a9d43030-3de0-4649-9481-e1a03fd62c1a","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_e372d8fd_d7ad_4678_ac50_0517f533c9d4","uuid":"f31ab52e-53bf-46fa-b9fc-4b40fbc57b08"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_ddef2352_c753_476e_8dff_ec9ec56a2872"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"22c860a4-afe5-4a54-9bee-f8c722f496f5","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"ff4974a5_deployment","uuid":"30b27cdf-628e-49d3-b6e5-6b82278e432d"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"3fe61be2-c077-40a8-91a6-e9e75a5d2af3"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e"},{"target_any_local_reference":{"kind":"app_package","name":"AHVRouterPackage","uuid":"a5843e3f-6aa0-452e-801b-2940a59c8f83"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"99c16205-6ea7-4977-872d-2e21b9547b0c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_a5843e3f_6aa0_452e_801b_2940a59c8f83"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"cce97019-3ebe-4161-aa34-e5d29cc73e8d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"86730684_deployment","uuid":"b4f16742-83ea-4655-ad4c-b84f9a91cee5"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"71c44ff6-8283-4578-8e15-dbf648d09ee4"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"3ac45bbd-b31e-4e36-845e-f55009b69297","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment","uuid":"5ec3de5b-7545-40af-b8c9-5a62a56a9453"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"433fbe65-0fc7-4649-a088-87d5660f88a6"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47"},{"target_any_local_reference":{"kind":"app_package","name":"AHVConfigSetPackage","uuid":"da11565f-0ae8-48e8-a066-569b84be461c"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"02f3d1be-c879-4799-a4f0-b199c7b1868e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_da11565f_0ae8_48e8_a066_569b84be461c"},{"target_any_local_reference":{"kind":"app_package","name":"AHVDataSetPackage","uuid":"e4258915-bb88-40f3-b138-34102b8832b5"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"3df634d4-4dda-483e-af9b-cdbf2f6f182b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_e4258915_bb88_40f3_b138_34102b8832b5"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVDataSet","uuid":"08c0cce6-3507-478b-8aff-abff38fc49ea"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"b1c7289c-0ea1-4950-8707-ee01dde15d2f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment","uuid":"5ec3de5b-7545-40af-b8c9-5a62a56a9453"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_08c0cce6_3507_478b_8aff_abff38fc49ea","uuid":"142a8576-e99d-4164-a4ae-356279683990"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Substrate_08c0cce6_3507_478b_8aff_abff38fc49ea"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVRouter","uuid":"e372d8fd-d7ad-4678-ac50-0517f533c9d4"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"f31ab52e-53bf-46fa-b9fc-4b40fbc57b08","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"ff4974a5_deployment","uuid":"30b27cdf-628e-49d3-b6e5-6b82278e432d"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_e372d8fd_d7ad_4678_ac50_0517f533c9d4","uuid":"5d51122e-ccea-4c32-a1c4-5e0b1bee6413"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Substrate_e372d8fd_d7ad_4678_ac50_0517f533c9d4"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVConfigSet","uuid":"9da256c1-17f2-4787-a501-f5b250fccce7"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"c10dc837-82a5-4212-aa65-a195fd4eb5f2","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"86730684_deployment","uuid":"b4f16742-83ea-4655-ad4c-b84f9a91cee5"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_9da256c1_17f2_4787_a501_f5b250fccce7","uuid":"b12b8baf-b3a6-48d8-a184-beac4602d6ed"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Substrate_9da256c1_17f2_4787_a501_f5b250fccce7"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"ff4974a5_deployment","uuid":"30b27cdf-628e-49d3-b6e5-6b82278e432d"},"retries":"0","description":"","type":"SOFT_DELETE_DEPLOYMENT_ELEMENT","uuid":"de17078f-92f3-4230-9e85-a5d0fdd006b7","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Soft_Delete_30b27cdf_628e_49d3_b6e5_6b82278e432d"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"86730684_deployment","uuid":"b4f16742-83ea-4655-ad4c-b84f9a91cee5"},"retries":"0","description":"","type":"SOFT_DELETE_DEPLOYMENT_ELEMENT","uuid":"0762b4e0-7e8c-4da7-92bb-c6efb229e706","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Soft_Delete_b4f16742_83ea_4655_ad4c_b84f9a91cee5"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment","uuid":"5ec3de5b-7545-40af-b8c9-5a62a56a9453"},"retries":"0","description":"","type":"SOFT_DELETE_DEPLOYMENT_ELEMENT","uuid":"72a31a73-1f96-4933-b19e-69c1682badce","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Soft_Delete_5ec3de5b_7545_40af_b8c9_5a62a56a9453"}],"description":"","message_list":[],"uuid":"8d81710d-3018-43a6-96b0-f3c06f738e09","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_ddef2352_c753_476e_8dff_ec9ec56a2872","uuid":"91580570-75de-45b9-ac23-4584cb5c7544"},"name":"SYS_GEN__Runbook_Application_ddef2352_c753_476e_8dff_ec9ec56a2872"}}],"message_list":[],"uuid":"ddef2352-c753-476e-8dff-ec9ec56a2872","state":"ACTIVE","dependency_list":[{"getter_resource_kind":"PackageCfg","setter_resource_attr":"address","setter_resource_kind":"SubstrateCfg","setter_resource_name":"AHVDataSet","action_name":"action_create","action_resource_name":"Nutanix","getter_resource_name":"AHVRouterPackage","action_resource_kind":"ApplicationCfg"},{"getter_resource_kind":"PackageCfg","setter_resource_attr":"address","setter_resource_kind":"SubstrateCfg","setter_resource_name":"AHVConfigSet","action_name":"action_create","action_resource_name":"Nutanix","getter_resource_name":"AHVRouterPackage","action_resource_kind":"ApplicationCfg"},{"getter_resource_kind":"PackageCfg","setter_resource_attr":"address","setter_resource_kind":"ServiceCfg","setter_resource_name":"ConfigSet","action_name":"action_create","action_resource_name":"Nutanix","getter_resource_name":"AHVRouterPackage","action_resource_kind":"ApplicationCfg"},{"getter_resource_kind":"PackageCfg","setter_resource_attr":"address","setter_resource_kind":"ServiceCfg","setter_resource_name":"DataSet","action_name":"action_create","action_resource_name":"Nutanix","getter_resource_name":"AHVRouterPackage","action_resource_kind":"ApplicationCfg"},{"getter_resource_kind":"PackageCfg","setter_resource_attr":"address","setter_resource_kind":"SubstrateCfg","setter_resource_name":"AHVDataSet","action_name":"action_create","action_resource_name":"Nutanix","getter_resource_name":"AHVConfigSetPackage","action_resource_kind":"ApplicationCfg"},{"getter_resource_kind":"PackageCfg","setter_resource_attr":"address","setter_resource_kind":"SubstrateCfg","setter_resource_name":"AHVRouter","action_name":"action_create","action_resource_name":"Nutanix","getter_resource_name":"AHVConfigSetPackage","action_resource_kind":"ApplicationCfg"},{"getter_resource_kind":"PackageCfg","setter_resource_attr":"address","setter_resource_kind":"SubstrateCfg","setter_resource_name":"AHVConfigSet","action_name":"action_create","action_resource_name":"Nutanix","getter_resource_name":"AHVDataSetPackage","action_resource_kind":"ApplicationCfg"},{"getter_resource_kind":"PackageCfg","setter_resource_attr":"address","setter_resource_kind":"SubstrateCfg","setter_resource_name":"AHVRouter","action_name":"action_create","action_resource_name":"Nutanix","getter_resource_name":"AHVDataSetPackage","action_resource_kind":"ApplicationCfg"}],"variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"d2aebe0c-0903-451f-94cf-d1851c79f920","value":"3.4.2","label":"","state":"ACTIVE","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"MONGO_VERSION"},{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"e4dd821e-a880-4c1c-a3b5-737f25202a70","value":"3","label":"","state":"ACTIVE","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"NODES_PER_REPLICA_SET"},{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"46b2d5d5-83ae-42f8-98a7-4bbebda8e904","value":"\/mongodb\/data","label":"","state":"ACTIVE","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"DATA_PATH"},{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"adc28b5c-39fc-4220-8f9b-cd9d7679d0f2","value":"\/mongodb\/journal","label":"","state":"ACTIVE","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"JOURNAL_PATH"},{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"5448131c-fce3-4c34-a539-f74ca34b7c34","value":"\/mongodb\/log","label":"","state":"ACTIVE","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"LOG_PATH"}],"name":"Nutanix"},{"deployment_create_list":[{"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"81dd5d87-d0cd-4482-9b77-7ec8b1ccff3f","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9b5d5dea_deployment","uuid":"4c8b8533-7a13-4d9e-8f75-17180ffa6741"},"retries":"0","description":"","type":"DAG","uuid":"dcad35c5-ac76-44c5-932e-d8233e0be9ce","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__DE_Provision_4c8b8533_7a13_4d9e_8f75_17180ffa6741","uuid":"adecb9db-19b5-4444-a55c-7387c4e78f95"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_2edf2b2d_2087_4a99_a074_e95c34b101c6","uuid":"75fe4515-5011-46a0-8635-78de5f52cbcf"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_f0a49fbc_a771_4f3a_b889_550b2c7eea0a","uuid":"f5c618cc-d198-4115-bd01-3255d725e65b"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"b82354d9-1841-41a4-b8ad-d07439b1ebbf"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"d63b98f3-6ff6-4a43-b1e4-d5d6da62b478"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"b82354d9-1841-41a4-b8ad-d07439b1ebbf"},"edge_type":"inherent","type":"","uuid":"d1a8d85d-811f-4213-a8b2-241eb8b1418a","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"d63b98f3-6ff6-4a43-b1e4-d5d6da62b478"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_f0a49fbc_a771_4f3a_b889_550b2c7eea0a","uuid":"f5c618cc-d198-4115-bd01-3255d725e65b"},"edge_type":"inherent","type":"","uuid":"138350da-51d3-4fdc-99ca-ad1ea1760cad","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"b82354d9-1841-41a4-b8ad-d07439b1ebbf"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_4c8b8533_7a13_4d9e_8f75_17180ffa6741","uuid":"adecb9db-19b5-4444-a55c-7387c4e78f95"},"edge_type":"inherent","type":"","uuid":"e8e02348-f2a6-46b2-91af-69560a8535a6","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_2edf2b2d_2087_4a99_a074_e95c34b101c6","uuid":"75fe4515-5011-46a0-8635-78de5f52cbcf"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_2edf2b2d_2087_4a99_a074_e95c34b101c6","uuid":"75fe4515-5011-46a0-8635-78de5f52cbcf"},"edge_type":"inherent","type":"","uuid":"131aa620-b805-4ec0-8932-aea5268bff16","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_f0a49fbc_a771_4f3a_b889_550b2c7eea0a","uuid":"f5c618cc-d198-4115-bd01-3255d725e65b"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_4c8b8533_7a13_4d9e_8f75_17180ffa6741"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9b5d5dea_deployment","uuid":"4c8b8533-7a13-4d9e-8f75-17180ffa6741"},"retries":"0","description":"","type":"CREATE_DEPLOYMENT_ELEMENT","uuid":"adecb9db-19b5-4444-a55c-7387c4e78f95","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Provision_4c8b8533_7a13_4d9e_8f75_17180ffa6741"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSRouter","uuid":"2edf2b2d-2087-4a99-a074-e95c34b101c6"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"75fe4515-5011-46a0-8635-78de5f52cbcf","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9b5d5dea_deployment","uuid":"4c8b8533-7a13-4d9e-8f75-17180ffa6741"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_2edf2b2d_2087_4a99_a074_e95c34b101c6","uuid":"b846cb74-1e89-4ff2-802e-4af7fc025929"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Substrate_2edf2b2d_2087_4a99_a074_e95c34b101c6"},{"target_any_local_reference":{"kind":"app_package","name":"AWSRouterPackage","uuid":"f0a49fbc-a771-4f3a-b889-550b2c7eea0a"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"f5c618cc-d198-4115-bd01-3255d725e65b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9b5d5dea_deployment","uuid":"4c8b8533-7a13-4d9e-8f75-17180ffa6741"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_f0a49fbc_a771_4f3a_b889_550b2c7eea0a","uuid":"3d764afa-fb73-4c68-ac00-f8e57fc14ca3"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_f0a49fbc_a771_4f3a_b889_550b2c7eea0a"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"b82354d9-1841-41a4-b8ad-d07439b1ebbf","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9b5d5dea_deployment","uuid":"4c8b8533-7a13-4d9e-8f75-17180ffa6741"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"f678ba44_runbook","uuid":"6f256634-e57a-41ea-a837-438a40018db7"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"d63b98f3-6ff6-4a43-b1e4-d5d6da62b478","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9b5d5dea_deployment","uuid":"4c8b8533-7a13-4d9e-8f75-17180ffa6741"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"6729beee_runbook","uuid":"28341bf4-2766-4701-8747-1722ed61db3c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e"}],"description":"","message_list":[],"uuid":"bc8bdea7-2bcc-4c14-889d-db97dac399a0","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_4c8b8533_7a13_4d9e_8f75_17180ffa6741","uuid":"dcad35c5-ac76-44c5-932e-d8233e0be9ce"},"name":"SYS_GEN__Runbook_Deployment_4c8b8533_7a13_4d9e_8f75_17180ffa6741"}},{"description":"System action for starting an application","message_list":[],"uuid":"701de835-bb39-4f9c-9342-3b37c5f2c3a3","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9b5d5dea_deployment","uuid":"4c8b8533-7a13-4d9e-8f75-17180ffa6741"},"retries":"0","description":"","type":"DAG","uuid":"d97847ba-f9a6-4866-8150-c9d440feb293","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_2edf2b2d_2087_4a99_a074_e95c34b101c6","uuid":"829ab58d-6b16-4b55-a008-1e8cb7cb517a"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"2ce210de-e86a-4b83-a876-3347a561be74"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_2edf2b2d_2087_4a99_a074_e95c34b101c6","uuid":"829ab58d-6b16-4b55-a008-1e8cb7cb517a"},"edge_type":"inherent","type":"","uuid":"3f6173a9-b8c8-494f-ad4a-bb2c09906f16","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"2ce210de-e86a-4b83-a876-3347a561be74"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_4c8b8533_7a13_4d9e_8f75_17180ffa6741"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSRouter","uuid":"2edf2b2d-2087-4a99-a074-e95c34b101c6"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"829ab58d-6b16-4b55-a008-1e8cb7cb517a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9b5d5dea_deployment","uuid":"4c8b8533-7a13-4d9e-8f75-17180ffa6741"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_2edf2b2d_2087_4a99_a074_e95c34b101c6","uuid":"0e714ecb-a848-4101-bb03-f0caa8ba55f2"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Substrate_2edf2b2d_2087_4a99_a074_e95c34b101c6"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"2ce210de-e86a-4b83-a876-3347a561be74","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9b5d5dea_deployment","uuid":"4c8b8533-7a13-4d9e-8f75-17180ffa6741"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"6729beee_runbook","uuid":"28341bf4-2766-4701-8747-1722ed61db3c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e"}],"description":"","message_list":[],"uuid":"5e7bcc57-0bd7-48ce-a452-39a2d8bcf8c1","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_4c8b8533_7a13_4d9e_8f75_17180ffa6741","uuid":"d97847ba-f9a6-4866-8150-c9d440feb293"},"name":"SYS_GEN__Runbook_Deployment_4c8b8533_7a13_4d9e_8f75_17180ffa6741"}},{"description":"System action for restarting an application","message_list":[],"uuid":"04096d35-d54c-4e4a-aed4-b1c0796a2fe3","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9b5d5dea_deployment","uuid":"4c8b8533-7a13-4d9e-8f75-17180ffa6741"},"retries":"0","description":"","type":"DAG","uuid":"4d2ed428-a048-4cba-8b18-960c35857ef1","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_2edf2b2d_2087_4a99_a074_e95c34b101c6","uuid":"7049c157-f165-46ad-bc56-f0bee99bc936"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"1cadf3ec-fc8f-4704-8ce0-18693ca42ce7"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_2edf2b2d_2087_4a99_a074_e95c34b101c6","uuid":"7049c157-f165-46ad-bc56-f0bee99bc936"},"edge_type":"inherent","type":"","uuid":"511a6b2f-287f-4aa8-a82f-be4ed9312d70","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"1cadf3ec-fc8f-4704-8ce0-18693ca42ce7"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_4c8b8533_7a13_4d9e_8f75_17180ffa6741"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSRouter","uuid":"2edf2b2d-2087-4a99-a074-e95c34b101c6"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"7049c157-f165-46ad-bc56-f0bee99bc936","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9b5d5dea_deployment","uuid":"4c8b8533-7a13-4d9e-8f75-17180ffa6741"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_2edf2b2d_2087_4a99_a074_e95c34b101c6","uuid":"a5503768-a0c1-40f9-9f83-7179f166f1d7"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Substrate_2edf2b2d_2087_4a99_a074_e95c34b101c6"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"1cadf3ec-fc8f-4704-8ce0-18693ca42ce7","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9b5d5dea_deployment","uuid":"4c8b8533-7a13-4d9e-8f75-17180ffa6741"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"5261a312_runbook","uuid":"dcdcb0d6-e68b-4641-8609-e6dc92c57b21"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e"}],"description":"","message_list":[],"uuid":"17f7afa5-0a98-45f3-8c6a-fd1459d71687","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_4c8b8533_7a13_4d9e_8f75_17180ffa6741","uuid":"4d2ed428-a048-4cba-8b18-960c35857ef1"},"name":"SYS_GEN__Runbook_Deployment_4c8b8533_7a13_4d9e_8f75_17180ffa6741"}},{"description":"System action for stopping an application","message_list":[],"uuid":"e56e83d3-0b44-43b1-b297-306d42d16efd","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9b5d5dea_deployment","uuid":"4c8b8533-7a13-4d9e-8f75-17180ffa6741"},"retries":"0","description":"","type":"DAG","uuid":"c8c48743-12c3-4b08-bda9-257e071240bd","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"63aa09b4-7d2c-4eb2-a953-6f080a6de4d9"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_2edf2b2d_2087_4a99_a074_e95c34b101c6","uuid":"b8a428f1-9bfb-46ff-aa4b-3f1993475f5a"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"63aa09b4-7d2c-4eb2-a953-6f080a6de4d9"},"edge_type":"inherent","type":"","uuid":"f9de063c-82ed-4931-a096-ff9f45d47bf6","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_2edf2b2d_2087_4a99_a074_e95c34b101c6","uuid":"b8a428f1-9bfb-46ff-aa4b-3f1993475f5a"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_4c8b8533_7a13_4d9e_8f75_17180ffa6741"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"63aa09b4-7d2c-4eb2-a953-6f080a6de4d9","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9b5d5dea_deployment","uuid":"4c8b8533-7a13-4d9e-8f75-17180ffa6741"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"6d2afcdd_runbook","uuid":"215f65d0-6496-443c-9017-6dec4743560f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSRouter","uuid":"2edf2b2d-2087-4a99-a074-e95c34b101c6"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"b8a428f1-9bfb-46ff-aa4b-3f1993475f5a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9b5d5dea_deployment","uuid":"4c8b8533-7a13-4d9e-8f75-17180ffa6741"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_2edf2b2d_2087_4a99_a074_e95c34b101c6","uuid":"65b7f6fd-abaa-40cb-b48b-70df62a88e1c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Substrate_2edf2b2d_2087_4a99_a074_e95c34b101c6"}],"description":"","message_list":[],"uuid":"7c748513-47f0-4e08-9ad7-4ff13417a1d7","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_4c8b8533_7a13_4d9e_8f75_17180ffa6741","uuid":"c8c48743-12c3-4b08-bda9-257e071240bd"},"name":"SYS_GEN__Runbook_Deployment_4c8b8533_7a13_4d9e_8f75_17180ffa6741"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"84282db4-37fa-467e-8847-0caa68a81067","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9b5d5dea_deployment","uuid":"4c8b8533-7a13-4d9e-8f75-17180ffa6741"},"retries":"0","description":"","type":"DAG","uuid":"3f7f2eb3-d399-4504-aeba-be9fa1e6a53c","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"b302cff5-5c4c-4c2b-89b9-bd7af69c8ce2"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"2396694e-cdec-48ef-86b8-008eadc348ed"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_f0a49fbc_a771_4f3a_b889_550b2c7eea0a","uuid":"e0d00089-132e-4084-a5d9-da058d17f1c1"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_2edf2b2d_2087_4a99_a074_e95c34b101c6","uuid":"43f407d2-767d-433a-8e88-9eb8b9e3f4ad"},{"kind":"app_task","name":"SYS_GEN__DE_Delete_4c8b8533_7a13_4d9e_8f75_17180ffa6741","uuid":"1aee2267-c192-4f9e-8d9a-e61a77347071"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"b302cff5-5c4c-4c2b-89b9-bd7af69c8ce2"},"edge_type":"inherent","type":"","uuid":"cd7b3697-db8f-452e-a5c7-64800d2ef7b9","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"2396694e-cdec-48ef-86b8-008eadc348ed"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"2396694e-cdec-48ef-86b8-008eadc348ed"},"edge_type":"inherent","type":"","uuid":"6887bd6d-c9ae-4487-bbe6-49fd96658d83","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_f0a49fbc_a771_4f3a_b889_550b2c7eea0a","uuid":"e0d00089-132e-4084-a5d9-da058d17f1c1"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_2edf2b2d_2087_4a99_a074_e95c34b101c6","uuid":"43f407d2-767d-433a-8e88-9eb8b9e3f4ad"},"edge_type":"inherent","type":"","uuid":"417936e6-a5de-44f1-a77f-86c26581f0cf","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Delete_4c8b8533_7a13_4d9e_8f75_17180ffa6741","uuid":"1aee2267-c192-4f9e-8d9a-e61a77347071"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_f0a49fbc_a771_4f3a_b889_550b2c7eea0a","uuid":"e0d00089-132e-4084-a5d9-da058d17f1c1"},"edge_type":"inherent","type":"","uuid":"816d2ce0-15c4-45e9-b297-14486c448a4b","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_2edf2b2d_2087_4a99_a074_e95c34b101c6","uuid":"43f407d2-767d-433a-8e88-9eb8b9e3f4ad"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_4c8b8533_7a13_4d9e_8f75_17180ffa6741"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"b302cff5-5c4c-4c2b-89b9-bd7af69c8ce2","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9b5d5dea_deployment","uuid":"4c8b8533-7a13-4d9e-8f75-17180ffa6741"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"6d2afcdd_runbook","uuid":"215f65d0-6496-443c-9017-6dec4743560f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"2396694e-cdec-48ef-86b8-008eadc348ed","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9b5d5dea_deployment","uuid":"4c8b8533-7a13-4d9e-8f75-17180ffa6741"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"6631f4bd_runbook","uuid":"d80d8f71-625e-4530-bf85-66347f427405"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e"},{"target_any_local_reference":{"kind":"app_package","name":"AWSRouterPackage","uuid":"f0a49fbc-a771-4f3a-b889-550b2c7eea0a"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"e0d00089-132e-4084-a5d9-da058d17f1c1","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9b5d5dea_deployment","uuid":"4c8b8533-7a13-4d9e-8f75-17180ffa6741"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_f0a49fbc_a771_4f3a_b889_550b2c7eea0a","uuid":"8645867a-c2f5-451f-90dc-d2f1f3711561"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_f0a49fbc_a771_4f3a_b889_550b2c7eea0a"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSRouter","uuid":"2edf2b2d-2087-4a99-a074-e95c34b101c6"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"43f407d2-767d-433a-8e88-9eb8b9e3f4ad","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9b5d5dea_deployment","uuid":"4c8b8533-7a13-4d9e-8f75-17180ffa6741"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_2edf2b2d_2087_4a99_a074_e95c34b101c6","uuid":"fecd292d-0803-4718-ab23-800447745090"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Substrate_2edf2b2d_2087_4a99_a074_e95c34b101c6"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9b5d5dea_deployment","uuid":"4c8b8533-7a13-4d9e-8f75-17180ffa6741"},"retries":"0","description":"","type":"DELETE_DEPLOYMENT_ELEMENT","uuid":"1aee2267-c192-4f9e-8d9a-e61a77347071","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Delete_4c8b8533_7a13_4d9e_8f75_17180ffa6741"}],"description":"","message_list":[],"uuid":"4cccdb6e-de40-41a9-958d-ceec5b87da26","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_4c8b8533_7a13_4d9e_8f75_17180ffa6741","uuid":"3f7f2eb3-d399-4504-aeba-be9fa1e6a53c"},"name":"SYS_GEN__Runbook_Deployment_4c8b8533_7a13_4d9e_8f75_17180ffa6741"}},{"description":"System action for scaleout","message_list":[],"uuid":"0613f38c-a564-422f-89de-1868eaadcc8b","name":"action_scaleout","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9b5d5dea_deployment","uuid":"4c8b8533-7a13-4d9e-8f75-17180ffa6741"},"retries":"0","description":"","type":"DAG","uuid":"04bf0749-d131-40a1-9ebe-067b4c01cbae","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Deployment_Scaleout_4c8b8533_7a13_4d9e_8f75_17180ffa6741","uuid":"b142f648-8168-498c-8cf9-02d0e99e0bff"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_4c8b8533_7a13_4d9e_8f75_17180ffa6741"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9b5d5dea_deployment","uuid":"4c8b8533-7a13-4d9e-8f75-17180ffa6741"},"retries":"0","description":"","type":"SCALING","uuid":"b142f648-8168-498c-8cf9-02d0e99e0bff","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{scaling_count}@@","type":"","scaling_type":"SCALEOUT"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Deployment_Scaleout_4c8b8533_7a13_4d9e_8f75_17180ffa6741"}],"description":"","message_list":[],"uuid":"9d35c15c-e8fd-4d55-bc49-551c4ca2733d","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"afb095e7-31cd-42b9-9ebb-d29c06eeede0","value":"0","label":"","state":"NOT_VALIDATED","attrs":{},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"scaling_count"}],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_4c8b8533_7a13_4d9e_8f75_17180ffa6741","uuid":"04bf0749-d131-40a1-9ebe-067b4c01cbae"},"name":"SYS_GEN__Runbook_Deployment_4c8b8533_7a13_4d9e_8f75_17180ffa6741"}},{"description":"System action for scalein","message_list":[],"uuid":"1ec0d1f2-91a9-4dee-b9e2-c57e46174edd","name":"action_scalein","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9b5d5dea_deployment","uuid":"4c8b8533-7a13-4d9e-8f75-17180ffa6741"},"retries":"0","description":"","type":"DAG","uuid":"e4c512ea-4f60-4d13-a39b-15f79bcc2fdb","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Deployment_Scalein_4c8b8533_7a13_4d9e_8f75_17180ffa6741","uuid":"b284960b-2861-4338-a7a4-b5f96eba5f93"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_4c8b8533_7a13_4d9e_8f75_17180ffa6741"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9b5d5dea_deployment","uuid":"4c8b8533-7a13-4d9e-8f75-17180ffa6741"},"retries":"0","description":"","type":"SCALING","uuid":"b284960b-2861-4338-a7a4-b5f96eba5f93","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{scaling_count}@@","type":"","scaling_type":"SCALEIN"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Deployment_Scalein_4c8b8533_7a13_4d9e_8f75_17180ffa6741"}],"description":"","message_list":[],"uuid":"90b7755b-079a-4d2c-a50b-e8ef5d68f604","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"1b49710f-6fc9-44ef-8076-7621755b4e35","value":"0","label":"","state":"NOT_VALIDATED","attrs":{},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"scaling_count"}],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_4c8b8533_7a13_4d9e_8f75_17180ffa6741","uuid":"e4c512ea-4f60-4d13-a39b-15f79bcc2fdb"},"name":"SYS_GEN__Runbook_Deployment_4c8b8533_7a13_4d9e_8f75_17180ffa6741"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"a9b35f47-04a9-4b0f-87ea-f8ffb12cd7e3","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9b5d5dea_deployment","uuid":"4c8b8533-7a13-4d9e-8f75-17180ffa6741"},"retries":"0","description":"","type":"DAG","uuid":"1e9ed353-f9a1-48b9-991d-88cdad85e973","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"8a5f5226-e887-4956-80bf-aa908b1d4b17"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_f0a49fbc_a771_4f3a_b889_550b2c7eea0a","uuid":"c3809b29-c3c6-41ea-9030-e3bda7ce1747"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_2edf2b2d_2087_4a99_a074_e95c34b101c6","uuid":"efb0d9e7-ce1d-4add-8241-c8dfb0a8cd91"},{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_4c8b8533_7a13_4d9e_8f75_17180ffa6741","uuid":"5e46d777-7e02-4328-8c1a-2de3a81f9c01"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"8a5f5226-e887-4956-80bf-aa908b1d4b17"},"edge_type":"inherent","type":"","uuid":"651ba156-2a60-4f5f-9191-da37ddbba071","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_f0a49fbc_a771_4f3a_b889_550b2c7eea0a","uuid":"c3809b29-c3c6-41ea-9030-e3bda7ce1747"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_f0a49fbc_a771_4f3a_b889_550b2c7eea0a","uuid":"c3809b29-c3c6-41ea-9030-e3bda7ce1747"},"edge_type":"inherent","type":"","uuid":"27cd6547-d81f-43e2-974b-758b31fb875a","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_2edf2b2d_2087_4a99_a074_e95c34b101c6","uuid":"efb0d9e7-ce1d-4add-8241-c8dfb0a8cd91"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_2edf2b2d_2087_4a99_a074_e95c34b101c6","uuid":"efb0d9e7-ce1d-4add-8241-c8dfb0a8cd91"},"edge_type":"inherent","type":"","uuid":"d60cf027-7d22-48d0-a1f1-181bc2bec908","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_4c8b8533_7a13_4d9e_8f75_17180ffa6741","uuid":"5e46d777-7e02-4328-8c1a-2de3a81f9c01"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_4c8b8533_7a13_4d9e_8f75_17180ffa6741"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"8a5f5226-e887-4956-80bf-aa908b1d4b17","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9b5d5dea_deployment","uuid":"4c8b8533-7a13-4d9e-8f75-17180ffa6741"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"3fe61be2-c077-40a8-91a6-e9e75a5d2af3"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e"},{"target_any_local_reference":{"kind":"app_package","name":"AWSRouterPackage","uuid":"f0a49fbc-a771-4f3a-b889-550b2c7eea0a"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"c3809b29-c3c6-41ea-9030-e3bda7ce1747","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_f0a49fbc_a771_4f3a_b889_550b2c7eea0a"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSRouter","uuid":"2edf2b2d-2087-4a99-a074-e95c34b101c6"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"efb0d9e7-ce1d-4add-8241-c8dfb0a8cd91","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9b5d5dea_deployment","uuid":"4c8b8533-7a13-4d9e-8f75-17180ffa6741"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_2edf2b2d_2087_4a99_a074_e95c34b101c6","uuid":"95e4d46e-2871-4b36-b073-61299afc1f36"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Substrate_2edf2b2d_2087_4a99_a074_e95c34b101c6"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9b5d5dea_deployment","uuid":"4c8b8533-7a13-4d9e-8f75-17180ffa6741"},"retries":"0","description":"","type":"SOFT_DELETE_DEPLOYMENT_ELEMENT","uuid":"5e46d777-7e02-4328-8c1a-2de3a81f9c01","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Soft_Delete_4c8b8533_7a13_4d9e_8f75_17180ffa6741"}],"description":"","message_list":[],"uuid":"51f7f18b-2d81-4e93-b40c-563ccf464a79","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_4c8b8533_7a13_4d9e_8f75_17180ffa6741","uuid":"1e9ed353-f9a1-48b9-991d-88cdad85e973"},"name":"SYS_GEN__Runbook_Deployment_4c8b8533_7a13_4d9e_8f75_17180ffa6741"}}],"message_list":[],"published_service_local_reference_list":[],"uuid":"4c8b8533-7a13-4d9e-8f75-17180ffa6741","min_replicas":"3","state":"ACTIVE","max_replicas":"3","depends_on_list":[],"editables":{"min_replicas":true,"max_replicas":true},"package_local_reference_list":[{"kind":"app_package","name":"AWSRouterPackage","uuid":"f0a49fbc-a771-4f3a-b889-550b2c7eea0a"}],"substrate_local_reference":{"kind":"app_substrate","name":"AWSRouter","uuid":"2edf2b2d-2087-4a99-a074-e95c34b101c6"},"type":"GREENFIELD","options":{},"variable_list":[],"name":"9b5d5dea_deployment"},{"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"ef36f3c5-115a-4a33-9050-7344117d4fd5","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"c5fb67ff_deployment","uuid":"8f5a340d-469c-48eb-bf95-4442d3927b7c"},"retries":"0","description":"","type":"DAG","uuid":"c8f47420-d5af-4705-b6e2-4949c8b10285","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__DE_Provision_8f5a340d_469c_48eb_bf95_4442d3927b7c","uuid":"4211c73a-c441-4684-b89a-522f37d9190c"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_66b46e7e_c7ab_4692_a0a0_060f0c7bc6b5","uuid":"2c92b0b5-149b-4ae1-8f31-8e1a7bfff025"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_8530536d_a328_41b2_b452_ab23632488f7","uuid":"10669e5a-bb43-407e-8824-8c5d25696f28"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"d38d6daa-6ffc-416d-95df-4d67b569413d"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"28017166-7c29-496e-bd89-a36af581ea23"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"d38d6daa-6ffc-416d-95df-4d67b569413d"},"edge_type":"inherent","type":"","uuid":"a7f9d5b5-6687-457f-a67e-6b3f476494eb","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"28017166-7c29-496e-bd89-a36af581ea23"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_8530536d_a328_41b2_b452_ab23632488f7","uuid":"10669e5a-bb43-407e-8824-8c5d25696f28"},"edge_type":"inherent","type":"","uuid":"64471caa-2223-4ec0-b728-86cc89a9768e","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"d38d6daa-6ffc-416d-95df-4d67b569413d"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_8f5a340d_469c_48eb_bf95_4442d3927b7c","uuid":"4211c73a-c441-4684-b89a-522f37d9190c"},"edge_type":"inherent","type":"","uuid":"9f3b943a-8ad2-49b3-9908-867381d82e87","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_66b46e7e_c7ab_4692_a0a0_060f0c7bc6b5","uuid":"2c92b0b5-149b-4ae1-8f31-8e1a7bfff025"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_66b46e7e_c7ab_4692_a0a0_060f0c7bc6b5","uuid":"2c92b0b5-149b-4ae1-8f31-8e1a7bfff025"},"edge_type":"inherent","type":"","uuid":"40aa8b33-2a32-4c10-9014-1785576b6bf2","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_8530536d_a328_41b2_b452_ab23632488f7","uuid":"10669e5a-bb43-407e-8824-8c5d25696f28"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_8f5a340d_469c_48eb_bf95_4442d3927b7c"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"c5fb67ff_deployment","uuid":"8f5a340d-469c-48eb-bf95-4442d3927b7c"},"retries":"0","description":"","type":"CREATE_DEPLOYMENT_ELEMENT","uuid":"4211c73a-c441-4684-b89a-522f37d9190c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Provision_8f5a340d_469c_48eb_bf95_4442d3927b7c"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSConfigSet","uuid":"66b46e7e-c7ab-4692-a0a0-060f0c7bc6b5"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"2c92b0b5-149b-4ae1-8f31-8e1a7bfff025","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"c5fb67ff_deployment","uuid":"8f5a340d-469c-48eb-bf95-4442d3927b7c"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_66b46e7e_c7ab_4692_a0a0_060f0c7bc6b5","uuid":"a681edd6-253a-4051-858c-1f61acf89757"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Substrate_66b46e7e_c7ab_4692_a0a0_060f0c7bc6b5"},{"target_any_local_reference":{"kind":"app_package","name":"AWSConfigSetPackage","uuid":"8530536d-a328-41b2-b452-ab23632488f7"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"10669e5a-bb43-407e-8824-8c5d25696f28","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"c5fb67ff_deployment","uuid":"8f5a340d-469c-48eb-bf95-4442d3927b7c"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_8530536d_a328_41b2_b452_ab23632488f7","uuid":"729f484b-84c4-4b35-827f-b98befc0f863"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_8530536d_a328_41b2_b452_ab23632488f7"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"d38d6daa-6ffc-416d-95df-4d67b569413d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"c5fb67ff_deployment","uuid":"8f5a340d-469c-48eb-bf95-4442d3927b7c"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0a879260_runbook","uuid":"741de02d-b511-4b87-8b94-a1b0b74e0fb7"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"28017166-7c29-496e-bd89-a36af581ea23","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"c5fb67ff_deployment","uuid":"8f5a340d-469c-48eb-bf95-4442d3927b7c"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"f4695758_runbook","uuid":"0c2528e9-82d6-40bc-9b4d-721eabd37ead"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd"}],"description":"","message_list":[],"uuid":"bd888ecd-6cde-4153-8022-5189ecd82049","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_8f5a340d_469c_48eb_bf95_4442d3927b7c","uuid":"c8f47420-d5af-4705-b6e2-4949c8b10285"},"name":"SYS_GEN__Runbook_Deployment_8f5a340d_469c_48eb_bf95_4442d3927b7c"}},{"description":"System action for starting an application","message_list":[],"uuid":"3217fe94-6586-4a0e-9463-013409ab4838","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"c5fb67ff_deployment","uuid":"8f5a340d-469c-48eb-bf95-4442d3927b7c"},"retries":"0","description":"","type":"DAG","uuid":"fe531c12-2111-42cc-818c-cd11da54576f","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_66b46e7e_c7ab_4692_a0a0_060f0c7bc6b5","uuid":"a722d0a2-44e3-408e-9f5a-fc189e2e14ef"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"3cdf10be-2dc2-43f5-8f2c-1a41eb2d282c"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_66b46e7e_c7ab_4692_a0a0_060f0c7bc6b5","uuid":"a722d0a2-44e3-408e-9f5a-fc189e2e14ef"},"edge_type":"inherent","type":"","uuid":"53b531f8-b3e8-4d04-bccd-1839efbdb899","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"3cdf10be-2dc2-43f5-8f2c-1a41eb2d282c"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_8f5a340d_469c_48eb_bf95_4442d3927b7c"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSConfigSet","uuid":"66b46e7e-c7ab-4692-a0a0-060f0c7bc6b5"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"a722d0a2-44e3-408e-9f5a-fc189e2e14ef","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"c5fb67ff_deployment","uuid":"8f5a340d-469c-48eb-bf95-4442d3927b7c"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_66b46e7e_c7ab_4692_a0a0_060f0c7bc6b5","uuid":"6a055da6-0d50-49ab-aa36-f54d4d109e16"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Substrate_66b46e7e_c7ab_4692_a0a0_060f0c7bc6b5"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"3cdf10be-2dc2-43f5-8f2c-1a41eb2d282c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"c5fb67ff_deployment","uuid":"8f5a340d-469c-48eb-bf95-4442d3927b7c"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"f4695758_runbook","uuid":"0c2528e9-82d6-40bc-9b4d-721eabd37ead"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd"}],"description":"","message_list":[],"uuid":"30dc899e-ec66-4de3-85b9-530fa2ac8a1b","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_8f5a340d_469c_48eb_bf95_4442d3927b7c","uuid":"fe531c12-2111-42cc-818c-cd11da54576f"},"name":"SYS_GEN__Runbook_Deployment_8f5a340d_469c_48eb_bf95_4442d3927b7c"}},{"description":"System action for restarting an application","message_list":[],"uuid":"d7c387a7-ee6d-4d02-9cfa-59ce0714dce4","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"c5fb67ff_deployment","uuid":"8f5a340d-469c-48eb-bf95-4442d3927b7c"},"retries":"0","description":"","type":"DAG","uuid":"8ffed582-3b93-4de5-9ae1-bd66ff98f1c2","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_66b46e7e_c7ab_4692_a0a0_060f0c7bc6b5","uuid":"0a69d191-8f36-4d8d-828c-0cebf8332afb"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"b2b88a48-1e5d-4fcd-b709-1fd1ccd2b373"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_66b46e7e_c7ab_4692_a0a0_060f0c7bc6b5","uuid":"0a69d191-8f36-4d8d-828c-0cebf8332afb"},"edge_type":"inherent","type":"","uuid":"0afce5c9-ce87-478a-bcc8-1a929b309c21","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"b2b88a48-1e5d-4fcd-b709-1fd1ccd2b373"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_8f5a340d_469c_48eb_bf95_4442d3927b7c"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSConfigSet","uuid":"66b46e7e-c7ab-4692-a0a0-060f0c7bc6b5"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"0a69d191-8f36-4d8d-828c-0cebf8332afb","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"c5fb67ff_deployment","uuid":"8f5a340d-469c-48eb-bf95-4442d3927b7c"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_66b46e7e_c7ab_4692_a0a0_060f0c7bc6b5","uuid":"c5c70c83-4cfd-4f58-8975-03b9cf9e882c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Substrate_66b46e7e_c7ab_4692_a0a0_060f0c7bc6b5"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"b2b88a48-1e5d-4fcd-b709-1fd1ccd2b373","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"c5fb67ff_deployment","uuid":"8f5a340d-469c-48eb-bf95-4442d3927b7c"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"b7169291_runbook","uuid":"7c36f5f8-9e8b-4f97-b855-438dc7eb8f3d"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd"}],"description":"","message_list":[],"uuid":"1380e8c4-906f-4490-b077-0f942672e970","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_8f5a340d_469c_48eb_bf95_4442d3927b7c","uuid":"8ffed582-3b93-4de5-9ae1-bd66ff98f1c2"},"name":"SYS_GEN__Runbook_Deployment_8f5a340d_469c_48eb_bf95_4442d3927b7c"}},{"description":"System action for stopping an application","message_list":[],"uuid":"dd3a1d1d-b0e6-43ff-8f3b-6acb38f14e8c","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"c5fb67ff_deployment","uuid":"8f5a340d-469c-48eb-bf95-4442d3927b7c"},"retries":"0","description":"","type":"DAG","uuid":"48186f32-ef47-4dd4-93b5-630288d9ba96","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"be346c9b-618a-400c-acd6-fc2974f650bf"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_66b46e7e_c7ab_4692_a0a0_060f0c7bc6b5","uuid":"679353ca-bd53-4d75-985f-1aaa19ec2be5"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"be346c9b-618a-400c-acd6-fc2974f650bf"},"edge_type":"inherent","type":"","uuid":"fe35612a-6485-4571-8acf-5eddc02c339b","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_66b46e7e_c7ab_4692_a0a0_060f0c7bc6b5","uuid":"679353ca-bd53-4d75-985f-1aaa19ec2be5"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_8f5a340d_469c_48eb_bf95_4442d3927b7c"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"be346c9b-618a-400c-acd6-fc2974f650bf","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"c5fb67ff_deployment","uuid":"8f5a340d-469c-48eb-bf95-4442d3927b7c"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"a33b20bd_runbook","uuid":"e6335ceb-f00b-4ec5-8425-3864e1897a7d"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSConfigSet","uuid":"66b46e7e-c7ab-4692-a0a0-060f0c7bc6b5"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"679353ca-bd53-4d75-985f-1aaa19ec2be5","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"c5fb67ff_deployment","uuid":"8f5a340d-469c-48eb-bf95-4442d3927b7c"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_66b46e7e_c7ab_4692_a0a0_060f0c7bc6b5","uuid":"85fa61a2-e006-4105-aff8-2514fec84417"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Substrate_66b46e7e_c7ab_4692_a0a0_060f0c7bc6b5"}],"description":"","message_list":[],"uuid":"755112c1-d1cc-47ae-99af-aa12b91e5b78","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_8f5a340d_469c_48eb_bf95_4442d3927b7c","uuid":"48186f32-ef47-4dd4-93b5-630288d9ba96"},"name":"SYS_GEN__Runbook_Deployment_8f5a340d_469c_48eb_bf95_4442d3927b7c"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"a994489f-b952-4878-9efd-2151060326dd","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"c5fb67ff_deployment","uuid":"8f5a340d-469c-48eb-bf95-4442d3927b7c"},"retries":"0","description":"","type":"DAG","uuid":"7e4ce6ef-d873-4878-8cf4-2ad6ef29278a","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"41f2e285-333e-49c5-b180-89d4c0488c55"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"5dd74d6e-27dc-48d9-a623-60ee537416ef"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_8530536d_a328_41b2_b452_ab23632488f7","uuid":"60af203e-5c2e-4d79-ad5c-55107b81249a"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_66b46e7e_c7ab_4692_a0a0_060f0c7bc6b5","uuid":"dbe2fde3-1bb0-452d-8845-7b34917de507"},{"kind":"app_task","name":"SYS_GEN__DE_Delete_8f5a340d_469c_48eb_bf95_4442d3927b7c","uuid":"a18ded0b-46b6-4266-946a-e8362a93e2fa"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"41f2e285-333e-49c5-b180-89d4c0488c55"},"edge_type":"inherent","type":"","uuid":"a1a5659c-ec14-4eb4-b0d6-2ec53f8a4765","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"5dd74d6e-27dc-48d9-a623-60ee537416ef"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"5dd74d6e-27dc-48d9-a623-60ee537416ef"},"edge_type":"inherent","type":"","uuid":"f22b4c97-c85c-498e-aceb-6a659e3ab2f7","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_8530536d_a328_41b2_b452_ab23632488f7","uuid":"60af203e-5c2e-4d79-ad5c-55107b81249a"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_66b46e7e_c7ab_4692_a0a0_060f0c7bc6b5","uuid":"dbe2fde3-1bb0-452d-8845-7b34917de507"},"edge_type":"inherent","type":"","uuid":"61bca0f5-6788-4477-8fc2-f09cdcbb562b","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Delete_8f5a340d_469c_48eb_bf95_4442d3927b7c","uuid":"a18ded0b-46b6-4266-946a-e8362a93e2fa"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_8530536d_a328_41b2_b452_ab23632488f7","uuid":"60af203e-5c2e-4d79-ad5c-55107b81249a"},"edge_type":"inherent","type":"","uuid":"31bb03a7-4927-4f9a-b64c-d0c982cc2f91","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_66b46e7e_c7ab_4692_a0a0_060f0c7bc6b5","uuid":"dbe2fde3-1bb0-452d-8845-7b34917de507"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_8f5a340d_469c_48eb_bf95_4442d3927b7c"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"41f2e285-333e-49c5-b180-89d4c0488c55","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"c5fb67ff_deployment","uuid":"8f5a340d-469c-48eb-bf95-4442d3927b7c"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"a33b20bd_runbook","uuid":"e6335ceb-f00b-4ec5-8425-3864e1897a7d"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"5dd74d6e-27dc-48d9-a623-60ee537416ef","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"c5fb67ff_deployment","uuid":"8f5a340d-469c-48eb-bf95-4442d3927b7c"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"3c3538b9_runbook","uuid":"8625e87a-c851-44ac-9a8c-6808a1ac5574"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd"},{"target_any_local_reference":{"kind":"app_package","name":"AWSConfigSetPackage","uuid":"8530536d-a328-41b2-b452-ab23632488f7"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"60af203e-5c2e-4d79-ad5c-55107b81249a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"c5fb67ff_deployment","uuid":"8f5a340d-469c-48eb-bf95-4442d3927b7c"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_8530536d_a328_41b2_b452_ab23632488f7","uuid":"a1a598ce-952d-4eb2-a621-aa2c7572e8ba"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_8530536d_a328_41b2_b452_ab23632488f7"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSConfigSet","uuid":"66b46e7e-c7ab-4692-a0a0-060f0c7bc6b5"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"dbe2fde3-1bb0-452d-8845-7b34917de507","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"c5fb67ff_deployment","uuid":"8f5a340d-469c-48eb-bf95-4442d3927b7c"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_66b46e7e_c7ab_4692_a0a0_060f0c7bc6b5","uuid":"7bdc1c16-34bd-4211-8078-03e4b379f936"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Substrate_66b46e7e_c7ab_4692_a0a0_060f0c7bc6b5"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"c5fb67ff_deployment","uuid":"8f5a340d-469c-48eb-bf95-4442d3927b7c"},"retries":"0","description":"","type":"DELETE_DEPLOYMENT_ELEMENT","uuid":"a18ded0b-46b6-4266-946a-e8362a93e2fa","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Delete_8f5a340d_469c_48eb_bf95_4442d3927b7c"}],"description":"","message_list":[],"uuid":"a86b162d-07eb-4d4a-94e3-83b1f8ac0865","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_8f5a340d_469c_48eb_bf95_4442d3927b7c","uuid":"7e4ce6ef-d873-4878-8cf4-2ad6ef29278a"},"name":"SYS_GEN__Runbook_Deployment_8f5a340d_469c_48eb_bf95_4442d3927b7c"}},{"description":"System action for scaleout","message_list":[],"uuid":"bd6e2555-c05e-412f-9c08-f8faaaeb711a","name":"action_scaleout","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"c5fb67ff_deployment","uuid":"8f5a340d-469c-48eb-bf95-4442d3927b7c"},"retries":"0","description":"","type":"DAG","uuid":"225b805a-c5ac-40ca-907b-1343d2fd58a2","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Deployment_Scaleout_8f5a340d_469c_48eb_bf95_4442d3927b7c","uuid":"5dd2cfec-910e-464f-b272-47392b7fc326"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_8f5a340d_469c_48eb_bf95_4442d3927b7c"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"c5fb67ff_deployment","uuid":"8f5a340d-469c-48eb-bf95-4442d3927b7c"},"retries":"0","description":"","type":"SCALING","uuid":"5dd2cfec-910e-464f-b272-47392b7fc326","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{scaling_count}@@","type":"","scaling_type":"SCALEOUT"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Deployment_Scaleout_8f5a340d_469c_48eb_bf95_4442d3927b7c"}],"description":"","message_list":[],"uuid":"e0da1789-f252-4b9d-a720-1ee55e714466","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"08825de2-e492-4f02-8360-97eedbc1f02f","value":"0","label":"","state":"NOT_VALIDATED","attrs":{},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"scaling_count"}],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_8f5a340d_469c_48eb_bf95_4442d3927b7c","uuid":"225b805a-c5ac-40ca-907b-1343d2fd58a2"},"name":"SYS_GEN__Runbook_Deployment_8f5a340d_469c_48eb_bf95_4442d3927b7c"}},{"description":"System action for scalein","message_list":[],"uuid":"5eb90d11-6c59-47a1-aef9-39ab5b6bae80","name":"action_scalein","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"c5fb67ff_deployment","uuid":"8f5a340d-469c-48eb-bf95-4442d3927b7c"},"retries":"0","description":"","type":"DAG","uuid":"0eabfd9a-2467-41e7-b93e-145273745e50","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Deployment_Scalein_8f5a340d_469c_48eb_bf95_4442d3927b7c","uuid":"bf27c18e-9f89-4026-b956-98f7c8b75270"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_8f5a340d_469c_48eb_bf95_4442d3927b7c"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"c5fb67ff_deployment","uuid":"8f5a340d-469c-48eb-bf95-4442d3927b7c"},"retries":"0","description":"","type":"SCALING","uuid":"bf27c18e-9f89-4026-b956-98f7c8b75270","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{scaling_count}@@","type":"","scaling_type":"SCALEIN"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Deployment_Scalein_8f5a340d_469c_48eb_bf95_4442d3927b7c"}],"description":"","message_list":[],"uuid":"2605a0e4-540a-4b59-9811-895fcf778d62","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"b99d2e79-4d30-485f-a99f-4eb8bb0605c0","value":"0","label":"","state":"NOT_VALIDATED","attrs":{},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"scaling_count"}],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_8f5a340d_469c_48eb_bf95_4442d3927b7c","uuid":"0eabfd9a-2467-41e7-b93e-145273745e50"},"name":"SYS_GEN__Runbook_Deployment_8f5a340d_469c_48eb_bf95_4442d3927b7c"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"76f6d35b-95f6-428e-8eb6-826c3be074b0","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"c5fb67ff_deployment","uuid":"8f5a340d-469c-48eb-bf95-4442d3927b7c"},"retries":"0","description":"","type":"DAG","uuid":"8b197e14-86ac-4ff4-9aef-3c479626b514","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"b2464d2a-9c27-4fa8-a846-94e1326802dc"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_8530536d_a328_41b2_b452_ab23632488f7","uuid":"a84ecc73-7fc9-47e0-ad56-13ad0ba2a357"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_66b46e7e_c7ab_4692_a0a0_060f0c7bc6b5","uuid":"66baa3b8-1a56-456d-9bad-c9d29c768032"},{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_8f5a340d_469c_48eb_bf95_4442d3927b7c","uuid":"2184c0f1-458c-4348-a5e2-f48411796381"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"b2464d2a-9c27-4fa8-a846-94e1326802dc"},"edge_type":"inherent","type":"","uuid":"201f0ed3-2b9f-4e0d-a633-c1c300254228","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_8530536d_a328_41b2_b452_ab23632488f7","uuid":"a84ecc73-7fc9-47e0-ad56-13ad0ba2a357"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_8530536d_a328_41b2_b452_ab23632488f7","uuid":"a84ecc73-7fc9-47e0-ad56-13ad0ba2a357"},"edge_type":"inherent","type":"","uuid":"86d23842-88a1-4aa4-9a3e-fc52ef9ff8f0","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_66b46e7e_c7ab_4692_a0a0_060f0c7bc6b5","uuid":"66baa3b8-1a56-456d-9bad-c9d29c768032"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_66b46e7e_c7ab_4692_a0a0_060f0c7bc6b5","uuid":"66baa3b8-1a56-456d-9bad-c9d29c768032"},"edge_type":"inherent","type":"","uuid":"7a2215a5-66bb-4d7c-8d38-84809076ea67","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_8f5a340d_469c_48eb_bf95_4442d3927b7c","uuid":"2184c0f1-458c-4348-a5e2-f48411796381"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_8f5a340d_469c_48eb_bf95_4442d3927b7c"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"b2464d2a-9c27-4fa8-a846-94e1326802dc","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"c5fb67ff_deployment","uuid":"8f5a340d-469c-48eb-bf95-4442d3927b7c"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"71c44ff6-8283-4578-8e15-dbf648d09ee4"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd"},{"target_any_local_reference":{"kind":"app_package","name":"AWSConfigSetPackage","uuid":"8530536d-a328-41b2-b452-ab23632488f7"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"a84ecc73-7fc9-47e0-ad56-13ad0ba2a357","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_8530536d_a328_41b2_b452_ab23632488f7"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSConfigSet","uuid":"66b46e7e-c7ab-4692-a0a0-060f0c7bc6b5"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"66baa3b8-1a56-456d-9bad-c9d29c768032","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"c5fb67ff_deployment","uuid":"8f5a340d-469c-48eb-bf95-4442d3927b7c"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_66b46e7e_c7ab_4692_a0a0_060f0c7bc6b5","uuid":"9d344f11-5aaa-4237-8a74-e06e83ad795c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Substrate_66b46e7e_c7ab_4692_a0a0_060f0c7bc6b5"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"c5fb67ff_deployment","uuid":"8f5a340d-469c-48eb-bf95-4442d3927b7c"},"retries":"0","description":"","type":"SOFT_DELETE_DEPLOYMENT_ELEMENT","uuid":"2184c0f1-458c-4348-a5e2-f48411796381","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Soft_Delete_8f5a340d_469c_48eb_bf95_4442d3927b7c"}],"description":"","message_list":[],"uuid":"248f64e6-d8a6-4a9d-b1dd-5f6f4556709d","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_8f5a340d_469c_48eb_bf95_4442d3927b7c","uuid":"8b197e14-86ac-4ff4-9aef-3c479626b514"},"name":"SYS_GEN__Runbook_Deployment_8f5a340d_469c_48eb_bf95_4442d3927b7c"}}],"message_list":[],"published_service_local_reference_list":[],"uuid":"8f5a340d-469c-48eb-bf95-4442d3927b7c","min_replicas":"3","state":"ACTIVE","max_replicas":"3","depends_on_list":[],"editables":{"min_replicas":true,"max_replicas":true},"package_local_reference_list":[{"kind":"app_package","name":"AWSConfigSetPackage","uuid":"8530536d-a328-41b2-b452-ab23632488f7"}],"substrate_local_reference":{"kind":"app_substrate","name":"AWSConfigSet","uuid":"66b46e7e-c7ab-4692-a0a0-060f0c7bc6b5"},"type":"GREENFIELD","options":{},"variable_list":[],"name":"c5fb67ff_deployment"},{"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"2ecd008d-a58f-4f0c-87b4-0d6bb714042c","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"06287d2c_deployment","uuid":"f11afc5c-f2fe-4648-9c73-87338ce4e25c"},"retries":"0","description":"","type":"DAG","uuid":"35de5984-c573-432b-b3d5-d33bc8e62f8b","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__DE_Provision_f11afc5c_f2fe_4648_9c73_87338ce4e25c","uuid":"1e25cc83-df97-48d2-ba3f-4193f05c8311"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_fc7a0a47_84f8_44d8_b89a_85d46f0da96d","uuid":"f4cb921e-270d-41cd-8fc3-2e3623263e45"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_12025307_e5d6_443a_acbf_8c6decdff487","uuid":"23e04e81-ee42-45fd-b89f-c3e0b4e3f1bf"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"00bbf261-f342-42eb-848a-1cfdaa38b9ed"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"6b0b66e2-2a8e-4fe6-befb-9cce41b954e8"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"00bbf261-f342-42eb-848a-1cfdaa38b9ed"},"edge_type":"inherent","type":"","uuid":"eebb1f53-790d-4161-85ba-272a004dd3a3","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"6b0b66e2-2a8e-4fe6-befb-9cce41b954e8"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_12025307_e5d6_443a_acbf_8c6decdff487","uuid":"23e04e81-ee42-45fd-b89f-c3e0b4e3f1bf"},"edge_type":"inherent","type":"","uuid":"574689af-a83b-4ebe-9a31-e6242a91970d","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"00bbf261-f342-42eb-848a-1cfdaa38b9ed"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_f11afc5c_f2fe_4648_9c73_87338ce4e25c","uuid":"1e25cc83-df97-48d2-ba3f-4193f05c8311"},"edge_type":"inherent","type":"","uuid":"550be170-4023-4f7e-bd07-c6f1ee0a8812","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_fc7a0a47_84f8_44d8_b89a_85d46f0da96d","uuid":"f4cb921e-270d-41cd-8fc3-2e3623263e45"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_fc7a0a47_84f8_44d8_b89a_85d46f0da96d","uuid":"f4cb921e-270d-41cd-8fc3-2e3623263e45"},"edge_type":"inherent","type":"","uuid":"ad8b5ec7-0ecc-4537-af0c-b1f86c74fc9a","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_12025307_e5d6_443a_acbf_8c6decdff487","uuid":"23e04e81-ee42-45fd-b89f-c3e0b4e3f1bf"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_f11afc5c_f2fe_4648_9c73_87338ce4e25c"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"06287d2c_deployment","uuid":"f11afc5c-f2fe-4648-9c73-87338ce4e25c"},"retries":"0","description":"","type":"CREATE_DEPLOYMENT_ELEMENT","uuid":"1e25cc83-df97-48d2-ba3f-4193f05c8311","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Provision_f11afc5c_f2fe_4648_9c73_87338ce4e25c"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSDataSet","uuid":"fc7a0a47-84f8-44d8-b89a-85d46f0da96d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"f4cb921e-270d-41cd-8fc3-2e3623263e45","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"06287d2c_deployment","uuid":"f11afc5c-f2fe-4648-9c73-87338ce4e25c"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_fc7a0a47_84f8_44d8_b89a_85d46f0da96d","uuid":"c60d34ae-6131-4b71-b40c-3744d18992e5"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Substrate_fc7a0a47_84f8_44d8_b89a_85d46f0da96d"},{"target_any_local_reference":{"kind":"app_package","name":"AWSDataSetPackage","uuid":"12025307-e5d6-443a-acbf-8c6decdff487"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"23e04e81-ee42-45fd-b89f-c3e0b4e3f1bf","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"06287d2c_deployment","uuid":"f11afc5c-f2fe-4648-9c73-87338ce4e25c"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_12025307_e5d6_443a_acbf_8c6decdff487","uuid":"3e33f3e8-8f0e-4483-b721-c3dd65ac1432"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_12025307_e5d6_443a_acbf_8c6decdff487"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"00bbf261-f342-42eb-848a-1cfdaa38b9ed","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"06287d2c_deployment","uuid":"f11afc5c-f2fe-4648-9c73-87338ce4e25c"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0bda2b69_runbook","uuid":"c08988e8-53fc-48b3-942d-00d118016989"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"6b0b66e2-2a8e-4fe6-befb-9cce41b954e8","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"06287d2c_deployment","uuid":"f11afc5c-f2fe-4648-9c73-87338ce4e25c"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0f1333dd_runbook","uuid":"43f16a26-e0b7-42a9-b2de-6e6d4147d381"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47"}],"description":"","message_list":[],"uuid":"865eabe7-1273-4f6f-892e-5078126e645b","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_f11afc5c_f2fe_4648_9c73_87338ce4e25c","uuid":"35de5984-c573-432b-b3d5-d33bc8e62f8b"},"name":"SYS_GEN__Runbook_Deployment_f11afc5c_f2fe_4648_9c73_87338ce4e25c"}},{"description":"System action for starting an application","message_list":[],"uuid":"6fd9c4f0-979c-427f-b5e0-e55efcff49ff","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"06287d2c_deployment","uuid":"f11afc5c-f2fe-4648-9c73-87338ce4e25c"},"retries":"0","description":"","type":"DAG","uuid":"6ac37c9a-8097-417a-9c21-032c714b759f","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_fc7a0a47_84f8_44d8_b89a_85d46f0da96d","uuid":"8f085427-daa0-4341-9cec-e80d9e80b3a8"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"9331a450-406e-49b5-8e74-39447c9cc509"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_fc7a0a47_84f8_44d8_b89a_85d46f0da96d","uuid":"8f085427-daa0-4341-9cec-e80d9e80b3a8"},"edge_type":"inherent","type":"","uuid":"b8541667-a7ce-41c6-9fec-231831e2134f","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"9331a450-406e-49b5-8e74-39447c9cc509"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_f11afc5c_f2fe_4648_9c73_87338ce4e25c"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSDataSet","uuid":"fc7a0a47-84f8-44d8-b89a-85d46f0da96d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"8f085427-daa0-4341-9cec-e80d9e80b3a8","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"06287d2c_deployment","uuid":"f11afc5c-f2fe-4648-9c73-87338ce4e25c"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_fc7a0a47_84f8_44d8_b89a_85d46f0da96d","uuid":"9c348c42-9120-4880-b8d8-b67b25db8c71"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Substrate_fc7a0a47_84f8_44d8_b89a_85d46f0da96d"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"9331a450-406e-49b5-8e74-39447c9cc509","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"06287d2c_deployment","uuid":"f11afc5c-f2fe-4648-9c73-87338ce4e25c"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0f1333dd_runbook","uuid":"43f16a26-e0b7-42a9-b2de-6e6d4147d381"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47"}],"description":"","message_list":[],"uuid":"8538a455-fd2b-4fc2-89af-89ca530faa18","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_f11afc5c_f2fe_4648_9c73_87338ce4e25c","uuid":"6ac37c9a-8097-417a-9c21-032c714b759f"},"name":"SYS_GEN__Runbook_Deployment_f11afc5c_f2fe_4648_9c73_87338ce4e25c"}},{"description":"System action for restarting an application","message_list":[],"uuid":"fd51de33-43f6-4937-859a-fcb3c2f87e41","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"06287d2c_deployment","uuid":"f11afc5c-f2fe-4648-9c73-87338ce4e25c"},"retries":"0","description":"","type":"DAG","uuid":"69948911-9b61-4369-be25-b4cb1ef5ddaa","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_fc7a0a47_84f8_44d8_b89a_85d46f0da96d","uuid":"b8437aa5-e2db-4e03-b9e4-cc2f0ea9aa2e"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"65591190-8b82-4d25-a4ba-5f4be93a3251"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_fc7a0a47_84f8_44d8_b89a_85d46f0da96d","uuid":"b8437aa5-e2db-4e03-b9e4-cc2f0ea9aa2e"},"edge_type":"inherent","type":"","uuid":"b02ee605-dbc9-4fcc-ac40-f7cfddca399b","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"65591190-8b82-4d25-a4ba-5f4be93a3251"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_f11afc5c_f2fe_4648_9c73_87338ce4e25c"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSDataSet","uuid":"fc7a0a47-84f8-44d8-b89a-85d46f0da96d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"b8437aa5-e2db-4e03-b9e4-cc2f0ea9aa2e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"06287d2c_deployment","uuid":"f11afc5c-f2fe-4648-9c73-87338ce4e25c"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_fc7a0a47_84f8_44d8_b89a_85d46f0da96d","uuid":"ee103458-ef90-4f73-997d-ff13c1359c30"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Substrate_fc7a0a47_84f8_44d8_b89a_85d46f0da96d"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"65591190-8b82-4d25-a4ba-5f4be93a3251","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"06287d2c_deployment","uuid":"f11afc5c-f2fe-4648-9c73-87338ce4e25c"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"4f7b2559_runbook","uuid":"03856e37-e1bf-4b7c-95bb-87bf81c6c940"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47"}],"description":"","message_list":[],"uuid":"71bd1dd7-637e-4c1c-8728-6d4c556a99bc","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_f11afc5c_f2fe_4648_9c73_87338ce4e25c","uuid":"69948911-9b61-4369-be25-b4cb1ef5ddaa"},"name":"SYS_GEN__Runbook_Deployment_f11afc5c_f2fe_4648_9c73_87338ce4e25c"}},{"description":"System action for stopping an application","message_list":[],"uuid":"5d318083-9482-4371-8a7f-bd5823274fb3","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"06287d2c_deployment","uuid":"f11afc5c-f2fe-4648-9c73-87338ce4e25c"},"retries":"0","description":"","type":"DAG","uuid":"fe14ca17-55a3-4e49-90f9-789b6cf19089","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"6e3e114b-acae-4810-b22f-0971528412cd"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_fc7a0a47_84f8_44d8_b89a_85d46f0da96d","uuid":"7a3cd80d-b6ae-4e6e-97f0-d7c748a8d970"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"6e3e114b-acae-4810-b22f-0971528412cd"},"edge_type":"inherent","type":"","uuid":"b46aa641-ed04-4342-8be9-cda871b1972e","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_fc7a0a47_84f8_44d8_b89a_85d46f0da96d","uuid":"7a3cd80d-b6ae-4e6e-97f0-d7c748a8d970"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_f11afc5c_f2fe_4648_9c73_87338ce4e25c"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"6e3e114b-acae-4810-b22f-0971528412cd","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"06287d2c_deployment","uuid":"f11afc5c-f2fe-4648-9c73-87338ce4e25c"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"85883b0a_runbook","uuid":"42cf4c9d-d9e5-435e-b222-f2d33a05683f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSDataSet","uuid":"fc7a0a47-84f8-44d8-b89a-85d46f0da96d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"7a3cd80d-b6ae-4e6e-97f0-d7c748a8d970","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"06287d2c_deployment","uuid":"f11afc5c-f2fe-4648-9c73-87338ce4e25c"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_fc7a0a47_84f8_44d8_b89a_85d46f0da96d","uuid":"ca615ee2-3802-4ba4-a39e-3a51e122d5ec"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Substrate_fc7a0a47_84f8_44d8_b89a_85d46f0da96d"}],"description":"","message_list":[],"uuid":"9fc70834-35b3-4848-ae03-0e22dd7597e3","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_f11afc5c_f2fe_4648_9c73_87338ce4e25c","uuid":"fe14ca17-55a3-4e49-90f9-789b6cf19089"},"name":"SYS_GEN__Runbook_Deployment_f11afc5c_f2fe_4648_9c73_87338ce4e25c"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"4c2035e4-3fba-4323-9d2e-3f9eb5003090","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"06287d2c_deployment","uuid":"f11afc5c-f2fe-4648-9c73-87338ce4e25c"},"retries":"0","description":"","type":"DAG","uuid":"4a201f66-4d45-4ced-8ea0-009ef486cb99","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"d8e377b2-0b3d-4f01-a2dc-cb6ccd5f0eaf"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"49a9912c-1de5-4e37-a935-72a668d95bd5"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_12025307_e5d6_443a_acbf_8c6decdff487","uuid":"4c91c325-f764-4e43-897d-cb73d9b3c883"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_fc7a0a47_84f8_44d8_b89a_85d46f0da96d","uuid":"8eeb1a62-95fb-44f5-96ff-d0d7a1587771"},{"kind":"app_task","name":"SYS_GEN__DE_Delete_f11afc5c_f2fe_4648_9c73_87338ce4e25c","uuid":"a7df22f7-8ab9-4059-9627-ab539f51b8e6"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"d8e377b2-0b3d-4f01-a2dc-cb6ccd5f0eaf"},"edge_type":"inherent","type":"","uuid":"be3bb9d0-a45f-45d6-bed0-266650312b31","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"49a9912c-1de5-4e37-a935-72a668d95bd5"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"49a9912c-1de5-4e37-a935-72a668d95bd5"},"edge_type":"inherent","type":"","uuid":"7e9cf736-1221-41fb-851b-5b8be074d90b","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_12025307_e5d6_443a_acbf_8c6decdff487","uuid":"4c91c325-f764-4e43-897d-cb73d9b3c883"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_fc7a0a47_84f8_44d8_b89a_85d46f0da96d","uuid":"8eeb1a62-95fb-44f5-96ff-d0d7a1587771"},"edge_type":"inherent","type":"","uuid":"324bd108-6acd-455f-a03d-a917196ef0e8","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Delete_f11afc5c_f2fe_4648_9c73_87338ce4e25c","uuid":"a7df22f7-8ab9-4059-9627-ab539f51b8e6"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_12025307_e5d6_443a_acbf_8c6decdff487","uuid":"4c91c325-f764-4e43-897d-cb73d9b3c883"},"edge_type":"inherent","type":"","uuid":"f8fbfced-3cd5-483b-b747-6c89ccadc4ae","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_fc7a0a47_84f8_44d8_b89a_85d46f0da96d","uuid":"8eeb1a62-95fb-44f5-96ff-d0d7a1587771"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_f11afc5c_f2fe_4648_9c73_87338ce4e25c"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"d8e377b2-0b3d-4f01-a2dc-cb6ccd5f0eaf","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"06287d2c_deployment","uuid":"f11afc5c-f2fe-4648-9c73-87338ce4e25c"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"85883b0a_runbook","uuid":"42cf4c9d-d9e5-435e-b222-f2d33a05683f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"49a9912c-1de5-4e37-a935-72a668d95bd5","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"06287d2c_deployment","uuid":"f11afc5c-f2fe-4648-9c73-87338ce4e25c"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"036f3879_runbook","uuid":"c6545ccb-d141-45bd-bf59-cf1e44946785"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47"},{"target_any_local_reference":{"kind":"app_package","name":"AWSDataSetPackage","uuid":"12025307-e5d6-443a-acbf-8c6decdff487"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"4c91c325-f764-4e43-897d-cb73d9b3c883","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"06287d2c_deployment","uuid":"f11afc5c-f2fe-4648-9c73-87338ce4e25c"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_12025307_e5d6_443a_acbf_8c6decdff487","uuid":"1bf118df-a508-44b3-8866-58d9f14f9838"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_12025307_e5d6_443a_acbf_8c6decdff487"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSDataSet","uuid":"fc7a0a47-84f8-44d8-b89a-85d46f0da96d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"8eeb1a62-95fb-44f5-96ff-d0d7a1587771","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"06287d2c_deployment","uuid":"f11afc5c-f2fe-4648-9c73-87338ce4e25c"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_fc7a0a47_84f8_44d8_b89a_85d46f0da96d","uuid":"75f5c4d4-fc32-4fb7-82e6-5288f0391ddc"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Substrate_fc7a0a47_84f8_44d8_b89a_85d46f0da96d"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"06287d2c_deployment","uuid":"f11afc5c-f2fe-4648-9c73-87338ce4e25c"},"retries":"0","description":"","type":"DELETE_DEPLOYMENT_ELEMENT","uuid":"a7df22f7-8ab9-4059-9627-ab539f51b8e6","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Delete_f11afc5c_f2fe_4648_9c73_87338ce4e25c"}],"description":"","message_list":[],"uuid":"541f1694-f5a9-4d57-b93f-ca637bf04d04","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_f11afc5c_f2fe_4648_9c73_87338ce4e25c","uuid":"4a201f66-4d45-4ced-8ea0-009ef486cb99"},"name":"SYS_GEN__Runbook_Deployment_f11afc5c_f2fe_4648_9c73_87338ce4e25c"}},{"description":"System action for scaleout","message_list":[],"uuid":"7e691d82-ad0c-450e-96ad-ebbf3c987ba5","name":"action_scaleout","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"06287d2c_deployment","uuid":"f11afc5c-f2fe-4648-9c73-87338ce4e25c"},"retries":"0","description":"","type":"DAG","uuid":"a7e2593f-7f00-4f33-8790-59351b94ba29","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Deployment_Scaleout_f11afc5c_f2fe_4648_9c73_87338ce4e25c","uuid":"8ca48b63-a4c5-4a6e-bdc7-86dd8ba9231e"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_f11afc5c_f2fe_4648_9c73_87338ce4e25c"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"06287d2c_deployment","uuid":"f11afc5c-f2fe-4648-9c73-87338ce4e25c"},"retries":"0","description":"","type":"SCALING","uuid":"8ca48b63-a4c5-4a6e-bdc7-86dd8ba9231e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{scaling_count}@@","type":"","scaling_type":"SCALEOUT"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Deployment_Scaleout_f11afc5c_f2fe_4648_9c73_87338ce4e25c"}],"description":"","message_list":[],"uuid":"da5f6383-8ce7-477e-a480-a68d72553940","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"34db5973-024e-44a2-a6d7-4294130e4534","value":"0","label":"","state":"NOT_VALIDATED","attrs":{},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"scaling_count"}],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_f11afc5c_f2fe_4648_9c73_87338ce4e25c","uuid":"a7e2593f-7f00-4f33-8790-59351b94ba29"},"name":"SYS_GEN__Runbook_Deployment_f11afc5c_f2fe_4648_9c73_87338ce4e25c"}},{"description":"System action for scalein","message_list":[],"uuid":"f4b18991-e0ef-4e4a-bb40-6fa0ec96918b","name":"action_scalein","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"06287d2c_deployment","uuid":"f11afc5c-f2fe-4648-9c73-87338ce4e25c"},"retries":"0","description":"","type":"DAG","uuid":"9f9ccf5e-57a8-47cb-8332-bdbe3c021bb8","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Deployment_Scalein_f11afc5c_f2fe_4648_9c73_87338ce4e25c","uuid":"d803eae2-38e7-4079-a78b-be29242ee7e5"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_f11afc5c_f2fe_4648_9c73_87338ce4e25c"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"06287d2c_deployment","uuid":"f11afc5c-f2fe-4648-9c73-87338ce4e25c"},"retries":"0","description":"","type":"SCALING","uuid":"d803eae2-38e7-4079-a78b-be29242ee7e5","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{scaling_count}@@","type":"","scaling_type":"SCALEIN"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Deployment_Scalein_f11afc5c_f2fe_4648_9c73_87338ce4e25c"}],"description":"","message_list":[],"uuid":"d6877330-ddfd-4bce-9237-51ee8e59410c","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"8f937235-5939-4e4b-971d-8574aec53594","value":"0","label":"","state":"NOT_VALIDATED","attrs":{},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"scaling_count"}],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_f11afc5c_f2fe_4648_9c73_87338ce4e25c","uuid":"9f9ccf5e-57a8-47cb-8332-bdbe3c021bb8"},"name":"SYS_GEN__Runbook_Deployment_f11afc5c_f2fe_4648_9c73_87338ce4e25c"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"aad371ae-1a69-4d50-93c4-8278d45943d0","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"06287d2c_deployment","uuid":"f11afc5c-f2fe-4648-9c73-87338ce4e25c"},"retries":"0","description":"","type":"DAG","uuid":"de9101cf-05b4-4577-b468-46e4bd43bd0a","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"8a25f7c7-993e-4880-95f2-803c4ddef7e5"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_12025307_e5d6_443a_acbf_8c6decdff487","uuid":"db64ee86-66fb-4407-971a-db47b62080c1"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_fc7a0a47_84f8_44d8_b89a_85d46f0da96d","uuid":"30932dca-0036-492f-a3e5-ef273528321e"},{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_f11afc5c_f2fe_4648_9c73_87338ce4e25c","uuid":"4b4ebe20-eacb-4eb9-bbd1-d728cf49b580"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"8a25f7c7-993e-4880-95f2-803c4ddef7e5"},"edge_type":"inherent","type":"","uuid":"663d02ab-09f1-4f97-9302-27e120bcd909","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_12025307_e5d6_443a_acbf_8c6decdff487","uuid":"db64ee86-66fb-4407-971a-db47b62080c1"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_fc7a0a47_84f8_44d8_b89a_85d46f0da96d","uuid":"30932dca-0036-492f-a3e5-ef273528321e"},"edge_type":"inherent","type":"","uuid":"c507a77c-f184-4e98-aa07-c28160b47469","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_f11afc5c_f2fe_4648_9c73_87338ce4e25c","uuid":"4b4ebe20-eacb-4eb9-bbd1-d728cf49b580"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_12025307_e5d6_443a_acbf_8c6decdff487","uuid":"db64ee86-66fb-4407-971a-db47b62080c1"},"edge_type":"inherent","type":"","uuid":"083f0446-3ec9-4bc3-b315-620ece34f0e0","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_fc7a0a47_84f8_44d8_b89a_85d46f0da96d","uuid":"30932dca-0036-492f-a3e5-ef273528321e"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_f11afc5c_f2fe_4648_9c73_87338ce4e25c"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"8a25f7c7-993e-4880-95f2-803c4ddef7e5","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"06287d2c_deployment","uuid":"f11afc5c-f2fe-4648-9c73-87338ce4e25c"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"433fbe65-0fc7-4649-a088-87d5660f88a6"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47"},{"target_any_local_reference":{"kind":"app_package","name":"AWSDataSetPackage","uuid":"12025307-e5d6-443a-acbf-8c6decdff487"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"db64ee86-66fb-4407-971a-db47b62080c1","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_12025307_e5d6_443a_acbf_8c6decdff487"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSDataSet","uuid":"fc7a0a47-84f8-44d8-b89a-85d46f0da96d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"30932dca-0036-492f-a3e5-ef273528321e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"06287d2c_deployment","uuid":"f11afc5c-f2fe-4648-9c73-87338ce4e25c"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_fc7a0a47_84f8_44d8_b89a_85d46f0da96d","uuid":"2e83ceba-d289-4b22-b317-6ae15f28890d"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Substrate_fc7a0a47_84f8_44d8_b89a_85d46f0da96d"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"06287d2c_deployment","uuid":"f11afc5c-f2fe-4648-9c73-87338ce4e25c"},"retries":"0","description":"","type":"SOFT_DELETE_DEPLOYMENT_ELEMENT","uuid":"4b4ebe20-eacb-4eb9-bbd1-d728cf49b580","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Soft_Delete_f11afc5c_f2fe_4648_9c73_87338ce4e25c"}],"description":"","message_list":[],"uuid":"e78b81f7-810e-44cc-93d8-be8bc335dc84","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_f11afc5c_f2fe_4648_9c73_87338ce4e25c","uuid":"de9101cf-05b4-4577-b468-46e4bd43bd0a"},"name":"SYS_GEN__Runbook_Deployment_f11afc5c_f2fe_4648_9c73_87338ce4e25c"}}],"message_list":[],"published_service_local_reference_list":[],"uuid":"f11afc5c-f2fe-4648-9c73-87338ce4e25c","min_replicas":"3","state":"ACTIVE","max_replicas":"9","depends_on_list":[],"editables":{"min_replicas":true,"max_replicas":true},"package_local_reference_list":[{"kind":"app_package","name":"AWSDataSetPackage","uuid":"12025307-e5d6-443a-acbf-8c6decdff487"}],"substrate_local_reference":{"kind":"app_substrate","name":"AWSDataSet","uuid":"fc7a0a47-84f8-44d8-b89a-85d46f0da96d"},"type":"GREENFIELD","options":{},"variable_list":[],"name":"06287d2c_deployment"}],"description":"","action_list":[{"description":"","message_list":[],"uuid":"0c52b4d2-1522-4a8e-bbb1-e6881e5c74c0","name":"ScaleOut","state":"ACTIVE","critical":false,"attrs":{},"type":"user","runbook":{"task_definition_list":[{"retries":"0","description":"","type":"DAG","uuid":"4584f2ea-1b1b-469f-bc62-2f379901a13e","child_tasks_local_reference_list":[{"kind":"app_task","name":"Scale Out","uuid":"5e66f7b4-4007-41e8-b172-3e7378bc26a1"},{"kind":"app_task","name":"AddNewShard","uuid":"f9f7bfa1-dd55-4072-88cb-409a62b24d48"},{"kind":"app_task","name":"SetHostsFile2","uuid":"41ca6da7-a6f1-47cf-8fb9-d769e5be13d8"},{"kind":"app_task","name":"SetHostsFile1","uuid":"6b64c392-e6a9-4334-a6f7-da275dca5796"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Scale Out","uuid":"5e66f7b4-4007-41e8-b172-3e7378bc26a1"},"edge_type":"user_defined","type":"","uuid":"5f254620-410c-49a5-bd4b-7e65657b7ac1","to_task_reference":{"kind":"app_task","name":"SetHostsFile1","uuid":"6b64c392-e6a9-4334-a6f7-da275dca5796"}},{"from_task_reference":{"kind":"app_task","name":"Scale Out","uuid":"5e66f7b4-4007-41e8-b172-3e7378bc26a1"},"edge_type":"user_defined","type":"","uuid":"17376990-fe1b-451c-9e82-aeeda18d080e","to_task_reference":{"kind":"app_task","name":"AddNewShard","uuid":"f9f7bfa1-dd55-4072-88cb-409a62b24d48"}},{"from_task_reference":{"kind":"app_task","name":"Scale Out","uuid":"5e66f7b4-4007-41e8-b172-3e7378bc26a1"},"edge_type":"user_defined","type":"","uuid":"5853ea24-7003-47e0-abf7-b874fc6831a0","to_task_reference":{"kind":"app_task","name":"SetHostsFile2","uuid":"41ca6da7-a6f1-47cf-8fb9-d769e5be13d8"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"46047c7c_dag"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"06287d2c_deployment","uuid":"f11afc5c-f2fe-4648-9c73-87338ce4e25c"},"retries":"0","description":"","type":"SCALING","uuid":"5e66f7b4-4007-41e8-b172-3e7378bc26a1","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{NODES_PER_REPLICA_SET}@@","type":"","scaling_type":"SCALEOUT"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Scale Out"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"EXEC","uuid":"f9f7bfa1-dd55-4072-88cb-409a62b24d48","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\ncat > \/tmp\/set-hostnames.py <<EOF\n#!\/usr\/bin\/python\nimport re\nconfig_ips=\"@@{AWSConfigSet.private_ip_address}@@\"\ndata_ips=\"@@{AWSDataSet.private_ip_address}@@\"\nrouter_ips=\"@@{calm_array_private_ip_address}@@\"\n\nhostfile = open('\/etc\/hosts', 'r').read()\nprint hostfile\nhostfile = re.sub('\\n#MONGODB-BEGIN.*?#MONGODB-END', '', hostfile, flags=re.DOTALL)\nhostfile += \"#MONGODB-BEGIN\\n\"\ncount=1\nfor ip in config_ips.split(','):\n  hostfile += ip + \" config\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in data_ips.split(','):\n  hostfile += ip + \" data\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in router_ips.split(','):\n  hostfile += ip + \" router\" + str(count) + \".mongodb\\n\"\n  count += 1\nhostfile += \"#MONGODB-END\\n\"\nopen('\/etc\/hosts', 'w').write(hostfile)\nEOF\n\nsudo python \/tmp\/set-hostnames.py\n\nNODES_PER_REPLICA_SET=\"@@{NODES_PER_REPLICA_SET}@@\"\nINTERNAL_IP=\"@@{private_ip_address}@@\"\nREPLICA_IPS=($(echo @@{DataSet.private_ip_address}@@ | sed 's\/^,\/\/' | sed 's\/,$\/\/' | tr \",\" \"\\n\"))\nnoOfShards=$((${#REPLICA_IPS[@]}\/${NODES_PER_REPLICA_SET}))\n\ncount=0\nfor ((number=1;number <= $noOfShards;number++))\ndo\n  replicaSetName=\"dataReplSet${number}\"\n  sudo mongo --host ${INTERNAL_IP} --port 27017 --eval \"sh.addShard( \\\"$replicaSetName\/${REPLICA_IPS[${count}]}:27017\\\" )\"\n  count=$(($count + ${NODES_PER_REPLICA_SET}))\ndone"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"AddNewShard"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"EXEC","uuid":"41ca6da7-a6f1-47cf-8fb9-d769e5be13d8","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\ncat > \/tmp\/set-hostnames.py <<EOF\n#!\/usr\/bin\/python\nimport re\nconfig_ips=\"@@{calm_array_private_ip_address}@@\"\ndata_ips=\"@@{AWSDataSet.private_ip_address}@@\"\nrouter_ips=\"@@{AWSRouter.private_ip_address}@@\"\n\nhostfile = open('\/etc\/hosts', 'r').read()\nprint hostfile\nhostfile = re.sub('\\n#MONGODB-BEGIN.*?#MONGODB-END', '', hostfile, flags=re.DOTALL)\nhostfile += \"#MONGODB-BEGIN\\n\"\ncount=1\nfor ip in config_ips.split(','):\n  hostfile += ip + \" config\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in data_ips.split(','):\n  hostfile += ip + \" data\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in router_ips.split(','):\n  hostfile += ip + \" router\" + str(count) + \".mongodb\\n\"\n  count += 1\nhostfile += \"#MONGODB-END\\n\"\nopen('\/etc\/hosts', 'w').write(hostfile)\nEOF\n\nsudo python \/tmp\/set-hostnames.py"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SetHostsFile2"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"EXEC","uuid":"6b64c392-e6a9-4334-a6f7-da275dca5796","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\ncat > \/tmp\/set-hostnames.py <<EOF\n#!\/usr\/bin\/python\nimport re\nconfig_ips=\"@@{AWSConfigSet.address}@@\"\ndata_ips=\"@@{calm_array_private_ip_address}@@\"\nrouter_ips=\"@@{AWSRouter.private_ip_address}@@\"\n\nhostfile = open('\/etc\/hosts', 'r').read()\nprint hostfile\nhostfile = re.sub('\\n#MONGODB-BEGIN.*?#MONGODB-END', '', hostfile, flags=re.DOTALL)\nhostfile += \"#MONGODB-BEGIN\\n\"\ncount=1\nfor ip in config_ips.split(','):\n  hostfile += ip + \" config\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in data_ips.split(','):\n  hostfile += ip + \" data\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in router_ips.split(','):\n  hostfile += ip + \" router\" + str(count) + \".mongodb\\n\"\n  count += 1\nhostfile += \"#MONGODB-END\\n\"\nopen('\/etc\/hosts', 'w').write(hostfile)\nEOF\n\nsudo python \/tmp\/set-hostnames.py"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SetHostsFile1"}],"description":"","message_list":[],"uuid":"01ef47e9-2f18-4f6e-9a2c-6450a471ca07","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"46047c7c_dag","uuid":"4584f2ea-1b1b-469f-bc62-2f379901a13e"},"name":"17c0c906_runbook"}},{"description":"","message_list":[],"uuid":"edc89f62-53d4-4dbb-be46-e39b0ad0669b","name":"ScaleIn","state":"ACTIVE","critical":false,"attrs":{},"type":"user","runbook":{"task_definition_list":[{"retries":"0","description":"","type":"DAG","uuid":"fa68e925-c331-48c2-9c58-4d82b9e386ed","child_tasks_local_reference_list":[{"kind":"app_task","name":"Scale In","uuid":"0087acbf-ee73-4a4b-b840-e6fa04e316dd"},{"kind":"app_task","name":"SetHostsFile1","uuid":"d7a8bc7d-469f-4989-8434-e6844889e8de"},{"kind":"app_task","name":"SetHostsFile2","uuid":"84b47c03-d506-4b57-b7d1-6fdfa611f147"},{"kind":"app_task","name":"SetHostsFile3","uuid":"d6308ce4-0cab-446e-a63b-c27e9d6a1e61"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Scale In","uuid":"0087acbf-ee73-4a4b-b840-e6fa04e316dd"},"edge_type":"user_defined","type":"","uuid":"1b3d38b4-4ebc-4379-904a-92caba91b078","to_task_reference":{"kind":"app_task","name":"SetHostsFile3","uuid":"d6308ce4-0cab-446e-a63b-c27e9d6a1e61"}},{"from_task_reference":{"kind":"app_task","name":"Scale In","uuid":"0087acbf-ee73-4a4b-b840-e6fa04e316dd"},"edge_type":"user_defined","type":"","uuid":"f9f8dda3-aeb0-4521-9f5c-d764e73f1501","to_task_reference":{"kind":"app_task","name":"SetHostsFile1","uuid":"d7a8bc7d-469f-4989-8434-e6844889e8de"}},{"from_task_reference":{"kind":"app_task","name":"Scale In","uuid":"0087acbf-ee73-4a4b-b840-e6fa04e316dd"},"edge_type":"user_defined","type":"","uuid":"d3d599c6-6a6e-463e-bf05-50ba4b7a2fd6","to_task_reference":{"kind":"app_task","name":"SetHostsFile2","uuid":"84b47c03-d506-4b57-b7d1-6fdfa611f147"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"23d6414a_dag"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"06287d2c_deployment","uuid":"f11afc5c-f2fe-4648-9c73-87338ce4e25c"},"retries":"0","description":"","type":"SCALING","uuid":"0087acbf-ee73-4a4b-b840-e6fa04e316dd","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{NODES_PER_REPLICA_SET}@@","type":"","scaling_type":"SCALEIN"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Scale In"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"EXEC","uuid":"d7a8bc7d-469f-4989-8434-e6844889e8de","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\ncat > \/tmp\/set-hostnames.py <<EOF\n#!\/usr\/bin\/python\nimport re\nconfig_ips=\"@@{AWSConfigSet.private_ip_address}@@\"\ndata_ips=\"@@{AWSDataSet.private_ip_address}@@\"\nrouter_ips=\"@@{calm_array_private_ip_address}@@\"\n\nhostfile = open('\/etc\/hosts', 'r').read()\nprint hostfile\nhostfile = re.sub('\\n#MONGODB-BEGIN.*?#MONGODB-END', '', hostfile, flags=re.DOTALL)\nhostfile += \"#MONGODB-BEGIN\\n\"\ncount=1\nfor ip in config_ips.split(','):\n  hostfile += ip + \" config\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in data_ips.split(','):\n  hostfile += ip + \" data\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in router_ips.split(','):\n  hostfile += ip + \" router\" + str(count) + \".mongodb\\n\"\n  count += 1\nhostfile += \"#MONGODB-END\\n\"\nopen('\/etc\/hosts', 'w').write(hostfile)\nEOF\n\nsudo python \/tmp\/set-hostnames.py"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SetHostsFile1"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"EXEC","uuid":"84b47c03-d506-4b57-b7d1-6fdfa611f147","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\ncat > \/tmp\/set-hostnames.py <<EOF\n#!\/usr\/bin\/python\nimport re\nconfig_ips=\"@@{calm_array_private_ip_address}@@\"\ndata_ips=\"@@{AWSDataSet.private_ip_address}@@\"\nrouter_ips=\"@@{AWSRouter.private_ip_address}@@\"\n\nhostfile = open('\/etc\/hosts', 'r').read()\nprint hostfile\nhostfile = re.sub('\\n#MONGODB-BEGIN.*?#MONGODB-END', '', hostfile, flags=re.DOTALL)\nhostfile += \"#MONGODB-BEGIN\\n\"\ncount=1\nfor ip in config_ips.split(','):\n  hostfile += ip + \" config\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in data_ips.split(','):\n  hostfile += ip + \" data\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in router_ips.split(','):\n  hostfile += ip + \" router\" + str(count) + \".mongodb\\n\"\n  count += 1\nhostfile += \"#MONGODB-END\\n\"\nopen('\/etc\/hosts', 'w').write(hostfile)\nEOF\n\nsudo python \/tmp\/set-hostnames.py"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SetHostsFile2"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"EXEC","uuid":"d6308ce4-0cab-446e-a63b-c27e9d6a1e61","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\ncat > \/tmp\/set-hostnames.py <<EOF\n#!\/usr\/bin\/python\nimport re\nconfig_ips=\"@@{AWSConfigSet.address}@@\"\ndata_ips=\"@@{calm_array_private_ip_address}@@\"\nrouter_ips=\"@@{AWSRouter.private_ip_address}@@\"\n\nhostfile = open('\/etc\/hosts', 'r').read()\nprint hostfile\nhostfile = re.sub('\\n#MONGODB-BEGIN.*?#MONGODB-END', '', hostfile, flags=re.DOTALL)\nhostfile += \"#MONGODB-BEGIN\\n\"\ncount=1\nfor ip in config_ips.split(','):\n  hostfile += ip + \" config\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in data_ips.split(','):\n  hostfile += ip + \" data\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in router_ips.split(','):\n  hostfile += ip + \" router\" + str(count) + \".mongodb\\n\"\n  count += 1\nhostfile += \"#MONGODB-END\\n\"\nopen('\/etc\/hosts', 'w').write(hostfile)\nEOF\n\nsudo python \/tmp\/set-hostnames.py"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SetHostsFile3"}],"description":"","message_list":[],"uuid":"36c592a4-71fd-455a-a4fc-aa54e0e1ad38","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"547fcb9f-3f75-414c-b8c6-676fdbbb9cdf","value":"","label":"","state":"ACTIVE","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"SHARD_TO_MOVE"}],"main_task_local_reference":{"kind":"app_task","name":"23d6414a_dag","uuid":"fa68e925-c331-48c2-9c58-4d82b9e386ed"},"name":"dd5f86b8_runbook"}},{"description":"System action for creating an application","message_list":[],"uuid":"a18bdf20-fbd9-48bc-b059-f3ca46abf46d","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"AWS","uuid":"55191eff-0b19-4618-8a52-3e5a7d916814"},"retries":"0","description":"","type":"DAG","uuid":"f9684bab-47d2-40f3-af13-ef465f502f52","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__DE_Provision_f11afc5c_f2fe_4648_9c73_87338ce4e25c","uuid":"d684dd30-9c70-4388-a628-722a42c13030"},{"kind":"app_task","name":"SYS_GEN__DE_Provision_8f5a340d_469c_48eb_bf95_4442d3927b7c","uuid":"64492437-8026-42a6-a149-00814c404cbb"},{"kind":"app_task","name":"SYS_GEN__DE_Provision_4c8b8533_7a13_4d9e_8f75_17180ffa6741","uuid":"df697c1f-f1b9-4be0-8851-ac87b61f9bd7"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_fc7a0a47_84f8_44d8_b89a_85d46f0da96d","uuid":"080d59b5-582c-4ae8-8719-407f4b0995c5"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_66b46e7e_c7ab_4692_a0a0_060f0c7bc6b5","uuid":"2890e87c-5e31-4212-bc0f-1c015273dc70"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_2edf2b2d_2087_4a99_a074_e95c34b101c6","uuid":"e28e0c7e-3f35-4796-b2a6-fa6ba7ec5f81"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_8530536d_a328_41b2_b452_ab23632488f7","uuid":"3830f1f0-369e-486a-af8e-e3c991309384"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_12025307_e5d6_443a_acbf_8c6decdff487","uuid":"7fd80fc4-5461-40ca-88de-a5e165f9c82f"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"53e66cd0-0142-4b3f-a82b-6483d647fec7"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"4720c4c5-3f88-48dc-b1dd-932eb772b01e"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"0c2e148f-250d-4b8e-8b5a-f9b063187755"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"1bfcb652-0a16-4db4-8c95-7cd25682e782"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_f0a49fbc_a771_4f3a_b889_550b2c7eea0a","uuid":"5593374a-20e9-4fb9-8a27-9e2a9838ec15"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"f1897cf7-7d1b-4050-baae-0a71ecaa6613"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"2d262019-50be-4d4c-850a-9f9a9c78f202"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"53e66cd0-0142-4b3f-a82b-6483d647fec7"},"edge_type":"inherent","type":"","uuid":"30306fc0-e898-4d11-a919-c71510ad449b","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"1bfcb652-0a16-4db4-8c95-7cd25682e782"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_8530536d_a328_41b2_b452_ab23632488f7","uuid":"3830f1f0-369e-486a-af8e-e3c991309384"},"edge_type":"inherent","type":"","uuid":"c263ff5c-d917-4bee-862b-f07cd8ae3b0e","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"53e66cd0-0142-4b3f-a82b-6483d647fec7"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_8f5a340d_469c_48eb_bf95_4442d3927b7c","uuid":"64492437-8026-42a6-a149-00814c404cbb"},"edge_type":"inherent","type":"","uuid":"3ef450f8-c803-40f7-bbcd-fff63453812a","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_66b46e7e_c7ab_4692_a0a0_060f0c7bc6b5","uuid":"2890e87c-5e31-4212-bc0f-1c015273dc70"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_66b46e7e_c7ab_4692_a0a0_060f0c7bc6b5","uuid":"2890e87c-5e31-4212-bc0f-1c015273dc70"},"edge_type":"inherent","type":"","uuid":"3afd17b2-d953-4572-ba91-b8d38633db10","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_8530536d_a328_41b2_b452_ab23632488f7","uuid":"3830f1f0-369e-486a-af8e-e3c991309384"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"f1897cf7-7d1b-4050-baae-0a71ecaa6613"},"edge_type":"inherent","type":"","uuid":"d5102f6e-fe45-4d34-89cf-b9c31720cf8f","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"2d262019-50be-4d4c-850a-9f9a9c78f202"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_f0a49fbc_a771_4f3a_b889_550b2c7eea0a","uuid":"5593374a-20e9-4fb9-8a27-9e2a9838ec15"},"edge_type":"inherent","type":"","uuid":"3e388fd0-4bb5-4d0c-a9a1-01ebddc50429","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"f1897cf7-7d1b-4050-baae-0a71ecaa6613"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_4c8b8533_7a13_4d9e_8f75_17180ffa6741","uuid":"df697c1f-f1b9-4be0-8851-ac87b61f9bd7"},"edge_type":"inherent","type":"","uuid":"86977748-daa0-4b1e-8f9d-f1a5008f2af3","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_2edf2b2d_2087_4a99_a074_e95c34b101c6","uuid":"e28e0c7e-3f35-4796-b2a6-fa6ba7ec5f81"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_2edf2b2d_2087_4a99_a074_e95c34b101c6","uuid":"e28e0c7e-3f35-4796-b2a6-fa6ba7ec5f81"},"edge_type":"inherent","type":"","uuid":"22036f95-f2d7-43b3-b63b-301f59029ab1","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_f0a49fbc_a771_4f3a_b889_550b2c7eea0a","uuid":"5593374a-20e9-4fb9-8a27-9e2a9838ec15"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"4720c4c5-3f88-48dc-b1dd-932eb772b01e"},"edge_type":"inherent","type":"","uuid":"9b2680b7-9375-42d6-a244-0f7f9bbc7af4","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"0c2e148f-250d-4b8e-8b5a-f9b063187755"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_12025307_e5d6_443a_acbf_8c6decdff487","uuid":"7fd80fc4-5461-40ca-88de-a5e165f9c82f"},"edge_type":"inherent","type":"","uuid":"6b1ef9fa-50c0-4314-941b-10c345acdff1","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"4720c4c5-3f88-48dc-b1dd-932eb772b01e"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_f11afc5c_f2fe_4648_9c73_87338ce4e25c","uuid":"d684dd30-9c70-4388-a628-722a42c13030"},"edge_type":"inherent","type":"","uuid":"933a90fe-e167-4c41-a60a-bcda0dc6e01e","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_fc7a0a47_84f8_44d8_b89a_85d46f0da96d","uuid":"080d59b5-582c-4ae8-8719-407f4b0995c5"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_fc7a0a47_84f8_44d8_b89a_85d46f0da96d","uuid":"080d59b5-582c-4ae8-8719-407f4b0995c5"},"edge_type":"inherent","type":"","uuid":"f0ef7d29-79b7-445f-9ab2-75eae89f63f7","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_12025307_e5d6_443a_acbf_8c6decdff487","uuid":"7fd80fc4-5461-40ca-88de-a5e165f9c82f"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_fc7a0a47_84f8_44d8_b89a_85d46f0da96d","uuid":"080d59b5-582c-4ae8-8719-407f4b0995c5"},"edge_type":"dependency","type":"","uuid":"9f75766a-19c2-4aa2-9bc2-a84c9a56caea","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_8530536d_a328_41b2_b452_ab23632488f7","uuid":"3830f1f0-369e-486a-af8e-e3c991309384"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_2edf2b2d_2087_4a99_a074_e95c34b101c6","uuid":"e28e0c7e-3f35-4796-b2a6-fa6ba7ec5f81"},"edge_type":"dependency","type":"","uuid":"49026047-ead9-47c4-af8f-d31503e42814","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_8530536d_a328_41b2_b452_ab23632488f7","uuid":"3830f1f0-369e-486a-af8e-e3c991309384"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_fc7a0a47_84f8_44d8_b89a_85d46f0da96d","uuid":"080d59b5-582c-4ae8-8719-407f4b0995c5"},"edge_type":"dependency","type":"","uuid":"c9aac1d5-6938-41f6-b8ce-3836f0ada1cc","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_f0a49fbc_a771_4f3a_b889_550b2c7eea0a","uuid":"5593374a-20e9-4fb9-8a27-9e2a9838ec15"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_66b46e7e_c7ab_4692_a0a0_060f0c7bc6b5","uuid":"2890e87c-5e31-4212-bc0f-1c015273dc70"},"edge_type":"dependency","type":"","uuid":"9368c170-f76e-49a4-a16b-c0d4cfeb63d9","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_f0a49fbc_a771_4f3a_b889_550b2c7eea0a","uuid":"5593374a-20e9-4fb9-8a27-9e2a9838ec15"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"1bfcb652-0a16-4db4-8c95-7cd25682e782"},"edge_type":"dependency","type":"","uuid":"088be54d-4ee6-46ae-a533-4670bc6fc1a8","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_f0a49fbc_a771_4f3a_b889_550b2c7eea0a","uuid":"5593374a-20e9-4fb9-8a27-9e2a9838ec15"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"0c2e148f-250d-4b8e-8b5a-f9b063187755"},"edge_type":"dependency","type":"","uuid":"a305ae94-f16b-49f7-ba53-adba7bae1592","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_f0a49fbc_a771_4f3a_b889_550b2c7eea0a","uuid":"5593374a-20e9-4fb9-8a27-9e2a9838ec15"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_66b46e7e_c7ab_4692_a0a0_060f0c7bc6b5","uuid":"2890e87c-5e31-4212-bc0f-1c015273dc70"},"edge_type":"dependency","type":"","uuid":"96adf068-c335-4cbe-8001-af130ef59e67","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_12025307_e5d6_443a_acbf_8c6decdff487","uuid":"7fd80fc4-5461-40ca-88de-a5e165f9c82f"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_2edf2b2d_2087_4a99_a074_e95c34b101c6","uuid":"e28e0c7e-3f35-4796-b2a6-fa6ba7ec5f81"},"edge_type":"dependency","type":"","uuid":"63e29e73-000a-4735-bbc6-31b2db2e5b16","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_12025307_e5d6_443a_acbf_8c6decdff487","uuid":"7fd80fc4-5461-40ca-88de-a5e165f9c82f"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_55191eff_0b19_4618_8a52_3e5a7d916814"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"06287d2c_deployment","uuid":"f11afc5c-f2fe-4648-9c73-87338ce4e25c"},"retries":"0","description":"","type":"CREATE_DEPLOYMENT_ELEMENT","uuid":"d684dd30-9c70-4388-a628-722a42c13030","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Provision_f11afc5c_f2fe_4648_9c73_87338ce4e25c"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"c5fb67ff_deployment","uuid":"8f5a340d-469c-48eb-bf95-4442d3927b7c"},"retries":"0","description":"","type":"CREATE_DEPLOYMENT_ELEMENT","uuid":"64492437-8026-42a6-a149-00814c404cbb","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Provision_8f5a340d_469c_48eb_bf95_4442d3927b7c"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9b5d5dea_deployment","uuid":"4c8b8533-7a13-4d9e-8f75-17180ffa6741"},"retries":"0","description":"","type":"CREATE_DEPLOYMENT_ELEMENT","uuid":"df697c1f-f1b9-4be0-8851-ac87b61f9bd7","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Provision_4c8b8533_7a13_4d9e_8f75_17180ffa6741"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSDataSet","uuid":"fc7a0a47-84f8-44d8-b89a-85d46f0da96d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"080d59b5-582c-4ae8-8719-407f4b0995c5","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"06287d2c_deployment","uuid":"f11afc5c-f2fe-4648-9c73-87338ce4e25c"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_fc7a0a47_84f8_44d8_b89a_85d46f0da96d","uuid":"c60d34ae-6131-4b71-b40c-3744d18992e5"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Substrate_fc7a0a47_84f8_44d8_b89a_85d46f0da96d"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSConfigSet","uuid":"66b46e7e-c7ab-4692-a0a0-060f0c7bc6b5"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"2890e87c-5e31-4212-bc0f-1c015273dc70","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"c5fb67ff_deployment","uuid":"8f5a340d-469c-48eb-bf95-4442d3927b7c"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_66b46e7e_c7ab_4692_a0a0_060f0c7bc6b5","uuid":"a681edd6-253a-4051-858c-1f61acf89757"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Substrate_66b46e7e_c7ab_4692_a0a0_060f0c7bc6b5"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSRouter","uuid":"2edf2b2d-2087-4a99-a074-e95c34b101c6"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"e28e0c7e-3f35-4796-b2a6-fa6ba7ec5f81","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9b5d5dea_deployment","uuid":"4c8b8533-7a13-4d9e-8f75-17180ffa6741"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_2edf2b2d_2087_4a99_a074_e95c34b101c6","uuid":"b846cb74-1e89-4ff2-802e-4af7fc025929"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Substrate_2edf2b2d_2087_4a99_a074_e95c34b101c6"},{"target_any_local_reference":{"kind":"app_package","name":"AWSConfigSetPackage","uuid":"8530536d-a328-41b2-b452-ab23632488f7"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"3830f1f0-369e-486a-af8e-e3c991309384","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"c5fb67ff_deployment","uuid":"8f5a340d-469c-48eb-bf95-4442d3927b7c"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_8530536d_a328_41b2_b452_ab23632488f7","uuid":"729f484b-84c4-4b35-827f-b98befc0f863"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_8530536d_a328_41b2_b452_ab23632488f7"},{"target_any_local_reference":{"kind":"app_package","name":"AWSDataSetPackage","uuid":"12025307-e5d6-443a-acbf-8c6decdff487"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"7fd80fc4-5461-40ca-88de-a5e165f9c82f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"06287d2c_deployment","uuid":"f11afc5c-f2fe-4648-9c73-87338ce4e25c"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_12025307_e5d6_443a_acbf_8c6decdff487","uuid":"3e33f3e8-8f0e-4483-b721-c3dd65ac1432"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_12025307_e5d6_443a_acbf_8c6decdff487"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"53e66cd0-0142-4b3f-a82b-6483d647fec7","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"c5fb67ff_deployment","uuid":"8f5a340d-469c-48eb-bf95-4442d3927b7c"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0a879260_runbook","uuid":"741de02d-b511-4b87-8b94-a1b0b74e0fb7"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"4720c4c5-3f88-48dc-b1dd-932eb772b01e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"06287d2c_deployment","uuid":"f11afc5c-f2fe-4648-9c73-87338ce4e25c"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0bda2b69_runbook","uuid":"c08988e8-53fc-48b3-942d-00d118016989"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"0c2e148f-250d-4b8e-8b5a-f9b063187755","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"06287d2c_deployment","uuid":"f11afc5c-f2fe-4648-9c73-87338ce4e25c"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0f1333dd_runbook","uuid":"43f16a26-e0b7-42a9-b2de-6e6d4147d381"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"1bfcb652-0a16-4db4-8c95-7cd25682e782","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"c5fb67ff_deployment","uuid":"8f5a340d-469c-48eb-bf95-4442d3927b7c"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"f4695758_runbook","uuid":"0c2528e9-82d6-40bc-9b4d-721eabd37ead"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd"},{"target_any_local_reference":{"kind":"app_package","name":"AWSRouterPackage","uuid":"f0a49fbc-a771-4f3a-b889-550b2c7eea0a"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"5593374a-20e9-4fb9-8a27-9e2a9838ec15","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9b5d5dea_deployment","uuid":"4c8b8533-7a13-4d9e-8f75-17180ffa6741"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_f0a49fbc_a771_4f3a_b889_550b2c7eea0a","uuid":"3d764afa-fb73-4c68-ac00-f8e57fc14ca3"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_f0a49fbc_a771_4f3a_b889_550b2c7eea0a"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"f1897cf7-7d1b-4050-baae-0a71ecaa6613","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9b5d5dea_deployment","uuid":"4c8b8533-7a13-4d9e-8f75-17180ffa6741"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"f678ba44_runbook","uuid":"6f256634-e57a-41ea-a837-438a40018db7"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"2d262019-50be-4d4c-850a-9f9a9c78f202","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9b5d5dea_deployment","uuid":"4c8b8533-7a13-4d9e-8f75-17180ffa6741"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"6729beee_runbook","uuid":"28341bf4-2766-4701-8747-1722ed61db3c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e"}],"description":"","message_list":[],"uuid":"0ca95b59-bb42-4e3f-bae3-cdb51b598bdf","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_55191eff_0b19_4618_8a52_3e5a7d916814","uuid":"f9684bab-47d2-40f3-af13-ef465f502f52"},"name":"SYS_GEN__Runbook_Application_55191eff_0b19_4618_8a52_3e5a7d916814"}},{"description":"System action for starting an application","message_list":[],"uuid":"0e917666-0458-45ad-ba91-a260319c21e8","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"AWS","uuid":"55191eff-0b19-4618-8a52-3e5a7d916814"},"retries":"0","description":"","type":"DAG","uuid":"3a978edf-09ed-4ba1-89ae-c9ae883817b0","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_2edf2b2d_2087_4a99_a074_e95c34b101c6","uuid":"2c3a0995-1163-44ce-b38a-1b89b172c4c4"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_66b46e7e_c7ab_4692_a0a0_060f0c7bc6b5","uuid":"da74b8d8-26c7-460a-8b05-07262db9a719"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_fc7a0a47_84f8_44d8_b89a_85d46f0da96d","uuid":"137504c2-95ae-4ca5-b2a4-774951c08d8d"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"bca41ba1-d08d-44cc-933f-d8374bb55b2e"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"8ec234fa-b626-4aec-9373-e99b3cfab960"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"483b3d8a-d7d9-4408-88ce-57fa54ac34da"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_66b46e7e_c7ab_4692_a0a0_060f0c7bc6b5","uuid":"da74b8d8-26c7-460a-8b05-07262db9a719"},"edge_type":"inherent","type":"","uuid":"be82d008-acd8-4e8a-8aed-006efafd0f4f","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"bca41ba1-d08d-44cc-933f-d8374bb55b2e"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_2edf2b2d_2087_4a99_a074_e95c34b101c6","uuid":"2c3a0995-1163-44ce-b38a-1b89b172c4c4"},"edge_type":"inherent","type":"","uuid":"c6b8c4bc-3048-430a-a9a0-e0bfeb978721","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"8ec234fa-b626-4aec-9373-e99b3cfab960"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_fc7a0a47_84f8_44d8_b89a_85d46f0da96d","uuid":"137504c2-95ae-4ca5-b2a4-774951c08d8d"},"edge_type":"inherent","type":"","uuid":"589cad0f-eeaa-4bbb-9dd0-67c85990469a","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"483b3d8a-d7d9-4408-88ce-57fa54ac34da"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_55191eff_0b19_4618_8a52_3e5a7d916814"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSRouter","uuid":"2edf2b2d-2087-4a99-a074-e95c34b101c6"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"2c3a0995-1163-44ce-b38a-1b89b172c4c4","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9b5d5dea_deployment","uuid":"4c8b8533-7a13-4d9e-8f75-17180ffa6741"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_2edf2b2d_2087_4a99_a074_e95c34b101c6","uuid":"0e714ecb-a848-4101-bb03-f0caa8ba55f2"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Substrate_2edf2b2d_2087_4a99_a074_e95c34b101c6"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSConfigSet","uuid":"66b46e7e-c7ab-4692-a0a0-060f0c7bc6b5"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"da74b8d8-26c7-460a-8b05-07262db9a719","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"c5fb67ff_deployment","uuid":"8f5a340d-469c-48eb-bf95-4442d3927b7c"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_66b46e7e_c7ab_4692_a0a0_060f0c7bc6b5","uuid":"6a055da6-0d50-49ab-aa36-f54d4d109e16"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Substrate_66b46e7e_c7ab_4692_a0a0_060f0c7bc6b5"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSDataSet","uuid":"fc7a0a47-84f8-44d8-b89a-85d46f0da96d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"137504c2-95ae-4ca5-b2a4-774951c08d8d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"06287d2c_deployment","uuid":"f11afc5c-f2fe-4648-9c73-87338ce4e25c"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_fc7a0a47_84f8_44d8_b89a_85d46f0da96d","uuid":"9c348c42-9120-4880-b8d8-b67b25db8c71"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Substrate_fc7a0a47_84f8_44d8_b89a_85d46f0da96d"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"bca41ba1-d08d-44cc-933f-d8374bb55b2e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"c5fb67ff_deployment","uuid":"8f5a340d-469c-48eb-bf95-4442d3927b7c"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"f4695758_runbook","uuid":"0c2528e9-82d6-40bc-9b4d-721eabd37ead"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"8ec234fa-b626-4aec-9373-e99b3cfab960","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9b5d5dea_deployment","uuid":"4c8b8533-7a13-4d9e-8f75-17180ffa6741"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"6729beee_runbook","uuid":"28341bf4-2766-4701-8747-1722ed61db3c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"483b3d8a-d7d9-4408-88ce-57fa54ac34da","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"06287d2c_deployment","uuid":"f11afc5c-f2fe-4648-9c73-87338ce4e25c"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0f1333dd_runbook","uuid":"43f16a26-e0b7-42a9-b2de-6e6d4147d381"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47"}],"description":"","message_list":[],"uuid":"1c18ab4b-ccd4-437f-b5f9-791347d7e0ff","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_55191eff_0b19_4618_8a52_3e5a7d916814","uuid":"3a978edf-09ed-4ba1-89ae-c9ae883817b0"},"name":"SYS_GEN__Runbook_Application_55191eff_0b19_4618_8a52_3e5a7d916814"}},{"description":"System action for restarting an application","message_list":[],"uuid":"4ecf3673-b8bf-49c3-8516-a1120194b696","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"AWS","uuid":"55191eff-0b19-4618-8a52-3e5a7d916814"},"retries":"0","description":"","type":"DAG","uuid":"8e400429-0156-49ad-83ec-78b00c7a8621","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_fc7a0a47_84f8_44d8_b89a_85d46f0da96d","uuid":"2e369329-c14a-4ae4-bfe6-86596459789b"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_66b46e7e_c7ab_4692_a0a0_060f0c7bc6b5","uuid":"06456cb8-ef94-4742-824c-e7813fd2c662"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_2edf2b2d_2087_4a99_a074_e95c34b101c6","uuid":"2d45af78-5f91-44eb-89e9-6b0547ad1442"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"5565bf50-c430-4e83-b47d-5cf67d56c782"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"17625cfd-aeda-4d15-a2ab-fec4b8f75e42"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"481f92eb-9c21-4cd9-a3cc-3421bdab0b06"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_66b46e7e_c7ab_4692_a0a0_060f0c7bc6b5","uuid":"06456cb8-ef94-4742-824c-e7813fd2c662"},"edge_type":"inherent","type":"","uuid":"69916a11-bc43-416a-a964-8f5299c9f8cc","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"17625cfd-aeda-4d15-a2ab-fec4b8f75e42"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_2edf2b2d_2087_4a99_a074_e95c34b101c6","uuid":"2d45af78-5f91-44eb-89e9-6b0547ad1442"},"edge_type":"inherent","type":"","uuid":"34bf9b0b-e417-4c67-b012-404c7566f17e","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"481f92eb-9c21-4cd9-a3cc-3421bdab0b06"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_fc7a0a47_84f8_44d8_b89a_85d46f0da96d","uuid":"2e369329-c14a-4ae4-bfe6-86596459789b"},"edge_type":"inherent","type":"","uuid":"308f196b-177b-43e0-87be-d8c6415aa894","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"5565bf50-c430-4e83-b47d-5cf67d56c782"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_55191eff_0b19_4618_8a52_3e5a7d916814"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSDataSet","uuid":"fc7a0a47-84f8-44d8-b89a-85d46f0da96d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"2e369329-c14a-4ae4-bfe6-86596459789b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"06287d2c_deployment","uuid":"f11afc5c-f2fe-4648-9c73-87338ce4e25c"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_fc7a0a47_84f8_44d8_b89a_85d46f0da96d","uuid":"ee103458-ef90-4f73-997d-ff13c1359c30"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Substrate_fc7a0a47_84f8_44d8_b89a_85d46f0da96d"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSConfigSet","uuid":"66b46e7e-c7ab-4692-a0a0-060f0c7bc6b5"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"06456cb8-ef94-4742-824c-e7813fd2c662","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"c5fb67ff_deployment","uuid":"8f5a340d-469c-48eb-bf95-4442d3927b7c"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_66b46e7e_c7ab_4692_a0a0_060f0c7bc6b5","uuid":"c5c70c83-4cfd-4f58-8975-03b9cf9e882c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Substrate_66b46e7e_c7ab_4692_a0a0_060f0c7bc6b5"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSRouter","uuid":"2edf2b2d-2087-4a99-a074-e95c34b101c6"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"2d45af78-5f91-44eb-89e9-6b0547ad1442","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9b5d5dea_deployment","uuid":"4c8b8533-7a13-4d9e-8f75-17180ffa6741"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_2edf2b2d_2087_4a99_a074_e95c34b101c6","uuid":"a5503768-a0c1-40f9-9f83-7179f166f1d7"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Substrate_2edf2b2d_2087_4a99_a074_e95c34b101c6"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"5565bf50-c430-4e83-b47d-5cf67d56c782","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"06287d2c_deployment","uuid":"f11afc5c-f2fe-4648-9c73-87338ce4e25c"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"4f7b2559_runbook","uuid":"03856e37-e1bf-4b7c-95bb-87bf81c6c940"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"17625cfd-aeda-4d15-a2ab-fec4b8f75e42","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"c5fb67ff_deployment","uuid":"8f5a340d-469c-48eb-bf95-4442d3927b7c"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"b7169291_runbook","uuid":"7c36f5f8-9e8b-4f97-b855-438dc7eb8f3d"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"481f92eb-9c21-4cd9-a3cc-3421bdab0b06","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9b5d5dea_deployment","uuid":"4c8b8533-7a13-4d9e-8f75-17180ffa6741"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"5261a312_runbook","uuid":"dcdcb0d6-e68b-4641-8609-e6dc92c57b21"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e"}],"description":"","message_list":[],"uuid":"64cda89c-a099-483f-9d06-5c6043d560c3","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_55191eff_0b19_4618_8a52_3e5a7d916814","uuid":"8e400429-0156-49ad-83ec-78b00c7a8621"},"name":"SYS_GEN__Runbook_Application_55191eff_0b19_4618_8a52_3e5a7d916814"}},{"description":"System action for stopping an application","message_list":[],"uuid":"32b9b92d-2f7e-4a4c-9f40-57a474c92444","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"AWS","uuid":"55191eff-0b19-4618-8a52-3e5a7d916814"},"retries":"0","description":"","type":"DAG","uuid":"0043b122-c05d-4738-8977-c00e9b125c44","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"86f00a8c-08a9-4ed6-82a6-346d473c4282"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"46be2a88-45ea-4709-bd1e-ec973a4122ba"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"dbd6d354-45c7-4904-a96f-f6b38b81cd77"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_fc7a0a47_84f8_44d8_b89a_85d46f0da96d","uuid":"7a7cce3e-ef5a-4213-a713-637e59d9a18b"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_2edf2b2d_2087_4a99_a074_e95c34b101c6","uuid":"87510a6e-1614-4fb9-ae12-813466f91655"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_66b46e7e_c7ab_4692_a0a0_060f0c7bc6b5","uuid":"8a293744-1f23-4994-8751-bc21e584b6db"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"46be2a88-45ea-4709-bd1e-ec973a4122ba"},"edge_type":"inherent","type":"","uuid":"ce2a5be3-180d-47ba-b43b-24bbfd86d222","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_66b46e7e_c7ab_4692_a0a0_060f0c7bc6b5","uuid":"8a293744-1f23-4994-8751-bc21e584b6db"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"dbd6d354-45c7-4904-a96f-f6b38b81cd77"},"edge_type":"inherent","type":"","uuid":"b3a5e058-f286-4b66-99a6-3bdc43ed62c4","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_2edf2b2d_2087_4a99_a074_e95c34b101c6","uuid":"87510a6e-1614-4fb9-ae12-813466f91655"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"86f00a8c-08a9-4ed6-82a6-346d473c4282"},"edge_type":"inherent","type":"","uuid":"3da239a4-7b9d-4c2e-be75-a009c9e9049b","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_fc7a0a47_84f8_44d8_b89a_85d46f0da96d","uuid":"7a7cce3e-ef5a-4213-a713-637e59d9a18b"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_55191eff_0b19_4618_8a52_3e5a7d916814"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"86f00a8c-08a9-4ed6-82a6-346d473c4282","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"06287d2c_deployment","uuid":"f11afc5c-f2fe-4648-9c73-87338ce4e25c"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"85883b0a_runbook","uuid":"42cf4c9d-d9e5-435e-b222-f2d33a05683f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"46be2a88-45ea-4709-bd1e-ec973a4122ba","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"c5fb67ff_deployment","uuid":"8f5a340d-469c-48eb-bf95-4442d3927b7c"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"a33b20bd_runbook","uuid":"e6335ceb-f00b-4ec5-8425-3864e1897a7d"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"dbd6d354-45c7-4904-a96f-f6b38b81cd77","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9b5d5dea_deployment","uuid":"4c8b8533-7a13-4d9e-8f75-17180ffa6741"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"6d2afcdd_runbook","uuid":"215f65d0-6496-443c-9017-6dec4743560f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSDataSet","uuid":"fc7a0a47-84f8-44d8-b89a-85d46f0da96d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"7a7cce3e-ef5a-4213-a713-637e59d9a18b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"06287d2c_deployment","uuid":"f11afc5c-f2fe-4648-9c73-87338ce4e25c"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_fc7a0a47_84f8_44d8_b89a_85d46f0da96d","uuid":"ca615ee2-3802-4ba4-a39e-3a51e122d5ec"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Substrate_fc7a0a47_84f8_44d8_b89a_85d46f0da96d"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSRouter","uuid":"2edf2b2d-2087-4a99-a074-e95c34b101c6"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"87510a6e-1614-4fb9-ae12-813466f91655","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9b5d5dea_deployment","uuid":"4c8b8533-7a13-4d9e-8f75-17180ffa6741"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_2edf2b2d_2087_4a99_a074_e95c34b101c6","uuid":"65b7f6fd-abaa-40cb-b48b-70df62a88e1c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Substrate_2edf2b2d_2087_4a99_a074_e95c34b101c6"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSConfigSet","uuid":"66b46e7e-c7ab-4692-a0a0-060f0c7bc6b5"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"8a293744-1f23-4994-8751-bc21e584b6db","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"c5fb67ff_deployment","uuid":"8f5a340d-469c-48eb-bf95-4442d3927b7c"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_66b46e7e_c7ab_4692_a0a0_060f0c7bc6b5","uuid":"85fa61a2-e006-4105-aff8-2514fec84417"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Substrate_66b46e7e_c7ab_4692_a0a0_060f0c7bc6b5"}],"description":"","message_list":[],"uuid":"f1529cdb-4e17-4fce-a3e8-1fe56ead9a21","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_55191eff_0b19_4618_8a52_3e5a7d916814","uuid":"0043b122-c05d-4738-8977-c00e9b125c44"},"name":"SYS_GEN__Runbook_Application_55191eff_0b19_4618_8a52_3e5a7d916814"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"5bcc3842-b010-4991-9dc3-d44e44dea7d4","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"AWS","uuid":"55191eff-0b19-4618-8a52-3e5a7d916814"},"retries":"0","description":"","type":"DAG","uuid":"86914e56-1e6e-4515-8749-17353bcf7a61","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"481f5e35-a1e7-46c8-88e9-5015639f15b3"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"77160639-bca7-4ded-b29d-96f1a97f4ae1"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_f0a49fbc_a771_4f3a_b889_550b2c7eea0a","uuid":"71de19ec-fe2c-435b-8b26-c6eb55ffb141"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"8c220554-db85-4c13-bfc5-8f1fbdf43ee5"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"72cc1c9c-5661-43eb-9bc5-e9c0905ee026"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"01ca1bde-fa88-4830-87f6-f943e0b2c6ae"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"35eb5a5f-8dfe-4945-b0af-839674432a6b"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_12025307_e5d6_443a_acbf_8c6decdff487","uuid":"bd0d4259-c50d-49fd-bd94-d239aea2a488"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_8530536d_a328_41b2_b452_ab23632488f7","uuid":"b5458f61-72b8-470c-8bed-293363ed91d2"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_66b46e7e_c7ab_4692_a0a0_060f0c7bc6b5","uuid":"d4297321-94ce-411f-912a-1d8e370c8b70"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_fc7a0a47_84f8_44d8_b89a_85d46f0da96d","uuid":"a1d33e53-15ad-46ad-ae2e-4dcce960ff2d"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_2edf2b2d_2087_4a99_a074_e95c34b101c6","uuid":"165172b2-01d7-410e-a25d-0bd83dd40d2f"},{"kind":"app_task","name":"SYS_GEN__DE_Delete_8f5a340d_469c_48eb_bf95_4442d3927b7c","uuid":"4ab97354-25d5-47e8-8243-86322ee26c1c"},{"kind":"app_task","name":"SYS_GEN__DE_Delete_4c8b8533_7a13_4d9e_8f75_17180ffa6741","uuid":"2a115b7b-8b0f-4a97-8693-07781612831c"},{"kind":"app_task","name":"SYS_GEN__DE_Delete_f11afc5c_f2fe_4648_9c73_87338ce4e25c","uuid":"e25e01db-bc38-4bd0-8901-f11a87eec813"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"8c220554-db85-4c13-bfc5-8f1fbdf43ee5"},"edge_type":"inherent","type":"","uuid":"0912ae82-c3a0-4243-afb2-e14e6c37bc50","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"35eb5a5f-8dfe-4945-b0af-839674432a6b"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"35eb5a5f-8dfe-4945-b0af-839674432a6b"},"edge_type":"inherent","type":"","uuid":"719dec42-70bf-4819-8e75-c2c4aa3b3374","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_8530536d_a328_41b2_b452_ab23632488f7","uuid":"b5458f61-72b8-470c-8bed-293363ed91d2"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_66b46e7e_c7ab_4692_a0a0_060f0c7bc6b5","uuid":"d4297321-94ce-411f-912a-1d8e370c8b70"},"edge_type":"inherent","type":"","uuid":"9e17f09b-9bd4-4757-affb-13a15083282a","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Delete_8f5a340d_469c_48eb_bf95_4442d3927b7c","uuid":"4ab97354-25d5-47e8-8243-86322ee26c1c"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_8530536d_a328_41b2_b452_ab23632488f7","uuid":"b5458f61-72b8-470c-8bed-293363ed91d2"},"edge_type":"inherent","type":"","uuid":"d217d178-0581-4181-98b7-a57793e4d677","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_66b46e7e_c7ab_4692_a0a0_060f0c7bc6b5","uuid":"d4297321-94ce-411f-912a-1d8e370c8b70"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"481f5e35-a1e7-46c8-88e9-5015639f15b3"},"edge_type":"inherent","type":"","uuid":"7038d92c-a9ab-4564-b425-03f1c7bf3c5d","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"77160639-bca7-4ded-b29d-96f1a97f4ae1"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"77160639-bca7-4ded-b29d-96f1a97f4ae1"},"edge_type":"inherent","type":"","uuid":"58537e5e-462e-4335-bfbe-3f833fdbaf53","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_f0a49fbc_a771_4f3a_b889_550b2c7eea0a","uuid":"71de19ec-fe2c-435b-8b26-c6eb55ffb141"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_2edf2b2d_2087_4a99_a074_e95c34b101c6","uuid":"165172b2-01d7-410e-a25d-0bd83dd40d2f"},"edge_type":"inherent","type":"","uuid":"e015b7c7-ac53-4367-a0c4-db188b8ecd28","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Delete_4c8b8533_7a13_4d9e_8f75_17180ffa6741","uuid":"2a115b7b-8b0f-4a97-8693-07781612831c"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_f0a49fbc_a771_4f3a_b889_550b2c7eea0a","uuid":"71de19ec-fe2c-435b-8b26-c6eb55ffb141"},"edge_type":"inherent","type":"","uuid":"19969e71-5c6d-43de-be18-738889da3c49","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_2edf2b2d_2087_4a99_a074_e95c34b101c6","uuid":"165172b2-01d7-410e-a25d-0bd83dd40d2f"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"72cc1c9c-5661-43eb-9bc5-e9c0905ee026"},"edge_type":"inherent","type":"","uuid":"b8349f07-77d7-42a4-9419-413456c42ae5","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"01ca1bde-fa88-4830-87f6-f943e0b2c6ae"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"01ca1bde-fa88-4830-87f6-f943e0b2c6ae"},"edge_type":"inherent","type":"","uuid":"9a5d87f1-b27c-44bf-8a8f-d18db54cc2ef","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_12025307_e5d6_443a_acbf_8c6decdff487","uuid":"bd0d4259-c50d-49fd-bd94-d239aea2a488"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_fc7a0a47_84f8_44d8_b89a_85d46f0da96d","uuid":"a1d33e53-15ad-46ad-ae2e-4dcce960ff2d"},"edge_type":"inherent","type":"","uuid":"797657b9-1be3-4fde-a9db-b372eb61c8ef","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Delete_f11afc5c_f2fe_4648_9c73_87338ce4e25c","uuid":"e25e01db-bc38-4bd0-8901-f11a87eec813"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_12025307_e5d6_443a_acbf_8c6decdff487","uuid":"bd0d4259-c50d-49fd-bd94-d239aea2a488"},"edge_type":"inherent","type":"","uuid":"f30002a2-d705-4362-b63f-c5f0f073036c","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_fc7a0a47_84f8_44d8_b89a_85d46f0da96d","uuid":"a1d33e53-15ad-46ad-ae2e-4dcce960ff2d"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_8530536d_a328_41b2_b452_ab23632488f7","uuid":"b5458f61-72b8-470c-8bed-293363ed91d2"},"edge_type":"create_action_edge","type":"","uuid":"03e55261-c6c6-4edf-8fa4-1f87d5227671","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_fc7a0a47_84f8_44d8_b89a_85d46f0da96d","uuid":"a1d33e53-15ad-46ad-ae2e-4dcce960ff2d"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_8530536d_a328_41b2_b452_ab23632488f7","uuid":"b5458f61-72b8-470c-8bed-293363ed91d2"},"edge_type":"create_action_edge","type":"","uuid":"8f5f53ff-c64e-4106-83b4-1634e328cf31","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_2edf2b2d_2087_4a99_a074_e95c34b101c6","uuid":"165172b2-01d7-410e-a25d-0bd83dd40d2f"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_f0a49fbc_a771_4f3a_b889_550b2c7eea0a","uuid":"71de19ec-fe2c-435b-8b26-c6eb55ffb141"},"edge_type":"create_action_edge","type":"","uuid":"70102f86-b616-4644-a250-77d3e1e432a4","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_fc7a0a47_84f8_44d8_b89a_85d46f0da96d","uuid":"a1d33e53-15ad-46ad-ae2e-4dcce960ff2d"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_f0a49fbc_a771_4f3a_b889_550b2c7eea0a","uuid":"71de19ec-fe2c-435b-8b26-c6eb55ffb141"},"edge_type":"create_action_edge","type":"","uuid":"ee126af6-b2d3-4d60-b974-757a3793e50a","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_66b46e7e_c7ab_4692_a0a0_060f0c7bc6b5","uuid":"d4297321-94ce-411f-912a-1d8e370c8b70"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_f0a49fbc_a771_4f3a_b889_550b2c7eea0a","uuid":"71de19ec-fe2c-435b-8b26-c6eb55ffb141"},"edge_type":"create_action_edge","type":"","uuid":"64afde81-aef1-4244-a424-3f0b3230c001","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"8c220554-db85-4c13-bfc5-8f1fbdf43ee5"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_f0a49fbc_a771_4f3a_b889_550b2c7eea0a","uuid":"71de19ec-fe2c-435b-8b26-c6eb55ffb141"},"edge_type":"create_action_edge","type":"","uuid":"cdb6b2e5-573b-42a4-8827-c351ba964659","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"72cc1c9c-5661-43eb-9bc5-e9c0905ee026"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_12025307_e5d6_443a_acbf_8c6decdff487","uuid":"bd0d4259-c50d-49fd-bd94-d239aea2a488"},"edge_type":"create_action_edge","type":"","uuid":"ff4ae46d-c6ac-4112-876b-a21a3fa9c374","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_66b46e7e_c7ab_4692_a0a0_060f0c7bc6b5","uuid":"d4297321-94ce-411f-912a-1d8e370c8b70"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_12025307_e5d6_443a_acbf_8c6decdff487","uuid":"bd0d4259-c50d-49fd-bd94-d239aea2a488"},"edge_type":"create_action_edge","type":"","uuid":"04f1f8b4-ecb1-4b6e-b46b-d738c5d36fc3","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_2edf2b2d_2087_4a99_a074_e95c34b101c6","uuid":"165172b2-01d7-410e-a25d-0bd83dd40d2f"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_55191eff_0b19_4618_8a52_3e5a7d916814"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"481f5e35-a1e7-46c8-88e9-5015639f15b3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9b5d5dea_deployment","uuid":"4c8b8533-7a13-4d9e-8f75-17180ffa6741"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"6d2afcdd_runbook","uuid":"215f65d0-6496-443c-9017-6dec4743560f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"77160639-bca7-4ded-b29d-96f1a97f4ae1","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9b5d5dea_deployment","uuid":"4c8b8533-7a13-4d9e-8f75-17180ffa6741"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"6631f4bd_runbook","uuid":"d80d8f71-625e-4530-bf85-66347f427405"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e"},{"target_any_local_reference":{"kind":"app_package","name":"AWSRouterPackage","uuid":"f0a49fbc-a771-4f3a-b889-550b2c7eea0a"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"71de19ec-fe2c-435b-8b26-c6eb55ffb141","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9b5d5dea_deployment","uuid":"4c8b8533-7a13-4d9e-8f75-17180ffa6741"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_f0a49fbc_a771_4f3a_b889_550b2c7eea0a","uuid":"8645867a-c2f5-451f-90dc-d2f1f3711561"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_f0a49fbc_a771_4f3a_b889_550b2c7eea0a"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"8c220554-db85-4c13-bfc5-8f1fbdf43ee5","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"c5fb67ff_deployment","uuid":"8f5a340d-469c-48eb-bf95-4442d3927b7c"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"a33b20bd_runbook","uuid":"e6335ceb-f00b-4ec5-8425-3864e1897a7d"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"72cc1c9c-5661-43eb-9bc5-e9c0905ee026","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"06287d2c_deployment","uuid":"f11afc5c-f2fe-4648-9c73-87338ce4e25c"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"85883b0a_runbook","uuid":"42cf4c9d-d9e5-435e-b222-f2d33a05683f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"01ca1bde-fa88-4830-87f6-f943e0b2c6ae","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"06287d2c_deployment","uuid":"f11afc5c-f2fe-4648-9c73-87338ce4e25c"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"036f3879_runbook","uuid":"c6545ccb-d141-45bd-bf59-cf1e44946785"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"35eb5a5f-8dfe-4945-b0af-839674432a6b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"c5fb67ff_deployment","uuid":"8f5a340d-469c-48eb-bf95-4442d3927b7c"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"3c3538b9_runbook","uuid":"8625e87a-c851-44ac-9a8c-6808a1ac5574"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd"},{"target_any_local_reference":{"kind":"app_package","name":"AWSDataSetPackage","uuid":"12025307-e5d6-443a-acbf-8c6decdff487"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"bd0d4259-c50d-49fd-bd94-d239aea2a488","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"06287d2c_deployment","uuid":"f11afc5c-f2fe-4648-9c73-87338ce4e25c"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_12025307_e5d6_443a_acbf_8c6decdff487","uuid":"1bf118df-a508-44b3-8866-58d9f14f9838"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_12025307_e5d6_443a_acbf_8c6decdff487"},{"target_any_local_reference":{"kind":"app_package","name":"AWSConfigSetPackage","uuid":"8530536d-a328-41b2-b452-ab23632488f7"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"b5458f61-72b8-470c-8bed-293363ed91d2","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"c5fb67ff_deployment","uuid":"8f5a340d-469c-48eb-bf95-4442d3927b7c"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_8530536d_a328_41b2_b452_ab23632488f7","uuid":"a1a598ce-952d-4eb2-a621-aa2c7572e8ba"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_8530536d_a328_41b2_b452_ab23632488f7"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSConfigSet","uuid":"66b46e7e-c7ab-4692-a0a0-060f0c7bc6b5"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"d4297321-94ce-411f-912a-1d8e370c8b70","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"c5fb67ff_deployment","uuid":"8f5a340d-469c-48eb-bf95-4442d3927b7c"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_66b46e7e_c7ab_4692_a0a0_060f0c7bc6b5","uuid":"7bdc1c16-34bd-4211-8078-03e4b379f936"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Substrate_66b46e7e_c7ab_4692_a0a0_060f0c7bc6b5"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSDataSet","uuid":"fc7a0a47-84f8-44d8-b89a-85d46f0da96d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"a1d33e53-15ad-46ad-ae2e-4dcce960ff2d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"06287d2c_deployment","uuid":"f11afc5c-f2fe-4648-9c73-87338ce4e25c"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_fc7a0a47_84f8_44d8_b89a_85d46f0da96d","uuid":"75f5c4d4-fc32-4fb7-82e6-5288f0391ddc"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Substrate_fc7a0a47_84f8_44d8_b89a_85d46f0da96d"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSRouter","uuid":"2edf2b2d-2087-4a99-a074-e95c34b101c6"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"165172b2-01d7-410e-a25d-0bd83dd40d2f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9b5d5dea_deployment","uuid":"4c8b8533-7a13-4d9e-8f75-17180ffa6741"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_2edf2b2d_2087_4a99_a074_e95c34b101c6","uuid":"fecd292d-0803-4718-ab23-800447745090"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Substrate_2edf2b2d_2087_4a99_a074_e95c34b101c6"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"c5fb67ff_deployment","uuid":"8f5a340d-469c-48eb-bf95-4442d3927b7c"},"retries":"0","description":"","type":"DELETE_DEPLOYMENT_ELEMENT","uuid":"4ab97354-25d5-47e8-8243-86322ee26c1c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Delete_8f5a340d_469c_48eb_bf95_4442d3927b7c"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9b5d5dea_deployment","uuid":"4c8b8533-7a13-4d9e-8f75-17180ffa6741"},"retries":"0","description":"","type":"DELETE_DEPLOYMENT_ELEMENT","uuid":"2a115b7b-8b0f-4a97-8693-07781612831c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Delete_4c8b8533_7a13_4d9e_8f75_17180ffa6741"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"06287d2c_deployment","uuid":"f11afc5c-f2fe-4648-9c73-87338ce4e25c"},"retries":"0","description":"","type":"DELETE_DEPLOYMENT_ELEMENT","uuid":"e25e01db-bc38-4bd0-8901-f11a87eec813","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Delete_f11afc5c_f2fe_4648_9c73_87338ce4e25c"}],"description":"","message_list":[],"uuid":"bfc92088-28d3-488e-a722-6f7c8a1dbe58","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_55191eff_0b19_4618_8a52_3e5a7d916814","uuid":"86914e56-1e6e-4515-8749-17353bcf7a61"},"name":"SYS_GEN__Runbook_Application_55191eff_0b19_4618_8a52_3e5a7d916814"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"d9a4729f-ad87-4f30-a466-3a822fd7be30","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"AWS","uuid":"55191eff-0b19-4618-8a52-3e5a7d916814"},"retries":"0","description":"","type":"DAG","uuid":"7cae1eeb-7657-4545-acba-13acfbc4c398","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"9a64ab1d-9bed-413c-af7a-2024fa0292ac"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_f0a49fbc_a771_4f3a_b889_550b2c7eea0a","uuid":"86391d00-fd79-41d7-9d32-62acd7f56c7a"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"25fae2a1-dda0-4b14-b8f4-3b691d5475dc"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"18cbdb8d-a20d-4d8e-b953-e61743a8191b"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_12025307_e5d6_443a_acbf_8c6decdff487","uuid":"8b321bcd-e2b3-400f-9c4c-7cb876a5e38c"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_8530536d_a328_41b2_b452_ab23632488f7","uuid":"fb9c21cc-b900-43b6-9887-04b9c8a94433"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_2edf2b2d_2087_4a99_a074_e95c34b101c6","uuid":"22ee353b-1665-4c25-b502-6686767987cf"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_fc7a0a47_84f8_44d8_b89a_85d46f0da96d","uuid":"419b3dfa-b615-4464-a06f-3e8447be9b00"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_66b46e7e_c7ab_4692_a0a0_060f0c7bc6b5","uuid":"8fdc6261-ff99-44b9-b990-6571b1fa7bd8"},{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_8f5a340d_469c_48eb_bf95_4442d3927b7c","uuid":"050332d1-9a42-4f92-be7e-915d25e13ac7"},{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_4c8b8533_7a13_4d9e_8f75_17180ffa6741","uuid":"7e667e78-d9ad-496a-8c97-648e5f231845"},{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_f11afc5c_f2fe_4648_9c73_87338ce4e25c","uuid":"cf40f488-4d8a-4ef7-9e6a-d1b6e7ddecf6"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"25fae2a1-dda0-4b14-b8f4-3b691d5475dc"},"edge_type":"inherent","type":"","uuid":"39cba529-3239-4773-b0ea-b0ca2e73edc5","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_8530536d_a328_41b2_b452_ab23632488f7","uuid":"fb9c21cc-b900-43b6-9887-04b9c8a94433"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_8530536d_a328_41b2_b452_ab23632488f7","uuid":"fb9c21cc-b900-43b6-9887-04b9c8a94433"},"edge_type":"inherent","type":"","uuid":"8685cd46-ae7c-418d-9ce3-ad20925f6a8b","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_66b46e7e_c7ab_4692_a0a0_060f0c7bc6b5","uuid":"8fdc6261-ff99-44b9-b990-6571b1fa7bd8"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_66b46e7e_c7ab_4692_a0a0_060f0c7bc6b5","uuid":"8fdc6261-ff99-44b9-b990-6571b1fa7bd8"},"edge_type":"inherent","type":"","uuid":"14910039-56df-40c9-8ead-60338ef3353f","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_8f5a340d_469c_48eb_bf95_4442d3927b7c","uuid":"050332d1-9a42-4f92-be7e-915d25e13ac7"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"9a64ab1d-9bed-413c-af7a-2024fa0292ac"},"edge_type":"inherent","type":"","uuid":"3be30532-31e0-4f63-b737-dd6120016e3e","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_f0a49fbc_a771_4f3a_b889_550b2c7eea0a","uuid":"86391d00-fd79-41d7-9d32-62acd7f56c7a"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_f0a49fbc_a771_4f3a_b889_550b2c7eea0a","uuid":"86391d00-fd79-41d7-9d32-62acd7f56c7a"},"edge_type":"inherent","type":"","uuid":"b8692045-4262-4d66-9281-4317d767303a","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_2edf2b2d_2087_4a99_a074_e95c34b101c6","uuid":"22ee353b-1665-4c25-b502-6686767987cf"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_2edf2b2d_2087_4a99_a074_e95c34b101c6","uuid":"22ee353b-1665-4c25-b502-6686767987cf"},"edge_type":"inherent","type":"","uuid":"3b9451b9-1df8-4781-93a3-7333fd1b77ae","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_4c8b8533_7a13_4d9e_8f75_17180ffa6741","uuid":"7e667e78-d9ad-496a-8c97-648e5f231845"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"18cbdb8d-a20d-4d8e-b953-e61743a8191b"},"edge_type":"inherent","type":"","uuid":"0b5ba6b7-265a-4c5d-b6f4-8903095064da","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_12025307_e5d6_443a_acbf_8c6decdff487","uuid":"8b321bcd-e2b3-400f-9c4c-7cb876a5e38c"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_fc7a0a47_84f8_44d8_b89a_85d46f0da96d","uuid":"419b3dfa-b615-4464-a06f-3e8447be9b00"},"edge_type":"inherent","type":"","uuid":"b94c6b47-8158-4911-8ea3-89878d9f256f","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_f11afc5c_f2fe_4648_9c73_87338ce4e25c","uuid":"cf40f488-4d8a-4ef7-9e6a-d1b6e7ddecf6"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_12025307_e5d6_443a_acbf_8c6decdff487","uuid":"8b321bcd-e2b3-400f-9c4c-7cb876a5e38c"},"edge_type":"inherent","type":"","uuid":"4875ca65-9ee4-4571-b8da-710f09e67232","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_fc7a0a47_84f8_44d8_b89a_85d46f0da96d","uuid":"419b3dfa-b615-4464-a06f-3e8447be9b00"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_8530536d_a328_41b2_b452_ab23632488f7","uuid":"fb9c21cc-b900-43b6-9887-04b9c8a94433"},"edge_type":"create_action_edge","type":"","uuid":"7c810873-2af9-4f41-8208-bb0efde74eac","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_fc7a0a47_84f8_44d8_b89a_85d46f0da96d","uuid":"419b3dfa-b615-4464-a06f-3e8447be9b00"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_8530536d_a328_41b2_b452_ab23632488f7","uuid":"fb9c21cc-b900-43b6-9887-04b9c8a94433"},"edge_type":"create_action_edge","type":"","uuid":"32b97bf0-82a7-43de-bfb8-59cd06483ba6","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_2edf2b2d_2087_4a99_a074_e95c34b101c6","uuid":"22ee353b-1665-4c25-b502-6686767987cf"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_f0a49fbc_a771_4f3a_b889_550b2c7eea0a","uuid":"86391d00-fd79-41d7-9d32-62acd7f56c7a"},"edge_type":"create_action_edge","type":"","uuid":"aebc81b6-50a4-49bb-8e68-de1086cb15ec","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_fc7a0a47_84f8_44d8_b89a_85d46f0da96d","uuid":"419b3dfa-b615-4464-a06f-3e8447be9b00"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_f0a49fbc_a771_4f3a_b889_550b2c7eea0a","uuid":"86391d00-fd79-41d7-9d32-62acd7f56c7a"},"edge_type":"create_action_edge","type":"","uuid":"a7e6cd37-e533-45cf-b46c-a06e5b7eff54","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_66b46e7e_c7ab_4692_a0a0_060f0c7bc6b5","uuid":"8fdc6261-ff99-44b9-b990-6571b1fa7bd8"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_f0a49fbc_a771_4f3a_b889_550b2c7eea0a","uuid":"86391d00-fd79-41d7-9d32-62acd7f56c7a"},"edge_type":"create_action_edge","type":"","uuid":"e15e4592-ade7-44e9-89c3-087ffc481f85","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"25fae2a1-dda0-4b14-b8f4-3b691d5475dc"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_f0a49fbc_a771_4f3a_b889_550b2c7eea0a","uuid":"86391d00-fd79-41d7-9d32-62acd7f56c7a"},"edge_type":"create_action_edge","type":"","uuid":"bbd8004c-a874-483d-ac99-d188a42b3e50","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"18cbdb8d-a20d-4d8e-b953-e61743a8191b"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_12025307_e5d6_443a_acbf_8c6decdff487","uuid":"8b321bcd-e2b3-400f-9c4c-7cb876a5e38c"},"edge_type":"create_action_edge","type":"","uuid":"9f431048-c7e9-4c55-9ad2-2217ebc5b15a","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_66b46e7e_c7ab_4692_a0a0_060f0c7bc6b5","uuid":"8fdc6261-ff99-44b9-b990-6571b1fa7bd8"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_12025307_e5d6_443a_acbf_8c6decdff487","uuid":"8b321bcd-e2b3-400f-9c4c-7cb876a5e38c"},"edge_type":"create_action_edge","type":"","uuid":"3b6ff7ad-40a1-41ee-aa62-a3935f60f2ea","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_2edf2b2d_2087_4a99_a074_e95c34b101c6","uuid":"22ee353b-1665-4c25-b502-6686767987cf"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_55191eff_0b19_4618_8a52_3e5a7d916814"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"9a64ab1d-9bed-413c-af7a-2024fa0292ac","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9b5d5dea_deployment","uuid":"4c8b8533-7a13-4d9e-8f75-17180ffa6741"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"3fe61be2-c077-40a8-91a6-e9e75a5d2af3"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e"},{"target_any_local_reference":{"kind":"app_package","name":"AWSRouterPackage","uuid":"f0a49fbc-a771-4f3a-b889-550b2c7eea0a"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"86391d00-fd79-41d7-9d32-62acd7f56c7a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_f0a49fbc_a771_4f3a_b889_550b2c7eea0a"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"25fae2a1-dda0-4b14-b8f4-3b691d5475dc","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"c5fb67ff_deployment","uuid":"8f5a340d-469c-48eb-bf95-4442d3927b7c"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"71c44ff6-8283-4578-8e15-dbf648d09ee4"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"18cbdb8d-a20d-4d8e-b953-e61743a8191b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"06287d2c_deployment","uuid":"f11afc5c-f2fe-4648-9c73-87338ce4e25c"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"433fbe65-0fc7-4649-a088-87d5660f88a6"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47"},{"target_any_local_reference":{"kind":"app_package","name":"AWSDataSetPackage","uuid":"12025307-e5d6-443a-acbf-8c6decdff487"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"8b321bcd-e2b3-400f-9c4c-7cb876a5e38c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_12025307_e5d6_443a_acbf_8c6decdff487"},{"target_any_local_reference":{"kind":"app_package","name":"AWSConfigSetPackage","uuid":"8530536d-a328-41b2-b452-ab23632488f7"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"fb9c21cc-b900-43b6-9887-04b9c8a94433","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_8530536d_a328_41b2_b452_ab23632488f7"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSRouter","uuid":"2edf2b2d-2087-4a99-a074-e95c34b101c6"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"22ee353b-1665-4c25-b502-6686767987cf","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9b5d5dea_deployment","uuid":"4c8b8533-7a13-4d9e-8f75-17180ffa6741"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_2edf2b2d_2087_4a99_a074_e95c34b101c6","uuid":"95e4d46e-2871-4b36-b073-61299afc1f36"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Substrate_2edf2b2d_2087_4a99_a074_e95c34b101c6"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSDataSet","uuid":"fc7a0a47-84f8-44d8-b89a-85d46f0da96d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"419b3dfa-b615-4464-a06f-3e8447be9b00","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"06287d2c_deployment","uuid":"f11afc5c-f2fe-4648-9c73-87338ce4e25c"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_fc7a0a47_84f8_44d8_b89a_85d46f0da96d","uuid":"2e83ceba-d289-4b22-b317-6ae15f28890d"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Substrate_fc7a0a47_84f8_44d8_b89a_85d46f0da96d"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSConfigSet","uuid":"66b46e7e-c7ab-4692-a0a0-060f0c7bc6b5"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"8fdc6261-ff99-44b9-b990-6571b1fa7bd8","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"c5fb67ff_deployment","uuid":"8f5a340d-469c-48eb-bf95-4442d3927b7c"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_66b46e7e_c7ab_4692_a0a0_060f0c7bc6b5","uuid":"9d344f11-5aaa-4237-8a74-e06e83ad795c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Substrate_66b46e7e_c7ab_4692_a0a0_060f0c7bc6b5"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"c5fb67ff_deployment","uuid":"8f5a340d-469c-48eb-bf95-4442d3927b7c"},"retries":"0","description":"","type":"SOFT_DELETE_DEPLOYMENT_ELEMENT","uuid":"050332d1-9a42-4f92-be7e-915d25e13ac7","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Soft_Delete_8f5a340d_469c_48eb_bf95_4442d3927b7c"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9b5d5dea_deployment","uuid":"4c8b8533-7a13-4d9e-8f75-17180ffa6741"},"retries":"0","description":"","type":"SOFT_DELETE_DEPLOYMENT_ELEMENT","uuid":"7e667e78-d9ad-496a-8c97-648e5f231845","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Soft_Delete_4c8b8533_7a13_4d9e_8f75_17180ffa6741"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"06287d2c_deployment","uuid":"f11afc5c-f2fe-4648-9c73-87338ce4e25c"},"retries":"0","description":"","type":"SOFT_DELETE_DEPLOYMENT_ELEMENT","uuid":"cf40f488-4d8a-4ef7-9e6a-d1b6e7ddecf6","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Soft_Delete_f11afc5c_f2fe_4648_9c73_87338ce4e25c"}],"description":"","message_list":[],"uuid":"7fa51ed0-ab82-4842-9e91-d99400848f53","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_55191eff_0b19_4618_8a52_3e5a7d916814","uuid":"7cae1eeb-7657-4545-acba-13acfbc4c398"},"name":"SYS_GEN__Runbook_Application_55191eff_0b19_4618_8a52_3e5a7d916814"}}],"message_list":[],"uuid":"55191eff-0b19-4618-8a52-3e5a7d916814","state":"ACTIVE","dependency_list":[{"getter_resource_kind":"PackageCfg","setter_resource_attr":"private_ip_address","setter_resource_kind":"SubstrateCfg","setter_resource_name":"AWSDataSet","action_name":"action_create","action_resource_name":"AWS","getter_resource_name":"AWSConfigSetPackage","action_resource_kind":"ApplicationCfg"},{"getter_resource_kind":"PackageCfg","setter_resource_attr":"private_ip_address","setter_resource_kind":"SubstrateCfg","setter_resource_name":"AWSRouter","action_name":"action_create","action_resource_name":"AWS","getter_resource_name":"AWSConfigSetPackage","action_resource_kind":"ApplicationCfg"},{"getter_resource_kind":"PackageCfg","setter_resource_attr":"private_ip_address","setter_resource_kind":"SubstrateCfg","setter_resource_name":"AWSDataSet","action_name":"action_create","action_resource_name":"AWS","getter_resource_name":"AWSRouterPackage","action_resource_kind":"ApplicationCfg"},{"getter_resource_kind":"PackageCfg","setter_resource_attr":"private_ip_address","setter_resource_kind":"SubstrateCfg","setter_resource_name":"AWSConfigSet","action_name":"action_create","action_resource_name":"AWS","getter_resource_name":"AWSRouterPackage","action_resource_kind":"ApplicationCfg"},{"getter_resource_kind":"PackageCfg","setter_resource_attr":"private_ip_address","setter_resource_kind":"ServiceCfg","setter_resource_name":"ConfigSet","action_name":"action_create","action_resource_name":"AWS","getter_resource_name":"AWSRouterPackage","action_resource_kind":"ApplicationCfg"},{"getter_resource_kind":"PackageCfg","setter_resource_attr":"private_ip_address","setter_resource_kind":"ServiceCfg","setter_resource_name":"DataSet","action_name":"action_create","action_resource_name":"AWS","getter_resource_name":"AWSRouterPackage","action_resource_kind":"ApplicationCfg"},{"getter_resource_kind":"PackageCfg","setter_resource_attr":"private_ip_address","setter_resource_kind":"SubstrateCfg","setter_resource_name":"AWSConfigSet","action_name":"action_create","action_resource_name":"AWS","getter_resource_name":"AWSDataSetPackage","action_resource_kind":"ApplicationCfg"},{"getter_resource_kind":"PackageCfg","setter_resource_attr":"private_ip_address","setter_resource_kind":"SubstrateCfg","setter_resource_name":"AWSRouter","action_name":"action_create","action_resource_name":"AWS","getter_resource_name":"AWSDataSetPackage","action_resource_kind":"ApplicationCfg"}],"variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"bcb97ba9-6d1b-4298-be4e-fc134b27d7ec","value":"3.4.2","label":"","state":"ACTIVE","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"MONGO_VERSION"},{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"46cc594f-1a12-45d9-90eb-f3cf34eec71c","value":"3","label":"","state":"ACTIVE","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"NODES_PER_REPLICA_SET"},{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"85ff3fc1-9a45-493a-b324-f4d209052ad2","value":"\/mongodb\/data","label":"","state":"ACTIVE","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"DATA_PATH"},{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"45f72580-ef38-440b-949e-0d0dc8cd90c1","value":"\/mongodb\/journal","label":"","state":"ACTIVE","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"JOURNAL_PATH"},{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"25b2e871-b43a-4a02-9141-9a23758837a9","value":"\/mongodb\/log","label":"","state":"ACTIVE","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"LOG_PATH"}],"name":"AWS"},{"deployment_create_list":[{"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"81919bcc-ec8f-4d09-9817-c86fa78a97c6","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"ff4974a5_deployment_cloned_1","uuid":"f9f877d0-1395-4a0f-bd05-0eb5227833e1"},"retries":"0","description":"","type":"DAG","uuid":"d4e72d5b-4224-4a68-88a7-e1fecc8d9c27","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__DE_Provision_f9f877d0_1395_4a0f_bd05_0eb5227833e1","uuid":"9a9f4364-88e8-4d24-abf0-4bb4f7724f5c"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_edbd689a_b0bd_461c_ac27_e6ab2d71b009","uuid":"5d5cd360-3d91-4847-b396-65e862e53780"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_210861d5_0624_4752_a2fc_d29937e8c602","uuid":"a91a307b-a1c9-4301-a836-fae458f50012"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"f9ded412-c949-454c-95af-6083dd915a21"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"d53bbbdb-d751-4d21-95a0-63a1997b5b51"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"f9ded412-c949-454c-95af-6083dd915a21"},"edge_type":"inherent","type":"","uuid":"23d594af-6108-4b47-80b9-4e5e5287b687","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"d53bbbdb-d751-4d21-95a0-63a1997b5b51"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_210861d5_0624_4752_a2fc_d29937e8c602","uuid":"a91a307b-a1c9-4301-a836-fae458f50012"},"edge_type":"inherent","type":"","uuid":"4b0bf5c5-9056-4b01-bc2e-fd18d54d6a82","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"f9ded412-c949-454c-95af-6083dd915a21"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_f9f877d0_1395_4a0f_bd05_0eb5227833e1","uuid":"9a9f4364-88e8-4d24-abf0-4bb4f7724f5c"},"edge_type":"inherent","type":"","uuid":"15e82dac-2127-478f-817d-0aa76973a58c","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_edbd689a_b0bd_461c_ac27_e6ab2d71b009","uuid":"5d5cd360-3d91-4847-b396-65e862e53780"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_edbd689a_b0bd_461c_ac27_e6ab2d71b009","uuid":"5d5cd360-3d91-4847-b396-65e862e53780"},"edge_type":"inherent","type":"","uuid":"c41a23c1-a250-472b-b291-7cb8f6dcbfa2","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_210861d5_0624_4752_a2fc_d29937e8c602","uuid":"a91a307b-a1c9-4301-a836-fae458f50012"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_f9f877d0_1395_4a0f_bd05_0eb5227833e1"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"ff4974a5_deployment_cloned_1","uuid":"f9f877d0-1395-4a0f-bd05-0eb5227833e1"},"retries":"0","description":"","type":"CREATE_DEPLOYMENT_ELEMENT","uuid":"9a9f4364-88e8-4d24-abf0-4bb4f7724f5c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Provision_f9f877d0_1395_4a0f_bd05_0eb5227833e1"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPRouter","uuid":"edbd689a-b0bd-461c-ac27-e6ab2d71b009"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"5d5cd360-3d91-4847-b396-65e862e53780","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"ff4974a5_deployment_cloned_1","uuid":"f9f877d0-1395-4a0f-bd05-0eb5227833e1"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_edbd689a_b0bd_461c_ac27_e6ab2d71b009","uuid":"32238d2a-58d5-4a34-8721-8edd6c6ce473"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Substrate_edbd689a_b0bd_461c_ac27_e6ab2d71b009"},{"target_any_local_reference":{"kind":"app_package","name":"GCPRouterPackage","uuid":"210861d5-0624-4752-a2fc-d29937e8c602"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"a91a307b-a1c9-4301-a836-fae458f50012","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"ff4974a5_deployment_cloned_1","uuid":"f9f877d0-1395-4a0f-bd05-0eb5227833e1"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_210861d5_0624_4752_a2fc_d29937e8c602","uuid":"b1c27fde-d546-4f3b-85a6-6e3ceb66bedf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_210861d5_0624_4752_a2fc_d29937e8c602"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"f9ded412-c949-454c-95af-6083dd915a21","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"ff4974a5_deployment_cloned_1","uuid":"f9f877d0-1395-4a0f-bd05-0eb5227833e1"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"f678ba44_runbook","uuid":"6f256634-e57a-41ea-a837-438a40018db7"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"d53bbbdb-d751-4d21-95a0-63a1997b5b51","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"ff4974a5_deployment_cloned_1","uuid":"f9f877d0-1395-4a0f-bd05-0eb5227833e1"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"6729beee_runbook","uuid":"28341bf4-2766-4701-8747-1722ed61db3c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e"}],"description":"","message_list":[],"uuid":"c81a8817-210a-416b-99dc-5020d7270d6d","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_f9f877d0_1395_4a0f_bd05_0eb5227833e1","uuid":"d4e72d5b-4224-4a68-88a7-e1fecc8d9c27"},"name":"SYS_GEN__Runbook_Deployment_f9f877d0_1395_4a0f_bd05_0eb5227833e1"}},{"description":"System action for starting an application","message_list":[],"uuid":"195d1ff6-9009-41d7-914d-74567eea9f0f","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"ff4974a5_deployment_cloned_1","uuid":"f9f877d0-1395-4a0f-bd05-0eb5227833e1"},"retries":"0","description":"","type":"DAG","uuid":"9423e472-bb4d-439a-8dce-cc63cffea5e4","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_edbd689a_b0bd_461c_ac27_e6ab2d71b009","uuid":"71032143-a154-4130-999f-8f5f25db888d"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"1db8e9d3-eaae-4c53-b148-6ebcc3322e3d"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_edbd689a_b0bd_461c_ac27_e6ab2d71b009","uuid":"71032143-a154-4130-999f-8f5f25db888d"},"edge_type":"inherent","type":"","uuid":"cb1fe7ea-39f1-419d-b6b9-d79f65ce26b6","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"1db8e9d3-eaae-4c53-b148-6ebcc3322e3d"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_f9f877d0_1395_4a0f_bd05_0eb5227833e1"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPRouter","uuid":"edbd689a-b0bd-461c-ac27-e6ab2d71b009"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"71032143-a154-4130-999f-8f5f25db888d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"ff4974a5_deployment_cloned_1","uuid":"f9f877d0-1395-4a0f-bd05-0eb5227833e1"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_edbd689a_b0bd_461c_ac27_e6ab2d71b009","uuid":"102f9a69-9587-425c-9886-b026c0c3cfa2"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Substrate_edbd689a_b0bd_461c_ac27_e6ab2d71b009"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"1db8e9d3-eaae-4c53-b148-6ebcc3322e3d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"ff4974a5_deployment_cloned_1","uuid":"f9f877d0-1395-4a0f-bd05-0eb5227833e1"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"6729beee_runbook","uuid":"28341bf4-2766-4701-8747-1722ed61db3c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e"}],"description":"","message_list":[],"uuid":"9b0e3f75-4426-449a-9770-e3d27c8f002f","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_f9f877d0_1395_4a0f_bd05_0eb5227833e1","uuid":"9423e472-bb4d-439a-8dce-cc63cffea5e4"},"name":"SYS_GEN__Runbook_Deployment_f9f877d0_1395_4a0f_bd05_0eb5227833e1"}},{"description":"System action for restarting an application","message_list":[],"uuid":"60fccab9-9b1d-46d0-8bc3-5aa72969da1b","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"ff4974a5_deployment_cloned_1","uuid":"f9f877d0-1395-4a0f-bd05-0eb5227833e1"},"retries":"0","description":"","type":"DAG","uuid":"a86279a1-023d-4c08-baec-d29cd19dec1a","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_edbd689a_b0bd_461c_ac27_e6ab2d71b009","uuid":"2a33817a-cc9c-46d1-90e2-20eba870d20f"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"d35b3286-4ebb-4f16-8346-28aed9d25cd8"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_edbd689a_b0bd_461c_ac27_e6ab2d71b009","uuid":"2a33817a-cc9c-46d1-90e2-20eba870d20f"},"edge_type":"inherent","type":"","uuid":"e21f3dc0-5d33-4732-8cd0-f75cc5dea208","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"d35b3286-4ebb-4f16-8346-28aed9d25cd8"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_f9f877d0_1395_4a0f_bd05_0eb5227833e1"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPRouter","uuid":"edbd689a-b0bd-461c-ac27-e6ab2d71b009"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"2a33817a-cc9c-46d1-90e2-20eba870d20f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"ff4974a5_deployment_cloned_1","uuid":"f9f877d0-1395-4a0f-bd05-0eb5227833e1"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_edbd689a_b0bd_461c_ac27_e6ab2d71b009","uuid":"9158b8de-b50a-4447-bbe2-e92f2ca013f3"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Substrate_edbd689a_b0bd_461c_ac27_e6ab2d71b009"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"d35b3286-4ebb-4f16-8346-28aed9d25cd8","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"ff4974a5_deployment_cloned_1","uuid":"f9f877d0-1395-4a0f-bd05-0eb5227833e1"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"5261a312_runbook","uuid":"dcdcb0d6-e68b-4641-8609-e6dc92c57b21"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e"}],"description":"","message_list":[],"uuid":"9e78fc9f-7629-4ea5-b2eb-cfbceef3ef16","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_f9f877d0_1395_4a0f_bd05_0eb5227833e1","uuid":"a86279a1-023d-4c08-baec-d29cd19dec1a"},"name":"SYS_GEN__Runbook_Deployment_f9f877d0_1395_4a0f_bd05_0eb5227833e1"}},{"description":"System action for stopping an application","message_list":[],"uuid":"02538848-a68f-49ee-bfbf-febdbd5687ca","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"ff4974a5_deployment_cloned_1","uuid":"f9f877d0-1395-4a0f-bd05-0eb5227833e1"},"retries":"0","description":"","type":"DAG","uuid":"33c1fef2-b524-4358-a5ff-59b44921e881","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"d7ac964a-d4de-4e66-befc-ee09aaa12c81"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_edbd689a_b0bd_461c_ac27_e6ab2d71b009","uuid":"af3ea5bb-e7fc-46f6-b7c4-29086c144d5e"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"d7ac964a-d4de-4e66-befc-ee09aaa12c81"},"edge_type":"inherent","type":"","uuid":"599dd7d2-dd3e-4a27-a6c8-7db1b774bb98","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_edbd689a_b0bd_461c_ac27_e6ab2d71b009","uuid":"af3ea5bb-e7fc-46f6-b7c4-29086c144d5e"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_f9f877d0_1395_4a0f_bd05_0eb5227833e1"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"d7ac964a-d4de-4e66-befc-ee09aaa12c81","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"ff4974a5_deployment_cloned_1","uuid":"f9f877d0-1395-4a0f-bd05-0eb5227833e1"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"6d2afcdd_runbook","uuid":"215f65d0-6496-443c-9017-6dec4743560f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPRouter","uuid":"edbd689a-b0bd-461c-ac27-e6ab2d71b009"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"af3ea5bb-e7fc-46f6-b7c4-29086c144d5e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"ff4974a5_deployment_cloned_1","uuid":"f9f877d0-1395-4a0f-bd05-0eb5227833e1"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_edbd689a_b0bd_461c_ac27_e6ab2d71b009","uuid":"c2a37e1d-31c6-4688-90f4-f14799c7bd8e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Substrate_edbd689a_b0bd_461c_ac27_e6ab2d71b009"}],"description":"","message_list":[],"uuid":"62a9fbc8-f1c6-400e-ab46-34a2cabc8e47","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_f9f877d0_1395_4a0f_bd05_0eb5227833e1","uuid":"33c1fef2-b524-4358-a5ff-59b44921e881"},"name":"SYS_GEN__Runbook_Deployment_f9f877d0_1395_4a0f_bd05_0eb5227833e1"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"9801e814-9482-4958-a212-17da418e56ad","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"ff4974a5_deployment_cloned_1","uuid":"f9f877d0-1395-4a0f-bd05-0eb5227833e1"},"retries":"0","description":"","type":"DAG","uuid":"c52d6244-97f7-430f-97d7-a7504b836761","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"481e56d3-2a0b-4037-ab2b-a10973a18625"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"cb69e52e-212d-4ff7-a1c3-c2444f0aba6a"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_210861d5_0624_4752_a2fc_d29937e8c602","uuid":"7f549acf-2849-4f46-8b47-fe7ffbbe5061"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_edbd689a_b0bd_461c_ac27_e6ab2d71b009","uuid":"19271a91-931f-4c84-a306-530e60420bcf"},{"kind":"app_task","name":"SYS_GEN__DE_Delete_f9f877d0_1395_4a0f_bd05_0eb5227833e1","uuid":"5d51ff17-f43a-4f73-9881-4aa44faa3573"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"481e56d3-2a0b-4037-ab2b-a10973a18625"},"edge_type":"inherent","type":"","uuid":"82403933-33fe-48fb-bca7-751cbbf71b03","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"cb69e52e-212d-4ff7-a1c3-c2444f0aba6a"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"cb69e52e-212d-4ff7-a1c3-c2444f0aba6a"},"edge_type":"inherent","type":"","uuid":"b5b3170a-96a5-401a-8cee-012e21bdbb83","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_210861d5_0624_4752_a2fc_d29937e8c602","uuid":"7f549acf-2849-4f46-8b47-fe7ffbbe5061"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_210861d5_0624_4752_a2fc_d29937e8c602","uuid":"7f549acf-2849-4f46-8b47-fe7ffbbe5061"},"edge_type":"inherent","type":"","uuid":"f96a7e93-0602-471b-b360-6a404d3c0412","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_edbd689a_b0bd_461c_ac27_e6ab2d71b009","uuid":"19271a91-931f-4c84-a306-530e60420bcf"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_edbd689a_b0bd_461c_ac27_e6ab2d71b009","uuid":"19271a91-931f-4c84-a306-530e60420bcf"},"edge_type":"inherent","type":"","uuid":"89e64cbf-73da-472b-ada4-b4b4758f10a9","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Delete_f9f877d0_1395_4a0f_bd05_0eb5227833e1","uuid":"5d51ff17-f43a-4f73-9881-4aa44faa3573"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_f9f877d0_1395_4a0f_bd05_0eb5227833e1"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"481e56d3-2a0b-4037-ab2b-a10973a18625","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"ff4974a5_deployment_cloned_1","uuid":"f9f877d0-1395-4a0f-bd05-0eb5227833e1"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"6d2afcdd_runbook","uuid":"215f65d0-6496-443c-9017-6dec4743560f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"cb69e52e-212d-4ff7-a1c3-c2444f0aba6a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"ff4974a5_deployment_cloned_1","uuid":"f9f877d0-1395-4a0f-bd05-0eb5227833e1"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"6631f4bd_runbook","uuid":"d80d8f71-625e-4530-bf85-66347f427405"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e"},{"target_any_local_reference":{"kind":"app_package","name":"GCPRouterPackage","uuid":"210861d5-0624-4752-a2fc-d29937e8c602"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"7f549acf-2849-4f46-8b47-fe7ffbbe5061","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"ff4974a5_deployment_cloned_1","uuid":"f9f877d0-1395-4a0f-bd05-0eb5227833e1"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_210861d5_0624_4752_a2fc_d29937e8c602","uuid":"b512c17c-b7f9-4667-af55-c19187e88fc1"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_210861d5_0624_4752_a2fc_d29937e8c602"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPRouter","uuid":"edbd689a-b0bd-461c-ac27-e6ab2d71b009"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"19271a91-931f-4c84-a306-530e60420bcf","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"ff4974a5_deployment_cloned_1","uuid":"f9f877d0-1395-4a0f-bd05-0eb5227833e1"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_edbd689a_b0bd_461c_ac27_e6ab2d71b009","uuid":"58f36220-0ea5-4636-ad5b-03c895f07c14"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Substrate_edbd689a_b0bd_461c_ac27_e6ab2d71b009"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"ff4974a5_deployment_cloned_1","uuid":"f9f877d0-1395-4a0f-bd05-0eb5227833e1"},"retries":"0","description":"","type":"DELETE_DEPLOYMENT_ELEMENT","uuid":"5d51ff17-f43a-4f73-9881-4aa44faa3573","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Delete_f9f877d0_1395_4a0f_bd05_0eb5227833e1"}],"description":"","message_list":[],"uuid":"a35c5b79-44c0-4028-8afc-93bf6d2de966","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_f9f877d0_1395_4a0f_bd05_0eb5227833e1","uuid":"c52d6244-97f7-430f-97d7-a7504b836761"},"name":"SYS_GEN__Runbook_Deployment_f9f877d0_1395_4a0f_bd05_0eb5227833e1"}},{"description":"System action for scaleout","message_list":[],"uuid":"940650d3-6a37-4ccf-a96e-56ab848adc69","name":"action_scaleout","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"ff4974a5_deployment_cloned_1","uuid":"f9f877d0-1395-4a0f-bd05-0eb5227833e1"},"retries":"0","description":"","type":"DAG","uuid":"072aa37c-b02f-415d-8b3b-8dc97666442e","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Deployment_Scaleout_f9f877d0_1395_4a0f_bd05_0eb5227833e1","uuid":"c0d1929a-ab1e-4e46-a53e-b0314f9897c5"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_f9f877d0_1395_4a0f_bd05_0eb5227833e1"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"ff4974a5_deployment_cloned_1","uuid":"f9f877d0-1395-4a0f-bd05-0eb5227833e1"},"retries":"0","description":"","type":"SCALING","uuid":"c0d1929a-ab1e-4e46-a53e-b0314f9897c5","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{scaling_count}@@","type":"","scaling_type":"SCALEOUT"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Deployment_Scaleout_f9f877d0_1395_4a0f_bd05_0eb5227833e1"}],"description":"","message_list":[],"uuid":"e763969a-643d-49a0-b360-e259046a1fa8","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"9faf0584-c230-4206-ac02-2a9014628a91","value":"0","label":"","state":"NOT_VALIDATED","attrs":{},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"scaling_count"}],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_f9f877d0_1395_4a0f_bd05_0eb5227833e1","uuid":"072aa37c-b02f-415d-8b3b-8dc97666442e"},"name":"SYS_GEN__Runbook_Deployment_f9f877d0_1395_4a0f_bd05_0eb5227833e1"}},{"description":"System action for scalein","message_list":[],"uuid":"ba0e5f15-20e0-4b00-8b02-bb78d376394f","name":"action_scalein","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"ff4974a5_deployment_cloned_1","uuid":"f9f877d0-1395-4a0f-bd05-0eb5227833e1"},"retries":"0","description":"","type":"DAG","uuid":"18542ed7-e519-480d-8c72-cbc2c5942652","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Deployment_Scalein_f9f877d0_1395_4a0f_bd05_0eb5227833e1","uuid":"268fc0bd-d45b-4134-8a04-690fe0f3190e"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_f9f877d0_1395_4a0f_bd05_0eb5227833e1"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"ff4974a5_deployment_cloned_1","uuid":"f9f877d0-1395-4a0f-bd05-0eb5227833e1"},"retries":"0","description":"","type":"SCALING","uuid":"268fc0bd-d45b-4134-8a04-690fe0f3190e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{scaling_count}@@","type":"","scaling_type":"SCALEIN"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Deployment_Scalein_f9f877d0_1395_4a0f_bd05_0eb5227833e1"}],"description":"","message_list":[],"uuid":"fb68c130-2890-4bb9-843e-2027cd0ddac4","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"5c62c842-46f3-4484-9a75-e16fde6a66b5","value":"0","label":"","state":"NOT_VALIDATED","attrs":{},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"scaling_count"}],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_f9f877d0_1395_4a0f_bd05_0eb5227833e1","uuid":"18542ed7-e519-480d-8c72-cbc2c5942652"},"name":"SYS_GEN__Runbook_Deployment_f9f877d0_1395_4a0f_bd05_0eb5227833e1"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"2b69fba0-1d6b-44d9-afb8-fcec04f51291","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"ff4974a5_deployment_cloned_1","uuid":"f9f877d0-1395-4a0f-bd05-0eb5227833e1"},"retries":"0","description":"","type":"DAG","uuid":"b2e71e69-9e3e-4955-9088-4f40fd600c12","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"63dbeea4-c378-488c-aff5-4c5ffa74cbe3"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_210861d5_0624_4752_a2fc_d29937e8c602","uuid":"679159fa-2cc1-4eaa-8a15-550724bf11c9"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_edbd689a_b0bd_461c_ac27_e6ab2d71b009","uuid":"f62a59b6-2278-44bc-8530-5b6d4df695e1"},{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_f9f877d0_1395_4a0f_bd05_0eb5227833e1","uuid":"c2a75dcc-06a9-4245-a0d5-13d3c54f2b78"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"63dbeea4-c378-488c-aff5-4c5ffa74cbe3"},"edge_type":"inherent","type":"","uuid":"ae435df4-3ae2-4b34-8d2e-2cc3c6e01335","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_210861d5_0624_4752_a2fc_d29937e8c602","uuid":"679159fa-2cc1-4eaa-8a15-550724bf11c9"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_edbd689a_b0bd_461c_ac27_e6ab2d71b009","uuid":"f62a59b6-2278-44bc-8530-5b6d4df695e1"},"edge_type":"inherent","type":"","uuid":"1fc5c1fd-dc7a-4ef6-809c-71194cd34de3","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_f9f877d0_1395_4a0f_bd05_0eb5227833e1","uuid":"c2a75dcc-06a9-4245-a0d5-13d3c54f2b78"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_210861d5_0624_4752_a2fc_d29937e8c602","uuid":"679159fa-2cc1-4eaa-8a15-550724bf11c9"},"edge_type":"inherent","type":"","uuid":"a0defc96-a0c7-4d53-b82e-2019cff3b7dd","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_edbd689a_b0bd_461c_ac27_e6ab2d71b009","uuid":"f62a59b6-2278-44bc-8530-5b6d4df695e1"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_f9f877d0_1395_4a0f_bd05_0eb5227833e1"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"63dbeea4-c378-488c-aff5-4c5ffa74cbe3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"ff4974a5_deployment_cloned_1","uuid":"f9f877d0-1395-4a0f-bd05-0eb5227833e1"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"3fe61be2-c077-40a8-91a6-e9e75a5d2af3"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e"},{"target_any_local_reference":{"kind":"app_package","name":"GCPRouterPackage","uuid":"210861d5-0624-4752-a2fc-d29937e8c602"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"679159fa-2cc1-4eaa-8a15-550724bf11c9","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_210861d5_0624_4752_a2fc_d29937e8c602"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPRouter","uuid":"edbd689a-b0bd-461c-ac27-e6ab2d71b009"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"f62a59b6-2278-44bc-8530-5b6d4df695e1","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"ff4974a5_deployment_cloned_1","uuid":"f9f877d0-1395-4a0f-bd05-0eb5227833e1"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_edbd689a_b0bd_461c_ac27_e6ab2d71b009","uuid":"8363be5f-99d4-4631-bf4a-318cc29dc0a8"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Substrate_edbd689a_b0bd_461c_ac27_e6ab2d71b009"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"ff4974a5_deployment_cloned_1","uuid":"f9f877d0-1395-4a0f-bd05-0eb5227833e1"},"retries":"0","description":"","type":"SOFT_DELETE_DEPLOYMENT_ELEMENT","uuid":"c2a75dcc-06a9-4245-a0d5-13d3c54f2b78","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Soft_Delete_f9f877d0_1395_4a0f_bd05_0eb5227833e1"}],"description":"","message_list":[],"uuid":"308997c3-484f-40e6-891c-f3395deef999","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_f9f877d0_1395_4a0f_bd05_0eb5227833e1","uuid":"b2e71e69-9e3e-4955-9088-4f40fd600c12"},"name":"SYS_GEN__Runbook_Deployment_f9f877d0_1395_4a0f_bd05_0eb5227833e1"}}],"message_list":[],"published_service_local_reference_list":[],"uuid":"f9f877d0-1395-4a0f-bd05-0eb5227833e1","min_replicas":"3","state":"ACTIVE","max_replicas":"3","depends_on_list":[],"editables":{"min_replicas":true,"max_replicas":true},"package_local_reference_list":[{"kind":"app_package","name":"GCPRouterPackage","uuid":"210861d5-0624-4752-a2fc-d29937e8c602"}],"substrate_local_reference":{"kind":"app_substrate","name":"GCPRouter","uuid":"edbd689a-b0bd-461c-ac27-e6ab2d71b009"},"type":"GREENFIELD","options":{},"variable_list":[],"name":"ff4974a5_deployment_cloned_1"},{"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"3ebef67a-e2a4-4924-abc3-8cafe4df2d92","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"86730684_deployment_cloned_1","uuid":"d33d3d86-604a-444c-84cd-0505d3918fc9"},"retries":"0","description":"","type":"DAG","uuid":"e1bb12f2-09a6-47aa-babd-55c11b91c638","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__DE_Provision_d33d3d86_604a_444c_84cd_0505d3918fc9","uuid":"9510923a-dc5e-4603-993c-699ee9e133fd"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_4a15a437_7787_4f4e_a85c_124d560111da","uuid":"bbf35d1d-f6fe-4d26-92ae-3605d1ada739"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_372ca4be_1681_4dae_b58f_dcdc8ab92dc1","uuid":"87839020-f6a7-43fa-9286-16ee5e92c882"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"8e19013a-c571-4fd6-a268-c174586fe4ce"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"7624a522-3a57-4f4c-8d73-4dc2a4d08c46"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"8e19013a-c571-4fd6-a268-c174586fe4ce"},"edge_type":"inherent","type":"","uuid":"65462e70-eb06-4cc9-9802-893c8e3da94f","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"7624a522-3a57-4f4c-8d73-4dc2a4d08c46"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_372ca4be_1681_4dae_b58f_dcdc8ab92dc1","uuid":"87839020-f6a7-43fa-9286-16ee5e92c882"},"edge_type":"inherent","type":"","uuid":"3806b6f2-7497-4687-9728-0a4acba7d929","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"8e19013a-c571-4fd6-a268-c174586fe4ce"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_d33d3d86_604a_444c_84cd_0505d3918fc9","uuid":"9510923a-dc5e-4603-993c-699ee9e133fd"},"edge_type":"inherent","type":"","uuid":"795d6410-987c-479d-b1ba-3253696bd1ae","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_4a15a437_7787_4f4e_a85c_124d560111da","uuid":"bbf35d1d-f6fe-4d26-92ae-3605d1ada739"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_4a15a437_7787_4f4e_a85c_124d560111da","uuid":"bbf35d1d-f6fe-4d26-92ae-3605d1ada739"},"edge_type":"inherent","type":"","uuid":"19e6f761-dbf2-4308-9e11-fdd30d934a34","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_372ca4be_1681_4dae_b58f_dcdc8ab92dc1","uuid":"87839020-f6a7-43fa-9286-16ee5e92c882"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_d33d3d86_604a_444c_84cd_0505d3918fc9"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"86730684_deployment_cloned_1","uuid":"d33d3d86-604a-444c-84cd-0505d3918fc9"},"retries":"0","description":"","type":"CREATE_DEPLOYMENT_ELEMENT","uuid":"9510923a-dc5e-4603-993c-699ee9e133fd","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Provision_d33d3d86_604a_444c_84cd_0505d3918fc9"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPConfigSet","uuid":"4a15a437-7787-4f4e-a85c-124d560111da"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"bbf35d1d-f6fe-4d26-92ae-3605d1ada739","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"86730684_deployment_cloned_1","uuid":"d33d3d86-604a-444c-84cd-0505d3918fc9"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_4a15a437_7787_4f4e_a85c_124d560111da","uuid":"3dfdab2b-a950-44ce-bc53-d829a28874a3"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Substrate_4a15a437_7787_4f4e_a85c_124d560111da"},{"target_any_local_reference":{"kind":"app_package","name":"GCPConfigSetPackage","uuid":"372ca4be-1681-4dae-b58f-dcdc8ab92dc1"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"87839020-f6a7-43fa-9286-16ee5e92c882","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"86730684_deployment_cloned_1","uuid":"d33d3d86-604a-444c-84cd-0505d3918fc9"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_372ca4be_1681_4dae_b58f_dcdc8ab92dc1","uuid":"219acc35-5551-488a-9c44-10f33d7fdcd8"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_372ca4be_1681_4dae_b58f_dcdc8ab92dc1"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"8e19013a-c571-4fd6-a268-c174586fe4ce","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"86730684_deployment_cloned_1","uuid":"d33d3d86-604a-444c-84cd-0505d3918fc9"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0a879260_runbook","uuid":"741de02d-b511-4b87-8b94-a1b0b74e0fb7"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"7624a522-3a57-4f4c-8d73-4dc2a4d08c46","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"86730684_deployment_cloned_1","uuid":"d33d3d86-604a-444c-84cd-0505d3918fc9"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"f4695758_runbook","uuid":"0c2528e9-82d6-40bc-9b4d-721eabd37ead"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd"}],"description":"","message_list":[],"uuid":"0c102748-b0bc-4e02-847d-4c9a946bb451","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_d33d3d86_604a_444c_84cd_0505d3918fc9","uuid":"e1bb12f2-09a6-47aa-babd-55c11b91c638"},"name":"SYS_GEN__Runbook_Deployment_d33d3d86_604a_444c_84cd_0505d3918fc9"}},{"description":"System action for starting an application","message_list":[],"uuid":"c287c366-57f1-4bf6-ba64-5f51db7ad172","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"86730684_deployment_cloned_1","uuid":"d33d3d86-604a-444c-84cd-0505d3918fc9"},"retries":"0","description":"","type":"DAG","uuid":"da8494e6-39d4-4f07-ad60-77d632d28802","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_4a15a437_7787_4f4e_a85c_124d560111da","uuid":"9f98d2d6-2ae6-48b0-b48d-76f02c96577c"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"bdd622d2-a267-49ee-ab99-f927e3ace384"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_4a15a437_7787_4f4e_a85c_124d560111da","uuid":"9f98d2d6-2ae6-48b0-b48d-76f02c96577c"},"edge_type":"inherent","type":"","uuid":"c8a59245-27a4-48fd-8ae8-76696e7ca2d9","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"bdd622d2-a267-49ee-ab99-f927e3ace384"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_d33d3d86_604a_444c_84cd_0505d3918fc9"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPConfigSet","uuid":"4a15a437-7787-4f4e-a85c-124d560111da"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"9f98d2d6-2ae6-48b0-b48d-76f02c96577c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"86730684_deployment_cloned_1","uuid":"d33d3d86-604a-444c-84cd-0505d3918fc9"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_4a15a437_7787_4f4e_a85c_124d560111da","uuid":"43a5a712-292e-425e-b1de-ee35fe796adc"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Substrate_4a15a437_7787_4f4e_a85c_124d560111da"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"bdd622d2-a267-49ee-ab99-f927e3ace384","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"86730684_deployment_cloned_1","uuid":"d33d3d86-604a-444c-84cd-0505d3918fc9"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"f4695758_runbook","uuid":"0c2528e9-82d6-40bc-9b4d-721eabd37ead"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd"}],"description":"","message_list":[],"uuid":"833e1b93-78e2-4c66-a94f-7c3408e19b76","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_d33d3d86_604a_444c_84cd_0505d3918fc9","uuid":"da8494e6-39d4-4f07-ad60-77d632d28802"},"name":"SYS_GEN__Runbook_Deployment_d33d3d86_604a_444c_84cd_0505d3918fc9"}},{"description":"System action for restarting an application","message_list":[],"uuid":"1588ac45-49e5-4960-8337-7a596f0075c3","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"86730684_deployment_cloned_1","uuid":"d33d3d86-604a-444c-84cd-0505d3918fc9"},"retries":"0","description":"","type":"DAG","uuid":"a3486fe8-4f63-45a7-b853-6a23991af849","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_4a15a437_7787_4f4e_a85c_124d560111da","uuid":"3257a20f-2450-4aab-abcd-5a56875cb713"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"cd382833-d562-45e1-b5e9-2ce162c35d27"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_4a15a437_7787_4f4e_a85c_124d560111da","uuid":"3257a20f-2450-4aab-abcd-5a56875cb713"},"edge_type":"inherent","type":"","uuid":"cb4b49ac-3352-479e-9510-701e0ef286bd","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"cd382833-d562-45e1-b5e9-2ce162c35d27"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_d33d3d86_604a_444c_84cd_0505d3918fc9"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPConfigSet","uuid":"4a15a437-7787-4f4e-a85c-124d560111da"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"3257a20f-2450-4aab-abcd-5a56875cb713","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"86730684_deployment_cloned_1","uuid":"d33d3d86-604a-444c-84cd-0505d3918fc9"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_4a15a437_7787_4f4e_a85c_124d560111da","uuid":"e1ea4d4d-5f50-4d41-af2b-33551c074109"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Substrate_4a15a437_7787_4f4e_a85c_124d560111da"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"cd382833-d562-45e1-b5e9-2ce162c35d27","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"86730684_deployment_cloned_1","uuid":"d33d3d86-604a-444c-84cd-0505d3918fc9"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"b7169291_runbook","uuid":"7c36f5f8-9e8b-4f97-b855-438dc7eb8f3d"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd"}],"description":"","message_list":[],"uuid":"e8af364e-7750-4ac2-ae1a-02452c3b24dc","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_d33d3d86_604a_444c_84cd_0505d3918fc9","uuid":"a3486fe8-4f63-45a7-b853-6a23991af849"},"name":"SYS_GEN__Runbook_Deployment_d33d3d86_604a_444c_84cd_0505d3918fc9"}},{"description":"System action for stopping an application","message_list":[],"uuid":"8bb6eba5-dbba-41c9-9344-2ee7b3739109","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"86730684_deployment_cloned_1","uuid":"d33d3d86-604a-444c-84cd-0505d3918fc9"},"retries":"0","description":"","type":"DAG","uuid":"5da3126a-f951-46f0-9359-148efea35bbd","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"3ebb135b-b919-47d8-b8a2-842018203487"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_4a15a437_7787_4f4e_a85c_124d560111da","uuid":"70436b61-ed2c-4e0f-b733-10b199609e57"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"3ebb135b-b919-47d8-b8a2-842018203487"},"edge_type":"inherent","type":"","uuid":"7673a708-9060-477a-9213-77631eda26f5","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_4a15a437_7787_4f4e_a85c_124d560111da","uuid":"70436b61-ed2c-4e0f-b733-10b199609e57"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_d33d3d86_604a_444c_84cd_0505d3918fc9"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"3ebb135b-b919-47d8-b8a2-842018203487","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"86730684_deployment_cloned_1","uuid":"d33d3d86-604a-444c-84cd-0505d3918fc9"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"a33b20bd_runbook","uuid":"e6335ceb-f00b-4ec5-8425-3864e1897a7d"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPConfigSet","uuid":"4a15a437-7787-4f4e-a85c-124d560111da"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"70436b61-ed2c-4e0f-b733-10b199609e57","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"86730684_deployment_cloned_1","uuid":"d33d3d86-604a-444c-84cd-0505d3918fc9"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_4a15a437_7787_4f4e_a85c_124d560111da","uuid":"94b79745-8694-4ef5-83aa-c7ccbaadc81d"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Substrate_4a15a437_7787_4f4e_a85c_124d560111da"}],"description":"","message_list":[],"uuid":"bbbc9960-4675-4fde-8666-fdae3c942274","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_d33d3d86_604a_444c_84cd_0505d3918fc9","uuid":"5da3126a-f951-46f0-9359-148efea35bbd"},"name":"SYS_GEN__Runbook_Deployment_d33d3d86_604a_444c_84cd_0505d3918fc9"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"f373ba6b-a6d6-40d1-b0b6-9064e89fee35","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"86730684_deployment_cloned_1","uuid":"d33d3d86-604a-444c-84cd-0505d3918fc9"},"retries":"0","description":"","type":"DAG","uuid":"31092899-65b4-4c80-bf4f-b88bf2d16858","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"945a1a71-6fa9-4148-8e86-4d9faf87a4cd"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"15d496c2-4026-4e2b-bc0c-379470175aef"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_372ca4be_1681_4dae_b58f_dcdc8ab92dc1","uuid":"aa66e2df-3e26-4c72-bc97-03f62fcee4c9"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_4a15a437_7787_4f4e_a85c_124d560111da","uuid":"ef6659a5-23c1-44e5-9882-3478a4ff1e5f"},{"kind":"app_task","name":"SYS_GEN__DE_Delete_d33d3d86_604a_444c_84cd_0505d3918fc9","uuid":"14e8bd22-d070-4499-bc0c-c7f4a0317f7a"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"945a1a71-6fa9-4148-8e86-4d9faf87a4cd"},"edge_type":"inherent","type":"","uuid":"8dff417e-7423-4b2e-b334-fda313d8dd29","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"15d496c2-4026-4e2b-bc0c-379470175aef"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"15d496c2-4026-4e2b-bc0c-379470175aef"},"edge_type":"inherent","type":"","uuid":"766c5548-5ac5-4014-88c1-ad1ae3f05b95","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_372ca4be_1681_4dae_b58f_dcdc8ab92dc1","uuid":"aa66e2df-3e26-4c72-bc97-03f62fcee4c9"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_4a15a437_7787_4f4e_a85c_124d560111da","uuid":"ef6659a5-23c1-44e5-9882-3478a4ff1e5f"},"edge_type":"inherent","type":"","uuid":"3753cebc-9ca4-4b15-be2e-cc2497c94385","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Delete_d33d3d86_604a_444c_84cd_0505d3918fc9","uuid":"14e8bd22-d070-4499-bc0c-c7f4a0317f7a"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_372ca4be_1681_4dae_b58f_dcdc8ab92dc1","uuid":"aa66e2df-3e26-4c72-bc97-03f62fcee4c9"},"edge_type":"inherent","type":"","uuid":"d0f849f4-dbad-4e8c-af9b-1b41d087096e","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_4a15a437_7787_4f4e_a85c_124d560111da","uuid":"ef6659a5-23c1-44e5-9882-3478a4ff1e5f"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_d33d3d86_604a_444c_84cd_0505d3918fc9"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"945a1a71-6fa9-4148-8e86-4d9faf87a4cd","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"86730684_deployment_cloned_1","uuid":"d33d3d86-604a-444c-84cd-0505d3918fc9"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"a33b20bd_runbook","uuid":"e6335ceb-f00b-4ec5-8425-3864e1897a7d"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"15d496c2-4026-4e2b-bc0c-379470175aef","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"86730684_deployment_cloned_1","uuid":"d33d3d86-604a-444c-84cd-0505d3918fc9"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"3c3538b9_runbook","uuid":"8625e87a-c851-44ac-9a8c-6808a1ac5574"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd"},{"target_any_local_reference":{"kind":"app_package","name":"GCPConfigSetPackage","uuid":"372ca4be-1681-4dae-b58f-dcdc8ab92dc1"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"aa66e2df-3e26-4c72-bc97-03f62fcee4c9","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"86730684_deployment_cloned_1","uuid":"d33d3d86-604a-444c-84cd-0505d3918fc9"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_372ca4be_1681_4dae_b58f_dcdc8ab92dc1","uuid":"15b69a38-c57e-49ff-8515-1c95bec94c46"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_372ca4be_1681_4dae_b58f_dcdc8ab92dc1"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPConfigSet","uuid":"4a15a437-7787-4f4e-a85c-124d560111da"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"ef6659a5-23c1-44e5-9882-3478a4ff1e5f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"86730684_deployment_cloned_1","uuid":"d33d3d86-604a-444c-84cd-0505d3918fc9"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_4a15a437_7787_4f4e_a85c_124d560111da","uuid":"f4893592-3aee-4106-8065-ec4f64ed6f94"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Substrate_4a15a437_7787_4f4e_a85c_124d560111da"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"86730684_deployment_cloned_1","uuid":"d33d3d86-604a-444c-84cd-0505d3918fc9"},"retries":"0","description":"","type":"DELETE_DEPLOYMENT_ELEMENT","uuid":"14e8bd22-d070-4499-bc0c-c7f4a0317f7a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Delete_d33d3d86_604a_444c_84cd_0505d3918fc9"}],"description":"","message_list":[],"uuid":"8bfbdefe-baa3-410a-992f-fb44ee9a1087","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_d33d3d86_604a_444c_84cd_0505d3918fc9","uuid":"31092899-65b4-4c80-bf4f-b88bf2d16858"},"name":"SYS_GEN__Runbook_Deployment_d33d3d86_604a_444c_84cd_0505d3918fc9"}},{"description":"System action for scaleout","message_list":[],"uuid":"08c46542-5fda-40bf-8ba3-1068cd8088af","name":"action_scaleout","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"86730684_deployment_cloned_1","uuid":"d33d3d86-604a-444c-84cd-0505d3918fc9"},"retries":"0","description":"","type":"DAG","uuid":"67f3e54e-2390-423d-8809-6367feb0f283","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Deployment_Scaleout_d33d3d86_604a_444c_84cd_0505d3918fc9","uuid":"8a85ddc5-825d-4909-bd32-f8c2b1fec14a"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_d33d3d86_604a_444c_84cd_0505d3918fc9"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"86730684_deployment_cloned_1","uuid":"d33d3d86-604a-444c-84cd-0505d3918fc9"},"retries":"0","description":"","type":"SCALING","uuid":"8a85ddc5-825d-4909-bd32-f8c2b1fec14a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{scaling_count}@@","type":"","scaling_type":"SCALEOUT"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Deployment_Scaleout_d33d3d86_604a_444c_84cd_0505d3918fc9"}],"description":"","message_list":[],"uuid":"178481f6-687e-415c-9929-e389f05ef556","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"34f8b610-5410-4b19-ac68-b721ce08b2fc","value":"0","label":"","state":"NOT_VALIDATED","attrs":{},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"scaling_count"}],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_d33d3d86_604a_444c_84cd_0505d3918fc9","uuid":"67f3e54e-2390-423d-8809-6367feb0f283"},"name":"SYS_GEN__Runbook_Deployment_d33d3d86_604a_444c_84cd_0505d3918fc9"}},{"description":"System action for scalein","message_list":[],"uuid":"ecc1a02f-bd29-433d-8d6b-b99729eb3188","name":"action_scalein","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"86730684_deployment_cloned_1","uuid":"d33d3d86-604a-444c-84cd-0505d3918fc9"},"retries":"0","description":"","type":"DAG","uuid":"df73fb97-2af6-4d21-a876-b6e8c6f6951e","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Deployment_Scalein_d33d3d86_604a_444c_84cd_0505d3918fc9","uuid":"d34c92c3-08b4-4529-81a3-1655912c865e"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_d33d3d86_604a_444c_84cd_0505d3918fc9"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"86730684_deployment_cloned_1","uuid":"d33d3d86-604a-444c-84cd-0505d3918fc9"},"retries":"0","description":"","type":"SCALING","uuid":"d34c92c3-08b4-4529-81a3-1655912c865e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{scaling_count}@@","type":"","scaling_type":"SCALEIN"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Deployment_Scalein_d33d3d86_604a_444c_84cd_0505d3918fc9"}],"description":"","message_list":[],"uuid":"b59035e5-1448-4840-84e8-114500571950","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"55d1e391-c179-40ad-8703-92dc32289679","value":"0","label":"","state":"NOT_VALIDATED","attrs":{},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"scaling_count"}],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_d33d3d86_604a_444c_84cd_0505d3918fc9","uuid":"df73fb97-2af6-4d21-a876-b6e8c6f6951e"},"name":"SYS_GEN__Runbook_Deployment_d33d3d86_604a_444c_84cd_0505d3918fc9"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"7bed3889-be43-478b-9a23-4fe14548d4c8","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"86730684_deployment_cloned_1","uuid":"d33d3d86-604a-444c-84cd-0505d3918fc9"},"retries":"0","description":"","type":"DAG","uuid":"c70a7273-b7c3-42c7-838a-28aa9bb42d3e","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"464ac660-da06-4a47-8e66-db51c5d2bbc4"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_372ca4be_1681_4dae_b58f_dcdc8ab92dc1","uuid":"40324383-003a-435d-b09c-25893da26537"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_4a15a437_7787_4f4e_a85c_124d560111da","uuid":"89a38b1e-43ef-4bf8-bd04-a3fc1b56757d"},{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_d33d3d86_604a_444c_84cd_0505d3918fc9","uuid":"a258eb43-26e2-4e2e-9d95-b3f66d50dbbd"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"464ac660-da06-4a47-8e66-db51c5d2bbc4"},"edge_type":"inherent","type":"","uuid":"83ba39fb-b66a-4726-a056-ce1614192250","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_372ca4be_1681_4dae_b58f_dcdc8ab92dc1","uuid":"40324383-003a-435d-b09c-25893da26537"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_4a15a437_7787_4f4e_a85c_124d560111da","uuid":"89a38b1e-43ef-4bf8-bd04-a3fc1b56757d"},"edge_type":"inherent","type":"","uuid":"49b7b13d-c50a-44f6-9cc0-cdbd8b4389d6","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_d33d3d86_604a_444c_84cd_0505d3918fc9","uuid":"a258eb43-26e2-4e2e-9d95-b3f66d50dbbd"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_372ca4be_1681_4dae_b58f_dcdc8ab92dc1","uuid":"40324383-003a-435d-b09c-25893da26537"},"edge_type":"inherent","type":"","uuid":"f934a8b1-b883-464c-a9cc-660f24835633","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_4a15a437_7787_4f4e_a85c_124d560111da","uuid":"89a38b1e-43ef-4bf8-bd04-a3fc1b56757d"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_d33d3d86_604a_444c_84cd_0505d3918fc9"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"464ac660-da06-4a47-8e66-db51c5d2bbc4","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"86730684_deployment_cloned_1","uuid":"d33d3d86-604a-444c-84cd-0505d3918fc9"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"71c44ff6-8283-4578-8e15-dbf648d09ee4"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd"},{"target_any_local_reference":{"kind":"app_package","name":"GCPConfigSetPackage","uuid":"372ca4be-1681-4dae-b58f-dcdc8ab92dc1"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"40324383-003a-435d-b09c-25893da26537","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_372ca4be_1681_4dae_b58f_dcdc8ab92dc1"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPConfigSet","uuid":"4a15a437-7787-4f4e-a85c-124d560111da"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"89a38b1e-43ef-4bf8-bd04-a3fc1b56757d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"86730684_deployment_cloned_1","uuid":"d33d3d86-604a-444c-84cd-0505d3918fc9"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_4a15a437_7787_4f4e_a85c_124d560111da","uuid":"294c931b-3c2b-48fa-af56-0bec3d459010"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Substrate_4a15a437_7787_4f4e_a85c_124d560111da"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"86730684_deployment_cloned_1","uuid":"d33d3d86-604a-444c-84cd-0505d3918fc9"},"retries":"0","description":"","type":"SOFT_DELETE_DEPLOYMENT_ELEMENT","uuid":"a258eb43-26e2-4e2e-9d95-b3f66d50dbbd","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Soft_Delete_d33d3d86_604a_444c_84cd_0505d3918fc9"}],"description":"","message_list":[],"uuid":"4b385874-745f-4ac1-a47c-1c2e60587e88","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_d33d3d86_604a_444c_84cd_0505d3918fc9","uuid":"c70a7273-b7c3-42c7-838a-28aa9bb42d3e"},"name":"SYS_GEN__Runbook_Deployment_d33d3d86_604a_444c_84cd_0505d3918fc9"}}],"message_list":[],"published_service_local_reference_list":[],"uuid":"d33d3d86-604a-444c-84cd-0505d3918fc9","min_replicas":"3","state":"ACTIVE","max_replicas":"3","depends_on_list":[],"editables":{"min_replicas":true,"max_replicas":true},"package_local_reference_list":[{"kind":"app_package","name":"GCPConfigSetPackage","uuid":"372ca4be-1681-4dae-b58f-dcdc8ab92dc1"}],"substrate_local_reference":{"kind":"app_substrate","name":"GCPConfigSet","uuid":"4a15a437-7787-4f4e-a85c-124d560111da"},"type":"GREENFIELD","options":{},"variable_list":[],"name":"86730684_deployment_cloned_1"},{"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"ad74dbd1-c942-4eb8-add9-8c44292b3577","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment_cloned_1","uuid":"c1e0e021-7bc8-4713-b58b-f45507996b46"},"retries":"0","description":"","type":"DAG","uuid":"873a18aa-cf12-4d8b-a2ff-180ea04cf278","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__DE_Provision_c1e0e021_7bc8_4713_b58b_f45507996b46","uuid":"510c5f6e-c58c-46e8-8c3e-691a5ed888c2"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_8f11d2d7_3737_4025_9613_b72ea529ed07","uuid":"9aa5fde5-c9c3-4ac2-b559-cab21669f976"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_3a9a70da_e9cc_49ee_89f8_74b5337ea3ff","uuid":"a40c6fbc-bd8d-439d-af17-e28844448e53"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"3d4bddb6-2ba2-47ca-990e-9eb0344c28c3"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"625bf2a3-ecd8-4d2d-ac8a-1f77a0fd0df9"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"3d4bddb6-2ba2-47ca-990e-9eb0344c28c3"},"edge_type":"inherent","type":"","uuid":"a81ac17f-377b-44f3-8b2b-06cdd3b899cb","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"625bf2a3-ecd8-4d2d-ac8a-1f77a0fd0df9"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_3a9a70da_e9cc_49ee_89f8_74b5337ea3ff","uuid":"a40c6fbc-bd8d-439d-af17-e28844448e53"},"edge_type":"inherent","type":"","uuid":"4251bc44-d96e-4c7c-8889-4c0ea70a041f","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"3d4bddb6-2ba2-47ca-990e-9eb0344c28c3"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_8f11d2d7_3737_4025_9613_b72ea529ed07","uuid":"9aa5fde5-c9c3-4ac2-b559-cab21669f976"},"edge_type":"inherent","type":"","uuid":"88e6e8c7-1193-4676-9eab-a4971a915edf","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_3a9a70da_e9cc_49ee_89f8_74b5337ea3ff","uuid":"a40c6fbc-bd8d-439d-af17-e28844448e53"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_c1e0e021_7bc8_4713_b58b_f45507996b46","uuid":"510c5f6e-c58c-46e8-8c3e-691a5ed888c2"},"edge_type":"inherent","type":"","uuid":"0b184f5c-8156-46c8-a5b9-5a1836cb1ebd","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_8f11d2d7_3737_4025_9613_b72ea529ed07","uuid":"9aa5fde5-c9c3-4ac2-b559-cab21669f976"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_c1e0e021_7bc8_4713_b58b_f45507996b46"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment_cloned_1","uuid":"c1e0e021-7bc8-4713-b58b-f45507996b46"},"retries":"0","description":"","type":"CREATE_DEPLOYMENT_ELEMENT","uuid":"510c5f6e-c58c-46e8-8c3e-691a5ed888c2","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Provision_c1e0e021_7bc8_4713_b58b_f45507996b46"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPDataSet","uuid":"8f11d2d7-3737-4025-9613-b72ea529ed07"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"9aa5fde5-c9c3-4ac2-b559-cab21669f976","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment_cloned_1","uuid":"c1e0e021-7bc8-4713-b58b-f45507996b46"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_8f11d2d7_3737_4025_9613_b72ea529ed07","uuid":"7adb25be-239a-47bf-a87b-5496c7813c19"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Substrate_8f11d2d7_3737_4025_9613_b72ea529ed07"},{"target_any_local_reference":{"kind":"app_package","name":"GCPDataSetPackage","uuid":"3a9a70da-e9cc-49ee-89f8-74b5337ea3ff"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"a40c6fbc-bd8d-439d-af17-e28844448e53","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment_cloned_1","uuid":"c1e0e021-7bc8-4713-b58b-f45507996b46"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_3a9a70da_e9cc_49ee_89f8_74b5337ea3ff","uuid":"2bc9273d-b3d2-47ec-b7ad-154d3e9c4597"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_3a9a70da_e9cc_49ee_89f8_74b5337ea3ff"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"3d4bddb6-2ba2-47ca-990e-9eb0344c28c3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment_cloned_1","uuid":"c1e0e021-7bc8-4713-b58b-f45507996b46"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0bda2b69_runbook","uuid":"c08988e8-53fc-48b3-942d-00d118016989"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"625bf2a3-ecd8-4d2d-ac8a-1f77a0fd0df9","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment_cloned_1","uuid":"c1e0e021-7bc8-4713-b58b-f45507996b46"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0f1333dd_runbook","uuid":"43f16a26-e0b7-42a9-b2de-6e6d4147d381"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47"}],"description":"","message_list":[],"uuid":"42cdfa3c-b8a6-4a72-a5d3-834d669e3361","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_c1e0e021_7bc8_4713_b58b_f45507996b46","uuid":"873a18aa-cf12-4d8b-a2ff-180ea04cf278"},"name":"SYS_GEN__Runbook_Deployment_c1e0e021_7bc8_4713_b58b_f45507996b46"}},{"description":"System action for starting an application","message_list":[],"uuid":"364e47b1-aa3d-44f5-9937-b5558494148d","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment_cloned_1","uuid":"c1e0e021-7bc8-4713-b58b-f45507996b46"},"retries":"0","description":"","type":"DAG","uuid":"29552f6d-65eb-4306-8be4-45f728b1f994","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_8f11d2d7_3737_4025_9613_b72ea529ed07","uuid":"d7a5c340-1281-4b6a-ada3-d0c554a668ff"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"5b5e87f2-12e9-4804-9257-a3fa06fa3bfc"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_8f11d2d7_3737_4025_9613_b72ea529ed07","uuid":"d7a5c340-1281-4b6a-ada3-d0c554a668ff"},"edge_type":"inherent","type":"","uuid":"c37bfbb1-9d82-49b7-a337-c0e09dd5b555","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"5b5e87f2-12e9-4804-9257-a3fa06fa3bfc"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_c1e0e021_7bc8_4713_b58b_f45507996b46"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPDataSet","uuid":"8f11d2d7-3737-4025-9613-b72ea529ed07"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"d7a5c340-1281-4b6a-ada3-d0c554a668ff","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment_cloned_1","uuid":"c1e0e021-7bc8-4713-b58b-f45507996b46"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_8f11d2d7_3737_4025_9613_b72ea529ed07","uuid":"30a08689-22ce-47de-9774-0ee679b6edcd"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Substrate_8f11d2d7_3737_4025_9613_b72ea529ed07"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"5b5e87f2-12e9-4804-9257-a3fa06fa3bfc","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment_cloned_1","uuid":"c1e0e021-7bc8-4713-b58b-f45507996b46"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0f1333dd_runbook","uuid":"43f16a26-e0b7-42a9-b2de-6e6d4147d381"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47"}],"description":"","message_list":[],"uuid":"96c054a5-20b1-45a1-8646-b31c2a3f8be7","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_c1e0e021_7bc8_4713_b58b_f45507996b46","uuid":"29552f6d-65eb-4306-8be4-45f728b1f994"},"name":"SYS_GEN__Runbook_Deployment_c1e0e021_7bc8_4713_b58b_f45507996b46"}},{"description":"System action for restarting an application","message_list":[],"uuid":"9172edbf-4d88-4d76-8648-f2bbe4ed057a","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment_cloned_1","uuid":"c1e0e021-7bc8-4713-b58b-f45507996b46"},"retries":"0","description":"","type":"DAG","uuid":"8375e4f6-6c15-44b3-ae69-2c64852aa738","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_8f11d2d7_3737_4025_9613_b72ea529ed07","uuid":"5612ba57-7f8a-4e36-8cc3-83247969c37c"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"ecebb12d-70b0-4623-8497-98d7307af75a"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_8f11d2d7_3737_4025_9613_b72ea529ed07","uuid":"5612ba57-7f8a-4e36-8cc3-83247969c37c"},"edge_type":"inherent","type":"","uuid":"f8419705-ea14-4804-a5c0-826a55e89d92","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"ecebb12d-70b0-4623-8497-98d7307af75a"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_c1e0e021_7bc8_4713_b58b_f45507996b46"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPDataSet","uuid":"8f11d2d7-3737-4025-9613-b72ea529ed07"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"5612ba57-7f8a-4e36-8cc3-83247969c37c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment_cloned_1","uuid":"c1e0e021-7bc8-4713-b58b-f45507996b46"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_8f11d2d7_3737_4025_9613_b72ea529ed07","uuid":"b018530f-986b-4b81-bf3f-4297d0556b86"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Substrate_8f11d2d7_3737_4025_9613_b72ea529ed07"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"ecebb12d-70b0-4623-8497-98d7307af75a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment_cloned_1","uuid":"c1e0e021-7bc8-4713-b58b-f45507996b46"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"4f7b2559_runbook","uuid":"03856e37-e1bf-4b7c-95bb-87bf81c6c940"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47"}],"description":"","message_list":[],"uuid":"b83b0ea6-e21b-495b-b305-f0daa5fdb67d","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_c1e0e021_7bc8_4713_b58b_f45507996b46","uuid":"8375e4f6-6c15-44b3-ae69-2c64852aa738"},"name":"SYS_GEN__Runbook_Deployment_c1e0e021_7bc8_4713_b58b_f45507996b46"}},{"description":"System action for stopping an application","message_list":[],"uuid":"de1da197-8bc3-4110-adb3-60a26de5eb0b","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment_cloned_1","uuid":"c1e0e021-7bc8-4713-b58b-f45507996b46"},"retries":"0","description":"","type":"DAG","uuid":"a02c9e0d-2ec7-4579-b653-e95df0d458ba","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"5cd332e2-0c51-49b5-ac7b-9641b9e33292"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_8f11d2d7_3737_4025_9613_b72ea529ed07","uuid":"a2faa76d-0baa-45e5-b132-a8e5770aaf53"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"5cd332e2-0c51-49b5-ac7b-9641b9e33292"},"edge_type":"inherent","type":"","uuid":"2988b2f4-cde1-4860-8b3f-b8ce8ff59a4e","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_8f11d2d7_3737_4025_9613_b72ea529ed07","uuid":"a2faa76d-0baa-45e5-b132-a8e5770aaf53"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_c1e0e021_7bc8_4713_b58b_f45507996b46"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"5cd332e2-0c51-49b5-ac7b-9641b9e33292","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment_cloned_1","uuid":"c1e0e021-7bc8-4713-b58b-f45507996b46"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"85883b0a_runbook","uuid":"42cf4c9d-d9e5-435e-b222-f2d33a05683f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPDataSet","uuid":"8f11d2d7-3737-4025-9613-b72ea529ed07"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"a2faa76d-0baa-45e5-b132-a8e5770aaf53","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment_cloned_1","uuid":"c1e0e021-7bc8-4713-b58b-f45507996b46"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_8f11d2d7_3737_4025_9613_b72ea529ed07","uuid":"5ff6f230-26f1-4bf7-9864-fff4c393be0c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Substrate_8f11d2d7_3737_4025_9613_b72ea529ed07"}],"description":"","message_list":[],"uuid":"04c72686-bb3d-4da3-b35d-408cd19869f6","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_c1e0e021_7bc8_4713_b58b_f45507996b46","uuid":"a02c9e0d-2ec7-4579-b653-e95df0d458ba"},"name":"SYS_GEN__Runbook_Deployment_c1e0e021_7bc8_4713_b58b_f45507996b46"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"0ddf0d20-1e69-4c1c-bcb4-fb78f4e829a8","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment_cloned_1","uuid":"c1e0e021-7bc8-4713-b58b-f45507996b46"},"retries":"0","description":"","type":"DAG","uuid":"fe110167-eb3f-4120-aea5-3b42ad6d2776","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"032c70b8-0421-4e94-9547-3003b3568b12"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"96d265db-e0c7-422a-8ec7-5d9cc059b81b"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_3a9a70da_e9cc_49ee_89f8_74b5337ea3ff","uuid":"d5dd8b06-3c74-49ea-9edb-d278a1b1ab03"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_8f11d2d7_3737_4025_9613_b72ea529ed07","uuid":"99774dcf-8b4b-447c-8c61-fc27354eb5f2"},{"kind":"app_task","name":"SYS_GEN__DE_Delete_c1e0e021_7bc8_4713_b58b_f45507996b46","uuid":"7734ac5d-01a1-4752-b543-1ec1ac427ebe"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"032c70b8-0421-4e94-9547-3003b3568b12"},"edge_type":"inherent","type":"","uuid":"b9430322-0782-4cb9-9f31-3b8dfcdf5565","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"96d265db-e0c7-422a-8ec7-5d9cc059b81b"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"96d265db-e0c7-422a-8ec7-5d9cc059b81b"},"edge_type":"inherent","type":"","uuid":"a8d39de9-3f7a-4f16-9c53-2f70f2d76f4e","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_3a9a70da_e9cc_49ee_89f8_74b5337ea3ff","uuid":"d5dd8b06-3c74-49ea-9edb-d278a1b1ab03"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_8f11d2d7_3737_4025_9613_b72ea529ed07","uuid":"99774dcf-8b4b-447c-8c61-fc27354eb5f2"},"edge_type":"inherent","type":"","uuid":"fbc3f5dc-f6ad-4757-b244-3feea230b068","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Delete_c1e0e021_7bc8_4713_b58b_f45507996b46","uuid":"7734ac5d-01a1-4752-b543-1ec1ac427ebe"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_3a9a70da_e9cc_49ee_89f8_74b5337ea3ff","uuid":"d5dd8b06-3c74-49ea-9edb-d278a1b1ab03"},"edge_type":"inherent","type":"","uuid":"cbfed271-81ec-4a70-94b0-2249f5230154","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_8f11d2d7_3737_4025_9613_b72ea529ed07","uuid":"99774dcf-8b4b-447c-8c61-fc27354eb5f2"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_c1e0e021_7bc8_4713_b58b_f45507996b46"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"032c70b8-0421-4e94-9547-3003b3568b12","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment_cloned_1","uuid":"c1e0e021-7bc8-4713-b58b-f45507996b46"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"85883b0a_runbook","uuid":"42cf4c9d-d9e5-435e-b222-f2d33a05683f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"96d265db-e0c7-422a-8ec7-5d9cc059b81b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment_cloned_1","uuid":"c1e0e021-7bc8-4713-b58b-f45507996b46"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"036f3879_runbook","uuid":"c6545ccb-d141-45bd-bf59-cf1e44946785"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47"},{"target_any_local_reference":{"kind":"app_package","name":"GCPDataSetPackage","uuid":"3a9a70da-e9cc-49ee-89f8-74b5337ea3ff"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"d5dd8b06-3c74-49ea-9edb-d278a1b1ab03","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment_cloned_1","uuid":"c1e0e021-7bc8-4713-b58b-f45507996b46"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_3a9a70da_e9cc_49ee_89f8_74b5337ea3ff","uuid":"4ed3bae0-6e86-4637-9adb-01d3ef5ef980"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_3a9a70da_e9cc_49ee_89f8_74b5337ea3ff"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPDataSet","uuid":"8f11d2d7-3737-4025-9613-b72ea529ed07"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"99774dcf-8b4b-447c-8c61-fc27354eb5f2","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment_cloned_1","uuid":"c1e0e021-7bc8-4713-b58b-f45507996b46"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_8f11d2d7_3737_4025_9613_b72ea529ed07","uuid":"59d79369-31d3-42d3-93d1-e32083a5032c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Substrate_8f11d2d7_3737_4025_9613_b72ea529ed07"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment_cloned_1","uuid":"c1e0e021-7bc8-4713-b58b-f45507996b46"},"retries":"0","description":"","type":"DELETE_DEPLOYMENT_ELEMENT","uuid":"7734ac5d-01a1-4752-b543-1ec1ac427ebe","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Delete_c1e0e021_7bc8_4713_b58b_f45507996b46"}],"description":"","message_list":[],"uuid":"3a752184-293f-4023-9765-68deeb10db1b","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_c1e0e021_7bc8_4713_b58b_f45507996b46","uuid":"fe110167-eb3f-4120-aea5-3b42ad6d2776"},"name":"SYS_GEN__Runbook_Deployment_c1e0e021_7bc8_4713_b58b_f45507996b46"}},{"description":"System action for scaleout","message_list":[],"uuid":"c28d41e8-5f6c-4067-8acc-eeadf93f88d4","name":"action_scaleout","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment_cloned_1","uuid":"c1e0e021-7bc8-4713-b58b-f45507996b46"},"retries":"0","description":"","type":"DAG","uuid":"c103fcca-26e0-4508-a8e7-c2d97457eb32","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Deployment_Scaleout_c1e0e021_7bc8_4713_b58b_f45507996b46","uuid":"f0fd2153-fbec-4b5e-ab90-f62ed0496233"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_c1e0e021_7bc8_4713_b58b_f45507996b46"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment_cloned_1","uuid":"c1e0e021-7bc8-4713-b58b-f45507996b46"},"retries":"0","description":"","type":"SCALING","uuid":"f0fd2153-fbec-4b5e-ab90-f62ed0496233","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{scaling_count}@@","type":"","scaling_type":"SCALEOUT"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Deployment_Scaleout_c1e0e021_7bc8_4713_b58b_f45507996b46"}],"description":"","message_list":[],"uuid":"0ded3bc2-5e74-4517-a40a-1728bc7c286f","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"c6bda33b-517a-4b17-bef1-6a27e4a96014","value":"0","label":"","state":"NOT_VALIDATED","attrs":{},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"scaling_count"}],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_c1e0e021_7bc8_4713_b58b_f45507996b46","uuid":"c103fcca-26e0-4508-a8e7-c2d97457eb32"},"name":"SYS_GEN__Runbook_Deployment_c1e0e021_7bc8_4713_b58b_f45507996b46"}},{"description":"System action for scalein","message_list":[],"uuid":"adde169c-76cd-44f6-97e5-2034c27df7f2","name":"action_scalein","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment_cloned_1","uuid":"c1e0e021-7bc8-4713-b58b-f45507996b46"},"retries":"0","description":"","type":"DAG","uuid":"15d26726-3552-42f8-bd15-b1b8ec4d017e","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Deployment_Scalein_c1e0e021_7bc8_4713_b58b_f45507996b46","uuid":"7ceed8cf-92cb-4d73-a261-124fad9ace4a"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_c1e0e021_7bc8_4713_b58b_f45507996b46"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment_cloned_1","uuid":"c1e0e021-7bc8-4713-b58b-f45507996b46"},"retries":"0","description":"","type":"SCALING","uuid":"7ceed8cf-92cb-4d73-a261-124fad9ace4a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{scaling_count}@@","type":"","scaling_type":"SCALEIN"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Deployment_Scalein_c1e0e021_7bc8_4713_b58b_f45507996b46"}],"description":"","message_list":[],"uuid":"1388158c-2737-4534-8d90-eac7e6dd63bd","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"a3d40c70-584b-4754-9ed8-c549747fc9ef","value":"0","label":"","state":"NOT_VALIDATED","attrs":{},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"scaling_count"}],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_c1e0e021_7bc8_4713_b58b_f45507996b46","uuid":"15d26726-3552-42f8-bd15-b1b8ec4d017e"},"name":"SYS_GEN__Runbook_Deployment_c1e0e021_7bc8_4713_b58b_f45507996b46"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"5725de99-675b-4e8b-ad25-80228057053f","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment_cloned_1","uuid":"c1e0e021-7bc8-4713-b58b-f45507996b46"},"retries":"0","description":"","type":"DAG","uuid":"520574be-dc40-4532-a160-f6734120b0f7","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"1f46d2a6-542f-4afb-9443-9e2a61719430"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_3a9a70da_e9cc_49ee_89f8_74b5337ea3ff","uuid":"6af44ee0-9475-44fd-877b-a93bd00c12cb"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_8f11d2d7_3737_4025_9613_b72ea529ed07","uuid":"b5c29762-032b-4d54-b156-5238e5330249"},{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_c1e0e021_7bc8_4713_b58b_f45507996b46","uuid":"bba9a7bf-8899-44d1-87ca-23e3521d2665"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"1f46d2a6-542f-4afb-9443-9e2a61719430"},"edge_type":"inherent","type":"","uuid":"5abf63f8-5115-407a-9033-05c2f8a20c34","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_3a9a70da_e9cc_49ee_89f8_74b5337ea3ff","uuid":"6af44ee0-9475-44fd-877b-a93bd00c12cb"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_8f11d2d7_3737_4025_9613_b72ea529ed07","uuid":"b5c29762-032b-4d54-b156-5238e5330249"},"edge_type":"inherent","type":"","uuid":"5a63c517-c9b0-445f-8367-1950687dfedc","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_c1e0e021_7bc8_4713_b58b_f45507996b46","uuid":"bba9a7bf-8899-44d1-87ca-23e3521d2665"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_3a9a70da_e9cc_49ee_89f8_74b5337ea3ff","uuid":"6af44ee0-9475-44fd-877b-a93bd00c12cb"},"edge_type":"inherent","type":"","uuid":"21545f1d-b0b6-4f96-91f6-e08373985645","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_8f11d2d7_3737_4025_9613_b72ea529ed07","uuid":"b5c29762-032b-4d54-b156-5238e5330249"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_c1e0e021_7bc8_4713_b58b_f45507996b46"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"1f46d2a6-542f-4afb-9443-9e2a61719430","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment_cloned_1","uuid":"c1e0e021-7bc8-4713-b58b-f45507996b46"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"433fbe65-0fc7-4649-a088-87d5660f88a6"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47"},{"target_any_local_reference":{"kind":"app_package","name":"GCPDataSetPackage","uuid":"3a9a70da-e9cc-49ee-89f8-74b5337ea3ff"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"6af44ee0-9475-44fd-877b-a93bd00c12cb","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_3a9a70da_e9cc_49ee_89f8_74b5337ea3ff"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPDataSet","uuid":"8f11d2d7-3737-4025-9613-b72ea529ed07"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"b5c29762-032b-4d54-b156-5238e5330249","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment_cloned_1","uuid":"c1e0e021-7bc8-4713-b58b-f45507996b46"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_8f11d2d7_3737_4025_9613_b72ea529ed07","uuid":"12afa562-b6e8-4db2-92c3-e0c30b11b856"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Substrate_8f11d2d7_3737_4025_9613_b72ea529ed07"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment_cloned_1","uuid":"c1e0e021-7bc8-4713-b58b-f45507996b46"},"retries":"0","description":"","type":"SOFT_DELETE_DEPLOYMENT_ELEMENT","uuid":"bba9a7bf-8899-44d1-87ca-23e3521d2665","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Soft_Delete_c1e0e021_7bc8_4713_b58b_f45507996b46"}],"description":"","message_list":[],"uuid":"0c168616-d6aa-4e0d-919d-7534a38a188e","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_c1e0e021_7bc8_4713_b58b_f45507996b46","uuid":"520574be-dc40-4532-a160-f6734120b0f7"},"name":"SYS_GEN__Runbook_Deployment_c1e0e021_7bc8_4713_b58b_f45507996b46"}}],"message_list":[],"published_service_local_reference_list":[],"uuid":"c1e0e021-7bc8-4713-b58b-f45507996b46","min_replicas":"3","state":"ACTIVE","max_replicas":"9","depends_on_list":[],"editables":{"min_replicas":true,"max_replicas":true},"package_local_reference_list":[{"kind":"app_package","name":"GCPDataSetPackage","uuid":"3a9a70da-e9cc-49ee-89f8-74b5337ea3ff"}],"substrate_local_reference":{"kind":"app_substrate","name":"GCPDataSet","uuid":"8f11d2d7-3737-4025-9613-b72ea529ed07"},"type":"GREENFIELD","options":{},"variable_list":[],"name":"fc5d23e3_deployment_cloned_1"}],"description":"","action_list":[{"description":"","message_list":[],"uuid":"bdd92111-6a3f-4970-b48f-6be4a76b2038","name":"ScaleOut","state":"ACTIVE","critical":false,"attrs":{},"type":"user","runbook":{"task_definition_list":[{"retries":"0","description":"","type":"DAG","uuid":"6627bf3d-ef17-473a-85c3-4c6f091a9ba8","child_tasks_local_reference_list":[{"kind":"app_task","name":"Scale Out","uuid":"91363778-6c2c-4f03-9d4b-e9eb99b35754"},{"kind":"app_task","name":"SetHostsFile2","uuid":"3f5b1348-8835-4114-af9d-9d70d422ac5a"},{"kind":"app_task","name":"AddNewShard","uuid":"18977f04-86d8-465d-be99-f75e27c080f2"},{"kind":"app_task","name":"SetHostsFile1","uuid":"dc2ed24f-d33d-48e7-96e3-d65d06da8a0a"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Scale Out","uuid":"91363778-6c2c-4f03-9d4b-e9eb99b35754"},"edge_type":"user_defined","type":"","uuid":"da087f88-9124-415b-a8df-3b8eb5715cb6","to_task_reference":{"kind":"app_task","name":"AddNewShard","uuid":"18977f04-86d8-465d-be99-f75e27c080f2"}},{"from_task_reference":{"kind":"app_task","name":"Scale Out","uuid":"91363778-6c2c-4f03-9d4b-e9eb99b35754"},"edge_type":"user_defined","type":"","uuid":"8217b772-8eec-4adc-9c2d-eaa2dbe35b5c","to_task_reference":{"kind":"app_task","name":"SetHostsFile1","uuid":"dc2ed24f-d33d-48e7-96e3-d65d06da8a0a"}},{"from_task_reference":{"kind":"app_task","name":"Scale Out","uuid":"91363778-6c2c-4f03-9d4b-e9eb99b35754"},"edge_type":"user_defined","type":"","uuid":"e5b1aaad-feda-4633-89ea-4dd0bf493a80","to_task_reference":{"kind":"app_task","name":"SetHostsFile2","uuid":"3f5b1348-8835-4114-af9d-9d70d422ac5a"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"c03e1222_dag"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment_cloned_1","uuid":"c1e0e021-7bc8-4713-b58b-f45507996b46"},"retries":"0","description":"","type":"SCALING","uuid":"91363778-6c2c-4f03-9d4b-e9eb99b35754","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{NODES_PER_REPLICA_SET}@@","type":"","scaling_type":"SCALEOUT"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Scale Out"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"EXEC","uuid":"3f5b1348-8835-4114-af9d-9d70d422ac5a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\ncat > \/tmp\/set-hostnames.py <<EOF\n#!\/usr\/bin\/python\nimport re\nconfig_ips=\"@@{calm_array_private_ip_address}@@\"\ndata_ips=\"@@{GCPDataSet.private_ip_address}@@\"\nrouter_ips=\"@@{GCPRouter.private_ip_address}@@\"\n\nhostfile = open('\/etc\/hosts', 'r').read()\nprint hostfile\nhostfile = re.sub('\\n#MONGODB-BEGIN.*?#MONGODB-END', '', hostfile, flags=re.DOTALL)\nhostfile += \"#MONGODB-BEGIN\\n\"\ncount=1\nfor ip in config_ips.split(','):\n  hostfile += ip + \" config\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in data_ips.split(','):\n  hostfile += ip + \" data\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in router_ips.split(','):\n  hostfile += ip + \" router\" + str(count) + \".mongodb\\n\"\n  count += 1\nhostfile += \"#MONGODB-END\\n\"\nopen('\/etc\/hosts', 'w').write(hostfile)\nEOF\n\nsudo python \/tmp\/set-hostnames.py"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SetHostsFile2"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"EXEC","uuid":"18977f04-86d8-465d-be99-f75e27c080f2","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\ncat > \/tmp\/set-hostnames.py <<EOF\n#!\/usr\/bin\/python\nimport re\nconfig_ips=\"@@{GCPConfigSet.private_ip_address}@@\"\ndata_ips=\"@@{GCPDataSet.private_ip_address}@@\"\nrouter_ips=\"@@{calm_array_private_ip_address}@@\"\n\nhostfile = open('\/etc\/hosts', 'r').read()\nprint hostfile\nhostfile = re.sub('\\n#MONGODB-BEGIN.*?#MONGODB-END', '', hostfile, flags=re.DOTALL)\nhostfile += \"#MONGODB-BEGIN\\n\"\ncount=1\nfor ip in config_ips.split(','):\n  hostfile += ip + \" config\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in data_ips.split(','):\n  hostfile += ip + \" data\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in router_ips.split(','):\n  hostfile += ip + \" router\" + str(count) + \".mongodb\\n\"\n  count += 1\nhostfile += \"#MONGODB-END\\n\"\nopen('\/etc\/hosts', 'w').write(hostfile)\nEOF\n\nsudo python \/tmp\/set-hostnames.py\n\nNODES_PER_REPLICA_SET=\"@@{NODES_PER_REPLICA_SET}@@\"\nINTERNAL_IP=\"@@{private_ip_address}@@\"\nREPLICA_IPS=($(echo @@{DataSet.private_ip_address}@@ | sed 's\/^,\/\/' | sed 's\/,$\/\/' | tr \",\" \"\\n\"))\nnoOfShards=$((${#REPLICA_IPS[@]}\/${NODES_PER_REPLICA_SET}))\n\ncount=0\nfor ((number=1;number <= $noOfShards;number++))\ndo\n  replicaSetName=\"dataReplSet${number}\"\n  sudo mongo --host ${INTERNAL_IP} --port 27017 --eval \"sh.addShard( \\\"$replicaSetName\/${REPLICA_IPS[${count}]}:27017\\\" )\"\n  count=$(($count + ${NODES_PER_REPLICA_SET}))\ndone"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"AddNewShard"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"EXEC","uuid":"dc2ed24f-d33d-48e7-96e3-d65d06da8a0a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\ncat > \/tmp\/set-hostnames.py <<EOF\n#!\/usr\/bin\/python\nimport re\nconfig_ips=\"@@{GCPConfigSet.private_ip_address}@@\"\ndata_ips=\"@@{calm_array_private_ip_address}@@\"\nrouter_ips=\"@@{GCPRouter.private_ip_address}@@\"\n\nhostfile = open('\/etc\/hosts', 'r').read()\nprint hostfile\nhostfile = re.sub('\\n#MONGODB-BEGIN.*?#MONGODB-END', '', hostfile, flags=re.DOTALL)\nhostfile += \"#MONGODB-BEGIN\\n\"\ncount=1\nfor ip in config_ips.split(','):\n  hostfile += ip + \" config\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in data_ips.split(','):\n  hostfile += ip + \" data\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in router_ips.split(','):\n  hostfile += ip + \" router\" + str(count) + \".mongodb\\n\"\n  count += 1\nhostfile += \"#MONGODB-END\\n\"\nopen('\/etc\/hosts', 'w').write(hostfile)\nEOF\n\nsudo python \/tmp\/set-hostnames.py"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SetHostsFile1"}],"description":"","message_list":[],"uuid":"eaa5cd26-c3c2-4867-9065-8d23da5687df","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"c03e1222_dag","uuid":"6627bf3d-ef17-473a-85c3-4c6f091a9ba8"},"name":"f0b90ba7_runbook_cloned_1"}},{"description":"","message_list":[],"uuid":"c20370cb-b25f-46bf-a326-24282f8fd558","name":"ScaleIn","state":"ACTIVE","critical":false,"attrs":{},"type":"user","runbook":{"task_definition_list":[{"retries":"0","description":"","type":"DAG","uuid":"c55851b6-af8a-4783-a5b5-c336697e2b03","child_tasks_local_reference_list":[{"kind":"app_task","name":"Scale In","uuid":"6729ba18-2eb0-4dd8-90db-cb7f01a6dd93"},{"kind":"app_task","name":"SetHostsFile3","uuid":"6e9c1d16-0ba7-4376-8109-d85302a202b0"},{"kind":"app_task","name":"SetHostsFile2","uuid":"69f111a1-5a87-4573-864a-302023211067"},{"kind":"app_task","name":"SetHostsFile1","uuid":"d6354738-797f-4159-9988-c225a22490a9"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Scale In","uuid":"6729ba18-2eb0-4dd8-90db-cb7f01a6dd93"},"edge_type":"user_defined","type":"","uuid":"abb12dce-f6f2-4229-bd63-b4404f541d0b","to_task_reference":{"kind":"app_task","name":"SetHostsFile3","uuid":"6e9c1d16-0ba7-4376-8109-d85302a202b0"}},{"from_task_reference":{"kind":"app_task","name":"Scale In","uuid":"6729ba18-2eb0-4dd8-90db-cb7f01a6dd93"},"edge_type":"user_defined","type":"","uuid":"e84c4d98-6d50-482f-943b-834513289d0c","to_task_reference":{"kind":"app_task","name":"SetHostsFile1","uuid":"d6354738-797f-4159-9988-c225a22490a9"}},{"from_task_reference":{"kind":"app_task","name":"Scale In","uuid":"6729ba18-2eb0-4dd8-90db-cb7f01a6dd93"},"edge_type":"user_defined","type":"","uuid":"aa88ec15-49b3-4034-b555-bab95fc21f2c","to_task_reference":{"kind":"app_task","name":"SetHostsFile2","uuid":"69f111a1-5a87-4573-864a-302023211067"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"c90468d9_dag"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment_cloned_1","uuid":"c1e0e021-7bc8-4713-b58b-f45507996b46"},"retries":"0","description":"","type":"SCALING","uuid":"6729ba18-2eb0-4dd8-90db-cb7f01a6dd93","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{NODES_PER_REPLICA_SET}@@","type":"","scaling_type":"SCALEIN"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Scale In"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"EXEC","uuid":"6e9c1d16-0ba7-4376-8109-d85302a202b0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\ncat > \/tmp\/set-hostnames.py <<EOF\n#!\/usr\/bin\/python\nimport re\nconfig_ips=\"@@{GCPConfigSet.private_ip_address}@@\"\ndata_ips=\"@@{calm_array_private_ip_address}@@\"\nrouter_ips=\"@@{GCPRouter.private_ip_address}@@\"\n\nhostfile = open('\/etc\/hosts', 'r').read()\nprint hostfile\nhostfile = re.sub('\\n#MONGODB-BEGIN.*?#MONGODB-END', '', hostfile, flags=re.DOTALL)\nhostfile += \"#MONGODB-BEGIN\\n\"\ncount=1\nfor ip in config_ips.split(','):\n  hostfile += ip + \" config\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in data_ips.split(','):\n  hostfile += ip + \" data\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in router_ips.split(','):\n  hostfile += ip + \" router\" + str(count) + \".mongodb\\n\"\n  count += 1\nhostfile += \"#MONGODB-END\\n\"\nopen('\/etc\/hosts', 'w').write(hostfile)\nEOF\n\nsudo python \/tmp\/set-hostnames.py"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SetHostsFile3"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"EXEC","uuid":"69f111a1-5a87-4573-864a-302023211067","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\ncat > \/tmp\/set-hostnames.py <<EOF\n#!\/usr\/bin\/python\nimport re\nconfig_ips=\"@@{calm_array_private_ip_address}@@\"\ndata_ips=\"@@{GCPDataSet.private_ip_address}@@\"\nrouter_ips=\"@@{GCPRouter.private_ip_address}@@\"\n\nhostfile = open('\/etc\/hosts', 'r').read()\nprint hostfile\nhostfile = re.sub('\\n#MONGODB-BEGIN.*?#MONGODB-END', '', hostfile, flags=re.DOTALL)\nhostfile += \"#MONGODB-BEGIN\\n\"\ncount=1\nfor ip in config_ips.split(','):\n  hostfile += ip + \" config\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in data_ips.split(','):\n  hostfile += ip + \" data\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in router_ips.split(','):\n  hostfile += ip + \" router\" + str(count) + \".mongodb\\n\"\n  count += 1\nhostfile += \"#MONGODB-END\\n\"\nopen('\/etc\/hosts', 'w').write(hostfile)\nEOF\n\nsudo python \/tmp\/set-hostnames.py"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SetHostsFile2"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"EXEC","uuid":"d6354738-797f-4159-9988-c225a22490a9","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\ncat > \/tmp\/set-hostnames.py <<EOF\n#!\/usr\/bin\/python\nimport re\nconfig_ips=\"@@{GCPConfigSet.private_ip_address}@@\"\ndata_ips=\"@@{GCPDataSet.private_ip_address}@@\"\nrouter_ips=\"@@{calm_array_private_ip_address}@@\"\n\nhostfile = open('\/etc\/hosts', 'r').read()\nprint hostfile\nhostfile = re.sub('\\n#MONGODB-BEGIN.*?#MONGODB-END', '', hostfile, flags=re.DOTALL)\nhostfile += \"#MONGODB-BEGIN\\n\"\ncount=1\nfor ip in config_ips.split(','):\n  hostfile += ip + \" config\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in data_ips.split(','):\n  hostfile += ip + \" data\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in router_ips.split(','):\n  hostfile += ip + \" router\" + str(count) + \".mongodb\\n\"\n  count += 1\nhostfile += \"#MONGODB-END\\n\"\nopen('\/etc\/hosts', 'w').write(hostfile)\nEOF\n\nsudo python \/tmp\/set-hostnames.py"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SetHostsFile1"}],"description":"","message_list":[],"uuid":"baada8a7-f93c-4d2c-9790-05fe8aa15cb4","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"ca230480-1788-4330-961c-dbea3f6d61f8","value":"","label":"","state":"ACTIVE","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"SHARD_TO_MOVE"}],"main_task_local_reference":{"kind":"app_task","name":"c90468d9_dag","uuid":"c55851b6-af8a-4783-a5b5-c336697e2b03"},"name":"d27541f5_runbook_cloned_1"}},{"description":"System action for creating an application","message_list":[],"uuid":"3f413cfd-f4c5-4d7f-ac06-daf09b704807","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"GCP","uuid":"eaa1c75d-8de2-4f05-b88b-29a8434f2c44"},"retries":"0","description":"","type":"DAG","uuid":"4770c8a9-93ab-4a4a-9da4-9bc2447579b3","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__DE_Provision_d33d3d86_604a_444c_84cd_0505d3918fc9","uuid":"bc74e804-1971-4b5f-8fc4-11d7edabe034"},{"kind":"app_task","name":"SYS_GEN__DE_Provision_c1e0e021_7bc8_4713_b58b_f45507996b46","uuid":"636c1b7d-32de-4ea7-862d-8854bd72c1ea"},{"kind":"app_task","name":"SYS_GEN__DE_Provision_f9f877d0_1395_4a0f_bd05_0eb5227833e1","uuid":"edbe63f9-09f6-445a-ad83-5387c1e44683"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_4a15a437_7787_4f4e_a85c_124d560111da","uuid":"7d4e00f4-783a-40d4-83d1-eb114d5b1173"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_8f11d2d7_3737_4025_9613_b72ea529ed07","uuid":"28b52009-2315-4ee6-8abc-30ed960b3324"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_edbd689a_b0bd_461c_ac27_e6ab2d71b009","uuid":"acb1eea6-4df3-44c8-bc77-be38a7c53972"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_3a9a70da_e9cc_49ee_89f8_74b5337ea3ff","uuid":"f6734adf-5b03-438c-a123-f0c3ebaa2bdb"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_372ca4be_1681_4dae_b58f_dcdc8ab92dc1","uuid":"a05b7a16-744c-4e01-a427-89218504fdab"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"2cffbbcd-0816-410d-82c0-2282d95de16a"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"f5261178-c7d7-4177-9e75-ad3c2ea4444b"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"f5031066-ded6-4fe5-b0e9-78fa8cffc7f2"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"946a0ab1-4050-4eb6-b923-c242e1bf46e9"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_210861d5_0624_4752_a2fc_d29937e8c602","uuid":"ab9f2c71-0e55-4021-b777-183e66c2a409"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"c9f8ef03-f4b1-4328-8a72-94fb4800b98f"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"f0e76102-09e5-4233-aa88-4b1343f37dc4"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"f5261178-c7d7-4177-9e75-ad3c2ea4444b"},"edge_type":"inherent","type":"","uuid":"f2ec74a4-8732-4d69-8601-56f478b99eda","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"946a0ab1-4050-4eb6-b923-c242e1bf46e9"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_372ca4be_1681_4dae_b58f_dcdc8ab92dc1","uuid":"a05b7a16-744c-4e01-a427-89218504fdab"},"edge_type":"inherent","type":"","uuid":"01896486-72d5-495f-8dc8-ac874c4d71fa","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"f5261178-c7d7-4177-9e75-ad3c2ea4444b"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_d33d3d86_604a_444c_84cd_0505d3918fc9","uuid":"bc74e804-1971-4b5f-8fc4-11d7edabe034"},"edge_type":"inherent","type":"","uuid":"01000004-20cf-403d-b8ab-95583009f4cd","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_4a15a437_7787_4f4e_a85c_124d560111da","uuid":"7d4e00f4-783a-40d4-83d1-eb114d5b1173"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_4a15a437_7787_4f4e_a85c_124d560111da","uuid":"7d4e00f4-783a-40d4-83d1-eb114d5b1173"},"edge_type":"inherent","type":"","uuid":"98e4953d-0daf-4909-bad4-1e9f9e75418f","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_372ca4be_1681_4dae_b58f_dcdc8ab92dc1","uuid":"a05b7a16-744c-4e01-a427-89218504fdab"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"c9f8ef03-f4b1-4328-8a72-94fb4800b98f"},"edge_type":"inherent","type":"","uuid":"b53efb91-536c-4005-9475-5e66d74a4aa6","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"f0e76102-09e5-4233-aa88-4b1343f37dc4"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_210861d5_0624_4752_a2fc_d29937e8c602","uuid":"ab9f2c71-0e55-4021-b777-183e66c2a409"},"edge_type":"inherent","type":"","uuid":"efa3468e-4e4b-4128-88bc-bcba808295dd","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"c9f8ef03-f4b1-4328-8a72-94fb4800b98f"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_f9f877d0_1395_4a0f_bd05_0eb5227833e1","uuid":"edbe63f9-09f6-445a-ad83-5387c1e44683"},"edge_type":"inherent","type":"","uuid":"f634a51d-63fc-4f83-a9d4-32f1de2d8f50","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_edbd689a_b0bd_461c_ac27_e6ab2d71b009","uuid":"acb1eea6-4df3-44c8-bc77-be38a7c53972"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_edbd689a_b0bd_461c_ac27_e6ab2d71b009","uuid":"acb1eea6-4df3-44c8-bc77-be38a7c53972"},"edge_type":"inherent","type":"","uuid":"7277aea2-5ba6-49bb-b44c-597981f2947e","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_210861d5_0624_4752_a2fc_d29937e8c602","uuid":"ab9f2c71-0e55-4021-b777-183e66c2a409"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"2cffbbcd-0816-410d-82c0-2282d95de16a"},"edge_type":"inherent","type":"","uuid":"3d9d220f-7061-4e43-887b-f00dffeecb65","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"f5031066-ded6-4fe5-b0e9-78fa8cffc7f2"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_3a9a70da_e9cc_49ee_89f8_74b5337ea3ff","uuid":"f6734adf-5b03-438c-a123-f0c3ebaa2bdb"},"edge_type":"inherent","type":"","uuid":"700e0ef9-e728-4bee-b77c-116f5b0f6c8b","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"2cffbbcd-0816-410d-82c0-2282d95de16a"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_8f11d2d7_3737_4025_9613_b72ea529ed07","uuid":"28b52009-2315-4ee6-8abc-30ed960b3324"},"edge_type":"inherent","type":"","uuid":"4f0f4c93-8ad8-4bc4-b5a8-946a90878529","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_3a9a70da_e9cc_49ee_89f8_74b5337ea3ff","uuid":"f6734adf-5b03-438c-a123-f0c3ebaa2bdb"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_c1e0e021_7bc8_4713_b58b_f45507996b46","uuid":"636c1b7d-32de-4ea7-862d-8854bd72c1ea"},"edge_type":"inherent","type":"","uuid":"ec63f53c-f83b-4828-a8fe-aa089e5874d7","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_8f11d2d7_3737_4025_9613_b72ea529ed07","uuid":"28b52009-2315-4ee6-8abc-30ed960b3324"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_8f11d2d7_3737_4025_9613_b72ea529ed07","uuid":"28b52009-2315-4ee6-8abc-30ed960b3324"},"edge_type":"dependency","type":"","uuid":"99f36d8c-068c-4f90-9b63-07afdbfddb9b","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_372ca4be_1681_4dae_b58f_dcdc8ab92dc1","uuid":"a05b7a16-744c-4e01-a427-89218504fdab"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_edbd689a_b0bd_461c_ac27_e6ab2d71b009","uuid":"acb1eea6-4df3-44c8-bc77-be38a7c53972"},"edge_type":"dependency","type":"","uuid":"a2885a56-950e-4f01-8464-60694307d60e","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_372ca4be_1681_4dae_b58f_dcdc8ab92dc1","uuid":"a05b7a16-744c-4e01-a427-89218504fdab"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_8f11d2d7_3737_4025_9613_b72ea529ed07","uuid":"28b52009-2315-4ee6-8abc-30ed960b3324"},"edge_type":"dependency","type":"","uuid":"1d0506ae-e750-451d-9301-beefba8d33bc","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_210861d5_0624_4752_a2fc_d29937e8c602","uuid":"ab9f2c71-0e55-4021-b777-183e66c2a409"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"946a0ab1-4050-4eb6-b923-c242e1bf46e9"},"edge_type":"dependency","type":"","uuid":"b880fbe2-a9a9-4076-ba1b-ffcb7bcf84cd","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_210861d5_0624_4752_a2fc_d29937e8c602","uuid":"ab9f2c71-0e55-4021-b777-183e66c2a409"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_4a15a437_7787_4f4e_a85c_124d560111da","uuid":"7d4e00f4-783a-40d4-83d1-eb114d5b1173"},"edge_type":"dependency","type":"","uuid":"8a969e14-788a-4343-a118-60840b0c1893","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_210861d5_0624_4752_a2fc_d29937e8c602","uuid":"ab9f2c71-0e55-4021-b777-183e66c2a409"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"f5031066-ded6-4fe5-b0e9-78fa8cffc7f2"},"edge_type":"dependency","type":"","uuid":"974bfd82-ed44-431a-9ee7-6e5ec1840e8c","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_210861d5_0624_4752_a2fc_d29937e8c602","uuid":"ab9f2c71-0e55-4021-b777-183e66c2a409"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_4a15a437_7787_4f4e_a85c_124d560111da","uuid":"7d4e00f4-783a-40d4-83d1-eb114d5b1173"},"edge_type":"dependency","type":"","uuid":"397520e4-c38d-4af5-99d6-373954b77fc6","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_3a9a70da_e9cc_49ee_89f8_74b5337ea3ff","uuid":"f6734adf-5b03-438c-a123-f0c3ebaa2bdb"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_edbd689a_b0bd_461c_ac27_e6ab2d71b009","uuid":"acb1eea6-4df3-44c8-bc77-be38a7c53972"},"edge_type":"dependency","type":"","uuid":"87ee8911-5f47-4a6a-b843-922e3e0f6a62","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_3a9a70da_e9cc_49ee_89f8_74b5337ea3ff","uuid":"f6734adf-5b03-438c-a123-f0c3ebaa2bdb"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_eaa1c75d_8de2_4f05_b88b_29a8434f2c44"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"86730684_deployment_cloned_1","uuid":"d33d3d86-604a-444c-84cd-0505d3918fc9"},"retries":"0","description":"","type":"CREATE_DEPLOYMENT_ELEMENT","uuid":"bc74e804-1971-4b5f-8fc4-11d7edabe034","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Provision_d33d3d86_604a_444c_84cd_0505d3918fc9"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment_cloned_1","uuid":"c1e0e021-7bc8-4713-b58b-f45507996b46"},"retries":"0","description":"","type":"CREATE_DEPLOYMENT_ELEMENT","uuid":"636c1b7d-32de-4ea7-862d-8854bd72c1ea","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Provision_c1e0e021_7bc8_4713_b58b_f45507996b46"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"ff4974a5_deployment_cloned_1","uuid":"f9f877d0-1395-4a0f-bd05-0eb5227833e1"},"retries":"0","description":"","type":"CREATE_DEPLOYMENT_ELEMENT","uuid":"edbe63f9-09f6-445a-ad83-5387c1e44683","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Provision_f9f877d0_1395_4a0f_bd05_0eb5227833e1"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPConfigSet","uuid":"4a15a437-7787-4f4e-a85c-124d560111da"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"7d4e00f4-783a-40d4-83d1-eb114d5b1173","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"86730684_deployment_cloned_1","uuid":"d33d3d86-604a-444c-84cd-0505d3918fc9"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_4a15a437_7787_4f4e_a85c_124d560111da","uuid":"3dfdab2b-a950-44ce-bc53-d829a28874a3"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Substrate_4a15a437_7787_4f4e_a85c_124d560111da"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPDataSet","uuid":"8f11d2d7-3737-4025-9613-b72ea529ed07"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"28b52009-2315-4ee6-8abc-30ed960b3324","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment_cloned_1","uuid":"c1e0e021-7bc8-4713-b58b-f45507996b46"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_8f11d2d7_3737_4025_9613_b72ea529ed07","uuid":"7adb25be-239a-47bf-a87b-5496c7813c19"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Substrate_8f11d2d7_3737_4025_9613_b72ea529ed07"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPRouter","uuid":"edbd689a-b0bd-461c-ac27-e6ab2d71b009"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"acb1eea6-4df3-44c8-bc77-be38a7c53972","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"ff4974a5_deployment_cloned_1","uuid":"f9f877d0-1395-4a0f-bd05-0eb5227833e1"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_edbd689a_b0bd_461c_ac27_e6ab2d71b009","uuid":"32238d2a-58d5-4a34-8721-8edd6c6ce473"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Substrate_edbd689a_b0bd_461c_ac27_e6ab2d71b009"},{"target_any_local_reference":{"kind":"app_package","name":"GCPDataSetPackage","uuid":"3a9a70da-e9cc-49ee-89f8-74b5337ea3ff"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"f6734adf-5b03-438c-a123-f0c3ebaa2bdb","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment_cloned_1","uuid":"c1e0e021-7bc8-4713-b58b-f45507996b46"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_3a9a70da_e9cc_49ee_89f8_74b5337ea3ff","uuid":"2bc9273d-b3d2-47ec-b7ad-154d3e9c4597"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_3a9a70da_e9cc_49ee_89f8_74b5337ea3ff"},{"target_any_local_reference":{"kind":"app_package","name":"GCPConfigSetPackage","uuid":"372ca4be-1681-4dae-b58f-dcdc8ab92dc1"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"a05b7a16-744c-4e01-a427-89218504fdab","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"86730684_deployment_cloned_1","uuid":"d33d3d86-604a-444c-84cd-0505d3918fc9"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_372ca4be_1681_4dae_b58f_dcdc8ab92dc1","uuid":"219acc35-5551-488a-9c44-10f33d7fdcd8"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_372ca4be_1681_4dae_b58f_dcdc8ab92dc1"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"2cffbbcd-0816-410d-82c0-2282d95de16a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment_cloned_1","uuid":"c1e0e021-7bc8-4713-b58b-f45507996b46"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0bda2b69_runbook","uuid":"c08988e8-53fc-48b3-942d-00d118016989"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"f5261178-c7d7-4177-9e75-ad3c2ea4444b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"86730684_deployment_cloned_1","uuid":"d33d3d86-604a-444c-84cd-0505d3918fc9"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0a879260_runbook","uuid":"741de02d-b511-4b87-8b94-a1b0b74e0fb7"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"f5031066-ded6-4fe5-b0e9-78fa8cffc7f2","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment_cloned_1","uuid":"c1e0e021-7bc8-4713-b58b-f45507996b46"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0f1333dd_runbook","uuid":"43f16a26-e0b7-42a9-b2de-6e6d4147d381"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"946a0ab1-4050-4eb6-b923-c242e1bf46e9","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"86730684_deployment_cloned_1","uuid":"d33d3d86-604a-444c-84cd-0505d3918fc9"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"f4695758_runbook","uuid":"0c2528e9-82d6-40bc-9b4d-721eabd37ead"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd"},{"target_any_local_reference":{"kind":"app_package","name":"GCPRouterPackage","uuid":"210861d5-0624-4752-a2fc-d29937e8c602"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"ab9f2c71-0e55-4021-b777-183e66c2a409","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"ff4974a5_deployment_cloned_1","uuid":"f9f877d0-1395-4a0f-bd05-0eb5227833e1"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_210861d5_0624_4752_a2fc_d29937e8c602","uuid":"b1c27fde-d546-4f3b-85a6-6e3ceb66bedf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_210861d5_0624_4752_a2fc_d29937e8c602"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"c9f8ef03-f4b1-4328-8a72-94fb4800b98f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"ff4974a5_deployment_cloned_1","uuid":"f9f877d0-1395-4a0f-bd05-0eb5227833e1"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"f678ba44_runbook","uuid":"6f256634-e57a-41ea-a837-438a40018db7"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"f0e76102-09e5-4233-aa88-4b1343f37dc4","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"ff4974a5_deployment_cloned_1","uuid":"f9f877d0-1395-4a0f-bd05-0eb5227833e1"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"6729beee_runbook","uuid":"28341bf4-2766-4701-8747-1722ed61db3c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e"}],"description":"","message_list":[],"uuid":"d53ebe82-d57e-42e7-95d7-b42be0d82c6b","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_eaa1c75d_8de2_4f05_b88b_29a8434f2c44","uuid":"4770c8a9-93ab-4a4a-9da4-9bc2447579b3"},"name":"SYS_GEN__Runbook_Application_eaa1c75d_8de2_4f05_b88b_29a8434f2c44"}},{"description":"System action for starting an application","message_list":[],"uuid":"c60a7c63-c2d2-4773-b66f-7e96072b1f91","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"GCP","uuid":"eaa1c75d-8de2-4f05-b88b-29a8434f2c44"},"retries":"0","description":"","type":"DAG","uuid":"e9135f9d-b325-42f8-838b-3127c4430c93","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_edbd689a_b0bd_461c_ac27_e6ab2d71b009","uuid":"170f0be1-4b1b-4816-a9d0-d38b51f84f99"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_4a15a437_7787_4f4e_a85c_124d560111da","uuid":"6bc702da-5265-4c85-a714-26fbad77708e"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_8f11d2d7_3737_4025_9613_b72ea529ed07","uuid":"8959f222-0eff-4d8e-9856-d2c7527b1bde"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"e83b51b6-1ff6-42bd-84aa-6b9184103020"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"12ba13ef-e9ab-4a80-bf10-b58532390a84"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"e795340e-dd44-46ba-a1ef-72b9dd0e9485"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_4a15a437_7787_4f4e_a85c_124d560111da","uuid":"6bc702da-5265-4c85-a714-26fbad77708e"},"edge_type":"inherent","type":"","uuid":"3772d44a-c9cf-4ac7-a359-b626501999f1","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"e795340e-dd44-46ba-a1ef-72b9dd0e9485"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_edbd689a_b0bd_461c_ac27_e6ab2d71b009","uuid":"170f0be1-4b1b-4816-a9d0-d38b51f84f99"},"edge_type":"inherent","type":"","uuid":"ebb1e5bc-5d61-4d42-b81d-90d92d098caf","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"e83b51b6-1ff6-42bd-84aa-6b9184103020"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_8f11d2d7_3737_4025_9613_b72ea529ed07","uuid":"8959f222-0eff-4d8e-9856-d2c7527b1bde"},"edge_type":"inherent","type":"","uuid":"c46d1bbd-7316-432c-8e8f-2b089a7a6a61","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"12ba13ef-e9ab-4a80-bf10-b58532390a84"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_eaa1c75d_8de2_4f05_b88b_29a8434f2c44"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPRouter","uuid":"edbd689a-b0bd-461c-ac27-e6ab2d71b009"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"170f0be1-4b1b-4816-a9d0-d38b51f84f99","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"ff4974a5_deployment_cloned_1","uuid":"f9f877d0-1395-4a0f-bd05-0eb5227833e1"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_edbd689a_b0bd_461c_ac27_e6ab2d71b009","uuid":"102f9a69-9587-425c-9886-b026c0c3cfa2"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Substrate_edbd689a_b0bd_461c_ac27_e6ab2d71b009"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPConfigSet","uuid":"4a15a437-7787-4f4e-a85c-124d560111da"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"6bc702da-5265-4c85-a714-26fbad77708e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"86730684_deployment_cloned_1","uuid":"d33d3d86-604a-444c-84cd-0505d3918fc9"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_4a15a437_7787_4f4e_a85c_124d560111da","uuid":"43a5a712-292e-425e-b1de-ee35fe796adc"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Substrate_4a15a437_7787_4f4e_a85c_124d560111da"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPDataSet","uuid":"8f11d2d7-3737-4025-9613-b72ea529ed07"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"8959f222-0eff-4d8e-9856-d2c7527b1bde","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment_cloned_1","uuid":"c1e0e021-7bc8-4713-b58b-f45507996b46"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_8f11d2d7_3737_4025_9613_b72ea529ed07","uuid":"30a08689-22ce-47de-9774-0ee679b6edcd"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Substrate_8f11d2d7_3737_4025_9613_b72ea529ed07"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"e83b51b6-1ff6-42bd-84aa-6b9184103020","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"ff4974a5_deployment_cloned_1","uuid":"f9f877d0-1395-4a0f-bd05-0eb5227833e1"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"6729beee_runbook","uuid":"28341bf4-2766-4701-8747-1722ed61db3c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"12ba13ef-e9ab-4a80-bf10-b58532390a84","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment_cloned_1","uuid":"c1e0e021-7bc8-4713-b58b-f45507996b46"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0f1333dd_runbook","uuid":"43f16a26-e0b7-42a9-b2de-6e6d4147d381"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"e795340e-dd44-46ba-a1ef-72b9dd0e9485","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"86730684_deployment_cloned_1","uuid":"d33d3d86-604a-444c-84cd-0505d3918fc9"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"f4695758_runbook","uuid":"0c2528e9-82d6-40bc-9b4d-721eabd37ead"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd"}],"description":"","message_list":[],"uuid":"b8ac91a4-5d15-4eda-ad23-18325ed28891","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_eaa1c75d_8de2_4f05_b88b_29a8434f2c44","uuid":"e9135f9d-b325-42f8-838b-3127c4430c93"},"name":"SYS_GEN__Runbook_Application_eaa1c75d_8de2_4f05_b88b_29a8434f2c44"}},{"description":"System action for restarting an application","message_list":[],"uuid":"d6b5b6e3-5253-480c-8e45-1cfe1c1fae09","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"GCP","uuid":"eaa1c75d-8de2-4f05-b88b-29a8434f2c44"},"retries":"0","description":"","type":"DAG","uuid":"160c1292-4364-4395-9e58-98d78f0f9b2c","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_8f11d2d7_3737_4025_9613_b72ea529ed07","uuid":"bfd02bef-4425-4e53-b915-ae26f643637f"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_edbd689a_b0bd_461c_ac27_e6ab2d71b009","uuid":"c23fc9e1-40f1-402f-8609-ff439c927de1"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_4a15a437_7787_4f4e_a85c_124d560111da","uuid":"906f7097-63a4-495c-ac5a-7072e6576e89"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"162c89c9-0b00-4cbc-8505-f5ed5a78ae53"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"6016c203-c21f-4bfc-928f-9bb635a121ca"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"656c1e3d-b70f-43da-8967-3e9889de0945"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_4a15a437_7787_4f4e_a85c_124d560111da","uuid":"906f7097-63a4-495c-ac5a-7072e6576e89"},"edge_type":"inherent","type":"","uuid":"b11847e9-f14e-43bd-ba31-95a6fc2afd4d","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"162c89c9-0b00-4cbc-8505-f5ed5a78ae53"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_edbd689a_b0bd_461c_ac27_e6ab2d71b009","uuid":"c23fc9e1-40f1-402f-8609-ff439c927de1"},"edge_type":"inherent","type":"","uuid":"cacff65d-626e-4bfe-87c2-d2fbdb350f3c","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"656c1e3d-b70f-43da-8967-3e9889de0945"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_8f11d2d7_3737_4025_9613_b72ea529ed07","uuid":"bfd02bef-4425-4e53-b915-ae26f643637f"},"edge_type":"inherent","type":"","uuid":"843f9061-11ce-4f83-b3ea-d016fd2a950d","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"6016c203-c21f-4bfc-928f-9bb635a121ca"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_eaa1c75d_8de2_4f05_b88b_29a8434f2c44"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPDataSet","uuid":"8f11d2d7-3737-4025-9613-b72ea529ed07"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"bfd02bef-4425-4e53-b915-ae26f643637f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment_cloned_1","uuid":"c1e0e021-7bc8-4713-b58b-f45507996b46"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_8f11d2d7_3737_4025_9613_b72ea529ed07","uuid":"b018530f-986b-4b81-bf3f-4297d0556b86"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Substrate_8f11d2d7_3737_4025_9613_b72ea529ed07"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPRouter","uuid":"edbd689a-b0bd-461c-ac27-e6ab2d71b009"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"c23fc9e1-40f1-402f-8609-ff439c927de1","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"ff4974a5_deployment_cloned_1","uuid":"f9f877d0-1395-4a0f-bd05-0eb5227833e1"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_edbd689a_b0bd_461c_ac27_e6ab2d71b009","uuid":"9158b8de-b50a-4447-bbe2-e92f2ca013f3"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Substrate_edbd689a_b0bd_461c_ac27_e6ab2d71b009"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPConfigSet","uuid":"4a15a437-7787-4f4e-a85c-124d560111da"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"906f7097-63a4-495c-ac5a-7072e6576e89","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"86730684_deployment_cloned_1","uuid":"d33d3d86-604a-444c-84cd-0505d3918fc9"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_4a15a437_7787_4f4e_a85c_124d560111da","uuid":"e1ea4d4d-5f50-4d41-af2b-33551c074109"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Substrate_4a15a437_7787_4f4e_a85c_124d560111da"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"162c89c9-0b00-4cbc-8505-f5ed5a78ae53","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"86730684_deployment_cloned_1","uuid":"d33d3d86-604a-444c-84cd-0505d3918fc9"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"b7169291_runbook","uuid":"7c36f5f8-9e8b-4f97-b855-438dc7eb8f3d"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"6016c203-c21f-4bfc-928f-9bb635a121ca","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment_cloned_1","uuid":"c1e0e021-7bc8-4713-b58b-f45507996b46"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"4f7b2559_runbook","uuid":"03856e37-e1bf-4b7c-95bb-87bf81c6c940"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"656c1e3d-b70f-43da-8967-3e9889de0945","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"ff4974a5_deployment_cloned_1","uuid":"f9f877d0-1395-4a0f-bd05-0eb5227833e1"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"5261a312_runbook","uuid":"dcdcb0d6-e68b-4641-8609-e6dc92c57b21"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e"}],"description":"","message_list":[],"uuid":"ad376763-5675-4a26-94f3-db559807604b","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_eaa1c75d_8de2_4f05_b88b_29a8434f2c44","uuid":"160c1292-4364-4395-9e58-98d78f0f9b2c"},"name":"SYS_GEN__Runbook_Application_eaa1c75d_8de2_4f05_b88b_29a8434f2c44"}},{"description":"System action for stopping an application","message_list":[],"uuid":"608936c3-a24d-47fd-a289-b1df81c9fd05","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"GCP","uuid":"eaa1c75d-8de2-4f05-b88b-29a8434f2c44"},"retries":"0","description":"","type":"DAG","uuid":"58d5c26d-7681-4fc4-ac63-f29c855122d0","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"48c849a7-ae1c-4efc-92ff-17c0a2207510"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"d9487ed6-956c-4233-9294-bf20c62a5929"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"2bb02608-0b80-46a4-bab9-336c5f5f32f6"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_4a15a437_7787_4f4e_a85c_124d560111da","uuid":"c29fb5ac-94e0-465a-beac-ee7f722676e5"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_edbd689a_b0bd_461c_ac27_e6ab2d71b009","uuid":"6bdd7836-f82a-4a21-9ae0-ce3f82a30101"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_8f11d2d7_3737_4025_9613_b72ea529ed07","uuid":"08d39b29-f595-470b-80fe-f67f1de4c0ad"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"d9487ed6-956c-4233-9294-bf20c62a5929"},"edge_type":"inherent","type":"","uuid":"92168977-a28d-4b69-8911-1a970ed33ab6","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_4a15a437_7787_4f4e_a85c_124d560111da","uuid":"c29fb5ac-94e0-465a-beac-ee7f722676e5"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"2bb02608-0b80-46a4-bab9-336c5f5f32f6"},"edge_type":"inherent","type":"","uuid":"469a819c-e22b-496a-b04e-9b073d687519","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_edbd689a_b0bd_461c_ac27_e6ab2d71b009","uuid":"6bdd7836-f82a-4a21-9ae0-ce3f82a30101"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"48c849a7-ae1c-4efc-92ff-17c0a2207510"},"edge_type":"inherent","type":"","uuid":"995514b3-6f93-46ea-8a7c-2b83bd22595f","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_8f11d2d7_3737_4025_9613_b72ea529ed07","uuid":"08d39b29-f595-470b-80fe-f67f1de4c0ad"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_eaa1c75d_8de2_4f05_b88b_29a8434f2c44"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"48c849a7-ae1c-4efc-92ff-17c0a2207510","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment_cloned_1","uuid":"c1e0e021-7bc8-4713-b58b-f45507996b46"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"85883b0a_runbook","uuid":"42cf4c9d-d9e5-435e-b222-f2d33a05683f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"d9487ed6-956c-4233-9294-bf20c62a5929","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"86730684_deployment_cloned_1","uuid":"d33d3d86-604a-444c-84cd-0505d3918fc9"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"a33b20bd_runbook","uuid":"e6335ceb-f00b-4ec5-8425-3864e1897a7d"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"2bb02608-0b80-46a4-bab9-336c5f5f32f6","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"ff4974a5_deployment_cloned_1","uuid":"f9f877d0-1395-4a0f-bd05-0eb5227833e1"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"6d2afcdd_runbook","uuid":"215f65d0-6496-443c-9017-6dec4743560f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPConfigSet","uuid":"4a15a437-7787-4f4e-a85c-124d560111da"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"c29fb5ac-94e0-465a-beac-ee7f722676e5","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"86730684_deployment_cloned_1","uuid":"d33d3d86-604a-444c-84cd-0505d3918fc9"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_4a15a437_7787_4f4e_a85c_124d560111da","uuid":"94b79745-8694-4ef5-83aa-c7ccbaadc81d"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Substrate_4a15a437_7787_4f4e_a85c_124d560111da"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPRouter","uuid":"edbd689a-b0bd-461c-ac27-e6ab2d71b009"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"6bdd7836-f82a-4a21-9ae0-ce3f82a30101","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"ff4974a5_deployment_cloned_1","uuid":"f9f877d0-1395-4a0f-bd05-0eb5227833e1"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_edbd689a_b0bd_461c_ac27_e6ab2d71b009","uuid":"c2a37e1d-31c6-4688-90f4-f14799c7bd8e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Substrate_edbd689a_b0bd_461c_ac27_e6ab2d71b009"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPDataSet","uuid":"8f11d2d7-3737-4025-9613-b72ea529ed07"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"08d39b29-f595-470b-80fe-f67f1de4c0ad","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment_cloned_1","uuid":"c1e0e021-7bc8-4713-b58b-f45507996b46"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_8f11d2d7_3737_4025_9613_b72ea529ed07","uuid":"5ff6f230-26f1-4bf7-9864-fff4c393be0c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Substrate_8f11d2d7_3737_4025_9613_b72ea529ed07"}],"description":"","message_list":[],"uuid":"5c3db268-8ca7-4cf6-be36-1d0a42656481","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_eaa1c75d_8de2_4f05_b88b_29a8434f2c44","uuid":"58d5c26d-7681-4fc4-ac63-f29c855122d0"},"name":"SYS_GEN__Runbook_Application_eaa1c75d_8de2_4f05_b88b_29a8434f2c44"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"0872c1ce-3e1f-4096-96f1-62fd1fe439d5","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"GCP","uuid":"eaa1c75d-8de2-4f05-b88b-29a8434f2c44"},"retries":"0","description":"","type":"DAG","uuid":"1bd8ce0b-dc15-41fe-890c-7d8690d8bd0e","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"815ba4a7-534b-4316-869e-b64394190752"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"6f7c8677-6794-4021-9b0e-8052921da7b1"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_210861d5_0624_4752_a2fc_d29937e8c602","uuid":"f404ae69-ac9f-4117-8ec7-0883ad9aac30"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"13b3d1f0-d218-4eb9-8234-7d4b2e26fee9"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"11bb32cd-af38-4317-ba2d-c43f0d62c32e"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"82615dd7-94d9-4ca2-9443-63db61c62682"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"40c415ce-c3fd-46f3-be41-665b2f39ef75"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_3a9a70da_e9cc_49ee_89f8_74b5337ea3ff","uuid":"d215a275-4b13-4713-b623-9b63b9ec481f"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_372ca4be_1681_4dae_b58f_dcdc8ab92dc1","uuid":"1d475ac9-69cd-499e-86cf-dc41b487632c"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_8f11d2d7_3737_4025_9613_b72ea529ed07","uuid":"025881d1-0b33-41f8-bd2a-6b557fea6f0c"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_4a15a437_7787_4f4e_a85c_124d560111da","uuid":"0f422fe8-237b-42fc-bc82-a23a423b0c68"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_edbd689a_b0bd_461c_ac27_e6ab2d71b009","uuid":"5752c4c8-0326-4715-8a08-ef48d0a7d7b3"},{"kind":"app_task","name":"SYS_GEN__DE_Delete_d33d3d86_604a_444c_84cd_0505d3918fc9","uuid":"bc498f0f-507e-43ea-8e8a-1d9816be9a35"},{"kind":"app_task","name":"SYS_GEN__DE_Delete_c1e0e021_7bc8_4713_b58b_f45507996b46","uuid":"96c5403e-9a0f-4a0c-bca1-503e8b0f3eb3"},{"kind":"app_task","name":"SYS_GEN__DE_Delete_f9f877d0_1395_4a0f_bd05_0eb5227833e1","uuid":"9eced8f9-0baf-40a5-aef2-c980f285d75a"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"13b3d1f0-d218-4eb9-8234-7d4b2e26fee9"},"edge_type":"inherent","type":"","uuid":"d1371479-d151-4727-8f40-669b636909db","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"40c415ce-c3fd-46f3-be41-665b2f39ef75"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"40c415ce-c3fd-46f3-be41-665b2f39ef75"},"edge_type":"inherent","type":"","uuid":"b2b63083-5432-4def-bf1d-f91cbd4f7138","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_372ca4be_1681_4dae_b58f_dcdc8ab92dc1","uuid":"1d475ac9-69cd-499e-86cf-dc41b487632c"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_4a15a437_7787_4f4e_a85c_124d560111da","uuid":"0f422fe8-237b-42fc-bc82-a23a423b0c68"},"edge_type":"inherent","type":"","uuid":"e2d158b8-b497-4a1a-a986-ad5b5667ed31","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Delete_d33d3d86_604a_444c_84cd_0505d3918fc9","uuid":"bc498f0f-507e-43ea-8e8a-1d9816be9a35"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_372ca4be_1681_4dae_b58f_dcdc8ab92dc1","uuid":"1d475ac9-69cd-499e-86cf-dc41b487632c"},"edge_type":"inherent","type":"","uuid":"a7750ff6-94ee-420a-be20-1bdfc97d4eae","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_4a15a437_7787_4f4e_a85c_124d560111da","uuid":"0f422fe8-237b-42fc-bc82-a23a423b0c68"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"815ba4a7-534b-4316-869e-b64394190752"},"edge_type":"inherent","type":"","uuid":"f7386d14-a05e-4736-9f61-4ce242cd92d2","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"6f7c8677-6794-4021-9b0e-8052921da7b1"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"6f7c8677-6794-4021-9b0e-8052921da7b1"},"edge_type":"inherent","type":"","uuid":"2f8be180-b35a-4e2b-831a-67c4c61679ec","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_210861d5_0624_4752_a2fc_d29937e8c602","uuid":"f404ae69-ac9f-4117-8ec7-0883ad9aac30"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_210861d5_0624_4752_a2fc_d29937e8c602","uuid":"f404ae69-ac9f-4117-8ec7-0883ad9aac30"},"edge_type":"inherent","type":"","uuid":"6a910cdf-753f-4daf-9438-d7decf53cf4b","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_edbd689a_b0bd_461c_ac27_e6ab2d71b009","uuid":"5752c4c8-0326-4715-8a08-ef48d0a7d7b3"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_edbd689a_b0bd_461c_ac27_e6ab2d71b009","uuid":"5752c4c8-0326-4715-8a08-ef48d0a7d7b3"},"edge_type":"inherent","type":"","uuid":"75e04382-9024-451a-ba34-ec61c3e61490","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Delete_f9f877d0_1395_4a0f_bd05_0eb5227833e1","uuid":"9eced8f9-0baf-40a5-aef2-c980f285d75a"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"11bb32cd-af38-4317-ba2d-c43f0d62c32e"},"edge_type":"inherent","type":"","uuid":"cb85fdc8-d864-47d3-ac11-919bd6f3bb83","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"82615dd7-94d9-4ca2-9443-63db61c62682"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"82615dd7-94d9-4ca2-9443-63db61c62682"},"edge_type":"inherent","type":"","uuid":"55f276d7-9704-4547-b0ae-784d17b91398","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_3a9a70da_e9cc_49ee_89f8_74b5337ea3ff","uuid":"d215a275-4b13-4713-b623-9b63b9ec481f"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_8f11d2d7_3737_4025_9613_b72ea529ed07","uuid":"025881d1-0b33-41f8-bd2a-6b557fea6f0c"},"edge_type":"inherent","type":"","uuid":"041885d9-82e0-40a2-ba3e-d609e90ad790","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Delete_c1e0e021_7bc8_4713_b58b_f45507996b46","uuid":"96c5403e-9a0f-4a0c-bca1-503e8b0f3eb3"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_3a9a70da_e9cc_49ee_89f8_74b5337ea3ff","uuid":"d215a275-4b13-4713-b623-9b63b9ec481f"},"edge_type":"inherent","type":"","uuid":"f4e96161-f8b1-4645-ad90-e65f960ea169","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_8f11d2d7_3737_4025_9613_b72ea529ed07","uuid":"025881d1-0b33-41f8-bd2a-6b557fea6f0c"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_372ca4be_1681_4dae_b58f_dcdc8ab92dc1","uuid":"1d475ac9-69cd-499e-86cf-dc41b487632c"},"edge_type":"create_action_edge","type":"","uuid":"877320a9-93fa-4c7b-9cc5-38e54f0e4228","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_8f11d2d7_3737_4025_9613_b72ea529ed07","uuid":"025881d1-0b33-41f8-bd2a-6b557fea6f0c"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_372ca4be_1681_4dae_b58f_dcdc8ab92dc1","uuid":"1d475ac9-69cd-499e-86cf-dc41b487632c"},"edge_type":"create_action_edge","type":"","uuid":"4b12b526-58b3-4fed-8d5d-aff2b1058f1c","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_edbd689a_b0bd_461c_ac27_e6ab2d71b009","uuid":"5752c4c8-0326-4715-8a08-ef48d0a7d7b3"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_210861d5_0624_4752_a2fc_d29937e8c602","uuid":"f404ae69-ac9f-4117-8ec7-0883ad9aac30"},"edge_type":"create_action_edge","type":"","uuid":"3a7a502c-f800-45f7-8f2d-969e01fc3502","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_8f11d2d7_3737_4025_9613_b72ea529ed07","uuid":"025881d1-0b33-41f8-bd2a-6b557fea6f0c"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_210861d5_0624_4752_a2fc_d29937e8c602","uuid":"f404ae69-ac9f-4117-8ec7-0883ad9aac30"},"edge_type":"create_action_edge","type":"","uuid":"ce3e1f12-b5e7-4666-b2ce-9613a4e93037","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"13b3d1f0-d218-4eb9-8234-7d4b2e26fee9"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_210861d5_0624_4752_a2fc_d29937e8c602","uuid":"f404ae69-ac9f-4117-8ec7-0883ad9aac30"},"edge_type":"create_action_edge","type":"","uuid":"8c6b935d-6e29-4fae-818d-6b0f1b0fad9a","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_4a15a437_7787_4f4e_a85c_124d560111da","uuid":"0f422fe8-237b-42fc-bc82-a23a423b0c68"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_210861d5_0624_4752_a2fc_d29937e8c602","uuid":"f404ae69-ac9f-4117-8ec7-0883ad9aac30"},"edge_type":"create_action_edge","type":"","uuid":"8f7c4f0b-e4b8-44d2-b10b-29c34abc3cfb","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"11bb32cd-af38-4317-ba2d-c43f0d62c32e"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_3a9a70da_e9cc_49ee_89f8_74b5337ea3ff","uuid":"d215a275-4b13-4713-b623-9b63b9ec481f"},"edge_type":"create_action_edge","type":"","uuid":"8f165b24-4483-467b-a9bc-bd11cac3e9c1","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_4a15a437_7787_4f4e_a85c_124d560111da","uuid":"0f422fe8-237b-42fc-bc82-a23a423b0c68"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_3a9a70da_e9cc_49ee_89f8_74b5337ea3ff","uuid":"d215a275-4b13-4713-b623-9b63b9ec481f"},"edge_type":"create_action_edge","type":"","uuid":"af83c46a-931e-459b-8b0b-83da0faadf69","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_edbd689a_b0bd_461c_ac27_e6ab2d71b009","uuid":"5752c4c8-0326-4715-8a08-ef48d0a7d7b3"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_eaa1c75d_8de2_4f05_b88b_29a8434f2c44"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"815ba4a7-534b-4316-869e-b64394190752","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"ff4974a5_deployment_cloned_1","uuid":"f9f877d0-1395-4a0f-bd05-0eb5227833e1"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"6d2afcdd_runbook","uuid":"215f65d0-6496-443c-9017-6dec4743560f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"6f7c8677-6794-4021-9b0e-8052921da7b1","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"ff4974a5_deployment_cloned_1","uuid":"f9f877d0-1395-4a0f-bd05-0eb5227833e1"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"6631f4bd_runbook","uuid":"d80d8f71-625e-4530-bf85-66347f427405"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e"},{"target_any_local_reference":{"kind":"app_package","name":"GCPRouterPackage","uuid":"210861d5-0624-4752-a2fc-d29937e8c602"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"f404ae69-ac9f-4117-8ec7-0883ad9aac30","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"ff4974a5_deployment_cloned_1","uuid":"f9f877d0-1395-4a0f-bd05-0eb5227833e1"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_210861d5_0624_4752_a2fc_d29937e8c602","uuid":"b512c17c-b7f9-4667-af55-c19187e88fc1"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_210861d5_0624_4752_a2fc_d29937e8c602"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"13b3d1f0-d218-4eb9-8234-7d4b2e26fee9","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"86730684_deployment_cloned_1","uuid":"d33d3d86-604a-444c-84cd-0505d3918fc9"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"a33b20bd_runbook","uuid":"e6335ceb-f00b-4ec5-8425-3864e1897a7d"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"11bb32cd-af38-4317-ba2d-c43f0d62c32e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment_cloned_1","uuid":"c1e0e021-7bc8-4713-b58b-f45507996b46"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"85883b0a_runbook","uuid":"42cf4c9d-d9e5-435e-b222-f2d33a05683f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"82615dd7-94d9-4ca2-9443-63db61c62682","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment_cloned_1","uuid":"c1e0e021-7bc8-4713-b58b-f45507996b46"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"036f3879_runbook","uuid":"c6545ccb-d141-45bd-bf59-cf1e44946785"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"40c415ce-c3fd-46f3-be41-665b2f39ef75","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"86730684_deployment_cloned_1","uuid":"d33d3d86-604a-444c-84cd-0505d3918fc9"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"3c3538b9_runbook","uuid":"8625e87a-c851-44ac-9a8c-6808a1ac5574"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd"},{"target_any_local_reference":{"kind":"app_package","name":"GCPDataSetPackage","uuid":"3a9a70da-e9cc-49ee-89f8-74b5337ea3ff"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"d215a275-4b13-4713-b623-9b63b9ec481f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment_cloned_1","uuid":"c1e0e021-7bc8-4713-b58b-f45507996b46"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_3a9a70da_e9cc_49ee_89f8_74b5337ea3ff","uuid":"4ed3bae0-6e86-4637-9adb-01d3ef5ef980"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_3a9a70da_e9cc_49ee_89f8_74b5337ea3ff"},{"target_any_local_reference":{"kind":"app_package","name":"GCPConfigSetPackage","uuid":"372ca4be-1681-4dae-b58f-dcdc8ab92dc1"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"1d475ac9-69cd-499e-86cf-dc41b487632c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"86730684_deployment_cloned_1","uuid":"d33d3d86-604a-444c-84cd-0505d3918fc9"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_372ca4be_1681_4dae_b58f_dcdc8ab92dc1","uuid":"15b69a38-c57e-49ff-8515-1c95bec94c46"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_372ca4be_1681_4dae_b58f_dcdc8ab92dc1"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPDataSet","uuid":"8f11d2d7-3737-4025-9613-b72ea529ed07"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"025881d1-0b33-41f8-bd2a-6b557fea6f0c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment_cloned_1","uuid":"c1e0e021-7bc8-4713-b58b-f45507996b46"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_8f11d2d7_3737_4025_9613_b72ea529ed07","uuid":"59d79369-31d3-42d3-93d1-e32083a5032c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Substrate_8f11d2d7_3737_4025_9613_b72ea529ed07"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPConfigSet","uuid":"4a15a437-7787-4f4e-a85c-124d560111da"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"0f422fe8-237b-42fc-bc82-a23a423b0c68","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"86730684_deployment_cloned_1","uuid":"d33d3d86-604a-444c-84cd-0505d3918fc9"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_4a15a437_7787_4f4e_a85c_124d560111da","uuid":"f4893592-3aee-4106-8065-ec4f64ed6f94"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Substrate_4a15a437_7787_4f4e_a85c_124d560111da"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPRouter","uuid":"edbd689a-b0bd-461c-ac27-e6ab2d71b009"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"5752c4c8-0326-4715-8a08-ef48d0a7d7b3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"ff4974a5_deployment_cloned_1","uuid":"f9f877d0-1395-4a0f-bd05-0eb5227833e1"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_edbd689a_b0bd_461c_ac27_e6ab2d71b009","uuid":"58f36220-0ea5-4636-ad5b-03c895f07c14"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Substrate_edbd689a_b0bd_461c_ac27_e6ab2d71b009"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"86730684_deployment_cloned_1","uuid":"d33d3d86-604a-444c-84cd-0505d3918fc9"},"retries":"0","description":"","type":"DELETE_DEPLOYMENT_ELEMENT","uuid":"bc498f0f-507e-43ea-8e8a-1d9816be9a35","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Delete_d33d3d86_604a_444c_84cd_0505d3918fc9"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment_cloned_1","uuid":"c1e0e021-7bc8-4713-b58b-f45507996b46"},"retries":"0","description":"","type":"DELETE_DEPLOYMENT_ELEMENT","uuid":"96c5403e-9a0f-4a0c-bca1-503e8b0f3eb3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Delete_c1e0e021_7bc8_4713_b58b_f45507996b46"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"ff4974a5_deployment_cloned_1","uuid":"f9f877d0-1395-4a0f-bd05-0eb5227833e1"},"retries":"0","description":"","type":"DELETE_DEPLOYMENT_ELEMENT","uuid":"9eced8f9-0baf-40a5-aef2-c980f285d75a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Delete_f9f877d0_1395_4a0f_bd05_0eb5227833e1"}],"description":"","message_list":[],"uuid":"2416b6a7-c184-4282-9590-379d9169da76","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_eaa1c75d_8de2_4f05_b88b_29a8434f2c44","uuid":"1bd8ce0b-dc15-41fe-890c-7d8690d8bd0e"},"name":"SYS_GEN__Runbook_Application_eaa1c75d_8de2_4f05_b88b_29a8434f2c44"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"16f85051-7090-4b0c-bf5f-4a11f46ad0a6","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"GCP","uuid":"eaa1c75d-8de2-4f05-b88b-29a8434f2c44"},"retries":"0","description":"","type":"DAG","uuid":"39e3df4e-d25a-49e4-8ccb-9dfe575f3d83","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"846ca720-0a5f-49de-80e6-bdcda2160219"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_210861d5_0624_4752_a2fc_d29937e8c602","uuid":"51ee7da3-799e-4092-8998-0cafe1af8cce"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"00234ffc-18b2-4d93-a171-f4b709dc85f7"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"24af24b0-f7f5-4d8d-9dc6-ea3a9756913b"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_372ca4be_1681_4dae_b58f_dcdc8ab92dc1","uuid":"40eab3b8-bf63-4d0b-9bbc-487998e1c82a"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_3a9a70da_e9cc_49ee_89f8_74b5337ea3ff","uuid":"4448381c-2796-4e4c-a46b-f44e859bbc9a"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_4a15a437_7787_4f4e_a85c_124d560111da","uuid":"37ca4ae5-154c-4858-b54c-5dc134594e6c"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_8f11d2d7_3737_4025_9613_b72ea529ed07","uuid":"7689e4d4-c9a5-4191-8e0a-1b75bc5670ee"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_edbd689a_b0bd_461c_ac27_e6ab2d71b009","uuid":"b5c0480e-4527-44f9-b5ab-db06237fc518"},{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_d33d3d86_604a_444c_84cd_0505d3918fc9","uuid":"3d0899f6-5820-404d-b089-5fca9d5c39dc"},{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_c1e0e021_7bc8_4713_b58b_f45507996b46","uuid":"5257bdaa-2053-4bde-8a2d-8ed234e5de34"},{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_f9f877d0_1395_4a0f_bd05_0eb5227833e1","uuid":"d86d207d-b7ff-4867-9d72-78b4b8a3a880"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"24af24b0-f7f5-4d8d-9dc6-ea3a9756913b"},"edge_type":"inherent","type":"","uuid":"d76b6088-f4cb-4fc8-bdf2-fdf02dea5557","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_372ca4be_1681_4dae_b58f_dcdc8ab92dc1","uuid":"40eab3b8-bf63-4d0b-9bbc-487998e1c82a"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_4a15a437_7787_4f4e_a85c_124d560111da","uuid":"37ca4ae5-154c-4858-b54c-5dc134594e6c"},"edge_type":"inherent","type":"","uuid":"4f3091b5-e756-44ea-abe3-bdd7e6c3be78","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_d33d3d86_604a_444c_84cd_0505d3918fc9","uuid":"3d0899f6-5820-404d-b089-5fca9d5c39dc"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_372ca4be_1681_4dae_b58f_dcdc8ab92dc1","uuid":"40eab3b8-bf63-4d0b-9bbc-487998e1c82a"},"edge_type":"inherent","type":"","uuid":"2e04227f-a952-48cb-9496-4131d3766155","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_4a15a437_7787_4f4e_a85c_124d560111da","uuid":"37ca4ae5-154c-4858-b54c-5dc134594e6c"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"846ca720-0a5f-49de-80e6-bdcda2160219"},"edge_type":"inherent","type":"","uuid":"64ed3e21-c670-4b8f-b341-452b4f8b49cf","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_210861d5_0624_4752_a2fc_d29937e8c602","uuid":"51ee7da3-799e-4092-8998-0cafe1af8cce"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_edbd689a_b0bd_461c_ac27_e6ab2d71b009","uuid":"b5c0480e-4527-44f9-b5ab-db06237fc518"},"edge_type":"inherent","type":"","uuid":"5c67ce9d-37e6-45bb-bee8-ab0a9eaa5a2a","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_f9f877d0_1395_4a0f_bd05_0eb5227833e1","uuid":"d86d207d-b7ff-4867-9d72-78b4b8a3a880"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_210861d5_0624_4752_a2fc_d29937e8c602","uuid":"51ee7da3-799e-4092-8998-0cafe1af8cce"},"edge_type":"inherent","type":"","uuid":"87c7ad86-965b-4183-b70c-67f2b1645e16","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_edbd689a_b0bd_461c_ac27_e6ab2d71b009","uuid":"b5c0480e-4527-44f9-b5ab-db06237fc518"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"00234ffc-18b2-4d93-a171-f4b709dc85f7"},"edge_type":"inherent","type":"","uuid":"5a2ef56e-daab-4571-b30c-3a737e3bf01d","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_3a9a70da_e9cc_49ee_89f8_74b5337ea3ff","uuid":"4448381c-2796-4e4c-a46b-f44e859bbc9a"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_8f11d2d7_3737_4025_9613_b72ea529ed07","uuid":"7689e4d4-c9a5-4191-8e0a-1b75bc5670ee"},"edge_type":"inherent","type":"","uuid":"3234e639-2351-4d88-ac05-f938c22f6609","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_c1e0e021_7bc8_4713_b58b_f45507996b46","uuid":"5257bdaa-2053-4bde-8a2d-8ed234e5de34"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_3a9a70da_e9cc_49ee_89f8_74b5337ea3ff","uuid":"4448381c-2796-4e4c-a46b-f44e859bbc9a"},"edge_type":"inherent","type":"","uuid":"2ccd5ff0-7903-485a-b005-f171dd08123a","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_8f11d2d7_3737_4025_9613_b72ea529ed07","uuid":"7689e4d4-c9a5-4191-8e0a-1b75bc5670ee"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_372ca4be_1681_4dae_b58f_dcdc8ab92dc1","uuid":"40eab3b8-bf63-4d0b-9bbc-487998e1c82a"},"edge_type":"create_action_edge","type":"","uuid":"b30171e1-7c19-4c1b-8bda-0776e7c18b8f","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_8f11d2d7_3737_4025_9613_b72ea529ed07","uuid":"7689e4d4-c9a5-4191-8e0a-1b75bc5670ee"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_372ca4be_1681_4dae_b58f_dcdc8ab92dc1","uuid":"40eab3b8-bf63-4d0b-9bbc-487998e1c82a"},"edge_type":"create_action_edge","type":"","uuid":"f332d6e7-cf6a-4335-ade4-c0607aae595a","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_edbd689a_b0bd_461c_ac27_e6ab2d71b009","uuid":"b5c0480e-4527-44f9-b5ab-db06237fc518"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_210861d5_0624_4752_a2fc_d29937e8c602","uuid":"51ee7da3-799e-4092-8998-0cafe1af8cce"},"edge_type":"create_action_edge","type":"","uuid":"5dc774b2-6e57-4043-bea2-4c396ceff649","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_8f11d2d7_3737_4025_9613_b72ea529ed07","uuid":"7689e4d4-c9a5-4191-8e0a-1b75bc5670ee"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_210861d5_0624_4752_a2fc_d29937e8c602","uuid":"51ee7da3-799e-4092-8998-0cafe1af8cce"},"edge_type":"create_action_edge","type":"","uuid":"13540e41-9627-4d87-a52c-29676a5cbbd6","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"24af24b0-f7f5-4d8d-9dc6-ea3a9756913b"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_210861d5_0624_4752_a2fc_d29937e8c602","uuid":"51ee7da3-799e-4092-8998-0cafe1af8cce"},"edge_type":"create_action_edge","type":"","uuid":"b5ddaa02-7217-44f5-a6e2-e23725903293","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_4a15a437_7787_4f4e_a85c_124d560111da","uuid":"37ca4ae5-154c-4858-b54c-5dc134594e6c"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_210861d5_0624_4752_a2fc_d29937e8c602","uuid":"51ee7da3-799e-4092-8998-0cafe1af8cce"},"edge_type":"create_action_edge","type":"","uuid":"1158ddfd-a594-4d6c-90ce-64b66e3e33e0","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"00234ffc-18b2-4d93-a171-f4b709dc85f7"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_3a9a70da_e9cc_49ee_89f8_74b5337ea3ff","uuid":"4448381c-2796-4e4c-a46b-f44e859bbc9a"},"edge_type":"create_action_edge","type":"","uuid":"a860d420-37ab-4f3b-b51f-524d29c3ade1","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_4a15a437_7787_4f4e_a85c_124d560111da","uuid":"37ca4ae5-154c-4858-b54c-5dc134594e6c"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_3a9a70da_e9cc_49ee_89f8_74b5337ea3ff","uuid":"4448381c-2796-4e4c-a46b-f44e859bbc9a"},"edge_type":"create_action_edge","type":"","uuid":"94becb86-c11b-412e-8291-b7c1cea0dcfe","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_edbd689a_b0bd_461c_ac27_e6ab2d71b009","uuid":"b5c0480e-4527-44f9-b5ab-db06237fc518"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_eaa1c75d_8de2_4f05_b88b_29a8434f2c44"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"846ca720-0a5f-49de-80e6-bdcda2160219","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"ff4974a5_deployment_cloned_1","uuid":"f9f877d0-1395-4a0f-bd05-0eb5227833e1"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"3fe61be2-c077-40a8-91a6-e9e75a5d2af3"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e"},{"target_any_local_reference":{"kind":"app_package","name":"GCPRouterPackage","uuid":"210861d5-0624-4752-a2fc-d29937e8c602"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"51ee7da3-799e-4092-8998-0cafe1af8cce","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_210861d5_0624_4752_a2fc_d29937e8c602"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"00234ffc-18b2-4d93-a171-f4b709dc85f7","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment_cloned_1","uuid":"c1e0e021-7bc8-4713-b58b-f45507996b46"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"433fbe65-0fc7-4649-a088-87d5660f88a6"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"24af24b0-f7f5-4d8d-9dc6-ea3a9756913b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"86730684_deployment_cloned_1","uuid":"d33d3d86-604a-444c-84cd-0505d3918fc9"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"71c44ff6-8283-4578-8e15-dbf648d09ee4"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd"},{"target_any_local_reference":{"kind":"app_package","name":"GCPConfigSetPackage","uuid":"372ca4be-1681-4dae-b58f-dcdc8ab92dc1"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"40eab3b8-bf63-4d0b-9bbc-487998e1c82a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_372ca4be_1681_4dae_b58f_dcdc8ab92dc1"},{"target_any_local_reference":{"kind":"app_package","name":"GCPDataSetPackage","uuid":"3a9a70da-e9cc-49ee-89f8-74b5337ea3ff"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"4448381c-2796-4e4c-a46b-f44e859bbc9a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_3a9a70da_e9cc_49ee_89f8_74b5337ea3ff"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPConfigSet","uuid":"4a15a437-7787-4f4e-a85c-124d560111da"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"37ca4ae5-154c-4858-b54c-5dc134594e6c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"86730684_deployment_cloned_1","uuid":"d33d3d86-604a-444c-84cd-0505d3918fc9"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_4a15a437_7787_4f4e_a85c_124d560111da","uuid":"294c931b-3c2b-48fa-af56-0bec3d459010"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Substrate_4a15a437_7787_4f4e_a85c_124d560111da"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPDataSet","uuid":"8f11d2d7-3737-4025-9613-b72ea529ed07"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"7689e4d4-c9a5-4191-8e0a-1b75bc5670ee","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment_cloned_1","uuid":"c1e0e021-7bc8-4713-b58b-f45507996b46"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_8f11d2d7_3737_4025_9613_b72ea529ed07","uuid":"12afa562-b6e8-4db2-92c3-e0c30b11b856"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Substrate_8f11d2d7_3737_4025_9613_b72ea529ed07"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPRouter","uuid":"edbd689a-b0bd-461c-ac27-e6ab2d71b009"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"b5c0480e-4527-44f9-b5ab-db06237fc518","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"ff4974a5_deployment_cloned_1","uuid":"f9f877d0-1395-4a0f-bd05-0eb5227833e1"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_edbd689a_b0bd_461c_ac27_e6ab2d71b009","uuid":"8363be5f-99d4-4631-bf4a-318cc29dc0a8"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Substrate_edbd689a_b0bd_461c_ac27_e6ab2d71b009"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"86730684_deployment_cloned_1","uuid":"d33d3d86-604a-444c-84cd-0505d3918fc9"},"retries":"0","description":"","type":"SOFT_DELETE_DEPLOYMENT_ELEMENT","uuid":"3d0899f6-5820-404d-b089-5fca9d5c39dc","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Soft_Delete_d33d3d86_604a_444c_84cd_0505d3918fc9"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment_cloned_1","uuid":"c1e0e021-7bc8-4713-b58b-f45507996b46"},"retries":"0","description":"","type":"SOFT_DELETE_DEPLOYMENT_ELEMENT","uuid":"5257bdaa-2053-4bde-8a2d-8ed234e5de34","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Soft_Delete_c1e0e021_7bc8_4713_b58b_f45507996b46"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"ff4974a5_deployment_cloned_1","uuid":"f9f877d0-1395-4a0f-bd05-0eb5227833e1"},"retries":"0","description":"","type":"SOFT_DELETE_DEPLOYMENT_ELEMENT","uuid":"d86d207d-b7ff-4867-9d72-78b4b8a3a880","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Soft_Delete_f9f877d0_1395_4a0f_bd05_0eb5227833e1"}],"description":"","message_list":[],"uuid":"bc473333-f23e-4878-bcde-fd65fc1211d0","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_eaa1c75d_8de2_4f05_b88b_29a8434f2c44","uuid":"39e3df4e-d25a-49e4-8ccb-9dfe575f3d83"},"name":"SYS_GEN__Runbook_Application_eaa1c75d_8de2_4f05_b88b_29a8434f2c44"}}],"message_list":[],"uuid":"eaa1c75d-8de2-4f05-b88b-29a8434f2c44","state":"ACTIVE","dependency_list":[{"getter_resource_kind":"PackageCfg","setter_resource_attr":"private_ip_address","setter_resource_kind":"SubstrateCfg","setter_resource_name":"GCPDataSet","action_name":"action_create","action_resource_name":"GCP","getter_resource_name":"GCPConfigSetPackage","action_resource_kind":"ApplicationCfg"},{"getter_resource_kind":"PackageCfg","setter_resource_attr":"private_ip_address","setter_resource_kind":"SubstrateCfg","setter_resource_name":"GCPRouter","action_name":"action_create","action_resource_name":"GCP","getter_resource_name":"GCPConfigSetPackage","action_resource_kind":"ApplicationCfg"},{"getter_resource_kind":"PackageCfg","setter_resource_attr":"private_ip_address","setter_resource_kind":"SubstrateCfg","setter_resource_name":"GCPDataSet","action_name":"action_create","action_resource_name":"GCP","getter_resource_name":"GCPRouterPackage","action_resource_kind":"ApplicationCfg"},{"getter_resource_kind":"PackageCfg","setter_resource_attr":"private_ip_address","setter_resource_kind":"ServiceCfg","setter_resource_name":"ConfigSet","action_name":"action_create","action_resource_name":"GCP","getter_resource_name":"GCPRouterPackage","action_resource_kind":"ApplicationCfg"},{"getter_resource_kind":"PackageCfg","setter_resource_attr":"private_ip_address","setter_resource_kind":"SubstrateCfg","setter_resource_name":"GCPConfigSet","action_name":"action_create","action_resource_name":"GCP","getter_resource_name":"GCPRouterPackage","action_resource_kind":"ApplicationCfg"},{"getter_resource_kind":"PackageCfg","setter_resource_attr":"private_ip_address","setter_resource_kind":"ServiceCfg","setter_resource_name":"DataSet","action_name":"action_create","action_resource_name":"GCP","getter_resource_name":"GCPRouterPackage","action_resource_kind":"ApplicationCfg"},{"getter_resource_kind":"PackageCfg","setter_resource_attr":"private_ip_address","setter_resource_kind":"SubstrateCfg","setter_resource_name":"GCPConfigSet","action_name":"action_create","action_resource_name":"GCP","getter_resource_name":"GCPDataSetPackage","action_resource_kind":"ApplicationCfg"},{"getter_resource_kind":"PackageCfg","setter_resource_attr":"private_ip_address","setter_resource_kind":"SubstrateCfg","setter_resource_name":"GCPRouter","action_name":"action_create","action_resource_name":"GCP","getter_resource_name":"GCPDataSetPackage","action_resource_kind":"ApplicationCfg"}],"variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"e941f0e0-b1b1-4f58-83d2-017964f484b7","value":"3.4.2","label":"","state":"ACTIVE","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"MONGO_VERSION"},{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"4aed553b-3a80-4603-8c3a-c30e0e9ee1af","value":"3","label":"","state":"ACTIVE","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"NODES_PER_REPLICA_SET"},{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"0f93b0d3-4b5d-4bde-be31-2701c2011aa0","value":"\/mongodb\/data","label":"","state":"ACTIVE","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"DATA_PATH"},{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"347916f5-44ba-4426-ae6b-ffc920f511f3","value":"\/mongodb\/journal","label":"","state":"ACTIVE","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"JOURNAL_PATH"},{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"ba0e98d5-d62f-46cf-9b3e-d3a9a984dd34","value":"\/mongodb\/log","label":"","state":"ACTIVE","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"LOG_PATH"}],"name":"GCP"},{"deployment_create_list":[{"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"3b8d7100-5702-40bd-b2f9-3bb35ad97688","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"ad729820_deployment","uuid":"7e59c5fb-0eef-40de-9bd5-982a0fb496bf"},"retries":"0","description":"","type":"DAG","uuid":"0db021fe-ffb0-4747-b74c-c3361af1265b","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__DE_Provision_7e59c5fb_0eef_40de_9bd5_982a0fb496bf","uuid":"59a2a5d7-13bf-4d0f-abfb-414f0a1c5853"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_7c3d971c_23bd_4e2f_8fb0_93f1a45751e9","uuid":"fb31e6ed-bcc2-4cb4-87a2-52f108494373"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_d0dc31b0_2ee6_484a_b025_b0f9d437419b","uuid":"e4ee46eb-4b13-4bdc-bd86-d69ef7379e4f"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"7e4545a8-bffe-475f-af6e-ba9b87cc3024"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"efc0b294-e6ff-4dec-80b9-3f8b06589e78"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"7e4545a8-bffe-475f-af6e-ba9b87cc3024"},"edge_type":"inherent","type":"","uuid":"b3913144-741a-401d-9df1-0174debde223","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"efc0b294-e6ff-4dec-80b9-3f8b06589e78"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_d0dc31b0_2ee6_484a_b025_b0f9d437419b","uuid":"e4ee46eb-4b13-4bdc-bd86-d69ef7379e4f"},"edge_type":"inherent","type":"","uuid":"2cfdfed8-8af6-4db4-b3a7-bc00cbcf9905","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"7e4545a8-bffe-475f-af6e-ba9b87cc3024"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_7e59c5fb_0eef_40de_9bd5_982a0fb496bf","uuid":"59a2a5d7-13bf-4d0f-abfb-414f0a1c5853"},"edge_type":"inherent","type":"","uuid":"169d1ca8-13d1-4b38-85b2-ad48aeaaeb60","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_7c3d971c_23bd_4e2f_8fb0_93f1a45751e9","uuid":"fb31e6ed-bcc2-4cb4-87a2-52f108494373"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_7c3d971c_23bd_4e2f_8fb0_93f1a45751e9","uuid":"fb31e6ed-bcc2-4cb4-87a2-52f108494373"},"edge_type":"inherent","type":"","uuid":"a73fafa5-62a4-45f2-80f0-9ce834d5fe88","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_d0dc31b0_2ee6_484a_b025_b0f9d437419b","uuid":"e4ee46eb-4b13-4bdc-bd86-d69ef7379e4f"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_7e59c5fb_0eef_40de_9bd5_982a0fb496bf"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"ad729820_deployment","uuid":"7e59c5fb-0eef-40de-9bd5-982a0fb496bf"},"retries":"0","description":"","type":"CREATE_DEPLOYMENT_ELEMENT","uuid":"59a2a5d7-13bf-4d0f-abfb-414f0a1c5853","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Provision_7e59c5fb_0eef_40de_9bd5_982a0fb496bf"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureRouter","uuid":"7c3d971c-23bd-4e2f-8fb0-93f1a45751e9"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"fb31e6ed-bcc2-4cb4-87a2-52f108494373","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"ad729820_deployment","uuid":"7e59c5fb-0eef-40de-9bd5-982a0fb496bf"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_7c3d971c_23bd_4e2f_8fb0_93f1a45751e9","uuid":"e5c3b181-3e09-4e71-90d1-7b4b7278e222"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Substrate_7c3d971c_23bd_4e2f_8fb0_93f1a45751e9"},{"target_any_local_reference":{"kind":"app_package","name":"AzureRouterPackage","uuid":"d0dc31b0-2ee6-484a-b025-b0f9d437419b"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"e4ee46eb-4b13-4bdc-bd86-d69ef7379e4f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"ad729820_deployment","uuid":"7e59c5fb-0eef-40de-9bd5-982a0fb496bf"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_d0dc31b0_2ee6_484a_b025_b0f9d437419b","uuid":"570680f9-a75f-4ca4-b041-8820230e673e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_d0dc31b0_2ee6_484a_b025_b0f9d437419b"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"7e4545a8-bffe-475f-af6e-ba9b87cc3024","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"ad729820_deployment","uuid":"7e59c5fb-0eef-40de-9bd5-982a0fb496bf"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"f678ba44_runbook","uuid":"6f256634-e57a-41ea-a837-438a40018db7"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"efc0b294-e6ff-4dec-80b9-3f8b06589e78","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"ad729820_deployment","uuid":"7e59c5fb-0eef-40de-9bd5-982a0fb496bf"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"6729beee_runbook","uuid":"28341bf4-2766-4701-8747-1722ed61db3c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e"}],"description":"","message_list":[],"uuid":"0c7cd0e1-4ef8-4554-83a4-48814b19f89b","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_7e59c5fb_0eef_40de_9bd5_982a0fb496bf","uuid":"0db021fe-ffb0-4747-b74c-c3361af1265b"},"name":"SYS_GEN__Runbook_Deployment_7e59c5fb_0eef_40de_9bd5_982a0fb496bf"}},{"description":"System action for starting an application","message_list":[],"uuid":"8f9660cc-9bf4-4d59-8ad5-20fb0229d00b","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"ad729820_deployment","uuid":"7e59c5fb-0eef-40de-9bd5-982a0fb496bf"},"retries":"0","description":"","type":"DAG","uuid":"d4357020-13fa-4316-a8eb-51e3cfdb46b5","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_7c3d971c_23bd_4e2f_8fb0_93f1a45751e9","uuid":"aa66ca13-39d1-4ac7-84e6-91113947f1a9"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"57886211-0b25-47b5-885e-fb6aa9ce7617"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_7c3d971c_23bd_4e2f_8fb0_93f1a45751e9","uuid":"aa66ca13-39d1-4ac7-84e6-91113947f1a9"},"edge_type":"inherent","type":"","uuid":"50c596df-9fce-4cf7-8386-b5f23f766bb9","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"57886211-0b25-47b5-885e-fb6aa9ce7617"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_7e59c5fb_0eef_40de_9bd5_982a0fb496bf"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureRouter","uuid":"7c3d971c-23bd-4e2f-8fb0-93f1a45751e9"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"aa66ca13-39d1-4ac7-84e6-91113947f1a9","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"ad729820_deployment","uuid":"7e59c5fb-0eef-40de-9bd5-982a0fb496bf"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_7c3d971c_23bd_4e2f_8fb0_93f1a45751e9","uuid":"255817c8-9728-4ea2-9a9f-4d50c09232da"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Substrate_7c3d971c_23bd_4e2f_8fb0_93f1a45751e9"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"57886211-0b25-47b5-885e-fb6aa9ce7617","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"ad729820_deployment","uuid":"7e59c5fb-0eef-40de-9bd5-982a0fb496bf"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"6729beee_runbook","uuid":"28341bf4-2766-4701-8747-1722ed61db3c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e"}],"description":"","message_list":[],"uuid":"91aa15c2-b7f2-489d-a5cf-17b07ce9922b","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_7e59c5fb_0eef_40de_9bd5_982a0fb496bf","uuid":"d4357020-13fa-4316-a8eb-51e3cfdb46b5"},"name":"SYS_GEN__Runbook_Deployment_7e59c5fb_0eef_40de_9bd5_982a0fb496bf"}},{"description":"System action for restarting an application","message_list":[],"uuid":"1be36374-d19e-4433-88e8-31817f9e7b11","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"ad729820_deployment","uuid":"7e59c5fb-0eef-40de-9bd5-982a0fb496bf"},"retries":"0","description":"","type":"DAG","uuid":"5d6b22cf-4252-4684-a36a-03b1d9f72999","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_7c3d971c_23bd_4e2f_8fb0_93f1a45751e9","uuid":"116341b3-19d3-4d8a-991f-eafa53e9113e"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"997df419-3231-4689-bb67-188b1fe7e061"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_7c3d971c_23bd_4e2f_8fb0_93f1a45751e9","uuid":"116341b3-19d3-4d8a-991f-eafa53e9113e"},"edge_type":"inherent","type":"","uuid":"f367ce95-677d-4d6d-baf6-61d45ed902a0","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"997df419-3231-4689-bb67-188b1fe7e061"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_7e59c5fb_0eef_40de_9bd5_982a0fb496bf"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureRouter","uuid":"7c3d971c-23bd-4e2f-8fb0-93f1a45751e9"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"116341b3-19d3-4d8a-991f-eafa53e9113e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"ad729820_deployment","uuid":"7e59c5fb-0eef-40de-9bd5-982a0fb496bf"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_7c3d971c_23bd_4e2f_8fb0_93f1a45751e9","uuid":"3069294f-f417-4410-a942-f429b7a892ba"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Substrate_7c3d971c_23bd_4e2f_8fb0_93f1a45751e9"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"997df419-3231-4689-bb67-188b1fe7e061","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"ad729820_deployment","uuid":"7e59c5fb-0eef-40de-9bd5-982a0fb496bf"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"5261a312_runbook","uuid":"dcdcb0d6-e68b-4641-8609-e6dc92c57b21"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e"}],"description":"","message_list":[],"uuid":"415e84c9-f4ab-480a-a46a-888e64c64bb9","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_7e59c5fb_0eef_40de_9bd5_982a0fb496bf","uuid":"5d6b22cf-4252-4684-a36a-03b1d9f72999"},"name":"SYS_GEN__Runbook_Deployment_7e59c5fb_0eef_40de_9bd5_982a0fb496bf"}},{"description":"System action for stopping an application","message_list":[],"uuid":"520930fd-b287-4403-b2b9-94e6540900da","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"ad729820_deployment","uuid":"7e59c5fb-0eef-40de-9bd5-982a0fb496bf"},"retries":"0","description":"","type":"DAG","uuid":"3f58d857-9178-494a-9f21-e02281a3f876","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"815b501c-9e37-4ad1-8fb1-802bb252783a"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_7c3d971c_23bd_4e2f_8fb0_93f1a45751e9","uuid":"1b4b6b8e-a582-4081-9750-bb3a3eb493e4"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"815b501c-9e37-4ad1-8fb1-802bb252783a"},"edge_type":"inherent","type":"","uuid":"a89db44f-3e19-4131-8129-796724673b92","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_7c3d971c_23bd_4e2f_8fb0_93f1a45751e9","uuid":"1b4b6b8e-a582-4081-9750-bb3a3eb493e4"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_7e59c5fb_0eef_40de_9bd5_982a0fb496bf"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"815b501c-9e37-4ad1-8fb1-802bb252783a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"ad729820_deployment","uuid":"7e59c5fb-0eef-40de-9bd5-982a0fb496bf"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"6d2afcdd_runbook","uuid":"215f65d0-6496-443c-9017-6dec4743560f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureRouter","uuid":"7c3d971c-23bd-4e2f-8fb0-93f1a45751e9"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"1b4b6b8e-a582-4081-9750-bb3a3eb493e4","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"ad729820_deployment","uuid":"7e59c5fb-0eef-40de-9bd5-982a0fb496bf"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_7c3d971c_23bd_4e2f_8fb0_93f1a45751e9","uuid":"0ff24d2e-4e52-4c77-a72f-ca9018a89d05"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Substrate_7c3d971c_23bd_4e2f_8fb0_93f1a45751e9"}],"description":"","message_list":[],"uuid":"ec0192fb-3a57-43e3-be37-e9097a3fce91","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_7e59c5fb_0eef_40de_9bd5_982a0fb496bf","uuid":"3f58d857-9178-494a-9f21-e02281a3f876"},"name":"SYS_GEN__Runbook_Deployment_7e59c5fb_0eef_40de_9bd5_982a0fb496bf"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"ca4bb0f7-ca40-4641-a3bf-e10068247c63","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"ad729820_deployment","uuid":"7e59c5fb-0eef-40de-9bd5-982a0fb496bf"},"retries":"0","description":"","type":"DAG","uuid":"59566863-009c-4631-bb5d-17002eddc4ea","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"c80fb780-4138-48c9-ae6a-e8abbe0d4e2e"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"11761fb2-2db5-467f-b23f-66bc33df1351"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_d0dc31b0_2ee6_484a_b025_b0f9d437419b","uuid":"1591a46e-4415-4a41-8ff1-70c2ae59a9a6"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_7c3d971c_23bd_4e2f_8fb0_93f1a45751e9","uuid":"1375e2ed-9b02-4320-8c79-b91a96922dc3"},{"kind":"app_task","name":"SYS_GEN__DE_Delete_7e59c5fb_0eef_40de_9bd5_982a0fb496bf","uuid":"93e8a8b1-191c-4bc9-ba1e-8251796d01cb"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"c80fb780-4138-48c9-ae6a-e8abbe0d4e2e"},"edge_type":"inherent","type":"","uuid":"ccbfc62b-6070-4a5c-a097-58f96d9489f5","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"11761fb2-2db5-467f-b23f-66bc33df1351"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"11761fb2-2db5-467f-b23f-66bc33df1351"},"edge_type":"inherent","type":"","uuid":"94197a6b-666d-4a4a-9dd9-afa243fb551f","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_d0dc31b0_2ee6_484a_b025_b0f9d437419b","uuid":"1591a46e-4415-4a41-8ff1-70c2ae59a9a6"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_7c3d971c_23bd_4e2f_8fb0_93f1a45751e9","uuid":"1375e2ed-9b02-4320-8c79-b91a96922dc3"},"edge_type":"inherent","type":"","uuid":"ed904030-e80d-4424-a330-fc37449fa0d9","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Delete_7e59c5fb_0eef_40de_9bd5_982a0fb496bf","uuid":"93e8a8b1-191c-4bc9-ba1e-8251796d01cb"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_d0dc31b0_2ee6_484a_b025_b0f9d437419b","uuid":"1591a46e-4415-4a41-8ff1-70c2ae59a9a6"},"edge_type":"inherent","type":"","uuid":"3ce477f0-6336-4ff1-a06b-8d2fdee41043","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_7c3d971c_23bd_4e2f_8fb0_93f1a45751e9","uuid":"1375e2ed-9b02-4320-8c79-b91a96922dc3"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_7e59c5fb_0eef_40de_9bd5_982a0fb496bf"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"c80fb780-4138-48c9-ae6a-e8abbe0d4e2e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"ad729820_deployment","uuid":"7e59c5fb-0eef-40de-9bd5-982a0fb496bf"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"6d2afcdd_runbook","uuid":"215f65d0-6496-443c-9017-6dec4743560f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"11761fb2-2db5-467f-b23f-66bc33df1351","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"ad729820_deployment","uuid":"7e59c5fb-0eef-40de-9bd5-982a0fb496bf"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"6631f4bd_runbook","uuid":"d80d8f71-625e-4530-bf85-66347f427405"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e"},{"target_any_local_reference":{"kind":"app_package","name":"AzureRouterPackage","uuid":"d0dc31b0-2ee6-484a-b025-b0f9d437419b"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"1591a46e-4415-4a41-8ff1-70c2ae59a9a6","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"ad729820_deployment","uuid":"7e59c5fb-0eef-40de-9bd5-982a0fb496bf"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_d0dc31b0_2ee6_484a_b025_b0f9d437419b","uuid":"8cbaf9e6-e718-40f7-ad1b-96ecb70e6c9c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_d0dc31b0_2ee6_484a_b025_b0f9d437419b"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureRouter","uuid":"7c3d971c-23bd-4e2f-8fb0-93f1a45751e9"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"1375e2ed-9b02-4320-8c79-b91a96922dc3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"ad729820_deployment","uuid":"7e59c5fb-0eef-40de-9bd5-982a0fb496bf"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_7c3d971c_23bd_4e2f_8fb0_93f1a45751e9","uuid":"00341568-6462-4340-a8a7-aa47753e464d"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Substrate_7c3d971c_23bd_4e2f_8fb0_93f1a45751e9"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"ad729820_deployment","uuid":"7e59c5fb-0eef-40de-9bd5-982a0fb496bf"},"retries":"0","description":"","type":"DELETE_DEPLOYMENT_ELEMENT","uuid":"93e8a8b1-191c-4bc9-ba1e-8251796d01cb","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Delete_7e59c5fb_0eef_40de_9bd5_982a0fb496bf"}],"description":"","message_list":[],"uuid":"dbecbb19-1f34-42c3-ad1a-bb7811260fc7","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_7e59c5fb_0eef_40de_9bd5_982a0fb496bf","uuid":"59566863-009c-4631-bb5d-17002eddc4ea"},"name":"SYS_GEN__Runbook_Deployment_7e59c5fb_0eef_40de_9bd5_982a0fb496bf"}},{"description":"System action for scaleout","message_list":[],"uuid":"d4c6949b-7a4b-42ff-8565-17b535270fa7","name":"action_scaleout","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"ad729820_deployment","uuid":"7e59c5fb-0eef-40de-9bd5-982a0fb496bf"},"retries":"0","description":"","type":"DAG","uuid":"47f13451-a573-46e5-9032-95c37eaca8ba","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Deployment_Scaleout_7e59c5fb_0eef_40de_9bd5_982a0fb496bf","uuid":"65045717-5a22-4a7f-b153-0c9e024bdeb7"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_7e59c5fb_0eef_40de_9bd5_982a0fb496bf"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"ad729820_deployment","uuid":"7e59c5fb-0eef-40de-9bd5-982a0fb496bf"},"retries":"0","description":"","type":"SCALING","uuid":"65045717-5a22-4a7f-b153-0c9e024bdeb7","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{scaling_count}@@","type":"","scaling_type":"SCALEOUT"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Deployment_Scaleout_7e59c5fb_0eef_40de_9bd5_982a0fb496bf"}],"description":"","message_list":[],"uuid":"6218e1a0-2ca2-4823-ae35-0b238077f098","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"9580c770-d0fb-4876-b40e-76797a4d52ff","value":"0","label":"","state":"NOT_VALIDATED","attrs":{},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"scaling_count"}],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_7e59c5fb_0eef_40de_9bd5_982a0fb496bf","uuid":"47f13451-a573-46e5-9032-95c37eaca8ba"},"name":"SYS_GEN__Runbook_Deployment_7e59c5fb_0eef_40de_9bd5_982a0fb496bf"}},{"description":"System action for scalein","message_list":[],"uuid":"e40dc3bf-d4af-419c-b401-80cb0797a6c2","name":"action_scalein","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"ad729820_deployment","uuid":"7e59c5fb-0eef-40de-9bd5-982a0fb496bf"},"retries":"0","description":"","type":"DAG","uuid":"4a588b55-6b52-4609-9dec-50fe2c36dffb","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Deployment_Scalein_7e59c5fb_0eef_40de_9bd5_982a0fb496bf","uuid":"7807f14e-c783-47a2-8af8-33d3f35d440d"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_7e59c5fb_0eef_40de_9bd5_982a0fb496bf"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"ad729820_deployment","uuid":"7e59c5fb-0eef-40de-9bd5-982a0fb496bf"},"retries":"0","description":"","type":"SCALING","uuid":"7807f14e-c783-47a2-8af8-33d3f35d440d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{scaling_count}@@","type":"","scaling_type":"SCALEIN"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Deployment_Scalein_7e59c5fb_0eef_40de_9bd5_982a0fb496bf"}],"description":"","message_list":[],"uuid":"ac3897cf-5351-495e-b0f3-0151053417a0","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"726fcfbb-a993-4cb6-9c1d-b4f308541834","value":"0","label":"","state":"NOT_VALIDATED","attrs":{},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"scaling_count"}],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_7e59c5fb_0eef_40de_9bd5_982a0fb496bf","uuid":"4a588b55-6b52-4609-9dec-50fe2c36dffb"},"name":"SYS_GEN__Runbook_Deployment_7e59c5fb_0eef_40de_9bd5_982a0fb496bf"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"20921e5a-387f-442d-a8f5-489c4bde8659","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"ad729820_deployment","uuid":"7e59c5fb-0eef-40de-9bd5-982a0fb496bf"},"retries":"0","description":"","type":"DAG","uuid":"8c5cb3eb-af53-47c2-8c1e-67997a63498a","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"bcbae775-ec38-40e5-8a81-caa77e6c1950"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_d0dc31b0_2ee6_484a_b025_b0f9d437419b","uuid":"2a898454-f7c2-4b77-83f5-3fcdf9ae33c6"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_7c3d971c_23bd_4e2f_8fb0_93f1a45751e9","uuid":"ac33080c-439f-426f-a399-377f72d1c52d"},{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_7e59c5fb_0eef_40de_9bd5_982a0fb496bf","uuid":"1d4b0cea-fc30-4f7a-8b32-e8a8865da821"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"bcbae775-ec38-40e5-8a81-caa77e6c1950"},"edge_type":"inherent","type":"","uuid":"a76559c1-4e75-441d-a8c5-57f356e6da98","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_d0dc31b0_2ee6_484a_b025_b0f9d437419b","uuid":"2a898454-f7c2-4b77-83f5-3fcdf9ae33c6"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_d0dc31b0_2ee6_484a_b025_b0f9d437419b","uuid":"2a898454-f7c2-4b77-83f5-3fcdf9ae33c6"},"edge_type":"inherent","type":"","uuid":"32d6a63b-abc5-4c74-94f8-4b1c99fc793e","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_7c3d971c_23bd_4e2f_8fb0_93f1a45751e9","uuid":"ac33080c-439f-426f-a399-377f72d1c52d"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_7c3d971c_23bd_4e2f_8fb0_93f1a45751e9","uuid":"ac33080c-439f-426f-a399-377f72d1c52d"},"edge_type":"inherent","type":"","uuid":"40617fda-952b-49bb-b605-0d0f68670dfc","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_7e59c5fb_0eef_40de_9bd5_982a0fb496bf","uuid":"1d4b0cea-fc30-4f7a-8b32-e8a8865da821"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_7e59c5fb_0eef_40de_9bd5_982a0fb496bf"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"bcbae775-ec38-40e5-8a81-caa77e6c1950","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"ad729820_deployment","uuid":"7e59c5fb-0eef-40de-9bd5-982a0fb496bf"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"3fe61be2-c077-40a8-91a6-e9e75a5d2af3"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e"},{"target_any_local_reference":{"kind":"app_package","name":"AzureRouterPackage","uuid":"d0dc31b0-2ee6-484a-b025-b0f9d437419b"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"2a898454-f7c2-4b77-83f5-3fcdf9ae33c6","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_d0dc31b0_2ee6_484a_b025_b0f9d437419b"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureRouter","uuid":"7c3d971c-23bd-4e2f-8fb0-93f1a45751e9"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"ac33080c-439f-426f-a399-377f72d1c52d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"ad729820_deployment","uuid":"7e59c5fb-0eef-40de-9bd5-982a0fb496bf"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_7c3d971c_23bd_4e2f_8fb0_93f1a45751e9","uuid":"21a3ecd6-b83d-4340-9bc4-92962180e081"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Substrate_7c3d971c_23bd_4e2f_8fb0_93f1a45751e9"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"ad729820_deployment","uuid":"7e59c5fb-0eef-40de-9bd5-982a0fb496bf"},"retries":"0","description":"","type":"SOFT_DELETE_DEPLOYMENT_ELEMENT","uuid":"1d4b0cea-fc30-4f7a-8b32-e8a8865da821","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Soft_Delete_7e59c5fb_0eef_40de_9bd5_982a0fb496bf"}],"description":"","message_list":[],"uuid":"13c8c441-ef5d-4d85-8f05-5e43698b6847","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_7e59c5fb_0eef_40de_9bd5_982a0fb496bf","uuid":"8c5cb3eb-af53-47c2-8c1e-67997a63498a"},"name":"SYS_GEN__Runbook_Deployment_7e59c5fb_0eef_40de_9bd5_982a0fb496bf"}}],"message_list":[],"published_service_local_reference_list":[],"uuid":"7e59c5fb-0eef-40de-9bd5-982a0fb496bf","min_replicas":"3","state":"ACTIVE","max_replicas":"3","depends_on_list":[],"editables":{"min_replicas":true,"max_replicas":true},"package_local_reference_list":[{"kind":"app_package","name":"AzureRouterPackage","uuid":"d0dc31b0-2ee6-484a-b025-b0f9d437419b"}],"substrate_local_reference":{"kind":"app_substrate","name":"AzureRouter","uuid":"7c3d971c-23bd-4e2f-8fb0-93f1a45751e9"},"type":"GREENFIELD","options":{},"variable_list":[],"name":"ad729820_deployment"},{"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"439af716-548e-4b5a-8801-9a2b7e050bb4","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"d7afb99d_deployment","uuid":"7795109d-944c-4a74-960c-c500272617f9"},"retries":"0","description":"","type":"DAG","uuid":"66f0ae28-303e-42ad-bc89-881286271403","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__DE_Provision_7795109d_944c_4a74_960c_c500272617f9","uuid":"043c1a23-e9a4-475f-a973-490074b21542"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_81d5239a_1d40_44b1_8dcc_01c5276fea58","uuid":"20802a77-29ba-4f7a-acc2-ab2b721907c2"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_32aa87ce_6553_4fe1_b266_943390cceace","uuid":"9b31963b-08d3-49c9-84a3-8293663d3b1c"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"79770503-28f5-498e-9c37-512f9f286580"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"b60eca01-e1b3-42c2-9405-7770bd32a4f3"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"79770503-28f5-498e-9c37-512f9f286580"},"edge_type":"inherent","type":"","uuid":"0a9630a1-4f27-4a38-8c1e-3adda9c600e1","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"b60eca01-e1b3-42c2-9405-7770bd32a4f3"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_32aa87ce_6553_4fe1_b266_943390cceace","uuid":"9b31963b-08d3-49c9-84a3-8293663d3b1c"},"edge_type":"inherent","type":"","uuid":"b2756b1c-1ca3-406b-9c36-33b9c25e675d","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"79770503-28f5-498e-9c37-512f9f286580"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_81d5239a_1d40_44b1_8dcc_01c5276fea58","uuid":"20802a77-29ba-4f7a-acc2-ab2b721907c2"},"edge_type":"inherent","type":"","uuid":"83c3d002-6d65-4de8-8bbc-1e0274085900","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_32aa87ce_6553_4fe1_b266_943390cceace","uuid":"9b31963b-08d3-49c9-84a3-8293663d3b1c"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_7795109d_944c_4a74_960c_c500272617f9","uuid":"043c1a23-e9a4-475f-a973-490074b21542"},"edge_type":"inherent","type":"","uuid":"d38f9e71-35bc-420d-9cad-f50910994e0f","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_81d5239a_1d40_44b1_8dcc_01c5276fea58","uuid":"20802a77-29ba-4f7a-acc2-ab2b721907c2"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_7795109d_944c_4a74_960c_c500272617f9"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"d7afb99d_deployment","uuid":"7795109d-944c-4a74-960c-c500272617f9"},"retries":"0","description":"","type":"CREATE_DEPLOYMENT_ELEMENT","uuid":"043c1a23-e9a4-475f-a973-490074b21542","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Provision_7795109d_944c_4a74_960c_c500272617f9"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureConfigSet","uuid":"81d5239a-1d40-44b1-8dcc-01c5276fea58"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"20802a77-29ba-4f7a-acc2-ab2b721907c2","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"d7afb99d_deployment","uuid":"7795109d-944c-4a74-960c-c500272617f9"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_81d5239a_1d40_44b1_8dcc_01c5276fea58","uuid":"a57ef3ff-7ae7-46f9-b953-88ca58e520d3"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Substrate_81d5239a_1d40_44b1_8dcc_01c5276fea58"},{"target_any_local_reference":{"kind":"app_package","name":"AzureConfigSetPackage","uuid":"32aa87ce-6553-4fe1-b266-943390cceace"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"9b31963b-08d3-49c9-84a3-8293663d3b1c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"d7afb99d_deployment","uuid":"7795109d-944c-4a74-960c-c500272617f9"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_32aa87ce_6553_4fe1_b266_943390cceace","uuid":"1d203d11-ed50-4597-b561-2441862084b0"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_32aa87ce_6553_4fe1_b266_943390cceace"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"79770503-28f5-498e-9c37-512f9f286580","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"d7afb99d_deployment","uuid":"7795109d-944c-4a74-960c-c500272617f9"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0a879260_runbook","uuid":"741de02d-b511-4b87-8b94-a1b0b74e0fb7"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"b60eca01-e1b3-42c2-9405-7770bd32a4f3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"d7afb99d_deployment","uuid":"7795109d-944c-4a74-960c-c500272617f9"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"f4695758_runbook","uuid":"0c2528e9-82d6-40bc-9b4d-721eabd37ead"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd"}],"description":"","message_list":[],"uuid":"8431b063-418f-464f-9b1e-68cf8229b48c","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_7795109d_944c_4a74_960c_c500272617f9","uuid":"66f0ae28-303e-42ad-bc89-881286271403"},"name":"SYS_GEN__Runbook_Deployment_7795109d_944c_4a74_960c_c500272617f9"}},{"description":"System action for starting an application","message_list":[],"uuid":"95f0984a-7c9f-41a9-b1da-49c86800655b","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"d7afb99d_deployment","uuid":"7795109d-944c-4a74-960c-c500272617f9"},"retries":"0","description":"","type":"DAG","uuid":"424fd757-8b88-42de-b38e-3b03416a80ec","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_81d5239a_1d40_44b1_8dcc_01c5276fea58","uuid":"f84538da-2b39-4485-8b18-9f6b7ce80903"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"e728d5d7-0628-464d-ab51-3782236e7240"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_81d5239a_1d40_44b1_8dcc_01c5276fea58","uuid":"f84538da-2b39-4485-8b18-9f6b7ce80903"},"edge_type":"inherent","type":"","uuid":"34845b93-88ea-4132-89b8-3f64a47e27dc","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"e728d5d7-0628-464d-ab51-3782236e7240"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_7795109d_944c_4a74_960c_c500272617f9"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureConfigSet","uuid":"81d5239a-1d40-44b1-8dcc-01c5276fea58"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"f84538da-2b39-4485-8b18-9f6b7ce80903","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"d7afb99d_deployment","uuid":"7795109d-944c-4a74-960c-c500272617f9"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_81d5239a_1d40_44b1_8dcc_01c5276fea58","uuid":"f4abd1f6-cc19-40ae-9c83-160b236144a3"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Substrate_81d5239a_1d40_44b1_8dcc_01c5276fea58"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"e728d5d7-0628-464d-ab51-3782236e7240","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"d7afb99d_deployment","uuid":"7795109d-944c-4a74-960c-c500272617f9"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"f4695758_runbook","uuid":"0c2528e9-82d6-40bc-9b4d-721eabd37ead"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd"}],"description":"","message_list":[],"uuid":"6298f2d5-b6e3-446d-9f8f-5b91373e663f","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_7795109d_944c_4a74_960c_c500272617f9","uuid":"424fd757-8b88-42de-b38e-3b03416a80ec"},"name":"SYS_GEN__Runbook_Deployment_7795109d_944c_4a74_960c_c500272617f9"}},{"description":"System action for restarting an application","message_list":[],"uuid":"93cdfe96-4202-4caa-94f1-5bd0c63d79a0","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"d7afb99d_deployment","uuid":"7795109d-944c-4a74-960c-c500272617f9"},"retries":"0","description":"","type":"DAG","uuid":"c6b4c293-68c9-4838-93ec-58762c3cba55","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_81d5239a_1d40_44b1_8dcc_01c5276fea58","uuid":"fa133d9d-9678-4353-942e-c1b6584d0b90"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"5e89498a-64a9-4953-b01d-0d0676b690d4"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_81d5239a_1d40_44b1_8dcc_01c5276fea58","uuid":"fa133d9d-9678-4353-942e-c1b6584d0b90"},"edge_type":"inherent","type":"","uuid":"814ec926-08df-497a-9fda-78bba834c227","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"5e89498a-64a9-4953-b01d-0d0676b690d4"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_7795109d_944c_4a74_960c_c500272617f9"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureConfigSet","uuid":"81d5239a-1d40-44b1-8dcc-01c5276fea58"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"fa133d9d-9678-4353-942e-c1b6584d0b90","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"d7afb99d_deployment","uuid":"7795109d-944c-4a74-960c-c500272617f9"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_81d5239a_1d40_44b1_8dcc_01c5276fea58","uuid":"61b0165d-344c-4ae2-bed8-e5b488be5b02"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Substrate_81d5239a_1d40_44b1_8dcc_01c5276fea58"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"5e89498a-64a9-4953-b01d-0d0676b690d4","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"d7afb99d_deployment","uuid":"7795109d-944c-4a74-960c-c500272617f9"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"b7169291_runbook","uuid":"7c36f5f8-9e8b-4f97-b855-438dc7eb8f3d"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd"}],"description":"","message_list":[],"uuid":"2fc8def5-43b6-47d1-93ee-082fe1c8845a","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_7795109d_944c_4a74_960c_c500272617f9","uuid":"c6b4c293-68c9-4838-93ec-58762c3cba55"},"name":"SYS_GEN__Runbook_Deployment_7795109d_944c_4a74_960c_c500272617f9"}},{"description":"System action for stopping an application","message_list":[],"uuid":"c7091222-ed75-4023-9bfd-ec1cb1386c09","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"d7afb99d_deployment","uuid":"7795109d-944c-4a74-960c-c500272617f9"},"retries":"0","description":"","type":"DAG","uuid":"6ca6713c-a82a-429c-9867-f4f9bc2eea48","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"3c0d76bf-4cae-4fc8-b000-47a75dacbb68"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_81d5239a_1d40_44b1_8dcc_01c5276fea58","uuid":"b92d8530-7205-426e-8a45-4a59b688bce0"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"3c0d76bf-4cae-4fc8-b000-47a75dacbb68"},"edge_type":"inherent","type":"","uuid":"4cadd164-8952-4826-a702-e734c2288691","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_81d5239a_1d40_44b1_8dcc_01c5276fea58","uuid":"b92d8530-7205-426e-8a45-4a59b688bce0"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_7795109d_944c_4a74_960c_c500272617f9"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"3c0d76bf-4cae-4fc8-b000-47a75dacbb68","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"d7afb99d_deployment","uuid":"7795109d-944c-4a74-960c-c500272617f9"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"a33b20bd_runbook","uuid":"e6335ceb-f00b-4ec5-8425-3864e1897a7d"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureConfigSet","uuid":"81d5239a-1d40-44b1-8dcc-01c5276fea58"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"b92d8530-7205-426e-8a45-4a59b688bce0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"d7afb99d_deployment","uuid":"7795109d-944c-4a74-960c-c500272617f9"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_81d5239a_1d40_44b1_8dcc_01c5276fea58","uuid":"2fd9f024-8d34-4d8d-9c21-feabc25f3c7d"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Substrate_81d5239a_1d40_44b1_8dcc_01c5276fea58"}],"description":"","message_list":[],"uuid":"a842a24a-0faa-434a-aea9-823cb7dca181","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_7795109d_944c_4a74_960c_c500272617f9","uuid":"6ca6713c-a82a-429c-9867-f4f9bc2eea48"},"name":"SYS_GEN__Runbook_Deployment_7795109d_944c_4a74_960c_c500272617f9"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"c5a0ca01-41ed-488e-aa79-1533293c1151","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"d7afb99d_deployment","uuid":"7795109d-944c-4a74-960c-c500272617f9"},"retries":"0","description":"","type":"DAG","uuid":"74f8ed29-5689-47b0-9912-cb3a449db1c2","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"7073d224-7255-4b77-ab97-ea428fddbcc0"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"68d058b0-3097-4314-b5a0-d015d34a90c6"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_32aa87ce_6553_4fe1_b266_943390cceace","uuid":"a547931c-ac28-4642-8df0-1dc60b22a147"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_81d5239a_1d40_44b1_8dcc_01c5276fea58","uuid":"8d568f64-4bd6-432f-b327-ce6daa65fad9"},{"kind":"app_task","name":"SYS_GEN__DE_Delete_7795109d_944c_4a74_960c_c500272617f9","uuid":"73919bb3-ac5b-42e0-bace-3ff07ac95aa4"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"7073d224-7255-4b77-ab97-ea428fddbcc0"},"edge_type":"inherent","type":"","uuid":"4f3f9e93-277a-4503-b00e-1c315c890d4f","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"68d058b0-3097-4314-b5a0-d015d34a90c6"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"68d058b0-3097-4314-b5a0-d015d34a90c6"},"edge_type":"inherent","type":"","uuid":"593561b6-205a-4e66-8002-f275001348b0","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_32aa87ce_6553_4fe1_b266_943390cceace","uuid":"a547931c-ac28-4642-8df0-1dc60b22a147"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_32aa87ce_6553_4fe1_b266_943390cceace","uuid":"a547931c-ac28-4642-8df0-1dc60b22a147"},"edge_type":"inherent","type":"","uuid":"4f271bc4-2595-4633-8e9e-d2af4c5aca0a","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_81d5239a_1d40_44b1_8dcc_01c5276fea58","uuid":"8d568f64-4bd6-432f-b327-ce6daa65fad9"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_81d5239a_1d40_44b1_8dcc_01c5276fea58","uuid":"8d568f64-4bd6-432f-b327-ce6daa65fad9"},"edge_type":"inherent","type":"","uuid":"9d6f2ab3-3e3a-4341-a376-5376926b8855","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Delete_7795109d_944c_4a74_960c_c500272617f9","uuid":"73919bb3-ac5b-42e0-bace-3ff07ac95aa4"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_7795109d_944c_4a74_960c_c500272617f9"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"7073d224-7255-4b77-ab97-ea428fddbcc0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"d7afb99d_deployment","uuid":"7795109d-944c-4a74-960c-c500272617f9"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"a33b20bd_runbook","uuid":"e6335ceb-f00b-4ec5-8425-3864e1897a7d"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"68d058b0-3097-4314-b5a0-d015d34a90c6","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"d7afb99d_deployment","uuid":"7795109d-944c-4a74-960c-c500272617f9"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"3c3538b9_runbook","uuid":"8625e87a-c851-44ac-9a8c-6808a1ac5574"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd"},{"target_any_local_reference":{"kind":"app_package","name":"AzureConfigSetPackage","uuid":"32aa87ce-6553-4fe1-b266-943390cceace"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"a547931c-ac28-4642-8df0-1dc60b22a147","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"d7afb99d_deployment","uuid":"7795109d-944c-4a74-960c-c500272617f9"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_32aa87ce_6553_4fe1_b266_943390cceace","uuid":"c01666a1-94ba-465c-8ae3-e85732d69a18"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_32aa87ce_6553_4fe1_b266_943390cceace"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureConfigSet","uuid":"81d5239a-1d40-44b1-8dcc-01c5276fea58"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"8d568f64-4bd6-432f-b327-ce6daa65fad9","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"d7afb99d_deployment","uuid":"7795109d-944c-4a74-960c-c500272617f9"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_81d5239a_1d40_44b1_8dcc_01c5276fea58","uuid":"1cc6f1ac-0a3a-4526-bc28-3d8f508be02e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Substrate_81d5239a_1d40_44b1_8dcc_01c5276fea58"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"d7afb99d_deployment","uuid":"7795109d-944c-4a74-960c-c500272617f9"},"retries":"0","description":"","type":"DELETE_DEPLOYMENT_ELEMENT","uuid":"73919bb3-ac5b-42e0-bace-3ff07ac95aa4","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Delete_7795109d_944c_4a74_960c_c500272617f9"}],"description":"","message_list":[],"uuid":"c6bb58fe-ff34-42a6-8360-2bcb5e1e6144","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_7795109d_944c_4a74_960c_c500272617f9","uuid":"74f8ed29-5689-47b0-9912-cb3a449db1c2"},"name":"SYS_GEN__Runbook_Deployment_7795109d_944c_4a74_960c_c500272617f9"}},{"description":"System action for scaleout","message_list":[],"uuid":"bef03d22-af22-48f9-85a1-c5c6f005856a","name":"action_scaleout","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"d7afb99d_deployment","uuid":"7795109d-944c-4a74-960c-c500272617f9"},"retries":"0","description":"","type":"DAG","uuid":"b7106238-5adf-4df1-997a-4b3dbeb514b3","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Deployment_Scaleout_7795109d_944c_4a74_960c_c500272617f9","uuid":"01ebd3e1-72e0-42af-b519-f3ee8a2af882"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_7795109d_944c_4a74_960c_c500272617f9"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"d7afb99d_deployment","uuid":"7795109d-944c-4a74-960c-c500272617f9"},"retries":"0","description":"","type":"SCALING","uuid":"01ebd3e1-72e0-42af-b519-f3ee8a2af882","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{scaling_count}@@","type":"","scaling_type":"SCALEOUT"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Deployment_Scaleout_7795109d_944c_4a74_960c_c500272617f9"}],"description":"","message_list":[],"uuid":"5bc9ffa7-54dd-4fa2-82e5-cdc2a49c2d92","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"bb69eb54-e2f6-4a10-8d4b-ac65707fbe5f","value":"0","label":"","state":"NOT_VALIDATED","attrs":{},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"scaling_count"}],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_7795109d_944c_4a74_960c_c500272617f9","uuid":"b7106238-5adf-4df1-997a-4b3dbeb514b3"},"name":"SYS_GEN__Runbook_Deployment_7795109d_944c_4a74_960c_c500272617f9"}},{"description":"System action for scalein","message_list":[],"uuid":"f6c9d772-ab44-4fce-8e85-aea90503cd24","name":"action_scalein","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"d7afb99d_deployment","uuid":"7795109d-944c-4a74-960c-c500272617f9"},"retries":"0","description":"","type":"DAG","uuid":"b21ec6d6-7802-47a4-bd53-c40ef95257c9","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Deployment_Scalein_7795109d_944c_4a74_960c_c500272617f9","uuid":"5852e81d-fd6b-4c66-8146-32cd95a7c6ae"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_7795109d_944c_4a74_960c_c500272617f9"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"d7afb99d_deployment","uuid":"7795109d-944c-4a74-960c-c500272617f9"},"retries":"0","description":"","type":"SCALING","uuid":"5852e81d-fd6b-4c66-8146-32cd95a7c6ae","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{scaling_count}@@","type":"","scaling_type":"SCALEIN"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Deployment_Scalein_7795109d_944c_4a74_960c_c500272617f9"}],"description":"","message_list":[],"uuid":"e83b2351-bca8-47fb-ba9f-c1cace76693c","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"5615c98e-14bf-45ae-9481-d046a2cfa5f5","value":"0","label":"","state":"NOT_VALIDATED","attrs":{},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"scaling_count"}],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_7795109d_944c_4a74_960c_c500272617f9","uuid":"b21ec6d6-7802-47a4-bd53-c40ef95257c9"},"name":"SYS_GEN__Runbook_Deployment_7795109d_944c_4a74_960c_c500272617f9"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"3e084742-11c7-4b90-a09f-3ec8eab21944","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"d7afb99d_deployment","uuid":"7795109d-944c-4a74-960c-c500272617f9"},"retries":"0","description":"","type":"DAG","uuid":"27899a2f-36a5-4891-af77-620309a7291f","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"3343297f-4fba-4c1e-8c25-b944b14700e1"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_32aa87ce_6553_4fe1_b266_943390cceace","uuid":"c99f5203-ad3a-4276-98d3-734538e38728"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_81d5239a_1d40_44b1_8dcc_01c5276fea58","uuid":"21ea1371-d8ec-4757-9b03-ba9619aa1e90"},{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_7795109d_944c_4a74_960c_c500272617f9","uuid":"8e810ebe-08cf-42e0-a079-01d4ac75a9ab"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"3343297f-4fba-4c1e-8c25-b944b14700e1"},"edge_type":"inherent","type":"","uuid":"c6d84566-9996-447a-9da2-7beee418e808","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_32aa87ce_6553_4fe1_b266_943390cceace","uuid":"c99f5203-ad3a-4276-98d3-734538e38728"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_81d5239a_1d40_44b1_8dcc_01c5276fea58","uuid":"21ea1371-d8ec-4757-9b03-ba9619aa1e90"},"edge_type":"inherent","type":"","uuid":"558a2d94-bcec-440b-897b-06735aa451ac","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_7795109d_944c_4a74_960c_c500272617f9","uuid":"8e810ebe-08cf-42e0-a079-01d4ac75a9ab"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_32aa87ce_6553_4fe1_b266_943390cceace","uuid":"c99f5203-ad3a-4276-98d3-734538e38728"},"edge_type":"inherent","type":"","uuid":"980b1ddc-e1cf-4f86-aad3-adfb09d4f70e","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_81d5239a_1d40_44b1_8dcc_01c5276fea58","uuid":"21ea1371-d8ec-4757-9b03-ba9619aa1e90"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_7795109d_944c_4a74_960c_c500272617f9"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"3343297f-4fba-4c1e-8c25-b944b14700e1","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"d7afb99d_deployment","uuid":"7795109d-944c-4a74-960c-c500272617f9"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"71c44ff6-8283-4578-8e15-dbf648d09ee4"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd"},{"target_any_local_reference":{"kind":"app_package","name":"AzureConfigSetPackage","uuid":"32aa87ce-6553-4fe1-b266-943390cceace"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"c99f5203-ad3a-4276-98d3-734538e38728","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_32aa87ce_6553_4fe1_b266_943390cceace"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureConfigSet","uuid":"81d5239a-1d40-44b1-8dcc-01c5276fea58"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"21ea1371-d8ec-4757-9b03-ba9619aa1e90","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"d7afb99d_deployment","uuid":"7795109d-944c-4a74-960c-c500272617f9"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_81d5239a_1d40_44b1_8dcc_01c5276fea58","uuid":"4573785a-2596-4310-bdec-3c768f06b939"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Substrate_81d5239a_1d40_44b1_8dcc_01c5276fea58"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"d7afb99d_deployment","uuid":"7795109d-944c-4a74-960c-c500272617f9"},"retries":"0","description":"","type":"SOFT_DELETE_DEPLOYMENT_ELEMENT","uuid":"8e810ebe-08cf-42e0-a079-01d4ac75a9ab","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Soft_Delete_7795109d_944c_4a74_960c_c500272617f9"}],"description":"","message_list":[],"uuid":"db466007-158a-4f73-af63-5db4458170a8","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_7795109d_944c_4a74_960c_c500272617f9","uuid":"27899a2f-36a5-4891-af77-620309a7291f"},"name":"SYS_GEN__Runbook_Deployment_7795109d_944c_4a74_960c_c500272617f9"}}],"message_list":[],"published_service_local_reference_list":[],"uuid":"7795109d-944c-4a74-960c-c500272617f9","min_replicas":"3","state":"ACTIVE","max_replicas":"3","depends_on_list":[],"editables":{"min_replicas":true,"max_replicas":true},"package_local_reference_list":[{"kind":"app_package","name":"AzureConfigSetPackage","uuid":"32aa87ce-6553-4fe1-b266-943390cceace"}],"substrate_local_reference":{"kind":"app_substrate","name":"AzureConfigSet","uuid":"81d5239a-1d40-44b1-8dcc-01c5276fea58"},"type":"GREENFIELD","options":{},"variable_list":[],"name":"d7afb99d_deployment"},{"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"972b3ff8-3ada-4928-8777-b9da3f56689a","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"5ec7b531_deployment","uuid":"6700823d-13ca-4cb0-a901-264423409804"},"retries":"0","description":"","type":"DAG","uuid":"38125bd5-83cc-4d7a-a253-d5486eaddda4","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__DE_Provision_6700823d_13ca_4cb0_a901_264423409804","uuid":"97900e97-8120-4d5d-b520-8e792305e09a"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_a8c1760d_72af_4889_9407_0f1199c89e5d","uuid":"25a0f015-9e0f-4d33-96a0-ceee0876ff77"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_05329dce_ac77_4859_8af3_ce1d08c85f89","uuid":"e56da4be-a599-4991-8bdb-3e705be76390"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"1ab3fe78-a810-4fd6-b237-394fb1dbf362"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"0693a5ac-7a63-4b22-96df-84379599658b"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"1ab3fe78-a810-4fd6-b237-394fb1dbf362"},"edge_type":"inherent","type":"","uuid":"aef5d521-92ac-42a1-a670-477f0684abdb","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"0693a5ac-7a63-4b22-96df-84379599658b"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_05329dce_ac77_4859_8af3_ce1d08c85f89","uuid":"e56da4be-a599-4991-8bdb-3e705be76390"},"edge_type":"inherent","type":"","uuid":"e03069c0-5b79-4d12-bc91-d7e4fca24c7d","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"1ab3fe78-a810-4fd6-b237-394fb1dbf362"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_6700823d_13ca_4cb0_a901_264423409804","uuid":"97900e97-8120-4d5d-b520-8e792305e09a"},"edge_type":"inherent","type":"","uuid":"2f958667-6c3f-41fa-a4de-4b15df3979e4","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_a8c1760d_72af_4889_9407_0f1199c89e5d","uuid":"25a0f015-9e0f-4d33-96a0-ceee0876ff77"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_a8c1760d_72af_4889_9407_0f1199c89e5d","uuid":"25a0f015-9e0f-4d33-96a0-ceee0876ff77"},"edge_type":"inherent","type":"","uuid":"4606010e-cc1b-4b83-a9b7-1e841bf50693","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_05329dce_ac77_4859_8af3_ce1d08c85f89","uuid":"e56da4be-a599-4991-8bdb-3e705be76390"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_6700823d_13ca_4cb0_a901_264423409804"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"5ec7b531_deployment","uuid":"6700823d-13ca-4cb0-a901-264423409804"},"retries":"0","description":"","type":"CREATE_DEPLOYMENT_ELEMENT","uuid":"97900e97-8120-4d5d-b520-8e792305e09a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Provision_6700823d_13ca_4cb0_a901_264423409804"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureDataSet","uuid":"a8c1760d-72af-4889-9407-0f1199c89e5d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"25a0f015-9e0f-4d33-96a0-ceee0876ff77","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"5ec7b531_deployment","uuid":"6700823d-13ca-4cb0-a901-264423409804"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_a8c1760d_72af_4889_9407_0f1199c89e5d","uuid":"1dc0f625-84b2-4973-8003-c9a6d473c3d5"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Substrate_a8c1760d_72af_4889_9407_0f1199c89e5d"},{"target_any_local_reference":{"kind":"app_package","name":"AzureDataSetPackage","uuid":"05329dce-ac77-4859-8af3-ce1d08c85f89"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"e56da4be-a599-4991-8bdb-3e705be76390","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"5ec7b531_deployment","uuid":"6700823d-13ca-4cb0-a901-264423409804"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_05329dce_ac77_4859_8af3_ce1d08c85f89","uuid":"9c0f76f8-1788-41b1-b47d-67925d7febcc"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_05329dce_ac77_4859_8af3_ce1d08c85f89"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"1ab3fe78-a810-4fd6-b237-394fb1dbf362","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"5ec7b531_deployment","uuid":"6700823d-13ca-4cb0-a901-264423409804"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0bda2b69_runbook","uuid":"c08988e8-53fc-48b3-942d-00d118016989"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"0693a5ac-7a63-4b22-96df-84379599658b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"5ec7b531_deployment","uuid":"6700823d-13ca-4cb0-a901-264423409804"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0f1333dd_runbook","uuid":"43f16a26-e0b7-42a9-b2de-6e6d4147d381"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47"}],"description":"","message_list":[],"uuid":"8fbd5340-2ec6-43d4-aca7-9ccb3407cd7d","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_6700823d_13ca_4cb0_a901_264423409804","uuid":"38125bd5-83cc-4d7a-a253-d5486eaddda4"},"name":"SYS_GEN__Runbook_Deployment_6700823d_13ca_4cb0_a901_264423409804"}},{"description":"System action for starting an application","message_list":[],"uuid":"33994fa9-4ae0-4779-bbf3-e0b6e791cb3e","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"5ec7b531_deployment","uuid":"6700823d-13ca-4cb0-a901-264423409804"},"retries":"0","description":"","type":"DAG","uuid":"2b1a6395-d84f-4989-82d5-17d6979497be","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_a8c1760d_72af_4889_9407_0f1199c89e5d","uuid":"4f377fe6-5532-4845-8b0a-52f0ba8b742c"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"f601e383-4bfd-481e-a171-469b6c56e8d4"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_a8c1760d_72af_4889_9407_0f1199c89e5d","uuid":"4f377fe6-5532-4845-8b0a-52f0ba8b742c"},"edge_type":"inherent","type":"","uuid":"43e40ded-78a1-4608-b657-584f967d6e94","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"f601e383-4bfd-481e-a171-469b6c56e8d4"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_6700823d_13ca_4cb0_a901_264423409804"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureDataSet","uuid":"a8c1760d-72af-4889-9407-0f1199c89e5d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"4f377fe6-5532-4845-8b0a-52f0ba8b742c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"5ec7b531_deployment","uuid":"6700823d-13ca-4cb0-a901-264423409804"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_a8c1760d_72af_4889_9407_0f1199c89e5d","uuid":"60dd23c7-a1d8-40d7-acd3-f7fcafecfb10"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Substrate_a8c1760d_72af_4889_9407_0f1199c89e5d"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"f601e383-4bfd-481e-a171-469b6c56e8d4","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"5ec7b531_deployment","uuid":"6700823d-13ca-4cb0-a901-264423409804"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0f1333dd_runbook","uuid":"43f16a26-e0b7-42a9-b2de-6e6d4147d381"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47"}],"description":"","message_list":[],"uuid":"d4642715-f093-44d0-9574-34f09642f895","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_6700823d_13ca_4cb0_a901_264423409804","uuid":"2b1a6395-d84f-4989-82d5-17d6979497be"},"name":"SYS_GEN__Runbook_Deployment_6700823d_13ca_4cb0_a901_264423409804"}},{"description":"System action for restarting an application","message_list":[],"uuid":"f5db012a-7bfa-44d8-9c32-f50f585d4b11","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"5ec7b531_deployment","uuid":"6700823d-13ca-4cb0-a901-264423409804"},"retries":"0","description":"","type":"DAG","uuid":"5c506dce-913e-4b32-ba8b-49b3924d2c7f","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_a8c1760d_72af_4889_9407_0f1199c89e5d","uuid":"17854015-a9ff-4ff9-ac2b-7479e3f8abcf"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"c73949f1-efc6-4485-b9d1-6bded882b5de"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_a8c1760d_72af_4889_9407_0f1199c89e5d","uuid":"17854015-a9ff-4ff9-ac2b-7479e3f8abcf"},"edge_type":"inherent","type":"","uuid":"613bf59d-89f6-442c-b0f0-f32f40395d7d","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"c73949f1-efc6-4485-b9d1-6bded882b5de"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_6700823d_13ca_4cb0_a901_264423409804"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureDataSet","uuid":"a8c1760d-72af-4889-9407-0f1199c89e5d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"17854015-a9ff-4ff9-ac2b-7479e3f8abcf","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"5ec7b531_deployment","uuid":"6700823d-13ca-4cb0-a901-264423409804"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_a8c1760d_72af_4889_9407_0f1199c89e5d","uuid":"6f3aa448-2a84-4625-bd84-23d6844ba2a4"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Substrate_a8c1760d_72af_4889_9407_0f1199c89e5d"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"c73949f1-efc6-4485-b9d1-6bded882b5de","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"5ec7b531_deployment","uuid":"6700823d-13ca-4cb0-a901-264423409804"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"4f7b2559_runbook","uuid":"03856e37-e1bf-4b7c-95bb-87bf81c6c940"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47"}],"description":"","message_list":[],"uuid":"829213d4-26c1-4181-aa1d-7ba6623727ad","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_6700823d_13ca_4cb0_a901_264423409804","uuid":"5c506dce-913e-4b32-ba8b-49b3924d2c7f"},"name":"SYS_GEN__Runbook_Deployment_6700823d_13ca_4cb0_a901_264423409804"}},{"description":"System action for stopping an application","message_list":[],"uuid":"988f2d69-cd21-4073-877e-7aa84e233471","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"5ec7b531_deployment","uuid":"6700823d-13ca-4cb0-a901-264423409804"},"retries":"0","description":"","type":"DAG","uuid":"5543f5e0-4c76-43dc-b7f6-d54cf22f76f5","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"8fb82123-2563-4a19-87fb-0bfed3a09fd6"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_a8c1760d_72af_4889_9407_0f1199c89e5d","uuid":"15d8c81f-8a58-4e50-a5ff-5a54598df6d2"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"8fb82123-2563-4a19-87fb-0bfed3a09fd6"},"edge_type":"inherent","type":"","uuid":"31c528a7-d3d1-417b-86ae-70ae63db12e0","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_a8c1760d_72af_4889_9407_0f1199c89e5d","uuid":"15d8c81f-8a58-4e50-a5ff-5a54598df6d2"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_6700823d_13ca_4cb0_a901_264423409804"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"8fb82123-2563-4a19-87fb-0bfed3a09fd6","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"5ec7b531_deployment","uuid":"6700823d-13ca-4cb0-a901-264423409804"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"85883b0a_runbook","uuid":"42cf4c9d-d9e5-435e-b222-f2d33a05683f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureDataSet","uuid":"a8c1760d-72af-4889-9407-0f1199c89e5d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"15d8c81f-8a58-4e50-a5ff-5a54598df6d2","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"5ec7b531_deployment","uuid":"6700823d-13ca-4cb0-a901-264423409804"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_a8c1760d_72af_4889_9407_0f1199c89e5d","uuid":"a5103213-31ff-4b9c-b683-9cd478413869"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Substrate_a8c1760d_72af_4889_9407_0f1199c89e5d"}],"description":"","message_list":[],"uuid":"3c6ceb95-13d0-4312-aa59-0b06a46f050c","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_6700823d_13ca_4cb0_a901_264423409804","uuid":"5543f5e0-4c76-43dc-b7f6-d54cf22f76f5"},"name":"SYS_GEN__Runbook_Deployment_6700823d_13ca_4cb0_a901_264423409804"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"65fe0913-3633-444a-a097-74bcdffe43e7","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"5ec7b531_deployment","uuid":"6700823d-13ca-4cb0-a901-264423409804"},"retries":"0","description":"","type":"DAG","uuid":"7ec48e95-c5a5-41e6-aab8-5103ba6c5f76","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"ea20d0f2-16c1-413b-b7d1-fb021dea54cd"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"f82462be-dbac-4c4a-b919-5a7d5f7a7217"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_05329dce_ac77_4859_8af3_ce1d08c85f89","uuid":"ed178f99-20f5-4827-9c8c-324cb1fae4ef"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_a8c1760d_72af_4889_9407_0f1199c89e5d","uuid":"992c56e9-9063-4b53-8254-882b0e7d1e84"},{"kind":"app_task","name":"SYS_GEN__DE_Delete_6700823d_13ca_4cb0_a901_264423409804","uuid":"0295e8c9-bbb7-4545-abc2-ce9784571dd7"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"ea20d0f2-16c1-413b-b7d1-fb021dea54cd"},"edge_type":"inherent","type":"","uuid":"72bbbf46-1827-4ea5-bf52-254b82d69bec","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"f82462be-dbac-4c4a-b919-5a7d5f7a7217"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"f82462be-dbac-4c4a-b919-5a7d5f7a7217"},"edge_type":"inherent","type":"","uuid":"0e79e43e-7578-49b2-9b09-427d8f7ddc47","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_05329dce_ac77_4859_8af3_ce1d08c85f89","uuid":"ed178f99-20f5-4827-9c8c-324cb1fae4ef"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_05329dce_ac77_4859_8af3_ce1d08c85f89","uuid":"ed178f99-20f5-4827-9c8c-324cb1fae4ef"},"edge_type":"inherent","type":"","uuid":"cef23f6f-9f82-4857-9362-9de5885d28a3","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_a8c1760d_72af_4889_9407_0f1199c89e5d","uuid":"992c56e9-9063-4b53-8254-882b0e7d1e84"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_a8c1760d_72af_4889_9407_0f1199c89e5d","uuid":"992c56e9-9063-4b53-8254-882b0e7d1e84"},"edge_type":"inherent","type":"","uuid":"601fe26c-f795-4d1c-be0c-b2ab223a2e55","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Delete_6700823d_13ca_4cb0_a901_264423409804","uuid":"0295e8c9-bbb7-4545-abc2-ce9784571dd7"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_6700823d_13ca_4cb0_a901_264423409804"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"ea20d0f2-16c1-413b-b7d1-fb021dea54cd","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"5ec7b531_deployment","uuid":"6700823d-13ca-4cb0-a901-264423409804"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"85883b0a_runbook","uuid":"42cf4c9d-d9e5-435e-b222-f2d33a05683f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"f82462be-dbac-4c4a-b919-5a7d5f7a7217","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"5ec7b531_deployment","uuid":"6700823d-13ca-4cb0-a901-264423409804"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"036f3879_runbook","uuid":"c6545ccb-d141-45bd-bf59-cf1e44946785"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47"},{"target_any_local_reference":{"kind":"app_package","name":"AzureDataSetPackage","uuid":"05329dce-ac77-4859-8af3-ce1d08c85f89"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"ed178f99-20f5-4827-9c8c-324cb1fae4ef","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"5ec7b531_deployment","uuid":"6700823d-13ca-4cb0-a901-264423409804"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_05329dce_ac77_4859_8af3_ce1d08c85f89","uuid":"3f6ffb82-4f34-482a-8a93-7a7704f0c8e8"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_05329dce_ac77_4859_8af3_ce1d08c85f89"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureDataSet","uuid":"a8c1760d-72af-4889-9407-0f1199c89e5d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"992c56e9-9063-4b53-8254-882b0e7d1e84","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"5ec7b531_deployment","uuid":"6700823d-13ca-4cb0-a901-264423409804"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_a8c1760d_72af_4889_9407_0f1199c89e5d","uuid":"de726781-cb9b-4b3e-a6f9-1ad5a5916ba3"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Substrate_a8c1760d_72af_4889_9407_0f1199c89e5d"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"5ec7b531_deployment","uuid":"6700823d-13ca-4cb0-a901-264423409804"},"retries":"0","description":"","type":"DELETE_DEPLOYMENT_ELEMENT","uuid":"0295e8c9-bbb7-4545-abc2-ce9784571dd7","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Delete_6700823d_13ca_4cb0_a901_264423409804"}],"description":"","message_list":[],"uuid":"ba5eb8d7-fc84-4f8d-85f2-2183ef924af9","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_6700823d_13ca_4cb0_a901_264423409804","uuid":"7ec48e95-c5a5-41e6-aab8-5103ba6c5f76"},"name":"SYS_GEN__Runbook_Deployment_6700823d_13ca_4cb0_a901_264423409804"}},{"description":"System action for scaleout","message_list":[],"uuid":"0ec902e9-7274-41b3-8e14-aa45ede3963c","name":"action_scaleout","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"5ec7b531_deployment","uuid":"6700823d-13ca-4cb0-a901-264423409804"},"retries":"0","description":"","type":"DAG","uuid":"98c72282-6480-42a2-80c7-8c7c477387ca","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Deployment_Scaleout_6700823d_13ca_4cb0_a901_264423409804","uuid":"8a629704-39d6-49f0-8980-a4ae3fcf3d48"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_6700823d_13ca_4cb0_a901_264423409804"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"5ec7b531_deployment","uuid":"6700823d-13ca-4cb0-a901-264423409804"},"retries":"0","description":"","type":"SCALING","uuid":"8a629704-39d6-49f0-8980-a4ae3fcf3d48","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{scaling_count}@@","type":"","scaling_type":"SCALEOUT"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Deployment_Scaleout_6700823d_13ca_4cb0_a901_264423409804"}],"description":"","message_list":[],"uuid":"426f1ded-cbc9-49e8-a823-350eb01a46c7","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"aa6b67b1-394c-4424-b4fe-b3fd7f5aa22f","value":"0","label":"","state":"NOT_VALIDATED","attrs":{},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"scaling_count"}],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_6700823d_13ca_4cb0_a901_264423409804","uuid":"98c72282-6480-42a2-80c7-8c7c477387ca"},"name":"SYS_GEN__Runbook_Deployment_6700823d_13ca_4cb0_a901_264423409804"}},{"description":"System action for scalein","message_list":[],"uuid":"28fba270-9a52-455a-bec6-990eec70d97b","name":"action_scalein","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"5ec7b531_deployment","uuid":"6700823d-13ca-4cb0-a901-264423409804"},"retries":"0","description":"","type":"DAG","uuid":"ce1d79c5-1e4d-4137-9437-e91d266a6ec9","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Deployment_Scalein_6700823d_13ca_4cb0_a901_264423409804","uuid":"8499caf6-9c44-4b09-bab4-a58a59d10bde"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_6700823d_13ca_4cb0_a901_264423409804"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"5ec7b531_deployment","uuid":"6700823d-13ca-4cb0-a901-264423409804"},"retries":"0","description":"","type":"SCALING","uuid":"8499caf6-9c44-4b09-bab4-a58a59d10bde","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{scaling_count}@@","type":"","scaling_type":"SCALEIN"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Deployment_Scalein_6700823d_13ca_4cb0_a901_264423409804"}],"description":"","message_list":[],"uuid":"a9a6f3ad-a3ca-41d5-bc7a-9347aee2fa91","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"e4ad3696-164e-42bf-ac96-3d82bf0b2b6a","value":"0","label":"","state":"NOT_VALIDATED","attrs":{},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"scaling_count"}],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_6700823d_13ca_4cb0_a901_264423409804","uuid":"ce1d79c5-1e4d-4137-9437-e91d266a6ec9"},"name":"SYS_GEN__Runbook_Deployment_6700823d_13ca_4cb0_a901_264423409804"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"c61f5d24-3c2e-4fe5-aebe-bf483a3985d0","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"5ec7b531_deployment","uuid":"6700823d-13ca-4cb0-a901-264423409804"},"retries":"0","description":"","type":"DAG","uuid":"0905f591-19f9-4891-a7fb-fa3b84ddfeb3","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"829aeae5-0e95-4fbd-b40f-a1a5ded1357a"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_05329dce_ac77_4859_8af3_ce1d08c85f89","uuid":"eb73004c-6bb4-44f7-9c67-4e08e7b142af"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_a8c1760d_72af_4889_9407_0f1199c89e5d","uuid":"40439482-6d05-4776-b589-2517d6322493"},{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_6700823d_13ca_4cb0_a901_264423409804","uuid":"aaf0ee8e-ab03-4dfa-85fb-c22cd9df226d"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"829aeae5-0e95-4fbd-b40f-a1a5ded1357a"},"edge_type":"inherent","type":"","uuid":"79947f1e-05f1-44e7-be21-6166311628ff","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_05329dce_ac77_4859_8af3_ce1d08c85f89","uuid":"eb73004c-6bb4-44f7-9c67-4e08e7b142af"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_a8c1760d_72af_4889_9407_0f1199c89e5d","uuid":"40439482-6d05-4776-b589-2517d6322493"},"edge_type":"inherent","type":"","uuid":"4b306e58-ffcb-4393-929f-8f1d550f5f53","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_6700823d_13ca_4cb0_a901_264423409804","uuid":"aaf0ee8e-ab03-4dfa-85fb-c22cd9df226d"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_05329dce_ac77_4859_8af3_ce1d08c85f89","uuid":"eb73004c-6bb4-44f7-9c67-4e08e7b142af"},"edge_type":"inherent","type":"","uuid":"573ff82c-283f-47c3-bcab-00bfa2c84aba","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_a8c1760d_72af_4889_9407_0f1199c89e5d","uuid":"40439482-6d05-4776-b589-2517d6322493"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_6700823d_13ca_4cb0_a901_264423409804"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"829aeae5-0e95-4fbd-b40f-a1a5ded1357a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"5ec7b531_deployment","uuid":"6700823d-13ca-4cb0-a901-264423409804"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"433fbe65-0fc7-4649-a088-87d5660f88a6"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47"},{"target_any_local_reference":{"kind":"app_package","name":"AzureDataSetPackage","uuid":"05329dce-ac77-4859-8af3-ce1d08c85f89"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"eb73004c-6bb4-44f7-9c67-4e08e7b142af","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_05329dce_ac77_4859_8af3_ce1d08c85f89"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureDataSet","uuid":"a8c1760d-72af-4889-9407-0f1199c89e5d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"40439482-6d05-4776-b589-2517d6322493","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"5ec7b531_deployment","uuid":"6700823d-13ca-4cb0-a901-264423409804"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_a8c1760d_72af_4889_9407_0f1199c89e5d","uuid":"7d00def0-4959-49fd-b6ea-31314f2c2aea"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Substrate_a8c1760d_72af_4889_9407_0f1199c89e5d"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"5ec7b531_deployment","uuid":"6700823d-13ca-4cb0-a901-264423409804"},"retries":"0","description":"","type":"SOFT_DELETE_DEPLOYMENT_ELEMENT","uuid":"aaf0ee8e-ab03-4dfa-85fb-c22cd9df226d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Soft_Delete_6700823d_13ca_4cb0_a901_264423409804"}],"description":"","message_list":[],"uuid":"974f9aa2-8ad2-4a16-bca8-d6073d00390b","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_6700823d_13ca_4cb0_a901_264423409804","uuid":"0905f591-19f9-4891-a7fb-fa3b84ddfeb3"},"name":"SYS_GEN__Runbook_Deployment_6700823d_13ca_4cb0_a901_264423409804"}}],"message_list":[],"published_service_local_reference_list":[],"uuid":"6700823d-13ca-4cb0-a901-264423409804","min_replicas":"3","state":"ACTIVE","max_replicas":"9","depends_on_list":[],"editables":{"min_replicas":true,"max_replicas":true},"package_local_reference_list":[{"kind":"app_package","name":"AzureDataSetPackage","uuid":"05329dce-ac77-4859-8af3-ce1d08c85f89"}],"substrate_local_reference":{"kind":"app_substrate","name":"AzureDataSet","uuid":"a8c1760d-72af-4889-9407-0f1199c89e5d"},"type":"GREENFIELD","options":{},"variable_list":[],"name":"5ec7b531_deployment"}],"description":"","action_list":[{"description":"","message_list":[],"uuid":"bbe78db1-89c3-41eb-ba30-6fa32dc0b779","name":"ScaleOut","state":"ACTIVE","critical":false,"attrs":{},"type":"user","runbook":{"task_definition_list":[{"retries":"0","description":"","type":"DAG","uuid":"d5ebc4b0-67ae-4ced-83b7-69ebd9b28293","child_tasks_local_reference_list":[{"kind":"app_task","name":"Scale Out","uuid":"597785f8-4bb2-4d5c-ba65-107f957e75c0"},{"kind":"app_task","name":"SetHostsFile1","uuid":"0bb7bd04-0129-4c47-9089-2c69f15daca0"},{"kind":"app_task","name":"AddNewShard","uuid":"1a318ced-d208-482d-bb07-127f5dc72125"},{"kind":"app_task","name":"SetHostsFile2","uuid":"1d06d765-3db7-40ac-9aef-89bde49f0d30"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Scale Out","uuid":"597785f8-4bb2-4d5c-ba65-107f957e75c0"},"edge_type":"user_defined","type":"","uuid":"9b0a00b1-70cd-4769-bc71-404fdd0ab8a9","to_task_reference":{"kind":"app_task","name":"SetHostsFile1","uuid":"0bb7bd04-0129-4c47-9089-2c69f15daca0"}},{"from_task_reference":{"kind":"app_task","name":"Scale Out","uuid":"597785f8-4bb2-4d5c-ba65-107f957e75c0"},"edge_type":"user_defined","type":"","uuid":"43bd7fdc-3937-45d7-857b-6cc4d4d7c7af","to_task_reference":{"kind":"app_task","name":"AddNewShard","uuid":"1a318ced-d208-482d-bb07-127f5dc72125"}},{"from_task_reference":{"kind":"app_task","name":"Scale Out","uuid":"597785f8-4bb2-4d5c-ba65-107f957e75c0"},"edge_type":"user_defined","type":"","uuid":"22ad6d2d-cbb7-411b-ac68-a8f4ea732cee","to_task_reference":{"kind":"app_task","name":"SetHostsFile2","uuid":"1d06d765-3db7-40ac-9aef-89bde49f0d30"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"9bd81dbb_dag"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"5ec7b531_deployment","uuid":"6700823d-13ca-4cb0-a901-264423409804"},"retries":"0","description":"","type":"SCALING","uuid":"597785f8-4bb2-4d5c-ba65-107f957e75c0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{NODES_PER_REPLICA_SET}@@","type":"","scaling_type":"SCALEOUT"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Scale Out"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"EXEC","uuid":"0bb7bd04-0129-4c47-9089-2c69f15daca0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\ncat > \/tmp\/set-hostnames.py <<EOF\n#!\/usr\/bin\/python\nimport re\nconfig_ips=\"@@{AzureConfigSet.private_ip_address}@@\"\ndata_ips=\"@@{calm_array_private_ip_address}@@\"\nrouter_ips=\"@@{AzureRouter.private_ip_address}@@\"\n\nhostfile = open('\/etc\/hosts', 'r').read()\nprint hostfile\nhostfile = re.sub('\\n#MONGODB-BEGIN.*?#MONGODB-END', '', hostfile, flags=re.DOTALL)\nhostfile += \"#MONGODB-BEGIN\\n\"\ncount=1\nfor ip in config_ips.split(','):\n  hostfile += ip + \" config\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in data_ips.split(','):\n  hostfile += ip + \" data\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in router_ips.split(','):\n  hostfile += ip + \" router\" + str(count) + \".mongodb\\n\"\n  count += 1\nhostfile += \"#MONGODB-END\\n\"\nopen('\/etc\/hosts', 'w').write(hostfile)\nEOF\n\nsudo python \/tmp\/set-hostnames.py"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SetHostsFile1"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"EXEC","uuid":"1a318ced-d208-482d-bb07-127f5dc72125","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\ncat > \/tmp\/set-hostnames.py <<EOF\n#!\/usr\/bin\/python\nimport re\nconfig_ips=\"@@{AzureConfigSet.private_ip_address}@@\"\ndata_ips=\"@@{AzureDataSet.private_ip_address}@@\"\nrouter_ips=\"@@{calm_array_private_ip_address}@@\"\n\nhostfile = open('\/etc\/hosts', 'r').read()\nprint hostfile\nhostfile = re.sub('\\n#MONGODB-BEGIN.*?#MONGODB-END', '', hostfile, flags=re.DOTALL)\nhostfile += \"#MONGODB-BEGIN\\n\"\ncount=1\nfor ip in config_ips.split(','):\n  hostfile += ip + \" config\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in data_ips.split(','):\n  hostfile += ip + \" data\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in router_ips.split(','):\n  hostfile += ip + \" router\" + str(count) + \".mongodb\\n\"\n  count += 1\nhostfile += \"#MONGODB-END\\n\"\nopen('\/etc\/hosts', 'w').write(hostfile)\nEOF\n\nsudo python \/tmp\/set-hostnames.py\n\nNODES_PER_REPLICA_SET=\"@@{NODES_PER_REPLICA_SET}@@\"\nINTERNAL_IP=\"@@{private_ip_address}@@\"\nREPLICA_IPS=($(echo @@{DataSet.private_ip_address}@@ | sed 's\/^,\/\/' | sed 's\/,$\/\/' | tr \",\" \"\\n\"))\nnoOfShards=$((${#REPLICA_IPS[@]}\/${NODES_PER_REPLICA_SET}))\n\ncount=0\nfor ((number=1;number <= $noOfShards;number++))\ndo\n  replicaSetName=\"dataReplSet${number}\"\n  sudo mongo --host ${INTERNAL_IP} --port 27017 --eval \"sh.addShard( \\\"$replicaSetName\/${REPLICA_IPS[${count}]}:27017\\\" )\"\n  count=$(($count + ${NODES_PER_REPLICA_SET}))\ndone"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"AddNewShard"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"EXEC","uuid":"1d06d765-3db7-40ac-9aef-89bde49f0d30","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\ncat > \/tmp\/set-hostnames.py <<EOF\n#!\/usr\/bin\/python\nimport re\nconfig_ips=\"@@{calm_array_private_ip_address}@@\"\ndata_ips=\"@@{AzureDataSet.private_ip_address}@@\"\nrouter_ips=\"@@{AzureRouter.private_ip_address}@@\"\n\nhostfile = open('\/etc\/hosts', 'r').read()\nprint hostfile\nhostfile = re.sub('\\n#MONGODB-BEGIN.*?#MONGODB-END', '', hostfile, flags=re.DOTALL)\nhostfile += \"#MONGODB-BEGIN\\n\"\ncount=1\nfor ip in config_ips.split(','):\n  hostfile += ip + \" config\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in data_ips.split(','):\n  hostfile += ip + \" data\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in router_ips.split(','):\n  hostfile += ip + \" router\" + str(count) + \".mongodb\\n\"\n  count += 1\nhostfile += \"#MONGODB-END\\n\"\nopen('\/etc\/hosts', 'w').write(hostfile)\nEOF\n\nsudo python \/tmp\/set-hostnames.py"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SetHostsFile2"}],"description":"","message_list":[],"uuid":"ea9e588e-d7aa-4c42-90ad-900b7770b910","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"9bd81dbb_dag","uuid":"d5ebc4b0-67ae-4ced-83b7-69ebd9b28293"},"name":"d1e4c363_runbook"}},{"description":"","message_list":[],"uuid":"c7cb2f91-f01f-416c-b5e4-b0b9f264a644","name":"ScaleIn","state":"ACTIVE","critical":false,"attrs":{},"type":"user","runbook":{"task_definition_list":[{"retries":"0","description":"","type":"DAG","uuid":"d9dbaadf-b4c3-4879-8f29-394595ee911f","child_tasks_local_reference_list":[{"kind":"app_task","name":"Scale In","uuid":"bc64d29e-13bd-46db-ab85-6f39bb522bd4"},{"kind":"app_task","name":"SetHostsFile1","uuid":"0504a22f-f22b-434c-a3a0-4bbe46a0e092"},{"kind":"app_task","name":"AddNewShard","uuid":"2c520e72-8759-4de0-9b45-6226cca227d0"},{"kind":"app_task","name":"SetHostsFile2","uuid":"b2b80eae-6a3e-467b-adaf-a47d443f00b1"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Scale In","uuid":"bc64d29e-13bd-46db-ab85-6f39bb522bd4"},"edge_type":"user_defined","type":"","uuid":"81def5a6-9d70-46da-9bf3-d46178d059d6","to_task_reference":{"kind":"app_task","name":"SetHostsFile1","uuid":"0504a22f-f22b-434c-a3a0-4bbe46a0e092"}},{"from_task_reference":{"kind":"app_task","name":"Scale In","uuid":"bc64d29e-13bd-46db-ab85-6f39bb522bd4"},"edge_type":"user_defined","type":"","uuid":"1c1445f6-2e3d-404a-9637-e2fbbacc1dec","to_task_reference":{"kind":"app_task","name":"AddNewShard","uuid":"2c520e72-8759-4de0-9b45-6226cca227d0"}},{"from_task_reference":{"kind":"app_task","name":"Scale In","uuid":"bc64d29e-13bd-46db-ab85-6f39bb522bd4"},"edge_type":"user_defined","type":"","uuid":"e162375e-fe35-41d6-877b-ffb41de11c48","to_task_reference":{"kind":"app_task","name":"SetHostsFile2","uuid":"b2b80eae-6a3e-467b-adaf-a47d443f00b1"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"9bd81dbb_dag"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"5ec7b531_deployment","uuid":"6700823d-13ca-4cb0-a901-264423409804"},"retries":"0","description":"","type":"SCALING","uuid":"bc64d29e-13bd-46db-ab85-6f39bb522bd4","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{NODES_PER_REPLICA_SET}@@","type":"","scaling_type":"SCALEIN"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Scale In"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"EXEC","uuid":"0504a22f-f22b-434c-a3a0-4bbe46a0e092","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\ncat > \/tmp\/set-hostnames.py <<EOF\n#!\/usr\/bin\/python\nimport re\nconfig_ips=\"@@{AzureConfigSet.private_ip_address}@@\"\ndata_ips=\"@@{calm_array_private_ip_address}@@\"\nrouter_ips=\"@@{AzureRouter.private_ip_address}@@\"\n\nhostfile = open('\/etc\/hosts', 'r').read()\nprint hostfile\nhostfile = re.sub('\\n#MONGODB-BEGIN.*?#MONGODB-END', '', hostfile, flags=re.DOTALL)\nhostfile += \"#MONGODB-BEGIN\\n\"\ncount=1\nfor ip in config_ips.split(','):\n  hostfile += ip + \" config\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in data_ips.split(','):\n  hostfile += ip + \" data\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in router_ips.split(','):\n  hostfile += ip + \" router\" + str(count) + \".mongodb\\n\"\n  count += 1\nhostfile += \"#MONGODB-END\\n\"\nopen('\/etc\/hosts', 'w').write(hostfile)\nEOF\n\nsudo python \/tmp\/set-hostnames.py"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SetHostsFile1"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"EXEC","uuid":"2c520e72-8759-4de0-9b45-6226cca227d0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\ncat > \/tmp\/set-hostnames.py <<EOF\n#!\/usr\/bin\/python\nimport re\nconfig_ips=\"@@{AzureConfigSet.private_ip_address}@@\"\ndata_ips=\"@@{AzureDataSet.private_ip_address}@@\"\nrouter_ips=\"@@{calm_array_private_ip_address}@@\"\n\nhostfile = open('\/etc\/hosts', 'r').read()\nprint hostfile\nhostfile = re.sub('\\n#MONGODB-BEGIN.*?#MONGODB-END', '', hostfile, flags=re.DOTALL)\nhostfile += \"#MONGODB-BEGIN\\n\"\ncount=1\nfor ip in config_ips.split(','):\n  hostfile += ip + \" config\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in data_ips.split(','):\n  hostfile += ip + \" data\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in router_ips.split(','):\n  hostfile += ip + \" router\" + str(count) + \".mongodb\\n\"\n  count += 1\nhostfile += \"#MONGODB-END\\n\"\nopen('\/etc\/hosts', 'w').write(hostfile)\nEOF\n\nsudo python \/tmp\/set-hostnames.py\n\nNODES_PER_REPLICA_SET=\"@@{NODES_PER_REPLICA_SET}@@\"\nINTERNAL_IP=\"@@{private_ip_address}@@\"\nREPLICA_IPS=($(echo @@{DataSet.private_ip_address}@@ | sed 's\/^,\/\/' | sed 's\/,$\/\/' | tr \",\" \"\\n\"))\nnoOfShards=$((${#REPLICA_IPS[@]}\/${NODES_PER_REPLICA_SET}))\n\ncount=0\nfor ((number=1;number <= $noOfShards;number++))\ndo\n  replicaSetName=\"dataReplSet${number}\"\n  sudo mongo --host ${INTERNAL_IP} --port 27017 --eval \"sh.addShard( \\\"$replicaSetName\/${REPLICA_IPS[${count}]}:27017\\\" )\"\n  count=$(($count + ${NODES_PER_REPLICA_SET}))\ndone"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"AddNewShard"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"EXEC","uuid":"b2b80eae-6a3e-467b-adaf-a47d443f00b1","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\ncat > \/tmp\/set-hostnames.py <<EOF\n#!\/usr\/bin\/python\nimport re\nconfig_ips=\"@@{calm_array_private_ip_address}@@\"\ndata_ips=\"@@{AzureDataSet.private_ip_address}@@\"\nrouter_ips=\"@@{AzureRouter.private_ip_address}@@\"\n\nhostfile = open('\/etc\/hosts', 'r').read()\nprint hostfile\nhostfile = re.sub('\\n#MONGODB-BEGIN.*?#MONGODB-END', '', hostfile, flags=re.DOTALL)\nhostfile += \"#MONGODB-BEGIN\\n\"\ncount=1\nfor ip in config_ips.split(','):\n  hostfile += ip + \" config\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in data_ips.split(','):\n  hostfile += ip + \" data\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in router_ips.split(','):\n  hostfile += ip + \" router\" + str(count) + \".mongodb\\n\"\n  count += 1\nhostfile += \"#MONGODB-END\\n\"\nopen('\/etc\/hosts', 'w').write(hostfile)\nEOF\n\nsudo python \/tmp\/set-hostnames.py"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SetHostsFile2"}],"description":"","message_list":[],"uuid":"7e848dac-ddc5-4076-8d29-3422f77f1200","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"450ee7cb-32b4-447d-bbfb-f61d7e3a1c2a","value":"","label":"","state":"ACTIVE","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"SHARD_TO_MOVE"}],"main_task_local_reference":{"kind":"app_task","name":"9bd81dbb_dag","uuid":"d9dbaadf-b4c3-4879-8f29-394595ee911f"},"name":"d1e4c363_runbook_cloned_1"}},{"description":"System action for creating an application","message_list":[],"uuid":"591e724a-5935-4c7f-ac36-8005933e9ea2","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"Azure","uuid":"94bade82-456e-4a0e-b2ba-7ecdd07caf11"},"retries":"0","description":"","type":"DAG","uuid":"ff06df9a-8e03-406f-8a32-798ebb4f2139","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__DE_Provision_7795109d_944c_4a74_960c_c500272617f9","uuid":"4bbb8836-5c37-48b6-9d3c-bac66a3ec280"},{"kind":"app_task","name":"SYS_GEN__DE_Provision_6700823d_13ca_4cb0_a901_264423409804","uuid":"1d483aa8-1a33-46c6-87a9-286e65792612"},{"kind":"app_task","name":"SYS_GEN__DE_Provision_7e59c5fb_0eef_40de_9bd5_982a0fb496bf","uuid":"e1b22011-5909-4661-b670-af954ea84b50"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_81d5239a_1d40_44b1_8dcc_01c5276fea58","uuid":"5c091110-d850-4fe6-ae12-0b12664a3dce"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_a8c1760d_72af_4889_9407_0f1199c89e5d","uuid":"3fc37861-ed2e-4cec-be4d-b3afa5e98d48"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_7c3d971c_23bd_4e2f_8fb0_93f1a45751e9","uuid":"25875d08-8f5f-4d8f-b7a2-a726399d57b1"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_05329dce_ac77_4859_8af3_ce1d08c85f89","uuid":"de2f2f76-8018-461f-a707-5bb22d2ed2fe"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_32aa87ce_6553_4fe1_b266_943390cceace","uuid":"37fce317-869b-473d-9007-a77308ea70ce"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"897e21a4-3fca-430d-b0a8-74528134d121"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"cfe14600-1370-48c9-aff0-a677a4d0401e"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"cec48a67-db9c-4b01-9273-3722c8ac6880"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"b3603401-9119-4a54-bc39-8e7bdc8e9da2"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_d0dc31b0_2ee6_484a_b025_b0f9d437419b","uuid":"7b614d4d-7b1a-4ebe-8e3c-323b7be295f5"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"587d7a3b-2b99-4c9f-9156-9b5cee8e1dd2"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"720689da-f8f8-4489-aab4-4db4ed57d595"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"897e21a4-3fca-430d-b0a8-74528134d121"},"edge_type":"inherent","type":"","uuid":"debfb08a-e711-42ff-a90f-dd4c3b19b87a","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"cec48a67-db9c-4b01-9273-3722c8ac6880"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_32aa87ce_6553_4fe1_b266_943390cceace","uuid":"37fce317-869b-473d-9007-a77308ea70ce"},"edge_type":"inherent","type":"","uuid":"f89e2e8c-c3a6-4c6f-be76-4f06c4a50492","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"897e21a4-3fca-430d-b0a8-74528134d121"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_81d5239a_1d40_44b1_8dcc_01c5276fea58","uuid":"5c091110-d850-4fe6-ae12-0b12664a3dce"},"edge_type":"inherent","type":"","uuid":"3f218912-6bee-4bd2-bb41-ea37d77e18c1","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_32aa87ce_6553_4fe1_b266_943390cceace","uuid":"37fce317-869b-473d-9007-a77308ea70ce"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_7795109d_944c_4a74_960c_c500272617f9","uuid":"4bbb8836-5c37-48b6-9d3c-bac66a3ec280"},"edge_type":"inherent","type":"","uuid":"38646417-28fd-4d35-98c8-5ed0849a21ac","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_81d5239a_1d40_44b1_8dcc_01c5276fea58","uuid":"5c091110-d850-4fe6-ae12-0b12664a3dce"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"cfe14600-1370-48c9-aff0-a677a4d0401e"},"edge_type":"inherent","type":"","uuid":"0c11f46b-3b29-4695-9c5c-5dce90dfc753","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"b3603401-9119-4a54-bc39-8e7bdc8e9da2"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_05329dce_ac77_4859_8af3_ce1d08c85f89","uuid":"de2f2f76-8018-461f-a707-5bb22d2ed2fe"},"edge_type":"inherent","type":"","uuid":"939a4ddd-21b2-40ad-bf57-ad81ced3d2d8","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"cfe14600-1370-48c9-aff0-a677a4d0401e"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_6700823d_13ca_4cb0_a901_264423409804","uuid":"1d483aa8-1a33-46c6-87a9-286e65792612"},"edge_type":"inherent","type":"","uuid":"80710a64-75cf-435d-954a-fff1b8d4bfce","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_a8c1760d_72af_4889_9407_0f1199c89e5d","uuid":"3fc37861-ed2e-4cec-be4d-b3afa5e98d48"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_a8c1760d_72af_4889_9407_0f1199c89e5d","uuid":"3fc37861-ed2e-4cec-be4d-b3afa5e98d48"},"edge_type":"inherent","type":"","uuid":"7059b0b2-f155-4e60-8b59-57c9ebd75d55","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_05329dce_ac77_4859_8af3_ce1d08c85f89","uuid":"de2f2f76-8018-461f-a707-5bb22d2ed2fe"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"587d7a3b-2b99-4c9f-9156-9b5cee8e1dd2"},"edge_type":"inherent","type":"","uuid":"ffe282d5-db71-4d01-aa30-5b535c2ea67f","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"720689da-f8f8-4489-aab4-4db4ed57d595"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_d0dc31b0_2ee6_484a_b025_b0f9d437419b","uuid":"7b614d4d-7b1a-4ebe-8e3c-323b7be295f5"},"edge_type":"inherent","type":"","uuid":"535c13a8-9358-4f45-b0fc-909c3b869c0d","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"587d7a3b-2b99-4c9f-9156-9b5cee8e1dd2"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_7e59c5fb_0eef_40de_9bd5_982a0fb496bf","uuid":"e1b22011-5909-4661-b670-af954ea84b50"},"edge_type":"inherent","type":"","uuid":"acf9fc1f-c186-4c35-804f-fd93aa30b24d","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_7c3d971c_23bd_4e2f_8fb0_93f1a45751e9","uuid":"25875d08-8f5f-4d8f-b7a2-a726399d57b1"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_7c3d971c_23bd_4e2f_8fb0_93f1a45751e9","uuid":"25875d08-8f5f-4d8f-b7a2-a726399d57b1"},"edge_type":"inherent","type":"","uuid":"daf601db-75d4-4a08-b976-d5c1ee0437ef","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_d0dc31b0_2ee6_484a_b025_b0f9d437419b","uuid":"7b614d4d-7b1a-4ebe-8e3c-323b7be295f5"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_a8c1760d_72af_4889_9407_0f1199c89e5d","uuid":"3fc37861-ed2e-4cec-be4d-b3afa5e98d48"},"edge_type":"dependency","type":"","uuid":"2261af80-f7b8-449e-87a6-666da156a352","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_32aa87ce_6553_4fe1_b266_943390cceace","uuid":"37fce317-869b-473d-9007-a77308ea70ce"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_7c3d971c_23bd_4e2f_8fb0_93f1a45751e9","uuid":"25875d08-8f5f-4d8f-b7a2-a726399d57b1"},"edge_type":"dependency","type":"","uuid":"182d7e33-bace-41ee-9a19-7e9bf3bc22b1","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_32aa87ce_6553_4fe1_b266_943390cceace","uuid":"37fce317-869b-473d-9007-a77308ea70ce"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_7c3d971c_23bd_4e2f_8fb0_93f1a45751e9","uuid":"25875d08-8f5f-4d8f-b7a2-a726399d57b1"},"edge_type":"dependency","type":"","uuid":"997d14ae-398d-45d0-a0c9-950e2bc5b782","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_05329dce_ac77_4859_8af3_ce1d08c85f89","uuid":"de2f2f76-8018-461f-a707-5bb22d2ed2fe"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_81d5239a_1d40_44b1_8dcc_01c5276fea58","uuid":"5c091110-d850-4fe6-ae12-0b12664a3dce"},"edge_type":"dependency","type":"","uuid":"00b1a0c9-9fc3-4bac-a1d2-ae8df565d5c5","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_05329dce_ac77_4859_8af3_ce1d08c85f89","uuid":"de2f2f76-8018-461f-a707-5bb22d2ed2fe"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_81d5239a_1d40_44b1_8dcc_01c5276fea58","uuid":"5c091110-d850-4fe6-ae12-0b12664a3dce"},"edge_type":"dependency","type":"","uuid":"8f44235b-b8cc-4488-adf0-688ddd2351d0","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_d0dc31b0_2ee6_484a_b025_b0f9d437419b","uuid":"7b614d4d-7b1a-4ebe-8e3c-323b7be295f5"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_a8c1760d_72af_4889_9407_0f1199c89e5d","uuid":"3fc37861-ed2e-4cec-be4d-b3afa5e98d48"},"edge_type":"dependency","type":"","uuid":"5b727b5c-2a67-41e9-a23d-4d9cd7180f4c","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_d0dc31b0_2ee6_484a_b025_b0f9d437419b","uuid":"7b614d4d-7b1a-4ebe-8e3c-323b7be295f5"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"cec48a67-db9c-4b01-9273-3722c8ac6880"},"edge_type":"dependency","type":"","uuid":"412cf6ce-9d86-4ffb-9541-5e3af8190ae5","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_d0dc31b0_2ee6_484a_b025_b0f9d437419b","uuid":"7b614d4d-7b1a-4ebe-8e3c-323b7be295f5"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"b3603401-9119-4a54-bc39-8e7bdc8e9da2"},"edge_type":"dependency","type":"","uuid":"a5037358-bf29-4b40-a4e5-d8ca5be77a1c","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_d0dc31b0_2ee6_484a_b025_b0f9d437419b","uuid":"7b614d4d-7b1a-4ebe-8e3c-323b7be295f5"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_94bade82_456e_4a0e_b2ba_7ecdd07caf11"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"d7afb99d_deployment","uuid":"7795109d-944c-4a74-960c-c500272617f9"},"retries":"0","description":"","type":"CREATE_DEPLOYMENT_ELEMENT","uuid":"4bbb8836-5c37-48b6-9d3c-bac66a3ec280","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Provision_7795109d_944c_4a74_960c_c500272617f9"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"5ec7b531_deployment","uuid":"6700823d-13ca-4cb0-a901-264423409804"},"retries":"0","description":"","type":"CREATE_DEPLOYMENT_ELEMENT","uuid":"1d483aa8-1a33-46c6-87a9-286e65792612","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Provision_6700823d_13ca_4cb0_a901_264423409804"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"ad729820_deployment","uuid":"7e59c5fb-0eef-40de-9bd5-982a0fb496bf"},"retries":"0","description":"","type":"CREATE_DEPLOYMENT_ELEMENT","uuid":"e1b22011-5909-4661-b670-af954ea84b50","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Provision_7e59c5fb_0eef_40de_9bd5_982a0fb496bf"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureConfigSet","uuid":"81d5239a-1d40-44b1-8dcc-01c5276fea58"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"5c091110-d850-4fe6-ae12-0b12664a3dce","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"d7afb99d_deployment","uuid":"7795109d-944c-4a74-960c-c500272617f9"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_81d5239a_1d40_44b1_8dcc_01c5276fea58","uuid":"a57ef3ff-7ae7-46f9-b953-88ca58e520d3"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Substrate_81d5239a_1d40_44b1_8dcc_01c5276fea58"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureDataSet","uuid":"a8c1760d-72af-4889-9407-0f1199c89e5d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"3fc37861-ed2e-4cec-be4d-b3afa5e98d48","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"5ec7b531_deployment","uuid":"6700823d-13ca-4cb0-a901-264423409804"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_a8c1760d_72af_4889_9407_0f1199c89e5d","uuid":"1dc0f625-84b2-4973-8003-c9a6d473c3d5"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Substrate_a8c1760d_72af_4889_9407_0f1199c89e5d"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureRouter","uuid":"7c3d971c-23bd-4e2f-8fb0-93f1a45751e9"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"25875d08-8f5f-4d8f-b7a2-a726399d57b1","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"ad729820_deployment","uuid":"7e59c5fb-0eef-40de-9bd5-982a0fb496bf"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_7c3d971c_23bd_4e2f_8fb0_93f1a45751e9","uuid":"e5c3b181-3e09-4e71-90d1-7b4b7278e222"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Substrate_7c3d971c_23bd_4e2f_8fb0_93f1a45751e9"},{"target_any_local_reference":{"kind":"app_package","name":"AzureDataSetPackage","uuid":"05329dce-ac77-4859-8af3-ce1d08c85f89"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"de2f2f76-8018-461f-a707-5bb22d2ed2fe","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"5ec7b531_deployment","uuid":"6700823d-13ca-4cb0-a901-264423409804"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_05329dce_ac77_4859_8af3_ce1d08c85f89","uuid":"9c0f76f8-1788-41b1-b47d-67925d7febcc"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_05329dce_ac77_4859_8af3_ce1d08c85f89"},{"target_any_local_reference":{"kind":"app_package","name":"AzureConfigSetPackage","uuid":"32aa87ce-6553-4fe1-b266-943390cceace"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"37fce317-869b-473d-9007-a77308ea70ce","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"d7afb99d_deployment","uuid":"7795109d-944c-4a74-960c-c500272617f9"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_32aa87ce_6553_4fe1_b266_943390cceace","uuid":"1d203d11-ed50-4597-b561-2441862084b0"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_32aa87ce_6553_4fe1_b266_943390cceace"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"897e21a4-3fca-430d-b0a8-74528134d121","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"d7afb99d_deployment","uuid":"7795109d-944c-4a74-960c-c500272617f9"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0a879260_runbook","uuid":"741de02d-b511-4b87-8b94-a1b0b74e0fb7"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"cfe14600-1370-48c9-aff0-a677a4d0401e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"5ec7b531_deployment","uuid":"6700823d-13ca-4cb0-a901-264423409804"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0bda2b69_runbook","uuid":"c08988e8-53fc-48b3-942d-00d118016989"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"cec48a67-db9c-4b01-9273-3722c8ac6880","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"d7afb99d_deployment","uuid":"7795109d-944c-4a74-960c-c500272617f9"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"f4695758_runbook","uuid":"0c2528e9-82d6-40bc-9b4d-721eabd37ead"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"b3603401-9119-4a54-bc39-8e7bdc8e9da2","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"5ec7b531_deployment","uuid":"6700823d-13ca-4cb0-a901-264423409804"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0f1333dd_runbook","uuid":"43f16a26-e0b7-42a9-b2de-6e6d4147d381"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47"},{"target_any_local_reference":{"kind":"app_package","name":"AzureRouterPackage","uuid":"d0dc31b0-2ee6-484a-b025-b0f9d437419b"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"7b614d4d-7b1a-4ebe-8e3c-323b7be295f5","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"ad729820_deployment","uuid":"7e59c5fb-0eef-40de-9bd5-982a0fb496bf"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_d0dc31b0_2ee6_484a_b025_b0f9d437419b","uuid":"570680f9-a75f-4ca4-b041-8820230e673e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_d0dc31b0_2ee6_484a_b025_b0f9d437419b"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"587d7a3b-2b99-4c9f-9156-9b5cee8e1dd2","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"ad729820_deployment","uuid":"7e59c5fb-0eef-40de-9bd5-982a0fb496bf"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"f678ba44_runbook","uuid":"6f256634-e57a-41ea-a837-438a40018db7"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"720689da-f8f8-4489-aab4-4db4ed57d595","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"ad729820_deployment","uuid":"7e59c5fb-0eef-40de-9bd5-982a0fb496bf"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"6729beee_runbook","uuid":"28341bf4-2766-4701-8747-1722ed61db3c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e"}],"description":"","message_list":[],"uuid":"39bd389b-1d56-40de-b278-dc5fcdabf72b","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_94bade82_456e_4a0e_b2ba_7ecdd07caf11","uuid":"ff06df9a-8e03-406f-8a32-798ebb4f2139"},"name":"SYS_GEN__Runbook_Application_94bade82_456e_4a0e_b2ba_7ecdd07caf11"}},{"description":"System action for starting an application","message_list":[],"uuid":"f1d556a6-a576-4817-a0b9-aefb02986a05","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"Azure","uuid":"94bade82-456e-4a0e-b2ba-7ecdd07caf11"},"retries":"0","description":"","type":"DAG","uuid":"a1f8c706-52ec-4cf9-8431-c49e708021cc","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_81d5239a_1d40_44b1_8dcc_01c5276fea58","uuid":"c87717b7-6cd4-4fbb-a06b-bdf3b1d3597b"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_a8c1760d_72af_4889_9407_0f1199c89e5d","uuid":"0c734b06-7ca6-49ea-a0df-bab53eb00815"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_7c3d971c_23bd_4e2f_8fb0_93f1a45751e9","uuid":"0adaf47e-2562-4a89-8f0a-281b51c9c0b6"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"e1bd0817-aa91-4c59-b7f1-e183c3f50a45"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"275691ce-337d-4edc-a860-dc03fe9f1e68"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"24969cfd-3dcc-46c8-b626-c335ce12a1ef"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_81d5239a_1d40_44b1_8dcc_01c5276fea58","uuid":"c87717b7-6cd4-4fbb-a06b-bdf3b1d3597b"},"edge_type":"inherent","type":"","uuid":"7b63e2bf-1ee9-46c4-ba35-bf42f712148b","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"e1bd0817-aa91-4c59-b7f1-e183c3f50a45"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_a8c1760d_72af_4889_9407_0f1199c89e5d","uuid":"0c734b06-7ca6-49ea-a0df-bab53eb00815"},"edge_type":"inherent","type":"","uuid":"dcdad495-75af-479e-9770-70b3eb71e971","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"24969cfd-3dcc-46c8-b626-c335ce12a1ef"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_7c3d971c_23bd_4e2f_8fb0_93f1a45751e9","uuid":"0adaf47e-2562-4a89-8f0a-281b51c9c0b6"},"edge_type":"inherent","type":"","uuid":"73260a64-e253-4a35-9cdb-eae03bba69b4","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"275691ce-337d-4edc-a860-dc03fe9f1e68"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_94bade82_456e_4a0e_b2ba_7ecdd07caf11"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureConfigSet","uuid":"81d5239a-1d40-44b1-8dcc-01c5276fea58"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"c87717b7-6cd4-4fbb-a06b-bdf3b1d3597b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"d7afb99d_deployment","uuid":"7795109d-944c-4a74-960c-c500272617f9"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_81d5239a_1d40_44b1_8dcc_01c5276fea58","uuid":"f4abd1f6-cc19-40ae-9c83-160b236144a3"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Substrate_81d5239a_1d40_44b1_8dcc_01c5276fea58"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureDataSet","uuid":"a8c1760d-72af-4889-9407-0f1199c89e5d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"0c734b06-7ca6-49ea-a0df-bab53eb00815","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"5ec7b531_deployment","uuid":"6700823d-13ca-4cb0-a901-264423409804"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_a8c1760d_72af_4889_9407_0f1199c89e5d","uuid":"60dd23c7-a1d8-40d7-acd3-f7fcafecfb10"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Substrate_a8c1760d_72af_4889_9407_0f1199c89e5d"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureRouter","uuid":"7c3d971c-23bd-4e2f-8fb0-93f1a45751e9"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"0adaf47e-2562-4a89-8f0a-281b51c9c0b6","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"ad729820_deployment","uuid":"7e59c5fb-0eef-40de-9bd5-982a0fb496bf"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_7c3d971c_23bd_4e2f_8fb0_93f1a45751e9","uuid":"255817c8-9728-4ea2-9a9f-4d50c09232da"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Substrate_7c3d971c_23bd_4e2f_8fb0_93f1a45751e9"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"e1bd0817-aa91-4c59-b7f1-e183c3f50a45","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"d7afb99d_deployment","uuid":"7795109d-944c-4a74-960c-c500272617f9"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"f4695758_runbook","uuid":"0c2528e9-82d6-40bc-9b4d-721eabd37ead"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"275691ce-337d-4edc-a860-dc03fe9f1e68","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"ad729820_deployment","uuid":"7e59c5fb-0eef-40de-9bd5-982a0fb496bf"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"6729beee_runbook","uuid":"28341bf4-2766-4701-8747-1722ed61db3c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"24969cfd-3dcc-46c8-b626-c335ce12a1ef","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"5ec7b531_deployment","uuid":"6700823d-13ca-4cb0-a901-264423409804"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0f1333dd_runbook","uuid":"43f16a26-e0b7-42a9-b2de-6e6d4147d381"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47"}],"description":"","message_list":[],"uuid":"34fd5003-5a14-4bbd-ae49-f524d12495b5","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_94bade82_456e_4a0e_b2ba_7ecdd07caf11","uuid":"a1f8c706-52ec-4cf9-8431-c49e708021cc"},"name":"SYS_GEN__Runbook_Application_94bade82_456e_4a0e_b2ba_7ecdd07caf11"}},{"description":"System action for restarting an application","message_list":[],"uuid":"4d9afd45-1172-45ea-ac93-08a6f40408fe","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"Azure","uuid":"94bade82-456e-4a0e-b2ba-7ecdd07caf11"},"retries":"0","description":"","type":"DAG","uuid":"01c3d9df-4dbe-4290-945d-ecb5f6de4fce","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_81d5239a_1d40_44b1_8dcc_01c5276fea58","uuid":"5dab0a1b-5a44-4b44-8d96-c291290decc0"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_7c3d971c_23bd_4e2f_8fb0_93f1a45751e9","uuid":"765f54ce-2046-4ff6-b459-1767bed58803"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_a8c1760d_72af_4889_9407_0f1199c89e5d","uuid":"2b6e7e14-ffb6-4aa0-84c3-c7b4fd83889a"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"8d6c1116-794a-4e22-80bb-0dedfccaf0e6"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"6335db7b-5770-4dfc-9087-93a66dff1d8c"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"f63948c2-fc18-4a29-b5bc-21443f08cfff"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_81d5239a_1d40_44b1_8dcc_01c5276fea58","uuid":"5dab0a1b-5a44-4b44-8d96-c291290decc0"},"edge_type":"inherent","type":"","uuid":"ef67b860-8481-45c9-a1f4-aca24d4bbfbf","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"f63948c2-fc18-4a29-b5bc-21443f08cfff"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_a8c1760d_72af_4889_9407_0f1199c89e5d","uuid":"2b6e7e14-ffb6-4aa0-84c3-c7b4fd83889a"},"edge_type":"inherent","type":"","uuid":"ff4b6755-2faf-4c54-9552-70ab5a59e9da","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"6335db7b-5770-4dfc-9087-93a66dff1d8c"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_7c3d971c_23bd_4e2f_8fb0_93f1a45751e9","uuid":"765f54ce-2046-4ff6-b459-1767bed58803"},"edge_type":"inherent","type":"","uuid":"c10693bc-3f66-4827-9a3f-16db64b62ec4","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"8d6c1116-794a-4e22-80bb-0dedfccaf0e6"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_94bade82_456e_4a0e_b2ba_7ecdd07caf11"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureConfigSet","uuid":"81d5239a-1d40-44b1-8dcc-01c5276fea58"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"5dab0a1b-5a44-4b44-8d96-c291290decc0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"d7afb99d_deployment","uuid":"7795109d-944c-4a74-960c-c500272617f9"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_81d5239a_1d40_44b1_8dcc_01c5276fea58","uuid":"61b0165d-344c-4ae2-bed8-e5b488be5b02"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Substrate_81d5239a_1d40_44b1_8dcc_01c5276fea58"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureRouter","uuid":"7c3d971c-23bd-4e2f-8fb0-93f1a45751e9"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"765f54ce-2046-4ff6-b459-1767bed58803","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"ad729820_deployment","uuid":"7e59c5fb-0eef-40de-9bd5-982a0fb496bf"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_7c3d971c_23bd_4e2f_8fb0_93f1a45751e9","uuid":"3069294f-f417-4410-a942-f429b7a892ba"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Substrate_7c3d971c_23bd_4e2f_8fb0_93f1a45751e9"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureDataSet","uuid":"a8c1760d-72af-4889-9407-0f1199c89e5d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"2b6e7e14-ffb6-4aa0-84c3-c7b4fd83889a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"5ec7b531_deployment","uuid":"6700823d-13ca-4cb0-a901-264423409804"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_a8c1760d_72af_4889_9407_0f1199c89e5d","uuid":"6f3aa448-2a84-4625-bd84-23d6844ba2a4"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Substrate_a8c1760d_72af_4889_9407_0f1199c89e5d"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"8d6c1116-794a-4e22-80bb-0dedfccaf0e6","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"ad729820_deployment","uuid":"7e59c5fb-0eef-40de-9bd5-982a0fb496bf"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"5261a312_runbook","uuid":"dcdcb0d6-e68b-4641-8609-e6dc92c57b21"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"6335db7b-5770-4dfc-9087-93a66dff1d8c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"5ec7b531_deployment","uuid":"6700823d-13ca-4cb0-a901-264423409804"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"4f7b2559_runbook","uuid":"03856e37-e1bf-4b7c-95bb-87bf81c6c940"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"f63948c2-fc18-4a29-b5bc-21443f08cfff","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"d7afb99d_deployment","uuid":"7795109d-944c-4a74-960c-c500272617f9"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"b7169291_runbook","uuid":"7c36f5f8-9e8b-4f97-b855-438dc7eb8f3d"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd"}],"description":"","message_list":[],"uuid":"7cbb9b13-e740-4de8-898e-2db80fada12d","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_94bade82_456e_4a0e_b2ba_7ecdd07caf11","uuid":"01c3d9df-4dbe-4290-945d-ecb5f6de4fce"},"name":"SYS_GEN__Runbook_Application_94bade82_456e_4a0e_b2ba_7ecdd07caf11"}},{"description":"System action for stopping an application","message_list":[],"uuid":"397f6771-66a5-42cd-8781-e2c4fa9268aa","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"Azure","uuid":"94bade82-456e-4a0e-b2ba-7ecdd07caf11"},"retries":"0","description":"","type":"DAG","uuid":"71063871-25f0-4782-9e38-85609205980e","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"04615e83-b7c5-41ac-8930-a5a8df585d24"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"a03fb504-3f85-4d47-8a73-8a779a6d104e"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"85d9aed6-bd8d-4936-bdcc-a1bcf92b27c9"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_7c3d971c_23bd_4e2f_8fb0_93f1a45751e9","uuid":"5f8309b3-b35e-43d6-a749-516fae219cfe"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_a8c1760d_72af_4889_9407_0f1199c89e5d","uuid":"38236662-ba13-47a4-913a-05ae972240e1"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_81d5239a_1d40_44b1_8dcc_01c5276fea58","uuid":"d2084b21-b12b-4a6f-85fa-b54286f59fa0"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"a03fb504-3f85-4d47-8a73-8a779a6d104e"},"edge_type":"inherent","type":"","uuid":"69b8a1f8-d247-42c6-9ca7-547e9eb5bde9","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_81d5239a_1d40_44b1_8dcc_01c5276fea58","uuid":"d2084b21-b12b-4a6f-85fa-b54286f59fa0"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"04615e83-b7c5-41ac-8930-a5a8df585d24"},"edge_type":"inherent","type":"","uuid":"99568e09-bb12-47bd-b5b4-78ad6911ece9","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_a8c1760d_72af_4889_9407_0f1199c89e5d","uuid":"38236662-ba13-47a4-913a-05ae972240e1"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"85d9aed6-bd8d-4936-bdcc-a1bcf92b27c9"},"edge_type":"inherent","type":"","uuid":"172c12db-4a77-4e6f-a9ac-49e399e7f428","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_7c3d971c_23bd_4e2f_8fb0_93f1a45751e9","uuid":"5f8309b3-b35e-43d6-a749-516fae219cfe"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_94bade82_456e_4a0e_b2ba_7ecdd07caf11"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"04615e83-b7c5-41ac-8930-a5a8df585d24","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"5ec7b531_deployment","uuid":"6700823d-13ca-4cb0-a901-264423409804"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"85883b0a_runbook","uuid":"42cf4c9d-d9e5-435e-b222-f2d33a05683f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"a03fb504-3f85-4d47-8a73-8a779a6d104e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"d7afb99d_deployment","uuid":"7795109d-944c-4a74-960c-c500272617f9"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"a33b20bd_runbook","uuid":"e6335ceb-f00b-4ec5-8425-3864e1897a7d"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"85d9aed6-bd8d-4936-bdcc-a1bcf92b27c9","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"ad729820_deployment","uuid":"7e59c5fb-0eef-40de-9bd5-982a0fb496bf"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"6d2afcdd_runbook","uuid":"215f65d0-6496-443c-9017-6dec4743560f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureRouter","uuid":"7c3d971c-23bd-4e2f-8fb0-93f1a45751e9"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"5f8309b3-b35e-43d6-a749-516fae219cfe","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"ad729820_deployment","uuid":"7e59c5fb-0eef-40de-9bd5-982a0fb496bf"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_7c3d971c_23bd_4e2f_8fb0_93f1a45751e9","uuid":"0ff24d2e-4e52-4c77-a72f-ca9018a89d05"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Substrate_7c3d971c_23bd_4e2f_8fb0_93f1a45751e9"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureDataSet","uuid":"a8c1760d-72af-4889-9407-0f1199c89e5d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"38236662-ba13-47a4-913a-05ae972240e1","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"5ec7b531_deployment","uuid":"6700823d-13ca-4cb0-a901-264423409804"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_a8c1760d_72af_4889_9407_0f1199c89e5d","uuid":"a5103213-31ff-4b9c-b683-9cd478413869"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Substrate_a8c1760d_72af_4889_9407_0f1199c89e5d"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureConfigSet","uuid":"81d5239a-1d40-44b1-8dcc-01c5276fea58"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"d2084b21-b12b-4a6f-85fa-b54286f59fa0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"d7afb99d_deployment","uuid":"7795109d-944c-4a74-960c-c500272617f9"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_81d5239a_1d40_44b1_8dcc_01c5276fea58","uuid":"2fd9f024-8d34-4d8d-9c21-feabc25f3c7d"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Substrate_81d5239a_1d40_44b1_8dcc_01c5276fea58"}],"description":"","message_list":[],"uuid":"6fc5a6e3-4e3a-4a33-9ba8-c8035415b701","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_94bade82_456e_4a0e_b2ba_7ecdd07caf11","uuid":"71063871-25f0-4782-9e38-85609205980e"},"name":"SYS_GEN__Runbook_Application_94bade82_456e_4a0e_b2ba_7ecdd07caf11"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"be6a0262-60ca-4d9c-a84f-07d66cd9e7ca","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"Azure","uuid":"94bade82-456e-4a0e-b2ba-7ecdd07caf11"},"retries":"0","description":"","type":"DAG","uuid":"3bfe2b08-4e7f-47f1-bd38-16f74be60740","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"0c47664f-bd2b-4a4e-a063-4e98888dff87"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"f85486fb-e19c-4ac6-ba4d-166e337fe301"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_d0dc31b0_2ee6_484a_b025_b0f9d437419b","uuid":"286e9210-4209-4acf-a7d0-61d2dd320547"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"566c8572-d952-459d-b87d-6ae5b88f56eb"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"6c237ca4-c716-4d61-bb82-3aedd4c0a22b"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"8a440ebe-610c-4193-8bcf-42d4bc608606"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"f9039cfc-3a24-4f74-ba2e-a35a51e0b172"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_32aa87ce_6553_4fe1_b266_943390cceace","uuid":"0d81ab06-da2f-4513-800f-9d82c50943e2"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_05329dce_ac77_4859_8af3_ce1d08c85f89","uuid":"f6f14c83-613f-4561-aa24-d5023d5930d3"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_7c3d971c_23bd_4e2f_8fb0_93f1a45751e9","uuid":"8e401df6-8e2b-45cb-b97c-2600591c0066"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_81d5239a_1d40_44b1_8dcc_01c5276fea58","uuid":"c32fbb34-6601-47eb-aaf4-0be47e1c2bfb"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_a8c1760d_72af_4889_9407_0f1199c89e5d","uuid":"c3d0b229-8b41-4be3-865f-9d325e1d1a7d"},{"kind":"app_task","name":"SYS_GEN__DE_Delete_6700823d_13ca_4cb0_a901_264423409804","uuid":"3961da1b-5786-49e1-aa8b-fbe46d4f70d0"},{"kind":"app_task","name":"SYS_GEN__DE_Delete_7795109d_944c_4a74_960c_c500272617f9","uuid":"3ec9804d-8170-4164-b639-8a3ece947af1"},{"kind":"app_task","name":"SYS_GEN__DE_Delete_7e59c5fb_0eef_40de_9bd5_982a0fb496bf","uuid":"7e1357fa-05e7-48a1-825b-82770ba8e9c4"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"566c8572-d952-459d-b87d-6ae5b88f56eb"},"edge_type":"inherent","type":"","uuid":"75518fac-6f1b-471a-a38f-8be5d0fd9a6f","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"f9039cfc-3a24-4f74-ba2e-a35a51e0b172"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"f9039cfc-3a24-4f74-ba2e-a35a51e0b172"},"edge_type":"inherent","type":"","uuid":"8accccf0-733a-4a5b-a194-a21307790bc8","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_32aa87ce_6553_4fe1_b266_943390cceace","uuid":"0d81ab06-da2f-4513-800f-9d82c50943e2"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_32aa87ce_6553_4fe1_b266_943390cceace","uuid":"0d81ab06-da2f-4513-800f-9d82c50943e2"},"edge_type":"inherent","type":"","uuid":"2f016c21-112d-495b-ac8f-32c4034b81c3","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_81d5239a_1d40_44b1_8dcc_01c5276fea58","uuid":"c32fbb34-6601-47eb-aaf4-0be47e1c2bfb"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_81d5239a_1d40_44b1_8dcc_01c5276fea58","uuid":"c32fbb34-6601-47eb-aaf4-0be47e1c2bfb"},"edge_type":"inherent","type":"","uuid":"974263c6-89de-4523-95ab-6684cc67fad5","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Delete_7795109d_944c_4a74_960c_c500272617f9","uuid":"3ec9804d-8170-4164-b639-8a3ece947af1"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"6c237ca4-c716-4d61-bb82-3aedd4c0a22b"},"edge_type":"inherent","type":"","uuid":"c8ee679b-3bb3-4bde-a705-2b81152c1d2c","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"8a440ebe-610c-4193-8bcf-42d4bc608606"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"8a440ebe-610c-4193-8bcf-42d4bc608606"},"edge_type":"inherent","type":"","uuid":"f73a1b4b-ddf3-49ca-b9ca-ca7f968f897b","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_05329dce_ac77_4859_8af3_ce1d08c85f89","uuid":"f6f14c83-613f-4561-aa24-d5023d5930d3"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_05329dce_ac77_4859_8af3_ce1d08c85f89","uuid":"f6f14c83-613f-4561-aa24-d5023d5930d3"},"edge_type":"inherent","type":"","uuid":"30bbf67f-6a5d-4c3c-802a-78d07fcfb78a","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_a8c1760d_72af_4889_9407_0f1199c89e5d","uuid":"c3d0b229-8b41-4be3-865f-9d325e1d1a7d"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_a8c1760d_72af_4889_9407_0f1199c89e5d","uuid":"c3d0b229-8b41-4be3-865f-9d325e1d1a7d"},"edge_type":"inherent","type":"","uuid":"4226ecdb-0d97-4790-aa4c-a2dcef33c0ee","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Delete_6700823d_13ca_4cb0_a901_264423409804","uuid":"3961da1b-5786-49e1-aa8b-fbe46d4f70d0"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"0c47664f-bd2b-4a4e-a063-4e98888dff87"},"edge_type":"inherent","type":"","uuid":"d0d75d2e-d739-4c04-baed-93ab6e8831fa","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"f85486fb-e19c-4ac6-ba4d-166e337fe301"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"f85486fb-e19c-4ac6-ba4d-166e337fe301"},"edge_type":"inherent","type":"","uuid":"b87e821f-b751-44a3-b186-e36603ff158d","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_d0dc31b0_2ee6_484a_b025_b0f9d437419b","uuid":"286e9210-4209-4acf-a7d0-61d2dd320547"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_7c3d971c_23bd_4e2f_8fb0_93f1a45751e9","uuid":"8e401df6-8e2b-45cb-b97c-2600591c0066"},"edge_type":"inherent","type":"","uuid":"8eccb1fc-2c40-422b-b4a4-eb43225134d7","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Delete_7e59c5fb_0eef_40de_9bd5_982a0fb496bf","uuid":"7e1357fa-05e7-48a1-825b-82770ba8e9c4"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_d0dc31b0_2ee6_484a_b025_b0f9d437419b","uuid":"286e9210-4209-4acf-a7d0-61d2dd320547"},"edge_type":"inherent","type":"","uuid":"e7ffdcde-c419-4b58-83fc-fb3997eebb9a","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_7c3d971c_23bd_4e2f_8fb0_93f1a45751e9","uuid":"8e401df6-8e2b-45cb-b97c-2600591c0066"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_32aa87ce_6553_4fe1_b266_943390cceace","uuid":"0d81ab06-da2f-4513-800f-9d82c50943e2"},"edge_type":"create_action_edge","type":"","uuid":"e3108ce5-2bf9-4e54-95a2-85463688b94e","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_a8c1760d_72af_4889_9407_0f1199c89e5d","uuid":"c3d0b229-8b41-4be3-865f-9d325e1d1a7d"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_32aa87ce_6553_4fe1_b266_943390cceace","uuid":"0d81ab06-da2f-4513-800f-9d82c50943e2"},"edge_type":"create_action_edge","type":"","uuid":"f80080c3-f585-410e-81eb-b649ce3a9229","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_7c3d971c_23bd_4e2f_8fb0_93f1a45751e9","uuid":"8e401df6-8e2b-45cb-b97c-2600591c0066"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_05329dce_ac77_4859_8af3_ce1d08c85f89","uuid":"f6f14c83-613f-4561-aa24-d5023d5930d3"},"edge_type":"create_action_edge","type":"","uuid":"f953a292-6f82-4cc0-a7d1-70d451624155","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_7c3d971c_23bd_4e2f_8fb0_93f1a45751e9","uuid":"8e401df6-8e2b-45cb-b97c-2600591c0066"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_05329dce_ac77_4859_8af3_ce1d08c85f89","uuid":"f6f14c83-613f-4561-aa24-d5023d5930d3"},"edge_type":"create_action_edge","type":"","uuid":"307ce172-7682-4e8e-abc6-4b6b02fb5b34","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_81d5239a_1d40_44b1_8dcc_01c5276fea58","uuid":"c32fbb34-6601-47eb-aaf4-0be47e1c2bfb"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_d0dc31b0_2ee6_484a_b025_b0f9d437419b","uuid":"286e9210-4209-4acf-a7d0-61d2dd320547"},"edge_type":"create_action_edge","type":"","uuid":"54559620-6cbd-4c7f-9c4e-33b92a171f9c","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_81d5239a_1d40_44b1_8dcc_01c5276fea58","uuid":"c32fbb34-6601-47eb-aaf4-0be47e1c2bfb"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_d0dc31b0_2ee6_484a_b025_b0f9d437419b","uuid":"286e9210-4209-4acf-a7d0-61d2dd320547"},"edge_type":"create_action_edge","type":"","uuid":"58a783c5-a6c3-40aa-a227-0aa991234f23","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_a8c1760d_72af_4889_9407_0f1199c89e5d","uuid":"c3d0b229-8b41-4be3-865f-9d325e1d1a7d"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_d0dc31b0_2ee6_484a_b025_b0f9d437419b","uuid":"286e9210-4209-4acf-a7d0-61d2dd320547"},"edge_type":"create_action_edge","type":"","uuid":"25600a76-e90b-47e6-b746-187116b99a70","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"566c8572-d952-459d-b87d-6ae5b88f56eb"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_d0dc31b0_2ee6_484a_b025_b0f9d437419b","uuid":"286e9210-4209-4acf-a7d0-61d2dd320547"},"edge_type":"create_action_edge","type":"","uuid":"029784e4-9067-4307-82a7-8041e18e2038","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"6c237ca4-c716-4d61-bb82-3aedd4c0a22b"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_94bade82_456e_4a0e_b2ba_7ecdd07caf11"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"0c47664f-bd2b-4a4e-a063-4e98888dff87","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"ad729820_deployment","uuid":"7e59c5fb-0eef-40de-9bd5-982a0fb496bf"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"6d2afcdd_runbook","uuid":"215f65d0-6496-443c-9017-6dec4743560f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"f85486fb-e19c-4ac6-ba4d-166e337fe301","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"ad729820_deployment","uuid":"7e59c5fb-0eef-40de-9bd5-982a0fb496bf"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"6631f4bd_runbook","uuid":"d80d8f71-625e-4530-bf85-66347f427405"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e"},{"target_any_local_reference":{"kind":"app_package","name":"AzureRouterPackage","uuid":"d0dc31b0-2ee6-484a-b025-b0f9d437419b"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"286e9210-4209-4acf-a7d0-61d2dd320547","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"ad729820_deployment","uuid":"7e59c5fb-0eef-40de-9bd5-982a0fb496bf"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_d0dc31b0_2ee6_484a_b025_b0f9d437419b","uuid":"8cbaf9e6-e718-40f7-ad1b-96ecb70e6c9c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_d0dc31b0_2ee6_484a_b025_b0f9d437419b"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"566c8572-d952-459d-b87d-6ae5b88f56eb","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"d7afb99d_deployment","uuid":"7795109d-944c-4a74-960c-c500272617f9"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"a33b20bd_runbook","uuid":"e6335ceb-f00b-4ec5-8425-3864e1897a7d"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"6c237ca4-c716-4d61-bb82-3aedd4c0a22b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"5ec7b531_deployment","uuid":"6700823d-13ca-4cb0-a901-264423409804"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"85883b0a_runbook","uuid":"42cf4c9d-d9e5-435e-b222-f2d33a05683f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"8a440ebe-610c-4193-8bcf-42d4bc608606","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"5ec7b531_deployment","uuid":"6700823d-13ca-4cb0-a901-264423409804"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"036f3879_runbook","uuid":"c6545ccb-d141-45bd-bf59-cf1e44946785"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"f9039cfc-3a24-4f74-ba2e-a35a51e0b172","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"d7afb99d_deployment","uuid":"7795109d-944c-4a74-960c-c500272617f9"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"3c3538b9_runbook","uuid":"8625e87a-c851-44ac-9a8c-6808a1ac5574"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd"},{"target_any_local_reference":{"kind":"app_package","name":"AzureConfigSetPackage","uuid":"32aa87ce-6553-4fe1-b266-943390cceace"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"0d81ab06-da2f-4513-800f-9d82c50943e2","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"d7afb99d_deployment","uuid":"7795109d-944c-4a74-960c-c500272617f9"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_32aa87ce_6553_4fe1_b266_943390cceace","uuid":"c01666a1-94ba-465c-8ae3-e85732d69a18"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_32aa87ce_6553_4fe1_b266_943390cceace"},{"target_any_local_reference":{"kind":"app_package","name":"AzureDataSetPackage","uuid":"05329dce-ac77-4859-8af3-ce1d08c85f89"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"f6f14c83-613f-4561-aa24-d5023d5930d3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"5ec7b531_deployment","uuid":"6700823d-13ca-4cb0-a901-264423409804"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_05329dce_ac77_4859_8af3_ce1d08c85f89","uuid":"3f6ffb82-4f34-482a-8a93-7a7704f0c8e8"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_05329dce_ac77_4859_8af3_ce1d08c85f89"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureRouter","uuid":"7c3d971c-23bd-4e2f-8fb0-93f1a45751e9"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"8e401df6-8e2b-45cb-b97c-2600591c0066","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"ad729820_deployment","uuid":"7e59c5fb-0eef-40de-9bd5-982a0fb496bf"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_7c3d971c_23bd_4e2f_8fb0_93f1a45751e9","uuid":"00341568-6462-4340-a8a7-aa47753e464d"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Substrate_7c3d971c_23bd_4e2f_8fb0_93f1a45751e9"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureConfigSet","uuid":"81d5239a-1d40-44b1-8dcc-01c5276fea58"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"c32fbb34-6601-47eb-aaf4-0be47e1c2bfb","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"d7afb99d_deployment","uuid":"7795109d-944c-4a74-960c-c500272617f9"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_81d5239a_1d40_44b1_8dcc_01c5276fea58","uuid":"1cc6f1ac-0a3a-4526-bc28-3d8f508be02e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Substrate_81d5239a_1d40_44b1_8dcc_01c5276fea58"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureDataSet","uuid":"a8c1760d-72af-4889-9407-0f1199c89e5d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"c3d0b229-8b41-4be3-865f-9d325e1d1a7d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"5ec7b531_deployment","uuid":"6700823d-13ca-4cb0-a901-264423409804"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_a8c1760d_72af_4889_9407_0f1199c89e5d","uuid":"de726781-cb9b-4b3e-a6f9-1ad5a5916ba3"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Substrate_a8c1760d_72af_4889_9407_0f1199c89e5d"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"5ec7b531_deployment","uuid":"6700823d-13ca-4cb0-a901-264423409804"},"retries":"0","description":"","type":"DELETE_DEPLOYMENT_ELEMENT","uuid":"3961da1b-5786-49e1-aa8b-fbe46d4f70d0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Delete_6700823d_13ca_4cb0_a901_264423409804"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"d7afb99d_deployment","uuid":"7795109d-944c-4a74-960c-c500272617f9"},"retries":"0","description":"","type":"DELETE_DEPLOYMENT_ELEMENT","uuid":"3ec9804d-8170-4164-b639-8a3ece947af1","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Delete_7795109d_944c_4a74_960c_c500272617f9"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"ad729820_deployment","uuid":"7e59c5fb-0eef-40de-9bd5-982a0fb496bf"},"retries":"0","description":"","type":"DELETE_DEPLOYMENT_ELEMENT","uuid":"7e1357fa-05e7-48a1-825b-82770ba8e9c4","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Delete_7e59c5fb_0eef_40de_9bd5_982a0fb496bf"}],"description":"","message_list":[],"uuid":"7b732e81-df8c-4b5b-bb69-6da82525b7a5","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_94bade82_456e_4a0e_b2ba_7ecdd07caf11","uuid":"3bfe2b08-4e7f-47f1-bd38-16f74be60740"},"name":"SYS_GEN__Runbook_Application_94bade82_456e_4a0e_b2ba_7ecdd07caf11"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"d6a64dfc-52a8-4c29-9fd5-a7d0c40f43eb","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"Azure","uuid":"94bade82-456e-4a0e-b2ba-7ecdd07caf11"},"retries":"0","description":"","type":"DAG","uuid":"37e7882a-1b0e-4758-bd14-db3c50fc1108","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"b05b3386-330b-4a1c-82cf-d60d7942818d"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_d0dc31b0_2ee6_484a_b025_b0f9d437419b","uuid":"9f3ff88e-db07-44d1-aeeb-5110ab16c803"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"4b79ac46-d73a-4ede-9c45-d43bffd5aa03"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"c58f4c9f-45c0-462d-b550-ee837007025e"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_32aa87ce_6553_4fe1_b266_943390cceace","uuid":"551be679-9be8-44c4-bf12-63a6b0f65371"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_05329dce_ac77_4859_8af3_ce1d08c85f89","uuid":"e78fd7cd-18f2-4f15-962d-d1cf9cec629f"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_a8c1760d_72af_4889_9407_0f1199c89e5d","uuid":"d73499a7-227a-473f-b53d-908296ccac88"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_7c3d971c_23bd_4e2f_8fb0_93f1a45751e9","uuid":"21dbcd77-816c-4b20-b63a-32da7ca6b957"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_81d5239a_1d40_44b1_8dcc_01c5276fea58","uuid":"17510d20-e88b-4c8b-bee6-946580a70106"},{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_7795109d_944c_4a74_960c_c500272617f9","uuid":"39259baf-141a-409c-a60e-22d508f12129"},{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_6700823d_13ca_4cb0_a901_264423409804","uuid":"d8cef3cf-bdc7-4b63-b601-560e3c728fa6"},{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_7e59c5fb_0eef_40de_9bd5_982a0fb496bf","uuid":"e42fe1ff-84e4-4f89-8dca-4d49c634fec7"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"4b79ac46-d73a-4ede-9c45-d43bffd5aa03"},"edge_type":"inherent","type":"","uuid":"a6d529d6-f8cf-45c3-9935-8b7792cd5d3f","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_32aa87ce_6553_4fe1_b266_943390cceace","uuid":"551be679-9be8-44c4-bf12-63a6b0f65371"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_81d5239a_1d40_44b1_8dcc_01c5276fea58","uuid":"17510d20-e88b-4c8b-bee6-946580a70106"},"edge_type":"inherent","type":"","uuid":"23414856-63d5-48c5-9d18-34ca1e0cc733","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_7795109d_944c_4a74_960c_c500272617f9","uuid":"39259baf-141a-409c-a60e-22d508f12129"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_32aa87ce_6553_4fe1_b266_943390cceace","uuid":"551be679-9be8-44c4-bf12-63a6b0f65371"},"edge_type":"inherent","type":"","uuid":"738446c7-cfef-4291-84b0-01dfdcc239b2","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_81d5239a_1d40_44b1_8dcc_01c5276fea58","uuid":"17510d20-e88b-4c8b-bee6-946580a70106"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"c58f4c9f-45c0-462d-b550-ee837007025e"},"edge_type":"inherent","type":"","uuid":"e2db2e03-51af-4d87-8cf3-56a14d9e9758","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_05329dce_ac77_4859_8af3_ce1d08c85f89","uuid":"e78fd7cd-18f2-4f15-962d-d1cf9cec629f"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_a8c1760d_72af_4889_9407_0f1199c89e5d","uuid":"d73499a7-227a-473f-b53d-908296ccac88"},"edge_type":"inherent","type":"","uuid":"00197f7e-45f1-423e-bacc-d9e8c5ee9d47","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_6700823d_13ca_4cb0_a901_264423409804","uuid":"d8cef3cf-bdc7-4b63-b601-560e3c728fa6"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_05329dce_ac77_4859_8af3_ce1d08c85f89","uuid":"e78fd7cd-18f2-4f15-962d-d1cf9cec629f"},"edge_type":"inherent","type":"","uuid":"c16f3561-1a6f-4523-9f95-26c6e3e4b4a3","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_a8c1760d_72af_4889_9407_0f1199c89e5d","uuid":"d73499a7-227a-473f-b53d-908296ccac88"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"b05b3386-330b-4a1c-82cf-d60d7942818d"},"edge_type":"inherent","type":"","uuid":"53bc11c7-c231-4d6d-8c5a-943ecebf6280","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_d0dc31b0_2ee6_484a_b025_b0f9d437419b","uuid":"9f3ff88e-db07-44d1-aeeb-5110ab16c803"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_d0dc31b0_2ee6_484a_b025_b0f9d437419b","uuid":"9f3ff88e-db07-44d1-aeeb-5110ab16c803"},"edge_type":"inherent","type":"","uuid":"ae91d38d-45b5-47f6-ae3a-83200b4f6841","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_7c3d971c_23bd_4e2f_8fb0_93f1a45751e9","uuid":"21dbcd77-816c-4b20-b63a-32da7ca6b957"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_7c3d971c_23bd_4e2f_8fb0_93f1a45751e9","uuid":"21dbcd77-816c-4b20-b63a-32da7ca6b957"},"edge_type":"inherent","type":"","uuid":"cac87b30-89e8-45f8-854f-a6b8c1e78924","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_7e59c5fb_0eef_40de_9bd5_982a0fb496bf","uuid":"e42fe1ff-84e4-4f89-8dca-4d49c634fec7"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_32aa87ce_6553_4fe1_b266_943390cceace","uuid":"551be679-9be8-44c4-bf12-63a6b0f65371"},"edge_type":"create_action_edge","type":"","uuid":"a78d0841-8f43-4474-a2bf-3e5e298ca449","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_a8c1760d_72af_4889_9407_0f1199c89e5d","uuid":"d73499a7-227a-473f-b53d-908296ccac88"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_32aa87ce_6553_4fe1_b266_943390cceace","uuid":"551be679-9be8-44c4-bf12-63a6b0f65371"},"edge_type":"create_action_edge","type":"","uuid":"5461b467-f74e-4ff8-8f3f-a4d12be302fa","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_7c3d971c_23bd_4e2f_8fb0_93f1a45751e9","uuid":"21dbcd77-816c-4b20-b63a-32da7ca6b957"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_05329dce_ac77_4859_8af3_ce1d08c85f89","uuid":"e78fd7cd-18f2-4f15-962d-d1cf9cec629f"},"edge_type":"create_action_edge","type":"","uuid":"1af1baa4-9c80-4d99-988e-a0ee3de98591","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_7c3d971c_23bd_4e2f_8fb0_93f1a45751e9","uuid":"21dbcd77-816c-4b20-b63a-32da7ca6b957"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_05329dce_ac77_4859_8af3_ce1d08c85f89","uuid":"e78fd7cd-18f2-4f15-962d-d1cf9cec629f"},"edge_type":"create_action_edge","type":"","uuid":"a4a41173-bfcb-4efc-b778-deb0dcdafbc8","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_81d5239a_1d40_44b1_8dcc_01c5276fea58","uuid":"17510d20-e88b-4c8b-bee6-946580a70106"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_d0dc31b0_2ee6_484a_b025_b0f9d437419b","uuid":"9f3ff88e-db07-44d1-aeeb-5110ab16c803"},"edge_type":"create_action_edge","type":"","uuid":"65e7ea80-1645-4138-9bba-f3d329733a62","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_81d5239a_1d40_44b1_8dcc_01c5276fea58","uuid":"17510d20-e88b-4c8b-bee6-946580a70106"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_d0dc31b0_2ee6_484a_b025_b0f9d437419b","uuid":"9f3ff88e-db07-44d1-aeeb-5110ab16c803"},"edge_type":"create_action_edge","type":"","uuid":"9c87752a-e40d-4327-9a76-d5bf2b45548e","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_a8c1760d_72af_4889_9407_0f1199c89e5d","uuid":"d73499a7-227a-473f-b53d-908296ccac88"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_d0dc31b0_2ee6_484a_b025_b0f9d437419b","uuid":"9f3ff88e-db07-44d1-aeeb-5110ab16c803"},"edge_type":"create_action_edge","type":"","uuid":"e4a3efba-1824-4d29-bb26-987a6317f453","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"4b79ac46-d73a-4ede-9c45-d43bffd5aa03"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_d0dc31b0_2ee6_484a_b025_b0f9d437419b","uuid":"9f3ff88e-db07-44d1-aeeb-5110ab16c803"},"edge_type":"create_action_edge","type":"","uuid":"1a493d2f-937e-447a-b725-6c4de53bbf17","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"c58f4c9f-45c0-462d-b550-ee837007025e"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_94bade82_456e_4a0e_b2ba_7ecdd07caf11"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"b05b3386-330b-4a1c-82cf-d60d7942818d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"ad729820_deployment","uuid":"7e59c5fb-0eef-40de-9bd5-982a0fb496bf"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"3fe61be2-c077-40a8-91a6-e9e75a5d2af3"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e"},{"target_any_local_reference":{"kind":"app_package","name":"AzureRouterPackage","uuid":"d0dc31b0-2ee6-484a-b025-b0f9d437419b"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"9f3ff88e-db07-44d1-aeeb-5110ab16c803","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_d0dc31b0_2ee6_484a_b025_b0f9d437419b"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"4b79ac46-d73a-4ede-9c45-d43bffd5aa03","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"d7afb99d_deployment","uuid":"7795109d-944c-4a74-960c-c500272617f9"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"71c44ff6-8283-4578-8e15-dbf648d09ee4"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"c58f4c9f-45c0-462d-b550-ee837007025e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"5ec7b531_deployment","uuid":"6700823d-13ca-4cb0-a901-264423409804"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"433fbe65-0fc7-4649-a088-87d5660f88a6"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47"},{"target_any_local_reference":{"kind":"app_package","name":"AzureConfigSetPackage","uuid":"32aa87ce-6553-4fe1-b266-943390cceace"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"551be679-9be8-44c4-bf12-63a6b0f65371","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_32aa87ce_6553_4fe1_b266_943390cceace"},{"target_any_local_reference":{"kind":"app_package","name":"AzureDataSetPackage","uuid":"05329dce-ac77-4859-8af3-ce1d08c85f89"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"e78fd7cd-18f2-4f15-962d-d1cf9cec629f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_05329dce_ac77_4859_8af3_ce1d08c85f89"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureDataSet","uuid":"a8c1760d-72af-4889-9407-0f1199c89e5d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"d73499a7-227a-473f-b53d-908296ccac88","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"5ec7b531_deployment","uuid":"6700823d-13ca-4cb0-a901-264423409804"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_a8c1760d_72af_4889_9407_0f1199c89e5d","uuid":"7d00def0-4959-49fd-b6ea-31314f2c2aea"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Substrate_a8c1760d_72af_4889_9407_0f1199c89e5d"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureRouter","uuid":"7c3d971c-23bd-4e2f-8fb0-93f1a45751e9"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"21dbcd77-816c-4b20-b63a-32da7ca6b957","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"ad729820_deployment","uuid":"7e59c5fb-0eef-40de-9bd5-982a0fb496bf"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_7c3d971c_23bd_4e2f_8fb0_93f1a45751e9","uuid":"21a3ecd6-b83d-4340-9bc4-92962180e081"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Substrate_7c3d971c_23bd_4e2f_8fb0_93f1a45751e9"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureConfigSet","uuid":"81d5239a-1d40-44b1-8dcc-01c5276fea58"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"17510d20-e88b-4c8b-bee6-946580a70106","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"d7afb99d_deployment","uuid":"7795109d-944c-4a74-960c-c500272617f9"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_81d5239a_1d40_44b1_8dcc_01c5276fea58","uuid":"4573785a-2596-4310-bdec-3c768f06b939"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Substrate_81d5239a_1d40_44b1_8dcc_01c5276fea58"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"d7afb99d_deployment","uuid":"7795109d-944c-4a74-960c-c500272617f9"},"retries":"0","description":"","type":"SOFT_DELETE_DEPLOYMENT_ELEMENT","uuid":"39259baf-141a-409c-a60e-22d508f12129","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Soft_Delete_7795109d_944c_4a74_960c_c500272617f9"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"5ec7b531_deployment","uuid":"6700823d-13ca-4cb0-a901-264423409804"},"retries":"0","description":"","type":"SOFT_DELETE_DEPLOYMENT_ELEMENT","uuid":"d8cef3cf-bdc7-4b63-b601-560e3c728fa6","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Soft_Delete_6700823d_13ca_4cb0_a901_264423409804"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"ad729820_deployment","uuid":"7e59c5fb-0eef-40de-9bd5-982a0fb496bf"},"retries":"0","description":"","type":"SOFT_DELETE_DEPLOYMENT_ELEMENT","uuid":"e42fe1ff-84e4-4f89-8dca-4d49c634fec7","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Soft_Delete_7e59c5fb_0eef_40de_9bd5_982a0fb496bf"}],"description":"","message_list":[],"uuid":"13527c02-9311-4fad-87df-3041c7256b09","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_94bade82_456e_4a0e_b2ba_7ecdd07caf11","uuid":"37e7882a-1b0e-4758-bd14-db3c50fc1108"},"name":"SYS_GEN__Runbook_Application_94bade82_456e_4a0e_b2ba_7ecdd07caf11"}}],"message_list":[],"uuid":"94bade82-456e-4a0e-b2ba-7ecdd07caf11","state":"ACTIVE","dependency_list":[{"getter_resource_kind":"PackageCfg","setter_resource_attr":"private_ip_address","setter_resource_kind":"SubstrateCfg","setter_resource_name":"AzureDataSet","action_name":"action_create","action_resource_name":"Azure","getter_resource_name":"AzureConfigSetPackage","action_resource_kind":"ApplicationCfg"},{"getter_resource_kind":"PackageCfg","setter_resource_attr":"private_ip_address","setter_resource_kind":"SubstrateCfg","setter_resource_name":"AzureRouter","action_name":"action_create","action_resource_name":"Azure","getter_resource_name":"AzureConfigSetPackage","action_resource_kind":"ApplicationCfg"},{"getter_resource_kind":"PackageCfg","setter_resource_attr":"private_ip_address","setter_resource_kind":"SubstrateCfg","setter_resource_name":"AzureRouter","action_name":"action_create","action_resource_name":"Azure","getter_resource_name":"AzureDataSetPackage","action_resource_kind":"ApplicationCfg"},{"getter_resource_kind":"PackageCfg","setter_resource_attr":"private_ip_address","setter_resource_kind":"SubstrateCfg","setter_resource_name":"AzureConfigSet","action_name":"action_create","action_resource_name":"Azure","getter_resource_name":"AzureDataSetPackage","action_resource_kind":"ApplicationCfg"},{"getter_resource_kind":"PackageCfg","setter_resource_attr":"private_ip_address","setter_resource_kind":"SubstrateCfg","setter_resource_name":"AzureConfigSet","action_name":"action_create","action_resource_name":"Azure","getter_resource_name":"AzureRouterPackage","action_resource_kind":"ApplicationCfg"},{"getter_resource_kind":"PackageCfg","setter_resource_attr":"private_ip_address","setter_resource_kind":"SubstrateCfg","setter_resource_name":"AzureDataSet","action_name":"action_create","action_resource_name":"Azure","getter_resource_name":"AzureRouterPackage","action_resource_kind":"ApplicationCfg"},{"getter_resource_kind":"PackageCfg","setter_resource_attr":"private_ip_address","setter_resource_kind":"ServiceCfg","setter_resource_name":"ConfigSet","action_name":"action_create","action_resource_name":"Azure","getter_resource_name":"AzureRouterPackage","action_resource_kind":"ApplicationCfg"},{"getter_resource_kind":"PackageCfg","setter_resource_attr":"private_ip_address","setter_resource_kind":"ServiceCfg","setter_resource_name":"DataSet","action_name":"action_create","action_resource_name":"Azure","getter_resource_name":"AzureRouterPackage","action_resource_kind":"ApplicationCfg"}],"variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"06ed6a0e-6121-4cde-9094-3dfc4781c0f5","value":"3.4.2","label":"","state":"ACTIVE","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"MONGO_VERSION"},{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"f5539f12-45b5-4697-a082-5aad728f859f","value":"3","label":"","state":"ACTIVE","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"NODES_PER_REPLICA_SET"},{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"c9890df3-80c8-4d1f-ba3b-6f6ce53d9085","value":"\/mongodb\/data","label":"","state":"ACTIVE","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"DATA_PATH"},{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"13edb763-3c3d-413f-a6c5-d53b0e014aaa","value":"\/mongodb\/journal","label":"","state":"ACTIVE","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"JOURNAL_PATH"},{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"b93e3a39-2bf6-4dd8-a080-364b51941402","value":"\/mongodb\/log","label":"","state":"ACTIVE","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"LOG_PATH"}],"name":"Azure"},{"deployment_create_list":[{"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"469eabf9-46de-4081-a0c9-e4e46d8ee799","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"ff4974a5_deployment_cloned_0","uuid":"11478ea3-cf94-ab6e-557f-11c7c9a20f08"},"retries":"0","description":"","type":"DAG","uuid":"cd5e5503-3d79-4444-940d-438a39ec7402","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__DE_Provision_11478ea3_cf94_ab6e_557f_11c7c9a20f08","uuid":"8f226fc2-6526-4d23-9ee3-9026df6a4844"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_ceebfa0c_f616_c3ca_4d88_fe76d5434070","uuid":"4d8e5031-ed1b-486c-9ad6-924f3dcb0bd0"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_25161802_9ed5_60fa_2a85_553c7df9e7e7","uuid":"a56792b4-c3ec-4966-84ce-296e84c24678"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_1d15cc5e_8151_a486_a729_df1537d0319b","uuid":"3cd47b73-ed20-4774-9a08-9c65aeac9697"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"1edb3b3a-b103-4a11-a5c9-dc3832a33dfb"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"dade964d-7da8-40f7-9e06-13504122f109"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"1edb3b3a-b103-4a11-a5c9-dc3832a33dfb"},"edge_type":"inherent","type":"","uuid":"f4cd1ff6-f732-418e-8efa-3da2f71cf2d2","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"dade964d-7da8-40f7-9e06-13504122f109"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_1d15cc5e_8151_a486_a729_df1537d0319b","uuid":"3cd47b73-ed20-4774-9a08-9c65aeac9697"},"edge_type":"inherent","type":"","uuid":"637ce0d8-b35e-434c-b9a2-615bbbccebff","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"1edb3b3a-b103-4a11-a5c9-dc3832a33dfb"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_25161802_9ed5_60fa_2a85_553c7df9e7e7","uuid":"a56792b4-c3ec-4966-84ce-296e84c24678"},"edge_type":"inherent","type":"","uuid":"317e7d76-91a4-45c1-9cb8-631dfdbe6859","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_1d15cc5e_8151_a486_a729_df1537d0319b","uuid":"3cd47b73-ed20-4774-9a08-9c65aeac9697"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_ceebfa0c_f616_c3ca_4d88_fe76d5434070","uuid":"4d8e5031-ed1b-486c-9ad6-924f3dcb0bd0"},"edge_type":"inherent","type":"","uuid":"ca126bba-1731-48cb-a178-85484fd448f0","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_25161802_9ed5_60fa_2a85_553c7df9e7e7","uuid":"a56792b4-c3ec-4966-84ce-296e84c24678"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_11478ea3_cf94_ab6e_557f_11c7c9a20f08","uuid":"8f226fc2-6526-4d23-9ee3-9026df6a4844"},"edge_type":"inherent","type":"","uuid":"a7d344f4-82a5-49b0-8875-ef7771b8fbae","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_25161802_9ed5_60fa_2a85_553c7df9e7e7","uuid":"a56792b4-c3ec-4966-84ce-296e84c24678"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_11478ea3_cf94_ab6e_557f_11c7c9a20f08","uuid":"8f226fc2-6526-4d23-9ee3-9026df6a4844"},"edge_type":"inherent","type":"","uuid":"bb8746d8-266c-4edb-b9d7-fa369b18c349","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_ceebfa0c_f616_c3ca_4d88_fe76d5434070","uuid":"4d8e5031-ed1b-486c-9ad6-924f3dcb0bd0"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_11478ea3_cf94_ab6e_557f_11c7c9a20f08"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"ff4974a5_deployment_cloned_0","uuid":"11478ea3-cf94-ab6e-557f-11c7c9a20f08"},"retries":"0","description":"","type":"CREATE_DEPLOYMENT_ELEMENT","uuid":"8f226fc2-6526-4d23-9ee3-9026df6a4844","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Provision_11478ea3_cf94_ab6e_557f_11c7c9a20f08"},{"target_any_local_reference":{"kind":"app_package","name":"ESX_CENTOS_76","uuid":"ceebfa0c-f616-c3ca-4d88-fe76d5434070"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"4d8e5031-ed1b-486c-9ad6-924f3dcb0bd0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"ff4974a5_deployment_cloned_0","uuid":"11478ea3-cf94-ab6e-557f-11c7c9a20f08"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_ceebfa0c_f616_c3ca_4d88_fe76d5434070","uuid":"36344bea-5eb1-4062-9712-b5087f716c8e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_ceebfa0c_f616_c3ca_4d88_fe76d5434070"},{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareRouter","uuid":"25161802-9ed5-60fa-2a85-553c7df9e7e7"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"a56792b4-c3ec-4966-84ce-296e84c24678","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"ff4974a5_deployment_cloned_0","uuid":"11478ea3-cf94-ab6e-557f-11c7c9a20f08"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_25161802_9ed5_60fa_2a85_553c7df9e7e7","uuid":"eb73678e-ec19-4a3f-b8cd-a58bfd3cedac"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Substrate_25161802_9ed5_60fa_2a85_553c7df9e7e7"},{"target_any_local_reference":{"kind":"app_package","name":"VMwareRouterPackage","uuid":"1d15cc5e-8151-a486-a729-df1537d0319b"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"3cd47b73-ed20-4774-9a08-9c65aeac9697","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"ff4974a5_deployment_cloned_0","uuid":"11478ea3-cf94-ab6e-557f-11c7c9a20f08"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_1d15cc5e_8151_a486_a729_df1537d0319b","uuid":"3de9f874-adc0-4927-9e27-b6b580bd2d46"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_1d15cc5e_8151_a486_a729_df1537d0319b"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"1edb3b3a-b103-4a11-a5c9-dc3832a33dfb","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"ff4974a5_deployment_cloned_0","uuid":"11478ea3-cf94-ab6e-557f-11c7c9a20f08"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"f678ba44_runbook","uuid":"6f256634-e57a-41ea-a837-438a40018db7"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"dade964d-7da8-40f7-9e06-13504122f109","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"ff4974a5_deployment_cloned_0","uuid":"11478ea3-cf94-ab6e-557f-11c7c9a20f08"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"6729beee_runbook","uuid":"28341bf4-2766-4701-8747-1722ed61db3c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e"}],"description":"","message_list":[],"uuid":"481dbe82-7f6c-4e8f-9d21-1d5f984ff3fd","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_11478ea3_cf94_ab6e_557f_11c7c9a20f08","uuid":"cd5e5503-3d79-4444-940d-438a39ec7402"},"name":"SYS_GEN__Runbook_Deployment_11478ea3_cf94_ab6e_557f_11c7c9a20f08"}},{"description":"System action for starting an application","message_list":[],"uuid":"4121cd97-b722-4fbc-862a-5473d59fc0b0","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"ff4974a5_deployment_cloned_0","uuid":"11478ea3-cf94-ab6e-557f-11c7c9a20f08"},"retries":"0","description":"","type":"DAG","uuid":"6ecaa47f-db5d-4f82-8960-7e64dd90e9e4","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_25161802_9ed5_60fa_2a85_553c7df9e7e7","uuid":"8616bbb2-2b9d-4bb0-b524-b8ee633113e4"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"c9efe87a-2383-4984-bb49-deb5d8270dd9"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_25161802_9ed5_60fa_2a85_553c7df9e7e7","uuid":"8616bbb2-2b9d-4bb0-b524-b8ee633113e4"},"edge_type":"inherent","type":"","uuid":"1a16fae7-1d6d-41e9-a7a2-432591c485a0","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"c9efe87a-2383-4984-bb49-deb5d8270dd9"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_11478ea3_cf94_ab6e_557f_11c7c9a20f08"},{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareRouter","uuid":"25161802-9ed5-60fa-2a85-553c7df9e7e7"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"8616bbb2-2b9d-4bb0-b524-b8ee633113e4","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"ff4974a5_deployment_cloned_0","uuid":"11478ea3-cf94-ab6e-557f-11c7c9a20f08"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_25161802_9ed5_60fa_2a85_553c7df9e7e7","uuid":"ec8b313a-6359-43be-9d17-fe7a31729fcc"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Substrate_25161802_9ed5_60fa_2a85_553c7df9e7e7"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"c9efe87a-2383-4984-bb49-deb5d8270dd9","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"ff4974a5_deployment_cloned_0","uuid":"11478ea3-cf94-ab6e-557f-11c7c9a20f08"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"6729beee_runbook","uuid":"28341bf4-2766-4701-8747-1722ed61db3c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e"}],"description":"","message_list":[],"uuid":"c27e3275-0e8c-4498-9321-28bcedb6e196","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_11478ea3_cf94_ab6e_557f_11c7c9a20f08","uuid":"6ecaa47f-db5d-4f82-8960-7e64dd90e9e4"},"name":"SYS_GEN__Runbook_Deployment_11478ea3_cf94_ab6e_557f_11c7c9a20f08"}},{"description":"System action for restarting an application","message_list":[],"uuid":"7dffdf5e-2295-4fdc-8b58-5b69de66176d","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"ff4974a5_deployment_cloned_0","uuid":"11478ea3-cf94-ab6e-557f-11c7c9a20f08"},"retries":"0","description":"","type":"DAG","uuid":"1e496cb6-60cb-4c31-b23a-195a07620c7f","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_25161802_9ed5_60fa_2a85_553c7df9e7e7","uuid":"49c6dfc7-e5da-4424-8f4a-09871607b6ba"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"cbba1bed-ec70-4868-8213-d18e42c21478"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_25161802_9ed5_60fa_2a85_553c7df9e7e7","uuid":"49c6dfc7-e5da-4424-8f4a-09871607b6ba"},"edge_type":"inherent","type":"","uuid":"9cf9cdd3-2c2e-4a57-855f-a9713649b0c2","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"cbba1bed-ec70-4868-8213-d18e42c21478"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_11478ea3_cf94_ab6e_557f_11c7c9a20f08"},{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareRouter","uuid":"25161802-9ed5-60fa-2a85-553c7df9e7e7"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"49c6dfc7-e5da-4424-8f4a-09871607b6ba","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"ff4974a5_deployment_cloned_0","uuid":"11478ea3-cf94-ab6e-557f-11c7c9a20f08"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_25161802_9ed5_60fa_2a85_553c7df9e7e7","uuid":"9027cdb6-3cff-480f-aee1-7b0e53954297"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Substrate_25161802_9ed5_60fa_2a85_553c7df9e7e7"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"cbba1bed-ec70-4868-8213-d18e42c21478","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"ff4974a5_deployment_cloned_0","uuid":"11478ea3-cf94-ab6e-557f-11c7c9a20f08"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"5261a312_runbook","uuid":"dcdcb0d6-e68b-4641-8609-e6dc92c57b21"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e"}],"description":"","message_list":[],"uuid":"26c2c917-aee2-40a9-959e-eedd46ebff19","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_11478ea3_cf94_ab6e_557f_11c7c9a20f08","uuid":"1e496cb6-60cb-4c31-b23a-195a07620c7f"},"name":"SYS_GEN__Runbook_Deployment_11478ea3_cf94_ab6e_557f_11c7c9a20f08"}},{"description":"System action for stopping an application","message_list":[],"uuid":"cd72f174-9a0c-4b91-9b38-c80d5ae9590f","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"ff4974a5_deployment_cloned_0","uuid":"11478ea3-cf94-ab6e-557f-11c7c9a20f08"},"retries":"0","description":"","type":"DAG","uuid":"b948b04f-5ebf-4833-92e9-7cd5ec285d55","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"cdb575b7-7c30-4427-8033-183c2fe47964"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_25161802_9ed5_60fa_2a85_553c7df9e7e7","uuid":"2e52a07f-2c29-43d9-a48a-765f3fc50a19"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"cdb575b7-7c30-4427-8033-183c2fe47964"},"edge_type":"inherent","type":"","uuid":"c73b1046-d858-4aef-a759-16eb92eb9ac0","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_25161802_9ed5_60fa_2a85_553c7df9e7e7","uuid":"2e52a07f-2c29-43d9-a48a-765f3fc50a19"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_11478ea3_cf94_ab6e_557f_11c7c9a20f08"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"cdb575b7-7c30-4427-8033-183c2fe47964","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"ff4974a5_deployment_cloned_0","uuid":"11478ea3-cf94-ab6e-557f-11c7c9a20f08"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"6d2afcdd_runbook","uuid":"215f65d0-6496-443c-9017-6dec4743560f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e"},{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareRouter","uuid":"25161802-9ed5-60fa-2a85-553c7df9e7e7"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"2e52a07f-2c29-43d9-a48a-765f3fc50a19","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"ff4974a5_deployment_cloned_0","uuid":"11478ea3-cf94-ab6e-557f-11c7c9a20f08"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_25161802_9ed5_60fa_2a85_553c7df9e7e7","uuid":"9abeb19b-9d82-4a2a-9f16-90012751ebb3"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Substrate_25161802_9ed5_60fa_2a85_553c7df9e7e7"}],"description":"","message_list":[],"uuid":"b1c6e654-6f80-4074-b001-09b017adbff3","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_11478ea3_cf94_ab6e_557f_11c7c9a20f08","uuid":"b948b04f-5ebf-4833-92e9-7cd5ec285d55"},"name":"SYS_GEN__Runbook_Deployment_11478ea3_cf94_ab6e_557f_11c7c9a20f08"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"0673d0bc-041f-4e57-8c3e-a8ae443da286","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"ff4974a5_deployment_cloned_0","uuid":"11478ea3-cf94-ab6e-557f-11c7c9a20f08"},"retries":"0","description":"","type":"DAG","uuid":"139cd8b6-0d98-4a48-a6ba-fdee4eb553a3","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"a4eb32f8-5abf-45d8-b5e9-b50cdf8e52ca"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"52dd1674-7a9f-4cdf-9e21-c511de16d840"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_1d15cc5e_8151_a486_a729_df1537d0319b","uuid":"e778f456-2f84-4bab-95e9-0090aa299ec1"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_25161802_9ed5_60fa_2a85_553c7df9e7e7","uuid":"5cff70fb-e74f-4026-910c-a8d00684dfb6"},{"kind":"app_task","name":"SYS_GEN__DE_Delete_11478ea3_cf94_ab6e_557f_11c7c9a20f08","uuid":"c605a421-a25d-404f-9f6e-89acc6edf849"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"a4eb32f8-5abf-45d8-b5e9-b50cdf8e52ca"},"edge_type":"inherent","type":"","uuid":"2a51b7e0-56b8-4624-af97-96e5abcba6ea","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"52dd1674-7a9f-4cdf-9e21-c511de16d840"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"52dd1674-7a9f-4cdf-9e21-c511de16d840"},"edge_type":"inherent","type":"","uuid":"199f307c-c1a4-4732-9632-1c63b076fab7","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_1d15cc5e_8151_a486_a729_df1537d0319b","uuid":"e778f456-2f84-4bab-95e9-0090aa299ec1"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_25161802_9ed5_60fa_2a85_553c7df9e7e7","uuid":"5cff70fb-e74f-4026-910c-a8d00684dfb6"},"edge_type":"inherent","type":"","uuid":"78ef8959-5167-42da-ba23-4d756bd0bcb7","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Delete_11478ea3_cf94_ab6e_557f_11c7c9a20f08","uuid":"c605a421-a25d-404f-9f6e-89acc6edf849"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_1d15cc5e_8151_a486_a729_df1537d0319b","uuid":"e778f456-2f84-4bab-95e9-0090aa299ec1"},"edge_type":"inherent","type":"","uuid":"23c09be0-b2ea-4214-9b02-238feb967c64","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_25161802_9ed5_60fa_2a85_553c7df9e7e7","uuid":"5cff70fb-e74f-4026-910c-a8d00684dfb6"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_11478ea3_cf94_ab6e_557f_11c7c9a20f08"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"a4eb32f8-5abf-45d8-b5e9-b50cdf8e52ca","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"ff4974a5_deployment_cloned_0","uuid":"11478ea3-cf94-ab6e-557f-11c7c9a20f08"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"6d2afcdd_runbook","uuid":"215f65d0-6496-443c-9017-6dec4743560f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"52dd1674-7a9f-4cdf-9e21-c511de16d840","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"ff4974a5_deployment_cloned_0","uuid":"11478ea3-cf94-ab6e-557f-11c7c9a20f08"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"6631f4bd_runbook","uuid":"d80d8f71-625e-4530-bf85-66347f427405"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e"},{"target_any_local_reference":{"kind":"app_package","name":"VMwareRouterPackage","uuid":"1d15cc5e-8151-a486-a729-df1537d0319b"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"e778f456-2f84-4bab-95e9-0090aa299ec1","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"ff4974a5_deployment_cloned_0","uuid":"11478ea3-cf94-ab6e-557f-11c7c9a20f08"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_1d15cc5e_8151_a486_a729_df1537d0319b","uuid":"ba2f5180-2193-43a2-9e08-2fce3380e04f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_1d15cc5e_8151_a486_a729_df1537d0319b"},{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareRouter","uuid":"25161802-9ed5-60fa-2a85-553c7df9e7e7"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"5cff70fb-e74f-4026-910c-a8d00684dfb6","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"ff4974a5_deployment_cloned_0","uuid":"11478ea3-cf94-ab6e-557f-11c7c9a20f08"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_25161802_9ed5_60fa_2a85_553c7df9e7e7","uuid":"88073051-bd2a-4762-95c1-a2bff2f7887f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Substrate_25161802_9ed5_60fa_2a85_553c7df9e7e7"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"ff4974a5_deployment_cloned_0","uuid":"11478ea3-cf94-ab6e-557f-11c7c9a20f08"},"retries":"0","description":"","type":"DELETE_DEPLOYMENT_ELEMENT","uuid":"c605a421-a25d-404f-9f6e-89acc6edf849","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Delete_11478ea3_cf94_ab6e_557f_11c7c9a20f08"}],"description":"","message_list":[],"uuid":"9a7b4878-e325-4237-b903-aa6e20afbd1e","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_11478ea3_cf94_ab6e_557f_11c7c9a20f08","uuid":"139cd8b6-0d98-4a48-a6ba-fdee4eb553a3"},"name":"SYS_GEN__Runbook_Deployment_11478ea3_cf94_ab6e_557f_11c7c9a20f08"}},{"description":"System action for scaleout","message_list":[],"uuid":"0eedf3b0-77be-4916-988e-d4718c7f3a10","name":"action_scaleout","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"ff4974a5_deployment_cloned_0","uuid":"11478ea3-cf94-ab6e-557f-11c7c9a20f08"},"retries":"0","description":"","type":"DAG","uuid":"b43a0cc8-d4aa-47eb-b6f1-7a107d99984d","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Deployment_Scaleout_11478ea3_cf94_ab6e_557f_11c7c9a20f08","uuid":"ca8eb0a1-c2bf-4ce3-b1a2-bba8da539515"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_11478ea3_cf94_ab6e_557f_11c7c9a20f08"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"ff4974a5_deployment_cloned_0","uuid":"11478ea3-cf94-ab6e-557f-11c7c9a20f08"},"retries":"0","description":"","type":"SCALING","uuid":"ca8eb0a1-c2bf-4ce3-b1a2-bba8da539515","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{scaling_count}@@","type":"","scaling_type":"SCALEOUT"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Deployment_Scaleout_11478ea3_cf94_ab6e_557f_11c7c9a20f08"}],"description":"","message_list":[],"uuid":"c1356c78-bfc1-4ebe-ad70-5bbb94e53968","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"31fae6b9-6a84-4400-9cf3-9397a729d4ca","value":"0","label":"","state":"NOT_VALIDATED","attrs":{},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"scaling_count"}],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_11478ea3_cf94_ab6e_557f_11c7c9a20f08","uuid":"b43a0cc8-d4aa-47eb-b6f1-7a107d99984d"},"name":"SYS_GEN__Runbook_Deployment_11478ea3_cf94_ab6e_557f_11c7c9a20f08"}},{"description":"System action for scalein","message_list":[],"uuid":"0c7542f8-e6b9-4525-9cdd-8b9022db7213","name":"action_scalein","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"ff4974a5_deployment_cloned_0","uuid":"11478ea3-cf94-ab6e-557f-11c7c9a20f08"},"retries":"0","description":"","type":"DAG","uuid":"3f527460-a730-4b5c-bb47-fd71b07c41f7","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Deployment_Scalein_11478ea3_cf94_ab6e_557f_11c7c9a20f08","uuid":"e5e9ca9f-0945-4a36-ae29-66aa0b56e62a"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_11478ea3_cf94_ab6e_557f_11c7c9a20f08"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"ff4974a5_deployment_cloned_0","uuid":"11478ea3-cf94-ab6e-557f-11c7c9a20f08"},"retries":"0","description":"","type":"SCALING","uuid":"e5e9ca9f-0945-4a36-ae29-66aa0b56e62a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{scaling_count}@@","type":"","scaling_type":"SCALEIN"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Deployment_Scalein_11478ea3_cf94_ab6e_557f_11c7c9a20f08"}],"description":"","message_list":[],"uuid":"6a4e73dd-215d-4cd4-a4d3-7b59759bd6a1","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"80d79870-f473-4c5a-8d3e-f57ada827890","value":"0","label":"","state":"NOT_VALIDATED","attrs":{},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"scaling_count"}],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_11478ea3_cf94_ab6e_557f_11c7c9a20f08","uuid":"3f527460-a730-4b5c-bb47-fd71b07c41f7"},"name":"SYS_GEN__Runbook_Deployment_11478ea3_cf94_ab6e_557f_11c7c9a20f08"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"a90328b7-a6e1-4114-b06d-35487bc76e65","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"ff4974a5_deployment_cloned_0","uuid":"11478ea3-cf94-ab6e-557f-11c7c9a20f08"},"retries":"0","description":"","type":"DAG","uuid":"bfb92051-72d0-4e1f-873f-93b25039da56","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"ac50e84a-7fc9-4805-b0df-b25465233d25"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_1d15cc5e_8151_a486_a729_df1537d0319b","uuid":"ac737f60-14ce-40c4-9d66-35ec6e392e5e"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_25161802_9ed5_60fa_2a85_553c7df9e7e7","uuid":"5842e05a-8c85-4cba-9bd0-792bd1d8c8e7"},{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_11478ea3_cf94_ab6e_557f_11c7c9a20f08","uuid":"67fa3b01-8946-4715-b3df-d962b6f2b210"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"ac50e84a-7fc9-4805-b0df-b25465233d25"},"edge_type":"inherent","type":"","uuid":"1a7c856e-e82e-4cb4-82f6-cb37dfbeea54","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_1d15cc5e_8151_a486_a729_df1537d0319b","uuid":"ac737f60-14ce-40c4-9d66-35ec6e392e5e"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_1d15cc5e_8151_a486_a729_df1537d0319b","uuid":"ac737f60-14ce-40c4-9d66-35ec6e392e5e"},"edge_type":"inherent","type":"","uuid":"1b4eae96-61d5-4f2d-aca5-c8138b6439c3","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_25161802_9ed5_60fa_2a85_553c7df9e7e7","uuid":"5842e05a-8c85-4cba-9bd0-792bd1d8c8e7"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_25161802_9ed5_60fa_2a85_553c7df9e7e7","uuid":"5842e05a-8c85-4cba-9bd0-792bd1d8c8e7"},"edge_type":"inherent","type":"","uuid":"f0c28546-22c9-488d-9040-a97db038cdcb","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_11478ea3_cf94_ab6e_557f_11c7c9a20f08","uuid":"67fa3b01-8946-4715-b3df-d962b6f2b210"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_11478ea3_cf94_ab6e_557f_11c7c9a20f08"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"ac50e84a-7fc9-4805-b0df-b25465233d25","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"ff4974a5_deployment_cloned_0","uuid":"11478ea3-cf94-ab6e-557f-11c7c9a20f08"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"3fe61be2-c077-40a8-91a6-e9e75a5d2af3"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e"},{"target_any_local_reference":{"kind":"app_package","name":"VMwareRouterPackage","uuid":"1d15cc5e-8151-a486-a729-df1537d0319b"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"ac737f60-14ce-40c4-9d66-35ec6e392e5e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_1d15cc5e_8151_a486_a729_df1537d0319b"},{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareRouter","uuid":"25161802-9ed5-60fa-2a85-553c7df9e7e7"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"5842e05a-8c85-4cba-9bd0-792bd1d8c8e7","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"ff4974a5_deployment_cloned_0","uuid":"11478ea3-cf94-ab6e-557f-11c7c9a20f08"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_25161802_9ed5_60fa_2a85_553c7df9e7e7","uuid":"f541300e-7cd0-4453-969a-c2fc9c17770f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Substrate_25161802_9ed5_60fa_2a85_553c7df9e7e7"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"ff4974a5_deployment_cloned_0","uuid":"11478ea3-cf94-ab6e-557f-11c7c9a20f08"},"retries":"0","description":"","type":"SOFT_DELETE_DEPLOYMENT_ELEMENT","uuid":"67fa3b01-8946-4715-b3df-d962b6f2b210","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Soft_Delete_11478ea3_cf94_ab6e_557f_11c7c9a20f08"}],"description":"","message_list":[],"uuid":"633346a4-6da7-4b43-8d86-c88093d6c7b8","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_11478ea3_cf94_ab6e_557f_11c7c9a20f08","uuid":"bfb92051-72d0-4e1f-873f-93b25039da56"},"name":"SYS_GEN__Runbook_Deployment_11478ea3_cf94_ab6e_557f_11c7c9a20f08"}}],"message_list":[],"published_service_local_reference_list":[],"uuid":"11478ea3-cf94-ab6e-557f-11c7c9a20f08","min_replicas":"3","state":"ACTIVE","max_replicas":"3","depends_on_list":[],"editables":{"min_replicas":true,"max_replicas":true},"package_local_reference_list":[{"kind":"app_package","name":"VMwareRouterPackage","uuid":"1d15cc5e-8151-a486-a729-df1537d0319b"}],"substrate_local_reference":{"kind":"app_substrate","name":"VMwareRouter","uuid":"25161802-9ed5-60fa-2a85-553c7df9e7e7"},"type":"GREENFIELD","options":{},"variable_list":[],"name":"ff4974a5_deployment_cloned_0"},{"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"9faa968c-b610-4ca4-9003-7321488e4ec1","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"86730684_deployment_cloned_0","uuid":"b420b9ba-66ee-e04a-66f1-05407109321f"},"retries":"0","description":"","type":"DAG","uuid":"c71e447f-385c-474a-b639-0f18caff8d2a","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__DE_Provision_b420b9ba_66ee_e04a_66f1_05407109321f","uuid":"b159f45d-d17a-4c06-929a-4dd2a5e7dced"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_ceebfa0c_f616_c3ca_4d88_fe76d5434070","uuid":"be45d83a-abb4-451b-9371-f6123d5107de"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_2b99298d_b852_5bda_2c5b_9bc3b7f800e4","uuid":"580f9934-44b2-4214-a630-b0f57d4bd3b4"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_d9461450_276b_14d1_d8b7_4406aacb2683","uuid":"337b55e0-6b74-4c8d-894c-b61503fccb65"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"57f94ff2-754a-43fe-9093-466c2f7868d6"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"b83d9064-aa6e-4b9d-b6dd-e39da161d2eb"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"57f94ff2-754a-43fe-9093-466c2f7868d6"},"edge_type":"inherent","type":"","uuid":"181b5f44-b97a-46eb-8867-d436d301966a","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"b83d9064-aa6e-4b9d-b6dd-e39da161d2eb"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_d9461450_276b_14d1_d8b7_4406aacb2683","uuid":"337b55e0-6b74-4c8d-894c-b61503fccb65"},"edge_type":"inherent","type":"","uuid":"7b433d9b-14fb-474c-8927-06b29354ff6e","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"57f94ff2-754a-43fe-9093-466c2f7868d6"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_b420b9ba_66ee_e04a_66f1_05407109321f","uuid":"b159f45d-d17a-4c06-929a-4dd2a5e7dced"},"edge_type":"inherent","type":"","uuid":"df3ffa0c-7077-41db-8f59-11edac4e9982","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_ceebfa0c_f616_c3ca_4d88_fe76d5434070","uuid":"be45d83a-abb4-451b-9371-f6123d5107de"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_b420b9ba_66ee_e04a_66f1_05407109321f","uuid":"b159f45d-d17a-4c06-929a-4dd2a5e7dced"},"edge_type":"inherent","type":"","uuid":"77aad0ae-93c7-4c45-917b-8e9a1f48efb6","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_2b99298d_b852_5bda_2c5b_9bc3b7f800e4","uuid":"580f9934-44b2-4214-a630-b0f57d4bd3b4"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_2b99298d_b852_5bda_2c5b_9bc3b7f800e4","uuid":"580f9934-44b2-4214-a630-b0f57d4bd3b4"},"edge_type":"inherent","type":"","uuid":"2fa57985-f2e1-4aa2-922d-23933e580d45","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_d9461450_276b_14d1_d8b7_4406aacb2683","uuid":"337b55e0-6b74-4c8d-894c-b61503fccb65"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_ceebfa0c_f616_c3ca_4d88_fe76d5434070","uuid":"be45d83a-abb4-451b-9371-f6123d5107de"},"edge_type":"inherent","type":"","uuid":"cf559c55-b62b-42e8-9c4c-84c1f9509dfe","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_2b99298d_b852_5bda_2c5b_9bc3b7f800e4","uuid":"580f9934-44b2-4214-a630-b0f57d4bd3b4"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_b420b9ba_66ee_e04a_66f1_05407109321f"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"86730684_deployment_cloned_0","uuid":"b420b9ba-66ee-e04a-66f1-05407109321f"},"retries":"0","description":"","type":"CREATE_DEPLOYMENT_ELEMENT","uuid":"b159f45d-d17a-4c06-929a-4dd2a5e7dced","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Provision_b420b9ba_66ee_e04a_66f1_05407109321f"},{"target_any_local_reference":{"kind":"app_package","name":"ESX_CENTOS_76","uuid":"ceebfa0c-f616-c3ca-4d88-fe76d5434070"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"be45d83a-abb4-451b-9371-f6123d5107de","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"86730684_deployment_cloned_0","uuid":"b420b9ba-66ee-e04a-66f1-05407109321f"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_ceebfa0c_f616_c3ca_4d88_fe76d5434070","uuid":"36344bea-5eb1-4062-9712-b5087f716c8e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_ceebfa0c_f616_c3ca_4d88_fe76d5434070"},{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareConfigSet","uuid":"2b99298d-b852-5bda-2c5b-9bc3b7f800e4"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"580f9934-44b2-4214-a630-b0f57d4bd3b4","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"86730684_deployment_cloned_0","uuid":"b420b9ba-66ee-e04a-66f1-05407109321f"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_2b99298d_b852_5bda_2c5b_9bc3b7f800e4","uuid":"f5af4138-e703-46ef-a35a-959792505109"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Substrate_2b99298d_b852_5bda_2c5b_9bc3b7f800e4"},{"target_any_local_reference":{"kind":"app_package","name":"VMwareConfigSetPackage","uuid":"d9461450-276b-14d1-d8b7-4406aacb2683"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"337b55e0-6b74-4c8d-894c-b61503fccb65","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"86730684_deployment_cloned_0","uuid":"b420b9ba-66ee-e04a-66f1-05407109321f"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_d9461450_276b_14d1_d8b7_4406aacb2683","uuid":"f08f8c67-703c-4ad4-99f1-70c153856828"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_d9461450_276b_14d1_d8b7_4406aacb2683"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"57f94ff2-754a-43fe-9093-466c2f7868d6","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"86730684_deployment_cloned_0","uuid":"b420b9ba-66ee-e04a-66f1-05407109321f"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0a879260_runbook","uuid":"741de02d-b511-4b87-8b94-a1b0b74e0fb7"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"b83d9064-aa6e-4b9d-b6dd-e39da161d2eb","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"86730684_deployment_cloned_0","uuid":"b420b9ba-66ee-e04a-66f1-05407109321f"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"f4695758_runbook","uuid":"0c2528e9-82d6-40bc-9b4d-721eabd37ead"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd"}],"description":"","message_list":[],"uuid":"9331c7ad-f378-4e6b-8da0-1eee7cf4be22","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_b420b9ba_66ee_e04a_66f1_05407109321f","uuid":"c71e447f-385c-474a-b639-0f18caff8d2a"},"name":"SYS_GEN__Runbook_Deployment_b420b9ba_66ee_e04a_66f1_05407109321f"}},{"description":"System action for starting an application","message_list":[],"uuid":"e84390d9-f8bf-48a4-930a-c1460d13a34a","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"86730684_deployment_cloned_0","uuid":"b420b9ba-66ee-e04a-66f1-05407109321f"},"retries":"0","description":"","type":"DAG","uuid":"68672b66-9481-4416-b3bd-3e670714e748","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_2b99298d_b852_5bda_2c5b_9bc3b7f800e4","uuid":"e7ef7283-8aba-4858-a354-7b18d9824512"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"1e68ca02-bfa0-4e38-89ac-23336528ca1e"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_2b99298d_b852_5bda_2c5b_9bc3b7f800e4","uuid":"e7ef7283-8aba-4858-a354-7b18d9824512"},"edge_type":"inherent","type":"","uuid":"b2b959a3-be16-4f5d-b33d-12f4cdaac276","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"1e68ca02-bfa0-4e38-89ac-23336528ca1e"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_b420b9ba_66ee_e04a_66f1_05407109321f"},{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareConfigSet","uuid":"2b99298d-b852-5bda-2c5b-9bc3b7f800e4"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"e7ef7283-8aba-4858-a354-7b18d9824512","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"86730684_deployment_cloned_0","uuid":"b420b9ba-66ee-e04a-66f1-05407109321f"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_2b99298d_b852_5bda_2c5b_9bc3b7f800e4","uuid":"2046f918-1bba-478c-b571-d65ab961095b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Substrate_2b99298d_b852_5bda_2c5b_9bc3b7f800e4"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"1e68ca02-bfa0-4e38-89ac-23336528ca1e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"86730684_deployment_cloned_0","uuid":"b420b9ba-66ee-e04a-66f1-05407109321f"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"f4695758_runbook","uuid":"0c2528e9-82d6-40bc-9b4d-721eabd37ead"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd"}],"description":"","message_list":[],"uuid":"b9de44da-e6a3-46ce-9f9d-8cb746e2f8ff","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_b420b9ba_66ee_e04a_66f1_05407109321f","uuid":"68672b66-9481-4416-b3bd-3e670714e748"},"name":"SYS_GEN__Runbook_Deployment_b420b9ba_66ee_e04a_66f1_05407109321f"}},{"description":"System action for restarting an application","message_list":[],"uuid":"707b3e0c-f6cc-4221-8378-2cca1f1a9ed6","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"86730684_deployment_cloned_0","uuid":"b420b9ba-66ee-e04a-66f1-05407109321f"},"retries":"0","description":"","type":"DAG","uuid":"0ae30124-4f40-4ec3-8dfb-d6a0a5526f2e","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_2b99298d_b852_5bda_2c5b_9bc3b7f800e4","uuid":"d8180475-9c55-447c-9c30-bc32bc0ddf5d"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"e2eb37fa-1f75-4797-96db-8559f4c1e538"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_2b99298d_b852_5bda_2c5b_9bc3b7f800e4","uuid":"d8180475-9c55-447c-9c30-bc32bc0ddf5d"},"edge_type":"inherent","type":"","uuid":"a1828597-5ea7-44ee-adb7-37bfb8e60d97","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"e2eb37fa-1f75-4797-96db-8559f4c1e538"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_b420b9ba_66ee_e04a_66f1_05407109321f"},{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareConfigSet","uuid":"2b99298d-b852-5bda-2c5b-9bc3b7f800e4"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"d8180475-9c55-447c-9c30-bc32bc0ddf5d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"86730684_deployment_cloned_0","uuid":"b420b9ba-66ee-e04a-66f1-05407109321f"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_2b99298d_b852_5bda_2c5b_9bc3b7f800e4","uuid":"c7bb4adf-8da0-43da-a495-cac70e774316"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Substrate_2b99298d_b852_5bda_2c5b_9bc3b7f800e4"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"e2eb37fa-1f75-4797-96db-8559f4c1e538","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"86730684_deployment_cloned_0","uuid":"b420b9ba-66ee-e04a-66f1-05407109321f"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"b7169291_runbook","uuid":"7c36f5f8-9e8b-4f97-b855-438dc7eb8f3d"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd"}],"description":"","message_list":[],"uuid":"98b3ca84-cebe-4b20-a0e0-5cb686d60993","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_b420b9ba_66ee_e04a_66f1_05407109321f","uuid":"0ae30124-4f40-4ec3-8dfb-d6a0a5526f2e"},"name":"SYS_GEN__Runbook_Deployment_b420b9ba_66ee_e04a_66f1_05407109321f"}},{"description":"System action for stopping an application","message_list":[],"uuid":"74decb52-53bf-400f-870b-03bf67a541cc","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"86730684_deployment_cloned_0","uuid":"b420b9ba-66ee-e04a-66f1-05407109321f"},"retries":"0","description":"","type":"DAG","uuid":"ac4058b2-a9a7-4b4a-b0e0-e3973d72edfc","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"31bc7642-0814-4915-9a58-c1a7c6e6b0be"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_2b99298d_b852_5bda_2c5b_9bc3b7f800e4","uuid":"eaaa2903-4112-43d5-ab67-29c52cd3b8dd"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"31bc7642-0814-4915-9a58-c1a7c6e6b0be"},"edge_type":"inherent","type":"","uuid":"187e3d04-a3d4-415d-b689-a9e64adca314","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_2b99298d_b852_5bda_2c5b_9bc3b7f800e4","uuid":"eaaa2903-4112-43d5-ab67-29c52cd3b8dd"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_b420b9ba_66ee_e04a_66f1_05407109321f"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"31bc7642-0814-4915-9a58-c1a7c6e6b0be","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"86730684_deployment_cloned_0","uuid":"b420b9ba-66ee-e04a-66f1-05407109321f"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"a33b20bd_runbook","uuid":"e6335ceb-f00b-4ec5-8425-3864e1897a7d"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd"},{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareConfigSet","uuid":"2b99298d-b852-5bda-2c5b-9bc3b7f800e4"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"eaaa2903-4112-43d5-ab67-29c52cd3b8dd","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"86730684_deployment_cloned_0","uuid":"b420b9ba-66ee-e04a-66f1-05407109321f"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_2b99298d_b852_5bda_2c5b_9bc3b7f800e4","uuid":"974f0436-b71c-4dc9-bffb-fff1117a87ad"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Substrate_2b99298d_b852_5bda_2c5b_9bc3b7f800e4"}],"description":"","message_list":[],"uuid":"ac65e303-104a-4bdb-b0fc-2209f102872a","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_b420b9ba_66ee_e04a_66f1_05407109321f","uuid":"ac4058b2-a9a7-4b4a-b0e0-e3973d72edfc"},"name":"SYS_GEN__Runbook_Deployment_b420b9ba_66ee_e04a_66f1_05407109321f"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"919e5ce3-dd22-45cd-9e8a-4195418ebaf6","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"86730684_deployment_cloned_0","uuid":"b420b9ba-66ee-e04a-66f1-05407109321f"},"retries":"0","description":"","type":"DAG","uuid":"4fb88502-67e2-4589-9d4c-9ccf19af2443","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"f1ea891e-e5e4-4035-86b9-bdf2e8d12fa0"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"44a1d71b-22a0-4873-a776-dee2885e4932"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_d9461450_276b_14d1_d8b7_4406aacb2683","uuid":"ed158b88-152f-4a34-8cee-87ed0dc20894"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_2b99298d_b852_5bda_2c5b_9bc3b7f800e4","uuid":"7242515c-b6a7-4b87-8043-88103045db77"},{"kind":"app_task","name":"SYS_GEN__DE_Delete_b420b9ba_66ee_e04a_66f1_05407109321f","uuid":"691fe9d8-45f0-4c47-bcc5-413979d95ea5"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"f1ea891e-e5e4-4035-86b9-bdf2e8d12fa0"},"edge_type":"inherent","type":"","uuid":"51226ca9-e033-4b63-9c1b-0f7553872453","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"44a1d71b-22a0-4873-a776-dee2885e4932"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"44a1d71b-22a0-4873-a776-dee2885e4932"},"edge_type":"inherent","type":"","uuid":"348d3ea3-43c4-4748-aa81-d8176bdc0a9c","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_d9461450_276b_14d1_d8b7_4406aacb2683","uuid":"ed158b88-152f-4a34-8cee-87ed0dc20894"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_2b99298d_b852_5bda_2c5b_9bc3b7f800e4","uuid":"7242515c-b6a7-4b87-8043-88103045db77"},"edge_type":"inherent","type":"","uuid":"1dc9fc97-8c87-49ae-aba3-0371eccfe6eb","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Delete_b420b9ba_66ee_e04a_66f1_05407109321f","uuid":"691fe9d8-45f0-4c47-bcc5-413979d95ea5"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_d9461450_276b_14d1_d8b7_4406aacb2683","uuid":"ed158b88-152f-4a34-8cee-87ed0dc20894"},"edge_type":"inherent","type":"","uuid":"c1d17331-4c68-43a4-8ddb-3f49199ccc8f","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_2b99298d_b852_5bda_2c5b_9bc3b7f800e4","uuid":"7242515c-b6a7-4b87-8043-88103045db77"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_b420b9ba_66ee_e04a_66f1_05407109321f"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"f1ea891e-e5e4-4035-86b9-bdf2e8d12fa0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"86730684_deployment_cloned_0","uuid":"b420b9ba-66ee-e04a-66f1-05407109321f"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"a33b20bd_runbook","uuid":"e6335ceb-f00b-4ec5-8425-3864e1897a7d"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"44a1d71b-22a0-4873-a776-dee2885e4932","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"86730684_deployment_cloned_0","uuid":"b420b9ba-66ee-e04a-66f1-05407109321f"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"3c3538b9_runbook","uuid":"8625e87a-c851-44ac-9a8c-6808a1ac5574"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd"},{"target_any_local_reference":{"kind":"app_package","name":"VMwareConfigSetPackage","uuid":"d9461450-276b-14d1-d8b7-4406aacb2683"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"ed158b88-152f-4a34-8cee-87ed0dc20894","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"86730684_deployment_cloned_0","uuid":"b420b9ba-66ee-e04a-66f1-05407109321f"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_d9461450_276b_14d1_d8b7_4406aacb2683","uuid":"91346631-b8f3-4027-a28c-1c2258479c1c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_d9461450_276b_14d1_d8b7_4406aacb2683"},{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareConfigSet","uuid":"2b99298d-b852-5bda-2c5b-9bc3b7f800e4"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"7242515c-b6a7-4b87-8043-88103045db77","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"86730684_deployment_cloned_0","uuid":"b420b9ba-66ee-e04a-66f1-05407109321f"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_2b99298d_b852_5bda_2c5b_9bc3b7f800e4","uuid":"b05544a6-ed04-43eb-b589-0190375cd56b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Substrate_2b99298d_b852_5bda_2c5b_9bc3b7f800e4"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"86730684_deployment_cloned_0","uuid":"b420b9ba-66ee-e04a-66f1-05407109321f"},"retries":"0","description":"","type":"DELETE_DEPLOYMENT_ELEMENT","uuid":"691fe9d8-45f0-4c47-bcc5-413979d95ea5","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Delete_b420b9ba_66ee_e04a_66f1_05407109321f"}],"description":"","message_list":[],"uuid":"ab53cc0e-fcf1-433c-8a5a-6a03554905fa","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_b420b9ba_66ee_e04a_66f1_05407109321f","uuid":"4fb88502-67e2-4589-9d4c-9ccf19af2443"},"name":"SYS_GEN__Runbook_Deployment_b420b9ba_66ee_e04a_66f1_05407109321f"}},{"description":"System action for scaleout","message_list":[],"uuid":"162bbc2e-cfdf-4d9f-b026-fa88ed36d112","name":"action_scaleout","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"86730684_deployment_cloned_0","uuid":"b420b9ba-66ee-e04a-66f1-05407109321f"},"retries":"0","description":"","type":"DAG","uuid":"98a2ccb9-58cd-4e80-a39d-4c1b9699cc50","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Deployment_Scaleout_b420b9ba_66ee_e04a_66f1_05407109321f","uuid":"5c68b4aa-daac-429c-af8f-4729f6632f24"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_b420b9ba_66ee_e04a_66f1_05407109321f"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"86730684_deployment_cloned_0","uuid":"b420b9ba-66ee-e04a-66f1-05407109321f"},"retries":"0","description":"","type":"SCALING","uuid":"5c68b4aa-daac-429c-af8f-4729f6632f24","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{scaling_count}@@","type":"","scaling_type":"SCALEOUT"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Deployment_Scaleout_b420b9ba_66ee_e04a_66f1_05407109321f"}],"description":"","message_list":[],"uuid":"58eb3554-4bd1-49f3-a0cb-3665ad151108","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"512c7f75-c3a7-408f-a4a9-12859b5e85d6","value":"0","label":"","state":"NOT_VALIDATED","attrs":{},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"scaling_count"}],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_b420b9ba_66ee_e04a_66f1_05407109321f","uuid":"98a2ccb9-58cd-4e80-a39d-4c1b9699cc50"},"name":"SYS_GEN__Runbook_Deployment_b420b9ba_66ee_e04a_66f1_05407109321f"}},{"description":"System action for scalein","message_list":[],"uuid":"0b2fff69-a33c-4769-ab10-362a429d338c","name":"action_scalein","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"86730684_deployment_cloned_0","uuid":"b420b9ba-66ee-e04a-66f1-05407109321f"},"retries":"0","description":"","type":"DAG","uuid":"09cdba02-be1c-4602-8850-d8355ad29e70","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Deployment_Scalein_b420b9ba_66ee_e04a_66f1_05407109321f","uuid":"51352405-d67e-48b3-ac8c-53402435b498"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_b420b9ba_66ee_e04a_66f1_05407109321f"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"86730684_deployment_cloned_0","uuid":"b420b9ba-66ee-e04a-66f1-05407109321f"},"retries":"0","description":"","type":"SCALING","uuid":"51352405-d67e-48b3-ac8c-53402435b498","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{scaling_count}@@","type":"","scaling_type":"SCALEIN"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Deployment_Scalein_b420b9ba_66ee_e04a_66f1_05407109321f"}],"description":"","message_list":[],"uuid":"5a86a1d4-98b8-4193-b799-afca4b7c61c7","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"a9160ef0-33b7-4d56-a350-7c4d46784d82","value":"0","label":"","state":"NOT_VALIDATED","attrs":{},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"scaling_count"}],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_b420b9ba_66ee_e04a_66f1_05407109321f","uuid":"09cdba02-be1c-4602-8850-d8355ad29e70"},"name":"SYS_GEN__Runbook_Deployment_b420b9ba_66ee_e04a_66f1_05407109321f"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"d929272d-2f84-42be-a02b-cae96809b393","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"86730684_deployment_cloned_0","uuid":"b420b9ba-66ee-e04a-66f1-05407109321f"},"retries":"0","description":"","type":"DAG","uuid":"86640d3f-ff76-4e55-97a4-3c7e89e04a12","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"3d9ed41b-f006-48f5-8147-e30c9648c191"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_d9461450_276b_14d1_d8b7_4406aacb2683","uuid":"60af0df1-780c-4fb2-98f9-f14c599e7ea1"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_2b99298d_b852_5bda_2c5b_9bc3b7f800e4","uuid":"34a3b9d4-85dc-495e-ad90-3b22f0586081"},{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_b420b9ba_66ee_e04a_66f1_05407109321f","uuid":"a8ef3439-42bc-4ad8-8ea2-cbd5305aef1b"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"3d9ed41b-f006-48f5-8147-e30c9648c191"},"edge_type":"inherent","type":"","uuid":"71d01bee-37fe-42c5-a913-1cdea65302c5","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_d9461450_276b_14d1_d8b7_4406aacb2683","uuid":"60af0df1-780c-4fb2-98f9-f14c599e7ea1"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_d9461450_276b_14d1_d8b7_4406aacb2683","uuid":"60af0df1-780c-4fb2-98f9-f14c599e7ea1"},"edge_type":"inherent","type":"","uuid":"2b0d1fde-fd79-47a2-9192-439557f8f575","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_2b99298d_b852_5bda_2c5b_9bc3b7f800e4","uuid":"34a3b9d4-85dc-495e-ad90-3b22f0586081"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_2b99298d_b852_5bda_2c5b_9bc3b7f800e4","uuid":"34a3b9d4-85dc-495e-ad90-3b22f0586081"},"edge_type":"inherent","type":"","uuid":"04503818-4f88-4060-98e9-a6ceec341cd0","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_b420b9ba_66ee_e04a_66f1_05407109321f","uuid":"a8ef3439-42bc-4ad8-8ea2-cbd5305aef1b"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_b420b9ba_66ee_e04a_66f1_05407109321f"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"3d9ed41b-f006-48f5-8147-e30c9648c191","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"86730684_deployment_cloned_0","uuid":"b420b9ba-66ee-e04a-66f1-05407109321f"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"71c44ff6-8283-4578-8e15-dbf648d09ee4"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd"},{"target_any_local_reference":{"kind":"app_package","name":"VMwareConfigSetPackage","uuid":"d9461450-276b-14d1-d8b7-4406aacb2683"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"60af0df1-780c-4fb2-98f9-f14c599e7ea1","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_d9461450_276b_14d1_d8b7_4406aacb2683"},{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareConfigSet","uuid":"2b99298d-b852-5bda-2c5b-9bc3b7f800e4"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"34a3b9d4-85dc-495e-ad90-3b22f0586081","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"86730684_deployment_cloned_0","uuid":"b420b9ba-66ee-e04a-66f1-05407109321f"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_2b99298d_b852_5bda_2c5b_9bc3b7f800e4","uuid":"a051ba7f-6d14-435b-84ef-f7e63b0aaa45"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Substrate_2b99298d_b852_5bda_2c5b_9bc3b7f800e4"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"86730684_deployment_cloned_0","uuid":"b420b9ba-66ee-e04a-66f1-05407109321f"},"retries":"0","description":"","type":"SOFT_DELETE_DEPLOYMENT_ELEMENT","uuid":"a8ef3439-42bc-4ad8-8ea2-cbd5305aef1b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Soft_Delete_b420b9ba_66ee_e04a_66f1_05407109321f"}],"description":"","message_list":[],"uuid":"7a19150b-0a3d-4c82-a4f7-632a9a207c69","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_b420b9ba_66ee_e04a_66f1_05407109321f","uuid":"86640d3f-ff76-4e55-97a4-3c7e89e04a12"},"name":"SYS_GEN__Runbook_Deployment_b420b9ba_66ee_e04a_66f1_05407109321f"}}],"message_list":[],"published_service_local_reference_list":[],"uuid":"b420b9ba-66ee-e04a-66f1-05407109321f","min_replicas":"3","state":"ACTIVE","max_replicas":"3","depends_on_list":[],"editables":{"min_replicas":true,"max_replicas":true},"package_local_reference_list":[{"kind":"app_package","name":"VMwareConfigSetPackage","uuid":"d9461450-276b-14d1-d8b7-4406aacb2683"}],"substrate_local_reference":{"kind":"app_substrate","name":"VMwareConfigSet","uuid":"2b99298d-b852-5bda-2c5b-9bc3b7f800e4"},"type":"GREENFIELD","options":{},"variable_list":[],"name":"86730684_deployment_cloned_0"},{"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"a4061a8f-60a9-4e6d-97ef-29ff438e99be","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment_cloned_0","uuid":"373c3814-2386-4ef3-9514-7b319066044b"},"retries":"0","description":"","type":"DAG","uuid":"09bd968c-d5b6-47dd-92a7-51ab9140fca6","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__DE_Provision_373c3814_2386_4ef3_9514_7b319066044b","uuid":"a176db86-61dd-41a9-9912-bb961cdbf0ff"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_ceebfa0c_f616_c3ca_4d88_fe76d5434070","uuid":"88af8464-ee08-4276-a543-655bcad80391"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_06f22add_e66c_670a_443c_c6fb6a86018d","uuid":"ea976cd1-d786-4b63-89e7-98692fa8a402"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_13a01a7a_0d41_ac0c_8633_f3c237ff2124","uuid":"fffbaef1-cfea-4a6e-b88d-3a37172f0e23"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"7f80d207-c2de-4936-846d-f89af47b16ea"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"2189de5d-5474-44c6-841c-b44fa9d7305c"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"7f80d207-c2de-4936-846d-f89af47b16ea"},"edge_type":"inherent","type":"","uuid":"ef5ec93c-9fb8-45c4-aa96-204fe5f74d51","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"2189de5d-5474-44c6-841c-b44fa9d7305c"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_13a01a7a_0d41_ac0c_8633_f3c237ff2124","uuid":"fffbaef1-cfea-4a6e-b88d-3a37172f0e23"},"edge_type":"inherent","type":"","uuid":"72f4a832-be18-4b97-9432-e4861f24ae63","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"7f80d207-c2de-4936-846d-f89af47b16ea"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_373c3814_2386_4ef3_9514_7b319066044b","uuid":"a176db86-61dd-41a9-9912-bb961cdbf0ff"},"edge_type":"inherent","type":"","uuid":"30a24225-3903-40dd-acc2-fcc174942c6e","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_06f22add_e66c_670a_443c_c6fb6a86018d","uuid":"ea976cd1-d786-4b63-89e7-98692fa8a402"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_06f22add_e66c_670a_443c_c6fb6a86018d","uuid":"ea976cd1-d786-4b63-89e7-98692fa8a402"},"edge_type":"inherent","type":"","uuid":"5ff4efdf-df3f-4e7a-97c7-5d0f81584c9f","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_13a01a7a_0d41_ac0c_8633_f3c237ff2124","uuid":"fffbaef1-cfea-4a6e-b88d-3a37172f0e23"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_ceebfa0c_f616_c3ca_4d88_fe76d5434070","uuid":"88af8464-ee08-4276-a543-655bcad80391"},"edge_type":"inherent","type":"","uuid":"381ba48c-76dd-4d24-b837-37594581c25d","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_06f22add_e66c_670a_443c_c6fb6a86018d","uuid":"ea976cd1-d786-4b63-89e7-98692fa8a402"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_373c3814_2386_4ef3_9514_7b319066044b","uuid":"a176db86-61dd-41a9-9912-bb961cdbf0ff"},"edge_type":"inherent","type":"","uuid":"08c3ba41-278d-482b-89a5-30e8869b5f7c","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_ceebfa0c_f616_c3ca_4d88_fe76d5434070","uuid":"88af8464-ee08-4276-a543-655bcad80391"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_373c3814_2386_4ef3_9514_7b319066044b"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment_cloned_0","uuid":"373c3814-2386-4ef3-9514-7b319066044b"},"retries":"0","description":"","type":"CREATE_DEPLOYMENT_ELEMENT","uuid":"a176db86-61dd-41a9-9912-bb961cdbf0ff","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Provision_373c3814_2386_4ef3_9514_7b319066044b"},{"target_any_local_reference":{"kind":"app_package","name":"ESX_CENTOS_76","uuid":"ceebfa0c-f616-c3ca-4d88-fe76d5434070"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"88af8464-ee08-4276-a543-655bcad80391","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment_cloned_0","uuid":"373c3814-2386-4ef3-9514-7b319066044b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_ceebfa0c_f616_c3ca_4d88_fe76d5434070","uuid":"36344bea-5eb1-4062-9712-b5087f716c8e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_ceebfa0c_f616_c3ca_4d88_fe76d5434070"},{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareDataSet","uuid":"06f22add-e66c-670a-443c-c6fb6a86018d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"ea976cd1-d786-4b63-89e7-98692fa8a402","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment_cloned_0","uuid":"373c3814-2386-4ef3-9514-7b319066044b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_06f22add_e66c_670a_443c_c6fb6a86018d","uuid":"99e6cd80-321e-41b5-9229-8ba1125411e6"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Substrate_06f22add_e66c_670a_443c_c6fb6a86018d"},{"target_any_local_reference":{"kind":"app_package","name":"VMwareDataSetPackage","uuid":"13a01a7a-0d41-ac0c-8633-f3c237ff2124"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"fffbaef1-cfea-4a6e-b88d-3a37172f0e23","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment_cloned_0","uuid":"373c3814-2386-4ef3-9514-7b319066044b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_13a01a7a_0d41_ac0c_8633_f3c237ff2124","uuid":"a3ab1688-c6e6-42e6-aeb5-4892ab0c2fa2"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_13a01a7a_0d41_ac0c_8633_f3c237ff2124"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"7f80d207-c2de-4936-846d-f89af47b16ea","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment_cloned_0","uuid":"373c3814-2386-4ef3-9514-7b319066044b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0bda2b69_runbook","uuid":"c08988e8-53fc-48b3-942d-00d118016989"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"2189de5d-5474-44c6-841c-b44fa9d7305c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment_cloned_0","uuid":"373c3814-2386-4ef3-9514-7b319066044b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0f1333dd_runbook","uuid":"43f16a26-e0b7-42a9-b2de-6e6d4147d381"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47"}],"description":"","message_list":[],"uuid":"da82c7a1-c3a4-400b-9276-53e74937855b","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_373c3814_2386_4ef3_9514_7b319066044b","uuid":"09bd968c-d5b6-47dd-92a7-51ab9140fca6"},"name":"SYS_GEN__Runbook_Deployment_373c3814_2386_4ef3_9514_7b319066044b"}},{"description":"System action for starting an application","message_list":[],"uuid":"1452c85e-d75e-466b-902f-e7e9b93e39b0","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment_cloned_0","uuid":"373c3814-2386-4ef3-9514-7b319066044b"},"retries":"0","description":"","type":"DAG","uuid":"27c65893-4340-4644-919c-b1fd1d00e908","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_06f22add_e66c_670a_443c_c6fb6a86018d","uuid":"c447ea21-0108-4c5a-93bb-f9d7855a2d4f"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"42d98465-b121-471f-b644-cfec0aa69893"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_06f22add_e66c_670a_443c_c6fb6a86018d","uuid":"c447ea21-0108-4c5a-93bb-f9d7855a2d4f"},"edge_type":"inherent","type":"","uuid":"957961fe-12ce-4065-a92c-498e66cbf353","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"42d98465-b121-471f-b644-cfec0aa69893"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_373c3814_2386_4ef3_9514_7b319066044b"},{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareDataSet","uuid":"06f22add-e66c-670a-443c-c6fb6a86018d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"c447ea21-0108-4c5a-93bb-f9d7855a2d4f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment_cloned_0","uuid":"373c3814-2386-4ef3-9514-7b319066044b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_06f22add_e66c_670a_443c_c6fb6a86018d","uuid":"e8fd2def-41bb-498d-aabf-051de33cae08"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Substrate_06f22add_e66c_670a_443c_c6fb6a86018d"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"42d98465-b121-471f-b644-cfec0aa69893","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment_cloned_0","uuid":"373c3814-2386-4ef3-9514-7b319066044b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0f1333dd_runbook","uuid":"43f16a26-e0b7-42a9-b2de-6e6d4147d381"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47"}],"description":"","message_list":[],"uuid":"9ab87a8c-9458-4c46-91a9-6a04671e607b","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_373c3814_2386_4ef3_9514_7b319066044b","uuid":"27c65893-4340-4644-919c-b1fd1d00e908"},"name":"SYS_GEN__Runbook_Deployment_373c3814_2386_4ef3_9514_7b319066044b"}},{"description":"System action for restarting an application","message_list":[],"uuid":"27f48676-5b89-4eaf-a19a-c2db55d7b122","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment_cloned_0","uuid":"373c3814-2386-4ef3-9514-7b319066044b"},"retries":"0","description":"","type":"DAG","uuid":"9ff021f8-16a3-4f90-9416-9fc48bd754b2","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_06f22add_e66c_670a_443c_c6fb6a86018d","uuid":"534aacd4-2b41-47bb-814c-6563dd559508"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"ba95b32d-4d41-4356-8704-bd4ad940c5c1"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_06f22add_e66c_670a_443c_c6fb6a86018d","uuid":"534aacd4-2b41-47bb-814c-6563dd559508"},"edge_type":"inherent","type":"","uuid":"5027afd0-2967-41a3-9f15-70d308e6d851","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"ba95b32d-4d41-4356-8704-bd4ad940c5c1"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_373c3814_2386_4ef3_9514_7b319066044b"},{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareDataSet","uuid":"06f22add-e66c-670a-443c-c6fb6a86018d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"534aacd4-2b41-47bb-814c-6563dd559508","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment_cloned_0","uuid":"373c3814-2386-4ef3-9514-7b319066044b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_06f22add_e66c_670a_443c_c6fb6a86018d","uuid":"f2bc8083-9446-49d8-bf9c-dd29d8eba490"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Substrate_06f22add_e66c_670a_443c_c6fb6a86018d"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"ba95b32d-4d41-4356-8704-bd4ad940c5c1","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment_cloned_0","uuid":"373c3814-2386-4ef3-9514-7b319066044b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"4f7b2559_runbook","uuid":"03856e37-e1bf-4b7c-95bb-87bf81c6c940"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47"}],"description":"","message_list":[],"uuid":"caf2b0c9-6cde-4a20-9ccc-942b63b5075c","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_373c3814_2386_4ef3_9514_7b319066044b","uuid":"9ff021f8-16a3-4f90-9416-9fc48bd754b2"},"name":"SYS_GEN__Runbook_Deployment_373c3814_2386_4ef3_9514_7b319066044b"}},{"description":"System action for stopping an application","message_list":[],"uuid":"b61c3730-93e1-4f34-80f4-1067ccae363a","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment_cloned_0","uuid":"373c3814-2386-4ef3-9514-7b319066044b"},"retries":"0","description":"","type":"DAG","uuid":"25c6b998-6a74-4017-94d1-3084abe85280","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"ab93fd3d-8fe4-4052-8675-013c4e9c1a32"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_06f22add_e66c_670a_443c_c6fb6a86018d","uuid":"dc2f600a-0463-4e2a-91da-354cea958779"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"ab93fd3d-8fe4-4052-8675-013c4e9c1a32"},"edge_type":"inherent","type":"","uuid":"703f43e7-32d2-44e9-ab4f-2f1937037116","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_06f22add_e66c_670a_443c_c6fb6a86018d","uuid":"dc2f600a-0463-4e2a-91da-354cea958779"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_373c3814_2386_4ef3_9514_7b319066044b"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"ab93fd3d-8fe4-4052-8675-013c4e9c1a32","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment_cloned_0","uuid":"373c3814-2386-4ef3-9514-7b319066044b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"85883b0a_runbook","uuid":"42cf4c9d-d9e5-435e-b222-f2d33a05683f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47"},{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareDataSet","uuid":"06f22add-e66c-670a-443c-c6fb6a86018d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"dc2f600a-0463-4e2a-91da-354cea958779","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment_cloned_0","uuid":"373c3814-2386-4ef3-9514-7b319066044b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_06f22add_e66c_670a_443c_c6fb6a86018d","uuid":"84f8c1b0-a6ef-449c-81e5-ad18078d735c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Substrate_06f22add_e66c_670a_443c_c6fb6a86018d"}],"description":"","message_list":[],"uuid":"78630e31-9898-45a3-a0ff-9b2b77ffab42","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_373c3814_2386_4ef3_9514_7b319066044b","uuid":"25c6b998-6a74-4017-94d1-3084abe85280"},"name":"SYS_GEN__Runbook_Deployment_373c3814_2386_4ef3_9514_7b319066044b"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"2407586f-dce9-4dbd-a2e1-dbd89c873467","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment_cloned_0","uuid":"373c3814-2386-4ef3-9514-7b319066044b"},"retries":"0","description":"","type":"DAG","uuid":"5cd3f81d-22be-4054-a451-baef1a2c9053","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"ec552e76-d8e7-48c2-ac37-b3cb339b309e"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"cb132faa-d86f-42a1-92d3-d19c399bed6e"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_13a01a7a_0d41_ac0c_8633_f3c237ff2124","uuid":"c6d2c262-da5b-4def-a33e-fcbd15878dee"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_06f22add_e66c_670a_443c_c6fb6a86018d","uuid":"7909d17d-cf5c-47c1-9ad1-47200e1f4245"},{"kind":"app_task","name":"SYS_GEN__DE_Delete_373c3814_2386_4ef3_9514_7b319066044b","uuid":"76b4b9a1-2900-4573-8f25-9798c52367a4"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"ec552e76-d8e7-48c2-ac37-b3cb339b309e"},"edge_type":"inherent","type":"","uuid":"e4a1459b-faa8-420f-b7f7-a543b8bb8821","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"cb132faa-d86f-42a1-92d3-d19c399bed6e"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"cb132faa-d86f-42a1-92d3-d19c399bed6e"},"edge_type":"inherent","type":"","uuid":"f7920f96-f4b8-45fe-aa9f-246c32135342","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_13a01a7a_0d41_ac0c_8633_f3c237ff2124","uuid":"c6d2c262-da5b-4def-a33e-fcbd15878dee"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_06f22add_e66c_670a_443c_c6fb6a86018d","uuid":"7909d17d-cf5c-47c1-9ad1-47200e1f4245"},"edge_type":"inherent","type":"","uuid":"6292f989-2759-4962-a042-f0200ab27046","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Delete_373c3814_2386_4ef3_9514_7b319066044b","uuid":"76b4b9a1-2900-4573-8f25-9798c52367a4"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_13a01a7a_0d41_ac0c_8633_f3c237ff2124","uuid":"c6d2c262-da5b-4def-a33e-fcbd15878dee"},"edge_type":"inherent","type":"","uuid":"e8898aa2-b7bd-409c-9bf1-d2b41cd69861","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_06f22add_e66c_670a_443c_c6fb6a86018d","uuid":"7909d17d-cf5c-47c1-9ad1-47200e1f4245"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_373c3814_2386_4ef3_9514_7b319066044b"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"ec552e76-d8e7-48c2-ac37-b3cb339b309e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment_cloned_0","uuid":"373c3814-2386-4ef3-9514-7b319066044b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"85883b0a_runbook","uuid":"42cf4c9d-d9e5-435e-b222-f2d33a05683f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"cb132faa-d86f-42a1-92d3-d19c399bed6e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment_cloned_0","uuid":"373c3814-2386-4ef3-9514-7b319066044b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"036f3879_runbook","uuid":"c6545ccb-d141-45bd-bf59-cf1e44946785"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47"},{"target_any_local_reference":{"kind":"app_package","name":"VMwareDataSetPackage","uuid":"13a01a7a-0d41-ac0c-8633-f3c237ff2124"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"c6d2c262-da5b-4def-a33e-fcbd15878dee","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment_cloned_0","uuid":"373c3814-2386-4ef3-9514-7b319066044b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_13a01a7a_0d41_ac0c_8633_f3c237ff2124","uuid":"eae2eda1-1424-4938-aad6-4b24e8c5732f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_13a01a7a_0d41_ac0c_8633_f3c237ff2124"},{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareDataSet","uuid":"06f22add-e66c-670a-443c-c6fb6a86018d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"7909d17d-cf5c-47c1-9ad1-47200e1f4245","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment_cloned_0","uuid":"373c3814-2386-4ef3-9514-7b319066044b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_06f22add_e66c_670a_443c_c6fb6a86018d","uuid":"31f2da9e-d6c8-4f61-b378-80ac14fa5f1e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Substrate_06f22add_e66c_670a_443c_c6fb6a86018d"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment_cloned_0","uuid":"373c3814-2386-4ef3-9514-7b319066044b"},"retries":"0","description":"","type":"DELETE_DEPLOYMENT_ELEMENT","uuid":"76b4b9a1-2900-4573-8f25-9798c52367a4","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Delete_373c3814_2386_4ef3_9514_7b319066044b"}],"description":"","message_list":[],"uuid":"021e669a-954c-4d6f-88d4-3c0e38fdabef","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_373c3814_2386_4ef3_9514_7b319066044b","uuid":"5cd3f81d-22be-4054-a451-baef1a2c9053"},"name":"SYS_GEN__Runbook_Deployment_373c3814_2386_4ef3_9514_7b319066044b"}},{"description":"System action for scaleout","message_list":[],"uuid":"a838e797-1eb2-49e1-86bb-a8110689f2f4","name":"action_scaleout","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment_cloned_0","uuid":"373c3814-2386-4ef3-9514-7b319066044b"},"retries":"0","description":"","type":"DAG","uuid":"ba243355-3a30-4f54-a052-7f94723f5b9d","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Deployment_Scaleout_373c3814_2386_4ef3_9514_7b319066044b","uuid":"9c563a87-42c0-4721-b844-07b732447b72"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_373c3814_2386_4ef3_9514_7b319066044b"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment_cloned_0","uuid":"373c3814-2386-4ef3-9514-7b319066044b"},"retries":"0","description":"","type":"SCALING","uuid":"9c563a87-42c0-4721-b844-07b732447b72","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{scaling_count}@@","type":"","scaling_type":"SCALEOUT"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Deployment_Scaleout_373c3814_2386_4ef3_9514_7b319066044b"}],"description":"","message_list":[],"uuid":"a8a07081-eca0-457e-8c01-85f13a62c47a","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"e26753e2-1682-4901-8ddf-4f156562649c","value":"0","label":"","state":"NOT_VALIDATED","attrs":{},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"scaling_count"}],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_373c3814_2386_4ef3_9514_7b319066044b","uuid":"ba243355-3a30-4f54-a052-7f94723f5b9d"},"name":"SYS_GEN__Runbook_Deployment_373c3814_2386_4ef3_9514_7b319066044b"}},{"description":"System action for scalein","message_list":[],"uuid":"275bef4e-f4f8-4dcc-ac2b-4ae41a57f623","name":"action_scalein","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment_cloned_0","uuid":"373c3814-2386-4ef3-9514-7b319066044b"},"retries":"0","description":"","type":"DAG","uuid":"4171471c-71bc-4d27-b0ab-ea4ed7ea259c","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Deployment_Scalein_373c3814_2386_4ef3_9514_7b319066044b","uuid":"e45cf7f6-1d14-42d6-b750-6271237e679c"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_373c3814_2386_4ef3_9514_7b319066044b"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment_cloned_0","uuid":"373c3814-2386-4ef3-9514-7b319066044b"},"retries":"0","description":"","type":"SCALING","uuid":"e45cf7f6-1d14-42d6-b750-6271237e679c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{scaling_count}@@","type":"","scaling_type":"SCALEIN"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Deployment_Scalein_373c3814_2386_4ef3_9514_7b319066044b"}],"description":"","message_list":[],"uuid":"e4177859-0fb5-400b-8cc0-510090db81c4","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"c18f6b03-6bdd-46fc-b334-98ee1c09bc43","value":"0","label":"","state":"NOT_VALIDATED","attrs":{},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"scaling_count"}],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_373c3814_2386_4ef3_9514_7b319066044b","uuid":"4171471c-71bc-4d27-b0ab-ea4ed7ea259c"},"name":"SYS_GEN__Runbook_Deployment_373c3814_2386_4ef3_9514_7b319066044b"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"6228db96-0ca7-4ef0-8d7e-29d067816291","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment_cloned_0","uuid":"373c3814-2386-4ef3-9514-7b319066044b"},"retries":"0","description":"","type":"DAG","uuid":"fb097312-174e-4c57-a9e1-d5f7d6f36c01","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"65532965-73a0-4621-8d20-d47974481149"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_13a01a7a_0d41_ac0c_8633_f3c237ff2124","uuid":"b9a9a23a-7783-45cb-b6e7-68b54cebe846"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_06f22add_e66c_670a_443c_c6fb6a86018d","uuid":"1a0d789d-f1e1-4235-bc4d-43b8e959436a"},{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_373c3814_2386_4ef3_9514_7b319066044b","uuid":"9fdd3da0-311a-4fc1-a4d7-3c5b98bc5dcc"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"65532965-73a0-4621-8d20-d47974481149"},"edge_type":"inherent","type":"","uuid":"08076b8c-a70f-43bd-bb34-6c3a8ebb1112","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_13a01a7a_0d41_ac0c_8633_f3c237ff2124","uuid":"b9a9a23a-7783-45cb-b6e7-68b54cebe846"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_13a01a7a_0d41_ac0c_8633_f3c237ff2124","uuid":"b9a9a23a-7783-45cb-b6e7-68b54cebe846"},"edge_type":"inherent","type":"","uuid":"0b94cdd6-4476-4372-8aa2-11b834783da6","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_06f22add_e66c_670a_443c_c6fb6a86018d","uuid":"1a0d789d-f1e1-4235-bc4d-43b8e959436a"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_06f22add_e66c_670a_443c_c6fb6a86018d","uuid":"1a0d789d-f1e1-4235-bc4d-43b8e959436a"},"edge_type":"inherent","type":"","uuid":"1e98a608-2328-4a5a-9814-94eac4b2f885","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_373c3814_2386_4ef3_9514_7b319066044b","uuid":"9fdd3da0-311a-4fc1-a4d7-3c5b98bc5dcc"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_373c3814_2386_4ef3_9514_7b319066044b"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"65532965-73a0-4621-8d20-d47974481149","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment_cloned_0","uuid":"373c3814-2386-4ef3-9514-7b319066044b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"433fbe65-0fc7-4649-a088-87d5660f88a6"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47"},{"target_any_local_reference":{"kind":"app_package","name":"VMwareDataSetPackage","uuid":"13a01a7a-0d41-ac0c-8633-f3c237ff2124"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"b9a9a23a-7783-45cb-b6e7-68b54cebe846","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_13a01a7a_0d41_ac0c_8633_f3c237ff2124"},{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareDataSet","uuid":"06f22add-e66c-670a-443c-c6fb6a86018d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"1a0d789d-f1e1-4235-bc4d-43b8e959436a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment_cloned_0","uuid":"373c3814-2386-4ef3-9514-7b319066044b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_06f22add_e66c_670a_443c_c6fb6a86018d","uuid":"be0be973-b02f-4d77-b969-8109b3f0b5a8"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Substrate_06f22add_e66c_670a_443c_c6fb6a86018d"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment_cloned_0","uuid":"373c3814-2386-4ef3-9514-7b319066044b"},"retries":"0","description":"","type":"SOFT_DELETE_DEPLOYMENT_ELEMENT","uuid":"9fdd3da0-311a-4fc1-a4d7-3c5b98bc5dcc","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Soft_Delete_373c3814_2386_4ef3_9514_7b319066044b"}],"description":"","message_list":[],"uuid":"0394e668-16da-4ee3-8d04-0779b8f530d7","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_373c3814_2386_4ef3_9514_7b319066044b","uuid":"fb097312-174e-4c57-a9e1-d5f7d6f36c01"},"name":"SYS_GEN__Runbook_Deployment_373c3814_2386_4ef3_9514_7b319066044b"}}],"message_list":[],"published_service_local_reference_list":[],"uuid":"373c3814-2386-4ef3-9514-7b319066044b","min_replicas":"3","state":"ACTIVE","max_replicas":"9","depends_on_list":[],"editables":{"min_replicas":true,"max_replicas":true},"package_local_reference_list":[{"kind":"app_package","name":"VMwareDataSetPackage","uuid":"13a01a7a-0d41-ac0c-8633-f3c237ff2124"}],"substrate_local_reference":{"kind":"app_substrate","name":"VMwareDataSet","uuid":"06f22add-e66c-670a-443c-c6fb6a86018d"},"type":"GREENFIELD","options":{},"variable_list":[],"name":"fc5d23e3_deployment_cloned_0"}],"description":"","action_list":[{"description":"","message_list":[],"uuid":"98771fa7-d3b6-c296-c9cc-7137c029c205","name":"ScaleOut","state":"ACTIVE","critical":false,"attrs":{},"type":"user","runbook":{"task_definition_list":[{"retries":"0","description":"","type":"DAG","uuid":"b545ef1a-13e6-8ba9-a818-888a57ff41de","child_tasks_local_reference_list":[{"kind":"app_task","name":"Scale Out","uuid":"d6e93cc2-89d5-6ba1-e859-c6d1b0aa71f7"},{"kind":"app_task","name":"SetHostsFile1","uuid":"82778ee2-1af8-87f3-c6a5-aa6b17cccc3c"},{"kind":"app_task","name":"AddNewShard","uuid":"8ace5380-3752-5f12-93ae-abd12ad6b3ec"},{"kind":"app_task","name":"SetHostsFile2","uuid":"4b812121-4c06-f64e-bc52-a2a24b54c3c4"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Scale Out","uuid":"d6e93cc2-89d5-6ba1-e859-c6d1b0aa71f7"},"edge_type":"user_defined","type":"","uuid":"6bc1f3ab-861a-54a7-021c-029f80dc290f","to_task_reference":{"kind":"app_task","name":"AddNewShard","uuid":"8ace5380-3752-5f12-93ae-abd12ad6b3ec"}},{"from_task_reference":{"kind":"app_task","name":"Scale Out","uuid":"d6e93cc2-89d5-6ba1-e859-c6d1b0aa71f7"},"edge_type":"user_defined","type":"","uuid":"0869320d-80ab-87eb-a521-e0053dced058","to_task_reference":{"kind":"app_task","name":"SetHostsFile2","uuid":"4b812121-4c06-f64e-bc52-a2a24b54c3c4"}},{"from_task_reference":{"kind":"app_task","name":"Scale Out","uuid":"d6e93cc2-89d5-6ba1-e859-c6d1b0aa71f7"},"edge_type":"user_defined","type":"","uuid":"19c7b9f4-5129-340f-24e4-bd011fa3f268","to_task_reference":{"kind":"app_task","name":"SetHostsFile1","uuid":"82778ee2-1af8-87f3-c6a5-aa6b17cccc3c"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"c03e1222_dag_cloned_1"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment_cloned_0","uuid":"373c3814-2386-4ef3-9514-7b319066044b"},"retries":"0","description":"","type":"SCALING","uuid":"d6e93cc2-89d5-6ba1-e859-c6d1b0aa71f7","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{NODES_PER_REPLICA_SET}@@","type":"","scaling_type":"SCALEOUT"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Scale Out"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"EXEC","uuid":"82778ee2-1af8-87f3-c6a5-aa6b17cccc3c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\ncat > \/tmp\/set-hostnames.py <<EOF\n#!\/usr\/bin\/python\nimport re\nconfig_ips=\"@@{VMwareConfigSet.address}@@\"\ndata_ips=\"@@{calm_array_address}@@\"\nrouter_ips=\"@@{VMwareRouter.address}@@\"\n\nhostfile = open('\/etc\/hosts', 'r').read()\nprint hostfile\nhostfile = re.sub('\\n#MONGODB-BEGIN.*?#MONGODB-END', '', hostfile, flags=re.DOTALL)\nhostfile += \"#MONGODB-BEGIN\\n\"\ncount=1\nfor ip in config_ips.split(','):\n  hostfile += ip + \" config\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in data_ips.split(','):\n  hostfile += ip + \" data\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in router_ips.split(','):\n  hostfile += ip + \" router\" + str(count) + \".mongodb\\n\"\n  count += 1\nhostfile += \"#MONGODB-END\\n\"\nopen('\/etc\/hosts', 'w').write(hostfile)\nEOF\n\nsudo python \/tmp\/set-hostnames.py"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SetHostsFile1"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"EXEC","uuid":"8ace5380-3752-5f12-93ae-abd12ad6b3ec","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\ncat > \/tmp\/set-hostnames.py <<EOF\n#!\/usr\/bin\/python\nimport re\nconfig_ips=\"@@{VMwareConfigSet.address}@@\"\ndata_ips=\"@@{VMwareDataSet.address}@@\"\nrouter_ips=\"@@{calm_array_address}@@\"\n\nhostfile = open('\/etc\/hosts', 'r').read()\nprint hostfile\nhostfile = re.sub('\\n#MONGODB-BEGIN.*?#MONGODB-END', '', hostfile, flags=re.DOTALL)\nhostfile += \"#MONGODB-BEGIN\\n\"\ncount=1\nfor ip in config_ips.split(','):\n  hostfile += ip + \" config\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in data_ips.split(','):\n  hostfile += ip + \" data\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in router_ips.split(','):\n  hostfile += ip + \" router\" + str(count) + \".mongodb\\n\"\n  count += 1\nhostfile += \"#MONGODB-END\\n\"\nopen('\/etc\/hosts', 'w').write(hostfile)\nEOF\n\nsudo python \/tmp\/set-hostnames.py\n\nNODES_PER_REPLICA_SET=\"@@{NODES_PER_REPLICA_SET}@@\"\nINTERNAL_IP=\"@@{address}@@\"\nREPLICA_IPS=($(echo @@{DataSet.address}@@ | sed 's\/^,\/\/' | sed 's\/,$\/\/' | tr \",\" \"\\n\"))\nnoOfShards=$((${#REPLICA_IPS[@]}\/${NODES_PER_REPLICA_SET}))\n\ncount=0\nfor ((number=1;number <= $noOfShards;number++))\ndo\n  replicaSetName=\"dataReplSet${number}\"\n  sudo mongo --host ${INTERNAL_IP} --port 27017 --eval \"sh.addShard( \\\"$replicaSetName\/${REPLICA_IPS[${count}]}:27017\\\" )\"\n  count=$(($count + ${NODES_PER_REPLICA_SET}))\ndone","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"43f2dfc8-f9f0-4085-9434-cf67cd57cdae"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"AddNewShard"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"EXEC","uuid":"4b812121-4c06-f64e-bc52-a2a24b54c3c4","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\ncat > \/tmp\/set-hostnames.py <<EOF\n#!\/usr\/bin\/python\nimport re\nconfig_ips=\"@@{calm_array_address}@@\"\ndata_ips=\"@@{VMwareDataSet.address}@@\"\nrouter_ips=\"@@{VMwareRouter.address}@@\"\n\nhostfile = open('\/etc\/hosts', 'r').read()\nprint hostfile\nhostfile = re.sub('\\n#MONGODB-BEGIN.*?#MONGODB-END', '', hostfile, flags=re.DOTALL)\nhostfile += \"#MONGODB-BEGIN\\n\"\ncount=1\nfor ip in config_ips.split(','):\n  hostfile += ip + \" config\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in data_ips.split(','):\n  hostfile += ip + \" data\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in router_ips.split(','):\n  hostfile += ip + \" router\" + str(count) + \".mongodb\\n\"\n  count += 1\nhostfile += \"#MONGODB-END\\n\"\nopen('\/etc\/hosts', 'w').write(hostfile)\nEOF\n\nsudo python \/tmp\/set-hostnames.py"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SetHostsFile2"}],"description":"","message_list":[],"uuid":"d06cefbf-3144-acc6-0154-44fa35717f65","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"c03e1222_dag_cloned_1","uuid":"b545ef1a-13e6-8ba9-a818-888a57ff41de"},"name":"f0b90ba7_runbook_cloned_0"}},{"description":"","message_list":[],"uuid":"5efc755c-bd5b-0c8a-9661-13cb25173efc","name":"ScaleIn","state":"ACTIVE","critical":false,"attrs":{},"type":"user","runbook":{"task_definition_list":[{"retries":"0","description":"","type":"DAG","uuid":"23c26f26-2fac-1bbc-b28d-baaec0606b1e","child_tasks_local_reference_list":[{"kind":"app_task","name":"Scale In","uuid":"1e6a21ad-a1be-1352-981f-cfc37a324fd9"},{"kind":"app_task","name":"SetHostsFile3","uuid":"b580b527-99d3-8adb-7dd4-8537decd733b"},{"kind":"app_task","name":"SetHostsFile2","uuid":"53c9d34d-70a2-0104-274d-01f92d894364"},{"kind":"app_task","name":"SetHostsFile1","uuid":"726ca309-a0f3-5152-c074-f8b8d9e7e12e"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Scale In","uuid":"1e6a21ad-a1be-1352-981f-cfc37a324fd9"},"edge_type":"user_defined","type":"","uuid":"773a0201-42eb-7a4c-deb6-52c461e36b5e","to_task_reference":{"kind":"app_task","name":"SetHostsFile3","uuid":"b580b527-99d3-8adb-7dd4-8537decd733b"}},{"from_task_reference":{"kind":"app_task","name":"Scale In","uuid":"1e6a21ad-a1be-1352-981f-cfc37a324fd9"},"edge_type":"user_defined","type":"","uuid":"8e6896df-52f1-740c-1142-0ee2b7dc5f57","to_task_reference":{"kind":"app_task","name":"SetHostsFile1","uuid":"726ca309-a0f3-5152-c074-f8b8d9e7e12e"}},{"from_task_reference":{"kind":"app_task","name":"Scale In","uuid":"1e6a21ad-a1be-1352-981f-cfc37a324fd9"},"edge_type":"user_defined","type":"","uuid":"15e581e1-22cd-34bd-746d-3c6c485a15ea","to_task_reference":{"kind":"app_task","name":"SetHostsFile2","uuid":"53c9d34d-70a2-0104-274d-01f92d894364"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"c90468d9_dag_cloned_1"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment_cloned_0","uuid":"373c3814-2386-4ef3-9514-7b319066044b"},"retries":"0","description":"","type":"SCALING","uuid":"1e6a21ad-a1be-1352-981f-cfc37a324fd9","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{NODES_PER_REPLICA_SET}@@","type":"","scaling_type":"SCALEIN"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Scale In"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"EXEC","uuid":"b580b527-99d3-8adb-7dd4-8537decd733b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\ncat > \/tmp\/set-hostnames.py <<EOF\n#!\/usr\/bin\/python\nimport re\nconfig_ips=\"@@{VMwareConfigSet.address}@@\"\ndata_ips=\"@@{calm_array_address}@@\"\nrouter_ips=\"@@{VMwareRouter.address}@@\"\n\nhostfile = open('\/etc\/hosts', 'r').read()\nprint hostfile\nhostfile = re.sub('\\n#MONGODB-BEGIN.*?#MONGODB-END', '', hostfile, flags=re.DOTALL)\nhostfile += \"#MONGODB-BEGIN\\n\"\ncount=1\nfor ip in config_ips.split(','):\n  hostfile += ip + \" config\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in data_ips.split(','):\n  hostfile += ip + \" data\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in router_ips.split(','):\n  hostfile += ip + \" router\" + str(count) + \".mongodb\\n\"\n  count += 1\nhostfile += \"#MONGODB-END\\n\"\nopen('\/etc\/hosts', 'w').write(hostfile)\nEOF\n\nsudo python \/tmp\/set-hostnames.py"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SetHostsFile3"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"EXEC","uuid":"53c9d34d-70a2-0104-274d-01f92d894364","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\ncat > \/tmp\/set-hostnames.py <<EOF\n#!\/usr\/bin\/python\nimport re\nconfig_ips=\"@@{calm_array_address}@@\"\ndata_ips=\"@@{VMwareDataSet.address}@@\"\nrouter_ips=\"@@{VMwareRouter.address}@@\"\n\nhostfile = open('\/etc\/hosts', 'r').read()\nprint hostfile\nhostfile = re.sub('\\n#MONGODB-BEGIN.*?#MONGODB-END', '', hostfile, flags=re.DOTALL)\nhostfile += \"#MONGODB-BEGIN\\n\"\ncount=1\nfor ip in config_ips.split(','):\n  hostfile += ip + \" config\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in data_ips.split(','):\n  hostfile += ip + \" data\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in router_ips.split(','):\n  hostfile += ip + \" router\" + str(count) + \".mongodb\\n\"\n  count += 1\nhostfile += \"#MONGODB-END\\n\"\nopen('\/etc\/hosts', 'w').write(hostfile)\nEOF\n\nsudo python \/tmp\/set-hostnames.py"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SetHostsFile2"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"EXEC","uuid":"726ca309-a0f3-5152-c074-f8b8d9e7e12e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\ncat > \/tmp\/set-hostnames.py <<EOF\n#!\/usr\/bin\/python\nimport re\nconfig_ips=\"@@{VMwareConfigSet.address}@@\"\ndata_ips=\"@@{VMwareDataSet.address}@@\"\nrouter_ips=\"@@{calm_array_address}@@\"\n\nhostfile = open('\/etc\/hosts', 'r').read()\nprint hostfile\nhostfile = re.sub('\\n#MONGODB-BEGIN.*?#MONGODB-END', '', hostfile, flags=re.DOTALL)\nhostfile += \"#MONGODB-BEGIN\\n\"\ncount=1\nfor ip in config_ips.split(','):\n  hostfile += ip + \" config\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in data_ips.split(','):\n  hostfile += ip + \" data\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in router_ips.split(','):\n  hostfile += ip + \" router\" + str(count) + \".mongodb\\n\"\n  count += 1\nhostfile += \"#MONGODB-END\\n\"\nopen('\/etc\/hosts', 'w').write(hostfile)\nEOF\n\nsudo python \/tmp\/set-hostnames.py"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SetHostsFile1"}],"description":"","message_list":[],"uuid":"3e8d2cb9-3470-e604-06a6-c9cef2167a94","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"16d34989-90d9-1473-1630-e9733f4f07d8","value":"","label":"","state":"ACTIVE","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"SHARD_TO_MOVE"}],"main_task_local_reference":{"kind":"app_task","name":"c90468d9_dag_cloned_1","uuid":"23c26f26-2fac-1bbc-b28d-baaec0606b1e"},"name":"d27541f5_runbook_cloned_0"}},{"description":"System action for creating an application","message_list":[],"uuid":"1ee04f24-a83a-48fd-9c53-22472f52f011","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"VMware","uuid":"072a0d12-8639-c2d1-16d9-9def5af5fb59"},"retries":"0","description":"","type":"DAG","uuid":"69c8910d-119d-4e56-9f34-80bdd00d34d6","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__DE_Provision_b420b9ba_66ee_e04a_66f1_05407109321f","uuid":"f0931b48-b36a-4da9-9a7c-602c9d0d7950"},{"kind":"app_task","name":"SYS_GEN__DE_Provision_373c3814_2386_4ef3_9514_7b319066044b","uuid":"bb371ced-ea1f-48e0-a211-c42dcb392814"},{"kind":"app_task","name":"SYS_GEN__DE_Provision_11478ea3_cf94_ab6e_557f_11c7c9a20f08","uuid":"1a7a8249-ac30-4304-80d5-193eb1e1f1eb"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_ceebfa0c_f616_c3ca_4d88_fe76d5434070","uuid":"87856749-f261-4ab9-a7f5-7e3986d5280e"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_ceebfa0c_f616_c3ca_4d88_fe76d5434070_1","uuid":"3dcf655a-8747-42bb-9eb5-e33b3dc41849"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_ceebfa0c_f616_c3ca_4d88_fe76d5434070_2","uuid":"28dc60b7-38d0-4424-bcd7-bf679748e9bd"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_2b99298d_b852_5bda_2c5b_9bc3b7f800e4","uuid":"eab33a1d-8823-4e3a-8be8-6dbdc1ff0708"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_25161802_9ed5_60fa_2a85_553c7df9e7e7","uuid":"556340e9-a332-4282-8f70-b9865c15e91e"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_06f22add_e66c_670a_443c_c6fb6a86018d","uuid":"57f86eba-1bd5-4ae8-818a-4090ff839b37"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_13a01a7a_0d41_ac0c_8633_f3c237ff2124","uuid":"837ce5d9-9f0d-4c00-9a7a-9d32b9245d9c"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_d9461450_276b_14d1_d8b7_4406aacb2683","uuid":"816d060d-c1e9-4b87-9d80-05543004c2d9"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"a5647e6e-851b-4dcd-9f5e-1e44df6511aa"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"ae41d5c2-60b4-4bfa-ae5e-9f49b70e28f5"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"f58a4b8e-20ed-4645-b905-db9cb03d7072"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"3abfbbd7-1aa7-4851-9548-59b16715f13c"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_1d15cc5e_8151_a486_a729_df1537d0319b","uuid":"04269af6-bc24-4f37-ba24-dc14046b044e"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"977ecf7f-279c-46db-ad4f-d5c74b254952"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"58b521b6-b3e1-4d73-99ef-6f438e5f5c31"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"a5647e6e-851b-4dcd-9f5e-1e44df6511aa"},"edge_type":"inherent","type":"","uuid":"1477f498-5264-40dd-b289-b91d98a79d1f","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"f58a4b8e-20ed-4645-b905-db9cb03d7072"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_13a01a7a_0d41_ac0c_8633_f3c237ff2124","uuid":"837ce5d9-9f0d-4c00-9a7a-9d32b9245d9c"},"edge_type":"inherent","type":"","uuid":"cdb90f16-50f7-49f5-bbbe-f2a5810e409b","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"a5647e6e-851b-4dcd-9f5e-1e44df6511aa"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_373c3814_2386_4ef3_9514_7b319066044b","uuid":"bb371ced-ea1f-48e0-a211-c42dcb392814"},"edge_type":"inherent","type":"","uuid":"6c5a6ba7-843b-4efe-8e22-f43be4ac0ed2","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_06f22add_e66c_670a_443c_c6fb6a86018d","uuid":"57f86eba-1bd5-4ae8-818a-4090ff839b37"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_06f22add_e66c_670a_443c_c6fb6a86018d","uuid":"57f86eba-1bd5-4ae8-818a-4090ff839b37"},"edge_type":"inherent","type":"","uuid":"8c7699c7-c45e-40b9-b305-6b17a988bc8b","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_13a01a7a_0d41_ac0c_8633_f3c237ff2124","uuid":"837ce5d9-9f0d-4c00-9a7a-9d32b9245d9c"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_ceebfa0c_f616_c3ca_4d88_fe76d5434070","uuid":"87856749-f261-4ab9-a7f5-7e3986d5280e"},"edge_type":"inherent","type":"","uuid":"c6fb9a2d-9530-4086-a6cb-8b37a141891a","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_06f22add_e66c_670a_443c_c6fb6a86018d","uuid":"57f86eba-1bd5-4ae8-818a-4090ff839b37"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_373c3814_2386_4ef3_9514_7b319066044b","uuid":"bb371ced-ea1f-48e0-a211-c42dcb392814"},"edge_type":"inherent","type":"","uuid":"9363961a-8bf2-4870-bf92-2de160455e14","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_ceebfa0c_f616_c3ca_4d88_fe76d5434070","uuid":"87856749-f261-4ab9-a7f5-7e3986d5280e"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"977ecf7f-279c-46db-ad4f-d5c74b254952"},"edge_type":"inherent","type":"","uuid":"123c55c7-8571-4e2d-b905-570688128880","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"58b521b6-b3e1-4d73-99ef-6f438e5f5c31"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_1d15cc5e_8151_a486_a729_df1537d0319b","uuid":"04269af6-bc24-4f37-ba24-dc14046b044e"},"edge_type":"inherent","type":"","uuid":"d1270235-5d4b-467f-8394-e650e418c417","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"977ecf7f-279c-46db-ad4f-d5c74b254952"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_25161802_9ed5_60fa_2a85_553c7df9e7e7","uuid":"556340e9-a332-4282-8f70-b9865c15e91e"},"edge_type":"inherent","type":"","uuid":"f0476f5e-c16f-4b17-84c4-962ddd7e4759","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_1d15cc5e_8151_a486_a729_df1537d0319b","uuid":"04269af6-bc24-4f37-ba24-dc14046b044e"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_ceebfa0c_f616_c3ca_4d88_fe76d5434070_1","uuid":"3dcf655a-8747-42bb-9eb5-e33b3dc41849"},"edge_type":"inherent","type":"","uuid":"911fd6de-3a90-47cf-89a5-79b0ecf708c0","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_25161802_9ed5_60fa_2a85_553c7df9e7e7","uuid":"556340e9-a332-4282-8f70-b9865c15e91e"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_11478ea3_cf94_ab6e_557f_11c7c9a20f08","uuid":"1a7a8249-ac30-4304-80d5-193eb1e1f1eb"},"edge_type":"inherent","type":"","uuid":"857d4c7d-066f-44b1-aed6-38770cd9c853","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_25161802_9ed5_60fa_2a85_553c7df9e7e7","uuid":"556340e9-a332-4282-8f70-b9865c15e91e"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_11478ea3_cf94_ab6e_557f_11c7c9a20f08","uuid":"1a7a8249-ac30-4304-80d5-193eb1e1f1eb"},"edge_type":"inherent","type":"","uuid":"63101ee6-c76c-4de0-a288-4a10a29083fe","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_ceebfa0c_f616_c3ca_4d88_fe76d5434070_1","uuid":"3dcf655a-8747-42bb-9eb5-e33b3dc41849"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"ae41d5c2-60b4-4bfa-ae5e-9f49b70e28f5"},"edge_type":"inherent","type":"","uuid":"305d79d3-a01b-4dc6-ad6e-d53a92d44f91","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"3abfbbd7-1aa7-4851-9548-59b16715f13c"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_d9461450_276b_14d1_d8b7_4406aacb2683","uuid":"816d060d-c1e9-4b87-9d80-05543004c2d9"},"edge_type":"inherent","type":"","uuid":"047802e3-359b-4ae9-bd86-eea1c24df1da","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"ae41d5c2-60b4-4bfa-ae5e-9f49b70e28f5"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_b420b9ba_66ee_e04a_66f1_05407109321f","uuid":"f0931b48-b36a-4da9-9a7c-602c9d0d7950"},"edge_type":"inherent","type":"","uuid":"1311478d-52a5-457b-8df5-6a4ef9f5475c","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_ceebfa0c_f616_c3ca_4d88_fe76d5434070_2","uuid":"28dc60b7-38d0-4424-bcd7-bf679748e9bd"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_b420b9ba_66ee_e04a_66f1_05407109321f","uuid":"f0931b48-b36a-4da9-9a7c-602c9d0d7950"},"edge_type":"inherent","type":"","uuid":"4a41f1c3-d333-4246-8072-e827eefa1f49","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_2b99298d_b852_5bda_2c5b_9bc3b7f800e4","uuid":"eab33a1d-8823-4e3a-8be8-6dbdc1ff0708"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_2b99298d_b852_5bda_2c5b_9bc3b7f800e4","uuid":"eab33a1d-8823-4e3a-8be8-6dbdc1ff0708"},"edge_type":"inherent","type":"","uuid":"2dcf60c2-14a1-481a-8234-1dc14a585128","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_d9461450_276b_14d1_d8b7_4406aacb2683","uuid":"816d060d-c1e9-4b87-9d80-05543004c2d9"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_ceebfa0c_f616_c3ca_4d88_fe76d5434070_2","uuid":"28dc60b7-38d0-4424-bcd7-bf679748e9bd"},"edge_type":"inherent","type":"","uuid":"24647a05-e31d-4380-85f7-ef70e6c3de5f","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_2b99298d_b852_5bda_2c5b_9bc3b7f800e4","uuid":"eab33a1d-8823-4e3a-8be8-6dbdc1ff0708"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_25161802_9ed5_60fa_2a85_553c7df9e7e7","uuid":"556340e9-a332-4282-8f70-b9865c15e91e"},"edge_type":"dependency","type":"","uuid":"e4095319-e5de-4a7b-b447-fd5b378520cc","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_13a01a7a_0d41_ac0c_8633_f3c237ff2124","uuid":"837ce5d9-9f0d-4c00-9a7a-9d32b9245d9c"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_2b99298d_b852_5bda_2c5b_9bc3b7f800e4","uuid":"eab33a1d-8823-4e3a-8be8-6dbdc1ff0708"},"edge_type":"dependency","type":"","uuid":"8051d8df-5422-4e25-b192-ff6bb5400121","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_13a01a7a_0d41_ac0c_8633_f3c237ff2124","uuid":"837ce5d9-9f0d-4c00-9a7a-9d32b9245d9c"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_06f22add_e66c_670a_443c_c6fb6a86018d","uuid":"57f86eba-1bd5-4ae8-818a-4090ff839b37"},"edge_type":"dependency","type":"","uuid":"7dd17207-8a25-4a5d-9af5-69e779f2fdc4","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_1d15cc5e_8151_a486_a729_df1537d0319b","uuid":"04269af6-bc24-4f37-ba24-dc14046b044e"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"3abfbbd7-1aa7-4851-9548-59b16715f13c"},"edge_type":"dependency","type":"","uuid":"581ffaee-ba49-423e-b6be-19693684f06d","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_1d15cc5e_8151_a486_a729_df1537d0319b","uuid":"04269af6-bc24-4f37-ba24-dc14046b044e"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_2b99298d_b852_5bda_2c5b_9bc3b7f800e4","uuid":"eab33a1d-8823-4e3a-8be8-6dbdc1ff0708"},"edge_type":"dependency","type":"","uuid":"8c11a735-11b8-4a1d-b813-07ae0ea219fd","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_1d15cc5e_8151_a486_a729_df1537d0319b","uuid":"04269af6-bc24-4f37-ba24-dc14046b044e"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"f58a4b8e-20ed-4645-b905-db9cb03d7072"},"edge_type":"dependency","type":"","uuid":"55edadb7-d45d-4fff-b3d2-12088fa44cb3","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_1d15cc5e_8151_a486_a729_df1537d0319b","uuid":"04269af6-bc24-4f37-ba24-dc14046b044e"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_25161802_9ed5_60fa_2a85_553c7df9e7e7","uuid":"556340e9-a332-4282-8f70-b9865c15e91e"},"edge_type":"dependency","type":"","uuid":"d4696405-0e60-47da-8c72-9b84ebf92897","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_d9461450_276b_14d1_d8b7_4406aacb2683","uuid":"816d060d-c1e9-4b87-9d80-05543004c2d9"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_06f22add_e66c_670a_443c_c6fb6a86018d","uuid":"57f86eba-1bd5-4ae8-818a-4090ff839b37"},"edge_type":"dependency","type":"","uuid":"84ae874e-8e25-4da6-a210-0486a5a0551b","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_d9461450_276b_14d1_d8b7_4406aacb2683","uuid":"816d060d-c1e9-4b87-9d80-05543004c2d9"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_072a0d12_8639_c2d1_16d9_9def5af5fb59"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"86730684_deployment_cloned_0","uuid":"b420b9ba-66ee-e04a-66f1-05407109321f"},"retries":"0","description":"","type":"CREATE_DEPLOYMENT_ELEMENT","uuid":"f0931b48-b36a-4da9-9a7c-602c9d0d7950","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Provision_b420b9ba_66ee_e04a_66f1_05407109321f"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment_cloned_0","uuid":"373c3814-2386-4ef3-9514-7b319066044b"},"retries":"0","description":"","type":"CREATE_DEPLOYMENT_ELEMENT","uuid":"bb371ced-ea1f-48e0-a211-c42dcb392814","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Provision_373c3814_2386_4ef3_9514_7b319066044b"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"ff4974a5_deployment_cloned_0","uuid":"11478ea3-cf94-ab6e-557f-11c7c9a20f08"},"retries":"0","description":"","type":"CREATE_DEPLOYMENT_ELEMENT","uuid":"1a7a8249-ac30-4304-80d5-193eb1e1f1eb","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Provision_11478ea3_cf94_ab6e_557f_11c7c9a20f08"},{"target_any_local_reference":{"kind":"app_package","name":"ESX_CENTOS_76","uuid":"ceebfa0c-f616-c3ca-4d88-fe76d5434070"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"87856749-f261-4ab9-a7f5-7e3986d5280e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment_cloned_0","uuid":"373c3814-2386-4ef3-9514-7b319066044b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_ceebfa0c_f616_c3ca_4d88_fe76d5434070","uuid":"36344bea-5eb1-4062-9712-b5087f716c8e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_ceebfa0c_f616_c3ca_4d88_fe76d5434070"},{"target_any_local_reference":{"kind":"app_package","name":"ESX_CENTOS_76","uuid":"ceebfa0c-f616-c3ca-4d88-fe76d5434070"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"3dcf655a-8747-42bb-9eb5-e33b3dc41849","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"ff4974a5_deployment_cloned_0","uuid":"11478ea3-cf94-ab6e-557f-11c7c9a20f08"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_ceebfa0c_f616_c3ca_4d88_fe76d5434070","uuid":"36344bea-5eb1-4062-9712-b5087f716c8e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_ceebfa0c_f616_c3ca_4d88_fe76d5434070_1"},{"target_any_local_reference":{"kind":"app_package","name":"ESX_CENTOS_76","uuid":"ceebfa0c-f616-c3ca-4d88-fe76d5434070"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"28dc60b7-38d0-4424-bcd7-bf679748e9bd","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"86730684_deployment_cloned_0","uuid":"b420b9ba-66ee-e04a-66f1-05407109321f"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_ceebfa0c_f616_c3ca_4d88_fe76d5434070","uuid":"36344bea-5eb1-4062-9712-b5087f716c8e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_ceebfa0c_f616_c3ca_4d88_fe76d5434070_2"},{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareConfigSet","uuid":"2b99298d-b852-5bda-2c5b-9bc3b7f800e4"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"eab33a1d-8823-4e3a-8be8-6dbdc1ff0708","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"86730684_deployment_cloned_0","uuid":"b420b9ba-66ee-e04a-66f1-05407109321f"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_2b99298d_b852_5bda_2c5b_9bc3b7f800e4","uuid":"f5af4138-e703-46ef-a35a-959792505109"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Substrate_2b99298d_b852_5bda_2c5b_9bc3b7f800e4"},{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareRouter","uuid":"25161802-9ed5-60fa-2a85-553c7df9e7e7"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"556340e9-a332-4282-8f70-b9865c15e91e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"ff4974a5_deployment_cloned_0","uuid":"11478ea3-cf94-ab6e-557f-11c7c9a20f08"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_25161802_9ed5_60fa_2a85_553c7df9e7e7","uuid":"eb73678e-ec19-4a3f-b8cd-a58bfd3cedac"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Substrate_25161802_9ed5_60fa_2a85_553c7df9e7e7"},{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareDataSet","uuid":"06f22add-e66c-670a-443c-c6fb6a86018d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"57f86eba-1bd5-4ae8-818a-4090ff839b37","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment_cloned_0","uuid":"373c3814-2386-4ef3-9514-7b319066044b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_06f22add_e66c_670a_443c_c6fb6a86018d","uuid":"99e6cd80-321e-41b5-9229-8ba1125411e6"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Substrate_06f22add_e66c_670a_443c_c6fb6a86018d"},{"target_any_local_reference":{"kind":"app_package","name":"VMwareDataSetPackage","uuid":"13a01a7a-0d41-ac0c-8633-f3c237ff2124"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"837ce5d9-9f0d-4c00-9a7a-9d32b9245d9c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment_cloned_0","uuid":"373c3814-2386-4ef3-9514-7b319066044b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_13a01a7a_0d41_ac0c_8633_f3c237ff2124","uuid":"a3ab1688-c6e6-42e6-aeb5-4892ab0c2fa2"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_13a01a7a_0d41_ac0c_8633_f3c237ff2124"},{"target_any_local_reference":{"kind":"app_package","name":"VMwareConfigSetPackage","uuid":"d9461450-276b-14d1-d8b7-4406aacb2683"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"816d060d-c1e9-4b87-9d80-05543004c2d9","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"86730684_deployment_cloned_0","uuid":"b420b9ba-66ee-e04a-66f1-05407109321f"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_d9461450_276b_14d1_d8b7_4406aacb2683","uuid":"f08f8c67-703c-4ad4-99f1-70c153856828"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_d9461450_276b_14d1_d8b7_4406aacb2683"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"a5647e6e-851b-4dcd-9f5e-1e44df6511aa","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment_cloned_0","uuid":"373c3814-2386-4ef3-9514-7b319066044b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0bda2b69_runbook","uuid":"c08988e8-53fc-48b3-942d-00d118016989"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"ae41d5c2-60b4-4bfa-ae5e-9f49b70e28f5","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"86730684_deployment_cloned_0","uuid":"b420b9ba-66ee-e04a-66f1-05407109321f"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0a879260_runbook","uuid":"741de02d-b511-4b87-8b94-a1b0b74e0fb7"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"f58a4b8e-20ed-4645-b905-db9cb03d7072","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment_cloned_0","uuid":"373c3814-2386-4ef3-9514-7b319066044b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0f1333dd_runbook","uuid":"43f16a26-e0b7-42a9-b2de-6e6d4147d381"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"3abfbbd7-1aa7-4851-9548-59b16715f13c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"86730684_deployment_cloned_0","uuid":"b420b9ba-66ee-e04a-66f1-05407109321f"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"f4695758_runbook","uuid":"0c2528e9-82d6-40bc-9b4d-721eabd37ead"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd"},{"target_any_local_reference":{"kind":"app_package","name":"VMwareRouterPackage","uuid":"1d15cc5e-8151-a486-a729-df1537d0319b"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"04269af6-bc24-4f37-ba24-dc14046b044e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"ff4974a5_deployment_cloned_0","uuid":"11478ea3-cf94-ab6e-557f-11c7c9a20f08"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_1d15cc5e_8151_a486_a729_df1537d0319b","uuid":"3de9f874-adc0-4927-9e27-b6b580bd2d46"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_1d15cc5e_8151_a486_a729_df1537d0319b"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"977ecf7f-279c-46db-ad4f-d5c74b254952","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"ff4974a5_deployment_cloned_0","uuid":"11478ea3-cf94-ab6e-557f-11c7c9a20f08"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"f678ba44_runbook","uuid":"6f256634-e57a-41ea-a837-438a40018db7"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"58b521b6-b3e1-4d73-99ef-6f438e5f5c31","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"ff4974a5_deployment_cloned_0","uuid":"11478ea3-cf94-ab6e-557f-11c7c9a20f08"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"6729beee_runbook","uuid":"28341bf4-2766-4701-8747-1722ed61db3c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e"}],"description":"","message_list":[],"uuid":"339137f8-207b-49ef-bf7e-3171b9cf938e","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_072a0d12_8639_c2d1_16d9_9def5af5fb59","uuid":"69c8910d-119d-4e56-9f34-80bdd00d34d6"},"name":"SYS_GEN__Runbook_Application_072a0d12_8639_c2d1_16d9_9def5af5fb59"}},{"description":"System action for starting an application","message_list":[],"uuid":"33753d37-011a-4fb3-8a22-816738e84ba1","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"VMware","uuid":"072a0d12-8639-c2d1-16d9-9def5af5fb59"},"retries":"0","description":"","type":"DAG","uuid":"bd7c0e3c-3fee-4c0a-8cf6-625456dc36a6","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_25161802_9ed5_60fa_2a85_553c7df9e7e7","uuid":"da79a2f9-db27-483a-baf6-71430ad43fdb"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_06f22add_e66c_670a_443c_c6fb6a86018d","uuid":"0434b4ae-71e2-4d0d-bf49-34e0754ca0cc"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_2b99298d_b852_5bda_2c5b_9bc3b7f800e4","uuid":"0d3b7d6c-b075-4a32-861b-82ef1ef40282"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"9648be06-2ad5-4239-b6ac-75313f2a9d15"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"1222143f-4c84-441e-b56d-eec9280ed0f1"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"d06a5b1d-ca84-4d63-8032-bd400bf03276"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_06f22add_e66c_670a_443c_c6fb6a86018d","uuid":"0434b4ae-71e2-4d0d-bf49-34e0754ca0cc"},"edge_type":"inherent","type":"","uuid":"65f67b93-9d00-4065-855d-1f42074111e0","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"1222143f-4c84-441e-b56d-eec9280ed0f1"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_25161802_9ed5_60fa_2a85_553c7df9e7e7","uuid":"da79a2f9-db27-483a-baf6-71430ad43fdb"},"edge_type":"inherent","type":"","uuid":"344f68b7-ca03-4670-aab9-1553296b68f6","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"9648be06-2ad5-4239-b6ac-75313f2a9d15"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_2b99298d_b852_5bda_2c5b_9bc3b7f800e4","uuid":"0d3b7d6c-b075-4a32-861b-82ef1ef40282"},"edge_type":"inherent","type":"","uuid":"eaeb70b8-a902-408b-ba92-a7a6570f6094","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"d06a5b1d-ca84-4d63-8032-bd400bf03276"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_072a0d12_8639_c2d1_16d9_9def5af5fb59"},{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareRouter","uuid":"25161802-9ed5-60fa-2a85-553c7df9e7e7"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"da79a2f9-db27-483a-baf6-71430ad43fdb","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"ff4974a5_deployment_cloned_0","uuid":"11478ea3-cf94-ab6e-557f-11c7c9a20f08"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_25161802_9ed5_60fa_2a85_553c7df9e7e7","uuid":"ec8b313a-6359-43be-9d17-fe7a31729fcc"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Substrate_25161802_9ed5_60fa_2a85_553c7df9e7e7"},{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareDataSet","uuid":"06f22add-e66c-670a-443c-c6fb6a86018d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"0434b4ae-71e2-4d0d-bf49-34e0754ca0cc","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment_cloned_0","uuid":"373c3814-2386-4ef3-9514-7b319066044b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_06f22add_e66c_670a_443c_c6fb6a86018d","uuid":"e8fd2def-41bb-498d-aabf-051de33cae08"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Substrate_06f22add_e66c_670a_443c_c6fb6a86018d"},{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareConfigSet","uuid":"2b99298d-b852-5bda-2c5b-9bc3b7f800e4"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"0d3b7d6c-b075-4a32-861b-82ef1ef40282","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"86730684_deployment_cloned_0","uuid":"b420b9ba-66ee-e04a-66f1-05407109321f"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_2b99298d_b852_5bda_2c5b_9bc3b7f800e4","uuid":"2046f918-1bba-478c-b571-d65ab961095b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Substrate_2b99298d_b852_5bda_2c5b_9bc3b7f800e4"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"9648be06-2ad5-4239-b6ac-75313f2a9d15","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"ff4974a5_deployment_cloned_0","uuid":"11478ea3-cf94-ab6e-557f-11c7c9a20f08"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"6729beee_runbook","uuid":"28341bf4-2766-4701-8747-1722ed61db3c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"1222143f-4c84-441e-b56d-eec9280ed0f1","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment_cloned_0","uuid":"373c3814-2386-4ef3-9514-7b319066044b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0f1333dd_runbook","uuid":"43f16a26-e0b7-42a9-b2de-6e6d4147d381"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"d06a5b1d-ca84-4d63-8032-bd400bf03276","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"86730684_deployment_cloned_0","uuid":"b420b9ba-66ee-e04a-66f1-05407109321f"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"f4695758_runbook","uuid":"0c2528e9-82d6-40bc-9b4d-721eabd37ead"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd"}],"description":"","message_list":[],"uuid":"7e56f9cc-c819-4934-9f1f-6c032eb069cb","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_072a0d12_8639_c2d1_16d9_9def5af5fb59","uuid":"bd7c0e3c-3fee-4c0a-8cf6-625456dc36a6"},"name":"SYS_GEN__Runbook_Application_072a0d12_8639_c2d1_16d9_9def5af5fb59"}},{"description":"System action for restarting an application","message_list":[],"uuid":"70be5f1f-0c2b-4ddf-900f-2ff9b7fed2bf","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"VMware","uuid":"072a0d12-8639-c2d1-16d9-9def5af5fb59"},"retries":"0","description":"","type":"DAG","uuid":"2b68636c-532e-4d7e-96ef-3732ef651c0c","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_25161802_9ed5_60fa_2a85_553c7df9e7e7","uuid":"d3647ff5-d14b-4753-bc4d-919a7a01a96e"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_06f22add_e66c_670a_443c_c6fb6a86018d","uuid":"6f0db784-b1bd-4dc1-9485-52b0bae0387f"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_2b99298d_b852_5bda_2c5b_9bc3b7f800e4","uuid":"20bbe561-f084-4ac8-bc80-e7770db57ee5"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"126d9295-4065-4fc4-a049-b895482d1b24"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"f30e8368-a61e-4f55-9f99-5bfbfddb8622"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"c72b12ed-2250-40f2-a309-2cad30fcb75c"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_06f22add_e66c_670a_443c_c6fb6a86018d","uuid":"6f0db784-b1bd-4dc1-9485-52b0bae0387f"},"edge_type":"inherent","type":"","uuid":"0303fd9c-1cb9-4617-8f37-f3e75353ad8b","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"126d9295-4065-4fc4-a049-b895482d1b24"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_25161802_9ed5_60fa_2a85_553c7df9e7e7","uuid":"d3647ff5-d14b-4753-bc4d-919a7a01a96e"},"edge_type":"inherent","type":"","uuid":"8e359e7d-4b27-475f-b508-61dec44f5681","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"f30e8368-a61e-4f55-9f99-5bfbfddb8622"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_2b99298d_b852_5bda_2c5b_9bc3b7f800e4","uuid":"20bbe561-f084-4ac8-bc80-e7770db57ee5"},"edge_type":"inherent","type":"","uuid":"9f04e9c2-74da-438b-8390-9cfb321ff0b8","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"c72b12ed-2250-40f2-a309-2cad30fcb75c"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_072a0d12_8639_c2d1_16d9_9def5af5fb59"},{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareRouter","uuid":"25161802-9ed5-60fa-2a85-553c7df9e7e7"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"d3647ff5-d14b-4753-bc4d-919a7a01a96e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"ff4974a5_deployment_cloned_0","uuid":"11478ea3-cf94-ab6e-557f-11c7c9a20f08"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_25161802_9ed5_60fa_2a85_553c7df9e7e7","uuid":"9027cdb6-3cff-480f-aee1-7b0e53954297"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Substrate_25161802_9ed5_60fa_2a85_553c7df9e7e7"},{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareDataSet","uuid":"06f22add-e66c-670a-443c-c6fb6a86018d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"6f0db784-b1bd-4dc1-9485-52b0bae0387f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment_cloned_0","uuid":"373c3814-2386-4ef3-9514-7b319066044b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_06f22add_e66c_670a_443c_c6fb6a86018d","uuid":"f2bc8083-9446-49d8-bf9c-dd29d8eba490"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Substrate_06f22add_e66c_670a_443c_c6fb6a86018d"},{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareConfigSet","uuid":"2b99298d-b852-5bda-2c5b-9bc3b7f800e4"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"20bbe561-f084-4ac8-bc80-e7770db57ee5","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"86730684_deployment_cloned_0","uuid":"b420b9ba-66ee-e04a-66f1-05407109321f"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_2b99298d_b852_5bda_2c5b_9bc3b7f800e4","uuid":"c7bb4adf-8da0-43da-a495-cac70e774316"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Substrate_2b99298d_b852_5bda_2c5b_9bc3b7f800e4"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"126d9295-4065-4fc4-a049-b895482d1b24","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment_cloned_0","uuid":"373c3814-2386-4ef3-9514-7b319066044b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"4f7b2559_runbook","uuid":"03856e37-e1bf-4b7c-95bb-87bf81c6c940"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"f30e8368-a61e-4f55-9f99-5bfbfddb8622","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"ff4974a5_deployment_cloned_0","uuid":"11478ea3-cf94-ab6e-557f-11c7c9a20f08"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"5261a312_runbook","uuid":"dcdcb0d6-e68b-4641-8609-e6dc92c57b21"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"c72b12ed-2250-40f2-a309-2cad30fcb75c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"86730684_deployment_cloned_0","uuid":"b420b9ba-66ee-e04a-66f1-05407109321f"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"b7169291_runbook","uuid":"7c36f5f8-9e8b-4f97-b855-438dc7eb8f3d"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd"}],"description":"","message_list":[],"uuid":"6d62eb97-c96d-4d16-9b5f-48b4b8d05047","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_072a0d12_8639_c2d1_16d9_9def5af5fb59","uuid":"2b68636c-532e-4d7e-96ef-3732ef651c0c"},"name":"SYS_GEN__Runbook_Application_072a0d12_8639_c2d1_16d9_9def5af5fb59"}},{"description":"System action for stopping an application","message_list":[],"uuid":"26424bde-f31a-4e9e-a847-063ae29af44a","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"VMware","uuid":"072a0d12-8639-c2d1-16d9-9def5af5fb59"},"retries":"0","description":"","type":"DAG","uuid":"70dbc338-a848-4e4c-a5fa-87123451b199","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"bee0d3e6-432d-46ca-ae34-2c410f3e77de"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"a4eeb7cb-a6b5-437a-8149-15769929ab49"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"9e775a84-835e-4e1b-8cc0-e8ef5c485557"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_2b99298d_b852_5bda_2c5b_9bc3b7f800e4","uuid":"83bad033-d1ff-4bd7-b69b-3176b8988ae4"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_25161802_9ed5_60fa_2a85_553c7df9e7e7","uuid":"250b3901-d046-49c9-804c-74b220369c15"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_06f22add_e66c_670a_443c_c6fb6a86018d","uuid":"a5268c89-2981-46c1-975a-a821927b6ca1"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"a4eeb7cb-a6b5-437a-8149-15769929ab49"},"edge_type":"inherent","type":"","uuid":"56f2d92a-734a-4341-a2ef-a2ead984f801","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_06f22add_e66c_670a_443c_c6fb6a86018d","uuid":"a5268c89-2981-46c1-975a-a821927b6ca1"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"bee0d3e6-432d-46ca-ae34-2c410f3e77de"},"edge_type":"inherent","type":"","uuid":"3560f3aa-256b-4465-bd72-da63f26e5e74","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_25161802_9ed5_60fa_2a85_553c7df9e7e7","uuid":"250b3901-d046-49c9-804c-74b220369c15"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"9e775a84-835e-4e1b-8cc0-e8ef5c485557"},"edge_type":"inherent","type":"","uuid":"cdda696e-c157-407c-a710-69621b59cd2a","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_2b99298d_b852_5bda_2c5b_9bc3b7f800e4","uuid":"83bad033-d1ff-4bd7-b69b-3176b8988ae4"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_072a0d12_8639_c2d1_16d9_9def5af5fb59"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"bee0d3e6-432d-46ca-ae34-2c410f3e77de","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"ff4974a5_deployment_cloned_0","uuid":"11478ea3-cf94-ab6e-557f-11c7c9a20f08"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"6d2afcdd_runbook","uuid":"215f65d0-6496-443c-9017-6dec4743560f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"a4eeb7cb-a6b5-437a-8149-15769929ab49","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment_cloned_0","uuid":"373c3814-2386-4ef3-9514-7b319066044b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"85883b0a_runbook","uuid":"42cf4c9d-d9e5-435e-b222-f2d33a05683f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"9e775a84-835e-4e1b-8cc0-e8ef5c485557","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"86730684_deployment_cloned_0","uuid":"b420b9ba-66ee-e04a-66f1-05407109321f"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"a33b20bd_runbook","uuid":"e6335ceb-f00b-4ec5-8425-3864e1897a7d"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd"},{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareConfigSet","uuid":"2b99298d-b852-5bda-2c5b-9bc3b7f800e4"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"83bad033-d1ff-4bd7-b69b-3176b8988ae4","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"86730684_deployment_cloned_0","uuid":"b420b9ba-66ee-e04a-66f1-05407109321f"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_2b99298d_b852_5bda_2c5b_9bc3b7f800e4","uuid":"974f0436-b71c-4dc9-bffb-fff1117a87ad"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Substrate_2b99298d_b852_5bda_2c5b_9bc3b7f800e4"},{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareRouter","uuid":"25161802-9ed5-60fa-2a85-553c7df9e7e7"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"250b3901-d046-49c9-804c-74b220369c15","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"ff4974a5_deployment_cloned_0","uuid":"11478ea3-cf94-ab6e-557f-11c7c9a20f08"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_25161802_9ed5_60fa_2a85_553c7df9e7e7","uuid":"9abeb19b-9d82-4a2a-9f16-90012751ebb3"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Substrate_25161802_9ed5_60fa_2a85_553c7df9e7e7"},{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareDataSet","uuid":"06f22add-e66c-670a-443c-c6fb6a86018d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"a5268c89-2981-46c1-975a-a821927b6ca1","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment_cloned_0","uuid":"373c3814-2386-4ef3-9514-7b319066044b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_06f22add_e66c_670a_443c_c6fb6a86018d","uuid":"84f8c1b0-a6ef-449c-81e5-ad18078d735c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Substrate_06f22add_e66c_670a_443c_c6fb6a86018d"}],"description":"","message_list":[],"uuid":"680ae46b-981c-4d66-a2ec-67c874e30a34","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_072a0d12_8639_c2d1_16d9_9def5af5fb59","uuid":"70dbc338-a848-4e4c-a5fa-87123451b199"},"name":"SYS_GEN__Runbook_Application_072a0d12_8639_c2d1_16d9_9def5af5fb59"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"9c6a6999-5dde-473f-8853-ce3cc6094bb5","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"VMware","uuid":"072a0d12-8639-c2d1-16d9-9def5af5fb59"},"retries":"0","description":"","type":"DAG","uuid":"6caafe5e-b481-4574-bf5b-2329ef9ff042","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"ac0b7a3e-0ae5-488f-ae41-6a1c6080a8ce"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"201e61d3-0ad5-4523-b0f5-c9733a746f91"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_1d15cc5e_8151_a486_a729_df1537d0319b","uuid":"cdb50d09-72e5-4f1f-9d04-7d9df0871e28"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"29f019a4-413a-4acd-a10d-fe941dec92d3"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"7e1d650d-c78d-4614-9189-aaf3aa1d6b30"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"018e5895-c9bd-450d-b941-74eb06421923"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"7f648a2a-0a43-426f-ba74-b7d2cc7811ac"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_13a01a7a_0d41_ac0c_8633_f3c237ff2124","uuid":"2863ca7e-fcd6-4768-b9fd-fc79ad1e32c3"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_d9461450_276b_14d1_d8b7_4406aacb2683","uuid":"57c0bc3f-1a35-40e8-94df-81e3c771b815"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_25161802_9ed5_60fa_2a85_553c7df9e7e7","uuid":"2c6e1d50-5acb-4bb1-9f3d-02baeb8095c7"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_06f22add_e66c_670a_443c_c6fb6a86018d","uuid":"ff0b9f31-98a7-4b11-837f-9b605363f5ba"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_2b99298d_b852_5bda_2c5b_9bc3b7f800e4","uuid":"c1e49671-65a9-4d29-9de9-4b38ebbd455e"},{"kind":"app_task","name":"SYS_GEN__DE_Delete_11478ea3_cf94_ab6e_557f_11c7c9a20f08","uuid":"b085093b-804e-402d-9a21-3ad609b4efb2"},{"kind":"app_task","name":"SYS_GEN__DE_Delete_b420b9ba_66ee_e04a_66f1_05407109321f","uuid":"07ccc629-0bb6-4be6-ab69-4257d67f00b3"},{"kind":"app_task","name":"SYS_GEN__DE_Delete_373c3814_2386_4ef3_9514_7b319066044b","uuid":"3d766913-97c1-481a-85fb-39b2431aa62a"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"7e1d650d-c78d-4614-9189-aaf3aa1d6b30"},"edge_type":"inherent","type":"","uuid":"74c29b10-191e-48de-851a-2e49f2919e02","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"018e5895-c9bd-450d-b941-74eb06421923"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"018e5895-c9bd-450d-b941-74eb06421923"},"edge_type":"inherent","type":"","uuid":"e8d6320c-78e9-47d3-be14-ff94a7d65811","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_13a01a7a_0d41_ac0c_8633_f3c237ff2124","uuid":"2863ca7e-fcd6-4768-b9fd-fc79ad1e32c3"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_06f22add_e66c_670a_443c_c6fb6a86018d","uuid":"ff0b9f31-98a7-4b11-837f-9b605363f5ba"},"edge_type":"inherent","type":"","uuid":"a4cc438a-cc8a-40ad-b880-68629fda7441","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Delete_373c3814_2386_4ef3_9514_7b319066044b","uuid":"3d766913-97c1-481a-85fb-39b2431aa62a"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_13a01a7a_0d41_ac0c_8633_f3c237ff2124","uuid":"2863ca7e-fcd6-4768-b9fd-fc79ad1e32c3"},"edge_type":"inherent","type":"","uuid":"259a23e6-5b05-41c3-b9be-d23651ce896c","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_06f22add_e66c_670a_443c_c6fb6a86018d","uuid":"ff0b9f31-98a7-4b11-837f-9b605363f5ba"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"ac0b7a3e-0ae5-488f-ae41-6a1c6080a8ce"},"edge_type":"inherent","type":"","uuid":"35925551-b267-4b74-a980-9000856df8a1","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"201e61d3-0ad5-4523-b0f5-c9733a746f91"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"201e61d3-0ad5-4523-b0f5-c9733a746f91"},"edge_type":"inherent","type":"","uuid":"c9cbbfb1-65c6-42cd-b4e5-af5696af2679","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_1d15cc5e_8151_a486_a729_df1537d0319b","uuid":"cdb50d09-72e5-4f1f-9d04-7d9df0871e28"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_25161802_9ed5_60fa_2a85_553c7df9e7e7","uuid":"2c6e1d50-5acb-4bb1-9f3d-02baeb8095c7"},"edge_type":"inherent","type":"","uuid":"8a7e67f6-f059-448a-af8c-5c8bda11518e","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Delete_11478ea3_cf94_ab6e_557f_11c7c9a20f08","uuid":"b085093b-804e-402d-9a21-3ad609b4efb2"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_1d15cc5e_8151_a486_a729_df1537d0319b","uuid":"cdb50d09-72e5-4f1f-9d04-7d9df0871e28"},"edge_type":"inherent","type":"","uuid":"67852f77-827a-4ef9-bbb9-232bd7757319","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_25161802_9ed5_60fa_2a85_553c7df9e7e7","uuid":"2c6e1d50-5acb-4bb1-9f3d-02baeb8095c7"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"29f019a4-413a-4acd-a10d-fe941dec92d3"},"edge_type":"inherent","type":"","uuid":"07e84c93-6e29-4159-a086-0e82b3d7f91b","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"7f648a2a-0a43-426f-ba74-b7d2cc7811ac"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"7f648a2a-0a43-426f-ba74-b7d2cc7811ac"},"edge_type":"inherent","type":"","uuid":"ead9606b-a6cc-46a2-a73c-2f1fe74631f2","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_d9461450_276b_14d1_d8b7_4406aacb2683","uuid":"57c0bc3f-1a35-40e8-94df-81e3c771b815"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_2b99298d_b852_5bda_2c5b_9bc3b7f800e4","uuid":"c1e49671-65a9-4d29-9de9-4b38ebbd455e"},"edge_type":"inherent","type":"","uuid":"40bcbff8-0e4c-44ba-99e7-7c1bcca23413","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Delete_b420b9ba_66ee_e04a_66f1_05407109321f","uuid":"07ccc629-0bb6-4be6-ab69-4257d67f00b3"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_d9461450_276b_14d1_d8b7_4406aacb2683","uuid":"57c0bc3f-1a35-40e8-94df-81e3c771b815"},"edge_type":"inherent","type":"","uuid":"76ca1f6d-62fb-48c6-8137-161004a4253e","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_2b99298d_b852_5bda_2c5b_9bc3b7f800e4","uuid":"c1e49671-65a9-4d29-9de9-4b38ebbd455e"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_13a01a7a_0d41_ac0c_8633_f3c237ff2124","uuid":"2863ca7e-fcd6-4768-b9fd-fc79ad1e32c3"},"edge_type":"create_action_edge","type":"","uuid":"6f86b749-794a-44ce-82fb-6422072a7d13","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_25161802_9ed5_60fa_2a85_553c7df9e7e7","uuid":"2c6e1d50-5acb-4bb1-9f3d-02baeb8095c7"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_13a01a7a_0d41_ac0c_8633_f3c237ff2124","uuid":"2863ca7e-fcd6-4768-b9fd-fc79ad1e32c3"},"edge_type":"create_action_edge","type":"","uuid":"4dfddfc0-2e46-4706-a35f-016278520326","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_2b99298d_b852_5bda_2c5b_9bc3b7f800e4","uuid":"c1e49671-65a9-4d29-9de9-4b38ebbd455e"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_1d15cc5e_8151_a486_a729_df1537d0319b","uuid":"cdb50d09-72e5-4f1f-9d04-7d9df0871e28"},"edge_type":"create_action_edge","type":"","uuid":"34996e5c-b581-4f49-b527-cd53cb9d5324","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_06f22add_e66c_670a_443c_c6fb6a86018d","uuid":"ff0b9f31-98a7-4b11-837f-9b605363f5ba"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_1d15cc5e_8151_a486_a729_df1537d0319b","uuid":"cdb50d09-72e5-4f1f-9d04-7d9df0871e28"},"edge_type":"create_action_edge","type":"","uuid":"c4e45b0e-24c6-4f26-964d-3c229162a62a","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"29f019a4-413a-4acd-a10d-fe941dec92d3"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_1d15cc5e_8151_a486_a729_df1537d0319b","uuid":"cdb50d09-72e5-4f1f-9d04-7d9df0871e28"},"edge_type":"create_action_edge","type":"","uuid":"5b11ec7e-dfae-4452-bfb9-6a374138caee","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_2b99298d_b852_5bda_2c5b_9bc3b7f800e4","uuid":"c1e49671-65a9-4d29-9de9-4b38ebbd455e"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_1d15cc5e_8151_a486_a729_df1537d0319b","uuid":"cdb50d09-72e5-4f1f-9d04-7d9df0871e28"},"edge_type":"create_action_edge","type":"","uuid":"c070462d-2497-40fb-932a-78d90d62d3bd","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"7e1d650d-c78d-4614-9189-aaf3aa1d6b30"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_d9461450_276b_14d1_d8b7_4406aacb2683","uuid":"57c0bc3f-1a35-40e8-94df-81e3c771b815"},"edge_type":"create_action_edge","type":"","uuid":"eebc8602-e27f-4a0f-8fd9-af083e910978","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_25161802_9ed5_60fa_2a85_553c7df9e7e7","uuid":"2c6e1d50-5acb-4bb1-9f3d-02baeb8095c7"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_d9461450_276b_14d1_d8b7_4406aacb2683","uuid":"57c0bc3f-1a35-40e8-94df-81e3c771b815"},"edge_type":"create_action_edge","type":"","uuid":"987c9c7e-1d77-4d6f-afd9-7447b74a5ff4","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_06f22add_e66c_670a_443c_c6fb6a86018d","uuid":"ff0b9f31-98a7-4b11-837f-9b605363f5ba"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_072a0d12_8639_c2d1_16d9_9def5af5fb59"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"ac0b7a3e-0ae5-488f-ae41-6a1c6080a8ce","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"ff4974a5_deployment_cloned_0","uuid":"11478ea3-cf94-ab6e-557f-11c7c9a20f08"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"6d2afcdd_runbook","uuid":"215f65d0-6496-443c-9017-6dec4743560f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"201e61d3-0ad5-4523-b0f5-c9733a746f91","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"ff4974a5_deployment_cloned_0","uuid":"11478ea3-cf94-ab6e-557f-11c7c9a20f08"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"6631f4bd_runbook","uuid":"d80d8f71-625e-4530-bf85-66347f427405"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e"},{"target_any_local_reference":{"kind":"app_package","name":"VMwareRouterPackage","uuid":"1d15cc5e-8151-a486-a729-df1537d0319b"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"cdb50d09-72e5-4f1f-9d04-7d9df0871e28","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"ff4974a5_deployment_cloned_0","uuid":"11478ea3-cf94-ab6e-557f-11c7c9a20f08"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_1d15cc5e_8151_a486_a729_df1537d0319b","uuid":"ba2f5180-2193-43a2-9e08-2fce3380e04f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_1d15cc5e_8151_a486_a729_df1537d0319b"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"29f019a4-413a-4acd-a10d-fe941dec92d3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"86730684_deployment_cloned_0","uuid":"b420b9ba-66ee-e04a-66f1-05407109321f"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"a33b20bd_runbook","uuid":"e6335ceb-f00b-4ec5-8425-3864e1897a7d"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"7e1d650d-c78d-4614-9189-aaf3aa1d6b30","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment_cloned_0","uuid":"373c3814-2386-4ef3-9514-7b319066044b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"85883b0a_runbook","uuid":"42cf4c9d-d9e5-435e-b222-f2d33a05683f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"018e5895-c9bd-450d-b941-74eb06421923","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment_cloned_0","uuid":"373c3814-2386-4ef3-9514-7b319066044b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"036f3879_runbook","uuid":"c6545ccb-d141-45bd-bf59-cf1e44946785"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"7f648a2a-0a43-426f-ba74-b7d2cc7811ac","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"86730684_deployment_cloned_0","uuid":"b420b9ba-66ee-e04a-66f1-05407109321f"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"3c3538b9_runbook","uuid":"8625e87a-c851-44ac-9a8c-6808a1ac5574"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd"},{"target_any_local_reference":{"kind":"app_package","name":"VMwareDataSetPackage","uuid":"13a01a7a-0d41-ac0c-8633-f3c237ff2124"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"2863ca7e-fcd6-4768-b9fd-fc79ad1e32c3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment_cloned_0","uuid":"373c3814-2386-4ef3-9514-7b319066044b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_13a01a7a_0d41_ac0c_8633_f3c237ff2124","uuid":"eae2eda1-1424-4938-aad6-4b24e8c5732f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_13a01a7a_0d41_ac0c_8633_f3c237ff2124"},{"target_any_local_reference":{"kind":"app_package","name":"VMwareConfigSetPackage","uuid":"d9461450-276b-14d1-d8b7-4406aacb2683"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"57c0bc3f-1a35-40e8-94df-81e3c771b815","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"86730684_deployment_cloned_0","uuid":"b420b9ba-66ee-e04a-66f1-05407109321f"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_d9461450_276b_14d1_d8b7_4406aacb2683","uuid":"91346631-b8f3-4027-a28c-1c2258479c1c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_d9461450_276b_14d1_d8b7_4406aacb2683"},{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareRouter","uuid":"25161802-9ed5-60fa-2a85-553c7df9e7e7"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"2c6e1d50-5acb-4bb1-9f3d-02baeb8095c7","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"ff4974a5_deployment_cloned_0","uuid":"11478ea3-cf94-ab6e-557f-11c7c9a20f08"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_25161802_9ed5_60fa_2a85_553c7df9e7e7","uuid":"88073051-bd2a-4762-95c1-a2bff2f7887f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Substrate_25161802_9ed5_60fa_2a85_553c7df9e7e7"},{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareDataSet","uuid":"06f22add-e66c-670a-443c-c6fb6a86018d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"ff0b9f31-98a7-4b11-837f-9b605363f5ba","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment_cloned_0","uuid":"373c3814-2386-4ef3-9514-7b319066044b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_06f22add_e66c_670a_443c_c6fb6a86018d","uuid":"31f2da9e-d6c8-4f61-b378-80ac14fa5f1e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Substrate_06f22add_e66c_670a_443c_c6fb6a86018d"},{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareConfigSet","uuid":"2b99298d-b852-5bda-2c5b-9bc3b7f800e4"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"c1e49671-65a9-4d29-9de9-4b38ebbd455e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"86730684_deployment_cloned_0","uuid":"b420b9ba-66ee-e04a-66f1-05407109321f"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_2b99298d_b852_5bda_2c5b_9bc3b7f800e4","uuid":"b05544a6-ed04-43eb-b589-0190375cd56b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Substrate_2b99298d_b852_5bda_2c5b_9bc3b7f800e4"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"ff4974a5_deployment_cloned_0","uuid":"11478ea3-cf94-ab6e-557f-11c7c9a20f08"},"retries":"0","description":"","type":"DELETE_DEPLOYMENT_ELEMENT","uuid":"b085093b-804e-402d-9a21-3ad609b4efb2","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Delete_11478ea3_cf94_ab6e_557f_11c7c9a20f08"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"86730684_deployment_cloned_0","uuid":"b420b9ba-66ee-e04a-66f1-05407109321f"},"retries":"0","description":"","type":"DELETE_DEPLOYMENT_ELEMENT","uuid":"07ccc629-0bb6-4be6-ab69-4257d67f00b3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Delete_b420b9ba_66ee_e04a_66f1_05407109321f"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment_cloned_0","uuid":"373c3814-2386-4ef3-9514-7b319066044b"},"retries":"0","description":"","type":"DELETE_DEPLOYMENT_ELEMENT","uuid":"3d766913-97c1-481a-85fb-39b2431aa62a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Delete_373c3814_2386_4ef3_9514_7b319066044b"}],"description":"","message_list":[],"uuid":"8863df72-4424-4adc-ac24-ab8a84dfe770","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_072a0d12_8639_c2d1_16d9_9def5af5fb59","uuid":"6caafe5e-b481-4574-bf5b-2329ef9ff042"},"name":"SYS_GEN__Runbook_Application_072a0d12_8639_c2d1_16d9_9def5af5fb59"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"15d08992-bef8-49c4-ab6c-ff815adbad53","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"VMware","uuid":"072a0d12-8639-c2d1-16d9-9def5af5fb59"},"retries":"0","description":"","type":"DAG","uuid":"e1cb73d8-4db9-45cd-8069-a6b6fb2ddd00","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"f5137f1d-74ba-42c9-9bb1-a0840cce3758"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_1d15cc5e_8151_a486_a729_df1537d0319b","uuid":"1979e961-cfd0-4fb6-8a49-e5c85e7bc97b"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"9e138f48-074c-4e28-9132-9a9bdde15d8f"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"55d1c11c-3c6a-45c4-8fe3-435b96682223"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_13a01a7a_0d41_ac0c_8633_f3c237ff2124","uuid":"b9e8c06c-39db-4aff-a9f7-33e935d2e3a3"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_d9461450_276b_14d1_d8b7_4406aacb2683","uuid":"c5e7a1da-2bfc-4608-a6d2-f898283ffd82"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_2b99298d_b852_5bda_2c5b_9bc3b7f800e4","uuid":"4e681fa7-4ade-4cba-b676-27df33f989f6"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_06f22add_e66c_670a_443c_c6fb6a86018d","uuid":"c8aa3ae8-8782-422d-99eb-920dc92fa3e0"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_25161802_9ed5_60fa_2a85_553c7df9e7e7","uuid":"e5464936-0690-43bf-bb87-33eb0e3b28a1"},{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_b420b9ba_66ee_e04a_66f1_05407109321f","uuid":"7239bcea-cd71-4bb0-89dd-bff321fb01a8"},{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_373c3814_2386_4ef3_9514_7b319066044b","uuid":"6563ea45-da43-452a-9796-f47991c84553"},{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_11478ea3_cf94_ab6e_557f_11c7c9a20f08","uuid":"dc447ea3-fd24-4e1b-8d8d-d4299f8058d0"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"9e138f48-074c-4e28-9132-9a9bdde15d8f"},"edge_type":"inherent","type":"","uuid":"04efb8c6-925a-4c85-bbfc-24f53fec5ddc","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_13a01a7a_0d41_ac0c_8633_f3c237ff2124","uuid":"b9e8c06c-39db-4aff-a9f7-33e935d2e3a3"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_13a01a7a_0d41_ac0c_8633_f3c237ff2124","uuid":"b9e8c06c-39db-4aff-a9f7-33e935d2e3a3"},"edge_type":"inherent","type":"","uuid":"5c52d43f-4a76-4216-90f3-6817355c1ffc","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_06f22add_e66c_670a_443c_c6fb6a86018d","uuid":"c8aa3ae8-8782-422d-99eb-920dc92fa3e0"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_06f22add_e66c_670a_443c_c6fb6a86018d","uuid":"c8aa3ae8-8782-422d-99eb-920dc92fa3e0"},"edge_type":"inherent","type":"","uuid":"e6097ab2-8425-4f70-9581-27b8c8e245ab","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_373c3814_2386_4ef3_9514_7b319066044b","uuid":"6563ea45-da43-452a-9796-f47991c84553"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"f5137f1d-74ba-42c9-9bb1-a0840cce3758"},"edge_type":"inherent","type":"","uuid":"f81fbb4a-576e-402f-9b80-b2f2df408201","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_1d15cc5e_8151_a486_a729_df1537d0319b","uuid":"1979e961-cfd0-4fb6-8a49-e5c85e7bc97b"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_1d15cc5e_8151_a486_a729_df1537d0319b","uuid":"1979e961-cfd0-4fb6-8a49-e5c85e7bc97b"},"edge_type":"inherent","type":"","uuid":"77475bd3-6f93-4df8-b2d8-cb726423d045","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_25161802_9ed5_60fa_2a85_553c7df9e7e7","uuid":"e5464936-0690-43bf-bb87-33eb0e3b28a1"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_25161802_9ed5_60fa_2a85_553c7df9e7e7","uuid":"e5464936-0690-43bf-bb87-33eb0e3b28a1"},"edge_type":"inherent","type":"","uuid":"0b73250d-2a33-41e5-9d62-ca286417a55b","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_11478ea3_cf94_ab6e_557f_11c7c9a20f08","uuid":"dc447ea3-fd24-4e1b-8d8d-d4299f8058d0"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"55d1c11c-3c6a-45c4-8fe3-435b96682223"},"edge_type":"inherent","type":"","uuid":"c73ef8c4-7f65-4538-8bff-d4bbc7ec5a28","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_d9461450_276b_14d1_d8b7_4406aacb2683","uuid":"c5e7a1da-2bfc-4608-a6d2-f898283ffd82"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_d9461450_276b_14d1_d8b7_4406aacb2683","uuid":"c5e7a1da-2bfc-4608-a6d2-f898283ffd82"},"edge_type":"inherent","type":"","uuid":"f19e0fc6-258d-4092-bba4-53fd15e60d02","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_2b99298d_b852_5bda_2c5b_9bc3b7f800e4","uuid":"4e681fa7-4ade-4cba-b676-27df33f989f6"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_2b99298d_b852_5bda_2c5b_9bc3b7f800e4","uuid":"4e681fa7-4ade-4cba-b676-27df33f989f6"},"edge_type":"inherent","type":"","uuid":"f11d04c1-41b1-491d-9e89-e290566f4dec","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_b420b9ba_66ee_e04a_66f1_05407109321f","uuid":"7239bcea-cd71-4bb0-89dd-bff321fb01a8"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_13a01a7a_0d41_ac0c_8633_f3c237ff2124","uuid":"b9e8c06c-39db-4aff-a9f7-33e935d2e3a3"},"edge_type":"create_action_edge","type":"","uuid":"13be6a57-0fb3-4fc2-8e72-9f177d79ba12","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_25161802_9ed5_60fa_2a85_553c7df9e7e7","uuid":"e5464936-0690-43bf-bb87-33eb0e3b28a1"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_13a01a7a_0d41_ac0c_8633_f3c237ff2124","uuid":"b9e8c06c-39db-4aff-a9f7-33e935d2e3a3"},"edge_type":"create_action_edge","type":"","uuid":"8ce96c29-ba7c-4536-b704-3d4768320b93","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_2b99298d_b852_5bda_2c5b_9bc3b7f800e4","uuid":"4e681fa7-4ade-4cba-b676-27df33f989f6"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_1d15cc5e_8151_a486_a729_df1537d0319b","uuid":"1979e961-cfd0-4fb6-8a49-e5c85e7bc97b"},"edge_type":"create_action_edge","type":"","uuid":"c566d822-af5f-4b82-acb1-8bc1c8e3be90","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_06f22add_e66c_670a_443c_c6fb6a86018d","uuid":"c8aa3ae8-8782-422d-99eb-920dc92fa3e0"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_1d15cc5e_8151_a486_a729_df1537d0319b","uuid":"1979e961-cfd0-4fb6-8a49-e5c85e7bc97b"},"edge_type":"create_action_edge","type":"","uuid":"10abc842-e1e7-4363-ba56-34903fe28691","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"55d1c11c-3c6a-45c4-8fe3-435b96682223"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_1d15cc5e_8151_a486_a729_df1537d0319b","uuid":"1979e961-cfd0-4fb6-8a49-e5c85e7bc97b"},"edge_type":"create_action_edge","type":"","uuid":"28bdf34e-0111-40ad-afcf-2f644a314e90","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_2b99298d_b852_5bda_2c5b_9bc3b7f800e4","uuid":"4e681fa7-4ade-4cba-b676-27df33f989f6"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_1d15cc5e_8151_a486_a729_df1537d0319b","uuid":"1979e961-cfd0-4fb6-8a49-e5c85e7bc97b"},"edge_type":"create_action_edge","type":"","uuid":"af64b4db-682d-4373-8a1d-a2fdc35426d8","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"9e138f48-074c-4e28-9132-9a9bdde15d8f"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_d9461450_276b_14d1_d8b7_4406aacb2683","uuid":"c5e7a1da-2bfc-4608-a6d2-f898283ffd82"},"edge_type":"create_action_edge","type":"","uuid":"6f678237-3e53-4ec3-aea4-331223f24c25","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_25161802_9ed5_60fa_2a85_553c7df9e7e7","uuid":"e5464936-0690-43bf-bb87-33eb0e3b28a1"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_d9461450_276b_14d1_d8b7_4406aacb2683","uuid":"c5e7a1da-2bfc-4608-a6d2-f898283ffd82"},"edge_type":"create_action_edge","type":"","uuid":"70b085a2-3e4f-40bd-af1b-8573c73d5121","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_06f22add_e66c_670a_443c_c6fb6a86018d","uuid":"c8aa3ae8-8782-422d-99eb-920dc92fa3e0"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_072a0d12_8639_c2d1_16d9_9def5af5fb59"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"f5137f1d-74ba-42c9-9bb1-a0840cce3758","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"ff4974a5_deployment_cloned_0","uuid":"11478ea3-cf94-ab6e-557f-11c7c9a20f08"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"3fe61be2-c077-40a8-91a6-e9e75a5d2af3"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e"},{"target_any_local_reference":{"kind":"app_package","name":"VMwareRouterPackage","uuid":"1d15cc5e-8151-a486-a729-df1537d0319b"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"1979e961-cfd0-4fb6-8a49-e5c85e7bc97b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_1d15cc5e_8151_a486_a729_df1537d0319b"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"9e138f48-074c-4e28-9132-9a9bdde15d8f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment_cloned_0","uuid":"373c3814-2386-4ef3-9514-7b319066044b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"433fbe65-0fc7-4649-a088-87d5660f88a6"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"55d1c11c-3c6a-45c4-8fe3-435b96682223","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"86730684_deployment_cloned_0","uuid":"b420b9ba-66ee-e04a-66f1-05407109321f"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"71c44ff6-8283-4578-8e15-dbf648d09ee4"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd"},{"target_any_local_reference":{"kind":"app_package","name":"VMwareDataSetPackage","uuid":"13a01a7a-0d41-ac0c-8633-f3c237ff2124"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"b9e8c06c-39db-4aff-a9f7-33e935d2e3a3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_13a01a7a_0d41_ac0c_8633_f3c237ff2124"},{"target_any_local_reference":{"kind":"app_package","name":"VMwareConfigSetPackage","uuid":"d9461450-276b-14d1-d8b7-4406aacb2683"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"c5e7a1da-2bfc-4608-a6d2-f898283ffd82","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_d9461450_276b_14d1_d8b7_4406aacb2683"},{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareConfigSet","uuid":"2b99298d-b852-5bda-2c5b-9bc3b7f800e4"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"4e681fa7-4ade-4cba-b676-27df33f989f6","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"86730684_deployment_cloned_0","uuid":"b420b9ba-66ee-e04a-66f1-05407109321f"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_2b99298d_b852_5bda_2c5b_9bc3b7f800e4","uuid":"a051ba7f-6d14-435b-84ef-f7e63b0aaa45"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Substrate_2b99298d_b852_5bda_2c5b_9bc3b7f800e4"},{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareDataSet","uuid":"06f22add-e66c-670a-443c-c6fb6a86018d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"c8aa3ae8-8782-422d-99eb-920dc92fa3e0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment_cloned_0","uuid":"373c3814-2386-4ef3-9514-7b319066044b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_06f22add_e66c_670a_443c_c6fb6a86018d","uuid":"be0be973-b02f-4d77-b969-8109b3f0b5a8"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Substrate_06f22add_e66c_670a_443c_c6fb6a86018d"},{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareRouter","uuid":"25161802-9ed5-60fa-2a85-553c7df9e7e7"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"e5464936-0690-43bf-bb87-33eb0e3b28a1","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"ff4974a5_deployment_cloned_0","uuid":"11478ea3-cf94-ab6e-557f-11c7c9a20f08"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_25161802_9ed5_60fa_2a85_553c7df9e7e7","uuid":"f541300e-7cd0-4453-969a-c2fc9c17770f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Substrate_25161802_9ed5_60fa_2a85_553c7df9e7e7"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"86730684_deployment_cloned_0","uuid":"b420b9ba-66ee-e04a-66f1-05407109321f"},"retries":"0","description":"","type":"SOFT_DELETE_DEPLOYMENT_ELEMENT","uuid":"7239bcea-cd71-4bb0-89dd-bff321fb01a8","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Soft_Delete_b420b9ba_66ee_e04a_66f1_05407109321f"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"fc5d23e3_deployment_cloned_0","uuid":"373c3814-2386-4ef3-9514-7b319066044b"},"retries":"0","description":"","type":"SOFT_DELETE_DEPLOYMENT_ELEMENT","uuid":"6563ea45-da43-452a-9796-f47991c84553","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Soft_Delete_373c3814_2386_4ef3_9514_7b319066044b"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"ff4974a5_deployment_cloned_0","uuid":"11478ea3-cf94-ab6e-557f-11c7c9a20f08"},"retries":"0","description":"","type":"SOFT_DELETE_DEPLOYMENT_ELEMENT","uuid":"dc447ea3-fd24-4e1b-8d8d-d4299f8058d0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Soft_Delete_11478ea3_cf94_ab6e_557f_11c7c9a20f08"}],"description":"","message_list":[],"uuid":"7e83d70a-0b96-4273-a1db-4308c39a7282","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_072a0d12_8639_c2d1_16d9_9def5af5fb59","uuid":"e1cb73d8-4db9-45cd-8069-a6b6fb2ddd00"},"name":"SYS_GEN__Runbook_Application_072a0d12_8639_c2d1_16d9_9def5af5fb59"}}],"message_list":[],"uuid":"072a0d12-8639-c2d1-16d9-9def5af5fb59","state":"ACTIVE","dependency_list":[{"getter_resource_kind":"PackageCfg","setter_resource_attr":"address","setter_resource_kind":"SubstrateCfg","setter_resource_name":"VMwareRouter","action_name":"action_create","action_resource_name":"VMware","getter_resource_name":"VMwareDataSetPackage","action_resource_kind":"ApplicationCfg"},{"getter_resource_kind":"PackageCfg","setter_resource_attr":"address","setter_resource_kind":"SubstrateCfg","setter_resource_name":"VMwareConfigSet","action_name":"action_create","action_resource_name":"VMware","getter_resource_name":"VMwareDataSetPackage","action_resource_kind":"ApplicationCfg"},{"getter_resource_kind":"PackageCfg","setter_resource_attr":"address","setter_resource_kind":"SubstrateCfg","setter_resource_name":"VMwareDataSet","action_name":"action_create","action_resource_name":"VMware","getter_resource_name":"VMwareRouterPackage","action_resource_kind":"ApplicationCfg"},{"getter_resource_kind":"PackageCfg","setter_resource_attr":"address","setter_resource_kind":"ServiceCfg","setter_resource_name":"ConfigSet","action_name":"action_create","action_resource_name":"VMware","getter_resource_name":"VMwareRouterPackage","action_resource_kind":"ApplicationCfg"},{"getter_resource_kind":"PackageCfg","setter_resource_attr":"address","setter_resource_kind":"SubstrateCfg","setter_resource_name":"VMwareConfigSet","action_name":"action_create","action_resource_name":"VMware","getter_resource_name":"VMwareRouterPackage","action_resource_kind":"ApplicationCfg"},{"getter_resource_kind":"PackageCfg","setter_resource_attr":"address","setter_resource_kind":"ServiceCfg","setter_resource_name":"DataSet","action_name":"action_create","action_resource_name":"VMware","getter_resource_name":"VMwareRouterPackage","action_resource_kind":"ApplicationCfg"},{"getter_resource_kind":"PackageCfg","setter_resource_attr":"address","setter_resource_kind":"SubstrateCfg","setter_resource_name":"VMwareRouter","action_name":"action_create","action_resource_name":"VMware","getter_resource_name":"VMwareConfigSetPackage","action_resource_kind":"ApplicationCfg"},{"getter_resource_kind":"PackageCfg","setter_resource_attr":"address","setter_resource_kind":"SubstrateCfg","setter_resource_name":"VMwareDataSet","action_name":"action_create","action_resource_name":"VMware","getter_resource_name":"VMwareConfigSetPackage","action_resource_kind":"ApplicationCfg"}],"variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"9583d2b7-cbe1-f334-84e9-1234c5b0de3d","value":"3.4.2","label":"","state":"ACTIVE","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"MONGO_VERSION"},{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"40c44be2-7c3e-6dc4-3164-f3002e3be9c2","value":"3","label":"","state":"ACTIVE","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"NODES_PER_REPLICA_SET"},{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"d417ff7e-bbc9-3fae-cd10-46c463b56b5e","value":"\/mongodb\/data","label":"","state":"ACTIVE","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"DATA_PATH"},{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"a53c3940-ff16-4356-4b20-473e0bd1456d","value":"\/mongodb\/journal","label":"","state":"ACTIVE","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"JOURNAL_PATH"},{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"b18136aa-d7c2-9b9b-a3bf-325ea27b2567","value":"\/mongodb\/log","label":"","state":"ACTIVE","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"LOG_PATH"}],"name":"VMware"}],"published_service_definition_list":[],"default_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"43f2dfc8-f9f0-4085-9434-cf67cd57cdae"},"package_definition_list":[{"description":"","action_list":[{"description":"System action for installing an application","message_list":[],"uuid":"14f0af2d-310f-47b3-994f-79448b4b4383","name":"action_install","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVRouterPackage","uuid":"a5843e3f-6aa0-452e-801b-2940a59c8f83"},"retries":"0","description":"","type":"DAG","uuid":"198ccb9f-b7aa-45a1-9943-ad5524bf1204","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Install_Crb_a5843e3f_6aa0_452e_801b_2940a59c8f83","uuid":"259894cc-ad57-400a-bb4d-febdb71a6725"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Package_a5843e3f_6aa0_452e_801b_2940a59c8f83"},{"target_any_local_reference":{"kind":"app_package","name":"AHVRouterPackage","uuid":"a5843e3f-6aa0-452e-801b-2940a59c8f83"},"retries":"0","description":"","type":"CUSTOM_PACKAGE_INSTALL","uuid":"259894cc-ad57-400a-bb4d-febdb71a6725","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVRouterPackage","uuid":"a5843e3f-6aa0-452e-801b-2940a59c8f83"},"retries":"0","description":"","type":"DAG","uuid":"6fedbca0-d367-4048-9d7d-05cbc350ad86","child_tasks_local_reference_list":[{"kind":"app_task","name":"Router Install","uuid":"c1c679cd-56d0-4261-884c-654591ef3ba5"},{"kind":"app_task","name":"Router Configure","uuid":"922fe594-e73f-4591-8d31-a53cf96f2a25"},{"kind":"app_task","name":"Start Shard","uuid":"b4d6cb7a-a660-4a7a-9c5e-c998fd33dd26"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Router Install","uuid":"c1c679cd-56d0-4261-884c-654591ef3ba5"},"edge_type":"user_defined","type":"","uuid":"1fc9e78b-fb4d-4140-bee3-b668c5625486","to_task_reference":{"kind":"app_task","name":"Router Configure","uuid":"922fe594-e73f-4591-8d31-a53cf96f2a25"}},{"from_task_reference":{"kind":"app_task","name":"Router Configure","uuid":"922fe594-e73f-4591-8d31-a53cf96f2a25"},"edge_type":"user_defined","type":"","uuid":"610b6bbf-a0e1-4e88-81b6-a4ae8154276a","to_task_reference":{"kind":"app_task","name":"Start Shard","uuid":"b4d6cb7a-a660-4a7a-9c5e-c998fd33dd26"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"300a2866_dag"},{"target_any_local_reference":{"kind":"app_package","name":"AHVRouterPackage","uuid":"a5843e3f-6aa0-452e-801b-2940a59c8f83"},"retries":"0","description":"","type":"EXEC","uuid":"c1c679cd-56d0-4261-884c-654591ef3ba5","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nVERSION=\"@@{MONGO_VERSION}@@\"\nDATA_PATH=\"@@{DATA_PATH}@@\"\nJOURNAL_PATH=\"@@{JOURNAL_PATH}@@\"\nLOG_PATH=\"@@{LOG_PATH}@@\"\nsudo hostnamectl set-hostname --static @@{name}@@\n\ncat > \/tmp\/set-hostnames.py <<EOF\n#!\/usr\/bin\/python\nimport re\nconfig_ips=\"@@{AHVConfigSet.address}@@\"\ndata_ips=\"@@{AHVDataSet.address}@@\"\nrouter_ips=\"@@{calm_array_address}@@\"\n\nhostfile = open('\/etc\/hosts', 'r').read()\nprint hostfile\nhostfile = re.sub('\\n#MONGODB-BEGIN.*?#MONGODB-END', '', hostfile, flags=re.DOTALL)\nhostfile += \"#MONGODB-BEGIN\\n\"\ncount=1\nfor ip in config_ips.split(','):\n  hostfile += ip + \" config\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in data_ips.split(','):\n  hostfile += ip + \" data\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in router_ips.split(','):\n  hostfile += ip + \" router\" + str(count) + \".mongodb\\n\"\n  count += 1\nhostfile += \"#MONGODB-END\\n\"\nopen('\/etc\/hosts', 'w').write(hostfile)\nEOF\n\nsudo python \/tmp\/set-hostnames.py\n\nif [[ -f \/sys\/kernel\/mm\/transparent_hugepage\/enabled ]];then\n\techo never | sudo tee \/sys\/kernel\/mm\/transparent_hugepage\/enabled\nfi\nif [[ -f \/sys\/kernel\/mm\/transparent_hugepage\/defrag ]];then\n\techo never | sudo tee \/sys\/kernel\/mm\/transparent_hugepage\/defrag\nfi\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho '[mongodb-org-3.4]\nname=MongoDB Repository\nbaseurl=https:\/\/repo.mongodb.org\/yum\/redhat\/$releasever\/mongodb-org\/3.4\/x86_64\/\ngpgcheck=1\nenabled=1\ngpgkey=https:\/\/www.mongodb.org\/static\/pgp\/server-3.4.asc' | sudo tee \/etc\/yum.repos.d\/mongodb-3.4.repo\n\nsudo yum update -y --quiet\nsudo yum install -y --quiet mongodb-org-${VERSION} mongodb-org-server-${VERSION} mongodb-org-shell-${VERSION} mongodb-org-mongos-${VERSION} mongodb-org-tools-${VERSION}\n\necho 'exclude=mongodb-org*' | sudo tee -a \/etc\/yum.conf\n\nsudo mkdir -p ${DATA_PATH} ${JOURNAL_PATH} ${LOG_PATH}\nsudo ln -s ${JOURNAL_PATH} ${DATA_PATH}\/journal\nsudo chown -R mongod:mongod ${DATA_PATH} ${JOURNAL_PATH} ${LOG_PATH}"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Router Install"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"EXEC","uuid":"922fe594-e73f-4591-8d31-a53cf96f2a25","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nCONFIG_SRV_IPS=\"@@{ConfigSet.address}@@\"\nDATA_PATH=\"@@{DATA_PATH}@@\"\n\nconfig_ips=$(echo \"${CONFIG_SRV_IPS}\" | sed 's\/^,\/\/' | sed 's\/,$\/\/' | sed 's\/,\/:27017,\/g')\nconfig_ips=$config_ips\":27017\"\n\nsudo sed -i 's\/bindIp:\/#bindIp:\/g' \/etc\/mongod.conf\nsudo sed -i \"s#\/var\/lib\/mongo#${DATA_PATH}#g\" \/etc\/mongod.conf\n\necho \"[Unit]\nDescription=High-performance, schema-free document-oriented database\nAfter=network.target\nDocumentation=https:\/\/docs.mongodb.org\/manual\n\n[Service]\nUser=mongod\nGroup=mongod\nEnvironment=\\\"OPTIONS=--port 27017 --configdb configReplSet\/$config_ips --logpath \/var\/log\/mongodb\/mongos.log\\\"\nExecStart=\/usr\/bin\/mongos \\$OPTIONS\nPermissionsStartOnly=true\nPIDFile=\/var\/run\/mongodb\/mongos.pid\n# file size\nLimitFSIZE=infinity\n# cpu time\nLimitCPU=infinity\n# virtual memory size\nLimitAS=infinity\n# open files\nLimitNOFILE=64000\n# processes\/threads\nLimitNPROC=64000\n# total threads (user+kernel)\nTasksMax=infinity\nTasksAccounting=false\n# Recommended limits for for mongod as specified in\n# http:\/\/docs.mongodb.org\/manual\/reference\/ulimit\/#recommended-settings\n\n[Install]\nWantedBy=multi-user.target\" | sudo tee \/usr\/lib\/systemd\/system\/mongos.service\n\nsudo systemctl start mongos\n#sudo -u mongod -b mongos --port 27017 --configdb  --logpath \/var\/log\/mongodb\/mongos.log \n\nsleep 2"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Router Configure"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"EXEC","uuid":"b4d6cb7a-a660-4a7a-9c5e-c998fd33dd26","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\nNODES_PER_REPLICA_SET=\"@@{NODES_PER_REPLICA_SET}@@\"\nINTERNAL_IP=\"@@{address}@@\"\nREPLICA_IPS=($(echo @@{DataSet.address}@@ | sed 's\/^,\/\/' | sed 's\/,$\/\/' | tr \",\" \"\\n\"))\nnoOfShards=$((${#REPLICA_IPS[@]}\/${NODES_PER_REPLICA_SET}))\n\ncount=0\nfor ((number=1;number <= $noOfShards;number++))\ndo\n  replicaSetName=\"dataReplSet${number}\"\n  sudo mongo --host ${INTERNAL_IP} --port 27017 --eval \"sh.addShard( \\\"$replicaSetName\/${REPLICA_IPS[${count}]}:27017\\\" )\"\n  count=$(($count + ${NODES_PER_REPLICA_SET}))\ndone"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Start Shard"}],"description":"","message_list":[],"uuid":"dbb576d2-5662-4ba2-baa9-0c83277a23c4","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"300a2866_dag","uuid":"6fedbca0-d367-4048-9d7d-05cbc350ad86"},"name":"e0b4ff16_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVRouterPackage","uuid":"a5843e3f-6aa0-452e-801b-2940a59c8f83"},"retries":"0","description":"","type":"DAG","uuid":"930d5b53-bbd8-494a-b82c-89b843e225bc","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"2991f5d5_dag"}],"description":"","message_list":[],"uuid":"c2e411e4-146d-4086-a074-e0e4303ef119","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"2991f5d5_dag","uuid":"930d5b53-bbd8-494a-b82c-89b843e225bc"},"name":"c63c23aa_runbook"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Install_Crb_a5843e3f_6aa0_452e_801b_2940a59c8f83"}],"description":"","message_list":[],"uuid":"433e8cb8-18ee-4bd6-a6a5-6a244c27874e","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Package_a5843e3f_6aa0_452e_801b_2940a59c8f83","uuid":"198ccb9f-b7aa-45a1-9943-ad5524bf1204"},"name":"SYS_GEN__Runbook_Package_a5843e3f_6aa0_452e_801b_2940a59c8f83"}},{"description":"System action for creating an application","message_list":[],"uuid":"14f6edf7-385c-4fd9-b1ce-fcb5938babad","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVRouterPackage","uuid":"a5843e3f-6aa0-452e-801b-2940a59c8f83"},"retries":"0","description":"","type":"DAG","uuid":"ddb13d76-de0c-4c0e-a865-960bf9217cb3","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_a5843e3f_6aa0_452e_801b_2940a59c8f83","uuid":"3e16674d-64cd-4eb1-bb5a-2fadeaa298a8"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"7cb01dde-6f9e-445b-9a24-b3f290daa5ae"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"34317294-ce77-4040-81e4-00980885b82b"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"7cb01dde-6f9e-445b-9a24-b3f290daa5ae"},"edge_type":"inherent","type":"","uuid":"8a0a0c18-5d7d-4a0c-9f95-f5621a268517","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"34317294-ce77-4040-81e4-00980885b82b"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_a5843e3f_6aa0_452e_801b_2940a59c8f83","uuid":"3e16674d-64cd-4eb1-bb5a-2fadeaa298a8"},"edge_type":"inherent","type":"","uuid":"b0c9f3fb-0d89-4a52-8f26-bdc6c72ac505","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"7cb01dde-6f9e-445b-9a24-b3f290daa5ae"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_a5843e3f_6aa0_452e_801b_2940a59c8f83"},{"target_any_local_reference":{"kind":"app_package","name":"AHVRouterPackage","uuid":"a5843e3f-6aa0-452e-801b-2940a59c8f83"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"3e16674d-64cd-4eb1-bb5a-2fadeaa298a8","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_a5843e3f_6aa0_452e_801b_2940a59c8f83","uuid":"433e8cb8-18ee-4bd6-a6a5-6a244c27874e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_a5843e3f_6aa0_452e_801b_2940a59c8f83"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"7cb01dde-6f9e-445b-9a24-b3f290daa5ae","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"f678ba44_runbook","uuid":"6f256634-e57a-41ea-a837-438a40018db7"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"34317294-ce77-4040-81e4-00980885b82b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"6729beee_runbook","uuid":"28341bf4-2766-4701-8747-1722ed61db3c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e"}],"description":"","message_list":[],"uuid":"3b7ca311-8290-4e5d-9336-227c5c812980","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_a5843e3f_6aa0_452e_801b_2940a59c8f83","uuid":"ddb13d76-de0c-4c0e-a865-960bf9217cb3"},"name":"SYS_GEN__Runbook_Package_a5843e3f_6aa0_452e_801b_2940a59c8f83"}},{"description":"System action for uninstalling an application","message_list":[],"uuid":"d9bff53d-abac-4bb6-82e7-62f144ef0331","name":"action_uninstall","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVRouterPackage","uuid":"a5843e3f-6aa0-452e-801b-2940a59c8f83"},"retries":"0","description":"","type":"DAG","uuid":"87e26191-4e22-475c-8ab0-e4906fa7c5ec","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Uninstall_Crb_a5843e3f_6aa0_452e_801b_2940a59c8f83","uuid":"1817e259-1639-45a2-a65c-edaff0917020"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Package_a5843e3f_6aa0_452e_801b_2940a59c8f83"},{"target_any_local_reference":{"kind":"app_package","name":"AHVRouterPackage","uuid":"a5843e3f-6aa0-452e-801b-2940a59c8f83"},"retries":"0","description":"","type":"CUSTOM_PACKAGE_UNINSTALL","uuid":"1817e259-1639-45a2-a65c-edaff0917020","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVRouterPackage","uuid":"a5843e3f-6aa0-452e-801b-2940a59c8f83"},"retries":"0","description":"","type":"DAG","uuid":"6fedbca0-d367-4048-9d7d-05cbc350ad86","child_tasks_local_reference_list":[{"kind":"app_task","name":"Router Install","uuid":"c1c679cd-56d0-4261-884c-654591ef3ba5"},{"kind":"app_task","name":"Router Configure","uuid":"922fe594-e73f-4591-8d31-a53cf96f2a25"},{"kind":"app_task","name":"Start Shard","uuid":"b4d6cb7a-a660-4a7a-9c5e-c998fd33dd26"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Router Install","uuid":"c1c679cd-56d0-4261-884c-654591ef3ba5"},"edge_type":"user_defined","type":"","uuid":"1fc9e78b-fb4d-4140-bee3-b668c5625486","to_task_reference":{"kind":"app_task","name":"Router Configure","uuid":"922fe594-e73f-4591-8d31-a53cf96f2a25"}},{"from_task_reference":{"kind":"app_task","name":"Router Configure","uuid":"922fe594-e73f-4591-8d31-a53cf96f2a25"},"edge_type":"user_defined","type":"","uuid":"610b6bbf-a0e1-4e88-81b6-a4ae8154276a","to_task_reference":{"kind":"app_task","name":"Start Shard","uuid":"b4d6cb7a-a660-4a7a-9c5e-c998fd33dd26"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"300a2866_dag"},{"target_any_local_reference":{"kind":"app_package","name":"AHVRouterPackage","uuid":"a5843e3f-6aa0-452e-801b-2940a59c8f83"},"retries":"0","description":"","type":"EXEC","uuid":"c1c679cd-56d0-4261-884c-654591ef3ba5","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nVERSION=\"@@{MONGO_VERSION}@@\"\nDATA_PATH=\"@@{DATA_PATH}@@\"\nJOURNAL_PATH=\"@@{JOURNAL_PATH}@@\"\nLOG_PATH=\"@@{LOG_PATH}@@\"\nsudo hostnamectl set-hostname --static @@{name}@@\n\ncat > \/tmp\/set-hostnames.py <<EOF\n#!\/usr\/bin\/python\nimport re\nconfig_ips=\"@@{AHVConfigSet.address}@@\"\ndata_ips=\"@@{AHVDataSet.address}@@\"\nrouter_ips=\"@@{calm_array_address}@@\"\n\nhostfile = open('\/etc\/hosts', 'r').read()\nprint hostfile\nhostfile = re.sub('\\n#MONGODB-BEGIN.*?#MONGODB-END', '', hostfile, flags=re.DOTALL)\nhostfile += \"#MONGODB-BEGIN\\n\"\ncount=1\nfor ip in config_ips.split(','):\n  hostfile += ip + \" config\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in data_ips.split(','):\n  hostfile += ip + \" data\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in router_ips.split(','):\n  hostfile += ip + \" router\" + str(count) + \".mongodb\\n\"\n  count += 1\nhostfile += \"#MONGODB-END\\n\"\nopen('\/etc\/hosts', 'w').write(hostfile)\nEOF\n\nsudo python \/tmp\/set-hostnames.py\n\nif [[ -f \/sys\/kernel\/mm\/transparent_hugepage\/enabled ]];then\n\techo never | sudo tee \/sys\/kernel\/mm\/transparent_hugepage\/enabled\nfi\nif [[ -f \/sys\/kernel\/mm\/transparent_hugepage\/defrag ]];then\n\techo never | sudo tee \/sys\/kernel\/mm\/transparent_hugepage\/defrag\nfi\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho '[mongodb-org-3.4]\nname=MongoDB Repository\nbaseurl=https:\/\/repo.mongodb.org\/yum\/redhat\/$releasever\/mongodb-org\/3.4\/x86_64\/\ngpgcheck=1\nenabled=1\ngpgkey=https:\/\/www.mongodb.org\/static\/pgp\/server-3.4.asc' | sudo tee \/etc\/yum.repos.d\/mongodb-3.4.repo\n\nsudo yum update -y --quiet\nsudo yum install -y --quiet mongodb-org-${VERSION} mongodb-org-server-${VERSION} mongodb-org-shell-${VERSION} mongodb-org-mongos-${VERSION} mongodb-org-tools-${VERSION}\n\necho 'exclude=mongodb-org*' | sudo tee -a \/etc\/yum.conf\n\nsudo mkdir -p ${DATA_PATH} ${JOURNAL_PATH} ${LOG_PATH}\nsudo ln -s ${JOURNAL_PATH} ${DATA_PATH}\/journal\nsudo chown -R mongod:mongod ${DATA_PATH} ${JOURNAL_PATH} ${LOG_PATH}"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Router Install"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"EXEC","uuid":"922fe594-e73f-4591-8d31-a53cf96f2a25","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nCONFIG_SRV_IPS=\"@@{ConfigSet.address}@@\"\nDATA_PATH=\"@@{DATA_PATH}@@\"\n\nconfig_ips=$(echo \"${CONFIG_SRV_IPS}\" | sed 's\/^,\/\/' | sed 's\/,$\/\/' | sed 's\/,\/:27017,\/g')\nconfig_ips=$config_ips\":27017\"\n\nsudo sed -i 's\/bindIp:\/#bindIp:\/g' \/etc\/mongod.conf\nsudo sed -i \"s#\/var\/lib\/mongo#${DATA_PATH}#g\" \/etc\/mongod.conf\n\necho \"[Unit]\nDescription=High-performance, schema-free document-oriented database\nAfter=network.target\nDocumentation=https:\/\/docs.mongodb.org\/manual\n\n[Service]\nUser=mongod\nGroup=mongod\nEnvironment=\\\"OPTIONS=--port 27017 --configdb configReplSet\/$config_ips --logpath \/var\/log\/mongodb\/mongos.log\\\"\nExecStart=\/usr\/bin\/mongos \\$OPTIONS\nPermissionsStartOnly=true\nPIDFile=\/var\/run\/mongodb\/mongos.pid\n# file size\nLimitFSIZE=infinity\n# cpu time\nLimitCPU=infinity\n# virtual memory size\nLimitAS=infinity\n# open files\nLimitNOFILE=64000\n# processes\/threads\nLimitNPROC=64000\n# total threads (user+kernel)\nTasksMax=infinity\nTasksAccounting=false\n# Recommended limits for for mongod as specified in\n# http:\/\/docs.mongodb.org\/manual\/reference\/ulimit\/#recommended-settings\n\n[Install]\nWantedBy=multi-user.target\" | sudo tee \/usr\/lib\/systemd\/system\/mongos.service\n\nsudo systemctl start mongos\n#sudo -u mongod -b mongos --port 27017 --configdb  --logpath \/var\/log\/mongodb\/mongos.log \n\nsleep 2"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Router Configure"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"EXEC","uuid":"b4d6cb7a-a660-4a7a-9c5e-c998fd33dd26","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\nNODES_PER_REPLICA_SET=\"@@{NODES_PER_REPLICA_SET}@@\"\nINTERNAL_IP=\"@@{address}@@\"\nREPLICA_IPS=($(echo @@{DataSet.address}@@ | sed 's\/^,\/\/' | sed 's\/,$\/\/' | tr \",\" \"\\n\"))\nnoOfShards=$((${#REPLICA_IPS[@]}\/${NODES_PER_REPLICA_SET}))\n\ncount=0\nfor ((number=1;number <= $noOfShards;number++))\ndo\n  replicaSetName=\"dataReplSet${number}\"\n  sudo mongo --host ${INTERNAL_IP} --port 27017 --eval \"sh.addShard( \\\"$replicaSetName\/${REPLICA_IPS[${count}]}:27017\\\" )\"\n  count=$(($count + ${NODES_PER_REPLICA_SET}))\ndone"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Start Shard"}],"description":"","message_list":[],"uuid":"dbb576d2-5662-4ba2-baa9-0c83277a23c4","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"300a2866_dag","uuid":"6fedbca0-d367-4048-9d7d-05cbc350ad86"},"name":"e0b4ff16_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVRouterPackage","uuid":"a5843e3f-6aa0-452e-801b-2940a59c8f83"},"retries":"0","description":"","type":"DAG","uuid":"930d5b53-bbd8-494a-b82c-89b843e225bc","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"2991f5d5_dag"}],"description":"","message_list":[],"uuid":"c2e411e4-146d-4086-a074-e0e4303ef119","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"2991f5d5_dag","uuid":"930d5b53-bbd8-494a-b82c-89b843e225bc"},"name":"c63c23aa_runbook"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Uninstall_Crb_a5843e3f_6aa0_452e_801b_2940a59c8f83"}],"description":"","message_list":[],"uuid":"8799d723-e0a0-4e4d-96cf-a8b3a9ffe74c","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Package_a5843e3f_6aa0_452e_801b_2940a59c8f83","uuid":"87e26191-4e22-475c-8ab0-e4906fa7c5ec"},"name":"SYS_GEN__Runbook_Package_a5843e3f_6aa0_452e_801b_2940a59c8f83"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"b1f84b63-5cf7-4b1b-ad7d-4093b1b6b8e0","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVRouterPackage","uuid":"a5843e3f-6aa0-452e-801b-2940a59c8f83"},"retries":"0","description":"","type":"DAG","uuid":"463990f2-a103-4827-ba8d-8f36a21f008e","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"306c442b-f210-4ee3-937d-f45af186cd04"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"b401de15-2124-49ea-988a-535bfc0c1465"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_a5843e3f_6aa0_452e_801b_2940a59c8f83","uuid":"4bb6ca07-f4d2-478f-a8d8-dded0470eff9"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"306c442b-f210-4ee3-937d-f45af186cd04"},"edge_type":"inherent","type":"","uuid":"6d60d3e5-f860-43fe-961d-5eefbb9d8abe","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"b401de15-2124-49ea-988a-535bfc0c1465"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"b401de15-2124-49ea-988a-535bfc0c1465"},"edge_type":"inherent","type":"","uuid":"d8ac8a1a-ad3f-444e-a24b-2ba7a9c3bfcc","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_a5843e3f_6aa0_452e_801b_2940a59c8f83","uuid":"4bb6ca07-f4d2-478f-a8d8-dded0470eff9"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_a5843e3f_6aa0_452e_801b_2940a59c8f83"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"306c442b-f210-4ee3-937d-f45af186cd04","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"6d2afcdd_runbook","uuid":"215f65d0-6496-443c-9017-6dec4743560f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"b401de15-2124-49ea-988a-535bfc0c1465","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"6631f4bd_runbook","uuid":"d80d8f71-625e-4530-bf85-66347f427405"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e"},{"target_any_local_reference":{"kind":"app_package","name":"AHVRouterPackage","uuid":"a5843e3f-6aa0-452e-801b-2940a59c8f83"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"4bb6ca07-f4d2-478f-a8d8-dded0470eff9","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_a5843e3f_6aa0_452e_801b_2940a59c8f83","uuid":"8799d723-e0a0-4e4d-96cf-a8b3a9ffe74c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_a5843e3f_6aa0_452e_801b_2940a59c8f83"}],"description":"","message_list":[],"uuid":"c1ac373b-8bcd-40c2-87df-9aa715f255f7","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_a5843e3f_6aa0_452e_801b_2940a59c8f83","uuid":"463990f2-a103-4827-ba8d-8f36a21f008e"},"name":"SYS_GEN__Runbook_Package_a5843e3f_6aa0_452e_801b_2940a59c8f83"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"3c7e93e3-1618-4d95-9789-273f86247d81","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVRouterPackage","uuid":"a5843e3f-6aa0-452e-801b-2940a59c8f83"},"retries":"0","description":"","type":"DAG","uuid":"942ef935-fc9f-4f44-9961-809e747cfb96","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"96deb201-af79-4a9d-b065-43e7fd84059b"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_a5843e3f_6aa0_452e_801b_2940a59c8f83","uuid":"b7cb46f2-0d90-4af8-a0e9-aa886d15d419"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"96deb201-af79-4a9d-b065-43e7fd84059b"},"edge_type":"inherent","type":"","uuid":"22d5816c-48c9-497b-830c-9dc6f4f70e3e","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_a5843e3f_6aa0_452e_801b_2940a59c8f83","uuid":"b7cb46f2-0d90-4af8-a0e9-aa886d15d419"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_a5843e3f_6aa0_452e_801b_2940a59c8f83"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"96deb201-af79-4a9d-b065-43e7fd84059b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"3fe61be2-c077-40a8-91a6-e9e75a5d2af3"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e"},{"target_any_local_reference":{"kind":"app_package","name":"AHVRouterPackage","uuid":"a5843e3f-6aa0-452e-801b-2940a59c8f83"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"b7cb46f2-0d90-4af8-a0e9-aa886d15d419","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_a5843e3f_6aa0_452e_801b_2940a59c8f83"}],"description":"","message_list":[],"uuid":"7b19ad18-89e7-4447-a1ae-eef6eaad0e76","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_a5843e3f_6aa0_452e_801b_2940a59c8f83","uuid":"942ef935-fc9f-4f44-9961-809e747cfb96"},"name":"SYS_GEN__Runbook_Package_a5843e3f_6aa0_452e_801b_2940a59c8f83"}},{"description":"System action for starting an application","message_list":[],"uuid":"b113c44c-5dcf-44b8-b77d-36764e875fab","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVRouterPackage","uuid":"a5843e3f-6aa0-452e-801b-2940a59c8f83"},"retries":"0","description":"","type":"DAG","uuid":"2aaa7c32-3e31-4c70-a447-8bf3ab6153dc","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"d031d8d4-de03-40d9-b97c-b19033e7d44e"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_a5843e3f_6aa0_452e_801b_2940a59c8f83"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"d031d8d4-de03-40d9-b97c-b19033e7d44e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"6729beee_runbook","uuid":"28341bf4-2766-4701-8747-1722ed61db3c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e"}],"description":"","message_list":[],"uuid":"8dcd3bf6-fe8c-4b08-b521-e515856a7fe0","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_a5843e3f_6aa0_452e_801b_2940a59c8f83","uuid":"2aaa7c32-3e31-4c70-a447-8bf3ab6153dc"},"name":"SYS_GEN__Runbook_Package_a5843e3f_6aa0_452e_801b_2940a59c8f83"}},{"description":"System action for restarting an application","message_list":[],"uuid":"4402f3a8-f1bb-4bd5-94ed-ece748089bb5","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVRouterPackage","uuid":"a5843e3f-6aa0-452e-801b-2940a59c8f83"},"retries":"0","description":"","type":"DAG","uuid":"b406488c-dd2c-4b66-b160-12744679624d","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"4896b165-b7a2-40fb-abc2-3aedb2765728"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_a5843e3f_6aa0_452e_801b_2940a59c8f83"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"4896b165-b7a2-40fb-abc2-3aedb2765728","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"5261a312_runbook","uuid":"dcdcb0d6-e68b-4641-8609-e6dc92c57b21"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e"}],"description":"","message_list":[],"uuid":"72c6e59e-bb92-4f54-9d65-494b64cd2a71","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_a5843e3f_6aa0_452e_801b_2940a59c8f83","uuid":"b406488c-dd2c-4b66-b160-12744679624d"},"name":"SYS_GEN__Runbook_Package_a5843e3f_6aa0_452e_801b_2940a59c8f83"}},{"description":"System action for stopping an application","message_list":[],"uuid":"7a0fd129-9d13-4a82-919b-3f14ae124127","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVRouterPackage","uuid":"a5843e3f-6aa0-452e-801b-2940a59c8f83"},"retries":"0","description":"","type":"DAG","uuid":"f1e70624-ae67-4912-a111-550efff7b636","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"76eda306-3978-4487-a8ff-3e5aeb392da1"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_a5843e3f_6aa0_452e_801b_2940a59c8f83"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"76eda306-3978-4487-a8ff-3e5aeb392da1","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"6d2afcdd_runbook","uuid":"215f65d0-6496-443c-9017-6dec4743560f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e"}],"description":"","message_list":[],"uuid":"0f42c42f-1ec5-4b84-af8c-4fd0f204f3c0","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_a5843e3f_6aa0_452e_801b_2940a59c8f83","uuid":"f1e70624-ae67-4912-a111-550efff7b636"},"name":"SYS_GEN__Runbook_Package_a5843e3f_6aa0_452e_801b_2940a59c8f83"}}],"message_list":[],"service_local_reference_list":[{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"}],"uuid":"a5843e3f-6aa0-452e-801b-2940a59c8f83","state":"ACTIVE","version":"","editables":{},"type":"DEB","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVRouterPackage","uuid":"a5843e3f-6aa0-452e-801b-2940a59c8f83"},"retries":"0","description":"","type":"DAG","uuid":"6fedbca0-d367-4048-9d7d-05cbc350ad86","child_tasks_local_reference_list":[{"kind":"app_task","name":"Router Install","uuid":"c1c679cd-56d0-4261-884c-654591ef3ba5"},{"kind":"app_task","name":"Router Configure","uuid":"922fe594-e73f-4591-8d31-a53cf96f2a25"},{"kind":"app_task","name":"Start Shard","uuid":"b4d6cb7a-a660-4a7a-9c5e-c998fd33dd26"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Router Install","uuid":"c1c679cd-56d0-4261-884c-654591ef3ba5"},"edge_type":"user_defined","type":"","uuid":"1fc9e78b-fb4d-4140-bee3-b668c5625486","to_task_reference":{"kind":"app_task","name":"Router Configure","uuid":"922fe594-e73f-4591-8d31-a53cf96f2a25"}},{"from_task_reference":{"kind":"app_task","name":"Router Configure","uuid":"922fe594-e73f-4591-8d31-a53cf96f2a25"},"edge_type":"user_defined","type":"","uuid":"610b6bbf-a0e1-4e88-81b6-a4ae8154276a","to_task_reference":{"kind":"app_task","name":"Start Shard","uuid":"b4d6cb7a-a660-4a7a-9c5e-c998fd33dd26"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"300a2866_dag"},{"target_any_local_reference":{"kind":"app_package","name":"AHVRouterPackage","uuid":"a5843e3f-6aa0-452e-801b-2940a59c8f83"},"retries":"0","description":"","type":"EXEC","uuid":"c1c679cd-56d0-4261-884c-654591ef3ba5","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nVERSION=\"@@{MONGO_VERSION}@@\"\nDATA_PATH=\"@@{DATA_PATH}@@\"\nJOURNAL_PATH=\"@@{JOURNAL_PATH}@@\"\nLOG_PATH=\"@@{LOG_PATH}@@\"\nsudo hostnamectl set-hostname --static @@{name}@@\n\ncat > \/tmp\/set-hostnames.py <<EOF\n#!\/usr\/bin\/python\nimport re\nconfig_ips=\"@@{AHVConfigSet.address}@@\"\ndata_ips=\"@@{AHVDataSet.address}@@\"\nrouter_ips=\"@@{calm_array_address}@@\"\n\nhostfile = open('\/etc\/hosts', 'r').read()\nprint hostfile\nhostfile = re.sub('\\n#MONGODB-BEGIN.*?#MONGODB-END', '', hostfile, flags=re.DOTALL)\nhostfile += \"#MONGODB-BEGIN\\n\"\ncount=1\nfor ip in config_ips.split(','):\n  hostfile += ip + \" config\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in data_ips.split(','):\n  hostfile += ip + \" data\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in router_ips.split(','):\n  hostfile += ip + \" router\" + str(count) + \".mongodb\\n\"\n  count += 1\nhostfile += \"#MONGODB-END\\n\"\nopen('\/etc\/hosts', 'w').write(hostfile)\nEOF\n\nsudo python \/tmp\/set-hostnames.py\n\nif [[ -f \/sys\/kernel\/mm\/transparent_hugepage\/enabled ]];then\n\techo never | sudo tee \/sys\/kernel\/mm\/transparent_hugepage\/enabled\nfi\nif [[ -f \/sys\/kernel\/mm\/transparent_hugepage\/defrag ]];then\n\techo never | sudo tee \/sys\/kernel\/mm\/transparent_hugepage\/defrag\nfi\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho '[mongodb-org-3.4]\nname=MongoDB Repository\nbaseurl=https:\/\/repo.mongodb.org\/yum\/redhat\/$releasever\/mongodb-org\/3.4\/x86_64\/\ngpgcheck=1\nenabled=1\ngpgkey=https:\/\/www.mongodb.org\/static\/pgp\/server-3.4.asc' | sudo tee \/etc\/yum.repos.d\/mongodb-3.4.repo\n\nsudo yum update -y --quiet\nsudo yum install -y --quiet mongodb-org-${VERSION} mongodb-org-server-${VERSION} mongodb-org-shell-${VERSION} mongodb-org-mongos-${VERSION} mongodb-org-tools-${VERSION}\n\necho 'exclude=mongodb-org*' | sudo tee -a \/etc\/yum.conf\n\nsudo mkdir -p ${DATA_PATH} ${JOURNAL_PATH} ${LOG_PATH}\nsudo ln -s ${JOURNAL_PATH} ${DATA_PATH}\/journal\nsudo chown -R mongod:mongod ${DATA_PATH} ${JOURNAL_PATH} ${LOG_PATH}"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Router Install"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"EXEC","uuid":"922fe594-e73f-4591-8d31-a53cf96f2a25","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nCONFIG_SRV_IPS=\"@@{ConfigSet.address}@@\"\nDATA_PATH=\"@@{DATA_PATH}@@\"\n\nconfig_ips=$(echo \"${CONFIG_SRV_IPS}\" | sed 's\/^,\/\/' | sed 's\/,$\/\/' | sed 's\/,\/:27017,\/g')\nconfig_ips=$config_ips\":27017\"\n\nsudo sed -i 's\/bindIp:\/#bindIp:\/g' \/etc\/mongod.conf\nsudo sed -i \"s#\/var\/lib\/mongo#${DATA_PATH}#g\" \/etc\/mongod.conf\n\necho \"[Unit]\nDescription=High-performance, schema-free document-oriented database\nAfter=network.target\nDocumentation=https:\/\/docs.mongodb.org\/manual\n\n[Service]\nUser=mongod\nGroup=mongod\nEnvironment=\\\"OPTIONS=--port 27017 --configdb configReplSet\/$config_ips --logpath \/var\/log\/mongodb\/mongos.log\\\"\nExecStart=\/usr\/bin\/mongos \\$OPTIONS\nPermissionsStartOnly=true\nPIDFile=\/var\/run\/mongodb\/mongos.pid\n# file size\nLimitFSIZE=infinity\n# cpu time\nLimitCPU=infinity\n# virtual memory size\nLimitAS=infinity\n# open files\nLimitNOFILE=64000\n# processes\/threads\nLimitNPROC=64000\n# total threads (user+kernel)\nTasksMax=infinity\nTasksAccounting=false\n# Recommended limits for for mongod as specified in\n# http:\/\/docs.mongodb.org\/manual\/reference\/ulimit\/#recommended-settings\n\n[Install]\nWantedBy=multi-user.target\" | sudo tee \/usr\/lib\/systemd\/system\/mongos.service\n\nsudo systemctl start mongos\n#sudo -u mongod -b mongos --port 27017 --configdb  --logpath \/var\/log\/mongodb\/mongos.log \n\nsleep 2"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Router Configure"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"EXEC","uuid":"b4d6cb7a-a660-4a7a-9c5e-c998fd33dd26","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\nNODES_PER_REPLICA_SET=\"@@{NODES_PER_REPLICA_SET}@@\"\nINTERNAL_IP=\"@@{address}@@\"\nREPLICA_IPS=($(echo @@{DataSet.address}@@ | sed 's\/^,\/\/' | sed 's\/,$\/\/' | tr \",\" \"\\n\"))\nnoOfShards=$((${#REPLICA_IPS[@]}\/${NODES_PER_REPLICA_SET}))\n\ncount=0\nfor ((number=1;number <= $noOfShards;number++))\ndo\n  replicaSetName=\"dataReplSet${number}\"\n  sudo mongo --host ${INTERNAL_IP} --port 27017 --eval \"sh.addShard( \\\"$replicaSetName\/${REPLICA_IPS[${count}]}:27017\\\" )\"\n  count=$(($count + ${NODES_PER_REPLICA_SET}))\ndone"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Start Shard"}],"description":"","message_list":[],"uuid":"dbb576d2-5662-4ba2-baa9-0c83277a23c4","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"300a2866_dag","uuid":"6fedbca0-d367-4048-9d7d-05cbc350ad86"},"name":"e0b4ff16_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVRouterPackage","uuid":"a5843e3f-6aa0-452e-801b-2940a59c8f83"},"retries":"0","description":"","type":"DAG","uuid":"930d5b53-bbd8-494a-b82c-89b843e225bc","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"2991f5d5_dag"}],"description":"","message_list":[],"uuid":"c2e411e4-146d-4086-a074-e0e4303ef119","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"2991f5d5_dag","uuid":"930d5b53-bbd8-494a-b82c-89b843e225bc"},"name":"c63c23aa_runbook"}},"variable_list":[],"name":"AHVRouterPackage"},{"description":"","action_list":[{"description":"System action for installing an application","message_list":[],"uuid":"c77b1c8b-0da5-43ec-835c-92f65b02a625","name":"action_install","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVConfigSetPackage","uuid":"da11565f-0ae8-48e8-a066-569b84be461c"},"retries":"0","description":"","type":"DAG","uuid":"2e20d71c-9f2a-4925-ae8b-fccf43be70da","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Install_Crb_da11565f_0ae8_48e8_a066_569b84be461c","uuid":"bdc74791-a3d7-442a-ac52-87830c12f30a"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Package_da11565f_0ae8_48e8_a066_569b84be461c"},{"target_any_local_reference":{"kind":"app_package","name":"AHVConfigSetPackage","uuid":"da11565f-0ae8-48e8-a066-569b84be461c"},"retries":"0","description":"","type":"CUSTOM_PACKAGE_INSTALL","uuid":"bdc74791-a3d7-442a-ac52-87830c12f30a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVConfigSetPackage","uuid":"da11565f-0ae8-48e8-a066-569b84be461c"},"retries":"0","description":"","type":"DAG","uuid":"7da43e5e-b1eb-44d0-8364-8d6003cf2a0d","child_tasks_local_reference_list":[{"kind":"app_task","name":"ConfigSet Install","uuid":"28749a0e-5f63-4406-833e-f4fd7552da0d"},{"kind":"app_task","name":"ConfigSet Configure","uuid":"dca04917-31d9-487f-b68c-3d3064a6096f"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"ConfigSet Install","uuid":"28749a0e-5f63-4406-833e-f4fd7552da0d"},"edge_type":"user_defined","type":"","uuid":"1b083909-14e4-49c7-98e6-d90bc50c6370","to_task_reference":{"kind":"app_task","name":"ConfigSet Configure","uuid":"dca04917-31d9-487f-b68c-3d3064a6096f"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"d11ad974_dag"},{"target_any_local_reference":{"kind":"app_package","name":"AHVConfigSetPackage","uuid":"da11565f-0ae8-48e8-a066-569b84be461c"},"retries":"0","description":"","type":"EXEC","uuid":"28749a0e-5f63-4406-833e-f4fd7552da0d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nVERSION=\"@@{MONGO_VERSION}@@\"\nDATA_PATH=\"@@{DATA_PATH}@@\"\nJOURNAL_PATH=\"@@{JOURNAL_PATH}@@\"\nLOG_PATH=\"@@{LOG_PATH}@@\"\nsudo hostnamectl set-hostname --static @@{name}@@\n\ncat > \/tmp\/set-hostnames.py <<EOF\n#!\/usr\/bin\/python\nimport re\nconfig_ips=\"@@{calm_array_address}@@\"\ndata_ips=\"@@{AHVDataSet.address}@@\"\nrouter_ips=\"@@{AHVRouter.address}@@\"\n\nhostfile = open('\/etc\/hosts', 'r').read()\nprint hostfile\nhostfile = re.sub('\\n#MONGODB-BEGIN.*?#MONGODB-END', '', hostfile, flags=re.DOTALL)\nhostfile += \"#MONGODB-BEGIN\\n\"\ncount=1\nfor ip in config_ips.split(','):\n  hostfile += ip + \" config\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in data_ips.split(','):\n  hostfile += ip + \" data\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in router_ips.split(','):\n  hostfile += ip + \" router\" + str(count) + \".mongodb\\n\"\n  count += 1\nhostfile += \"#MONGODB-END\\n\"\nopen('\/etc\/hosts', 'w').write(hostfile)\nEOF\n\nsudo python \/tmp\/set-hostnames.py\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho '[mongodb-org-3.4]\nname=MongoDB Repository\nbaseurl=https:\/\/repo.mongodb.org\/yum\/redhat\/$releasever\/mongodb-org\/3.4\/x86_64\/\ngpgcheck=1\nenabled=1\ngpgkey=https:\/\/www.mongodb.org\/static\/pgp\/server-3.4.asc' | sudo tee \/etc\/yum.repos.d\/mongodb-3.4.repo\n\nsudo yum update -y --quiet\nsudo yum install -y --quiet mongodb-org-${VERSION} mongodb-org-server-${VERSION} mongodb-org-shell-${VERSION} mongodb-org-mongos-${VERSION} mongodb-org-tools-${VERSION}\n\necho 'exclude=mongodb-org*' | sudo tee -a \/etc\/yum.conf\n\nsudo mkdir -p ${DATA_PATH} ${JOURNAL_PATH} ${LOG_PATH}\nsudo ln -s ${JOURNAL_PATH} ${DATA_PATH}\/journal\nsudo chown -R mongod:mongod ${DATA_PATH} ${JOURNAL_PATH} ${LOG_PATH}"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"ConfigSet Install"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"EXEC","uuid":"dca04917-31d9-487f-b68c-3d3064a6096f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nCONFIG_SRV_IPS=\"@@{calm_array_address}@@\"\nDATA_PATH=\"@@{DATA_PATH}@@\"\nINTERNAL_IP=\"@@{address}@@\"\n\nsudo sed -i 's\/bindIp:\/#bindIp:\/g' \/etc\/mongod.conf\nsudo sed -i \"s#\/var\/lib\/mongo#${DATA_PATH}#g\" \/etc\/mongod.conf\nsudo sed -i 's\/#sharding:\/sharding:\\n  clusterRole: configsvr\/g' \/etc\/mongod.conf\nsudo sed -i 's\/#replication:\/replication:\\n  replSetName: configReplSet\/g' \/etc\/mongod.conf\n\n\nconfig_ips=$(echo \"${CONFIG_SRV_IPS}\" | sed 's\/^,\/\/' | sed 's\/,$\/\/' | tr \",\" \"\\n\")\nconfig_cnt=0\nconfig_str=\"\"\n\nfor config in $config_ips\ndo\n  config_str=$config_str\"{\\\"_id\\\": $config_cnt, host:\\\"$config:27017\\\"},\"\n  config_cnt=$(($config_cnt + 1))\ndone\nconfig_str=`echo $config_str | sed 's\/,$\/\/'`\njson=$(cat <<EOF\n{\n  \"_id\": \"configReplSet\",\n  \"members\": [\n    $config_str\n  ]\n}\nEOF\n)\n\nif [[ -f \/sys\/kernel\/mm\/transparent_hugepage\/enabled ]];then\n\techo never | sudo tee \/sys\/kernel\/mm\/transparent_hugepage\/enabled\nfi\nif [[ -f \/sys\/kernel\/mm\/transparent_hugepage\/defrag ]];then\n\techo never | sudo tee \/sys\/kernel\/mm\/transparent_hugepage\/defrag\nfi\n\nsudo systemctl restart mongod\nsleep 5\n\nif [ @@{calm_array_index}@@ -ne 0 ];then\n  exit\nfi\n\nsudo mongo --host ${INTERNAL_IP} --port 27017 --eval \"rs.initiate( $json )\""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"ConfigSet Configure"}],"description":"","message_list":[],"uuid":"b42dfe9a-82b4-4c1f-be3b-ccc139e844a8","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"d11ad974_dag","uuid":"7da43e5e-b1eb-44d0-8364-8d6003cf2a0d"},"name":"cb5b150c_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVConfigSetPackage","uuid":"da11565f-0ae8-48e8-a066-569b84be461c"},"retries":"0","description":"","type":"DAG","uuid":"92cadb77-c19e-4b67-87eb-8a705eb3ff9f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"85c85e82_dag"}],"description":"","message_list":[],"uuid":"17b686ce-e503-4a95-8ead-cf63a262c4c5","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"85c85e82_dag","uuid":"92cadb77-c19e-4b67-87eb-8a705eb3ff9f"},"name":"485b8651_runbook"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Install_Crb_da11565f_0ae8_48e8_a066_569b84be461c"}],"description":"","message_list":[],"uuid":"12445605-c638-4984-93c6-863cfe7d14de","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Package_da11565f_0ae8_48e8_a066_569b84be461c","uuid":"2e20d71c-9f2a-4925-ae8b-fccf43be70da"},"name":"SYS_GEN__Runbook_Package_da11565f_0ae8_48e8_a066_569b84be461c"}},{"description":"System action for creating an application","message_list":[],"uuid":"1c2c2605-a7fa-4b38-abf2-c2e515c94ce9","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVConfigSetPackage","uuid":"da11565f-0ae8-48e8-a066-569b84be461c"},"retries":"0","description":"","type":"DAG","uuid":"cebba6f0-6dfb-4102-95ed-eae5f08da257","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_da11565f_0ae8_48e8_a066_569b84be461c","uuid":"baeeb28b-b693-4c53-8437-f803149de50a"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"1b0d3b7a-deb6-424b-b7b5-277cdeb71235"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"d14f3fe6-9fba-4302-acb1-30bf1e8fc0e2"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"1b0d3b7a-deb6-424b-b7b5-277cdeb71235"},"edge_type":"inherent","type":"","uuid":"40fd6065-4d59-4627-a897-b62991581c7d","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"d14f3fe6-9fba-4302-acb1-30bf1e8fc0e2"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_da11565f_0ae8_48e8_a066_569b84be461c","uuid":"baeeb28b-b693-4c53-8437-f803149de50a"},"edge_type":"inherent","type":"","uuid":"4a27093b-62bf-4501-ae2d-760e5b5e8604","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"1b0d3b7a-deb6-424b-b7b5-277cdeb71235"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_da11565f_0ae8_48e8_a066_569b84be461c"},{"target_any_local_reference":{"kind":"app_package","name":"AHVConfigSetPackage","uuid":"da11565f-0ae8-48e8-a066-569b84be461c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"baeeb28b-b693-4c53-8437-f803149de50a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_da11565f_0ae8_48e8_a066_569b84be461c","uuid":"12445605-c638-4984-93c6-863cfe7d14de"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_da11565f_0ae8_48e8_a066_569b84be461c"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"1b0d3b7a-deb6-424b-b7b5-277cdeb71235","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0a879260_runbook","uuid":"741de02d-b511-4b87-8b94-a1b0b74e0fb7"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"d14f3fe6-9fba-4302-acb1-30bf1e8fc0e2","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"f4695758_runbook","uuid":"0c2528e9-82d6-40bc-9b4d-721eabd37ead"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd"}],"description":"","message_list":[],"uuid":"fbe3216b-8045-4aa3-848c-a2678e10bf71","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_da11565f_0ae8_48e8_a066_569b84be461c","uuid":"cebba6f0-6dfb-4102-95ed-eae5f08da257"},"name":"SYS_GEN__Runbook_Package_da11565f_0ae8_48e8_a066_569b84be461c"}},{"description":"System action for uninstalling an application","message_list":[],"uuid":"8abbd33a-d3ec-4036-939a-cb008a073500","name":"action_uninstall","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVConfigSetPackage","uuid":"da11565f-0ae8-48e8-a066-569b84be461c"},"retries":"0","description":"","type":"DAG","uuid":"639ce128-258b-413e-b270-54c6ffc8d733","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Uninstall_Crb_da11565f_0ae8_48e8_a066_569b84be461c","uuid":"8eac1c4d-ac17-42f8-9608-4f146369081e"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Package_da11565f_0ae8_48e8_a066_569b84be461c"},{"target_any_local_reference":{"kind":"app_package","name":"AHVConfigSetPackage","uuid":"da11565f-0ae8-48e8-a066-569b84be461c"},"retries":"0","description":"","type":"CUSTOM_PACKAGE_UNINSTALL","uuid":"8eac1c4d-ac17-42f8-9608-4f146369081e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVConfigSetPackage","uuid":"da11565f-0ae8-48e8-a066-569b84be461c"},"retries":"0","description":"","type":"DAG","uuid":"7da43e5e-b1eb-44d0-8364-8d6003cf2a0d","child_tasks_local_reference_list":[{"kind":"app_task","name":"ConfigSet Install","uuid":"28749a0e-5f63-4406-833e-f4fd7552da0d"},{"kind":"app_task","name":"ConfigSet Configure","uuid":"dca04917-31d9-487f-b68c-3d3064a6096f"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"ConfigSet Install","uuid":"28749a0e-5f63-4406-833e-f4fd7552da0d"},"edge_type":"user_defined","type":"","uuid":"1b083909-14e4-49c7-98e6-d90bc50c6370","to_task_reference":{"kind":"app_task","name":"ConfigSet Configure","uuid":"dca04917-31d9-487f-b68c-3d3064a6096f"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"d11ad974_dag"},{"target_any_local_reference":{"kind":"app_package","name":"AHVConfigSetPackage","uuid":"da11565f-0ae8-48e8-a066-569b84be461c"},"retries":"0","description":"","type":"EXEC","uuid":"28749a0e-5f63-4406-833e-f4fd7552da0d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nVERSION=\"@@{MONGO_VERSION}@@\"\nDATA_PATH=\"@@{DATA_PATH}@@\"\nJOURNAL_PATH=\"@@{JOURNAL_PATH}@@\"\nLOG_PATH=\"@@{LOG_PATH}@@\"\nsudo hostnamectl set-hostname --static @@{name}@@\n\ncat > \/tmp\/set-hostnames.py <<EOF\n#!\/usr\/bin\/python\nimport re\nconfig_ips=\"@@{calm_array_address}@@\"\ndata_ips=\"@@{AHVDataSet.address}@@\"\nrouter_ips=\"@@{AHVRouter.address}@@\"\n\nhostfile = open('\/etc\/hosts', 'r').read()\nprint hostfile\nhostfile = re.sub('\\n#MONGODB-BEGIN.*?#MONGODB-END', '', hostfile, flags=re.DOTALL)\nhostfile += \"#MONGODB-BEGIN\\n\"\ncount=1\nfor ip in config_ips.split(','):\n  hostfile += ip + \" config\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in data_ips.split(','):\n  hostfile += ip + \" data\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in router_ips.split(','):\n  hostfile += ip + \" router\" + str(count) + \".mongodb\\n\"\n  count += 1\nhostfile += \"#MONGODB-END\\n\"\nopen('\/etc\/hosts', 'w').write(hostfile)\nEOF\n\nsudo python \/tmp\/set-hostnames.py\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho '[mongodb-org-3.4]\nname=MongoDB Repository\nbaseurl=https:\/\/repo.mongodb.org\/yum\/redhat\/$releasever\/mongodb-org\/3.4\/x86_64\/\ngpgcheck=1\nenabled=1\ngpgkey=https:\/\/www.mongodb.org\/static\/pgp\/server-3.4.asc' | sudo tee \/etc\/yum.repos.d\/mongodb-3.4.repo\n\nsudo yum update -y --quiet\nsudo yum install -y --quiet mongodb-org-${VERSION} mongodb-org-server-${VERSION} mongodb-org-shell-${VERSION} mongodb-org-mongos-${VERSION} mongodb-org-tools-${VERSION}\n\necho 'exclude=mongodb-org*' | sudo tee -a \/etc\/yum.conf\n\nsudo mkdir -p ${DATA_PATH} ${JOURNAL_PATH} ${LOG_PATH}\nsudo ln -s ${JOURNAL_PATH} ${DATA_PATH}\/journal\nsudo chown -R mongod:mongod ${DATA_PATH} ${JOURNAL_PATH} ${LOG_PATH}"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"ConfigSet Install"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"EXEC","uuid":"dca04917-31d9-487f-b68c-3d3064a6096f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nCONFIG_SRV_IPS=\"@@{calm_array_address}@@\"\nDATA_PATH=\"@@{DATA_PATH}@@\"\nINTERNAL_IP=\"@@{address}@@\"\n\nsudo sed -i 's\/bindIp:\/#bindIp:\/g' \/etc\/mongod.conf\nsudo sed -i \"s#\/var\/lib\/mongo#${DATA_PATH}#g\" \/etc\/mongod.conf\nsudo sed -i 's\/#sharding:\/sharding:\\n  clusterRole: configsvr\/g' \/etc\/mongod.conf\nsudo sed -i 's\/#replication:\/replication:\\n  replSetName: configReplSet\/g' \/etc\/mongod.conf\n\n\nconfig_ips=$(echo \"${CONFIG_SRV_IPS}\" | sed 's\/^,\/\/' | sed 's\/,$\/\/' | tr \",\" \"\\n\")\nconfig_cnt=0\nconfig_str=\"\"\n\nfor config in $config_ips\ndo\n  config_str=$config_str\"{\\\"_id\\\": $config_cnt, host:\\\"$config:27017\\\"},\"\n  config_cnt=$(($config_cnt + 1))\ndone\nconfig_str=`echo $config_str | sed 's\/,$\/\/'`\njson=$(cat <<EOF\n{\n  \"_id\": \"configReplSet\",\n  \"members\": [\n    $config_str\n  ]\n}\nEOF\n)\n\nif [[ -f \/sys\/kernel\/mm\/transparent_hugepage\/enabled ]];then\n\techo never | sudo tee \/sys\/kernel\/mm\/transparent_hugepage\/enabled\nfi\nif [[ -f \/sys\/kernel\/mm\/transparent_hugepage\/defrag ]];then\n\techo never | sudo tee \/sys\/kernel\/mm\/transparent_hugepage\/defrag\nfi\n\nsudo systemctl restart mongod\nsleep 5\n\nif [ @@{calm_array_index}@@ -ne 0 ];then\n  exit\nfi\n\nsudo mongo --host ${INTERNAL_IP} --port 27017 --eval \"rs.initiate( $json )\""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"ConfigSet Configure"}],"description":"","message_list":[],"uuid":"b42dfe9a-82b4-4c1f-be3b-ccc139e844a8","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"d11ad974_dag","uuid":"7da43e5e-b1eb-44d0-8364-8d6003cf2a0d"},"name":"cb5b150c_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVConfigSetPackage","uuid":"da11565f-0ae8-48e8-a066-569b84be461c"},"retries":"0","description":"","type":"DAG","uuid":"92cadb77-c19e-4b67-87eb-8a705eb3ff9f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"85c85e82_dag"}],"description":"","message_list":[],"uuid":"17b686ce-e503-4a95-8ead-cf63a262c4c5","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"85c85e82_dag","uuid":"92cadb77-c19e-4b67-87eb-8a705eb3ff9f"},"name":"485b8651_runbook"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Uninstall_Crb_da11565f_0ae8_48e8_a066_569b84be461c"}],"description":"","message_list":[],"uuid":"446b4d01-cf37-4d64-8ea1-ef6a6808144a","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Package_da11565f_0ae8_48e8_a066_569b84be461c","uuid":"639ce128-258b-413e-b270-54c6ffc8d733"},"name":"SYS_GEN__Runbook_Package_da11565f_0ae8_48e8_a066_569b84be461c"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"2319bca4-99d2-42e4-868f-cb85635c3920","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVConfigSetPackage","uuid":"da11565f-0ae8-48e8-a066-569b84be461c"},"retries":"0","description":"","type":"DAG","uuid":"3a9d4ffe-20f1-4f88-a918-a5a05f4800c0","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"94119371-96f2-4f6b-9b54-08a058b73d59"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"f2c11f3c-a7d3-4fc9-adc1-3e59269c511a"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_da11565f_0ae8_48e8_a066_569b84be461c","uuid":"106f1562-5e12-4a78-9262-fb53c00ee2e0"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"94119371-96f2-4f6b-9b54-08a058b73d59"},"edge_type":"inherent","type":"","uuid":"f7a206f3-6b39-4c55-a591-af5b10e6dff4","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"f2c11f3c-a7d3-4fc9-adc1-3e59269c511a"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"f2c11f3c-a7d3-4fc9-adc1-3e59269c511a"},"edge_type":"inherent","type":"","uuid":"01433fe9-8712-42a8-9de5-7defc43a8f54","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_da11565f_0ae8_48e8_a066_569b84be461c","uuid":"106f1562-5e12-4a78-9262-fb53c00ee2e0"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_da11565f_0ae8_48e8_a066_569b84be461c"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"94119371-96f2-4f6b-9b54-08a058b73d59","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"a33b20bd_runbook","uuid":"e6335ceb-f00b-4ec5-8425-3864e1897a7d"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"f2c11f3c-a7d3-4fc9-adc1-3e59269c511a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"3c3538b9_runbook","uuid":"8625e87a-c851-44ac-9a8c-6808a1ac5574"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd"},{"target_any_local_reference":{"kind":"app_package","name":"AHVConfigSetPackage","uuid":"da11565f-0ae8-48e8-a066-569b84be461c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"106f1562-5e12-4a78-9262-fb53c00ee2e0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_da11565f_0ae8_48e8_a066_569b84be461c","uuid":"446b4d01-cf37-4d64-8ea1-ef6a6808144a"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_da11565f_0ae8_48e8_a066_569b84be461c"}],"description":"","message_list":[],"uuid":"d06c77e8-70a8-476b-9d3d-a65f11760623","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_da11565f_0ae8_48e8_a066_569b84be461c","uuid":"3a9d4ffe-20f1-4f88-a918-a5a05f4800c0"},"name":"SYS_GEN__Runbook_Package_da11565f_0ae8_48e8_a066_569b84be461c"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"f2e5de04-3273-4795-9965-8a3d2b385bd1","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVConfigSetPackage","uuid":"da11565f-0ae8-48e8-a066-569b84be461c"},"retries":"0","description":"","type":"DAG","uuid":"7551d9fd-3856-49ec-b1e4-20aca3c19bc5","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"1189d60f-941e-4851-b636-ab171fb16fc2"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_da11565f_0ae8_48e8_a066_569b84be461c","uuid":"24041be0-33af-4f03-ae1c-ef53e1c3890a"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"1189d60f-941e-4851-b636-ab171fb16fc2"},"edge_type":"inherent","type":"","uuid":"246aa01e-e813-45a3-b9e5-2458435e8755","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_da11565f_0ae8_48e8_a066_569b84be461c","uuid":"24041be0-33af-4f03-ae1c-ef53e1c3890a"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_da11565f_0ae8_48e8_a066_569b84be461c"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"1189d60f-941e-4851-b636-ab171fb16fc2","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"71c44ff6-8283-4578-8e15-dbf648d09ee4"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd"},{"target_any_local_reference":{"kind":"app_package","name":"AHVConfigSetPackage","uuid":"da11565f-0ae8-48e8-a066-569b84be461c"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"24041be0-33af-4f03-ae1c-ef53e1c3890a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_da11565f_0ae8_48e8_a066_569b84be461c"}],"description":"","message_list":[],"uuid":"1b584f2d-f314-418d-9946-a056e3d134bc","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_da11565f_0ae8_48e8_a066_569b84be461c","uuid":"7551d9fd-3856-49ec-b1e4-20aca3c19bc5"},"name":"SYS_GEN__Runbook_Package_da11565f_0ae8_48e8_a066_569b84be461c"}},{"description":"System action for starting an application","message_list":[],"uuid":"6260092b-7bcd-4343-ae0b-bc54901a1dfe","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVConfigSetPackage","uuid":"da11565f-0ae8-48e8-a066-569b84be461c"},"retries":"0","description":"","type":"DAG","uuid":"dbe96975-6721-493e-a9ff-b32d35929116","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"cb11a9e7-7422-465e-8312-1f7c62426664"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_da11565f_0ae8_48e8_a066_569b84be461c"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"cb11a9e7-7422-465e-8312-1f7c62426664","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"f4695758_runbook","uuid":"0c2528e9-82d6-40bc-9b4d-721eabd37ead"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd"}],"description":"","message_list":[],"uuid":"a41182c2-f7d4-4fcb-a725-fcd7f797f067","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_da11565f_0ae8_48e8_a066_569b84be461c","uuid":"dbe96975-6721-493e-a9ff-b32d35929116"},"name":"SYS_GEN__Runbook_Package_da11565f_0ae8_48e8_a066_569b84be461c"}},{"description":"System action for restarting an application","message_list":[],"uuid":"55fb61ad-61b3-4f84-9843-2af56bc5f4fa","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVConfigSetPackage","uuid":"da11565f-0ae8-48e8-a066-569b84be461c"},"retries":"0","description":"","type":"DAG","uuid":"479e8004-0f9b-4698-9f00-79c1610ba4da","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"596d154f-9381-4438-bd87-a016d6e999f0"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_da11565f_0ae8_48e8_a066_569b84be461c"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"596d154f-9381-4438-bd87-a016d6e999f0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"b7169291_runbook","uuid":"7c36f5f8-9e8b-4f97-b855-438dc7eb8f3d"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd"}],"description":"","message_list":[],"uuid":"327987c8-e93a-43c7-a451-030627ec526a","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_da11565f_0ae8_48e8_a066_569b84be461c","uuid":"479e8004-0f9b-4698-9f00-79c1610ba4da"},"name":"SYS_GEN__Runbook_Package_da11565f_0ae8_48e8_a066_569b84be461c"}},{"description":"System action for stopping an application","message_list":[],"uuid":"e22b2d05-ac3c-47b2-8826-da36722b15cb","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVConfigSetPackage","uuid":"da11565f-0ae8-48e8-a066-569b84be461c"},"retries":"0","description":"","type":"DAG","uuid":"ab564d67-e23a-432a-a4d5-4a32f2f8a78b","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"5c93c79a-1d6e-47c7-9622-725e8d149ef7"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_da11565f_0ae8_48e8_a066_569b84be461c"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"5c93c79a-1d6e-47c7-9622-725e8d149ef7","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"a33b20bd_runbook","uuid":"e6335ceb-f00b-4ec5-8425-3864e1897a7d"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd"}],"description":"","message_list":[],"uuid":"d539f9d2-b87c-4d89-a2d1-12e27b78739a","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_da11565f_0ae8_48e8_a066_569b84be461c","uuid":"ab564d67-e23a-432a-a4d5-4a32f2f8a78b"},"name":"SYS_GEN__Runbook_Package_da11565f_0ae8_48e8_a066_569b84be461c"}}],"message_list":[],"service_local_reference_list":[{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"}],"uuid":"da11565f-0ae8-48e8-a066-569b84be461c","state":"ACTIVE","version":"","editables":{},"type":"DEB","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVConfigSetPackage","uuid":"da11565f-0ae8-48e8-a066-569b84be461c"},"retries":"0","description":"","type":"DAG","uuid":"7da43e5e-b1eb-44d0-8364-8d6003cf2a0d","child_tasks_local_reference_list":[{"kind":"app_task","name":"ConfigSet Install","uuid":"28749a0e-5f63-4406-833e-f4fd7552da0d"},{"kind":"app_task","name":"ConfigSet Configure","uuid":"dca04917-31d9-487f-b68c-3d3064a6096f"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"ConfigSet Install","uuid":"28749a0e-5f63-4406-833e-f4fd7552da0d"},"edge_type":"user_defined","type":"","uuid":"1b083909-14e4-49c7-98e6-d90bc50c6370","to_task_reference":{"kind":"app_task","name":"ConfigSet Configure","uuid":"dca04917-31d9-487f-b68c-3d3064a6096f"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"d11ad974_dag"},{"target_any_local_reference":{"kind":"app_package","name":"AHVConfigSetPackage","uuid":"da11565f-0ae8-48e8-a066-569b84be461c"},"retries":"0","description":"","type":"EXEC","uuid":"28749a0e-5f63-4406-833e-f4fd7552da0d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nVERSION=\"@@{MONGO_VERSION}@@\"\nDATA_PATH=\"@@{DATA_PATH}@@\"\nJOURNAL_PATH=\"@@{JOURNAL_PATH}@@\"\nLOG_PATH=\"@@{LOG_PATH}@@\"\nsudo hostnamectl set-hostname --static @@{name}@@\n\ncat > \/tmp\/set-hostnames.py <<EOF\n#!\/usr\/bin\/python\nimport re\nconfig_ips=\"@@{calm_array_address}@@\"\ndata_ips=\"@@{AHVDataSet.address}@@\"\nrouter_ips=\"@@{AHVRouter.address}@@\"\n\nhostfile = open('\/etc\/hosts', 'r').read()\nprint hostfile\nhostfile = re.sub('\\n#MONGODB-BEGIN.*?#MONGODB-END', '', hostfile, flags=re.DOTALL)\nhostfile += \"#MONGODB-BEGIN\\n\"\ncount=1\nfor ip in config_ips.split(','):\n  hostfile += ip + \" config\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in data_ips.split(','):\n  hostfile += ip + \" data\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in router_ips.split(','):\n  hostfile += ip + \" router\" + str(count) + \".mongodb\\n\"\n  count += 1\nhostfile += \"#MONGODB-END\\n\"\nopen('\/etc\/hosts', 'w').write(hostfile)\nEOF\n\nsudo python \/tmp\/set-hostnames.py\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho '[mongodb-org-3.4]\nname=MongoDB Repository\nbaseurl=https:\/\/repo.mongodb.org\/yum\/redhat\/$releasever\/mongodb-org\/3.4\/x86_64\/\ngpgcheck=1\nenabled=1\ngpgkey=https:\/\/www.mongodb.org\/static\/pgp\/server-3.4.asc' | sudo tee \/etc\/yum.repos.d\/mongodb-3.4.repo\n\nsudo yum update -y --quiet\nsudo yum install -y --quiet mongodb-org-${VERSION} mongodb-org-server-${VERSION} mongodb-org-shell-${VERSION} mongodb-org-mongos-${VERSION} mongodb-org-tools-${VERSION}\n\necho 'exclude=mongodb-org*' | sudo tee -a \/etc\/yum.conf\n\nsudo mkdir -p ${DATA_PATH} ${JOURNAL_PATH} ${LOG_PATH}\nsudo ln -s ${JOURNAL_PATH} ${DATA_PATH}\/journal\nsudo chown -R mongod:mongod ${DATA_PATH} ${JOURNAL_PATH} ${LOG_PATH}"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"ConfigSet Install"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"EXEC","uuid":"dca04917-31d9-487f-b68c-3d3064a6096f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nCONFIG_SRV_IPS=\"@@{calm_array_address}@@\"\nDATA_PATH=\"@@{DATA_PATH}@@\"\nINTERNAL_IP=\"@@{address}@@\"\n\nsudo sed -i 's\/bindIp:\/#bindIp:\/g' \/etc\/mongod.conf\nsudo sed -i \"s#\/var\/lib\/mongo#${DATA_PATH}#g\" \/etc\/mongod.conf\nsudo sed -i 's\/#sharding:\/sharding:\\n  clusterRole: configsvr\/g' \/etc\/mongod.conf\nsudo sed -i 's\/#replication:\/replication:\\n  replSetName: configReplSet\/g' \/etc\/mongod.conf\n\n\nconfig_ips=$(echo \"${CONFIG_SRV_IPS}\" | sed 's\/^,\/\/' | sed 's\/,$\/\/' | tr \",\" \"\\n\")\nconfig_cnt=0\nconfig_str=\"\"\n\nfor config in $config_ips\ndo\n  config_str=$config_str\"{\\\"_id\\\": $config_cnt, host:\\\"$config:27017\\\"},\"\n  config_cnt=$(($config_cnt + 1))\ndone\nconfig_str=`echo $config_str | sed 's\/,$\/\/'`\njson=$(cat <<EOF\n{\n  \"_id\": \"configReplSet\",\n  \"members\": [\n    $config_str\n  ]\n}\nEOF\n)\n\nif [[ -f \/sys\/kernel\/mm\/transparent_hugepage\/enabled ]];then\n\techo never | sudo tee \/sys\/kernel\/mm\/transparent_hugepage\/enabled\nfi\nif [[ -f \/sys\/kernel\/mm\/transparent_hugepage\/defrag ]];then\n\techo never | sudo tee \/sys\/kernel\/mm\/transparent_hugepage\/defrag\nfi\n\nsudo systemctl restart mongod\nsleep 5\n\nif [ @@{calm_array_index}@@ -ne 0 ];then\n  exit\nfi\n\nsudo mongo --host ${INTERNAL_IP} --port 27017 --eval \"rs.initiate( $json )\""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"ConfigSet Configure"}],"description":"","message_list":[],"uuid":"b42dfe9a-82b4-4c1f-be3b-ccc139e844a8","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"d11ad974_dag","uuid":"7da43e5e-b1eb-44d0-8364-8d6003cf2a0d"},"name":"cb5b150c_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVConfigSetPackage","uuid":"da11565f-0ae8-48e8-a066-569b84be461c"},"retries":"0","description":"","type":"DAG","uuid":"92cadb77-c19e-4b67-87eb-8a705eb3ff9f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"85c85e82_dag"}],"description":"","message_list":[],"uuid":"17b686ce-e503-4a95-8ead-cf63a262c4c5","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"85c85e82_dag","uuid":"92cadb77-c19e-4b67-87eb-8a705eb3ff9f"},"name":"485b8651_runbook"}},"variable_list":[],"name":"AHVConfigSetPackage"},{"description":"","action_list":[{"description":"System action for installing an application","message_list":[],"uuid":"c8db5c4d-0c9e-459f-ad51-6199085231c0","name":"action_install","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVDataSetPackage","uuid":"e4258915-bb88-40f3-b138-34102b8832b5"},"retries":"0","description":"","type":"DAG","uuid":"1ed9f839-d591-429f-ad50-161195a55aff","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Install_Crb_e4258915_bb88_40f3_b138_34102b8832b5","uuid":"1d92bb25-30f1-4ac4-9442-5f9423f68ce4"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Package_e4258915_bb88_40f3_b138_34102b8832b5"},{"target_any_local_reference":{"kind":"app_package","name":"AHVDataSetPackage","uuid":"e4258915-bb88-40f3-b138-34102b8832b5"},"retries":"0","description":"","type":"CUSTOM_PACKAGE_INSTALL","uuid":"1d92bb25-30f1-4ac4-9442-5f9423f68ce4","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVDataSetPackage","uuid":"e4258915-bb88-40f3-b138-34102b8832b5"},"retries":"0","description":"","type":"DAG","uuid":"27409e4d-762c-47ff-9854-06ee4fab2e96","child_tasks_local_reference_list":[{"kind":"app_task","name":"DataSet Install","uuid":"2dfc7326-fc2b-41be-8494-84c90f2c3ef2"},{"kind":"app_task","name":"DataSet Configure","uuid":"94677cdf-f598-4e29-a711-048989468dc4"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"DataSet Install","uuid":"2dfc7326-fc2b-41be-8494-84c90f2c3ef2"},"edge_type":"user_defined","type":"","uuid":"4c0e48d3-174f-4f33-bf7a-30be7261da87","to_task_reference":{"kind":"app_task","name":"DataSet Configure","uuid":"94677cdf-f598-4e29-a711-048989468dc4"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"48a6c51b_dag"},{"target_any_local_reference":{"kind":"app_package","name":"AHVDataSetPackage","uuid":"e4258915-bb88-40f3-b138-34102b8832b5"},"retries":"0","description":"","type":"EXEC","uuid":"2dfc7326-fc2b-41be-8494-84c90f2c3ef2","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nVERSION=\"@@{MONGO_VERSION}@@\"\nDATA_PATH=\"@@{DATA_PATH}@@\"\nJOURNAL_PATH=\"@@{JOURNAL_PATH}@@\"\nLOG_PATH=\"@@{LOG_PATH}@@\"\nsudo hostnamectl set-hostname --static @@{name}@@\n\ncat > \/tmp\/set-hostnames.py <<EOF\n#!\/usr\/bin\/python\nimport re\nconfig_ips=\"@@{AHVConfigSet.address}@@\"\ndata_ips=\"@@{calm_array_address}@@\"\nrouter_ips=\"@@{AHVRouter.address}@@\"\n\nhostfile = open('\/etc\/hosts', 'r').read()\nprint hostfile\nhostfile = re.sub('\\n#MONGODB-BEGIN.*?#MONGODB-END', '', hostfile, flags=re.DOTALL)\nhostfile += \"#MONGODB-BEGIN\\n\"\ncount=1\nfor ip in config_ips.split(','):\n  hostfile += ip + \" config\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in data_ips.split(','):\n  hostfile += ip + \" data\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in router_ips.split(','):\n  hostfile += ip + \" router\" + str(count) + \".mongodb\\n\"\n  count += 1\nhostfile += \"#MONGODB-END\\n\"\nopen('\/etc\/hosts', 'w').write(hostfile)\nEOF\n\nsudo python \/tmp\/set-hostnames.py\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho '[mongodb-org-3.4]\nname=MongoDB Repository\nbaseurl=https:\/\/repo.mongodb.org\/yum\/redhat\/$releasever\/mongodb-org\/3.4\/x86_64\/\ngpgcheck=1\nenabled=1\ngpgkey=https:\/\/www.mongodb.org\/static\/pgp\/server-3.4.asc' | sudo tee \/etc\/yum.repos.d\/mongodb-3.4.repo\n\nsudo yum update -y --quiet\nsudo yum install -y --quiet mongodb-org-${VERSION} mongodb-org-server-${VERSION} mongodb-org-shell-${VERSION} mongodb-org-mongos-${VERSION} mongodb-org-tools-${VERSION}\n\necho 'exclude=mongodb-org*' | sudo tee -a \/etc\/yum.conf\n\nsudo yum install -y --quiet lvm2 numactl lsscsi\nsudo lsscsi | awk '{print $NF}' | grep \/dev\/sd | grep -v sda | xargs sudo  pvcreate\n\nsudo vgcreate mongodata \/dev\/sdb \/dev\/sdc \/dev\/sdd \nsudo vgcreate mongojournal \/dev\/sde \nsudo vgcreate mongolog \/dev\/sdf\n\nsudo lvcreate -i 3 -l 100%VG -n mongodata mongodata\nsudo lvcreate -l 100%VG -n mongojournal mongojournal \nsudo lvcreate -l 100%VG -n mongolog mongolog\n\nsudo mkfs.xfs -K \/dev\/mapper\/mongodata-mongodata\nsudo mkfs.xfs -K \/dev\/mapper\/mongojournal-mongojournal\nsudo mkfs.xfs -K \/dev\/mapper\/mongolog-mongolog\n\nsudo mkdir -p ${DATA_PATH} ${JOURNAL_PATH} ${LOG_PATH}\n\necho \"\/dev\/mapper\/mongodata-mongodata ${DATA_PATH} xfs defaults,auto,noatime,noexec 0 0\n\/dev\/mapper\/mongojournal-mongojournal ${JOURNAL_PATH} xfs defaults,auto,noexec 0 0\n\/dev\/mapper\/mongolog-mongolog ${LOG_PATH} xfs defaults,auto,noexec 0 0\" | sudo tee -a \/etc\/fstab\nsudo mount -a\n\nsudo ln -s ${JOURNAL_PATH} ${DATA_PATH}\/journal\n\nsudo chown -R mongod:mongod ${DATA_PATH} ${JOURNAL_PATH} ${LOG_PATH}\n\nsudo blockdev --setra 32 \/dev\/dm-2\nsudo blockdev --getra \/dev\/dm-2\n\nsudo sysctl vm.swappiness=1\necho 'vm.swappiness=1' | sudo tee -a \/etc\/sysctl.conf\n"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"DataSet Install"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"EXEC","uuid":"94677cdf-f598-4e29-a711-048989468dc4","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nREPLICA_IPS=\"@@{calm_array_address}@@\"\nDATA_PATH=\"@@{DATA_PATH}@@\"\nINTERNAL_IP=\"@@{address}@@\"\nINDEX=@@{calm_array_index}@@\nNODES_PER_REPLICA_SET=@@{NODES_PER_REPLICA_SET}@@\nARRAY_REPLICA_IPS=$(echo ${REPLICA_IPS} | sed 's\/^,\/\/' | sed 's\/,$\/\/' | tr \",\" \"\\n\")\n\ntmp=$((${INDEX}+${NODES_PER_REPLICA_SET}))\nreplicasetNo=$((${tmp}\/${NODES_PER_REPLICA_SET}))\nreplicaSetName=\"dataReplSet${replicasetNo}\"\n\nsudo sed -i 's\/bindIp:\/#bindIp:\/g' \/etc\/mongod.conf\nsudo sed -i \"s#\/var\/lib\/mongo#${DATA_PATH}#g\" \/etc\/mongod.conf\nsudo sed -i \"s\/#replication:\/replication:\\n  replSetName: $replicaSetName\/g\" \/etc\/mongod.conf\nsudo sed -i 's\/#sharding:\/sharding:\\n  clusterRole: shardsvr\/g' \/etc\/mongod.conf\nsudo sed -i 's#  path: \/var\/log\/mongodb\/mongod.log#  path: \/mongodb\/log\/mongod.log#' \/etc\/mongod.conf\n\n### Getting replicaset members details \nreplica_cnt=0\ndeclare -a replicaset_members\n\nfor replica in $ARRAY_REPLICA_IPS\ndo\n  tmp=$((${replica_cnt}+${NODES_PER_REPLICA_SET}))\n  i=\"$((${tmp}\/${NODES_PER_REPLICA_SET}))\"\n  replicaset_members[$i]=${replicaset_members[$i]}\"{\\\"_id\\\": $replica_cnt, host:\\\"$replica:27017\\\"},\"\n  replica_cnt=$(($replica_cnt + 1))\ndone\n\nif [[ -f \/sys\/kernel\/mm\/transparent_hugepage\/enabled ]];then\n\techo never | sudo tee \/sys\/kernel\/mm\/transparent_hugepage\/enabled\nfi\nif [[ -f \/sys\/kernel\/mm\/transparent_hugepage\/defrag ]];then\n\techo never | sudo tee \/sys\/kernel\/mm\/transparent_hugepage\/defrag\nfi\n\nsudo systemctl restart mongod\nsleep 5\n\n### Initiating replicaset \njson=$(cat <<EOF\n{\n  \"_id\": \"$replicaSetName\",\n  \"members\": [ ${replicaset_members[$replicasetNo]}]\n}\nEOF\n)\nsudo mongo --host ${INTERNAL_IP} --port 27017 --eval \"rs.initiate( $json )\"\nsleep 2\n"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"DataSet Configure"}],"description":"","message_list":[],"uuid":"09d30fff-41c9-4157-ae5a-0caa0d6d42c9","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"48a6c51b_dag","uuid":"27409e4d-762c-47ff-9854-06ee4fab2e96"},"name":"37c08a7f_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVDataSetPackage","uuid":"e4258915-bb88-40f3-b138-34102b8832b5"},"retries":"0","description":"","type":"DAG","uuid":"219586b4-08f6-485e-8a8c-399f3e5a9327","child_tasks_local_reference_list":[{"kind":"app_task","name":"MoveDatabase","uuid":"4b0d066e-d797-491b-ac22-cb7f5d993111"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"8725d8b7_dag"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"EXEC","uuid":"4b0d066e-d797-491b-ac22-cb7f5d993111","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\n\nnode=$(echo \"@@{calm_array_address}@@\" | tr ',' '\\n' | wc -l)\n\nif [[ \"@@{calm_array_index}@@\" != \"$(($node-1))\" ]];then\n  exit 0\nfi\n\neval $(mongo --host router1.mongodb --port 27017 --quiet --eval 'db.adminCommand( { listShards: 1 } )' | python -c '\nimport json,sys\ndata=json.load(sys.stdin)\nprint \"HOST={}\".format(data[\"shards\"][len(data[\"shards\"])-1][\"host\"])\n')\neval $(mongo --host router1.mongodb --port 27017 --quiet --eval 'db.adminCommand( { listShards: 1 } )' | python -c '\nimport json,sys\ndata=json.load(sys.stdin)\nprint \"HOSTTOMOVE={}\".format(data[\"shards\"][@@{SHARD_TO_MOVE}@@-1][\"host\"])\n')\nhost_state=`mongo --host router1.mongodb --port 27017 --quiet --eval \"db.adminCommand({removeShard: '${HOST}'})['state']\"`\nif [[ \"$host_state\" == \"started\" ]] ; then\n  sleep 5\nfi\nhost_state=`mongo --host router1.mongodb --port 27017 --quiet --eval \"db.adminCommand({removeShard: '${HOST}'})['state']\"`\nif [[ \"$host_state\" == \"ongoing\" ]] ; then\n  if [[ \"@@{SHARD_TO_MOVE}@@\" == \"\" ]] ; then\n    echo \"Please enter the shard number value to move tables.\"\n    exit 1\n  fi\n  dbstomove=`mongo --host router1.mongodb --port 27017 --quiet --eval \"db.adminCommand({removeShard: '${HOST}'})['dbsToMove']\"`\n  eval $(echo $dbstomove | python -c 'import json,sys ; data=json.load(sys.stdin) ; print \"DBSTOMOVE={}\".format(\",\".join(data))')\n  for x in $(echo $DBSTOMOVE | tr \",\" \"\\n\") ; do\n     echo \"echo moving $x\"\n     mongo --host router1.mongodb --port 27017 --quiet --eval \"db.adminCommand({ movePrimary: '$x', to: '${HOSTTOMOVE}' })\"\n  done\n  mongo --host router1.mongodb --port 27017 --quiet --eval \"db.adminCommand({removeShard: '${HOST}'})\"\n  echo \"completed removing shard '${HOST}'\"\nelif [[ \"$host_state\" == \"completed\" ]] ; then\n  echo \"Host removal completed\"\nfi\n"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"MoveDatabase"}],"description":"","message_list":[],"uuid":"54bbdfbb-7f3e-40fd-bb51-ec58752844dc","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"8725d8b7_dag","uuid":"219586b4-08f6-485e-8a8c-399f3e5a9327"},"name":"58209b81_runbook"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Install_Crb_e4258915_bb88_40f3_b138_34102b8832b5"}],"description":"","message_list":[],"uuid":"53348729-3a63-427e-8217-f5b39b374ad9","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Package_e4258915_bb88_40f3_b138_34102b8832b5","uuid":"1ed9f839-d591-429f-ad50-161195a55aff"},"name":"SYS_GEN__Runbook_Package_e4258915_bb88_40f3_b138_34102b8832b5"}},{"description":"System action for creating an application","message_list":[],"uuid":"6e041c29-80cf-49eb-8061-ffb3a19a1e7e","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVDataSetPackage","uuid":"e4258915-bb88-40f3-b138-34102b8832b5"},"retries":"0","description":"","type":"DAG","uuid":"efd0df90-e1d8-47d1-8852-f59d8cad1cc7","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_e4258915_bb88_40f3_b138_34102b8832b5","uuid":"1b15ce91-f10f-472b-bff5-110249347414"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"9817baf0-4e60-4476-9db9-d22222229e75"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"e90de89d-cf5e-44de-88af-371dd6b64116"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"9817baf0-4e60-4476-9db9-d22222229e75"},"edge_type":"inherent","type":"","uuid":"cbf7f153-7092-44dd-88f5-5dd4abf0fcb0","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"e90de89d-cf5e-44de-88af-371dd6b64116"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_e4258915_bb88_40f3_b138_34102b8832b5","uuid":"1b15ce91-f10f-472b-bff5-110249347414"},"edge_type":"inherent","type":"","uuid":"9f984a25-c93d-40f1-9945-a5c1fadc6bfa","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"9817baf0-4e60-4476-9db9-d22222229e75"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_e4258915_bb88_40f3_b138_34102b8832b5"},{"target_any_local_reference":{"kind":"app_package","name":"AHVDataSetPackage","uuid":"e4258915-bb88-40f3-b138-34102b8832b5"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"1b15ce91-f10f-472b-bff5-110249347414","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_e4258915_bb88_40f3_b138_34102b8832b5","uuid":"53348729-3a63-427e-8217-f5b39b374ad9"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_e4258915_bb88_40f3_b138_34102b8832b5"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"9817baf0-4e60-4476-9db9-d22222229e75","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0bda2b69_runbook","uuid":"c08988e8-53fc-48b3-942d-00d118016989"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"e90de89d-cf5e-44de-88af-371dd6b64116","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0f1333dd_runbook","uuid":"43f16a26-e0b7-42a9-b2de-6e6d4147d381"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47"}],"description":"","message_list":[],"uuid":"ee1238bf-ed39-4884-85cd-4d152098ea68","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_e4258915_bb88_40f3_b138_34102b8832b5","uuid":"efd0df90-e1d8-47d1-8852-f59d8cad1cc7"},"name":"SYS_GEN__Runbook_Package_e4258915_bb88_40f3_b138_34102b8832b5"}},{"description":"System action for uninstalling an application","message_list":[],"uuid":"76c66060-9521-41ad-9300-e41522bf5d82","name":"action_uninstall","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVDataSetPackage","uuid":"e4258915-bb88-40f3-b138-34102b8832b5"},"retries":"0","description":"","type":"DAG","uuid":"6c0573f5-9454-4871-8729-e6cc58cd0dd3","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Uninstall_Crb_e4258915_bb88_40f3_b138_34102b8832b5","uuid":"5d3d2c6f-5be1-41ab-9a82-3d6aab4aa062"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Package_e4258915_bb88_40f3_b138_34102b8832b5"},{"target_any_local_reference":{"kind":"app_package","name":"AHVDataSetPackage","uuid":"e4258915-bb88-40f3-b138-34102b8832b5"},"retries":"0","description":"","type":"CUSTOM_PACKAGE_UNINSTALL","uuid":"5d3d2c6f-5be1-41ab-9a82-3d6aab4aa062","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVDataSetPackage","uuid":"e4258915-bb88-40f3-b138-34102b8832b5"},"retries":"0","description":"","type":"DAG","uuid":"27409e4d-762c-47ff-9854-06ee4fab2e96","child_tasks_local_reference_list":[{"kind":"app_task","name":"DataSet Install","uuid":"2dfc7326-fc2b-41be-8494-84c90f2c3ef2"},{"kind":"app_task","name":"DataSet Configure","uuid":"94677cdf-f598-4e29-a711-048989468dc4"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"DataSet Install","uuid":"2dfc7326-fc2b-41be-8494-84c90f2c3ef2"},"edge_type":"user_defined","type":"","uuid":"4c0e48d3-174f-4f33-bf7a-30be7261da87","to_task_reference":{"kind":"app_task","name":"DataSet Configure","uuid":"94677cdf-f598-4e29-a711-048989468dc4"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"48a6c51b_dag"},{"target_any_local_reference":{"kind":"app_package","name":"AHVDataSetPackage","uuid":"e4258915-bb88-40f3-b138-34102b8832b5"},"retries":"0","description":"","type":"EXEC","uuid":"2dfc7326-fc2b-41be-8494-84c90f2c3ef2","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nVERSION=\"@@{MONGO_VERSION}@@\"\nDATA_PATH=\"@@{DATA_PATH}@@\"\nJOURNAL_PATH=\"@@{JOURNAL_PATH}@@\"\nLOG_PATH=\"@@{LOG_PATH}@@\"\nsudo hostnamectl set-hostname --static @@{name}@@\n\ncat > \/tmp\/set-hostnames.py <<EOF\n#!\/usr\/bin\/python\nimport re\nconfig_ips=\"@@{AHVConfigSet.address}@@\"\ndata_ips=\"@@{calm_array_address}@@\"\nrouter_ips=\"@@{AHVRouter.address}@@\"\n\nhostfile = open('\/etc\/hosts', 'r').read()\nprint hostfile\nhostfile = re.sub('\\n#MONGODB-BEGIN.*?#MONGODB-END', '', hostfile, flags=re.DOTALL)\nhostfile += \"#MONGODB-BEGIN\\n\"\ncount=1\nfor ip in config_ips.split(','):\n  hostfile += ip + \" config\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in data_ips.split(','):\n  hostfile += ip + \" data\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in router_ips.split(','):\n  hostfile += ip + \" router\" + str(count) + \".mongodb\\n\"\n  count += 1\nhostfile += \"#MONGODB-END\\n\"\nopen('\/etc\/hosts', 'w').write(hostfile)\nEOF\n\nsudo python \/tmp\/set-hostnames.py\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho '[mongodb-org-3.4]\nname=MongoDB Repository\nbaseurl=https:\/\/repo.mongodb.org\/yum\/redhat\/$releasever\/mongodb-org\/3.4\/x86_64\/\ngpgcheck=1\nenabled=1\ngpgkey=https:\/\/www.mongodb.org\/static\/pgp\/server-3.4.asc' | sudo tee \/etc\/yum.repos.d\/mongodb-3.4.repo\n\nsudo yum update -y --quiet\nsudo yum install -y --quiet mongodb-org-${VERSION} mongodb-org-server-${VERSION} mongodb-org-shell-${VERSION} mongodb-org-mongos-${VERSION} mongodb-org-tools-${VERSION}\n\necho 'exclude=mongodb-org*' | sudo tee -a \/etc\/yum.conf\n\nsudo yum install -y --quiet lvm2 numactl lsscsi\nsudo lsscsi | awk '{print $NF}' | grep \/dev\/sd | grep -v sda | xargs sudo  pvcreate\n\nsudo vgcreate mongodata \/dev\/sdb \/dev\/sdc \/dev\/sdd \nsudo vgcreate mongojournal \/dev\/sde \nsudo vgcreate mongolog \/dev\/sdf\n\nsudo lvcreate -i 3 -l 100%VG -n mongodata mongodata\nsudo lvcreate -l 100%VG -n mongojournal mongojournal \nsudo lvcreate -l 100%VG -n mongolog mongolog\n\nsudo mkfs.xfs -K \/dev\/mapper\/mongodata-mongodata\nsudo mkfs.xfs -K \/dev\/mapper\/mongojournal-mongojournal\nsudo mkfs.xfs -K \/dev\/mapper\/mongolog-mongolog\n\nsudo mkdir -p ${DATA_PATH} ${JOURNAL_PATH} ${LOG_PATH}\n\necho \"\/dev\/mapper\/mongodata-mongodata ${DATA_PATH} xfs defaults,auto,noatime,noexec 0 0\n\/dev\/mapper\/mongojournal-mongojournal ${JOURNAL_PATH} xfs defaults,auto,noexec 0 0\n\/dev\/mapper\/mongolog-mongolog ${LOG_PATH} xfs defaults,auto,noexec 0 0\" | sudo tee -a \/etc\/fstab\nsudo mount -a\n\nsudo ln -s ${JOURNAL_PATH} ${DATA_PATH}\/journal\n\nsudo chown -R mongod:mongod ${DATA_PATH} ${JOURNAL_PATH} ${LOG_PATH}\n\nsudo blockdev --setra 32 \/dev\/dm-2\nsudo blockdev --getra \/dev\/dm-2\n\nsudo sysctl vm.swappiness=1\necho 'vm.swappiness=1' | sudo tee -a \/etc\/sysctl.conf\n"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"DataSet Install"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"EXEC","uuid":"94677cdf-f598-4e29-a711-048989468dc4","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nREPLICA_IPS=\"@@{calm_array_address}@@\"\nDATA_PATH=\"@@{DATA_PATH}@@\"\nINTERNAL_IP=\"@@{address}@@\"\nINDEX=@@{calm_array_index}@@\nNODES_PER_REPLICA_SET=@@{NODES_PER_REPLICA_SET}@@\nARRAY_REPLICA_IPS=$(echo ${REPLICA_IPS} | sed 's\/^,\/\/' | sed 's\/,$\/\/' | tr \",\" \"\\n\")\n\ntmp=$((${INDEX}+${NODES_PER_REPLICA_SET}))\nreplicasetNo=$((${tmp}\/${NODES_PER_REPLICA_SET}))\nreplicaSetName=\"dataReplSet${replicasetNo}\"\n\nsudo sed -i 's\/bindIp:\/#bindIp:\/g' \/etc\/mongod.conf\nsudo sed -i \"s#\/var\/lib\/mongo#${DATA_PATH}#g\" \/etc\/mongod.conf\nsudo sed -i \"s\/#replication:\/replication:\\n  replSetName: $replicaSetName\/g\" \/etc\/mongod.conf\nsudo sed -i 's\/#sharding:\/sharding:\\n  clusterRole: shardsvr\/g' \/etc\/mongod.conf\nsudo sed -i 's#  path: \/var\/log\/mongodb\/mongod.log#  path: \/mongodb\/log\/mongod.log#' \/etc\/mongod.conf\n\n### Getting replicaset members details \nreplica_cnt=0\ndeclare -a replicaset_members\n\nfor replica in $ARRAY_REPLICA_IPS\ndo\n  tmp=$((${replica_cnt}+${NODES_PER_REPLICA_SET}))\n  i=\"$((${tmp}\/${NODES_PER_REPLICA_SET}))\"\n  replicaset_members[$i]=${replicaset_members[$i]}\"{\\\"_id\\\": $replica_cnt, host:\\\"$replica:27017\\\"},\"\n  replica_cnt=$(($replica_cnt + 1))\ndone\n\nif [[ -f \/sys\/kernel\/mm\/transparent_hugepage\/enabled ]];then\n\techo never | sudo tee \/sys\/kernel\/mm\/transparent_hugepage\/enabled\nfi\nif [[ -f \/sys\/kernel\/mm\/transparent_hugepage\/defrag ]];then\n\techo never | sudo tee \/sys\/kernel\/mm\/transparent_hugepage\/defrag\nfi\n\nsudo systemctl restart mongod\nsleep 5\n\n### Initiating replicaset \njson=$(cat <<EOF\n{\n  \"_id\": \"$replicaSetName\",\n  \"members\": [ ${replicaset_members[$replicasetNo]}]\n}\nEOF\n)\nsudo mongo --host ${INTERNAL_IP} --port 27017 --eval \"rs.initiate( $json )\"\nsleep 2\n"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"DataSet Configure"}],"description":"","message_list":[],"uuid":"09d30fff-41c9-4157-ae5a-0caa0d6d42c9","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"48a6c51b_dag","uuid":"27409e4d-762c-47ff-9854-06ee4fab2e96"},"name":"37c08a7f_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVDataSetPackage","uuid":"e4258915-bb88-40f3-b138-34102b8832b5"},"retries":"0","description":"","type":"DAG","uuid":"219586b4-08f6-485e-8a8c-399f3e5a9327","child_tasks_local_reference_list":[{"kind":"app_task","name":"MoveDatabase","uuid":"4b0d066e-d797-491b-ac22-cb7f5d993111"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"8725d8b7_dag"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"EXEC","uuid":"4b0d066e-d797-491b-ac22-cb7f5d993111","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\n\nnode=$(echo \"@@{calm_array_address}@@\" | tr ',' '\\n' | wc -l)\n\nif [[ \"@@{calm_array_index}@@\" != \"$(($node-1))\" ]];then\n  exit 0\nfi\n\neval $(mongo --host router1.mongodb --port 27017 --quiet --eval 'db.adminCommand( { listShards: 1 } )' | python -c '\nimport json,sys\ndata=json.load(sys.stdin)\nprint \"HOST={}\".format(data[\"shards\"][len(data[\"shards\"])-1][\"host\"])\n')\neval $(mongo --host router1.mongodb --port 27017 --quiet --eval 'db.adminCommand( { listShards: 1 } )' | python -c '\nimport json,sys\ndata=json.load(sys.stdin)\nprint \"HOSTTOMOVE={}\".format(data[\"shards\"][@@{SHARD_TO_MOVE}@@-1][\"host\"])\n')\nhost_state=`mongo --host router1.mongodb --port 27017 --quiet --eval \"db.adminCommand({removeShard: '${HOST}'})['state']\"`\nif [[ \"$host_state\" == \"started\" ]] ; then\n  sleep 5\nfi\nhost_state=`mongo --host router1.mongodb --port 27017 --quiet --eval \"db.adminCommand({removeShard: '${HOST}'})['state']\"`\nif [[ \"$host_state\" == \"ongoing\" ]] ; then\n  if [[ \"@@{SHARD_TO_MOVE}@@\" == \"\" ]] ; then\n    echo \"Please enter the shard number value to move tables.\"\n    exit 1\n  fi\n  dbstomove=`mongo --host router1.mongodb --port 27017 --quiet --eval \"db.adminCommand({removeShard: '${HOST}'})['dbsToMove']\"`\n  eval $(echo $dbstomove | python -c 'import json,sys ; data=json.load(sys.stdin) ; print \"DBSTOMOVE={}\".format(\",\".join(data))')\n  for x in $(echo $DBSTOMOVE | tr \",\" \"\\n\") ; do\n     echo \"echo moving $x\"\n     mongo --host router1.mongodb --port 27017 --quiet --eval \"db.adminCommand({ movePrimary: '$x', to: '${HOSTTOMOVE}' })\"\n  done\n  mongo --host router1.mongodb --port 27017 --quiet --eval \"db.adminCommand({removeShard: '${HOST}'})\"\n  echo \"completed removing shard '${HOST}'\"\nelif [[ \"$host_state\" == \"completed\" ]] ; then\n  echo \"Host removal completed\"\nfi\n"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"MoveDatabase"}],"description":"","message_list":[],"uuid":"54bbdfbb-7f3e-40fd-bb51-ec58752844dc","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"8725d8b7_dag","uuid":"219586b4-08f6-485e-8a8c-399f3e5a9327"},"name":"58209b81_runbook"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Uninstall_Crb_e4258915_bb88_40f3_b138_34102b8832b5"}],"description":"","message_list":[],"uuid":"bba437f8-e577-4c53-884b-3e88581b60c6","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Package_e4258915_bb88_40f3_b138_34102b8832b5","uuid":"6c0573f5-9454-4871-8729-e6cc58cd0dd3"},"name":"SYS_GEN__Runbook_Package_e4258915_bb88_40f3_b138_34102b8832b5"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"e197a720-e1b5-4919-963d-60a2bc1cc132","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVDataSetPackage","uuid":"e4258915-bb88-40f3-b138-34102b8832b5"},"retries":"0","description":"","type":"DAG","uuid":"ecf27fd5-7cd8-4a05-a752-8f0578f9bf55","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"32bab25a-8233-4438-9b41-a0084cf0df34"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"e7985b29-0784-4380-84f4-78a6549419c5"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_e4258915_bb88_40f3_b138_34102b8832b5","uuid":"9020b9ff-ca6e-4614-81ac-3f5aeccddfa3"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"32bab25a-8233-4438-9b41-a0084cf0df34"},"edge_type":"inherent","type":"","uuid":"b6d426ed-818f-4da9-acd6-7b690f94d5c5","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"e7985b29-0784-4380-84f4-78a6549419c5"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"e7985b29-0784-4380-84f4-78a6549419c5"},"edge_type":"inherent","type":"","uuid":"6e28a8c0-6eb1-43c7-a9a5-e0350ca7701f","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_e4258915_bb88_40f3_b138_34102b8832b5","uuid":"9020b9ff-ca6e-4614-81ac-3f5aeccddfa3"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_e4258915_bb88_40f3_b138_34102b8832b5"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"32bab25a-8233-4438-9b41-a0084cf0df34","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"85883b0a_runbook","uuid":"42cf4c9d-d9e5-435e-b222-f2d33a05683f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"e7985b29-0784-4380-84f4-78a6549419c5","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"036f3879_runbook","uuid":"c6545ccb-d141-45bd-bf59-cf1e44946785"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47"},{"target_any_local_reference":{"kind":"app_package","name":"AHVDataSetPackage","uuid":"e4258915-bb88-40f3-b138-34102b8832b5"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"9020b9ff-ca6e-4614-81ac-3f5aeccddfa3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_e4258915_bb88_40f3_b138_34102b8832b5","uuid":"bba437f8-e577-4c53-884b-3e88581b60c6"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_e4258915_bb88_40f3_b138_34102b8832b5"}],"description":"","message_list":[],"uuid":"8fbd9dbe-4e73-4bf0-aa8a-1a5fe8d03b90","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_e4258915_bb88_40f3_b138_34102b8832b5","uuid":"ecf27fd5-7cd8-4a05-a752-8f0578f9bf55"},"name":"SYS_GEN__Runbook_Package_e4258915_bb88_40f3_b138_34102b8832b5"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"d3c27007-b1a9-40ea-b14c-e34dab88f5fb","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVDataSetPackage","uuid":"e4258915-bb88-40f3-b138-34102b8832b5"},"retries":"0","description":"","type":"DAG","uuid":"ff1f5ca4-0431-4a49-9cdd-983db6fc6e27","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"806a8c89-7859-4a30-a299-daefbb4f639d"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_e4258915_bb88_40f3_b138_34102b8832b5","uuid":"5952c1ad-f415-4900-82bc-895c264f7c42"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"806a8c89-7859-4a30-a299-daefbb4f639d"},"edge_type":"inherent","type":"","uuid":"d702281c-d740-40ba-9c58-0e95232de9a1","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_e4258915_bb88_40f3_b138_34102b8832b5","uuid":"5952c1ad-f415-4900-82bc-895c264f7c42"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_e4258915_bb88_40f3_b138_34102b8832b5"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"806a8c89-7859-4a30-a299-daefbb4f639d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"433fbe65-0fc7-4649-a088-87d5660f88a6"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47"},{"target_any_local_reference":{"kind":"app_package","name":"AHVDataSetPackage","uuid":"e4258915-bb88-40f3-b138-34102b8832b5"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"5952c1ad-f415-4900-82bc-895c264f7c42","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_e4258915_bb88_40f3_b138_34102b8832b5"}],"description":"","message_list":[],"uuid":"635d6d1f-f31e-4e97-b358-ed2b2b799bb6","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_e4258915_bb88_40f3_b138_34102b8832b5","uuid":"ff1f5ca4-0431-4a49-9cdd-983db6fc6e27"},"name":"SYS_GEN__Runbook_Package_e4258915_bb88_40f3_b138_34102b8832b5"}},{"description":"System action for starting an application","message_list":[],"uuid":"2ae6ca83-1213-42b1-8faf-d6a03fe829c9","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVDataSetPackage","uuid":"e4258915-bb88-40f3-b138-34102b8832b5"},"retries":"0","description":"","type":"DAG","uuid":"3c246dcf-eb2f-4079-8bca-4f4ff3ce9765","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"b180a0bb-aff8-4c51-b253-30858fae98ef"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_e4258915_bb88_40f3_b138_34102b8832b5"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"b180a0bb-aff8-4c51-b253-30858fae98ef","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0f1333dd_runbook","uuid":"43f16a26-e0b7-42a9-b2de-6e6d4147d381"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47"}],"description":"","message_list":[],"uuid":"fe38042b-b23d-44a7-9936-7d5fa42f55e0","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_e4258915_bb88_40f3_b138_34102b8832b5","uuid":"3c246dcf-eb2f-4079-8bca-4f4ff3ce9765"},"name":"SYS_GEN__Runbook_Package_e4258915_bb88_40f3_b138_34102b8832b5"}},{"description":"System action for restarting an application","message_list":[],"uuid":"10e9ca9e-ec9b-4052-86e4-209527119edd","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVDataSetPackage","uuid":"e4258915-bb88-40f3-b138-34102b8832b5"},"retries":"0","description":"","type":"DAG","uuid":"2585f8d4-d3ef-45de-9db9-25b80d877448","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"cc6df196-612e-41d3-9149-ea7f4f96ad47"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_e4258915_bb88_40f3_b138_34102b8832b5"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"cc6df196-612e-41d3-9149-ea7f4f96ad47","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"4f7b2559_runbook","uuid":"03856e37-e1bf-4b7c-95bb-87bf81c6c940"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47"}],"description":"","message_list":[],"uuid":"16089914-7c2e-4396-8e8e-5f057f46d4a7","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_e4258915_bb88_40f3_b138_34102b8832b5","uuid":"2585f8d4-d3ef-45de-9db9-25b80d877448"},"name":"SYS_GEN__Runbook_Package_e4258915_bb88_40f3_b138_34102b8832b5"}},{"description":"System action for stopping an application","message_list":[],"uuid":"d5826021-ee50-4bd0-b252-5722ed68bacc","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVDataSetPackage","uuid":"e4258915-bb88-40f3-b138-34102b8832b5"},"retries":"0","description":"","type":"DAG","uuid":"722af4e7-f1b4-4d00-9bfc-61cf2401c5b4","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"5b5f543d-d7a1-4334-9656-2dd1ad93eb9e"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_e4258915_bb88_40f3_b138_34102b8832b5"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"5b5f543d-d7a1-4334-9656-2dd1ad93eb9e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"85883b0a_runbook","uuid":"42cf4c9d-d9e5-435e-b222-f2d33a05683f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47"}],"description":"","message_list":[],"uuid":"e8fb2706-90e0-4da4-8d0e-d4b597ba3b8c","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_e4258915_bb88_40f3_b138_34102b8832b5","uuid":"722af4e7-f1b4-4d00-9bfc-61cf2401c5b4"},"name":"SYS_GEN__Runbook_Package_e4258915_bb88_40f3_b138_34102b8832b5"}}],"message_list":[],"service_local_reference_list":[{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"}],"uuid":"e4258915-bb88-40f3-b138-34102b8832b5","state":"ACTIVE","version":"","editables":{},"type":"DEB","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVDataSetPackage","uuid":"e4258915-bb88-40f3-b138-34102b8832b5"},"retries":"0","description":"","type":"DAG","uuid":"27409e4d-762c-47ff-9854-06ee4fab2e96","child_tasks_local_reference_list":[{"kind":"app_task","name":"DataSet Install","uuid":"2dfc7326-fc2b-41be-8494-84c90f2c3ef2"},{"kind":"app_task","name":"DataSet Configure","uuid":"94677cdf-f598-4e29-a711-048989468dc4"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"DataSet Install","uuid":"2dfc7326-fc2b-41be-8494-84c90f2c3ef2"},"edge_type":"user_defined","type":"","uuid":"4c0e48d3-174f-4f33-bf7a-30be7261da87","to_task_reference":{"kind":"app_task","name":"DataSet Configure","uuid":"94677cdf-f598-4e29-a711-048989468dc4"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"48a6c51b_dag"},{"target_any_local_reference":{"kind":"app_package","name":"AHVDataSetPackage","uuid":"e4258915-bb88-40f3-b138-34102b8832b5"},"retries":"0","description":"","type":"EXEC","uuid":"2dfc7326-fc2b-41be-8494-84c90f2c3ef2","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nVERSION=\"@@{MONGO_VERSION}@@\"\nDATA_PATH=\"@@{DATA_PATH}@@\"\nJOURNAL_PATH=\"@@{JOURNAL_PATH}@@\"\nLOG_PATH=\"@@{LOG_PATH}@@\"\nsudo hostnamectl set-hostname --static @@{name}@@\n\ncat > \/tmp\/set-hostnames.py <<EOF\n#!\/usr\/bin\/python\nimport re\nconfig_ips=\"@@{AHVConfigSet.address}@@\"\ndata_ips=\"@@{calm_array_address}@@\"\nrouter_ips=\"@@{AHVRouter.address}@@\"\n\nhostfile = open('\/etc\/hosts', 'r').read()\nprint hostfile\nhostfile = re.sub('\\n#MONGODB-BEGIN.*?#MONGODB-END', '', hostfile, flags=re.DOTALL)\nhostfile += \"#MONGODB-BEGIN\\n\"\ncount=1\nfor ip in config_ips.split(','):\n  hostfile += ip + \" config\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in data_ips.split(','):\n  hostfile += ip + \" data\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in router_ips.split(','):\n  hostfile += ip + \" router\" + str(count) + \".mongodb\\n\"\n  count += 1\nhostfile += \"#MONGODB-END\\n\"\nopen('\/etc\/hosts', 'w').write(hostfile)\nEOF\n\nsudo python \/tmp\/set-hostnames.py\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho '[mongodb-org-3.4]\nname=MongoDB Repository\nbaseurl=https:\/\/repo.mongodb.org\/yum\/redhat\/$releasever\/mongodb-org\/3.4\/x86_64\/\ngpgcheck=1\nenabled=1\ngpgkey=https:\/\/www.mongodb.org\/static\/pgp\/server-3.4.asc' | sudo tee \/etc\/yum.repos.d\/mongodb-3.4.repo\n\nsudo yum update -y --quiet\nsudo yum install -y --quiet mongodb-org-${VERSION} mongodb-org-server-${VERSION} mongodb-org-shell-${VERSION} mongodb-org-mongos-${VERSION} mongodb-org-tools-${VERSION}\n\necho 'exclude=mongodb-org*' | sudo tee -a \/etc\/yum.conf\n\nsudo yum install -y --quiet lvm2 numactl lsscsi\nsudo lsscsi | awk '{print $NF}' | grep \/dev\/sd | grep -v sda | xargs sudo  pvcreate\n\nsudo vgcreate mongodata \/dev\/sdb \/dev\/sdc \/dev\/sdd \nsudo vgcreate mongojournal \/dev\/sde \nsudo vgcreate mongolog \/dev\/sdf\n\nsudo lvcreate -i 3 -l 100%VG -n mongodata mongodata\nsudo lvcreate -l 100%VG -n mongojournal mongojournal \nsudo lvcreate -l 100%VG -n mongolog mongolog\n\nsudo mkfs.xfs -K \/dev\/mapper\/mongodata-mongodata\nsudo mkfs.xfs -K \/dev\/mapper\/mongojournal-mongojournal\nsudo mkfs.xfs -K \/dev\/mapper\/mongolog-mongolog\n\nsudo mkdir -p ${DATA_PATH} ${JOURNAL_PATH} ${LOG_PATH}\n\necho \"\/dev\/mapper\/mongodata-mongodata ${DATA_PATH} xfs defaults,auto,noatime,noexec 0 0\n\/dev\/mapper\/mongojournal-mongojournal ${JOURNAL_PATH} xfs defaults,auto,noexec 0 0\n\/dev\/mapper\/mongolog-mongolog ${LOG_PATH} xfs defaults,auto,noexec 0 0\" | sudo tee -a \/etc\/fstab\nsudo mount -a\n\nsudo ln -s ${JOURNAL_PATH} ${DATA_PATH}\/journal\n\nsudo chown -R mongod:mongod ${DATA_PATH} ${JOURNAL_PATH} ${LOG_PATH}\n\nsudo blockdev --setra 32 \/dev\/dm-2\nsudo blockdev --getra \/dev\/dm-2\n\nsudo sysctl vm.swappiness=1\necho 'vm.swappiness=1' | sudo tee -a \/etc\/sysctl.conf\n"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"DataSet Install"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"EXEC","uuid":"94677cdf-f598-4e29-a711-048989468dc4","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nREPLICA_IPS=\"@@{calm_array_address}@@\"\nDATA_PATH=\"@@{DATA_PATH}@@\"\nINTERNAL_IP=\"@@{address}@@\"\nINDEX=@@{calm_array_index}@@\nNODES_PER_REPLICA_SET=@@{NODES_PER_REPLICA_SET}@@\nARRAY_REPLICA_IPS=$(echo ${REPLICA_IPS} | sed 's\/^,\/\/' | sed 's\/,$\/\/' | tr \",\" \"\\n\")\n\ntmp=$((${INDEX}+${NODES_PER_REPLICA_SET}))\nreplicasetNo=$((${tmp}\/${NODES_PER_REPLICA_SET}))\nreplicaSetName=\"dataReplSet${replicasetNo}\"\n\nsudo sed -i 's\/bindIp:\/#bindIp:\/g' \/etc\/mongod.conf\nsudo sed -i \"s#\/var\/lib\/mongo#${DATA_PATH}#g\" \/etc\/mongod.conf\nsudo sed -i \"s\/#replication:\/replication:\\n  replSetName: $replicaSetName\/g\" \/etc\/mongod.conf\nsudo sed -i 's\/#sharding:\/sharding:\\n  clusterRole: shardsvr\/g' \/etc\/mongod.conf\nsudo sed -i 's#  path: \/var\/log\/mongodb\/mongod.log#  path: \/mongodb\/log\/mongod.log#' \/etc\/mongod.conf\n\n### Getting replicaset members details \nreplica_cnt=0\ndeclare -a replicaset_members\n\nfor replica in $ARRAY_REPLICA_IPS\ndo\n  tmp=$((${replica_cnt}+${NODES_PER_REPLICA_SET}))\n  i=\"$((${tmp}\/${NODES_PER_REPLICA_SET}))\"\n  replicaset_members[$i]=${replicaset_members[$i]}\"{\\\"_id\\\": $replica_cnt, host:\\\"$replica:27017\\\"},\"\n  replica_cnt=$(($replica_cnt + 1))\ndone\n\nif [[ -f \/sys\/kernel\/mm\/transparent_hugepage\/enabled ]];then\n\techo never | sudo tee \/sys\/kernel\/mm\/transparent_hugepage\/enabled\nfi\nif [[ -f \/sys\/kernel\/mm\/transparent_hugepage\/defrag ]];then\n\techo never | sudo tee \/sys\/kernel\/mm\/transparent_hugepage\/defrag\nfi\n\nsudo systemctl restart mongod\nsleep 5\n\n### Initiating replicaset \njson=$(cat <<EOF\n{\n  \"_id\": \"$replicaSetName\",\n  \"members\": [ ${replicaset_members[$replicasetNo]}]\n}\nEOF\n)\nsudo mongo --host ${INTERNAL_IP} --port 27017 --eval \"rs.initiate( $json )\"\nsleep 2\n"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"DataSet Configure"}],"description":"","message_list":[],"uuid":"09d30fff-41c9-4157-ae5a-0caa0d6d42c9","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"48a6c51b_dag","uuid":"27409e4d-762c-47ff-9854-06ee4fab2e96"},"name":"37c08a7f_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVDataSetPackage","uuid":"e4258915-bb88-40f3-b138-34102b8832b5"},"retries":"0","description":"","type":"DAG","uuid":"219586b4-08f6-485e-8a8c-399f3e5a9327","child_tasks_local_reference_list":[{"kind":"app_task","name":"MoveDatabase","uuid":"4b0d066e-d797-491b-ac22-cb7f5d993111"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"8725d8b7_dag"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"EXEC","uuid":"4b0d066e-d797-491b-ac22-cb7f5d993111","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\n\nnode=$(echo \"@@{calm_array_address}@@\" | tr ',' '\\n' | wc -l)\n\nif [[ \"@@{calm_array_index}@@\" != \"$(($node-1))\" ]];then\n  exit 0\nfi\n\neval $(mongo --host router1.mongodb --port 27017 --quiet --eval 'db.adminCommand( { listShards: 1 } )' | python -c '\nimport json,sys\ndata=json.load(sys.stdin)\nprint \"HOST={}\".format(data[\"shards\"][len(data[\"shards\"])-1][\"host\"])\n')\neval $(mongo --host router1.mongodb --port 27017 --quiet --eval 'db.adminCommand( { listShards: 1 } )' | python -c '\nimport json,sys\ndata=json.load(sys.stdin)\nprint \"HOSTTOMOVE={}\".format(data[\"shards\"][@@{SHARD_TO_MOVE}@@-1][\"host\"])\n')\nhost_state=`mongo --host router1.mongodb --port 27017 --quiet --eval \"db.adminCommand({removeShard: '${HOST}'})['state']\"`\nif [[ \"$host_state\" == \"started\" ]] ; then\n  sleep 5\nfi\nhost_state=`mongo --host router1.mongodb --port 27017 --quiet --eval \"db.adminCommand({removeShard: '${HOST}'})['state']\"`\nif [[ \"$host_state\" == \"ongoing\" ]] ; then\n  if [[ \"@@{SHARD_TO_MOVE}@@\" == \"\" ]] ; then\n    echo \"Please enter the shard number value to move tables.\"\n    exit 1\n  fi\n  dbstomove=`mongo --host router1.mongodb --port 27017 --quiet --eval \"db.adminCommand({removeShard: '${HOST}'})['dbsToMove']\"`\n  eval $(echo $dbstomove | python -c 'import json,sys ; data=json.load(sys.stdin) ; print \"DBSTOMOVE={}\".format(\",\".join(data))')\n  for x in $(echo $DBSTOMOVE | tr \",\" \"\\n\") ; do\n     echo \"echo moving $x\"\n     mongo --host router1.mongodb --port 27017 --quiet --eval \"db.adminCommand({ movePrimary: '$x', to: '${HOSTTOMOVE}' })\"\n  done\n  mongo --host router1.mongodb --port 27017 --quiet --eval \"db.adminCommand({removeShard: '${HOST}'})\"\n  echo \"completed removing shard '${HOST}'\"\nelif [[ \"$host_state\" == \"completed\" ]] ; then\n  echo \"Host removal completed\"\nfi\n"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"MoveDatabase"}],"description":"","message_list":[],"uuid":"54bbdfbb-7f3e-40fd-bb51-ec58752844dc","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"8725d8b7_dag","uuid":"219586b4-08f6-485e-8a8c-399f3e5a9327"},"name":"58209b81_runbook"}},"variable_list":[],"name":"AHVDataSetPackage"},{"description":"","action_list":[{"description":"System action for installing an application","message_list":[],"uuid":"4fbae65a-198b-4155-8485-7acd9f2a951b","name":"action_install","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSRouterPackage","uuid":"f0a49fbc-a771-4f3a-b889-550b2c7eea0a"},"retries":"0","description":"","type":"DAG","uuid":"9483e3bd-5cfe-40fd-9f6a-5813621692eb","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Install_Crb_f0a49fbc_a771_4f3a_b889_550b2c7eea0a","uuid":"d504363b-5470-4775-83e5-6ddd8e40dd95"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Package_f0a49fbc_a771_4f3a_b889_550b2c7eea0a"},{"target_any_local_reference":{"kind":"app_package","name":"AWSRouterPackage","uuid":"f0a49fbc-a771-4f3a-b889-550b2c7eea0a"},"retries":"0","description":"","type":"CUSTOM_PACKAGE_INSTALL","uuid":"d504363b-5470-4775-83e5-6ddd8e40dd95","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSRouterPackage","uuid":"f0a49fbc-a771-4f3a-b889-550b2c7eea0a"},"retries":"0","description":"","type":"DAG","uuid":"d0fde302-0ee4-4650-bf14-2c7d3a0c5467","child_tasks_local_reference_list":[{"kind":"app_task","name":"Router Install","uuid":"7d72b55d-9170-447e-b13a-103e4eef28e8"},{"kind":"app_task","name":"Router Configure","uuid":"288e4014-0962-48ef-9124-1f22c61f2f61"},{"kind":"app_task","name":"Start Shard","uuid":"93b375f8-8d8c-4ba5-a97b-1cac310803f7"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Router Install","uuid":"7d72b55d-9170-447e-b13a-103e4eef28e8"},"edge_type":"user_defined","type":"","uuid":"ad35f521-a405-452c-9a6f-73417570e1e2","to_task_reference":{"kind":"app_task","name":"Router Configure","uuid":"288e4014-0962-48ef-9124-1f22c61f2f61"}},{"from_task_reference":{"kind":"app_task","name":"Router Configure","uuid":"288e4014-0962-48ef-9124-1f22c61f2f61"},"edge_type":"user_defined","type":"","uuid":"b98c0a81-891d-432a-99f8-be443c2a55ae","to_task_reference":{"kind":"app_task","name":"Start Shard","uuid":"93b375f8-8d8c-4ba5-a97b-1cac310803f7"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"86b208ed_dag"},{"target_any_local_reference":{"kind":"app_package","name":"AWSRouterPackage","uuid":"f0a49fbc-a771-4f3a-b889-550b2c7eea0a"},"retries":"0","description":"","type":"EXEC","uuid":"7d72b55d-9170-447e-b13a-103e4eef28e8","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nVERSION=\"@@{MONGO_VERSION}@@\"\nDATA_PATH=\"@@{DATA_PATH}@@\"\nJOURNAL_PATH=\"@@{JOURNAL_PATH}@@\"\nLOG_PATH=\"@@{LOG_PATH}@@\"\nsudo hostnamectl set-hostname --static @@{name}@@\n\ncat > \/tmp\/set-hostnames.py <<EOF\n#!\/usr\/bin\/python\nimport re\nconfig_ips=\"@@{AWSConfigSet.private_ip_address}@@\"\ndata_ips=\"@@{AWSDataSet.private_ip_address}@@\"\nrouter_ips=\"@@{calm_array_private_ip_address}@@\"\n\nhostfile = open('\/etc\/hosts', 'r').read()\nprint hostfile\nhostfile = re.sub('\\n#MONGODB-BEGIN.*?#MONGODB-END', '', hostfile, flags=re.DOTALL)\nhostfile += \"#MONGODB-BEGIN\\n\"\ncount=1\nfor ip in config_ips.split(','):\n  hostfile += ip + \" config\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in data_ips.split(','):\n  hostfile += ip + \" data\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in router_ips.split(','):\n  hostfile += ip + \" router\" + str(count) + \".mongodb\\n\"\n  count += 1\nhostfile += \"#MONGODB-END\\n\"\nopen('\/etc\/hosts', 'w').write(hostfile)\nEOF\n\nsudo python \/tmp\/set-hostnames.py\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho '[mongodb-org-3.4]\nname=MongoDB Repository\nbaseurl=https:\/\/repo.mongodb.org\/yum\/redhat\/$releasever\/mongodb-org\/3.4\/x86_64\/\ngpgcheck=1\nenabled=1\ngpgkey=https:\/\/www.mongodb.org\/static\/pgp\/server-3.4.asc' | sudo tee \/etc\/yum.repos.d\/mongodb-3.4.repo\n\nsudo yum update -y --quiet\nsudo yum install -y --quiet mongodb-org-${VERSION} mongodb-org-server-${VERSION} mongodb-org-shell-${VERSION} mongodb-org-mongos-${VERSION} mongodb-org-tools-${VERSION}\n\necho 'exclude=mongodb-org*' | sudo tee -a \/etc\/yum.conf\n\nsudo mkdir -p ${DATA_PATH} ${JOURNAL_PATH} ${LOG_PATH}\nsudo ln -s ${JOURNAL_PATH} ${DATA_PATH}\/journal\nsudo chown -R mongod:mongod ${DATA_PATH} ${JOURNAL_PATH} ${LOG_PATH}"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Router Install"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"EXEC","uuid":"288e4014-0962-48ef-9124-1f22c61f2f61","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nCONFIG_SRV_IPS=\"@@{ConfigSet.private_ip_address}@@\"\nDATA_PATH=\"@@{DATA_PATH}@@\"\n\nconfig_ips=$(echo \"${CONFIG_SRV_IPS}\" | sed 's\/^,\/\/' | sed 's\/,$\/\/' | sed 's\/,\/:27017,\/g')\nconfig_ips=$config_ips\":27017\"\n\nsudo sed -i 's\/bindIp:\/#bindIp:\/g' \/etc\/mongod.conf\nsudo sed -i \"s#\/var\/lib\/mongo#${DATA_PATH}#g\" \/etc\/mongod.conf\n\necho \"[Unit]\nDescription=High-performance, schema-free document-oriented database\nAfter=network.target\nDocumentation=https:\/\/docs.mongodb.org\/manual\n\n[Service]\nUser=mongod\nGroup=mongod\nEnvironment=\\\"OPTIONS=--port 27017 --configdb configReplSet\/$config_ips --logpath \/var\/log\/mongodb\/mongos.log\\\"\nExecStart=\/usr\/bin\/mongos \\$OPTIONS\nPermissionsStartOnly=true\nPIDFile=\/var\/run\/mongodb\/mongos.pid\n# file size\nLimitFSIZE=infinity\n# cpu time\nLimitCPU=infinity\n# virtual memory size\nLimitAS=infinity\n# open files\nLimitNOFILE=64000\n# processes\/threads\nLimitNPROC=64000\n# total threads (user+kernel)\nTasksMax=infinity\nTasksAccounting=false\n# Recommended limits for for mongod as specified in\n# http:\/\/docs.mongodb.org\/manual\/reference\/ulimit\/#recommended-settings\n\n[Install]\nWantedBy=multi-user.target\" | sudo tee \/usr\/lib\/systemd\/system\/mongos.service\n\nsudo systemctl start mongos\n#sudo -u mongod -b mongos --port 27017 --configdb  --logpath \/var\/log\/mongodb\/mongos.log \n\nsleep 2"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Router Configure"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"EXEC","uuid":"93b375f8-8d8c-4ba5-a97b-1cac310803f7","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\nNODES_PER_REPLICA_SET=\"@@{NODES_PER_REPLICA_SET}@@\"\nINTERNAL_IP=\"@@{private_ip_address}@@\"\nREPLICA_IPS=($(echo @@{DataSet.private_ip_address}@@ | sed 's\/^,\/\/' | sed 's\/,$\/\/' | tr \",\" \"\\n\"))\nnoOfShards=$((${#REPLICA_IPS[@]}\/${NODES_PER_REPLICA_SET}))\n\ncount=0\nfor ((number=1;number <= $noOfShards;number++))\ndo\n  replicaSetName=\"dataReplSet${number}\"\n  sudo mongo --host ${INTERNAL_IP} --port 27017 --eval \"sh.addShard( \\\"$replicaSetName\/${REPLICA_IPS[${count}]}:27017\\\" )\"\n  count=$(($count + ${NODES_PER_REPLICA_SET}))\ndone"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Start Shard"}],"description":"","message_list":[],"uuid":"e052f2c1-86b8-479e-8870-07ac4bebe7b3","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"86b208ed_dag","uuid":"d0fde302-0ee4-4650-bf14-2c7d3a0c5467"},"name":"cf6004c4_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSRouterPackage","uuid":"f0a49fbc-a771-4f3a-b889-550b2c7eea0a"},"retries":"0","description":"","type":"DAG","uuid":"9d862e3c-cb7a-4690-bfbe-9c9562ecb775","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"59fa3e16_dag"}],"description":"","message_list":[],"uuid":"b4833f72-800a-420d-93f8-e4e63acf6f3c","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"59fa3e16_dag","uuid":"9d862e3c-cb7a-4690-bfbe-9c9562ecb775"},"name":"edfb9ef5_runbook"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Install_Crb_f0a49fbc_a771_4f3a_b889_550b2c7eea0a"}],"description":"","message_list":[],"uuid":"3d764afa-fb73-4c68-ac00-f8e57fc14ca3","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Package_f0a49fbc_a771_4f3a_b889_550b2c7eea0a","uuid":"9483e3bd-5cfe-40fd-9f6a-5813621692eb"},"name":"SYS_GEN__Runbook_Package_f0a49fbc_a771_4f3a_b889_550b2c7eea0a"}},{"description":"System action for creating an application","message_list":[],"uuid":"bf6b17cf-3568-4c3f-8966-3c4a79017450","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSRouterPackage","uuid":"f0a49fbc-a771-4f3a-b889-550b2c7eea0a"},"retries":"0","description":"","type":"DAG","uuid":"60b63e46-f040-4172-a2f6-5dc481892470","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_f0a49fbc_a771_4f3a_b889_550b2c7eea0a","uuid":"3e0f5a18-c81b-4e51-a7f3-ddb310fcec19"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"11d48717-1aec-4f10-ab77-a1ff14267ec7"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"41871a9f-bfc7-4e69-bbd2-413f0561e6b9"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"11d48717-1aec-4f10-ab77-a1ff14267ec7"},"edge_type":"inherent","type":"","uuid":"3d4ce537-9770-4b11-84bc-f20939a0b599","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"41871a9f-bfc7-4e69-bbd2-413f0561e6b9"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_f0a49fbc_a771_4f3a_b889_550b2c7eea0a","uuid":"3e0f5a18-c81b-4e51-a7f3-ddb310fcec19"},"edge_type":"inherent","type":"","uuid":"113c5797-e3f8-4889-899f-36244d360047","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"11d48717-1aec-4f10-ab77-a1ff14267ec7"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_f0a49fbc_a771_4f3a_b889_550b2c7eea0a"},{"target_any_local_reference":{"kind":"app_package","name":"AWSRouterPackage","uuid":"f0a49fbc-a771-4f3a-b889-550b2c7eea0a"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"3e0f5a18-c81b-4e51-a7f3-ddb310fcec19","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_f0a49fbc_a771_4f3a_b889_550b2c7eea0a","uuid":"3d764afa-fb73-4c68-ac00-f8e57fc14ca3"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_f0a49fbc_a771_4f3a_b889_550b2c7eea0a"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"11d48717-1aec-4f10-ab77-a1ff14267ec7","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"f678ba44_runbook","uuid":"6f256634-e57a-41ea-a837-438a40018db7"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"41871a9f-bfc7-4e69-bbd2-413f0561e6b9","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"6729beee_runbook","uuid":"28341bf4-2766-4701-8747-1722ed61db3c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e"}],"description":"","message_list":[],"uuid":"b9cc4247-e7ec-42e6-89c5-738006918986","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_f0a49fbc_a771_4f3a_b889_550b2c7eea0a","uuid":"60b63e46-f040-4172-a2f6-5dc481892470"},"name":"SYS_GEN__Runbook_Package_f0a49fbc_a771_4f3a_b889_550b2c7eea0a"}},{"description":"System action for uninstalling an application","message_list":[],"uuid":"4bcaac86-34a2-4040-991a-32b49afda6af","name":"action_uninstall","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSRouterPackage","uuid":"f0a49fbc-a771-4f3a-b889-550b2c7eea0a"},"retries":"0","description":"","type":"DAG","uuid":"6aa07945-48d1-4705-9801-b4c93bf3c6c6","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Uninstall_Crb_f0a49fbc_a771_4f3a_b889_550b2c7eea0a","uuid":"9a30aa08-9db7-434e-8f6f-f1a9503e2617"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Package_f0a49fbc_a771_4f3a_b889_550b2c7eea0a"},{"target_any_local_reference":{"kind":"app_package","name":"AWSRouterPackage","uuid":"f0a49fbc-a771-4f3a-b889-550b2c7eea0a"},"retries":"0","description":"","type":"CUSTOM_PACKAGE_UNINSTALL","uuid":"9a30aa08-9db7-434e-8f6f-f1a9503e2617","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSRouterPackage","uuid":"f0a49fbc-a771-4f3a-b889-550b2c7eea0a"},"retries":"0","description":"","type":"DAG","uuid":"d0fde302-0ee4-4650-bf14-2c7d3a0c5467","child_tasks_local_reference_list":[{"kind":"app_task","name":"Router Install","uuid":"7d72b55d-9170-447e-b13a-103e4eef28e8"},{"kind":"app_task","name":"Router Configure","uuid":"288e4014-0962-48ef-9124-1f22c61f2f61"},{"kind":"app_task","name":"Start Shard","uuid":"93b375f8-8d8c-4ba5-a97b-1cac310803f7"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Router Install","uuid":"7d72b55d-9170-447e-b13a-103e4eef28e8"},"edge_type":"user_defined","type":"","uuid":"ad35f521-a405-452c-9a6f-73417570e1e2","to_task_reference":{"kind":"app_task","name":"Router Configure","uuid":"288e4014-0962-48ef-9124-1f22c61f2f61"}},{"from_task_reference":{"kind":"app_task","name":"Router Configure","uuid":"288e4014-0962-48ef-9124-1f22c61f2f61"},"edge_type":"user_defined","type":"","uuid":"b98c0a81-891d-432a-99f8-be443c2a55ae","to_task_reference":{"kind":"app_task","name":"Start Shard","uuid":"93b375f8-8d8c-4ba5-a97b-1cac310803f7"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"86b208ed_dag"},{"target_any_local_reference":{"kind":"app_package","name":"AWSRouterPackage","uuid":"f0a49fbc-a771-4f3a-b889-550b2c7eea0a"},"retries":"0","description":"","type":"EXEC","uuid":"7d72b55d-9170-447e-b13a-103e4eef28e8","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nVERSION=\"@@{MONGO_VERSION}@@\"\nDATA_PATH=\"@@{DATA_PATH}@@\"\nJOURNAL_PATH=\"@@{JOURNAL_PATH}@@\"\nLOG_PATH=\"@@{LOG_PATH}@@\"\nsudo hostnamectl set-hostname --static @@{name}@@\n\ncat > \/tmp\/set-hostnames.py <<EOF\n#!\/usr\/bin\/python\nimport re\nconfig_ips=\"@@{AWSConfigSet.private_ip_address}@@\"\ndata_ips=\"@@{AWSDataSet.private_ip_address}@@\"\nrouter_ips=\"@@{calm_array_private_ip_address}@@\"\n\nhostfile = open('\/etc\/hosts', 'r').read()\nprint hostfile\nhostfile = re.sub('\\n#MONGODB-BEGIN.*?#MONGODB-END', '', hostfile, flags=re.DOTALL)\nhostfile += \"#MONGODB-BEGIN\\n\"\ncount=1\nfor ip in config_ips.split(','):\n  hostfile += ip + \" config\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in data_ips.split(','):\n  hostfile += ip + \" data\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in router_ips.split(','):\n  hostfile += ip + \" router\" + str(count) + \".mongodb\\n\"\n  count += 1\nhostfile += \"#MONGODB-END\\n\"\nopen('\/etc\/hosts', 'w').write(hostfile)\nEOF\n\nsudo python \/tmp\/set-hostnames.py\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho '[mongodb-org-3.4]\nname=MongoDB Repository\nbaseurl=https:\/\/repo.mongodb.org\/yum\/redhat\/$releasever\/mongodb-org\/3.4\/x86_64\/\ngpgcheck=1\nenabled=1\ngpgkey=https:\/\/www.mongodb.org\/static\/pgp\/server-3.4.asc' | sudo tee \/etc\/yum.repos.d\/mongodb-3.4.repo\n\nsudo yum update -y --quiet\nsudo yum install -y --quiet mongodb-org-${VERSION} mongodb-org-server-${VERSION} mongodb-org-shell-${VERSION} mongodb-org-mongos-${VERSION} mongodb-org-tools-${VERSION}\n\necho 'exclude=mongodb-org*' | sudo tee -a \/etc\/yum.conf\n\nsudo mkdir -p ${DATA_PATH} ${JOURNAL_PATH} ${LOG_PATH}\nsudo ln -s ${JOURNAL_PATH} ${DATA_PATH}\/journal\nsudo chown -R mongod:mongod ${DATA_PATH} ${JOURNAL_PATH} ${LOG_PATH}"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Router Install"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"EXEC","uuid":"288e4014-0962-48ef-9124-1f22c61f2f61","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nCONFIG_SRV_IPS=\"@@{ConfigSet.private_ip_address}@@\"\nDATA_PATH=\"@@{DATA_PATH}@@\"\n\nconfig_ips=$(echo \"${CONFIG_SRV_IPS}\" | sed 's\/^,\/\/' | sed 's\/,$\/\/' | sed 's\/,\/:27017,\/g')\nconfig_ips=$config_ips\":27017\"\n\nsudo sed -i 's\/bindIp:\/#bindIp:\/g' \/etc\/mongod.conf\nsudo sed -i \"s#\/var\/lib\/mongo#${DATA_PATH}#g\" \/etc\/mongod.conf\n\necho \"[Unit]\nDescription=High-performance, schema-free document-oriented database\nAfter=network.target\nDocumentation=https:\/\/docs.mongodb.org\/manual\n\n[Service]\nUser=mongod\nGroup=mongod\nEnvironment=\\\"OPTIONS=--port 27017 --configdb configReplSet\/$config_ips --logpath \/var\/log\/mongodb\/mongos.log\\\"\nExecStart=\/usr\/bin\/mongos \\$OPTIONS\nPermissionsStartOnly=true\nPIDFile=\/var\/run\/mongodb\/mongos.pid\n# file size\nLimitFSIZE=infinity\n# cpu time\nLimitCPU=infinity\n# virtual memory size\nLimitAS=infinity\n# open files\nLimitNOFILE=64000\n# processes\/threads\nLimitNPROC=64000\n# total threads (user+kernel)\nTasksMax=infinity\nTasksAccounting=false\n# Recommended limits for for mongod as specified in\n# http:\/\/docs.mongodb.org\/manual\/reference\/ulimit\/#recommended-settings\n\n[Install]\nWantedBy=multi-user.target\" | sudo tee \/usr\/lib\/systemd\/system\/mongos.service\n\nsudo systemctl start mongos\n#sudo -u mongod -b mongos --port 27017 --configdb  --logpath \/var\/log\/mongodb\/mongos.log \n\nsleep 2"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Router Configure"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"EXEC","uuid":"93b375f8-8d8c-4ba5-a97b-1cac310803f7","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\nNODES_PER_REPLICA_SET=\"@@{NODES_PER_REPLICA_SET}@@\"\nINTERNAL_IP=\"@@{private_ip_address}@@\"\nREPLICA_IPS=($(echo @@{DataSet.private_ip_address}@@ | sed 's\/^,\/\/' | sed 's\/,$\/\/' | tr \",\" \"\\n\"))\nnoOfShards=$((${#REPLICA_IPS[@]}\/${NODES_PER_REPLICA_SET}))\n\ncount=0\nfor ((number=1;number <= $noOfShards;number++))\ndo\n  replicaSetName=\"dataReplSet${number}\"\n  sudo mongo --host ${INTERNAL_IP} --port 27017 --eval \"sh.addShard( \\\"$replicaSetName\/${REPLICA_IPS[${count}]}:27017\\\" )\"\n  count=$(($count + ${NODES_PER_REPLICA_SET}))\ndone"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Start Shard"}],"description":"","message_list":[],"uuid":"e052f2c1-86b8-479e-8870-07ac4bebe7b3","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"86b208ed_dag","uuid":"d0fde302-0ee4-4650-bf14-2c7d3a0c5467"},"name":"cf6004c4_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSRouterPackage","uuid":"f0a49fbc-a771-4f3a-b889-550b2c7eea0a"},"retries":"0","description":"","type":"DAG","uuid":"9d862e3c-cb7a-4690-bfbe-9c9562ecb775","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"59fa3e16_dag"}],"description":"","message_list":[],"uuid":"b4833f72-800a-420d-93f8-e4e63acf6f3c","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"59fa3e16_dag","uuid":"9d862e3c-cb7a-4690-bfbe-9c9562ecb775"},"name":"edfb9ef5_runbook"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Uninstall_Crb_f0a49fbc_a771_4f3a_b889_550b2c7eea0a"}],"description":"","message_list":[],"uuid":"8645867a-c2f5-451f-90dc-d2f1f3711561","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Package_f0a49fbc_a771_4f3a_b889_550b2c7eea0a","uuid":"6aa07945-48d1-4705-9801-b4c93bf3c6c6"},"name":"SYS_GEN__Runbook_Package_f0a49fbc_a771_4f3a_b889_550b2c7eea0a"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"3be36e57-b2d2-4102-a5ea-28e22ac109e7","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSRouterPackage","uuid":"f0a49fbc-a771-4f3a-b889-550b2c7eea0a"},"retries":"0","description":"","type":"DAG","uuid":"44ff5735-9d5f-4ac5-aa35-c34af1a30346","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"b8a0dcaf-4ab0-435c-998c-6e89775fccfa"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"645de67a-99b9-4357-a3f9-85e5b5c1c9f7"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_f0a49fbc_a771_4f3a_b889_550b2c7eea0a","uuid":"352c7ad7-a089-4317-be6e-1fd46fcfbecc"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"b8a0dcaf-4ab0-435c-998c-6e89775fccfa"},"edge_type":"inherent","type":"","uuid":"1d1d64e5-cae1-4906-b1db-42362a367455","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"645de67a-99b9-4357-a3f9-85e5b5c1c9f7"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"645de67a-99b9-4357-a3f9-85e5b5c1c9f7"},"edge_type":"inherent","type":"","uuid":"a0e58aa9-9e3a-41cb-ab66-201f3e78aca8","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_f0a49fbc_a771_4f3a_b889_550b2c7eea0a","uuid":"352c7ad7-a089-4317-be6e-1fd46fcfbecc"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_f0a49fbc_a771_4f3a_b889_550b2c7eea0a"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"b8a0dcaf-4ab0-435c-998c-6e89775fccfa","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"6d2afcdd_runbook","uuid":"215f65d0-6496-443c-9017-6dec4743560f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"645de67a-99b9-4357-a3f9-85e5b5c1c9f7","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"6631f4bd_runbook","uuid":"d80d8f71-625e-4530-bf85-66347f427405"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e"},{"target_any_local_reference":{"kind":"app_package","name":"AWSRouterPackage","uuid":"f0a49fbc-a771-4f3a-b889-550b2c7eea0a"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"352c7ad7-a089-4317-be6e-1fd46fcfbecc","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_f0a49fbc_a771_4f3a_b889_550b2c7eea0a","uuid":"8645867a-c2f5-451f-90dc-d2f1f3711561"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_f0a49fbc_a771_4f3a_b889_550b2c7eea0a"}],"description":"","message_list":[],"uuid":"894b4956-4831-4dda-ab88-48b70e578c9a","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_f0a49fbc_a771_4f3a_b889_550b2c7eea0a","uuid":"44ff5735-9d5f-4ac5-aa35-c34af1a30346"},"name":"SYS_GEN__Runbook_Package_f0a49fbc_a771_4f3a_b889_550b2c7eea0a"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"f7084901-d325-46ef-b5ba-8639485a0515","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSRouterPackage","uuid":"f0a49fbc-a771-4f3a-b889-550b2c7eea0a"},"retries":"0","description":"","type":"DAG","uuid":"5ea114fb-f4a9-4a48-bc44-c933c609794a","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"155fb43b-c1c6-4e33-95ee-58eed1c9ee8c"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_f0a49fbc_a771_4f3a_b889_550b2c7eea0a","uuid":"4c5fcc5c-fb30-4664-bc00-5bc886423be8"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"155fb43b-c1c6-4e33-95ee-58eed1c9ee8c"},"edge_type":"inherent","type":"","uuid":"ed31e9c8-13fe-4808-8b7f-744a38113243","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_f0a49fbc_a771_4f3a_b889_550b2c7eea0a","uuid":"4c5fcc5c-fb30-4664-bc00-5bc886423be8"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_f0a49fbc_a771_4f3a_b889_550b2c7eea0a"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"155fb43b-c1c6-4e33-95ee-58eed1c9ee8c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"3fe61be2-c077-40a8-91a6-e9e75a5d2af3"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e"},{"target_any_local_reference":{"kind":"app_package","name":"AWSRouterPackage","uuid":"f0a49fbc-a771-4f3a-b889-550b2c7eea0a"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"4c5fcc5c-fb30-4664-bc00-5bc886423be8","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_f0a49fbc_a771_4f3a_b889_550b2c7eea0a"}],"description":"","message_list":[],"uuid":"10a052a5-d574-4b4c-81e7-b69c99d03469","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_f0a49fbc_a771_4f3a_b889_550b2c7eea0a","uuid":"5ea114fb-f4a9-4a48-bc44-c933c609794a"},"name":"SYS_GEN__Runbook_Package_f0a49fbc_a771_4f3a_b889_550b2c7eea0a"}},{"description":"System action for starting an application","message_list":[],"uuid":"5954193a-278d-4e23-932a-0375e28b222d","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSRouterPackage","uuid":"f0a49fbc-a771-4f3a-b889-550b2c7eea0a"},"retries":"0","description":"","type":"DAG","uuid":"bf20eb9a-2e51-463b-979f-aafe6002c8de","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"72ae60a6-4018-411a-a06a-ebed82f00d39"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_f0a49fbc_a771_4f3a_b889_550b2c7eea0a"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"72ae60a6-4018-411a-a06a-ebed82f00d39","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"6729beee_runbook","uuid":"28341bf4-2766-4701-8747-1722ed61db3c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e"}],"description":"","message_list":[],"uuid":"3f938e10-ae51-4ad6-80e3-034711958b13","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_f0a49fbc_a771_4f3a_b889_550b2c7eea0a","uuid":"bf20eb9a-2e51-463b-979f-aafe6002c8de"},"name":"SYS_GEN__Runbook_Package_f0a49fbc_a771_4f3a_b889_550b2c7eea0a"}},{"description":"System action for restarting an application","message_list":[],"uuid":"83d3e37b-f63d-48f5-874f-e34b0f91e169","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSRouterPackage","uuid":"f0a49fbc-a771-4f3a-b889-550b2c7eea0a"},"retries":"0","description":"","type":"DAG","uuid":"3b88e5f3-27f6-43ed-8750-a463d71ff1de","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"de9e8869-a99c-45a8-a3b4-95c1b1345634"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_f0a49fbc_a771_4f3a_b889_550b2c7eea0a"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"de9e8869-a99c-45a8-a3b4-95c1b1345634","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"5261a312_runbook","uuid":"dcdcb0d6-e68b-4641-8609-e6dc92c57b21"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e"}],"description":"","message_list":[],"uuid":"17b57399-c725-4f89-a11d-da80268bb096","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_f0a49fbc_a771_4f3a_b889_550b2c7eea0a","uuid":"3b88e5f3-27f6-43ed-8750-a463d71ff1de"},"name":"SYS_GEN__Runbook_Package_f0a49fbc_a771_4f3a_b889_550b2c7eea0a"}},{"description":"System action for stopping an application","message_list":[],"uuid":"52f6d97a-70b7-48dc-87ca-f7bd195a9dbf","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSRouterPackage","uuid":"f0a49fbc-a771-4f3a-b889-550b2c7eea0a"},"retries":"0","description":"","type":"DAG","uuid":"16b70da9-302a-48dd-a595-06b8a8744abd","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"1b3e6aab-3c14-4790-ae70-41656eeeed8b"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_f0a49fbc_a771_4f3a_b889_550b2c7eea0a"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"1b3e6aab-3c14-4790-ae70-41656eeeed8b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"6d2afcdd_runbook","uuid":"215f65d0-6496-443c-9017-6dec4743560f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e"}],"description":"","message_list":[],"uuid":"9c9face8-83b6-4a2f-9c11-34cce73db2ad","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_f0a49fbc_a771_4f3a_b889_550b2c7eea0a","uuid":"16b70da9-302a-48dd-a595-06b8a8744abd"},"name":"SYS_GEN__Runbook_Package_f0a49fbc_a771_4f3a_b889_550b2c7eea0a"}}],"message_list":[],"service_local_reference_list":[{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"}],"uuid":"f0a49fbc-a771-4f3a-b889-550b2c7eea0a","state":"ACTIVE","version":"","editables":{},"type":"DEB","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSRouterPackage","uuid":"f0a49fbc-a771-4f3a-b889-550b2c7eea0a"},"retries":"0","description":"","type":"DAG","uuid":"d0fde302-0ee4-4650-bf14-2c7d3a0c5467","child_tasks_local_reference_list":[{"kind":"app_task","name":"Router Install","uuid":"7d72b55d-9170-447e-b13a-103e4eef28e8"},{"kind":"app_task","name":"Router Configure","uuid":"288e4014-0962-48ef-9124-1f22c61f2f61"},{"kind":"app_task","name":"Start Shard","uuid":"93b375f8-8d8c-4ba5-a97b-1cac310803f7"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Router Install","uuid":"7d72b55d-9170-447e-b13a-103e4eef28e8"},"edge_type":"user_defined","type":"","uuid":"ad35f521-a405-452c-9a6f-73417570e1e2","to_task_reference":{"kind":"app_task","name":"Router Configure","uuid":"288e4014-0962-48ef-9124-1f22c61f2f61"}},{"from_task_reference":{"kind":"app_task","name":"Router Configure","uuid":"288e4014-0962-48ef-9124-1f22c61f2f61"},"edge_type":"user_defined","type":"","uuid":"b98c0a81-891d-432a-99f8-be443c2a55ae","to_task_reference":{"kind":"app_task","name":"Start Shard","uuid":"93b375f8-8d8c-4ba5-a97b-1cac310803f7"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"86b208ed_dag"},{"target_any_local_reference":{"kind":"app_package","name":"AWSRouterPackage","uuid":"f0a49fbc-a771-4f3a-b889-550b2c7eea0a"},"retries":"0","description":"","type":"EXEC","uuid":"7d72b55d-9170-447e-b13a-103e4eef28e8","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nVERSION=\"@@{MONGO_VERSION}@@\"\nDATA_PATH=\"@@{DATA_PATH}@@\"\nJOURNAL_PATH=\"@@{JOURNAL_PATH}@@\"\nLOG_PATH=\"@@{LOG_PATH}@@\"\nsudo hostnamectl set-hostname --static @@{name}@@\n\ncat > \/tmp\/set-hostnames.py <<EOF\n#!\/usr\/bin\/python\nimport re\nconfig_ips=\"@@{AWSConfigSet.private_ip_address}@@\"\ndata_ips=\"@@{AWSDataSet.private_ip_address}@@\"\nrouter_ips=\"@@{calm_array_private_ip_address}@@\"\n\nhostfile = open('\/etc\/hosts', 'r').read()\nprint hostfile\nhostfile = re.sub('\\n#MONGODB-BEGIN.*?#MONGODB-END', '', hostfile, flags=re.DOTALL)\nhostfile += \"#MONGODB-BEGIN\\n\"\ncount=1\nfor ip in config_ips.split(','):\n  hostfile += ip + \" config\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in data_ips.split(','):\n  hostfile += ip + \" data\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in router_ips.split(','):\n  hostfile += ip + \" router\" + str(count) + \".mongodb\\n\"\n  count += 1\nhostfile += \"#MONGODB-END\\n\"\nopen('\/etc\/hosts', 'w').write(hostfile)\nEOF\n\nsudo python \/tmp\/set-hostnames.py\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho '[mongodb-org-3.4]\nname=MongoDB Repository\nbaseurl=https:\/\/repo.mongodb.org\/yum\/redhat\/$releasever\/mongodb-org\/3.4\/x86_64\/\ngpgcheck=1\nenabled=1\ngpgkey=https:\/\/www.mongodb.org\/static\/pgp\/server-3.4.asc' | sudo tee \/etc\/yum.repos.d\/mongodb-3.4.repo\n\nsudo yum update -y --quiet\nsudo yum install -y --quiet mongodb-org-${VERSION} mongodb-org-server-${VERSION} mongodb-org-shell-${VERSION} mongodb-org-mongos-${VERSION} mongodb-org-tools-${VERSION}\n\necho 'exclude=mongodb-org*' | sudo tee -a \/etc\/yum.conf\n\nsudo mkdir -p ${DATA_PATH} ${JOURNAL_PATH} ${LOG_PATH}\nsudo ln -s ${JOURNAL_PATH} ${DATA_PATH}\/journal\nsudo chown -R mongod:mongod ${DATA_PATH} ${JOURNAL_PATH} ${LOG_PATH}"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Router Install"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"EXEC","uuid":"288e4014-0962-48ef-9124-1f22c61f2f61","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nCONFIG_SRV_IPS=\"@@{ConfigSet.private_ip_address}@@\"\nDATA_PATH=\"@@{DATA_PATH}@@\"\n\nconfig_ips=$(echo \"${CONFIG_SRV_IPS}\" | sed 's\/^,\/\/' | sed 's\/,$\/\/' | sed 's\/,\/:27017,\/g')\nconfig_ips=$config_ips\":27017\"\n\nsudo sed -i 's\/bindIp:\/#bindIp:\/g' \/etc\/mongod.conf\nsudo sed -i \"s#\/var\/lib\/mongo#${DATA_PATH}#g\" \/etc\/mongod.conf\n\necho \"[Unit]\nDescription=High-performance, schema-free document-oriented database\nAfter=network.target\nDocumentation=https:\/\/docs.mongodb.org\/manual\n\n[Service]\nUser=mongod\nGroup=mongod\nEnvironment=\\\"OPTIONS=--port 27017 --configdb configReplSet\/$config_ips --logpath \/var\/log\/mongodb\/mongos.log\\\"\nExecStart=\/usr\/bin\/mongos \\$OPTIONS\nPermissionsStartOnly=true\nPIDFile=\/var\/run\/mongodb\/mongos.pid\n# file size\nLimitFSIZE=infinity\n# cpu time\nLimitCPU=infinity\n# virtual memory size\nLimitAS=infinity\n# open files\nLimitNOFILE=64000\n# processes\/threads\nLimitNPROC=64000\n# total threads (user+kernel)\nTasksMax=infinity\nTasksAccounting=false\n# Recommended limits for for mongod as specified in\n# http:\/\/docs.mongodb.org\/manual\/reference\/ulimit\/#recommended-settings\n\n[Install]\nWantedBy=multi-user.target\" | sudo tee \/usr\/lib\/systemd\/system\/mongos.service\n\nsudo systemctl start mongos\n#sudo -u mongod -b mongos --port 27017 --configdb  --logpath \/var\/log\/mongodb\/mongos.log \n\nsleep 2"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Router Configure"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"EXEC","uuid":"93b375f8-8d8c-4ba5-a97b-1cac310803f7","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\nNODES_PER_REPLICA_SET=\"@@{NODES_PER_REPLICA_SET}@@\"\nINTERNAL_IP=\"@@{private_ip_address}@@\"\nREPLICA_IPS=($(echo @@{DataSet.private_ip_address}@@ | sed 's\/^,\/\/' | sed 's\/,$\/\/' | tr \",\" \"\\n\"))\nnoOfShards=$((${#REPLICA_IPS[@]}\/${NODES_PER_REPLICA_SET}))\n\ncount=0\nfor ((number=1;number <= $noOfShards;number++))\ndo\n  replicaSetName=\"dataReplSet${number}\"\n  sudo mongo --host ${INTERNAL_IP} --port 27017 --eval \"sh.addShard( \\\"$replicaSetName\/${REPLICA_IPS[${count}]}:27017\\\" )\"\n  count=$(($count + ${NODES_PER_REPLICA_SET}))\ndone"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Start Shard"}],"description":"","message_list":[],"uuid":"e052f2c1-86b8-479e-8870-07ac4bebe7b3","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"86b208ed_dag","uuid":"d0fde302-0ee4-4650-bf14-2c7d3a0c5467"},"name":"cf6004c4_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSRouterPackage","uuid":"f0a49fbc-a771-4f3a-b889-550b2c7eea0a"},"retries":"0","description":"","type":"DAG","uuid":"9d862e3c-cb7a-4690-bfbe-9c9562ecb775","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"59fa3e16_dag"}],"description":"","message_list":[],"uuid":"b4833f72-800a-420d-93f8-e4e63acf6f3c","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"59fa3e16_dag","uuid":"9d862e3c-cb7a-4690-bfbe-9c9562ecb775"},"name":"edfb9ef5_runbook"}},"variable_list":[],"name":"AWSRouterPackage"},{"description":"","action_list":[{"description":"System action for installing an application","message_list":[],"uuid":"d7647afe-c951-4634-bcbf-74fb9608661d","name":"action_install","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSConfigSetPackage","uuid":"8530536d-a328-41b2-b452-ab23632488f7"},"retries":"0","description":"","type":"DAG","uuid":"b6e561eb-e7f1-4bc8-b353-19a9f31e9d29","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Install_Crb_8530536d_a328_41b2_b452_ab23632488f7","uuid":"77f48007-a1ac-4883-a3ab-9f8a8ddbce3b"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Package_8530536d_a328_41b2_b452_ab23632488f7"},{"target_any_local_reference":{"kind":"app_package","name":"AWSConfigSetPackage","uuid":"8530536d-a328-41b2-b452-ab23632488f7"},"retries":"0","description":"","type":"CUSTOM_PACKAGE_INSTALL","uuid":"77f48007-a1ac-4883-a3ab-9f8a8ddbce3b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSConfigSetPackage","uuid":"8530536d-a328-41b2-b452-ab23632488f7"},"retries":"0","description":"","type":"DAG","uuid":"89074fe1-43b6-4112-bc14-58d7f8e6d738","child_tasks_local_reference_list":[{"kind":"app_task","name":"Config Set Install","uuid":"e18a76d5-1c48-4593-9378-0b65cb4a9ee0"},{"kind":"app_task","name":"ConfigSet Configure","uuid":"c9eb15b8-7f48-46cf-bb8c-6ad9bd0e2984"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Config Set Install","uuid":"e18a76d5-1c48-4593-9378-0b65cb4a9ee0"},"edge_type":"user_defined","type":"","uuid":"b7329f98-4750-4c6f-b233-aabc54f26f33","to_task_reference":{"kind":"app_task","name":"ConfigSet Configure","uuid":"c9eb15b8-7f48-46cf-bb8c-6ad9bd0e2984"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"0a083306_dag"},{"target_any_local_reference":{"kind":"app_package","name":"AWSConfigSetPackage","uuid":"8530536d-a328-41b2-b452-ab23632488f7"},"retries":"0","description":"","type":"EXEC","uuid":"e18a76d5-1c48-4593-9378-0b65cb4a9ee0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nVERSION=\"@@{MONGO_VERSION}@@\"\nDATA_PATH=\"@@{DATA_PATH}@@\"\nJOURNAL_PATH=\"@@{JOURNAL_PATH}@@\"\nLOG_PATH=\"@@{LOG_PATH}@@\"\nsudo hostnamectl set-hostname --static @@{name}@@\n\ncat > \/tmp\/set-hostnames.py <<EOF\n#!\/usr\/bin\/python\nimport re\nconfig_ips=\"@@{calm_array_private_ip_address}@@\"\ndata_ips=\"@@{AWSDataSet.private_ip_address}@@\"\nrouter_ips=\"@@{AWSRouter.private_ip_address}@@\"\n\nhostfile = open('\/etc\/hosts', 'r').read()\nprint hostfile\nhostfile = re.sub('\\n#MONGODB-BEGIN.*?#MONGODB-END', '', hostfile, flags=re.DOTALL)\nhostfile += \"#MONGODB-BEGIN\\n\"\ncount=1\nfor ip in config_ips.split(','):\n  hostfile += ip + \" config\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in data_ips.split(','):\n  hostfile += ip + \" data\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in router_ips.split(','):\n  hostfile += ip + \" router\" + str(count) + \".mongodb\\n\"\n  count += 1\nhostfile += \"#MONGODB-END\\n\"\nopen('\/etc\/hosts', 'w').write(hostfile)\nEOF\n\nsudo python \/tmp\/set-hostnames.py\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho '[mongodb-org-3.4]\nname=MongoDB Repository\nbaseurl=https:\/\/repo.mongodb.org\/yum\/redhat\/$releasever\/mongodb-org\/3.4\/x86_64\/\ngpgcheck=1\nenabled=1\ngpgkey=https:\/\/www.mongodb.org\/static\/pgp\/server-3.4.asc' | sudo tee \/etc\/yum.repos.d\/mongodb-3.4.repo\n\nsudo yum update -y --quiet\nsudo yum install -y --quiet mongodb-org-${VERSION} mongodb-org-server-${VERSION} mongodb-org-shell-${VERSION} mongodb-org-mongos-${VERSION} mongodb-org-tools-${VERSION}\n\necho 'exclude=mongodb-org*' | sudo tee -a \/etc\/yum.conf\n\nsudo mkdir -p ${DATA_PATH} ${JOURNAL_PATH} ${LOG_PATH}\nsudo ln -s ${JOURNAL_PATH} ${DATA_PATH}\/journal\nsudo chown -R mongod:mongod ${DATA_PATH} ${JOURNAL_PATH} ${LOG_PATH}"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Config Set Install"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"EXEC","uuid":"c9eb15b8-7f48-46cf-bb8c-6ad9bd0e2984","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nCONFIG_SRV_IPS=\"@@{calm_array_private_ip_address}@@\"\nDATA_PATH=\"@@{DATA_PATH}@@\"\nINTERNAL_IP=\"@@{private_ip_address}@@\"\n\nsudo sed -i 's\/bindIp:\/#bindIp:\/g' \/etc\/mongod.conf\nsudo sed -i \"s#\/var\/lib\/mongo#${DATA_PATH}#g\" \/etc\/mongod.conf\nsudo sed -i 's\/#sharding:\/sharding:\\n  clusterRole: configsvr\/g' \/etc\/mongod.conf\nsudo sed -i 's\/#replication:\/replication:\\n  replSetName: configReplSet\/g' \/etc\/mongod.conf\n\n\nconfig_ips=$(echo \"${CONFIG_SRV_IPS}\" | sed 's\/^,\/\/' | sed 's\/,$\/\/' | tr \",\" \"\\n\")\nconfig_cnt=0\nconfig_str=\"\"\n\nfor config in $config_ips\ndo\n  config_str=$config_str\"{\\\"_id\\\": $config_cnt, host:\\\"$config:27017\\\"},\"\n  config_cnt=$(($config_cnt + 1))\ndone\nconfig_str=`echo $config_str | sed 's\/,$\/\/'`\njson=$(cat <<EOF\n{\n  \"_id\": \"configReplSet\",\n  \"members\": [\n    $config_str\n  ]\n}\nEOF\n)\n\nif [[ -f \/sys\/kernel\/mm\/transparent_hugepage\/enabled ]];then\n\techo never | sudo tee \/sys\/kernel\/mm\/transparent_hugepage\/enabled\nfi\nif [[ -f \/sys\/kernel\/mm\/transparent_hugepage\/defrag ]];then\n\techo never | sudo tee \/sys\/kernel\/mm\/transparent_hugepage\/defrag\nfi\n\nsudo systemctl restart mongod\nsleep 15\n\nif [ @@{calm_array_index}@@ -ne 0 ];then\n  exit\nfi\n\nsudo mongo --host ${INTERNAL_IP} --port 27017 --eval \"rs.initiate( $json )\""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"ConfigSet Configure"}],"description":"","message_list":[],"uuid":"ac48169b-fbce-4783-ad49-ff154d0e2aa4","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"0a083306_dag","uuid":"89074fe1-43b6-4112-bc14-58d7f8e6d738"},"name":"88d75a2d_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSConfigSetPackage","uuid":"8530536d-a328-41b2-b452-ab23632488f7"},"retries":"0","description":"","type":"DAG","uuid":"15a945b1-e33c-4d7e-809f-076d5c68cf74","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"0e749ec1_dag"}],"description":"","message_list":[],"uuid":"9c55c8b6-ce83-4ddd-b210-1fa0969ec3ee","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"0e749ec1_dag","uuid":"15a945b1-e33c-4d7e-809f-076d5c68cf74"},"name":"c94e03df_runbook"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Install_Crb_8530536d_a328_41b2_b452_ab23632488f7"}],"description":"","message_list":[],"uuid":"729f484b-84c4-4b35-827f-b98befc0f863","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Package_8530536d_a328_41b2_b452_ab23632488f7","uuid":"b6e561eb-e7f1-4bc8-b353-19a9f31e9d29"},"name":"SYS_GEN__Runbook_Package_8530536d_a328_41b2_b452_ab23632488f7"}},{"description":"System action for creating an application","message_list":[],"uuid":"1857fd56-d7b7-4c72-93e5-aeed8a98e384","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSConfigSetPackage","uuid":"8530536d-a328-41b2-b452-ab23632488f7"},"retries":"0","description":"","type":"DAG","uuid":"e7e9a575-0291-4bf2-80be-fd6b8c60cd92","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_8530536d_a328_41b2_b452_ab23632488f7","uuid":"133a320b-d75c-4d2a-a5c2-e15cc04e2559"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"b74ec7fc-b7b7-4875-8547-fa2c9264cd80"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"aefc052d-2fcb-456f-97b8-6524267ffe12"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"b74ec7fc-b7b7-4875-8547-fa2c9264cd80"},"edge_type":"inherent","type":"","uuid":"6b9626d8-4822-433f-8a25-cfbbcd6d2ed3","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"aefc052d-2fcb-456f-97b8-6524267ffe12"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_8530536d_a328_41b2_b452_ab23632488f7","uuid":"133a320b-d75c-4d2a-a5c2-e15cc04e2559"},"edge_type":"inherent","type":"","uuid":"0d3a1349-b008-4d8e-8846-3b6027e8fae8","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"b74ec7fc-b7b7-4875-8547-fa2c9264cd80"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_8530536d_a328_41b2_b452_ab23632488f7"},{"target_any_local_reference":{"kind":"app_package","name":"AWSConfigSetPackage","uuid":"8530536d-a328-41b2-b452-ab23632488f7"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"133a320b-d75c-4d2a-a5c2-e15cc04e2559","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_8530536d_a328_41b2_b452_ab23632488f7","uuid":"729f484b-84c4-4b35-827f-b98befc0f863"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_8530536d_a328_41b2_b452_ab23632488f7"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"b74ec7fc-b7b7-4875-8547-fa2c9264cd80","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0a879260_runbook","uuid":"741de02d-b511-4b87-8b94-a1b0b74e0fb7"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"aefc052d-2fcb-456f-97b8-6524267ffe12","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"f4695758_runbook","uuid":"0c2528e9-82d6-40bc-9b4d-721eabd37ead"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd"}],"description":"","message_list":[],"uuid":"a05172a8-50a2-4c71-b6fe-91c02d404a7d","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_8530536d_a328_41b2_b452_ab23632488f7","uuid":"e7e9a575-0291-4bf2-80be-fd6b8c60cd92"},"name":"SYS_GEN__Runbook_Package_8530536d_a328_41b2_b452_ab23632488f7"}},{"description":"System action for uninstalling an application","message_list":[],"uuid":"83935c07-5b9d-4e76-aca1-32c745e8a5fa","name":"action_uninstall","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSConfigSetPackage","uuid":"8530536d-a328-41b2-b452-ab23632488f7"},"retries":"0","description":"","type":"DAG","uuid":"04b46fae-5f8b-48c5-a17c-8489e06811a8","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Uninstall_Crb_8530536d_a328_41b2_b452_ab23632488f7","uuid":"c346836e-56d2-471b-86eb-b226047a7f3b"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Package_8530536d_a328_41b2_b452_ab23632488f7"},{"target_any_local_reference":{"kind":"app_package","name":"AWSConfigSetPackage","uuid":"8530536d-a328-41b2-b452-ab23632488f7"},"retries":"0","description":"","type":"CUSTOM_PACKAGE_UNINSTALL","uuid":"c346836e-56d2-471b-86eb-b226047a7f3b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSConfigSetPackage","uuid":"8530536d-a328-41b2-b452-ab23632488f7"},"retries":"0","description":"","type":"DAG","uuid":"89074fe1-43b6-4112-bc14-58d7f8e6d738","child_tasks_local_reference_list":[{"kind":"app_task","name":"Config Set Install","uuid":"e18a76d5-1c48-4593-9378-0b65cb4a9ee0"},{"kind":"app_task","name":"ConfigSet Configure","uuid":"c9eb15b8-7f48-46cf-bb8c-6ad9bd0e2984"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Config Set Install","uuid":"e18a76d5-1c48-4593-9378-0b65cb4a9ee0"},"edge_type":"user_defined","type":"","uuid":"b7329f98-4750-4c6f-b233-aabc54f26f33","to_task_reference":{"kind":"app_task","name":"ConfigSet Configure","uuid":"c9eb15b8-7f48-46cf-bb8c-6ad9bd0e2984"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"0a083306_dag"},{"target_any_local_reference":{"kind":"app_package","name":"AWSConfigSetPackage","uuid":"8530536d-a328-41b2-b452-ab23632488f7"},"retries":"0","description":"","type":"EXEC","uuid":"e18a76d5-1c48-4593-9378-0b65cb4a9ee0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nVERSION=\"@@{MONGO_VERSION}@@\"\nDATA_PATH=\"@@{DATA_PATH}@@\"\nJOURNAL_PATH=\"@@{JOURNAL_PATH}@@\"\nLOG_PATH=\"@@{LOG_PATH}@@\"\nsudo hostnamectl set-hostname --static @@{name}@@\n\ncat > \/tmp\/set-hostnames.py <<EOF\n#!\/usr\/bin\/python\nimport re\nconfig_ips=\"@@{calm_array_private_ip_address}@@\"\ndata_ips=\"@@{AWSDataSet.private_ip_address}@@\"\nrouter_ips=\"@@{AWSRouter.private_ip_address}@@\"\n\nhostfile = open('\/etc\/hosts', 'r').read()\nprint hostfile\nhostfile = re.sub('\\n#MONGODB-BEGIN.*?#MONGODB-END', '', hostfile, flags=re.DOTALL)\nhostfile += \"#MONGODB-BEGIN\\n\"\ncount=1\nfor ip in config_ips.split(','):\n  hostfile += ip + \" config\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in data_ips.split(','):\n  hostfile += ip + \" data\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in router_ips.split(','):\n  hostfile += ip + \" router\" + str(count) + \".mongodb\\n\"\n  count += 1\nhostfile += \"#MONGODB-END\\n\"\nopen('\/etc\/hosts', 'w').write(hostfile)\nEOF\n\nsudo python \/tmp\/set-hostnames.py\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho '[mongodb-org-3.4]\nname=MongoDB Repository\nbaseurl=https:\/\/repo.mongodb.org\/yum\/redhat\/$releasever\/mongodb-org\/3.4\/x86_64\/\ngpgcheck=1\nenabled=1\ngpgkey=https:\/\/www.mongodb.org\/static\/pgp\/server-3.4.asc' | sudo tee \/etc\/yum.repos.d\/mongodb-3.4.repo\n\nsudo yum update -y --quiet\nsudo yum install -y --quiet mongodb-org-${VERSION} mongodb-org-server-${VERSION} mongodb-org-shell-${VERSION} mongodb-org-mongos-${VERSION} mongodb-org-tools-${VERSION}\n\necho 'exclude=mongodb-org*' | sudo tee -a \/etc\/yum.conf\n\nsudo mkdir -p ${DATA_PATH} ${JOURNAL_PATH} ${LOG_PATH}\nsudo ln -s ${JOURNAL_PATH} ${DATA_PATH}\/journal\nsudo chown -R mongod:mongod ${DATA_PATH} ${JOURNAL_PATH} ${LOG_PATH}"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Config Set Install"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"EXEC","uuid":"c9eb15b8-7f48-46cf-bb8c-6ad9bd0e2984","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nCONFIG_SRV_IPS=\"@@{calm_array_private_ip_address}@@\"\nDATA_PATH=\"@@{DATA_PATH}@@\"\nINTERNAL_IP=\"@@{private_ip_address}@@\"\n\nsudo sed -i 's\/bindIp:\/#bindIp:\/g' \/etc\/mongod.conf\nsudo sed -i \"s#\/var\/lib\/mongo#${DATA_PATH}#g\" \/etc\/mongod.conf\nsudo sed -i 's\/#sharding:\/sharding:\\n  clusterRole: configsvr\/g' \/etc\/mongod.conf\nsudo sed -i 's\/#replication:\/replication:\\n  replSetName: configReplSet\/g' \/etc\/mongod.conf\n\n\nconfig_ips=$(echo \"${CONFIG_SRV_IPS}\" | sed 's\/^,\/\/' | sed 's\/,$\/\/' | tr \",\" \"\\n\")\nconfig_cnt=0\nconfig_str=\"\"\n\nfor config in $config_ips\ndo\n  config_str=$config_str\"{\\\"_id\\\": $config_cnt, host:\\\"$config:27017\\\"},\"\n  config_cnt=$(($config_cnt + 1))\ndone\nconfig_str=`echo $config_str | sed 's\/,$\/\/'`\njson=$(cat <<EOF\n{\n  \"_id\": \"configReplSet\",\n  \"members\": [\n    $config_str\n  ]\n}\nEOF\n)\n\nif [[ -f \/sys\/kernel\/mm\/transparent_hugepage\/enabled ]];then\n\techo never | sudo tee \/sys\/kernel\/mm\/transparent_hugepage\/enabled\nfi\nif [[ -f \/sys\/kernel\/mm\/transparent_hugepage\/defrag ]];then\n\techo never | sudo tee \/sys\/kernel\/mm\/transparent_hugepage\/defrag\nfi\n\nsudo systemctl restart mongod\nsleep 15\n\nif [ @@{calm_array_index}@@ -ne 0 ];then\n  exit\nfi\n\nsudo mongo --host ${INTERNAL_IP} --port 27017 --eval \"rs.initiate( $json )\""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"ConfigSet Configure"}],"description":"","message_list":[],"uuid":"ac48169b-fbce-4783-ad49-ff154d0e2aa4","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"0a083306_dag","uuid":"89074fe1-43b6-4112-bc14-58d7f8e6d738"},"name":"88d75a2d_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSConfigSetPackage","uuid":"8530536d-a328-41b2-b452-ab23632488f7"},"retries":"0","description":"","type":"DAG","uuid":"15a945b1-e33c-4d7e-809f-076d5c68cf74","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"0e749ec1_dag"}],"description":"","message_list":[],"uuid":"9c55c8b6-ce83-4ddd-b210-1fa0969ec3ee","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"0e749ec1_dag","uuid":"15a945b1-e33c-4d7e-809f-076d5c68cf74"},"name":"c94e03df_runbook"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Uninstall_Crb_8530536d_a328_41b2_b452_ab23632488f7"}],"description":"","message_list":[],"uuid":"a1a598ce-952d-4eb2-a621-aa2c7572e8ba","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Package_8530536d_a328_41b2_b452_ab23632488f7","uuid":"04b46fae-5f8b-48c5-a17c-8489e06811a8"},"name":"SYS_GEN__Runbook_Package_8530536d_a328_41b2_b452_ab23632488f7"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"9774d909-61be-45c6-b9b7-d915e60f236f","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSConfigSetPackage","uuid":"8530536d-a328-41b2-b452-ab23632488f7"},"retries":"0","description":"","type":"DAG","uuid":"b5f8800d-d333-4e24-ada0-8a170d2b5f41","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"bc92391d-830f-4a22-90f1-94fb7cb816b4"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"4b052aff-fd29-402a-80d1-76e53670a62c"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_8530536d_a328_41b2_b452_ab23632488f7","uuid":"4a2b1160-bf12-4314-a901-cd64fbae5794"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"bc92391d-830f-4a22-90f1-94fb7cb816b4"},"edge_type":"inherent","type":"","uuid":"85907192-3f03-4df2-bec0-b63a0d383eb7","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"4b052aff-fd29-402a-80d1-76e53670a62c"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"4b052aff-fd29-402a-80d1-76e53670a62c"},"edge_type":"inherent","type":"","uuid":"46f29e30-c548-41e9-bcbc-b8b78a5b8dfb","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_8530536d_a328_41b2_b452_ab23632488f7","uuid":"4a2b1160-bf12-4314-a901-cd64fbae5794"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_8530536d_a328_41b2_b452_ab23632488f7"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"bc92391d-830f-4a22-90f1-94fb7cb816b4","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"a33b20bd_runbook","uuid":"e6335ceb-f00b-4ec5-8425-3864e1897a7d"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"4b052aff-fd29-402a-80d1-76e53670a62c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"3c3538b9_runbook","uuid":"8625e87a-c851-44ac-9a8c-6808a1ac5574"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd"},{"target_any_local_reference":{"kind":"app_package","name":"AWSConfigSetPackage","uuid":"8530536d-a328-41b2-b452-ab23632488f7"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"4a2b1160-bf12-4314-a901-cd64fbae5794","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_8530536d_a328_41b2_b452_ab23632488f7","uuid":"a1a598ce-952d-4eb2-a621-aa2c7572e8ba"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_8530536d_a328_41b2_b452_ab23632488f7"}],"description":"","message_list":[],"uuid":"244a9257-f469-4482-a071-aa0c0299be65","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_8530536d_a328_41b2_b452_ab23632488f7","uuid":"b5f8800d-d333-4e24-ada0-8a170d2b5f41"},"name":"SYS_GEN__Runbook_Package_8530536d_a328_41b2_b452_ab23632488f7"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"7e6be915-947a-4a14-a1f9-48fb41ae8fe0","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSConfigSetPackage","uuid":"8530536d-a328-41b2-b452-ab23632488f7"},"retries":"0","description":"","type":"DAG","uuid":"2352914e-d16d-498b-9285-4b2979f06909","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"d3d374dd-7624-4d69-84fd-bd0d326251b7"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_8530536d_a328_41b2_b452_ab23632488f7","uuid":"51ca28d7-9945-4fe6-b6ef-7e60a47216be"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"d3d374dd-7624-4d69-84fd-bd0d326251b7"},"edge_type":"inherent","type":"","uuid":"2dd3fdc2-7511-40e9-8c57-e1c13a5ca759","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_8530536d_a328_41b2_b452_ab23632488f7","uuid":"51ca28d7-9945-4fe6-b6ef-7e60a47216be"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_8530536d_a328_41b2_b452_ab23632488f7"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"d3d374dd-7624-4d69-84fd-bd0d326251b7","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"71c44ff6-8283-4578-8e15-dbf648d09ee4"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd"},{"target_any_local_reference":{"kind":"app_package","name":"AWSConfigSetPackage","uuid":"8530536d-a328-41b2-b452-ab23632488f7"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"51ca28d7-9945-4fe6-b6ef-7e60a47216be","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_8530536d_a328_41b2_b452_ab23632488f7"}],"description":"","message_list":[],"uuid":"30d8cc0c-ff80-4e29-a18a-209ef4e7c0b5","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_8530536d_a328_41b2_b452_ab23632488f7","uuid":"2352914e-d16d-498b-9285-4b2979f06909"},"name":"SYS_GEN__Runbook_Package_8530536d_a328_41b2_b452_ab23632488f7"}},{"description":"System action for starting an application","message_list":[],"uuid":"b7d5829b-2189-424d-b61b-5bcf9aeab540","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSConfigSetPackage","uuid":"8530536d-a328-41b2-b452-ab23632488f7"},"retries":"0","description":"","type":"DAG","uuid":"0ac8fbf6-491a-4040-8d1d-5d6f3cf5d9dd","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"1f78c341-be2e-449d-9ed3-c0d01512fe89"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_8530536d_a328_41b2_b452_ab23632488f7"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"1f78c341-be2e-449d-9ed3-c0d01512fe89","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"f4695758_runbook","uuid":"0c2528e9-82d6-40bc-9b4d-721eabd37ead"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd"}],"description":"","message_list":[],"uuid":"94c852b0-6a16-43cb-a4cc-b41e29253bb2","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_8530536d_a328_41b2_b452_ab23632488f7","uuid":"0ac8fbf6-491a-4040-8d1d-5d6f3cf5d9dd"},"name":"SYS_GEN__Runbook_Package_8530536d_a328_41b2_b452_ab23632488f7"}},{"description":"System action for restarting an application","message_list":[],"uuid":"fd155e3a-0f03-48c7-8dab-3af2c34fccd1","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSConfigSetPackage","uuid":"8530536d-a328-41b2-b452-ab23632488f7"},"retries":"0","description":"","type":"DAG","uuid":"9e8747fb-726b-4f29-b439-9677b6d42040","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"14ea5865-a141-41e8-823b-9ac05e176bfc"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_8530536d_a328_41b2_b452_ab23632488f7"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"14ea5865-a141-41e8-823b-9ac05e176bfc","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"b7169291_runbook","uuid":"7c36f5f8-9e8b-4f97-b855-438dc7eb8f3d"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd"}],"description":"","message_list":[],"uuid":"e770d3e4-a883-4cd6-bc7d-030547d7ff78","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_8530536d_a328_41b2_b452_ab23632488f7","uuid":"9e8747fb-726b-4f29-b439-9677b6d42040"},"name":"SYS_GEN__Runbook_Package_8530536d_a328_41b2_b452_ab23632488f7"}},{"description":"System action for stopping an application","message_list":[],"uuid":"6a7ed9d0-dbb8-4b3b-a90d-b98a9b55b85b","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSConfigSetPackage","uuid":"8530536d-a328-41b2-b452-ab23632488f7"},"retries":"0","description":"","type":"DAG","uuid":"6e5c118a-1206-4bbb-82f4-4e70bae293d0","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"b2ddf61e-a35f-41bf-9a61-eb3950a6fd62"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_8530536d_a328_41b2_b452_ab23632488f7"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"b2ddf61e-a35f-41bf-9a61-eb3950a6fd62","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"a33b20bd_runbook","uuid":"e6335ceb-f00b-4ec5-8425-3864e1897a7d"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd"}],"description":"","message_list":[],"uuid":"66922d17-2aad-48a3-bf52-7672befed9b0","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_8530536d_a328_41b2_b452_ab23632488f7","uuid":"6e5c118a-1206-4bbb-82f4-4e70bae293d0"},"name":"SYS_GEN__Runbook_Package_8530536d_a328_41b2_b452_ab23632488f7"}}],"message_list":[],"service_local_reference_list":[{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"}],"uuid":"8530536d-a328-41b2-b452-ab23632488f7","state":"ACTIVE","version":"","editables":{},"type":"DEB","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSConfigSetPackage","uuid":"8530536d-a328-41b2-b452-ab23632488f7"},"retries":"0","description":"","type":"DAG","uuid":"89074fe1-43b6-4112-bc14-58d7f8e6d738","child_tasks_local_reference_list":[{"kind":"app_task","name":"Config Set Install","uuid":"e18a76d5-1c48-4593-9378-0b65cb4a9ee0"},{"kind":"app_task","name":"ConfigSet Configure","uuid":"c9eb15b8-7f48-46cf-bb8c-6ad9bd0e2984"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Config Set Install","uuid":"e18a76d5-1c48-4593-9378-0b65cb4a9ee0"},"edge_type":"user_defined","type":"","uuid":"b7329f98-4750-4c6f-b233-aabc54f26f33","to_task_reference":{"kind":"app_task","name":"ConfigSet Configure","uuid":"c9eb15b8-7f48-46cf-bb8c-6ad9bd0e2984"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"0a083306_dag"},{"target_any_local_reference":{"kind":"app_package","name":"AWSConfigSetPackage","uuid":"8530536d-a328-41b2-b452-ab23632488f7"},"retries":"0","description":"","type":"EXEC","uuid":"e18a76d5-1c48-4593-9378-0b65cb4a9ee0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nVERSION=\"@@{MONGO_VERSION}@@\"\nDATA_PATH=\"@@{DATA_PATH}@@\"\nJOURNAL_PATH=\"@@{JOURNAL_PATH}@@\"\nLOG_PATH=\"@@{LOG_PATH}@@\"\nsudo hostnamectl set-hostname --static @@{name}@@\n\ncat > \/tmp\/set-hostnames.py <<EOF\n#!\/usr\/bin\/python\nimport re\nconfig_ips=\"@@{calm_array_private_ip_address}@@\"\ndata_ips=\"@@{AWSDataSet.private_ip_address}@@\"\nrouter_ips=\"@@{AWSRouter.private_ip_address}@@\"\n\nhostfile = open('\/etc\/hosts', 'r').read()\nprint hostfile\nhostfile = re.sub('\\n#MONGODB-BEGIN.*?#MONGODB-END', '', hostfile, flags=re.DOTALL)\nhostfile += \"#MONGODB-BEGIN\\n\"\ncount=1\nfor ip in config_ips.split(','):\n  hostfile += ip + \" config\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in data_ips.split(','):\n  hostfile += ip + \" data\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in router_ips.split(','):\n  hostfile += ip + \" router\" + str(count) + \".mongodb\\n\"\n  count += 1\nhostfile += \"#MONGODB-END\\n\"\nopen('\/etc\/hosts', 'w').write(hostfile)\nEOF\n\nsudo python \/tmp\/set-hostnames.py\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho '[mongodb-org-3.4]\nname=MongoDB Repository\nbaseurl=https:\/\/repo.mongodb.org\/yum\/redhat\/$releasever\/mongodb-org\/3.4\/x86_64\/\ngpgcheck=1\nenabled=1\ngpgkey=https:\/\/www.mongodb.org\/static\/pgp\/server-3.4.asc' | sudo tee \/etc\/yum.repos.d\/mongodb-3.4.repo\n\nsudo yum update -y --quiet\nsudo yum install -y --quiet mongodb-org-${VERSION} mongodb-org-server-${VERSION} mongodb-org-shell-${VERSION} mongodb-org-mongos-${VERSION} mongodb-org-tools-${VERSION}\n\necho 'exclude=mongodb-org*' | sudo tee -a \/etc\/yum.conf\n\nsudo mkdir -p ${DATA_PATH} ${JOURNAL_PATH} ${LOG_PATH}\nsudo ln -s ${JOURNAL_PATH} ${DATA_PATH}\/journal\nsudo chown -R mongod:mongod ${DATA_PATH} ${JOURNAL_PATH} ${LOG_PATH}"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Config Set Install"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"EXEC","uuid":"c9eb15b8-7f48-46cf-bb8c-6ad9bd0e2984","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nCONFIG_SRV_IPS=\"@@{calm_array_private_ip_address}@@\"\nDATA_PATH=\"@@{DATA_PATH}@@\"\nINTERNAL_IP=\"@@{private_ip_address}@@\"\n\nsudo sed -i 's\/bindIp:\/#bindIp:\/g' \/etc\/mongod.conf\nsudo sed -i \"s#\/var\/lib\/mongo#${DATA_PATH}#g\" \/etc\/mongod.conf\nsudo sed -i 's\/#sharding:\/sharding:\\n  clusterRole: configsvr\/g' \/etc\/mongod.conf\nsudo sed -i 's\/#replication:\/replication:\\n  replSetName: configReplSet\/g' \/etc\/mongod.conf\n\n\nconfig_ips=$(echo \"${CONFIG_SRV_IPS}\" | sed 's\/^,\/\/' | sed 's\/,$\/\/' | tr \",\" \"\\n\")\nconfig_cnt=0\nconfig_str=\"\"\n\nfor config in $config_ips\ndo\n  config_str=$config_str\"{\\\"_id\\\": $config_cnt, host:\\\"$config:27017\\\"},\"\n  config_cnt=$(($config_cnt + 1))\ndone\nconfig_str=`echo $config_str | sed 's\/,$\/\/'`\njson=$(cat <<EOF\n{\n  \"_id\": \"configReplSet\",\n  \"members\": [\n    $config_str\n  ]\n}\nEOF\n)\n\nif [[ -f \/sys\/kernel\/mm\/transparent_hugepage\/enabled ]];then\n\techo never | sudo tee \/sys\/kernel\/mm\/transparent_hugepage\/enabled\nfi\nif [[ -f \/sys\/kernel\/mm\/transparent_hugepage\/defrag ]];then\n\techo never | sudo tee \/sys\/kernel\/mm\/transparent_hugepage\/defrag\nfi\n\nsudo systemctl restart mongod\nsleep 15\n\nif [ @@{calm_array_index}@@ -ne 0 ];then\n  exit\nfi\n\nsudo mongo --host ${INTERNAL_IP} --port 27017 --eval \"rs.initiate( $json )\""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"ConfigSet Configure"}],"description":"","message_list":[],"uuid":"ac48169b-fbce-4783-ad49-ff154d0e2aa4","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"0a083306_dag","uuid":"89074fe1-43b6-4112-bc14-58d7f8e6d738"},"name":"88d75a2d_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSConfigSetPackage","uuid":"8530536d-a328-41b2-b452-ab23632488f7"},"retries":"0","description":"","type":"DAG","uuid":"15a945b1-e33c-4d7e-809f-076d5c68cf74","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"0e749ec1_dag"}],"description":"","message_list":[],"uuid":"9c55c8b6-ce83-4ddd-b210-1fa0969ec3ee","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"0e749ec1_dag","uuid":"15a945b1-e33c-4d7e-809f-076d5c68cf74"},"name":"c94e03df_runbook"}},"variable_list":[],"name":"AWSConfigSetPackage"},{"description":"","action_list":[{"description":"System action for installing an application","message_list":[],"uuid":"4286d369-e445-44cc-9f8a-2e7d420d9c50","name":"action_install","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSDataSetPackage","uuid":"12025307-e5d6-443a-acbf-8c6decdff487"},"retries":"0","description":"","type":"DAG","uuid":"8be59d33-760a-42fc-b711-901addf6daf0","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Install_Crb_12025307_e5d6_443a_acbf_8c6decdff487","uuid":"d761462d-51c0-4f60-97b3-a294043e8d8d"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Package_12025307_e5d6_443a_acbf_8c6decdff487"},{"target_any_local_reference":{"kind":"app_package","name":"AWSDataSetPackage","uuid":"12025307-e5d6-443a-acbf-8c6decdff487"},"retries":"0","description":"","type":"CUSTOM_PACKAGE_INSTALL","uuid":"d761462d-51c0-4f60-97b3-a294043e8d8d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSDataSetPackage","uuid":"12025307-e5d6-443a-acbf-8c6decdff487"},"retries":"0","description":"","type":"DAG","uuid":"ce432bd1-996e-427f-8cf3-269b20442421","child_tasks_local_reference_list":[{"kind":"app_task","name":"DataSet Install","uuid":"2534bfb5-4a43-4088-9e1c-adffd3b7627d"},{"kind":"app_task","name":"DataSet Configure","uuid":"ae8a5ae8-646b-48f5-b9b2-f54e154d9113"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"DataSet Install","uuid":"2534bfb5-4a43-4088-9e1c-adffd3b7627d"},"edge_type":"user_defined","type":"","uuid":"3eb5cffb-ac5a-4af6-9373-ff9d72ea2b99","to_task_reference":{"kind":"app_task","name":"DataSet Configure","uuid":"ae8a5ae8-646b-48f5-b9b2-f54e154d9113"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"2bc538b5_dag"},{"target_any_local_reference":{"kind":"app_package","name":"AWSDataSetPackage","uuid":"12025307-e5d6-443a-acbf-8c6decdff487"},"retries":"0","description":"","type":"EXEC","uuid":"2534bfb5-4a43-4088-9e1c-adffd3b7627d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nVERSION=\"@@{MONGO_VERSION}@@\"\nDATA_PATH=\"@@{DATA_PATH}@@\"\nJOURNAL_PATH=\"@@{JOURNAL_PATH}@@\"\nLOG_PATH=\"@@{LOG_PATH}@@\"\nsudo hostnamectl set-hostname --static @@{name}@@\n\ncat > \/tmp\/set-hostnames.py <<EOF\n#!\/usr\/bin\/python\nimport re\nconfig_ips=\"@@{AWSConfigSet.private_ip_address}@@\"\ndata_ips=\"@@{calm_array_private_ip_address}@@\"\nrouter_ips=\"@@{AWSRouter.private_ip_address}@@\"\n\nhostfile = open('\/etc\/hosts', 'r').read()\nprint hostfile\nhostfile = re.sub('\\n#MONGODB-BEGIN.*?#MONGODB-END', '', hostfile, flags=re.DOTALL)\nhostfile += \"#MONGODB-BEGIN\\n\"\ncount=1\nfor ip in config_ips.split(','):\n  hostfile += ip + \" config\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in data_ips.split(','):\n  hostfile += ip + \" data\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in router_ips.split(','):\n  hostfile += ip + \" router\" + str(count) + \".mongodb\\n\"\n  count += 1\nhostfile += \"#MONGODB-END\\n\"\nopen('\/etc\/hosts', 'w').write(hostfile)\nEOF\n\nsudo python \/tmp\/set-hostnames.py\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho '[mongodb-org-3.4]\nname=MongoDB Repository\nbaseurl=https:\/\/repo.mongodb.org\/yum\/redhat\/$releasever\/mongodb-org\/3.4\/x86_64\/\ngpgcheck=1\nenabled=1\ngpgkey=https:\/\/www.mongodb.org\/static\/pgp\/server-3.4.asc' | sudo tee \/etc\/yum.repos.d\/mongodb-3.4.repo\n\nsudo yum update -y --quiet\nsudo yum install -y --quiet mongodb-org-${VERSION} mongodb-org-server-${VERSION} mongodb-org-shell-${VERSION} mongodb-org-mongos-${VERSION} mongodb-org-tools-${VERSION}\n\necho 'exclude=mongodb-org*' | sudo tee -a \/etc\/yum.conf\n\nsudo yum install -y --quiet lvm2 numactl lsscsi\nls \/dev\/xvd* | awk '{print $NF}' | grep \/dev\/xvd | grep -v xvda | xargs sudo  pvcreate\n\nsudo vgcreate mongodata \/dev\/xvdb \/dev\/xvdc \/dev\/xvdd \nsudo vgcreate mongojournal \/dev\/xvde \nsudo vgcreate mongolog \/dev\/xvdf\n\nsudo lvcreate -i 3 -l 100%VG -n mongodata mongodata\nsudo lvcreate -l 100%VG -n mongojournal mongojournal \nsudo lvcreate -l 100%VG -n mongolog mongolog\n\nsudo mkfs.xfs -K \/dev\/mapper\/mongodata-mongodata\nsudo mkfs.xfs -K \/dev\/mapper\/mongojournal-mongojournal\nsudo mkfs.xfs -K \/dev\/mapper\/mongolog-mongolog\n\nsudo mkdir -p ${DATA_PATH} ${JOURNAL_PATH} ${LOG_PATH}\n\nsudo ln -s ${JOURNAL_PATH} ${DATA_PATH}\/journal\n\nsudo chown -R mongod:mongod ${DATA_PATH} ${JOURNAL_PATH} ${LOG_PATH}\n\n#sudo blockdev --setra 32 \/dev\/dm-2\n#sudo blockdev --getra \/dev\/dm-2\n\nsudo sysctl vm.swappiness=1\necho 'vm.swappiness=1' | sudo tee -a \/etc\/sysctl.conf\n"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"DataSet Install"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"EXEC","uuid":"ae8a5ae8-646b-48f5-b9b2-f54e154d9113","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nREPLICA_IPS=\"@@{calm_array_private_ip_address}@@\"\nDATA_PATH=\"@@{DATA_PATH}@@\"\nINTERNAL_IP=\"@@{private_ip_address}@@\"\nINDEX=@@{calm_array_index}@@\nNODES_PER_REPLICA_SET=@@{NODES_PER_REPLICA_SET}@@\nARRAY_REPLICA_IPS=$(echo ${REPLICA_IPS} | sed 's\/^,\/\/' | sed 's\/,$\/\/' | tr \",\" \"\\n\")\n\ntmp=$((${INDEX}+${NODES_PER_REPLICA_SET}))\nreplicasetNo=$((${tmp}\/${NODES_PER_REPLICA_SET}))\nreplicaSetName=\"dataReplSet${replicasetNo}\"\n\nsudo sed -i 's\/bindIp:\/#bindIp:\/g' \/etc\/mongod.conf\nsudo sed -i \"s#\/var\/lib\/mongo#${DATA_PATH}#g\" \/etc\/mongod.conf\nsudo sed -i \"s\/#replication:\/replication:\\n  replSetName: $replicaSetName\/g\" \/etc\/mongod.conf\nsudo sed -i 's\/#sharding:\/sharding:\\n  clusterRole: shardsvr\/g' \/etc\/mongod.conf\nsudo sed -i 's#  path: \/var\/log\/mongodb\/mongod.log#  path: \/mongodb\/log\/mongod.log#' \/etc\/mongod.conf\n\n### Getting replicaset members details \nreplica_cnt=0\ndeclare -a replicaset_members\n\nfor replica in $ARRAY_REPLICA_IPS\ndo\n  tmp=$((${replica_cnt}+${NODES_PER_REPLICA_SET}))\n  i=\"$((${tmp}\/${NODES_PER_REPLICA_SET}))\"\n  replicaset_members[$i]=${replicaset_members[$i]}\"{\\\"_id\\\": $replica_cnt, host:\\\"$replica:27017\\\"},\"\n  replica_cnt=$(($replica_cnt + 1))\ndone\n\nif [[ -f \/sys\/kernel\/mm\/transparent_hugepage\/enabled ]];then\n\techo never | sudo tee \/sys\/kernel\/mm\/transparent_hugepage\/enabled\nfi\nif [[ -f \/sys\/kernel\/mm\/transparent_hugepage\/defrag ]];then\n\techo never | sudo tee \/sys\/kernel\/mm\/transparent_hugepage\/defrag\nfi\n\nsudo systemctl restart mongod\nsleep 15\n\n### Initiating replicaset \njson=$(cat <<EOF\n{\n  \"_id\": \"$replicaSetName\",\n  \"members\": [ ${replicaset_members[$replicasetNo]}]\n}\nEOF\n)\nsudo mongo --host ${INTERNAL_IP} --port 27017 --eval \"rs.initiate( $json )\"\nsleep 2\n"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"DataSet Configure"}],"description":"","message_list":[],"uuid":"1bd5cc68-f4c8-4ebf-9df1-022fa76207f5","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"2bc538b5_dag","uuid":"ce432bd1-996e-427f-8cf3-269b20442421"},"name":"e84e54e6_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSDataSetPackage","uuid":"12025307-e5d6-443a-acbf-8c6decdff487"},"retries":"0","description":"","type":"DAG","uuid":"6b3992aa-2358-4b16-85da-d5b3177ebe07","child_tasks_local_reference_list":[{"kind":"app_task","name":"MoveDatabase","uuid":"8fc51b2d-42b6-4703-99e6-8eacbeff05f4"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"e1122dde_dag"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"EXEC","uuid":"8fc51b2d-42b6-4703-99e6-8eacbeff05f4","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\n\nnode=$(echo \"@@{calm_array_address}@@\" | tr ',' '\\n' | wc -l)\n\nif [[ \"@@{calm_array_index}@@\" != \"$(($node-1))\" ]];then\n  exit 0\nfi\n\neval $(mongo --host router1.mongodb --port 27017 --quiet --eval 'db.adminCommand( { listShards: 1 } )' | python -c '\nimport json,sys\ndata=json.load(sys.stdin)\nprint \"HOST={}\".format(data[\"shards\"][len(data[\"shards\"])-1][\"host\"])\n')\neval $(mongo --host router1.mongodb --port 27017 --quiet --eval 'db.adminCommand( { listShards: 1 } )' | python -c '\nimport json,sys\ndata=json.load(sys.stdin)\nprint \"HOSTTOMOVE={}\".format(data[\"shards\"][@@{SHARD_TO_MOVE}@@-1][\"host\"])\n')\nhost_state=`mongo --host router1.mongodb --port 27017 --quiet --eval \"db.adminCommand({removeShard: '${HOST}'})['state']\"`\nif [[ \"$host_state\" == \"started\" ]] ; then\n  sleep 5\nfi\nhost_state=`mongo --host router1.mongodb --port 27017 --quiet --eval \"db.adminCommand({removeShard: '${HOST}'})['state']\"`\nif [[ \"$host_state\" == \"ongoing\" ]] ; then\n  if [[ \"@@{SHARD_TO_MOVE}@@\" == \"\" ]] ; then\n    echo \"Please enter the shard number value to move tables.\"\n    exit 1\n  fi\n  dbstomove=`mongo --host router1.mongodb --port 27017 --quiet --eval \"db.adminCommand({removeShard: '${HOST}'})['dbsToMove']\"`\n  eval $(echo $dbstomove | python -c 'import json,sys ; data=json.load(sys.stdin) ; print \"DBSTOMOVE={}\".format(\",\".join(data))')\n  for x in $(echo $DBSTOMOVE | tr \",\" \"\\n\") ; do\n     echo \"echo moving $x\"\n     mongo --host router1.mongodb --port 27017 --quiet --eval \"db.adminCommand({ movePrimary: '$x', to: '${HOSTTOMOVE}' })\"\n  done\n  mongo --host router1.mongodb --port 27017 --quiet --eval \"db.adminCommand({removeShard: '${HOST}'})\"\n  echo \"completed removing shard '${HOST}'\"\nelif [[ \"$host_state\" == \"completed\" ]] ; then\n  echo \"Host removal completed\"\nfi\n"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"MoveDatabase"}],"description":"","message_list":[],"uuid":"ed888c34-6623-40d1-881c-a0df215bc888","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"e1122dde_dag","uuid":"6b3992aa-2358-4b16-85da-d5b3177ebe07"},"name":"77cc1fc6_runbook"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Install_Crb_12025307_e5d6_443a_acbf_8c6decdff487"}],"description":"","message_list":[],"uuid":"3e33f3e8-8f0e-4483-b721-c3dd65ac1432","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Package_12025307_e5d6_443a_acbf_8c6decdff487","uuid":"8be59d33-760a-42fc-b711-901addf6daf0"},"name":"SYS_GEN__Runbook_Package_12025307_e5d6_443a_acbf_8c6decdff487"}},{"description":"System action for creating an application","message_list":[],"uuid":"e5d586a0-e378-4700-9c29-6412a05fc2db","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSDataSetPackage","uuid":"12025307-e5d6-443a-acbf-8c6decdff487"},"retries":"0","description":"","type":"DAG","uuid":"f0261e94-feab-4e0c-bff3-477deb0f7cd8","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_12025307_e5d6_443a_acbf_8c6decdff487","uuid":"0a162a93-fc40-4c40-81d8-9faa0e058314"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"3cf9dd20-931d-41c9-8956-3cb6c003a096"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"e975e21c-584e-4700-9e49-51b75abf8393"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"3cf9dd20-931d-41c9-8956-3cb6c003a096"},"edge_type":"inherent","type":"","uuid":"5333b94e-be92-437b-a3f4-d8c8e8d527ba","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"e975e21c-584e-4700-9e49-51b75abf8393"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_12025307_e5d6_443a_acbf_8c6decdff487","uuid":"0a162a93-fc40-4c40-81d8-9faa0e058314"},"edge_type":"inherent","type":"","uuid":"1f0f8814-dbc4-4565-9e53-12d1aacdbe46","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"3cf9dd20-931d-41c9-8956-3cb6c003a096"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_12025307_e5d6_443a_acbf_8c6decdff487"},{"target_any_local_reference":{"kind":"app_package","name":"AWSDataSetPackage","uuid":"12025307-e5d6-443a-acbf-8c6decdff487"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"0a162a93-fc40-4c40-81d8-9faa0e058314","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_12025307_e5d6_443a_acbf_8c6decdff487","uuid":"3e33f3e8-8f0e-4483-b721-c3dd65ac1432"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_12025307_e5d6_443a_acbf_8c6decdff487"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"3cf9dd20-931d-41c9-8956-3cb6c003a096","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0bda2b69_runbook","uuid":"c08988e8-53fc-48b3-942d-00d118016989"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"e975e21c-584e-4700-9e49-51b75abf8393","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0f1333dd_runbook","uuid":"43f16a26-e0b7-42a9-b2de-6e6d4147d381"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47"}],"description":"","message_list":[],"uuid":"254cced9-49a2-4a2f-8cc2-0f28de729d4a","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_12025307_e5d6_443a_acbf_8c6decdff487","uuid":"f0261e94-feab-4e0c-bff3-477deb0f7cd8"},"name":"SYS_GEN__Runbook_Package_12025307_e5d6_443a_acbf_8c6decdff487"}},{"description":"System action for uninstalling an application","message_list":[],"uuid":"85faa3cb-5e5f-4a19-b640-a5dfb36902be","name":"action_uninstall","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSDataSetPackage","uuid":"12025307-e5d6-443a-acbf-8c6decdff487"},"retries":"0","description":"","type":"DAG","uuid":"9f54aa55-6d8f-41fa-ae65-c22442f1c66d","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Uninstall_Crb_12025307_e5d6_443a_acbf_8c6decdff487","uuid":"391f1b8c-d1a7-470a-a73e-6fccb71dee7e"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Package_12025307_e5d6_443a_acbf_8c6decdff487"},{"target_any_local_reference":{"kind":"app_package","name":"AWSDataSetPackage","uuid":"12025307-e5d6-443a-acbf-8c6decdff487"},"retries":"0","description":"","type":"CUSTOM_PACKAGE_UNINSTALL","uuid":"391f1b8c-d1a7-470a-a73e-6fccb71dee7e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSDataSetPackage","uuid":"12025307-e5d6-443a-acbf-8c6decdff487"},"retries":"0","description":"","type":"DAG","uuid":"ce432bd1-996e-427f-8cf3-269b20442421","child_tasks_local_reference_list":[{"kind":"app_task","name":"DataSet Install","uuid":"2534bfb5-4a43-4088-9e1c-adffd3b7627d"},{"kind":"app_task","name":"DataSet Configure","uuid":"ae8a5ae8-646b-48f5-b9b2-f54e154d9113"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"DataSet Install","uuid":"2534bfb5-4a43-4088-9e1c-adffd3b7627d"},"edge_type":"user_defined","type":"","uuid":"3eb5cffb-ac5a-4af6-9373-ff9d72ea2b99","to_task_reference":{"kind":"app_task","name":"DataSet Configure","uuid":"ae8a5ae8-646b-48f5-b9b2-f54e154d9113"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"2bc538b5_dag"},{"target_any_local_reference":{"kind":"app_package","name":"AWSDataSetPackage","uuid":"12025307-e5d6-443a-acbf-8c6decdff487"},"retries":"0","description":"","type":"EXEC","uuid":"2534bfb5-4a43-4088-9e1c-adffd3b7627d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nVERSION=\"@@{MONGO_VERSION}@@\"\nDATA_PATH=\"@@{DATA_PATH}@@\"\nJOURNAL_PATH=\"@@{JOURNAL_PATH}@@\"\nLOG_PATH=\"@@{LOG_PATH}@@\"\nsudo hostnamectl set-hostname --static @@{name}@@\n\ncat > \/tmp\/set-hostnames.py <<EOF\n#!\/usr\/bin\/python\nimport re\nconfig_ips=\"@@{AWSConfigSet.private_ip_address}@@\"\ndata_ips=\"@@{calm_array_private_ip_address}@@\"\nrouter_ips=\"@@{AWSRouter.private_ip_address}@@\"\n\nhostfile = open('\/etc\/hosts', 'r').read()\nprint hostfile\nhostfile = re.sub('\\n#MONGODB-BEGIN.*?#MONGODB-END', '', hostfile, flags=re.DOTALL)\nhostfile += \"#MONGODB-BEGIN\\n\"\ncount=1\nfor ip in config_ips.split(','):\n  hostfile += ip + \" config\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in data_ips.split(','):\n  hostfile += ip + \" data\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in router_ips.split(','):\n  hostfile += ip + \" router\" + str(count) + \".mongodb\\n\"\n  count += 1\nhostfile += \"#MONGODB-END\\n\"\nopen('\/etc\/hosts', 'w').write(hostfile)\nEOF\n\nsudo python \/tmp\/set-hostnames.py\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho '[mongodb-org-3.4]\nname=MongoDB Repository\nbaseurl=https:\/\/repo.mongodb.org\/yum\/redhat\/$releasever\/mongodb-org\/3.4\/x86_64\/\ngpgcheck=1\nenabled=1\ngpgkey=https:\/\/www.mongodb.org\/static\/pgp\/server-3.4.asc' | sudo tee \/etc\/yum.repos.d\/mongodb-3.4.repo\n\nsudo yum update -y --quiet\nsudo yum install -y --quiet mongodb-org-${VERSION} mongodb-org-server-${VERSION} mongodb-org-shell-${VERSION} mongodb-org-mongos-${VERSION} mongodb-org-tools-${VERSION}\n\necho 'exclude=mongodb-org*' | sudo tee -a \/etc\/yum.conf\n\nsudo yum install -y --quiet lvm2 numactl lsscsi\nls \/dev\/xvd* | awk '{print $NF}' | grep \/dev\/xvd | grep -v xvda | xargs sudo  pvcreate\n\nsudo vgcreate mongodata \/dev\/xvdb \/dev\/xvdc \/dev\/xvdd \nsudo vgcreate mongojournal \/dev\/xvde \nsudo vgcreate mongolog \/dev\/xvdf\n\nsudo lvcreate -i 3 -l 100%VG -n mongodata mongodata\nsudo lvcreate -l 100%VG -n mongojournal mongojournal \nsudo lvcreate -l 100%VG -n mongolog mongolog\n\nsudo mkfs.xfs -K \/dev\/mapper\/mongodata-mongodata\nsudo mkfs.xfs -K \/dev\/mapper\/mongojournal-mongojournal\nsudo mkfs.xfs -K \/dev\/mapper\/mongolog-mongolog\n\nsudo mkdir -p ${DATA_PATH} ${JOURNAL_PATH} ${LOG_PATH}\n\nsudo ln -s ${JOURNAL_PATH} ${DATA_PATH}\/journal\n\nsudo chown -R mongod:mongod ${DATA_PATH} ${JOURNAL_PATH} ${LOG_PATH}\n\n#sudo blockdev --setra 32 \/dev\/dm-2\n#sudo blockdev --getra \/dev\/dm-2\n\nsudo sysctl vm.swappiness=1\necho 'vm.swappiness=1' | sudo tee -a \/etc\/sysctl.conf\n"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"DataSet Install"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"EXEC","uuid":"ae8a5ae8-646b-48f5-b9b2-f54e154d9113","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nREPLICA_IPS=\"@@{calm_array_private_ip_address}@@\"\nDATA_PATH=\"@@{DATA_PATH}@@\"\nINTERNAL_IP=\"@@{private_ip_address}@@\"\nINDEX=@@{calm_array_index}@@\nNODES_PER_REPLICA_SET=@@{NODES_PER_REPLICA_SET}@@\nARRAY_REPLICA_IPS=$(echo ${REPLICA_IPS} | sed 's\/^,\/\/' | sed 's\/,$\/\/' | tr \",\" \"\\n\")\n\ntmp=$((${INDEX}+${NODES_PER_REPLICA_SET}))\nreplicasetNo=$((${tmp}\/${NODES_PER_REPLICA_SET}))\nreplicaSetName=\"dataReplSet${replicasetNo}\"\n\nsudo sed -i 's\/bindIp:\/#bindIp:\/g' \/etc\/mongod.conf\nsudo sed -i \"s#\/var\/lib\/mongo#${DATA_PATH}#g\" \/etc\/mongod.conf\nsudo sed -i \"s\/#replication:\/replication:\\n  replSetName: $replicaSetName\/g\" \/etc\/mongod.conf\nsudo sed -i 's\/#sharding:\/sharding:\\n  clusterRole: shardsvr\/g' \/etc\/mongod.conf\nsudo sed -i 's#  path: \/var\/log\/mongodb\/mongod.log#  path: \/mongodb\/log\/mongod.log#' \/etc\/mongod.conf\n\n### Getting replicaset members details \nreplica_cnt=0\ndeclare -a replicaset_members\n\nfor replica in $ARRAY_REPLICA_IPS\ndo\n  tmp=$((${replica_cnt}+${NODES_PER_REPLICA_SET}))\n  i=\"$((${tmp}\/${NODES_PER_REPLICA_SET}))\"\n  replicaset_members[$i]=${replicaset_members[$i]}\"{\\\"_id\\\": $replica_cnt, host:\\\"$replica:27017\\\"},\"\n  replica_cnt=$(($replica_cnt + 1))\ndone\n\nif [[ -f \/sys\/kernel\/mm\/transparent_hugepage\/enabled ]];then\n\techo never | sudo tee \/sys\/kernel\/mm\/transparent_hugepage\/enabled\nfi\nif [[ -f \/sys\/kernel\/mm\/transparent_hugepage\/defrag ]];then\n\techo never | sudo tee \/sys\/kernel\/mm\/transparent_hugepage\/defrag\nfi\n\nsudo systemctl restart mongod\nsleep 15\n\n### Initiating replicaset \njson=$(cat <<EOF\n{\n  \"_id\": \"$replicaSetName\",\n  \"members\": [ ${replicaset_members[$replicasetNo]}]\n}\nEOF\n)\nsudo mongo --host ${INTERNAL_IP} --port 27017 --eval \"rs.initiate( $json )\"\nsleep 2\n"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"DataSet Configure"}],"description":"","message_list":[],"uuid":"1bd5cc68-f4c8-4ebf-9df1-022fa76207f5","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"2bc538b5_dag","uuid":"ce432bd1-996e-427f-8cf3-269b20442421"},"name":"e84e54e6_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSDataSetPackage","uuid":"12025307-e5d6-443a-acbf-8c6decdff487"},"retries":"0","description":"","type":"DAG","uuid":"6b3992aa-2358-4b16-85da-d5b3177ebe07","child_tasks_local_reference_list":[{"kind":"app_task","name":"MoveDatabase","uuid":"8fc51b2d-42b6-4703-99e6-8eacbeff05f4"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"e1122dde_dag"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"EXEC","uuid":"8fc51b2d-42b6-4703-99e6-8eacbeff05f4","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\n\nnode=$(echo \"@@{calm_array_address}@@\" | tr ',' '\\n' | wc -l)\n\nif [[ \"@@{calm_array_index}@@\" != \"$(($node-1))\" ]];then\n  exit 0\nfi\n\neval $(mongo --host router1.mongodb --port 27017 --quiet --eval 'db.adminCommand( { listShards: 1 } )' | python -c '\nimport json,sys\ndata=json.load(sys.stdin)\nprint \"HOST={}\".format(data[\"shards\"][len(data[\"shards\"])-1][\"host\"])\n')\neval $(mongo --host router1.mongodb --port 27017 --quiet --eval 'db.adminCommand( { listShards: 1 } )' | python -c '\nimport json,sys\ndata=json.load(sys.stdin)\nprint \"HOSTTOMOVE={}\".format(data[\"shards\"][@@{SHARD_TO_MOVE}@@-1][\"host\"])\n')\nhost_state=`mongo --host router1.mongodb --port 27017 --quiet --eval \"db.adminCommand({removeShard: '${HOST}'})['state']\"`\nif [[ \"$host_state\" == \"started\" ]] ; then\n  sleep 5\nfi\nhost_state=`mongo --host router1.mongodb --port 27017 --quiet --eval \"db.adminCommand({removeShard: '${HOST}'})['state']\"`\nif [[ \"$host_state\" == \"ongoing\" ]] ; then\n  if [[ \"@@{SHARD_TO_MOVE}@@\" == \"\" ]] ; then\n    echo \"Please enter the shard number value to move tables.\"\n    exit 1\n  fi\n  dbstomove=`mongo --host router1.mongodb --port 27017 --quiet --eval \"db.adminCommand({removeShard: '${HOST}'})['dbsToMove']\"`\n  eval $(echo $dbstomove | python -c 'import json,sys ; data=json.load(sys.stdin) ; print \"DBSTOMOVE={}\".format(\",\".join(data))')\n  for x in $(echo $DBSTOMOVE | tr \",\" \"\\n\") ; do\n     echo \"echo moving $x\"\n     mongo --host router1.mongodb --port 27017 --quiet --eval \"db.adminCommand({ movePrimary: '$x', to: '${HOSTTOMOVE}' })\"\n  done\n  mongo --host router1.mongodb --port 27017 --quiet --eval \"db.adminCommand({removeShard: '${HOST}'})\"\n  echo \"completed removing shard '${HOST}'\"\nelif [[ \"$host_state\" == \"completed\" ]] ; then\n  echo \"Host removal completed\"\nfi\n"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"MoveDatabase"}],"description":"","message_list":[],"uuid":"ed888c34-6623-40d1-881c-a0df215bc888","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"e1122dde_dag","uuid":"6b3992aa-2358-4b16-85da-d5b3177ebe07"},"name":"77cc1fc6_runbook"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Uninstall_Crb_12025307_e5d6_443a_acbf_8c6decdff487"}],"description":"","message_list":[],"uuid":"1bf118df-a508-44b3-8866-58d9f14f9838","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Package_12025307_e5d6_443a_acbf_8c6decdff487","uuid":"9f54aa55-6d8f-41fa-ae65-c22442f1c66d"},"name":"SYS_GEN__Runbook_Package_12025307_e5d6_443a_acbf_8c6decdff487"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"47db658b-e985-4532-995a-7e0b18720263","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSDataSetPackage","uuid":"12025307-e5d6-443a-acbf-8c6decdff487"},"retries":"0","description":"","type":"DAG","uuid":"709de826-3b66-4430-97b5-990ce75be6f2","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"71e97839-da81-4c62-be6a-2c161793a7f6"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"9470295c-9850-4749-99c1-5c9d983b7e81"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_12025307_e5d6_443a_acbf_8c6decdff487","uuid":"27862812-9837-451c-93fa-c1d98709ad3b"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"71e97839-da81-4c62-be6a-2c161793a7f6"},"edge_type":"inherent","type":"","uuid":"a5f8915c-2cc9-4131-80d0-1e679c8f5b5b","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"9470295c-9850-4749-99c1-5c9d983b7e81"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"9470295c-9850-4749-99c1-5c9d983b7e81"},"edge_type":"inherent","type":"","uuid":"d295725f-d6c4-4fa8-9f6f-d7f38175b4f8","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_12025307_e5d6_443a_acbf_8c6decdff487","uuid":"27862812-9837-451c-93fa-c1d98709ad3b"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_12025307_e5d6_443a_acbf_8c6decdff487"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"71e97839-da81-4c62-be6a-2c161793a7f6","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"85883b0a_runbook","uuid":"42cf4c9d-d9e5-435e-b222-f2d33a05683f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"9470295c-9850-4749-99c1-5c9d983b7e81","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"036f3879_runbook","uuid":"c6545ccb-d141-45bd-bf59-cf1e44946785"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47"},{"target_any_local_reference":{"kind":"app_package","name":"AWSDataSetPackage","uuid":"12025307-e5d6-443a-acbf-8c6decdff487"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"27862812-9837-451c-93fa-c1d98709ad3b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_12025307_e5d6_443a_acbf_8c6decdff487","uuid":"1bf118df-a508-44b3-8866-58d9f14f9838"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_12025307_e5d6_443a_acbf_8c6decdff487"}],"description":"","message_list":[],"uuid":"5b76fcdf-8fa0-4a48-a1e6-8dfb6451617c","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_12025307_e5d6_443a_acbf_8c6decdff487","uuid":"709de826-3b66-4430-97b5-990ce75be6f2"},"name":"SYS_GEN__Runbook_Package_12025307_e5d6_443a_acbf_8c6decdff487"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"af63a961-b9a4-412f-9f98-01877cd52996","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSDataSetPackage","uuid":"12025307-e5d6-443a-acbf-8c6decdff487"},"retries":"0","description":"","type":"DAG","uuid":"37438592-9534-4e4f-9017-c586ce2def5e","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"939c5798-cb27-42d3-96c1-2fd024b19d32"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_12025307_e5d6_443a_acbf_8c6decdff487","uuid":"3914a46b-068d-4fd8-9030-b325a03d16f4"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"939c5798-cb27-42d3-96c1-2fd024b19d32"},"edge_type":"inherent","type":"","uuid":"9cb805c7-4296-4035-b840-1c9af6bf07b8","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_12025307_e5d6_443a_acbf_8c6decdff487","uuid":"3914a46b-068d-4fd8-9030-b325a03d16f4"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_12025307_e5d6_443a_acbf_8c6decdff487"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"939c5798-cb27-42d3-96c1-2fd024b19d32","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"433fbe65-0fc7-4649-a088-87d5660f88a6"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47"},{"target_any_local_reference":{"kind":"app_package","name":"AWSDataSetPackage","uuid":"12025307-e5d6-443a-acbf-8c6decdff487"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"3914a46b-068d-4fd8-9030-b325a03d16f4","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_12025307_e5d6_443a_acbf_8c6decdff487"}],"description":"","message_list":[],"uuid":"1dc344e9-4a31-47a2-91b5-680ec19a8fe5","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_12025307_e5d6_443a_acbf_8c6decdff487","uuid":"37438592-9534-4e4f-9017-c586ce2def5e"},"name":"SYS_GEN__Runbook_Package_12025307_e5d6_443a_acbf_8c6decdff487"}},{"description":"System action for starting an application","message_list":[],"uuid":"5d4209db-e30e-4963-b71f-317e6725ed76","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSDataSetPackage","uuid":"12025307-e5d6-443a-acbf-8c6decdff487"},"retries":"0","description":"","type":"DAG","uuid":"843c398f-3e1e-4dbd-8b57-8474c1e47b9c","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"5cfd3993-dd69-4175-a798-74fcad948e81"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_12025307_e5d6_443a_acbf_8c6decdff487"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"5cfd3993-dd69-4175-a798-74fcad948e81","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0f1333dd_runbook","uuid":"43f16a26-e0b7-42a9-b2de-6e6d4147d381"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47"}],"description":"","message_list":[],"uuid":"75c8fc97-b89e-4987-a41c-de23b0eb8f76","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_12025307_e5d6_443a_acbf_8c6decdff487","uuid":"843c398f-3e1e-4dbd-8b57-8474c1e47b9c"},"name":"SYS_GEN__Runbook_Package_12025307_e5d6_443a_acbf_8c6decdff487"}},{"description":"System action for restarting an application","message_list":[],"uuid":"c8cea576-139a-4065-8aae-df2a36ccc3b3","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSDataSetPackage","uuid":"12025307-e5d6-443a-acbf-8c6decdff487"},"retries":"0","description":"","type":"DAG","uuid":"09602ee1-59a7-425b-adb0-112b0ad3c62d","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"8c99aa67-d85c-4483-bfb3-b1f43ec1be3a"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_12025307_e5d6_443a_acbf_8c6decdff487"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"8c99aa67-d85c-4483-bfb3-b1f43ec1be3a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"4f7b2559_runbook","uuid":"03856e37-e1bf-4b7c-95bb-87bf81c6c940"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47"}],"description":"","message_list":[],"uuid":"9c977ce4-f96f-455f-adf7-47de3c2c9490","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_12025307_e5d6_443a_acbf_8c6decdff487","uuid":"09602ee1-59a7-425b-adb0-112b0ad3c62d"},"name":"SYS_GEN__Runbook_Package_12025307_e5d6_443a_acbf_8c6decdff487"}},{"description":"System action for stopping an application","message_list":[],"uuid":"60cd558f-65cb-4538-b57b-cb16871453b9","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSDataSetPackage","uuid":"12025307-e5d6-443a-acbf-8c6decdff487"},"retries":"0","description":"","type":"DAG","uuid":"7faa8373-1fcc-4a3b-a577-1f3779801acb","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"b717f912-c7e2-4a8e-991e-7ca2b4b25893"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_12025307_e5d6_443a_acbf_8c6decdff487"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"b717f912-c7e2-4a8e-991e-7ca2b4b25893","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"85883b0a_runbook","uuid":"42cf4c9d-d9e5-435e-b222-f2d33a05683f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47"}],"description":"","message_list":[],"uuid":"0f66af38-716c-436b-addd-eca62094c985","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_12025307_e5d6_443a_acbf_8c6decdff487","uuid":"7faa8373-1fcc-4a3b-a577-1f3779801acb"},"name":"SYS_GEN__Runbook_Package_12025307_e5d6_443a_acbf_8c6decdff487"}}],"message_list":[],"service_local_reference_list":[{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"}],"uuid":"12025307-e5d6-443a-acbf-8c6decdff487","state":"ACTIVE","version":"","editables":{},"type":"DEB","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSDataSetPackage","uuid":"12025307-e5d6-443a-acbf-8c6decdff487"},"retries":"0","description":"","type":"DAG","uuid":"ce432bd1-996e-427f-8cf3-269b20442421","child_tasks_local_reference_list":[{"kind":"app_task","name":"DataSet Install","uuid":"2534bfb5-4a43-4088-9e1c-adffd3b7627d"},{"kind":"app_task","name":"DataSet Configure","uuid":"ae8a5ae8-646b-48f5-b9b2-f54e154d9113"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"DataSet Install","uuid":"2534bfb5-4a43-4088-9e1c-adffd3b7627d"},"edge_type":"user_defined","type":"","uuid":"3eb5cffb-ac5a-4af6-9373-ff9d72ea2b99","to_task_reference":{"kind":"app_task","name":"DataSet Configure","uuid":"ae8a5ae8-646b-48f5-b9b2-f54e154d9113"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"2bc538b5_dag"},{"target_any_local_reference":{"kind":"app_package","name":"AWSDataSetPackage","uuid":"12025307-e5d6-443a-acbf-8c6decdff487"},"retries":"0","description":"","type":"EXEC","uuid":"2534bfb5-4a43-4088-9e1c-adffd3b7627d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nVERSION=\"@@{MONGO_VERSION}@@\"\nDATA_PATH=\"@@{DATA_PATH}@@\"\nJOURNAL_PATH=\"@@{JOURNAL_PATH}@@\"\nLOG_PATH=\"@@{LOG_PATH}@@\"\nsudo hostnamectl set-hostname --static @@{name}@@\n\ncat > \/tmp\/set-hostnames.py <<EOF\n#!\/usr\/bin\/python\nimport re\nconfig_ips=\"@@{AWSConfigSet.private_ip_address}@@\"\ndata_ips=\"@@{calm_array_private_ip_address}@@\"\nrouter_ips=\"@@{AWSRouter.private_ip_address}@@\"\n\nhostfile = open('\/etc\/hosts', 'r').read()\nprint hostfile\nhostfile = re.sub('\\n#MONGODB-BEGIN.*?#MONGODB-END', '', hostfile, flags=re.DOTALL)\nhostfile += \"#MONGODB-BEGIN\\n\"\ncount=1\nfor ip in config_ips.split(','):\n  hostfile += ip + \" config\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in data_ips.split(','):\n  hostfile += ip + \" data\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in router_ips.split(','):\n  hostfile += ip + \" router\" + str(count) + \".mongodb\\n\"\n  count += 1\nhostfile += \"#MONGODB-END\\n\"\nopen('\/etc\/hosts', 'w').write(hostfile)\nEOF\n\nsudo python \/tmp\/set-hostnames.py\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho '[mongodb-org-3.4]\nname=MongoDB Repository\nbaseurl=https:\/\/repo.mongodb.org\/yum\/redhat\/$releasever\/mongodb-org\/3.4\/x86_64\/\ngpgcheck=1\nenabled=1\ngpgkey=https:\/\/www.mongodb.org\/static\/pgp\/server-3.4.asc' | sudo tee \/etc\/yum.repos.d\/mongodb-3.4.repo\n\nsudo yum update -y --quiet\nsudo yum install -y --quiet mongodb-org-${VERSION} mongodb-org-server-${VERSION} mongodb-org-shell-${VERSION} mongodb-org-mongos-${VERSION} mongodb-org-tools-${VERSION}\n\necho 'exclude=mongodb-org*' | sudo tee -a \/etc\/yum.conf\n\nsudo yum install -y --quiet lvm2 numactl lsscsi\nls \/dev\/xvd* | awk '{print $NF}' | grep \/dev\/xvd | grep -v xvda | xargs sudo  pvcreate\n\nsudo vgcreate mongodata \/dev\/xvdb \/dev\/xvdc \/dev\/xvdd \nsudo vgcreate mongojournal \/dev\/xvde \nsudo vgcreate mongolog \/dev\/xvdf\n\nsudo lvcreate -i 3 -l 100%VG -n mongodata mongodata\nsudo lvcreate -l 100%VG -n mongojournal mongojournal \nsudo lvcreate -l 100%VG -n mongolog mongolog\n\nsudo mkfs.xfs -K \/dev\/mapper\/mongodata-mongodata\nsudo mkfs.xfs -K \/dev\/mapper\/mongojournal-mongojournal\nsudo mkfs.xfs -K \/dev\/mapper\/mongolog-mongolog\n\nsudo mkdir -p ${DATA_PATH} ${JOURNAL_PATH} ${LOG_PATH}\n\nsudo ln -s ${JOURNAL_PATH} ${DATA_PATH}\/journal\n\nsudo chown -R mongod:mongod ${DATA_PATH} ${JOURNAL_PATH} ${LOG_PATH}\n\n#sudo blockdev --setra 32 \/dev\/dm-2\n#sudo blockdev --getra \/dev\/dm-2\n\nsudo sysctl vm.swappiness=1\necho 'vm.swappiness=1' | sudo tee -a \/etc\/sysctl.conf\n"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"DataSet Install"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"EXEC","uuid":"ae8a5ae8-646b-48f5-b9b2-f54e154d9113","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nREPLICA_IPS=\"@@{calm_array_private_ip_address}@@\"\nDATA_PATH=\"@@{DATA_PATH}@@\"\nINTERNAL_IP=\"@@{private_ip_address}@@\"\nINDEX=@@{calm_array_index}@@\nNODES_PER_REPLICA_SET=@@{NODES_PER_REPLICA_SET}@@\nARRAY_REPLICA_IPS=$(echo ${REPLICA_IPS} | sed 's\/^,\/\/' | sed 's\/,$\/\/' | tr \",\" \"\\n\")\n\ntmp=$((${INDEX}+${NODES_PER_REPLICA_SET}))\nreplicasetNo=$((${tmp}\/${NODES_PER_REPLICA_SET}))\nreplicaSetName=\"dataReplSet${replicasetNo}\"\n\nsudo sed -i 's\/bindIp:\/#bindIp:\/g' \/etc\/mongod.conf\nsudo sed -i \"s#\/var\/lib\/mongo#${DATA_PATH}#g\" \/etc\/mongod.conf\nsudo sed -i \"s\/#replication:\/replication:\\n  replSetName: $replicaSetName\/g\" \/etc\/mongod.conf\nsudo sed -i 's\/#sharding:\/sharding:\\n  clusterRole: shardsvr\/g' \/etc\/mongod.conf\nsudo sed -i 's#  path: \/var\/log\/mongodb\/mongod.log#  path: \/mongodb\/log\/mongod.log#' \/etc\/mongod.conf\n\n### Getting replicaset members details \nreplica_cnt=0\ndeclare -a replicaset_members\n\nfor replica in $ARRAY_REPLICA_IPS\ndo\n  tmp=$((${replica_cnt}+${NODES_PER_REPLICA_SET}))\n  i=\"$((${tmp}\/${NODES_PER_REPLICA_SET}))\"\n  replicaset_members[$i]=${replicaset_members[$i]}\"{\\\"_id\\\": $replica_cnt, host:\\\"$replica:27017\\\"},\"\n  replica_cnt=$(($replica_cnt + 1))\ndone\n\nif [[ -f \/sys\/kernel\/mm\/transparent_hugepage\/enabled ]];then\n\techo never | sudo tee \/sys\/kernel\/mm\/transparent_hugepage\/enabled\nfi\nif [[ -f \/sys\/kernel\/mm\/transparent_hugepage\/defrag ]];then\n\techo never | sudo tee \/sys\/kernel\/mm\/transparent_hugepage\/defrag\nfi\n\nsudo systemctl restart mongod\nsleep 15\n\n### Initiating replicaset \njson=$(cat <<EOF\n{\n  \"_id\": \"$replicaSetName\",\n  \"members\": [ ${replicaset_members[$replicasetNo]}]\n}\nEOF\n)\nsudo mongo --host ${INTERNAL_IP} --port 27017 --eval \"rs.initiate( $json )\"\nsleep 2\n"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"DataSet Configure"}],"description":"","message_list":[],"uuid":"1bd5cc68-f4c8-4ebf-9df1-022fa76207f5","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"2bc538b5_dag","uuid":"ce432bd1-996e-427f-8cf3-269b20442421"},"name":"e84e54e6_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSDataSetPackage","uuid":"12025307-e5d6-443a-acbf-8c6decdff487"},"retries":"0","description":"","type":"DAG","uuid":"6b3992aa-2358-4b16-85da-d5b3177ebe07","child_tasks_local_reference_list":[{"kind":"app_task","name":"MoveDatabase","uuid":"8fc51b2d-42b6-4703-99e6-8eacbeff05f4"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"e1122dde_dag"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"EXEC","uuid":"8fc51b2d-42b6-4703-99e6-8eacbeff05f4","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\n\nnode=$(echo \"@@{calm_array_address}@@\" | tr ',' '\\n' | wc -l)\n\nif [[ \"@@{calm_array_index}@@\" != \"$(($node-1))\" ]];then\n  exit 0\nfi\n\neval $(mongo --host router1.mongodb --port 27017 --quiet --eval 'db.adminCommand( { listShards: 1 } )' | python -c '\nimport json,sys\ndata=json.load(sys.stdin)\nprint \"HOST={}\".format(data[\"shards\"][len(data[\"shards\"])-1][\"host\"])\n')\neval $(mongo --host router1.mongodb --port 27017 --quiet --eval 'db.adminCommand( { listShards: 1 } )' | python -c '\nimport json,sys\ndata=json.load(sys.stdin)\nprint \"HOSTTOMOVE={}\".format(data[\"shards\"][@@{SHARD_TO_MOVE}@@-1][\"host\"])\n')\nhost_state=`mongo --host router1.mongodb --port 27017 --quiet --eval \"db.adminCommand({removeShard: '${HOST}'})['state']\"`\nif [[ \"$host_state\" == \"started\" ]] ; then\n  sleep 5\nfi\nhost_state=`mongo --host router1.mongodb --port 27017 --quiet --eval \"db.adminCommand({removeShard: '${HOST}'})['state']\"`\nif [[ \"$host_state\" == \"ongoing\" ]] ; then\n  if [[ \"@@{SHARD_TO_MOVE}@@\" == \"\" ]] ; then\n    echo \"Please enter the shard number value to move tables.\"\n    exit 1\n  fi\n  dbstomove=`mongo --host router1.mongodb --port 27017 --quiet --eval \"db.adminCommand({removeShard: '${HOST}'})['dbsToMove']\"`\n  eval $(echo $dbstomove | python -c 'import json,sys ; data=json.load(sys.stdin) ; print \"DBSTOMOVE={}\".format(\",\".join(data))')\n  for x in $(echo $DBSTOMOVE | tr \",\" \"\\n\") ; do\n     echo \"echo moving $x\"\n     mongo --host router1.mongodb --port 27017 --quiet --eval \"db.adminCommand({ movePrimary: '$x', to: '${HOSTTOMOVE}' })\"\n  done\n  mongo --host router1.mongodb --port 27017 --quiet --eval \"db.adminCommand({removeShard: '${HOST}'})\"\n  echo \"completed removing shard '${HOST}'\"\nelif [[ \"$host_state\" == \"completed\" ]] ; then\n  echo \"Host removal completed\"\nfi\n"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"MoveDatabase"}],"description":"","message_list":[],"uuid":"ed888c34-6623-40d1-881c-a0df215bc888","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"e1122dde_dag","uuid":"6b3992aa-2358-4b16-85da-d5b3177ebe07"},"name":"77cc1fc6_runbook"}},"variable_list":[],"name":"AWSDataSetPackage"},{"description":"","action_list":[{"description":"System action for installing an application","message_list":[],"uuid":"79bea216-158b-47d4-abee-b11046ddfc0c","name":"action_install","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHV_CENTOS_76","uuid":"adee1967-610d-4f23-964b-6d9b24e27af2"},"retries":"0","description":"","type":"DAG","uuid":"7322820b-c7c0-455a-87c9-dbcc9ae4bb4d","child_tasks_local_reference_list":[{"kind":"app_task","name":"Image Fetch task for VM","uuid":"8597bf50-3227-4b1d-b02e-f5a5936d566a"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Package_adee1967_610d_4f23_964b_6d9b24e27af2"},{"target_any_local_reference":{"kind":"app_package","name":"AHV_CENTOS_76","uuid":"adee1967-610d-4f23-964b-6d9b24e27af2"},"retries":"0","description":"","type":"SUBSTRATE_IMAGE_FETCH","uuid":"8597bf50-3227-4b1d-b02e-f5a5936d566a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"","name":"CENTOS_76","resources":{"image_type":"DISK_IMAGE","checksum":{"checksum_algorithm":"","type":"","checksum_value":""},"source_uri":"http:\/\/download.nutanix.com\/calm\/CentOS-7-x86_64-1810.qcow2","version":{"product_version":"","type":"","product_name":""},"architecture":"X86_64","type":""},"description":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Image Fetch task for VM"}],"description":"","message_list":[],"uuid":"f4fe8fda-b03b-40b2-be86-03a535882e58","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Package_adee1967_610d_4f23_964b_6d9b24e27af2","uuid":"7322820b-c7c0-455a-87c9-dbcc9ae4bb4d"},"name":"SYS_GEN__Runbook_Package_adee1967_610d_4f23_964b_6d9b24e27af2"}},{"description":"System action for creating an application","message_list":[],"uuid":"544f1ea5-4854-473b-8fc9-d6ebeb8dbcf8","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHV_CENTOS_76","uuid":"adee1967-610d-4f23-964b-6d9b24e27af2"},"retries":"0","description":"","type":"DAG","uuid":"a545aea5-7957-4e8b-96e7-377d3573e750","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_adee1967_610d_4f23_964b_6d9b24e27af2","uuid":"65f9afd1-c2b2-42ab-80f5-01afc53ff1c1"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_adee1967_610d_4f23_964b_6d9b24e27af2"},{"target_any_local_reference":{"kind":"app_package","name":"AHV_CENTOS_76","uuid":"adee1967-610d-4f23-964b-6d9b24e27af2"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"65f9afd1-c2b2-42ab-80f5-01afc53ff1c1","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_adee1967_610d_4f23_964b_6d9b24e27af2","uuid":"f4fe8fda-b03b-40b2-be86-03a535882e58"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_adee1967_610d_4f23_964b_6d9b24e27af2"}],"description":"","message_list":[],"uuid":"fa818b05-8518-435a-8c14-5204d883f0c0","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_adee1967_610d_4f23_964b_6d9b24e27af2","uuid":"a545aea5-7957-4e8b-96e7-377d3573e750"},"name":"SYS_GEN__Runbook_Package_adee1967_610d_4f23_964b_6d9b24e27af2"}},{"description":"System action for starting an application","message_list":[],"uuid":"b555c90c-7112-4802-87a4-5760e33bf42e","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHV_CENTOS_76","uuid":"adee1967-610d-4f23-964b-6d9b24e27af2"},"retries":"0","description":"","type":"DAG","uuid":"0ddfdd3b-ff49-459e-8dfa-8389c481b7be","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_adee1967_610d_4f23_964b_6d9b24e27af2"}],"description":"","message_list":[],"uuid":"1c816bfa-207e-4eef-8ce7-9cfbfccd8548","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_adee1967_610d_4f23_964b_6d9b24e27af2","uuid":"0ddfdd3b-ff49-459e-8dfa-8389c481b7be"},"name":"SYS_GEN__Runbook_Package_adee1967_610d_4f23_964b_6d9b24e27af2"}},{"description":"System action for restarting an application","message_list":[],"uuid":"91565486-d7e2-446a-9de5-de3bf5015167","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHV_CENTOS_76","uuid":"adee1967-610d-4f23-964b-6d9b24e27af2"},"retries":"0","description":"","type":"DAG","uuid":"90b75113-db1b-4533-8034-e4ce7beda7d9","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_adee1967_610d_4f23_964b_6d9b24e27af2"}],"description":"","message_list":[],"uuid":"e4b5faa9-e760-482d-908a-4311ed8c8efc","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_adee1967_610d_4f23_964b_6d9b24e27af2","uuid":"90b75113-db1b-4533-8034-e4ce7beda7d9"},"name":"SYS_GEN__Runbook_Package_adee1967_610d_4f23_964b_6d9b24e27af2"}},{"description":"System action for stopping an application","message_list":[],"uuid":"7bca8c16-b76e-4eb2-b418-944ccb02d7b6","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHV_CENTOS_76","uuid":"adee1967-610d-4f23-964b-6d9b24e27af2"},"retries":"0","description":"","type":"DAG","uuid":"9d614941-bff8-4a3c-808b-3dcaa52cf2e8","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_adee1967_610d_4f23_964b_6d9b24e27af2"}],"description":"","message_list":[],"uuid":"52318b7d-a669-4849-801f-562a11971ade","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_adee1967_610d_4f23_964b_6d9b24e27af2","uuid":"9d614941-bff8-4a3c-808b-3dcaa52cf2e8"},"name":"SYS_GEN__Runbook_Package_adee1967_610d_4f23_964b_6d9b24e27af2"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"28961a4f-df02-40dd-bb74-7ea296534658","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHV_CENTOS_76","uuid":"adee1967-610d-4f23-964b-6d9b24e27af2"},"retries":"0","description":"","type":"DAG","uuid":"42f28f31-1e8c-4b32-82fd-959d709be3a0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_adee1967_610d_4f23_964b_6d9b24e27af2"}],"description":"","message_list":[],"uuid":"8132eff1-3e4d-4716-9a0c-926f48fc4028","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_adee1967_610d_4f23_964b_6d9b24e27af2","uuid":"42f28f31-1e8c-4b32-82fd-959d709be3a0"},"name":"SYS_GEN__Runbook_Package_adee1967_610d_4f23_964b_6d9b24e27af2"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"d79ab988-da94-46fb-b88b-76fa46e878ad","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHV_CENTOS_76","uuid":"adee1967-610d-4f23-964b-6d9b24e27af2"},"retries":"0","description":"","type":"DAG","uuid":"8f15cbbf-67c7-47bf-b6bc-6f39a954a335","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_adee1967_610d_4f23_964b_6d9b24e27af2"}],"description":"","message_list":[],"uuid":"1d051ec4-3247-41fc-831c-e0f1be3d30f9","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_adee1967_610d_4f23_964b_6d9b24e27af2","uuid":"8f15cbbf-67c7-47bf-b6bc-6f39a954a335"},"name":"SYS_GEN__Runbook_Package_adee1967_610d_4f23_964b_6d9b24e27af2"}}],"message_list":[],"service_local_reference_list":[],"uuid":"adee1967-610d-4f23-964b-6d9b24e27af2","state":"ACTIVE","version":"","editables":{},"type":"SUBSTRATE_IMAGE","options":{"type":"","name":"CENTOS_76","resources":{"image_type":"DISK_IMAGE","checksum":{"checksum_algorithm":"","type":"","checksum_value":""},"source_uri":"http:\/\/download.nutanix.com\/calm\/CentOS-7-x86_64-1810.qcow2","version":{"product_version":"","type":"","product_name":""},"architecture":"X86_64","type":""},"description":""},"variable_list":[],"name":"AHV_CENTOS_76"},{"description":"","action_list":[{"description":"System action for installing an application","message_list":[],"uuid":"db7b1fb4-1dde-4940-982d-74247585ca4c","name":"action_install","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPRouterPackage","uuid":"210861d5-0624-4752-a2fc-d29937e8c602"},"retries":"0","description":"","type":"DAG","uuid":"a2f13b69-83f2-4752-9497-71e0f26299a1","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Install_Crb_210861d5_0624_4752_a2fc_d29937e8c602","uuid":"ab8abcb8-0e2f-4f4f-9ff3-5208dcd226dd"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Package_210861d5_0624_4752_a2fc_d29937e8c602"},{"target_any_local_reference":{"kind":"app_package","name":"GCPRouterPackage","uuid":"210861d5-0624-4752-a2fc-d29937e8c602"},"retries":"0","description":"","type":"CUSTOM_PACKAGE_INSTALL","uuid":"ab8abcb8-0e2f-4f4f-9ff3-5208dcd226dd","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPRouterPackage","uuid":"210861d5-0624-4752-a2fc-d29937e8c602"},"retries":"0","description":"","type":"DAG","uuid":"857ac346-9016-450d-86d1-ca6254938407","child_tasks_local_reference_list":[{"kind":"app_task","name":"Router Install","uuid":"8089aabe-4441-4067-a6fc-6417af7e928b"},{"kind":"app_task","name":"Router Configure","uuid":"0be9308a-9826-4a6c-a37b-c6bb1cfe0df0"},{"kind":"app_task","name":"Start Shard","uuid":"6bc51bb6-6931-4eaf-86e8-2b229caac88f"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Router Install","uuid":"8089aabe-4441-4067-a6fc-6417af7e928b"},"edge_type":"user_defined","type":"","uuid":"e33ac83b-bd73-40f0-9cd8-ba0440baf26d","to_task_reference":{"kind":"app_task","name":"Router Configure","uuid":"0be9308a-9826-4a6c-a37b-c6bb1cfe0df0"}},{"from_task_reference":{"kind":"app_task","name":"Router Configure","uuid":"0be9308a-9826-4a6c-a37b-c6bb1cfe0df0"},"edge_type":"user_defined","type":"","uuid":"267953f1-e95e-4a0e-85b5-aa48fd71613c","to_task_reference":{"kind":"app_task","name":"Start Shard","uuid":"6bc51bb6-6931-4eaf-86e8-2b229caac88f"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"300a2866_dag"},{"target_any_local_reference":{"kind":"app_package","name":"GCPRouterPackage","uuid":"210861d5-0624-4752-a2fc-d29937e8c602"},"retries":"0","description":"","type":"EXEC","uuid":"8089aabe-4441-4067-a6fc-6417af7e928b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nVERSION=\"@@{MONGO_VERSION}@@\"\nDATA_PATH=\"@@{DATA_PATH}@@\"\nJOURNAL_PATH=\"@@{JOURNAL_PATH}@@\"\nLOG_PATH=\"@@{LOG_PATH}@@\"\nsudo hostnamectl set-hostname --static @@{name}@@\n\ncat > \/tmp\/set-hostnames.py <<EOF\n#!\/usr\/bin\/python\nimport re\nconfig_ips=\"@@{GCPConfigSet.private_ip_address}@@\"\ndata_ips=\"@@{GCPDataSet.private_ip_address}@@\"\nrouter_ips=\"@@{calm_array_private_ip_address}@@\"\n\nhostfile = open('\/etc\/hosts', 'r').read()\nprint hostfile\nhostfile = re.sub('\\n#MONGODB-BEGIN.*?#MONGODB-END', '', hostfile, flags=re.DOTALL)\nhostfile += \"#MONGODB-BEGIN\\n\"\ncount=1\nfor ip in config_ips.split(','):\n  hostfile += ip + \" config\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in data_ips.split(','):\n  hostfile += ip + \" data\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in router_ips.split(','):\n  hostfile += ip + \" router\" + str(count) + \".mongodb\\n\"\n  count += 1\nhostfile += \"#MONGODB-END\\n\"\nopen('\/etc\/hosts', 'w').write(hostfile)\nEOF\n\nsudo python \/tmp\/set-hostnames.py\n\nif [[ -f \/sys\/kernel\/mm\/transparent_hugepage\/enabled ]];then\n\techo never | sudo tee \/sys\/kernel\/mm\/transparent_hugepage\/enabled\nfi\nif [[ -f \/sys\/kernel\/mm\/transparent_hugepage\/defrag ]];then\n\techo never | sudo tee \/sys\/kernel\/mm\/transparent_hugepage\/defrag\nfi\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho '[mongodb-org-3.4]\nname=MongoDB Repository\nbaseurl=https:\/\/repo.mongodb.org\/yum\/redhat\/$releasever\/mongodb-org\/3.4\/x86_64\/\ngpgcheck=1\nenabled=1\ngpgkey=https:\/\/www.mongodb.org\/static\/pgp\/server-3.4.asc' | sudo tee \/etc\/yum.repos.d\/mongodb-3.4.repo\n\nsudo yum update -y --quiet\nsudo yum install -y --quiet mongodb-org-${VERSION} mongodb-org-server-${VERSION} mongodb-org-shell-${VERSION} mongodb-org-mongos-${VERSION} mongodb-org-tools-${VERSION}\n\necho 'exclude=mongodb-org*' | sudo tee -a \/etc\/yum.conf\n\nsudo mkdir -p ${DATA_PATH} ${JOURNAL_PATH} ${LOG_PATH}\nsudo ln -s ${JOURNAL_PATH} ${DATA_PATH}\/journal\nsudo chown -R mongod:mongod ${DATA_PATH} ${JOURNAL_PATH} ${LOG_PATH}"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Router Install"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"EXEC","uuid":"0be9308a-9826-4a6c-a37b-c6bb1cfe0df0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nCONFIG_SRV_IPS=\"@@{ConfigSet.private_ip_address}@@\"\nDATA_PATH=\"@@{DATA_PATH}@@\"\n\nconfig_ips=$(echo \"${CONFIG_SRV_IPS}\" | sed 's\/^,\/\/' | sed 's\/,$\/\/' | sed 's\/,\/:27017,\/g')\nconfig_ips=$config_ips\":27017\"\n\nsudo sed -i 's\/bindIp:\/#bindIp:\/g' \/etc\/mongod.conf\nsudo sed -i \"s#\/var\/lib\/mongo#${DATA_PATH}#g\" \/etc\/mongod.conf\n\necho \"[Unit]\nDescription=High-performance, schema-free document-oriented database\nAfter=network.target\nDocumentation=https:\/\/docs.mongodb.org\/manual\n\n[Service]\nUser=mongod\nGroup=mongod\nEnvironment=\\\"OPTIONS=--port 27017 --configdb configReplSet\/$config_ips --logpath \/var\/log\/mongodb\/mongos.log\\\"\nExecStart=\/usr\/bin\/mongos \\$OPTIONS\nPermissionsStartOnly=true\nPIDFile=\/var\/run\/mongodb\/mongos.pid\n# file size\nLimitFSIZE=infinity\n# cpu time\nLimitCPU=infinity\n# virtual memory size\nLimitAS=infinity\n# open files\nLimitNOFILE=64000\n# processes\/threads\nLimitNPROC=64000\n# total threads (user+kernel)\nTasksMax=infinity\nTasksAccounting=false\n# Recommended limits for for mongod as specified in\n# http:\/\/docs.mongodb.org\/manual\/reference\/ulimit\/#recommended-settings\n\n[Install]\nWantedBy=multi-user.target\" | sudo tee \/usr\/lib\/systemd\/system\/mongos.service\n\nsudo systemctl start mongos\n#sudo -u mongod -b mongos --port 27017 --configdb  --logpath \/var\/log\/mongodb\/mongos.log \n\nsleep 2"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Router Configure"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"EXEC","uuid":"6bc51bb6-6931-4eaf-86e8-2b229caac88f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\nNODES_PER_REPLICA_SET=\"@@{NODES_PER_REPLICA_SET}@@\"\nINTERNAL_IP=\"@@{private_ip_address}@@\"\nREPLICA_IPS=($(echo @@{DataSet.private_ip_address}@@ | sed 's\/^,\/\/' | sed 's\/,$\/\/' | tr \",\" \"\\n\"))\nnoOfShards=$((${#REPLICA_IPS[@]}\/${NODES_PER_REPLICA_SET}))\n\ncount=0\nfor ((number=1;number <= $noOfShards;number++))\ndo\n  replicaSetName=\"dataReplSet${number}\"\n  sudo mongo --host ${INTERNAL_IP} --port 27017 --eval \"sh.addShard( \\\"$replicaSetName\/${REPLICA_IPS[${count}]}:27017\\\" )\"\n  count=$(($count + ${NODES_PER_REPLICA_SET}))\ndone"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Start Shard"}],"description":"","message_list":[],"uuid":"51bfcdb9-ebf6-45a9-8b0e-618d31a1415f","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"300a2866_dag","uuid":"857ac346-9016-450d-86d1-ca6254938407"},"name":"e0b4ff16_runbook_cloned_1"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPRouterPackage","uuid":"210861d5-0624-4752-a2fc-d29937e8c602"},"retries":"0","description":"","type":"DAG","uuid":"5f9d2aa7-651e-492e-a1b5-bac9fbb89a86","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"2991f5d5_dag"}],"description":"","message_list":[],"uuid":"d83bdefd-8a51-4735-9821-66d3859b8e06","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"2991f5d5_dag","uuid":"5f9d2aa7-651e-492e-a1b5-bac9fbb89a86"},"name":"c63c23aa_runbook_cloned_1"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Install_Crb_210861d5_0624_4752_a2fc_d29937e8c602"}],"description":"","message_list":[],"uuid":"b1c27fde-d546-4f3b-85a6-6e3ceb66bedf","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Package_210861d5_0624_4752_a2fc_d29937e8c602","uuid":"a2f13b69-83f2-4752-9497-71e0f26299a1"},"name":"SYS_GEN__Runbook_Package_210861d5_0624_4752_a2fc_d29937e8c602"}},{"description":"System action for creating an application","message_list":[],"uuid":"177aa81c-ad8d-4c92-aedc-7d01be01f7ae","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPRouterPackage","uuid":"210861d5-0624-4752-a2fc-d29937e8c602"},"retries":"0","description":"","type":"DAG","uuid":"a1b89161-4488-4913-a0e7-ae75e9e73781","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_210861d5_0624_4752_a2fc_d29937e8c602","uuid":"f7f4e2a3-251e-4e8a-bb7e-517d27979694"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"47e474f2-91a0-490c-852d-e11ae445c991"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"f510100c-e197-409b-b72b-79e007e3f8c1"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"47e474f2-91a0-490c-852d-e11ae445c991"},"edge_type":"inherent","type":"","uuid":"0466cdeb-c8d0-4738-b390-174126b068ce","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"f510100c-e197-409b-b72b-79e007e3f8c1"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_210861d5_0624_4752_a2fc_d29937e8c602","uuid":"f7f4e2a3-251e-4e8a-bb7e-517d27979694"},"edge_type":"inherent","type":"","uuid":"5f51d41e-0975-4b74-88f6-4841659c9fb1","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"47e474f2-91a0-490c-852d-e11ae445c991"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_210861d5_0624_4752_a2fc_d29937e8c602"},{"target_any_local_reference":{"kind":"app_package","name":"GCPRouterPackage","uuid":"210861d5-0624-4752-a2fc-d29937e8c602"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"f7f4e2a3-251e-4e8a-bb7e-517d27979694","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_210861d5_0624_4752_a2fc_d29937e8c602","uuid":"b1c27fde-d546-4f3b-85a6-6e3ceb66bedf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_210861d5_0624_4752_a2fc_d29937e8c602"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"47e474f2-91a0-490c-852d-e11ae445c991","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"f678ba44_runbook","uuid":"6f256634-e57a-41ea-a837-438a40018db7"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"f510100c-e197-409b-b72b-79e007e3f8c1","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"6729beee_runbook","uuid":"28341bf4-2766-4701-8747-1722ed61db3c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e"}],"description":"","message_list":[],"uuid":"81e0578c-3138-40de-a5a5-02961575ce9e","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_210861d5_0624_4752_a2fc_d29937e8c602","uuid":"a1b89161-4488-4913-a0e7-ae75e9e73781"},"name":"SYS_GEN__Runbook_Package_210861d5_0624_4752_a2fc_d29937e8c602"}},{"description":"System action for uninstalling an application","message_list":[],"uuid":"23ce87a9-bcbe-4d45-b5b1-ca754c0cd339","name":"action_uninstall","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPRouterPackage","uuid":"210861d5-0624-4752-a2fc-d29937e8c602"},"retries":"0","description":"","type":"DAG","uuid":"af163528-7e21-41af-9dd7-ff3d4e56a8b1","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Uninstall_Crb_210861d5_0624_4752_a2fc_d29937e8c602","uuid":"47ffa164-ffa1-4c41-8ad0-da91603433ce"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Package_210861d5_0624_4752_a2fc_d29937e8c602"},{"target_any_local_reference":{"kind":"app_package","name":"GCPRouterPackage","uuid":"210861d5-0624-4752-a2fc-d29937e8c602"},"retries":"0","description":"","type":"CUSTOM_PACKAGE_UNINSTALL","uuid":"47ffa164-ffa1-4c41-8ad0-da91603433ce","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPRouterPackage","uuid":"210861d5-0624-4752-a2fc-d29937e8c602"},"retries":"0","description":"","type":"DAG","uuid":"857ac346-9016-450d-86d1-ca6254938407","child_tasks_local_reference_list":[{"kind":"app_task","name":"Router Install","uuid":"8089aabe-4441-4067-a6fc-6417af7e928b"},{"kind":"app_task","name":"Router Configure","uuid":"0be9308a-9826-4a6c-a37b-c6bb1cfe0df0"},{"kind":"app_task","name":"Start Shard","uuid":"6bc51bb6-6931-4eaf-86e8-2b229caac88f"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Router Install","uuid":"8089aabe-4441-4067-a6fc-6417af7e928b"},"edge_type":"user_defined","type":"","uuid":"e33ac83b-bd73-40f0-9cd8-ba0440baf26d","to_task_reference":{"kind":"app_task","name":"Router Configure","uuid":"0be9308a-9826-4a6c-a37b-c6bb1cfe0df0"}},{"from_task_reference":{"kind":"app_task","name":"Router Configure","uuid":"0be9308a-9826-4a6c-a37b-c6bb1cfe0df0"},"edge_type":"user_defined","type":"","uuid":"267953f1-e95e-4a0e-85b5-aa48fd71613c","to_task_reference":{"kind":"app_task","name":"Start Shard","uuid":"6bc51bb6-6931-4eaf-86e8-2b229caac88f"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"300a2866_dag"},{"target_any_local_reference":{"kind":"app_package","name":"GCPRouterPackage","uuid":"210861d5-0624-4752-a2fc-d29937e8c602"},"retries":"0","description":"","type":"EXEC","uuid":"8089aabe-4441-4067-a6fc-6417af7e928b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nVERSION=\"@@{MONGO_VERSION}@@\"\nDATA_PATH=\"@@{DATA_PATH}@@\"\nJOURNAL_PATH=\"@@{JOURNAL_PATH}@@\"\nLOG_PATH=\"@@{LOG_PATH}@@\"\nsudo hostnamectl set-hostname --static @@{name}@@\n\ncat > \/tmp\/set-hostnames.py <<EOF\n#!\/usr\/bin\/python\nimport re\nconfig_ips=\"@@{GCPConfigSet.private_ip_address}@@\"\ndata_ips=\"@@{GCPDataSet.private_ip_address}@@\"\nrouter_ips=\"@@{calm_array_private_ip_address}@@\"\n\nhostfile = open('\/etc\/hosts', 'r').read()\nprint hostfile\nhostfile = re.sub('\\n#MONGODB-BEGIN.*?#MONGODB-END', '', hostfile, flags=re.DOTALL)\nhostfile += \"#MONGODB-BEGIN\\n\"\ncount=1\nfor ip in config_ips.split(','):\n  hostfile += ip + \" config\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in data_ips.split(','):\n  hostfile += ip + \" data\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in router_ips.split(','):\n  hostfile += ip + \" router\" + str(count) + \".mongodb\\n\"\n  count += 1\nhostfile += \"#MONGODB-END\\n\"\nopen('\/etc\/hosts', 'w').write(hostfile)\nEOF\n\nsudo python \/tmp\/set-hostnames.py\n\nif [[ -f \/sys\/kernel\/mm\/transparent_hugepage\/enabled ]];then\n\techo never | sudo tee \/sys\/kernel\/mm\/transparent_hugepage\/enabled\nfi\nif [[ -f \/sys\/kernel\/mm\/transparent_hugepage\/defrag ]];then\n\techo never | sudo tee \/sys\/kernel\/mm\/transparent_hugepage\/defrag\nfi\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho '[mongodb-org-3.4]\nname=MongoDB Repository\nbaseurl=https:\/\/repo.mongodb.org\/yum\/redhat\/$releasever\/mongodb-org\/3.4\/x86_64\/\ngpgcheck=1\nenabled=1\ngpgkey=https:\/\/www.mongodb.org\/static\/pgp\/server-3.4.asc' | sudo tee \/etc\/yum.repos.d\/mongodb-3.4.repo\n\nsudo yum update -y --quiet\nsudo yum install -y --quiet mongodb-org-${VERSION} mongodb-org-server-${VERSION} mongodb-org-shell-${VERSION} mongodb-org-mongos-${VERSION} mongodb-org-tools-${VERSION}\n\necho 'exclude=mongodb-org*' | sudo tee -a \/etc\/yum.conf\n\nsudo mkdir -p ${DATA_PATH} ${JOURNAL_PATH} ${LOG_PATH}\nsudo ln -s ${JOURNAL_PATH} ${DATA_PATH}\/journal\nsudo chown -R mongod:mongod ${DATA_PATH} ${JOURNAL_PATH} ${LOG_PATH}"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Router Install"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"EXEC","uuid":"0be9308a-9826-4a6c-a37b-c6bb1cfe0df0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nCONFIG_SRV_IPS=\"@@{ConfigSet.private_ip_address}@@\"\nDATA_PATH=\"@@{DATA_PATH}@@\"\n\nconfig_ips=$(echo \"${CONFIG_SRV_IPS}\" | sed 's\/^,\/\/' | sed 's\/,$\/\/' | sed 's\/,\/:27017,\/g')\nconfig_ips=$config_ips\":27017\"\n\nsudo sed -i 's\/bindIp:\/#bindIp:\/g' \/etc\/mongod.conf\nsudo sed -i \"s#\/var\/lib\/mongo#${DATA_PATH}#g\" \/etc\/mongod.conf\n\necho \"[Unit]\nDescription=High-performance, schema-free document-oriented database\nAfter=network.target\nDocumentation=https:\/\/docs.mongodb.org\/manual\n\n[Service]\nUser=mongod\nGroup=mongod\nEnvironment=\\\"OPTIONS=--port 27017 --configdb configReplSet\/$config_ips --logpath \/var\/log\/mongodb\/mongos.log\\\"\nExecStart=\/usr\/bin\/mongos \\$OPTIONS\nPermissionsStartOnly=true\nPIDFile=\/var\/run\/mongodb\/mongos.pid\n# file size\nLimitFSIZE=infinity\n# cpu time\nLimitCPU=infinity\n# virtual memory size\nLimitAS=infinity\n# open files\nLimitNOFILE=64000\n# processes\/threads\nLimitNPROC=64000\n# total threads (user+kernel)\nTasksMax=infinity\nTasksAccounting=false\n# Recommended limits for for mongod as specified in\n# http:\/\/docs.mongodb.org\/manual\/reference\/ulimit\/#recommended-settings\n\n[Install]\nWantedBy=multi-user.target\" | sudo tee \/usr\/lib\/systemd\/system\/mongos.service\n\nsudo systemctl start mongos\n#sudo -u mongod -b mongos --port 27017 --configdb  --logpath \/var\/log\/mongodb\/mongos.log \n\nsleep 2"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Router Configure"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"EXEC","uuid":"6bc51bb6-6931-4eaf-86e8-2b229caac88f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\nNODES_PER_REPLICA_SET=\"@@{NODES_PER_REPLICA_SET}@@\"\nINTERNAL_IP=\"@@{private_ip_address}@@\"\nREPLICA_IPS=($(echo @@{DataSet.private_ip_address}@@ | sed 's\/^,\/\/' | sed 's\/,$\/\/' | tr \",\" \"\\n\"))\nnoOfShards=$((${#REPLICA_IPS[@]}\/${NODES_PER_REPLICA_SET}))\n\ncount=0\nfor ((number=1;number <= $noOfShards;number++))\ndo\n  replicaSetName=\"dataReplSet${number}\"\n  sudo mongo --host ${INTERNAL_IP} --port 27017 --eval \"sh.addShard( \\\"$replicaSetName\/${REPLICA_IPS[${count}]}:27017\\\" )\"\n  count=$(($count + ${NODES_PER_REPLICA_SET}))\ndone"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Start Shard"}],"description":"","message_list":[],"uuid":"51bfcdb9-ebf6-45a9-8b0e-618d31a1415f","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"300a2866_dag","uuid":"857ac346-9016-450d-86d1-ca6254938407"},"name":"e0b4ff16_runbook_cloned_1"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPRouterPackage","uuid":"210861d5-0624-4752-a2fc-d29937e8c602"},"retries":"0","description":"","type":"DAG","uuid":"5f9d2aa7-651e-492e-a1b5-bac9fbb89a86","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"2991f5d5_dag"}],"description":"","message_list":[],"uuid":"d83bdefd-8a51-4735-9821-66d3859b8e06","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"2991f5d5_dag","uuid":"5f9d2aa7-651e-492e-a1b5-bac9fbb89a86"},"name":"c63c23aa_runbook_cloned_1"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Uninstall_Crb_210861d5_0624_4752_a2fc_d29937e8c602"}],"description":"","message_list":[],"uuid":"b512c17c-b7f9-4667-af55-c19187e88fc1","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Package_210861d5_0624_4752_a2fc_d29937e8c602","uuid":"af163528-7e21-41af-9dd7-ff3d4e56a8b1"},"name":"SYS_GEN__Runbook_Package_210861d5_0624_4752_a2fc_d29937e8c602"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"1a23798a-d675-4cd5-829e-e7f012db90f6","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPRouterPackage","uuid":"210861d5-0624-4752-a2fc-d29937e8c602"},"retries":"0","description":"","type":"DAG","uuid":"d50bc8d0-cefd-4963-bfdd-1df3f46c3705","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"8e714c4d-b849-44f8-ae74-6c446ae019b7"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"fafb4de0-f09c-418c-9b72-e04a682fd455"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_210861d5_0624_4752_a2fc_d29937e8c602","uuid":"9724b6cc-a02c-4e9b-8bf8-317f5d222c50"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"8e714c4d-b849-44f8-ae74-6c446ae019b7"},"edge_type":"inherent","type":"","uuid":"8b942736-33ff-4a00-9f6c-b4efb506487f","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"fafb4de0-f09c-418c-9b72-e04a682fd455"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"fafb4de0-f09c-418c-9b72-e04a682fd455"},"edge_type":"inherent","type":"","uuid":"bb8838d2-4353-48e7-9123-fe8c50fe4125","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_210861d5_0624_4752_a2fc_d29937e8c602","uuid":"9724b6cc-a02c-4e9b-8bf8-317f5d222c50"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_210861d5_0624_4752_a2fc_d29937e8c602"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"8e714c4d-b849-44f8-ae74-6c446ae019b7","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"6d2afcdd_runbook","uuid":"215f65d0-6496-443c-9017-6dec4743560f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"fafb4de0-f09c-418c-9b72-e04a682fd455","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"6631f4bd_runbook","uuid":"d80d8f71-625e-4530-bf85-66347f427405"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e"},{"target_any_local_reference":{"kind":"app_package","name":"GCPRouterPackage","uuid":"210861d5-0624-4752-a2fc-d29937e8c602"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"9724b6cc-a02c-4e9b-8bf8-317f5d222c50","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_210861d5_0624_4752_a2fc_d29937e8c602","uuid":"b512c17c-b7f9-4667-af55-c19187e88fc1"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_210861d5_0624_4752_a2fc_d29937e8c602"}],"description":"","message_list":[],"uuid":"bb5c6f8a-4efb-4089-b59a-df98e952d4f5","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_210861d5_0624_4752_a2fc_d29937e8c602","uuid":"d50bc8d0-cefd-4963-bfdd-1df3f46c3705"},"name":"SYS_GEN__Runbook_Package_210861d5_0624_4752_a2fc_d29937e8c602"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"b3257ee9-03e3-41eb-b936-a8802f5c3c4a","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPRouterPackage","uuid":"210861d5-0624-4752-a2fc-d29937e8c602"},"retries":"0","description":"","type":"DAG","uuid":"2e67b13d-a0f3-44f5-a8af-f2eb07b501d0","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"c2447b5c-09c7-4975-8ec4-d441302699b9"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_210861d5_0624_4752_a2fc_d29937e8c602","uuid":"1e23b3ad-5f92-4f83-a675-b867958f70a7"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"c2447b5c-09c7-4975-8ec4-d441302699b9"},"edge_type":"inherent","type":"","uuid":"6c1549d3-de16-42a5-bd01-71da70c36b6e","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_210861d5_0624_4752_a2fc_d29937e8c602","uuid":"1e23b3ad-5f92-4f83-a675-b867958f70a7"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_210861d5_0624_4752_a2fc_d29937e8c602"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"c2447b5c-09c7-4975-8ec4-d441302699b9","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"3fe61be2-c077-40a8-91a6-e9e75a5d2af3"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e"},{"target_any_local_reference":{"kind":"app_package","name":"GCPRouterPackage","uuid":"210861d5-0624-4752-a2fc-d29937e8c602"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"1e23b3ad-5f92-4f83-a675-b867958f70a7","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_210861d5_0624_4752_a2fc_d29937e8c602"}],"description":"","message_list":[],"uuid":"ba6cbbf0-dab2-43c5-8089-ce35d4808879","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_210861d5_0624_4752_a2fc_d29937e8c602","uuid":"2e67b13d-a0f3-44f5-a8af-f2eb07b501d0"},"name":"SYS_GEN__Runbook_Package_210861d5_0624_4752_a2fc_d29937e8c602"}},{"description":"System action for starting an application","message_list":[],"uuid":"d7141a95-9ccc-4114-86f7-214aa81b2656","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPRouterPackage","uuid":"210861d5-0624-4752-a2fc-d29937e8c602"},"retries":"0","description":"","type":"DAG","uuid":"b4f33cba-10fe-4fd2-86ce-d1c1c167e099","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"af0453b8-3566-4f55-94a9-074659516af9"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_210861d5_0624_4752_a2fc_d29937e8c602"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"af0453b8-3566-4f55-94a9-074659516af9","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"6729beee_runbook","uuid":"28341bf4-2766-4701-8747-1722ed61db3c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e"}],"description":"","message_list":[],"uuid":"530091ff-ccfa-4766-8f49-20256e69664e","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_210861d5_0624_4752_a2fc_d29937e8c602","uuid":"b4f33cba-10fe-4fd2-86ce-d1c1c167e099"},"name":"SYS_GEN__Runbook_Package_210861d5_0624_4752_a2fc_d29937e8c602"}},{"description":"System action for restarting an application","message_list":[],"uuid":"3a100e2c-a944-4fa6-8e27-cca543debd95","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPRouterPackage","uuid":"210861d5-0624-4752-a2fc-d29937e8c602"},"retries":"0","description":"","type":"DAG","uuid":"176e08e9-dbf6-47e6-a352-8c6ef46c7a8c","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"dc6ab883-43e0-481f-a252-317a4283f030"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_210861d5_0624_4752_a2fc_d29937e8c602"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"dc6ab883-43e0-481f-a252-317a4283f030","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"5261a312_runbook","uuid":"dcdcb0d6-e68b-4641-8609-e6dc92c57b21"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e"}],"description":"","message_list":[],"uuid":"5db59340-0b06-4697-ab15-c030a83c6164","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_210861d5_0624_4752_a2fc_d29937e8c602","uuid":"176e08e9-dbf6-47e6-a352-8c6ef46c7a8c"},"name":"SYS_GEN__Runbook_Package_210861d5_0624_4752_a2fc_d29937e8c602"}},{"description":"System action for stopping an application","message_list":[],"uuid":"c40e3eb1-118c-4825-ad77-a73ab7e8b5ca","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPRouterPackage","uuid":"210861d5-0624-4752-a2fc-d29937e8c602"},"retries":"0","description":"","type":"DAG","uuid":"d83c5763-fde6-41bf-99f6-a6ac54248056","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"dc49fb08-f9b0-4fc7-8d73-112cb39d41ec"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_210861d5_0624_4752_a2fc_d29937e8c602"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"dc49fb08-f9b0-4fc7-8d73-112cb39d41ec","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"6d2afcdd_runbook","uuid":"215f65d0-6496-443c-9017-6dec4743560f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e"}],"description":"","message_list":[],"uuid":"55e7f330-d4aa-4e75-8e29-bfa194ab8a51","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_210861d5_0624_4752_a2fc_d29937e8c602","uuid":"d83c5763-fde6-41bf-99f6-a6ac54248056"},"name":"SYS_GEN__Runbook_Package_210861d5_0624_4752_a2fc_d29937e8c602"}}],"message_list":[],"service_local_reference_list":[{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"}],"uuid":"210861d5-0624-4752-a2fc-d29937e8c602","state":"ACTIVE","version":"","editables":{},"type":"DEB","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPRouterPackage","uuid":"210861d5-0624-4752-a2fc-d29937e8c602"},"retries":"0","description":"","type":"DAG","uuid":"857ac346-9016-450d-86d1-ca6254938407","child_tasks_local_reference_list":[{"kind":"app_task","name":"Router Install","uuid":"8089aabe-4441-4067-a6fc-6417af7e928b"},{"kind":"app_task","name":"Router Configure","uuid":"0be9308a-9826-4a6c-a37b-c6bb1cfe0df0"},{"kind":"app_task","name":"Start Shard","uuid":"6bc51bb6-6931-4eaf-86e8-2b229caac88f"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Router Install","uuid":"8089aabe-4441-4067-a6fc-6417af7e928b"},"edge_type":"user_defined","type":"","uuid":"e33ac83b-bd73-40f0-9cd8-ba0440baf26d","to_task_reference":{"kind":"app_task","name":"Router Configure","uuid":"0be9308a-9826-4a6c-a37b-c6bb1cfe0df0"}},{"from_task_reference":{"kind":"app_task","name":"Router Configure","uuid":"0be9308a-9826-4a6c-a37b-c6bb1cfe0df0"},"edge_type":"user_defined","type":"","uuid":"267953f1-e95e-4a0e-85b5-aa48fd71613c","to_task_reference":{"kind":"app_task","name":"Start Shard","uuid":"6bc51bb6-6931-4eaf-86e8-2b229caac88f"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"300a2866_dag"},{"target_any_local_reference":{"kind":"app_package","name":"GCPRouterPackage","uuid":"210861d5-0624-4752-a2fc-d29937e8c602"},"retries":"0","description":"","type":"EXEC","uuid":"8089aabe-4441-4067-a6fc-6417af7e928b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nVERSION=\"@@{MONGO_VERSION}@@\"\nDATA_PATH=\"@@{DATA_PATH}@@\"\nJOURNAL_PATH=\"@@{JOURNAL_PATH}@@\"\nLOG_PATH=\"@@{LOG_PATH}@@\"\nsudo hostnamectl set-hostname --static @@{name}@@\n\ncat > \/tmp\/set-hostnames.py <<EOF\n#!\/usr\/bin\/python\nimport re\nconfig_ips=\"@@{GCPConfigSet.private_ip_address}@@\"\ndata_ips=\"@@{GCPDataSet.private_ip_address}@@\"\nrouter_ips=\"@@{calm_array_private_ip_address}@@\"\n\nhostfile = open('\/etc\/hosts', 'r').read()\nprint hostfile\nhostfile = re.sub('\\n#MONGODB-BEGIN.*?#MONGODB-END', '', hostfile, flags=re.DOTALL)\nhostfile += \"#MONGODB-BEGIN\\n\"\ncount=1\nfor ip in config_ips.split(','):\n  hostfile += ip + \" config\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in data_ips.split(','):\n  hostfile += ip + \" data\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in router_ips.split(','):\n  hostfile += ip + \" router\" + str(count) + \".mongodb\\n\"\n  count += 1\nhostfile += \"#MONGODB-END\\n\"\nopen('\/etc\/hosts', 'w').write(hostfile)\nEOF\n\nsudo python \/tmp\/set-hostnames.py\n\nif [[ -f \/sys\/kernel\/mm\/transparent_hugepage\/enabled ]];then\n\techo never | sudo tee \/sys\/kernel\/mm\/transparent_hugepage\/enabled\nfi\nif [[ -f \/sys\/kernel\/mm\/transparent_hugepage\/defrag ]];then\n\techo never | sudo tee \/sys\/kernel\/mm\/transparent_hugepage\/defrag\nfi\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho '[mongodb-org-3.4]\nname=MongoDB Repository\nbaseurl=https:\/\/repo.mongodb.org\/yum\/redhat\/$releasever\/mongodb-org\/3.4\/x86_64\/\ngpgcheck=1\nenabled=1\ngpgkey=https:\/\/www.mongodb.org\/static\/pgp\/server-3.4.asc' | sudo tee \/etc\/yum.repos.d\/mongodb-3.4.repo\n\nsudo yum update -y --quiet\nsudo yum install -y --quiet mongodb-org-${VERSION} mongodb-org-server-${VERSION} mongodb-org-shell-${VERSION} mongodb-org-mongos-${VERSION} mongodb-org-tools-${VERSION}\n\necho 'exclude=mongodb-org*' | sudo tee -a \/etc\/yum.conf\n\nsudo mkdir -p ${DATA_PATH} ${JOURNAL_PATH} ${LOG_PATH}\nsudo ln -s ${JOURNAL_PATH} ${DATA_PATH}\/journal\nsudo chown -R mongod:mongod ${DATA_PATH} ${JOURNAL_PATH} ${LOG_PATH}"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Router Install"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"EXEC","uuid":"0be9308a-9826-4a6c-a37b-c6bb1cfe0df0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nCONFIG_SRV_IPS=\"@@{ConfigSet.private_ip_address}@@\"\nDATA_PATH=\"@@{DATA_PATH}@@\"\n\nconfig_ips=$(echo \"${CONFIG_SRV_IPS}\" | sed 's\/^,\/\/' | sed 's\/,$\/\/' | sed 's\/,\/:27017,\/g')\nconfig_ips=$config_ips\":27017\"\n\nsudo sed -i 's\/bindIp:\/#bindIp:\/g' \/etc\/mongod.conf\nsudo sed -i \"s#\/var\/lib\/mongo#${DATA_PATH}#g\" \/etc\/mongod.conf\n\necho \"[Unit]\nDescription=High-performance, schema-free document-oriented database\nAfter=network.target\nDocumentation=https:\/\/docs.mongodb.org\/manual\n\n[Service]\nUser=mongod\nGroup=mongod\nEnvironment=\\\"OPTIONS=--port 27017 --configdb configReplSet\/$config_ips --logpath \/var\/log\/mongodb\/mongos.log\\\"\nExecStart=\/usr\/bin\/mongos \\$OPTIONS\nPermissionsStartOnly=true\nPIDFile=\/var\/run\/mongodb\/mongos.pid\n# file size\nLimitFSIZE=infinity\n# cpu time\nLimitCPU=infinity\n# virtual memory size\nLimitAS=infinity\n# open files\nLimitNOFILE=64000\n# processes\/threads\nLimitNPROC=64000\n# total threads (user+kernel)\nTasksMax=infinity\nTasksAccounting=false\n# Recommended limits for for mongod as specified in\n# http:\/\/docs.mongodb.org\/manual\/reference\/ulimit\/#recommended-settings\n\n[Install]\nWantedBy=multi-user.target\" | sudo tee \/usr\/lib\/systemd\/system\/mongos.service\n\nsudo systemctl start mongos\n#sudo -u mongod -b mongos --port 27017 --configdb  --logpath \/var\/log\/mongodb\/mongos.log \n\nsleep 2"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Router Configure"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"EXEC","uuid":"6bc51bb6-6931-4eaf-86e8-2b229caac88f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\nNODES_PER_REPLICA_SET=\"@@{NODES_PER_REPLICA_SET}@@\"\nINTERNAL_IP=\"@@{private_ip_address}@@\"\nREPLICA_IPS=($(echo @@{DataSet.private_ip_address}@@ | sed 's\/^,\/\/' | sed 's\/,$\/\/' | tr \",\" \"\\n\"))\nnoOfShards=$((${#REPLICA_IPS[@]}\/${NODES_PER_REPLICA_SET}))\n\ncount=0\nfor ((number=1;number <= $noOfShards;number++))\ndo\n  replicaSetName=\"dataReplSet${number}\"\n  sudo mongo --host ${INTERNAL_IP} --port 27017 --eval \"sh.addShard( \\\"$replicaSetName\/${REPLICA_IPS[${count}]}:27017\\\" )\"\n  count=$(($count + ${NODES_PER_REPLICA_SET}))\ndone"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Start Shard"}],"description":"","message_list":[],"uuid":"51bfcdb9-ebf6-45a9-8b0e-618d31a1415f","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"300a2866_dag","uuid":"857ac346-9016-450d-86d1-ca6254938407"},"name":"e0b4ff16_runbook_cloned_1"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPRouterPackage","uuid":"210861d5-0624-4752-a2fc-d29937e8c602"},"retries":"0","description":"","type":"DAG","uuid":"5f9d2aa7-651e-492e-a1b5-bac9fbb89a86","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"2991f5d5_dag"}],"description":"","message_list":[],"uuid":"d83bdefd-8a51-4735-9821-66d3859b8e06","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"2991f5d5_dag","uuid":"5f9d2aa7-651e-492e-a1b5-bac9fbb89a86"},"name":"c63c23aa_runbook_cloned_1"}},"variable_list":[],"name":"GCPRouterPackage"},{"description":"","action_list":[{"description":"System action for installing an application","message_list":[],"uuid":"27e5bfc5-b7c2-4a0e-abdb-66b62700b648","name":"action_install","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPConfigSetPackage","uuid":"372ca4be-1681-4dae-b58f-dcdc8ab92dc1"},"retries":"0","description":"","type":"DAG","uuid":"aee00c13-4d24-406d-909f-4f9d2a7c4d27","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Install_Crb_372ca4be_1681_4dae_b58f_dcdc8ab92dc1","uuid":"ff5bbbfa-49c8-4d7d-b55a-a0e2bc88724f"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Package_372ca4be_1681_4dae_b58f_dcdc8ab92dc1"},{"target_any_local_reference":{"kind":"app_package","name":"GCPConfigSetPackage","uuid":"372ca4be-1681-4dae-b58f-dcdc8ab92dc1"},"retries":"0","description":"","type":"CUSTOM_PACKAGE_INSTALL","uuid":"ff5bbbfa-49c8-4d7d-b55a-a0e2bc88724f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPConfigSetPackage","uuid":"372ca4be-1681-4dae-b58f-dcdc8ab92dc1"},"retries":"0","description":"","type":"DAG","uuid":"4bb494a4-185c-4395-ba8e-834978f7d291","child_tasks_local_reference_list":[{"kind":"app_task","name":"ConfigSet Install","uuid":"d0d33ea1-5baf-48ed-ae79-7cf7c663a899"},{"kind":"app_task","name":"ConfigSet Configure","uuid":"aee03a41-5129-446c-b706-0062cf5640b9"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"ConfigSet Install","uuid":"d0d33ea1-5baf-48ed-ae79-7cf7c663a899"},"edge_type":"user_defined","type":"","uuid":"5f66bef1-c604-48a5-b64d-c822e24cc001","to_task_reference":{"kind":"app_task","name":"ConfigSet Configure","uuid":"aee03a41-5129-446c-b706-0062cf5640b9"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"d11ad974_dag"},{"target_any_local_reference":{"kind":"app_package","name":"GCPConfigSetPackage","uuid":"372ca4be-1681-4dae-b58f-dcdc8ab92dc1"},"retries":"0","description":"","type":"EXEC","uuid":"d0d33ea1-5baf-48ed-ae79-7cf7c663a899","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nVERSION=\"@@{MONGO_VERSION}@@\"\nDATA_PATH=\"@@{DATA_PATH}@@\"\nJOURNAL_PATH=\"@@{JOURNAL_PATH}@@\"\nLOG_PATH=\"@@{LOG_PATH}@@\"\nsudo hostnamectl set-hostname --static @@{name}@@\n\ncat > \/tmp\/set-hostnames.py <<EOF\n#!\/usr\/bin\/python\nimport re\nconfig_ips=\"@@{calm_array_private_ip_address}@@\"\ndata_ips=\"@@{GCPDataSet.private_ip_address}@@\"\nrouter_ips=\"@@{GCPRouter.private_ip_address}@@\"\n\nhostfile = open('\/etc\/hosts', 'r').read()\nprint hostfile\nhostfile = re.sub('\\n#MONGODB-BEGIN.*?#MONGODB-END', '', hostfile, flags=re.DOTALL)\nhostfile += \"#MONGODB-BEGIN\\n\"\ncount=1\nfor ip in config_ips.split(','):\n  hostfile += ip + \" config\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in data_ips.split(','):\n  hostfile += ip + \" data\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in router_ips.split(','):\n  hostfile += ip + \" router\" + str(count) + \".mongodb\\n\"\n  count += 1\nhostfile += \"#MONGODB-END\\n\"\nopen('\/etc\/hosts', 'w').write(hostfile)\nEOF\n\nsudo python \/tmp\/set-hostnames.py\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho '[mongodb-org-3.4]\nname=MongoDB Repository\nbaseurl=https:\/\/repo.mongodb.org\/yum\/redhat\/$releasever\/mongodb-org\/3.4\/x86_64\/\ngpgcheck=1\nenabled=1\ngpgkey=https:\/\/www.mongodb.org\/static\/pgp\/server-3.4.asc' | sudo tee \/etc\/yum.repos.d\/mongodb-3.4.repo\n\nsudo yum update -y --quiet\nsudo yum install -y --quiet mongodb-org-${VERSION} mongodb-org-server-${VERSION} mongodb-org-shell-${VERSION} mongodb-org-mongos-${VERSION} mongodb-org-tools-${VERSION}\n\necho 'exclude=mongodb-org*' | sudo tee -a \/etc\/yum.conf\n\nsudo mkdir -p ${DATA_PATH} ${JOURNAL_PATH} ${LOG_PATH}\nsudo ln -s ${JOURNAL_PATH} ${DATA_PATH}\/journal\nsudo chown -R mongod:mongod ${DATA_PATH} ${JOURNAL_PATH} ${LOG_PATH}"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"ConfigSet Install"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"EXEC","uuid":"aee03a41-5129-446c-b706-0062cf5640b9","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nCONFIG_SRV_IPS=\"@@{calm_array_private_ip_address}@@\"\nDATA_PATH=\"@@{DATA_PATH}@@\"\nINTERNAL_IP=\"@@{private_ip_address}@@\"\n\nsudo sed -i 's\/bindIp:\/#bindIp:\/g' \/etc\/mongod.conf\nsudo sed -i \"s#\/var\/lib\/mongo#${DATA_PATH}#g\" \/etc\/mongod.conf\nsudo sed -i 's\/#sharding:\/sharding:\\n  clusterRole: configsvr\/g' \/etc\/mongod.conf\nsudo sed -i 's\/#replication:\/replication:\\n  replSetName: configReplSet\/g' \/etc\/mongod.conf\n\n\nconfig_ips=$(echo \"${CONFIG_SRV_IPS}\" | sed 's\/^,\/\/' | sed 's\/,$\/\/' | tr \",\" \"\\n\")\nconfig_cnt=0\nconfig_str=\"\"\n\nfor config in $config_ips\ndo\n  config_str=$config_str\"{\\\"_id\\\": $config_cnt, host:\\\"$config:27017\\\"},\"\n  config_cnt=$(($config_cnt + 1))\ndone\nconfig_str=`echo $config_str | sed 's\/,$\/\/'`\njson=$(cat <<EOF\n{\n  \"_id\": \"configReplSet\",\n  \"members\": [\n    $config_str\n  ]\n}\nEOF\n)\n\nif [[ -f \/sys\/kernel\/mm\/transparent_hugepage\/enabled ]];then\n\techo never | sudo tee \/sys\/kernel\/mm\/transparent_hugepage\/enabled\nfi\nif [[ -f \/sys\/kernel\/mm\/transparent_hugepage\/defrag ]];then\n\techo never | sudo tee \/sys\/kernel\/mm\/transparent_hugepage\/defrag\nfi\n\nsudo systemctl restart mongod\nsleep 15\n\nif [ @@{calm_array_index}@@ -ne 0 ];then\n  exit\nfi\n\nsudo mongo --host ${INTERNAL_IP} --port 27017 --eval \"rs.initiate( $json )\""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"ConfigSet Configure"}],"description":"","message_list":[],"uuid":"9b669550-039e-4470-b3c3-37c4b8c45ee1","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"d11ad974_dag","uuid":"4bb494a4-185c-4395-ba8e-834978f7d291"},"name":"cb5b150c_runbook_cloned_1"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPConfigSetPackage","uuid":"372ca4be-1681-4dae-b58f-dcdc8ab92dc1"},"retries":"0","description":"","type":"DAG","uuid":"0ae576ae-7e56-4aad-bee6-2408f2aee168","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"85c85e82_dag"}],"description":"","message_list":[],"uuid":"01d4da76-969d-4e7c-8ab0-a92157c51b0e","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"85c85e82_dag","uuid":"0ae576ae-7e56-4aad-bee6-2408f2aee168"},"name":"485b8651_runbook_cloned_1"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Install_Crb_372ca4be_1681_4dae_b58f_dcdc8ab92dc1"}],"description":"","message_list":[],"uuid":"219acc35-5551-488a-9c44-10f33d7fdcd8","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Package_372ca4be_1681_4dae_b58f_dcdc8ab92dc1","uuid":"aee00c13-4d24-406d-909f-4f9d2a7c4d27"},"name":"SYS_GEN__Runbook_Package_372ca4be_1681_4dae_b58f_dcdc8ab92dc1"}},{"description":"System action for creating an application","message_list":[],"uuid":"f05fe059-c906-4b70-b570-a6058eb0f59b","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPConfigSetPackage","uuid":"372ca4be-1681-4dae-b58f-dcdc8ab92dc1"},"retries":"0","description":"","type":"DAG","uuid":"d059f547-0ec3-45a9-aa98-0210bdc7d0e5","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_372ca4be_1681_4dae_b58f_dcdc8ab92dc1","uuid":"65d2c36f-d3aa-422b-a68d-3882a6535fc4"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"2a70d9f2-e1c6-4413-8336-5d96b6492932"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"41b992c0-6108-4c38-b09f-481a142f4637"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"2a70d9f2-e1c6-4413-8336-5d96b6492932"},"edge_type":"inherent","type":"","uuid":"fa9b930b-5d57-4baf-aef3-520e57e1e226","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"41b992c0-6108-4c38-b09f-481a142f4637"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_372ca4be_1681_4dae_b58f_dcdc8ab92dc1","uuid":"65d2c36f-d3aa-422b-a68d-3882a6535fc4"},"edge_type":"inherent","type":"","uuid":"825fd7f9-bd29-40a0-9c18-eb5b1bf49d83","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"2a70d9f2-e1c6-4413-8336-5d96b6492932"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_372ca4be_1681_4dae_b58f_dcdc8ab92dc1"},{"target_any_local_reference":{"kind":"app_package","name":"GCPConfigSetPackage","uuid":"372ca4be-1681-4dae-b58f-dcdc8ab92dc1"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"65d2c36f-d3aa-422b-a68d-3882a6535fc4","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_372ca4be_1681_4dae_b58f_dcdc8ab92dc1","uuid":"219acc35-5551-488a-9c44-10f33d7fdcd8"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_372ca4be_1681_4dae_b58f_dcdc8ab92dc1"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"2a70d9f2-e1c6-4413-8336-5d96b6492932","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0a879260_runbook","uuid":"741de02d-b511-4b87-8b94-a1b0b74e0fb7"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"41b992c0-6108-4c38-b09f-481a142f4637","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"f4695758_runbook","uuid":"0c2528e9-82d6-40bc-9b4d-721eabd37ead"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd"}],"description":"","message_list":[],"uuid":"1b61046c-9a27-4689-9f4a-5ebced70374c","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_372ca4be_1681_4dae_b58f_dcdc8ab92dc1","uuid":"d059f547-0ec3-45a9-aa98-0210bdc7d0e5"},"name":"SYS_GEN__Runbook_Package_372ca4be_1681_4dae_b58f_dcdc8ab92dc1"}},{"description":"System action for uninstalling an application","message_list":[],"uuid":"6e1c449c-9077-496e-b58a-532ff5c87a40","name":"action_uninstall","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPConfigSetPackage","uuid":"372ca4be-1681-4dae-b58f-dcdc8ab92dc1"},"retries":"0","description":"","type":"DAG","uuid":"41ba42ee-e296-43c8-b403-6bd1e05e6050","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Uninstall_Crb_372ca4be_1681_4dae_b58f_dcdc8ab92dc1","uuid":"f66b2fd6-0fe6-44d6-880b-0e2ea7fc88f3"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Package_372ca4be_1681_4dae_b58f_dcdc8ab92dc1"},{"target_any_local_reference":{"kind":"app_package","name":"GCPConfigSetPackage","uuid":"372ca4be-1681-4dae-b58f-dcdc8ab92dc1"},"retries":"0","description":"","type":"CUSTOM_PACKAGE_UNINSTALL","uuid":"f66b2fd6-0fe6-44d6-880b-0e2ea7fc88f3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPConfigSetPackage","uuid":"372ca4be-1681-4dae-b58f-dcdc8ab92dc1"},"retries":"0","description":"","type":"DAG","uuid":"4bb494a4-185c-4395-ba8e-834978f7d291","child_tasks_local_reference_list":[{"kind":"app_task","name":"ConfigSet Install","uuid":"d0d33ea1-5baf-48ed-ae79-7cf7c663a899"},{"kind":"app_task","name":"ConfigSet Configure","uuid":"aee03a41-5129-446c-b706-0062cf5640b9"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"ConfigSet Install","uuid":"d0d33ea1-5baf-48ed-ae79-7cf7c663a899"},"edge_type":"user_defined","type":"","uuid":"5f66bef1-c604-48a5-b64d-c822e24cc001","to_task_reference":{"kind":"app_task","name":"ConfigSet Configure","uuid":"aee03a41-5129-446c-b706-0062cf5640b9"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"d11ad974_dag"},{"target_any_local_reference":{"kind":"app_package","name":"GCPConfigSetPackage","uuid":"372ca4be-1681-4dae-b58f-dcdc8ab92dc1"},"retries":"0","description":"","type":"EXEC","uuid":"d0d33ea1-5baf-48ed-ae79-7cf7c663a899","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nVERSION=\"@@{MONGO_VERSION}@@\"\nDATA_PATH=\"@@{DATA_PATH}@@\"\nJOURNAL_PATH=\"@@{JOURNAL_PATH}@@\"\nLOG_PATH=\"@@{LOG_PATH}@@\"\nsudo hostnamectl set-hostname --static @@{name}@@\n\ncat > \/tmp\/set-hostnames.py <<EOF\n#!\/usr\/bin\/python\nimport re\nconfig_ips=\"@@{calm_array_private_ip_address}@@\"\ndata_ips=\"@@{GCPDataSet.private_ip_address}@@\"\nrouter_ips=\"@@{GCPRouter.private_ip_address}@@\"\n\nhostfile = open('\/etc\/hosts', 'r').read()\nprint hostfile\nhostfile = re.sub('\\n#MONGODB-BEGIN.*?#MONGODB-END', '', hostfile, flags=re.DOTALL)\nhostfile += \"#MONGODB-BEGIN\\n\"\ncount=1\nfor ip in config_ips.split(','):\n  hostfile += ip + \" config\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in data_ips.split(','):\n  hostfile += ip + \" data\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in router_ips.split(','):\n  hostfile += ip + \" router\" + str(count) + \".mongodb\\n\"\n  count += 1\nhostfile += \"#MONGODB-END\\n\"\nopen('\/etc\/hosts', 'w').write(hostfile)\nEOF\n\nsudo python \/tmp\/set-hostnames.py\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho '[mongodb-org-3.4]\nname=MongoDB Repository\nbaseurl=https:\/\/repo.mongodb.org\/yum\/redhat\/$releasever\/mongodb-org\/3.4\/x86_64\/\ngpgcheck=1\nenabled=1\ngpgkey=https:\/\/www.mongodb.org\/static\/pgp\/server-3.4.asc' | sudo tee \/etc\/yum.repos.d\/mongodb-3.4.repo\n\nsudo yum update -y --quiet\nsudo yum install -y --quiet mongodb-org-${VERSION} mongodb-org-server-${VERSION} mongodb-org-shell-${VERSION} mongodb-org-mongos-${VERSION} mongodb-org-tools-${VERSION}\n\necho 'exclude=mongodb-org*' | sudo tee -a \/etc\/yum.conf\n\nsudo mkdir -p ${DATA_PATH} ${JOURNAL_PATH} ${LOG_PATH}\nsudo ln -s ${JOURNAL_PATH} ${DATA_PATH}\/journal\nsudo chown -R mongod:mongod ${DATA_PATH} ${JOURNAL_PATH} ${LOG_PATH}"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"ConfigSet Install"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"EXEC","uuid":"aee03a41-5129-446c-b706-0062cf5640b9","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nCONFIG_SRV_IPS=\"@@{calm_array_private_ip_address}@@\"\nDATA_PATH=\"@@{DATA_PATH}@@\"\nINTERNAL_IP=\"@@{private_ip_address}@@\"\n\nsudo sed -i 's\/bindIp:\/#bindIp:\/g' \/etc\/mongod.conf\nsudo sed -i \"s#\/var\/lib\/mongo#${DATA_PATH}#g\" \/etc\/mongod.conf\nsudo sed -i 's\/#sharding:\/sharding:\\n  clusterRole: configsvr\/g' \/etc\/mongod.conf\nsudo sed -i 's\/#replication:\/replication:\\n  replSetName: configReplSet\/g' \/etc\/mongod.conf\n\n\nconfig_ips=$(echo \"${CONFIG_SRV_IPS}\" | sed 's\/^,\/\/' | sed 's\/,$\/\/' | tr \",\" \"\\n\")\nconfig_cnt=0\nconfig_str=\"\"\n\nfor config in $config_ips\ndo\n  config_str=$config_str\"{\\\"_id\\\": $config_cnt, host:\\\"$config:27017\\\"},\"\n  config_cnt=$(($config_cnt + 1))\ndone\nconfig_str=`echo $config_str | sed 's\/,$\/\/'`\njson=$(cat <<EOF\n{\n  \"_id\": \"configReplSet\",\n  \"members\": [\n    $config_str\n  ]\n}\nEOF\n)\n\nif [[ -f \/sys\/kernel\/mm\/transparent_hugepage\/enabled ]];then\n\techo never | sudo tee \/sys\/kernel\/mm\/transparent_hugepage\/enabled\nfi\nif [[ -f \/sys\/kernel\/mm\/transparent_hugepage\/defrag ]];then\n\techo never | sudo tee \/sys\/kernel\/mm\/transparent_hugepage\/defrag\nfi\n\nsudo systemctl restart mongod\nsleep 15\n\nif [ @@{calm_array_index}@@ -ne 0 ];then\n  exit\nfi\n\nsudo mongo --host ${INTERNAL_IP} --port 27017 --eval \"rs.initiate( $json )\""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"ConfigSet Configure"}],"description":"","message_list":[],"uuid":"9b669550-039e-4470-b3c3-37c4b8c45ee1","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"d11ad974_dag","uuid":"4bb494a4-185c-4395-ba8e-834978f7d291"},"name":"cb5b150c_runbook_cloned_1"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPConfigSetPackage","uuid":"372ca4be-1681-4dae-b58f-dcdc8ab92dc1"},"retries":"0","description":"","type":"DAG","uuid":"0ae576ae-7e56-4aad-bee6-2408f2aee168","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"85c85e82_dag"}],"description":"","message_list":[],"uuid":"01d4da76-969d-4e7c-8ab0-a92157c51b0e","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"85c85e82_dag","uuid":"0ae576ae-7e56-4aad-bee6-2408f2aee168"},"name":"485b8651_runbook_cloned_1"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Uninstall_Crb_372ca4be_1681_4dae_b58f_dcdc8ab92dc1"}],"description":"","message_list":[],"uuid":"15b69a38-c57e-49ff-8515-1c95bec94c46","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Package_372ca4be_1681_4dae_b58f_dcdc8ab92dc1","uuid":"41ba42ee-e296-43c8-b403-6bd1e05e6050"},"name":"SYS_GEN__Runbook_Package_372ca4be_1681_4dae_b58f_dcdc8ab92dc1"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"0d30bbe3-346b-4bfa-bfc1-e34538441512","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPConfigSetPackage","uuid":"372ca4be-1681-4dae-b58f-dcdc8ab92dc1"},"retries":"0","description":"","type":"DAG","uuid":"4365b91b-7669-4b4b-8ce0-cc1665ff63a8","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"9c630286-5806-4d25-978f-17ffac9e8be9"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"d6ca2c26-9df9-45ae-b912-7163060a74e3"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_372ca4be_1681_4dae_b58f_dcdc8ab92dc1","uuid":"1e64809d-1e9b-416a-8044-8473c840ee56"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"9c630286-5806-4d25-978f-17ffac9e8be9"},"edge_type":"inherent","type":"","uuid":"3c175f7b-7de0-4500-b92e-2bec7eafb7d5","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"d6ca2c26-9df9-45ae-b912-7163060a74e3"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"d6ca2c26-9df9-45ae-b912-7163060a74e3"},"edge_type":"inherent","type":"","uuid":"d02c7013-4bfc-48b7-bc97-1ade8958be3f","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_372ca4be_1681_4dae_b58f_dcdc8ab92dc1","uuid":"1e64809d-1e9b-416a-8044-8473c840ee56"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_372ca4be_1681_4dae_b58f_dcdc8ab92dc1"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"9c630286-5806-4d25-978f-17ffac9e8be9","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"a33b20bd_runbook","uuid":"e6335ceb-f00b-4ec5-8425-3864e1897a7d"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"d6ca2c26-9df9-45ae-b912-7163060a74e3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"3c3538b9_runbook","uuid":"8625e87a-c851-44ac-9a8c-6808a1ac5574"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd"},{"target_any_local_reference":{"kind":"app_package","name":"GCPConfigSetPackage","uuid":"372ca4be-1681-4dae-b58f-dcdc8ab92dc1"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"1e64809d-1e9b-416a-8044-8473c840ee56","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_372ca4be_1681_4dae_b58f_dcdc8ab92dc1","uuid":"15b69a38-c57e-49ff-8515-1c95bec94c46"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_372ca4be_1681_4dae_b58f_dcdc8ab92dc1"}],"description":"","message_list":[],"uuid":"32bcc76a-42aa-4c41-acf7-69a7d996ef3d","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_372ca4be_1681_4dae_b58f_dcdc8ab92dc1","uuid":"4365b91b-7669-4b4b-8ce0-cc1665ff63a8"},"name":"SYS_GEN__Runbook_Package_372ca4be_1681_4dae_b58f_dcdc8ab92dc1"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"7f1d0f44-e461-434a-8778-d6d6e195f7c9","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPConfigSetPackage","uuid":"372ca4be-1681-4dae-b58f-dcdc8ab92dc1"},"retries":"0","description":"","type":"DAG","uuid":"9c475204-de67-4e0b-a601-78e45b520c96","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"aaef0d93-cd2e-419f-947b-37c5e447a548"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_372ca4be_1681_4dae_b58f_dcdc8ab92dc1","uuid":"93f6c0e0-9cb9-490f-973b-0da21f502871"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"aaef0d93-cd2e-419f-947b-37c5e447a548"},"edge_type":"inherent","type":"","uuid":"f6472d64-16b1-49ab-889b-c12921e247cd","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_372ca4be_1681_4dae_b58f_dcdc8ab92dc1","uuid":"93f6c0e0-9cb9-490f-973b-0da21f502871"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_372ca4be_1681_4dae_b58f_dcdc8ab92dc1"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"aaef0d93-cd2e-419f-947b-37c5e447a548","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"71c44ff6-8283-4578-8e15-dbf648d09ee4"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd"},{"target_any_local_reference":{"kind":"app_package","name":"GCPConfigSetPackage","uuid":"372ca4be-1681-4dae-b58f-dcdc8ab92dc1"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"93f6c0e0-9cb9-490f-973b-0da21f502871","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_372ca4be_1681_4dae_b58f_dcdc8ab92dc1"}],"description":"","message_list":[],"uuid":"8ca80397-d19f-4a8b-85a1-a01660295f2b","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_372ca4be_1681_4dae_b58f_dcdc8ab92dc1","uuid":"9c475204-de67-4e0b-a601-78e45b520c96"},"name":"SYS_GEN__Runbook_Package_372ca4be_1681_4dae_b58f_dcdc8ab92dc1"}},{"description":"System action for starting an application","message_list":[],"uuid":"8824a478-73a6-4330-970a-75c8e968a49c","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPConfigSetPackage","uuid":"372ca4be-1681-4dae-b58f-dcdc8ab92dc1"},"retries":"0","description":"","type":"DAG","uuid":"ab094070-c112-4cfb-8f2b-10e6e1657d37","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"b7afd25e-cb38-423f-8b82-94792f4c5f16"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_372ca4be_1681_4dae_b58f_dcdc8ab92dc1"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"b7afd25e-cb38-423f-8b82-94792f4c5f16","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"f4695758_runbook","uuid":"0c2528e9-82d6-40bc-9b4d-721eabd37ead"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd"}],"description":"","message_list":[],"uuid":"31ceadf1-2eb5-4318-a993-273404bb38cd","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_372ca4be_1681_4dae_b58f_dcdc8ab92dc1","uuid":"ab094070-c112-4cfb-8f2b-10e6e1657d37"},"name":"SYS_GEN__Runbook_Package_372ca4be_1681_4dae_b58f_dcdc8ab92dc1"}},{"description":"System action for restarting an application","message_list":[],"uuid":"6d9881ac-3cb0-4dcd-be25-3c8be5fc3cbd","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPConfigSetPackage","uuid":"372ca4be-1681-4dae-b58f-dcdc8ab92dc1"},"retries":"0","description":"","type":"DAG","uuid":"e356e470-9edb-48ab-acc6-99a2e9a2076b","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"90efe650-d200-4b11-a58f-2bb3a3e4f8e4"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_372ca4be_1681_4dae_b58f_dcdc8ab92dc1"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"90efe650-d200-4b11-a58f-2bb3a3e4f8e4","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"b7169291_runbook","uuid":"7c36f5f8-9e8b-4f97-b855-438dc7eb8f3d"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd"}],"description":"","message_list":[],"uuid":"b42f26e0-8e86-4325-85b5-d1b829ab5e80","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_372ca4be_1681_4dae_b58f_dcdc8ab92dc1","uuid":"e356e470-9edb-48ab-acc6-99a2e9a2076b"},"name":"SYS_GEN__Runbook_Package_372ca4be_1681_4dae_b58f_dcdc8ab92dc1"}},{"description":"System action for stopping an application","message_list":[],"uuid":"b4b01360-9240-4d65-b4e1-bedcdc2b429c","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPConfigSetPackage","uuid":"372ca4be-1681-4dae-b58f-dcdc8ab92dc1"},"retries":"0","description":"","type":"DAG","uuid":"c41bf14c-6b17-4030-ac02-d2f162fb0736","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"13f56591-47c8-41be-9e46-42b7dbe70960"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_372ca4be_1681_4dae_b58f_dcdc8ab92dc1"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"13f56591-47c8-41be-9e46-42b7dbe70960","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"a33b20bd_runbook","uuid":"e6335ceb-f00b-4ec5-8425-3864e1897a7d"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd"}],"description":"","message_list":[],"uuid":"276a64b9-5362-4788-8aba-47ad5c466f39","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_372ca4be_1681_4dae_b58f_dcdc8ab92dc1","uuid":"c41bf14c-6b17-4030-ac02-d2f162fb0736"},"name":"SYS_GEN__Runbook_Package_372ca4be_1681_4dae_b58f_dcdc8ab92dc1"}}],"message_list":[],"service_local_reference_list":[{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"}],"uuid":"372ca4be-1681-4dae-b58f-dcdc8ab92dc1","state":"ACTIVE","version":"","editables":{},"type":"DEB","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPConfigSetPackage","uuid":"372ca4be-1681-4dae-b58f-dcdc8ab92dc1"},"retries":"0","description":"","type":"DAG","uuid":"4bb494a4-185c-4395-ba8e-834978f7d291","child_tasks_local_reference_list":[{"kind":"app_task","name":"ConfigSet Install","uuid":"d0d33ea1-5baf-48ed-ae79-7cf7c663a899"},{"kind":"app_task","name":"ConfigSet Configure","uuid":"aee03a41-5129-446c-b706-0062cf5640b9"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"ConfigSet Install","uuid":"d0d33ea1-5baf-48ed-ae79-7cf7c663a899"},"edge_type":"user_defined","type":"","uuid":"5f66bef1-c604-48a5-b64d-c822e24cc001","to_task_reference":{"kind":"app_task","name":"ConfigSet Configure","uuid":"aee03a41-5129-446c-b706-0062cf5640b9"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"d11ad974_dag"},{"target_any_local_reference":{"kind":"app_package","name":"GCPConfigSetPackage","uuid":"372ca4be-1681-4dae-b58f-dcdc8ab92dc1"},"retries":"0","description":"","type":"EXEC","uuid":"d0d33ea1-5baf-48ed-ae79-7cf7c663a899","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nVERSION=\"@@{MONGO_VERSION}@@\"\nDATA_PATH=\"@@{DATA_PATH}@@\"\nJOURNAL_PATH=\"@@{JOURNAL_PATH}@@\"\nLOG_PATH=\"@@{LOG_PATH}@@\"\nsudo hostnamectl set-hostname --static @@{name}@@\n\ncat > \/tmp\/set-hostnames.py <<EOF\n#!\/usr\/bin\/python\nimport re\nconfig_ips=\"@@{calm_array_private_ip_address}@@\"\ndata_ips=\"@@{GCPDataSet.private_ip_address}@@\"\nrouter_ips=\"@@{GCPRouter.private_ip_address}@@\"\n\nhostfile = open('\/etc\/hosts', 'r').read()\nprint hostfile\nhostfile = re.sub('\\n#MONGODB-BEGIN.*?#MONGODB-END', '', hostfile, flags=re.DOTALL)\nhostfile += \"#MONGODB-BEGIN\\n\"\ncount=1\nfor ip in config_ips.split(','):\n  hostfile += ip + \" config\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in data_ips.split(','):\n  hostfile += ip + \" data\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in router_ips.split(','):\n  hostfile += ip + \" router\" + str(count) + \".mongodb\\n\"\n  count += 1\nhostfile += \"#MONGODB-END\\n\"\nopen('\/etc\/hosts', 'w').write(hostfile)\nEOF\n\nsudo python \/tmp\/set-hostnames.py\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho '[mongodb-org-3.4]\nname=MongoDB Repository\nbaseurl=https:\/\/repo.mongodb.org\/yum\/redhat\/$releasever\/mongodb-org\/3.4\/x86_64\/\ngpgcheck=1\nenabled=1\ngpgkey=https:\/\/www.mongodb.org\/static\/pgp\/server-3.4.asc' | sudo tee \/etc\/yum.repos.d\/mongodb-3.4.repo\n\nsudo yum update -y --quiet\nsudo yum install -y --quiet mongodb-org-${VERSION} mongodb-org-server-${VERSION} mongodb-org-shell-${VERSION} mongodb-org-mongos-${VERSION} mongodb-org-tools-${VERSION}\n\necho 'exclude=mongodb-org*' | sudo tee -a \/etc\/yum.conf\n\nsudo mkdir -p ${DATA_PATH} ${JOURNAL_PATH} ${LOG_PATH}\nsudo ln -s ${JOURNAL_PATH} ${DATA_PATH}\/journal\nsudo chown -R mongod:mongod ${DATA_PATH} ${JOURNAL_PATH} ${LOG_PATH}"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"ConfigSet Install"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"EXEC","uuid":"aee03a41-5129-446c-b706-0062cf5640b9","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nCONFIG_SRV_IPS=\"@@{calm_array_private_ip_address}@@\"\nDATA_PATH=\"@@{DATA_PATH}@@\"\nINTERNAL_IP=\"@@{private_ip_address}@@\"\n\nsudo sed -i 's\/bindIp:\/#bindIp:\/g' \/etc\/mongod.conf\nsudo sed -i \"s#\/var\/lib\/mongo#${DATA_PATH}#g\" \/etc\/mongod.conf\nsudo sed -i 's\/#sharding:\/sharding:\\n  clusterRole: configsvr\/g' \/etc\/mongod.conf\nsudo sed -i 's\/#replication:\/replication:\\n  replSetName: configReplSet\/g' \/etc\/mongod.conf\n\n\nconfig_ips=$(echo \"${CONFIG_SRV_IPS}\" | sed 's\/^,\/\/' | sed 's\/,$\/\/' | tr \",\" \"\\n\")\nconfig_cnt=0\nconfig_str=\"\"\n\nfor config in $config_ips\ndo\n  config_str=$config_str\"{\\\"_id\\\": $config_cnt, host:\\\"$config:27017\\\"},\"\n  config_cnt=$(($config_cnt + 1))\ndone\nconfig_str=`echo $config_str | sed 's\/,$\/\/'`\njson=$(cat <<EOF\n{\n  \"_id\": \"configReplSet\",\n  \"members\": [\n    $config_str\n  ]\n}\nEOF\n)\n\nif [[ -f \/sys\/kernel\/mm\/transparent_hugepage\/enabled ]];then\n\techo never | sudo tee \/sys\/kernel\/mm\/transparent_hugepage\/enabled\nfi\nif [[ -f \/sys\/kernel\/mm\/transparent_hugepage\/defrag ]];then\n\techo never | sudo tee \/sys\/kernel\/mm\/transparent_hugepage\/defrag\nfi\n\nsudo systemctl restart mongod\nsleep 15\n\nif [ @@{calm_array_index}@@ -ne 0 ];then\n  exit\nfi\n\nsudo mongo --host ${INTERNAL_IP} --port 27017 --eval \"rs.initiate( $json )\""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"ConfigSet Configure"}],"description":"","message_list":[],"uuid":"9b669550-039e-4470-b3c3-37c4b8c45ee1","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"d11ad974_dag","uuid":"4bb494a4-185c-4395-ba8e-834978f7d291"},"name":"cb5b150c_runbook_cloned_1"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPConfigSetPackage","uuid":"372ca4be-1681-4dae-b58f-dcdc8ab92dc1"},"retries":"0","description":"","type":"DAG","uuid":"0ae576ae-7e56-4aad-bee6-2408f2aee168","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"85c85e82_dag"}],"description":"","message_list":[],"uuid":"01d4da76-969d-4e7c-8ab0-a92157c51b0e","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"85c85e82_dag","uuid":"0ae576ae-7e56-4aad-bee6-2408f2aee168"},"name":"485b8651_runbook_cloned_1"}},"variable_list":[],"name":"GCPConfigSetPackage"},{"description":"","action_list":[{"description":"System action for installing an application","message_list":[],"uuid":"6ed8b9cf-49e9-4aaf-8e2a-d67a3097e309","name":"action_install","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPDataSetPackage","uuid":"3a9a70da-e9cc-49ee-89f8-74b5337ea3ff"},"retries":"0","description":"","type":"DAG","uuid":"24280bba-df95-46fc-a637-93a22fbc38b8","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Install_Crb_3a9a70da_e9cc_49ee_89f8_74b5337ea3ff","uuid":"cf9aa309-4353-442b-a0d0-e46698662ca1"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Package_3a9a70da_e9cc_49ee_89f8_74b5337ea3ff"},{"target_any_local_reference":{"kind":"app_package","name":"GCPDataSetPackage","uuid":"3a9a70da-e9cc-49ee-89f8-74b5337ea3ff"},"retries":"0","description":"","type":"CUSTOM_PACKAGE_INSTALL","uuid":"cf9aa309-4353-442b-a0d0-e46698662ca1","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPDataSetPackage","uuid":"3a9a70da-e9cc-49ee-89f8-74b5337ea3ff"},"retries":"0","description":"","type":"DAG","uuid":"092a186e-4d37-4e3a-bf7d-5845f224fb6c","child_tasks_local_reference_list":[{"kind":"app_task","name":"DataSet Install","uuid":"e6e4c70e-f5fd-431e-b947-327108ffd263"},{"kind":"app_task","name":"DataSet Configure","uuid":"79c1d885-8542-443c-8e9c-538b37724648"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"DataSet Install","uuid":"e6e4c70e-f5fd-431e-b947-327108ffd263"},"edge_type":"user_defined","type":"","uuid":"19c4de4c-569b-4b3e-be5d-7f609c3b8230","to_task_reference":{"kind":"app_task","name":"DataSet Configure","uuid":"79c1d885-8542-443c-8e9c-538b37724648"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"48a6c51b_dag"},{"target_any_local_reference":{"kind":"app_package","name":"GCPDataSetPackage","uuid":"3a9a70da-e9cc-49ee-89f8-74b5337ea3ff"},"retries":"0","description":"","type":"EXEC","uuid":"e6e4c70e-f5fd-431e-b947-327108ffd263","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nVERSION=\"@@{MONGO_VERSION}@@\"\nDATA_PATH=\"@@{DATA_PATH}@@\"\nJOURNAL_PATH=\"@@{JOURNAL_PATH}@@\"\nLOG_PATH=\"@@{LOG_PATH}@@\"\nsudo hostnamectl set-hostname --static @@{name}@@\n\ncat > \/tmp\/set-hostnames.py <<EOF\n#!\/usr\/bin\/python\nimport re\nconfig_ips=\"@@{GCPConfigSet.private_ip_address}@@\"\ndata_ips=\"@@{calm_array_private_ip_address}@@\"\nrouter_ips=\"@@{GCPRouter.private_ip_address}@@\"\n\nhostfile = open('\/etc\/hosts', 'r').read()\nprint hostfile\nhostfile = re.sub('\\n#MONGODB-BEGIN.*?#MONGODB-END', '', hostfile, flags=re.DOTALL)\nhostfile += \"#MONGODB-BEGIN\\n\"\ncount=1\nfor ip in config_ips.split(','):\n  hostfile += ip + \" config\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in data_ips.split(','):\n  hostfile += ip + \" data\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in router_ips.split(','):\n  hostfile += ip + \" router\" + str(count) + \".mongodb\\n\"\n  count += 1\nhostfile += \"#MONGODB-END\\n\"\nopen('\/etc\/hosts', 'w').write(hostfile)\nEOF\n\nsudo python \/tmp\/set-hostnames.py\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho '[mongodb-org-3.4]\nname=MongoDB Repository\nbaseurl=https:\/\/repo.mongodb.org\/yum\/redhat\/$releasever\/mongodb-org\/3.4\/x86_64\/\ngpgcheck=1\nenabled=1\ngpgkey=https:\/\/www.mongodb.org\/static\/pgp\/server-3.4.asc' | sudo tee \/etc\/yum.repos.d\/mongodb-3.4.repo\n\nsudo yum update -y --quiet\nsudo yum install -y --quiet mongodb-org-${VERSION} mongodb-org-server-${VERSION} mongodb-org-shell-${VERSION} mongodb-org-mongos-${VERSION} mongodb-org-tools-${VERSION}\n\necho 'exclude=mongodb-org*' | sudo tee -a \/etc\/yum.conf\n\nsudo yum install -y --quiet lvm2 numactl lsscsi\nsudo lsscsi | awk '{print $NF}' | grep \/dev\/sd | grep -v sda | xargs sudo  pvcreate\n\nsudo vgcreate mongodata \/dev\/sdb \/dev\/sdc \/dev\/sdd \nsudo vgcreate mongojournal \/dev\/sde \nsudo vgcreate mongolog \/dev\/sdf\n\nsudo lvcreate -i 3 -l 100%VG -n mongodata mongodata\nsudo lvcreate -l 100%VG -n mongojournal mongojournal \nsudo lvcreate -l 100%VG -n mongolog mongolog\n\nsudo mkfs.xfs -K \/dev\/mapper\/mongodata-mongodata\nsudo mkfs.xfs -K \/dev\/mapper\/mongojournal-mongojournal\nsudo mkfs.xfs -K \/dev\/mapper\/mongolog-mongolog\n\nsudo mkdir -p ${DATA_PATH} ${JOURNAL_PATH} ${LOG_PATH}\n\necho \"\/dev\/mapper\/mongodata-mongodata ${DATA_PATH} xfs defaults,auto,noatime,noexec 0 0\n\/dev\/mapper\/mongojournal-mongojournal ${JOURNAL_PATH} xfs defaults,auto,noexec 0 0\n\/dev\/mapper\/mongolog-mongolog ${LOG_PATH} xfs defaults,auto,noexec 0 0\" | sudo tee -a \/etc\/fstab\nsudo mount -a\n\nsudo ln -s ${JOURNAL_PATH} ${DATA_PATH}\/journal\n\nsudo chown -R mongod:mongod ${DATA_PATH} ${JOURNAL_PATH} ${LOG_PATH}\n\nsudo blockdev --setra 32 \/dev\/dm-2\nsudo blockdev --getra \/dev\/dm-2\n\nsudo sysctl vm.swappiness=1\necho 'vm.swappiness=1' | sudo tee -a \/etc\/sysctl.conf\n"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"DataSet Install"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"EXEC","uuid":"79c1d885-8542-443c-8e9c-538b37724648","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nREPLICA_IPS=\"@@{calm_array_private_ip_address}@@\"\nDATA_PATH=\"@@{DATA_PATH}@@\"\nINTERNAL_IP=\"@@{private_ip_address}@@\"\nINDEX=@@{calm_array_index}@@\nNODES_PER_REPLICA_SET=@@{NODES_PER_REPLICA_SET}@@\nARRAY_REPLICA_IPS=$(echo ${REPLICA_IPS} | sed 's\/^,\/\/' | sed 's\/,$\/\/' | tr \",\" \"\\n\")\n\ntmp=$((${INDEX}+${NODES_PER_REPLICA_SET}))\nreplicasetNo=$((${tmp}\/${NODES_PER_REPLICA_SET}))\nreplicaSetName=\"dataReplSet${replicasetNo}\"\n\nsudo sed -i 's\/bindIp:\/#bindIp:\/g' \/etc\/mongod.conf\nsudo sed -i \"s#\/var\/lib\/mongo#${DATA_PATH}#g\" \/etc\/mongod.conf\nsudo sed -i \"s\/#replication:\/replication:\\n  replSetName: $replicaSetName\/g\" \/etc\/mongod.conf\nsudo sed -i 's\/#sharding:\/sharding:\\n  clusterRole: shardsvr\/g' \/etc\/mongod.conf\nsudo sed -i 's#  path: \/var\/log\/mongodb\/mongod.log#  path: \/mongodb\/log\/mongod.log#' \/etc\/mongod.conf\n\n### Getting replicaset members details \nreplica_cnt=0\ndeclare -a replicaset_members\n\nfor replica in $ARRAY_REPLICA_IPS\ndo\n  tmp=$((${replica_cnt}+${NODES_PER_REPLICA_SET}))\n  i=\"$((${tmp}\/${NODES_PER_REPLICA_SET}))\"\n  replicaset_members[$i]=${replicaset_members[$i]}\"{\\\"_id\\\": $replica_cnt, host:\\\"$replica:27017\\\"},\"\n  replica_cnt=$(($replica_cnt + 1))\ndone\n\nif [[ -f \/sys\/kernel\/mm\/transparent_hugepage\/enabled ]];then\n\techo never | sudo tee \/sys\/kernel\/mm\/transparent_hugepage\/enabled\nfi\nif [[ -f \/sys\/kernel\/mm\/transparent_hugepage\/defrag ]];then\n\techo never | sudo tee \/sys\/kernel\/mm\/transparent_hugepage\/defrag\nfi\n\nsudo systemctl restart mongod\nsleep 15\n\n### Initiating replicaset \njson=$(cat <<EOF\n{\n  \"_id\": \"$replicaSetName\",\n  \"members\": [ ${replicaset_members[$replicasetNo]}]\n}\nEOF\n)\nsudo mongo --host ${INTERNAL_IP} --port 27017 --eval \"rs.initiate( $json )\"\nsleep 2\n"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"DataSet Configure"}],"description":"","message_list":[],"uuid":"9798b220-6a6b-4871-8f94-cc9c76ed07b3","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"48a6c51b_dag","uuid":"092a186e-4d37-4e3a-bf7d-5845f224fb6c"},"name":"37c08a7f_runbook_cloned_1"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPDataSetPackage","uuid":"3a9a70da-e9cc-49ee-89f8-74b5337ea3ff"},"retries":"0","description":"","type":"DAG","uuid":"8b071e2b-8017-4041-820e-09d852988f87","child_tasks_local_reference_list":[{"kind":"app_task","name":"MoveDatabase","uuid":"19163970-0da3-4fe1-b3ee-a8206b97c3ae"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"8725d8b7_dag"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"EXEC","uuid":"19163970-0da3-4fe1-b3ee-a8206b97c3ae","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\n\nnode=$(echo \"@@{calm_array_address}@@\" | tr ',' '\\n' | wc -l)\n\nif [[ \"@@{calm_array_index}@@\" != \"$(($node-1))\" ]];then\n  exit 0\nfi\n\neval $(mongo --host router1.mongodb --port 27017 --quiet --eval 'db.adminCommand( { listShards: 1 } )' | python -c '\nimport json,sys\ndata=json.load(sys.stdin)\nprint \"HOST={}\".format(data[\"shards\"][len(data[\"shards\"])-1][\"host\"])\n')\neval $(mongo --host router1.mongodb --port 27017 --quiet --eval 'db.adminCommand( { listShards: 1 } )' | python -c '\nimport json,sys\ndata=json.load(sys.stdin)\nprint \"HOSTTOMOVE={}\".format(data[\"shards\"][@@{SHARD_TO_MOVE}@@-1][\"host\"])\n')\nhost_state=`mongo --host router1.mongodb --port 27017 --quiet --eval \"db.adminCommand({removeShard: '${HOST}'})['state']\"`\nif [[ \"$host_state\" == \"started\" ]] ; then\n  sleep 5\nfi\nhost_state=`mongo --host router1.mongodb --port 27017 --quiet --eval \"db.adminCommand({removeShard: '${HOST}'})['state']\"`\nif [[ \"$host_state\" == \"ongoing\" ]] ; then\n  if [[ \"@@{SHARD_TO_MOVE}@@\" == \"\" ]] ; then\n    echo \"Please enter the shard number value to move tables.\"\n    exit 1\n  fi\n  dbstomove=`mongo --host router1.mongodb --port 27017 --quiet --eval \"db.adminCommand({removeShard: '${HOST}'})['dbsToMove']\"`\n  eval $(echo $dbstomove | python -c 'import json,sys ; data=json.load(sys.stdin) ; print \"DBSTOMOVE={}\".format(\",\".join(data))')\n  for x in $(echo $DBSTOMOVE | tr \",\" \"\\n\") ; do\n     echo \"echo moving $x\"\n     mongo --host router1.mongodb --port 27017 --quiet --eval \"db.adminCommand({ movePrimary: '$x', to: '${HOSTTOMOVE}' })\"\n  done\n  mongo --host router1.mongodb --port 27017 --quiet --eval \"db.adminCommand({removeShard: '${HOST}'})\"\n  echo \"completed removing shard '${HOST}'\"\nelif [[ \"$host_state\" == \"completed\" ]] ; then\n  echo \"Host removal completed\"\nfi\n"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"MoveDatabase"}],"description":"","message_list":[],"uuid":"a0b11152-56b2-4441-b6c6-3bd1a815a108","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"8725d8b7_dag","uuid":"8b071e2b-8017-4041-820e-09d852988f87"},"name":"58209b81_runbook_cloned_1"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Install_Crb_3a9a70da_e9cc_49ee_89f8_74b5337ea3ff"}],"description":"","message_list":[],"uuid":"2bc9273d-b3d2-47ec-b7ad-154d3e9c4597","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Package_3a9a70da_e9cc_49ee_89f8_74b5337ea3ff","uuid":"24280bba-df95-46fc-a637-93a22fbc38b8"},"name":"SYS_GEN__Runbook_Package_3a9a70da_e9cc_49ee_89f8_74b5337ea3ff"}},{"description":"System action for creating an application","message_list":[],"uuid":"38284bdf-1e29-413c-8263-13f62c36b97e","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPDataSetPackage","uuid":"3a9a70da-e9cc-49ee-89f8-74b5337ea3ff"},"retries":"0","description":"","type":"DAG","uuid":"a0f90c54-2736-4cc2-81fd-047dd6d5947c","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_3a9a70da_e9cc_49ee_89f8_74b5337ea3ff","uuid":"f3199b34-b681-4ee4-b129-d048a107793f"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"fba3f1ce-9259-41eb-9cff-c8c53b6e247d"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"89c31559-7fe3-417d-b383-acb7af4e1141"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"fba3f1ce-9259-41eb-9cff-c8c53b6e247d"},"edge_type":"inherent","type":"","uuid":"df354db8-1627-4cf1-ac03-4db6734be99b","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"89c31559-7fe3-417d-b383-acb7af4e1141"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_3a9a70da_e9cc_49ee_89f8_74b5337ea3ff","uuid":"f3199b34-b681-4ee4-b129-d048a107793f"},"edge_type":"inherent","type":"","uuid":"b78d2eef-bbb7-4cc0-af70-e787c52219b8","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"fba3f1ce-9259-41eb-9cff-c8c53b6e247d"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_3a9a70da_e9cc_49ee_89f8_74b5337ea3ff"},{"target_any_local_reference":{"kind":"app_package","name":"GCPDataSetPackage","uuid":"3a9a70da-e9cc-49ee-89f8-74b5337ea3ff"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"f3199b34-b681-4ee4-b129-d048a107793f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_3a9a70da_e9cc_49ee_89f8_74b5337ea3ff","uuid":"2bc9273d-b3d2-47ec-b7ad-154d3e9c4597"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_3a9a70da_e9cc_49ee_89f8_74b5337ea3ff"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"fba3f1ce-9259-41eb-9cff-c8c53b6e247d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0bda2b69_runbook","uuid":"c08988e8-53fc-48b3-942d-00d118016989"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"89c31559-7fe3-417d-b383-acb7af4e1141","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0f1333dd_runbook","uuid":"43f16a26-e0b7-42a9-b2de-6e6d4147d381"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47"}],"description":"","message_list":[],"uuid":"2da639e5-220e-4947-acee-4283ef0c7b91","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_3a9a70da_e9cc_49ee_89f8_74b5337ea3ff","uuid":"a0f90c54-2736-4cc2-81fd-047dd6d5947c"},"name":"SYS_GEN__Runbook_Package_3a9a70da_e9cc_49ee_89f8_74b5337ea3ff"}},{"description":"System action for uninstalling an application","message_list":[],"uuid":"2832437c-6589-4503-89d9-aec816362ff3","name":"action_uninstall","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPDataSetPackage","uuid":"3a9a70da-e9cc-49ee-89f8-74b5337ea3ff"},"retries":"0","description":"","type":"DAG","uuid":"b6ad7638-020c-46f4-9368-dd6430c699dc","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Uninstall_Crb_3a9a70da_e9cc_49ee_89f8_74b5337ea3ff","uuid":"5d365e4d-5d11-4b18-bcda-d01dbc9bd89e"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Package_3a9a70da_e9cc_49ee_89f8_74b5337ea3ff"},{"target_any_local_reference":{"kind":"app_package","name":"GCPDataSetPackage","uuid":"3a9a70da-e9cc-49ee-89f8-74b5337ea3ff"},"retries":"0","description":"","type":"CUSTOM_PACKAGE_UNINSTALL","uuid":"5d365e4d-5d11-4b18-bcda-d01dbc9bd89e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPDataSetPackage","uuid":"3a9a70da-e9cc-49ee-89f8-74b5337ea3ff"},"retries":"0","description":"","type":"DAG","uuid":"092a186e-4d37-4e3a-bf7d-5845f224fb6c","child_tasks_local_reference_list":[{"kind":"app_task","name":"DataSet Install","uuid":"e6e4c70e-f5fd-431e-b947-327108ffd263"},{"kind":"app_task","name":"DataSet Configure","uuid":"79c1d885-8542-443c-8e9c-538b37724648"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"DataSet Install","uuid":"e6e4c70e-f5fd-431e-b947-327108ffd263"},"edge_type":"user_defined","type":"","uuid":"19c4de4c-569b-4b3e-be5d-7f609c3b8230","to_task_reference":{"kind":"app_task","name":"DataSet Configure","uuid":"79c1d885-8542-443c-8e9c-538b37724648"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"48a6c51b_dag"},{"target_any_local_reference":{"kind":"app_package","name":"GCPDataSetPackage","uuid":"3a9a70da-e9cc-49ee-89f8-74b5337ea3ff"},"retries":"0","description":"","type":"EXEC","uuid":"e6e4c70e-f5fd-431e-b947-327108ffd263","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nVERSION=\"@@{MONGO_VERSION}@@\"\nDATA_PATH=\"@@{DATA_PATH}@@\"\nJOURNAL_PATH=\"@@{JOURNAL_PATH}@@\"\nLOG_PATH=\"@@{LOG_PATH}@@\"\nsudo hostnamectl set-hostname --static @@{name}@@\n\ncat > \/tmp\/set-hostnames.py <<EOF\n#!\/usr\/bin\/python\nimport re\nconfig_ips=\"@@{GCPConfigSet.private_ip_address}@@\"\ndata_ips=\"@@{calm_array_private_ip_address}@@\"\nrouter_ips=\"@@{GCPRouter.private_ip_address}@@\"\n\nhostfile = open('\/etc\/hosts', 'r').read()\nprint hostfile\nhostfile = re.sub('\\n#MONGODB-BEGIN.*?#MONGODB-END', '', hostfile, flags=re.DOTALL)\nhostfile += \"#MONGODB-BEGIN\\n\"\ncount=1\nfor ip in config_ips.split(','):\n  hostfile += ip + \" config\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in data_ips.split(','):\n  hostfile += ip + \" data\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in router_ips.split(','):\n  hostfile += ip + \" router\" + str(count) + \".mongodb\\n\"\n  count += 1\nhostfile += \"#MONGODB-END\\n\"\nopen('\/etc\/hosts', 'w').write(hostfile)\nEOF\n\nsudo python \/tmp\/set-hostnames.py\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho '[mongodb-org-3.4]\nname=MongoDB Repository\nbaseurl=https:\/\/repo.mongodb.org\/yum\/redhat\/$releasever\/mongodb-org\/3.4\/x86_64\/\ngpgcheck=1\nenabled=1\ngpgkey=https:\/\/www.mongodb.org\/static\/pgp\/server-3.4.asc' | sudo tee \/etc\/yum.repos.d\/mongodb-3.4.repo\n\nsudo yum update -y --quiet\nsudo yum install -y --quiet mongodb-org-${VERSION} mongodb-org-server-${VERSION} mongodb-org-shell-${VERSION} mongodb-org-mongos-${VERSION} mongodb-org-tools-${VERSION}\n\necho 'exclude=mongodb-org*' | sudo tee -a \/etc\/yum.conf\n\nsudo yum install -y --quiet lvm2 numactl lsscsi\nsudo lsscsi | awk '{print $NF}' | grep \/dev\/sd | grep -v sda | xargs sudo  pvcreate\n\nsudo vgcreate mongodata \/dev\/sdb \/dev\/sdc \/dev\/sdd \nsudo vgcreate mongojournal \/dev\/sde \nsudo vgcreate mongolog \/dev\/sdf\n\nsudo lvcreate -i 3 -l 100%VG -n mongodata mongodata\nsudo lvcreate -l 100%VG -n mongojournal mongojournal \nsudo lvcreate -l 100%VG -n mongolog mongolog\n\nsudo mkfs.xfs -K \/dev\/mapper\/mongodata-mongodata\nsudo mkfs.xfs -K \/dev\/mapper\/mongojournal-mongojournal\nsudo mkfs.xfs -K \/dev\/mapper\/mongolog-mongolog\n\nsudo mkdir -p ${DATA_PATH} ${JOURNAL_PATH} ${LOG_PATH}\n\necho \"\/dev\/mapper\/mongodata-mongodata ${DATA_PATH} xfs defaults,auto,noatime,noexec 0 0\n\/dev\/mapper\/mongojournal-mongojournal ${JOURNAL_PATH} xfs defaults,auto,noexec 0 0\n\/dev\/mapper\/mongolog-mongolog ${LOG_PATH} xfs defaults,auto,noexec 0 0\" | sudo tee -a \/etc\/fstab\nsudo mount -a\n\nsudo ln -s ${JOURNAL_PATH} ${DATA_PATH}\/journal\n\nsudo chown -R mongod:mongod ${DATA_PATH} ${JOURNAL_PATH} ${LOG_PATH}\n\nsudo blockdev --setra 32 \/dev\/dm-2\nsudo blockdev --getra \/dev\/dm-2\n\nsudo sysctl vm.swappiness=1\necho 'vm.swappiness=1' | sudo tee -a \/etc\/sysctl.conf\n"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"DataSet Install"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"EXEC","uuid":"79c1d885-8542-443c-8e9c-538b37724648","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nREPLICA_IPS=\"@@{calm_array_private_ip_address}@@\"\nDATA_PATH=\"@@{DATA_PATH}@@\"\nINTERNAL_IP=\"@@{private_ip_address}@@\"\nINDEX=@@{calm_array_index}@@\nNODES_PER_REPLICA_SET=@@{NODES_PER_REPLICA_SET}@@\nARRAY_REPLICA_IPS=$(echo ${REPLICA_IPS} | sed 's\/^,\/\/' | sed 's\/,$\/\/' | tr \",\" \"\\n\")\n\ntmp=$((${INDEX}+${NODES_PER_REPLICA_SET}))\nreplicasetNo=$((${tmp}\/${NODES_PER_REPLICA_SET}))\nreplicaSetName=\"dataReplSet${replicasetNo}\"\n\nsudo sed -i 's\/bindIp:\/#bindIp:\/g' \/etc\/mongod.conf\nsudo sed -i \"s#\/var\/lib\/mongo#${DATA_PATH}#g\" \/etc\/mongod.conf\nsudo sed -i \"s\/#replication:\/replication:\\n  replSetName: $replicaSetName\/g\" \/etc\/mongod.conf\nsudo sed -i 's\/#sharding:\/sharding:\\n  clusterRole: shardsvr\/g' \/etc\/mongod.conf\nsudo sed -i 's#  path: \/var\/log\/mongodb\/mongod.log#  path: \/mongodb\/log\/mongod.log#' \/etc\/mongod.conf\n\n### Getting replicaset members details \nreplica_cnt=0\ndeclare -a replicaset_members\n\nfor replica in $ARRAY_REPLICA_IPS\ndo\n  tmp=$((${replica_cnt}+${NODES_PER_REPLICA_SET}))\n  i=\"$((${tmp}\/${NODES_PER_REPLICA_SET}))\"\n  replicaset_members[$i]=${replicaset_members[$i]}\"{\\\"_id\\\": $replica_cnt, host:\\\"$replica:27017\\\"},\"\n  replica_cnt=$(($replica_cnt + 1))\ndone\n\nif [[ -f \/sys\/kernel\/mm\/transparent_hugepage\/enabled ]];then\n\techo never | sudo tee \/sys\/kernel\/mm\/transparent_hugepage\/enabled\nfi\nif [[ -f \/sys\/kernel\/mm\/transparent_hugepage\/defrag ]];then\n\techo never | sudo tee \/sys\/kernel\/mm\/transparent_hugepage\/defrag\nfi\n\nsudo systemctl restart mongod\nsleep 15\n\n### Initiating replicaset \njson=$(cat <<EOF\n{\n  \"_id\": \"$replicaSetName\",\n  \"members\": [ ${replicaset_members[$replicasetNo]}]\n}\nEOF\n)\nsudo mongo --host ${INTERNAL_IP} --port 27017 --eval \"rs.initiate( $json )\"\nsleep 2\n"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"DataSet Configure"}],"description":"","message_list":[],"uuid":"9798b220-6a6b-4871-8f94-cc9c76ed07b3","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"48a6c51b_dag","uuid":"092a186e-4d37-4e3a-bf7d-5845f224fb6c"},"name":"37c08a7f_runbook_cloned_1"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPDataSetPackage","uuid":"3a9a70da-e9cc-49ee-89f8-74b5337ea3ff"},"retries":"0","description":"","type":"DAG","uuid":"8b071e2b-8017-4041-820e-09d852988f87","child_tasks_local_reference_list":[{"kind":"app_task","name":"MoveDatabase","uuid":"19163970-0da3-4fe1-b3ee-a8206b97c3ae"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"8725d8b7_dag"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"EXEC","uuid":"19163970-0da3-4fe1-b3ee-a8206b97c3ae","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\n\nnode=$(echo \"@@{calm_array_address}@@\" | tr ',' '\\n' | wc -l)\n\nif [[ \"@@{calm_array_index}@@\" != \"$(($node-1))\" ]];then\n  exit 0\nfi\n\neval $(mongo --host router1.mongodb --port 27017 --quiet --eval 'db.adminCommand( { listShards: 1 } )' | python -c '\nimport json,sys\ndata=json.load(sys.stdin)\nprint \"HOST={}\".format(data[\"shards\"][len(data[\"shards\"])-1][\"host\"])\n')\neval $(mongo --host router1.mongodb --port 27017 --quiet --eval 'db.adminCommand( { listShards: 1 } )' | python -c '\nimport json,sys\ndata=json.load(sys.stdin)\nprint \"HOSTTOMOVE={}\".format(data[\"shards\"][@@{SHARD_TO_MOVE}@@-1][\"host\"])\n')\nhost_state=`mongo --host router1.mongodb --port 27017 --quiet --eval \"db.adminCommand({removeShard: '${HOST}'})['state']\"`\nif [[ \"$host_state\" == \"started\" ]] ; then\n  sleep 5\nfi\nhost_state=`mongo --host router1.mongodb --port 27017 --quiet --eval \"db.adminCommand({removeShard: '${HOST}'})['state']\"`\nif [[ \"$host_state\" == \"ongoing\" ]] ; then\n  if [[ \"@@{SHARD_TO_MOVE}@@\" == \"\" ]] ; then\n    echo \"Please enter the shard number value to move tables.\"\n    exit 1\n  fi\n  dbstomove=`mongo --host router1.mongodb --port 27017 --quiet --eval \"db.adminCommand({removeShard: '${HOST}'})['dbsToMove']\"`\n  eval $(echo $dbstomove | python -c 'import json,sys ; data=json.load(sys.stdin) ; print \"DBSTOMOVE={}\".format(\",\".join(data))')\n  for x in $(echo $DBSTOMOVE | tr \",\" \"\\n\") ; do\n     echo \"echo moving $x\"\n     mongo --host router1.mongodb --port 27017 --quiet --eval \"db.adminCommand({ movePrimary: '$x', to: '${HOSTTOMOVE}' })\"\n  done\n  mongo --host router1.mongodb --port 27017 --quiet --eval \"db.adminCommand({removeShard: '${HOST}'})\"\n  echo \"completed removing shard '${HOST}'\"\nelif [[ \"$host_state\" == \"completed\" ]] ; then\n  echo \"Host removal completed\"\nfi\n"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"MoveDatabase"}],"description":"","message_list":[],"uuid":"a0b11152-56b2-4441-b6c6-3bd1a815a108","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"8725d8b7_dag","uuid":"8b071e2b-8017-4041-820e-09d852988f87"},"name":"58209b81_runbook_cloned_1"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Uninstall_Crb_3a9a70da_e9cc_49ee_89f8_74b5337ea3ff"}],"description":"","message_list":[],"uuid":"4ed3bae0-6e86-4637-9adb-01d3ef5ef980","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Package_3a9a70da_e9cc_49ee_89f8_74b5337ea3ff","uuid":"b6ad7638-020c-46f4-9368-dd6430c699dc"},"name":"SYS_GEN__Runbook_Package_3a9a70da_e9cc_49ee_89f8_74b5337ea3ff"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"35933204-f35e-4149-b278-9ba84cf453d7","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPDataSetPackage","uuid":"3a9a70da-e9cc-49ee-89f8-74b5337ea3ff"},"retries":"0","description":"","type":"DAG","uuid":"7c1aea41-6fb8-48d5-a0de-768a929920b4","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"415de025-3926-4936-9356-0f7af190a789"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"a10842f9-9ec4-4394-96a8-401940fd4c9b"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_3a9a70da_e9cc_49ee_89f8_74b5337ea3ff","uuid":"8c46aacb-16e8-440d-912b-fba799b1c7f4"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"415de025-3926-4936-9356-0f7af190a789"},"edge_type":"inherent","type":"","uuid":"69040fdb-5b96-4cc4-a992-c7a4a2c40ac5","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"a10842f9-9ec4-4394-96a8-401940fd4c9b"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"a10842f9-9ec4-4394-96a8-401940fd4c9b"},"edge_type":"inherent","type":"","uuid":"5de1e750-ac19-4997-89ab-0b890d5862eb","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_3a9a70da_e9cc_49ee_89f8_74b5337ea3ff","uuid":"8c46aacb-16e8-440d-912b-fba799b1c7f4"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_3a9a70da_e9cc_49ee_89f8_74b5337ea3ff"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"415de025-3926-4936-9356-0f7af190a789","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"85883b0a_runbook","uuid":"42cf4c9d-d9e5-435e-b222-f2d33a05683f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"a10842f9-9ec4-4394-96a8-401940fd4c9b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"036f3879_runbook","uuid":"c6545ccb-d141-45bd-bf59-cf1e44946785"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47"},{"target_any_local_reference":{"kind":"app_package","name":"GCPDataSetPackage","uuid":"3a9a70da-e9cc-49ee-89f8-74b5337ea3ff"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"8c46aacb-16e8-440d-912b-fba799b1c7f4","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_3a9a70da_e9cc_49ee_89f8_74b5337ea3ff","uuid":"4ed3bae0-6e86-4637-9adb-01d3ef5ef980"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_3a9a70da_e9cc_49ee_89f8_74b5337ea3ff"}],"description":"","message_list":[],"uuid":"fdccbe3e-d722-43ae-9b5c-856a8be402f3","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_3a9a70da_e9cc_49ee_89f8_74b5337ea3ff","uuid":"7c1aea41-6fb8-48d5-a0de-768a929920b4"},"name":"SYS_GEN__Runbook_Package_3a9a70da_e9cc_49ee_89f8_74b5337ea3ff"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"468f6c3e-5d56-4e02-abc3-0b2b26fb7ba4","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPDataSetPackage","uuid":"3a9a70da-e9cc-49ee-89f8-74b5337ea3ff"},"retries":"0","description":"","type":"DAG","uuid":"fd4378fd-efa5-41c3-a49f-4d50bc229c1f","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"a42f7cb7-5a12-4d2c-a74c-d34d31927d6c"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_3a9a70da_e9cc_49ee_89f8_74b5337ea3ff","uuid":"ce489f78-298f-4b7b-8a86-a7afa4570f78"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"a42f7cb7-5a12-4d2c-a74c-d34d31927d6c"},"edge_type":"inherent","type":"","uuid":"7cd90bcc-8398-4a7c-bf8b-838535739e62","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_3a9a70da_e9cc_49ee_89f8_74b5337ea3ff","uuid":"ce489f78-298f-4b7b-8a86-a7afa4570f78"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_3a9a70da_e9cc_49ee_89f8_74b5337ea3ff"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"a42f7cb7-5a12-4d2c-a74c-d34d31927d6c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"433fbe65-0fc7-4649-a088-87d5660f88a6"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47"},{"target_any_local_reference":{"kind":"app_package","name":"GCPDataSetPackage","uuid":"3a9a70da-e9cc-49ee-89f8-74b5337ea3ff"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"ce489f78-298f-4b7b-8a86-a7afa4570f78","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_3a9a70da_e9cc_49ee_89f8_74b5337ea3ff"}],"description":"","message_list":[],"uuid":"e4620601-3167-413d-b96b-dcb2a8c006b0","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_3a9a70da_e9cc_49ee_89f8_74b5337ea3ff","uuid":"fd4378fd-efa5-41c3-a49f-4d50bc229c1f"},"name":"SYS_GEN__Runbook_Package_3a9a70da_e9cc_49ee_89f8_74b5337ea3ff"}},{"description":"System action for starting an application","message_list":[],"uuid":"8c0377ed-bf33-4da4-a5ef-f20599f57ec6","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPDataSetPackage","uuid":"3a9a70da-e9cc-49ee-89f8-74b5337ea3ff"},"retries":"0","description":"","type":"DAG","uuid":"104eaf01-421c-43df-9aee-a963aa8d0b5a","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"79b27280-a877-48a8-85ac-c2ca3263deff"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_3a9a70da_e9cc_49ee_89f8_74b5337ea3ff"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"79b27280-a877-48a8-85ac-c2ca3263deff","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0f1333dd_runbook","uuid":"43f16a26-e0b7-42a9-b2de-6e6d4147d381"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47"}],"description":"","message_list":[],"uuid":"1177372a-9816-4778-8fac-64214e5b2d23","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_3a9a70da_e9cc_49ee_89f8_74b5337ea3ff","uuid":"104eaf01-421c-43df-9aee-a963aa8d0b5a"},"name":"SYS_GEN__Runbook_Package_3a9a70da_e9cc_49ee_89f8_74b5337ea3ff"}},{"description":"System action for restarting an application","message_list":[],"uuid":"970d80b1-ed7a-479a-b31d-6d871143fb7a","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPDataSetPackage","uuid":"3a9a70da-e9cc-49ee-89f8-74b5337ea3ff"},"retries":"0","description":"","type":"DAG","uuid":"006d2b1d-9a09-4ed3-b60f-01921661d6dd","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"a5eb26b1-f1f8-4e20-8176-014f123eb908"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_3a9a70da_e9cc_49ee_89f8_74b5337ea3ff"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"a5eb26b1-f1f8-4e20-8176-014f123eb908","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"4f7b2559_runbook","uuid":"03856e37-e1bf-4b7c-95bb-87bf81c6c940"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47"}],"description":"","message_list":[],"uuid":"e980ff9d-d4f1-40e9-a361-ad59452fa68c","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_3a9a70da_e9cc_49ee_89f8_74b5337ea3ff","uuid":"006d2b1d-9a09-4ed3-b60f-01921661d6dd"},"name":"SYS_GEN__Runbook_Package_3a9a70da_e9cc_49ee_89f8_74b5337ea3ff"}},{"description":"System action for stopping an application","message_list":[],"uuid":"8856c26c-18c5-44e0-b14d-8eb15526c3ef","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPDataSetPackage","uuid":"3a9a70da-e9cc-49ee-89f8-74b5337ea3ff"},"retries":"0","description":"","type":"DAG","uuid":"113b8ba3-eed2-4a19-bcb2-20c892f72f94","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"319a6965-138c-4f56-a2dd-51dbbd69b3fe"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_3a9a70da_e9cc_49ee_89f8_74b5337ea3ff"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"319a6965-138c-4f56-a2dd-51dbbd69b3fe","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"85883b0a_runbook","uuid":"42cf4c9d-d9e5-435e-b222-f2d33a05683f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47"}],"description":"","message_list":[],"uuid":"bb950229-5e73-411e-a36b-aa85e58d891a","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_3a9a70da_e9cc_49ee_89f8_74b5337ea3ff","uuid":"113b8ba3-eed2-4a19-bcb2-20c892f72f94"},"name":"SYS_GEN__Runbook_Package_3a9a70da_e9cc_49ee_89f8_74b5337ea3ff"}}],"message_list":[],"service_local_reference_list":[{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"}],"uuid":"3a9a70da-e9cc-49ee-89f8-74b5337ea3ff","state":"ACTIVE","version":"","editables":{},"type":"DEB","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPDataSetPackage","uuid":"3a9a70da-e9cc-49ee-89f8-74b5337ea3ff"},"retries":"0","description":"","type":"DAG","uuid":"092a186e-4d37-4e3a-bf7d-5845f224fb6c","child_tasks_local_reference_list":[{"kind":"app_task","name":"DataSet Install","uuid":"e6e4c70e-f5fd-431e-b947-327108ffd263"},{"kind":"app_task","name":"DataSet Configure","uuid":"79c1d885-8542-443c-8e9c-538b37724648"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"DataSet Install","uuid":"e6e4c70e-f5fd-431e-b947-327108ffd263"},"edge_type":"user_defined","type":"","uuid":"19c4de4c-569b-4b3e-be5d-7f609c3b8230","to_task_reference":{"kind":"app_task","name":"DataSet Configure","uuid":"79c1d885-8542-443c-8e9c-538b37724648"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"48a6c51b_dag"},{"target_any_local_reference":{"kind":"app_package","name":"GCPDataSetPackage","uuid":"3a9a70da-e9cc-49ee-89f8-74b5337ea3ff"},"retries":"0","description":"","type":"EXEC","uuid":"e6e4c70e-f5fd-431e-b947-327108ffd263","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nVERSION=\"@@{MONGO_VERSION}@@\"\nDATA_PATH=\"@@{DATA_PATH}@@\"\nJOURNAL_PATH=\"@@{JOURNAL_PATH}@@\"\nLOG_PATH=\"@@{LOG_PATH}@@\"\nsudo hostnamectl set-hostname --static @@{name}@@\n\ncat > \/tmp\/set-hostnames.py <<EOF\n#!\/usr\/bin\/python\nimport re\nconfig_ips=\"@@{GCPConfigSet.private_ip_address}@@\"\ndata_ips=\"@@{calm_array_private_ip_address}@@\"\nrouter_ips=\"@@{GCPRouter.private_ip_address}@@\"\n\nhostfile = open('\/etc\/hosts', 'r').read()\nprint hostfile\nhostfile = re.sub('\\n#MONGODB-BEGIN.*?#MONGODB-END', '', hostfile, flags=re.DOTALL)\nhostfile += \"#MONGODB-BEGIN\\n\"\ncount=1\nfor ip in config_ips.split(','):\n  hostfile += ip + \" config\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in data_ips.split(','):\n  hostfile += ip + \" data\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in router_ips.split(','):\n  hostfile += ip + \" router\" + str(count) + \".mongodb\\n\"\n  count += 1\nhostfile += \"#MONGODB-END\\n\"\nopen('\/etc\/hosts', 'w').write(hostfile)\nEOF\n\nsudo python \/tmp\/set-hostnames.py\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho '[mongodb-org-3.4]\nname=MongoDB Repository\nbaseurl=https:\/\/repo.mongodb.org\/yum\/redhat\/$releasever\/mongodb-org\/3.4\/x86_64\/\ngpgcheck=1\nenabled=1\ngpgkey=https:\/\/www.mongodb.org\/static\/pgp\/server-3.4.asc' | sudo tee \/etc\/yum.repos.d\/mongodb-3.4.repo\n\nsudo yum update -y --quiet\nsudo yum install -y --quiet mongodb-org-${VERSION} mongodb-org-server-${VERSION} mongodb-org-shell-${VERSION} mongodb-org-mongos-${VERSION} mongodb-org-tools-${VERSION}\n\necho 'exclude=mongodb-org*' | sudo tee -a \/etc\/yum.conf\n\nsudo yum install -y --quiet lvm2 numactl lsscsi\nsudo lsscsi | awk '{print $NF}' | grep \/dev\/sd | grep -v sda | xargs sudo  pvcreate\n\nsudo vgcreate mongodata \/dev\/sdb \/dev\/sdc \/dev\/sdd \nsudo vgcreate mongojournal \/dev\/sde \nsudo vgcreate mongolog \/dev\/sdf\n\nsudo lvcreate -i 3 -l 100%VG -n mongodata mongodata\nsudo lvcreate -l 100%VG -n mongojournal mongojournal \nsudo lvcreate -l 100%VG -n mongolog mongolog\n\nsudo mkfs.xfs -K \/dev\/mapper\/mongodata-mongodata\nsudo mkfs.xfs -K \/dev\/mapper\/mongojournal-mongojournal\nsudo mkfs.xfs -K \/dev\/mapper\/mongolog-mongolog\n\nsudo mkdir -p ${DATA_PATH} ${JOURNAL_PATH} ${LOG_PATH}\n\necho \"\/dev\/mapper\/mongodata-mongodata ${DATA_PATH} xfs defaults,auto,noatime,noexec 0 0\n\/dev\/mapper\/mongojournal-mongojournal ${JOURNAL_PATH} xfs defaults,auto,noexec 0 0\n\/dev\/mapper\/mongolog-mongolog ${LOG_PATH} xfs defaults,auto,noexec 0 0\" | sudo tee -a \/etc\/fstab\nsudo mount -a\n\nsudo ln -s ${JOURNAL_PATH} ${DATA_PATH}\/journal\n\nsudo chown -R mongod:mongod ${DATA_PATH} ${JOURNAL_PATH} ${LOG_PATH}\n\nsudo blockdev --setra 32 \/dev\/dm-2\nsudo blockdev --getra \/dev\/dm-2\n\nsudo sysctl vm.swappiness=1\necho 'vm.swappiness=1' | sudo tee -a \/etc\/sysctl.conf\n"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"DataSet Install"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"EXEC","uuid":"79c1d885-8542-443c-8e9c-538b37724648","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nREPLICA_IPS=\"@@{calm_array_private_ip_address}@@\"\nDATA_PATH=\"@@{DATA_PATH}@@\"\nINTERNAL_IP=\"@@{private_ip_address}@@\"\nINDEX=@@{calm_array_index}@@\nNODES_PER_REPLICA_SET=@@{NODES_PER_REPLICA_SET}@@\nARRAY_REPLICA_IPS=$(echo ${REPLICA_IPS} | sed 's\/^,\/\/' | sed 's\/,$\/\/' | tr \",\" \"\\n\")\n\ntmp=$((${INDEX}+${NODES_PER_REPLICA_SET}))\nreplicasetNo=$((${tmp}\/${NODES_PER_REPLICA_SET}))\nreplicaSetName=\"dataReplSet${replicasetNo}\"\n\nsudo sed -i 's\/bindIp:\/#bindIp:\/g' \/etc\/mongod.conf\nsudo sed -i \"s#\/var\/lib\/mongo#${DATA_PATH}#g\" \/etc\/mongod.conf\nsudo sed -i \"s\/#replication:\/replication:\\n  replSetName: $replicaSetName\/g\" \/etc\/mongod.conf\nsudo sed -i 's\/#sharding:\/sharding:\\n  clusterRole: shardsvr\/g' \/etc\/mongod.conf\nsudo sed -i 's#  path: \/var\/log\/mongodb\/mongod.log#  path: \/mongodb\/log\/mongod.log#' \/etc\/mongod.conf\n\n### Getting replicaset members details \nreplica_cnt=0\ndeclare -a replicaset_members\n\nfor replica in $ARRAY_REPLICA_IPS\ndo\n  tmp=$((${replica_cnt}+${NODES_PER_REPLICA_SET}))\n  i=\"$((${tmp}\/${NODES_PER_REPLICA_SET}))\"\n  replicaset_members[$i]=${replicaset_members[$i]}\"{\\\"_id\\\": $replica_cnt, host:\\\"$replica:27017\\\"},\"\n  replica_cnt=$(($replica_cnt + 1))\ndone\n\nif [[ -f \/sys\/kernel\/mm\/transparent_hugepage\/enabled ]];then\n\techo never | sudo tee \/sys\/kernel\/mm\/transparent_hugepage\/enabled\nfi\nif [[ -f \/sys\/kernel\/mm\/transparent_hugepage\/defrag ]];then\n\techo never | sudo tee \/sys\/kernel\/mm\/transparent_hugepage\/defrag\nfi\n\nsudo systemctl restart mongod\nsleep 15\n\n### Initiating replicaset \njson=$(cat <<EOF\n{\n  \"_id\": \"$replicaSetName\",\n  \"members\": [ ${replicaset_members[$replicasetNo]}]\n}\nEOF\n)\nsudo mongo --host ${INTERNAL_IP} --port 27017 --eval \"rs.initiate( $json )\"\nsleep 2\n"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"DataSet Configure"}],"description":"","message_list":[],"uuid":"9798b220-6a6b-4871-8f94-cc9c76ed07b3","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"48a6c51b_dag","uuid":"092a186e-4d37-4e3a-bf7d-5845f224fb6c"},"name":"37c08a7f_runbook_cloned_1"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPDataSetPackage","uuid":"3a9a70da-e9cc-49ee-89f8-74b5337ea3ff"},"retries":"0","description":"","type":"DAG","uuid":"8b071e2b-8017-4041-820e-09d852988f87","child_tasks_local_reference_list":[{"kind":"app_task","name":"MoveDatabase","uuid":"19163970-0da3-4fe1-b3ee-a8206b97c3ae"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"8725d8b7_dag"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"EXEC","uuid":"19163970-0da3-4fe1-b3ee-a8206b97c3ae","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\n\nnode=$(echo \"@@{calm_array_address}@@\" | tr ',' '\\n' | wc -l)\n\nif [[ \"@@{calm_array_index}@@\" != \"$(($node-1))\" ]];then\n  exit 0\nfi\n\neval $(mongo --host router1.mongodb --port 27017 --quiet --eval 'db.adminCommand( { listShards: 1 } )' | python -c '\nimport json,sys\ndata=json.load(sys.stdin)\nprint \"HOST={}\".format(data[\"shards\"][len(data[\"shards\"])-1][\"host\"])\n')\neval $(mongo --host router1.mongodb --port 27017 --quiet --eval 'db.adminCommand( { listShards: 1 } )' | python -c '\nimport json,sys\ndata=json.load(sys.stdin)\nprint \"HOSTTOMOVE={}\".format(data[\"shards\"][@@{SHARD_TO_MOVE}@@-1][\"host\"])\n')\nhost_state=`mongo --host router1.mongodb --port 27017 --quiet --eval \"db.adminCommand({removeShard: '${HOST}'})['state']\"`\nif [[ \"$host_state\" == \"started\" ]] ; then\n  sleep 5\nfi\nhost_state=`mongo --host router1.mongodb --port 27017 --quiet --eval \"db.adminCommand({removeShard: '${HOST}'})['state']\"`\nif [[ \"$host_state\" == \"ongoing\" ]] ; then\n  if [[ \"@@{SHARD_TO_MOVE}@@\" == \"\" ]] ; then\n    echo \"Please enter the shard number value to move tables.\"\n    exit 1\n  fi\n  dbstomove=`mongo --host router1.mongodb --port 27017 --quiet --eval \"db.adminCommand({removeShard: '${HOST}'})['dbsToMove']\"`\n  eval $(echo $dbstomove | python -c 'import json,sys ; data=json.load(sys.stdin) ; print \"DBSTOMOVE={}\".format(\",\".join(data))')\n  for x in $(echo $DBSTOMOVE | tr \",\" \"\\n\") ; do\n     echo \"echo moving $x\"\n     mongo --host router1.mongodb --port 27017 --quiet --eval \"db.adminCommand({ movePrimary: '$x', to: '${HOSTTOMOVE}' })\"\n  done\n  mongo --host router1.mongodb --port 27017 --quiet --eval \"db.adminCommand({removeShard: '${HOST}'})\"\n  echo \"completed removing shard '${HOST}'\"\nelif [[ \"$host_state\" == \"completed\" ]] ; then\n  echo \"Host removal completed\"\nfi\n"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"MoveDatabase"}],"description":"","message_list":[],"uuid":"a0b11152-56b2-4441-b6c6-3bd1a815a108","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"8725d8b7_dag","uuid":"8b071e2b-8017-4041-820e-09d852988f87"},"name":"58209b81_runbook_cloned_1"}},"variable_list":[],"name":"GCPDataSetPackage"},{"description":"","action_list":[{"description":"System action for installing an application","message_list":[],"uuid":"13bf7349-4556-42cc-8a5f-1452aea312a0","name":"action_install","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureRouterPackage","uuid":"d0dc31b0-2ee6-484a-b025-b0f9d437419b"},"retries":"0","description":"","type":"DAG","uuid":"2926077a-9f1c-4891-91bd-2a68c64277c7","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Install_Crb_d0dc31b0_2ee6_484a_b025_b0f9d437419b","uuid":"5554f59d-5608-4175-8abf-4ea55222d81b"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Package_d0dc31b0_2ee6_484a_b025_b0f9d437419b"},{"target_any_local_reference":{"kind":"app_package","name":"AzureRouterPackage","uuid":"d0dc31b0-2ee6-484a-b025-b0f9d437419b"},"retries":"0","description":"","type":"CUSTOM_PACKAGE_INSTALL","uuid":"5554f59d-5608-4175-8abf-4ea55222d81b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureRouterPackage","uuid":"d0dc31b0-2ee6-484a-b025-b0f9d437419b"},"retries":"0","description":"","type":"DAG","uuid":"9d927ccc-4cd1-475f-b54a-345e3e0610e1","child_tasks_local_reference_list":[{"kind":"app_task","name":"Router Install","uuid":"52ccb50e-589b-4f28-88ea-ed737290d2f6"},{"kind":"app_task","name":"Router Configure","uuid":"b93de238-7c02-48b3-84a3-0b08d98eb31f"},{"kind":"app_task","name":"Start Shard","uuid":"49a9b9b9-f619-4384-beda-5e89c3540abc"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Router Install","uuid":"52ccb50e-589b-4f28-88ea-ed737290d2f6"},"edge_type":"user_defined","type":"","uuid":"e2c40bb4-d0c0-46d2-9bc1-9ed847d38c6c","to_task_reference":{"kind":"app_task","name":"Router Configure","uuid":"b93de238-7c02-48b3-84a3-0b08d98eb31f"}},{"from_task_reference":{"kind":"app_task","name":"Router Configure","uuid":"b93de238-7c02-48b3-84a3-0b08d98eb31f"},"edge_type":"user_defined","type":"","uuid":"37667be7-b9b6-4f7f-b252-181fd1afb2d3","to_task_reference":{"kind":"app_task","name":"Start Shard","uuid":"49a9b9b9-f619-4384-beda-5e89c3540abc"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"8a377b06_dag"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"EXEC","uuid":"52ccb50e-589b-4f28-88ea-ed737290d2f6","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nVERSION=\"@@{MONGO_VERSION}@@\"\nDATA_PATH=\"@@{DATA_PATH}@@\"\nJOURNAL_PATH=\"@@{JOURNAL_PATH}@@\"\nLOG_PATH=\"@@{LOG_PATH}@@\"\nsudo hostnamectl set-hostname --static @@{name}@@\n\ncat > \/tmp\/set-hostnames.py <<EOF\n#!\/usr\/bin\/python\nimport re\nconfig_ips=\"@@{AzureConfigSet.private_ip_address}@@\"\ndata_ips=\"@@{AzureDataSet.private_ip_address}@@\"\nrouter_ips=\"@@{calm_array_private_ip_address}@@\"\n\nhostfile = open('\/etc\/hosts', 'r').read()\nprint hostfile\nhostfile = re.sub('\\n#MONGODB-BEGIN.*?#MONGODB-END', '', hostfile, flags=re.DOTALL)\nhostfile += \"#MONGODB-BEGIN\\n\"\ncount=1\nfor ip in config_ips.split(','):\n  hostfile += ip + \" config\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in data_ips.split(','):\n  hostfile += ip + \" data\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in router_ips.split(','):\n  hostfile += ip + \" router\" + str(count) + \".mongodb\\n\"\n  count += 1\nhostfile += \"#MONGODB-END\\n\"\nopen('\/etc\/hosts', 'w').write(hostfile)\nEOF\n\nsudo python \/tmp\/set-hostnames.py\n\nif [[ -f \/sys\/kernel\/mm\/transparent_hugepage\/enabled ]];then\n\techo never | sudo tee \/sys\/kernel\/mm\/transparent_hugepage\/enabled\nfi\nif [[ -f \/sys\/kernel\/mm\/transparent_hugepage\/defrag ]];then\n\techo never | sudo tee \/sys\/kernel\/mm\/transparent_hugepage\/defrag\nfi\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho '[mongodb-org-3.4]\nname=MongoDB Repository\nbaseurl=https:\/\/repo.mongodb.org\/yum\/redhat\/$releasever\/mongodb-org\/3.4\/x86_64\/\ngpgcheck=1\nenabled=1\ngpgkey=https:\/\/www.mongodb.org\/static\/pgp\/server-3.4.asc' | sudo tee \/etc\/yum.repos.d\/mongodb-3.4.repo\n\nsudo yum update -y --quiet\nsudo yum install -y --quiet mongodb-org-${VERSION} mongodb-org-server-${VERSION} mongodb-org-shell-${VERSION} mongodb-org-mongos-${VERSION} mongodb-org-tools-${VERSION}\n\necho 'exclude=mongodb-org*' | sudo tee -a \/etc\/yum.conf\n\nsudo mkdir -p ${DATA_PATH} ${JOURNAL_PATH} ${LOG_PATH}\nsudo ln -s ${JOURNAL_PATH} ${DATA_PATH}\/journal\nsudo chown -R mongod:mongod ${DATA_PATH} ${JOURNAL_PATH} ${LOG_PATH}"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Router Install"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"EXEC","uuid":"b93de238-7c02-48b3-84a3-0b08d98eb31f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nCONFIG_SRV_IPS=\"@@{ConfigSet.private_ip_address}@@\"\nDATA_PATH=\"@@{DATA_PATH}@@\"\n\nconfig_ips=$(echo \"${CONFIG_SRV_IPS}\" | sed 's\/^,\/\/' | sed 's\/,$\/\/' | sed 's\/,\/:27017,\/g')\nconfig_ips=$config_ips\":27017\"\n\nsudo sed -i 's\/bindIp:\/#bindIp:\/g' \/etc\/mongod.conf\nsudo sed -i \"s#\/var\/lib\/mongo#${DATA_PATH}#g\" \/etc\/mongod.conf\n\necho \"[Unit]\nDescription=High-performance, schema-free document-oriented database\nAfter=network.target\nDocumentation=https:\/\/docs.mongodb.org\/manual\n\n[Service]\nUser=mongod\nGroup=mongod\nEnvironment=\\\"OPTIONS=--port 27017 --configdb configReplSet\/$config_ips --logpath \/var\/log\/mongodb\/mongos.log\\\"\nExecStart=\/usr\/bin\/mongos \\$OPTIONS\nPermissionsStartOnly=true\nPIDFile=\/var\/run\/mongodb\/mongos.pid\n# file size\nLimitFSIZE=infinity\n# cpu time\nLimitCPU=infinity\n# virtual memory size\nLimitAS=infinity\n# open files\nLimitNOFILE=64000\n# processes\/threads\nLimitNPROC=64000\n# total threads (user+kernel)\nTasksMax=infinity\nTasksAccounting=false\n# Recommended limits for for mongod as specified in\n# http:\/\/docs.mongodb.org\/manual\/reference\/ulimit\/#recommended-settings\n\n[Install]\nWantedBy=multi-user.target\" | sudo tee \/usr\/lib\/systemd\/system\/mongos.service\n\nsudo systemctl start mongos\n#sudo -u mongod -b mongos --port 27017 --configdb  --logpath \/var\/log\/mongodb\/mongos.log \n\nsleep 2"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Router Configure"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"EXEC","uuid":"49a9b9b9-f619-4384-beda-5e89c3540abc","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\nNODES_PER_REPLICA_SET=\"@@{NODES_PER_REPLICA_SET}@@\"\nINTERNAL_IP=\"@@{private_ip_address}@@\"\nREPLICA_IPS=($(echo @@{DataSet.private_ip_address}@@ | sed 's\/^,\/\/' | sed 's\/,$\/\/' | tr \",\" \"\\n\"))\nnoOfShards=$((${#REPLICA_IPS[@]}\/${NODES_PER_REPLICA_SET}))\n\ncount=0\nfor ((number=1;number <= $noOfShards;number++))\ndo\n  replicaSetName=\"dataReplSet${number}\"\n  sudo mongo --host ${INTERNAL_IP} --port 27017 --eval \"sh.addShard( \\\"$replicaSetName\/${REPLICA_IPS[${count}]}:27017\\\" )\"\n  count=$(($count + ${NODES_PER_REPLICA_SET}))\ndone"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Start Shard"}],"description":"","message_list":[],"uuid":"a974dc52-38c3-4d11-be31-d1d394c5cd77","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"8a377b06_dag","uuid":"9d927ccc-4cd1-475f-b54a-345e3e0610e1"},"name":"fa32c0ec_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureRouterPackage","uuid":"d0dc31b0-2ee6-484a-b025-b0f9d437419b"},"retries":"0","description":"","type":"DAG","uuid":"116c8399-ff46-49a4-9c47-7d5cd56e2e70","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"4a931cb7_dag"}],"description":"","message_list":[],"uuid":"94889c82-cda0-459d-880e-39e0f55047c7","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"4a931cb7_dag","uuid":"116c8399-ff46-49a4-9c47-7d5cd56e2e70"},"name":"b1a83e89_runbook"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Install_Crb_d0dc31b0_2ee6_484a_b025_b0f9d437419b"}],"description":"","message_list":[],"uuid":"570680f9-a75f-4ca4-b041-8820230e673e","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Package_d0dc31b0_2ee6_484a_b025_b0f9d437419b","uuid":"2926077a-9f1c-4891-91bd-2a68c64277c7"},"name":"SYS_GEN__Runbook_Package_d0dc31b0_2ee6_484a_b025_b0f9d437419b"}},{"description":"System action for creating an application","message_list":[],"uuid":"4f672ed1-8076-4f53-8689-9dae27fe8b1b","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureRouterPackage","uuid":"d0dc31b0-2ee6-484a-b025-b0f9d437419b"},"retries":"0","description":"","type":"DAG","uuid":"ab1aa574-6d64-4f74-a51a-0c12c877ff19","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_d0dc31b0_2ee6_484a_b025_b0f9d437419b","uuid":"22ddd86e-6b55-471e-8ac5-bc89316fb3fd"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"59449f83-bf72-4e50-a804-697b47e904d5"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"6e536ded-c2ac-47fd-a3f2-f4b9c2b1605d"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"59449f83-bf72-4e50-a804-697b47e904d5"},"edge_type":"inherent","type":"","uuid":"d0738368-c84f-41fc-b770-674437c2df03","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"6e536ded-c2ac-47fd-a3f2-f4b9c2b1605d"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_d0dc31b0_2ee6_484a_b025_b0f9d437419b","uuid":"22ddd86e-6b55-471e-8ac5-bc89316fb3fd"},"edge_type":"inherent","type":"","uuid":"5588ab58-8390-4143-802f-a0c9e82c64e4","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"59449f83-bf72-4e50-a804-697b47e904d5"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_d0dc31b0_2ee6_484a_b025_b0f9d437419b"},{"target_any_local_reference":{"kind":"app_package","name":"AzureRouterPackage","uuid":"d0dc31b0-2ee6-484a-b025-b0f9d437419b"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"22ddd86e-6b55-471e-8ac5-bc89316fb3fd","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_d0dc31b0_2ee6_484a_b025_b0f9d437419b","uuid":"570680f9-a75f-4ca4-b041-8820230e673e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_d0dc31b0_2ee6_484a_b025_b0f9d437419b"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"59449f83-bf72-4e50-a804-697b47e904d5","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"f678ba44_runbook","uuid":"6f256634-e57a-41ea-a837-438a40018db7"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"6e536ded-c2ac-47fd-a3f2-f4b9c2b1605d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"6729beee_runbook","uuid":"28341bf4-2766-4701-8747-1722ed61db3c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e"}],"description":"","message_list":[],"uuid":"4f8529fd-5309-4bd2-bd40-18fac14cc760","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_d0dc31b0_2ee6_484a_b025_b0f9d437419b","uuid":"ab1aa574-6d64-4f74-a51a-0c12c877ff19"},"name":"SYS_GEN__Runbook_Package_d0dc31b0_2ee6_484a_b025_b0f9d437419b"}},{"description":"System action for uninstalling an application","message_list":[],"uuid":"a0e8bb1c-fa7d-4930-980f-cce3e658c458","name":"action_uninstall","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureRouterPackage","uuid":"d0dc31b0-2ee6-484a-b025-b0f9d437419b"},"retries":"0","description":"","type":"DAG","uuid":"14e0ea61-7875-4dd3-a229-39babbc379e6","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Uninstall_Crb_d0dc31b0_2ee6_484a_b025_b0f9d437419b","uuid":"6d55d767-ce78-43f1-93a5-5544ba540414"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Package_d0dc31b0_2ee6_484a_b025_b0f9d437419b"},{"target_any_local_reference":{"kind":"app_package","name":"AzureRouterPackage","uuid":"d0dc31b0-2ee6-484a-b025-b0f9d437419b"},"retries":"0","description":"","type":"CUSTOM_PACKAGE_UNINSTALL","uuid":"6d55d767-ce78-43f1-93a5-5544ba540414","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureRouterPackage","uuid":"d0dc31b0-2ee6-484a-b025-b0f9d437419b"},"retries":"0","description":"","type":"DAG","uuid":"9d927ccc-4cd1-475f-b54a-345e3e0610e1","child_tasks_local_reference_list":[{"kind":"app_task","name":"Router Install","uuid":"52ccb50e-589b-4f28-88ea-ed737290d2f6"},{"kind":"app_task","name":"Router Configure","uuid":"b93de238-7c02-48b3-84a3-0b08d98eb31f"},{"kind":"app_task","name":"Start Shard","uuid":"49a9b9b9-f619-4384-beda-5e89c3540abc"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Router Install","uuid":"52ccb50e-589b-4f28-88ea-ed737290d2f6"},"edge_type":"user_defined","type":"","uuid":"e2c40bb4-d0c0-46d2-9bc1-9ed847d38c6c","to_task_reference":{"kind":"app_task","name":"Router Configure","uuid":"b93de238-7c02-48b3-84a3-0b08d98eb31f"}},{"from_task_reference":{"kind":"app_task","name":"Router Configure","uuid":"b93de238-7c02-48b3-84a3-0b08d98eb31f"},"edge_type":"user_defined","type":"","uuid":"37667be7-b9b6-4f7f-b252-181fd1afb2d3","to_task_reference":{"kind":"app_task","name":"Start Shard","uuid":"49a9b9b9-f619-4384-beda-5e89c3540abc"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"8a377b06_dag"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"EXEC","uuid":"52ccb50e-589b-4f28-88ea-ed737290d2f6","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nVERSION=\"@@{MONGO_VERSION}@@\"\nDATA_PATH=\"@@{DATA_PATH}@@\"\nJOURNAL_PATH=\"@@{JOURNAL_PATH}@@\"\nLOG_PATH=\"@@{LOG_PATH}@@\"\nsudo hostnamectl set-hostname --static @@{name}@@\n\ncat > \/tmp\/set-hostnames.py <<EOF\n#!\/usr\/bin\/python\nimport re\nconfig_ips=\"@@{AzureConfigSet.private_ip_address}@@\"\ndata_ips=\"@@{AzureDataSet.private_ip_address}@@\"\nrouter_ips=\"@@{calm_array_private_ip_address}@@\"\n\nhostfile = open('\/etc\/hosts', 'r').read()\nprint hostfile\nhostfile = re.sub('\\n#MONGODB-BEGIN.*?#MONGODB-END', '', hostfile, flags=re.DOTALL)\nhostfile += \"#MONGODB-BEGIN\\n\"\ncount=1\nfor ip in config_ips.split(','):\n  hostfile += ip + \" config\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in data_ips.split(','):\n  hostfile += ip + \" data\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in router_ips.split(','):\n  hostfile += ip + \" router\" + str(count) + \".mongodb\\n\"\n  count += 1\nhostfile += \"#MONGODB-END\\n\"\nopen('\/etc\/hosts', 'w').write(hostfile)\nEOF\n\nsudo python \/tmp\/set-hostnames.py\n\nif [[ -f \/sys\/kernel\/mm\/transparent_hugepage\/enabled ]];then\n\techo never | sudo tee \/sys\/kernel\/mm\/transparent_hugepage\/enabled\nfi\nif [[ -f \/sys\/kernel\/mm\/transparent_hugepage\/defrag ]];then\n\techo never | sudo tee \/sys\/kernel\/mm\/transparent_hugepage\/defrag\nfi\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho '[mongodb-org-3.4]\nname=MongoDB Repository\nbaseurl=https:\/\/repo.mongodb.org\/yum\/redhat\/$releasever\/mongodb-org\/3.4\/x86_64\/\ngpgcheck=1\nenabled=1\ngpgkey=https:\/\/www.mongodb.org\/static\/pgp\/server-3.4.asc' | sudo tee \/etc\/yum.repos.d\/mongodb-3.4.repo\n\nsudo yum update -y --quiet\nsudo yum install -y --quiet mongodb-org-${VERSION} mongodb-org-server-${VERSION} mongodb-org-shell-${VERSION} mongodb-org-mongos-${VERSION} mongodb-org-tools-${VERSION}\n\necho 'exclude=mongodb-org*' | sudo tee -a \/etc\/yum.conf\n\nsudo mkdir -p ${DATA_PATH} ${JOURNAL_PATH} ${LOG_PATH}\nsudo ln -s ${JOURNAL_PATH} ${DATA_PATH}\/journal\nsudo chown -R mongod:mongod ${DATA_PATH} ${JOURNAL_PATH} ${LOG_PATH}"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Router Install"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"EXEC","uuid":"b93de238-7c02-48b3-84a3-0b08d98eb31f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nCONFIG_SRV_IPS=\"@@{ConfigSet.private_ip_address}@@\"\nDATA_PATH=\"@@{DATA_PATH}@@\"\n\nconfig_ips=$(echo \"${CONFIG_SRV_IPS}\" | sed 's\/^,\/\/' | sed 's\/,$\/\/' | sed 's\/,\/:27017,\/g')\nconfig_ips=$config_ips\":27017\"\n\nsudo sed -i 's\/bindIp:\/#bindIp:\/g' \/etc\/mongod.conf\nsudo sed -i \"s#\/var\/lib\/mongo#${DATA_PATH}#g\" \/etc\/mongod.conf\n\necho \"[Unit]\nDescription=High-performance, schema-free document-oriented database\nAfter=network.target\nDocumentation=https:\/\/docs.mongodb.org\/manual\n\n[Service]\nUser=mongod\nGroup=mongod\nEnvironment=\\\"OPTIONS=--port 27017 --configdb configReplSet\/$config_ips --logpath \/var\/log\/mongodb\/mongos.log\\\"\nExecStart=\/usr\/bin\/mongos \\$OPTIONS\nPermissionsStartOnly=true\nPIDFile=\/var\/run\/mongodb\/mongos.pid\n# file size\nLimitFSIZE=infinity\n# cpu time\nLimitCPU=infinity\n# virtual memory size\nLimitAS=infinity\n# open files\nLimitNOFILE=64000\n# processes\/threads\nLimitNPROC=64000\n# total threads (user+kernel)\nTasksMax=infinity\nTasksAccounting=false\n# Recommended limits for for mongod as specified in\n# http:\/\/docs.mongodb.org\/manual\/reference\/ulimit\/#recommended-settings\n\n[Install]\nWantedBy=multi-user.target\" | sudo tee \/usr\/lib\/systemd\/system\/mongos.service\n\nsudo systemctl start mongos\n#sudo -u mongod -b mongos --port 27017 --configdb  --logpath \/var\/log\/mongodb\/mongos.log \n\nsleep 2"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Router Configure"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"EXEC","uuid":"49a9b9b9-f619-4384-beda-5e89c3540abc","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\nNODES_PER_REPLICA_SET=\"@@{NODES_PER_REPLICA_SET}@@\"\nINTERNAL_IP=\"@@{private_ip_address}@@\"\nREPLICA_IPS=($(echo @@{DataSet.private_ip_address}@@ | sed 's\/^,\/\/' | sed 's\/,$\/\/' | tr \",\" \"\\n\"))\nnoOfShards=$((${#REPLICA_IPS[@]}\/${NODES_PER_REPLICA_SET}))\n\ncount=0\nfor ((number=1;number <= $noOfShards;number++))\ndo\n  replicaSetName=\"dataReplSet${number}\"\n  sudo mongo --host ${INTERNAL_IP} --port 27017 --eval \"sh.addShard( \\\"$replicaSetName\/${REPLICA_IPS[${count}]}:27017\\\" )\"\n  count=$(($count + ${NODES_PER_REPLICA_SET}))\ndone"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Start Shard"}],"description":"","message_list":[],"uuid":"a974dc52-38c3-4d11-be31-d1d394c5cd77","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"8a377b06_dag","uuid":"9d927ccc-4cd1-475f-b54a-345e3e0610e1"},"name":"fa32c0ec_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureRouterPackage","uuid":"d0dc31b0-2ee6-484a-b025-b0f9d437419b"},"retries":"0","description":"","type":"DAG","uuid":"116c8399-ff46-49a4-9c47-7d5cd56e2e70","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"4a931cb7_dag"}],"description":"","message_list":[],"uuid":"94889c82-cda0-459d-880e-39e0f55047c7","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"4a931cb7_dag","uuid":"116c8399-ff46-49a4-9c47-7d5cd56e2e70"},"name":"b1a83e89_runbook"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Uninstall_Crb_d0dc31b0_2ee6_484a_b025_b0f9d437419b"}],"description":"","message_list":[],"uuid":"8cbaf9e6-e718-40f7-ad1b-96ecb70e6c9c","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Package_d0dc31b0_2ee6_484a_b025_b0f9d437419b","uuid":"14e0ea61-7875-4dd3-a229-39babbc379e6"},"name":"SYS_GEN__Runbook_Package_d0dc31b0_2ee6_484a_b025_b0f9d437419b"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"a9643fe9-5597-441f-b1ba-a7a1e01c949d","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureRouterPackage","uuid":"d0dc31b0-2ee6-484a-b025-b0f9d437419b"},"retries":"0","description":"","type":"DAG","uuid":"6d294437-eae4-41fd-95a3-69eba55bca0e","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"c0076e3b-3215-4ba3-8077-b0b6c7b3aa90"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"5a373341-8ec1-496c-8885-fa0b1e34cbd1"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_d0dc31b0_2ee6_484a_b025_b0f9d437419b","uuid":"1ef906be-6736-4d96-9c4d-3943468ba0c5"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"c0076e3b-3215-4ba3-8077-b0b6c7b3aa90"},"edge_type":"inherent","type":"","uuid":"d13b7fee-4222-4e2e-9a93-e5504af8ff9c","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"5a373341-8ec1-496c-8885-fa0b1e34cbd1"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"5a373341-8ec1-496c-8885-fa0b1e34cbd1"},"edge_type":"inherent","type":"","uuid":"240fd7a9-bcc8-447e-b431-5e46144d1e70","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_d0dc31b0_2ee6_484a_b025_b0f9d437419b","uuid":"1ef906be-6736-4d96-9c4d-3943468ba0c5"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_d0dc31b0_2ee6_484a_b025_b0f9d437419b"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"c0076e3b-3215-4ba3-8077-b0b6c7b3aa90","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"6d2afcdd_runbook","uuid":"215f65d0-6496-443c-9017-6dec4743560f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"5a373341-8ec1-496c-8885-fa0b1e34cbd1","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"6631f4bd_runbook","uuid":"d80d8f71-625e-4530-bf85-66347f427405"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e"},{"target_any_local_reference":{"kind":"app_package","name":"AzureRouterPackage","uuid":"d0dc31b0-2ee6-484a-b025-b0f9d437419b"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"1ef906be-6736-4d96-9c4d-3943468ba0c5","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_d0dc31b0_2ee6_484a_b025_b0f9d437419b","uuid":"8cbaf9e6-e718-40f7-ad1b-96ecb70e6c9c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_d0dc31b0_2ee6_484a_b025_b0f9d437419b"}],"description":"","message_list":[],"uuid":"0d38085a-8f5b-4cc3-a793-c3574c983f38","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_d0dc31b0_2ee6_484a_b025_b0f9d437419b","uuid":"6d294437-eae4-41fd-95a3-69eba55bca0e"},"name":"SYS_GEN__Runbook_Package_d0dc31b0_2ee6_484a_b025_b0f9d437419b"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"4c21886f-13e3-4518-bef7-e72c2f036db1","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureRouterPackage","uuid":"d0dc31b0-2ee6-484a-b025-b0f9d437419b"},"retries":"0","description":"","type":"DAG","uuid":"f584a0bf-5f15-4856-8145-46e82b6a1684","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"1f1021a3-21ba-4587-bbde-07b9676c548b"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_d0dc31b0_2ee6_484a_b025_b0f9d437419b","uuid":"033fbd6f-31b9-4fc5-a7f8-db0ffdcfc31c"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"1f1021a3-21ba-4587-bbde-07b9676c548b"},"edge_type":"inherent","type":"","uuid":"d12b9fdf-bbe5-4931-9e03-c64c694867f2","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_d0dc31b0_2ee6_484a_b025_b0f9d437419b","uuid":"033fbd6f-31b9-4fc5-a7f8-db0ffdcfc31c"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_d0dc31b0_2ee6_484a_b025_b0f9d437419b"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"1f1021a3-21ba-4587-bbde-07b9676c548b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"3fe61be2-c077-40a8-91a6-e9e75a5d2af3"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e"},{"target_any_local_reference":{"kind":"app_package","name":"AzureRouterPackage","uuid":"d0dc31b0-2ee6-484a-b025-b0f9d437419b"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"033fbd6f-31b9-4fc5-a7f8-db0ffdcfc31c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_d0dc31b0_2ee6_484a_b025_b0f9d437419b"}],"description":"","message_list":[],"uuid":"ef02d5cc-a139-4287-b439-7c6ab43937b2","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_d0dc31b0_2ee6_484a_b025_b0f9d437419b","uuid":"f584a0bf-5f15-4856-8145-46e82b6a1684"},"name":"SYS_GEN__Runbook_Package_d0dc31b0_2ee6_484a_b025_b0f9d437419b"}},{"description":"System action for starting an application","message_list":[],"uuid":"a3bcc00c-2cb2-42ce-acb6-450db32ead93","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureRouterPackage","uuid":"d0dc31b0-2ee6-484a-b025-b0f9d437419b"},"retries":"0","description":"","type":"DAG","uuid":"b4492841-2787-49f0-a90a-8c14b44dbacb","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"d1949510-b179-4e3d-9612-8954132c8ef4"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_d0dc31b0_2ee6_484a_b025_b0f9d437419b"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"d1949510-b179-4e3d-9612-8954132c8ef4","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"6729beee_runbook","uuid":"28341bf4-2766-4701-8747-1722ed61db3c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e"}],"description":"","message_list":[],"uuid":"904ee826-f39f-47cd-b33f-7d7ebe81f545","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_d0dc31b0_2ee6_484a_b025_b0f9d437419b","uuid":"b4492841-2787-49f0-a90a-8c14b44dbacb"},"name":"SYS_GEN__Runbook_Package_d0dc31b0_2ee6_484a_b025_b0f9d437419b"}},{"description":"System action for restarting an application","message_list":[],"uuid":"c91a403f-b9d6-42c4-85cb-f856e6db9e76","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureRouterPackage","uuid":"d0dc31b0-2ee6-484a-b025-b0f9d437419b"},"retries":"0","description":"","type":"DAG","uuid":"b655d3a1-37d2-4cb2-b475-921c0e668a07","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"5ca8cb2e-3212-40ad-bb19-31c7dba2f5ec"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_d0dc31b0_2ee6_484a_b025_b0f9d437419b"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"5ca8cb2e-3212-40ad-bb19-31c7dba2f5ec","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"5261a312_runbook","uuid":"dcdcb0d6-e68b-4641-8609-e6dc92c57b21"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e"}],"description":"","message_list":[],"uuid":"08bf4ee7-b2f8-4f0a-8d00-9df7b1172ffd","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_d0dc31b0_2ee6_484a_b025_b0f9d437419b","uuid":"b655d3a1-37d2-4cb2-b475-921c0e668a07"},"name":"SYS_GEN__Runbook_Package_d0dc31b0_2ee6_484a_b025_b0f9d437419b"}},{"description":"System action for stopping an application","message_list":[],"uuid":"8f17c966-dff7-4b77-adcc-704f342bfc45","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureRouterPackage","uuid":"d0dc31b0-2ee6-484a-b025-b0f9d437419b"},"retries":"0","description":"","type":"DAG","uuid":"5a09945c-803b-41df-a615-7729925e5292","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"6b900f9f-32b1-445a-9a4c-eddf935c47b1"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_d0dc31b0_2ee6_484a_b025_b0f9d437419b"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"6b900f9f-32b1-445a-9a4c-eddf935c47b1","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"6d2afcdd_runbook","uuid":"215f65d0-6496-443c-9017-6dec4743560f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e"}],"description":"","message_list":[],"uuid":"b770d1e8-e23e-4165-980f-900e40973007","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_d0dc31b0_2ee6_484a_b025_b0f9d437419b","uuid":"5a09945c-803b-41df-a615-7729925e5292"},"name":"SYS_GEN__Runbook_Package_d0dc31b0_2ee6_484a_b025_b0f9d437419b"}}],"message_list":[],"service_local_reference_list":[{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"}],"uuid":"d0dc31b0-2ee6-484a-b025-b0f9d437419b","state":"ACTIVE","version":"","editables":{},"type":"DEB","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureRouterPackage","uuid":"d0dc31b0-2ee6-484a-b025-b0f9d437419b"},"retries":"0","description":"","type":"DAG","uuid":"9d927ccc-4cd1-475f-b54a-345e3e0610e1","child_tasks_local_reference_list":[{"kind":"app_task","name":"Router Install","uuid":"52ccb50e-589b-4f28-88ea-ed737290d2f6"},{"kind":"app_task","name":"Router Configure","uuid":"b93de238-7c02-48b3-84a3-0b08d98eb31f"},{"kind":"app_task","name":"Start Shard","uuid":"49a9b9b9-f619-4384-beda-5e89c3540abc"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Router Install","uuid":"52ccb50e-589b-4f28-88ea-ed737290d2f6"},"edge_type":"user_defined","type":"","uuid":"e2c40bb4-d0c0-46d2-9bc1-9ed847d38c6c","to_task_reference":{"kind":"app_task","name":"Router Configure","uuid":"b93de238-7c02-48b3-84a3-0b08d98eb31f"}},{"from_task_reference":{"kind":"app_task","name":"Router Configure","uuid":"b93de238-7c02-48b3-84a3-0b08d98eb31f"},"edge_type":"user_defined","type":"","uuid":"37667be7-b9b6-4f7f-b252-181fd1afb2d3","to_task_reference":{"kind":"app_task","name":"Start Shard","uuid":"49a9b9b9-f619-4384-beda-5e89c3540abc"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"8a377b06_dag"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"EXEC","uuid":"52ccb50e-589b-4f28-88ea-ed737290d2f6","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nVERSION=\"@@{MONGO_VERSION}@@\"\nDATA_PATH=\"@@{DATA_PATH}@@\"\nJOURNAL_PATH=\"@@{JOURNAL_PATH}@@\"\nLOG_PATH=\"@@{LOG_PATH}@@\"\nsudo hostnamectl set-hostname --static @@{name}@@\n\ncat > \/tmp\/set-hostnames.py <<EOF\n#!\/usr\/bin\/python\nimport re\nconfig_ips=\"@@{AzureConfigSet.private_ip_address}@@\"\ndata_ips=\"@@{AzureDataSet.private_ip_address}@@\"\nrouter_ips=\"@@{calm_array_private_ip_address}@@\"\n\nhostfile = open('\/etc\/hosts', 'r').read()\nprint hostfile\nhostfile = re.sub('\\n#MONGODB-BEGIN.*?#MONGODB-END', '', hostfile, flags=re.DOTALL)\nhostfile += \"#MONGODB-BEGIN\\n\"\ncount=1\nfor ip in config_ips.split(','):\n  hostfile += ip + \" config\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in data_ips.split(','):\n  hostfile += ip + \" data\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in router_ips.split(','):\n  hostfile += ip + \" router\" + str(count) + \".mongodb\\n\"\n  count += 1\nhostfile += \"#MONGODB-END\\n\"\nopen('\/etc\/hosts', 'w').write(hostfile)\nEOF\n\nsudo python \/tmp\/set-hostnames.py\n\nif [[ -f \/sys\/kernel\/mm\/transparent_hugepage\/enabled ]];then\n\techo never | sudo tee \/sys\/kernel\/mm\/transparent_hugepage\/enabled\nfi\nif [[ -f \/sys\/kernel\/mm\/transparent_hugepage\/defrag ]];then\n\techo never | sudo tee \/sys\/kernel\/mm\/transparent_hugepage\/defrag\nfi\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho '[mongodb-org-3.4]\nname=MongoDB Repository\nbaseurl=https:\/\/repo.mongodb.org\/yum\/redhat\/$releasever\/mongodb-org\/3.4\/x86_64\/\ngpgcheck=1\nenabled=1\ngpgkey=https:\/\/www.mongodb.org\/static\/pgp\/server-3.4.asc' | sudo tee \/etc\/yum.repos.d\/mongodb-3.4.repo\n\nsudo yum update -y --quiet\nsudo yum install -y --quiet mongodb-org-${VERSION} mongodb-org-server-${VERSION} mongodb-org-shell-${VERSION} mongodb-org-mongos-${VERSION} mongodb-org-tools-${VERSION}\n\necho 'exclude=mongodb-org*' | sudo tee -a \/etc\/yum.conf\n\nsudo mkdir -p ${DATA_PATH} ${JOURNAL_PATH} ${LOG_PATH}\nsudo ln -s ${JOURNAL_PATH} ${DATA_PATH}\/journal\nsudo chown -R mongod:mongod ${DATA_PATH} ${JOURNAL_PATH} ${LOG_PATH}"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Router Install"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"EXEC","uuid":"b93de238-7c02-48b3-84a3-0b08d98eb31f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nCONFIG_SRV_IPS=\"@@{ConfigSet.private_ip_address}@@\"\nDATA_PATH=\"@@{DATA_PATH}@@\"\n\nconfig_ips=$(echo \"${CONFIG_SRV_IPS}\" | sed 's\/^,\/\/' | sed 's\/,$\/\/' | sed 's\/,\/:27017,\/g')\nconfig_ips=$config_ips\":27017\"\n\nsudo sed -i 's\/bindIp:\/#bindIp:\/g' \/etc\/mongod.conf\nsudo sed -i \"s#\/var\/lib\/mongo#${DATA_PATH}#g\" \/etc\/mongod.conf\n\necho \"[Unit]\nDescription=High-performance, schema-free document-oriented database\nAfter=network.target\nDocumentation=https:\/\/docs.mongodb.org\/manual\n\n[Service]\nUser=mongod\nGroup=mongod\nEnvironment=\\\"OPTIONS=--port 27017 --configdb configReplSet\/$config_ips --logpath \/var\/log\/mongodb\/mongos.log\\\"\nExecStart=\/usr\/bin\/mongos \\$OPTIONS\nPermissionsStartOnly=true\nPIDFile=\/var\/run\/mongodb\/mongos.pid\n# file size\nLimitFSIZE=infinity\n# cpu time\nLimitCPU=infinity\n# virtual memory size\nLimitAS=infinity\n# open files\nLimitNOFILE=64000\n# processes\/threads\nLimitNPROC=64000\n# total threads (user+kernel)\nTasksMax=infinity\nTasksAccounting=false\n# Recommended limits for for mongod as specified in\n# http:\/\/docs.mongodb.org\/manual\/reference\/ulimit\/#recommended-settings\n\n[Install]\nWantedBy=multi-user.target\" | sudo tee \/usr\/lib\/systemd\/system\/mongos.service\n\nsudo systemctl start mongos\n#sudo -u mongod -b mongos --port 27017 --configdb  --logpath \/var\/log\/mongodb\/mongos.log \n\nsleep 2"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Router Configure"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"EXEC","uuid":"49a9b9b9-f619-4384-beda-5e89c3540abc","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\nNODES_PER_REPLICA_SET=\"@@{NODES_PER_REPLICA_SET}@@\"\nINTERNAL_IP=\"@@{private_ip_address}@@\"\nREPLICA_IPS=($(echo @@{DataSet.private_ip_address}@@ | sed 's\/^,\/\/' | sed 's\/,$\/\/' | tr \",\" \"\\n\"))\nnoOfShards=$((${#REPLICA_IPS[@]}\/${NODES_PER_REPLICA_SET}))\n\ncount=0\nfor ((number=1;number <= $noOfShards;number++))\ndo\n  replicaSetName=\"dataReplSet${number}\"\n  sudo mongo --host ${INTERNAL_IP} --port 27017 --eval \"sh.addShard( \\\"$replicaSetName\/${REPLICA_IPS[${count}]}:27017\\\" )\"\n  count=$(($count + ${NODES_PER_REPLICA_SET}))\ndone"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Start Shard"}],"description":"","message_list":[],"uuid":"a974dc52-38c3-4d11-be31-d1d394c5cd77","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"8a377b06_dag","uuid":"9d927ccc-4cd1-475f-b54a-345e3e0610e1"},"name":"fa32c0ec_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureRouterPackage","uuid":"d0dc31b0-2ee6-484a-b025-b0f9d437419b"},"retries":"0","description":"","type":"DAG","uuid":"116c8399-ff46-49a4-9c47-7d5cd56e2e70","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"4a931cb7_dag"}],"description":"","message_list":[],"uuid":"94889c82-cda0-459d-880e-39e0f55047c7","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"4a931cb7_dag","uuid":"116c8399-ff46-49a4-9c47-7d5cd56e2e70"},"name":"b1a83e89_runbook"}},"variable_list":[],"name":"AzureRouterPackage"},{"description":"","action_list":[{"description":"System action for installing an application","message_list":[],"uuid":"3fab6932-78e8-4673-8d48-05ff031d2eb9","name":"action_install","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureConfigSetPackage","uuid":"32aa87ce-6553-4fe1-b266-943390cceace"},"retries":"0","description":"","type":"DAG","uuid":"a9cef68c-a4ea-40e2-a305-4c520244d885","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Install_Crb_32aa87ce_6553_4fe1_b266_943390cceace","uuid":"ddd899d6-0401-48c9-bbbb-0e05d3956758"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Package_32aa87ce_6553_4fe1_b266_943390cceace"},{"target_any_local_reference":{"kind":"app_package","name":"AzureConfigSetPackage","uuid":"32aa87ce-6553-4fe1-b266-943390cceace"},"retries":"0","description":"","type":"CUSTOM_PACKAGE_INSTALL","uuid":"ddd899d6-0401-48c9-bbbb-0e05d3956758","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureConfigSetPackage","uuid":"32aa87ce-6553-4fe1-b266-943390cceace"},"retries":"0","description":"","type":"DAG","uuid":"baaeb556-e755-42a6-ad68-2e3a0d2f37fd","child_tasks_local_reference_list":[{"kind":"app_task","name":"ConfigSet Install","uuid":"321953b8-4c8a-457f-a0c1-6173e36552b6"},{"kind":"app_task","name":"ConfigSet Configure","uuid":"23bd570c-d059-4ddf-b033-758a9e468af0"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"ConfigSet Install","uuid":"321953b8-4c8a-457f-a0c1-6173e36552b6"},"edge_type":"user_defined","type":"","uuid":"2e0775ee-7818-414c-8c9f-e46543c38f93","to_task_reference":{"kind":"app_task","name":"ConfigSet Configure","uuid":"23bd570c-d059-4ddf-b033-758a9e468af0"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"f5032321_dag"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"EXEC","uuid":"321953b8-4c8a-457f-a0c1-6173e36552b6","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nVERSION=\"@@{MONGO_VERSION}@@\"\nDATA_PATH=\"@@{DATA_PATH}@@\"\nJOURNAL_PATH=\"@@{JOURNAL_PATH}@@\"\nLOG_PATH=\"@@{LOG_PATH}@@\"\nsudo hostnamectl set-hostname --static @@{name}@@\n\ncat > \/tmp\/set-hostnames.py <<EOF\n#!\/usr\/bin\/python\nimport re\nconfig_ips=\"@@{calm_array_private_ip_address}@@\"\ndata_ips=\"@@{AzureDataSet.private_ip_address}@@\"\nrouter_ips=\"@@{AzureRouter.private_ip_address}@@\"\n\nhostfile = open('\/etc\/hosts', 'r').read()\nprint hostfile\nhostfile = re.sub('\\n#MONGODB-BEGIN.*?#MONGODB-END', '', hostfile, flags=re.DOTALL)\nhostfile += \"#MONGODB-BEGIN\\n\"\ncount=1\nfor ip in config_ips.split(','):\n  hostfile += ip + \" config\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in data_ips.split(','):\n  hostfile += ip + \" data\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in router_ips.split(','):\n  hostfile += ip + \" router\" + str(count) + \".mongodb\\n\"\n  count += 1\nhostfile += \"#MONGODB-END\\n\"\nopen('\/etc\/hosts', 'w').write(hostfile)\nEOF\n\nsudo python \/tmp\/set-hostnames.py\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho '[mongodb-org-3.4]\nname=MongoDB Repository\nbaseurl=https:\/\/repo.mongodb.org\/yum\/redhat\/$releasever\/mongodb-org\/3.4\/x86_64\/\ngpgcheck=1\nenabled=1\ngpgkey=https:\/\/www.mongodb.org\/static\/pgp\/server-3.4.asc' | sudo tee \/etc\/yum.repos.d\/mongodb-3.4.repo\n\nsudo yum update -y --quiet\nsudo yum install -y --quiet mongodb-org-${VERSION} mongodb-org-server-${VERSION} mongodb-org-shell-${VERSION} mongodb-org-mongos-${VERSION} mongodb-org-tools-${VERSION}\n\necho 'exclude=mongodb-org*' | sudo tee -a \/etc\/yum.conf\n\nsudo mkdir -p ${DATA_PATH} ${JOURNAL_PATH} ${LOG_PATH}\nsudo ln -s ${JOURNAL_PATH} ${DATA_PATH}\/journal\nsudo chown -R mongod:mongod ${DATA_PATH} ${JOURNAL_PATH} ${LOG_PATH}"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"ConfigSet Install"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"EXEC","uuid":"23bd570c-d059-4ddf-b033-758a9e468af0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nCONFIG_SRV_IPS=\"@@{calm_array_private_ip_address}@@\"\nDATA_PATH=\"@@{DATA_PATH}@@\"\nINTERNAL_IP=\"@@{private_ip_address}@@\"\n\nsudo sed -i 's\/bindIp:\/#bindIp:\/g' \/etc\/mongod.conf\nsudo sed -i \"s#\/var\/lib\/mongo#${DATA_PATH}#g\" \/etc\/mongod.conf\nsudo sed -i 's\/#sharding:\/sharding:\\n  clusterRole: configsvr\/g' \/etc\/mongod.conf\nsudo sed -i 's\/#replication:\/replication:\\n  replSetName: configReplSet\/g' \/etc\/mongod.conf\n\n\nconfig_ips=$(echo \"${CONFIG_SRV_IPS}\" | sed 's\/^,\/\/' | sed 's\/,$\/\/' | tr \",\" \"\\n\")\nconfig_cnt=0\nconfig_str=\"\"\n\nfor config in $config_ips\ndo\n  config_str=$config_str\"{\\\"_id\\\": $config_cnt, host:\\\"$config:27017\\\"},\"\n  config_cnt=$(($config_cnt + 1))\ndone\nconfig_str=`echo $config_str | sed 's\/,$\/\/'`\njson=$(cat <<EOF\n{\n  \"_id\": \"configReplSet\",\n  \"members\": [\n    $config_str\n  ]\n}\nEOF\n)\n\nif [[ -f \/sys\/kernel\/mm\/transparent_hugepage\/enabled ]];then\n\techo never | sudo tee \/sys\/kernel\/mm\/transparent_hugepage\/enabled\nfi\nif [[ -f \/sys\/kernel\/mm\/transparent_hugepage\/defrag ]];then\n\techo never | sudo tee \/sys\/kernel\/mm\/transparent_hugepage\/defrag\nfi\n\nsudo systemctl restart mongod\nsleep 15\n\nif [ @@{calm_array_index}@@ -ne 0 ];then\n  exit\nfi\n\nsudo mongo --host ${INTERNAL_IP} --port 27017 --eval \"rs.initiate( $json )\""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"ConfigSet Configure"}],"description":"","message_list":[],"uuid":"7d49cc0e-2869-4a36-9708-db07387fb8cd","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"f5032321_dag","uuid":"baaeb556-e755-42a6-ad68-2e3a0d2f37fd"},"name":"c77085cf_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureConfigSetPackage","uuid":"32aa87ce-6553-4fe1-b266-943390cceace"},"retries":"0","description":"","type":"DAG","uuid":"cfcd7319-99cb-4117-a10c-776772621af1","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"c123f4e9_dag"}],"description":"","message_list":[],"uuid":"ae762167-e335-45fb-ae7b-b35dc090b9be","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"c123f4e9_dag","uuid":"cfcd7319-99cb-4117-a10c-776772621af1"},"name":"11da4c9f_runbook"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Install_Crb_32aa87ce_6553_4fe1_b266_943390cceace"}],"description":"","message_list":[],"uuid":"1d203d11-ed50-4597-b561-2441862084b0","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Package_32aa87ce_6553_4fe1_b266_943390cceace","uuid":"a9cef68c-a4ea-40e2-a305-4c520244d885"},"name":"SYS_GEN__Runbook_Package_32aa87ce_6553_4fe1_b266_943390cceace"}},{"description":"System action for creating an application","message_list":[],"uuid":"675a8a83-ed5c-434d-95c4-96fdbb84ee73","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureConfigSetPackage","uuid":"32aa87ce-6553-4fe1-b266-943390cceace"},"retries":"0","description":"","type":"DAG","uuid":"8390782d-6ba3-43c9-80c1-bec7e7efce21","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_32aa87ce_6553_4fe1_b266_943390cceace","uuid":"afc1e9df-eeb5-41bd-8608-27c9d38390b5"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"d52893b4-3b87-4dd7-acd4-661b1e9a6c86"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"72965056-c753-464a-badb-f77eba251cb6"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"d52893b4-3b87-4dd7-acd4-661b1e9a6c86"},"edge_type":"inherent","type":"","uuid":"cd1a1e9f-71c8-4eb9-bbf8-c53eb7832841","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"72965056-c753-464a-badb-f77eba251cb6"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_32aa87ce_6553_4fe1_b266_943390cceace","uuid":"afc1e9df-eeb5-41bd-8608-27c9d38390b5"},"edge_type":"inherent","type":"","uuid":"e40b91a3-f06a-4242-9618-3bff82940e41","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"d52893b4-3b87-4dd7-acd4-661b1e9a6c86"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_32aa87ce_6553_4fe1_b266_943390cceace"},{"target_any_local_reference":{"kind":"app_package","name":"AzureConfigSetPackage","uuid":"32aa87ce-6553-4fe1-b266-943390cceace"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"afc1e9df-eeb5-41bd-8608-27c9d38390b5","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_32aa87ce_6553_4fe1_b266_943390cceace","uuid":"1d203d11-ed50-4597-b561-2441862084b0"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_32aa87ce_6553_4fe1_b266_943390cceace"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"d52893b4-3b87-4dd7-acd4-661b1e9a6c86","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0a879260_runbook","uuid":"741de02d-b511-4b87-8b94-a1b0b74e0fb7"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"72965056-c753-464a-badb-f77eba251cb6","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"f4695758_runbook","uuid":"0c2528e9-82d6-40bc-9b4d-721eabd37ead"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd"}],"description":"","message_list":[],"uuid":"8f26644c-8398-40b5-a470-5d4656688d75","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_32aa87ce_6553_4fe1_b266_943390cceace","uuid":"8390782d-6ba3-43c9-80c1-bec7e7efce21"},"name":"SYS_GEN__Runbook_Package_32aa87ce_6553_4fe1_b266_943390cceace"}},{"description":"System action for uninstalling an application","message_list":[],"uuid":"ba521cb2-90fe-4f18-8a71-323ad84ee167","name":"action_uninstall","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureConfigSetPackage","uuid":"32aa87ce-6553-4fe1-b266-943390cceace"},"retries":"0","description":"","type":"DAG","uuid":"bb6db2c7-9c0c-4d2f-9347-12fb7eb77b36","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Uninstall_Crb_32aa87ce_6553_4fe1_b266_943390cceace","uuid":"5819999e-e77a-4566-b327-3e969ef73c2c"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Package_32aa87ce_6553_4fe1_b266_943390cceace"},{"target_any_local_reference":{"kind":"app_package","name":"AzureConfigSetPackage","uuid":"32aa87ce-6553-4fe1-b266-943390cceace"},"retries":"0","description":"","type":"CUSTOM_PACKAGE_UNINSTALL","uuid":"5819999e-e77a-4566-b327-3e969ef73c2c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureConfigSetPackage","uuid":"32aa87ce-6553-4fe1-b266-943390cceace"},"retries":"0","description":"","type":"DAG","uuid":"baaeb556-e755-42a6-ad68-2e3a0d2f37fd","child_tasks_local_reference_list":[{"kind":"app_task","name":"ConfigSet Install","uuid":"321953b8-4c8a-457f-a0c1-6173e36552b6"},{"kind":"app_task","name":"ConfigSet Configure","uuid":"23bd570c-d059-4ddf-b033-758a9e468af0"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"ConfigSet Install","uuid":"321953b8-4c8a-457f-a0c1-6173e36552b6"},"edge_type":"user_defined","type":"","uuid":"2e0775ee-7818-414c-8c9f-e46543c38f93","to_task_reference":{"kind":"app_task","name":"ConfigSet Configure","uuid":"23bd570c-d059-4ddf-b033-758a9e468af0"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"f5032321_dag"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"EXEC","uuid":"321953b8-4c8a-457f-a0c1-6173e36552b6","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nVERSION=\"@@{MONGO_VERSION}@@\"\nDATA_PATH=\"@@{DATA_PATH}@@\"\nJOURNAL_PATH=\"@@{JOURNAL_PATH}@@\"\nLOG_PATH=\"@@{LOG_PATH}@@\"\nsudo hostnamectl set-hostname --static @@{name}@@\n\ncat > \/tmp\/set-hostnames.py <<EOF\n#!\/usr\/bin\/python\nimport re\nconfig_ips=\"@@{calm_array_private_ip_address}@@\"\ndata_ips=\"@@{AzureDataSet.private_ip_address}@@\"\nrouter_ips=\"@@{AzureRouter.private_ip_address}@@\"\n\nhostfile = open('\/etc\/hosts', 'r').read()\nprint hostfile\nhostfile = re.sub('\\n#MONGODB-BEGIN.*?#MONGODB-END', '', hostfile, flags=re.DOTALL)\nhostfile += \"#MONGODB-BEGIN\\n\"\ncount=1\nfor ip in config_ips.split(','):\n  hostfile += ip + \" config\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in data_ips.split(','):\n  hostfile += ip + \" data\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in router_ips.split(','):\n  hostfile += ip + \" router\" + str(count) + \".mongodb\\n\"\n  count += 1\nhostfile += \"#MONGODB-END\\n\"\nopen('\/etc\/hosts', 'w').write(hostfile)\nEOF\n\nsudo python \/tmp\/set-hostnames.py\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho '[mongodb-org-3.4]\nname=MongoDB Repository\nbaseurl=https:\/\/repo.mongodb.org\/yum\/redhat\/$releasever\/mongodb-org\/3.4\/x86_64\/\ngpgcheck=1\nenabled=1\ngpgkey=https:\/\/www.mongodb.org\/static\/pgp\/server-3.4.asc' | sudo tee \/etc\/yum.repos.d\/mongodb-3.4.repo\n\nsudo yum update -y --quiet\nsudo yum install -y --quiet mongodb-org-${VERSION} mongodb-org-server-${VERSION} mongodb-org-shell-${VERSION} mongodb-org-mongos-${VERSION} mongodb-org-tools-${VERSION}\n\necho 'exclude=mongodb-org*' | sudo tee -a \/etc\/yum.conf\n\nsudo mkdir -p ${DATA_PATH} ${JOURNAL_PATH} ${LOG_PATH}\nsudo ln -s ${JOURNAL_PATH} ${DATA_PATH}\/journal\nsudo chown -R mongod:mongod ${DATA_PATH} ${JOURNAL_PATH} ${LOG_PATH}"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"ConfigSet Install"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"EXEC","uuid":"23bd570c-d059-4ddf-b033-758a9e468af0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nCONFIG_SRV_IPS=\"@@{calm_array_private_ip_address}@@\"\nDATA_PATH=\"@@{DATA_PATH}@@\"\nINTERNAL_IP=\"@@{private_ip_address}@@\"\n\nsudo sed -i 's\/bindIp:\/#bindIp:\/g' \/etc\/mongod.conf\nsudo sed -i \"s#\/var\/lib\/mongo#${DATA_PATH}#g\" \/etc\/mongod.conf\nsudo sed -i 's\/#sharding:\/sharding:\\n  clusterRole: configsvr\/g' \/etc\/mongod.conf\nsudo sed -i 's\/#replication:\/replication:\\n  replSetName: configReplSet\/g' \/etc\/mongod.conf\n\n\nconfig_ips=$(echo \"${CONFIG_SRV_IPS}\" | sed 's\/^,\/\/' | sed 's\/,$\/\/' | tr \",\" \"\\n\")\nconfig_cnt=0\nconfig_str=\"\"\n\nfor config in $config_ips\ndo\n  config_str=$config_str\"{\\\"_id\\\": $config_cnt, host:\\\"$config:27017\\\"},\"\n  config_cnt=$(($config_cnt + 1))\ndone\nconfig_str=`echo $config_str | sed 's\/,$\/\/'`\njson=$(cat <<EOF\n{\n  \"_id\": \"configReplSet\",\n  \"members\": [\n    $config_str\n  ]\n}\nEOF\n)\n\nif [[ -f \/sys\/kernel\/mm\/transparent_hugepage\/enabled ]];then\n\techo never | sudo tee \/sys\/kernel\/mm\/transparent_hugepage\/enabled\nfi\nif [[ -f \/sys\/kernel\/mm\/transparent_hugepage\/defrag ]];then\n\techo never | sudo tee \/sys\/kernel\/mm\/transparent_hugepage\/defrag\nfi\n\nsudo systemctl restart mongod\nsleep 15\n\nif [ @@{calm_array_index}@@ -ne 0 ];then\n  exit\nfi\n\nsudo mongo --host ${INTERNAL_IP} --port 27017 --eval \"rs.initiate( $json )\""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"ConfigSet Configure"}],"description":"","message_list":[],"uuid":"7d49cc0e-2869-4a36-9708-db07387fb8cd","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"f5032321_dag","uuid":"baaeb556-e755-42a6-ad68-2e3a0d2f37fd"},"name":"c77085cf_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureConfigSetPackage","uuid":"32aa87ce-6553-4fe1-b266-943390cceace"},"retries":"0","description":"","type":"DAG","uuid":"cfcd7319-99cb-4117-a10c-776772621af1","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"c123f4e9_dag"}],"description":"","message_list":[],"uuid":"ae762167-e335-45fb-ae7b-b35dc090b9be","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"c123f4e9_dag","uuid":"cfcd7319-99cb-4117-a10c-776772621af1"},"name":"11da4c9f_runbook"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Uninstall_Crb_32aa87ce_6553_4fe1_b266_943390cceace"}],"description":"","message_list":[],"uuid":"c01666a1-94ba-465c-8ae3-e85732d69a18","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Package_32aa87ce_6553_4fe1_b266_943390cceace","uuid":"bb6db2c7-9c0c-4d2f-9347-12fb7eb77b36"},"name":"SYS_GEN__Runbook_Package_32aa87ce_6553_4fe1_b266_943390cceace"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"dd5c0984-32ea-497f-8861-cdfb4844d18c","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureConfigSetPackage","uuid":"32aa87ce-6553-4fe1-b266-943390cceace"},"retries":"0","description":"","type":"DAG","uuid":"fdbed197-3083-4592-bb50-794c0237385c","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"8966731d-305c-4bed-931e-46bc83f8432c"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"2960d511-3eee-44ef-a504-ece1f5781775"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_32aa87ce_6553_4fe1_b266_943390cceace","uuid":"fa8e881c-9df9-4a63-9e59-4e178246b5a2"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"8966731d-305c-4bed-931e-46bc83f8432c"},"edge_type":"inherent","type":"","uuid":"c1ea4660-cf08-4742-8645-6bb4229883bb","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"2960d511-3eee-44ef-a504-ece1f5781775"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"2960d511-3eee-44ef-a504-ece1f5781775"},"edge_type":"inherent","type":"","uuid":"4f710bc9-25e7-48a2-94f3-2bce3cd3eb7d","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_32aa87ce_6553_4fe1_b266_943390cceace","uuid":"fa8e881c-9df9-4a63-9e59-4e178246b5a2"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_32aa87ce_6553_4fe1_b266_943390cceace"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"8966731d-305c-4bed-931e-46bc83f8432c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"a33b20bd_runbook","uuid":"e6335ceb-f00b-4ec5-8425-3864e1897a7d"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"2960d511-3eee-44ef-a504-ece1f5781775","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"3c3538b9_runbook","uuid":"8625e87a-c851-44ac-9a8c-6808a1ac5574"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd"},{"target_any_local_reference":{"kind":"app_package","name":"AzureConfigSetPackage","uuid":"32aa87ce-6553-4fe1-b266-943390cceace"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"fa8e881c-9df9-4a63-9e59-4e178246b5a2","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_32aa87ce_6553_4fe1_b266_943390cceace","uuid":"c01666a1-94ba-465c-8ae3-e85732d69a18"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_32aa87ce_6553_4fe1_b266_943390cceace"}],"description":"","message_list":[],"uuid":"719186a9-2d51-45b3-aee5-64886d6df419","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_32aa87ce_6553_4fe1_b266_943390cceace","uuid":"fdbed197-3083-4592-bb50-794c0237385c"},"name":"SYS_GEN__Runbook_Package_32aa87ce_6553_4fe1_b266_943390cceace"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"446bed07-4c78-4dce-a86c-3d3308e38e5f","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureConfigSetPackage","uuid":"32aa87ce-6553-4fe1-b266-943390cceace"},"retries":"0","description":"","type":"DAG","uuid":"be3fca30-2502-494a-9dbd-d6d8b9ec8e1d","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"dfd4f935-b921-4b40-999c-d37fdae5c81c"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_32aa87ce_6553_4fe1_b266_943390cceace","uuid":"ce022d30-5276-40f6-b931-f0080334605d"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"dfd4f935-b921-4b40-999c-d37fdae5c81c"},"edge_type":"inherent","type":"","uuid":"666049df-66c3-474c-b2cb-f98c226209a8","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_32aa87ce_6553_4fe1_b266_943390cceace","uuid":"ce022d30-5276-40f6-b931-f0080334605d"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_32aa87ce_6553_4fe1_b266_943390cceace"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"dfd4f935-b921-4b40-999c-d37fdae5c81c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"71c44ff6-8283-4578-8e15-dbf648d09ee4"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd"},{"target_any_local_reference":{"kind":"app_package","name":"AzureConfigSetPackage","uuid":"32aa87ce-6553-4fe1-b266-943390cceace"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"ce022d30-5276-40f6-b931-f0080334605d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_32aa87ce_6553_4fe1_b266_943390cceace"}],"description":"","message_list":[],"uuid":"4b4dddc7-6017-4c62-b631-e34a6d503472","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_32aa87ce_6553_4fe1_b266_943390cceace","uuid":"be3fca30-2502-494a-9dbd-d6d8b9ec8e1d"},"name":"SYS_GEN__Runbook_Package_32aa87ce_6553_4fe1_b266_943390cceace"}},{"description":"System action for starting an application","message_list":[],"uuid":"3b004ea5-2b85-4502-9a42-6d9b09448d72","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureConfigSetPackage","uuid":"32aa87ce-6553-4fe1-b266-943390cceace"},"retries":"0","description":"","type":"DAG","uuid":"bddd602c-a7db-47e9-988d-82508f878e96","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"abcfac7d-71b3-4a5e-8fff-1cf898e759f0"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_32aa87ce_6553_4fe1_b266_943390cceace"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"abcfac7d-71b3-4a5e-8fff-1cf898e759f0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"f4695758_runbook","uuid":"0c2528e9-82d6-40bc-9b4d-721eabd37ead"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd"}],"description":"","message_list":[],"uuid":"4b2e03d4-d7af-4542-9eb7-d35b68d7b5c6","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_32aa87ce_6553_4fe1_b266_943390cceace","uuid":"bddd602c-a7db-47e9-988d-82508f878e96"},"name":"SYS_GEN__Runbook_Package_32aa87ce_6553_4fe1_b266_943390cceace"}},{"description":"System action for restarting an application","message_list":[],"uuid":"732293ad-aa84-4a7e-ad27-c0d4ae4d20f2","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureConfigSetPackage","uuid":"32aa87ce-6553-4fe1-b266-943390cceace"},"retries":"0","description":"","type":"DAG","uuid":"1fafb977-7f02-423f-92d9-62f056835b74","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"580e0c2f-0ec9-464f-a18d-35dd9e6907cf"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_32aa87ce_6553_4fe1_b266_943390cceace"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"580e0c2f-0ec9-464f-a18d-35dd9e6907cf","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"b7169291_runbook","uuid":"7c36f5f8-9e8b-4f97-b855-438dc7eb8f3d"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd"}],"description":"","message_list":[],"uuid":"41e484c5-5e19-4003-a173-a665caf8d8f6","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_32aa87ce_6553_4fe1_b266_943390cceace","uuid":"1fafb977-7f02-423f-92d9-62f056835b74"},"name":"SYS_GEN__Runbook_Package_32aa87ce_6553_4fe1_b266_943390cceace"}},{"description":"System action for stopping an application","message_list":[],"uuid":"5605e141-6f4c-43ab-99c4-258c8b36b99d","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureConfigSetPackage","uuid":"32aa87ce-6553-4fe1-b266-943390cceace"},"retries":"0","description":"","type":"DAG","uuid":"0861a4ac-9f16-4938-aaae-085738132522","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"4c5ec33b-76b2-4cbd-ae75-9bca1a6ebf94"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_32aa87ce_6553_4fe1_b266_943390cceace"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"4c5ec33b-76b2-4cbd-ae75-9bca1a6ebf94","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"a33b20bd_runbook","uuid":"e6335ceb-f00b-4ec5-8425-3864e1897a7d"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd"}],"description":"","message_list":[],"uuid":"430128bf-262f-4938-88b5-3692d4c71474","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_32aa87ce_6553_4fe1_b266_943390cceace","uuid":"0861a4ac-9f16-4938-aaae-085738132522"},"name":"SYS_GEN__Runbook_Package_32aa87ce_6553_4fe1_b266_943390cceace"}}],"message_list":[],"service_local_reference_list":[{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"}],"uuid":"32aa87ce-6553-4fe1-b266-943390cceace","state":"ACTIVE","version":"","editables":{},"type":"DEB","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureConfigSetPackage","uuid":"32aa87ce-6553-4fe1-b266-943390cceace"},"retries":"0","description":"","type":"DAG","uuid":"baaeb556-e755-42a6-ad68-2e3a0d2f37fd","child_tasks_local_reference_list":[{"kind":"app_task","name":"ConfigSet Install","uuid":"321953b8-4c8a-457f-a0c1-6173e36552b6"},{"kind":"app_task","name":"ConfigSet Configure","uuid":"23bd570c-d059-4ddf-b033-758a9e468af0"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"ConfigSet Install","uuid":"321953b8-4c8a-457f-a0c1-6173e36552b6"},"edge_type":"user_defined","type":"","uuid":"2e0775ee-7818-414c-8c9f-e46543c38f93","to_task_reference":{"kind":"app_task","name":"ConfigSet Configure","uuid":"23bd570c-d059-4ddf-b033-758a9e468af0"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"f5032321_dag"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"EXEC","uuid":"321953b8-4c8a-457f-a0c1-6173e36552b6","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nVERSION=\"@@{MONGO_VERSION}@@\"\nDATA_PATH=\"@@{DATA_PATH}@@\"\nJOURNAL_PATH=\"@@{JOURNAL_PATH}@@\"\nLOG_PATH=\"@@{LOG_PATH}@@\"\nsudo hostnamectl set-hostname --static @@{name}@@\n\ncat > \/tmp\/set-hostnames.py <<EOF\n#!\/usr\/bin\/python\nimport re\nconfig_ips=\"@@{calm_array_private_ip_address}@@\"\ndata_ips=\"@@{AzureDataSet.private_ip_address}@@\"\nrouter_ips=\"@@{AzureRouter.private_ip_address}@@\"\n\nhostfile = open('\/etc\/hosts', 'r').read()\nprint hostfile\nhostfile = re.sub('\\n#MONGODB-BEGIN.*?#MONGODB-END', '', hostfile, flags=re.DOTALL)\nhostfile += \"#MONGODB-BEGIN\\n\"\ncount=1\nfor ip in config_ips.split(','):\n  hostfile += ip + \" config\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in data_ips.split(','):\n  hostfile += ip + \" data\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in router_ips.split(','):\n  hostfile += ip + \" router\" + str(count) + \".mongodb\\n\"\n  count += 1\nhostfile += \"#MONGODB-END\\n\"\nopen('\/etc\/hosts', 'w').write(hostfile)\nEOF\n\nsudo python \/tmp\/set-hostnames.py\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho '[mongodb-org-3.4]\nname=MongoDB Repository\nbaseurl=https:\/\/repo.mongodb.org\/yum\/redhat\/$releasever\/mongodb-org\/3.4\/x86_64\/\ngpgcheck=1\nenabled=1\ngpgkey=https:\/\/www.mongodb.org\/static\/pgp\/server-3.4.asc' | sudo tee \/etc\/yum.repos.d\/mongodb-3.4.repo\n\nsudo yum update -y --quiet\nsudo yum install -y --quiet mongodb-org-${VERSION} mongodb-org-server-${VERSION} mongodb-org-shell-${VERSION} mongodb-org-mongos-${VERSION} mongodb-org-tools-${VERSION}\n\necho 'exclude=mongodb-org*' | sudo tee -a \/etc\/yum.conf\n\nsudo mkdir -p ${DATA_PATH} ${JOURNAL_PATH} ${LOG_PATH}\nsudo ln -s ${JOURNAL_PATH} ${DATA_PATH}\/journal\nsudo chown -R mongod:mongod ${DATA_PATH} ${JOURNAL_PATH} ${LOG_PATH}"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"ConfigSet Install"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"EXEC","uuid":"23bd570c-d059-4ddf-b033-758a9e468af0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nCONFIG_SRV_IPS=\"@@{calm_array_private_ip_address}@@\"\nDATA_PATH=\"@@{DATA_PATH}@@\"\nINTERNAL_IP=\"@@{private_ip_address}@@\"\n\nsudo sed -i 's\/bindIp:\/#bindIp:\/g' \/etc\/mongod.conf\nsudo sed -i \"s#\/var\/lib\/mongo#${DATA_PATH}#g\" \/etc\/mongod.conf\nsudo sed -i 's\/#sharding:\/sharding:\\n  clusterRole: configsvr\/g' \/etc\/mongod.conf\nsudo sed -i 's\/#replication:\/replication:\\n  replSetName: configReplSet\/g' \/etc\/mongod.conf\n\n\nconfig_ips=$(echo \"${CONFIG_SRV_IPS}\" | sed 's\/^,\/\/' | sed 's\/,$\/\/' | tr \",\" \"\\n\")\nconfig_cnt=0\nconfig_str=\"\"\n\nfor config in $config_ips\ndo\n  config_str=$config_str\"{\\\"_id\\\": $config_cnt, host:\\\"$config:27017\\\"},\"\n  config_cnt=$(($config_cnt + 1))\ndone\nconfig_str=`echo $config_str | sed 's\/,$\/\/'`\njson=$(cat <<EOF\n{\n  \"_id\": \"configReplSet\",\n  \"members\": [\n    $config_str\n  ]\n}\nEOF\n)\n\nif [[ -f \/sys\/kernel\/mm\/transparent_hugepage\/enabled ]];then\n\techo never | sudo tee \/sys\/kernel\/mm\/transparent_hugepage\/enabled\nfi\nif [[ -f \/sys\/kernel\/mm\/transparent_hugepage\/defrag ]];then\n\techo never | sudo tee \/sys\/kernel\/mm\/transparent_hugepage\/defrag\nfi\n\nsudo systemctl restart mongod\nsleep 15\n\nif [ @@{calm_array_index}@@ -ne 0 ];then\n  exit\nfi\n\nsudo mongo --host ${INTERNAL_IP} --port 27017 --eval \"rs.initiate( $json )\""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"ConfigSet Configure"}],"description":"","message_list":[],"uuid":"7d49cc0e-2869-4a36-9708-db07387fb8cd","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"f5032321_dag","uuid":"baaeb556-e755-42a6-ad68-2e3a0d2f37fd"},"name":"c77085cf_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureConfigSetPackage","uuid":"32aa87ce-6553-4fe1-b266-943390cceace"},"retries":"0","description":"","type":"DAG","uuid":"cfcd7319-99cb-4117-a10c-776772621af1","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"c123f4e9_dag"}],"description":"","message_list":[],"uuid":"ae762167-e335-45fb-ae7b-b35dc090b9be","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"c123f4e9_dag","uuid":"cfcd7319-99cb-4117-a10c-776772621af1"},"name":"11da4c9f_runbook"}},"variable_list":[],"name":"AzureConfigSetPackage"},{"description":"","action_list":[{"description":"System action for installing an application","message_list":[],"uuid":"679556b3-3fe8-4655-9064-7cd0f894ba26","name":"action_install","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureDataSetPackage","uuid":"05329dce-ac77-4859-8af3-ce1d08c85f89"},"retries":"0","description":"","type":"DAG","uuid":"4183b467-86be-43da-be81-a3bc54a18a74","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Install_Crb_05329dce_ac77_4859_8af3_ce1d08c85f89","uuid":"857d5553-f145-402e-a298-8d5d493060cc"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Package_05329dce_ac77_4859_8af3_ce1d08c85f89"},{"target_any_local_reference":{"kind":"app_package","name":"AzureDataSetPackage","uuid":"05329dce-ac77-4859-8af3-ce1d08c85f89"},"retries":"0","description":"","type":"CUSTOM_PACKAGE_INSTALL","uuid":"857d5553-f145-402e-a298-8d5d493060cc","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureDataSetPackage","uuid":"05329dce-ac77-4859-8af3-ce1d08c85f89"},"retries":"0","description":"","type":"DAG","uuid":"c993d755-5fe6-45da-99a0-6e924ba7da0e","child_tasks_local_reference_list":[{"kind":"app_task","name":"DataSet Install","uuid":"afaba3a9-f58a-4bc2-bb86-12423abb3c62"},{"kind":"app_task","name":"DataSet Configure","uuid":"80f333a0-5159-41f2-87e8-b7a9a818a68c"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"DataSet Install","uuid":"afaba3a9-f58a-4bc2-bb86-12423abb3c62"},"edge_type":"user_defined","type":"","uuid":"bc30c80e-2c51-4f86-acbd-6942cd311d40","to_task_reference":{"kind":"app_task","name":"DataSet Configure","uuid":"80f333a0-5159-41f2-87e8-b7a9a818a68c"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"78ede58b_dag"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"EXEC","uuid":"afaba3a9-f58a-4bc2-bb86-12423abb3c62","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nVERSION=\"@@{MONGO_VERSION}@@\"\nDATA_PATH=\"@@{DATA_PATH}@@\"\nJOURNAL_PATH=\"@@{JOURNAL_PATH}@@\"\nLOG_PATH=\"@@{LOG_PATH}@@\"\nsudo hostnamectl set-hostname --static @@{name}@@\n\ncat > \/tmp\/set-hostnames.py <<EOF\n#!\/usr\/bin\/python\nimport re\nconfig_ips=\"@@{AzureConfigSet.private_ip_address}@@\"\ndata_ips=\"@@{calm_array_private_ip_address}@@\"\nrouter_ips=\"@@{AzureRouter.private_ip_address}@@\"\n\nhostfile = open('\/etc\/hosts', 'r').read()\nprint hostfile\nhostfile = re.sub('\\n#MONGODB-BEGIN.*?#MONGODB-END', '', hostfile, flags=re.DOTALL)\nhostfile += \"#MONGODB-BEGIN\\n\"\ncount=1\nfor ip in config_ips.split(','):\n  hostfile += ip + \" config\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in data_ips.split(','):\n  hostfile += ip + \" data\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in router_ips.split(','):\n  hostfile += ip + \" router\" + str(count) + \".mongodb\\n\"\n  count += 1\nhostfile += \"#MONGODB-END\\n\"\nopen('\/etc\/hosts', 'w').write(hostfile)\nEOF\n\nsudo python \/tmp\/set-hostnames.py\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho '[mongodb-org-3.4]\nname=MongoDB Repository\nbaseurl=https:\/\/repo.mongodb.org\/yum\/redhat\/$releasever\/mongodb-org\/3.4\/x86_64\/\ngpgcheck=1\nenabled=1\ngpgkey=https:\/\/www.mongodb.org\/static\/pgp\/server-3.4.asc' | sudo tee \/etc\/yum.repos.d\/mongodb-3.4.repo\n\nsudo yum update -y --quiet\nsudo yum install -y --quiet mongodb-org-${VERSION} mongodb-org-server-${VERSION} mongodb-org-shell-${VERSION} mongodb-org-mongos-${VERSION} mongodb-org-tools-${VERSION}\n\necho 'exclude=mongodb-org*' | sudo tee -a \/etc\/yum.conf\n\n\nsudo mkdir -p ${DATA_PATH} ${JOURNAL_PATH} ${LOG_PATH}\nsudo ln -s ${JOURNAL_PATH} ${DATA_PATH}\/journal\n\nsudo chown -R mongod:mongod ${DATA_PATH} ${JOURNAL_PATH} ${LOG_PATH}\n\nsudo sysctl vm.swappiness=1\necho 'vm.swappiness=1' | sudo tee -a \/etc\/sysctl.conf\n"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"DataSet Install"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"EXEC","uuid":"80f333a0-5159-41f2-87e8-b7a9a818a68c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nREPLICA_IPS=\"@@{calm_array_private_ip_address}@@\"\nDATA_PATH=\"@@{DATA_PATH}@@\"\nINTERNAL_IP=\"@@{private_ip_address}@@\"\nINDEX=@@{calm_array_index}@@\nNODES_PER_REPLICA_SET=@@{NODES_PER_REPLICA_SET}@@\nARRAY_REPLICA_IPS=$(echo ${REPLICA_IPS} | sed 's\/^,\/\/' | sed 's\/,$\/\/' | tr \",\" \"\\n\")\n\ntmp=$((${INDEX}+${NODES_PER_REPLICA_SET}))\nreplicasetNo=$((${tmp}\/${NODES_PER_REPLICA_SET}))\nreplicaSetName=\"dataReplSet${replicasetNo}\"\n\nsudo sed -i 's\/bindIp:\/#bindIp:\/g' \/etc\/mongod.conf\nsudo sed -i \"s#\/var\/lib\/mongo#${DATA_PATH}#g\" \/etc\/mongod.conf\nsudo sed -i \"s\/#replication:\/replication:\\n  replSetName: $replicaSetName\/g\" \/etc\/mongod.conf\nsudo sed -i 's\/#sharding:\/sharding:\\n  clusterRole: shardsvr\/g' \/etc\/mongod.conf\nsudo sed -i 's#  path: \/var\/log\/mongodb\/mongod.log#  path: \/mongodb\/log\/mongod.log#' \/etc\/mongod.conf\n\n### Getting replicaset members details \nreplica_cnt=0\ndeclare -a replicaset_members\n\nfor replica in $ARRAY_REPLICA_IPS\ndo\n  tmp=$((${replica_cnt}+${NODES_PER_REPLICA_SET}))\n  i=\"$((${tmp}\/${NODES_PER_REPLICA_SET}))\"\n  replicaset_members[$i]=${replicaset_members[$i]}\"{\\\"_id\\\": $replica_cnt, host:\\\"$replica:27017\\\"},\"\n  replica_cnt=$(($replica_cnt + 1))\ndone\n\nif [[ -f \/sys\/kernel\/mm\/transparent_hugepage\/enabled ]];then\n\techo never | sudo tee \/sys\/kernel\/mm\/transparent_hugepage\/enabled\nfi\nif [[ -f \/sys\/kernel\/mm\/transparent_hugepage\/defrag ]];then\n\techo never | sudo tee \/sys\/kernel\/mm\/transparent_hugepage\/defrag\nfi\n\nsudo systemctl restart mongod\nsleep 15\n\n### Initiating replicaset \njson=$(cat <<EOF\n{\n  \"_id\": \"$replicaSetName\",\n  \"members\": [ ${replicaset_members[$replicasetNo]}]\n}\nEOF\n)\nsudo mongo --host ${INTERNAL_IP} --port 27017 --eval \"rs.initiate( $json )\"\nsleep 2\n"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"DataSet Configure"}],"description":"","message_list":[],"uuid":"105c9ac7-f0c0-46fc-8500-33538b547977","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"78ede58b_dag","uuid":"c993d755-5fe6-45da-99a0-6e924ba7da0e"},"name":"43f8f143_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureDataSetPackage","uuid":"05329dce-ac77-4859-8af3-ce1d08c85f89"},"retries":"0","description":"","type":"DAG","uuid":"72e3f58b-c6e6-4a21-b338-61d197ae0e43","child_tasks_local_reference_list":[{"kind":"app_task","name":"MoveShard","uuid":"6e9a91d7-04b7-419a-95a4-f1717d8fabe0"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"69281bf8_dag"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"EXEC","uuid":"6e9a91d7-04b7-419a-95a4-f1717d8fabe0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\n\nnode=$(echo \"@@{calm_array_address}@@\" | tr ',' '\\n' | wc -l)\n\nif [[ \"@@{calm_array_index}@@\" != \"$(($node-1))\" ]];then\n  exit 0\nfi\n\neval $(mongo --host router1.mongodb --port 27017 --quiet --eval 'db.adminCommand( { listShards: 1 } )' | python -c '\nimport json,sys\ndata=json.load(sys.stdin)\nprint \"HOST={}\".format(data[\"shards\"][len(data[\"shards\"])-1][\"host\"])\n')\neval $(mongo --host router1.mongodb --port 27017 --quiet --eval 'db.adminCommand( { listShards: 1 } )' | python -c '\nimport json,sys\ndata=json.load(sys.stdin)\nprint \"HOSTTOMOVE={}\".format(data[\"shards\"][@@{SHARD_TO_MOVE}@@-1][\"host\"])\n')\nhost_state=`mongo --host router1.mongodb --port 27017 --quiet --eval \"db.adminCommand({removeShard: '${HOST}'})['state']\"`\nif [[ \"$host_state\" == \"started\" ]] ; then\n  sleep 5\nfi\nhost_state=`mongo --host router1.mongodb --port 27017 --quiet --eval \"db.adminCommand({removeShard: '${HOST}'})['state']\"`\nif [[ \"$host_state\" == \"ongoing\" ]] ; then\n  if [[ \"@@{SHARD_TO_MOVE}@@\" == \"\" ]] ; then\n    echo \"Please enter the shard number value to move tables.\"\n    exit 1\n  fi\n  dbstomove=`mongo --host router1.mongodb --port 27017 --quiet --eval \"db.adminCommand({removeShard: '${HOST}'})['dbsToMove']\"`\n  eval $(echo $dbstomove | python -c 'import json,sys ; data=json.load(sys.stdin) ; print \"DBSTOMOVE={}\".format(\",\".join(data))')\n  for x in $(echo $DBSTOMOVE | tr \",\" \"\\n\") ; do\n     echo \"echo moving $x\"\n     mongo --host router1.mongodb --port 27017 --quiet --eval \"db.adminCommand({ movePrimary: '$x', to: '${HOSTTOMOVE}' })\"\n  done\n  mongo --host router1.mongodb --port 27017 --quiet --eval \"db.adminCommand({removeShard: '${HOST}'})\"\n  echo \"completed removing shard '${HOST}'\"\nelif [[ \"$host_state\" == \"completed\" ]] ; then\n  echo \"Host removal completed\"\nfi\n"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"MoveShard"}],"description":"","message_list":[],"uuid":"0f732a6f-35f5-4278-a864-a32beff5d7c0","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"69281bf8_dag","uuid":"72e3f58b-c6e6-4a21-b338-61d197ae0e43"},"name":"b009fefd_runbook"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Install_Crb_05329dce_ac77_4859_8af3_ce1d08c85f89"}],"description":"","message_list":[],"uuid":"9c0f76f8-1788-41b1-b47d-67925d7febcc","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Package_05329dce_ac77_4859_8af3_ce1d08c85f89","uuid":"4183b467-86be-43da-be81-a3bc54a18a74"},"name":"SYS_GEN__Runbook_Package_05329dce_ac77_4859_8af3_ce1d08c85f89"}},{"description":"System action for creating an application","message_list":[],"uuid":"cf08fc40-ce36-43ab-8bd2-b132367ff244","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureDataSetPackage","uuid":"05329dce-ac77-4859-8af3-ce1d08c85f89"},"retries":"0","description":"","type":"DAG","uuid":"d373c188-501f-4ae1-a642-4e886876c2b1","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_05329dce_ac77_4859_8af3_ce1d08c85f89","uuid":"e49422cf-6fa0-43a3-be22-514cadf88a07"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"bcac1c87-5bb6-4830-80f8-7fac97e641a2"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"4fb468ae-7914-4c82-b5de-bdd37d6c7352"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"bcac1c87-5bb6-4830-80f8-7fac97e641a2"},"edge_type":"inherent","type":"","uuid":"7bd151be-ab08-4c45-a407-597965d83b6a","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"4fb468ae-7914-4c82-b5de-bdd37d6c7352"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_05329dce_ac77_4859_8af3_ce1d08c85f89","uuid":"e49422cf-6fa0-43a3-be22-514cadf88a07"},"edge_type":"inherent","type":"","uuid":"33c94811-7448-45e9-8d18-a377671031ff","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"bcac1c87-5bb6-4830-80f8-7fac97e641a2"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_05329dce_ac77_4859_8af3_ce1d08c85f89"},{"target_any_local_reference":{"kind":"app_package","name":"AzureDataSetPackage","uuid":"05329dce-ac77-4859-8af3-ce1d08c85f89"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"e49422cf-6fa0-43a3-be22-514cadf88a07","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_05329dce_ac77_4859_8af3_ce1d08c85f89","uuid":"9c0f76f8-1788-41b1-b47d-67925d7febcc"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_05329dce_ac77_4859_8af3_ce1d08c85f89"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"bcac1c87-5bb6-4830-80f8-7fac97e641a2","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0bda2b69_runbook","uuid":"c08988e8-53fc-48b3-942d-00d118016989"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"4fb468ae-7914-4c82-b5de-bdd37d6c7352","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0f1333dd_runbook","uuid":"43f16a26-e0b7-42a9-b2de-6e6d4147d381"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47"}],"description":"","message_list":[],"uuid":"3beed9a9-7b6e-42a1-bcb8-b3a32a0d4389","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_05329dce_ac77_4859_8af3_ce1d08c85f89","uuid":"d373c188-501f-4ae1-a642-4e886876c2b1"},"name":"SYS_GEN__Runbook_Package_05329dce_ac77_4859_8af3_ce1d08c85f89"}},{"description":"System action for uninstalling an application","message_list":[],"uuid":"689d6f00-3f9d-4dd2-8b76-3897cb1b7da3","name":"action_uninstall","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureDataSetPackage","uuid":"05329dce-ac77-4859-8af3-ce1d08c85f89"},"retries":"0","description":"","type":"DAG","uuid":"4ffa47d7-733e-4bca-ab0a-85cdbcc6c62a","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Uninstall_Crb_05329dce_ac77_4859_8af3_ce1d08c85f89","uuid":"3b42ed66-3d3f-4f41-b1e7-7f7115b84d4a"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Package_05329dce_ac77_4859_8af3_ce1d08c85f89"},{"target_any_local_reference":{"kind":"app_package","name":"AzureDataSetPackage","uuid":"05329dce-ac77-4859-8af3-ce1d08c85f89"},"retries":"0","description":"","type":"CUSTOM_PACKAGE_UNINSTALL","uuid":"3b42ed66-3d3f-4f41-b1e7-7f7115b84d4a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureDataSetPackage","uuid":"05329dce-ac77-4859-8af3-ce1d08c85f89"},"retries":"0","description":"","type":"DAG","uuid":"c993d755-5fe6-45da-99a0-6e924ba7da0e","child_tasks_local_reference_list":[{"kind":"app_task","name":"DataSet Install","uuid":"afaba3a9-f58a-4bc2-bb86-12423abb3c62"},{"kind":"app_task","name":"DataSet Configure","uuid":"80f333a0-5159-41f2-87e8-b7a9a818a68c"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"DataSet Install","uuid":"afaba3a9-f58a-4bc2-bb86-12423abb3c62"},"edge_type":"user_defined","type":"","uuid":"bc30c80e-2c51-4f86-acbd-6942cd311d40","to_task_reference":{"kind":"app_task","name":"DataSet Configure","uuid":"80f333a0-5159-41f2-87e8-b7a9a818a68c"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"78ede58b_dag"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"EXEC","uuid":"afaba3a9-f58a-4bc2-bb86-12423abb3c62","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nVERSION=\"@@{MONGO_VERSION}@@\"\nDATA_PATH=\"@@{DATA_PATH}@@\"\nJOURNAL_PATH=\"@@{JOURNAL_PATH}@@\"\nLOG_PATH=\"@@{LOG_PATH}@@\"\nsudo hostnamectl set-hostname --static @@{name}@@\n\ncat > \/tmp\/set-hostnames.py <<EOF\n#!\/usr\/bin\/python\nimport re\nconfig_ips=\"@@{AzureConfigSet.private_ip_address}@@\"\ndata_ips=\"@@{calm_array_private_ip_address}@@\"\nrouter_ips=\"@@{AzureRouter.private_ip_address}@@\"\n\nhostfile = open('\/etc\/hosts', 'r').read()\nprint hostfile\nhostfile = re.sub('\\n#MONGODB-BEGIN.*?#MONGODB-END', '', hostfile, flags=re.DOTALL)\nhostfile += \"#MONGODB-BEGIN\\n\"\ncount=1\nfor ip in config_ips.split(','):\n  hostfile += ip + \" config\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in data_ips.split(','):\n  hostfile += ip + \" data\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in router_ips.split(','):\n  hostfile += ip + \" router\" + str(count) + \".mongodb\\n\"\n  count += 1\nhostfile += \"#MONGODB-END\\n\"\nopen('\/etc\/hosts', 'w').write(hostfile)\nEOF\n\nsudo python \/tmp\/set-hostnames.py\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho '[mongodb-org-3.4]\nname=MongoDB Repository\nbaseurl=https:\/\/repo.mongodb.org\/yum\/redhat\/$releasever\/mongodb-org\/3.4\/x86_64\/\ngpgcheck=1\nenabled=1\ngpgkey=https:\/\/www.mongodb.org\/static\/pgp\/server-3.4.asc' | sudo tee \/etc\/yum.repos.d\/mongodb-3.4.repo\n\nsudo yum update -y --quiet\nsudo yum install -y --quiet mongodb-org-${VERSION} mongodb-org-server-${VERSION} mongodb-org-shell-${VERSION} mongodb-org-mongos-${VERSION} mongodb-org-tools-${VERSION}\n\necho 'exclude=mongodb-org*' | sudo tee -a \/etc\/yum.conf\n\n\nsudo mkdir -p ${DATA_PATH} ${JOURNAL_PATH} ${LOG_PATH}\nsudo ln -s ${JOURNAL_PATH} ${DATA_PATH}\/journal\n\nsudo chown -R mongod:mongod ${DATA_PATH} ${JOURNAL_PATH} ${LOG_PATH}\n\nsudo sysctl vm.swappiness=1\necho 'vm.swappiness=1' | sudo tee -a \/etc\/sysctl.conf\n"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"DataSet Install"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"EXEC","uuid":"80f333a0-5159-41f2-87e8-b7a9a818a68c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nREPLICA_IPS=\"@@{calm_array_private_ip_address}@@\"\nDATA_PATH=\"@@{DATA_PATH}@@\"\nINTERNAL_IP=\"@@{private_ip_address}@@\"\nINDEX=@@{calm_array_index}@@\nNODES_PER_REPLICA_SET=@@{NODES_PER_REPLICA_SET}@@\nARRAY_REPLICA_IPS=$(echo ${REPLICA_IPS} | sed 's\/^,\/\/' | sed 's\/,$\/\/' | tr \",\" \"\\n\")\n\ntmp=$((${INDEX}+${NODES_PER_REPLICA_SET}))\nreplicasetNo=$((${tmp}\/${NODES_PER_REPLICA_SET}))\nreplicaSetName=\"dataReplSet${replicasetNo}\"\n\nsudo sed -i 's\/bindIp:\/#bindIp:\/g' \/etc\/mongod.conf\nsudo sed -i \"s#\/var\/lib\/mongo#${DATA_PATH}#g\" \/etc\/mongod.conf\nsudo sed -i \"s\/#replication:\/replication:\\n  replSetName: $replicaSetName\/g\" \/etc\/mongod.conf\nsudo sed -i 's\/#sharding:\/sharding:\\n  clusterRole: shardsvr\/g' \/etc\/mongod.conf\nsudo sed -i 's#  path: \/var\/log\/mongodb\/mongod.log#  path: \/mongodb\/log\/mongod.log#' \/etc\/mongod.conf\n\n### Getting replicaset members details \nreplica_cnt=0\ndeclare -a replicaset_members\n\nfor replica in $ARRAY_REPLICA_IPS\ndo\n  tmp=$((${replica_cnt}+${NODES_PER_REPLICA_SET}))\n  i=\"$((${tmp}\/${NODES_PER_REPLICA_SET}))\"\n  replicaset_members[$i]=${replicaset_members[$i]}\"{\\\"_id\\\": $replica_cnt, host:\\\"$replica:27017\\\"},\"\n  replica_cnt=$(($replica_cnt + 1))\ndone\n\nif [[ -f \/sys\/kernel\/mm\/transparent_hugepage\/enabled ]];then\n\techo never | sudo tee \/sys\/kernel\/mm\/transparent_hugepage\/enabled\nfi\nif [[ -f \/sys\/kernel\/mm\/transparent_hugepage\/defrag ]];then\n\techo never | sudo tee \/sys\/kernel\/mm\/transparent_hugepage\/defrag\nfi\n\nsudo systemctl restart mongod\nsleep 15\n\n### Initiating replicaset \njson=$(cat <<EOF\n{\n  \"_id\": \"$replicaSetName\",\n  \"members\": [ ${replicaset_members[$replicasetNo]}]\n}\nEOF\n)\nsudo mongo --host ${INTERNAL_IP} --port 27017 --eval \"rs.initiate( $json )\"\nsleep 2\n"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"DataSet Configure"}],"description":"","message_list":[],"uuid":"105c9ac7-f0c0-46fc-8500-33538b547977","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"78ede58b_dag","uuid":"c993d755-5fe6-45da-99a0-6e924ba7da0e"},"name":"43f8f143_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureDataSetPackage","uuid":"05329dce-ac77-4859-8af3-ce1d08c85f89"},"retries":"0","description":"","type":"DAG","uuid":"72e3f58b-c6e6-4a21-b338-61d197ae0e43","child_tasks_local_reference_list":[{"kind":"app_task","name":"MoveShard","uuid":"6e9a91d7-04b7-419a-95a4-f1717d8fabe0"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"69281bf8_dag"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"EXEC","uuid":"6e9a91d7-04b7-419a-95a4-f1717d8fabe0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\n\nnode=$(echo \"@@{calm_array_address}@@\" | tr ',' '\\n' | wc -l)\n\nif [[ \"@@{calm_array_index}@@\" != \"$(($node-1))\" ]];then\n  exit 0\nfi\n\neval $(mongo --host router1.mongodb --port 27017 --quiet --eval 'db.adminCommand( { listShards: 1 } )' | python -c '\nimport json,sys\ndata=json.load(sys.stdin)\nprint \"HOST={}\".format(data[\"shards\"][len(data[\"shards\"])-1][\"host\"])\n')\neval $(mongo --host router1.mongodb --port 27017 --quiet --eval 'db.adminCommand( { listShards: 1 } )' | python -c '\nimport json,sys\ndata=json.load(sys.stdin)\nprint \"HOSTTOMOVE={}\".format(data[\"shards\"][@@{SHARD_TO_MOVE}@@-1][\"host\"])\n')\nhost_state=`mongo --host router1.mongodb --port 27017 --quiet --eval \"db.adminCommand({removeShard: '${HOST}'})['state']\"`\nif [[ \"$host_state\" == \"started\" ]] ; then\n  sleep 5\nfi\nhost_state=`mongo --host router1.mongodb --port 27017 --quiet --eval \"db.adminCommand({removeShard: '${HOST}'})['state']\"`\nif [[ \"$host_state\" == \"ongoing\" ]] ; then\n  if [[ \"@@{SHARD_TO_MOVE}@@\" == \"\" ]] ; then\n    echo \"Please enter the shard number value to move tables.\"\n    exit 1\n  fi\n  dbstomove=`mongo --host router1.mongodb --port 27017 --quiet --eval \"db.adminCommand({removeShard: '${HOST}'})['dbsToMove']\"`\n  eval $(echo $dbstomove | python -c 'import json,sys ; data=json.load(sys.stdin) ; print \"DBSTOMOVE={}\".format(\",\".join(data))')\n  for x in $(echo $DBSTOMOVE | tr \",\" \"\\n\") ; do\n     echo \"echo moving $x\"\n     mongo --host router1.mongodb --port 27017 --quiet --eval \"db.adminCommand({ movePrimary: '$x', to: '${HOSTTOMOVE}' })\"\n  done\n  mongo --host router1.mongodb --port 27017 --quiet --eval \"db.adminCommand({removeShard: '${HOST}'})\"\n  echo \"completed removing shard '${HOST}'\"\nelif [[ \"$host_state\" == \"completed\" ]] ; then\n  echo \"Host removal completed\"\nfi\n"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"MoveShard"}],"description":"","message_list":[],"uuid":"0f732a6f-35f5-4278-a864-a32beff5d7c0","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"69281bf8_dag","uuid":"72e3f58b-c6e6-4a21-b338-61d197ae0e43"},"name":"b009fefd_runbook"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Uninstall_Crb_05329dce_ac77_4859_8af3_ce1d08c85f89"}],"description":"","message_list":[],"uuid":"3f6ffb82-4f34-482a-8a93-7a7704f0c8e8","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Package_05329dce_ac77_4859_8af3_ce1d08c85f89","uuid":"4ffa47d7-733e-4bca-ab0a-85cdbcc6c62a"},"name":"SYS_GEN__Runbook_Package_05329dce_ac77_4859_8af3_ce1d08c85f89"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"863e9d91-c620-4a9a-a606-746ce13e2cee","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureDataSetPackage","uuid":"05329dce-ac77-4859-8af3-ce1d08c85f89"},"retries":"0","description":"","type":"DAG","uuid":"b4232d0f-2357-4cd2-bf45-9bda4d235049","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"ae8d4667-c1c1-4ff7-94b6-8b05bcdbcf61"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"ac01b32d-2e52-4cfd-a685-798fcb5ca6d3"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_05329dce_ac77_4859_8af3_ce1d08c85f89","uuid":"eef5fb4f-0fb4-4dd1-98da-9cf15213fdd4"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"ae8d4667-c1c1-4ff7-94b6-8b05bcdbcf61"},"edge_type":"inherent","type":"","uuid":"735b9556-4f5b-4c79-bd81-781bfe4a0bd4","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"ac01b32d-2e52-4cfd-a685-798fcb5ca6d3"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"ac01b32d-2e52-4cfd-a685-798fcb5ca6d3"},"edge_type":"inherent","type":"","uuid":"19246a34-5647-49d5-ba95-059181771d0c","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_05329dce_ac77_4859_8af3_ce1d08c85f89","uuid":"eef5fb4f-0fb4-4dd1-98da-9cf15213fdd4"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_05329dce_ac77_4859_8af3_ce1d08c85f89"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"ae8d4667-c1c1-4ff7-94b6-8b05bcdbcf61","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"85883b0a_runbook","uuid":"42cf4c9d-d9e5-435e-b222-f2d33a05683f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"ac01b32d-2e52-4cfd-a685-798fcb5ca6d3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"036f3879_runbook","uuid":"c6545ccb-d141-45bd-bf59-cf1e44946785"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47"},{"target_any_local_reference":{"kind":"app_package","name":"AzureDataSetPackage","uuid":"05329dce-ac77-4859-8af3-ce1d08c85f89"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"eef5fb4f-0fb4-4dd1-98da-9cf15213fdd4","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_05329dce_ac77_4859_8af3_ce1d08c85f89","uuid":"3f6ffb82-4f34-482a-8a93-7a7704f0c8e8"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_05329dce_ac77_4859_8af3_ce1d08c85f89"}],"description":"","message_list":[],"uuid":"0a9494d0-4abf-4293-bada-ffe9289a1da1","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_05329dce_ac77_4859_8af3_ce1d08c85f89","uuid":"b4232d0f-2357-4cd2-bf45-9bda4d235049"},"name":"SYS_GEN__Runbook_Package_05329dce_ac77_4859_8af3_ce1d08c85f89"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"d455806f-8111-41f0-ad66-f19321e0a12a","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureDataSetPackage","uuid":"05329dce-ac77-4859-8af3-ce1d08c85f89"},"retries":"0","description":"","type":"DAG","uuid":"60dbf7cc-4ddb-4bce-932f-392586f7ede3","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"572a9789-87e3-49d6-aece-07061742c72c"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_05329dce_ac77_4859_8af3_ce1d08c85f89","uuid":"60fa6e1e-eb6c-414a-bf30-7cdaa442cfa8"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"572a9789-87e3-49d6-aece-07061742c72c"},"edge_type":"inherent","type":"","uuid":"5cf7d4bc-e657-4c1b-b9b3-c00bb5fa8d05","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_05329dce_ac77_4859_8af3_ce1d08c85f89","uuid":"60fa6e1e-eb6c-414a-bf30-7cdaa442cfa8"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_05329dce_ac77_4859_8af3_ce1d08c85f89"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"572a9789-87e3-49d6-aece-07061742c72c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"433fbe65-0fc7-4649-a088-87d5660f88a6"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47"},{"target_any_local_reference":{"kind":"app_package","name":"AzureDataSetPackage","uuid":"05329dce-ac77-4859-8af3-ce1d08c85f89"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"60fa6e1e-eb6c-414a-bf30-7cdaa442cfa8","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_05329dce_ac77_4859_8af3_ce1d08c85f89"}],"description":"","message_list":[],"uuid":"a9dcbd39-0168-4650-bec4-2b41e032c139","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_05329dce_ac77_4859_8af3_ce1d08c85f89","uuid":"60dbf7cc-4ddb-4bce-932f-392586f7ede3"},"name":"SYS_GEN__Runbook_Package_05329dce_ac77_4859_8af3_ce1d08c85f89"}},{"description":"System action for starting an application","message_list":[],"uuid":"8c7ea7fe-a729-4237-a852-71a093d54500","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureDataSetPackage","uuid":"05329dce-ac77-4859-8af3-ce1d08c85f89"},"retries":"0","description":"","type":"DAG","uuid":"63599dda-6c51-497c-ac05-917185e15850","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"91d96ad7-6a86-414c-964f-dabd3d8cc373"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_05329dce_ac77_4859_8af3_ce1d08c85f89"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"91d96ad7-6a86-414c-964f-dabd3d8cc373","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0f1333dd_runbook","uuid":"43f16a26-e0b7-42a9-b2de-6e6d4147d381"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47"}],"description":"","message_list":[],"uuid":"89e302c2-c92d-4d36-a848-787c538996c9","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_05329dce_ac77_4859_8af3_ce1d08c85f89","uuid":"63599dda-6c51-497c-ac05-917185e15850"},"name":"SYS_GEN__Runbook_Package_05329dce_ac77_4859_8af3_ce1d08c85f89"}},{"description":"System action for restarting an application","message_list":[],"uuid":"c8c3af6b-13d9-4fe9-bfc5-2c5b272c3948","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureDataSetPackage","uuid":"05329dce-ac77-4859-8af3-ce1d08c85f89"},"retries":"0","description":"","type":"DAG","uuid":"437441d2-5452-48e0-9025-39aad7cf7b75","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"e8113698-f0ec-4a4c-a09f-c881e3b53fad"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_05329dce_ac77_4859_8af3_ce1d08c85f89"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"e8113698-f0ec-4a4c-a09f-c881e3b53fad","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"4f7b2559_runbook","uuid":"03856e37-e1bf-4b7c-95bb-87bf81c6c940"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47"}],"description":"","message_list":[],"uuid":"1acb2d9d-6388-4ab8-afce-2e618f3b1a72","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_05329dce_ac77_4859_8af3_ce1d08c85f89","uuid":"437441d2-5452-48e0-9025-39aad7cf7b75"},"name":"SYS_GEN__Runbook_Package_05329dce_ac77_4859_8af3_ce1d08c85f89"}},{"description":"System action for stopping an application","message_list":[],"uuid":"719106c9-dc54-4720-b9e3-6f6c5a9295b3","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureDataSetPackage","uuid":"05329dce-ac77-4859-8af3-ce1d08c85f89"},"retries":"0","description":"","type":"DAG","uuid":"8fed7c2e-bb9a-44cd-9ea1-f59a4846d807","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"698af416-13ac-4370-8c1b-11b3ec7d4195"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_05329dce_ac77_4859_8af3_ce1d08c85f89"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"698af416-13ac-4370-8c1b-11b3ec7d4195","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"85883b0a_runbook","uuid":"42cf4c9d-d9e5-435e-b222-f2d33a05683f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47"}],"description":"","message_list":[],"uuid":"5084c8ec-36c3-4057-925b-5adf27ba6ada","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_05329dce_ac77_4859_8af3_ce1d08c85f89","uuid":"8fed7c2e-bb9a-44cd-9ea1-f59a4846d807"},"name":"SYS_GEN__Runbook_Package_05329dce_ac77_4859_8af3_ce1d08c85f89"}}],"message_list":[],"service_local_reference_list":[{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"}],"uuid":"05329dce-ac77-4859-8af3-ce1d08c85f89","state":"ACTIVE","version":"","editables":{},"type":"DEB","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureDataSetPackage","uuid":"05329dce-ac77-4859-8af3-ce1d08c85f89"},"retries":"0","description":"","type":"DAG","uuid":"c993d755-5fe6-45da-99a0-6e924ba7da0e","child_tasks_local_reference_list":[{"kind":"app_task","name":"DataSet Install","uuid":"afaba3a9-f58a-4bc2-bb86-12423abb3c62"},{"kind":"app_task","name":"DataSet Configure","uuid":"80f333a0-5159-41f2-87e8-b7a9a818a68c"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"DataSet Install","uuid":"afaba3a9-f58a-4bc2-bb86-12423abb3c62"},"edge_type":"user_defined","type":"","uuid":"bc30c80e-2c51-4f86-acbd-6942cd311d40","to_task_reference":{"kind":"app_task","name":"DataSet Configure","uuid":"80f333a0-5159-41f2-87e8-b7a9a818a68c"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"78ede58b_dag"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"EXEC","uuid":"afaba3a9-f58a-4bc2-bb86-12423abb3c62","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nVERSION=\"@@{MONGO_VERSION}@@\"\nDATA_PATH=\"@@{DATA_PATH}@@\"\nJOURNAL_PATH=\"@@{JOURNAL_PATH}@@\"\nLOG_PATH=\"@@{LOG_PATH}@@\"\nsudo hostnamectl set-hostname --static @@{name}@@\n\ncat > \/tmp\/set-hostnames.py <<EOF\n#!\/usr\/bin\/python\nimport re\nconfig_ips=\"@@{AzureConfigSet.private_ip_address}@@\"\ndata_ips=\"@@{calm_array_private_ip_address}@@\"\nrouter_ips=\"@@{AzureRouter.private_ip_address}@@\"\n\nhostfile = open('\/etc\/hosts', 'r').read()\nprint hostfile\nhostfile = re.sub('\\n#MONGODB-BEGIN.*?#MONGODB-END', '', hostfile, flags=re.DOTALL)\nhostfile += \"#MONGODB-BEGIN\\n\"\ncount=1\nfor ip in config_ips.split(','):\n  hostfile += ip + \" config\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in data_ips.split(','):\n  hostfile += ip + \" data\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in router_ips.split(','):\n  hostfile += ip + \" router\" + str(count) + \".mongodb\\n\"\n  count += 1\nhostfile += \"#MONGODB-END\\n\"\nopen('\/etc\/hosts', 'w').write(hostfile)\nEOF\n\nsudo python \/tmp\/set-hostnames.py\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho '[mongodb-org-3.4]\nname=MongoDB Repository\nbaseurl=https:\/\/repo.mongodb.org\/yum\/redhat\/$releasever\/mongodb-org\/3.4\/x86_64\/\ngpgcheck=1\nenabled=1\ngpgkey=https:\/\/www.mongodb.org\/static\/pgp\/server-3.4.asc' | sudo tee \/etc\/yum.repos.d\/mongodb-3.4.repo\n\nsudo yum update -y --quiet\nsudo yum install -y --quiet mongodb-org-${VERSION} mongodb-org-server-${VERSION} mongodb-org-shell-${VERSION} mongodb-org-mongos-${VERSION} mongodb-org-tools-${VERSION}\n\necho 'exclude=mongodb-org*' | sudo tee -a \/etc\/yum.conf\n\n\nsudo mkdir -p ${DATA_PATH} ${JOURNAL_PATH} ${LOG_PATH}\nsudo ln -s ${JOURNAL_PATH} ${DATA_PATH}\/journal\n\nsudo chown -R mongod:mongod ${DATA_PATH} ${JOURNAL_PATH} ${LOG_PATH}\n\nsudo sysctl vm.swappiness=1\necho 'vm.swappiness=1' | sudo tee -a \/etc\/sysctl.conf\n"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"DataSet Install"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"EXEC","uuid":"80f333a0-5159-41f2-87e8-b7a9a818a68c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nREPLICA_IPS=\"@@{calm_array_private_ip_address}@@\"\nDATA_PATH=\"@@{DATA_PATH}@@\"\nINTERNAL_IP=\"@@{private_ip_address}@@\"\nINDEX=@@{calm_array_index}@@\nNODES_PER_REPLICA_SET=@@{NODES_PER_REPLICA_SET}@@\nARRAY_REPLICA_IPS=$(echo ${REPLICA_IPS} | sed 's\/^,\/\/' | sed 's\/,$\/\/' | tr \",\" \"\\n\")\n\ntmp=$((${INDEX}+${NODES_PER_REPLICA_SET}))\nreplicasetNo=$((${tmp}\/${NODES_PER_REPLICA_SET}))\nreplicaSetName=\"dataReplSet${replicasetNo}\"\n\nsudo sed -i 's\/bindIp:\/#bindIp:\/g' \/etc\/mongod.conf\nsudo sed -i \"s#\/var\/lib\/mongo#${DATA_PATH}#g\" \/etc\/mongod.conf\nsudo sed -i \"s\/#replication:\/replication:\\n  replSetName: $replicaSetName\/g\" \/etc\/mongod.conf\nsudo sed -i 's\/#sharding:\/sharding:\\n  clusterRole: shardsvr\/g' \/etc\/mongod.conf\nsudo sed -i 's#  path: \/var\/log\/mongodb\/mongod.log#  path: \/mongodb\/log\/mongod.log#' \/etc\/mongod.conf\n\n### Getting replicaset members details \nreplica_cnt=0\ndeclare -a replicaset_members\n\nfor replica in $ARRAY_REPLICA_IPS\ndo\n  tmp=$((${replica_cnt}+${NODES_PER_REPLICA_SET}))\n  i=\"$((${tmp}\/${NODES_PER_REPLICA_SET}))\"\n  replicaset_members[$i]=${replicaset_members[$i]}\"{\\\"_id\\\": $replica_cnt, host:\\\"$replica:27017\\\"},\"\n  replica_cnt=$(($replica_cnt + 1))\ndone\n\nif [[ -f \/sys\/kernel\/mm\/transparent_hugepage\/enabled ]];then\n\techo never | sudo tee \/sys\/kernel\/mm\/transparent_hugepage\/enabled\nfi\nif [[ -f \/sys\/kernel\/mm\/transparent_hugepage\/defrag ]];then\n\techo never | sudo tee \/sys\/kernel\/mm\/transparent_hugepage\/defrag\nfi\n\nsudo systemctl restart mongod\nsleep 15\n\n### Initiating replicaset \njson=$(cat <<EOF\n{\n  \"_id\": \"$replicaSetName\",\n  \"members\": [ ${replicaset_members[$replicasetNo]}]\n}\nEOF\n)\nsudo mongo --host ${INTERNAL_IP} --port 27017 --eval \"rs.initiate( $json )\"\nsleep 2\n"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"DataSet Configure"}],"description":"","message_list":[],"uuid":"105c9ac7-f0c0-46fc-8500-33538b547977","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"78ede58b_dag","uuid":"c993d755-5fe6-45da-99a0-6e924ba7da0e"},"name":"43f8f143_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureDataSetPackage","uuid":"05329dce-ac77-4859-8af3-ce1d08c85f89"},"retries":"0","description":"","type":"DAG","uuid":"72e3f58b-c6e6-4a21-b338-61d197ae0e43","child_tasks_local_reference_list":[{"kind":"app_task","name":"MoveShard","uuid":"6e9a91d7-04b7-419a-95a4-f1717d8fabe0"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"69281bf8_dag"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"EXEC","uuid":"6e9a91d7-04b7-419a-95a4-f1717d8fabe0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\n\nnode=$(echo \"@@{calm_array_address}@@\" | tr ',' '\\n' | wc -l)\n\nif [[ \"@@{calm_array_index}@@\" != \"$(($node-1))\" ]];then\n  exit 0\nfi\n\neval $(mongo --host router1.mongodb --port 27017 --quiet --eval 'db.adminCommand( { listShards: 1 } )' | python -c '\nimport json,sys\ndata=json.load(sys.stdin)\nprint \"HOST={}\".format(data[\"shards\"][len(data[\"shards\"])-1][\"host\"])\n')\neval $(mongo --host router1.mongodb --port 27017 --quiet --eval 'db.adminCommand( { listShards: 1 } )' | python -c '\nimport json,sys\ndata=json.load(sys.stdin)\nprint \"HOSTTOMOVE={}\".format(data[\"shards\"][@@{SHARD_TO_MOVE}@@-1][\"host\"])\n')\nhost_state=`mongo --host router1.mongodb --port 27017 --quiet --eval \"db.adminCommand({removeShard: '${HOST}'})['state']\"`\nif [[ \"$host_state\" == \"started\" ]] ; then\n  sleep 5\nfi\nhost_state=`mongo --host router1.mongodb --port 27017 --quiet --eval \"db.adminCommand({removeShard: '${HOST}'})['state']\"`\nif [[ \"$host_state\" == \"ongoing\" ]] ; then\n  if [[ \"@@{SHARD_TO_MOVE}@@\" == \"\" ]] ; then\n    echo \"Please enter the shard number value to move tables.\"\n    exit 1\n  fi\n  dbstomove=`mongo --host router1.mongodb --port 27017 --quiet --eval \"db.adminCommand({removeShard: '${HOST}'})['dbsToMove']\"`\n  eval $(echo $dbstomove | python -c 'import json,sys ; data=json.load(sys.stdin) ; print \"DBSTOMOVE={}\".format(\",\".join(data))')\n  for x in $(echo $DBSTOMOVE | tr \",\" \"\\n\") ; do\n     echo \"echo moving $x\"\n     mongo --host router1.mongodb --port 27017 --quiet --eval \"db.adminCommand({ movePrimary: '$x', to: '${HOSTTOMOVE}' })\"\n  done\n  mongo --host router1.mongodb --port 27017 --quiet --eval \"db.adminCommand({removeShard: '${HOST}'})\"\n  echo \"completed removing shard '${HOST}'\"\nelif [[ \"$host_state\" == \"completed\" ]] ; then\n  echo \"Host removal completed\"\nfi\n"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"MoveShard"}],"description":"","message_list":[],"uuid":"0f732a6f-35f5-4278-a864-a32beff5d7c0","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"69281bf8_dag","uuid":"72e3f58b-c6e6-4a21-b338-61d197ae0e43"},"name":"b009fefd_runbook"}},"variable_list":[],"name":"AzureDataSetPackage"},{"description":"","action_list":[{"description":"System action for installing an application","message_list":[],"uuid":"42b2f7b2-490a-4d58-aadc-2a5a82af32e9","name":"action_install","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"ESX_CENTOS_76","uuid":"ceebfa0c-f616-c3ca-4d88-fe76d5434070"},"retries":"0","description":"","type":"DAG","uuid":"1bb50e6c-673b-4d19-b959-229d2a5d4825","child_tasks_local_reference_list":[{"kind":"app_task","name":"Image Fetch task for VM","uuid":"89947b78-a4c1-4d1e-b905-318a3b72c4ca"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Package_ceebfa0c_f616_c3ca_4d88_fe76d5434070"},{"target_any_local_reference":{"kind":"app_package","name":"ESX_CENTOS_76","uuid":"ceebfa0c-f616-c3ca-4d88-fe76d5434070"},"retries":"0","description":"","type":"SUBSTRATE_IMAGE_FETCH","uuid":"89947b78-a4c1-4d1e-b905-318a3b72c4ca","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"","name":"CENTOS_76","resources":{"image_type":"DISK_IMAGE","checksum":{},"source_uri":"http:\/\/download.nutanix.com\/calm\/CentOS-7-x86_64-1810.ova","version":{},"architecture":"X86_64","type":""},"description":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Image Fetch task for VM"}],"description":"","message_list":[],"uuid":"36344bea-5eb1-4062-9712-b5087f716c8e","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Package_ceebfa0c_f616_c3ca_4d88_fe76d5434070","uuid":"1bb50e6c-673b-4d19-b959-229d2a5d4825"},"name":"SYS_GEN__Runbook_Package_ceebfa0c_f616_c3ca_4d88_fe76d5434070"}},{"description":"System action for creating an application","message_list":[],"uuid":"e2ef5632-c99c-4d76-81f0-3c79ace3eb31","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"ESX_CENTOS_76","uuid":"ceebfa0c-f616-c3ca-4d88-fe76d5434070"},"retries":"0","description":"","type":"DAG","uuid":"0840f744-21a3-4237-b4e1-b9c0ea230def","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_ceebfa0c_f616_c3ca_4d88_fe76d5434070","uuid":"8b0066e6-7a31-448e-bfc8-002201571dfa"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_ceebfa0c_f616_c3ca_4d88_fe76d5434070"},{"target_any_local_reference":{"kind":"app_package","name":"ESX_CENTOS_76","uuid":"ceebfa0c-f616-c3ca-4d88-fe76d5434070"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"8b0066e6-7a31-448e-bfc8-002201571dfa","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_ceebfa0c_f616_c3ca_4d88_fe76d5434070","uuid":"36344bea-5eb1-4062-9712-b5087f716c8e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_ceebfa0c_f616_c3ca_4d88_fe76d5434070"}],"description":"","message_list":[],"uuid":"9cb0e2f6-e7da-4918-a106-50b9f3c8e014","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_ceebfa0c_f616_c3ca_4d88_fe76d5434070","uuid":"0840f744-21a3-4237-b4e1-b9c0ea230def"},"name":"SYS_GEN__Runbook_Package_ceebfa0c_f616_c3ca_4d88_fe76d5434070"}},{"description":"System action for starting an application","message_list":[],"uuid":"9b5330db-2d01-4050-a030-919bf45b1a7f","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"ESX_CENTOS_76","uuid":"ceebfa0c-f616-c3ca-4d88-fe76d5434070"},"retries":"0","description":"","type":"DAG","uuid":"3694a1bf-e983-48f3-b543-79de9230bb82","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_ceebfa0c_f616_c3ca_4d88_fe76d5434070"}],"description":"","message_list":[],"uuid":"057433ff-edba-4295-8f1d-8c47fb5de3e7","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_ceebfa0c_f616_c3ca_4d88_fe76d5434070","uuid":"3694a1bf-e983-48f3-b543-79de9230bb82"},"name":"SYS_GEN__Runbook_Package_ceebfa0c_f616_c3ca_4d88_fe76d5434070"}},{"description":"System action for restarting an application","message_list":[],"uuid":"3bc67ba4-8922-49b5-9f5e-a752e63375e0","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"ESX_CENTOS_76","uuid":"ceebfa0c-f616-c3ca-4d88-fe76d5434070"},"retries":"0","description":"","type":"DAG","uuid":"282b7f42-f42e-468a-899e-f7eb381d649e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_ceebfa0c_f616_c3ca_4d88_fe76d5434070"}],"description":"","message_list":[],"uuid":"f2357e55-f7f6-43dd-882f-40913e855132","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_ceebfa0c_f616_c3ca_4d88_fe76d5434070","uuid":"282b7f42-f42e-468a-899e-f7eb381d649e"},"name":"SYS_GEN__Runbook_Package_ceebfa0c_f616_c3ca_4d88_fe76d5434070"}},{"description":"System action for stopping an application","message_list":[],"uuid":"b32e0711-d60b-49d5-8b04-f90d17f6c7c7","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"ESX_CENTOS_76","uuid":"ceebfa0c-f616-c3ca-4d88-fe76d5434070"},"retries":"0","description":"","type":"DAG","uuid":"7ceb4f6b-5b82-496c-bb72-c33373699708","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_ceebfa0c_f616_c3ca_4d88_fe76d5434070"}],"description":"","message_list":[],"uuid":"694b50f2-43b0-48a1-8fa3-bed451d8c547","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_ceebfa0c_f616_c3ca_4d88_fe76d5434070","uuid":"7ceb4f6b-5b82-496c-bb72-c33373699708"},"name":"SYS_GEN__Runbook_Package_ceebfa0c_f616_c3ca_4d88_fe76d5434070"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"1b8fdb70-f96d-4336-bf7a-e513d7afddbb","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"ESX_CENTOS_76","uuid":"ceebfa0c-f616-c3ca-4d88-fe76d5434070"},"retries":"0","description":"","type":"DAG","uuid":"031404f6-3297-4eb0-8c1a-365d97277637","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_ceebfa0c_f616_c3ca_4d88_fe76d5434070"}],"description":"","message_list":[],"uuid":"15d27149-faf3-4ec7-9725-f527eec5606c","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_ceebfa0c_f616_c3ca_4d88_fe76d5434070","uuid":"031404f6-3297-4eb0-8c1a-365d97277637"},"name":"SYS_GEN__Runbook_Package_ceebfa0c_f616_c3ca_4d88_fe76d5434070"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"958a197d-1ac5-4d66-b3dc-4bf914bcdf01","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"ESX_CENTOS_76","uuid":"ceebfa0c-f616-c3ca-4d88-fe76d5434070"},"retries":"0","description":"","type":"DAG","uuid":"5fefda59-75de-4b71-87c4-5bbce005deb5","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_ceebfa0c_f616_c3ca_4d88_fe76d5434070"}],"description":"","message_list":[],"uuid":"4a3180d9-1427-48ac-a9ed-35784e030fed","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_ceebfa0c_f616_c3ca_4d88_fe76d5434070","uuid":"5fefda59-75de-4b71-87c4-5bbce005deb5"},"name":"SYS_GEN__Runbook_Package_ceebfa0c_f616_c3ca_4d88_fe76d5434070"}}],"message_list":[],"service_local_reference_list":[],"uuid":"ceebfa0c-f616-c3ca-4d88-fe76d5434070","state":"ACTIVE","version":"","editables":{},"type":"SUBSTRATE_IMAGE","options":{"type":"","name":"CENTOS_76","resources":{"image_type":"DISK_IMAGE","checksum":{},"source_uri":"http:\/\/download.nutanix.com\/calm\/CentOS-7-x86_64-1810.ova","version":{},"architecture":"X86_64","type":""},"description":""},"variable_list":[],"name":"ESX_CENTOS_76"},{"description":"","action_list":[{"description":"System action for installing an application","message_list":[],"uuid":"d77b939e-2bb8-4bbc-bf44-70e5cfabf5dc","name":"action_install","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"VMwareRouterPackage","uuid":"1d15cc5e-8151-a486-a729-df1537d0319b"},"retries":"0","description":"","type":"DAG","uuid":"1b158886-b676-47ba-965d-06d26e7ab8a7","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Install_Crb_1d15cc5e_8151_a486_a729_df1537d0319b","uuid":"2b01797c-09dd-49e4-a622-8a8674e8b62d"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Package_1d15cc5e_8151_a486_a729_df1537d0319b"},{"target_any_local_reference":{"kind":"app_package","name":"VMwareRouterPackage","uuid":"1d15cc5e-8151-a486-a729-df1537d0319b"},"retries":"0","description":"","type":"CUSTOM_PACKAGE_INSTALL","uuid":"2b01797c-09dd-49e4-a622-8a8674e8b62d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"VMwareRouterPackage","uuid":"1d15cc5e-8151-a486-a729-df1537d0319b"},"retries":"0","description":"","type":"DAG","uuid":"1a441c96-deff-b127-4580-6fe9bd5283c2","child_tasks_local_reference_list":[{"kind":"app_task","name":"Router Install","uuid":"f3553fca-562a-6cbc-0192-278436fd3443"},{"kind":"app_task","name":"Router Configure","uuid":"651b5d5c-b087-7b5d-7eb0-b7e19c661339"},{"kind":"app_task","name":"Start Shard","uuid":"ab8b82e8-1c2d-ab4e-4320-b6d9163a2f6b"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Router Install","uuid":"f3553fca-562a-6cbc-0192-278436fd3443"},"edge_type":"user_defined","type":"","uuid":"13686ec2-b327-b59f-4091-ac8765d646d9","to_task_reference":{"kind":"app_task","name":"Router Configure","uuid":"651b5d5c-b087-7b5d-7eb0-b7e19c661339"}},{"from_task_reference":{"kind":"app_task","name":"Router Configure","uuid":"651b5d5c-b087-7b5d-7eb0-b7e19c661339"},"edge_type":"user_defined","type":"","uuid":"8811bae8-f828-17e3-8e09-8c9c1b18c2bc","to_task_reference":{"kind":"app_task","name":"Start Shard","uuid":"ab8b82e8-1c2d-ab4e-4320-b6d9163a2f6b"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"300a2866_dag_cloned_1"},{"target_any_local_reference":{"kind":"app_package","name":"VMwareRouterPackage","uuid":"1d15cc5e-8151-a486-a729-df1537d0319b"},"retries":"0","description":"","type":"EXEC","uuid":"f3553fca-562a-6cbc-0192-278436fd3443","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nVERSION=\"@@{MONGO_VERSION}@@\"\nDATA_PATH=\"@@{DATA_PATH}@@\"\nJOURNAL_PATH=\"@@{JOURNAL_PATH}@@\"\nLOG_PATH=\"@@{LOG_PATH}@@\"\nsudo hostnamectl set-hostname --static @@{name}@@\n\ncat > \/tmp\/set-hostnames.py <<EOF\n#!\/usr\/bin\/python\nimport re\nconfig_ips=\"@@{VMwareConfigSet.address}@@\"\ndata_ips=\"@@{VMwareDataSet.address}@@\"\nrouter_ips=\"@@{calm_array_address}@@\"\n\nhostfile = open('\/etc\/hosts', 'r').read()\nprint hostfile\nhostfile = re.sub('\\n#MONGODB-BEGIN.*?#MONGODB-END', '', hostfile, flags=re.DOTALL)\nhostfile += \"#MONGODB-BEGIN\\n\"\ncount=1\nfor ip in config_ips.split(','):\n  hostfile += ip + \" config\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in data_ips.split(','):\n  hostfile += ip + \" data\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in router_ips.split(','):\n  hostfile += ip + \" router\" + str(count) + \".mongodb\\n\"\n  count += 1\nhostfile += \"#MONGODB-END\\n\"\nopen('\/etc\/hosts', 'w').write(hostfile)\nEOF\n\nsudo python \/tmp\/set-hostnames.py\n\nif [[ -f \/sys\/kernel\/mm\/transparent_hugepage\/enabled ]];then\n\techo never | sudo tee \/sys\/kernel\/mm\/transparent_hugepage\/enabled\nfi\nif [[ -f \/sys\/kernel\/mm\/transparent_hugepage\/defrag ]];then\n\techo never | sudo tee \/sys\/kernel\/mm\/transparent_hugepage\/defrag\nfi\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho '[mongodb-org-3.4]\nname=MongoDB Repository\nbaseurl=https:\/\/repo.mongodb.org\/yum\/redhat\/$releasever\/mongodb-org\/3.4\/x86_64\/\ngpgcheck=1\nenabled=1\ngpgkey=https:\/\/www.mongodb.org\/static\/pgp\/server-3.4.asc' | sudo tee \/etc\/yum.repos.d\/mongodb-3.4.repo\n\nsudo yum update -y --quiet\nsudo yum install -y --quiet mongodb-org-${VERSION} mongodb-org-server-${VERSION} mongodb-org-shell-${VERSION} mongodb-org-mongos-${VERSION} mongodb-org-tools-${VERSION}\n\necho 'exclude=mongodb-org*' | sudo tee -a \/etc\/yum.conf\n\nsudo mkdir -p ${DATA_PATH} ${JOURNAL_PATH} ${LOG_PATH}\nsudo ln -s ${JOURNAL_PATH} ${DATA_PATH}\/journal\nsudo chown -R mongod:mongod ${DATA_PATH} ${JOURNAL_PATH} ${LOG_PATH}"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Router Install"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"EXEC","uuid":"651b5d5c-b087-7b5d-7eb0-b7e19c661339","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nCONFIG_SRV_IPS=\"@@{ConfigSet.address}@@\"\nDATA_PATH=\"@@{DATA_PATH}@@\"\n\nconfig_ips=$(echo \"${CONFIG_SRV_IPS}\" | sed 's\/^,\/\/' | sed 's\/,$\/\/' | sed 's\/,\/:27017,\/g')\nconfig_ips=$config_ips\":27017\"\n\nsudo sed -i 's\/bindIp:\/#bindIp:\/g' \/etc\/mongod.conf\nsudo sed -i \"s#\/var\/lib\/mongo#${DATA_PATH}#g\" \/etc\/mongod.conf\n\necho \"[Unit]\nDescription=High-performance, schema-free document-oriented database\nAfter=network.target\nDocumentation=https:\/\/docs.mongodb.org\/manual\n\n[Service]\nUser=mongod\nGroup=mongod\nEnvironment=\\\"OPTIONS=--port 27017 --configdb configReplSet\/$config_ips --logpath \/var\/log\/mongodb\/mongos.log\\\"\nExecStart=\/usr\/bin\/mongos \\$OPTIONS\nPermissionsStartOnly=true\nPIDFile=\/var\/run\/mongodb\/mongos.pid\n# file size\nLimitFSIZE=infinity\n# cpu time\nLimitCPU=infinity\n# virtual memory size\nLimitAS=infinity\n# open files\nLimitNOFILE=64000\n# processes\/threads\nLimitNPROC=64000\n# total threads (user+kernel)\nTasksMax=infinity\nTasksAccounting=false\n# Recommended limits for for mongod as specified in\n# http:\/\/docs.mongodb.org\/manual\/reference\/ulimit\/#recommended-settings\n\n[Install]\nWantedBy=multi-user.target\" | sudo tee \/usr\/lib\/systemd\/system\/mongos.service\n\nsudo systemctl start mongos\n#sudo -u mongod -b mongos --port 27017 --configdb  --logpath \/var\/log\/mongodb\/mongos.log \n\nsleep 2"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Router Configure"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"EXEC","uuid":"ab8b82e8-1c2d-ab4e-4320-b6d9163a2f6b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\nNODES_PER_REPLICA_SET=\"@@{NODES_PER_REPLICA_SET}@@\"\nINTERNAL_IP=\"@@{address}@@\"\nREPLICA_IPS=($(echo @@{DataSet.address}@@ | sed 's\/^,\/\/' | sed 's\/,$\/\/' | tr \",\" \"\\n\"))\nnoOfShards=$((${#REPLICA_IPS[@]}\/${NODES_PER_REPLICA_SET}))\n\ncount=0\nfor ((number=1;number <= $noOfShards;number++))\ndo\n  replicaSetName=\"dataReplSet${number}\"\n  sudo mongo --host ${INTERNAL_IP} --port 27017 --eval \"sh.addShard( \\\"$replicaSetName\/${REPLICA_IPS[${count}]}:27017\\\" )\"\n  count=$(($count + ${NODES_PER_REPLICA_SET}))\ndone"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Start Shard"}],"description":"","message_list":[],"uuid":"d2875102-a530-ef21-969c-6b3133897a01","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"300a2866_dag_cloned_1","uuid":"1a441c96-deff-b127-4580-6fe9bd5283c2"},"name":"e0b4ff16_runbook_cloned_0"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"VMwareRouterPackage","uuid":"1d15cc5e-8151-a486-a729-df1537d0319b"},"retries":"0","description":"","type":"DAG","uuid":"a48ea740-fdc7-e2e1-81f1-882c4d1019cc","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"2991f5d5_dag_cloned_1"}],"description":"","message_list":[],"uuid":"0d6d9273-32e7-0103-c5c3-b86d6bcf344c","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"2991f5d5_dag_cloned_1","uuid":"a48ea740-fdc7-e2e1-81f1-882c4d1019cc"},"name":"c63c23aa_runbook_cloned_0"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Install_Crb_1d15cc5e_8151_a486_a729_df1537d0319b"}],"description":"","message_list":[],"uuid":"3de9f874-adc0-4927-9e27-b6b580bd2d46","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Package_1d15cc5e_8151_a486_a729_df1537d0319b","uuid":"1b158886-b676-47ba-965d-06d26e7ab8a7"},"name":"SYS_GEN__Runbook_Package_1d15cc5e_8151_a486_a729_df1537d0319b"}},{"description":"System action for creating an application","message_list":[],"uuid":"ce82c4c1-311f-467e-903c-431788e92fa8","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"VMwareRouterPackage","uuid":"1d15cc5e-8151-a486-a729-df1537d0319b"},"retries":"0","description":"","type":"DAG","uuid":"43f320df-cefe-40c3-83d2-25525048b656","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_1d15cc5e_8151_a486_a729_df1537d0319b","uuid":"aada4c34-6dcd-4db6-b759-7a81e16fd717"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"4625c634-16ad-44b9-8d69-36bc5678fc22"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"5830685e-83db-43b9-a5ec-9df16e158627"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"4625c634-16ad-44b9-8d69-36bc5678fc22"},"edge_type":"inherent","type":"","uuid":"f9748372-eafa-49e6-aa2f-6d53ae77aaef","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"5830685e-83db-43b9-a5ec-9df16e158627"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_1d15cc5e_8151_a486_a729_df1537d0319b","uuid":"aada4c34-6dcd-4db6-b759-7a81e16fd717"},"edge_type":"inherent","type":"","uuid":"c5d66374-e8c3-4cfe-9f5a-f364c9a6812a","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"4625c634-16ad-44b9-8d69-36bc5678fc22"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_1d15cc5e_8151_a486_a729_df1537d0319b"},{"target_any_local_reference":{"kind":"app_package","name":"VMwareRouterPackage","uuid":"1d15cc5e-8151-a486-a729-df1537d0319b"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"aada4c34-6dcd-4db6-b759-7a81e16fd717","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_1d15cc5e_8151_a486_a729_df1537d0319b","uuid":"3de9f874-adc0-4927-9e27-b6b580bd2d46"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_1d15cc5e_8151_a486_a729_df1537d0319b"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"4625c634-16ad-44b9-8d69-36bc5678fc22","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"f678ba44_runbook","uuid":"6f256634-e57a-41ea-a837-438a40018db7"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"5830685e-83db-43b9-a5ec-9df16e158627","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"6729beee_runbook","uuid":"28341bf4-2766-4701-8747-1722ed61db3c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e"}],"description":"","message_list":[],"uuid":"82e559ec-c30c-414f-9591-c1584dc26bd0","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_1d15cc5e_8151_a486_a729_df1537d0319b","uuid":"43f320df-cefe-40c3-83d2-25525048b656"},"name":"SYS_GEN__Runbook_Package_1d15cc5e_8151_a486_a729_df1537d0319b"}},{"description":"System action for uninstalling an application","message_list":[],"uuid":"3bd5cc62-270f-46d5-903a-7d7ff842b1c1","name":"action_uninstall","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"VMwareRouterPackage","uuid":"1d15cc5e-8151-a486-a729-df1537d0319b"},"retries":"0","description":"","type":"DAG","uuid":"9b8e364a-8b7d-4d69-b90c-7f91a1e8279b","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Uninstall_Crb_1d15cc5e_8151_a486_a729_df1537d0319b","uuid":"45fcfba9-3a7b-4e33-9209-3504adf5ccd9"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Package_1d15cc5e_8151_a486_a729_df1537d0319b"},{"target_any_local_reference":{"kind":"app_package","name":"VMwareRouterPackage","uuid":"1d15cc5e-8151-a486-a729-df1537d0319b"},"retries":"0","description":"","type":"CUSTOM_PACKAGE_UNINSTALL","uuid":"45fcfba9-3a7b-4e33-9209-3504adf5ccd9","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"VMwareRouterPackage","uuid":"1d15cc5e-8151-a486-a729-df1537d0319b"},"retries":"0","description":"","type":"DAG","uuid":"1a441c96-deff-b127-4580-6fe9bd5283c2","child_tasks_local_reference_list":[{"kind":"app_task","name":"Router Install","uuid":"f3553fca-562a-6cbc-0192-278436fd3443"},{"kind":"app_task","name":"Router Configure","uuid":"651b5d5c-b087-7b5d-7eb0-b7e19c661339"},{"kind":"app_task","name":"Start Shard","uuid":"ab8b82e8-1c2d-ab4e-4320-b6d9163a2f6b"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Router Install","uuid":"f3553fca-562a-6cbc-0192-278436fd3443"},"edge_type":"user_defined","type":"","uuid":"13686ec2-b327-b59f-4091-ac8765d646d9","to_task_reference":{"kind":"app_task","name":"Router Configure","uuid":"651b5d5c-b087-7b5d-7eb0-b7e19c661339"}},{"from_task_reference":{"kind":"app_task","name":"Router Configure","uuid":"651b5d5c-b087-7b5d-7eb0-b7e19c661339"},"edge_type":"user_defined","type":"","uuid":"8811bae8-f828-17e3-8e09-8c9c1b18c2bc","to_task_reference":{"kind":"app_task","name":"Start Shard","uuid":"ab8b82e8-1c2d-ab4e-4320-b6d9163a2f6b"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"300a2866_dag_cloned_1"},{"target_any_local_reference":{"kind":"app_package","name":"VMwareRouterPackage","uuid":"1d15cc5e-8151-a486-a729-df1537d0319b"},"retries":"0","description":"","type":"EXEC","uuid":"f3553fca-562a-6cbc-0192-278436fd3443","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nVERSION=\"@@{MONGO_VERSION}@@\"\nDATA_PATH=\"@@{DATA_PATH}@@\"\nJOURNAL_PATH=\"@@{JOURNAL_PATH}@@\"\nLOG_PATH=\"@@{LOG_PATH}@@\"\nsudo hostnamectl set-hostname --static @@{name}@@\n\ncat > \/tmp\/set-hostnames.py <<EOF\n#!\/usr\/bin\/python\nimport re\nconfig_ips=\"@@{VMwareConfigSet.address}@@\"\ndata_ips=\"@@{VMwareDataSet.address}@@\"\nrouter_ips=\"@@{calm_array_address}@@\"\n\nhostfile = open('\/etc\/hosts', 'r').read()\nprint hostfile\nhostfile = re.sub('\\n#MONGODB-BEGIN.*?#MONGODB-END', '', hostfile, flags=re.DOTALL)\nhostfile += \"#MONGODB-BEGIN\\n\"\ncount=1\nfor ip in config_ips.split(','):\n  hostfile += ip + \" config\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in data_ips.split(','):\n  hostfile += ip + \" data\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in router_ips.split(','):\n  hostfile += ip + \" router\" + str(count) + \".mongodb\\n\"\n  count += 1\nhostfile += \"#MONGODB-END\\n\"\nopen('\/etc\/hosts', 'w').write(hostfile)\nEOF\n\nsudo python \/tmp\/set-hostnames.py\n\nif [[ -f \/sys\/kernel\/mm\/transparent_hugepage\/enabled ]];then\n\techo never | sudo tee \/sys\/kernel\/mm\/transparent_hugepage\/enabled\nfi\nif [[ -f \/sys\/kernel\/mm\/transparent_hugepage\/defrag ]];then\n\techo never | sudo tee \/sys\/kernel\/mm\/transparent_hugepage\/defrag\nfi\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho '[mongodb-org-3.4]\nname=MongoDB Repository\nbaseurl=https:\/\/repo.mongodb.org\/yum\/redhat\/$releasever\/mongodb-org\/3.4\/x86_64\/\ngpgcheck=1\nenabled=1\ngpgkey=https:\/\/www.mongodb.org\/static\/pgp\/server-3.4.asc' | sudo tee \/etc\/yum.repos.d\/mongodb-3.4.repo\n\nsudo yum update -y --quiet\nsudo yum install -y --quiet mongodb-org-${VERSION} mongodb-org-server-${VERSION} mongodb-org-shell-${VERSION} mongodb-org-mongos-${VERSION} mongodb-org-tools-${VERSION}\n\necho 'exclude=mongodb-org*' | sudo tee -a \/etc\/yum.conf\n\nsudo mkdir -p ${DATA_PATH} ${JOURNAL_PATH} ${LOG_PATH}\nsudo ln -s ${JOURNAL_PATH} ${DATA_PATH}\/journal\nsudo chown -R mongod:mongod ${DATA_PATH} ${JOURNAL_PATH} ${LOG_PATH}"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Router Install"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"EXEC","uuid":"651b5d5c-b087-7b5d-7eb0-b7e19c661339","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nCONFIG_SRV_IPS=\"@@{ConfigSet.address}@@\"\nDATA_PATH=\"@@{DATA_PATH}@@\"\n\nconfig_ips=$(echo \"${CONFIG_SRV_IPS}\" | sed 's\/^,\/\/' | sed 's\/,$\/\/' | sed 's\/,\/:27017,\/g')\nconfig_ips=$config_ips\":27017\"\n\nsudo sed -i 's\/bindIp:\/#bindIp:\/g' \/etc\/mongod.conf\nsudo sed -i \"s#\/var\/lib\/mongo#${DATA_PATH}#g\" \/etc\/mongod.conf\n\necho \"[Unit]\nDescription=High-performance, schema-free document-oriented database\nAfter=network.target\nDocumentation=https:\/\/docs.mongodb.org\/manual\n\n[Service]\nUser=mongod\nGroup=mongod\nEnvironment=\\\"OPTIONS=--port 27017 --configdb configReplSet\/$config_ips --logpath \/var\/log\/mongodb\/mongos.log\\\"\nExecStart=\/usr\/bin\/mongos \\$OPTIONS\nPermissionsStartOnly=true\nPIDFile=\/var\/run\/mongodb\/mongos.pid\n# file size\nLimitFSIZE=infinity\n# cpu time\nLimitCPU=infinity\n# virtual memory size\nLimitAS=infinity\n# open files\nLimitNOFILE=64000\n# processes\/threads\nLimitNPROC=64000\n# total threads (user+kernel)\nTasksMax=infinity\nTasksAccounting=false\n# Recommended limits for for mongod as specified in\n# http:\/\/docs.mongodb.org\/manual\/reference\/ulimit\/#recommended-settings\n\n[Install]\nWantedBy=multi-user.target\" | sudo tee \/usr\/lib\/systemd\/system\/mongos.service\n\nsudo systemctl start mongos\n#sudo -u mongod -b mongos --port 27017 --configdb  --logpath \/var\/log\/mongodb\/mongos.log \n\nsleep 2"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Router Configure"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"EXEC","uuid":"ab8b82e8-1c2d-ab4e-4320-b6d9163a2f6b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\nNODES_PER_REPLICA_SET=\"@@{NODES_PER_REPLICA_SET}@@\"\nINTERNAL_IP=\"@@{address}@@\"\nREPLICA_IPS=($(echo @@{DataSet.address}@@ | sed 's\/^,\/\/' | sed 's\/,$\/\/' | tr \",\" \"\\n\"))\nnoOfShards=$((${#REPLICA_IPS[@]}\/${NODES_PER_REPLICA_SET}))\n\ncount=0\nfor ((number=1;number <= $noOfShards;number++))\ndo\n  replicaSetName=\"dataReplSet${number}\"\n  sudo mongo --host ${INTERNAL_IP} --port 27017 --eval \"sh.addShard( \\\"$replicaSetName\/${REPLICA_IPS[${count}]}:27017\\\" )\"\n  count=$(($count + ${NODES_PER_REPLICA_SET}))\ndone"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Start Shard"}],"description":"","message_list":[],"uuid":"d2875102-a530-ef21-969c-6b3133897a01","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"300a2866_dag_cloned_1","uuid":"1a441c96-deff-b127-4580-6fe9bd5283c2"},"name":"e0b4ff16_runbook_cloned_0"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"VMwareRouterPackage","uuid":"1d15cc5e-8151-a486-a729-df1537d0319b"},"retries":"0","description":"","type":"DAG","uuid":"a48ea740-fdc7-e2e1-81f1-882c4d1019cc","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"2991f5d5_dag_cloned_1"}],"description":"","message_list":[],"uuid":"0d6d9273-32e7-0103-c5c3-b86d6bcf344c","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"2991f5d5_dag_cloned_1","uuid":"a48ea740-fdc7-e2e1-81f1-882c4d1019cc"},"name":"c63c23aa_runbook_cloned_0"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Uninstall_Crb_1d15cc5e_8151_a486_a729_df1537d0319b"}],"description":"","message_list":[],"uuid":"ba2f5180-2193-43a2-9e08-2fce3380e04f","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Package_1d15cc5e_8151_a486_a729_df1537d0319b","uuid":"9b8e364a-8b7d-4d69-b90c-7f91a1e8279b"},"name":"SYS_GEN__Runbook_Package_1d15cc5e_8151_a486_a729_df1537d0319b"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"56d58807-f10d-436f-9035-a7f4a13ddc0f","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"VMwareRouterPackage","uuid":"1d15cc5e-8151-a486-a729-df1537d0319b"},"retries":"0","description":"","type":"DAG","uuid":"c101188b-ff67-456b-82a3-062f51d45cbb","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"f2f7bff5-b4bd-490d-8504-4c5dce3157dc"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"36362878-aed4-4096-9521-b407ee0af497"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_1d15cc5e_8151_a486_a729_df1537d0319b","uuid":"92657ff4-5f96-4592-a438-e31ddb244b6b"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"f2f7bff5-b4bd-490d-8504-4c5dce3157dc"},"edge_type":"inherent","type":"","uuid":"7dcb9386-0664-4bff-bcdf-094f16e8a55f","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"36362878-aed4-4096-9521-b407ee0af497"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"36362878-aed4-4096-9521-b407ee0af497"},"edge_type":"inherent","type":"","uuid":"45862b3a-7ee9-4848-9f2f-c07cf8b84269","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_1d15cc5e_8151_a486_a729_df1537d0319b","uuid":"92657ff4-5f96-4592-a438-e31ddb244b6b"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_1d15cc5e_8151_a486_a729_df1537d0319b"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"f2f7bff5-b4bd-490d-8504-4c5dce3157dc","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"6d2afcdd_runbook","uuid":"215f65d0-6496-443c-9017-6dec4743560f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"36362878-aed4-4096-9521-b407ee0af497","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"6631f4bd_runbook","uuid":"d80d8f71-625e-4530-bf85-66347f427405"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e"},{"target_any_local_reference":{"kind":"app_package","name":"VMwareRouterPackage","uuid":"1d15cc5e-8151-a486-a729-df1537d0319b"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"92657ff4-5f96-4592-a438-e31ddb244b6b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_1d15cc5e_8151_a486_a729_df1537d0319b","uuid":"ba2f5180-2193-43a2-9e08-2fce3380e04f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_1d15cc5e_8151_a486_a729_df1537d0319b"}],"description":"","message_list":[],"uuid":"7ad5d4a4-d6bd-4a08-b4ea-dea7e0dc8551","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_1d15cc5e_8151_a486_a729_df1537d0319b","uuid":"c101188b-ff67-456b-82a3-062f51d45cbb"},"name":"SYS_GEN__Runbook_Package_1d15cc5e_8151_a486_a729_df1537d0319b"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"1e8dc4d8-4e66-46f4-baed-f9c47c3d70e2","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"VMwareRouterPackage","uuid":"1d15cc5e-8151-a486-a729-df1537d0319b"},"retries":"0","description":"","type":"DAG","uuid":"1e87e4d9-abf3-4aac-b9a2-da44d3859470","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"f217f683-35a1-48b7-b560-d0cbff129fbe"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_1d15cc5e_8151_a486_a729_df1537d0319b","uuid":"332a9cf8-6b0d-46a4-9d30-18e39e9a1722"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"f217f683-35a1-48b7-b560-d0cbff129fbe"},"edge_type":"inherent","type":"","uuid":"c472bb82-18d2-41e3-893d-9bd1c5f459f8","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_1d15cc5e_8151_a486_a729_df1537d0319b","uuid":"332a9cf8-6b0d-46a4-9d30-18e39e9a1722"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_1d15cc5e_8151_a486_a729_df1537d0319b"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"f217f683-35a1-48b7-b560-d0cbff129fbe","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"3fe61be2-c077-40a8-91a6-e9e75a5d2af3"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e"},{"target_any_local_reference":{"kind":"app_package","name":"VMwareRouterPackage","uuid":"1d15cc5e-8151-a486-a729-df1537d0319b"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"332a9cf8-6b0d-46a4-9d30-18e39e9a1722","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_1d15cc5e_8151_a486_a729_df1537d0319b"}],"description":"","message_list":[],"uuid":"641d66be-4829-4aee-92a8-f2aa73a8ebd2","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_1d15cc5e_8151_a486_a729_df1537d0319b","uuid":"1e87e4d9-abf3-4aac-b9a2-da44d3859470"},"name":"SYS_GEN__Runbook_Package_1d15cc5e_8151_a486_a729_df1537d0319b"}},{"description":"System action for starting an application","message_list":[],"uuid":"52419e57-b531-4dde-a8ea-785f0547e397","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"VMwareRouterPackage","uuid":"1d15cc5e-8151-a486-a729-df1537d0319b"},"retries":"0","description":"","type":"DAG","uuid":"632246c5-4dc0-4176-b46c-36fb762ee7b4","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"2efe58c9-3cdd-4295-b925-dde0fb5278ea"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_1d15cc5e_8151_a486_a729_df1537d0319b"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"2efe58c9-3cdd-4295-b925-dde0fb5278ea","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"6729beee_runbook","uuid":"28341bf4-2766-4701-8747-1722ed61db3c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e"}],"description":"","message_list":[],"uuid":"35f7924b-3be4-4c54-9e29-85ff5ee4e1de","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_1d15cc5e_8151_a486_a729_df1537d0319b","uuid":"632246c5-4dc0-4176-b46c-36fb762ee7b4"},"name":"SYS_GEN__Runbook_Package_1d15cc5e_8151_a486_a729_df1537d0319b"}},{"description":"System action for restarting an application","message_list":[],"uuid":"1c731b03-c10d-4aeb-ac3e-730a2879d994","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"VMwareRouterPackage","uuid":"1d15cc5e-8151-a486-a729-df1537d0319b"},"retries":"0","description":"","type":"DAG","uuid":"49b6c1a1-6c7f-4f9c-a869-79cbc209839d","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"3bd34cb0-2bb6-4e70-9f13-608f5ddc70ed"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_1d15cc5e_8151_a486_a729_df1537d0319b"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"3bd34cb0-2bb6-4e70-9f13-608f5ddc70ed","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"5261a312_runbook","uuid":"dcdcb0d6-e68b-4641-8609-e6dc92c57b21"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e"}],"description":"","message_list":[],"uuid":"51d54339-2f98-47ca-b299-54fa577a9261","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_1d15cc5e_8151_a486_a729_df1537d0319b","uuid":"49b6c1a1-6c7f-4f9c-a869-79cbc209839d"},"name":"SYS_GEN__Runbook_Package_1d15cc5e_8151_a486_a729_df1537d0319b"}},{"description":"System action for stopping an application","message_list":[],"uuid":"6e1eb111-b0b7-47c8-98fc-09de5c79a6df","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"VMwareRouterPackage","uuid":"1d15cc5e-8151-a486-a729-df1537d0319b"},"retries":"0","description":"","type":"DAG","uuid":"ce0ac702-8539-4781-a64a-636268260c27","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e","uuid":"35f5598e-6d61-4b6d-bb0a-81b40e5da98e"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_1d15cc5e_8151_a486_a729_df1537d0319b"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"35f5598e-6d61-4b6d-bb0a-81b40e5da98e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"6d2afcdd_runbook","uuid":"215f65d0-6496-443c-9017-6dec4743560f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_57337465_81f3_4470_86b8_b234707e1e9e"}],"description":"","message_list":[],"uuid":"6e6fb0c3-5d16-4531-9061-237a2d1bba57","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_1d15cc5e_8151_a486_a729_df1537d0319b","uuid":"ce0ac702-8539-4781-a64a-636268260c27"},"name":"SYS_GEN__Runbook_Package_1d15cc5e_8151_a486_a729_df1537d0319b"}}],"message_list":[],"service_local_reference_list":[{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"}],"uuid":"1d15cc5e-8151-a486-a729-df1537d0319b","state":"ACTIVE","version":"","editables":{},"type":"DEB","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"VMwareRouterPackage","uuid":"1d15cc5e-8151-a486-a729-df1537d0319b"},"retries":"0","description":"","type":"DAG","uuid":"1a441c96-deff-b127-4580-6fe9bd5283c2","child_tasks_local_reference_list":[{"kind":"app_task","name":"Router Install","uuid":"f3553fca-562a-6cbc-0192-278436fd3443"},{"kind":"app_task","name":"Router Configure","uuid":"651b5d5c-b087-7b5d-7eb0-b7e19c661339"},{"kind":"app_task","name":"Start Shard","uuid":"ab8b82e8-1c2d-ab4e-4320-b6d9163a2f6b"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Router Install","uuid":"f3553fca-562a-6cbc-0192-278436fd3443"},"edge_type":"user_defined","type":"","uuid":"13686ec2-b327-b59f-4091-ac8765d646d9","to_task_reference":{"kind":"app_task","name":"Router Configure","uuid":"651b5d5c-b087-7b5d-7eb0-b7e19c661339"}},{"from_task_reference":{"kind":"app_task","name":"Router Configure","uuid":"651b5d5c-b087-7b5d-7eb0-b7e19c661339"},"edge_type":"user_defined","type":"","uuid":"8811bae8-f828-17e3-8e09-8c9c1b18c2bc","to_task_reference":{"kind":"app_task","name":"Start Shard","uuid":"ab8b82e8-1c2d-ab4e-4320-b6d9163a2f6b"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"300a2866_dag_cloned_1"},{"target_any_local_reference":{"kind":"app_package","name":"VMwareRouterPackage","uuid":"1d15cc5e-8151-a486-a729-df1537d0319b"},"retries":"0","description":"","type":"EXEC","uuid":"f3553fca-562a-6cbc-0192-278436fd3443","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nVERSION=\"@@{MONGO_VERSION}@@\"\nDATA_PATH=\"@@{DATA_PATH}@@\"\nJOURNAL_PATH=\"@@{JOURNAL_PATH}@@\"\nLOG_PATH=\"@@{LOG_PATH}@@\"\nsudo hostnamectl set-hostname --static @@{name}@@\n\ncat > \/tmp\/set-hostnames.py <<EOF\n#!\/usr\/bin\/python\nimport re\nconfig_ips=\"@@{VMwareConfigSet.address}@@\"\ndata_ips=\"@@{VMwareDataSet.address}@@\"\nrouter_ips=\"@@{calm_array_address}@@\"\n\nhostfile = open('\/etc\/hosts', 'r').read()\nprint hostfile\nhostfile = re.sub('\\n#MONGODB-BEGIN.*?#MONGODB-END', '', hostfile, flags=re.DOTALL)\nhostfile += \"#MONGODB-BEGIN\\n\"\ncount=1\nfor ip in config_ips.split(','):\n  hostfile += ip + \" config\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in data_ips.split(','):\n  hostfile += ip + \" data\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in router_ips.split(','):\n  hostfile += ip + \" router\" + str(count) + \".mongodb\\n\"\n  count += 1\nhostfile += \"#MONGODB-END\\n\"\nopen('\/etc\/hosts', 'w').write(hostfile)\nEOF\n\nsudo python \/tmp\/set-hostnames.py\n\nif [[ -f \/sys\/kernel\/mm\/transparent_hugepage\/enabled ]];then\n\techo never | sudo tee \/sys\/kernel\/mm\/transparent_hugepage\/enabled\nfi\nif [[ -f \/sys\/kernel\/mm\/transparent_hugepage\/defrag ]];then\n\techo never | sudo tee \/sys\/kernel\/mm\/transparent_hugepage\/defrag\nfi\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho '[mongodb-org-3.4]\nname=MongoDB Repository\nbaseurl=https:\/\/repo.mongodb.org\/yum\/redhat\/$releasever\/mongodb-org\/3.4\/x86_64\/\ngpgcheck=1\nenabled=1\ngpgkey=https:\/\/www.mongodb.org\/static\/pgp\/server-3.4.asc' | sudo tee \/etc\/yum.repos.d\/mongodb-3.4.repo\n\nsudo yum update -y --quiet\nsudo yum install -y --quiet mongodb-org-${VERSION} mongodb-org-server-${VERSION} mongodb-org-shell-${VERSION} mongodb-org-mongos-${VERSION} mongodb-org-tools-${VERSION}\n\necho 'exclude=mongodb-org*' | sudo tee -a \/etc\/yum.conf\n\nsudo mkdir -p ${DATA_PATH} ${JOURNAL_PATH} ${LOG_PATH}\nsudo ln -s ${JOURNAL_PATH} ${DATA_PATH}\/journal\nsudo chown -R mongod:mongod ${DATA_PATH} ${JOURNAL_PATH} ${LOG_PATH}"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Router Install"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"EXEC","uuid":"651b5d5c-b087-7b5d-7eb0-b7e19c661339","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nCONFIG_SRV_IPS=\"@@{ConfigSet.address}@@\"\nDATA_PATH=\"@@{DATA_PATH}@@\"\n\nconfig_ips=$(echo \"${CONFIG_SRV_IPS}\" | sed 's\/^,\/\/' | sed 's\/,$\/\/' | sed 's\/,\/:27017,\/g')\nconfig_ips=$config_ips\":27017\"\n\nsudo sed -i 's\/bindIp:\/#bindIp:\/g' \/etc\/mongod.conf\nsudo sed -i \"s#\/var\/lib\/mongo#${DATA_PATH}#g\" \/etc\/mongod.conf\n\necho \"[Unit]\nDescription=High-performance, schema-free document-oriented database\nAfter=network.target\nDocumentation=https:\/\/docs.mongodb.org\/manual\n\n[Service]\nUser=mongod\nGroup=mongod\nEnvironment=\\\"OPTIONS=--port 27017 --configdb configReplSet\/$config_ips --logpath \/var\/log\/mongodb\/mongos.log\\\"\nExecStart=\/usr\/bin\/mongos \\$OPTIONS\nPermissionsStartOnly=true\nPIDFile=\/var\/run\/mongodb\/mongos.pid\n# file size\nLimitFSIZE=infinity\n# cpu time\nLimitCPU=infinity\n# virtual memory size\nLimitAS=infinity\n# open files\nLimitNOFILE=64000\n# processes\/threads\nLimitNPROC=64000\n# total threads (user+kernel)\nTasksMax=infinity\nTasksAccounting=false\n# Recommended limits for for mongod as specified in\n# http:\/\/docs.mongodb.org\/manual\/reference\/ulimit\/#recommended-settings\n\n[Install]\nWantedBy=multi-user.target\" | sudo tee \/usr\/lib\/systemd\/system\/mongos.service\n\nsudo systemctl start mongos\n#sudo -u mongod -b mongos --port 27017 --configdb  --logpath \/var\/log\/mongodb\/mongos.log \n\nsleep 2"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Router Configure"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","type":"EXEC","uuid":"ab8b82e8-1c2d-ab4e-4320-b6d9163a2f6b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\nNODES_PER_REPLICA_SET=\"@@{NODES_PER_REPLICA_SET}@@\"\nINTERNAL_IP=\"@@{address}@@\"\nREPLICA_IPS=($(echo @@{DataSet.address}@@ | sed 's\/^,\/\/' | sed 's\/,$\/\/' | tr \",\" \"\\n\"))\nnoOfShards=$((${#REPLICA_IPS[@]}\/${NODES_PER_REPLICA_SET}))\n\ncount=0\nfor ((number=1;number <= $noOfShards;number++))\ndo\n  replicaSetName=\"dataReplSet${number}\"\n  sudo mongo --host ${INTERNAL_IP} --port 27017 --eval \"sh.addShard( \\\"$replicaSetName\/${REPLICA_IPS[${count}]}:27017\\\" )\"\n  count=$(($count + ${NODES_PER_REPLICA_SET}))\ndone"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Start Shard"}],"description":"","message_list":[],"uuid":"d2875102-a530-ef21-969c-6b3133897a01","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"300a2866_dag_cloned_1","uuid":"1a441c96-deff-b127-4580-6fe9bd5283c2"},"name":"e0b4ff16_runbook_cloned_0"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"VMwareRouterPackage","uuid":"1d15cc5e-8151-a486-a729-df1537d0319b"},"retries":"0","description":"","type":"DAG","uuid":"a48ea740-fdc7-e2e1-81f1-882c4d1019cc","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"2991f5d5_dag_cloned_1"}],"description":"","message_list":[],"uuid":"0d6d9273-32e7-0103-c5c3-b86d6bcf344c","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"2991f5d5_dag_cloned_1","uuid":"a48ea740-fdc7-e2e1-81f1-882c4d1019cc"},"name":"c63c23aa_runbook_cloned_0"}},"variable_list":[],"name":"VMwareRouterPackage"},{"description":"","action_list":[{"description":"System action for installing an application","message_list":[],"uuid":"51765888-803f-479f-bcfd-41f7a82b5711","name":"action_install","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"VMwareConfigSetPackage","uuid":"d9461450-276b-14d1-d8b7-4406aacb2683"},"retries":"0","description":"","type":"DAG","uuid":"77e90655-a1ab-41c9-a06e-505ce1f889ed","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Install_Crb_d9461450_276b_14d1_d8b7_4406aacb2683","uuid":"6ab46696-06e0-449a-895c-8bb128751749"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Package_d9461450_276b_14d1_d8b7_4406aacb2683"},{"target_any_local_reference":{"kind":"app_package","name":"VMwareConfigSetPackage","uuid":"d9461450-276b-14d1-d8b7-4406aacb2683"},"retries":"0","description":"","type":"CUSTOM_PACKAGE_INSTALL","uuid":"6ab46696-06e0-449a-895c-8bb128751749","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"VMwareConfigSetPackage","uuid":"d9461450-276b-14d1-d8b7-4406aacb2683"},"retries":"0","description":"","type":"DAG","uuid":"d4d9b27e-1deb-86b4-56cc-566dfa9e4c0b","child_tasks_local_reference_list":[{"kind":"app_task","name":"ConfigSet Install","uuid":"9d3acc06-0320-c3cc-0a08-12b7a7fa6113"},{"kind":"app_task","name":"ConfigSet Configure","uuid":"4f77ff0b-ba84-fa9e-1f31-20e2cb38fc3a"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"ConfigSet Install","uuid":"9d3acc06-0320-c3cc-0a08-12b7a7fa6113"},"edge_type":"user_defined","type":"","uuid":"79a5d0a7-d92f-c53c-1b38-c28fa5df104a","to_task_reference":{"kind":"app_task","name":"ConfigSet Configure","uuid":"4f77ff0b-ba84-fa9e-1f31-20e2cb38fc3a"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"d11ad974_dag_cloned_1"},{"target_any_local_reference":{"kind":"app_package","name":"VMwareConfigSetPackage","uuid":"d9461450-276b-14d1-d8b7-4406aacb2683"},"retries":"0","description":"","type":"EXEC","uuid":"9d3acc06-0320-c3cc-0a08-12b7a7fa6113","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nVERSION=\"@@{MONGO_VERSION}@@\"\nDATA_PATH=\"@@{DATA_PATH}@@\"\nJOURNAL_PATH=\"@@{JOURNAL_PATH}@@\"\nLOG_PATH=\"@@{LOG_PATH}@@\"\nsudo hostnamectl set-hostname --static @@{name}@@\n\ncat > \/tmp\/set-hostnames.py <<EOF\n#!\/usr\/bin\/python\nimport re\nconfig_ips=\"@@{calm_array_address}@@\"\ndata_ips=\"@@{VMwareDataSet.address}@@\"\nrouter_ips=\"@@{VMwareRouter.address}@@\"\n\nhostfile = open('\/etc\/hosts', 'r').read()\nprint hostfile\nhostfile = re.sub('\\n#MONGODB-BEGIN.*?#MONGODB-END', '', hostfile, flags=re.DOTALL)\nhostfile += \"#MONGODB-BEGIN\\n\"\ncount=1\nfor ip in config_ips.split(','):\n  hostfile += ip + \" config\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in data_ips.split(','):\n  hostfile += ip + \" data\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in router_ips.split(','):\n  hostfile += ip + \" router\" + str(count) + \".mongodb\\n\"\n  count += 1\nhostfile += \"#MONGODB-END\\n\"\nopen('\/etc\/hosts', 'w').write(hostfile)\nEOF\n\nsudo python \/tmp\/set-hostnames.py\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho '[mongodb-org-3.4]\nname=MongoDB Repository\nbaseurl=https:\/\/repo.mongodb.org\/yum\/redhat\/$releasever\/mongodb-org\/3.4\/x86_64\/\ngpgcheck=1\nenabled=1\ngpgkey=https:\/\/www.mongodb.org\/static\/pgp\/server-3.4.asc' | sudo tee \/etc\/yum.repos.d\/mongodb-3.4.repo\n\nsudo yum update -y --quiet\nsudo yum install -y --quiet mongodb-org-${VERSION} mongodb-org-server-${VERSION} mongodb-org-shell-${VERSION} mongodb-org-mongos-${VERSION} mongodb-org-tools-${VERSION}\n\necho 'exclude=mongodb-org*' | sudo tee -a \/etc\/yum.conf\n\nsudo mkdir -p ${DATA_PATH} ${JOURNAL_PATH} ${LOG_PATH}\nsudo ln -s ${JOURNAL_PATH} ${DATA_PATH}\/journal\nsudo chown -R mongod:mongod ${DATA_PATH} ${JOURNAL_PATH} ${LOG_PATH}"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"ConfigSet Install"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"EXEC","uuid":"4f77ff0b-ba84-fa9e-1f31-20e2cb38fc3a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nCONFIG_SRV_IPS=\"@@{calm_array_address}@@\"\nDATA_PATH=\"@@{DATA_PATH}@@\"\nINTERNAL_IP=\"@@{address}@@\"\n\nsudo sed -i 's\/bindIp:\/#bindIp:\/g' \/etc\/mongod.conf\nsudo sed -i \"s#\/var\/lib\/mongo#${DATA_PATH}#g\" \/etc\/mongod.conf\nsudo sed -i 's\/#sharding:\/sharding:\\n  clusterRole: configsvr\/g' \/etc\/mongod.conf\nsudo sed -i 's\/#replication:\/replication:\\n  replSetName: configReplSet\/g' \/etc\/mongod.conf\n\n\nconfig_ips=$(echo \"${CONFIG_SRV_IPS}\" | sed 's\/^,\/\/' | sed 's\/,$\/\/' | tr \",\" \"\\n\")\nconfig_cnt=0\nconfig_str=\"\"\n\nfor config in $config_ips\ndo\n  config_str=$config_str\"{\\\"_id\\\": $config_cnt, host:\\\"$config:27017\\\"},\"\n  config_cnt=$(($config_cnt + 1))\ndone\nconfig_str=`echo $config_str | sed 's\/,$\/\/'`\njson=$(cat <<EOF\n{\n  \"_id\": \"configReplSet\",\n  \"members\": [\n    $config_str\n  ]\n}\nEOF\n)\n\nif [[ -f \/sys\/kernel\/mm\/transparent_hugepage\/enabled ]];then\n\techo never | sudo tee \/sys\/kernel\/mm\/transparent_hugepage\/enabled\nfi\nif [[ -f \/sys\/kernel\/mm\/transparent_hugepage\/defrag ]];then\n\techo never | sudo tee \/sys\/kernel\/mm\/transparent_hugepage\/defrag\nfi\n\nsudo systemctl restart mongod\nsleep 5\n\nif [ @@{calm_array_index}@@ -ne 0 ];then\n  exit\nfi\n\nsudo mongo --host ${INTERNAL_IP} --port 27017 --eval \"rs.initiate( $json )\""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"ConfigSet Configure"}],"description":"","message_list":[],"uuid":"246b4fe2-dbea-eed6-7e3f-ea95b9d19b95","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"d11ad974_dag_cloned_1","uuid":"d4d9b27e-1deb-86b4-56cc-566dfa9e4c0b"},"name":"cb5b150c_runbook_cloned_0"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"VMwareConfigSetPackage","uuid":"d9461450-276b-14d1-d8b7-4406aacb2683"},"retries":"0","description":"","type":"DAG","uuid":"195825f9-4e6e-26c8-9043-6dc2228c622c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"85c85e82_dag_cloned_1"}],"description":"","message_list":[],"uuid":"1b7b30d6-07aa-267d-070a-651bb62373fe","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"85c85e82_dag_cloned_1","uuid":"195825f9-4e6e-26c8-9043-6dc2228c622c"},"name":"485b8651_runbook_cloned_0"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Install_Crb_d9461450_276b_14d1_d8b7_4406aacb2683"}],"description":"","message_list":[],"uuid":"f08f8c67-703c-4ad4-99f1-70c153856828","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Package_d9461450_276b_14d1_d8b7_4406aacb2683","uuid":"77e90655-a1ab-41c9-a06e-505ce1f889ed"},"name":"SYS_GEN__Runbook_Package_d9461450_276b_14d1_d8b7_4406aacb2683"}},{"description":"System action for creating an application","message_list":[],"uuid":"d0296aba-4565-4915-ad5b-a342b81deddd","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"VMwareConfigSetPackage","uuid":"d9461450-276b-14d1-d8b7-4406aacb2683"},"retries":"0","description":"","type":"DAG","uuid":"494d8c8b-7f52-4e23-b699-4d6a91be0752","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_d9461450_276b_14d1_d8b7_4406aacb2683","uuid":"256e13bb-5d4d-44ba-b7c8-c75eed49a5ad"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"606eb58e-fb08-4237-8092-50fcf8cf8ed0"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"33b86fe0-333c-407c-a46a-4a60d25ed877"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"606eb58e-fb08-4237-8092-50fcf8cf8ed0"},"edge_type":"inherent","type":"","uuid":"732f9439-b615-45f5-9b17-c5c36a2e66a2","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"33b86fe0-333c-407c-a46a-4a60d25ed877"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_d9461450_276b_14d1_d8b7_4406aacb2683","uuid":"256e13bb-5d4d-44ba-b7c8-c75eed49a5ad"},"edge_type":"inherent","type":"","uuid":"467ed9c3-1b2e-44bb-b1dd-39d6e265aa54","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"606eb58e-fb08-4237-8092-50fcf8cf8ed0"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_d9461450_276b_14d1_d8b7_4406aacb2683"},{"target_any_local_reference":{"kind":"app_package","name":"VMwareConfigSetPackage","uuid":"d9461450-276b-14d1-d8b7-4406aacb2683"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"256e13bb-5d4d-44ba-b7c8-c75eed49a5ad","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_d9461450_276b_14d1_d8b7_4406aacb2683","uuid":"f08f8c67-703c-4ad4-99f1-70c153856828"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_d9461450_276b_14d1_d8b7_4406aacb2683"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"606eb58e-fb08-4237-8092-50fcf8cf8ed0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0a879260_runbook","uuid":"741de02d-b511-4b87-8b94-a1b0b74e0fb7"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"33b86fe0-333c-407c-a46a-4a60d25ed877","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"f4695758_runbook","uuid":"0c2528e9-82d6-40bc-9b4d-721eabd37ead"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd"}],"description":"","message_list":[],"uuid":"77218d6f-a4a9-467f-997e-abffa6f786aa","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_d9461450_276b_14d1_d8b7_4406aacb2683","uuid":"494d8c8b-7f52-4e23-b699-4d6a91be0752"},"name":"SYS_GEN__Runbook_Package_d9461450_276b_14d1_d8b7_4406aacb2683"}},{"description":"System action for uninstalling an application","message_list":[],"uuid":"bd9e049a-98c6-4dd5-b085-9a17100af699","name":"action_uninstall","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"VMwareConfigSetPackage","uuid":"d9461450-276b-14d1-d8b7-4406aacb2683"},"retries":"0","description":"","type":"DAG","uuid":"f70fd982-a2d6-4970-bcd4-8acb3b69943a","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Uninstall_Crb_d9461450_276b_14d1_d8b7_4406aacb2683","uuid":"9403c0a7-92bc-4e33-b532-a9fa79dd65ab"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Package_d9461450_276b_14d1_d8b7_4406aacb2683"},{"target_any_local_reference":{"kind":"app_package","name":"VMwareConfigSetPackage","uuid":"d9461450-276b-14d1-d8b7-4406aacb2683"},"retries":"0","description":"","type":"CUSTOM_PACKAGE_UNINSTALL","uuid":"9403c0a7-92bc-4e33-b532-a9fa79dd65ab","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"VMwareConfigSetPackage","uuid":"d9461450-276b-14d1-d8b7-4406aacb2683"},"retries":"0","description":"","type":"DAG","uuid":"d4d9b27e-1deb-86b4-56cc-566dfa9e4c0b","child_tasks_local_reference_list":[{"kind":"app_task","name":"ConfigSet Install","uuid":"9d3acc06-0320-c3cc-0a08-12b7a7fa6113"},{"kind":"app_task","name":"ConfigSet Configure","uuid":"4f77ff0b-ba84-fa9e-1f31-20e2cb38fc3a"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"ConfigSet Install","uuid":"9d3acc06-0320-c3cc-0a08-12b7a7fa6113"},"edge_type":"user_defined","type":"","uuid":"79a5d0a7-d92f-c53c-1b38-c28fa5df104a","to_task_reference":{"kind":"app_task","name":"ConfigSet Configure","uuid":"4f77ff0b-ba84-fa9e-1f31-20e2cb38fc3a"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"d11ad974_dag_cloned_1"},{"target_any_local_reference":{"kind":"app_package","name":"VMwareConfigSetPackage","uuid":"d9461450-276b-14d1-d8b7-4406aacb2683"},"retries":"0","description":"","type":"EXEC","uuid":"9d3acc06-0320-c3cc-0a08-12b7a7fa6113","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nVERSION=\"@@{MONGO_VERSION}@@\"\nDATA_PATH=\"@@{DATA_PATH}@@\"\nJOURNAL_PATH=\"@@{JOURNAL_PATH}@@\"\nLOG_PATH=\"@@{LOG_PATH}@@\"\nsudo hostnamectl set-hostname --static @@{name}@@\n\ncat > \/tmp\/set-hostnames.py <<EOF\n#!\/usr\/bin\/python\nimport re\nconfig_ips=\"@@{calm_array_address}@@\"\ndata_ips=\"@@{VMwareDataSet.address}@@\"\nrouter_ips=\"@@{VMwareRouter.address}@@\"\n\nhostfile = open('\/etc\/hosts', 'r').read()\nprint hostfile\nhostfile = re.sub('\\n#MONGODB-BEGIN.*?#MONGODB-END', '', hostfile, flags=re.DOTALL)\nhostfile += \"#MONGODB-BEGIN\\n\"\ncount=1\nfor ip in config_ips.split(','):\n  hostfile += ip + \" config\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in data_ips.split(','):\n  hostfile += ip + \" data\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in router_ips.split(','):\n  hostfile += ip + \" router\" + str(count) + \".mongodb\\n\"\n  count += 1\nhostfile += \"#MONGODB-END\\n\"\nopen('\/etc\/hosts', 'w').write(hostfile)\nEOF\n\nsudo python \/tmp\/set-hostnames.py\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho '[mongodb-org-3.4]\nname=MongoDB Repository\nbaseurl=https:\/\/repo.mongodb.org\/yum\/redhat\/$releasever\/mongodb-org\/3.4\/x86_64\/\ngpgcheck=1\nenabled=1\ngpgkey=https:\/\/www.mongodb.org\/static\/pgp\/server-3.4.asc' | sudo tee \/etc\/yum.repos.d\/mongodb-3.4.repo\n\nsudo yum update -y --quiet\nsudo yum install -y --quiet mongodb-org-${VERSION} mongodb-org-server-${VERSION} mongodb-org-shell-${VERSION} mongodb-org-mongos-${VERSION} mongodb-org-tools-${VERSION}\n\necho 'exclude=mongodb-org*' | sudo tee -a \/etc\/yum.conf\n\nsudo mkdir -p ${DATA_PATH} ${JOURNAL_PATH} ${LOG_PATH}\nsudo ln -s ${JOURNAL_PATH} ${DATA_PATH}\/journal\nsudo chown -R mongod:mongod ${DATA_PATH} ${JOURNAL_PATH} ${LOG_PATH}"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"ConfigSet Install"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"EXEC","uuid":"4f77ff0b-ba84-fa9e-1f31-20e2cb38fc3a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nCONFIG_SRV_IPS=\"@@{calm_array_address}@@\"\nDATA_PATH=\"@@{DATA_PATH}@@\"\nINTERNAL_IP=\"@@{address}@@\"\n\nsudo sed -i 's\/bindIp:\/#bindIp:\/g' \/etc\/mongod.conf\nsudo sed -i \"s#\/var\/lib\/mongo#${DATA_PATH}#g\" \/etc\/mongod.conf\nsudo sed -i 's\/#sharding:\/sharding:\\n  clusterRole: configsvr\/g' \/etc\/mongod.conf\nsudo sed -i 's\/#replication:\/replication:\\n  replSetName: configReplSet\/g' \/etc\/mongod.conf\n\n\nconfig_ips=$(echo \"${CONFIG_SRV_IPS}\" | sed 's\/^,\/\/' | sed 's\/,$\/\/' | tr \",\" \"\\n\")\nconfig_cnt=0\nconfig_str=\"\"\n\nfor config in $config_ips\ndo\n  config_str=$config_str\"{\\\"_id\\\": $config_cnt, host:\\\"$config:27017\\\"},\"\n  config_cnt=$(($config_cnt + 1))\ndone\nconfig_str=`echo $config_str | sed 's\/,$\/\/'`\njson=$(cat <<EOF\n{\n  \"_id\": \"configReplSet\",\n  \"members\": [\n    $config_str\n  ]\n}\nEOF\n)\n\nif [[ -f \/sys\/kernel\/mm\/transparent_hugepage\/enabled ]];then\n\techo never | sudo tee \/sys\/kernel\/mm\/transparent_hugepage\/enabled\nfi\nif [[ -f \/sys\/kernel\/mm\/transparent_hugepage\/defrag ]];then\n\techo never | sudo tee \/sys\/kernel\/mm\/transparent_hugepage\/defrag\nfi\n\nsudo systemctl restart mongod\nsleep 5\n\nif [ @@{calm_array_index}@@ -ne 0 ];then\n  exit\nfi\n\nsudo mongo --host ${INTERNAL_IP} --port 27017 --eval \"rs.initiate( $json )\""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"ConfigSet Configure"}],"description":"","message_list":[],"uuid":"246b4fe2-dbea-eed6-7e3f-ea95b9d19b95","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"d11ad974_dag_cloned_1","uuid":"d4d9b27e-1deb-86b4-56cc-566dfa9e4c0b"},"name":"cb5b150c_runbook_cloned_0"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"VMwareConfigSetPackage","uuid":"d9461450-276b-14d1-d8b7-4406aacb2683"},"retries":"0","description":"","type":"DAG","uuid":"195825f9-4e6e-26c8-9043-6dc2228c622c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"85c85e82_dag_cloned_1"}],"description":"","message_list":[],"uuid":"1b7b30d6-07aa-267d-070a-651bb62373fe","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"85c85e82_dag_cloned_1","uuid":"195825f9-4e6e-26c8-9043-6dc2228c622c"},"name":"485b8651_runbook_cloned_0"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Uninstall_Crb_d9461450_276b_14d1_d8b7_4406aacb2683"}],"description":"","message_list":[],"uuid":"91346631-b8f3-4027-a28c-1c2258479c1c","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Package_d9461450_276b_14d1_d8b7_4406aacb2683","uuid":"f70fd982-a2d6-4970-bcd4-8acb3b69943a"},"name":"SYS_GEN__Runbook_Package_d9461450_276b_14d1_d8b7_4406aacb2683"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"9743a478-01be-4768-be0e-85f188b942cc","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"VMwareConfigSetPackage","uuid":"d9461450-276b-14d1-d8b7-4406aacb2683"},"retries":"0","description":"","type":"DAG","uuid":"53e5b094-3f46-4986-8f21-a13e0cafb836","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"a786e92f-340d-4f58-80c8-df9c51a159ef"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"e421195f-4af4-4cea-9086-c61fbba5885c"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_d9461450_276b_14d1_d8b7_4406aacb2683","uuid":"f580281b-9362-4e1d-8215-ac8891893e4b"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"a786e92f-340d-4f58-80c8-df9c51a159ef"},"edge_type":"inherent","type":"","uuid":"bc85f664-1300-4151-830e-ece4a176bbcf","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"e421195f-4af4-4cea-9086-c61fbba5885c"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"e421195f-4af4-4cea-9086-c61fbba5885c"},"edge_type":"inherent","type":"","uuid":"03417d0b-8b8c-4489-859d-b6079f347a08","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_d9461450_276b_14d1_d8b7_4406aacb2683","uuid":"f580281b-9362-4e1d-8215-ac8891893e4b"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_d9461450_276b_14d1_d8b7_4406aacb2683"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"a786e92f-340d-4f58-80c8-df9c51a159ef","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"a33b20bd_runbook","uuid":"e6335ceb-f00b-4ec5-8425-3864e1897a7d"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"e421195f-4af4-4cea-9086-c61fbba5885c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"3c3538b9_runbook","uuid":"8625e87a-c851-44ac-9a8c-6808a1ac5574"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd"},{"target_any_local_reference":{"kind":"app_package","name":"VMwareConfigSetPackage","uuid":"d9461450-276b-14d1-d8b7-4406aacb2683"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"f580281b-9362-4e1d-8215-ac8891893e4b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_d9461450_276b_14d1_d8b7_4406aacb2683","uuid":"91346631-b8f3-4027-a28c-1c2258479c1c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_d9461450_276b_14d1_d8b7_4406aacb2683"}],"description":"","message_list":[],"uuid":"6bee1ec2-179f-449b-8677-bad8557e877b","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_d9461450_276b_14d1_d8b7_4406aacb2683","uuid":"53e5b094-3f46-4986-8f21-a13e0cafb836"},"name":"SYS_GEN__Runbook_Package_d9461450_276b_14d1_d8b7_4406aacb2683"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"a0fbdf74-2648-422b-be17-5f13411a595e","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"VMwareConfigSetPackage","uuid":"d9461450-276b-14d1-d8b7-4406aacb2683"},"retries":"0","description":"","type":"DAG","uuid":"71512699-a658-42be-a84f-8024347287a9","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"595977c3-565c-477c-b12f-c37da28603de"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_d9461450_276b_14d1_d8b7_4406aacb2683","uuid":"41b346f1-20e2-4d27-8d2e-934890bd3de3"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"595977c3-565c-477c-b12f-c37da28603de"},"edge_type":"inherent","type":"","uuid":"d96a020d-d257-4be9-8603-02c5e9a7d4d3","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_d9461450_276b_14d1_d8b7_4406aacb2683","uuid":"41b346f1-20e2-4d27-8d2e-934890bd3de3"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_d9461450_276b_14d1_d8b7_4406aacb2683"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"595977c3-565c-477c-b12f-c37da28603de","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"71c44ff6-8283-4578-8e15-dbf648d09ee4"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd"},{"target_any_local_reference":{"kind":"app_package","name":"VMwareConfigSetPackage","uuid":"d9461450-276b-14d1-d8b7-4406aacb2683"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"41b346f1-20e2-4d27-8d2e-934890bd3de3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_d9461450_276b_14d1_d8b7_4406aacb2683"}],"description":"","message_list":[],"uuid":"eba6bd13-72e1-4a90-ad1d-59445c56f762","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_d9461450_276b_14d1_d8b7_4406aacb2683","uuid":"71512699-a658-42be-a84f-8024347287a9"},"name":"SYS_GEN__Runbook_Package_d9461450_276b_14d1_d8b7_4406aacb2683"}},{"description":"System action for starting an application","message_list":[],"uuid":"21b24610-5303-4e9e-a317-5aa7ee657588","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"VMwareConfigSetPackage","uuid":"d9461450-276b-14d1-d8b7-4406aacb2683"},"retries":"0","description":"","type":"DAG","uuid":"9a3f5adb-c9f1-4990-a61f-28ad2472f4fe","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"c0eea41b-534b-4dd1-a01c-cfb6cc5046c7"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_d9461450_276b_14d1_d8b7_4406aacb2683"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"c0eea41b-534b-4dd1-a01c-cfb6cc5046c7","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"f4695758_runbook","uuid":"0c2528e9-82d6-40bc-9b4d-721eabd37ead"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd"}],"description":"","message_list":[],"uuid":"79634c3e-02b4-4a1a-b707-7d6391ba9de6","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_d9461450_276b_14d1_d8b7_4406aacb2683","uuid":"9a3f5adb-c9f1-4990-a61f-28ad2472f4fe"},"name":"SYS_GEN__Runbook_Package_d9461450_276b_14d1_d8b7_4406aacb2683"}},{"description":"System action for restarting an application","message_list":[],"uuid":"9d8f68f1-ffd7-4dc4-a601-2386125a9ac1","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"VMwareConfigSetPackage","uuid":"d9461450-276b-14d1-d8b7-4406aacb2683"},"retries":"0","description":"","type":"DAG","uuid":"b6b56541-de85-4f1e-b2a3-01c641c7d1e7","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"595ae261-7bc3-4264-b787-1e5bf7824d80"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_d9461450_276b_14d1_d8b7_4406aacb2683"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"595ae261-7bc3-4264-b787-1e5bf7824d80","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"b7169291_runbook","uuid":"7c36f5f8-9e8b-4f97-b855-438dc7eb8f3d"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd"}],"description":"","message_list":[],"uuid":"f511bb54-0f01-45d0-be2f-66d8d999ebc8","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_d9461450_276b_14d1_d8b7_4406aacb2683","uuid":"b6b56541-de85-4f1e-b2a3-01c641c7d1e7"},"name":"SYS_GEN__Runbook_Package_d9461450_276b_14d1_d8b7_4406aacb2683"}},{"description":"System action for stopping an application","message_list":[],"uuid":"9d63db94-623a-406d-9f2b-304d4f4e6ce5","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"VMwareConfigSetPackage","uuid":"d9461450-276b-14d1-d8b7-4406aacb2683"},"retries":"0","description":"","type":"DAG","uuid":"f980cdf7-7d22-4dce-be49-715d0a383d7e","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd","uuid":"b52e9fc7-bd90-4f02-b616-bffa01c5738d"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_d9461450_276b_14d1_d8b7_4406aacb2683"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"b52e9fc7-bd90-4f02-b616-bffa01c5738d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"a33b20bd_runbook","uuid":"e6335ceb-f00b-4ec5-8425-3864e1897a7d"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_a953c31a_1345_47a6_8af3_9de919a722bd"}],"description":"","message_list":[],"uuid":"f15c76db-9233-46ad-9bd5-d67af644c482","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_d9461450_276b_14d1_d8b7_4406aacb2683","uuid":"f980cdf7-7d22-4dce-be49-715d0a383d7e"},"name":"SYS_GEN__Runbook_Package_d9461450_276b_14d1_d8b7_4406aacb2683"}}],"message_list":[],"service_local_reference_list":[{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"}],"uuid":"d9461450-276b-14d1-d8b7-4406aacb2683","state":"ACTIVE","version":"","editables":{},"type":"DEB","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"VMwareConfigSetPackage","uuid":"d9461450-276b-14d1-d8b7-4406aacb2683"},"retries":"0","description":"","type":"DAG","uuid":"d4d9b27e-1deb-86b4-56cc-566dfa9e4c0b","child_tasks_local_reference_list":[{"kind":"app_task","name":"ConfigSet Install","uuid":"9d3acc06-0320-c3cc-0a08-12b7a7fa6113"},{"kind":"app_task","name":"ConfigSet Configure","uuid":"4f77ff0b-ba84-fa9e-1f31-20e2cb38fc3a"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"ConfigSet Install","uuid":"9d3acc06-0320-c3cc-0a08-12b7a7fa6113"},"edge_type":"user_defined","type":"","uuid":"79a5d0a7-d92f-c53c-1b38-c28fa5df104a","to_task_reference":{"kind":"app_task","name":"ConfigSet Configure","uuid":"4f77ff0b-ba84-fa9e-1f31-20e2cb38fc3a"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"d11ad974_dag_cloned_1"},{"target_any_local_reference":{"kind":"app_package","name":"VMwareConfigSetPackage","uuid":"d9461450-276b-14d1-d8b7-4406aacb2683"},"retries":"0","description":"","type":"EXEC","uuid":"9d3acc06-0320-c3cc-0a08-12b7a7fa6113","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nVERSION=\"@@{MONGO_VERSION}@@\"\nDATA_PATH=\"@@{DATA_PATH}@@\"\nJOURNAL_PATH=\"@@{JOURNAL_PATH}@@\"\nLOG_PATH=\"@@{LOG_PATH}@@\"\nsudo hostnamectl set-hostname --static @@{name}@@\n\ncat > \/tmp\/set-hostnames.py <<EOF\n#!\/usr\/bin\/python\nimport re\nconfig_ips=\"@@{calm_array_address}@@\"\ndata_ips=\"@@{VMwareDataSet.address}@@\"\nrouter_ips=\"@@{VMwareRouter.address}@@\"\n\nhostfile = open('\/etc\/hosts', 'r').read()\nprint hostfile\nhostfile = re.sub('\\n#MONGODB-BEGIN.*?#MONGODB-END', '', hostfile, flags=re.DOTALL)\nhostfile += \"#MONGODB-BEGIN\\n\"\ncount=1\nfor ip in config_ips.split(','):\n  hostfile += ip + \" config\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in data_ips.split(','):\n  hostfile += ip + \" data\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in router_ips.split(','):\n  hostfile += ip + \" router\" + str(count) + \".mongodb\\n\"\n  count += 1\nhostfile += \"#MONGODB-END\\n\"\nopen('\/etc\/hosts', 'w').write(hostfile)\nEOF\n\nsudo python \/tmp\/set-hostnames.py\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho '[mongodb-org-3.4]\nname=MongoDB Repository\nbaseurl=https:\/\/repo.mongodb.org\/yum\/redhat\/$releasever\/mongodb-org\/3.4\/x86_64\/\ngpgcheck=1\nenabled=1\ngpgkey=https:\/\/www.mongodb.org\/static\/pgp\/server-3.4.asc' | sudo tee \/etc\/yum.repos.d\/mongodb-3.4.repo\n\nsudo yum update -y --quiet\nsudo yum install -y --quiet mongodb-org-${VERSION} mongodb-org-server-${VERSION} mongodb-org-shell-${VERSION} mongodb-org-mongos-${VERSION} mongodb-org-tools-${VERSION}\n\necho 'exclude=mongodb-org*' | sudo tee -a \/etc\/yum.conf\n\nsudo mkdir -p ${DATA_PATH} ${JOURNAL_PATH} ${LOG_PATH}\nsudo ln -s ${JOURNAL_PATH} ${DATA_PATH}\/journal\nsudo chown -R mongod:mongod ${DATA_PATH} ${JOURNAL_PATH} ${LOG_PATH}"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"ConfigSet Install"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","type":"EXEC","uuid":"4f77ff0b-ba84-fa9e-1f31-20e2cb38fc3a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nCONFIG_SRV_IPS=\"@@{calm_array_address}@@\"\nDATA_PATH=\"@@{DATA_PATH}@@\"\nINTERNAL_IP=\"@@{address}@@\"\n\nsudo sed -i 's\/bindIp:\/#bindIp:\/g' \/etc\/mongod.conf\nsudo sed -i \"s#\/var\/lib\/mongo#${DATA_PATH}#g\" \/etc\/mongod.conf\nsudo sed -i 's\/#sharding:\/sharding:\\n  clusterRole: configsvr\/g' \/etc\/mongod.conf\nsudo sed -i 's\/#replication:\/replication:\\n  replSetName: configReplSet\/g' \/etc\/mongod.conf\n\n\nconfig_ips=$(echo \"${CONFIG_SRV_IPS}\" | sed 's\/^,\/\/' | sed 's\/,$\/\/' | tr \",\" \"\\n\")\nconfig_cnt=0\nconfig_str=\"\"\n\nfor config in $config_ips\ndo\n  config_str=$config_str\"{\\\"_id\\\": $config_cnt, host:\\\"$config:27017\\\"},\"\n  config_cnt=$(($config_cnt + 1))\ndone\nconfig_str=`echo $config_str | sed 's\/,$\/\/'`\njson=$(cat <<EOF\n{\n  \"_id\": \"configReplSet\",\n  \"members\": [\n    $config_str\n  ]\n}\nEOF\n)\n\nif [[ -f \/sys\/kernel\/mm\/transparent_hugepage\/enabled ]];then\n\techo never | sudo tee \/sys\/kernel\/mm\/transparent_hugepage\/enabled\nfi\nif [[ -f \/sys\/kernel\/mm\/transparent_hugepage\/defrag ]];then\n\techo never | sudo tee \/sys\/kernel\/mm\/transparent_hugepage\/defrag\nfi\n\nsudo systemctl restart mongod\nsleep 5\n\nif [ @@{calm_array_index}@@ -ne 0 ];then\n  exit\nfi\n\nsudo mongo --host ${INTERNAL_IP} --port 27017 --eval \"rs.initiate( $json )\""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"ConfigSet Configure"}],"description":"","message_list":[],"uuid":"246b4fe2-dbea-eed6-7e3f-ea95b9d19b95","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"d11ad974_dag_cloned_1","uuid":"d4d9b27e-1deb-86b4-56cc-566dfa9e4c0b"},"name":"cb5b150c_runbook_cloned_0"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"VMwareConfigSetPackage","uuid":"d9461450-276b-14d1-d8b7-4406aacb2683"},"retries":"0","description":"","type":"DAG","uuid":"195825f9-4e6e-26c8-9043-6dc2228c622c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"85c85e82_dag_cloned_1"}],"description":"","message_list":[],"uuid":"1b7b30d6-07aa-267d-070a-651bb62373fe","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"85c85e82_dag_cloned_1","uuid":"195825f9-4e6e-26c8-9043-6dc2228c622c"},"name":"485b8651_runbook_cloned_0"}},"variable_list":[],"name":"VMwareConfigSetPackage"},{"description":"","action_list":[{"description":"System action for installing an application","message_list":[],"uuid":"f10ab7fa-1a5a-48fa-aa51-25e8c61fe79a","name":"action_install","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"VMwareDataSetPackage","uuid":"13a01a7a-0d41-ac0c-8633-f3c237ff2124"},"retries":"0","description":"","type":"DAG","uuid":"b11d32ce-4ffa-41b4-9ad0-9bf6fccb1092","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Install_Crb_13a01a7a_0d41_ac0c_8633_f3c237ff2124","uuid":"107ea4a1-f335-4ec9-86f3-8f9b9ca2768e"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Package_13a01a7a_0d41_ac0c_8633_f3c237ff2124"},{"target_any_local_reference":{"kind":"app_package","name":"VMwareDataSetPackage","uuid":"13a01a7a-0d41-ac0c-8633-f3c237ff2124"},"retries":"0","description":"","type":"CUSTOM_PACKAGE_INSTALL","uuid":"107ea4a1-f335-4ec9-86f3-8f9b9ca2768e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"VMwareDataSetPackage","uuid":"13a01a7a-0d41-ac0c-8633-f3c237ff2124"},"retries":"0","description":"","type":"DAG","uuid":"3772cc00-762a-ef64-62af-ab527cbea718","child_tasks_local_reference_list":[{"kind":"app_task","name":"DataSet Install","uuid":"b46e71aa-8d3e-7c2f-1178-b5440c1f7ffd"},{"kind":"app_task","name":"DataSet Configure","uuid":"e79884a9-2203-6d15-58f4-5824fe294308"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"DataSet Install","uuid":"b46e71aa-8d3e-7c2f-1178-b5440c1f7ffd"},"edge_type":"user_defined","type":"","uuid":"c73b77d3-6138-3903-d6bc-c6fecd6aa980","to_task_reference":{"kind":"app_task","name":"DataSet Configure","uuid":"e79884a9-2203-6d15-58f4-5824fe294308"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"48a6c51b_dag_cloned_1"},{"target_any_local_reference":{"kind":"app_package","name":"VMwareDataSetPackage","uuid":"13a01a7a-0d41-ac0c-8633-f3c237ff2124"},"retries":"0","description":"","type":"EXEC","uuid":"b46e71aa-8d3e-7c2f-1178-b5440c1f7ffd","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nVERSION=\"@@{MONGO_VERSION}@@\"\nDATA_PATH=\"@@{DATA_PATH}@@\"\nJOURNAL_PATH=\"@@{JOURNAL_PATH}@@\"\nLOG_PATH=\"@@{LOG_PATH}@@\"\nsudo hostnamectl set-hostname --static @@{name}@@\n\ncat > \/tmp\/set-hostnames.py <<EOF\n#!\/usr\/bin\/python\nimport re\nconfig_ips=\"@@{VMwareConfigSet.address}@@\"\ndata_ips=\"@@{calm_array_address}@@\"\nrouter_ips=\"@@{VMwareRouter.address}@@\"\n\nhostfile = open('\/etc\/hosts', 'r').read()\nprint hostfile\nhostfile = re.sub('\\n#MONGODB-BEGIN.*?#MONGODB-END', '', hostfile, flags=re.DOTALL)\nhostfile += \"#MONGODB-BEGIN\\n\"\ncount=1\nfor ip in config_ips.split(','):\n  hostfile += ip + \" config\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in data_ips.split(','):\n  hostfile += ip + \" data\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in router_ips.split(','):\n  hostfile += ip + \" router\" + str(count) + \".mongodb\\n\"\n  count += 1\nhostfile += \"#MONGODB-END\\n\"\nopen('\/etc\/hosts', 'w').write(hostfile)\nEOF\n\nsudo python \/tmp\/set-hostnames.py\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho '[mongodb-org-3.4]\nname=MongoDB Repository\nbaseurl=https:\/\/repo.mongodb.org\/yum\/redhat\/$releasever\/mongodb-org\/3.4\/x86_64\/\ngpgcheck=1\nenabled=1\ngpgkey=https:\/\/www.mongodb.org\/static\/pgp\/server-3.4.asc' | sudo tee \/etc\/yum.repos.d\/mongodb-3.4.repo\n\nsudo yum update -y --quiet\nsudo yum install -y --quiet mongodb-org-${VERSION} mongodb-org-server-${VERSION} mongodb-org-shell-${VERSION} mongodb-org-mongos-${VERSION} mongodb-org-tools-${VERSION}\n\necho 'exclude=mongodb-org*' | sudo tee -a \/etc\/yum.conf\n\nsudo yum install -y --quiet lvm2 numactl lsscsi\nsudo lsscsi | awk '{print $NF}' | grep \/dev\/sd | grep -v sda | xargs sudo  pvcreate\n\nsudo vgcreate mongodata \/dev\/sdb \/dev\/sdc \/dev\/sdd \nsudo vgcreate mongojournal \/dev\/sde \nsudo vgcreate mongolog \/dev\/sdf\n\nsudo lvcreate -i 3 -l 100%VG -n mongodata mongodata\nsudo lvcreate -l 100%VG -n mongojournal mongojournal \nsudo lvcreate -l 100%VG -n mongolog mongolog\n\nsudo mkfs.xfs -K \/dev\/mapper\/mongodata-mongodata\nsudo mkfs.xfs -K \/dev\/mapper\/mongojournal-mongojournal\nsudo mkfs.xfs -K \/dev\/mapper\/mongolog-mongolog\n\nsudo mkdir -p ${DATA_PATH} ${JOURNAL_PATH} ${LOG_PATH}\n\necho \"\/dev\/mapper\/mongodata-mongodata ${DATA_PATH} xfs defaults,auto,noatime,noexec 0 0\n\/dev\/mapper\/mongojournal-mongojournal ${JOURNAL_PATH} xfs defaults,auto,noexec 0 0\n\/dev\/mapper\/mongolog-mongolog ${LOG_PATH} xfs defaults,auto,noexec 0 0\" | sudo tee -a \/etc\/fstab\nsudo mount -a\n\nsudo ln -s ${JOURNAL_PATH} ${DATA_PATH}\/journal\n\nsudo chown -R mongod:mongod ${DATA_PATH} ${JOURNAL_PATH} ${LOG_PATH}\n\nsudo blockdev --setra 32 \/dev\/dm-2\nsudo blockdev --getra \/dev\/dm-2\n\nsudo sysctl vm.swappiness=1\necho 'vm.swappiness=1' | sudo tee -a \/etc\/sysctl.conf\n"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"DataSet Install"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"EXEC","uuid":"e79884a9-2203-6d15-58f4-5824fe294308","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nREPLICA_IPS=\"@@{calm_array_address}@@\"\nDATA_PATH=\"@@{DATA_PATH}@@\"\nINTERNAL_IP=\"@@{address}@@\"\nINDEX=@@{calm_array_index}@@\nNODES_PER_REPLICA_SET=@@{NODES_PER_REPLICA_SET}@@\nARRAY_REPLICA_IPS=$(echo ${REPLICA_IPS} | sed 's\/^,\/\/' | sed 's\/,$\/\/' | tr \",\" \"\\n\")\n\ntmp=$((${INDEX}+${NODES_PER_REPLICA_SET}))\nreplicasetNo=$((${tmp}\/${NODES_PER_REPLICA_SET}))\nreplicaSetName=\"dataReplSet${replicasetNo}\"\n\nsudo sed -i 's\/bindIp:\/#bindIp:\/g' \/etc\/mongod.conf\nsudo sed -i \"s#\/var\/lib\/mongo#${DATA_PATH}#g\" \/etc\/mongod.conf\nsudo sed -i \"s\/#replication:\/replication:\\n  replSetName: $replicaSetName\/g\" \/etc\/mongod.conf\nsudo sed -i 's\/#sharding:\/sharding:\\n  clusterRole: shardsvr\/g' \/etc\/mongod.conf\nsudo sed -i 's#  path: \/var\/log\/mongodb\/mongod.log#  path: \/mongodb\/log\/mongod.log#' \/etc\/mongod.conf\n\n### Getting replicaset members details \nreplica_cnt=0\ndeclare -a replicaset_members\n\nfor replica in $ARRAY_REPLICA_IPS\ndo\n  tmp=$((${replica_cnt}+${NODES_PER_REPLICA_SET}))\n  i=\"$((${tmp}\/${NODES_PER_REPLICA_SET}))\"\n  replicaset_members[$i]=${replicaset_members[$i]}\"{\\\"_id\\\": $replica_cnt, host:\\\"$replica:27017\\\"},\"\n  replica_cnt=$(($replica_cnt + 1))\ndone\n\nif [[ -f \/sys\/kernel\/mm\/transparent_hugepage\/enabled ]];then\n\techo never | sudo tee \/sys\/kernel\/mm\/transparent_hugepage\/enabled\nfi\nif [[ -f \/sys\/kernel\/mm\/transparent_hugepage\/defrag ]];then\n\techo never | sudo tee \/sys\/kernel\/mm\/transparent_hugepage\/defrag\nfi\n\nsudo systemctl restart mongod\nsleep 5\n\n### Initiating replicaset \njson=$(cat <<EOF\n{\n  \"_id\": \"$replicaSetName\",\n  \"members\": [ ${replicaset_members[$replicasetNo]}]\n}\nEOF\n)\nsudo mongo --host ${INTERNAL_IP} --port 27017 --eval \"rs.initiate( $json )\"\nsleep 2\n"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"DataSet Configure"}],"description":"","message_list":[],"uuid":"c0cfaea4-925c-45d8-d050-c1f71e9d4b54","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"48a6c51b_dag_cloned_1","uuid":"3772cc00-762a-ef64-62af-ab527cbea718"},"name":"37c08a7f_runbook_cloned_0"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"VMwareDataSetPackage","uuid":"13a01a7a-0d41-ac0c-8633-f3c237ff2124"},"retries":"0","description":"","type":"DAG","uuid":"3291b1d2-d607-988c-77a1-35c9aa8ef0a5","child_tasks_local_reference_list":[{"kind":"app_task","name":"MoveDatabase_cloned_1","uuid":"7ea5a0e1-d42b-73f9-df70-6ec5873d7fa7"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"8725d8b7_dag_cloned_1"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"EXEC","uuid":"7ea5a0e1-d42b-73f9-df70-6ec5873d7fa7","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\n\nnode=$(echo \"@@{calm_array_address}@@\" | tr ',' '\\n' | wc -l)\n\nif [[ \"@@{calm_array_index}@@\" != \"$(($node-1))\" ]];then\n  exit 0\nfi\n\neval $(mongo --host router1.mongodb --port 27017 --quiet --eval 'db.adminCommand( { listShards: 1 } )' | python -c '\nimport json,sys\ndata=json.load(sys.stdin)\nprint \"HOST={}\".format(data[\"shards\"][len(data[\"shards\"])-1][\"host\"])\n')\neval $(mongo --host router1.mongodb --port 27017 --quiet --eval 'db.adminCommand( { listShards: 1 } )' | python -c '\nimport json,sys\ndata=json.load(sys.stdin)\nprint \"HOSTTOMOVE={}\".format(data[\"shards\"][@@{SHARD_TO_MOVE}@@-1][\"host\"])\n')\nhost_state=`mongo --host router1.mongodb --port 27017 --quiet --eval \"db.adminCommand({removeShard: '${HOST}'})['state']\"`\nif [[ \"$host_state\" == \"started\" ]] ; then\n  sleep 5\nfi\nhost_state=`mongo --host router1.mongodb --port 27017 --quiet --eval \"db.adminCommand({removeShard: '${HOST}'})['state']\"`\nif [[ \"$host_state\" == \"ongoing\" ]] ; then\n  if [[ \"@@{SHARD_TO_MOVE}@@\" == \"\" ]] ; then\n    echo \"Please enter the shard number value to move tables.\"\n    exit 1\n  fi\n  dbstomove=`mongo --host router1.mongodb --port 27017 --quiet --eval \"db.adminCommand({removeShard: '${HOST}'})['dbsToMove']\"`\n  eval $(echo $dbstomove | python -c 'import json,sys ; data=json.load(sys.stdin) ; print \"DBSTOMOVE={}\".format(\",\".join(data))')\n  for x in $(echo $DBSTOMOVE | tr \",\" \"\\n\") ; do\n     echo \"echo moving $x\"\n     mongo --host router1.mongodb --port 27017 --quiet --eval \"db.adminCommand({ movePrimary: '$x', to: '${HOSTTOMOVE}' })\"\n  done\n  mongo --host router1.mongodb --port 27017 --quiet --eval \"db.adminCommand({removeShard: '${HOST}'})\"\n  echo \"completed removing shard '${HOST}'\"\nelif [[ \"$host_state\" == \"completed\" ]] ; then\n  echo \"Host removal completed\"\nfi\n"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"MoveDatabase_cloned_1"}],"description":"","message_list":[],"uuid":"bf071490-2059-cbf2-0a7b-fd80473eac28","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"8725d8b7_dag_cloned_1","uuid":"3291b1d2-d607-988c-77a1-35c9aa8ef0a5"},"name":"58209b81_runbook_cloned_0"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Install_Crb_13a01a7a_0d41_ac0c_8633_f3c237ff2124"}],"description":"","message_list":[],"uuid":"a3ab1688-c6e6-42e6-aeb5-4892ab0c2fa2","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Package_13a01a7a_0d41_ac0c_8633_f3c237ff2124","uuid":"b11d32ce-4ffa-41b4-9ad0-9bf6fccb1092"},"name":"SYS_GEN__Runbook_Package_13a01a7a_0d41_ac0c_8633_f3c237ff2124"}},{"description":"System action for creating an application","message_list":[],"uuid":"4a2b9e24-7e55-490d-a542-c330ee884ebe","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"VMwareDataSetPackage","uuid":"13a01a7a-0d41-ac0c-8633-f3c237ff2124"},"retries":"0","description":"","type":"DAG","uuid":"26bb08bb-9ee8-443a-aa8c-38272b33e3de","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_13a01a7a_0d41_ac0c_8633_f3c237ff2124","uuid":"2322a6e7-907e-44bc-a154-77f69dc85d05"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"b60aee79-652c-480d-9e7d-0a80bf650d7b"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"d1cd823f-e6e5-4cb3-af96-af954cf58196"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"b60aee79-652c-480d-9e7d-0a80bf650d7b"},"edge_type":"inherent","type":"","uuid":"a94cf4fb-75f5-4443-91b0-d54b5ce605d7","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"d1cd823f-e6e5-4cb3-af96-af954cf58196"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_13a01a7a_0d41_ac0c_8633_f3c237ff2124","uuid":"2322a6e7-907e-44bc-a154-77f69dc85d05"},"edge_type":"inherent","type":"","uuid":"27c19c16-8f28-4dc3-85f1-39153523bb0f","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"b60aee79-652c-480d-9e7d-0a80bf650d7b"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_13a01a7a_0d41_ac0c_8633_f3c237ff2124"},{"target_any_local_reference":{"kind":"app_package","name":"VMwareDataSetPackage","uuid":"13a01a7a-0d41-ac0c-8633-f3c237ff2124"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"2322a6e7-907e-44bc-a154-77f69dc85d05","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_13a01a7a_0d41_ac0c_8633_f3c237ff2124","uuid":"a3ab1688-c6e6-42e6-aeb5-4892ab0c2fa2"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_13a01a7a_0d41_ac0c_8633_f3c237ff2124"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"b60aee79-652c-480d-9e7d-0a80bf650d7b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0bda2b69_runbook","uuid":"c08988e8-53fc-48b3-942d-00d118016989"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"d1cd823f-e6e5-4cb3-af96-af954cf58196","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0f1333dd_runbook","uuid":"43f16a26-e0b7-42a9-b2de-6e6d4147d381"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47"}],"description":"","message_list":[],"uuid":"e8234098-6513-4803-b5ce-5d92865ebf95","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_13a01a7a_0d41_ac0c_8633_f3c237ff2124","uuid":"26bb08bb-9ee8-443a-aa8c-38272b33e3de"},"name":"SYS_GEN__Runbook_Package_13a01a7a_0d41_ac0c_8633_f3c237ff2124"}},{"description":"System action for uninstalling an application","message_list":[],"uuid":"501e0952-90bc-4299-a4ca-3b68861a97e4","name":"action_uninstall","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"VMwareDataSetPackage","uuid":"13a01a7a-0d41-ac0c-8633-f3c237ff2124"},"retries":"0","description":"","type":"DAG","uuid":"77dc4de3-3d4a-4420-8fa2-1132816cf3dd","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Uninstall_Crb_13a01a7a_0d41_ac0c_8633_f3c237ff2124","uuid":"0b0e2547-c89b-4733-ac90-1a79fb6263d3"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Package_13a01a7a_0d41_ac0c_8633_f3c237ff2124"},{"target_any_local_reference":{"kind":"app_package","name":"VMwareDataSetPackage","uuid":"13a01a7a-0d41-ac0c-8633-f3c237ff2124"},"retries":"0","description":"","type":"CUSTOM_PACKAGE_UNINSTALL","uuid":"0b0e2547-c89b-4733-ac90-1a79fb6263d3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"VMwareDataSetPackage","uuid":"13a01a7a-0d41-ac0c-8633-f3c237ff2124"},"retries":"0","description":"","type":"DAG","uuid":"3772cc00-762a-ef64-62af-ab527cbea718","child_tasks_local_reference_list":[{"kind":"app_task","name":"DataSet Install","uuid":"b46e71aa-8d3e-7c2f-1178-b5440c1f7ffd"},{"kind":"app_task","name":"DataSet Configure","uuid":"e79884a9-2203-6d15-58f4-5824fe294308"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"DataSet Install","uuid":"b46e71aa-8d3e-7c2f-1178-b5440c1f7ffd"},"edge_type":"user_defined","type":"","uuid":"c73b77d3-6138-3903-d6bc-c6fecd6aa980","to_task_reference":{"kind":"app_task","name":"DataSet Configure","uuid":"e79884a9-2203-6d15-58f4-5824fe294308"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"48a6c51b_dag_cloned_1"},{"target_any_local_reference":{"kind":"app_package","name":"VMwareDataSetPackage","uuid":"13a01a7a-0d41-ac0c-8633-f3c237ff2124"},"retries":"0","description":"","type":"EXEC","uuid":"b46e71aa-8d3e-7c2f-1178-b5440c1f7ffd","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nVERSION=\"@@{MONGO_VERSION}@@\"\nDATA_PATH=\"@@{DATA_PATH}@@\"\nJOURNAL_PATH=\"@@{JOURNAL_PATH}@@\"\nLOG_PATH=\"@@{LOG_PATH}@@\"\nsudo hostnamectl set-hostname --static @@{name}@@\n\ncat > \/tmp\/set-hostnames.py <<EOF\n#!\/usr\/bin\/python\nimport re\nconfig_ips=\"@@{VMwareConfigSet.address}@@\"\ndata_ips=\"@@{calm_array_address}@@\"\nrouter_ips=\"@@{VMwareRouter.address}@@\"\n\nhostfile = open('\/etc\/hosts', 'r').read()\nprint hostfile\nhostfile = re.sub('\\n#MONGODB-BEGIN.*?#MONGODB-END', '', hostfile, flags=re.DOTALL)\nhostfile += \"#MONGODB-BEGIN\\n\"\ncount=1\nfor ip in config_ips.split(','):\n  hostfile += ip + \" config\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in data_ips.split(','):\n  hostfile += ip + \" data\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in router_ips.split(','):\n  hostfile += ip + \" router\" + str(count) + \".mongodb\\n\"\n  count += 1\nhostfile += \"#MONGODB-END\\n\"\nopen('\/etc\/hosts', 'w').write(hostfile)\nEOF\n\nsudo python \/tmp\/set-hostnames.py\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho '[mongodb-org-3.4]\nname=MongoDB Repository\nbaseurl=https:\/\/repo.mongodb.org\/yum\/redhat\/$releasever\/mongodb-org\/3.4\/x86_64\/\ngpgcheck=1\nenabled=1\ngpgkey=https:\/\/www.mongodb.org\/static\/pgp\/server-3.4.asc' | sudo tee \/etc\/yum.repos.d\/mongodb-3.4.repo\n\nsudo yum update -y --quiet\nsudo yum install -y --quiet mongodb-org-${VERSION} mongodb-org-server-${VERSION} mongodb-org-shell-${VERSION} mongodb-org-mongos-${VERSION} mongodb-org-tools-${VERSION}\n\necho 'exclude=mongodb-org*' | sudo tee -a \/etc\/yum.conf\n\nsudo yum install -y --quiet lvm2 numactl lsscsi\nsudo lsscsi | awk '{print $NF}' | grep \/dev\/sd | grep -v sda | xargs sudo  pvcreate\n\nsudo vgcreate mongodata \/dev\/sdb \/dev\/sdc \/dev\/sdd \nsudo vgcreate mongojournal \/dev\/sde \nsudo vgcreate mongolog \/dev\/sdf\n\nsudo lvcreate -i 3 -l 100%VG -n mongodata mongodata\nsudo lvcreate -l 100%VG -n mongojournal mongojournal \nsudo lvcreate -l 100%VG -n mongolog mongolog\n\nsudo mkfs.xfs -K \/dev\/mapper\/mongodata-mongodata\nsudo mkfs.xfs -K \/dev\/mapper\/mongojournal-mongojournal\nsudo mkfs.xfs -K \/dev\/mapper\/mongolog-mongolog\n\nsudo mkdir -p ${DATA_PATH} ${JOURNAL_PATH} ${LOG_PATH}\n\necho \"\/dev\/mapper\/mongodata-mongodata ${DATA_PATH} xfs defaults,auto,noatime,noexec 0 0\n\/dev\/mapper\/mongojournal-mongojournal ${JOURNAL_PATH} xfs defaults,auto,noexec 0 0\n\/dev\/mapper\/mongolog-mongolog ${LOG_PATH} xfs defaults,auto,noexec 0 0\" | sudo tee -a \/etc\/fstab\nsudo mount -a\n\nsudo ln -s ${JOURNAL_PATH} ${DATA_PATH}\/journal\n\nsudo chown -R mongod:mongod ${DATA_PATH} ${JOURNAL_PATH} ${LOG_PATH}\n\nsudo blockdev --setra 32 \/dev\/dm-2\nsudo blockdev --getra \/dev\/dm-2\n\nsudo sysctl vm.swappiness=1\necho 'vm.swappiness=1' | sudo tee -a \/etc\/sysctl.conf\n"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"DataSet Install"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"EXEC","uuid":"e79884a9-2203-6d15-58f4-5824fe294308","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nREPLICA_IPS=\"@@{calm_array_address}@@\"\nDATA_PATH=\"@@{DATA_PATH}@@\"\nINTERNAL_IP=\"@@{address}@@\"\nINDEX=@@{calm_array_index}@@\nNODES_PER_REPLICA_SET=@@{NODES_PER_REPLICA_SET}@@\nARRAY_REPLICA_IPS=$(echo ${REPLICA_IPS} | sed 's\/^,\/\/' | sed 's\/,$\/\/' | tr \",\" \"\\n\")\n\ntmp=$((${INDEX}+${NODES_PER_REPLICA_SET}))\nreplicasetNo=$((${tmp}\/${NODES_PER_REPLICA_SET}))\nreplicaSetName=\"dataReplSet${replicasetNo}\"\n\nsudo sed -i 's\/bindIp:\/#bindIp:\/g' \/etc\/mongod.conf\nsudo sed -i \"s#\/var\/lib\/mongo#${DATA_PATH}#g\" \/etc\/mongod.conf\nsudo sed -i \"s\/#replication:\/replication:\\n  replSetName: $replicaSetName\/g\" \/etc\/mongod.conf\nsudo sed -i 's\/#sharding:\/sharding:\\n  clusterRole: shardsvr\/g' \/etc\/mongod.conf\nsudo sed -i 's#  path: \/var\/log\/mongodb\/mongod.log#  path: \/mongodb\/log\/mongod.log#' \/etc\/mongod.conf\n\n### Getting replicaset members details \nreplica_cnt=0\ndeclare -a replicaset_members\n\nfor replica in $ARRAY_REPLICA_IPS\ndo\n  tmp=$((${replica_cnt}+${NODES_PER_REPLICA_SET}))\n  i=\"$((${tmp}\/${NODES_PER_REPLICA_SET}))\"\n  replicaset_members[$i]=${replicaset_members[$i]}\"{\\\"_id\\\": $replica_cnt, host:\\\"$replica:27017\\\"},\"\n  replica_cnt=$(($replica_cnt + 1))\ndone\n\nif [[ -f \/sys\/kernel\/mm\/transparent_hugepage\/enabled ]];then\n\techo never | sudo tee \/sys\/kernel\/mm\/transparent_hugepage\/enabled\nfi\nif [[ -f \/sys\/kernel\/mm\/transparent_hugepage\/defrag ]];then\n\techo never | sudo tee \/sys\/kernel\/mm\/transparent_hugepage\/defrag\nfi\n\nsudo systemctl restart mongod\nsleep 5\n\n### Initiating replicaset \njson=$(cat <<EOF\n{\n  \"_id\": \"$replicaSetName\",\n  \"members\": [ ${replicaset_members[$replicasetNo]}]\n}\nEOF\n)\nsudo mongo --host ${INTERNAL_IP} --port 27017 --eval \"rs.initiate( $json )\"\nsleep 2\n"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"DataSet Configure"}],"description":"","message_list":[],"uuid":"c0cfaea4-925c-45d8-d050-c1f71e9d4b54","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"48a6c51b_dag_cloned_1","uuid":"3772cc00-762a-ef64-62af-ab527cbea718"},"name":"37c08a7f_runbook_cloned_0"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"VMwareDataSetPackage","uuid":"13a01a7a-0d41-ac0c-8633-f3c237ff2124"},"retries":"0","description":"","type":"DAG","uuid":"3291b1d2-d607-988c-77a1-35c9aa8ef0a5","child_tasks_local_reference_list":[{"kind":"app_task","name":"MoveDatabase_cloned_1","uuid":"7ea5a0e1-d42b-73f9-df70-6ec5873d7fa7"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"8725d8b7_dag_cloned_1"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"EXEC","uuid":"7ea5a0e1-d42b-73f9-df70-6ec5873d7fa7","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\n\nnode=$(echo \"@@{calm_array_address}@@\" | tr ',' '\\n' | wc -l)\n\nif [[ \"@@{calm_array_index}@@\" != \"$(($node-1))\" ]];then\n  exit 0\nfi\n\neval $(mongo --host router1.mongodb --port 27017 --quiet --eval 'db.adminCommand( { listShards: 1 } )' | python -c '\nimport json,sys\ndata=json.load(sys.stdin)\nprint \"HOST={}\".format(data[\"shards\"][len(data[\"shards\"])-1][\"host\"])\n')\neval $(mongo --host router1.mongodb --port 27017 --quiet --eval 'db.adminCommand( { listShards: 1 } )' | python -c '\nimport json,sys\ndata=json.load(sys.stdin)\nprint \"HOSTTOMOVE={}\".format(data[\"shards\"][@@{SHARD_TO_MOVE}@@-1][\"host\"])\n')\nhost_state=`mongo --host router1.mongodb --port 27017 --quiet --eval \"db.adminCommand({removeShard: '${HOST}'})['state']\"`\nif [[ \"$host_state\" == \"started\" ]] ; then\n  sleep 5\nfi\nhost_state=`mongo --host router1.mongodb --port 27017 --quiet --eval \"db.adminCommand({removeShard: '${HOST}'})['state']\"`\nif [[ \"$host_state\" == \"ongoing\" ]] ; then\n  if [[ \"@@{SHARD_TO_MOVE}@@\" == \"\" ]] ; then\n    echo \"Please enter the shard number value to move tables.\"\n    exit 1\n  fi\n  dbstomove=`mongo --host router1.mongodb --port 27017 --quiet --eval \"db.adminCommand({removeShard: '${HOST}'})['dbsToMove']\"`\n  eval $(echo $dbstomove | python -c 'import json,sys ; data=json.load(sys.stdin) ; print \"DBSTOMOVE={}\".format(\",\".join(data))')\n  for x in $(echo $DBSTOMOVE | tr \",\" \"\\n\") ; do\n     echo \"echo moving $x\"\n     mongo --host router1.mongodb --port 27017 --quiet --eval \"db.adminCommand({ movePrimary: '$x', to: '${HOSTTOMOVE}' })\"\n  done\n  mongo --host router1.mongodb --port 27017 --quiet --eval \"db.adminCommand({removeShard: '${HOST}'})\"\n  echo \"completed removing shard '${HOST}'\"\nelif [[ \"$host_state\" == \"completed\" ]] ; then\n  echo \"Host removal completed\"\nfi\n"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"MoveDatabase_cloned_1"}],"description":"","message_list":[],"uuid":"bf071490-2059-cbf2-0a7b-fd80473eac28","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"8725d8b7_dag_cloned_1","uuid":"3291b1d2-d607-988c-77a1-35c9aa8ef0a5"},"name":"58209b81_runbook_cloned_0"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Uninstall_Crb_13a01a7a_0d41_ac0c_8633_f3c237ff2124"}],"description":"","message_list":[],"uuid":"eae2eda1-1424-4938-aad6-4b24e8c5732f","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Package_13a01a7a_0d41_ac0c_8633_f3c237ff2124","uuid":"77dc4de3-3d4a-4420-8fa2-1132816cf3dd"},"name":"SYS_GEN__Runbook_Package_13a01a7a_0d41_ac0c_8633_f3c237ff2124"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"c09848cd-b2a0-4f63-96d6-d3a1094bac81","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"VMwareDataSetPackage","uuid":"13a01a7a-0d41-ac0c-8633-f3c237ff2124"},"retries":"0","description":"","type":"DAG","uuid":"9270035c-d56c-4a33-a0f5-5bd41ef6f00f","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"2458ce56-b0a9-4b99-a987-5bffdd0b664c"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"c6548133-328f-47ca-a581-3817e19144c1"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_13a01a7a_0d41_ac0c_8633_f3c237ff2124","uuid":"e00989d1-1c03-4b52-b200-e8de302ace4d"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"2458ce56-b0a9-4b99-a987-5bffdd0b664c"},"edge_type":"inherent","type":"","uuid":"57d27ee0-d522-4b0b-9f3d-e35151610366","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"c6548133-328f-47ca-a581-3817e19144c1"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"c6548133-328f-47ca-a581-3817e19144c1"},"edge_type":"inherent","type":"","uuid":"47acc68d-f992-47a3-bb27-fafdaaefefa6","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_13a01a7a_0d41_ac0c_8633_f3c237ff2124","uuid":"e00989d1-1c03-4b52-b200-e8de302ace4d"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_13a01a7a_0d41_ac0c_8633_f3c237ff2124"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"2458ce56-b0a9-4b99-a987-5bffdd0b664c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"85883b0a_runbook","uuid":"42cf4c9d-d9e5-435e-b222-f2d33a05683f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"c6548133-328f-47ca-a581-3817e19144c1","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"036f3879_runbook","uuid":"c6545ccb-d141-45bd-bf59-cf1e44946785"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47"},{"target_any_local_reference":{"kind":"app_package","name":"VMwareDataSetPackage","uuid":"13a01a7a-0d41-ac0c-8633-f3c237ff2124"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"e00989d1-1c03-4b52-b200-e8de302ace4d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_13a01a7a_0d41_ac0c_8633_f3c237ff2124","uuid":"eae2eda1-1424-4938-aad6-4b24e8c5732f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_13a01a7a_0d41_ac0c_8633_f3c237ff2124"}],"description":"","message_list":[],"uuid":"a4be1315-0520-48b7-acc5-479f1574aa7e","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_13a01a7a_0d41_ac0c_8633_f3c237ff2124","uuid":"9270035c-d56c-4a33-a0f5-5bd41ef6f00f"},"name":"SYS_GEN__Runbook_Package_13a01a7a_0d41_ac0c_8633_f3c237ff2124"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"9201e073-01b5-4685-aeab-d07b21c1236e","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"VMwareDataSetPackage","uuid":"13a01a7a-0d41-ac0c-8633-f3c237ff2124"},"retries":"0","description":"","type":"DAG","uuid":"feba292f-454f-497e-be14-177beb88f38e","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"4c62adbb-d382-4b73-866d-13c8b55537f8"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_13a01a7a_0d41_ac0c_8633_f3c237ff2124","uuid":"928d9171-911e-49b9-b603-be696e320247"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"4c62adbb-d382-4b73-866d-13c8b55537f8"},"edge_type":"inherent","type":"","uuid":"813e72a6-ffad-4de8-af88-4cad4eb24aa2","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_13a01a7a_0d41_ac0c_8633_f3c237ff2124","uuid":"928d9171-911e-49b9-b603-be696e320247"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_13a01a7a_0d41_ac0c_8633_f3c237ff2124"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"4c62adbb-d382-4b73-866d-13c8b55537f8","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"433fbe65-0fc7-4649-a088-87d5660f88a6"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47"},{"target_any_local_reference":{"kind":"app_package","name":"VMwareDataSetPackage","uuid":"13a01a7a-0d41-ac0c-8633-f3c237ff2124"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"928d9171-911e-49b9-b603-be696e320247","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_13a01a7a_0d41_ac0c_8633_f3c237ff2124"}],"description":"","message_list":[],"uuid":"1984e2a4-dc86-49b2-9753-4e4674231b3c","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_13a01a7a_0d41_ac0c_8633_f3c237ff2124","uuid":"feba292f-454f-497e-be14-177beb88f38e"},"name":"SYS_GEN__Runbook_Package_13a01a7a_0d41_ac0c_8633_f3c237ff2124"}},{"description":"System action for starting an application","message_list":[],"uuid":"a9c7bd36-6a54-4206-a8f5-9c9f3ac449a3","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"VMwareDataSetPackage","uuid":"13a01a7a-0d41-ac0c-8633-f3c237ff2124"},"retries":"0","description":"","type":"DAG","uuid":"f62822e9-cb5e-43ae-9400-9cea23f2f58a","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"d5b9a95d-45d3-4056-983f-05490c3e2688"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_13a01a7a_0d41_ac0c_8633_f3c237ff2124"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"d5b9a95d-45d3-4056-983f-05490c3e2688","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0f1333dd_runbook","uuid":"43f16a26-e0b7-42a9-b2de-6e6d4147d381"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47"}],"description":"","message_list":[],"uuid":"f2cc6bb7-3faa-4778-870a-a0bcd2fa2ed5","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_13a01a7a_0d41_ac0c_8633_f3c237ff2124","uuid":"f62822e9-cb5e-43ae-9400-9cea23f2f58a"},"name":"SYS_GEN__Runbook_Package_13a01a7a_0d41_ac0c_8633_f3c237ff2124"}},{"description":"System action for restarting an application","message_list":[],"uuid":"8ae3fb37-864e-4051-aa37-7d297c370431","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"VMwareDataSetPackage","uuid":"13a01a7a-0d41-ac0c-8633-f3c237ff2124"},"retries":"0","description":"","type":"DAG","uuid":"fe7e6618-0d62-422c-abd4-3a4f738563b2","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"dac9bad3-4b51-409e-aca4-370cb324e9c3"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_13a01a7a_0d41_ac0c_8633_f3c237ff2124"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"dac9bad3-4b51-409e-aca4-370cb324e9c3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"4f7b2559_runbook","uuid":"03856e37-e1bf-4b7c-95bb-87bf81c6c940"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47"}],"description":"","message_list":[],"uuid":"672c2198-b209-48a3-88ff-31d062b98299","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_13a01a7a_0d41_ac0c_8633_f3c237ff2124","uuid":"fe7e6618-0d62-422c-abd4-3a4f738563b2"},"name":"SYS_GEN__Runbook_Package_13a01a7a_0d41_ac0c_8633_f3c237ff2124"}},{"description":"System action for stopping an application","message_list":[],"uuid":"c5d80722-ebb6-4244-95b1-5d220810e17f","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"VMwareDataSetPackage","uuid":"13a01a7a-0d41-ac0c-8633-f3c237ff2124"},"retries":"0","description":"","type":"DAG","uuid":"80558a00-5526-4c88-9b3c-fadc2cfeb7b8","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47","uuid":"d0cbc6ad-42e6-4e01-b695-2e3307ad8056"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_13a01a7a_0d41_ac0c_8633_f3c237ff2124"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"d0cbc6ad-42e6-4e01-b695-2e3307ad8056","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"85883b0a_runbook","uuid":"42cf4c9d-d9e5-435e-b222-f2d33a05683f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_17a450f6_2b1b_48c1_be1d_60954b642b47"}],"description":"","message_list":[],"uuid":"217e8cc1-94a7-4931-b28c-98dff2359cf5","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_13a01a7a_0d41_ac0c_8633_f3c237ff2124","uuid":"80558a00-5526-4c88-9b3c-fadc2cfeb7b8"},"name":"SYS_GEN__Runbook_Package_13a01a7a_0d41_ac0c_8633_f3c237ff2124"}}],"message_list":[],"service_local_reference_list":[{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"}],"uuid":"13a01a7a-0d41-ac0c-8633-f3c237ff2124","state":"ACTIVE","version":"","editables":{},"type":"DEB","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"VMwareDataSetPackage","uuid":"13a01a7a-0d41-ac0c-8633-f3c237ff2124"},"retries":"0","description":"","type":"DAG","uuid":"3772cc00-762a-ef64-62af-ab527cbea718","child_tasks_local_reference_list":[{"kind":"app_task","name":"DataSet Install","uuid":"b46e71aa-8d3e-7c2f-1178-b5440c1f7ffd"},{"kind":"app_task","name":"DataSet Configure","uuid":"e79884a9-2203-6d15-58f4-5824fe294308"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"DataSet Install","uuid":"b46e71aa-8d3e-7c2f-1178-b5440c1f7ffd"},"edge_type":"user_defined","type":"","uuid":"c73b77d3-6138-3903-d6bc-c6fecd6aa980","to_task_reference":{"kind":"app_task","name":"DataSet Configure","uuid":"e79884a9-2203-6d15-58f4-5824fe294308"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"48a6c51b_dag_cloned_1"},{"target_any_local_reference":{"kind":"app_package","name":"VMwareDataSetPackage","uuid":"13a01a7a-0d41-ac0c-8633-f3c237ff2124"},"retries":"0","description":"","type":"EXEC","uuid":"b46e71aa-8d3e-7c2f-1178-b5440c1f7ffd","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nVERSION=\"@@{MONGO_VERSION}@@\"\nDATA_PATH=\"@@{DATA_PATH}@@\"\nJOURNAL_PATH=\"@@{JOURNAL_PATH}@@\"\nLOG_PATH=\"@@{LOG_PATH}@@\"\nsudo hostnamectl set-hostname --static @@{name}@@\n\ncat > \/tmp\/set-hostnames.py <<EOF\n#!\/usr\/bin\/python\nimport re\nconfig_ips=\"@@{VMwareConfigSet.address}@@\"\ndata_ips=\"@@{calm_array_address}@@\"\nrouter_ips=\"@@{VMwareRouter.address}@@\"\n\nhostfile = open('\/etc\/hosts', 'r').read()\nprint hostfile\nhostfile = re.sub('\\n#MONGODB-BEGIN.*?#MONGODB-END', '', hostfile, flags=re.DOTALL)\nhostfile += \"#MONGODB-BEGIN\\n\"\ncount=1\nfor ip in config_ips.split(','):\n  hostfile += ip + \" config\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in data_ips.split(','):\n  hostfile += ip + \" data\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in router_ips.split(','):\n  hostfile += ip + \" router\" + str(count) + \".mongodb\\n\"\n  count += 1\nhostfile += \"#MONGODB-END\\n\"\nopen('\/etc\/hosts', 'w').write(hostfile)\nEOF\n\nsudo python \/tmp\/set-hostnames.py\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho '[mongodb-org-3.4]\nname=MongoDB Repository\nbaseurl=https:\/\/repo.mongodb.org\/yum\/redhat\/$releasever\/mongodb-org\/3.4\/x86_64\/\ngpgcheck=1\nenabled=1\ngpgkey=https:\/\/www.mongodb.org\/static\/pgp\/server-3.4.asc' | sudo tee \/etc\/yum.repos.d\/mongodb-3.4.repo\n\nsudo yum update -y --quiet\nsudo yum install -y --quiet mongodb-org-${VERSION} mongodb-org-server-${VERSION} mongodb-org-shell-${VERSION} mongodb-org-mongos-${VERSION} mongodb-org-tools-${VERSION}\n\necho 'exclude=mongodb-org*' | sudo tee -a \/etc\/yum.conf\n\nsudo yum install -y --quiet lvm2 numactl lsscsi\nsudo lsscsi | awk '{print $NF}' | grep \/dev\/sd | grep -v sda | xargs sudo  pvcreate\n\nsudo vgcreate mongodata \/dev\/sdb \/dev\/sdc \/dev\/sdd \nsudo vgcreate mongojournal \/dev\/sde \nsudo vgcreate mongolog \/dev\/sdf\n\nsudo lvcreate -i 3 -l 100%VG -n mongodata mongodata\nsudo lvcreate -l 100%VG -n mongojournal mongojournal \nsudo lvcreate -l 100%VG -n mongolog mongolog\n\nsudo mkfs.xfs -K \/dev\/mapper\/mongodata-mongodata\nsudo mkfs.xfs -K \/dev\/mapper\/mongojournal-mongojournal\nsudo mkfs.xfs -K \/dev\/mapper\/mongolog-mongolog\n\nsudo mkdir -p ${DATA_PATH} ${JOURNAL_PATH} ${LOG_PATH}\n\necho \"\/dev\/mapper\/mongodata-mongodata ${DATA_PATH} xfs defaults,auto,noatime,noexec 0 0\n\/dev\/mapper\/mongojournal-mongojournal ${JOURNAL_PATH} xfs defaults,auto,noexec 0 0\n\/dev\/mapper\/mongolog-mongolog ${LOG_PATH} xfs defaults,auto,noexec 0 0\" | sudo tee -a \/etc\/fstab\nsudo mount -a\n\nsudo ln -s ${JOURNAL_PATH} ${DATA_PATH}\/journal\n\nsudo chown -R mongod:mongod ${DATA_PATH} ${JOURNAL_PATH} ${LOG_PATH}\n\nsudo blockdev --setra 32 \/dev\/dm-2\nsudo blockdev --getra \/dev\/dm-2\n\nsudo sysctl vm.swappiness=1\necho 'vm.swappiness=1' | sudo tee -a \/etc\/sysctl.conf\n"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"DataSet Install"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"EXEC","uuid":"e79884a9-2203-6d15-58f4-5824fe294308","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nREPLICA_IPS=\"@@{calm_array_address}@@\"\nDATA_PATH=\"@@{DATA_PATH}@@\"\nINTERNAL_IP=\"@@{address}@@\"\nINDEX=@@{calm_array_index}@@\nNODES_PER_REPLICA_SET=@@{NODES_PER_REPLICA_SET}@@\nARRAY_REPLICA_IPS=$(echo ${REPLICA_IPS} | sed 's\/^,\/\/' | sed 's\/,$\/\/' | tr \",\" \"\\n\")\n\ntmp=$((${INDEX}+${NODES_PER_REPLICA_SET}))\nreplicasetNo=$((${tmp}\/${NODES_PER_REPLICA_SET}))\nreplicaSetName=\"dataReplSet${replicasetNo}\"\n\nsudo sed -i 's\/bindIp:\/#bindIp:\/g' \/etc\/mongod.conf\nsudo sed -i \"s#\/var\/lib\/mongo#${DATA_PATH}#g\" \/etc\/mongod.conf\nsudo sed -i \"s\/#replication:\/replication:\\n  replSetName: $replicaSetName\/g\" \/etc\/mongod.conf\nsudo sed -i 's\/#sharding:\/sharding:\\n  clusterRole: shardsvr\/g' \/etc\/mongod.conf\nsudo sed -i 's#  path: \/var\/log\/mongodb\/mongod.log#  path: \/mongodb\/log\/mongod.log#' \/etc\/mongod.conf\n\n### Getting replicaset members details \nreplica_cnt=0\ndeclare -a replicaset_members\n\nfor replica in $ARRAY_REPLICA_IPS\ndo\n  tmp=$((${replica_cnt}+${NODES_PER_REPLICA_SET}))\n  i=\"$((${tmp}\/${NODES_PER_REPLICA_SET}))\"\n  replicaset_members[$i]=${replicaset_members[$i]}\"{\\\"_id\\\": $replica_cnt, host:\\\"$replica:27017\\\"},\"\n  replica_cnt=$(($replica_cnt + 1))\ndone\n\nif [[ -f \/sys\/kernel\/mm\/transparent_hugepage\/enabled ]];then\n\techo never | sudo tee \/sys\/kernel\/mm\/transparent_hugepage\/enabled\nfi\nif [[ -f \/sys\/kernel\/mm\/transparent_hugepage\/defrag ]];then\n\techo never | sudo tee \/sys\/kernel\/mm\/transparent_hugepage\/defrag\nfi\n\nsudo systemctl restart mongod\nsleep 5\n\n### Initiating replicaset \njson=$(cat <<EOF\n{\n  \"_id\": \"$replicaSetName\",\n  \"members\": [ ${replicaset_members[$replicasetNo]}]\n}\nEOF\n)\nsudo mongo --host ${INTERNAL_IP} --port 27017 --eval \"rs.initiate( $json )\"\nsleep 2\n"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"DataSet Configure"}],"description":"","message_list":[],"uuid":"c0cfaea4-925c-45d8-d050-c1f71e9d4b54","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"48a6c51b_dag_cloned_1","uuid":"3772cc00-762a-ef64-62af-ab527cbea718"},"name":"37c08a7f_runbook_cloned_0"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"VMwareDataSetPackage","uuid":"13a01a7a-0d41-ac0c-8633-f3c237ff2124"},"retries":"0","description":"","type":"DAG","uuid":"3291b1d2-d607-988c-77a1-35c9aa8ef0a5","child_tasks_local_reference_list":[{"kind":"app_task","name":"MoveDatabase_cloned_1","uuid":"7ea5a0e1-d42b-73f9-df70-6ec5873d7fa7"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"8725d8b7_dag_cloned_1"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","type":"EXEC","uuid":"7ea5a0e1-d42b-73f9-df70-6ec5873d7fa7","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\n\nnode=$(echo \"@@{calm_array_address}@@\" | tr ',' '\\n' | wc -l)\n\nif [[ \"@@{calm_array_index}@@\" != \"$(($node-1))\" ]];then\n  exit 0\nfi\n\neval $(mongo --host router1.mongodb --port 27017 --quiet --eval 'db.adminCommand( { listShards: 1 } )' | python -c '\nimport json,sys\ndata=json.load(sys.stdin)\nprint \"HOST={}\".format(data[\"shards\"][len(data[\"shards\"])-1][\"host\"])\n')\neval $(mongo --host router1.mongodb --port 27017 --quiet --eval 'db.adminCommand( { listShards: 1 } )' | python -c '\nimport json,sys\ndata=json.load(sys.stdin)\nprint \"HOSTTOMOVE={}\".format(data[\"shards\"][@@{SHARD_TO_MOVE}@@-1][\"host\"])\n')\nhost_state=`mongo --host router1.mongodb --port 27017 --quiet --eval \"db.adminCommand({removeShard: '${HOST}'})['state']\"`\nif [[ \"$host_state\" == \"started\" ]] ; then\n  sleep 5\nfi\nhost_state=`mongo --host router1.mongodb --port 27017 --quiet --eval \"db.adminCommand({removeShard: '${HOST}'})['state']\"`\nif [[ \"$host_state\" == \"ongoing\" ]] ; then\n  if [[ \"@@{SHARD_TO_MOVE}@@\" == \"\" ]] ; then\n    echo \"Please enter the shard number value to move tables.\"\n    exit 1\n  fi\n  dbstomove=`mongo --host router1.mongodb --port 27017 --quiet --eval \"db.adminCommand({removeShard: '${HOST}'})['dbsToMove']\"`\n  eval $(echo $dbstomove | python -c 'import json,sys ; data=json.load(sys.stdin) ; print \"DBSTOMOVE={}\".format(\",\".join(data))')\n  for x in $(echo $DBSTOMOVE | tr \",\" \"\\n\") ; do\n     echo \"echo moving $x\"\n     mongo --host router1.mongodb --port 27017 --quiet --eval \"db.adminCommand({ movePrimary: '$x', to: '${HOSTTOMOVE}' })\"\n  done\n  mongo --host router1.mongodb --port 27017 --quiet --eval \"db.adminCommand({removeShard: '${HOST}'})\"\n  echo \"completed removing shard '${HOST}'\"\nelif [[ \"$host_state\" == \"completed\" ]] ; then\n  echo \"Host removal completed\"\nfi\n"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"MoveDatabase_cloned_1"}],"description":"","message_list":[],"uuid":"bf071490-2059-cbf2-0a7b-fd80473eac28","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"8725d8b7_dag_cloned_1","uuid":"3291b1d2-d607-988c-77a1-35c9aa8ef0a5"},"name":"58209b81_runbook_cloned_0"}},"variable_list":[],"name":"VMwareDataSetPackage"}]},"name":"MongoSharding"},"spec":{"name":"MongoSharding","resources":{"service_definition_list":[{"singleton":false,"name":"Router","action_list":[{"description":"System action for creating an application","name":"action_create","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","uuid":"57337465-81f3-4470-86b8-b234707e1e9e","name":"Router"},"retries":"0","description":"","uuid":"7036ef3b-3512-45ce-b3bc-b39240b4b42b","child_tasks_local_reference_list":[],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"d1a00281_dag"}],"description":"","uuid":"6f256634-e57a-41ea-a837-438a40018db7","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"d1a00281_dag","uuid":"7036ef3b-3512-45ce-b3bc-b39240b4b42b"},"name":"f678ba44_runbook"},"type":"system","uuid":"d40ebaee-d7b5-4c15-84a4-0c1d819e8b3a"},{"description":"System action for deleting an application. Deletes created VMs as well","name":"action_delete","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","uuid":"57337465-81f3-4470-86b8-b234707e1e9e","name":"Router"},"retries":"0","description":"","uuid":"84d6aa5b-5d30-40aa-8c74-9d7a7dcbc2c7","child_tasks_local_reference_list":[],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"13c995e9_dag"}],"description":"","uuid":"d80d8f71-625e-4530-bf85-66347f427405","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"13c995e9_dag","uuid":"84d6aa5b-5d30-40aa-8c74-9d7a7dcbc2c7"},"name":"6631f4bd_runbook"},"type":"system","uuid":"15f22f69-55fb-499c-b80f-8781186f3a9d"},{"description":"System action for starting an application","name":"action_start","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","uuid":"57337465-81f3-4470-86b8-b234707e1e9e","name":"Router"},"retries":"0","description":"","uuid":"af4e0b39-cdfa-4fc7-b6e6-24525339fd9c","child_tasks_local_reference_list":[{"kind":"app_task","name":"Start","uuid":"3a97e61b-f692-4cf2-acc2-1f79b4655aef"}],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"e4b747f7_dag"},{"target_any_local_reference":{"kind":"app_service","uuid":"57337465-81f3-4470-86b8-b234707e1e9e","name":"Router"},"retries":"0","description":"","uuid":"3a97e61b-f692-4cf2-acc2-1f79b4655aef","child_tasks_local_reference_list":[],"attrs":{"script":"#!\/bin\/bash\nset -ex\nsudo systemctl stop mongod\nsudo systemctl disable mongod\nsudo systemctl start mongos\nsudo systemctl enable mongos","type":"","command_line_args":"","exit_status":[],"script_type":"sh"},"timeout_secs":"0","type":"EXEC","variable_list":[],"name":"Start"}],"description":"","uuid":"28341bf4-2766-4701-8747-1722ed61db3c","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"e4b747f7_dag","uuid":"af4e0b39-cdfa-4fc7-b6e6-24525339fd9c"},"name":"6729beee_runbook"},"type":"system","uuid":"bd4fe20c-4f58-4800-b3cc-21707eaba9f8"},{"description":"System action for stopping an application","name":"action_stop","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","uuid":"57337465-81f3-4470-86b8-b234707e1e9e","name":"Router"},"retries":"0","description":"","uuid":"b7064fcf-07a8-4632-bd81-0ea706326a82","child_tasks_local_reference_list":[],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"609a09bd_dag"}],"description":"","uuid":"215f65d0-6496-443c-9017-6dec4743560f","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"609a09bd_dag","uuid":"b7064fcf-07a8-4632-bd81-0ea706326a82"},"name":"6d2afcdd_runbook"},"type":"system","uuid":"d932432c-25fc-4391-b174-48f0ec8d20e6"},{"description":"System action for restarting an application","name":"action_restart","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","uuid":"57337465-81f3-4470-86b8-b234707e1e9e","name":"Router"},"retries":"0","description":"","uuid":"eb1a4af0-24d7-43cf-9b24-0db85225a892","child_tasks_local_reference_list":[],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"ad2243e1_dag"}],"description":"","uuid":"dcdcb0d6-e68b-4641-8609-e6dc92c57b21","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"ad2243e1_dag","uuid":"eb1a4af0-24d7-43cf-9b24-0db85225a892"},"name":"5261a312_runbook"},"type":"system","uuid":"e157f6f5-2b21-40a3-8c33-dbaf961c91a0"}],"description":"","uuid":"57337465-81f3-4470-86b8-b234707e1e9e","port_list":[],"tier":"","variable_list":[],"depends_on_list":[]},{"singleton":false,"name":"ConfigSet","action_list":[{"description":"System action for creating an application","name":"action_create","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd","name":"ConfigSet"},"retries":"0","description":"","uuid":"e7fcc53e-b69b-47d4-8536-10522374cadb","child_tasks_local_reference_list":[],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"f7e70534_dag"}],"description":"","uuid":"741de02d-b511-4b87-8b94-a1b0b74e0fb7","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"f7e70534_dag","uuid":"e7fcc53e-b69b-47d4-8536-10522374cadb"},"name":"0a879260_runbook"},"type":"system","uuid":"169d5a01-dfa2-4e7e-a0a4-a31aff5400f2"},{"description":"System action for deleting an application. Deletes created VMs as well","name":"action_delete","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd","name":"ConfigSet"},"retries":"0","description":"","uuid":"78238999-c73f-4ef2-a0f0-07efd0f87017","child_tasks_local_reference_list":[],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"12e11772_dag"}],"description":"","uuid":"8625e87a-c851-44ac-9a8c-6808a1ac5574","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"12e11772_dag","uuid":"78238999-c73f-4ef2-a0f0-07efd0f87017"},"name":"3c3538b9_runbook"},"type":"system","uuid":"2970ed1e-0e26-4fb4-a50a-8d7d5d09b72b"},{"description":"System action for starting an application","name":"action_start","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd","name":"ConfigSet"},"retries":"0","description":"","uuid":"bfe07d4d-ddb7-49bd-ad47-e8333de7a380","child_tasks_local_reference_list":[{"kind":"app_task","name":"Start","uuid":"164508db-5082-4088-b114-fff2169b8d47"}],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"af5f3241_dag"},{"target_any_local_reference":{"kind":"app_service","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd","name":"ConfigSet"},"retries":"0","description":"","uuid":"164508db-5082-4088-b114-fff2169b8d47","child_tasks_local_reference_list":[],"attrs":{"script":"#!\/bin\/bash\nset -ex\nsudo systemctl start mongod\nsudo systemctl enable mongod","type":"","command_line_args":"","exit_status":[],"script_type":"sh"},"timeout_secs":"0","type":"EXEC","variable_list":[],"name":"Start"}],"description":"","uuid":"0c2528e9-82d6-40bc-9b4d-721eabd37ead","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"af5f3241_dag","uuid":"bfe07d4d-ddb7-49bd-ad47-e8333de7a380"},"name":"f4695758_runbook"},"type":"system","uuid":"20dd5c78-7355-4a08-91a7-30d3f21f8713"},{"description":"System action for stopping an application","name":"action_stop","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd","name":"ConfigSet"},"retries":"0","description":"","uuid":"e872499a-158a-4f31-bcdd-8a683a83d766","child_tasks_local_reference_list":[],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"78683256_dag"}],"description":"","uuid":"e6335ceb-f00b-4ec5-8425-3864e1897a7d","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"78683256_dag","uuid":"e872499a-158a-4f31-bcdd-8a683a83d766"},"name":"a33b20bd_runbook"},"type":"system","uuid":"2d8dbd5d-b9ca-4e43-b820-7ce486dc99d0"},{"description":"System action for restarting an application","name":"action_restart","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd","name":"ConfigSet"},"retries":"0","description":"","uuid":"34d13ba3-15a9-44dc-8851-090d20fdee00","child_tasks_local_reference_list":[],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"148b8c3e_dag"}],"description":"","uuid":"7c36f5f8-9e8b-4f97-b855-438dc7eb8f3d","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"148b8c3e_dag","uuid":"34d13ba3-15a9-44dc-8851-090d20fdee00"},"name":"b7169291_runbook"},"type":"system","uuid":"44c4b37e-2874-44c5-9c3f-17286556f2ef"}],"description":"","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd","port_list":[],"tier":"","variable_list":[],"depends_on_list":[]},{"singleton":false,"name":"DataSet","action_list":[{"description":"System action for creating an application","name":"action_create","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47","name":"DataSet"},"retries":"0","description":"","uuid":"8a2dbfbd-c4e2-41cc-91b8-870473ed7267","child_tasks_local_reference_list":[],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"614aa2b8_dag"}],"description":"","uuid":"c08988e8-53fc-48b3-942d-00d118016989","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"614aa2b8_dag","uuid":"8a2dbfbd-c4e2-41cc-91b8-870473ed7267"},"name":"0bda2b69_runbook"},"type":"system","uuid":"e9dc8d5a-4695-4088-aa8b-73bc991e9d29"},{"description":"System action for deleting an application. Deletes created VMs as well","name":"action_delete","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47","name":"DataSet"},"retries":"0","description":"","uuid":"285f6722-ba0c-49c7-9a2d-9953bf131e91","child_tasks_local_reference_list":[],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"a7917b2b_dag"}],"description":"","uuid":"c6545ccb-d141-45bd-bf59-cf1e44946785","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"a7917b2b_dag","uuid":"285f6722-ba0c-49c7-9a2d-9953bf131e91"},"name":"036f3879_runbook"},"type":"system","uuid":"c23fe507-12e7-4726-b054-e17ba6c33df2"},{"description":"System action for starting an application","name":"action_start","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47","name":"DataSet"},"retries":"0","description":"","uuid":"9302aa8c-a244-417b-9b54-cc734665a98b","child_tasks_local_reference_list":[{"kind":"app_task","name":"Start","uuid":"3edfe352-6b27-4e34-bcee-001963b3111c"}],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"a3862dd5_dag"},{"target_any_local_reference":{"kind":"app_service","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47","name":"DataSet"},"retries":"0","description":"","uuid":"3edfe352-6b27-4e34-bcee-001963b3111c","child_tasks_local_reference_list":[],"attrs":{"script":"#!\/bin\/bash\nset -ex\nsudo systemctl start mongod\nsudo systemctl enable mongod","type":"","command_line_args":"","exit_status":[],"script_type":"sh"},"timeout_secs":"0","type":"EXEC","variable_list":[],"name":"Start"}],"description":"","uuid":"43f16a26-e0b7-42a9-b2de-6e6d4147d381","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"a3862dd5_dag","uuid":"9302aa8c-a244-417b-9b54-cc734665a98b"},"name":"0f1333dd_runbook"},"type":"system","uuid":"1756a82e-ccbc-42e8-ba99-fb86f69e2fa6"},{"description":"System action for stopping an application","name":"action_stop","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47","name":"DataSet"},"retries":"0","description":"","uuid":"2c31ad88-b311-49ba-8ba3-aa8f6a24a030","child_tasks_local_reference_list":[],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"9ef82f03_dag"}],"description":"","uuid":"42cf4c9d-d9e5-435e-b222-f2d33a05683f","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"9ef82f03_dag","uuid":"2c31ad88-b311-49ba-8ba3-aa8f6a24a030"},"name":"85883b0a_runbook"},"type":"system","uuid":"1c909ae1-a265-44aa-83b8-5b61e3b73fb9"},{"description":"System action for restarting an application","name":"action_restart","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47","name":"DataSet"},"retries":"0","description":"","uuid":"862e0d2c-75be-45f7-9e9a-4a9fa29cd7b2","child_tasks_local_reference_list":[],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"6fd14db5_dag"}],"description":"","uuid":"03856e37-e1bf-4b7c-95bb-87bf81c6c940","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"6fd14db5_dag","uuid":"862e0d2c-75be-45f7-9e9a-4a9fa29cd7b2"},"name":"4f7b2559_runbook"},"type":"system","uuid":"da6f7d5b-458d-49e9-afd4-c02d5733465e"}],"description":"","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47","port_list":[],"tier":"","variable_list":[{"val_type":"STRING","uuid":"632ae0ce-49b2-4b79-8162-38f35c0706b1","name":"SHARD_TO_MOVE","value":"","label":"","attrs":{"type":""},"type":"LOCAL","description":""}],"depends_on_list":[]}],"substrate_definition_list":[{"name":"AHVRouter","action_list":[],"uuid":"e372d8fd-d7ad-4678-ac50-0517f533c9d4","readiness_probe":{"connection_type":"SSH","retries":"5","connection_port":22,"address":"@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@","delay_secs":"0","disable_readiness_probe":false},"editables":{"readiness_probe":{"connection_type":true,"delay_secs":true,"connection_port":true,"timeout_secs":true},"create_spec":{"name":true,"resources":{"nic_list":{},"serial_port_list":{},"num_vcpus_per_socket":true,"num_sockets":true,"memory_size_mib":true,"guest_customization":true,"disk_list":{}}}},"os_type":"Linux","type":"AHV_VM","create_spec":{"name":"MongoRouter-@@{calm_array_index}@@-@@{calm_time}@@","resources":{"nic_list":[{"nic_type":"NORMAL_NIC","network_function_chain_reference":null,"network_function_nic_type":"INGRESS","mac_address":"","subnet_reference":{"kind":"subnet","type":"","name":"","uuid":"efc034e3-b50e-4a48-b02d-25036aeb8bd3"},"type":""}],"serial_port_list":[],"guest_tools":null,"num_vcpus_per_socket":1,"num_sockets":2,"gpu_list":[],"memory_size_mib":2048,"parent_reference":null,"hardware_clock_timezone":"","guest_customization":{"cloud_init":{"meta_data":"","type":"","user_data":"#cloud-config\nusers:\n  - name: centos\n    ssh-authorized-keys:\n      - @@{CENTOS.public_key}@@\n    sudo: ['ALL=(ALL) NOPASSWD:ALL']"},"type":"","sysprep":null},"power_state":"ON","type":"","account_uuid":"efc034e3-b50e-4a48-b02d-25036aeb8bd3","boot_config":{"boot_device":{"type":"","disk_address":{"adapter_type":"SCSI","device_index":0,"type":""}},"type":"","mac_address":""},"disk_list":[{"data_source_reference":{"kind":"app_package","type":"","name":"CENTOS_74","uuid":"adee1967-610d-4f23-964b-6d9b24e27af2"},"type":"","disk_size_mib":0,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":0,"type":""}}}]},"availability_zone_reference":null,"backup_policy":null,"type":"","cluster_reference":null,"categories":""},"variable_list":[],"description":""},{"name":"AHVConfigSet","action_list":[],"uuid":"9da256c1-17f2-4787-a501-f5b250fccce7","readiness_probe":{"connection_type":"SSH","retries":"5","connection_port":22,"address":"@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@","delay_secs":"0","disable_readiness_probe":false},"editables":{"readiness_probe":{"connection_type":true,"delay_secs":true,"connection_port":true,"timeout_secs":true},"create_spec":{"name":true,"resources":{"nic_list":{},"serial_port_list":{},"num_vcpus_per_socket":true,"num_sockets":true,"memory_size_mib":true,"guest_customization":true,"disk_list":{}}}},"os_type":"Linux","type":"AHV_VM","create_spec":{"name":"MongoConfigSet-@@{calm_array_index}@@-@@{calm_time}@@","resources":{"nic_list":[{"nic_type":"NORMAL_NIC","network_function_chain_reference":null,"network_function_nic_type":"INGRESS","mac_address":"","subnet_reference":{"kind":"subnet","type":"","name":"","uuid":"efc034e3-b50e-4a48-b02d-25036aeb8bd3"},"type":""}],"serial_port_list":[],"guest_tools":null,"num_vcpus_per_socket":1,"num_sockets":2,"gpu_list":[],"memory_size_mib":2048,"parent_reference":null,"hardware_clock_timezone":"","guest_customization":{"cloud_init":{"meta_data":"","type":"","user_data":"#cloud-config\nusers:\n  - name: centos\n    ssh-authorized-keys:\n      - @@{CENTOS.public_key}@@\n    sudo: ['ALL=(ALL) NOPASSWD:ALL']"},"type":"","sysprep":null},"power_state":"ON","type":"","account_uuid":"efc034e3-b50e-4a48-b02d-25036aeb8bd3","boot_config":{"boot_device":{"type":"","disk_address":{"adapter_type":"SCSI","device_index":0,"type":""}},"type":"","mac_address":""},"disk_list":[{"data_source_reference":{"kind":"app_package","type":"","name":"CENTOS_74","uuid":"adee1967-610d-4f23-964b-6d9b24e27af2"},"type":"","disk_size_mib":0,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":0,"type":""}}}]},"availability_zone_reference":null,"backup_policy":null,"type":"","cluster_reference":null,"categories":""},"variable_list":[],"description":""},{"name":"AHVDataSet","action_list":[],"uuid":"08c0cce6-3507-478b-8aff-abff38fc49ea","readiness_probe":{"connection_type":"SSH","retries":"5","connection_port":22,"address":"@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@","delay_secs":"0","disable_readiness_probe":false},"editables":{"readiness_probe":{"connection_type":true,"delay_secs":true,"connection_port":true,"timeout_secs":true},"create_spec":{"name":true,"resources":{"nic_list":{},"serial_port_list":{},"num_vcpus_per_socket":true,"num_sockets":true,"memory_size_mib":true,"guest_customization":true,"disk_list":{}}}},"os_type":"Linux","type":"AHV_VM","create_spec":{"name":"MongoDataSet-@@{calm_array_index}@@-@@{calm_time}@@","resources":{"nic_list":[{"nic_type":"NORMAL_NIC","network_function_chain_reference":null,"network_function_nic_type":"INGRESS","mac_address":"","subnet_reference":{"kind":"subnet","type":"","name":"","uuid":"efc034e3-b50e-4a48-b02d-25036aeb8bd3"},"type":""}],"serial_port_list":[],"guest_tools":null,"num_vcpus_per_socket":1,"num_sockets":2,"gpu_list":[],"memory_size_mib":4096,"parent_reference":null,"hardware_clock_timezone":"","guest_customization":{"cloud_init":{"meta_data":"","type":"","user_data":"#cloud-config\nusers:\n  - name: centos\n    ssh-authorized-keys:\n      - @@{CENTOS.public_key}@@\n    sudo: ['ALL=(ALL) NOPASSWD:ALL']"},"type":"","sysprep":null},"power_state":"ON","type":"","account_uuid":"efc034e3-b50e-4a48-b02d-25036aeb8bd3","boot_config":{"boot_device":{"type":"","disk_address":{"adapter_type":"SCSI","device_index":0,"type":""}},"type":"","mac_address":""},"disk_list":[{"data_source_reference":{"kind":"app_package","type":"","name":"CENTOS_74","uuid":"adee1967-610d-4f23-964b-6d9b24e27af2"},"type":"","disk_size_mib":0,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":0,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":20480,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":1,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":20480,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":2,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":20480,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":3,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":20480,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":4,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":20480,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":5,"type":""}}}]},"availability_zone_reference":null,"backup_policy":null,"type":"","cluster_reference":null,"categories":""},"variable_list":[],"description":""},{"name":"AWSRouter","action_list":[],"uuid":"2edf2b2d-2087-4a99-a074-e95c34b101c6","readiness_probe":{"connection_type":"SSH","retries":"5","connection_port":22,"address":"@@{public_ip_address}@@","delay_secs":"0","disable_readiness_probe":false},"editables":{"readiness_probe":{"connection_type":true,"delay_secs":true,"connection_port":true,"timeout_secs":true},"create_spec":{"name":true,"resources":{"instance_profile_name":true,"availability_zone":true,"subnet_id":true,"key_name":true,"region":true,"user_data":true,"image_id":true,"instance_type":true,"security_group_list":true,"block_device_map":{"root_disk":{"size_gb":true}},"associate_public_ip_address":true,"vpc_id":true,"tag_list":true}}},"os_type":"Linux","type":"AWS_VM","create_spec":{"name":"MongoRouter-@@{calm_array_index}@@-@@{calm_time}@@","availability_zone_reference":null,"backup_policy":null,"type":"PROVISION_AWS_VM","cluster_reference":null,"resources":{"instance_profile_name":"","availability_zone":"us-east-1a","subnet_id":"subnet-c599a5ef","key_name":"calm-blueprints","region":"us-east-1","instance_initiated_shutdown_behavior":"","user_data":"","image_id":"ami-0ccec2041ac92b449","instance_type":"t2.medium","state":"RUNNING","security_group_list":[{"type":"","security_group_id":"sg-3b938f40"}],"block_device_map":{"data_disk_list":[],"type":"","root_disk":{"size_gb":10,"volume_type":"GP2","device_name":"\/dev\/sda1","iops":1,"snapshot_id":"","type":"","delete_on_termination":true}},"private_ip_address":"","vpc_id":"vpc-ffd54d98","tag_list":[],"type":"","account_uuid":"8c2e0a6b-620a-c62a-c3f4-e58b101dfd0d","associate_public_ip_address":true}},"variable_list":[],"description":""},{"name":"AWSConfigSet","action_list":[],"uuid":"66b46e7e-c7ab-4692-a0a0-060f0c7bc6b5","readiness_probe":{"connection_type":"SSH","retries":"5","connection_port":22,"address":"@@{public_ip_address}@@","delay_secs":"0","disable_readiness_probe":false},"editables":{"readiness_probe":{"connection_type":true,"delay_secs":true,"connection_port":true,"timeout_secs":true},"create_spec":{"name":true,"resources":{"instance_profile_name":true,"availability_zone":true,"subnet_id":true,"key_name":true,"region":true,"user_data":true,"image_id":true,"instance_type":true,"security_group_list":true,"block_device_map":{"root_disk":{"size_gb":true}},"associate_public_ip_address":true,"vpc_id":true,"tag_list":true}}},"os_type":"Linux","type":"AWS_VM","create_spec":{"name":"MongoConfigSet-@@{calm_array_index}@@-@@{calm_time}@@","availability_zone_reference":null,"backup_policy":null,"type":"PROVISION_AWS_VM","cluster_reference":null,"resources":{"instance_profile_name":"","availability_zone":"us-east-1a","subnet_id":"subnet-c599a5ef","key_name":"calm-blueprints","region":"us-east-1","instance_initiated_shutdown_behavior":"","user_data":"","image_id":"ami-0ccec2041ac92b449","instance_type":"t2.medium","state":"RUNNING","security_group_list":[{"type":"","security_group_id":"sg-3b938f40"}],"block_device_map":{"data_disk_list":[],"type":"","root_disk":{"size_gb":10,"volume_type":"GP2","device_name":"\/dev\/sda1","iops":1,"snapshot_id":"","type":"","delete_on_termination":true}},"private_ip_address":"","vpc_id":"vpc-ffd54d98","tag_list":[],"type":"","account_uuid":"8c2e0a6b-620a-c62a-c3f4-e58b101dfd0d","associate_public_ip_address":true}},"variable_list":[],"description":""},{"name":"AWSDataSet","action_list":[],"uuid":"fc7a0a47-84f8-44d8-b89a-85d46f0da96d","readiness_probe":{"connection_type":"SSH","retries":"5","connection_port":22,"address":"@@{public_ip_address}@@","delay_secs":"0","disable_readiness_probe":false},"editables":{"readiness_probe":{"connection_type":true,"retries":true,"delay_secs":true,"connection_port":true,"timeout_secs":true},"create_spec":{"name":true,"resources":{"instance_profile_name":true,"availability_zone":true,"subnet_id":true,"key_name":true,"region":true,"user_data":true,"image_id":true,"instance_type":true,"security_group_list":true,"block_device_map":{"data_disk_list":{"1":{"size_gb":true},"0":{"size_gb":true},"3":{"size_gb":true},"2":{"size_gb":true},"4":{"size_gb":true}},"root_disk":{"size_gb":true}},"associate_public_ip_address":true,"vpc_id":true,"tag_list":true}}},"os_type":"Linux","type":"AWS_VM","create_spec":{"name":"MongoDataSet-@@{calm_array_index}@@-@@{calm_time}@@","availability_zone_reference":null,"backup_policy":null,"type":"PROVISION_AWS_VM","cluster_reference":null,"resources":{"instance_profile_name":"","availability_zone":"us-east-1a","subnet_id":"subnet-9d1085b1","key_name":"calm-blueprints","region":"us-east-1","instance_initiated_shutdown_behavior":"","user_data":"","image_id":"ami-0ccec2041ac92b449","instance_type":"t2.large","state":"RUNNING","security_group_list":[{"type":"","security_group_id":"sg-3b938f40"}],"block_device_map":{"data_disk_list":[{"size_gb":20,"volume_type":"GP2","device_name":"\/dev\/sdb","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":20,"volume_type":"GP2","device_name":"\/dev\/sdc","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":20,"volume_type":"GP2","device_name":"\/dev\/sdd","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":20,"volume_type":"GP2","device_name":"\/dev\/sde","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":20,"volume_type":"GP2","device_name":"\/dev\/sdf","iops":1,"snapshot_id":"","type":"","delete_on_termination":true}],"type":"","root_disk":{"size_gb":10,"volume_type":"GP2","device_name":"\/dev\/sda1","iops":1,"snapshot_id":"","type":"","delete_on_termination":true}},"private_ip_address":"","vpc_id":"vpc-ffd54d98","tag_list":[],"type":"","account_uuid":"8c2e0a6b-620a-c62a-c3f4-e58b101dfd0d","associate_public_ip_address":true}},"variable_list":[],"description":""},{"name":"GCPRouter","action_list":[],"uuid":"edbd689a-b0bd-461c-ac27-e6ab2d71b009","readiness_probe":{"connection_type":"SSH","retries":"5","connection_port":22,"address":"@@{public_ip_address}@@","delay_secs":"0","disable_readiness_probe":false},"editables":{"readiness_probe":{"connection_type":true,"retries":true,"timeout_secs":true,"address":true,"delay_secs":true,"connection_port":true},"create_spec":{"resources":{"labels":true,"machineType":true,"name":true,"zone":true,"tags":{"items":true},"guestCustomization":{"startupScript":true},"disks":{"0":{"initializeParams":{"diskSizeGb":true,"sourceImage":true,"diskType":true},"autoDelete":true}},"serviceAccounts":{"0":{"scopes":true,"email":true}},"networkInterfaces":{"0":{"accessConfigs":{"0":{"config_type":true,"name":true}},"network":true,"subnetwork":true,"associatePublicIP":true}},"sshKeys":{"0":true},"metadata":{"items":true}}}},"os_type":"Linux","type":"GCP_VM","create_spec":{"type":"PROVISION_GCP_VM","resources":{"labels":[],"machineType":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/machineTypes\/n1-highcpu-2","description":"","zone":"us-central1-c","tags":{"items":[],"type":"","fingerprint":""},"guestCustomization":{},"labelFingerprint":"","disks":[{"diskEncryptionKey":{"rawKey":"","type":""},"deviceName":"","initializeParams":{"sourceImageEncryptionKey":{"rawKey":"","type":""},"diskName":"","diskType":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","diskSizeGb":-1,"sourceImage":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/global\/images\/centos-7","type":""},"autoDelete":true,"boot":true,"source":"","mode":"","interface":"","disk_type":"PERSISTENT","type":""}],"name":"mongo-router-set-@@{calm_array_index}@@-@@{calm_time}@@","sshKeys":["centos:ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDMGAS\/K0Mb\/uwFXwD+hkjguy7VMZk2hpuhwPl9FUZwVBrURf\/i9QMJ5\/paPEZixu8VlRx7Inu4iun7rQfrnfeIYInmBwspXHYiTK3oHJAgZnrAHVEf1p6YaxLINlT1NI5yOAGPRWW6of8rBDBH1ObwU2+wcSx\/1H0uIs3aZNLufr+Rh628ACxAum2Gt8AVRj6ua2BPFyt5VTdclyysAmeh1AiixNgOZXOz6y\/i4TbzpY78I3isuKpxsUeXX6jxEMQol406jHDUF6njEOPIQG2zVZ3QJlTG9OlN+NiyZG9WkZz0VG\/6M8ixxIHHI2dNwUbBFv2HUu+8X9LTLFq2O7KjX9Hp7uZKBAySHA3eKaKHIp2bZuU1bT5PRPkggngX86xg+T+OMNnutbAiMnRJ8+FvD5So+5TIx4b9GgxAxure3x2yRPT9lOiQOB+CVpJPxR0Rn9bOI+wiPnD0kAGvK\/fHT+pqL4PM+hTnJtp9rrCRzIQApBx1263jEcYffhW2epZQRO+he5CMawFJ5TBe08om2AaDJ8GQdrpF6YA3W8DzHbmL3DPVVHdmqPLn10o+LX4gv5SdIIDVGdjKOc1BCnLTRmM28d5+sLDt\/M+kvcQgf0y0yDjMVjGECZkt39hbm4ELMHzZtzYLmHNhBZxRqHeJ7qFTuv1kx88OW3Xc5mbBNQ== centos@nutanix.com\n"],"canIpForward":false,"scheduling":{"automaticRestart":true,"type":"","preemptible":false,"onHostMaintenance":"TERMINATE"},"minCpuPlatform":"","blankDisks":[],"metadata":{"items":[],"type":"","fingerprint":""},"type":"","account_uuid":"84213a31-4fe8-7e39-3799-e093e5d0dc2e","serviceAccounts":[{"scopes":["https:\/\/www.googleapis.com\/auth\/devstorage.read_only","https:\/\/www.googleapis.com\/auth\/logging.write","https:\/\/www.googleapis.com\/auth\/monitoring.write","https:\/\/www.googleapis.com\/auth\/servicecontrol","https:\/\/www.googleapis.com\/auth\/service.management.readonly","https:\/\/www.googleapis.com\/auth\/trace.append"],"type":"","email":"108048128720-compute@developer.gserviceaccount.com"}],"networkInterfaces":[{"aliasIpRanges":[],"network":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/global\/networks\/default","accessConfigs":[{"config_type":"ONE_TO_ONE_NAT","type":"","name":"mongo-router-acn-@@{calm_array_index}@@-@@{calm_time}@@","natIP":""}],"networkIP":"","subnetwork":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/regions\/us-central1\/subnetworks\/default","type":""}]}},"variable_list":[],"description":""},{"name":"GCPConfigSet","action_list":[],"uuid":"4a15a437-7787-4f4e-a85c-124d560111da","readiness_probe":{"connection_type":"SSH","retries":"5","connection_port":22,"address":"@@{public_ip_address}@@","delay_secs":"0","disable_readiness_probe":false},"editables":{"readiness_probe":{"connection_type":true,"retries":true,"timeout_secs":true,"address":true,"delay_secs":true,"connection_port":true},"create_spec":{"resources":{"labels":true,"machineType":true,"name":true,"zone":true,"tags":{"items":true},"guestCustomization":{"startupScript":true},"disks":{"0":{"initializeParams":{"diskSizeGb":true,"sourceImage":true,"diskType":true},"autoDelete":true}},"serviceAccounts":{"0":{"scopes":true,"email":true}},"networkInterfaces":{"0":{"accessConfigs":{"0":{"config_type":true,"name":true}},"network":true,"subnetwork":true,"associatePublicIP":true}},"sshKeys":{"0":true},"metadata":{"items":true}}}},"os_type":"Linux","type":"GCP_VM","create_spec":{"type":"PROVISION_GCP_VM","resources":{"labels":[],"machineType":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/machineTypes\/n1-highcpu-2","description":"","zone":"us-central1-c","tags":{"items":[],"type":"","fingerprint":""},"guestCustomization":{},"labelFingerprint":"","disks":[{"diskEncryptionKey":{"rawKey":"","type":""},"deviceName":"","initializeParams":{"sourceImageEncryptionKey":{"rawKey":"","type":""},"diskName":"","diskType":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","diskSizeGb":-1,"sourceImage":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/global\/images\/centos-7","type":""},"autoDelete":true,"boot":true,"source":"","mode":"","interface":"","disk_type":"PERSISTENT","type":""}],"name":"mongo-config-set-@@{calm_array_index}@@-@@{calm_time}@@","sshKeys":["centos:ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDMGAS\/K0Mb\/uwFXwD+hkjguy7VMZk2hpuhwPl9FUZwVBrURf\/i9QMJ5\/paPEZixu8VlRx7Inu4iun7rQfrnfeIYInmBwspXHYiTK3oHJAgZnrAHVEf1p6YaxLINlT1NI5yOAGPRWW6of8rBDBH1ObwU2+wcSx\/1H0uIs3aZNLufr+Rh628ACxAum2Gt8AVRj6ua2BPFyt5VTdclyysAmeh1AiixNgOZXOz6y\/i4TbzpY78I3isuKpxsUeXX6jxEMQol406jHDUF6njEOPIQG2zVZ3QJlTG9OlN+NiyZG9WkZz0VG\/6M8ixxIHHI2dNwUbBFv2HUu+8X9LTLFq2O7KjX9Hp7uZKBAySHA3eKaKHIp2bZuU1bT5PRPkggngX86xg+T+OMNnutbAiMnRJ8+FvD5So+5TIx4b9GgxAxure3x2yRPT9lOiQOB+CVpJPxR0Rn9bOI+wiPnD0kAGvK\/fHT+pqL4PM+hTnJtp9rrCRzIQApBx1263jEcYffhW2epZQRO+he5CMawFJ5TBe08om2AaDJ8GQdrpF6YA3W8DzHbmL3DPVVHdmqPLn10o+LX4gv5SdIIDVGdjKOc1BCnLTRmM28d5+sLDt\/M+kvcQgf0y0yDjMVjGECZkt39hbm4ELMHzZtzYLmHNhBZxRqHeJ7qFTuv1kx88OW3Xc5mbBNQ== centos@nutanix.com\n"],"canIpForward":false,"scheduling":{"automaticRestart":true,"type":"","preemptible":false,"onHostMaintenance":"TERMINATE"},"minCpuPlatform":"","blankDisks":[],"metadata":{"items":[],"type":"","fingerprint":""},"type":"","account_uuid":"84213a31-4fe8-7e39-3799-e093e5d0dc2e","serviceAccounts":[{"scopes":["https:\/\/www.googleapis.com\/auth\/devstorage.read_only","https:\/\/www.googleapis.com\/auth\/logging.write","https:\/\/www.googleapis.com\/auth\/monitoring.write","https:\/\/www.googleapis.com\/auth\/servicecontrol","https:\/\/www.googleapis.com\/auth\/service.management.readonly","https:\/\/www.googleapis.com\/auth\/trace.append"],"type":"","email":""}],"networkInterfaces":[{"aliasIpRanges":[],"network":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/global\/networks\/default","accessConfigs":[{"config_type":"ONE_TO_ONE_NAT","type":"","name":"mongo-config-acn-@@{calm_array_index}@@-@@{calm_time}@@","natIP":""}],"networkIP":"","subnetwork":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/regions\/us-central1\/subnetworks\/default","type":""}]}},"variable_list":[],"description":""},{"name":"GCPDataSet","action_list":[],"uuid":"8f11d2d7-3737-4025-9613-b72ea529ed07","readiness_probe":{"connection_type":"SSH","retries":"5","connection_port":22,"address":"@@{platform.networkInterfaces[0].accessConfigs[0].natIP}@@","delay_secs":"0","disable_readiness_probe":false},"editables":{"readiness_probe":{"connection_type":true,"retries":true,"timeout_secs":true,"address":true,"delay_secs":true,"connection_port":true},"create_spec":{"resources":{"labels":true,"machineType":true,"name":true,"zone":true,"tags":{"items":true},"guestCustomization":{"startupScript":true},"disks":{"0":{"initializeParams":{"diskSizeGb":true,"sourceImage":true,"diskType":true},"autoDelete":true}},"blankDisks":{"1":{"disk_type":true,"name":true,"sizeGb":true,"autoDelete":true},"0":{"disk_type":true,"name":true,"sizeGb":true,"autoDelete":true},"3":{"disk_type":true,"name":true,"sizeGb":true,"autoDelete":true},"2":{"disk_type":true,"name":true,"sizeGb":true,"autoDelete":true},"4":{"disk_type":true,"name":true,"sizeGb":true,"autoDelete":true}},"networkInterfaces":{"0":{"accessConfigs":{"0":{"config_type":true,"name":true}},"network":true,"subnetwork":true,"associatePublicIP":true}},"sshKeys":{"0":true},"serviceAccounts":{"0":{"scopes":true,"email":true}},"metadata":{"items":true}}}},"os_type":"Linux","type":"GCP_VM","create_spec":{"type":"PROVISION_GCP_VM","resources":{"labels":[],"machineType":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/machineTypes\/n1-highcpu-4","description":"","zone":"us-central1-c","tags":{"items":[],"type":"","fingerprint":""},"guestCustomization":{},"labelFingerprint":"","disks":[{"diskEncryptionKey":{"rawKey":"","type":""},"deviceName":"","initializeParams":{"sourceImageEncryptionKey":{"rawKey":"","type":""},"diskName":"","diskType":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","diskSizeGb":-1,"sourceImage":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/global\/images\/centos-7","type":""},"autoDelete":true,"boot":true,"source":"","mode":"","interface":"","disk_type":"PERSISTENT","type":""}],"name":"mongo-data-set-@@{calm_array_index}@@-@@{calm_time}@@","sshKeys":["centos:ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDMGAS\/K0Mb\/uwFXwD+hkjguy7VMZk2hpuhwPl9FUZwVBrURf\/i9QMJ5\/paPEZixu8VlRx7Inu4iun7rQfrnfeIYInmBwspXHYiTK3oHJAgZnrAHVEf1p6YaxLINlT1NI5yOAGPRWW6of8rBDBH1ObwU2+wcSx\/1H0uIs3aZNLufr+Rh628ACxAum2Gt8AVRj6ua2BPFyt5VTdclyysAmeh1AiixNgOZXOz6y\/i4TbzpY78I3isuKpxsUeXX6jxEMQol406jHDUF6njEOPIQG2zVZ3QJlTG9OlN+NiyZG9WkZz0VG\/6M8ixxIHHI2dNwUbBFv2HUu+8X9LTLFq2O7KjX9Hp7uZKBAySHA3eKaKHIp2bZuU1bT5PRPkggngX86xg+T+OMNnutbAiMnRJ8+FvD5So+5TIx4b9GgxAxure3x2yRPT9lOiQOB+CVpJPxR0Rn9bOI+wiPnD0kAGvK\/fHT+pqL4PM+hTnJtp9rrCRzIQApBx1263jEcYffhW2epZQRO+he5CMawFJ5TBe08om2AaDJ8GQdrpF6YA3W8DzHbmL3DPVVHdmqPLn10o+LX4gv5SdIIDVGdjKOc1BCnLTRmM28d5+sLDt\/M+kvcQgf0y0yDjMVjGECZkt39hbm4ELMHzZtzYLmHNhBZxRqHeJ7qFTuv1kx88OW3Xc5mbBNQ== centos@nutanix.com\n"],"canIpForward":false,"scheduling":{"automaticRestart":true,"type":"","preemptible":false,"onHostMaintenance":"TERMINATE"},"minCpuPlatform":"","blankDisks":[{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mongo-disk1-@@{calm_array_index}@@-@@{calm_time}@@","sizeGb":20,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mongo-disk2-@@{calm_array_index}@@-@@{calm_time}@@","sizeGb":20,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mongo-disk3-@@{calm_array_index}@@-@@{calm_time}@@","sizeGb":20,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mongo-disk4-@@{calm_array_index}@@-@@{calm_time}@@","sizeGb":20,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mongo-disk5-@@{calm_array_index}@@-@@{calm_time}@@","sizeGb":20,"autoDelete":true}],"metadata":{"items":[],"type":"","fingerprint":""},"type":"","account_uuid":"84213a31-4fe8-7e39-3799-e093e5d0dc2e","serviceAccounts":[{"scopes":["https:\/\/www.googleapis.com\/auth\/devstorage.read_only","https:\/\/www.googleapis.com\/auth\/logging.write","https:\/\/www.googleapis.com\/auth\/monitoring.write","https:\/\/www.googleapis.com\/auth\/servicecontrol","https:\/\/www.googleapis.com\/auth\/service.management.readonly","https:\/\/www.googleapis.com\/auth\/trace.append"],"type":"","email":""}],"networkInterfaces":[{"aliasIpRanges":[],"network":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/global\/networks\/default","accessConfigs":[{"config_type":"ONE_TO_ONE_NAT","type":"","name":"mongo-data-acn-@@{calm_array_index}@@-@@{calm_time}@@","natIP":""}],"networkIP":"","subnetwork":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/regions\/us-central1\/subnetworks\/default","type":""}]}},"variable_list":[],"description":""},{"name":"AzureRouter","action_list":[],"uuid":"7c3d971c-23bd-4e2f-8fb0-93f1a45751e9","readiness_probe":{"connection_type":"SSH","retries":"5","connection_port":22,"address":"@@{platform.publicIPAddressList[0]}@@","delay_secs":"0","disable_readiness_probe":false},"editables":{"readiness_probe":{"connection_type":true,"retries":true,"delay_secs":true,"connection_port":true,"timeout_secs":null},"create_spec":{"resources":{"vm_name":true,"storage_profile":{"is_managed":true,"image_details":{"sku":true,"publisher":true,"offer":true,"source_image_id":true,"use_custom_image":true,"version":true},"os_disk_details":{"storage_type":true,"name":true,"caching_type":true,"create_option":true}},"nw_profile":{"nic_list":{"0":{"subnet_name":true,"nsg_name":true,"vnet_name":true}}},"resource_group":true,"os_profile":{"linux_config":{"custom_data":true}},"hw_profile":{"vm_size":true},"location":true,"availability_set_id":true,"tag_list":true}}},"os_type":"Linux","type":"AZURE_VM","create_spec":{"type":"PROVISION_AZURE_VM","name":"","resources":{"vm_name":"MongoRouter-@@{calm_unique_hash}@@-@@{calm_array_index}@@","storage_profile":{"is_managed":true,"image_details":{"sku":"7.6","publisher":"OpenLogic","offer":"CentOS-HPC","source_image_id":"","use_custom_image":false,"version":"7.6.20190327","type":""},"type":"","os_disk_details":{"size_in_gb":127,"name":"os-@@{calm_unique_hash}@@-@@{calm_array_index}@@-disk","storage_name":"","storage_type":"Standard_LRS","lun":-1,"type":"","create_option":"FromImage","caching_type":"ReadWrite"},"data_disk_list":[]},"nw_profile":{"nic_list":[{"vnet_name":"calm-virtual-network-eastus2","nsg_name":"sg-allow-all-eastus2","private_ip_info":{"ip_allocation_method":"Dynamic"},"nic_name":"nic-@@{calm_unique_hash}@@-@@{calm_array_index}@@-0","subnet_name":"default","public_ip_info":{"ip_name":"public-ip-@@{calm_unique_hash}@@-@@{calm_array_index}@@-0","dns_label":"dns-@@{calm_unique_hash}@@-@@{calm_array_index}@@-0","ip_allocation_method":"Dynamic"}}],"primary_nic":-1,"type":""},"resource_group":"calmrg","os_profile":{"secrets":[],"type":"","windows_config":{"winrm_listeners":[],"time_zone":"","additional_unattend_content":[],"provision_vm_agent":true,"auto_updates":false,"type":""},"linux_config":{"disable_password_auth":false,"custom_data":"","type":"","public_keys":[]}},"hw_profile":{"max_data_disk_count":4,"vm_size":"Standard_D1_v2","type":""},"location":"eastus2","tag_list":[],"type":"","account_uuid":"3c0f2d94-878c-f34c-6d39-90b854129782"}},"variable_list":[],"description":""},{"name":"AzureConfigSet","action_list":[],"uuid":"81d5239a-1d40-44b1-8dcc-01c5276fea58","readiness_probe":{"connection_type":"SSH","retries":"5","connection_port":22,"address":"@@{platform.publicIPAddressList[0]}@@","delay_secs":"0","disable_readiness_probe":false},"editables":{"readiness_probe":{"connection_type":true,"retries":true,"delay_secs":true,"connection_port":true,"timeout_secs":null},"create_spec":{"resources":{"vm_name":true,"storage_profile":{"is_managed":true,"image_details":{"sku":true,"publisher":true,"offer":true,"source_image_id":true,"use_custom_image":true,"version":true},"os_disk_details":{"storage_type":true,"name":true,"caching_type":true,"create_option":true}},"nw_profile":{"nic_list":{"0":{"subnet_name":true,"nsg_name":true,"vnet_name":true}}},"resource_group":true,"os_profile":{"linux_config":{"custom_data":true}},"hw_profile":{"vm_size":true},"location":true,"availability_set_id":true,"tag_list":true}}},"os_type":"Linux","type":"AZURE_VM","create_spec":{"type":"PROVISION_AZURE_VM","name":"","resources":{"vm_name":"MongoConfigSet-@@{calm_unique_hash}@@-@@{calm_array_index}@@","storage_profile":{"is_managed":true,"image_details":{"sku":"7.6","publisher":"OpenLogic","offer":"CentOS-HPC","source_image_id":"","use_custom_image":false,"version":"7.6.20190327","type":""},"type":"","os_disk_details":{"size_in_gb":127,"name":"os-@@{calm_unique_hash}@@-@@{calm_array_index}@@-disk","storage_name":"","storage_type":"Standard_LRS","lun":-1,"type":"","create_option":"FromImage","caching_type":"ReadWrite"},"data_disk_list":[]},"nw_profile":{"nic_list":[{"vnet_name":"calm-virtual-network-eastus2","nsg_name":"sg-allow-all-eastus2","private_ip_info":{"ip_allocation_method":"Dynamic"},"nic_name":"nic-@@{calm_unique_hash}@@-@@{calm_array_index}@@-0","subnet_name":"default","public_ip_info":{"ip_name":"public-ip-@@{calm_unique_hash}@@-@@{calm_array_index}@@-0","dns_label":"dns-@@{calm_unique_hash}@@-@@{calm_array_index}@@-0","ip_allocation_method":"Dynamic"}}],"primary_nic":-1,"type":""},"resource_group":"calmrg","os_profile":{"secrets":[],"type":"","windows_config":{"winrm_listeners":[],"time_zone":"","additional_unattend_content":[],"provision_vm_agent":true,"auto_updates":false,"type":""},"linux_config":{"disable_password_auth":false,"custom_data":"","type":"","public_keys":[]}},"hw_profile":{"max_data_disk_count":4,"vm_size":"Standard_D1_v2","type":""},"location":"eastus2","tag_list":[],"type":"","account_uuid":"3c0f2d94-878c-f34c-6d39-90b854129782"}},"variable_list":[],"description":""},{"name":"AzureDataSet","action_list":[],"uuid":"a8c1760d-72af-4889-9407-0f1199c89e5d","readiness_probe":{"connection_type":"SSH","retries":"5","connection_port":22,"address":"@@{platform.publicIPAddressList[0]}@@","delay_secs":"0","disable_readiness_probe":false},"editables":{"readiness_probe":{"connection_type":true,"retries":true,"delay_secs":true,"connection_port":true,"timeout_secs":null},"create_spec":{"resources":{"vm_name":true,"storage_profile":{"is_managed":true,"image_details":{"sku":true,"publisher":true,"offer":true,"source_image_id":true,"use_custom_image":true,"version":true},"os_disk_details":{"storage_type":true,"name":true,"caching_type":true,"create_option":true}},"nw_profile":{"nic_list":{"0":{"subnet_name":true,"nsg_name":true,"vnet_name":true}}},"resource_group":true,"os_profile":{"linux_config":{"custom_data":true}},"hw_profile":{"vm_size":true},"location":true,"availability_set_id":true,"tag_list":true}}},"os_type":"Linux","type":"AZURE_VM","create_spec":{"type":"PROVISION_AZURE_VM","name":"","resources":{"vm_name":"MongoDataSet-@@{calm_unique_hash}@@-@@{calm_array_index}@@","storage_profile":{"is_managed":true,"image_details":{"sku":"7.6","publisher":"OpenLogic","offer":"CentOS-HPC","use_custom_image":false,"version":"7.6.20190327","type":""},"type":"","os_disk_details":{"size_in_gb":127,"name":"os-@@{calm_unique_hash}@@-@@{calm_array_index}@@-disk","storage_name":"","storage_type":"Standard_LRS","lun":-1,"type":"","create_option":"FromImage","caching_type":"ReadWrite"},"data_disk_list":[]},"nw_profile":{"nic_list":[{"vnet_name":"calm-virtual-network-eastus2","nsg_name":"sg-allow-all-eastus2","private_ip_info":{"ip_allocation_method":"Dynamic"},"nic_name":"nic-@@{calm_unique_hash}@@-@@{calm_array_index}@@-0","subnet_name":"default","public_ip_info":{"ip_name":"public-ip-@@{calm_unique_hash}@@-@@{calm_array_index}@@-0","dns_label":"dns-@@{calm_unique_hash}@@-@@{calm_array_index}@@-0","ip_allocation_method":"Dynamic"}}],"primary_nic":-1,"type":""},"resource_group":"calmrg","os_profile":{"secrets":[],"type":"","windows_config":{"winrm_listeners":[],"time_zone":"","additional_unattend_content":[],"provision_vm_agent":true,"auto_updates":false,"type":""},"linux_config":{"disable_password_auth":false,"custom_data":"","type":"","public_keys":[]}},"hw_profile":{"max_data_disk_count":4,"vm_size":"Standard_D1_v2","type":""},"location":"eastus2","tag_list":[],"type":"","account_uuid":"3c0f2d94-878c-f34c-6d39-90b854129782"}},"variable_list":[],"description":""},{"name":"VMwareRouter","action_list":[],"uuid":"25161802-9ed5-60fa-2a85-553c7df9e7e7","readiness_probe":{"connection_type":"SSH","retries":"5","connection_port":22,"address":"@@{platform.ipAddressList[0]}@@","delay_secs":"60","disable_readiness_probe":false},"editables":{"readiness_probe":{"connection_type":true,"retries":true,"delay_secs":true,"connection_port":true},"create_spec":{"name":true,"resources":{"template_nic_list":{},"nic_list":{"0":{"nic_type":true,"net_name":true}},"template_controller_list":{},"num_vcpus_per_socket":true,"num_sockets":true,"controller_list":{},"memory_size_mib":true,"template_disk_list":{},"disk_list":{}}}},"os_type":"Linux","type":"VMWARE_VM","create_spec":{"name":"MongoRouter-@@{calm_array_index}@@-@@{calm_time}@@","type":"PROVISION_VMWARE_VM","cluster":"Sabine59-Cluster","template":"ceebfa0c-f616-c3ca-4d88-fe76d5434070","storage_pod":"DatastoreCluster","resources":{"nic_list":[{"nic_type":"e1000","net_name":"key-vim.host.PortGroup-VM Network"}],"num_vcpus_per_socket":1,"num_sockets":2,"memory_size_mib":4096,"guest_customization":{"cloud_init":"#cloud-config\nusers:\n  - name: centos\n    ssh-authorized-keys:\n      - @@{CENTOS.public_key}@@\n    sudo: ['ALL=(ALL) NOPASSWD:ALL']","customization_type":"GUEST_OS_LINUX"},"account_uuid":"7f90399d-ed3d-1c70-447d-17004ef1bd0a"}},"variable_list":[],"description":""},{"name":"VMwareConfigSet","action_list":[],"uuid":"2b99298d-b852-5bda-2c5b-9bc3b7f800e4","readiness_probe":{"connection_type":"SSH","retries":"5","connection_port":22,"address":"@@{platform.ipAddressList[0]}@@","delay_secs":"60","disable_readiness_probe":false},"editables":{"readiness_probe":{"connection_type":true,"retries":true,"delay_secs":true,"connection_port":true},"create_spec":{"name":true,"resources":{"template_nic_list":{},"nic_list":{"0":{"nic_type":true,"net_name":true}},"template_controller_list":{},"num_vcpus_per_socket":true,"num_sockets":true,"controller_list":{},"memory_size_mib":true,"template_disk_list":{},"disk_list":{}}}},"os_type":"Linux","type":"VMWARE_VM","create_spec":{"name":"MongoConfigSet-@@{calm_array_index}@@-@@{calm_time}@@","type":"PROVISION_VMWARE_VM","cluster":"Sabine59-Cluster","template":"ceebfa0c-f616-c3ca-4d88-fe76d5434070","storage_pod":"DatastoreCluster","resources":{"nic_list":[{"nic_type":"e1000","net_name":"key-vim.host.PortGroup-VM Network"}],"num_vcpus_per_socket":1,"num_sockets":2,"memory_size_mib":4096,"guest_customization":{"cloud_init":"#cloud-config\nusers:\n  - name: centos\n    ssh-authorized-keys:\n      - @@{CENTOS.public_key}@@\n    sudo: ['ALL=(ALL) NOPASSWD:ALL']","customization_type":"GUEST_OS_LINUX"},"account_uuid":"7f90399d-ed3d-1c70-447d-17004ef1bd0a"}},"variable_list":[],"description":""},{"name":"VMwareDataSet","action_list":[],"uuid":"06f22add-e66c-670a-443c-c6fb6a86018d","readiness_probe":{"connection_type":"SSH","retries":"5","connection_port":22,"address":"@@{platform.ipAddressList[0]}@@","delay_secs":"60","disable_readiness_probe":false},"editables":{"readiness_probe":{"connection_type":true,"retries":true,"delay_secs":true,"connection_port":true},"create_spec":{"name":true,"resources":{"template_nic_list":{},"nic_list":{"0":{"nic_type":true,"net_name":true}},"template_controller_list":{},"num_vcpus_per_socket":true,"num_sockets":true,"controller_list":{},"memory_size_mib":true,"template_disk_list":{},"disk_list":{"1":{"disk_size_mb":true,"disk_mode":true,"adapter_type":true,"location":true,"controller_key":true,"disk_type":true},"0":{"disk_size_mb":true,"disk_mode":true,"adapter_type":true,"location":true,"controller_key":true,"disk_type":true},"3":{"disk_size_mb":true,"disk_mode":true,"adapter_type":true,"location":true,"controller_key":true,"disk_type":true},"2":{"disk_size_mb":true,"disk_mode":true,"adapter_type":true,"location":true,"controller_key":true,"disk_type":true},"4":{"disk_size_mb":true,"disk_mode":true,"adapter_type":true,"location":true,"controller_key":true,"disk_type":true}}}}},"os_type":"Linux","type":"VMWARE_VM","create_spec":{"name":"MongoDataSet-@@{calm_array_index}@@-@@{calm_time}@@","type":"PROVISION_VMWARE_VM","cluster":"Sabine59-Cluster","template":"ceebfa0c-f616-c3ca-4d88-fe76d5434070","storage_pod":"DatastoreCluster","resources":{"nic_list":[{"nic_type":"e1000","net_name":"key-vim.host.PortGroup-VM Network"}],"num_vcpus_per_socket":1,"num_sockets":2,"memory_size_mib":4096,"guest_customization":{"cloud_init":"#cloud-config\nusers:\n  - name: centos\n    ssh-authorized-keys:\n      - @@{CENTOS.public_key}@@\n    sudo: ['ALL=(ALL) NOPASSWD:ALL']","customization_type":"GUEST_OS_LINUX"},"account_uuid":"7f90399d-ed3d-1c70-447d-17004ef1bd0a","disk_list":[{"disk_size_mb":10240,"disk_type":"disk","adapter_type":"SCSI","disk_mode":"persistent"},{"disk_size_mb":10240,"disk_type":"disk","adapter_type":"SCSI","disk_mode":"persistent"},{"disk_size_mb":10240,"disk_type":"disk","adapter_type":"SCSI","disk_mode":"persistent"},{"disk_size_mb":10240,"disk_type":"disk","adapter_type":"SCSI","disk_mode":"persistent"},{"disk_size_mb":10240,"disk_type":"disk","adapter_type":"SCSI","disk_mode":"persistent"}]}},"variable_list":[],"description":""}],"credential_definition_list":[{"username":"centos","uuid":"43f2dfc8-f9f0-4085-9434-cf67cd57cdae","name":"CENTOS","secret":{"attrs":{"is_secret_modified":false,"secret_reference":{"uuid":"e3f4c7c5-ed08-4625-a259-b7ee5e084d37"}}},"type":"KEY","description":""}],"type":"USER","app_profile_list":[{"deployment_create_list":[{"max_replicas":"3","action_list":[],"package_local_reference_list":[{"kind":"app_package","name":"AHVRouterPackage","uuid":"a5843e3f-6aa0-452e-801b-2940a59c8f83"}],"description":"","uuid":"30b27cdf-628e-49d3-b6e5-6b82278e432d","min_replicas":"3","editables":{"min_replicas":true,"max_replicas":true},"substrate_local_reference":{"kind":"app_substrate","name":"AHVRouter","uuid":"e372d8fd-d7ad-4678-ac50-0517f533c9d4"},"type":"GREENFIELD","variable_list":[],"name":"ff4974a5_deployment"},{"max_replicas":"3","action_list":[],"package_local_reference_list":[{"kind":"app_package","name":"AHVConfigSetPackage","uuid":"da11565f-0ae8-48e8-a066-569b84be461c"}],"description":"","uuid":"b4f16742-83ea-4655-ad4c-b84f9a91cee5","min_replicas":"3","editables":{"min_replicas":true,"max_replicas":true},"substrate_local_reference":{"kind":"app_substrate","name":"AHVConfigSet","uuid":"9da256c1-17f2-4787-a501-f5b250fccce7"},"type":"GREENFIELD","variable_list":[],"name":"86730684_deployment"},{"max_replicas":"9","action_list":[],"package_local_reference_list":[{"kind":"app_package","name":"AHVDataSetPackage","uuid":"e4258915-bb88-40f3-b138-34102b8832b5"}],"description":"","uuid":"5ec3de5b-7545-40af-b8c9-5a62a56a9453","min_replicas":"3","editables":{"min_replicas":true,"max_replicas":true},"substrate_local_reference":{"kind":"app_substrate","name":"AHVDataSet","uuid":"08c0cce6-3507-478b-8aff-abff38fc49ea"},"type":"GREENFIELD","variable_list":[],"name":"fc5d23e3_deployment"}],"description":"","action_list":[{"description":"","name":"ScaleOut","critical":false,"runbook":{"task_definition_list":[{"retries":"0","description":"","uuid":"5e80cf34-39e1-4b26-a492-49fc96ddaaf9","child_tasks_local_reference_list":[{"kind":"app_task","name":"Scale Out","uuid":"8cd89ffd-b3fc-458d-9576-53deb3b7de12"},{"kind":"app_task","name":"AddNewShard","uuid":"f24004bc-1154-46d3-bd0e-635ddb0f122c"},{"kind":"app_task","name":"SetHostsFile2","uuid":"ffc7934e-fe13-4055-8018-02f7b821ac2c"},{"kind":"app_task","name":"SetHostsFile1","uuid":"dc68d118-92b8-4988-886c-b9564e8e2f70"}],"attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Scale Out","uuid":"8cd89ffd-b3fc-458d-9576-53deb3b7de12"},"edge_type":"user_defined","type":"","uuid":"0ef1248d-4a95-4be3-ac5c-197128696f24","to_task_reference":{"kind":"app_task","name":"AddNewShard","uuid":"f24004bc-1154-46d3-bd0e-635ddb0f122c"}},{"from_task_reference":{"kind":"app_task","name":"Scale Out","uuid":"8cd89ffd-b3fc-458d-9576-53deb3b7de12"},"edge_type":"user_defined","type":"","uuid":"4bb6b82e-8068-47a0-9e2f-9d59e6d722fd","to_task_reference":{"kind":"app_task","name":"SetHostsFile2","uuid":"ffc7934e-fe13-4055-8018-02f7b821ac2c"}},{"from_task_reference":{"kind":"app_task","name":"Scale Out","uuid":"8cd89ffd-b3fc-458d-9576-53deb3b7de12"},"edge_type":"user_defined","type":"","uuid":"7dd2faf4-202a-440a-a2a7-bbfdd97f257f","to_task_reference":{"kind":"app_task","name":"SetHostsFile1","uuid":"dc68d118-92b8-4988-886c-b9564e8e2f70"}}],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"c03e1222_dag"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","uuid":"5ec3de5b-7545-40af-b8c9-5a62a56a9453","name":"fc5d23e3_deployment"},"retries":"0","description":"","uuid":"8cd89ffd-b3fc-458d-9576-53deb3b7de12","child_tasks_local_reference_list":[],"attrs":{"scaling_count":"@@{NODES_PER_REPLICA_SET}@@","type":"","scaling_type":"SCALEOUT"},"timeout_secs":"0","type":"SCALING","variable_list":[],"name":"Scale Out"},{"target_any_local_reference":{"kind":"app_service","uuid":"57337465-81f3-4470-86b8-b234707e1e9e","name":"Router"},"retries":"0","description":"","uuid":"f24004bc-1154-46d3-bd0e-635ddb0f122c","child_tasks_local_reference_list":[],"attrs":{"exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\ncat > \/tmp\/set-hostnames.py <<EOF\n#!\/usr\/bin\/python\nimport re\nconfig_ips=\"@@{AHVConfigSet.address}@@\"\ndata_ips=\"@@{AHVDataSet.address}@@\"\nrouter_ips=\"@@{calm_array_address}@@\"\n\nhostfile = open('\/etc\/hosts', 'r').read()\nprint hostfile\nhostfile = re.sub('\\n#MONGODB-BEGIN.*?#MONGODB-END', '', hostfile, flags=re.DOTALL)\nhostfile += \"#MONGODB-BEGIN\\n\"\ncount=1\nfor ip in config_ips.split(','):\n  hostfile += ip + \" config\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in data_ips.split(','):\n  hostfile += ip + \" data\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in router_ips.split(','):\n  hostfile += ip + \" router\" + str(count) + \".mongodb\\n\"\n  count += 1\nhostfile += \"#MONGODB-END\\n\"\nopen('\/etc\/hosts', 'w').write(hostfile)\nEOF\n\nsudo python \/tmp\/set-hostnames.py\n\nNODES_PER_REPLICA_SET=\"@@{NODES_PER_REPLICA_SET}@@\"\nINTERNAL_IP=\"@@{address}@@\"\nREPLICA_IPS=($(echo @@{DataSet.address}@@ | sed 's\/^,\/\/' | sed 's\/,$\/\/' | tr \",\" \"\\n\"))\nnoOfShards=$((${#REPLICA_IPS[@]}\/${NODES_PER_REPLICA_SET}))\n\ncount=0\nfor ((number=1;number <= $noOfShards;number++))\ndo\n  replicaSetName=\"dataReplSet${number}\"\n  sudo mongo --host ${INTERNAL_IP} --port 27017 --eval \"sh.addShard( \\\"$replicaSetName\/${REPLICA_IPS[${count}]}:27017\\\" )\"\n  count=$(($count + ${NODES_PER_REPLICA_SET}))\ndone","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"43f2dfc8-f9f0-4085-9434-cf67cd57cdae"}},"timeout_secs":"0","type":"EXEC","variable_list":[],"name":"AddNewShard"},{"target_any_local_reference":{"kind":"app_service","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd","name":"ConfigSet"},"retries":"0","description":"","uuid":"ffc7934e-fe13-4055-8018-02f7b821ac2c","child_tasks_local_reference_list":[],"attrs":{"script":"#!\/bin\/bash\nset -ex\n\ncat > \/tmp\/set-hostnames.py <<EOF\n#!\/usr\/bin\/python\nimport re\nconfig_ips=\"@@{calm_array_address}@@\"\ndata_ips=\"@@{AHVDataSet.address}@@\"\nrouter_ips=\"@@{AHVRouter.address}@@\"\n\nhostfile = open('\/etc\/hosts', 'r').read()\nprint hostfile\nhostfile = re.sub('\\n#MONGODB-BEGIN.*?#MONGODB-END', '', hostfile, flags=re.DOTALL)\nhostfile += \"#MONGODB-BEGIN\\n\"\ncount=1\nfor ip in config_ips.split(','):\n  hostfile += ip + \" config\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in data_ips.split(','):\n  hostfile += ip + \" data\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in router_ips.split(','):\n  hostfile += ip + \" router\" + str(count) + \".mongodb\\n\"\n  count += 1\nhostfile += \"#MONGODB-END\\n\"\nopen('\/etc\/hosts', 'w').write(hostfile)\nEOF\n\nsudo python \/tmp\/set-hostnames.py","type":"","command_line_args":"","exit_status":[],"script_type":"sh"},"timeout_secs":"0","type":"EXEC","variable_list":[],"name":"SetHostsFile2"},{"target_any_local_reference":{"kind":"app_service","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47","name":"DataSet"},"retries":"0","description":"","uuid":"dc68d118-92b8-4988-886c-b9564e8e2f70","child_tasks_local_reference_list":[],"attrs":{"script":"#!\/bin\/bash\nset -ex\n\ncat > \/tmp\/set-hostnames.py <<EOF\n#!\/usr\/bin\/python\nimport re\nconfig_ips=\"@@{AHVConfigSet.address}@@\"\ndata_ips=\"@@{calm_array_address}@@\"\nrouter_ips=\"@@{AHVRouter.address}@@\"\n\nhostfile = open('\/etc\/hosts', 'r').read()\nprint hostfile\nhostfile = re.sub('\\n#MONGODB-BEGIN.*?#MONGODB-END', '', hostfile, flags=re.DOTALL)\nhostfile += \"#MONGODB-BEGIN\\n\"\ncount=1\nfor ip in config_ips.split(','):\n  hostfile += ip + \" config\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in data_ips.split(','):\n  hostfile += ip + \" data\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in router_ips.split(','):\n  hostfile += ip + \" router\" + str(count) + \".mongodb\\n\"\n  count += 1\nhostfile += \"#MONGODB-END\\n\"\nopen('\/etc\/hosts', 'w').write(hostfile)\nEOF\n\nsudo python \/tmp\/set-hostnames.py","type":"","command_line_args":"","exit_status":[],"script_type":"sh"},"timeout_secs":"0","type":"EXEC","variable_list":[],"name":"SetHostsFile1"}],"description":"","uuid":"4b37f781-7cbe-4b69-9cfb-1c038658bda0","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"c03e1222_dag","uuid":"5e80cf34-39e1-4b26-a492-49fc96ddaaf9"},"name":"f0b90ba7_runbook"},"type":"user","uuid":"f2416529-9d7b-42cd-9eb2-cf34d029eeda"},{"description":"","name":"ScaleIn","critical":false,"runbook":{"task_definition_list":[{"retries":"0","description":"","uuid":"bec44b43-d263-4a7e-bb3d-4ad93889a8fe","child_tasks_local_reference_list":[{"kind":"app_task","name":"Scale In","uuid":"e406b44a-3d7f-4938-bc56-37020c2b5bba"},{"kind":"app_task","name":"SetHostsFile2","uuid":"1912c706-7e19-495c-8a01-ba3d2b0219f0"},{"kind":"app_task","name":"SetHostsFile1","uuid":"85198549-04fb-4e36-a5a4-9ebf3fa842ea"},{"kind":"app_task","name":"SetHostsFile3","uuid":"639007c3-4fbe-4dcc-9666-b17aee6c8d78"}],"attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Scale In","uuid":"e406b44a-3d7f-4938-bc56-37020c2b5bba"},"edge_type":"user_defined","type":"","uuid":"4a196834-fc1c-4ca3-989a-41558762ea92","to_task_reference":{"kind":"app_task","name":"SetHostsFile3","uuid":"639007c3-4fbe-4dcc-9666-b17aee6c8d78"}},{"from_task_reference":{"kind":"app_task","name":"Scale In","uuid":"e406b44a-3d7f-4938-bc56-37020c2b5bba"},"edge_type":"user_defined","type":"","uuid":"69fcf552-92bb-4fcb-bd1d-344ba94cb7de","to_task_reference":{"kind":"app_task","name":"SetHostsFile1","uuid":"85198549-04fb-4e36-a5a4-9ebf3fa842ea"}},{"from_task_reference":{"kind":"app_task","name":"Scale In","uuid":"e406b44a-3d7f-4938-bc56-37020c2b5bba"},"edge_type":"user_defined","type":"","uuid":"4d2920b8-5da9-4d11-9b2a-002b24d62907","to_task_reference":{"kind":"app_task","name":"SetHostsFile2","uuid":"1912c706-7e19-495c-8a01-ba3d2b0219f0"}}],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"c90468d9_dag"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","uuid":"5ec3de5b-7545-40af-b8c9-5a62a56a9453","name":"fc5d23e3_deployment"},"retries":"0","description":"","uuid":"e406b44a-3d7f-4938-bc56-37020c2b5bba","child_tasks_local_reference_list":[],"attrs":{"scaling_count":"@@{NODES_PER_REPLICA_SET}@@","type":"","scaling_type":"SCALEIN"},"timeout_secs":"0","type":"SCALING","variable_list":[],"name":"Scale In"},{"target_any_local_reference":{"kind":"app_service","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd","name":"ConfigSet"},"retries":"0","description":"","uuid":"1912c706-7e19-495c-8a01-ba3d2b0219f0","child_tasks_local_reference_list":[],"attrs":{"script":"#!\/bin\/bash\nset -ex\n\ncat > \/tmp\/set-hostnames.py <<EOF\n#!\/usr\/bin\/python\nimport re\nconfig_ips=\"@@{calm_array_address}@@\"\ndata_ips=\"@@{AHVDataSet.address}@@\"\nrouter_ips=\"@@{AHVRouter.address}@@\"\n\nhostfile = open('\/etc\/hosts', 'r').read()\nprint hostfile\nhostfile = re.sub('\\n#MONGODB-BEGIN.*?#MONGODB-END', '', hostfile, flags=re.DOTALL)\nhostfile += \"#MONGODB-BEGIN\\n\"\ncount=1\nfor ip in config_ips.split(','):\n  hostfile += ip + \" config\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in data_ips.split(','):\n  hostfile += ip + \" data\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in router_ips.split(','):\n  hostfile += ip + \" router\" + str(count) + \".mongodb\\n\"\n  count += 1\nhostfile += \"#MONGODB-END\\n\"\nopen('\/etc\/hosts', 'w').write(hostfile)\nEOF\n\nsudo python \/tmp\/set-hostnames.py","type":"","command_line_args":"","exit_status":[],"script_type":"sh"},"timeout_secs":"0","type":"EXEC","variable_list":[],"name":"SetHostsFile2"},{"target_any_local_reference":{"kind":"app_service","uuid":"57337465-81f3-4470-86b8-b234707e1e9e","name":"Router"},"retries":"0","description":"","uuid":"85198549-04fb-4e36-a5a4-9ebf3fa842ea","child_tasks_local_reference_list":[],"attrs":{"script":"#!\/bin\/bash\nset -ex\n\ncat > \/tmp\/set-hostnames.py <<EOF\n#!\/usr\/bin\/python\nimport re\nconfig_ips=\"@@{AHVConfigSet.address}@@\"\ndata_ips=\"@@{AHVDataSet.address}@@\"\nrouter_ips=\"@@{calm_array_address}@@\"\n\nhostfile = open('\/etc\/hosts', 'r').read()\nprint hostfile\nhostfile = re.sub('\\n#MONGODB-BEGIN.*?#MONGODB-END', '', hostfile, flags=re.DOTALL)\nhostfile += \"#MONGODB-BEGIN\\n\"\ncount=1\nfor ip in config_ips.split(','):\n  hostfile += ip + \" config\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in data_ips.split(','):\n  hostfile += ip + \" data\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in router_ips.split(','):\n  hostfile += ip + \" router\" + str(count) + \".mongodb\\n\"\n  count += 1\nhostfile += \"#MONGODB-END\\n\"\nopen('\/etc\/hosts', 'w').write(hostfile)\nEOF\n\nsudo python \/tmp\/set-hostnames.py","type":"","command_line_args":"","exit_status":[],"script_type":"sh"},"timeout_secs":"0","type":"EXEC","variable_list":[],"name":"SetHostsFile1"},{"target_any_local_reference":{"kind":"app_service","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47","name":"DataSet"},"retries":"0","description":"","uuid":"639007c3-4fbe-4dcc-9666-b17aee6c8d78","child_tasks_local_reference_list":[],"attrs":{"script":"#!\/bin\/bash\nset -ex\n\ncat > \/tmp\/set-hostnames.py <<EOF\n#!\/usr\/bin\/python\nimport re\nconfig_ips=\"@@{AHVConfigSet.address}@@\"\ndata_ips=\"@@{calm_array_address}@@\"\nrouter_ips=\"@@{AHVRouter.address}@@\"\n\nhostfile = open('\/etc\/hosts', 'r').read()\nprint hostfile\nhostfile = re.sub('\\n#MONGODB-BEGIN.*?#MONGODB-END', '', hostfile, flags=re.DOTALL)\nhostfile += \"#MONGODB-BEGIN\\n\"\ncount=1\nfor ip in config_ips.split(','):\n  hostfile += ip + \" config\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in data_ips.split(','):\n  hostfile += ip + \" data\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in router_ips.split(','):\n  hostfile += ip + \" router\" + str(count) + \".mongodb\\n\"\n  count += 1\nhostfile += \"#MONGODB-END\\n\"\nopen('\/etc\/hosts', 'w').write(hostfile)\nEOF\n\nsudo python \/tmp\/set-hostnames.py","type":"","command_line_args":"","exit_status":[],"script_type":"sh"},"timeout_secs":"0","type":"EXEC","variable_list":[],"name":"SetHostsFile3"}],"description":"","uuid":"3c6f36dc-0463-416e-9803-291221c9717c","variable_list":[{"val_type":"STRING","uuid":"a594a3a8-c720-4eac-b0ff-db16ac4abdb6","name":"SHARD_TO_MOVE","value":"","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","description":""}],"main_task_local_reference":{"kind":"app_task","name":"c90468d9_dag","uuid":"bec44b43-d263-4a7e-bb3d-4ad93889a8fe"},"name":"d27541f5_runbook"},"type":"user","uuid":"58f4d88d-e198-440e-a857-822d557295e0"}],"name":"Nutanix","variable_list":[{"val_type":"STRING","uuid":"d2aebe0c-0903-451f-94cf-d1851c79f920","name":"MONGO_VERSION","value":"3.4.2","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","description":""},{"val_type":"STRING","uuid":"e4dd821e-a880-4c1c-a3b5-737f25202a70","name":"NODES_PER_REPLICA_SET","value":"3","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","description":""},{"val_type":"STRING","uuid":"46b2d5d5-83ae-42f8-98a7-4bbebda8e904","name":"DATA_PATH","value":"\/mongodb\/data","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","description":""},{"val_type":"STRING","uuid":"adc28b5c-39fc-4220-8f9b-cd9d7679d0f2","name":"JOURNAL_PATH","value":"\/mongodb\/journal","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","description":""},{"val_type":"STRING","uuid":"5448131c-fce3-4c34-a539-f74ca34b7c34","name":"LOG_PATH","value":"\/mongodb\/log","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","description":""}],"uuid":"ddef2352-c753-476e-8dff-ec9ec56a2872"},{"deployment_create_list":[{"max_replicas":"3","action_list":[],"package_local_reference_list":[{"kind":"app_package","name":"AWSRouterPackage","uuid":"f0a49fbc-a771-4f3a-b889-550b2c7eea0a"}],"description":"","uuid":"4c8b8533-7a13-4d9e-8f75-17180ffa6741","min_replicas":"3","editables":{"min_replicas":true,"max_replicas":true},"substrate_local_reference":{"kind":"app_substrate","name":"AWSRouter","uuid":"2edf2b2d-2087-4a99-a074-e95c34b101c6"},"type":"GREENFIELD","variable_list":[],"name":"9b5d5dea_deployment"},{"max_replicas":"3","action_list":[],"package_local_reference_list":[{"kind":"app_package","name":"AWSConfigSetPackage","uuid":"8530536d-a328-41b2-b452-ab23632488f7"}],"description":"","uuid":"8f5a340d-469c-48eb-bf95-4442d3927b7c","min_replicas":"3","editables":{"min_replicas":true,"max_replicas":true},"substrate_local_reference":{"kind":"app_substrate","name":"AWSConfigSet","uuid":"66b46e7e-c7ab-4692-a0a0-060f0c7bc6b5"},"type":"GREENFIELD","variable_list":[],"name":"c5fb67ff_deployment"},{"max_replicas":"9","action_list":[],"package_local_reference_list":[{"kind":"app_package","name":"AWSDataSetPackage","uuid":"12025307-e5d6-443a-acbf-8c6decdff487"}],"description":"","uuid":"f11afc5c-f2fe-4648-9c73-87338ce4e25c","min_replicas":"3","editables":{"min_replicas":true,"max_replicas":true},"substrate_local_reference":{"kind":"app_substrate","name":"AWSDataSet","uuid":"fc7a0a47-84f8-44d8-b89a-85d46f0da96d"},"type":"GREENFIELD","variable_list":[],"name":"06287d2c_deployment"}],"description":"","action_list":[{"description":"","name":"ScaleOut","critical":false,"runbook":{"task_definition_list":[{"retries":"0","description":"","uuid":"4584f2ea-1b1b-469f-bc62-2f379901a13e","child_tasks_local_reference_list":[{"kind":"app_task","name":"Scale Out","uuid":"5e66f7b4-4007-41e8-b172-3e7378bc26a1"},{"kind":"app_task","name":"SetHostsFile1","uuid":"6b64c392-e6a9-4334-a6f7-da275dca5796"},{"kind":"app_task","name":"AddNewShard","uuid":"f9f7bfa1-dd55-4072-88cb-409a62b24d48"},{"kind":"app_task","name":"SetHostsFile2","uuid":"41ca6da7-a6f1-47cf-8fb9-d769e5be13d8"}],"attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Scale Out","uuid":"5e66f7b4-4007-41e8-b172-3e7378bc26a1"},"edge_type":"user_defined","type":"","uuid":"5f254620-410c-49a5-bd4b-7e65657b7ac1","to_task_reference":{"kind":"app_task","name":"SetHostsFile1","uuid":"6b64c392-e6a9-4334-a6f7-da275dca5796"}},{"from_task_reference":{"kind":"app_task","name":"Scale Out","uuid":"5e66f7b4-4007-41e8-b172-3e7378bc26a1"},"edge_type":"user_defined","type":"","uuid":"17376990-fe1b-451c-9e82-aeeda18d080e","to_task_reference":{"kind":"app_task","name":"AddNewShard","uuid":"f9f7bfa1-dd55-4072-88cb-409a62b24d48"}},{"from_task_reference":{"kind":"app_task","name":"Scale Out","uuid":"5e66f7b4-4007-41e8-b172-3e7378bc26a1"},"edge_type":"user_defined","type":"","uuid":"5853ea24-7003-47e0-abf7-b874fc6831a0","to_task_reference":{"kind":"app_task","name":"SetHostsFile2","uuid":"41ca6da7-a6f1-47cf-8fb9-d769e5be13d8"}}],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"46047c7c_dag"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","uuid":"f11afc5c-f2fe-4648-9c73-87338ce4e25c","name":"06287d2c_deployment"},"retries":"0","description":"","uuid":"5e66f7b4-4007-41e8-b172-3e7378bc26a1","child_tasks_local_reference_list":[],"attrs":{"scaling_count":"@@{NODES_PER_REPLICA_SET}@@","type":"","scaling_type":"SCALEOUT"},"timeout_secs":"0","type":"SCALING","variable_list":[],"name":"Scale Out"},{"target_any_local_reference":{"kind":"app_service","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47","name":"DataSet"},"retries":"0","description":"","uuid":"6b64c392-e6a9-4334-a6f7-da275dca5796","child_tasks_local_reference_list":[],"attrs":{"script":"#!\/bin\/bash\nset -ex\n\ncat > \/tmp\/set-hostnames.py <<EOF\n#!\/usr\/bin\/python\nimport re\nconfig_ips=\"@@{AWSConfigSet.address}@@\"\ndata_ips=\"@@{calm_array_private_ip_address}@@\"\nrouter_ips=\"@@{AWSRouter.private_ip_address}@@\"\n\nhostfile = open('\/etc\/hosts', 'r').read()\nprint hostfile\nhostfile = re.sub('\\n#MONGODB-BEGIN.*?#MONGODB-END', '', hostfile, flags=re.DOTALL)\nhostfile += \"#MONGODB-BEGIN\\n\"\ncount=1\nfor ip in config_ips.split(','):\n  hostfile += ip + \" config\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in data_ips.split(','):\n  hostfile += ip + \" data\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in router_ips.split(','):\n  hostfile += ip + \" router\" + str(count) + \".mongodb\\n\"\n  count += 1\nhostfile += \"#MONGODB-END\\n\"\nopen('\/etc\/hosts', 'w').write(hostfile)\nEOF\n\nsudo python \/tmp\/set-hostnames.py","type":"","command_line_args":"","exit_status":[],"script_type":"sh"},"timeout_secs":"0","type":"EXEC","variable_list":[],"name":"SetHostsFile1"},{"target_any_local_reference":{"kind":"app_service","uuid":"57337465-81f3-4470-86b8-b234707e1e9e","name":"Router"},"retries":"0","description":"","uuid":"f9f7bfa1-dd55-4072-88cb-409a62b24d48","child_tasks_local_reference_list":[],"attrs":{"script":"#!\/bin\/bash\nset -ex\n\ncat > \/tmp\/set-hostnames.py <<EOF\n#!\/usr\/bin\/python\nimport re\nconfig_ips=\"@@{AWSConfigSet.private_ip_address}@@\"\ndata_ips=\"@@{AWSDataSet.private_ip_address}@@\"\nrouter_ips=\"@@{calm_array_private_ip_address}@@\"\n\nhostfile = open('\/etc\/hosts', 'r').read()\nprint hostfile\nhostfile = re.sub('\\n#MONGODB-BEGIN.*?#MONGODB-END', '', hostfile, flags=re.DOTALL)\nhostfile += \"#MONGODB-BEGIN\\n\"\ncount=1\nfor ip in config_ips.split(','):\n  hostfile += ip + \" config\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in data_ips.split(','):\n  hostfile += ip + \" data\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in router_ips.split(','):\n  hostfile += ip + \" router\" + str(count) + \".mongodb\\n\"\n  count += 1\nhostfile += \"#MONGODB-END\\n\"\nopen('\/etc\/hosts', 'w').write(hostfile)\nEOF\n\nsudo python \/tmp\/set-hostnames.py\n\nNODES_PER_REPLICA_SET=\"@@{NODES_PER_REPLICA_SET}@@\"\nINTERNAL_IP=\"@@{private_ip_address}@@\"\nREPLICA_IPS=($(echo @@{DataSet.private_ip_address}@@ | sed 's\/^,\/\/' | sed 's\/,$\/\/' | tr \",\" \"\\n\"))\nnoOfShards=$((${#REPLICA_IPS[@]}\/${NODES_PER_REPLICA_SET}))\n\ncount=0\nfor ((number=1;number <= $noOfShards;number++))\ndo\n  replicaSetName=\"dataReplSet${number}\"\n  sudo mongo --host ${INTERNAL_IP} --port 27017 --eval \"sh.addShard( \\\"$replicaSetName\/${REPLICA_IPS[${count}]}:27017\\\" )\"\n  count=$(($count + ${NODES_PER_REPLICA_SET}))\ndone","type":"","command_line_args":"","exit_status":[],"script_type":"sh"},"timeout_secs":"0","type":"EXEC","variable_list":[],"name":"AddNewShard"},{"target_any_local_reference":{"kind":"app_service","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd","name":"ConfigSet"},"retries":"0","description":"","uuid":"41ca6da7-a6f1-47cf-8fb9-d769e5be13d8","child_tasks_local_reference_list":[],"attrs":{"script":"#!\/bin\/bash\nset -ex\n\ncat > \/tmp\/set-hostnames.py <<EOF\n#!\/usr\/bin\/python\nimport re\nconfig_ips=\"@@{calm_array_private_ip_address}@@\"\ndata_ips=\"@@{AWSDataSet.private_ip_address}@@\"\nrouter_ips=\"@@{AWSRouter.private_ip_address}@@\"\n\nhostfile = open('\/etc\/hosts', 'r').read()\nprint hostfile\nhostfile = re.sub('\\n#MONGODB-BEGIN.*?#MONGODB-END', '', hostfile, flags=re.DOTALL)\nhostfile += \"#MONGODB-BEGIN\\n\"\ncount=1\nfor ip in config_ips.split(','):\n  hostfile += ip + \" config\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in data_ips.split(','):\n  hostfile += ip + \" data\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in router_ips.split(','):\n  hostfile += ip + \" router\" + str(count) + \".mongodb\\n\"\n  count += 1\nhostfile += \"#MONGODB-END\\n\"\nopen('\/etc\/hosts', 'w').write(hostfile)\nEOF\n\nsudo python \/tmp\/set-hostnames.py","type":"","command_line_args":"","exit_status":[],"script_type":"sh"},"timeout_secs":"0","type":"EXEC","variable_list":[],"name":"SetHostsFile2"}],"description":"","uuid":"01ef47e9-2f18-4f6e-9a2c-6450a471ca07","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"46047c7c_dag","uuid":"4584f2ea-1b1b-469f-bc62-2f379901a13e"},"name":"17c0c906_runbook"},"type":"user","uuid":"0c52b4d2-1522-4a8e-bbb1-e6881e5c74c0"},{"description":"","name":"ScaleIn","critical":false,"runbook":{"task_definition_list":[{"retries":"0","description":"","uuid":"fa68e925-c331-48c2-9c58-4d82b9e386ed","child_tasks_local_reference_list":[{"kind":"app_task","name":"Scale In","uuid":"0087acbf-ee73-4a4b-b840-e6fa04e316dd"},{"kind":"app_task","name":"SetHostsFile2","uuid":"84b47c03-d506-4b57-b7d1-6fdfa611f147"},{"kind":"app_task","name":"SetHostsFile1","uuid":"d7a8bc7d-469f-4989-8434-e6844889e8de"},{"kind":"app_task","name":"SetHostsFile3","uuid":"d6308ce4-0cab-446e-a63b-c27e9d6a1e61"}],"attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Scale In","uuid":"0087acbf-ee73-4a4b-b840-e6fa04e316dd"},"edge_type":"user_defined","type":"","uuid":"1b3d38b4-4ebc-4379-904a-92caba91b078","to_task_reference":{"kind":"app_task","name":"SetHostsFile3","uuid":"d6308ce4-0cab-446e-a63b-c27e9d6a1e61"}},{"from_task_reference":{"kind":"app_task","name":"Scale In","uuid":"0087acbf-ee73-4a4b-b840-e6fa04e316dd"},"edge_type":"user_defined","type":"","uuid":"f9f8dda3-aeb0-4521-9f5c-d764e73f1501","to_task_reference":{"kind":"app_task","name":"SetHostsFile1","uuid":"d7a8bc7d-469f-4989-8434-e6844889e8de"}},{"from_task_reference":{"kind":"app_task","name":"Scale In","uuid":"0087acbf-ee73-4a4b-b840-e6fa04e316dd"},"edge_type":"user_defined","type":"","uuid":"d3d599c6-6a6e-463e-bf05-50ba4b7a2fd6","to_task_reference":{"kind":"app_task","name":"SetHostsFile2","uuid":"84b47c03-d506-4b57-b7d1-6fdfa611f147"}}],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"23d6414a_dag"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","uuid":"f11afc5c-f2fe-4648-9c73-87338ce4e25c","name":"06287d2c_deployment"},"retries":"0","description":"","uuid":"0087acbf-ee73-4a4b-b840-e6fa04e316dd","child_tasks_local_reference_list":[],"attrs":{"scaling_count":"@@{NODES_PER_REPLICA_SET}@@","type":"","scaling_type":"SCALEIN"},"timeout_secs":"0","type":"SCALING","variable_list":[],"name":"Scale In"},{"target_any_local_reference":{"kind":"app_service","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd","name":"ConfigSet"},"retries":"0","description":"","uuid":"84b47c03-d506-4b57-b7d1-6fdfa611f147","child_tasks_local_reference_list":[],"attrs":{"script":"#!\/bin\/bash\nset -ex\n\ncat > \/tmp\/set-hostnames.py <<EOF\n#!\/usr\/bin\/python\nimport re\nconfig_ips=\"@@{calm_array_private_ip_address}@@\"\ndata_ips=\"@@{AWSDataSet.private_ip_address}@@\"\nrouter_ips=\"@@{AWSRouter.private_ip_address}@@\"\n\nhostfile = open('\/etc\/hosts', 'r').read()\nprint hostfile\nhostfile = re.sub('\\n#MONGODB-BEGIN.*?#MONGODB-END', '', hostfile, flags=re.DOTALL)\nhostfile += \"#MONGODB-BEGIN\\n\"\ncount=1\nfor ip in config_ips.split(','):\n  hostfile += ip + \" config\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in data_ips.split(','):\n  hostfile += ip + \" data\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in router_ips.split(','):\n  hostfile += ip + \" router\" + str(count) + \".mongodb\\n\"\n  count += 1\nhostfile += \"#MONGODB-END\\n\"\nopen('\/etc\/hosts', 'w').write(hostfile)\nEOF\n\nsudo python \/tmp\/set-hostnames.py","type":"","command_line_args":"","exit_status":[],"script_type":"sh"},"timeout_secs":"0","type":"EXEC","variable_list":[],"name":"SetHostsFile2"},{"target_any_local_reference":{"kind":"app_service","uuid":"57337465-81f3-4470-86b8-b234707e1e9e","name":"Router"},"retries":"0","description":"","uuid":"d7a8bc7d-469f-4989-8434-e6844889e8de","child_tasks_local_reference_list":[],"attrs":{"script":"#!\/bin\/bash\nset -ex\n\ncat > \/tmp\/set-hostnames.py <<EOF\n#!\/usr\/bin\/python\nimport re\nconfig_ips=\"@@{AWSConfigSet.private_ip_address}@@\"\ndata_ips=\"@@{AWSDataSet.private_ip_address}@@\"\nrouter_ips=\"@@{calm_array_private_ip_address}@@\"\n\nhostfile = open('\/etc\/hosts', 'r').read()\nprint hostfile\nhostfile = re.sub('\\n#MONGODB-BEGIN.*?#MONGODB-END', '', hostfile, flags=re.DOTALL)\nhostfile += \"#MONGODB-BEGIN\\n\"\ncount=1\nfor ip in config_ips.split(','):\n  hostfile += ip + \" config\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in data_ips.split(','):\n  hostfile += ip + \" data\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in router_ips.split(','):\n  hostfile += ip + \" router\" + str(count) + \".mongodb\\n\"\n  count += 1\nhostfile += \"#MONGODB-END\\n\"\nopen('\/etc\/hosts', 'w').write(hostfile)\nEOF\n\nsudo python \/tmp\/set-hostnames.py","type":"","command_line_args":"","exit_status":[],"script_type":"sh"},"timeout_secs":"0","type":"EXEC","variable_list":[],"name":"SetHostsFile1"},{"target_any_local_reference":{"kind":"app_service","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47","name":"DataSet"},"retries":"0","description":"","uuid":"d6308ce4-0cab-446e-a63b-c27e9d6a1e61","child_tasks_local_reference_list":[],"attrs":{"script":"#!\/bin\/bash\nset -ex\n\ncat > \/tmp\/set-hostnames.py <<EOF\n#!\/usr\/bin\/python\nimport re\nconfig_ips=\"@@{AWSConfigSet.address}@@\"\ndata_ips=\"@@{calm_array_private_ip_address}@@\"\nrouter_ips=\"@@{AWSRouter.private_ip_address}@@\"\n\nhostfile = open('\/etc\/hosts', 'r').read()\nprint hostfile\nhostfile = re.sub('\\n#MONGODB-BEGIN.*?#MONGODB-END', '', hostfile, flags=re.DOTALL)\nhostfile += \"#MONGODB-BEGIN\\n\"\ncount=1\nfor ip in config_ips.split(','):\n  hostfile += ip + \" config\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in data_ips.split(','):\n  hostfile += ip + \" data\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in router_ips.split(','):\n  hostfile += ip + \" router\" + str(count) + \".mongodb\\n\"\n  count += 1\nhostfile += \"#MONGODB-END\\n\"\nopen('\/etc\/hosts', 'w').write(hostfile)\nEOF\n\nsudo python \/tmp\/set-hostnames.py","type":"","command_line_args":"","exit_status":[],"script_type":"sh"},"timeout_secs":"0","type":"EXEC","variable_list":[],"name":"SetHostsFile3"}],"description":"","uuid":"36c592a4-71fd-455a-a4fc-aa54e0e1ad38","variable_list":[{"val_type":"STRING","uuid":"547fcb9f-3f75-414c-b8c6-676fdbbb9cdf","name":"SHARD_TO_MOVE","value":"","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","description":""}],"main_task_local_reference":{"kind":"app_task","name":"23d6414a_dag","uuid":"fa68e925-c331-48c2-9c58-4d82b9e386ed"},"name":"dd5f86b8_runbook"},"type":"user","uuid":"edc89f62-53d4-4dbb-be46-e39b0ad0669b"}],"name":"AWS","variable_list":[{"val_type":"STRING","uuid":"bcb97ba9-6d1b-4298-be4e-fc134b27d7ec","name":"MONGO_VERSION","value":"3.4.2","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","description":""},{"val_type":"STRING","uuid":"46cc594f-1a12-45d9-90eb-f3cf34eec71c","name":"NODES_PER_REPLICA_SET","value":"3","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","description":""},{"val_type":"STRING","uuid":"85ff3fc1-9a45-493a-b324-f4d209052ad2","name":"DATA_PATH","value":"\/mongodb\/data","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","description":""},{"val_type":"STRING","uuid":"45f72580-ef38-440b-949e-0d0dc8cd90c1","name":"JOURNAL_PATH","value":"\/mongodb\/journal","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","description":""},{"val_type":"STRING","uuid":"25b2e871-b43a-4a02-9141-9a23758837a9","name":"LOG_PATH","value":"\/mongodb\/log","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","description":""}],"uuid":"55191eff-0b19-4618-8a52-3e5a7d916814"},{"deployment_create_list":[{"max_replicas":"3","action_list":[],"package_local_reference_list":[{"kind":"app_package","name":"GCPRouterPackage","uuid":"210861d5-0624-4752-a2fc-d29937e8c602"}],"description":"","uuid":"f9f877d0-1395-4a0f-bd05-0eb5227833e1","min_replicas":"3","editables":{"min_replicas":true,"max_replicas":true},"substrate_local_reference":{"kind":"app_substrate","name":"GCPRouter","uuid":"edbd689a-b0bd-461c-ac27-e6ab2d71b009"},"type":"GREENFIELD","variable_list":[],"name":"ff4974a5_deployment_cloned_1"},{"max_replicas":"3","action_list":[],"package_local_reference_list":[{"kind":"app_package","name":"GCPConfigSetPackage","uuid":"372ca4be-1681-4dae-b58f-dcdc8ab92dc1"}],"description":"","uuid":"d33d3d86-604a-444c-84cd-0505d3918fc9","min_replicas":"3","editables":{"min_replicas":true,"max_replicas":true},"substrate_local_reference":{"kind":"app_substrate","name":"GCPConfigSet","uuid":"4a15a437-7787-4f4e-a85c-124d560111da"},"type":"GREENFIELD","variable_list":[],"name":"86730684_deployment_cloned_1"},{"max_replicas":"9","action_list":[],"package_local_reference_list":[{"kind":"app_package","name":"GCPDataSetPackage","uuid":"3a9a70da-e9cc-49ee-89f8-74b5337ea3ff"}],"description":"","uuid":"c1e0e021-7bc8-4713-b58b-f45507996b46","min_replicas":"3","editables":{"min_replicas":true,"max_replicas":true},"substrate_local_reference":{"kind":"app_substrate","name":"GCPDataSet","uuid":"8f11d2d7-3737-4025-9613-b72ea529ed07"},"type":"GREENFIELD","variable_list":[],"name":"fc5d23e3_deployment_cloned_1"}],"description":"","action_list":[{"description":"","name":"ScaleOut","critical":false,"runbook":{"task_definition_list":[{"retries":"0","description":"","uuid":"6627bf3d-ef17-473a-85c3-4c6f091a9ba8","child_tasks_local_reference_list":[{"kind":"app_task","name":"Scale Out","uuid":"91363778-6c2c-4f03-9d4b-e9eb99b35754"},{"kind":"app_task","name":"AddNewShard","uuid":"18977f04-86d8-465d-be99-f75e27c080f2"},{"kind":"app_task","name":"SetHostsFile1","uuid":"dc2ed24f-d33d-48e7-96e3-d65d06da8a0a"},{"kind":"app_task","name":"SetHostsFile2","uuid":"3f5b1348-8835-4114-af9d-9d70d422ac5a"}],"attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Scale Out","uuid":"91363778-6c2c-4f03-9d4b-e9eb99b35754"},"edge_type":"user_defined","type":"","uuid":"da087f88-9124-415b-a8df-3b8eb5715cb6","to_task_reference":{"kind":"app_task","name":"AddNewShard","uuid":"18977f04-86d8-465d-be99-f75e27c080f2"}},{"from_task_reference":{"kind":"app_task","name":"Scale Out","uuid":"91363778-6c2c-4f03-9d4b-e9eb99b35754"},"edge_type":"user_defined","type":"","uuid":"8217b772-8eec-4adc-9c2d-eaa2dbe35b5c","to_task_reference":{"kind":"app_task","name":"SetHostsFile1","uuid":"dc2ed24f-d33d-48e7-96e3-d65d06da8a0a"}},{"from_task_reference":{"kind":"app_task","name":"Scale Out","uuid":"91363778-6c2c-4f03-9d4b-e9eb99b35754"},"edge_type":"user_defined","type":"","uuid":"e5b1aaad-feda-4633-89ea-4dd0bf493a80","to_task_reference":{"kind":"app_task","name":"SetHostsFile2","uuid":"3f5b1348-8835-4114-af9d-9d70d422ac5a"}}],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"c03e1222_dag"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","uuid":"c1e0e021-7bc8-4713-b58b-f45507996b46","name":"fc5d23e3_deployment_cloned_1"},"retries":"0","description":"","uuid":"91363778-6c2c-4f03-9d4b-e9eb99b35754","child_tasks_local_reference_list":[],"attrs":{"scaling_count":"@@{NODES_PER_REPLICA_SET}@@","type":"","scaling_type":"SCALEOUT"},"timeout_secs":"0","type":"SCALING","variable_list":[],"name":"Scale Out"},{"target_any_local_reference":{"kind":"app_service","uuid":"57337465-81f3-4470-86b8-b234707e1e9e","name":"Router"},"retries":"0","description":"","uuid":"18977f04-86d8-465d-be99-f75e27c080f2","child_tasks_local_reference_list":[],"attrs":{"script":"#!\/bin\/bash\nset -ex\n\ncat > \/tmp\/set-hostnames.py <<EOF\n#!\/usr\/bin\/python\nimport re\nconfig_ips=\"@@{GCPConfigSet.private_ip_address}@@\"\ndata_ips=\"@@{GCPDataSet.private_ip_address}@@\"\nrouter_ips=\"@@{calm_array_private_ip_address}@@\"\n\nhostfile = open('\/etc\/hosts', 'r').read()\nprint hostfile\nhostfile = re.sub('\\n#MONGODB-BEGIN.*?#MONGODB-END', '', hostfile, flags=re.DOTALL)\nhostfile += \"#MONGODB-BEGIN\\n\"\ncount=1\nfor ip in config_ips.split(','):\n  hostfile += ip + \" config\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in data_ips.split(','):\n  hostfile += ip + \" data\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in router_ips.split(','):\n  hostfile += ip + \" router\" + str(count) + \".mongodb\\n\"\n  count += 1\nhostfile += \"#MONGODB-END\\n\"\nopen('\/etc\/hosts', 'w').write(hostfile)\nEOF\n\nsudo python \/tmp\/set-hostnames.py\n\nNODES_PER_REPLICA_SET=\"@@{NODES_PER_REPLICA_SET}@@\"\nINTERNAL_IP=\"@@{private_ip_address}@@\"\nREPLICA_IPS=($(echo @@{DataSet.private_ip_address}@@ | sed 's\/^,\/\/' | sed 's\/,$\/\/' | tr \",\" \"\\n\"))\nnoOfShards=$((${#REPLICA_IPS[@]}\/${NODES_PER_REPLICA_SET}))\n\ncount=0\nfor ((number=1;number <= $noOfShards;number++))\ndo\n  replicaSetName=\"dataReplSet${number}\"\n  sudo mongo --host ${INTERNAL_IP} --port 27017 --eval \"sh.addShard( \\\"$replicaSetName\/${REPLICA_IPS[${count}]}:27017\\\" )\"\n  count=$(($count + ${NODES_PER_REPLICA_SET}))\ndone","type":"","command_line_args":"","exit_status":[],"script_type":"sh"},"timeout_secs":"0","type":"EXEC","variable_list":[],"name":"AddNewShard"},{"target_any_local_reference":{"kind":"app_service","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47","name":"DataSet"},"retries":"0","description":"","uuid":"dc2ed24f-d33d-48e7-96e3-d65d06da8a0a","child_tasks_local_reference_list":[],"attrs":{"script":"#!\/bin\/bash\nset -ex\n\ncat > \/tmp\/set-hostnames.py <<EOF\n#!\/usr\/bin\/python\nimport re\nconfig_ips=\"@@{GCPConfigSet.private_ip_address}@@\"\ndata_ips=\"@@{calm_array_private_ip_address}@@\"\nrouter_ips=\"@@{GCPRouter.private_ip_address}@@\"\n\nhostfile = open('\/etc\/hosts', 'r').read()\nprint hostfile\nhostfile = re.sub('\\n#MONGODB-BEGIN.*?#MONGODB-END', '', hostfile, flags=re.DOTALL)\nhostfile += \"#MONGODB-BEGIN\\n\"\ncount=1\nfor ip in config_ips.split(','):\n  hostfile += ip + \" config\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in data_ips.split(','):\n  hostfile += ip + \" data\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in router_ips.split(','):\n  hostfile += ip + \" router\" + str(count) + \".mongodb\\n\"\n  count += 1\nhostfile += \"#MONGODB-END\\n\"\nopen('\/etc\/hosts', 'w').write(hostfile)\nEOF\n\nsudo python \/tmp\/set-hostnames.py","type":"","command_line_args":"","exit_status":[],"script_type":"sh"},"timeout_secs":"0","type":"EXEC","variable_list":[],"name":"SetHostsFile1"},{"target_any_local_reference":{"kind":"app_service","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd","name":"ConfigSet"},"retries":"0","description":"","uuid":"3f5b1348-8835-4114-af9d-9d70d422ac5a","child_tasks_local_reference_list":[],"attrs":{"script":"#!\/bin\/bash\nset -ex\n\ncat > \/tmp\/set-hostnames.py <<EOF\n#!\/usr\/bin\/python\nimport re\nconfig_ips=\"@@{calm_array_private_ip_address}@@\"\ndata_ips=\"@@{GCPDataSet.private_ip_address}@@\"\nrouter_ips=\"@@{GCPRouter.private_ip_address}@@\"\n\nhostfile = open('\/etc\/hosts', 'r').read()\nprint hostfile\nhostfile = re.sub('\\n#MONGODB-BEGIN.*?#MONGODB-END', '', hostfile, flags=re.DOTALL)\nhostfile += \"#MONGODB-BEGIN\\n\"\ncount=1\nfor ip in config_ips.split(','):\n  hostfile += ip + \" config\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in data_ips.split(','):\n  hostfile += ip + \" data\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in router_ips.split(','):\n  hostfile += ip + \" router\" + str(count) + \".mongodb\\n\"\n  count += 1\nhostfile += \"#MONGODB-END\\n\"\nopen('\/etc\/hosts', 'w').write(hostfile)\nEOF\n\nsudo python \/tmp\/set-hostnames.py","type":"","command_line_args":"","exit_status":[],"script_type":"sh"},"timeout_secs":"0","type":"EXEC","variable_list":[],"name":"SetHostsFile2"}],"description":"","uuid":"eaa5cd26-c3c2-4867-9065-8d23da5687df","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"c03e1222_dag","uuid":"6627bf3d-ef17-473a-85c3-4c6f091a9ba8"},"name":"f0b90ba7_runbook_cloned_1"},"type":"user","uuid":"bdd92111-6a3f-4970-b48f-6be4a76b2038"},{"description":"","name":"ScaleIn","critical":false,"runbook":{"task_definition_list":[{"retries":"0","description":"","uuid":"c55851b6-af8a-4783-a5b5-c336697e2b03","child_tasks_local_reference_list":[{"kind":"app_task","name":"Scale In","uuid":"6729ba18-2eb0-4dd8-90db-cb7f01a6dd93"},{"kind":"app_task","name":"SetHostsFile1","uuid":"d6354738-797f-4159-9988-c225a22490a9"},{"kind":"app_task","name":"SetHostsFile3","uuid":"6e9c1d16-0ba7-4376-8109-d85302a202b0"},{"kind":"app_task","name":"SetHostsFile2","uuid":"69f111a1-5a87-4573-864a-302023211067"}],"attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Scale In","uuid":"6729ba18-2eb0-4dd8-90db-cb7f01a6dd93"},"edge_type":"user_defined","type":"","uuid":"abb12dce-f6f2-4229-bd63-b4404f541d0b","to_task_reference":{"kind":"app_task","name":"SetHostsFile3","uuid":"6e9c1d16-0ba7-4376-8109-d85302a202b0"}},{"from_task_reference":{"kind":"app_task","name":"Scale In","uuid":"6729ba18-2eb0-4dd8-90db-cb7f01a6dd93"},"edge_type":"user_defined","type":"","uuid":"e84c4d98-6d50-482f-943b-834513289d0c","to_task_reference":{"kind":"app_task","name":"SetHostsFile1","uuid":"d6354738-797f-4159-9988-c225a22490a9"}},{"from_task_reference":{"kind":"app_task","name":"Scale In","uuid":"6729ba18-2eb0-4dd8-90db-cb7f01a6dd93"},"edge_type":"user_defined","type":"","uuid":"aa88ec15-49b3-4034-b555-bab95fc21f2c","to_task_reference":{"kind":"app_task","name":"SetHostsFile2","uuid":"69f111a1-5a87-4573-864a-302023211067"}}],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"c90468d9_dag"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","uuid":"c1e0e021-7bc8-4713-b58b-f45507996b46","name":"fc5d23e3_deployment_cloned_1"},"retries":"0","description":"","uuid":"6729ba18-2eb0-4dd8-90db-cb7f01a6dd93","child_tasks_local_reference_list":[],"attrs":{"scaling_count":"@@{NODES_PER_REPLICA_SET}@@","type":"","scaling_type":"SCALEIN"},"timeout_secs":"0","type":"SCALING","variable_list":[],"name":"Scale In"},{"target_any_local_reference":{"kind":"app_service","uuid":"57337465-81f3-4470-86b8-b234707e1e9e","name":"Router"},"retries":"0","description":"","uuid":"d6354738-797f-4159-9988-c225a22490a9","child_tasks_local_reference_list":[],"attrs":{"script":"#!\/bin\/bash\nset -ex\n\ncat > \/tmp\/set-hostnames.py <<EOF\n#!\/usr\/bin\/python\nimport re\nconfig_ips=\"@@{GCPConfigSet.private_ip_address}@@\"\ndata_ips=\"@@{GCPDataSet.private_ip_address}@@\"\nrouter_ips=\"@@{calm_array_private_ip_address}@@\"\n\nhostfile = open('\/etc\/hosts', 'r').read()\nprint hostfile\nhostfile = re.sub('\\n#MONGODB-BEGIN.*?#MONGODB-END', '', hostfile, flags=re.DOTALL)\nhostfile += \"#MONGODB-BEGIN\\n\"\ncount=1\nfor ip in config_ips.split(','):\n  hostfile += ip + \" config\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in data_ips.split(','):\n  hostfile += ip + \" data\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in router_ips.split(','):\n  hostfile += ip + \" router\" + str(count) + \".mongodb\\n\"\n  count += 1\nhostfile += \"#MONGODB-END\\n\"\nopen('\/etc\/hosts', 'w').write(hostfile)\nEOF\n\nsudo python \/tmp\/set-hostnames.py","type":"","command_line_args":"","exit_status":[],"script_type":"sh"},"timeout_secs":"0","type":"EXEC","variable_list":[],"name":"SetHostsFile1"},{"target_any_local_reference":{"kind":"app_service","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47","name":"DataSet"},"retries":"0","description":"","uuid":"6e9c1d16-0ba7-4376-8109-d85302a202b0","child_tasks_local_reference_list":[],"attrs":{"script":"#!\/bin\/bash\nset -ex\n\ncat > \/tmp\/set-hostnames.py <<EOF\n#!\/usr\/bin\/python\nimport re\nconfig_ips=\"@@{GCPConfigSet.private_ip_address}@@\"\ndata_ips=\"@@{calm_array_private_ip_address}@@\"\nrouter_ips=\"@@{GCPRouter.private_ip_address}@@\"\n\nhostfile = open('\/etc\/hosts', 'r').read()\nprint hostfile\nhostfile = re.sub('\\n#MONGODB-BEGIN.*?#MONGODB-END', '', hostfile, flags=re.DOTALL)\nhostfile += \"#MONGODB-BEGIN\\n\"\ncount=1\nfor ip in config_ips.split(','):\n  hostfile += ip + \" config\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in data_ips.split(','):\n  hostfile += ip + \" data\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in router_ips.split(','):\n  hostfile += ip + \" router\" + str(count) + \".mongodb\\n\"\n  count += 1\nhostfile += \"#MONGODB-END\\n\"\nopen('\/etc\/hosts', 'w').write(hostfile)\nEOF\n\nsudo python \/tmp\/set-hostnames.py","type":"","command_line_args":"","exit_status":[],"script_type":"sh"},"timeout_secs":"0","type":"EXEC","variable_list":[],"name":"SetHostsFile3"},{"target_any_local_reference":{"kind":"app_service","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd","name":"ConfigSet"},"retries":"0","description":"","uuid":"69f111a1-5a87-4573-864a-302023211067","child_tasks_local_reference_list":[],"attrs":{"script":"#!\/bin\/bash\nset -ex\n\ncat > \/tmp\/set-hostnames.py <<EOF\n#!\/usr\/bin\/python\nimport re\nconfig_ips=\"@@{calm_array_private_ip_address}@@\"\ndata_ips=\"@@{GCPDataSet.private_ip_address}@@\"\nrouter_ips=\"@@{GCPRouter.private_ip_address}@@\"\n\nhostfile = open('\/etc\/hosts', 'r').read()\nprint hostfile\nhostfile = re.sub('\\n#MONGODB-BEGIN.*?#MONGODB-END', '', hostfile, flags=re.DOTALL)\nhostfile += \"#MONGODB-BEGIN\\n\"\ncount=1\nfor ip in config_ips.split(','):\n  hostfile += ip + \" config\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in data_ips.split(','):\n  hostfile += ip + \" data\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in router_ips.split(','):\n  hostfile += ip + \" router\" + str(count) + \".mongodb\\n\"\n  count += 1\nhostfile += \"#MONGODB-END\\n\"\nopen('\/etc\/hosts', 'w').write(hostfile)\nEOF\n\nsudo python \/tmp\/set-hostnames.py","type":"","command_line_args":"","exit_status":[],"script_type":"sh"},"timeout_secs":"0","type":"EXEC","variable_list":[],"name":"SetHostsFile2"}],"description":"","uuid":"baada8a7-f93c-4d2c-9790-05fe8aa15cb4","variable_list":[{"val_type":"STRING","uuid":"ca230480-1788-4330-961c-dbea3f6d61f8","name":"SHARD_TO_MOVE","value":"","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","description":""}],"main_task_local_reference":{"kind":"app_task","name":"c90468d9_dag","uuid":"c55851b6-af8a-4783-a5b5-c336697e2b03"},"name":"d27541f5_runbook_cloned_1"},"type":"user","uuid":"c20370cb-b25f-46bf-a326-24282f8fd558"}],"name":"GCP","variable_list":[{"val_type":"STRING","uuid":"e941f0e0-b1b1-4f58-83d2-017964f484b7","name":"MONGO_VERSION","value":"3.4.2","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","description":""},{"val_type":"STRING","uuid":"4aed553b-3a80-4603-8c3a-c30e0e9ee1af","name":"NODES_PER_REPLICA_SET","value":"3","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","description":""},{"val_type":"STRING","uuid":"0f93b0d3-4b5d-4bde-be31-2701c2011aa0","name":"DATA_PATH","value":"\/mongodb\/data","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","description":""},{"val_type":"STRING","uuid":"347916f5-44ba-4426-ae6b-ffc920f511f3","name":"JOURNAL_PATH","value":"\/mongodb\/journal","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","description":""},{"val_type":"STRING","uuid":"ba0e98d5-d62f-46cf-9b3e-d3a9a984dd34","name":"LOG_PATH","value":"\/mongodb\/log","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","description":""}],"uuid":"eaa1c75d-8de2-4f05-b88b-29a8434f2c44"},{"deployment_create_list":[{"max_replicas":"3","action_list":[],"package_local_reference_list":[{"kind":"app_package","name":"AzureRouterPackage","uuid":"d0dc31b0-2ee6-484a-b025-b0f9d437419b"}],"description":"","uuid":"7e59c5fb-0eef-40de-9bd5-982a0fb496bf","min_replicas":"3","editables":{"min_replicas":true,"max_replicas":true},"substrate_local_reference":{"kind":"app_substrate","name":"AzureRouter","uuid":"7c3d971c-23bd-4e2f-8fb0-93f1a45751e9"},"type":"GREENFIELD","variable_list":[],"name":"ad729820_deployment"},{"max_replicas":"3","action_list":[],"package_local_reference_list":[{"kind":"app_package","name":"AzureConfigSetPackage","uuid":"32aa87ce-6553-4fe1-b266-943390cceace"}],"description":"","uuid":"7795109d-944c-4a74-960c-c500272617f9","min_replicas":"3","editables":{"min_replicas":true,"max_replicas":true},"substrate_local_reference":{"kind":"app_substrate","name":"AzureConfigSet","uuid":"81d5239a-1d40-44b1-8dcc-01c5276fea58"},"type":"GREENFIELD","variable_list":[],"name":"d7afb99d_deployment"},{"max_replicas":"9","action_list":[],"package_local_reference_list":[{"kind":"app_package","name":"AzureDataSetPackage","uuid":"05329dce-ac77-4859-8af3-ce1d08c85f89"}],"description":"","uuid":"6700823d-13ca-4cb0-a901-264423409804","min_replicas":"3","editables":{"min_replicas":true,"max_replicas":true},"substrate_local_reference":{"kind":"app_substrate","name":"AzureDataSet","uuid":"a8c1760d-72af-4889-9407-0f1199c89e5d"},"type":"GREENFIELD","variable_list":[],"name":"5ec7b531_deployment"}],"description":"","action_list":[{"description":"","name":"ScaleOut","critical":false,"runbook":{"task_definition_list":[{"retries":"0","description":"","uuid":"d5ebc4b0-67ae-4ced-83b7-69ebd9b28293","child_tasks_local_reference_list":[{"kind":"app_task","name":"Scale Out","uuid":"597785f8-4bb2-4d5c-ba65-107f957e75c0"},{"kind":"app_task","name":"AddNewShard","uuid":"1a318ced-d208-482d-bb07-127f5dc72125"},{"kind":"app_task","name":"SetHostsFile2","uuid":"1d06d765-3db7-40ac-9aef-89bde49f0d30"},{"kind":"app_task","name":"SetHostsFile1","uuid":"0bb7bd04-0129-4c47-9089-2c69f15daca0"}],"attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Scale Out","uuid":"597785f8-4bb2-4d5c-ba65-107f957e75c0"},"edge_type":"user_defined","type":"","uuid":"9b0a00b1-70cd-4769-bc71-404fdd0ab8a9","to_task_reference":{"kind":"app_task","name":"SetHostsFile1","uuid":"0bb7bd04-0129-4c47-9089-2c69f15daca0"}},{"from_task_reference":{"kind":"app_task","name":"Scale Out","uuid":"597785f8-4bb2-4d5c-ba65-107f957e75c0"},"edge_type":"user_defined","type":"","uuid":"43bd7fdc-3937-45d7-857b-6cc4d4d7c7af","to_task_reference":{"kind":"app_task","name":"AddNewShard","uuid":"1a318ced-d208-482d-bb07-127f5dc72125"}},{"from_task_reference":{"kind":"app_task","name":"Scale Out","uuid":"597785f8-4bb2-4d5c-ba65-107f957e75c0"},"edge_type":"user_defined","type":"","uuid":"22ad6d2d-cbb7-411b-ac68-a8f4ea732cee","to_task_reference":{"kind":"app_task","name":"SetHostsFile2","uuid":"1d06d765-3db7-40ac-9aef-89bde49f0d30"}}],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"9bd81dbb_dag"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","uuid":"6700823d-13ca-4cb0-a901-264423409804","name":"5ec7b531_deployment"},"retries":"0","description":"","uuid":"597785f8-4bb2-4d5c-ba65-107f957e75c0","child_tasks_local_reference_list":[],"attrs":{"scaling_count":"@@{NODES_PER_REPLICA_SET}@@","type":"","scaling_type":"SCALEOUT"},"timeout_secs":"0","type":"SCALING","variable_list":[],"name":"Scale Out"},{"target_any_local_reference":{"kind":"app_service","uuid":"57337465-81f3-4470-86b8-b234707e1e9e","name":"Router"},"retries":"0","description":"","uuid":"1a318ced-d208-482d-bb07-127f5dc72125","child_tasks_local_reference_list":[],"attrs":{"script":"#!\/bin\/bash\nset -ex\n\ncat > \/tmp\/set-hostnames.py <<EOF\n#!\/usr\/bin\/python\nimport re\nconfig_ips=\"@@{AzureConfigSet.private_ip_address}@@\"\ndata_ips=\"@@{AzureDataSet.private_ip_address}@@\"\nrouter_ips=\"@@{calm_array_private_ip_address}@@\"\n\nhostfile = open('\/etc\/hosts', 'r').read()\nprint hostfile\nhostfile = re.sub('\\n#MONGODB-BEGIN.*?#MONGODB-END', '', hostfile, flags=re.DOTALL)\nhostfile += \"#MONGODB-BEGIN\\n\"\ncount=1\nfor ip in config_ips.split(','):\n  hostfile += ip + \" config\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in data_ips.split(','):\n  hostfile += ip + \" data\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in router_ips.split(','):\n  hostfile += ip + \" router\" + str(count) + \".mongodb\\n\"\n  count += 1\nhostfile += \"#MONGODB-END\\n\"\nopen('\/etc\/hosts', 'w').write(hostfile)\nEOF\n\nsudo python \/tmp\/set-hostnames.py\n\nNODES_PER_REPLICA_SET=\"@@{NODES_PER_REPLICA_SET}@@\"\nINTERNAL_IP=\"@@{private_ip_address}@@\"\nREPLICA_IPS=($(echo @@{DataSet.private_ip_address}@@ | sed 's\/^,\/\/' | sed 's\/,$\/\/' | tr \",\" \"\\n\"))\nnoOfShards=$((${#REPLICA_IPS[@]}\/${NODES_PER_REPLICA_SET}))\n\ncount=0\nfor ((number=1;number <= $noOfShards;number++))\ndo\n  replicaSetName=\"dataReplSet${number}\"\n  sudo mongo --host ${INTERNAL_IP} --port 27017 --eval \"sh.addShard( \\\"$replicaSetName\/${REPLICA_IPS[${count}]}:27017\\\" )\"\n  count=$(($count + ${NODES_PER_REPLICA_SET}))\ndone","type":"","command_line_args":"","exit_status":[],"script_type":"sh"},"timeout_secs":"0","type":"EXEC","variable_list":[],"name":"AddNewShard"},{"target_any_local_reference":{"kind":"app_service","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd","name":"ConfigSet"},"retries":"0","description":"","uuid":"1d06d765-3db7-40ac-9aef-89bde49f0d30","child_tasks_local_reference_list":[],"attrs":{"script":"#!\/bin\/bash\nset -ex\n\ncat > \/tmp\/set-hostnames.py <<EOF\n#!\/usr\/bin\/python\nimport re\nconfig_ips=\"@@{calm_array_private_ip_address}@@\"\ndata_ips=\"@@{AzureDataSet.private_ip_address}@@\"\nrouter_ips=\"@@{AzureRouter.private_ip_address}@@\"\n\nhostfile = open('\/etc\/hosts', 'r').read()\nprint hostfile\nhostfile = re.sub('\\n#MONGODB-BEGIN.*?#MONGODB-END', '', hostfile, flags=re.DOTALL)\nhostfile += \"#MONGODB-BEGIN\\n\"\ncount=1\nfor ip in config_ips.split(','):\n  hostfile += ip + \" config\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in data_ips.split(','):\n  hostfile += ip + \" data\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in router_ips.split(','):\n  hostfile += ip + \" router\" + str(count) + \".mongodb\\n\"\n  count += 1\nhostfile += \"#MONGODB-END\\n\"\nopen('\/etc\/hosts', 'w').write(hostfile)\nEOF\n\nsudo python \/tmp\/set-hostnames.py","type":"","command_line_args":"","exit_status":[],"script_type":"sh"},"timeout_secs":"0","type":"EXEC","variable_list":[],"name":"SetHostsFile2"},{"target_any_local_reference":{"kind":"app_service","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47","name":"DataSet"},"retries":"0","description":"","uuid":"0bb7bd04-0129-4c47-9089-2c69f15daca0","child_tasks_local_reference_list":[],"attrs":{"script":"#!\/bin\/bash\nset -ex\n\ncat > \/tmp\/set-hostnames.py <<EOF\n#!\/usr\/bin\/python\nimport re\nconfig_ips=\"@@{AzureConfigSet.private_ip_address}@@\"\ndata_ips=\"@@{calm_array_private_ip_address}@@\"\nrouter_ips=\"@@{AzureRouter.private_ip_address}@@\"\n\nhostfile = open('\/etc\/hosts', 'r').read()\nprint hostfile\nhostfile = re.sub('\\n#MONGODB-BEGIN.*?#MONGODB-END', '', hostfile, flags=re.DOTALL)\nhostfile += \"#MONGODB-BEGIN\\n\"\ncount=1\nfor ip in config_ips.split(','):\n  hostfile += ip + \" config\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in data_ips.split(','):\n  hostfile += ip + \" data\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in router_ips.split(','):\n  hostfile += ip + \" router\" + str(count) + \".mongodb\\n\"\n  count += 1\nhostfile += \"#MONGODB-END\\n\"\nopen('\/etc\/hosts', 'w').write(hostfile)\nEOF\n\nsudo python \/tmp\/set-hostnames.py","type":"","command_line_args":"","exit_status":[],"script_type":"sh"},"timeout_secs":"0","type":"EXEC","variable_list":[],"name":"SetHostsFile1"}],"description":"","uuid":"ea9e588e-d7aa-4c42-90ad-900b7770b910","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"9bd81dbb_dag","uuid":"d5ebc4b0-67ae-4ced-83b7-69ebd9b28293"},"name":"d1e4c363_runbook"},"type":"user","uuid":"bbe78db1-89c3-41eb-ba30-6fa32dc0b779"},{"description":"","name":"ScaleIn","critical":false,"runbook":{"task_definition_list":[{"retries":"0","description":"","uuid":"d9dbaadf-b4c3-4879-8f29-394595ee911f","child_tasks_local_reference_list":[{"kind":"app_task","name":"Scale In","uuid":"bc64d29e-13bd-46db-ab85-6f39bb522bd4"},{"kind":"app_task","name":"SetHostsFile1","uuid":"0504a22f-f22b-434c-a3a0-4bbe46a0e092"},{"kind":"app_task","name":"SetHostsFile2","uuid":"b2b80eae-6a3e-467b-adaf-a47d443f00b1"},{"kind":"app_task","name":"AddNewShard","uuid":"2c520e72-8759-4de0-9b45-6226cca227d0"}],"attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Scale In","uuid":"bc64d29e-13bd-46db-ab85-6f39bb522bd4"},"edge_type":"user_defined","type":"","uuid":"81def5a6-9d70-46da-9bf3-d46178d059d6","to_task_reference":{"kind":"app_task","name":"SetHostsFile1","uuid":"0504a22f-f22b-434c-a3a0-4bbe46a0e092"}},{"from_task_reference":{"kind":"app_task","name":"Scale In","uuid":"bc64d29e-13bd-46db-ab85-6f39bb522bd4"},"edge_type":"user_defined","type":"","uuid":"1c1445f6-2e3d-404a-9637-e2fbbacc1dec","to_task_reference":{"kind":"app_task","name":"AddNewShard","uuid":"2c520e72-8759-4de0-9b45-6226cca227d0"}},{"from_task_reference":{"kind":"app_task","name":"Scale In","uuid":"bc64d29e-13bd-46db-ab85-6f39bb522bd4"},"edge_type":"user_defined","type":"","uuid":"e162375e-fe35-41d6-877b-ffb41de11c48","to_task_reference":{"kind":"app_task","name":"SetHostsFile2","uuid":"b2b80eae-6a3e-467b-adaf-a47d443f00b1"}}],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"9bd81dbb_dag"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","uuid":"6700823d-13ca-4cb0-a901-264423409804","name":"5ec7b531_deployment"},"retries":"0","description":"","uuid":"bc64d29e-13bd-46db-ab85-6f39bb522bd4","child_tasks_local_reference_list":[],"attrs":{"scaling_count":"@@{NODES_PER_REPLICA_SET}@@","type":"","scaling_type":"SCALEIN"},"timeout_secs":"0","type":"SCALING","variable_list":[],"name":"Scale In"},{"target_any_local_reference":{"kind":"app_service","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47","name":"DataSet"},"retries":"0","description":"","uuid":"0504a22f-f22b-434c-a3a0-4bbe46a0e092","child_tasks_local_reference_list":[],"attrs":{"script":"#!\/bin\/bash\nset -ex\n\ncat > \/tmp\/set-hostnames.py <<EOF\n#!\/usr\/bin\/python\nimport re\nconfig_ips=\"@@{AzureConfigSet.private_ip_address}@@\"\ndata_ips=\"@@{calm_array_private_ip_address}@@\"\nrouter_ips=\"@@{AzureRouter.private_ip_address}@@\"\n\nhostfile = open('\/etc\/hosts', 'r').read()\nprint hostfile\nhostfile = re.sub('\\n#MONGODB-BEGIN.*?#MONGODB-END', '', hostfile, flags=re.DOTALL)\nhostfile += \"#MONGODB-BEGIN\\n\"\ncount=1\nfor ip in config_ips.split(','):\n  hostfile += ip + \" config\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in data_ips.split(','):\n  hostfile += ip + \" data\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in router_ips.split(','):\n  hostfile += ip + \" router\" + str(count) + \".mongodb\\n\"\n  count += 1\nhostfile += \"#MONGODB-END\\n\"\nopen('\/etc\/hosts', 'w').write(hostfile)\nEOF\n\nsudo python \/tmp\/set-hostnames.py","type":"","command_line_args":"","exit_status":[],"script_type":"sh"},"timeout_secs":"0","type":"EXEC","variable_list":[],"name":"SetHostsFile1"},{"target_any_local_reference":{"kind":"app_service","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd","name":"ConfigSet"},"retries":"0","description":"","uuid":"b2b80eae-6a3e-467b-adaf-a47d443f00b1","child_tasks_local_reference_list":[],"attrs":{"script":"#!\/bin\/bash\nset -ex\n\ncat > \/tmp\/set-hostnames.py <<EOF\n#!\/usr\/bin\/python\nimport re\nconfig_ips=\"@@{calm_array_private_ip_address}@@\"\ndata_ips=\"@@{AzureDataSet.private_ip_address}@@\"\nrouter_ips=\"@@{AzureRouter.private_ip_address}@@\"\n\nhostfile = open('\/etc\/hosts', 'r').read()\nprint hostfile\nhostfile = re.sub('\\n#MONGODB-BEGIN.*?#MONGODB-END', '', hostfile, flags=re.DOTALL)\nhostfile += \"#MONGODB-BEGIN\\n\"\ncount=1\nfor ip in config_ips.split(','):\n  hostfile += ip + \" config\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in data_ips.split(','):\n  hostfile += ip + \" data\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in router_ips.split(','):\n  hostfile += ip + \" router\" + str(count) + \".mongodb\\n\"\n  count += 1\nhostfile += \"#MONGODB-END\\n\"\nopen('\/etc\/hosts', 'w').write(hostfile)\nEOF\n\nsudo python \/tmp\/set-hostnames.py","type":"","command_line_args":"","exit_status":[],"script_type":"sh"},"timeout_secs":"0","type":"EXEC","variable_list":[],"name":"SetHostsFile2"},{"target_any_local_reference":{"kind":"app_service","uuid":"57337465-81f3-4470-86b8-b234707e1e9e","name":"Router"},"retries":"0","description":"","uuid":"2c520e72-8759-4de0-9b45-6226cca227d0","child_tasks_local_reference_list":[],"attrs":{"script":"#!\/bin\/bash\nset -ex\n\ncat > \/tmp\/set-hostnames.py <<EOF\n#!\/usr\/bin\/python\nimport re\nconfig_ips=\"@@{AzureConfigSet.private_ip_address}@@\"\ndata_ips=\"@@{AzureDataSet.private_ip_address}@@\"\nrouter_ips=\"@@{calm_array_private_ip_address}@@\"\n\nhostfile = open('\/etc\/hosts', 'r').read()\nprint hostfile\nhostfile = re.sub('\\n#MONGODB-BEGIN.*?#MONGODB-END', '', hostfile, flags=re.DOTALL)\nhostfile += \"#MONGODB-BEGIN\\n\"\ncount=1\nfor ip in config_ips.split(','):\n  hostfile += ip + \" config\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in data_ips.split(','):\n  hostfile += ip + \" data\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in router_ips.split(','):\n  hostfile += ip + \" router\" + str(count) + \".mongodb\\n\"\n  count += 1\nhostfile += \"#MONGODB-END\\n\"\nopen('\/etc\/hosts', 'w').write(hostfile)\nEOF\n\nsudo python \/tmp\/set-hostnames.py\n\nNODES_PER_REPLICA_SET=\"@@{NODES_PER_REPLICA_SET}@@\"\nINTERNAL_IP=\"@@{private_ip_address}@@\"\nREPLICA_IPS=($(echo @@{DataSet.private_ip_address}@@ | sed 's\/^,\/\/' | sed 's\/,$\/\/' | tr \",\" \"\\n\"))\nnoOfShards=$((${#REPLICA_IPS[@]}\/${NODES_PER_REPLICA_SET}))\n\ncount=0\nfor ((number=1;number <= $noOfShards;number++))\ndo\n  replicaSetName=\"dataReplSet${number}\"\n  sudo mongo --host ${INTERNAL_IP} --port 27017 --eval \"sh.addShard( \\\"$replicaSetName\/${REPLICA_IPS[${count}]}:27017\\\" )\"\n  count=$(($count + ${NODES_PER_REPLICA_SET}))\ndone","type":"","command_line_args":"","exit_status":[],"script_type":"sh"},"timeout_secs":"0","type":"EXEC","variable_list":[],"name":"AddNewShard"}],"description":"","uuid":"7e848dac-ddc5-4076-8d29-3422f77f1200","variable_list":[{"val_type":"STRING","uuid":"450ee7cb-32b4-447d-bbfb-f61d7e3a1c2a","name":"SHARD_TO_MOVE","value":"","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","description":""}],"main_task_local_reference":{"kind":"app_task","name":"9bd81dbb_dag","uuid":"d9dbaadf-b4c3-4879-8f29-394595ee911f"},"name":"d1e4c363_runbook_cloned_1"},"type":"user","uuid":"c7cb2f91-f01f-416c-b5e4-b0b9f264a644"}],"name":"Azure","variable_list":[{"val_type":"STRING","uuid":"06ed6a0e-6121-4cde-9094-3dfc4781c0f5","name":"MONGO_VERSION","value":"3.4.2","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","description":""},{"val_type":"STRING","uuid":"f5539f12-45b5-4697-a082-5aad728f859f","name":"NODES_PER_REPLICA_SET","value":"3","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","description":""},{"val_type":"STRING","uuid":"c9890df3-80c8-4d1f-ba3b-6f6ce53d9085","name":"DATA_PATH","value":"\/mongodb\/data","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","description":""},{"val_type":"STRING","uuid":"13edb763-3c3d-413f-a6c5-d53b0e014aaa","name":"JOURNAL_PATH","value":"\/mongodb\/journal","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","description":""},{"val_type":"STRING","uuid":"b93e3a39-2bf6-4dd8-a080-364b51941402","name":"LOG_PATH","value":"\/mongodb\/log","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","description":""}],"uuid":"94bade82-456e-4a0e-b2ba-7ecdd07caf11"},{"deployment_create_list":[{"max_replicas":"3","action_list":[],"package_local_reference_list":[{"kind":"app_package","uuid":"1d15cc5e-8151-a486-a729-df1537d0319b"}],"description":"","uuid":"11478ea3-cf94-ab6e-557f-11c7c9a20f08","min_replicas":"3","editables":{"min_replicas":true,"max_replicas":true},"substrate_local_reference":{"kind":"app_substrate","uuid":"25161802-9ed5-60fa-2a85-553c7df9e7e7"},"type":"GREENFIELD","variable_list":[],"name":"ff4974a5_deployment_cloned_0"},{"max_replicas":"3","action_list":[],"package_local_reference_list":[{"kind":"app_package","uuid":"d9461450-276b-14d1-d8b7-4406aacb2683"}],"description":"","uuid":"b420b9ba-66ee-e04a-66f1-05407109321f","min_replicas":"3","editables":{"min_replicas":true,"max_replicas":true},"substrate_local_reference":{"kind":"app_substrate","uuid":"2b99298d-b852-5bda-2c5b-9bc3b7f800e4"},"type":"GREENFIELD","variable_list":[],"name":"86730684_deployment_cloned_0"},{"max_replicas":"9","action_list":[],"package_local_reference_list":[{"kind":"app_package","uuid":"13a01a7a-0d41-ac0c-8633-f3c237ff2124"}],"description":"","uuid":"373c3814-2386-4ef3-9514-7b319066044b","min_replicas":"3","editables":{"min_replicas":true,"max_replicas":true},"substrate_local_reference":{"kind":"app_substrate","uuid":"06f22add-e66c-670a-443c-c6fb6a86018d"},"type":"GREENFIELD","variable_list":[],"name":"fc5d23e3_deployment_cloned_0"}],"description":"","action_list":[{"description":"","name":"ScaleOut","critical":false,"runbook":{"task_definition_list":[{"retries":"0","description":"","uuid":"b545ef1a-13e6-8ba9-a818-888a57ff41de","child_tasks_local_reference_list":[{"kind":"app_task","uuid":"d6e93cc2-89d5-6ba1-e859-c6d1b0aa71f7"},{"kind":"app_task","uuid":"8ace5380-3752-5f12-93ae-abd12ad6b3ec"},{"kind":"app_task","uuid":"4b812121-4c06-f64e-bc52-a2a24b54c3c4"},{"kind":"app_task","uuid":"82778ee2-1af8-87f3-c6a5-aa6b17cccc3c"}],"attrs":{"edges":[{"from_task_reference":{"kind":"app_task","uuid":"d6e93cc2-89d5-6ba1-e859-c6d1b0aa71f7"},"edge_type":"user_defined","type":"","uuid":"6bc1f3ab-861a-54a7-021c-029f80dc290f","to_task_reference":{"kind":"app_task","uuid":"8ace5380-3752-5f12-93ae-abd12ad6b3ec"}},{"from_task_reference":{"kind":"app_task","uuid":"d6e93cc2-89d5-6ba1-e859-c6d1b0aa71f7"},"edge_type":"user_defined","type":"","uuid":"0869320d-80ab-87eb-a521-e0053dced058","to_task_reference":{"kind":"app_task","uuid":"4b812121-4c06-f64e-bc52-a2a24b54c3c4"}},{"from_task_reference":{"kind":"app_task","uuid":"d6e93cc2-89d5-6ba1-e859-c6d1b0aa71f7"},"edge_type":"user_defined","type":"","uuid":"19c7b9f4-5129-340f-24e4-bd011fa3f268","to_task_reference":{"kind":"app_task","uuid":"82778ee2-1af8-87f3-c6a5-aa6b17cccc3c"}}],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"c03e1222_dag_cloned_1"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","uuid":"373c3814-2386-4ef3-9514-7b319066044b"},"retries":"0","description":"","uuid":"d6e93cc2-89d5-6ba1-e859-c6d1b0aa71f7","child_tasks_local_reference_list":[],"attrs":{"scaling_count":"@@{NODES_PER_REPLICA_SET}@@","type":"","scaling_type":"SCALEOUT"},"timeout_secs":"0","type":"SCALING","variable_list":[],"name":"Scale Out"},{"target_any_local_reference":{"kind":"app_service","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","uuid":"8ace5380-3752-5f12-93ae-abd12ad6b3ec","child_tasks_local_reference_list":[],"attrs":{"exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\ncat > \/tmp\/set-hostnames.py <<EOF\n#!\/usr\/bin\/python\nimport re\nconfig_ips=\"@@{VMwareConfigSet.address}@@\"\ndata_ips=\"@@{VMwareDataSet.address}@@\"\nrouter_ips=\"@@{calm_array_address}@@\"\n\nhostfile = open('\/etc\/hosts', 'r').read()\nprint hostfile\nhostfile = re.sub('\\n#MONGODB-BEGIN.*?#MONGODB-END', '', hostfile, flags=re.DOTALL)\nhostfile += \"#MONGODB-BEGIN\\n\"\ncount=1\nfor ip in config_ips.split(','):\n  hostfile += ip + \" config\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in data_ips.split(','):\n  hostfile += ip + \" data\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in router_ips.split(','):\n  hostfile += ip + \" router\" + str(count) + \".mongodb\\n\"\n  count += 1\nhostfile += \"#MONGODB-END\\n\"\nopen('\/etc\/hosts', 'w').write(hostfile)\nEOF\n\nsudo python \/tmp\/set-hostnames.py\n\nNODES_PER_REPLICA_SET=\"@@{NODES_PER_REPLICA_SET}@@\"\nINTERNAL_IP=\"@@{address}@@\"\nREPLICA_IPS=($(echo @@{DataSet.address}@@ | sed 's\/^,\/\/' | sed 's\/,$\/\/' | tr \",\" \"\\n\"))\nnoOfShards=$((${#REPLICA_IPS[@]}\/${NODES_PER_REPLICA_SET}))\n\ncount=0\nfor ((number=1;number <= $noOfShards;number++))\ndo\n  replicaSetName=\"dataReplSet${number}\"\n  sudo mongo --host ${INTERNAL_IP} --port 27017 --eval \"sh.addShard( \\\"$replicaSetName\/${REPLICA_IPS[${count}]}:27017\\\" )\"\n  count=$(($count + ${NODES_PER_REPLICA_SET}))\ndone","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","uuid":"43f2dfc8-f9f0-4085-9434-cf67cd57cdae"}},"timeout_secs":"0","type":"EXEC","variable_list":[],"name":"AddNewShard"},{"target_any_local_reference":{"kind":"app_service","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","uuid":"4b812121-4c06-f64e-bc52-a2a24b54c3c4","child_tasks_local_reference_list":[],"attrs":{"script":"#!\/bin\/bash\nset -ex\n\ncat > \/tmp\/set-hostnames.py <<EOF\n#!\/usr\/bin\/python\nimport re\nconfig_ips=\"@@{calm_array_address}@@\"\ndata_ips=\"@@{VMwareDataSet.address}@@\"\nrouter_ips=\"@@{VMwareRouter.address}@@\"\n\nhostfile = open('\/etc\/hosts', 'r').read()\nprint hostfile\nhostfile = re.sub('\\n#MONGODB-BEGIN.*?#MONGODB-END', '', hostfile, flags=re.DOTALL)\nhostfile += \"#MONGODB-BEGIN\\n\"\ncount=1\nfor ip in config_ips.split(','):\n  hostfile += ip + \" config\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in data_ips.split(','):\n  hostfile += ip + \" data\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in router_ips.split(','):\n  hostfile += ip + \" router\" + str(count) + \".mongodb\\n\"\n  count += 1\nhostfile += \"#MONGODB-END\\n\"\nopen('\/etc\/hosts', 'w').write(hostfile)\nEOF\n\nsudo python \/tmp\/set-hostnames.py","type":"","command_line_args":"","exit_status":[],"script_type":"sh"},"timeout_secs":"0","type":"EXEC","variable_list":[],"name":"SetHostsFile2"},{"target_any_local_reference":{"kind":"app_service","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","uuid":"82778ee2-1af8-87f3-c6a5-aa6b17cccc3c","child_tasks_local_reference_list":[],"attrs":{"script":"#!\/bin\/bash\nset -ex\n\ncat > \/tmp\/set-hostnames.py <<EOF\n#!\/usr\/bin\/python\nimport re\nconfig_ips=\"@@{VMwareConfigSet.address}@@\"\ndata_ips=\"@@{calm_array_address}@@\"\nrouter_ips=\"@@{VMwareRouter.address}@@\"\n\nhostfile = open('\/etc\/hosts', 'r').read()\nprint hostfile\nhostfile = re.sub('\\n#MONGODB-BEGIN.*?#MONGODB-END', '', hostfile, flags=re.DOTALL)\nhostfile += \"#MONGODB-BEGIN\\n\"\ncount=1\nfor ip in config_ips.split(','):\n  hostfile += ip + \" config\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in data_ips.split(','):\n  hostfile += ip + \" data\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in router_ips.split(','):\n  hostfile += ip + \" router\" + str(count) + \".mongodb\\n\"\n  count += 1\nhostfile += \"#MONGODB-END\\n\"\nopen('\/etc\/hosts', 'w').write(hostfile)\nEOF\n\nsudo python \/tmp\/set-hostnames.py","type":"","command_line_args":"","exit_status":[],"script_type":"sh"},"timeout_secs":"0","type":"EXEC","variable_list":[],"name":"SetHostsFile1"}],"description":"","uuid":"d06cefbf-3144-acc6-0154-44fa35717f65","variable_list":[],"main_task_local_reference":{"kind":"app_task","uuid":"b545ef1a-13e6-8ba9-a818-888a57ff41de"},"name":"f0b90ba7_runbook_cloned_0"},"type":"user","uuid":"98771fa7-d3b6-c296-c9cc-7137c029c205"},{"description":"","name":"ScaleIn","critical":false,"runbook":{"task_definition_list":[{"retries":"0","description":"","uuid":"23c26f26-2fac-1bbc-b28d-baaec0606b1e","child_tasks_local_reference_list":[{"kind":"app_task","uuid":"1e6a21ad-a1be-1352-981f-cfc37a324fd9"},{"kind":"app_task","uuid":"53c9d34d-70a2-0104-274d-01f92d894364"},{"kind":"app_task","uuid":"726ca309-a0f3-5152-c074-f8b8d9e7e12e"},{"kind":"app_task","uuid":"b580b527-99d3-8adb-7dd4-8537decd733b"}],"attrs":{"edges":[{"from_task_reference":{"kind":"app_task","uuid":"1e6a21ad-a1be-1352-981f-cfc37a324fd9"},"edge_type":"user_defined","type":"","uuid":"773a0201-42eb-7a4c-deb6-52c461e36b5e","to_task_reference":{"kind":"app_task","uuid":"b580b527-99d3-8adb-7dd4-8537decd733b"}},{"from_task_reference":{"kind":"app_task","uuid":"1e6a21ad-a1be-1352-981f-cfc37a324fd9"},"edge_type":"user_defined","type":"","uuid":"8e6896df-52f1-740c-1142-0ee2b7dc5f57","to_task_reference":{"kind":"app_task","uuid":"726ca309-a0f3-5152-c074-f8b8d9e7e12e"}},{"from_task_reference":{"kind":"app_task","uuid":"1e6a21ad-a1be-1352-981f-cfc37a324fd9"},"edge_type":"user_defined","type":"","uuid":"15e581e1-22cd-34bd-746d-3c6c485a15ea","to_task_reference":{"kind":"app_task","uuid":"53c9d34d-70a2-0104-274d-01f92d894364"}}],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"c90468d9_dag_cloned_1"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","uuid":"373c3814-2386-4ef3-9514-7b319066044b"},"retries":"0","description":"","uuid":"1e6a21ad-a1be-1352-981f-cfc37a324fd9","child_tasks_local_reference_list":[],"attrs":{"scaling_count":"@@{NODES_PER_REPLICA_SET}@@","type":"","scaling_type":"SCALEIN"},"timeout_secs":"0","type":"SCALING","variable_list":[],"name":"Scale In"},{"target_any_local_reference":{"kind":"app_service","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","description":"","uuid":"53c9d34d-70a2-0104-274d-01f92d894364","child_tasks_local_reference_list":[],"attrs":{"script":"#!\/bin\/bash\nset -ex\n\ncat > \/tmp\/set-hostnames.py <<EOF\n#!\/usr\/bin\/python\nimport re\nconfig_ips=\"@@{calm_array_address}@@\"\ndata_ips=\"@@{VMwareDataSet.address}@@\"\nrouter_ips=\"@@{VMwareRouter.address}@@\"\n\nhostfile = open('\/etc\/hosts', 'r').read()\nprint hostfile\nhostfile = re.sub('\\n#MONGODB-BEGIN.*?#MONGODB-END', '', hostfile, flags=re.DOTALL)\nhostfile += \"#MONGODB-BEGIN\\n\"\ncount=1\nfor ip in config_ips.split(','):\n  hostfile += ip + \" config\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in data_ips.split(','):\n  hostfile += ip + \" data\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in router_ips.split(','):\n  hostfile += ip + \" router\" + str(count) + \".mongodb\\n\"\n  count += 1\nhostfile += \"#MONGODB-END\\n\"\nopen('\/etc\/hosts', 'w').write(hostfile)\nEOF\n\nsudo python \/tmp\/set-hostnames.py","type":"","command_line_args":"","exit_status":[],"script_type":"sh"},"timeout_secs":"0","type":"EXEC","variable_list":[],"name":"SetHostsFile2"},{"target_any_local_reference":{"kind":"app_service","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","description":"","uuid":"726ca309-a0f3-5152-c074-f8b8d9e7e12e","child_tasks_local_reference_list":[],"attrs":{"script":"#!\/bin\/bash\nset -ex\n\ncat > \/tmp\/set-hostnames.py <<EOF\n#!\/usr\/bin\/python\nimport re\nconfig_ips=\"@@{VMwareConfigSet.address}@@\"\ndata_ips=\"@@{VMwareDataSet.address}@@\"\nrouter_ips=\"@@{calm_array_address}@@\"\n\nhostfile = open('\/etc\/hosts', 'r').read()\nprint hostfile\nhostfile = re.sub('\\n#MONGODB-BEGIN.*?#MONGODB-END', '', hostfile, flags=re.DOTALL)\nhostfile += \"#MONGODB-BEGIN\\n\"\ncount=1\nfor ip in config_ips.split(','):\n  hostfile += ip + \" config\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in data_ips.split(','):\n  hostfile += ip + \" data\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in router_ips.split(','):\n  hostfile += ip + \" router\" + str(count) + \".mongodb\\n\"\n  count += 1\nhostfile += \"#MONGODB-END\\n\"\nopen('\/etc\/hosts', 'w').write(hostfile)\nEOF\n\nsudo python \/tmp\/set-hostnames.py","type":"","command_line_args":"","exit_status":[],"script_type":"sh"},"timeout_secs":"0","type":"EXEC","variable_list":[],"name":"SetHostsFile1"},{"target_any_local_reference":{"kind":"app_service","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","description":"","uuid":"b580b527-99d3-8adb-7dd4-8537decd733b","child_tasks_local_reference_list":[],"attrs":{"script":"#!\/bin\/bash\nset -ex\n\ncat > \/tmp\/set-hostnames.py <<EOF\n#!\/usr\/bin\/python\nimport re\nconfig_ips=\"@@{VMwareConfigSet.address}@@\"\ndata_ips=\"@@{calm_array_address}@@\"\nrouter_ips=\"@@{VMwareRouter.address}@@\"\n\nhostfile = open('\/etc\/hosts', 'r').read()\nprint hostfile\nhostfile = re.sub('\\n#MONGODB-BEGIN.*?#MONGODB-END', '', hostfile, flags=re.DOTALL)\nhostfile += \"#MONGODB-BEGIN\\n\"\ncount=1\nfor ip in config_ips.split(','):\n  hostfile += ip + \" config\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in data_ips.split(','):\n  hostfile += ip + \" data\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in router_ips.split(','):\n  hostfile += ip + \" router\" + str(count) + \".mongodb\\n\"\n  count += 1\nhostfile += \"#MONGODB-END\\n\"\nopen('\/etc\/hosts', 'w').write(hostfile)\nEOF\n\nsudo python \/tmp\/set-hostnames.py","type":"","command_line_args":"","exit_status":[],"script_type":"sh"},"timeout_secs":"0","type":"EXEC","variable_list":[],"name":"SetHostsFile3"}],"description":"","uuid":"3e8d2cb9-3470-e604-06a6-c9cef2167a94","variable_list":[{"val_type":"STRING","uuid":"16d34989-90d9-1473-1630-e9733f4f07d8","name":"SHARD_TO_MOVE","value":"","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","description":""}],"main_task_local_reference":{"kind":"app_task","uuid":"23c26f26-2fac-1bbc-b28d-baaec0606b1e"},"name":"d27541f5_runbook_cloned_0"},"type":"user","uuid":"5efc755c-bd5b-0c8a-9661-13cb25173efc"}],"name":"VMware","variable_list":[{"val_type":"STRING","uuid":"9583d2b7-cbe1-f334-84e9-1234c5b0de3d","name":"MONGO_VERSION","value":"3.4.2","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","description":""},{"val_type":"STRING","uuid":"40c44be2-7c3e-6dc4-3164-f3002e3be9c2","name":"NODES_PER_REPLICA_SET","value":"3","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","description":""},{"val_type":"STRING","uuid":"d417ff7e-bbc9-3fae-cd10-46c463b56b5e","name":"DATA_PATH","value":"\/mongodb\/data","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","description":""},{"val_type":"STRING","uuid":"a53c3940-ff16-4356-4b20-473e0bd1456d","name":"JOURNAL_PATH","value":"\/mongodb\/journal","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","description":""},{"val_type":"STRING","uuid":"b18136aa-d7c2-9b9b-a3bf-325ea27b2567","name":"LOG_PATH","value":"\/mongodb\/log","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","description":""}],"uuid":"072a0d12-8639-c2d1-16d9-9def5af5fb59"}],"default_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"43f2dfc8-f9f0-4085-9434-cf67cd57cdae"},"package_definition_list":[{"uuid":"a5843e3f-6aa0-452e-801b-2940a59c8f83","action_list":[],"service_local_reference_list":[{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"}],"name":"AHVRouterPackage","version":"","type":"DEB","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVRouterPackage","uuid":"a5843e3f-6aa0-452e-801b-2940a59c8f83"},"retries":"0","name":"300a2866_dag","type":"DAG","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"Router Install","uuid":"c1c679cd-56d0-4261-884c-654591ef3ba5"},{"kind":"app_task","name":"Router Configure","uuid":"922fe594-e73f-4591-8d31-a53cf96f2a25"},{"kind":"app_task","name":"Start Shard","uuid":"b4d6cb7a-a660-4a7a-9c5e-c998fd33dd26"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Router Install","uuid":"c1c679cd-56d0-4261-884c-654591ef3ba5"},"edge_type":"user_defined","type":"","uuid":"1fc9e78b-fb4d-4140-bee3-b668c5625486","to_task_reference":{"kind":"app_task","name":"Router Configure","uuid":"922fe594-e73f-4591-8d31-a53cf96f2a25"}},{"from_task_reference":{"kind":"app_task","name":"Router Configure","uuid":"922fe594-e73f-4591-8d31-a53cf96f2a25"},"edge_type":"user_defined","type":"","uuid":"610b6bbf-a0e1-4e88-81b6-a4ae8154276a","to_task_reference":{"kind":"app_task","name":"Start Shard","uuid":"b4d6cb7a-a660-4a7a-9c5e-c998fd33dd26"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"6fedbca0-d367-4048-9d7d-05cbc350ad86"},{"target_any_local_reference":{"kind":"app_package","name":"AHVRouterPackage","uuid":"a5843e3f-6aa0-452e-801b-2940a59c8f83"},"retries":"0","name":"Router Install","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nVERSION=\"@@{MONGO_VERSION}@@\"\nDATA_PATH=\"@@{DATA_PATH}@@\"\nJOURNAL_PATH=\"@@{JOURNAL_PATH}@@\"\nLOG_PATH=\"@@{LOG_PATH}@@\"\nsudo hostnamectl set-hostname --static @@{name}@@\n\ncat > \/tmp\/set-hostnames.py <<EOF\n#!\/usr\/bin\/python\nimport re\nconfig_ips=\"@@{AHVConfigSet.address}@@\"\ndata_ips=\"@@{AHVDataSet.address}@@\"\nrouter_ips=\"@@{calm_array_address}@@\"\n\nhostfile = open('\/etc\/hosts', 'r').read()\nprint hostfile\nhostfile = re.sub('\\n#MONGODB-BEGIN.*?#MONGODB-END', '', hostfile, flags=re.DOTALL)\nhostfile += \"#MONGODB-BEGIN\\n\"\ncount=1\nfor ip in config_ips.split(','):\n  hostfile += ip + \" config\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in data_ips.split(','):\n  hostfile += ip + \" data\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in router_ips.split(','):\n  hostfile += ip + \" router\" + str(count) + \".mongodb\\n\"\n  count += 1\nhostfile += \"#MONGODB-END\\n\"\nopen('\/etc\/hosts', 'w').write(hostfile)\nEOF\n\nsudo python \/tmp\/set-hostnames.py\n\nif [[ -f \/sys\/kernel\/mm\/transparent_hugepage\/enabled ]];then\n\techo never | sudo tee \/sys\/kernel\/mm\/transparent_hugepage\/enabled\nfi\nif [[ -f \/sys\/kernel\/mm\/transparent_hugepage\/defrag ]];then\n\techo never | sudo tee \/sys\/kernel\/mm\/transparent_hugepage\/defrag\nfi\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho '[mongodb-org-3.4]\nname=MongoDB Repository\nbaseurl=https:\/\/repo.mongodb.org\/yum\/redhat\/$releasever\/mongodb-org\/3.4\/x86_64\/\ngpgcheck=1\nenabled=1\ngpgkey=https:\/\/www.mongodb.org\/static\/pgp\/server-3.4.asc' | sudo tee \/etc\/yum.repos.d\/mongodb-3.4.repo\n\nsudo yum update -y --quiet\nsudo yum install -y --quiet mongodb-org-${VERSION} mongodb-org-server-${VERSION} mongodb-org-shell-${VERSION} mongodb-org-mongos-${VERSION} mongodb-org-tools-${VERSION}\n\necho 'exclude=mongodb-org*' | sudo tee -a \/etc\/yum.conf\n\nsudo mkdir -p ${DATA_PATH} ${JOURNAL_PATH} ${LOG_PATH}\nsudo ln -s ${JOURNAL_PATH} ${DATA_PATH}\/journal\nsudo chown -R mongod:mongod ${DATA_PATH} ${JOURNAL_PATH} ${LOG_PATH}"},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"c1c679cd-56d0-4261-884c-654591ef3ba5"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","name":"Router Configure","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nCONFIG_SRV_IPS=\"@@{ConfigSet.address}@@\"\nDATA_PATH=\"@@{DATA_PATH}@@\"\n\nconfig_ips=$(echo \"${CONFIG_SRV_IPS}\" | sed 's\/^,\/\/' | sed 's\/,$\/\/' | sed 's\/,\/:27017,\/g')\nconfig_ips=$config_ips\":27017\"\n\nsudo sed -i 's\/bindIp:\/#bindIp:\/g' \/etc\/mongod.conf\nsudo sed -i \"s#\/var\/lib\/mongo#${DATA_PATH}#g\" \/etc\/mongod.conf\n\necho \"[Unit]\nDescription=High-performance, schema-free document-oriented database\nAfter=network.target\nDocumentation=https:\/\/docs.mongodb.org\/manual\n\n[Service]\nUser=mongod\nGroup=mongod\nEnvironment=\\\"OPTIONS=--port 27017 --configdb configReplSet\/$config_ips --logpath \/var\/log\/mongodb\/mongos.log\\\"\nExecStart=\/usr\/bin\/mongos \\$OPTIONS\nPermissionsStartOnly=true\nPIDFile=\/var\/run\/mongodb\/mongos.pid\n# file size\nLimitFSIZE=infinity\n# cpu time\nLimitCPU=infinity\n# virtual memory size\nLimitAS=infinity\n# open files\nLimitNOFILE=64000\n# processes\/threads\nLimitNPROC=64000\n# total threads (user+kernel)\nTasksMax=infinity\nTasksAccounting=false\n# Recommended limits for for mongod as specified in\n# http:\/\/docs.mongodb.org\/manual\/reference\/ulimit\/#recommended-settings\n\n[Install]\nWantedBy=multi-user.target\" | sudo tee \/usr\/lib\/systemd\/system\/mongos.service\n\nsudo systemctl start mongos\n#sudo -u mongod -b mongos --port 27017 --configdb  --logpath \/var\/log\/mongodb\/mongos.log \n\nsleep 2"},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"922fe594-e73f-4591-8d31-a53cf96f2a25"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","name":"Start Shard","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\nNODES_PER_REPLICA_SET=\"@@{NODES_PER_REPLICA_SET}@@\"\nINTERNAL_IP=\"@@{address}@@\"\nREPLICA_IPS=($(echo @@{DataSet.address}@@ | sed 's\/^,\/\/' | sed 's\/,$\/\/' | tr \",\" \"\\n\"))\nnoOfShards=$((${#REPLICA_IPS[@]}\/${NODES_PER_REPLICA_SET}))\n\ncount=0\nfor ((number=1;number <= $noOfShards;number++))\ndo\n  replicaSetName=\"dataReplSet${number}\"\n  sudo mongo --host ${INTERNAL_IP} --port 27017 --eval \"sh.addShard( \\\"$replicaSetName\/${REPLICA_IPS[${count}]}:27017\\\" )\"\n  count=$(($count + ${NODES_PER_REPLICA_SET}))\ndone"},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"b4d6cb7a-a660-4a7a-9c5e-c998fd33dd26"}],"name":"e0b4ff16_runbook","description":"","state":"ACTIVE","variable_list":[],"message_list":[],"main_task_local_reference":{"kind":"app_task","name":"300a2866_dag","uuid":"6fedbca0-d367-4048-9d7d-05cbc350ad86"},"uuid":"dbb576d2-5662-4ba2-baa9-0c83277a23c4"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVRouterPackage","uuid":"a5843e3f-6aa0-452e-801b-2940a59c8f83"},"retries":"0","name":"2991f5d5_dag","type":"DAG","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"930d5b53-bbd8-494a-b82c-89b843e225bc"}],"name":"c63c23aa_runbook","description":"","state":"ACTIVE","variable_list":[],"message_list":[],"main_task_local_reference":{"kind":"app_task","name":"2991f5d5_dag","uuid":"930d5b53-bbd8-494a-b82c-89b843e225bc"},"uuid":"c2e411e4-146d-4086-a074-e0e4303ef119"}},"variable_list":[],"description":""},{"uuid":"da11565f-0ae8-48e8-a066-569b84be461c","action_list":[],"service_local_reference_list":[{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"}],"name":"AHVConfigSetPackage","version":"","type":"DEB","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVConfigSetPackage","uuid":"da11565f-0ae8-48e8-a066-569b84be461c"},"retries":"0","name":"d11ad974_dag","type":"DAG","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"ConfigSet Install","uuid":"28749a0e-5f63-4406-833e-f4fd7552da0d"},{"kind":"app_task","name":"ConfigSet Configure","uuid":"dca04917-31d9-487f-b68c-3d3064a6096f"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"ConfigSet Install","uuid":"28749a0e-5f63-4406-833e-f4fd7552da0d"},"edge_type":"user_defined","type":"","uuid":"1b083909-14e4-49c7-98e6-d90bc50c6370","to_task_reference":{"kind":"app_task","name":"ConfigSet Configure","uuid":"dca04917-31d9-487f-b68c-3d3064a6096f"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"7da43e5e-b1eb-44d0-8364-8d6003cf2a0d"},{"target_any_local_reference":{"kind":"app_package","name":"AHVConfigSetPackage","uuid":"da11565f-0ae8-48e8-a066-569b84be461c"},"retries":"0","name":"ConfigSet Install","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nVERSION=\"@@{MONGO_VERSION}@@\"\nDATA_PATH=\"@@{DATA_PATH}@@\"\nJOURNAL_PATH=\"@@{JOURNAL_PATH}@@\"\nLOG_PATH=\"@@{LOG_PATH}@@\"\nsudo hostnamectl set-hostname --static @@{name}@@\n\ncat > \/tmp\/set-hostnames.py <<EOF\n#!\/usr\/bin\/python\nimport re\nconfig_ips=\"@@{calm_array_address}@@\"\ndata_ips=\"@@{AHVDataSet.address}@@\"\nrouter_ips=\"@@{AHVRouter.address}@@\"\n\nhostfile = open('\/etc\/hosts', 'r').read()\nprint hostfile\nhostfile = re.sub('\\n#MONGODB-BEGIN.*?#MONGODB-END', '', hostfile, flags=re.DOTALL)\nhostfile += \"#MONGODB-BEGIN\\n\"\ncount=1\nfor ip in config_ips.split(','):\n  hostfile += ip + \" config\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in data_ips.split(','):\n  hostfile += ip + \" data\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in router_ips.split(','):\n  hostfile += ip + \" router\" + str(count) + \".mongodb\\n\"\n  count += 1\nhostfile += \"#MONGODB-END\\n\"\nopen('\/etc\/hosts', 'w').write(hostfile)\nEOF\n\nsudo python \/tmp\/set-hostnames.py\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho '[mongodb-org-3.4]\nname=MongoDB Repository\nbaseurl=https:\/\/repo.mongodb.org\/yum\/redhat\/$releasever\/mongodb-org\/3.4\/x86_64\/\ngpgcheck=1\nenabled=1\ngpgkey=https:\/\/www.mongodb.org\/static\/pgp\/server-3.4.asc' | sudo tee \/etc\/yum.repos.d\/mongodb-3.4.repo\n\nsudo yum update -y --quiet\nsudo yum install -y --quiet mongodb-org-${VERSION} mongodb-org-server-${VERSION} mongodb-org-shell-${VERSION} mongodb-org-mongos-${VERSION} mongodb-org-tools-${VERSION}\n\necho 'exclude=mongodb-org*' | sudo tee -a \/etc\/yum.conf\n\nsudo mkdir -p ${DATA_PATH} ${JOURNAL_PATH} ${LOG_PATH}\nsudo ln -s ${JOURNAL_PATH} ${DATA_PATH}\/journal\nsudo chown -R mongod:mongod ${DATA_PATH} ${JOURNAL_PATH} ${LOG_PATH}"},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"28749a0e-5f63-4406-833e-f4fd7552da0d"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","name":"ConfigSet Configure","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nCONFIG_SRV_IPS=\"@@{calm_array_address}@@\"\nDATA_PATH=\"@@{DATA_PATH}@@\"\nINTERNAL_IP=\"@@{address}@@\"\n\nsudo sed -i 's\/bindIp:\/#bindIp:\/g' \/etc\/mongod.conf\nsudo sed -i \"s#\/var\/lib\/mongo#${DATA_PATH}#g\" \/etc\/mongod.conf\nsudo sed -i 's\/#sharding:\/sharding:\\n  clusterRole: configsvr\/g' \/etc\/mongod.conf\nsudo sed -i 's\/#replication:\/replication:\\n  replSetName: configReplSet\/g' \/etc\/mongod.conf\n\n\nconfig_ips=$(echo \"${CONFIG_SRV_IPS}\" | sed 's\/^,\/\/' | sed 's\/,$\/\/' | tr \",\" \"\\n\")\nconfig_cnt=0\nconfig_str=\"\"\n\nfor config in $config_ips\ndo\n  config_str=$config_str\"{\\\"_id\\\": $config_cnt, host:\\\"$config:27017\\\"},\"\n  config_cnt=$(($config_cnt + 1))\ndone\nconfig_str=`echo $config_str | sed 's\/,$\/\/'`\njson=$(cat <<EOF\n{\n  \"_id\": \"configReplSet\",\n  \"members\": [\n    $config_str\n  ]\n}\nEOF\n)\n\nif [[ -f \/sys\/kernel\/mm\/transparent_hugepage\/enabled ]];then\n\techo never | sudo tee \/sys\/kernel\/mm\/transparent_hugepage\/enabled\nfi\nif [[ -f \/sys\/kernel\/mm\/transparent_hugepage\/defrag ]];then\n\techo never | sudo tee \/sys\/kernel\/mm\/transparent_hugepage\/defrag\nfi\n\nsudo systemctl restart mongod\nsleep 5\n\nif [ @@{calm_array_index}@@ -ne 0 ];then\n  exit\nfi\n\nsudo mongo --host ${INTERNAL_IP} --port 27017 --eval \"rs.initiate( $json )\""},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"dca04917-31d9-487f-b68c-3d3064a6096f"}],"name":"cb5b150c_runbook","description":"","state":"ACTIVE","variable_list":[],"message_list":[],"main_task_local_reference":{"kind":"app_task","name":"d11ad974_dag","uuid":"7da43e5e-b1eb-44d0-8364-8d6003cf2a0d"},"uuid":"b42dfe9a-82b4-4c1f-be3b-ccc139e844a8"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVConfigSetPackage","uuid":"da11565f-0ae8-48e8-a066-569b84be461c"},"retries":"0","name":"85c85e82_dag","type":"DAG","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"92cadb77-c19e-4b67-87eb-8a705eb3ff9f"}],"name":"485b8651_runbook","description":"","state":"ACTIVE","variable_list":[],"message_list":[],"main_task_local_reference":{"kind":"app_task","name":"85c85e82_dag","uuid":"92cadb77-c19e-4b67-87eb-8a705eb3ff9f"},"uuid":"17b686ce-e503-4a95-8ead-cf63a262c4c5"}},"variable_list":[],"description":""},{"uuid":"e4258915-bb88-40f3-b138-34102b8832b5","action_list":[],"service_local_reference_list":[{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"}],"name":"AHVDataSetPackage","version":"","type":"DEB","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVDataSetPackage","uuid":"e4258915-bb88-40f3-b138-34102b8832b5"},"retries":"0","name":"48a6c51b_dag","type":"DAG","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"DataSet Install","uuid":"2dfc7326-fc2b-41be-8494-84c90f2c3ef2"},{"kind":"app_task","name":"DataSet Configure","uuid":"94677cdf-f598-4e29-a711-048989468dc4"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"DataSet Install","uuid":"2dfc7326-fc2b-41be-8494-84c90f2c3ef2"},"edge_type":"user_defined","type":"","uuid":"4c0e48d3-174f-4f33-bf7a-30be7261da87","to_task_reference":{"kind":"app_task","name":"DataSet Configure","uuid":"94677cdf-f598-4e29-a711-048989468dc4"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"27409e4d-762c-47ff-9854-06ee4fab2e96"},{"target_any_local_reference":{"kind":"app_package","name":"AHVDataSetPackage","uuid":"e4258915-bb88-40f3-b138-34102b8832b5"},"retries":"0","name":"DataSet Install","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nVERSION=\"@@{MONGO_VERSION}@@\"\nDATA_PATH=\"@@{DATA_PATH}@@\"\nJOURNAL_PATH=\"@@{JOURNAL_PATH}@@\"\nLOG_PATH=\"@@{LOG_PATH}@@\"\nsudo hostnamectl set-hostname --static @@{name}@@\n\ncat > \/tmp\/set-hostnames.py <<EOF\n#!\/usr\/bin\/python\nimport re\nconfig_ips=\"@@{AHVConfigSet.address}@@\"\ndata_ips=\"@@{calm_array_address}@@\"\nrouter_ips=\"@@{AHVRouter.address}@@\"\n\nhostfile = open('\/etc\/hosts', 'r').read()\nprint hostfile\nhostfile = re.sub('\\n#MONGODB-BEGIN.*?#MONGODB-END', '', hostfile, flags=re.DOTALL)\nhostfile += \"#MONGODB-BEGIN\\n\"\ncount=1\nfor ip in config_ips.split(','):\n  hostfile += ip + \" config\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in data_ips.split(','):\n  hostfile += ip + \" data\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in router_ips.split(','):\n  hostfile += ip + \" router\" + str(count) + \".mongodb\\n\"\n  count += 1\nhostfile += \"#MONGODB-END\\n\"\nopen('\/etc\/hosts', 'w').write(hostfile)\nEOF\n\nsudo python \/tmp\/set-hostnames.py\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho '[mongodb-org-3.4]\nname=MongoDB Repository\nbaseurl=https:\/\/repo.mongodb.org\/yum\/redhat\/$releasever\/mongodb-org\/3.4\/x86_64\/\ngpgcheck=1\nenabled=1\ngpgkey=https:\/\/www.mongodb.org\/static\/pgp\/server-3.4.asc' | sudo tee \/etc\/yum.repos.d\/mongodb-3.4.repo\n\nsudo yum update -y --quiet\nsudo yum install -y --quiet mongodb-org-${VERSION} mongodb-org-server-${VERSION} mongodb-org-shell-${VERSION} mongodb-org-mongos-${VERSION} mongodb-org-tools-${VERSION}\n\necho 'exclude=mongodb-org*' | sudo tee -a \/etc\/yum.conf\n\nsudo yum install -y --quiet lvm2 numactl lsscsi\nsudo lsscsi | awk '{print $NF}' | grep \/dev\/sd | grep -v sda | xargs sudo  pvcreate\n\nsudo vgcreate mongodata \/dev\/sdb \/dev\/sdc \/dev\/sdd \nsudo vgcreate mongojournal \/dev\/sde \nsudo vgcreate mongolog \/dev\/sdf\n\nsudo lvcreate -i 3 -l 100%VG -n mongodata mongodata\nsudo lvcreate -l 100%VG -n mongojournal mongojournal \nsudo lvcreate -l 100%VG -n mongolog mongolog\n\nsudo mkfs.xfs -K \/dev\/mapper\/mongodata-mongodata\nsudo mkfs.xfs -K \/dev\/mapper\/mongojournal-mongojournal\nsudo mkfs.xfs -K \/dev\/mapper\/mongolog-mongolog\n\nsudo mkdir -p ${DATA_PATH} ${JOURNAL_PATH} ${LOG_PATH}\n\necho \"\/dev\/mapper\/mongodata-mongodata ${DATA_PATH} xfs defaults,auto,noatime,noexec 0 0\n\/dev\/mapper\/mongojournal-mongojournal ${JOURNAL_PATH} xfs defaults,auto,noexec 0 0\n\/dev\/mapper\/mongolog-mongolog ${LOG_PATH} xfs defaults,auto,noexec 0 0\" | sudo tee -a \/etc\/fstab\nsudo mount -a\n\nsudo ln -s ${JOURNAL_PATH} ${DATA_PATH}\/journal\n\nsudo chown -R mongod:mongod ${DATA_PATH} ${JOURNAL_PATH} ${LOG_PATH}\n\nsudo blockdev --setra 32 \/dev\/dm-2\nsudo blockdev --getra \/dev\/dm-2\n\nsudo sysctl vm.swappiness=1\necho 'vm.swappiness=1' | sudo tee -a \/etc\/sysctl.conf\n"},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"2dfc7326-fc2b-41be-8494-84c90f2c3ef2"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","name":"DataSet Configure","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nREPLICA_IPS=\"@@{calm_array_address}@@\"\nDATA_PATH=\"@@{DATA_PATH}@@\"\nINTERNAL_IP=\"@@{address}@@\"\nINDEX=@@{calm_array_index}@@\nNODES_PER_REPLICA_SET=@@{NODES_PER_REPLICA_SET}@@\nARRAY_REPLICA_IPS=$(echo ${REPLICA_IPS} | sed 's\/^,\/\/' | sed 's\/,$\/\/' | tr \",\" \"\\n\")\n\ntmp=$((${INDEX}+${NODES_PER_REPLICA_SET}))\nreplicasetNo=$((${tmp}\/${NODES_PER_REPLICA_SET}))\nreplicaSetName=\"dataReplSet${replicasetNo}\"\n\nsudo sed -i 's\/bindIp:\/#bindIp:\/g' \/etc\/mongod.conf\nsudo sed -i \"s#\/var\/lib\/mongo#${DATA_PATH}#g\" \/etc\/mongod.conf\nsudo sed -i \"s\/#replication:\/replication:\\n  replSetName: $replicaSetName\/g\" \/etc\/mongod.conf\nsudo sed -i 's\/#sharding:\/sharding:\\n  clusterRole: shardsvr\/g' \/etc\/mongod.conf\nsudo sed -i 's#  path: \/var\/log\/mongodb\/mongod.log#  path: \/mongodb\/log\/mongod.log#' \/etc\/mongod.conf\n\n### Getting replicaset members details \nreplica_cnt=0\ndeclare -a replicaset_members\n\nfor replica in $ARRAY_REPLICA_IPS\ndo\n  tmp=$((${replica_cnt}+${NODES_PER_REPLICA_SET}))\n  i=\"$((${tmp}\/${NODES_PER_REPLICA_SET}))\"\n  replicaset_members[$i]=${replicaset_members[$i]}\"{\\\"_id\\\": $replica_cnt, host:\\\"$replica:27017\\\"},\"\n  replica_cnt=$(($replica_cnt + 1))\ndone\n\nif [[ -f \/sys\/kernel\/mm\/transparent_hugepage\/enabled ]];then\n\techo never | sudo tee \/sys\/kernel\/mm\/transparent_hugepage\/enabled\nfi\nif [[ -f \/sys\/kernel\/mm\/transparent_hugepage\/defrag ]];then\n\techo never | sudo tee \/sys\/kernel\/mm\/transparent_hugepage\/defrag\nfi\n\nsudo systemctl restart mongod\nsleep 5\n\n### Initiating replicaset \njson=$(cat <<EOF\n{\n  \"_id\": \"$replicaSetName\",\n  \"members\": [ ${replicaset_members[$replicasetNo]}]\n}\nEOF\n)\nsudo mongo --host ${INTERNAL_IP} --port 27017 --eval \"rs.initiate( $json )\"\nsleep 2\n"},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"94677cdf-f598-4e29-a711-048989468dc4"}],"name":"37c08a7f_runbook","description":"","state":"ACTIVE","variable_list":[],"message_list":[],"main_task_local_reference":{"kind":"app_task","name":"48a6c51b_dag","uuid":"27409e4d-762c-47ff-9854-06ee4fab2e96"},"uuid":"09d30fff-41c9-4157-ae5a-0caa0d6d42c9"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVDataSetPackage","uuid":"e4258915-bb88-40f3-b138-34102b8832b5"},"retries":"0","name":"8725d8b7_dag","type":"DAG","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"MoveDatabase","uuid":"4b0d066e-d797-491b-ac22-cb7f5d993111"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"219586b4-08f6-485e-8a8c-399f3e5a9327"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","name":"MoveDatabase","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\n\nnode=$(echo \"@@{calm_array_address}@@\" | tr ',' '\\n' | wc -l)\n\nif [[ \"@@{calm_array_index}@@\" != \"$(($node-1))\" ]];then\n  exit 0\nfi\n\neval $(mongo --host router1.mongodb --port 27017 --quiet --eval 'db.adminCommand( { listShards: 1 } )' | python -c '\nimport json,sys\ndata=json.load(sys.stdin)\nprint \"HOST={}\".format(data[\"shards\"][len(data[\"shards\"])-1][\"host\"])\n')\neval $(mongo --host router1.mongodb --port 27017 --quiet --eval 'db.adminCommand( { listShards: 1 } )' | python -c '\nimport json,sys\ndata=json.load(sys.stdin)\nprint \"HOSTTOMOVE={}\".format(data[\"shards\"][@@{SHARD_TO_MOVE}@@-1][\"host\"])\n')\nhost_state=`mongo --host router1.mongodb --port 27017 --quiet --eval \"db.adminCommand({removeShard: '${HOST}'})['state']\"`\nif [[ \"$host_state\" == \"started\" ]] ; then\n  sleep 5\nfi\nhost_state=`mongo --host router1.mongodb --port 27017 --quiet --eval \"db.adminCommand({removeShard: '${HOST}'})['state']\"`\nif [[ \"$host_state\" == \"ongoing\" ]] ; then\n  if [[ \"@@{SHARD_TO_MOVE}@@\" == \"\" ]] ; then\n    echo \"Please enter the shard number value to move tables.\"\n    exit 1\n  fi\n  dbstomove=`mongo --host router1.mongodb --port 27017 --quiet --eval \"db.adminCommand({removeShard: '${HOST}'})['dbsToMove']\"`\n  eval $(echo $dbstomove | python -c 'import json,sys ; data=json.load(sys.stdin) ; print \"DBSTOMOVE={}\".format(\",\".join(data))')\n  for x in $(echo $DBSTOMOVE | tr \",\" \"\\n\") ; do\n     echo \"echo moving $x\"\n     mongo --host router1.mongodb --port 27017 --quiet --eval \"db.adminCommand({ movePrimary: '$x', to: '${HOSTTOMOVE}' })\"\n  done\n  mongo --host router1.mongodb --port 27017 --quiet --eval \"db.adminCommand({removeShard: '${HOST}'})\"\n  echo \"completed removing shard '${HOST}'\"\nelif [[ \"$host_state\" == \"completed\" ]] ; then\n  echo \"Host removal completed\"\nfi\n"},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"4b0d066e-d797-491b-ac22-cb7f5d993111"}],"name":"58209b81_runbook","description":"","state":"ACTIVE","variable_list":[],"message_list":[],"main_task_local_reference":{"kind":"app_task","name":"8725d8b7_dag","uuid":"219586b4-08f6-485e-8a8c-399f3e5a9327"},"uuid":"54bbdfbb-7f3e-40fd-bb51-ec58752844dc"}},"variable_list":[],"description":""},{"uuid":"f0a49fbc-a771-4f3a-b889-550b2c7eea0a","action_list":[],"service_local_reference_list":[{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"}],"name":"AWSRouterPackage","version":"","type":"DEB","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSRouterPackage","uuid":"f0a49fbc-a771-4f3a-b889-550b2c7eea0a"},"retries":"0","name":"86b208ed_dag","type":"DAG","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"Router Install","uuid":"7d72b55d-9170-447e-b13a-103e4eef28e8"},{"kind":"app_task","name":"Router Configure","uuid":"288e4014-0962-48ef-9124-1f22c61f2f61"},{"kind":"app_task","name":"Start Shard","uuid":"93b375f8-8d8c-4ba5-a97b-1cac310803f7"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Router Install","uuid":"7d72b55d-9170-447e-b13a-103e4eef28e8"},"edge_type":"user_defined","type":"","uuid":"ad35f521-a405-452c-9a6f-73417570e1e2","to_task_reference":{"kind":"app_task","name":"Router Configure","uuid":"288e4014-0962-48ef-9124-1f22c61f2f61"}},{"from_task_reference":{"kind":"app_task","name":"Router Configure","uuid":"288e4014-0962-48ef-9124-1f22c61f2f61"},"edge_type":"user_defined","type":"","uuid":"b98c0a81-891d-432a-99f8-be443c2a55ae","to_task_reference":{"kind":"app_task","name":"Start Shard","uuid":"93b375f8-8d8c-4ba5-a97b-1cac310803f7"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"d0fde302-0ee4-4650-bf14-2c7d3a0c5467"},{"target_any_local_reference":{"kind":"app_package","name":"AWSRouterPackage","uuid":"f0a49fbc-a771-4f3a-b889-550b2c7eea0a"},"retries":"0","name":"Router Install","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nVERSION=\"@@{MONGO_VERSION}@@\"\nDATA_PATH=\"@@{DATA_PATH}@@\"\nJOURNAL_PATH=\"@@{JOURNAL_PATH}@@\"\nLOG_PATH=\"@@{LOG_PATH}@@\"\nsudo hostnamectl set-hostname --static @@{name}@@\n\ncat > \/tmp\/set-hostnames.py <<EOF\n#!\/usr\/bin\/python\nimport re\nconfig_ips=\"@@{AWSConfigSet.private_ip_address}@@\"\ndata_ips=\"@@{AWSDataSet.private_ip_address}@@\"\nrouter_ips=\"@@{calm_array_private_ip_address}@@\"\n\nhostfile = open('\/etc\/hosts', 'r').read()\nprint hostfile\nhostfile = re.sub('\\n#MONGODB-BEGIN.*?#MONGODB-END', '', hostfile, flags=re.DOTALL)\nhostfile += \"#MONGODB-BEGIN\\n\"\ncount=1\nfor ip in config_ips.split(','):\n  hostfile += ip + \" config\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in data_ips.split(','):\n  hostfile += ip + \" data\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in router_ips.split(','):\n  hostfile += ip + \" router\" + str(count) + \".mongodb\\n\"\n  count += 1\nhostfile += \"#MONGODB-END\\n\"\nopen('\/etc\/hosts', 'w').write(hostfile)\nEOF\n\nsudo python \/tmp\/set-hostnames.py\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho '[mongodb-org-3.4]\nname=MongoDB Repository\nbaseurl=https:\/\/repo.mongodb.org\/yum\/redhat\/$releasever\/mongodb-org\/3.4\/x86_64\/\ngpgcheck=1\nenabled=1\ngpgkey=https:\/\/www.mongodb.org\/static\/pgp\/server-3.4.asc' | sudo tee \/etc\/yum.repos.d\/mongodb-3.4.repo\n\nsudo yum update -y --quiet\nsudo yum install -y --quiet mongodb-org-${VERSION} mongodb-org-server-${VERSION} mongodb-org-shell-${VERSION} mongodb-org-mongos-${VERSION} mongodb-org-tools-${VERSION}\n\necho 'exclude=mongodb-org*' | sudo tee -a \/etc\/yum.conf\n\nsudo mkdir -p ${DATA_PATH} ${JOURNAL_PATH} ${LOG_PATH}\nsudo ln -s ${JOURNAL_PATH} ${DATA_PATH}\/journal\nsudo chown -R mongod:mongod ${DATA_PATH} ${JOURNAL_PATH} ${LOG_PATH}"},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"7d72b55d-9170-447e-b13a-103e4eef28e8"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","name":"Router Configure","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nCONFIG_SRV_IPS=\"@@{ConfigSet.private_ip_address}@@\"\nDATA_PATH=\"@@{DATA_PATH}@@\"\n\nconfig_ips=$(echo \"${CONFIG_SRV_IPS}\" | sed 's\/^,\/\/' | sed 's\/,$\/\/' | sed 's\/,\/:27017,\/g')\nconfig_ips=$config_ips\":27017\"\n\nsudo sed -i 's\/bindIp:\/#bindIp:\/g' \/etc\/mongod.conf\nsudo sed -i \"s#\/var\/lib\/mongo#${DATA_PATH}#g\" \/etc\/mongod.conf\n\necho \"[Unit]\nDescription=High-performance, schema-free document-oriented database\nAfter=network.target\nDocumentation=https:\/\/docs.mongodb.org\/manual\n\n[Service]\nUser=mongod\nGroup=mongod\nEnvironment=\\\"OPTIONS=--port 27017 --configdb configReplSet\/$config_ips --logpath \/var\/log\/mongodb\/mongos.log\\\"\nExecStart=\/usr\/bin\/mongos \\$OPTIONS\nPermissionsStartOnly=true\nPIDFile=\/var\/run\/mongodb\/mongos.pid\n# file size\nLimitFSIZE=infinity\n# cpu time\nLimitCPU=infinity\n# virtual memory size\nLimitAS=infinity\n# open files\nLimitNOFILE=64000\n# processes\/threads\nLimitNPROC=64000\n# total threads (user+kernel)\nTasksMax=infinity\nTasksAccounting=false\n# Recommended limits for for mongod as specified in\n# http:\/\/docs.mongodb.org\/manual\/reference\/ulimit\/#recommended-settings\n\n[Install]\nWantedBy=multi-user.target\" | sudo tee \/usr\/lib\/systemd\/system\/mongos.service\n\nsudo systemctl start mongos\n#sudo -u mongod -b mongos --port 27017 --configdb  --logpath \/var\/log\/mongodb\/mongos.log \n\nsleep 2"},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"288e4014-0962-48ef-9124-1f22c61f2f61"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","name":"Start Shard","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\nNODES_PER_REPLICA_SET=\"@@{NODES_PER_REPLICA_SET}@@\"\nINTERNAL_IP=\"@@{private_ip_address}@@\"\nREPLICA_IPS=($(echo @@{DataSet.private_ip_address}@@ | sed 's\/^,\/\/' | sed 's\/,$\/\/' | tr \",\" \"\\n\"))\nnoOfShards=$((${#REPLICA_IPS[@]}\/${NODES_PER_REPLICA_SET}))\n\ncount=0\nfor ((number=1;number <= $noOfShards;number++))\ndo\n  replicaSetName=\"dataReplSet${number}\"\n  sudo mongo --host ${INTERNAL_IP} --port 27017 --eval \"sh.addShard( \\\"$replicaSetName\/${REPLICA_IPS[${count}]}:27017\\\" )\"\n  count=$(($count + ${NODES_PER_REPLICA_SET}))\ndone"},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"93b375f8-8d8c-4ba5-a97b-1cac310803f7"}],"name":"cf6004c4_runbook","description":"","state":"ACTIVE","variable_list":[],"message_list":[],"main_task_local_reference":{"kind":"app_task","name":"86b208ed_dag","uuid":"d0fde302-0ee4-4650-bf14-2c7d3a0c5467"},"uuid":"e052f2c1-86b8-479e-8870-07ac4bebe7b3"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSRouterPackage","uuid":"f0a49fbc-a771-4f3a-b889-550b2c7eea0a"},"retries":"0","name":"59fa3e16_dag","type":"DAG","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"9d862e3c-cb7a-4690-bfbe-9c9562ecb775"}],"name":"edfb9ef5_runbook","description":"","state":"ACTIVE","variable_list":[],"message_list":[],"main_task_local_reference":{"kind":"app_task","name":"59fa3e16_dag","uuid":"9d862e3c-cb7a-4690-bfbe-9c9562ecb775"},"uuid":"b4833f72-800a-420d-93f8-e4e63acf6f3c"}},"variable_list":[],"description":""},{"uuid":"8530536d-a328-41b2-b452-ab23632488f7","action_list":[],"service_local_reference_list":[{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"}],"name":"AWSConfigSetPackage","version":"","type":"DEB","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSConfigSetPackage","uuid":"8530536d-a328-41b2-b452-ab23632488f7"},"retries":"0","name":"0a083306_dag","type":"DAG","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"Config Set Install","uuid":"e18a76d5-1c48-4593-9378-0b65cb4a9ee0"},{"kind":"app_task","name":"ConfigSet Configure","uuid":"c9eb15b8-7f48-46cf-bb8c-6ad9bd0e2984"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Config Set Install","uuid":"e18a76d5-1c48-4593-9378-0b65cb4a9ee0"},"edge_type":"user_defined","type":"","uuid":"b7329f98-4750-4c6f-b233-aabc54f26f33","to_task_reference":{"kind":"app_task","name":"ConfigSet Configure","uuid":"c9eb15b8-7f48-46cf-bb8c-6ad9bd0e2984"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"89074fe1-43b6-4112-bc14-58d7f8e6d738"},{"target_any_local_reference":{"kind":"app_package","name":"AWSConfigSetPackage","uuid":"8530536d-a328-41b2-b452-ab23632488f7"},"retries":"0","name":"Config Set Install","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nVERSION=\"@@{MONGO_VERSION}@@\"\nDATA_PATH=\"@@{DATA_PATH}@@\"\nJOURNAL_PATH=\"@@{JOURNAL_PATH}@@\"\nLOG_PATH=\"@@{LOG_PATH}@@\"\nsudo hostnamectl set-hostname --static @@{name}@@\n\ncat > \/tmp\/set-hostnames.py <<EOF\n#!\/usr\/bin\/python\nimport re\nconfig_ips=\"@@{calm_array_private_ip_address}@@\"\ndata_ips=\"@@{AWSDataSet.private_ip_address}@@\"\nrouter_ips=\"@@{AWSRouter.private_ip_address}@@\"\n\nhostfile = open('\/etc\/hosts', 'r').read()\nprint hostfile\nhostfile = re.sub('\\n#MONGODB-BEGIN.*?#MONGODB-END', '', hostfile, flags=re.DOTALL)\nhostfile += \"#MONGODB-BEGIN\\n\"\ncount=1\nfor ip in config_ips.split(','):\n  hostfile += ip + \" config\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in data_ips.split(','):\n  hostfile += ip + \" data\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in router_ips.split(','):\n  hostfile += ip + \" router\" + str(count) + \".mongodb\\n\"\n  count += 1\nhostfile += \"#MONGODB-END\\n\"\nopen('\/etc\/hosts', 'w').write(hostfile)\nEOF\n\nsudo python \/tmp\/set-hostnames.py\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho '[mongodb-org-3.4]\nname=MongoDB Repository\nbaseurl=https:\/\/repo.mongodb.org\/yum\/redhat\/$releasever\/mongodb-org\/3.4\/x86_64\/\ngpgcheck=1\nenabled=1\ngpgkey=https:\/\/www.mongodb.org\/static\/pgp\/server-3.4.asc' | sudo tee \/etc\/yum.repos.d\/mongodb-3.4.repo\n\nsudo yum update -y --quiet\nsudo yum install -y --quiet mongodb-org-${VERSION} mongodb-org-server-${VERSION} mongodb-org-shell-${VERSION} mongodb-org-mongos-${VERSION} mongodb-org-tools-${VERSION}\n\necho 'exclude=mongodb-org*' | sudo tee -a \/etc\/yum.conf\n\nsudo mkdir -p ${DATA_PATH} ${JOURNAL_PATH} ${LOG_PATH}\nsudo ln -s ${JOURNAL_PATH} ${DATA_PATH}\/journal\nsudo chown -R mongod:mongod ${DATA_PATH} ${JOURNAL_PATH} ${LOG_PATH}"},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"e18a76d5-1c48-4593-9378-0b65cb4a9ee0"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","name":"ConfigSet Configure","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nCONFIG_SRV_IPS=\"@@{calm_array_private_ip_address}@@\"\nDATA_PATH=\"@@{DATA_PATH}@@\"\nINTERNAL_IP=\"@@{private_ip_address}@@\"\n\nsudo sed -i 's\/bindIp:\/#bindIp:\/g' \/etc\/mongod.conf\nsudo sed -i \"s#\/var\/lib\/mongo#${DATA_PATH}#g\" \/etc\/mongod.conf\nsudo sed -i 's\/#sharding:\/sharding:\\n  clusterRole: configsvr\/g' \/etc\/mongod.conf\nsudo sed -i 's\/#replication:\/replication:\\n  replSetName: configReplSet\/g' \/etc\/mongod.conf\n\n\nconfig_ips=$(echo \"${CONFIG_SRV_IPS}\" | sed 's\/^,\/\/' | sed 's\/,$\/\/' | tr \",\" \"\\n\")\nconfig_cnt=0\nconfig_str=\"\"\n\nfor config in $config_ips\ndo\n  config_str=$config_str\"{\\\"_id\\\": $config_cnt, host:\\\"$config:27017\\\"},\"\n  config_cnt=$(($config_cnt + 1))\ndone\nconfig_str=`echo $config_str | sed 's\/,$\/\/'`\njson=$(cat <<EOF\n{\n  \"_id\": \"configReplSet\",\n  \"members\": [\n    $config_str\n  ]\n}\nEOF\n)\n\nif [[ -f \/sys\/kernel\/mm\/transparent_hugepage\/enabled ]];then\n\techo never | sudo tee \/sys\/kernel\/mm\/transparent_hugepage\/enabled\nfi\nif [[ -f \/sys\/kernel\/mm\/transparent_hugepage\/defrag ]];then\n\techo never | sudo tee \/sys\/kernel\/mm\/transparent_hugepage\/defrag\nfi\n\nsudo systemctl restart mongod\nsleep 15\n\nif [ @@{calm_array_index}@@ -ne 0 ];then\n  exit\nfi\n\nsudo mongo --host ${INTERNAL_IP} --port 27017 --eval \"rs.initiate( $json )\""},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"c9eb15b8-7f48-46cf-bb8c-6ad9bd0e2984"}],"name":"88d75a2d_runbook","description":"","state":"ACTIVE","variable_list":[],"message_list":[],"main_task_local_reference":{"kind":"app_task","name":"0a083306_dag","uuid":"89074fe1-43b6-4112-bc14-58d7f8e6d738"},"uuid":"ac48169b-fbce-4783-ad49-ff154d0e2aa4"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSConfigSetPackage","uuid":"8530536d-a328-41b2-b452-ab23632488f7"},"retries":"0","name":"0e749ec1_dag","type":"DAG","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"15a945b1-e33c-4d7e-809f-076d5c68cf74"}],"name":"c94e03df_runbook","description":"","state":"ACTIVE","variable_list":[],"message_list":[],"main_task_local_reference":{"kind":"app_task","name":"0e749ec1_dag","uuid":"15a945b1-e33c-4d7e-809f-076d5c68cf74"},"uuid":"9c55c8b6-ce83-4ddd-b210-1fa0969ec3ee"}},"variable_list":[],"description":""},{"uuid":"12025307-e5d6-443a-acbf-8c6decdff487","action_list":[],"service_local_reference_list":[{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"}],"name":"AWSDataSetPackage","version":"","type":"DEB","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSDataSetPackage","uuid":"12025307-e5d6-443a-acbf-8c6decdff487"},"retries":"0","name":"2bc538b5_dag","type":"DAG","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"DataSet Install","uuid":"2534bfb5-4a43-4088-9e1c-adffd3b7627d"},{"kind":"app_task","name":"SataSet Configure","uuid":"ae8a5ae8-646b-48f5-b9b2-f54e154d9113"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"DataSet Install","uuid":"2534bfb5-4a43-4088-9e1c-adffd3b7627d"},"edge_type":"user_defined","type":"","uuid":"3eb5cffb-ac5a-4af6-9373-ff9d72ea2b99","to_task_reference":{"kind":"app_task","name":"SataSet Configure","uuid":"ae8a5ae8-646b-48f5-b9b2-f54e154d9113"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"ce432bd1-996e-427f-8cf3-269b20442421"},{"target_any_local_reference":{"kind":"app_package","name":"AWSDataSetPackage","uuid":"12025307-e5d6-443a-acbf-8c6decdff487"},"retries":"0","name":"DataSet Install","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nVERSION=\"@@{MONGO_VERSION}@@\"\nDATA_PATH=\"@@{DATA_PATH}@@\"\nJOURNAL_PATH=\"@@{JOURNAL_PATH}@@\"\nLOG_PATH=\"@@{LOG_PATH}@@\"\nsudo hostnamectl set-hostname --static @@{name}@@\n\ncat > \/tmp\/set-hostnames.py <<EOF\n#!\/usr\/bin\/python\nimport re\nconfig_ips=\"@@{AWSConfigSet.private_ip_address}@@\"\ndata_ips=\"@@{calm_array_private_ip_address}@@\"\nrouter_ips=\"@@{AWSRouter.private_ip_address}@@\"\n\nhostfile = open('\/etc\/hosts', 'r').read()\nprint hostfile\nhostfile = re.sub('\\n#MONGODB-BEGIN.*?#MONGODB-END', '', hostfile, flags=re.DOTALL)\nhostfile += \"#MONGODB-BEGIN\\n\"\ncount=1\nfor ip in config_ips.split(','):\n  hostfile += ip + \" config\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in data_ips.split(','):\n  hostfile += ip + \" data\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in router_ips.split(','):\n  hostfile += ip + \" router\" + str(count) + \".mongodb\\n\"\n  count += 1\nhostfile += \"#MONGODB-END\\n\"\nopen('\/etc\/hosts', 'w').write(hostfile)\nEOF\n\nsudo python \/tmp\/set-hostnames.py\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho '[mongodb-org-3.4]\nname=MongoDB Repository\nbaseurl=https:\/\/repo.mongodb.org\/yum\/redhat\/$releasever\/mongodb-org\/3.4\/x86_64\/\ngpgcheck=1\nenabled=1\ngpgkey=https:\/\/www.mongodb.org\/static\/pgp\/server-3.4.asc' | sudo tee \/etc\/yum.repos.d\/mongodb-3.4.repo\n\nsudo yum update -y --quiet\nsudo yum install -y --quiet mongodb-org-${VERSION} mongodb-org-server-${VERSION} mongodb-org-shell-${VERSION} mongodb-org-mongos-${VERSION} mongodb-org-tools-${VERSION}\n\necho 'exclude=mongodb-org*' | sudo tee -a \/etc\/yum.conf\n\nsudo yum install -y --quiet lvm2 numactl lsscsi\nls \/dev\/xvd* | awk '{print $NF}' | grep \/dev\/xvd | grep -v xvda | xargs sudo  pvcreate\n\nsudo vgcreate mongodata \/dev\/xvdb \/dev\/xvdc \/dev\/xvdd \nsudo vgcreate mongojournal \/dev\/xvde \nsudo vgcreate mongolog \/dev\/xvdf\n\nsudo lvcreate -i 3 -l 100%VG -n mongodata mongodata\nsudo lvcreate -l 100%VG -n mongojournal mongojournal \nsudo lvcreate -l 100%VG -n mongolog mongolog\n\nsudo mkfs.xfs -K \/dev\/mapper\/mongodata-mongodata\nsudo mkfs.xfs -K \/dev\/mapper\/mongojournal-mongojournal\nsudo mkfs.xfs -K \/dev\/mapper\/mongolog-mongolog\n\nsudo mkdir -p ${DATA_PATH} ${JOURNAL_PATH} ${LOG_PATH}\n\nsudo ln -s ${JOURNAL_PATH} ${DATA_PATH}\/journal\n\nsudo chown -R mongod:mongod ${DATA_PATH} ${JOURNAL_PATH} ${LOG_PATH}\n\n#sudo blockdev --setra 32 \/dev\/dm-2\n#sudo blockdev --getra \/dev\/dm-2\n\nsudo sysctl vm.swappiness=1\necho 'vm.swappiness=1' | sudo tee -a \/etc\/sysctl.conf\n"},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"2534bfb5-4a43-4088-9e1c-adffd3b7627d"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","name":"DataSet Configure","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nREPLICA_IPS=\"@@{calm_array_private_ip_address}@@\"\nDATA_PATH=\"@@{DATA_PATH}@@\"\nINTERNAL_IP=\"@@{private_ip_address}@@\"\nINDEX=@@{calm_array_index}@@\nNODES_PER_REPLICA_SET=@@{NODES_PER_REPLICA_SET}@@\nARRAY_REPLICA_IPS=$(echo ${REPLICA_IPS} | sed 's\/^,\/\/' | sed 's\/,$\/\/' | tr \",\" \"\\n\")\n\ntmp=$((${INDEX}+${NODES_PER_REPLICA_SET}))\nreplicasetNo=$((${tmp}\/${NODES_PER_REPLICA_SET}))\nreplicaSetName=\"dataReplSet${replicasetNo}\"\n\nsudo sed -i 's\/bindIp:\/#bindIp:\/g' \/etc\/mongod.conf\nsudo sed -i \"s#\/var\/lib\/mongo#${DATA_PATH}#g\" \/etc\/mongod.conf\nsudo sed -i \"s\/#replication:\/replication:\\n  replSetName: $replicaSetName\/g\" \/etc\/mongod.conf\nsudo sed -i 's\/#sharding:\/sharding:\\n  clusterRole: shardsvr\/g' \/etc\/mongod.conf\nsudo sed -i 's#  path: \/var\/log\/mongodb\/mongod.log#  path: \/mongodb\/log\/mongod.log#' \/etc\/mongod.conf\n\n### Getting replicaset members details \nreplica_cnt=0\ndeclare -a replicaset_members\n\nfor replica in $ARRAY_REPLICA_IPS\ndo\n  tmp=$((${replica_cnt}+${NODES_PER_REPLICA_SET}))\n  i=\"$((${tmp}\/${NODES_PER_REPLICA_SET}))\"\n  replicaset_members[$i]=${replicaset_members[$i]}\"{\\\"_id\\\": $replica_cnt, host:\\\"$replica:27017\\\"},\"\n  replica_cnt=$(($replica_cnt + 1))\ndone\n\nif [[ -f \/sys\/kernel\/mm\/transparent_hugepage\/enabled ]];then\n\techo never | sudo tee \/sys\/kernel\/mm\/transparent_hugepage\/enabled\nfi\nif [[ -f \/sys\/kernel\/mm\/transparent_hugepage\/defrag ]];then\n\techo never | sudo tee \/sys\/kernel\/mm\/transparent_hugepage\/defrag\nfi\n\nsudo systemctl restart mongod\nsleep 15\n\n### Initiating replicaset \njson=$(cat <<EOF\n{\n  \"_id\": \"$replicaSetName\",\n  \"members\": [ ${replicaset_members[$replicasetNo]}]\n}\nEOF\n)\nsudo mongo --host ${INTERNAL_IP} --port 27017 --eval \"rs.initiate( $json )\"\nsleep 2\n"},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"ae8a5ae8-646b-48f5-b9b2-f54e154d9113"}],"name":"e84e54e6_runbook","description":"","state":"ACTIVE","variable_list":[],"message_list":[],"main_task_local_reference":{"kind":"app_task","name":"2bc538b5_dag","uuid":"ce432bd1-996e-427f-8cf3-269b20442421"},"uuid":"1bd5cc68-f4c8-4ebf-9df1-022fa76207f5"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSDataSetPackage","uuid":"12025307-e5d6-443a-acbf-8c6decdff487"},"retries":"0","name":"e1122dde_dag","type":"DAG","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"MoveDatabase","uuid":"8fc51b2d-42b6-4703-99e6-8eacbeff05f4"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"6b3992aa-2358-4b16-85da-d5b3177ebe07"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","name":"MoveDatabase","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\n\nnode=$(echo \"@@{calm_array_address}@@\" | tr ',' '\\n' | wc -l)\n\nif [[ \"@@{calm_array_index}@@\" != \"$(($node-1))\" ]];then\n  exit 0\nfi\n\neval $(mongo --host router1.mongodb --port 27017 --quiet --eval 'db.adminCommand( { listShards: 1 } )' | python -c '\nimport json,sys\ndata=json.load(sys.stdin)\nprint \"HOST={}\".format(data[\"shards\"][len(data[\"shards\"])-1][\"host\"])\n')\neval $(mongo --host router1.mongodb --port 27017 --quiet --eval 'db.adminCommand( { listShards: 1 } )' | python -c '\nimport json,sys\ndata=json.load(sys.stdin)\nprint \"HOSTTOMOVE={}\".format(data[\"shards\"][@@{SHARD_TO_MOVE}@@-1][\"host\"])\n')\nhost_state=`mongo --host router1.mongodb --port 27017 --quiet --eval \"db.adminCommand({removeShard: '${HOST}'})['state']\"`\nif [[ \"$host_state\" == \"started\" ]] ; then\n  sleep 5\nfi\nhost_state=`mongo --host router1.mongodb --port 27017 --quiet --eval \"db.adminCommand({removeShard: '${HOST}'})['state']\"`\nif [[ \"$host_state\" == \"ongoing\" ]] ; then\n  if [[ \"@@{SHARD_TO_MOVE}@@\" == \"\" ]] ; then\n    echo \"Please enter the shard number value to move tables.\"\n    exit 1\n  fi\n  dbstomove=`mongo --host router1.mongodb --port 27017 --quiet --eval \"db.adminCommand({removeShard: '${HOST}'})['dbsToMove']\"`\n  eval $(echo $dbstomove | python -c 'import json,sys ; data=json.load(sys.stdin) ; print \"DBSTOMOVE={}\".format(\",\".join(data))')\n  for x in $(echo $DBSTOMOVE | tr \",\" \"\\n\") ; do\n     echo \"echo moving $x\"\n     mongo --host router1.mongodb --port 27017 --quiet --eval \"db.adminCommand({ movePrimary: '$x', to: '${HOSTTOMOVE}' })\"\n  done\n  mongo --host router1.mongodb --port 27017 --quiet --eval \"db.adminCommand({removeShard: '${HOST}'})\"\n  echo \"completed removing shard '${HOST}'\"\nelif [[ \"$host_state\" == \"completed\" ]] ; then\n  echo \"Host removal completed\"\nfi\n"},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"8fc51b2d-42b6-4703-99e6-8eacbeff05f4"}],"name":"77cc1fc6_runbook","description":"","state":"ACTIVE","variable_list":[],"message_list":[],"main_task_local_reference":{"kind":"app_task","name":"e1122dde_dag","uuid":"6b3992aa-2358-4b16-85da-d5b3177ebe07"},"uuid":"ed888c34-6623-40d1-881c-a0df215bc888"}},"variable_list":[],"description":""},{"uuid":"adee1967-610d-4f23-964b-6d9b24e27af2","action_list":[],"service_local_reference_list":[],"name":"AHV_CENTOS_76","version":"","type":"SUBSTRATE_IMAGE","options":{"type":"","name":"CENTOS_76","resources":{"image_type":"DISK_IMAGE","checksum":{"checksum_algorithm":"","type":"","checksum_value":""},"source_uri":"http:\/\/download.nutanix.com\/calm\/CentOS-7-x86_64-1810.qcow2","version":{"product_version":"","type":"","product_name":""},"architecture":"X86_64","type":""},"description":""},"variable_list":[],"description":""},{"uuid":"210861d5-0624-4752-a2fc-d29937e8c602","action_list":[],"service_local_reference_list":[{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"}],"name":"GCPRouterPackage","version":"","type":"DEB","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPRouterPackage","uuid":"210861d5-0624-4752-a2fc-d29937e8c602"},"retries":"0","name":"300a2866_dag","type":"DAG","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"Router Install","uuid":"8089aabe-4441-4067-a6fc-6417af7e928b"},{"kind":"app_task","name":"Router Configure","uuid":"0be9308a-9826-4a6c-a37b-c6bb1cfe0df0"},{"kind":"app_task","name":"Start Shard","uuid":"6bc51bb6-6931-4eaf-86e8-2b229caac88f"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Router Install","uuid":"8089aabe-4441-4067-a6fc-6417af7e928b"},"edge_type":"user_defined","type":"","uuid":"e33ac83b-bd73-40f0-9cd8-ba0440baf26d","to_task_reference":{"kind":"app_task","name":"Router Configure","uuid":"0be9308a-9826-4a6c-a37b-c6bb1cfe0df0"}},{"from_task_reference":{"kind":"app_task","name":"Router Configure","uuid":"0be9308a-9826-4a6c-a37b-c6bb1cfe0df0"},"edge_type":"user_defined","type":"","uuid":"267953f1-e95e-4a0e-85b5-aa48fd71613c","to_task_reference":{"kind":"app_task","name":"Start Shard","uuid":"6bc51bb6-6931-4eaf-86e8-2b229caac88f"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"857ac346-9016-450d-86d1-ca6254938407"},{"target_any_local_reference":{"kind":"app_package","name":"GCPRouterPackage","uuid":"210861d5-0624-4752-a2fc-d29937e8c602"},"retries":"0","name":"Router Install","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nVERSION=\"@@{MONGO_VERSION}@@\"\nDATA_PATH=\"@@{DATA_PATH}@@\"\nJOURNAL_PATH=\"@@{JOURNAL_PATH}@@\"\nLOG_PATH=\"@@{LOG_PATH}@@\"\nsudo hostnamectl set-hostname --static @@{name}@@\n\ncat > \/tmp\/set-hostnames.py <<EOF\n#!\/usr\/bin\/python\nimport re\nconfig_ips=\"@@{GCPConfigSet.private_ip_address}@@\"\ndata_ips=\"@@{GCPDataSet.private_ip_address}@@\"\nrouter_ips=\"@@{calm_array_private_ip_address}@@\"\n\nhostfile = open('\/etc\/hosts', 'r').read()\nprint hostfile\nhostfile = re.sub('\\n#MONGODB-BEGIN.*?#MONGODB-END', '', hostfile, flags=re.DOTALL)\nhostfile += \"#MONGODB-BEGIN\\n\"\ncount=1\nfor ip in config_ips.split(','):\n  hostfile += ip + \" config\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in data_ips.split(','):\n  hostfile += ip + \" data\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in router_ips.split(','):\n  hostfile += ip + \" router\" + str(count) + \".mongodb\\n\"\n  count += 1\nhostfile += \"#MONGODB-END\\n\"\nopen('\/etc\/hosts', 'w').write(hostfile)\nEOF\n\nsudo python \/tmp\/set-hostnames.py\n\nif [[ -f \/sys\/kernel\/mm\/transparent_hugepage\/enabled ]];then\n\techo never | sudo tee \/sys\/kernel\/mm\/transparent_hugepage\/enabled\nfi\nif [[ -f \/sys\/kernel\/mm\/transparent_hugepage\/defrag ]];then\n\techo never | sudo tee \/sys\/kernel\/mm\/transparent_hugepage\/defrag\nfi\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho '[mongodb-org-3.4]\nname=MongoDB Repository\nbaseurl=https:\/\/repo.mongodb.org\/yum\/redhat\/$releasever\/mongodb-org\/3.4\/x86_64\/\ngpgcheck=1\nenabled=1\ngpgkey=https:\/\/www.mongodb.org\/static\/pgp\/server-3.4.asc' | sudo tee \/etc\/yum.repos.d\/mongodb-3.4.repo\n\nsudo yum update -y --quiet\nsudo yum install -y --quiet mongodb-org-${VERSION} mongodb-org-server-${VERSION} mongodb-org-shell-${VERSION} mongodb-org-mongos-${VERSION} mongodb-org-tools-${VERSION}\n\necho 'exclude=mongodb-org*' | sudo tee -a \/etc\/yum.conf\n\nsudo mkdir -p ${DATA_PATH} ${JOURNAL_PATH} ${LOG_PATH}\nsudo ln -s ${JOURNAL_PATH} ${DATA_PATH}\/journal\nsudo chown -R mongod:mongod ${DATA_PATH} ${JOURNAL_PATH} ${LOG_PATH}"},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"8089aabe-4441-4067-a6fc-6417af7e928b"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","name":"Router Configure","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nCONFIG_SRV_IPS=\"@@{ConfigSet.private_ip_address}@@\"\nDATA_PATH=\"@@{DATA_PATH}@@\"\n\nconfig_ips=$(echo \"${CONFIG_SRV_IPS}\" | sed 's\/^,\/\/' | sed 's\/,$\/\/' | sed 's\/,\/:27017,\/g')\nconfig_ips=$config_ips\":27017\"\n\nsudo sed -i 's\/bindIp:\/#bindIp:\/g' \/etc\/mongod.conf\nsudo sed -i \"s#\/var\/lib\/mongo#${DATA_PATH}#g\" \/etc\/mongod.conf\n\necho \"[Unit]\nDescription=High-performance, schema-free document-oriented database\nAfter=network.target\nDocumentation=https:\/\/docs.mongodb.org\/manual\n\n[Service]\nUser=mongod\nGroup=mongod\nEnvironment=\\\"OPTIONS=--port 27017 --configdb configReplSet\/$config_ips --logpath \/var\/log\/mongodb\/mongos.log\\\"\nExecStart=\/usr\/bin\/mongos \\$OPTIONS\nPermissionsStartOnly=true\nPIDFile=\/var\/run\/mongodb\/mongos.pid\n# file size\nLimitFSIZE=infinity\n# cpu time\nLimitCPU=infinity\n# virtual memory size\nLimitAS=infinity\n# open files\nLimitNOFILE=64000\n# processes\/threads\nLimitNPROC=64000\n# total threads (user+kernel)\nTasksMax=infinity\nTasksAccounting=false\n# Recommended limits for for mongod as specified in\n# http:\/\/docs.mongodb.org\/manual\/reference\/ulimit\/#recommended-settings\n\n[Install]\nWantedBy=multi-user.target\" | sudo tee \/usr\/lib\/systemd\/system\/mongos.service\n\nsudo systemctl start mongos\n#sudo -u mongod -b mongos --port 27017 --configdb  --logpath \/var\/log\/mongodb\/mongos.log \n\nsleep 2"},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"0be9308a-9826-4a6c-a37b-c6bb1cfe0df0"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","name":"Start Shard","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\nNODES_PER_REPLICA_SET=\"@@{NODES_PER_REPLICA_SET}@@\"\nINTERNAL_IP=\"@@{private_ip_address}@@\"\nREPLICA_IPS=($(echo @@{DataSet.private_ip_address}@@ | sed 's\/^,\/\/' | sed 's\/,$\/\/' | tr \",\" \"\\n\"))\nnoOfShards=$((${#REPLICA_IPS[@]}\/${NODES_PER_REPLICA_SET}))\n\ncount=0\nfor ((number=1;number <= $noOfShards;number++))\ndo\n  replicaSetName=\"dataReplSet${number}\"\n  sudo mongo --host ${INTERNAL_IP} --port 27017 --eval \"sh.addShard( \\\"$replicaSetName\/${REPLICA_IPS[${count}]}:27017\\\" )\"\n  count=$(($count + ${NODES_PER_REPLICA_SET}))\ndone"},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"6bc51bb6-6931-4eaf-86e8-2b229caac88f"}],"name":"e0b4ff16_runbook_cloned_1","description":"","state":"ACTIVE","variable_list":[],"message_list":[],"main_task_local_reference":{"kind":"app_task","name":"300a2866_dag","uuid":"857ac346-9016-450d-86d1-ca6254938407"},"uuid":"51bfcdb9-ebf6-45a9-8b0e-618d31a1415f"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPRouterPackage","uuid":"210861d5-0624-4752-a2fc-d29937e8c602"},"retries":"0","name":"2991f5d5_dag","type":"DAG","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"5f9d2aa7-651e-492e-a1b5-bac9fbb89a86"}],"name":"c63c23aa_runbook_cloned_1","description":"","state":"ACTIVE","variable_list":[],"message_list":[],"main_task_local_reference":{"kind":"app_task","name":"2991f5d5_dag","uuid":"5f9d2aa7-651e-492e-a1b5-bac9fbb89a86"},"uuid":"d83bdefd-8a51-4735-9821-66d3859b8e06"}},"variable_list":[],"description":""},{"uuid":"372ca4be-1681-4dae-b58f-dcdc8ab92dc1","action_list":[],"service_local_reference_list":[{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"}],"name":"GCPConfigSetPackage","version":"","type":"DEB","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPConfigSetPackage","uuid":"372ca4be-1681-4dae-b58f-dcdc8ab92dc1"},"retries":"0","name":"d11ad974_dag","type":"DAG","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"ConfigSet Install","uuid":"d0d33ea1-5baf-48ed-ae79-7cf7c663a899"},{"kind":"app_task","name":"ConfigSet Configure","uuid":"aee03a41-5129-446c-b706-0062cf5640b9"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"ConfigSet Install","uuid":"d0d33ea1-5baf-48ed-ae79-7cf7c663a899"},"edge_type":"user_defined","type":"","uuid":"5f66bef1-c604-48a5-b64d-c822e24cc001","to_task_reference":{"kind":"app_task","name":"ConfigSet Configure","uuid":"aee03a41-5129-446c-b706-0062cf5640b9"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"4bb494a4-185c-4395-ba8e-834978f7d291"},{"target_any_local_reference":{"kind":"app_package","name":"GCPConfigSetPackage","uuid":"372ca4be-1681-4dae-b58f-dcdc8ab92dc1"},"retries":"0","name":"ConfigSet Install","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nVERSION=\"@@{MONGO_VERSION}@@\"\nDATA_PATH=\"@@{DATA_PATH}@@\"\nJOURNAL_PATH=\"@@{JOURNAL_PATH}@@\"\nLOG_PATH=\"@@{LOG_PATH}@@\"\nsudo hostnamectl set-hostname --static @@{name}@@\n\ncat > \/tmp\/set-hostnames.py <<EOF\n#!\/usr\/bin\/python\nimport re\nconfig_ips=\"@@{calm_array_private_ip_address}@@\"\ndata_ips=\"@@{GCPDataSet.private_ip_address}@@\"\nrouter_ips=\"@@{GCPRouter.private_ip_address}@@\"\n\nhostfile = open('\/etc\/hosts', 'r').read()\nprint hostfile\nhostfile = re.sub('\\n#MONGODB-BEGIN.*?#MONGODB-END', '', hostfile, flags=re.DOTALL)\nhostfile += \"#MONGODB-BEGIN\\n\"\ncount=1\nfor ip in config_ips.split(','):\n  hostfile += ip + \" config\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in data_ips.split(','):\n  hostfile += ip + \" data\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in router_ips.split(','):\n  hostfile += ip + \" router\" + str(count) + \".mongodb\\n\"\n  count += 1\nhostfile += \"#MONGODB-END\\n\"\nopen('\/etc\/hosts', 'w').write(hostfile)\nEOF\n\nsudo python \/tmp\/set-hostnames.py\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho '[mongodb-org-3.4]\nname=MongoDB Repository\nbaseurl=https:\/\/repo.mongodb.org\/yum\/redhat\/$releasever\/mongodb-org\/3.4\/x86_64\/\ngpgcheck=1\nenabled=1\ngpgkey=https:\/\/www.mongodb.org\/static\/pgp\/server-3.4.asc' | sudo tee \/etc\/yum.repos.d\/mongodb-3.4.repo\n\nsudo yum update -y --quiet\nsudo yum install -y --quiet mongodb-org-${VERSION} mongodb-org-server-${VERSION} mongodb-org-shell-${VERSION} mongodb-org-mongos-${VERSION} mongodb-org-tools-${VERSION}\n\necho 'exclude=mongodb-org*' | sudo tee -a \/etc\/yum.conf\n\nsudo mkdir -p ${DATA_PATH} ${JOURNAL_PATH} ${LOG_PATH}\nsudo ln -s ${JOURNAL_PATH} ${DATA_PATH}\/journal\nsudo chown -R mongod:mongod ${DATA_PATH} ${JOURNAL_PATH} ${LOG_PATH}"},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"d0d33ea1-5baf-48ed-ae79-7cf7c663a899"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","name":"ConfigSet Configure","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nCONFIG_SRV_IPS=\"@@{calm_array_private_ip_address}@@\"\nDATA_PATH=\"@@{DATA_PATH}@@\"\nINTERNAL_IP=\"@@{private_ip_address}@@\"\n\nsudo sed -i 's\/bindIp:\/#bindIp:\/g' \/etc\/mongod.conf\nsudo sed -i \"s#\/var\/lib\/mongo#${DATA_PATH}#g\" \/etc\/mongod.conf\nsudo sed -i 's\/#sharding:\/sharding:\\n  clusterRole: configsvr\/g' \/etc\/mongod.conf\nsudo sed -i 's\/#replication:\/replication:\\n  replSetName: configReplSet\/g' \/etc\/mongod.conf\n\n\nconfig_ips=$(echo \"${CONFIG_SRV_IPS}\" | sed 's\/^,\/\/' | sed 's\/,$\/\/' | tr \",\" \"\\n\")\nconfig_cnt=0\nconfig_str=\"\"\n\nfor config in $config_ips\ndo\n  config_str=$config_str\"{\\\"_id\\\": $config_cnt, host:\\\"$config:27017\\\"},\"\n  config_cnt=$(($config_cnt + 1))\ndone\nconfig_str=`echo $config_str | sed 's\/,$\/\/'`\njson=$(cat <<EOF\n{\n  \"_id\": \"configReplSet\",\n  \"members\": [\n    $config_str\n  ]\n}\nEOF\n)\n\nif [[ -f \/sys\/kernel\/mm\/transparent_hugepage\/enabled ]];then\n\techo never | sudo tee \/sys\/kernel\/mm\/transparent_hugepage\/enabled\nfi\nif [[ -f \/sys\/kernel\/mm\/transparent_hugepage\/defrag ]];then\n\techo never | sudo tee \/sys\/kernel\/mm\/transparent_hugepage\/defrag\nfi\n\nsudo systemctl restart mongod\nsleep 15\n\nif [ @@{calm_array_index}@@ -ne 0 ];then\n  exit\nfi\n\nsudo mongo --host ${INTERNAL_IP} --port 27017 --eval \"rs.initiate( $json )\""},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"aee03a41-5129-446c-b706-0062cf5640b9"}],"name":"cb5b150c_runbook_cloned_1","description":"","state":"ACTIVE","variable_list":[],"message_list":[],"main_task_local_reference":{"kind":"app_task","name":"d11ad974_dag","uuid":"4bb494a4-185c-4395-ba8e-834978f7d291"},"uuid":"9b669550-039e-4470-b3c3-37c4b8c45ee1"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPConfigSetPackage","uuid":"372ca4be-1681-4dae-b58f-dcdc8ab92dc1"},"retries":"0","name":"85c85e82_dag","type":"DAG","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"0ae576ae-7e56-4aad-bee6-2408f2aee168"}],"name":"485b8651_runbook_cloned_1","description":"","state":"ACTIVE","variable_list":[],"message_list":[],"main_task_local_reference":{"kind":"app_task","name":"85c85e82_dag","uuid":"0ae576ae-7e56-4aad-bee6-2408f2aee168"},"uuid":"01d4da76-969d-4e7c-8ab0-a92157c51b0e"}},"variable_list":[],"description":""},{"uuid":"3a9a70da-e9cc-49ee-89f8-74b5337ea3ff","action_list":[],"service_local_reference_list":[{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"}],"name":"GCPDataSetPackage","version":"","type":"DEB","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPDataSetPackage","uuid":"3a9a70da-e9cc-49ee-89f8-74b5337ea3ff"},"retries":"0","name":"48a6c51b_dag","type":"DAG","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"DataSet Install","uuid":"e6e4c70e-f5fd-431e-b947-327108ffd263"},{"kind":"app_task","name":"DataSet Configure","uuid":"79c1d885-8542-443c-8e9c-538b37724648"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"DataSet Install","uuid":"e6e4c70e-f5fd-431e-b947-327108ffd263"},"edge_type":"user_defined","type":"","uuid":"19c4de4c-569b-4b3e-be5d-7f609c3b8230","to_task_reference":{"kind":"app_task","name":"DataSet Configure","uuid":"79c1d885-8542-443c-8e9c-538b37724648"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"092a186e-4d37-4e3a-bf7d-5845f224fb6c"},{"target_any_local_reference":{"kind":"app_package","name":"GCPDataSetPackage","uuid":"3a9a70da-e9cc-49ee-89f8-74b5337ea3ff"},"retries":"0","name":"DataSet Install","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nVERSION=\"@@{MONGO_VERSION}@@\"\nDATA_PATH=\"@@{DATA_PATH}@@\"\nJOURNAL_PATH=\"@@{JOURNAL_PATH}@@\"\nLOG_PATH=\"@@{LOG_PATH}@@\"\nsudo hostnamectl set-hostname --static @@{name}@@\n\ncat > \/tmp\/set-hostnames.py <<EOF\n#!\/usr\/bin\/python\nimport re\nconfig_ips=\"@@{GCPConfigSet.private_ip_address}@@\"\ndata_ips=\"@@{calm_array_private_ip_address}@@\"\nrouter_ips=\"@@{GCPRouter.private_ip_address}@@\"\n\nhostfile = open('\/etc\/hosts', 'r').read()\nprint hostfile\nhostfile = re.sub('\\n#MONGODB-BEGIN.*?#MONGODB-END', '', hostfile, flags=re.DOTALL)\nhostfile += \"#MONGODB-BEGIN\\n\"\ncount=1\nfor ip in config_ips.split(','):\n  hostfile += ip + \" config\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in data_ips.split(','):\n  hostfile += ip + \" data\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in router_ips.split(','):\n  hostfile += ip + \" router\" + str(count) + \".mongodb\\n\"\n  count += 1\nhostfile += \"#MONGODB-END\\n\"\nopen('\/etc\/hosts', 'w').write(hostfile)\nEOF\n\nsudo python \/tmp\/set-hostnames.py\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho '[mongodb-org-3.4]\nname=MongoDB Repository\nbaseurl=https:\/\/repo.mongodb.org\/yum\/redhat\/$releasever\/mongodb-org\/3.4\/x86_64\/\ngpgcheck=1\nenabled=1\ngpgkey=https:\/\/www.mongodb.org\/static\/pgp\/server-3.4.asc' | sudo tee \/etc\/yum.repos.d\/mongodb-3.4.repo\n\nsudo yum update -y --quiet\nsudo yum install -y --quiet mongodb-org-${VERSION} mongodb-org-server-${VERSION} mongodb-org-shell-${VERSION} mongodb-org-mongos-${VERSION} mongodb-org-tools-${VERSION}\n\necho 'exclude=mongodb-org*' | sudo tee -a \/etc\/yum.conf\n\nsudo yum install -y --quiet lvm2 numactl lsscsi\nsudo lsscsi | awk '{print $NF}' | grep \/dev\/sd | grep -v sda | xargs sudo  pvcreate\n\nsudo vgcreate mongodata \/dev\/sdb \/dev\/sdc \/dev\/sdd \nsudo vgcreate mongojournal \/dev\/sde \nsudo vgcreate mongolog \/dev\/sdf\n\nsudo lvcreate -i 3 -l 100%VG -n mongodata mongodata\nsudo lvcreate -l 100%VG -n mongojournal mongojournal \nsudo lvcreate -l 100%VG -n mongolog mongolog\n\nsudo mkfs.xfs -K \/dev\/mapper\/mongodata-mongodata\nsudo mkfs.xfs -K \/dev\/mapper\/mongojournal-mongojournal\nsudo mkfs.xfs -K \/dev\/mapper\/mongolog-mongolog\n\nsudo mkdir -p ${DATA_PATH} ${JOURNAL_PATH} ${LOG_PATH}\n\necho \"\/dev\/mapper\/mongodata-mongodata ${DATA_PATH} xfs defaults,auto,noatime,noexec 0 0\n\/dev\/mapper\/mongojournal-mongojournal ${JOURNAL_PATH} xfs defaults,auto,noexec 0 0\n\/dev\/mapper\/mongolog-mongolog ${LOG_PATH} xfs defaults,auto,noexec 0 0\" | sudo tee -a \/etc\/fstab\nsudo mount -a\n\nsudo ln -s ${JOURNAL_PATH} ${DATA_PATH}\/journal\n\nsudo chown -R mongod:mongod ${DATA_PATH} ${JOURNAL_PATH} ${LOG_PATH}\n\nsudo blockdev --setra 32 \/dev\/dm-2\nsudo blockdev --getra \/dev\/dm-2\n\nsudo sysctl vm.swappiness=1\necho 'vm.swappiness=1' | sudo tee -a \/etc\/sysctl.conf\n"},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"e6e4c70e-f5fd-431e-b947-327108ffd263"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","name":"DataSet Configure","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nREPLICA_IPS=\"@@{calm_array_private_ip_address}@@\"\nDATA_PATH=\"@@{DATA_PATH}@@\"\nINTERNAL_IP=\"@@{private_ip_address}@@\"\nINDEX=@@{calm_array_index}@@\nNODES_PER_REPLICA_SET=@@{NODES_PER_REPLICA_SET}@@\nARRAY_REPLICA_IPS=$(echo ${REPLICA_IPS} | sed 's\/^,\/\/' | sed 's\/,$\/\/' | tr \",\" \"\\n\")\n\ntmp=$((${INDEX}+${NODES_PER_REPLICA_SET}))\nreplicasetNo=$((${tmp}\/${NODES_PER_REPLICA_SET}))\nreplicaSetName=\"dataReplSet${replicasetNo}\"\n\nsudo sed -i 's\/bindIp:\/#bindIp:\/g' \/etc\/mongod.conf\nsudo sed -i \"s#\/var\/lib\/mongo#${DATA_PATH}#g\" \/etc\/mongod.conf\nsudo sed -i \"s\/#replication:\/replication:\\n  replSetName: $replicaSetName\/g\" \/etc\/mongod.conf\nsudo sed -i 's\/#sharding:\/sharding:\\n  clusterRole: shardsvr\/g' \/etc\/mongod.conf\nsudo sed -i 's#  path: \/var\/log\/mongodb\/mongod.log#  path: \/mongodb\/log\/mongod.log#' \/etc\/mongod.conf\n\n### Getting replicaset members details \nreplica_cnt=0\ndeclare -a replicaset_members\n\nfor replica in $ARRAY_REPLICA_IPS\ndo\n  tmp=$((${replica_cnt}+${NODES_PER_REPLICA_SET}))\n  i=\"$((${tmp}\/${NODES_PER_REPLICA_SET}))\"\n  replicaset_members[$i]=${replicaset_members[$i]}\"{\\\"_id\\\": $replica_cnt, host:\\\"$replica:27017\\\"},\"\n  replica_cnt=$(($replica_cnt + 1))\ndone\n\nif [[ -f \/sys\/kernel\/mm\/transparent_hugepage\/enabled ]];then\n\techo never | sudo tee \/sys\/kernel\/mm\/transparent_hugepage\/enabled\nfi\nif [[ -f \/sys\/kernel\/mm\/transparent_hugepage\/defrag ]];then\n\techo never | sudo tee \/sys\/kernel\/mm\/transparent_hugepage\/defrag\nfi\n\nsudo systemctl restart mongod\nsleep 15\n\n### Initiating replicaset \njson=$(cat <<EOF\n{\n  \"_id\": \"$replicaSetName\",\n  \"members\": [ ${replicaset_members[$replicasetNo]}]\n}\nEOF\n)\nsudo mongo --host ${INTERNAL_IP} --port 27017 --eval \"rs.initiate( $json )\"\nsleep 2\n"},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"79c1d885-8542-443c-8e9c-538b37724648"}],"name":"37c08a7f_runbook_cloned_1","description":"","state":"ACTIVE","variable_list":[],"message_list":[],"main_task_local_reference":{"kind":"app_task","name":"48a6c51b_dag","uuid":"092a186e-4d37-4e3a-bf7d-5845f224fb6c"},"uuid":"9798b220-6a6b-4871-8f94-cc9c76ed07b3"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPDataSetPackage","uuid":"3a9a70da-e9cc-49ee-89f8-74b5337ea3ff"},"retries":"0","name":"8725d8b7_dag","type":"DAG","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"MoveDatabase","uuid":"19163970-0da3-4fe1-b3ee-a8206b97c3ae"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"8b071e2b-8017-4041-820e-09d852988f87"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","name":"MoveDatabase","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\n\nnode=$(echo \"@@{calm_array_address}@@\" | tr ',' '\\n' | wc -l)\n\nif [[ \"@@{calm_array_index}@@\" != \"$(($node-1))\" ]];then\n  exit 0\nfi\n\neval $(mongo --host router1.mongodb --port 27017 --quiet --eval 'db.adminCommand( { listShards: 1 } )' | python -c '\nimport json,sys\ndata=json.load(sys.stdin)\nprint \"HOST={}\".format(data[\"shards\"][len(data[\"shards\"])-1][\"host\"])\n')\neval $(mongo --host router1.mongodb --port 27017 --quiet --eval 'db.adminCommand( { listShards: 1 } )' | python -c '\nimport json,sys\ndata=json.load(sys.stdin)\nprint \"HOSTTOMOVE={}\".format(data[\"shards\"][@@{SHARD_TO_MOVE}@@-1][\"host\"])\n')\nhost_state=`mongo --host router1.mongodb --port 27017 --quiet --eval \"db.adminCommand({removeShard: '${HOST}'})['state']\"`\nif [[ \"$host_state\" == \"started\" ]] ; then\n  sleep 5\nfi\nhost_state=`mongo --host router1.mongodb --port 27017 --quiet --eval \"db.adminCommand({removeShard: '${HOST}'})['state']\"`\nif [[ \"$host_state\" == \"ongoing\" ]] ; then\n  if [[ \"@@{SHARD_TO_MOVE}@@\" == \"\" ]] ; then\n    echo \"Please enter the shard number value to move tables.\"\n    exit 1\n  fi\n  dbstomove=`mongo --host router1.mongodb --port 27017 --quiet --eval \"db.adminCommand({removeShard: '${HOST}'})['dbsToMove']\"`\n  eval $(echo $dbstomove | python -c 'import json,sys ; data=json.load(sys.stdin) ; print \"DBSTOMOVE={}\".format(\",\".join(data))')\n  for x in $(echo $DBSTOMOVE | tr \",\" \"\\n\") ; do\n     echo \"echo moving $x\"\n     mongo --host router1.mongodb --port 27017 --quiet --eval \"db.adminCommand({ movePrimary: '$x', to: '${HOSTTOMOVE}' })\"\n  done\n  mongo --host router1.mongodb --port 27017 --quiet --eval \"db.adminCommand({removeShard: '${HOST}'})\"\n  echo \"completed removing shard '${HOST}'\"\nelif [[ \"$host_state\" == \"completed\" ]] ; then\n  echo \"Host removal completed\"\nfi\n"},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"19163970-0da3-4fe1-b3ee-a8206b97c3ae"}],"name":"58209b81_runbook_cloned_1","description":"","state":"ACTIVE","variable_list":[],"message_list":[],"main_task_local_reference":{"kind":"app_task","name":"8725d8b7_dag","uuid":"8b071e2b-8017-4041-820e-09d852988f87"},"uuid":"a0b11152-56b2-4441-b6c6-3bd1a815a108"}},"variable_list":[],"description":""},{"uuid":"d0dc31b0-2ee6-484a-b025-b0f9d437419b","action_list":[],"service_local_reference_list":[{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"}],"name":"AzureRouterPackage","version":"","type":"DEB","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureRouterPackage","uuid":"d0dc31b0-2ee6-484a-b025-b0f9d437419b"},"retries":"0","name":"8a377b06_dag","type":"DAG","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"Router Install","uuid":"52ccb50e-589b-4f28-88ea-ed737290d2f6"},{"kind":"app_task","name":"Router Configure","uuid":"b93de238-7c02-48b3-84a3-0b08d98eb31f"},{"kind":"app_task","name":"Start Shard","uuid":"49a9b9b9-f619-4384-beda-5e89c3540abc"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Router Install","uuid":"52ccb50e-589b-4f28-88ea-ed737290d2f6"},"edge_type":"user_defined","type":"","uuid":"e2c40bb4-d0c0-46d2-9bc1-9ed847d38c6c","to_task_reference":{"kind":"app_task","name":"Router Configure","uuid":"b93de238-7c02-48b3-84a3-0b08d98eb31f"}},{"from_task_reference":{"kind":"app_task","name":"Router Configure","uuid":"b93de238-7c02-48b3-84a3-0b08d98eb31f"},"edge_type":"user_defined","type":"","uuid":"37667be7-b9b6-4f7f-b252-181fd1afb2d3","to_task_reference":{"kind":"app_task","name":"Start Shard","uuid":"49a9b9b9-f619-4384-beda-5e89c3540abc"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"9d927ccc-4cd1-475f-b54a-345e3e0610e1"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","name":"Router Install","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nVERSION=\"@@{MONGO_VERSION}@@\"\nDATA_PATH=\"@@{DATA_PATH}@@\"\nJOURNAL_PATH=\"@@{JOURNAL_PATH}@@\"\nLOG_PATH=\"@@{LOG_PATH}@@\"\nsudo hostnamectl set-hostname --static @@{name}@@\n\ncat > \/tmp\/set-hostnames.py <<EOF\n#!\/usr\/bin\/python\nimport re\nconfig_ips=\"@@{AzureConfigSet.private_ip_address}@@\"\ndata_ips=\"@@{AzureDataSet.private_ip_address}@@\"\nrouter_ips=\"@@{calm_array_private_ip_address}@@\"\n\nhostfile = open('\/etc\/hosts', 'r').read()\nprint hostfile\nhostfile = re.sub('\\n#MONGODB-BEGIN.*?#MONGODB-END', '', hostfile, flags=re.DOTALL)\nhostfile += \"#MONGODB-BEGIN\\n\"\ncount=1\nfor ip in config_ips.split(','):\n  hostfile += ip + \" config\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in data_ips.split(','):\n  hostfile += ip + \" data\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in router_ips.split(','):\n  hostfile += ip + \" router\" + str(count) + \".mongodb\\n\"\n  count += 1\nhostfile += \"#MONGODB-END\\n\"\nopen('\/etc\/hosts', 'w').write(hostfile)\nEOF\n\nsudo python \/tmp\/set-hostnames.py\n\nif [[ -f \/sys\/kernel\/mm\/transparent_hugepage\/enabled ]];then\n\techo never | sudo tee \/sys\/kernel\/mm\/transparent_hugepage\/enabled\nfi\nif [[ -f \/sys\/kernel\/mm\/transparent_hugepage\/defrag ]];then\n\techo never | sudo tee \/sys\/kernel\/mm\/transparent_hugepage\/defrag\nfi\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho '[mongodb-org-3.4]\nname=MongoDB Repository\nbaseurl=https:\/\/repo.mongodb.org\/yum\/redhat\/$releasever\/mongodb-org\/3.4\/x86_64\/\ngpgcheck=1\nenabled=1\ngpgkey=https:\/\/www.mongodb.org\/static\/pgp\/server-3.4.asc' | sudo tee \/etc\/yum.repos.d\/mongodb-3.4.repo\n\nsudo yum update -y --quiet\nsudo yum install -y --quiet mongodb-org-${VERSION} mongodb-org-server-${VERSION} mongodb-org-shell-${VERSION} mongodb-org-mongos-${VERSION} mongodb-org-tools-${VERSION}\n\necho 'exclude=mongodb-org*' | sudo tee -a \/etc\/yum.conf\n\nsudo mkdir -p ${DATA_PATH} ${JOURNAL_PATH} ${LOG_PATH}\nsudo ln -s ${JOURNAL_PATH} ${DATA_PATH}\/journal\nsudo chown -R mongod:mongod ${DATA_PATH} ${JOURNAL_PATH} ${LOG_PATH}"},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"52ccb50e-589b-4f28-88ea-ed737290d2f6"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","name":"Router Configure","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nCONFIG_SRV_IPS=\"@@{ConfigSet.private_ip_address}@@\"\nDATA_PATH=\"@@{DATA_PATH}@@\"\n\nconfig_ips=$(echo \"${CONFIG_SRV_IPS}\" | sed 's\/^,\/\/' | sed 's\/,$\/\/' | sed 's\/,\/:27017,\/g')\nconfig_ips=$config_ips\":27017\"\n\nsudo sed -i 's\/bindIp:\/#bindIp:\/g' \/etc\/mongod.conf\nsudo sed -i \"s#\/var\/lib\/mongo#${DATA_PATH}#g\" \/etc\/mongod.conf\n\necho \"[Unit]\nDescription=High-performance, schema-free document-oriented database\nAfter=network.target\nDocumentation=https:\/\/docs.mongodb.org\/manual\n\n[Service]\nUser=mongod\nGroup=mongod\nEnvironment=\\\"OPTIONS=--port 27017 --configdb configReplSet\/$config_ips --logpath \/var\/log\/mongodb\/mongos.log\\\"\nExecStart=\/usr\/bin\/mongos \\$OPTIONS\nPermissionsStartOnly=true\nPIDFile=\/var\/run\/mongodb\/mongos.pid\n# file size\nLimitFSIZE=infinity\n# cpu time\nLimitCPU=infinity\n# virtual memory size\nLimitAS=infinity\n# open files\nLimitNOFILE=64000\n# processes\/threads\nLimitNPROC=64000\n# total threads (user+kernel)\nTasksMax=infinity\nTasksAccounting=false\n# Recommended limits for for mongod as specified in\n# http:\/\/docs.mongodb.org\/manual\/reference\/ulimit\/#recommended-settings\n\n[Install]\nWantedBy=multi-user.target\" | sudo tee \/usr\/lib\/systemd\/system\/mongos.service\n\nsudo systemctl start mongos\n#sudo -u mongod -b mongos --port 27017 --configdb  --logpath \/var\/log\/mongodb\/mongos.log \n\nsleep 2"},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"b93de238-7c02-48b3-84a3-0b08d98eb31f"},{"target_any_local_reference":{"kind":"app_service","name":"Router","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","name":"Start Shard","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\nNODES_PER_REPLICA_SET=\"@@{NODES_PER_REPLICA_SET}@@\"\nINTERNAL_IP=\"@@{private_ip_address}@@\"\nREPLICA_IPS=($(echo @@{DataSet.private_ip_address}@@ | sed 's\/^,\/\/' | sed 's\/,$\/\/' | tr \",\" \"\\n\"))\nnoOfShards=$((${#REPLICA_IPS[@]}\/${NODES_PER_REPLICA_SET}))\n\ncount=0\nfor ((number=1;number <= $noOfShards;number++))\ndo\n  replicaSetName=\"dataReplSet${number}\"\n  sudo mongo --host ${INTERNAL_IP} --port 27017 --eval \"sh.addShard( \\\"$replicaSetName\/${REPLICA_IPS[${count}]}:27017\\\" )\"\n  count=$(($count + ${NODES_PER_REPLICA_SET}))\ndone"},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"49a9b9b9-f619-4384-beda-5e89c3540abc"}],"name":"fa32c0ec_runbook","description":"","state":"ACTIVE","variable_list":[],"message_list":[],"main_task_local_reference":{"kind":"app_task","name":"8a377b06_dag","uuid":"9d927ccc-4cd1-475f-b54a-345e3e0610e1"},"uuid":"a974dc52-38c3-4d11-be31-d1d394c5cd77"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureRouterPackage","uuid":"d0dc31b0-2ee6-484a-b025-b0f9d437419b"},"retries":"0","name":"4a931cb7_dag","type":"DAG","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"116c8399-ff46-49a4-9c47-7d5cd56e2e70"}],"name":"b1a83e89_runbook","description":"","state":"ACTIVE","variable_list":[],"message_list":[],"main_task_local_reference":{"kind":"app_task","name":"4a931cb7_dag","uuid":"116c8399-ff46-49a4-9c47-7d5cd56e2e70"},"uuid":"94889c82-cda0-459d-880e-39e0f55047c7"}},"variable_list":[],"description":""},{"uuid":"32aa87ce-6553-4fe1-b266-943390cceace","action_list":[],"service_local_reference_list":[{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"}],"name":"AzureConfigSetPackage","version":"","type":"DEB","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureConfigSetPackage","uuid":"32aa87ce-6553-4fe1-b266-943390cceace"},"retries":"0","name":"f5032321_dag","type":"DAG","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"ConfigSet Install","uuid":"321953b8-4c8a-457f-a0c1-6173e36552b6"},{"kind":"app_task","name":"ConfigSet Configure","uuid":"23bd570c-d059-4ddf-b033-758a9e468af0"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"ConfigSet Install","uuid":"321953b8-4c8a-457f-a0c1-6173e36552b6"},"edge_type":"user_defined","type":"","uuid":"2e0775ee-7818-414c-8c9f-e46543c38f93","to_task_reference":{"kind":"app_task","name":"ConfigSet Configure","uuid":"23bd570c-d059-4ddf-b033-758a9e468af0"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"baaeb556-e755-42a6-ad68-2e3a0d2f37fd"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","name":"ConfigSet Install","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nVERSION=\"@@{MONGO_VERSION}@@\"\nDATA_PATH=\"@@{DATA_PATH}@@\"\nJOURNAL_PATH=\"@@{JOURNAL_PATH}@@\"\nLOG_PATH=\"@@{LOG_PATH}@@\"\nsudo hostnamectl set-hostname --static @@{name}@@\n\ncat > \/tmp\/set-hostnames.py <<EOF\n#!\/usr\/bin\/python\nimport re\nconfig_ips=\"@@{calm_array_private_ip_address}@@\"\ndata_ips=\"@@{AzureDataSet.private_ip_address}@@\"\nrouter_ips=\"@@{AzureRouter.private_ip_address}@@\"\n\nhostfile = open('\/etc\/hosts', 'r').read()\nprint hostfile\nhostfile = re.sub('\\n#MONGODB-BEGIN.*?#MONGODB-END', '', hostfile, flags=re.DOTALL)\nhostfile += \"#MONGODB-BEGIN\\n\"\ncount=1\nfor ip in config_ips.split(','):\n  hostfile += ip + \" config\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in data_ips.split(','):\n  hostfile += ip + \" data\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in router_ips.split(','):\n  hostfile += ip + \" router\" + str(count) + \".mongodb\\n\"\n  count += 1\nhostfile += \"#MONGODB-END\\n\"\nopen('\/etc\/hosts', 'w').write(hostfile)\nEOF\n\nsudo python \/tmp\/set-hostnames.py\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho '[mongodb-org-3.4]\nname=MongoDB Repository\nbaseurl=https:\/\/repo.mongodb.org\/yum\/redhat\/$releasever\/mongodb-org\/3.4\/x86_64\/\ngpgcheck=1\nenabled=1\ngpgkey=https:\/\/www.mongodb.org\/static\/pgp\/server-3.4.asc' | sudo tee \/etc\/yum.repos.d\/mongodb-3.4.repo\n\nsudo yum update -y --quiet\nsudo yum install -y --quiet mongodb-org-${VERSION} mongodb-org-server-${VERSION} mongodb-org-shell-${VERSION} mongodb-org-mongos-${VERSION} mongodb-org-tools-${VERSION}\n\necho 'exclude=mongodb-org*' | sudo tee -a \/etc\/yum.conf\n\nsudo mkdir -p ${DATA_PATH} ${JOURNAL_PATH} ${LOG_PATH}\nsudo ln -s ${JOURNAL_PATH} ${DATA_PATH}\/journal\nsudo chown -R mongod:mongod ${DATA_PATH} ${JOURNAL_PATH} ${LOG_PATH}"},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"321953b8-4c8a-457f-a0c1-6173e36552b6"},{"target_any_local_reference":{"kind":"app_service","name":"ConfigSet","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","name":"ConfigSet Configure","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nCONFIG_SRV_IPS=\"@@{calm_array_private_ip_address}@@\"\nDATA_PATH=\"@@{DATA_PATH}@@\"\nINTERNAL_IP=\"@@{private_ip_address}@@\"\n\nsudo sed -i 's\/bindIp:\/#bindIp:\/g' \/etc\/mongod.conf\nsudo sed -i \"s#\/var\/lib\/mongo#${DATA_PATH}#g\" \/etc\/mongod.conf\nsudo sed -i 's\/#sharding:\/sharding:\\n  clusterRole: configsvr\/g' \/etc\/mongod.conf\nsudo sed -i 's\/#replication:\/replication:\\n  replSetName: configReplSet\/g' \/etc\/mongod.conf\n\n\nconfig_ips=$(echo \"${CONFIG_SRV_IPS}\" | sed 's\/^,\/\/' | sed 's\/,$\/\/' | tr \",\" \"\\n\")\nconfig_cnt=0\nconfig_str=\"\"\n\nfor config in $config_ips\ndo\n  config_str=$config_str\"{\\\"_id\\\": $config_cnt, host:\\\"$config:27017\\\"},\"\n  config_cnt=$(($config_cnt + 1))\ndone\nconfig_str=`echo $config_str | sed 's\/,$\/\/'`\njson=$(cat <<EOF\n{\n  \"_id\": \"configReplSet\",\n  \"members\": [\n    $config_str\n  ]\n}\nEOF\n)\n\nif [[ -f \/sys\/kernel\/mm\/transparent_hugepage\/enabled ]];then\n\techo never | sudo tee \/sys\/kernel\/mm\/transparent_hugepage\/enabled\nfi\nif [[ -f \/sys\/kernel\/mm\/transparent_hugepage\/defrag ]];then\n\techo never | sudo tee \/sys\/kernel\/mm\/transparent_hugepage\/defrag\nfi\n\nsudo systemctl restart mongod\nsleep 15\n\nif [ @@{calm_array_index}@@ -ne 0 ];then\n  exit\nfi\n\nsudo mongo --host ${INTERNAL_IP} --port 27017 --eval \"rs.initiate( $json )\""},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"23bd570c-d059-4ddf-b033-758a9e468af0"}],"name":"c77085cf_runbook","description":"","state":"ACTIVE","variable_list":[],"message_list":[],"main_task_local_reference":{"kind":"app_task","name":"f5032321_dag","uuid":"baaeb556-e755-42a6-ad68-2e3a0d2f37fd"},"uuid":"7d49cc0e-2869-4a36-9708-db07387fb8cd"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureConfigSetPackage","uuid":"32aa87ce-6553-4fe1-b266-943390cceace"},"retries":"0","name":"c123f4e9_dag","type":"DAG","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"cfcd7319-99cb-4117-a10c-776772621af1"}],"name":"11da4c9f_runbook","description":"","state":"ACTIVE","variable_list":[],"message_list":[],"main_task_local_reference":{"kind":"app_task","name":"c123f4e9_dag","uuid":"cfcd7319-99cb-4117-a10c-776772621af1"},"uuid":"ae762167-e335-45fb-ae7b-b35dc090b9be"}},"variable_list":[],"description":""},{"uuid":"05329dce-ac77-4859-8af3-ce1d08c85f89","action_list":[],"service_local_reference_list":[{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"}],"name":"AzureDataSetPackage","version":"","type":"DEB","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureDataSetPackage","uuid":"05329dce-ac77-4859-8af3-ce1d08c85f89"},"retries":"0","name":"78ede58b_dag","type":"DAG","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"DataSet Install","uuid":"afaba3a9-f58a-4bc2-bb86-12423abb3c62"},{"kind":"app_task","name":"DataSet Configure","uuid":"80f333a0-5159-41f2-87e8-b7a9a818a68c"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"DataSet Install","uuid":"afaba3a9-f58a-4bc2-bb86-12423abb3c62"},"edge_type":"user_defined","type":"","uuid":"bc30c80e-2c51-4f86-acbd-6942cd311d40","to_task_reference":{"kind":"app_task","name":"DataSet Configure","uuid":"80f333a0-5159-41f2-87e8-b7a9a818a68c"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"c993d755-5fe6-45da-99a0-6e924ba7da0e"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","name":"DataSet Install","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nVERSION=\"@@{MONGO_VERSION}@@\"\nDATA_PATH=\"@@{DATA_PATH}@@\"\nJOURNAL_PATH=\"@@{JOURNAL_PATH}@@\"\nLOG_PATH=\"@@{LOG_PATH}@@\"\nsudo hostnamectl set-hostname --static @@{name}@@\n\ncat > \/tmp\/set-hostnames.py <<EOF\n#!\/usr\/bin\/python\nimport re\nconfig_ips=\"@@{AzureConfigSet.private_ip_address}@@\"\ndata_ips=\"@@{calm_array_private_ip_address}@@\"\nrouter_ips=\"@@{AzureRouter.private_ip_address}@@\"\n\nhostfile = open('\/etc\/hosts', 'r').read()\nprint hostfile\nhostfile = re.sub('\\n#MONGODB-BEGIN.*?#MONGODB-END', '', hostfile, flags=re.DOTALL)\nhostfile += \"#MONGODB-BEGIN\\n\"\ncount=1\nfor ip in config_ips.split(','):\n  hostfile += ip + \" config\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in data_ips.split(','):\n  hostfile += ip + \" data\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in router_ips.split(','):\n  hostfile += ip + \" router\" + str(count) + \".mongodb\\n\"\n  count += 1\nhostfile += \"#MONGODB-END\\n\"\nopen('\/etc\/hosts', 'w').write(hostfile)\nEOF\n\nsudo python \/tmp\/set-hostnames.py\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho '[mongodb-org-3.4]\nname=MongoDB Repository\nbaseurl=https:\/\/repo.mongodb.org\/yum\/redhat\/$releasever\/mongodb-org\/3.4\/x86_64\/\ngpgcheck=1\nenabled=1\ngpgkey=https:\/\/www.mongodb.org\/static\/pgp\/server-3.4.asc' | sudo tee \/etc\/yum.repos.d\/mongodb-3.4.repo\n\nsudo yum update -y --quiet\nsudo yum install -y --quiet mongodb-org-${VERSION} mongodb-org-server-${VERSION} mongodb-org-shell-${VERSION} mongodb-org-mongos-${VERSION} mongodb-org-tools-${VERSION}\n\necho 'exclude=mongodb-org*' | sudo tee -a \/etc\/yum.conf\n\n\nsudo mkdir -p ${DATA_PATH} ${JOURNAL_PATH} ${LOG_PATH}\nsudo ln -s ${JOURNAL_PATH} ${DATA_PATH}\/journal\n\nsudo chown -R mongod:mongod ${DATA_PATH} ${JOURNAL_PATH} ${LOG_PATH}\n\nsudo sysctl vm.swappiness=1\necho 'vm.swappiness=1' | sudo tee -a \/etc\/sysctl.conf\n"},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"afaba3a9-f58a-4bc2-bb86-12423abb3c62"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","name":"DataSet Configure","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nREPLICA_IPS=\"@@{calm_array_private_ip_address}@@\"\nDATA_PATH=\"@@{DATA_PATH}@@\"\nINTERNAL_IP=\"@@{private_ip_address}@@\"\nINDEX=@@{calm_array_index}@@\nNODES_PER_REPLICA_SET=@@{NODES_PER_REPLICA_SET}@@\nARRAY_REPLICA_IPS=$(echo ${REPLICA_IPS} | sed 's\/^,\/\/' | sed 's\/,$\/\/' | tr \",\" \"\\n\")\n\ntmp=$((${INDEX}+${NODES_PER_REPLICA_SET}))\nreplicasetNo=$((${tmp}\/${NODES_PER_REPLICA_SET}))\nreplicaSetName=\"dataReplSet${replicasetNo}\"\n\nsudo sed -i 's\/bindIp:\/#bindIp:\/g' \/etc\/mongod.conf\nsudo sed -i \"s#\/var\/lib\/mongo#${DATA_PATH}#g\" \/etc\/mongod.conf\nsudo sed -i \"s\/#replication:\/replication:\\n  replSetName: $replicaSetName\/g\" \/etc\/mongod.conf\nsudo sed -i 's\/#sharding:\/sharding:\\n  clusterRole: shardsvr\/g' \/etc\/mongod.conf\nsudo sed -i 's#  path: \/var\/log\/mongodb\/mongod.log#  path: \/mongodb\/log\/mongod.log#' \/etc\/mongod.conf\n\n### Getting replicaset members details \nreplica_cnt=0\ndeclare -a replicaset_members\n\nfor replica in $ARRAY_REPLICA_IPS\ndo\n  tmp=$((${replica_cnt}+${NODES_PER_REPLICA_SET}))\n  i=\"$((${tmp}\/${NODES_PER_REPLICA_SET}))\"\n  replicaset_members[$i]=${replicaset_members[$i]}\"{\\\"_id\\\": $replica_cnt, host:\\\"$replica:27017\\\"},\"\n  replica_cnt=$(($replica_cnt + 1))\ndone\n\nif [[ -f \/sys\/kernel\/mm\/transparent_hugepage\/enabled ]];then\n\techo never | sudo tee \/sys\/kernel\/mm\/transparent_hugepage\/enabled\nfi\nif [[ -f \/sys\/kernel\/mm\/transparent_hugepage\/defrag ]];then\n\techo never | sudo tee \/sys\/kernel\/mm\/transparent_hugepage\/defrag\nfi\n\nsudo systemctl restart mongod\nsleep 15\n\n### Initiating replicaset \njson=$(cat <<EOF\n{\n  \"_id\": \"$replicaSetName\",\n  \"members\": [ ${replicaset_members[$replicasetNo]}]\n}\nEOF\n)\nsudo mongo --host ${INTERNAL_IP} --port 27017 --eval \"rs.initiate( $json )\"\nsleep 2\n"},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"80f333a0-5159-41f2-87e8-b7a9a818a68c"}],"name":"43f8f143_runbook","description":"","state":"ACTIVE","variable_list":[],"message_list":[],"main_task_local_reference":{"kind":"app_task","name":"78ede58b_dag","uuid":"c993d755-5fe6-45da-99a0-6e924ba7da0e"},"uuid":"105c9ac7-f0c0-46fc-8500-33538b547977"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureDataSetPackage","uuid":"05329dce-ac77-4859-8af3-ce1d08c85f89"},"retries":"0","name":"69281bf8_dag","type":"DAG","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"MoveShard","uuid":"6e9a91d7-04b7-419a-95a4-f1717d8fabe0"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"72e3f58b-c6e6-4a21-b338-61d197ae0e43"},{"target_any_local_reference":{"kind":"app_service","name":"DataSet","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","name":"MoveShard","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\n\nnode=$(echo \"@@{calm_array_address}@@\" | tr ',' '\\n' | wc -l)\n\nif [[ \"@@{calm_array_index}@@\" != \"$(($node-1))\" ]];then\n  exit 0\nfi\n\neval $(mongo --host router1.mongodb --port 27017 --quiet --eval 'db.adminCommand( { listShards: 1 } )' | python -c '\nimport json,sys\ndata=json.load(sys.stdin)\nprint \"HOST={}\".format(data[\"shards\"][len(data[\"shards\"])-1][\"host\"])\n')\neval $(mongo --host router1.mongodb --port 27017 --quiet --eval 'db.adminCommand( { listShards: 1 } )' | python -c '\nimport json,sys\ndata=json.load(sys.stdin)\nprint \"HOSTTOMOVE={}\".format(data[\"shards\"][@@{SHARD_TO_MOVE}@@-1][\"host\"])\n')\nhost_state=`mongo --host router1.mongodb --port 27017 --quiet --eval \"db.adminCommand({removeShard: '${HOST}'})['state']\"`\nif [[ \"$host_state\" == \"started\" ]] ; then\n  sleep 5\nfi\nhost_state=`mongo --host router1.mongodb --port 27017 --quiet --eval \"db.adminCommand({removeShard: '${HOST}'})['state']\"`\nif [[ \"$host_state\" == \"ongoing\" ]] ; then\n  if [[ \"@@{SHARD_TO_MOVE}@@\" == \"\" ]] ; then\n    echo \"Please enter the shard number value to move tables.\"\n    exit 1\n  fi\n  dbstomove=`mongo --host router1.mongodb --port 27017 --quiet --eval \"db.adminCommand({removeShard: '${HOST}'})['dbsToMove']\"`\n  eval $(echo $dbstomove | python -c 'import json,sys ; data=json.load(sys.stdin) ; print \"DBSTOMOVE={}\".format(\",\".join(data))')\n  for x in $(echo $DBSTOMOVE | tr \",\" \"\\n\") ; do\n     echo \"echo moving $x\"\n     mongo --host router1.mongodb --port 27017 --quiet --eval \"db.adminCommand({ movePrimary: '$x', to: '${HOSTTOMOVE}' })\"\n  done\n  mongo --host router1.mongodb --port 27017 --quiet --eval \"db.adminCommand({removeShard: '${HOST}'})\"\n  echo \"completed removing shard '${HOST}'\"\nelif [[ \"$host_state\" == \"completed\" ]] ; then\n  echo \"Host removal completed\"\nfi\n"},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"6e9a91d7-04b7-419a-95a4-f1717d8fabe0"}],"name":"b009fefd_runbook","description":"","state":"ACTIVE","variable_list":[],"message_list":[],"main_task_local_reference":{"kind":"app_task","name":"69281bf8_dag","uuid":"72e3f58b-c6e6-4a21-b338-61d197ae0e43"},"uuid":"0f732a6f-35f5-4278-a864-a32beff5d7c0"}},"variable_list":[],"description":""},{"name":"ESX_CENTOS_76","type":"SUBSTRATE_IMAGE","uuid":"ceebfa0c-f616-c3ca-4d88-fe76d5434070","variable_list":[],"options":{"name":"CENTOS_76","resources":{"image_type":"DISK_IMAGE","source_uri":"http:\/\/download.nutanix.com\/calm\/CentOS-7-x86_64-1810.ova","architecture":"X86_64"}}},{"uuid":"1d15cc5e-8151-a486-a729-df1537d0319b","action_list":[],"service_local_reference_list":[{"kind":"app_service","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"}],"name":"VMwareRouterPackage","version":"","type":"DEB","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","uuid":"1d15cc5e-8151-a486-a729-df1537d0319b"},"retries":"0","name":"300a2866_dag_cloned_1","type":"DAG","description":"","child_tasks_local_reference_list":[{"kind":"app_task","uuid":"f3553fca-562a-6cbc-0192-278436fd3443"},{"kind":"app_task","uuid":"651b5d5c-b087-7b5d-7eb0-b7e19c661339"},{"kind":"app_task","uuid":"ab8b82e8-1c2d-ab4e-4320-b6d9163a2f6b"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","uuid":"f3553fca-562a-6cbc-0192-278436fd3443"},"edge_type":"user_defined","type":"","uuid":"13686ec2-b327-b59f-4091-ac8765d646d9","to_task_reference":{"kind":"app_task","uuid":"651b5d5c-b087-7b5d-7eb0-b7e19c661339"}},{"from_task_reference":{"kind":"app_task","uuid":"651b5d5c-b087-7b5d-7eb0-b7e19c661339"},"edge_type":"user_defined","type":"","uuid":"8811bae8-f828-17e3-8e09-8c9c1b18c2bc","to_task_reference":{"kind":"app_task","uuid":"ab8b82e8-1c2d-ab4e-4320-b6d9163a2f6b"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"1a441c96-deff-b127-4580-6fe9bd5283c2"},{"target_any_local_reference":{"kind":"app_package","uuid":"1d15cc5e-8151-a486-a729-df1537d0319b"},"retries":"0","name":"Router Install","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nVERSION=\"@@{MONGO_VERSION}@@\"\nDATA_PATH=\"@@{DATA_PATH}@@\"\nJOURNAL_PATH=\"@@{JOURNAL_PATH}@@\"\nLOG_PATH=\"@@{LOG_PATH}@@\"\nsudo hostnamectl set-hostname --static @@{name}@@\n\ncat > \/tmp\/set-hostnames.py <<EOF\n#!\/usr\/bin\/python\nimport re\nconfig_ips=\"@@{VMwareConfigSet.address}@@\"\ndata_ips=\"@@{VMwareDataSet.address}@@\"\nrouter_ips=\"@@{calm_array_address}@@\"\n\nhostfile = open('\/etc\/hosts', 'r').read()\nprint hostfile\nhostfile = re.sub('\\n#MONGODB-BEGIN.*?#MONGODB-END', '', hostfile, flags=re.DOTALL)\nhostfile += \"#MONGODB-BEGIN\\n\"\ncount=1\nfor ip in config_ips.split(','):\n  hostfile += ip + \" config\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in data_ips.split(','):\n  hostfile += ip + \" data\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in router_ips.split(','):\n  hostfile += ip + \" router\" + str(count) + \".mongodb\\n\"\n  count += 1\nhostfile += \"#MONGODB-END\\n\"\nopen('\/etc\/hosts', 'w').write(hostfile)\nEOF\n\nsudo python \/tmp\/set-hostnames.py\n\nif [[ -f \/sys\/kernel\/mm\/transparent_hugepage\/enabled ]];then\n\techo never | sudo tee \/sys\/kernel\/mm\/transparent_hugepage\/enabled\nfi\nif [[ -f \/sys\/kernel\/mm\/transparent_hugepage\/defrag ]];then\n\techo never | sudo tee \/sys\/kernel\/mm\/transparent_hugepage\/defrag\nfi\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho '[mongodb-org-3.4]\nname=MongoDB Repository\nbaseurl=https:\/\/repo.mongodb.org\/yum\/redhat\/$releasever\/mongodb-org\/3.4\/x86_64\/\ngpgcheck=1\nenabled=1\ngpgkey=https:\/\/www.mongodb.org\/static\/pgp\/server-3.4.asc' | sudo tee \/etc\/yum.repos.d\/mongodb-3.4.repo\n\nsudo yum update -y --quiet\nsudo yum install -y --quiet mongodb-org-${VERSION} mongodb-org-server-${VERSION} mongodb-org-shell-${VERSION} mongodb-org-mongos-${VERSION} mongodb-org-tools-${VERSION}\n\necho 'exclude=mongodb-org*' | sudo tee -a \/etc\/yum.conf\n\nsudo mkdir -p ${DATA_PATH} ${JOURNAL_PATH} ${LOG_PATH}\nsudo ln -s ${JOURNAL_PATH} ${DATA_PATH}\/journal\nsudo chown -R mongod:mongod ${DATA_PATH} ${JOURNAL_PATH} ${LOG_PATH}"},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"f3553fca-562a-6cbc-0192-278436fd3443"},{"target_any_local_reference":{"kind":"app_service","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","name":"Router Configure","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nCONFIG_SRV_IPS=\"@@{ConfigSet.address}@@\"\nDATA_PATH=\"@@{DATA_PATH}@@\"\n\nconfig_ips=$(echo \"${CONFIG_SRV_IPS}\" | sed 's\/^,\/\/' | sed 's\/,$\/\/' | sed 's\/,\/:27017,\/g')\nconfig_ips=$config_ips\":27017\"\n\nsudo sed -i 's\/bindIp:\/#bindIp:\/g' \/etc\/mongod.conf\nsudo sed -i \"s#\/var\/lib\/mongo#${DATA_PATH}#g\" \/etc\/mongod.conf\n\necho \"[Unit]\nDescription=High-performance, schema-free document-oriented database\nAfter=network.target\nDocumentation=https:\/\/docs.mongodb.org\/manual\n\n[Service]\nUser=mongod\nGroup=mongod\nEnvironment=\\\"OPTIONS=--port 27017 --configdb configReplSet\/$config_ips --logpath \/var\/log\/mongodb\/mongos.log\\\"\nExecStart=\/usr\/bin\/mongos \\$OPTIONS\nPermissionsStartOnly=true\nPIDFile=\/var\/run\/mongodb\/mongos.pid\n# file size\nLimitFSIZE=infinity\n# cpu time\nLimitCPU=infinity\n# virtual memory size\nLimitAS=infinity\n# open files\nLimitNOFILE=64000\n# processes\/threads\nLimitNPROC=64000\n# total threads (user+kernel)\nTasksMax=infinity\nTasksAccounting=false\n# Recommended limits for for mongod as specified in\n# http:\/\/docs.mongodb.org\/manual\/reference\/ulimit\/#recommended-settings\n\n[Install]\nWantedBy=multi-user.target\" | sudo tee \/usr\/lib\/systemd\/system\/mongos.service\n\nsudo systemctl start mongos\n#sudo -u mongod -b mongos --port 27017 --configdb  --logpath \/var\/log\/mongodb\/mongos.log \n\nsleep 2"},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"651b5d5c-b087-7b5d-7eb0-b7e19c661339"},{"target_any_local_reference":{"kind":"app_service","uuid":"57337465-81f3-4470-86b8-b234707e1e9e"},"retries":"0","name":"Start Shard","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\nNODES_PER_REPLICA_SET=\"@@{NODES_PER_REPLICA_SET}@@\"\nINTERNAL_IP=\"@@{address}@@\"\nREPLICA_IPS=($(echo @@{DataSet.address}@@ | sed 's\/^,\/\/' | sed 's\/,$\/\/' | tr \",\" \"\\n\"))\nnoOfShards=$((${#REPLICA_IPS[@]}\/${NODES_PER_REPLICA_SET}))\n\ncount=0\nfor ((number=1;number <= $noOfShards;number++))\ndo\n  replicaSetName=\"dataReplSet${number}\"\n  sudo mongo --host ${INTERNAL_IP} --port 27017 --eval \"sh.addShard( \\\"$replicaSetName\/${REPLICA_IPS[${count}]}:27017\\\" )\"\n  count=$(($count + ${NODES_PER_REPLICA_SET}))\ndone"},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"ab8b82e8-1c2d-ab4e-4320-b6d9163a2f6b"}],"name":"e0b4ff16_runbook_cloned_0","description":"","state":"ACTIVE","variable_list":[],"message_list":[],"main_task_local_reference":{"kind":"app_task","uuid":"1a441c96-deff-b127-4580-6fe9bd5283c2"},"uuid":"d2875102-a530-ef21-969c-6b3133897a01"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","uuid":"1d15cc5e-8151-a486-a729-df1537d0319b"},"retries":"0","name":"2991f5d5_dag_cloned_1","type":"DAG","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"a48ea740-fdc7-e2e1-81f1-882c4d1019cc"}],"name":"c63c23aa_runbook_cloned_0","description":"","state":"ACTIVE","variable_list":[],"message_list":[],"main_task_local_reference":{"kind":"app_task","uuid":"a48ea740-fdc7-e2e1-81f1-882c4d1019cc"},"uuid":"0d6d9273-32e7-0103-c5c3-b86d6bcf344c"}},"variable_list":[],"description":""},{"uuid":"d9461450-276b-14d1-d8b7-4406aacb2683","action_list":[],"service_local_reference_list":[{"kind":"app_service","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"}],"name":"VMwareConfigSetPackage","version":"","type":"DEB","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","uuid":"d9461450-276b-14d1-d8b7-4406aacb2683"},"retries":"0","name":"d11ad974_dag_cloned_1","type":"DAG","description":"","child_tasks_local_reference_list":[{"kind":"app_task","uuid":"9d3acc06-0320-c3cc-0a08-12b7a7fa6113"},{"kind":"app_task","uuid":"4f77ff0b-ba84-fa9e-1f31-20e2cb38fc3a"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","uuid":"9d3acc06-0320-c3cc-0a08-12b7a7fa6113"},"edge_type":"user_defined","type":"","uuid":"79a5d0a7-d92f-c53c-1b38-c28fa5df104a","to_task_reference":{"kind":"app_task","uuid":"4f77ff0b-ba84-fa9e-1f31-20e2cb38fc3a"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"d4d9b27e-1deb-86b4-56cc-566dfa9e4c0b"},{"target_any_local_reference":{"kind":"app_package","uuid":"d9461450-276b-14d1-d8b7-4406aacb2683"},"retries":"0","name":"ConfigSet Install","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nVERSION=\"@@{MONGO_VERSION}@@\"\nDATA_PATH=\"@@{DATA_PATH}@@\"\nJOURNAL_PATH=\"@@{JOURNAL_PATH}@@\"\nLOG_PATH=\"@@{LOG_PATH}@@\"\nsudo hostnamectl set-hostname --static @@{name}@@\n\ncat > \/tmp\/set-hostnames.py <<EOF\n#!\/usr\/bin\/python\nimport re\nconfig_ips=\"@@{calm_array_address}@@\"\ndata_ips=\"@@{VMwareDataSet.address}@@\"\nrouter_ips=\"@@{VMwareRouter.address}@@\"\n\nhostfile = open('\/etc\/hosts', 'r').read()\nprint hostfile\nhostfile = re.sub('\\n#MONGODB-BEGIN.*?#MONGODB-END', '', hostfile, flags=re.DOTALL)\nhostfile += \"#MONGODB-BEGIN\\n\"\ncount=1\nfor ip in config_ips.split(','):\n  hostfile += ip + \" config\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in data_ips.split(','):\n  hostfile += ip + \" data\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in router_ips.split(','):\n  hostfile += ip + \" router\" + str(count) + \".mongodb\\n\"\n  count += 1\nhostfile += \"#MONGODB-END\\n\"\nopen('\/etc\/hosts', 'w').write(hostfile)\nEOF\n\nsudo python \/tmp\/set-hostnames.py\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho '[mongodb-org-3.4]\nname=MongoDB Repository\nbaseurl=https:\/\/repo.mongodb.org\/yum\/redhat\/$releasever\/mongodb-org\/3.4\/x86_64\/\ngpgcheck=1\nenabled=1\ngpgkey=https:\/\/www.mongodb.org\/static\/pgp\/server-3.4.asc' | sudo tee \/etc\/yum.repos.d\/mongodb-3.4.repo\n\nsudo yum update -y --quiet\nsudo yum install -y --quiet mongodb-org-${VERSION} mongodb-org-server-${VERSION} mongodb-org-shell-${VERSION} mongodb-org-mongos-${VERSION} mongodb-org-tools-${VERSION}\n\necho 'exclude=mongodb-org*' | sudo tee -a \/etc\/yum.conf\n\nsudo mkdir -p ${DATA_PATH} ${JOURNAL_PATH} ${LOG_PATH}\nsudo ln -s ${JOURNAL_PATH} ${DATA_PATH}\/journal\nsudo chown -R mongod:mongod ${DATA_PATH} ${JOURNAL_PATH} ${LOG_PATH}"},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"9d3acc06-0320-c3cc-0a08-12b7a7fa6113"},{"target_any_local_reference":{"kind":"app_service","uuid":"a953c31a-1345-47a6-8af3-9de919a722bd"},"retries":"0","name":"ConfigSet Configure","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nCONFIG_SRV_IPS=\"@@{calm_array_address}@@\"\nDATA_PATH=\"@@{DATA_PATH}@@\"\nINTERNAL_IP=\"@@{address}@@\"\n\nsudo sed -i 's\/bindIp:\/#bindIp:\/g' \/etc\/mongod.conf\nsudo sed -i \"s#\/var\/lib\/mongo#${DATA_PATH}#g\" \/etc\/mongod.conf\nsudo sed -i 's\/#sharding:\/sharding:\\n  clusterRole: configsvr\/g' \/etc\/mongod.conf\nsudo sed -i 's\/#replication:\/replication:\\n  replSetName: configReplSet\/g' \/etc\/mongod.conf\n\n\nconfig_ips=$(echo \"${CONFIG_SRV_IPS}\" | sed 's\/^,\/\/' | sed 's\/,$\/\/' | tr \",\" \"\\n\")\nconfig_cnt=0\nconfig_str=\"\"\n\nfor config in $config_ips\ndo\n  config_str=$config_str\"{\\\"_id\\\": $config_cnt, host:\\\"$config:27017\\\"},\"\n  config_cnt=$(($config_cnt + 1))\ndone\nconfig_str=`echo $config_str | sed 's\/,$\/\/'`\njson=$(cat <<EOF\n{\n  \"_id\": \"configReplSet\",\n  \"members\": [\n    $config_str\n  ]\n}\nEOF\n)\n\nif [[ -f \/sys\/kernel\/mm\/transparent_hugepage\/enabled ]];then\n\techo never | sudo tee \/sys\/kernel\/mm\/transparent_hugepage\/enabled\nfi\nif [[ -f \/sys\/kernel\/mm\/transparent_hugepage\/defrag ]];then\n\techo never | sudo tee \/sys\/kernel\/mm\/transparent_hugepage\/defrag\nfi\n\nsudo systemctl restart mongod\nsleep 5\n\nif [ @@{calm_array_index}@@ -ne 0 ];then\n  exit\nfi\n\nsudo mongo --host ${INTERNAL_IP} --port 27017 --eval \"rs.initiate( $json )\""},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"4f77ff0b-ba84-fa9e-1f31-20e2cb38fc3a"}],"name":"cb5b150c_runbook_cloned_0","description":"","state":"ACTIVE","variable_list":[],"message_list":[],"main_task_local_reference":{"kind":"app_task","uuid":"d4d9b27e-1deb-86b4-56cc-566dfa9e4c0b"},"uuid":"246b4fe2-dbea-eed6-7e3f-ea95b9d19b95"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","uuid":"d9461450-276b-14d1-d8b7-4406aacb2683"},"retries":"0","name":"85c85e82_dag_cloned_1","type":"DAG","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"195825f9-4e6e-26c8-9043-6dc2228c622c"}],"name":"485b8651_runbook_cloned_0","description":"","state":"ACTIVE","variable_list":[],"message_list":[],"main_task_local_reference":{"kind":"app_task","uuid":"195825f9-4e6e-26c8-9043-6dc2228c622c"},"uuid":"1b7b30d6-07aa-267d-070a-651bb62373fe"}},"variable_list":[],"description":""},{"uuid":"13a01a7a-0d41-ac0c-8633-f3c237ff2124","action_list":[],"service_local_reference_list":[{"kind":"app_service","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"}],"name":"VMwareDataSetPackage","version":"","type":"DEB","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","uuid":"13a01a7a-0d41-ac0c-8633-f3c237ff2124"},"retries":"0","name":"48a6c51b_dag_cloned_1","type":"DAG","description":"","child_tasks_local_reference_list":[{"kind":"app_task","uuid":"b46e71aa-8d3e-7c2f-1178-b5440c1f7ffd"},{"kind":"app_task","uuid":"e79884a9-2203-6d15-58f4-5824fe294308"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","uuid":"b46e71aa-8d3e-7c2f-1178-b5440c1f7ffd"},"edge_type":"user_defined","type":"","uuid":"c73b77d3-6138-3903-d6bc-c6fecd6aa980","to_task_reference":{"kind":"app_task","uuid":"e79884a9-2203-6d15-58f4-5824fe294308"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"3772cc00-762a-ef64-62af-ab527cbea718"},{"target_any_local_reference":{"kind":"app_package","uuid":"13a01a7a-0d41-ac0c-8633-f3c237ff2124"},"retries":"0","name":"DataSet Install","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nVERSION=\"@@{MONGO_VERSION}@@\"\nDATA_PATH=\"@@{DATA_PATH}@@\"\nJOURNAL_PATH=\"@@{JOURNAL_PATH}@@\"\nLOG_PATH=\"@@{LOG_PATH}@@\"\nsudo hostnamectl set-hostname --static @@{name}@@\n\ncat > \/tmp\/set-hostnames.py <<EOF\n#!\/usr\/bin\/python\nimport re\nconfig_ips=\"@@{VMwareConfigSet.address}@@\"\ndata_ips=\"@@{calm_array_address}@@\"\nrouter_ips=\"@@{VMwareRouter.address}@@\"\n\nhostfile = open('\/etc\/hosts', 'r').read()\nprint hostfile\nhostfile = re.sub('\\n#MONGODB-BEGIN.*?#MONGODB-END', '', hostfile, flags=re.DOTALL)\nhostfile += \"#MONGODB-BEGIN\\n\"\ncount=1\nfor ip in config_ips.split(','):\n  hostfile += ip + \" config\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in data_ips.split(','):\n  hostfile += ip + \" data\" + str(count) + \".mongodb\\n\"\n  count += 1\ncount=1\nfor ip in router_ips.split(','):\n  hostfile += ip + \" router\" + str(count) + \".mongodb\\n\"\n  count += 1\nhostfile += \"#MONGODB-END\\n\"\nopen('\/etc\/hosts', 'w').write(hostfile)\nEOF\n\nsudo python \/tmp\/set-hostnames.py\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho '[mongodb-org-3.4]\nname=MongoDB Repository\nbaseurl=https:\/\/repo.mongodb.org\/yum\/redhat\/$releasever\/mongodb-org\/3.4\/x86_64\/\ngpgcheck=1\nenabled=1\ngpgkey=https:\/\/www.mongodb.org\/static\/pgp\/server-3.4.asc' | sudo tee \/etc\/yum.repos.d\/mongodb-3.4.repo\n\nsudo yum update -y --quiet\nsudo yum install -y --quiet mongodb-org-${VERSION} mongodb-org-server-${VERSION} mongodb-org-shell-${VERSION} mongodb-org-mongos-${VERSION} mongodb-org-tools-${VERSION}\n\necho 'exclude=mongodb-org*' | sudo tee -a \/etc\/yum.conf\n\nsudo yum install -y --quiet lvm2 numactl lsscsi\nsudo lsscsi | awk '{print $NF}' | grep \/dev\/sd | grep -v sda | xargs sudo  pvcreate\n\nsudo vgcreate mongodata \/dev\/sdb \/dev\/sdc \/dev\/sdd \nsudo vgcreate mongojournal \/dev\/sde \nsudo vgcreate mongolog \/dev\/sdf\n\nsudo lvcreate -i 3 -l 100%VG -n mongodata mongodata\nsudo lvcreate -l 100%VG -n mongojournal mongojournal \nsudo lvcreate -l 100%VG -n mongolog mongolog\n\nsudo mkfs.xfs -K \/dev\/mapper\/mongodata-mongodata\nsudo mkfs.xfs -K \/dev\/mapper\/mongojournal-mongojournal\nsudo mkfs.xfs -K \/dev\/mapper\/mongolog-mongolog\n\nsudo mkdir -p ${DATA_PATH} ${JOURNAL_PATH} ${LOG_PATH}\n\necho \"\/dev\/mapper\/mongodata-mongodata ${DATA_PATH} xfs defaults,auto,noatime,noexec 0 0\n\/dev\/mapper\/mongojournal-mongojournal ${JOURNAL_PATH} xfs defaults,auto,noexec 0 0\n\/dev\/mapper\/mongolog-mongolog ${LOG_PATH} xfs defaults,auto,noexec 0 0\" | sudo tee -a \/etc\/fstab\nsudo mount -a\n\nsudo ln -s ${JOURNAL_PATH} ${DATA_PATH}\/journal\n\nsudo chown -R mongod:mongod ${DATA_PATH} ${JOURNAL_PATH} ${LOG_PATH}\n\nsudo blockdev --setra 32 \/dev\/dm-2\nsudo blockdev --getra \/dev\/dm-2\n\nsudo sysctl vm.swappiness=1\necho 'vm.swappiness=1' | sudo tee -a \/etc\/sysctl.conf\n"},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"b46e71aa-8d3e-7c2f-1178-b5440c1f7ffd"},{"target_any_local_reference":{"kind":"app_service","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","name":"DataSet Configure","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nREPLICA_IPS=\"@@{calm_array_address}@@\"\nDATA_PATH=\"@@{DATA_PATH}@@\"\nINTERNAL_IP=\"@@{address}@@\"\nINDEX=@@{calm_array_index}@@\nNODES_PER_REPLICA_SET=@@{NODES_PER_REPLICA_SET}@@\nARRAY_REPLICA_IPS=$(echo ${REPLICA_IPS} | sed 's\/^,\/\/' | sed 's\/,$\/\/' | tr \",\" \"\\n\")\n\ntmp=$((${INDEX}+${NODES_PER_REPLICA_SET}))\nreplicasetNo=$((${tmp}\/${NODES_PER_REPLICA_SET}))\nreplicaSetName=\"dataReplSet${replicasetNo}\"\n\nsudo sed -i 's\/bindIp:\/#bindIp:\/g' \/etc\/mongod.conf\nsudo sed -i \"s#\/var\/lib\/mongo#${DATA_PATH}#g\" \/etc\/mongod.conf\nsudo sed -i \"s\/#replication:\/replication:\\n  replSetName: $replicaSetName\/g\" \/etc\/mongod.conf\nsudo sed -i 's\/#sharding:\/sharding:\\n  clusterRole: shardsvr\/g' \/etc\/mongod.conf\nsudo sed -i 's#  path: \/var\/log\/mongodb\/mongod.log#  path: \/mongodb\/log\/mongod.log#' \/etc\/mongod.conf\n\n### Getting replicaset members details \nreplica_cnt=0\ndeclare -a replicaset_members\n\nfor replica in $ARRAY_REPLICA_IPS\ndo\n  tmp=$((${replica_cnt}+${NODES_PER_REPLICA_SET}))\n  i=\"$((${tmp}\/${NODES_PER_REPLICA_SET}))\"\n  replicaset_members[$i]=${replicaset_members[$i]}\"{\\\"_id\\\": $replica_cnt, host:\\\"$replica:27017\\\"},\"\n  replica_cnt=$(($replica_cnt + 1))\ndone\n\nif [[ -f \/sys\/kernel\/mm\/transparent_hugepage\/enabled ]];then\n\techo never | sudo tee \/sys\/kernel\/mm\/transparent_hugepage\/enabled\nfi\nif [[ -f \/sys\/kernel\/mm\/transparent_hugepage\/defrag ]];then\n\techo never | sudo tee \/sys\/kernel\/mm\/transparent_hugepage\/defrag\nfi\n\nsudo systemctl restart mongod\nsleep 5\n\n### Initiating replicaset \njson=$(cat <<EOF\n{\n  \"_id\": \"$replicaSetName\",\n  \"members\": [ ${replicaset_members[$replicasetNo]}]\n}\nEOF\n)\nsudo mongo --host ${INTERNAL_IP} --port 27017 --eval \"rs.initiate( $json )\"\nsleep 2\n"},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"e79884a9-2203-6d15-58f4-5824fe294308"}],"name":"37c08a7f_runbook_cloned_0","description":"","state":"ACTIVE","variable_list":[],"message_list":[],"main_task_local_reference":{"kind":"app_task","uuid":"3772cc00-762a-ef64-62af-ab527cbea718"},"uuid":"c0cfaea4-925c-45d8-d050-c1f71e9d4b54"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","uuid":"13a01a7a-0d41-ac0c-8633-f3c237ff2124"},"retries":"0","name":"8725d8b7_dag_cloned_1","type":"DAG","description":"","child_tasks_local_reference_list":[{"kind":"app_task","uuid":"7ea5a0e1-d42b-73f9-df70-6ec5873d7fa7"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"3291b1d2-d607-988c-77a1-35c9aa8ef0a5"},{"target_any_local_reference":{"kind":"app_service","uuid":"17a450f6-2b1b-48c1-be1d-60954b642b47"},"retries":"0","name":"MoveDatabase_cloned_1","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\n\nnode=$(echo \"@@{calm_array_address}@@\" | tr ',' '\\n' | wc -l)\n\nif [[ \"@@{calm_array_index}@@\" != \"$(($node-1))\" ]];then\n  exit 0\nfi\n\neval $(mongo --host router1.mongodb --port 27017 --quiet --eval 'db.adminCommand( { listShards: 1 } )' | python -c '\nimport json,sys\ndata=json.load(sys.stdin)\nprint \"HOST={}\".format(data[\"shards\"][len(data[\"shards\"])-1][\"host\"])\n')\neval $(mongo --host router1.mongodb --port 27017 --quiet --eval 'db.adminCommand( { listShards: 1 } )' | python -c '\nimport json,sys\ndata=json.load(sys.stdin)\nprint \"HOSTTOMOVE={}\".format(data[\"shards\"][@@{SHARD_TO_MOVE}@@-1][\"host\"])\n')\nhost_state=`mongo --host router1.mongodb --port 27017 --quiet --eval \"db.adminCommand({removeShard: '${HOST}'})['state']\"`\nif [[ \"$host_state\" == \"started\" ]] ; then\n  sleep 5\nfi\nhost_state=`mongo --host router1.mongodb --port 27017 --quiet --eval \"db.adminCommand({removeShard: '${HOST}'})['state']\"`\nif [[ \"$host_state\" == \"ongoing\" ]] ; then\n  if [[ \"@@{SHARD_TO_MOVE}@@\" == \"\" ]] ; then\n    echo \"Please enter the shard number value to move tables.\"\n    exit 1\n  fi\n  dbstomove=`mongo --host router1.mongodb --port 27017 --quiet --eval \"db.adminCommand({removeShard: '${HOST}'})['dbsToMove']\"`\n  eval $(echo $dbstomove | python -c 'import json,sys ; data=json.load(sys.stdin) ; print \"DBSTOMOVE={}\".format(\",\".join(data))')\n  for x in $(echo $DBSTOMOVE | tr \",\" \"\\n\") ; do\n     echo \"echo moving $x\"\n     mongo --host router1.mongodb --port 27017 --quiet --eval \"db.adminCommand({ movePrimary: '$x', to: '${HOSTTOMOVE}' })\"\n  done\n  mongo --host router1.mongodb --port 27017 --quiet --eval \"db.adminCommand({removeShard: '${HOST}'})\"\n  echo \"completed removing shard '${HOST}'\"\nelif [[ \"$host_state\" == \"completed\" ]] ; then\n  echo \"Host removal completed\"\nfi\n"},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"7ea5a0e1-d42b-73f9-df70-6ec5873d7fa7"}],"name":"58209b81_runbook_cloned_0","description":"","state":"ACTIVE","variable_list":[],"message_list":[],"main_task_local_reference":{"kind":"app_task","uuid":"3291b1d2-d607-988c-77a1-35c9aa8ef0a5"},"uuid":"bf071490-2059-cbf2-0a7b-fd80473eac28"}},"variable_list":[],"description":""}],"client_attrs":{"f9f877d0-1395-4a0f-bd05-0eb5227833e1":{"y":134,"x":44},"8f5a340d-469c-48eb-bf95-4442d3927b7c":{"y":-185,"x":266},"6700823d-13ca-4cb0-a901-264423409804":{"y":-176,"x":-294},"7e59c5fb-0eef-40de-9bd5-982a0fb496bf":{"y":134,"x":44},"373c3814-2386-4ef3-9514-7b319066044b":{"y":-176,"x":-294},"b4f16742-83ea-4655-ad4c-b84f9a91cee5":{"y":-185,"x":266},"c1e0e021-7bc8-4713-b58b-f45507996b46":{"y":-176,"x":-294},"11478ea3-cf94-ab6e-557f-11c7c9a20f08":{"y":134,"x":44},"b420b9ba-66ee-e04a-66f1-05407109321f":{"y":-185,"x":266},"4c8b8533-7a13-4d9e-8f75-17180ffa6741":{"y":134,"x":44},"f11afc5c-f2fe-4648-9c73-87338ce4e25c":{"y":-176,"x":-294},"7795109d-944c-4a74-960c-c500272617f9":{"y":-185,"x":266},"5ec3de5b-7545-40af-b8c9-5a62a56a9453":{"y":-176,"x":-294},"30b27cdf-628e-49d3-b6e5-6b82278e432d":{"y":134,"x":44},"d33d3d86-604a-444c-84cd-0505d3918fc9":{"y":-185,"x":266}}},"description":"* Using mongodb command line `sudo mongo --host @@{Router.address}@@ --port 27017`"},"api_version":"3.0","metadata":{"last_update_time":"1559297696300663","owner_reference":{"kind":"user","uuid":"00000000-0000-0000-0000-000000000000","name":"admin"},"kind":"blueprint","uuid":"85710688-e96f-4096-bb20-51e4d9ffe899","project_reference":{"kind":"project","name":"default","uuid":"209e0a42-6f2d-4999-9a9b-5aa705d25661"},"spec_version":12,"creation_time":"1548830111690126","name":"MongoSharding"}}