{"status":{"description":"","source_mpi":"","state":"DRAFT","is_cloned":false,"message_list":[{"message":"Credential is invalid","reason":"INVALID_CREDENTIAL","details":[{"attribute_name":"default_credential"}]}],"resources":{"service_definition_list":[{"port_list":[],"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"ce945ed3-353b-41b9-a0f9-e179e46524d5","name":"action_create","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"MSSQL","uuid":"f52eea8e-8523-475b-a665-41262e6e39eb"},"retries":"0","description":"","type":"DAG","uuid":"9ffa05b6-aa0c-4182-bf49-49d59c74a1c1","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"030017c3_dag"}],"description":"","message_list":[],"uuid":"836d16e2-c534-4d0b-9b5c-5ff05bcbeafd","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"030017c3_dag","uuid":"9ffa05b6-aa0c-4182-bf49-49d59c74a1c1"},"name":"5730e30f_runbook"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"2eadca5d-6eef-4dea-8ad5-42324aac93aa","name":"action_delete","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"MSSQL","uuid":"f52eea8e-8523-475b-a665-41262e6e39eb"},"retries":"0","description":"","type":"DAG","uuid":"6898bcf4-d805-4de4-96ad-bc9dcaa173c2","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"6f5f997d_dag"}],"description":"","message_list":[],"uuid":"d15d5ac4-1713-4960-a4a5-ee8a1b274990","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"6f5f997d_dag","uuid":"6898bcf4-d805-4de4-96ad-bc9dcaa173c2"},"name":"b01e7edf_runbook"}},{"description":"System action for starting an application","message_list":[],"uuid":"52b04658-c31f-4512-96b3-43d9b63bf138","name":"action_start","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"MSSQL","uuid":"f52eea8e-8523-475b-a665-41262e6e39eb"},"retries":"0","description":"","type":"DAG","uuid":"3ea4046f-1356-4fd3-969c-e8216cab5d8a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"c2b90e7d_dag"}],"description":"","message_list":[],"uuid":"35f005f2-28c5-4e02-bc4e-5d6261ce70f7","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"c2b90e7d_dag","uuid":"3ea4046f-1356-4fd3-969c-e8216cab5d8a"},"name":"0263f5a9_runbook"}},{"description":"System action for stopping an application","message_list":[],"uuid":"f493503e-e822-4293-b48e-d6f30e6a523f","name":"action_stop","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"MSSQL","uuid":"f52eea8e-8523-475b-a665-41262e6e39eb"},"retries":"0","description":"","type":"DAG","uuid":"127f0b67-ec85-4304-ac3f-086230ce4f9e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"00b1cc9f_dag"}],"description":"","message_list":[],"uuid":"a3a3e14c-142e-4dbd-9cd2-ae655d4c2f73","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"00b1cc9f_dag","uuid":"127f0b67-ec85-4304-ac3f-086230ce4f9e"},"name":"8aadc288_runbook"}},{"description":"System action for restarting an application","message_list":[],"uuid":"762ee059-364b-4efe-bfed-5832f7f32350","name":"action_restart","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"MSSQL","uuid":"f52eea8e-8523-475b-a665-41262e6e39eb"},"retries":"0","description":"","type":"DAG","uuid":"ee78707a-83a8-483c-bec9-6b28b2d8e0d3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"6c4b7c3b_dag"}],"description":"","message_list":[],"uuid":"95244e83-b925-492a-abac-705b6ca46437","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"6c4b7c3b_dag","uuid":"ee78707a-83a8-483c-bec9-6b28b2d8e0d3"},"name":"a059f54d_runbook"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"948fdb96-c099-4607-a3dd-b3f952d5b562","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"MSSQL","uuid":"f52eea8e-8523-475b-a665-41262e6e39eb"},"retries":"0","description":"","type":"DAG","uuid":"b45d2e8f-1ca1-4a9f-985c-f48ff60b24fb","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Service_Element_Delete_f52eea8e_8523_475b_a665_41262e6e39eb","uuid":"f6a34439-71dc-4269-ab6f-6baa1f4e2d2d"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Service_f52eea8e_8523_475b_a665_41262e6e39eb"},{"target_any_local_reference":{"kind":"app_service","name":"MSSQL","uuid":"f52eea8e-8523-475b-a665-41262e6e39eb"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"f6a34439-71dc-4269-ab6f-6baa1f4e2d2d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Service_Element_Delete_f52eea8e_8523_475b_a665_41262e6e39eb"}],"description":"","message_list":[],"uuid":"1a5ccd51-e84e-4d62-9976-00b6eadca266","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Service_f52eea8e_8523_475b_a665_41262e6e39eb","uuid":"b45d2e8f-1ca1-4a9f-985c-f48ff60b24fb"},"name":"SYS_GEN__Runbook_Service_f52eea8e_8523_475b_a665_41262e6e39eb"}}],"message_list":[],"uuid":"f52eea8e-8523-475b-a665-41262e6e39eb","state":"ACTIVE","depends_on_list":[],"editables":{},"tier":"","singleton":false,"variable_list":[{"val_type":"STRING","description":"","message_list":[],"uuid":"7b0cef9b-01ce-4b34-a039-a0a7ca3625dc","value":"","label":"","state":"ACTIVE","attrs":{"type":""},"editables":{},"type":"LOCAL","name":"EXECUTION_MODE"}],"name":"MSSQL"}],"substrate_definition_list":[{"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"70075675-c0bd-45c5-ad92-6907181b9be7","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"MSSQL2014","uuid":"05772215-d3b2-4adf-993c-e911da1ec18a"},"retries":"0","description":"","type":"DAG","uuid":"f0ef028e-d429-4663-8f93-59e5398a82e4","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Nutanix_Provision_05772215_d3b2_4adf_993c_e911da1ec18a","uuid":"e5e4cc77-0cf5-4bc6-97ee-a33b9b2e35a4"},{"kind":"app_task","name":"SYS_GEN__check_login_for_MSSQL2014_05772215_d3b2_4adf_993c_e911da1ec18a","uuid":"b92fce0d-e78a-430f-ace8-b70bc03eb84b"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Nutanix_Provision_05772215_d3b2_4adf_993c_e911da1ec18a","uuid":"e5e4cc77-0cf5-4bc6-97ee-a33b9b2e35a4"},"edge_type":"inherent","type":"","uuid":"4ed1211e-4f2f-471e-8e02-263a4fb38ec8","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_MSSQL2014_05772215_d3b2_4adf_993c_e911da1ec18a","uuid":"b92fce0d-e78a-430f-ace8-b70bc03eb84b"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_05772215_d3b2_4adf_993c_e911da1ec18a"},{"target_any_local_reference":{"kind":"app_substrate","name":"MSSQL2014","uuid":"05772215-d3b2-4adf-993c-e911da1ec18a"},"retries":"0","description":"","type":"PROVISION_NUTANIX","uuid":"e5e4cc77-0cf5-4bc6-97ee-a33b9b2e35a4","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"name":"MSSQL-@@{calm_random}@@","categories":"","availability_zone_reference":null,"backup_policy":null,"type":"","cluster_reference":null,"resources":{"nic_list":[],"parent_reference":null,"guest_tools":null,"num_vcpus_per_socket":1,"num_sockets":4,"serial_port_list":[],"gpu_list":[],"memory_size_mib":4096,"power_state":"ON","hardware_clock_timezone":"","guest_customization":{"cloud_init":null,"type":"","sysprep":{"install_type":"PREPARED","unattend_xml":"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<unattend xmlns=\"urn:schemas-microsoft-com:unattend\">\n   <settings pass=\"specialize\">\n      <component xmlns:wcm=\"http:\/\/schemas.microsoft.com\/WMIConfig\/2002\/State\" xmlns:xsi=\"http:\/\/www.w3.org\/2001\/XMLSchema-instance\" name=\"Microsoft-Windows-Shell-Setup\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\">\n         <ComputerName>@@{name}@@<\/ComputerName>\n         <RegisteredOrganization>Nutanix<\/RegisteredOrganization>\n         <RegisteredOwner>Acropolis<\/RegisteredOwner>\n         <TimeZone>UTC<\/TimeZone>\n      <\/component>\n      <component xmlns=\"\" name=\"Microsoft-Windows-TerminalServices-LocalSessionManager\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\" processorArchitecture=\"amd64\">\n         <fDenyTSConnections>false<\/fDenyTSConnections>\n      <\/component>\n      <component xmlns=\"\" name=\"Microsoft-Windows-TerminalServices-RDP-WinStationExtensions\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\" processorArchitecture=\"amd64\">\n         <UserAuthentication>0<\/UserAuthentication>\n      <\/component>\n      <component xmlns:wcm=\"http:\/\/schemas.microsoft.com\/WMIConfig\/2002\/State\" xmlns:xsi=\"http:\/\/www.w3.org\/2001\/XMLSchema-instance\" name=\"Networking-MPSSVC-Svc\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\">\n         <FirewallGroups>\n            <FirewallGroup wcm:action=\"add\" wcm:keyValue=\"RemoteDesktop\">\n               <Active>true<\/Active>\n               <Profile>all<\/Profile>\n               <Group>@FirewallAPI.dll,-28752<\/Group>\n            <\/FirewallGroup>\n         <\/FirewallGroups>\n      <\/component>\n   <\/settings>\n   <settings pass=\"oobeSystem\">\n      <component xmlns:wcm=\"http:\/\/schemas.microsoft.com\/WMIConfig\/2002\/State\" xmlns:xsi=\"http:\/\/www.w3.org\/2001\/XMLSchema-instance\" name=\"Microsoft-Windows-Shell-Setup\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\">\n         <UserAccounts>\n            <AdministratorPassword>\n               <Value>@@{LOCAL.secret}@@<\/Value>\n               <PlainText>true<\/PlainText>\n            <\/AdministratorPassword>\n         <\/UserAccounts>\n         <AutoLogon>\n            <Password>\n               <Value>@@{LOCAL.secret}@@<\/Value>\n               <PlainText>true<\/PlainText>\n            <\/Password>\n            <Enabled>true<\/Enabled>\n            <Username>Administrator<\/Username>\n         <\/AutoLogon>\n         <FirstLogonCommands>\n            <SynchronousCommand wcm:action=\"add\">\n               <CommandLine>cmd.exe \/c netsh firewall add portopening TCP 5985 \"Port 5985\"<\/CommandLine>\n               <Description>Win RM port open<\/Description>\n               <Order>1<\/Order>\n               <RequiresUserInput>true<\/RequiresUserInput>\n            <\/SynchronousCommand>\n         <\/FirstLogonCommands>\n         <OOBE>\n            <HideEULAPage>true<\/HideEULAPage>\n            <SkipMachineOOBE>true<\/SkipMachineOOBE>\n         <\/OOBE>\n      <\/component>\n      <component xmlns:wcm=\"http:\/\/schemas.microsoft.com\/WMIConfig\/2002\/State\" xmlns:xsi=\"http:\/\/www.w3.org\/2001\/XMLSchema-instance\" name=\"Microsoft-Windows-International-Core\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\">\n         <InputLocale>en-US<\/InputLocale>\n         <SystemLocale>en-US<\/SystemLocale>\n         <UILanguageFallback>en-us<\/UILanguageFallback>\n         <UILanguage>en-US<\/UILanguage>\n         <UserLocale>en-US<\/UserLocale>\n      <\/component>\n   <\/settings>\n<\/unattend>","type":""}},"type":"","boot_config":{"boot_device":{"type":"","disk_address":{"adapter_type":"SCSI","device_index":0,"type":""}},"type":"","mac_address":""},"disk_list":[{"data_source_reference":{"kind":"image","type":"","name":"WindowsServer2016-Base","uuid":"7e750478-38fd-48d3-a683-ab15fa30c0fb"},"type":"","disk_size_mib":0,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":0,"type":""}}},{"data_source_reference":{"kind":"image","type":"","name":"SQLServer2014SP2-FullSlipstream-x64-ENU","uuid":"c5d1bcf8-ecf6-4e9d-9e36-4f02cf93ac3e"},"type":"","disk_size_mib":0,"volume_group_reference":null,"device_properties":{"type":"","device_type":"CDROM","disk_address":{"adapter_type":"IDE","device_index":0,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":51200,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":1,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":153600,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":2,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":307200,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":3,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":307200,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":4,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":102400,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":5,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":102400,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":6,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":204800,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":7,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":204800,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":8,"type":""}}}]}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Nutanix_Provision_05772215_d3b2_4adf_993c_e911da1ec18a"},{"target_any_local_reference":{"kind":"app_substrate","name":"MSSQL2014","uuid":"05772215-d3b2-4adf-993c-e911da1ec18a"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"b92fce0d-e78a-430f-ace8-b70bc03eb84b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"300","address":"@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_MSSQL2014_05772215_d3b2_4adf_993c_e911da1ec18a"}],"description":"","message_list":[],"uuid":"bc278fd6-2b90-4b6e-a7fa-61efd4a0a456","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_05772215_d3b2_4adf_993c_e911da1ec18a","uuid":"f0ef028e-d429-4663-8f93-59e5398a82e4"},"name":"SYS_GEN__Runbook_Substrate_05772215_d3b2_4adf_993c_e911da1ec18a"}},{"description":"System action for powering on an application","message_list":[],"uuid":"48b123da-f0ab-474d-8de9-698e1aa6db73","name":"action_poweron","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"MSSQL2014","uuid":"05772215-d3b2-4adf-993c-e911da1ec18a"},"retries":"0","description":"","type":"DAG","uuid":"2f8f649e-daf7-4e0c-b99f-13ad4d6d2328","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Nutanix_Operation_PowerOn_05772215_d3b2_4adf_993c_e911da1ec18a","uuid":"ac86f51e-c1d8-491b-8b42-3894b7d7435e"},{"kind":"app_task","name":"SYS_GEN__check_login_for_MSSQL2014_05772215_d3b2_4adf_993c_e911da1ec18a","uuid":"0096d26b-3a58-443c-bf08-06a792b433a2"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Nutanix_Operation_PowerOn_05772215_d3b2_4adf_993c_e911da1ec18a","uuid":"ac86f51e-c1d8-491b-8b42-3894b7d7435e"},"edge_type":"inherent","type":"","uuid":"65384ee0-f244-4c85-ae67-94992ff3f711","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_MSSQL2014_05772215_d3b2_4adf_993c_e911da1ec18a","uuid":"0096d26b-3a58-443c-bf08-06a792b433a2"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_05772215_d3b2_4adf_993c_e911da1ec18a"},{"target_any_local_reference":{"kind":"app_substrate","name":"MSSQL2014","uuid":"05772215-d3b2-4adf-993c-e911da1ec18a"},"retries":"0","description":"","type":"VMOPERATION_NUTANIX","uuid":"ac86f51e-c1d8-491b-8b42-3894b7d7435e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Nutanix_Operation_PowerOn_05772215_d3b2_4adf_993c_e911da1ec18a"},{"target_any_local_reference":{"kind":"app_substrate","name":"MSSQL2014","uuid":"05772215-d3b2-4adf-993c-e911da1ec18a"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"0096d26b-3a58-443c-bf08-06a792b433a2","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"300","address":"@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_MSSQL2014_05772215_d3b2_4adf_993c_e911da1ec18a"}],"description":"","message_list":[],"uuid":"c612ebc5-461f-41e4-85a5-3a81bbfe0470","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_05772215_d3b2_4adf_993c_e911da1ec18a","uuid":"2f8f649e-daf7-4e0c-b99f-13ad4d6d2328"},"name":"SYS_GEN__Runbook_Substrate_05772215_d3b2_4adf_993c_e911da1ec18a"}},{"description":"System action for restarting an application","message_list":[],"uuid":"0d2d8425-3546-4e1a-b519-ebb9686ef6a6","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"MSSQL2014","uuid":"05772215-d3b2-4adf-993c-e911da1ec18a"},"retries":"0","description":"","type":"DAG","uuid":"594fa6dd-cbf8-48a9-aa86-64b1a124fe9c","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Nutanix_Operation_Restart_05772215_d3b2_4adf_993c_e911da1ec18a","uuid":"0c932bdc-60f7-4fa0-8abc-01d23b0a3ca1"},{"kind":"app_task","name":"SYS_GEN__check_login_for_MSSQL2014_05772215_d3b2_4adf_993c_e911da1ec18a","uuid":"42a41548-d2bd-4d8d-9ac5-363cbcca3e7c"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Nutanix_Operation_Restart_05772215_d3b2_4adf_993c_e911da1ec18a","uuid":"0c932bdc-60f7-4fa0-8abc-01d23b0a3ca1"},"edge_type":"inherent","type":"","uuid":"6f796521-6e41-48ec-8e87-2839421ef64b","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_MSSQL2014_05772215_d3b2_4adf_993c_e911da1ec18a","uuid":"42a41548-d2bd-4d8d-9ac5-363cbcca3e7c"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_05772215_d3b2_4adf_993c_e911da1ec18a"},{"target_any_local_reference":{"kind":"app_substrate","name":"MSSQL2014","uuid":"05772215-d3b2-4adf-993c-e911da1ec18a"},"retries":"0","description":"","type":"VMOPERATION_NUTANIX","uuid":"0c932bdc-60f7-4fa0-8abc-01d23b0a3ca1","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Nutanix_Operation_Restart_05772215_d3b2_4adf_993c_e911da1ec18a"},{"target_any_local_reference":{"kind":"app_substrate","name":"MSSQL2014","uuid":"05772215-d3b2-4adf-993c-e911da1ec18a"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"42a41548-d2bd-4d8d-9ac5-363cbcca3e7c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"300","address":"@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_MSSQL2014_05772215_d3b2_4adf_993c_e911da1ec18a"}],"description":"","message_list":[],"uuid":"9973eed6-ea1d-4086-bd7c-4e52e3c1c59c","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_05772215_d3b2_4adf_993c_e911da1ec18a","uuid":"594fa6dd-cbf8-48a9-aa86-64b1a124fe9c"},"name":"SYS_GEN__Runbook_Substrate_05772215_d3b2_4adf_993c_e911da1ec18a"}},{"description":"System action for suspending an application","message_list":[],"uuid":"9a410883-7e60-428f-8e25-60471a5dc640","name":"action_suspend","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"MSSQL2014","uuid":"05772215-d3b2-4adf-993c-e911da1ec18a"},"retries":"0","description":"","type":"DAG","uuid":"8604010e-ada6-413d-8101-729290575b08","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_05772215_d3b2_4adf_993c_e911da1ec18a"}],"description":"","message_list":[],"uuid":"c3995b79-14f2-445e-bafe-1bc5d6a0ca5f","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_05772215_d3b2_4adf_993c_e911da1ec18a","uuid":"8604010e-ada6-413d-8101-729290575b08"},"name":"SYS_GEN__Runbook_Substrate_05772215_d3b2_4adf_993c_e911da1ec18a"}},{"description":"System action for modifying an application","message_list":[],"uuid":"666f8c04-833b-4de2-9543-f2eead40aaf8","name":"action_modify","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"MSSQL2014","uuid":"05772215-d3b2-4adf-993c-e911da1ec18a"},"retries":"0","description":"","type":"DAG","uuid":"3e6e4ead-da2d-4cf3-88cc-acde792cd584","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_05772215_d3b2_4adf_993c_e911da1ec18a"}],"description":"","message_list":[],"uuid":"67de6809-0192-4a6e-b8ca-71cfab52e427","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_05772215_d3b2_4adf_993c_e911da1ec18a","uuid":"3e6e4ead-da2d-4cf3-88cc-acde792cd584"},"name":"SYS_GEN__Runbook_Substrate_05772215_d3b2_4adf_993c_e911da1ec18a"}},{"description":"System action for powering off an application","message_list":[],"uuid":"adb8e9c7-3a9b-4644-96ad-6ce19d9b3f45","name":"action_poweroff","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"MSSQL2014","uuid":"05772215-d3b2-4adf-993c-e911da1ec18a"},"retries":"0","description":"","type":"DAG","uuid":"f45813c3-cbeb-4bbc-befb-dc7fe2971cf9","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Nutanix_Operation_PowerOff_05772215_d3b2_4adf_993c_e911da1ec18a","uuid":"276fd963-d372-44ae-a452-efe3ca86a3d1"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_05772215_d3b2_4adf_993c_e911da1ec18a"},{"target_any_local_reference":{"kind":"app_substrate","name":"MSSQL2014","uuid":"05772215-d3b2-4adf-993c-e911da1ec18a"},"retries":"0","description":"","type":"VMOPERATION_NUTANIX","uuid":"276fd963-d372-44ae-a452-efe3ca86a3d1","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Nutanix_Operation_PowerOff_05772215_d3b2_4adf_993c_e911da1ec18a"}],"description":"","message_list":[],"uuid":"276d6b4d-a40b-4921-bc91-6c1684e0babb","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_05772215_d3b2_4adf_993c_e911da1ec18a","uuid":"f45813c3-cbeb-4bbc-befb-dc7fe2971cf9"},"name":"SYS_GEN__Runbook_Substrate_05772215_d3b2_4adf_993c_e911da1ec18a"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"77f94d72-d72a-48c8-be9f-09276a15de11","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"MSSQL2014","uuid":"05772215-d3b2-4adf-993c-e911da1ec18a"},"retries":"0","description":"","type":"DAG","uuid":"8f809e06-da74-40e8-baa8-d6f7d2be07bd","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Nutanix_Delete_05772215_d3b2_4adf_993c_e911da1ec18a","uuid":"abe8e463-bf00-4f84-8241-26da907ec7af"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_05772215_d3b2_4adf_993c_e911da1ec18a"},{"target_any_local_reference":{"kind":"app_substrate","name":"MSSQL2014","uuid":"05772215-d3b2-4adf-993c-e911da1ec18a"},"retries":"0","description":"","type":"DELETE_NUTANIX","uuid":"abe8e463-bf00-4f84-8241-26da907ec7af","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Nutanix_Delete_05772215_d3b2_4adf_993c_e911da1ec18a"}],"description":"","message_list":[],"uuid":"a6bc0891-c226-4113-8d85-b2a07d5709e4","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_05772215_d3b2_4adf_993c_e911da1ec18a","uuid":"8f809e06-da74-40e8-baa8-d6f7d2be07bd"},"name":"SYS_GEN__Runbook_Substrate_05772215_d3b2_4adf_993c_e911da1ec18a"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"d0c0e375-a80c-42da-bd07-01826a046089","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"MSSQL2014","uuid":"05772215-d3b2-4adf-993c-e911da1ec18a"},"retries":"0","description":"","type":"DAG","uuid":"f3bc56a9-99e7-493f-ab07-843731787a09","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Substrate_Element_Delete_05772215_d3b2_4adf_993c_e911da1ec18a","uuid":"61764395-aaf8-4959-a9d3-7d01c9873b0d"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_05772215_d3b2_4adf_993c_e911da1ec18a"},{"target_any_local_reference":{"kind":"app_substrate","name":"MSSQL2014","uuid":"05772215-d3b2-4adf-993c-e911da1ec18a"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"61764395-aaf8-4959-a9d3-7d01c9873b0d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Substrate_Element_Delete_05772215_d3b2_4adf_993c_e911da1ec18a"}],"description":"","message_list":[],"uuid":"494aee82-d0b1-43cf-b8e4-694eebc9f8eb","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_05772215_d3b2_4adf_993c_e911da1ec18a","uuid":"f3bc56a9-99e7-493f-ab07-843731787a09"},"name":"SYS_GEN__Runbook_Substrate_05772215_d3b2_4adf_993c_e911da1ec18a"}}],"message_list":[{"message":"editable 0 is not a valid list index","reason":"INVALID_EDITABLE","details":[{"attribute_name":"0"}]}],"uuid":"05772215-d3b2-4adf-993c-e911da1ec18a","state":"DRAFT","readiness_probe":{"connection_type":"POWERSHELL","retries":"5","disable_readiness_probe":false,"address":"@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@","delay_secs":"60","connection_port":5985,"login_credential_local_reference":{"kind":"app_credential","name":"LOCAL","uuid":"8b392aaf-f060-45c6-a224-4981098ac1a1"}},"editables":{"readiness_probe":{"connection_type":true,"delay_secs":true,"connection_port":true,"timeout_secs":true},"create_spec":{"name":true,"resources":{"nic_list":{"0":{"subnet_reference":true}},"serial_port_list":{},"num_vcpus_per_socket":true,"num_sockets":true,"memory_size_mib":true,"guest_customization":true,"disk_list":{"1":{"data_source_reference":true,"device_properties":{"disk_address":{"adapter_type":true},"device_type":true}},"0":{"data_source_reference":true,"device_properties":{"disk_address":{"adapter_type":true},"device_type":true}},"3":{"disk_size_mib":true},"2":{"disk_size_mib":true},"5":{"disk_size_mib":true},"4":{"disk_size_mib":true},"7":{"disk_size_mib":true},"6":{"disk_size_mib":true},"9":{"disk_size_mib":true},"8":{"disk_size_mib":true}}}}},"os_type":"Windows","type":"AHV_VM","create_spec":{"name":"MSSQL-@@{calm_random}@@","categories":"","availability_zone_reference":null,"backup_policy":null,"type":"","cluster_reference":null,"resources":{"nic_list":[],"parent_reference":null,"guest_tools":null,"num_vcpus_per_socket":1,"num_sockets":4,"serial_port_list":[],"gpu_list":[],"memory_size_mib":4096,"power_state":"ON","hardware_clock_timezone":"","guest_customization":{"cloud_init":null,"type":"","sysprep":{"install_type":"PREPARED","unattend_xml":"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<unattend xmlns=\"urn:schemas-microsoft-com:unattend\">\n   <settings pass=\"specialize\">\n      <component xmlns:wcm=\"http:\/\/schemas.microsoft.com\/WMIConfig\/2002\/State\" xmlns:xsi=\"http:\/\/www.w3.org\/2001\/XMLSchema-instance\" name=\"Microsoft-Windows-Shell-Setup\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\">\n         <ComputerName>@@{name}@@<\/ComputerName>\n         <RegisteredOrganization>Nutanix<\/RegisteredOrganization>\n         <RegisteredOwner>Acropolis<\/RegisteredOwner>\n         <TimeZone>UTC<\/TimeZone>\n      <\/component>\n      <component xmlns=\"\" name=\"Microsoft-Windows-TerminalServices-LocalSessionManager\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\" processorArchitecture=\"amd64\">\n         <fDenyTSConnections>false<\/fDenyTSConnections>\n      <\/component>\n      <component xmlns=\"\" name=\"Microsoft-Windows-TerminalServices-RDP-WinStationExtensions\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\" processorArchitecture=\"amd64\">\n         <UserAuthentication>0<\/UserAuthentication>\n      <\/component>\n      <component xmlns:wcm=\"http:\/\/schemas.microsoft.com\/WMIConfig\/2002\/State\" xmlns:xsi=\"http:\/\/www.w3.org\/2001\/XMLSchema-instance\" name=\"Networking-MPSSVC-Svc\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\">\n         <FirewallGroups>\n            <FirewallGroup wcm:action=\"add\" wcm:keyValue=\"RemoteDesktop\">\n               <Active>true<\/Active>\n               <Profile>all<\/Profile>\n               <Group>@FirewallAPI.dll,-28752<\/Group>\n            <\/FirewallGroup>\n         <\/FirewallGroups>\n      <\/component>\n   <\/settings>\n   <settings pass=\"oobeSystem\">\n      <component xmlns:wcm=\"http:\/\/schemas.microsoft.com\/WMIConfig\/2002\/State\" xmlns:xsi=\"http:\/\/www.w3.org\/2001\/XMLSchema-instance\" name=\"Microsoft-Windows-Shell-Setup\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\">\n         <UserAccounts>\n            <AdministratorPassword>\n               <Value>@@{LOCAL.secret}@@<\/Value>\n               <PlainText>true<\/PlainText>\n            <\/AdministratorPassword>\n         <\/UserAccounts>\n         <AutoLogon>\n            <Password>\n               <Value>@@{LOCAL.secret}@@<\/Value>\n               <PlainText>true<\/PlainText>\n            <\/Password>\n            <Enabled>true<\/Enabled>\n            <Username>Administrator<\/Username>\n         <\/AutoLogon>\n         <FirstLogonCommands>\n            <SynchronousCommand wcm:action=\"add\">\n               <CommandLine>cmd.exe \/c netsh firewall add portopening TCP 5985 \"Port 5985\"<\/CommandLine>\n               <Description>Win RM port open<\/Description>\n               <Order>1<\/Order>\n               <RequiresUserInput>true<\/RequiresUserInput>\n            <\/SynchronousCommand>\n         <\/FirstLogonCommands>\n         <OOBE>\n            <HideEULAPage>true<\/HideEULAPage>\n            <SkipMachineOOBE>true<\/SkipMachineOOBE>\n         <\/OOBE>\n      <\/component>\n      <component xmlns:wcm=\"http:\/\/schemas.microsoft.com\/WMIConfig\/2002\/State\" xmlns:xsi=\"http:\/\/www.w3.org\/2001\/XMLSchema-instance\" name=\"Microsoft-Windows-International-Core\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\">\n         <InputLocale>en-US<\/InputLocale>\n         <SystemLocale>en-US<\/SystemLocale>\n         <UILanguageFallback>en-us<\/UILanguageFallback>\n         <UILanguage>en-US<\/UILanguage>\n         <UserLocale>en-US<\/UserLocale>\n      <\/component>\n   <\/settings>\n<\/unattend>","type":""}},"type":"","boot_config":{"boot_device":{"type":"","disk_address":{"adapter_type":"SCSI","device_index":0,"type":""}},"type":"","mac_address":""},"disk_list":[{"data_source_reference":{"kind":"image","type":"","name":"WindowsServer2016-Base","uuid":"7e750478-38fd-48d3-a683-ab15fa30c0fb"},"type":"","disk_size_mib":0,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":0,"type":""}}},{"data_source_reference":{"kind":"image","type":"","name":"SQLServer2014SP2-FullSlipstream-x64-ENU","uuid":"c5d1bcf8-ecf6-4e9d-9e36-4f02cf93ac3e"},"type":"","disk_size_mib":0,"volume_group_reference":null,"device_properties":{"type":"","device_type":"CDROM","disk_address":{"adapter_type":"IDE","device_index":0,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":51200,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":1,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":153600,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":2,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":307200,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":3,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":307200,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":4,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":102400,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":5,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":102400,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":6,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":204800,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":7,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":204800,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":8,"type":""}}}]}},"variable_list":[],"name":"MSSQL2014"}],"credential_definition_list":[{"username":"administrator","description":"","state":"DRAFT","message_list":[{"message":"Secret value for credential is empty","reason":"EMPTY_VALUE","details":[{"attribute_name":"secret"}]}],"uuid":"8b392aaf-f060-45c6-a224-4981098ac1a1","secret":{"attrs":{"is_secret_modified":false,"secret_reference":{}}},"editables":{"username":true,"secret":true},"type":"PASSWORD","name":"LOCAL"},{"username":"administrator@contoso.com","description":"","state":"DRAFT","message_list":[{"message":"Secret value for credential is empty","reason":"EMPTY_VALUE","details":[{"attribute_name":"secret"}]}],"uuid":"2523dbe4-6f68-49c5-add8-2692faf0a220","secret":{"attrs":{"is_secret_modified":false,"secret_reference":{}}},"editables":{"username":true,"secret":true},"type":"PASSWORD","name":"DOMAIN_CRED"},{"username":"contoso\\administrator","description":"","state":"DRAFT","message_list":[{"message":"Secret value for credential is empty","reason":"EMPTY_VALUE","details":[{"attribute_name":"secret"}]}],"uuid":"2b2fe962-c833-4241-9284-d4355c0fbd4b","secret":{"attrs":{"is_secret_modified":false,"secret_reference":{}}},"editables":{"username":true,"secret":true},"type":"PASSWORD","name":"SQL_CRED"}],"type":"USER","app_profile_list":[{"deployment_create_list":[{"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"3e1a4c83-9e6a-436c-b9f8-4f994d235b9a","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"49669086_deployment","uuid":"a6e5e8c5-878d-4ece-8ef4-2760cad69d95"},"retries":"0","description":"","type":"DAG","uuid":"b51b0682-a35c-4b3f-9cfb-29cbe5a3900b","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__DE_Provision_a6e5e8c5_878d_4ece_8ef4_2760cad69d95","uuid":"6437d0cb-3a64-44c1-8c95-788b7ac21c2b"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_05772215_d3b2_4adf_993c_e911da1ec18a","uuid":"f903d34f-b8c7-43b6-8b6d-32b377d4b133"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_b1cc7bfd_cf34_4dea_8d87_b4ac5e9e85af","uuid":"16116099-c354-4b2a-afca-2a1c5c825b1b"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_f52eea8e_8523_475b_a665_41262e6e39eb","uuid":"cabcc9c5-23c2-4405-8d98-0f6fdd3e6fb2"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_f52eea8e_8523_475b_a665_41262e6e39eb","uuid":"94b28d03-d15f-458d-814f-b2b71e0876fd"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_f52eea8e_8523_475b_a665_41262e6e39eb","uuid":"cabcc9c5-23c2-4405-8d98-0f6fdd3e6fb2"},"edge_type":"inherent","type":"","uuid":"11bdb9ee-550a-4581-80c6-4d15bdcc8577","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_f52eea8e_8523_475b_a665_41262e6e39eb","uuid":"94b28d03-d15f-458d-814f-b2b71e0876fd"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_b1cc7bfd_cf34_4dea_8d87_b4ac5e9e85af","uuid":"16116099-c354-4b2a-afca-2a1c5c825b1b"},"edge_type":"inherent","type":"","uuid":"c86ff7b1-8ca2-40a6-ba2d-831ffb600098","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_f52eea8e_8523_475b_a665_41262e6e39eb","uuid":"cabcc9c5-23c2-4405-8d98-0f6fdd3e6fb2"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_a6e5e8c5_878d_4ece_8ef4_2760cad69d95","uuid":"6437d0cb-3a64-44c1-8c95-788b7ac21c2b"},"edge_type":"inherent","type":"","uuid":"cf335c0f-bd04-497c-9b6a-7820fe30ed5e","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_05772215_d3b2_4adf_993c_e911da1ec18a","uuid":"f903d34f-b8c7-43b6-8b6d-32b377d4b133"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_05772215_d3b2_4adf_993c_e911da1ec18a","uuid":"f903d34f-b8c7-43b6-8b6d-32b377d4b133"},"edge_type":"inherent","type":"","uuid":"3b4c334a-74c4-47f3-a5f7-5da1bb6915f2","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_b1cc7bfd_cf34_4dea_8d87_b4ac5e9e85af","uuid":"16116099-c354-4b2a-afca-2a1c5c825b1b"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_a6e5e8c5_878d_4ece_8ef4_2760cad69d95"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"49669086_deployment","uuid":"a6e5e8c5-878d-4ece-8ef4-2760cad69d95"},"retries":"0","description":"","type":"CREATE_DEPLOYMENT_ELEMENT","uuid":"6437d0cb-3a64-44c1-8c95-788b7ac21c2b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Provision_a6e5e8c5_878d_4ece_8ef4_2760cad69d95"},{"target_any_local_reference":{"kind":"app_substrate","name":"MSSQL2014","uuid":"05772215-d3b2-4adf-993c-e911da1ec18a"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"f903d34f-b8c7-43b6-8b6d-32b377d4b133","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"49669086_deployment","uuid":"a6e5e8c5-878d-4ece-8ef4-2760cad69d95"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_05772215_d3b2_4adf_993c_e911da1ec18a","uuid":"bc278fd6-2b90-4b6e-a7fa-61efd4a0a456"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Substrate_05772215_d3b2_4adf_993c_e911da1ec18a"},{"target_any_local_reference":{"kind":"app_package","name":"MSSQLPackage","uuid":"b1cc7bfd-cf34-4dea-8d87-b4ac5e9e85af"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"16116099-c354-4b2a-afca-2a1c5c825b1b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"49669086_deployment","uuid":"a6e5e8c5-878d-4ece-8ef4-2760cad69d95"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_b1cc7bfd_cf34_4dea_8d87_b4ac5e9e85af","uuid":"766b68f1-14da-4aa7-a9f5-0e7bca515061"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_b1cc7bfd_cf34_4dea_8d87_b4ac5e9e85af"},{"target_any_local_reference":{"kind":"app_service","name":"MSSQL","uuid":"f52eea8e-8523-475b-a665-41262e6e39eb"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"cabcc9c5-23c2-4405-8d98-0f6fdd3e6fb2","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"49669086_deployment","uuid":"a6e5e8c5-878d-4ece-8ef4-2760cad69d95"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"5730e30f_runbook","uuid":"836d16e2-c534-4d0b-9b5c-5ff05bcbeafd"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_f52eea8e_8523_475b_a665_41262e6e39eb"},{"target_any_local_reference":{"kind":"app_service","name":"MSSQL","uuid":"f52eea8e-8523-475b-a665-41262e6e39eb"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"94b28d03-d15f-458d-814f-b2b71e0876fd","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"49669086_deployment","uuid":"a6e5e8c5-878d-4ece-8ef4-2760cad69d95"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0263f5a9_runbook","uuid":"35f005f2-28c5-4e02-bc4e-5d6261ce70f7"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_f52eea8e_8523_475b_a665_41262e6e39eb"}],"description":"","message_list":[],"uuid":"af1f8e62-e920-4ad0-8e7d-0608c92f4fcc","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_a6e5e8c5_878d_4ece_8ef4_2760cad69d95","uuid":"b51b0682-a35c-4b3f-9cfb-29cbe5a3900b"},"name":"SYS_GEN__Runbook_Deployment_a6e5e8c5_878d_4ece_8ef4_2760cad69d95"}},{"description":"System action for starting an application","message_list":[],"uuid":"a4cddd6e-599b-4757-ab86-964ddc5424b4","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"49669086_deployment","uuid":"a6e5e8c5-878d-4ece-8ef4-2760cad69d95"},"retries":"0","description":"","type":"DAG","uuid":"839b8601-d7eb-433a-ae1b-665bf5df0b75","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_05772215_d3b2_4adf_993c_e911da1ec18a","uuid":"2a82bed1-f7f2-485a-8df7-f8bdd54dd0f8"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_f52eea8e_8523_475b_a665_41262e6e39eb","uuid":"2415f55d-579b-4a73-8d24-20775cb47c44"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_05772215_d3b2_4adf_993c_e911da1ec18a","uuid":"2a82bed1-f7f2-485a-8df7-f8bdd54dd0f8"},"edge_type":"inherent","type":"","uuid":"8eed070b-cdcb-4de2-975e-d1b302846a62","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_f52eea8e_8523_475b_a665_41262e6e39eb","uuid":"2415f55d-579b-4a73-8d24-20775cb47c44"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_a6e5e8c5_878d_4ece_8ef4_2760cad69d95"},{"target_any_local_reference":{"kind":"app_substrate","name":"MSSQL2014","uuid":"05772215-d3b2-4adf-993c-e911da1ec18a"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"2a82bed1-f7f2-485a-8df7-f8bdd54dd0f8","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"49669086_deployment","uuid":"a6e5e8c5-878d-4ece-8ef4-2760cad69d95"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_05772215_d3b2_4adf_993c_e911da1ec18a","uuid":"c612ebc5-461f-41e4-85a5-3a81bbfe0470"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Substrate_05772215_d3b2_4adf_993c_e911da1ec18a"},{"target_any_local_reference":{"kind":"app_service","name":"MSSQL","uuid":"f52eea8e-8523-475b-a665-41262e6e39eb"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"2415f55d-579b-4a73-8d24-20775cb47c44","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"49669086_deployment","uuid":"a6e5e8c5-878d-4ece-8ef4-2760cad69d95"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0263f5a9_runbook","uuid":"35f005f2-28c5-4e02-bc4e-5d6261ce70f7"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_f52eea8e_8523_475b_a665_41262e6e39eb"}],"description":"","message_list":[],"uuid":"66b3865f-5613-45c7-99ca-63789d1ba729","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_a6e5e8c5_878d_4ece_8ef4_2760cad69d95","uuid":"839b8601-d7eb-433a-ae1b-665bf5df0b75"},"name":"SYS_GEN__Runbook_Deployment_a6e5e8c5_878d_4ece_8ef4_2760cad69d95"}},{"description":"System action for restarting an application","message_list":[],"uuid":"4eabe354-8b4f-4ab1-b844-7e4b47cb882a","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"49669086_deployment","uuid":"a6e5e8c5-878d-4ece-8ef4-2760cad69d95"},"retries":"0","description":"","type":"DAG","uuid":"daffcfe7-96ae-4835-bb4a-73883b79a54b","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_05772215_d3b2_4adf_993c_e911da1ec18a","uuid":"5487a550-6771-41d3-8051-017fa1ff5cf2"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_f52eea8e_8523_475b_a665_41262e6e39eb","uuid":"ec0c01c4-7cf7-43ef-af79-a57a318a33a9"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_05772215_d3b2_4adf_993c_e911da1ec18a","uuid":"5487a550-6771-41d3-8051-017fa1ff5cf2"},"edge_type":"inherent","type":"","uuid":"c69230bb-e83a-4b6e-b1a9-585562400474","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_f52eea8e_8523_475b_a665_41262e6e39eb","uuid":"ec0c01c4-7cf7-43ef-af79-a57a318a33a9"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_a6e5e8c5_878d_4ece_8ef4_2760cad69d95"},{"target_any_local_reference":{"kind":"app_substrate","name":"MSSQL2014","uuid":"05772215-d3b2-4adf-993c-e911da1ec18a"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"5487a550-6771-41d3-8051-017fa1ff5cf2","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"49669086_deployment","uuid":"a6e5e8c5-878d-4ece-8ef4-2760cad69d95"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_05772215_d3b2_4adf_993c_e911da1ec18a","uuid":"9973eed6-ea1d-4086-bd7c-4e52e3c1c59c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Substrate_05772215_d3b2_4adf_993c_e911da1ec18a"},{"target_any_local_reference":{"kind":"app_service","name":"MSSQL","uuid":"f52eea8e-8523-475b-a665-41262e6e39eb"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"ec0c01c4-7cf7-43ef-af79-a57a318a33a9","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"49669086_deployment","uuid":"a6e5e8c5-878d-4ece-8ef4-2760cad69d95"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"a059f54d_runbook","uuid":"95244e83-b925-492a-abac-705b6ca46437"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_f52eea8e_8523_475b_a665_41262e6e39eb"}],"description":"","message_list":[],"uuid":"ca7b3b60-faca-47c7-9aad-399a1133d8b0","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_a6e5e8c5_878d_4ece_8ef4_2760cad69d95","uuid":"daffcfe7-96ae-4835-bb4a-73883b79a54b"},"name":"SYS_GEN__Runbook_Deployment_a6e5e8c5_878d_4ece_8ef4_2760cad69d95"}},{"description":"System action for stopping an application","message_list":[],"uuid":"1a431504-f41c-4df3-84e1-b6555450d95b","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"49669086_deployment","uuid":"a6e5e8c5-878d-4ece-8ef4-2760cad69d95"},"retries":"0","description":"","type":"DAG","uuid":"ad9b588c-08d9-43e1-ae15-9fd0f12fb0db","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_f52eea8e_8523_475b_a665_41262e6e39eb","uuid":"26500bab-39e0-432d-a164-cedf9ab0f102"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_05772215_d3b2_4adf_993c_e911da1ec18a","uuid":"2af798b2-cf85-47b6-b4be-fdbf41073749"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_f52eea8e_8523_475b_a665_41262e6e39eb","uuid":"26500bab-39e0-432d-a164-cedf9ab0f102"},"edge_type":"inherent","type":"","uuid":"ffcf103f-e980-4315-ac9f-8685af160958","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_05772215_d3b2_4adf_993c_e911da1ec18a","uuid":"2af798b2-cf85-47b6-b4be-fdbf41073749"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_a6e5e8c5_878d_4ece_8ef4_2760cad69d95"},{"target_any_local_reference":{"kind":"app_service","name":"MSSQL","uuid":"f52eea8e-8523-475b-a665-41262e6e39eb"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"26500bab-39e0-432d-a164-cedf9ab0f102","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"49669086_deployment","uuid":"a6e5e8c5-878d-4ece-8ef4-2760cad69d95"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"8aadc288_runbook","uuid":"a3a3e14c-142e-4dbd-9cd2-ae655d4c2f73"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_f52eea8e_8523_475b_a665_41262e6e39eb"},{"target_any_local_reference":{"kind":"app_substrate","name":"MSSQL2014","uuid":"05772215-d3b2-4adf-993c-e911da1ec18a"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"2af798b2-cf85-47b6-b4be-fdbf41073749","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"49669086_deployment","uuid":"a6e5e8c5-878d-4ece-8ef4-2760cad69d95"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_05772215_d3b2_4adf_993c_e911da1ec18a","uuid":"276d6b4d-a40b-4921-bc91-6c1684e0babb"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Substrate_05772215_d3b2_4adf_993c_e911da1ec18a"}],"description":"","message_list":[],"uuid":"dac2892b-e6d2-49c0-bc35-d8cfdc75cbe4","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_a6e5e8c5_878d_4ece_8ef4_2760cad69d95","uuid":"ad9b588c-08d9-43e1-ae15-9fd0f12fb0db"},"name":"SYS_GEN__Runbook_Deployment_a6e5e8c5_878d_4ece_8ef4_2760cad69d95"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"6986d415-5a43-4782-943e-ea81e77862d0","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"49669086_deployment","uuid":"a6e5e8c5-878d-4ece-8ef4-2760cad69d95"},"retries":"0","description":"","type":"DAG","uuid":"7933e64a-c32d-4c9e-aa03-d0fe98f6f524","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_f52eea8e_8523_475b_a665_41262e6e39eb","uuid":"15872a86-ae5d-49f3-917e-a689ede3ecb9"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_f52eea8e_8523_475b_a665_41262e6e39eb","uuid":"6442e659-fe18-4e69-9bc9-c4437ab982c7"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_b1cc7bfd_cf34_4dea_8d87_b4ac5e9e85af","uuid":"e1c5b896-729e-4f34-93b1-4552f44eccfe"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_05772215_d3b2_4adf_993c_e911da1ec18a","uuid":"2e3f880f-a440-4dbb-9fa2-c5e356f68c24"},{"kind":"app_task","name":"SYS_GEN__DE_Delete_a6e5e8c5_878d_4ece_8ef4_2760cad69d95","uuid":"5832835e-7993-419b-aafc-607798e140e1"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_f52eea8e_8523_475b_a665_41262e6e39eb","uuid":"15872a86-ae5d-49f3-917e-a689ede3ecb9"},"edge_type":"inherent","type":"","uuid":"79433d68-f821-4683-b636-42da207f8e39","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_f52eea8e_8523_475b_a665_41262e6e39eb","uuid":"6442e659-fe18-4e69-9bc9-c4437ab982c7"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_f52eea8e_8523_475b_a665_41262e6e39eb","uuid":"6442e659-fe18-4e69-9bc9-c4437ab982c7"},"edge_type":"inherent","type":"","uuid":"dc29b625-e56b-4c4f-b387-776eff232237","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_b1cc7bfd_cf34_4dea_8d87_b4ac5e9e85af","uuid":"e1c5b896-729e-4f34-93b1-4552f44eccfe"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_05772215_d3b2_4adf_993c_e911da1ec18a","uuid":"2e3f880f-a440-4dbb-9fa2-c5e356f68c24"},"edge_type":"inherent","type":"","uuid":"f7bb5c8f-02a8-4347-84ec-ff8a53008dfe","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Delete_a6e5e8c5_878d_4ece_8ef4_2760cad69d95","uuid":"5832835e-7993-419b-aafc-607798e140e1"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_b1cc7bfd_cf34_4dea_8d87_b4ac5e9e85af","uuid":"e1c5b896-729e-4f34-93b1-4552f44eccfe"},"edge_type":"inherent","type":"","uuid":"5b7ba272-688a-4df4-a5a9-a4263d1bcadb","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_05772215_d3b2_4adf_993c_e911da1ec18a","uuid":"2e3f880f-a440-4dbb-9fa2-c5e356f68c24"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_a6e5e8c5_878d_4ece_8ef4_2760cad69d95"},{"target_any_local_reference":{"kind":"app_service","name":"MSSQL","uuid":"f52eea8e-8523-475b-a665-41262e6e39eb"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"15872a86-ae5d-49f3-917e-a689ede3ecb9","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"49669086_deployment","uuid":"a6e5e8c5-878d-4ece-8ef4-2760cad69d95"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"8aadc288_runbook","uuid":"a3a3e14c-142e-4dbd-9cd2-ae655d4c2f73"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_f52eea8e_8523_475b_a665_41262e6e39eb"},{"target_any_local_reference":{"kind":"app_service","name":"MSSQL","uuid":"f52eea8e-8523-475b-a665-41262e6e39eb"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"6442e659-fe18-4e69-9bc9-c4437ab982c7","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"49669086_deployment","uuid":"a6e5e8c5-878d-4ece-8ef4-2760cad69d95"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"b01e7edf_runbook","uuid":"d15d5ac4-1713-4960-a4a5-ee8a1b274990"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_f52eea8e_8523_475b_a665_41262e6e39eb"},{"target_any_local_reference":{"kind":"app_package","name":"MSSQLPackage","uuid":"b1cc7bfd-cf34-4dea-8d87-b4ac5e9e85af"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"e1c5b896-729e-4f34-93b1-4552f44eccfe","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"49669086_deployment","uuid":"a6e5e8c5-878d-4ece-8ef4-2760cad69d95"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_b1cc7bfd_cf34_4dea_8d87_b4ac5e9e85af","uuid":"0d7dde18-223f-4bd6-9c3b-b4a7dab9be39"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_b1cc7bfd_cf34_4dea_8d87_b4ac5e9e85af"},{"target_any_local_reference":{"kind":"app_substrate","name":"MSSQL2014","uuid":"05772215-d3b2-4adf-993c-e911da1ec18a"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"2e3f880f-a440-4dbb-9fa2-c5e356f68c24","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"49669086_deployment","uuid":"a6e5e8c5-878d-4ece-8ef4-2760cad69d95"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_05772215_d3b2_4adf_993c_e911da1ec18a","uuid":"a6bc0891-c226-4113-8d85-b2a07d5709e4"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Substrate_05772215_d3b2_4adf_993c_e911da1ec18a"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"49669086_deployment","uuid":"a6e5e8c5-878d-4ece-8ef4-2760cad69d95"},"retries":"0","description":"","type":"DELETE_DEPLOYMENT_ELEMENT","uuid":"5832835e-7993-419b-aafc-607798e140e1","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Delete_a6e5e8c5_878d_4ece_8ef4_2760cad69d95"}],"description":"","message_list":[],"uuid":"57ba66e1-310c-4d10-8e89-2a28f9ab82ac","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_a6e5e8c5_878d_4ece_8ef4_2760cad69d95","uuid":"7933e64a-c32d-4c9e-aa03-d0fe98f6f524"},"name":"SYS_GEN__Runbook_Deployment_a6e5e8c5_878d_4ece_8ef4_2760cad69d95"}},{"description":"System action for scaleout","message_list":[],"uuid":"7e01b160-ec12-461e-952c-e5dbe24b3ab7","name":"action_scaleout","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"49669086_deployment","uuid":"a6e5e8c5-878d-4ece-8ef4-2760cad69d95"},"retries":"0","description":"","type":"DAG","uuid":"fa5cf01e-7b4a-4691-a6ca-f7bce07e8bbe","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Deployment_Scaleout_a6e5e8c5_878d_4ece_8ef4_2760cad69d95","uuid":"43a6291e-a139-42b9-a9b2-da19304b0429"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_a6e5e8c5_878d_4ece_8ef4_2760cad69d95"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"49669086_deployment","uuid":"a6e5e8c5-878d-4ece-8ef4-2760cad69d95"},"retries":"0","description":"","type":"SCALING","uuid":"43a6291e-a139-42b9-a9b2-da19304b0429","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{scaling_count}@@","type":"","scaling_type":"SCALEOUT"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Deployment_Scaleout_a6e5e8c5_878d_4ece_8ef4_2760cad69d95"}],"description":"","message_list":[],"uuid":"5eef1792-0281-4715-891c-e985a2517063","state":"ACTIVE","variable_list":[{"val_type":"STRING","description":"","message_list":[],"uuid":"ab6d71a7-4fa0-446a-a76c-48bdf321aa30","value":"0","label":"","state":"NOT_VALIDATED","attrs":{},"editables":{"value":true},"type":"LOCAL","name":"scaling_count"}],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_a6e5e8c5_878d_4ece_8ef4_2760cad69d95","uuid":"fa5cf01e-7b4a-4691-a6ca-f7bce07e8bbe"},"name":"SYS_GEN__Runbook_Deployment_a6e5e8c5_878d_4ece_8ef4_2760cad69d95"}},{"description":"System action for scalein","message_list":[],"uuid":"2704105b-6102-49f2-99cc-86f7cb01a8ff","name":"action_scalein","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"49669086_deployment","uuid":"a6e5e8c5-878d-4ece-8ef4-2760cad69d95"},"retries":"0","description":"","type":"DAG","uuid":"58763100-95e7-4962-865f-f8d6af9f4fe4","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Deployment_Scalein_a6e5e8c5_878d_4ece_8ef4_2760cad69d95","uuid":"02e4918c-e035-4284-885d-cf1e417a3899"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_a6e5e8c5_878d_4ece_8ef4_2760cad69d95"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"49669086_deployment","uuid":"a6e5e8c5-878d-4ece-8ef4-2760cad69d95"},"retries":"0","description":"","type":"SCALING","uuid":"02e4918c-e035-4284-885d-cf1e417a3899","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{scaling_count}@@","type":"","scaling_type":"SCALEIN"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Deployment_Scalein_a6e5e8c5_878d_4ece_8ef4_2760cad69d95"}],"description":"","message_list":[],"uuid":"e369b1d9-5aba-440d-84c4-ce43cace955f","state":"ACTIVE","variable_list":[{"val_type":"STRING","description":"","message_list":[],"uuid":"f0bc8eb4-c888-4051-bfe2-00935f41483e","value":"0","label":"","state":"NOT_VALIDATED","attrs":{},"editables":{"value":true},"type":"LOCAL","name":"scaling_count"}],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_a6e5e8c5_878d_4ece_8ef4_2760cad69d95","uuid":"58763100-95e7-4962-865f-f8d6af9f4fe4"},"name":"SYS_GEN__Runbook_Deployment_a6e5e8c5_878d_4ece_8ef4_2760cad69d95"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"5b7eac15-e518-4a35-a735-45dd7135a32b","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"49669086_deployment","uuid":"a6e5e8c5-878d-4ece-8ef4-2760cad69d95"},"retries":"0","description":"","type":"DAG","uuid":"4440836a-af4c-4285-8bb2-64f26f314b09","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_f52eea8e_8523_475b_a665_41262e6e39eb","uuid":"5a8e11a8-7007-4351-bfb6-96ab33b2c08c"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_b1cc7bfd_cf34_4dea_8d87_b4ac5e9e85af","uuid":"dc78f9a9-72c8-4b4c-9d44-640230a09609"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_05772215_d3b2_4adf_993c_e911da1ec18a","uuid":"96ca7fc5-0605-4de6-9653-beecef45565b"},{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_a6e5e8c5_878d_4ece_8ef4_2760cad69d95","uuid":"3fd0018d-5763-4cdc-9ab1-4232fe12e0f6"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_f52eea8e_8523_475b_a665_41262e6e39eb","uuid":"5a8e11a8-7007-4351-bfb6-96ab33b2c08c"},"edge_type":"inherent","type":"","uuid":"edcf526b-b9c8-4cb0-be13-5f40dc7c038c","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_b1cc7bfd_cf34_4dea_8d87_b4ac5e9e85af","uuid":"dc78f9a9-72c8-4b4c-9d44-640230a09609"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_05772215_d3b2_4adf_993c_e911da1ec18a","uuid":"96ca7fc5-0605-4de6-9653-beecef45565b"},"edge_type":"inherent","type":"","uuid":"4132d915-a44b-4cc9-b6c7-98bb7f13ed0f","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_a6e5e8c5_878d_4ece_8ef4_2760cad69d95","uuid":"3fd0018d-5763-4cdc-9ab1-4232fe12e0f6"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_b1cc7bfd_cf34_4dea_8d87_b4ac5e9e85af","uuid":"dc78f9a9-72c8-4b4c-9d44-640230a09609"},"edge_type":"inherent","type":"","uuid":"69499d09-deac-4d78-9e76-c4d4777c1569","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_05772215_d3b2_4adf_993c_e911da1ec18a","uuid":"96ca7fc5-0605-4de6-9653-beecef45565b"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_a6e5e8c5_878d_4ece_8ef4_2760cad69d95"},{"target_any_local_reference":{"kind":"app_service","name":"MSSQL","uuid":"f52eea8e-8523-475b-a665-41262e6e39eb"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"5a8e11a8-7007-4351-bfb6-96ab33b2c08c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"49669086_deployment","uuid":"a6e5e8c5-878d-4ece-8ef4-2760cad69d95"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_f52eea8e_8523_475b_a665_41262e6e39eb","uuid":"1a5ccd51-e84e-4d62-9976-00b6eadca266"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_f52eea8e_8523_475b_a665_41262e6e39eb"},{"target_any_local_reference":{"kind":"app_package","name":"MSSQLPackage","uuid":"b1cc7bfd-cf34-4dea-8d87-b4ac5e9e85af"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"dc78f9a9-72c8-4b4c-9d44-640230a09609","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_b1cc7bfd_cf34_4dea_8d87_b4ac5e9e85af"},{"target_any_local_reference":{"kind":"app_substrate","name":"MSSQL2014","uuid":"05772215-d3b2-4adf-993c-e911da1ec18a"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"96ca7fc5-0605-4de6-9653-beecef45565b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"49669086_deployment","uuid":"a6e5e8c5-878d-4ece-8ef4-2760cad69d95"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_05772215_d3b2_4adf_993c_e911da1ec18a","uuid":"494aee82-d0b1-43cf-b8e4-694eebc9f8eb"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Substrate_05772215_d3b2_4adf_993c_e911da1ec18a"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"49669086_deployment","uuid":"a6e5e8c5-878d-4ece-8ef4-2760cad69d95"},"retries":"0","description":"","type":"SOFT_DELETE_DEPLOYMENT_ELEMENT","uuid":"3fd0018d-5763-4cdc-9ab1-4232fe12e0f6","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Soft_Delete_a6e5e8c5_878d_4ece_8ef4_2760cad69d95"}],"description":"","message_list":[],"uuid":"0290263d-8f5c-4240-a1a6-9bec9b60094f","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_a6e5e8c5_878d_4ece_8ef4_2760cad69d95","uuid":"4440836a-af4c-4285-8bb2-64f26f314b09"},"name":"SYS_GEN__Runbook_Deployment_a6e5e8c5_878d_4ece_8ef4_2760cad69d95"}}],"message_list":[],"published_service_local_reference_list":[],"uuid":"a6e5e8c5-878d-4ece-8ef4-2760cad69d95","min_replicas":"1","state":"DRAFT","max_replicas":"1","depends_on_list":[],"editables":{},"package_local_reference_list":[{"kind":"app_package","name":"MSSQLPackage","uuid":"b1cc7bfd-cf34-4dea-8d87-b4ac5e9e85af"}],"substrate_local_reference":{"kind":"app_substrate","name":"MSSQL2014","uuid":"05772215-d3b2-4adf-993c-e911da1ec18a"},"type":"GREENFIELD","options":{},"variable_list":[],"name":"49669086_deployment"}],"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"2088c379-84a3-4f0c-af0d-5bdd83db4d9f","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"Nutanix","uuid":"a35d7aa6-8d07-4651-8773-64d47d142aca"},"retries":"0","description":"","type":"DAG","uuid":"9eb353ba-6976-4fa5-ae28-712db4619244","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__DE_Provision_a6e5e8c5_878d_4ece_8ef4_2760cad69d95","uuid":"a98218ca-116a-4c64-9d44-62929d55653e"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_05772215_d3b2_4adf_993c_e911da1ec18a","uuid":"0c42454b-003a-4a77-aa30-927f1f902aa5"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_b1cc7bfd_cf34_4dea_8d87_b4ac5e9e85af","uuid":"6c0b85b2-4d61-40a9-bfa9-7e6a217d542c"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_f52eea8e_8523_475b_a665_41262e6e39eb","uuid":"ddbf83df-93c5-4905-97c2-7fb4457f8086"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_f52eea8e_8523_475b_a665_41262e6e39eb","uuid":"1b0a6ed7-df36-4236-bbc9-0a1a9e61f581"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_f52eea8e_8523_475b_a665_41262e6e39eb","uuid":"ddbf83df-93c5-4905-97c2-7fb4457f8086"},"edge_type":"inherent","type":"","uuid":"9b3ea14f-2aa3-45a2-896b-02d7a07169f8","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_f52eea8e_8523_475b_a665_41262e6e39eb","uuid":"1b0a6ed7-df36-4236-bbc9-0a1a9e61f581"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_b1cc7bfd_cf34_4dea_8d87_b4ac5e9e85af","uuid":"6c0b85b2-4d61-40a9-bfa9-7e6a217d542c"},"edge_type":"inherent","type":"","uuid":"0708aafe-67bd-41f2-8249-7a486235c134","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_f52eea8e_8523_475b_a665_41262e6e39eb","uuid":"ddbf83df-93c5-4905-97c2-7fb4457f8086"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_a6e5e8c5_878d_4ece_8ef4_2760cad69d95","uuid":"a98218ca-116a-4c64-9d44-62929d55653e"},"edge_type":"inherent","type":"","uuid":"4842e732-b629-444c-993b-6975d26543b2","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_05772215_d3b2_4adf_993c_e911da1ec18a","uuid":"0c42454b-003a-4a77-aa30-927f1f902aa5"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_05772215_d3b2_4adf_993c_e911da1ec18a","uuid":"0c42454b-003a-4a77-aa30-927f1f902aa5"},"edge_type":"inherent","type":"","uuid":"ac3f3006-7480-4a8d-a731-96ed61215c39","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_b1cc7bfd_cf34_4dea_8d87_b4ac5e9e85af","uuid":"6c0b85b2-4d61-40a9-bfa9-7e6a217d542c"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_a35d7aa6_8d07_4651_8773_64d47d142aca"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"49669086_deployment","uuid":"a6e5e8c5-878d-4ece-8ef4-2760cad69d95"},"retries":"0","description":"","type":"CREATE_DEPLOYMENT_ELEMENT","uuid":"a98218ca-116a-4c64-9d44-62929d55653e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Provision_a6e5e8c5_878d_4ece_8ef4_2760cad69d95"},{"target_any_local_reference":{"kind":"app_substrate","name":"MSSQL2014","uuid":"05772215-d3b2-4adf-993c-e911da1ec18a"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"0c42454b-003a-4a77-aa30-927f1f902aa5","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"49669086_deployment","uuid":"a6e5e8c5-878d-4ece-8ef4-2760cad69d95"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_05772215_d3b2_4adf_993c_e911da1ec18a","uuid":"bc278fd6-2b90-4b6e-a7fa-61efd4a0a456"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Substrate_05772215_d3b2_4adf_993c_e911da1ec18a"},{"target_any_local_reference":{"kind":"app_package","name":"MSSQLPackage","uuid":"b1cc7bfd-cf34-4dea-8d87-b4ac5e9e85af"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"6c0b85b2-4d61-40a9-bfa9-7e6a217d542c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"49669086_deployment","uuid":"a6e5e8c5-878d-4ece-8ef4-2760cad69d95"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_b1cc7bfd_cf34_4dea_8d87_b4ac5e9e85af","uuid":"766b68f1-14da-4aa7-a9f5-0e7bca515061"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_b1cc7bfd_cf34_4dea_8d87_b4ac5e9e85af"},{"target_any_local_reference":{"kind":"app_service","name":"MSSQL","uuid":"f52eea8e-8523-475b-a665-41262e6e39eb"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"ddbf83df-93c5-4905-97c2-7fb4457f8086","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"49669086_deployment","uuid":"a6e5e8c5-878d-4ece-8ef4-2760cad69d95"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"5730e30f_runbook","uuid":"836d16e2-c534-4d0b-9b5c-5ff05bcbeafd"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_f52eea8e_8523_475b_a665_41262e6e39eb"},{"target_any_local_reference":{"kind":"app_service","name":"MSSQL","uuid":"f52eea8e-8523-475b-a665-41262e6e39eb"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"1b0a6ed7-df36-4236-bbc9-0a1a9e61f581","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"49669086_deployment","uuid":"a6e5e8c5-878d-4ece-8ef4-2760cad69d95"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0263f5a9_runbook","uuid":"35f005f2-28c5-4e02-bc4e-5d6261ce70f7"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_f52eea8e_8523_475b_a665_41262e6e39eb"}],"description":"","message_list":[],"uuid":"ad325369-60b4-461c-b73c-0b6bde398402","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_a35d7aa6_8d07_4651_8773_64d47d142aca","uuid":"9eb353ba-6976-4fa5-ae28-712db4619244"},"name":"SYS_GEN__Runbook_Application_a35d7aa6_8d07_4651_8773_64d47d142aca"}},{"description":"System action for starting an application","message_list":[],"uuid":"cd93c7e1-85fb-4372-bbac-8a60ffa0a26d","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"Nutanix","uuid":"a35d7aa6-8d07-4651-8773-64d47d142aca"},"retries":"0","description":"","type":"DAG","uuid":"c1480825-16f2-42d9-8e33-b052190c8bd6","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_05772215_d3b2_4adf_993c_e911da1ec18a","uuid":"fec13686-4d12-4466-ba16-2ac3a4f78dc1"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_f52eea8e_8523_475b_a665_41262e6e39eb","uuid":"bb7ffb8b-316d-46ce-b8fb-cbaf3cc9d678"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_05772215_d3b2_4adf_993c_e911da1ec18a","uuid":"fec13686-4d12-4466-ba16-2ac3a4f78dc1"},"edge_type":"inherent","type":"","uuid":"b3c73ccc-71a6-48d2-8e46-405a41f7dfd1","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_f52eea8e_8523_475b_a665_41262e6e39eb","uuid":"bb7ffb8b-316d-46ce-b8fb-cbaf3cc9d678"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_a35d7aa6_8d07_4651_8773_64d47d142aca"},{"target_any_local_reference":{"kind":"app_substrate","name":"MSSQL2014","uuid":"05772215-d3b2-4adf-993c-e911da1ec18a"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"fec13686-4d12-4466-ba16-2ac3a4f78dc1","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"49669086_deployment","uuid":"a6e5e8c5-878d-4ece-8ef4-2760cad69d95"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_05772215_d3b2_4adf_993c_e911da1ec18a","uuid":"c612ebc5-461f-41e4-85a5-3a81bbfe0470"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Substrate_05772215_d3b2_4adf_993c_e911da1ec18a"},{"target_any_local_reference":{"kind":"app_service","name":"MSSQL","uuid":"f52eea8e-8523-475b-a665-41262e6e39eb"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"bb7ffb8b-316d-46ce-b8fb-cbaf3cc9d678","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"49669086_deployment","uuid":"a6e5e8c5-878d-4ece-8ef4-2760cad69d95"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0263f5a9_runbook","uuid":"35f005f2-28c5-4e02-bc4e-5d6261ce70f7"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_f52eea8e_8523_475b_a665_41262e6e39eb"}],"description":"","message_list":[],"uuid":"fd57bc0f-5941-4f40-a114-4716d49c6b22","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_a35d7aa6_8d07_4651_8773_64d47d142aca","uuid":"c1480825-16f2-42d9-8e33-b052190c8bd6"},"name":"SYS_GEN__Runbook_Application_a35d7aa6_8d07_4651_8773_64d47d142aca"}},{"description":"System action for restarting an application","message_list":[],"uuid":"e614a715-c9f8-4dbb-8891-375dd0c406af","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"Nutanix","uuid":"a35d7aa6-8d07-4651-8773-64d47d142aca"},"retries":"0","description":"","type":"DAG","uuid":"ecca78dd-fd0d-4e68-bfe0-66e38301b4a5","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_05772215_d3b2_4adf_993c_e911da1ec18a","uuid":"cfec9895-987f-4f0f-92a7-1e4e3ef648f8"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_f52eea8e_8523_475b_a665_41262e6e39eb","uuid":"4ef407a3-5e19-4c9f-b64f-05e4a750389e"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_05772215_d3b2_4adf_993c_e911da1ec18a","uuid":"cfec9895-987f-4f0f-92a7-1e4e3ef648f8"},"edge_type":"inherent","type":"","uuid":"e1202721-0abf-421b-98b9-f5128cf95bd6","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_f52eea8e_8523_475b_a665_41262e6e39eb","uuid":"4ef407a3-5e19-4c9f-b64f-05e4a750389e"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_a35d7aa6_8d07_4651_8773_64d47d142aca"},{"target_any_local_reference":{"kind":"app_substrate","name":"MSSQL2014","uuid":"05772215-d3b2-4adf-993c-e911da1ec18a"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"cfec9895-987f-4f0f-92a7-1e4e3ef648f8","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"49669086_deployment","uuid":"a6e5e8c5-878d-4ece-8ef4-2760cad69d95"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_05772215_d3b2_4adf_993c_e911da1ec18a","uuid":"9973eed6-ea1d-4086-bd7c-4e52e3c1c59c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Substrate_05772215_d3b2_4adf_993c_e911da1ec18a"},{"target_any_local_reference":{"kind":"app_service","name":"MSSQL","uuid":"f52eea8e-8523-475b-a665-41262e6e39eb"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"4ef407a3-5e19-4c9f-b64f-05e4a750389e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"49669086_deployment","uuid":"a6e5e8c5-878d-4ece-8ef4-2760cad69d95"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"a059f54d_runbook","uuid":"95244e83-b925-492a-abac-705b6ca46437"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_f52eea8e_8523_475b_a665_41262e6e39eb"}],"description":"","message_list":[],"uuid":"0fb7b2f8-bfb9-46b2-8feb-2fe631fc51c2","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_a35d7aa6_8d07_4651_8773_64d47d142aca","uuid":"ecca78dd-fd0d-4e68-bfe0-66e38301b4a5"},"name":"SYS_GEN__Runbook_Application_a35d7aa6_8d07_4651_8773_64d47d142aca"}},{"description":"System action for stopping an application","message_list":[],"uuid":"393f5004-0ce5-4619-8e4d-f8b546c40931","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"Nutanix","uuid":"a35d7aa6-8d07-4651-8773-64d47d142aca"},"retries":"0","description":"","type":"DAG","uuid":"677e3d50-2431-4f34-a617-4c49bd37d4ae","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_f52eea8e_8523_475b_a665_41262e6e39eb","uuid":"c1a350ac-7677-4219-aa3d-7100c5fe9d5b"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_05772215_d3b2_4adf_993c_e911da1ec18a","uuid":"1dd0965e-238f-40e5-8450-9ba5f9791f5c"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_f52eea8e_8523_475b_a665_41262e6e39eb","uuid":"c1a350ac-7677-4219-aa3d-7100c5fe9d5b"},"edge_type":"inherent","type":"","uuid":"681db0d8-0fe7-4a3b-a162-00899fc21211","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_05772215_d3b2_4adf_993c_e911da1ec18a","uuid":"1dd0965e-238f-40e5-8450-9ba5f9791f5c"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_a35d7aa6_8d07_4651_8773_64d47d142aca"},{"target_any_local_reference":{"kind":"app_service","name":"MSSQL","uuid":"f52eea8e-8523-475b-a665-41262e6e39eb"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"c1a350ac-7677-4219-aa3d-7100c5fe9d5b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"49669086_deployment","uuid":"a6e5e8c5-878d-4ece-8ef4-2760cad69d95"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"8aadc288_runbook","uuid":"a3a3e14c-142e-4dbd-9cd2-ae655d4c2f73"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_f52eea8e_8523_475b_a665_41262e6e39eb"},{"target_any_local_reference":{"kind":"app_substrate","name":"MSSQL2014","uuid":"05772215-d3b2-4adf-993c-e911da1ec18a"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"1dd0965e-238f-40e5-8450-9ba5f9791f5c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"49669086_deployment","uuid":"a6e5e8c5-878d-4ece-8ef4-2760cad69d95"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_05772215_d3b2_4adf_993c_e911da1ec18a","uuid":"276d6b4d-a40b-4921-bc91-6c1684e0babb"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Substrate_05772215_d3b2_4adf_993c_e911da1ec18a"}],"description":"","message_list":[],"uuid":"72af077b-4ad7-4e29-a133-b238dfd7df00","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_a35d7aa6_8d07_4651_8773_64d47d142aca","uuid":"677e3d50-2431-4f34-a617-4c49bd37d4ae"},"name":"SYS_GEN__Runbook_Application_a35d7aa6_8d07_4651_8773_64d47d142aca"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"17f3a85d-e2db-4ec0-8dbb-b10f11b244e6","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"Nutanix","uuid":"a35d7aa6-8d07-4651-8773-64d47d142aca"},"retries":"0","description":"","type":"DAG","uuid":"5f29b540-40b9-4f09-8295-c3adf3e07123","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_f52eea8e_8523_475b_a665_41262e6e39eb","uuid":"6456479b-6d28-4bf4-8eb4-44a7d982476a"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_f52eea8e_8523_475b_a665_41262e6e39eb","uuid":"8adf836a-5837-497c-85ea-71a19b8a27f0"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_b1cc7bfd_cf34_4dea_8d87_b4ac5e9e85af","uuid":"12b4c0c1-6a9b-42d8-bcf5-ad050d7cd7dd"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_05772215_d3b2_4adf_993c_e911da1ec18a","uuid":"24418c00-4948-448e-b466-12f4465ffcf8"},{"kind":"app_task","name":"SYS_GEN__DE_Delete_a6e5e8c5_878d_4ece_8ef4_2760cad69d95","uuid":"8cd810e5-4c0e-4527-9e00-1993fc28e86e"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_f52eea8e_8523_475b_a665_41262e6e39eb","uuid":"6456479b-6d28-4bf4-8eb4-44a7d982476a"},"edge_type":"inherent","type":"","uuid":"f03c0be3-9964-40d8-8ac7-ae5fe9aeab70","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_f52eea8e_8523_475b_a665_41262e6e39eb","uuid":"8adf836a-5837-497c-85ea-71a19b8a27f0"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_f52eea8e_8523_475b_a665_41262e6e39eb","uuid":"8adf836a-5837-497c-85ea-71a19b8a27f0"},"edge_type":"inherent","type":"","uuid":"65931cf9-a3cc-4b85-bcc8-64f5afdb83d7","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_b1cc7bfd_cf34_4dea_8d87_b4ac5e9e85af","uuid":"12b4c0c1-6a9b-42d8-bcf5-ad050d7cd7dd"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_05772215_d3b2_4adf_993c_e911da1ec18a","uuid":"24418c00-4948-448e-b466-12f4465ffcf8"},"edge_type":"inherent","type":"","uuid":"07d5081e-592c-4532-91bf-a53fbe5577c5","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Delete_a6e5e8c5_878d_4ece_8ef4_2760cad69d95","uuid":"8cd810e5-4c0e-4527-9e00-1993fc28e86e"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_b1cc7bfd_cf34_4dea_8d87_b4ac5e9e85af","uuid":"12b4c0c1-6a9b-42d8-bcf5-ad050d7cd7dd"},"edge_type":"inherent","type":"","uuid":"55f680a4-ea19-45cb-ae5c-3712a3520862","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_05772215_d3b2_4adf_993c_e911da1ec18a","uuid":"24418c00-4948-448e-b466-12f4465ffcf8"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_a35d7aa6_8d07_4651_8773_64d47d142aca"},{"target_any_local_reference":{"kind":"app_service","name":"MSSQL","uuid":"f52eea8e-8523-475b-a665-41262e6e39eb"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"6456479b-6d28-4bf4-8eb4-44a7d982476a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"49669086_deployment","uuid":"a6e5e8c5-878d-4ece-8ef4-2760cad69d95"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"8aadc288_runbook","uuid":"a3a3e14c-142e-4dbd-9cd2-ae655d4c2f73"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_f52eea8e_8523_475b_a665_41262e6e39eb"},{"target_any_local_reference":{"kind":"app_service","name":"MSSQL","uuid":"f52eea8e-8523-475b-a665-41262e6e39eb"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"8adf836a-5837-497c-85ea-71a19b8a27f0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"49669086_deployment","uuid":"a6e5e8c5-878d-4ece-8ef4-2760cad69d95"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"b01e7edf_runbook","uuid":"d15d5ac4-1713-4960-a4a5-ee8a1b274990"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_f52eea8e_8523_475b_a665_41262e6e39eb"},{"target_any_local_reference":{"kind":"app_package","name":"MSSQLPackage","uuid":"b1cc7bfd-cf34-4dea-8d87-b4ac5e9e85af"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"12b4c0c1-6a9b-42d8-bcf5-ad050d7cd7dd","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"49669086_deployment","uuid":"a6e5e8c5-878d-4ece-8ef4-2760cad69d95"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_b1cc7bfd_cf34_4dea_8d87_b4ac5e9e85af","uuid":"0d7dde18-223f-4bd6-9c3b-b4a7dab9be39"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_b1cc7bfd_cf34_4dea_8d87_b4ac5e9e85af"},{"target_any_local_reference":{"kind":"app_substrate","name":"MSSQL2014","uuid":"05772215-d3b2-4adf-993c-e911da1ec18a"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"24418c00-4948-448e-b466-12f4465ffcf8","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"49669086_deployment","uuid":"a6e5e8c5-878d-4ece-8ef4-2760cad69d95"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_05772215_d3b2_4adf_993c_e911da1ec18a","uuid":"a6bc0891-c226-4113-8d85-b2a07d5709e4"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Substrate_05772215_d3b2_4adf_993c_e911da1ec18a"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"49669086_deployment","uuid":"a6e5e8c5-878d-4ece-8ef4-2760cad69d95"},"retries":"0","description":"","type":"DELETE_DEPLOYMENT_ELEMENT","uuid":"8cd810e5-4c0e-4527-9e00-1993fc28e86e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Delete_a6e5e8c5_878d_4ece_8ef4_2760cad69d95"}],"description":"","message_list":[],"uuid":"f2f8ed5a-0266-40a5-b119-4b00f1de2558","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_a35d7aa6_8d07_4651_8773_64d47d142aca","uuid":"5f29b540-40b9-4f09-8295-c3adf3e07123"},"name":"SYS_GEN__Runbook_Application_a35d7aa6_8d07_4651_8773_64d47d142aca"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"9bf82240-6af2-49bf-a91a-11993523e1ca","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"Nutanix","uuid":"a35d7aa6-8d07-4651-8773-64d47d142aca"},"retries":"0","description":"","type":"DAG","uuid":"0f6d1332-5e3c-4be7-9cd7-bbeca763dd7b","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_f52eea8e_8523_475b_a665_41262e6e39eb","uuid":"11547e14-5367-4780-a28d-159e9de166ba"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_b1cc7bfd_cf34_4dea_8d87_b4ac5e9e85af","uuid":"9597b13d-ec37-428a-bca8-c6ef83b012f8"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_05772215_d3b2_4adf_993c_e911da1ec18a","uuid":"687519a0-3b03-4a76-b8b2-372afd8da7c6"},{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_a6e5e8c5_878d_4ece_8ef4_2760cad69d95","uuid":"7f05421c-44df-47c5-8429-5f8550507c1d"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_f52eea8e_8523_475b_a665_41262e6e39eb","uuid":"11547e14-5367-4780-a28d-159e9de166ba"},"edge_type":"inherent","type":"","uuid":"e0625b61-147f-4722-8f1a-563657cb6e1e","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_b1cc7bfd_cf34_4dea_8d87_b4ac5e9e85af","uuid":"9597b13d-ec37-428a-bca8-c6ef83b012f8"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_05772215_d3b2_4adf_993c_e911da1ec18a","uuid":"687519a0-3b03-4a76-b8b2-372afd8da7c6"},"edge_type":"inherent","type":"","uuid":"2ca37c08-60b7-460c-a46f-9d829415984d","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_a6e5e8c5_878d_4ece_8ef4_2760cad69d95","uuid":"7f05421c-44df-47c5-8429-5f8550507c1d"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_b1cc7bfd_cf34_4dea_8d87_b4ac5e9e85af","uuid":"9597b13d-ec37-428a-bca8-c6ef83b012f8"},"edge_type":"inherent","type":"","uuid":"8b51a58c-c1b0-4e58-8dca-57f3266d33fd","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_05772215_d3b2_4adf_993c_e911da1ec18a","uuid":"687519a0-3b03-4a76-b8b2-372afd8da7c6"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_a35d7aa6_8d07_4651_8773_64d47d142aca"},{"target_any_local_reference":{"kind":"app_service","name":"MSSQL","uuid":"f52eea8e-8523-475b-a665-41262e6e39eb"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"11547e14-5367-4780-a28d-159e9de166ba","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"49669086_deployment","uuid":"a6e5e8c5-878d-4ece-8ef4-2760cad69d95"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_f52eea8e_8523_475b_a665_41262e6e39eb","uuid":"1a5ccd51-e84e-4d62-9976-00b6eadca266"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_f52eea8e_8523_475b_a665_41262e6e39eb"},{"target_any_local_reference":{"kind":"app_package","name":"MSSQLPackage","uuid":"b1cc7bfd-cf34-4dea-8d87-b4ac5e9e85af"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"9597b13d-ec37-428a-bca8-c6ef83b012f8","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_b1cc7bfd_cf34_4dea_8d87_b4ac5e9e85af"},{"target_any_local_reference":{"kind":"app_substrate","name":"MSSQL2014","uuid":"05772215-d3b2-4adf-993c-e911da1ec18a"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"687519a0-3b03-4a76-b8b2-372afd8da7c6","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"49669086_deployment","uuid":"a6e5e8c5-878d-4ece-8ef4-2760cad69d95"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_05772215_d3b2_4adf_993c_e911da1ec18a","uuid":"494aee82-d0b1-43cf-b8e4-694eebc9f8eb"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Substrate_05772215_d3b2_4adf_993c_e911da1ec18a"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"49669086_deployment","uuid":"a6e5e8c5-878d-4ece-8ef4-2760cad69d95"},"retries":"0","description":"","type":"SOFT_DELETE_DEPLOYMENT_ELEMENT","uuid":"7f05421c-44df-47c5-8429-5f8550507c1d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Soft_Delete_a6e5e8c5_878d_4ece_8ef4_2760cad69d95"}],"description":"","message_list":[],"uuid":"92d7e2fd-165f-491e-8949-0a81f63603b4","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_a35d7aa6_8d07_4651_8773_64d47d142aca","uuid":"0f6d1332-5e3c-4be7-9cd7-bbeca763dd7b"},"name":"SYS_GEN__Runbook_Application_a35d7aa6_8d07_4651_8773_64d47d142aca"}}],"message_list":[],"uuid":"a35d7aa6-8d07-4651-8773-64d47d142aca","state":"DRAFT","dependency_list":[],"variable_list":[{"val_type":"STRING","description":"","message_list":[],"uuid":"399ade3a-bb15-4390-89f6-043007cdab92","value":"10.15.193.5","label":"","state":"ACTIVE","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","name":"AD_IP"},{"val_type":"STRING","description":"","message_list":[],"uuid":"4f1cc162-dc4f-4684-9e0e-397f313a8cc5","value":"contoso.com","label":"","state":"ACTIVE","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","name":"DOMAIN"},{"val_type":"STRING","description":"","message_list":[],"uuid":"7440440d-7929-4990-9821-9da9e9dbf510","value":"yes","label":"","state":"ACTIVE","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","name":"INCLUDE_BPG"},{"val_type":"STRING","description":"","message_list":[],"uuid":"2efa8049-39ad-4058-a155-2977008a0a82","value":"http:\/\/download.microsoft.com\/download\/8\/e\/c\/8ec3a7d8-05b4-440a-a71e-ca3ee25fe057\/rktools.exe","label":"","state":"ACTIVE","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","name":"BPG_RKTOOLS_URL"}],"name":"Nutanix"}],"published_service_definition_list":[],"default_credential_local_reference":{"kind":"app_credential","name":"LOCAL","uuid":"8b392aaf-f060-45c6-a224-4981098ac1a1"},"package_definition_list":[{"description":"","action_list":[{"description":"System action for installing an application","message_list":[],"uuid":"03f69cde-7b23-460c-a160-41d5a5224484","name":"action_install","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"MSSQLPackage","uuid":"b1cc7bfd-cf34-4dea-8d87-b4ac5e9e85af"},"retries":"0","description":"","type":"DAG","uuid":"a075cb62-5263-4894-85d8-2c7b237fd8f7","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Install_Crb_b1cc7bfd_cf34_4dea_8d87_b4ac5e9e85af","uuid":"08d10734-bb53-4569-9d65-fb4899604b6a"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Package_b1cc7bfd_cf34_4dea_8d87_b4ac5e9e85af"},{"target_any_local_reference":{"kind":"app_package","name":"MSSQLPackage","uuid":"b1cc7bfd-cf34-4dea-8d87-b4ac5e9e85af"},"retries":"0","description":"","type":"CUSTOM_PACKAGE_INSTALL","uuid":"08d10734-bb53-4569-9d65-fb4899604b6a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"MSSQLPackage","uuid":"b1cc7bfd-cf34-4dea-8d87-b4ac5e9e85af"},"retries":"0","description":"","type":"DAG","uuid":"1ddcc561-c23b-443c-ab8d-4284760a10c0","child_tasks_local_reference_list":[{"kind":"app_task","name":"Enable Credssp","uuid":"9361c738-ce15-4418-8ba1-5ee3f157b394"},{"kind":"app_task","name":"AddToDomain","uuid":"17f1dd59-972d-48b6-a3ac-fa08aaa6cb3f"},{"kind":"app_task","name":"Wait for Machine to Join domain","uuid":"974b00cf-f674-4827-b3ef-f0b8c8b85200"},{"kind":"app_task","name":"InitializeDisk","uuid":"0398a1ea-d9d6-46d2-8ebd-93feb2c3921b"},{"kind":"app_task","name":"InstallSQL","uuid":"0b06db00-c2e0-41d4-8cb2-139d21d5f65d"},{"kind":"app_task","name":"ApplyOSBPG","uuid":"8abee8a9-d543-4413-ad20-69024bc9830d"},{"kind":"app_task","name":"ApplySQLBPG","uuid":"30d56741-96a4-4ce9-9e1a-23adb5c82c69"},{"kind":"app_task","name":"FirewallRules","uuid":"b1346876-5023-4ed6-b0ef-88d65e278ee8"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Enable Credssp","uuid":"9361c738-ce15-4418-8ba1-5ee3f157b394"},"edge_type":"user_defined","type":"","uuid":"1d187fc6-1106-4c2d-a8d5-a99e340bba09","to_task_reference":{"kind":"app_task","name":"AddToDomain","uuid":"17f1dd59-972d-48b6-a3ac-fa08aaa6cb3f"}},{"from_task_reference":{"kind":"app_task","name":"AddToDomain","uuid":"17f1dd59-972d-48b6-a3ac-fa08aaa6cb3f"},"edge_type":"user_defined","type":"","uuid":"27d4689c-2abc-4e95-8933-24718542fc65","to_task_reference":{"kind":"app_task","name":"Wait for Machine to Join domain","uuid":"974b00cf-f674-4827-b3ef-f0b8c8b85200"}},{"from_task_reference":{"kind":"app_task","name":"Wait for Machine to Join domain","uuid":"974b00cf-f674-4827-b3ef-f0b8c8b85200"},"edge_type":"user_defined","type":"","uuid":"84621fd7-bd7e-4c42-9ca5-e631adeff9e6","to_task_reference":{"kind":"app_task","name":"InitializeDisk","uuid":"0398a1ea-d9d6-46d2-8ebd-93feb2c3921b"}},{"from_task_reference":{"kind":"app_task","name":"InitializeDisk","uuid":"0398a1ea-d9d6-46d2-8ebd-93feb2c3921b"},"edge_type":"user_defined","type":"","uuid":"2def52e8-e7a3-421d-b3ea-707d4e672e96","to_task_reference":{"kind":"app_task","name":"InstallSQL","uuid":"0b06db00-c2e0-41d4-8cb2-139d21d5f65d"}},{"from_task_reference":{"kind":"app_task","name":"InstallSQL","uuid":"0b06db00-c2e0-41d4-8cb2-139d21d5f65d"},"edge_type":"user_defined","type":"","uuid":"2ae6bd17-34a6-4ee7-977a-30602a448727","to_task_reference":{"kind":"app_task","name":"ApplyOSBPG","uuid":"8abee8a9-d543-4413-ad20-69024bc9830d"}},{"from_task_reference":{"kind":"app_task","name":"ApplyOSBPG","uuid":"8abee8a9-d543-4413-ad20-69024bc9830d"},"edge_type":"user_defined","type":"","uuid":"6af76f46-8f72-46e0-97f0-562e201321f0","to_task_reference":{"kind":"app_task","name":"ApplySQLBPG","uuid":"30d56741-96a4-4ce9-9e1a-23adb5c82c69"}},{"from_task_reference":{"kind":"app_task","name":"ApplySQLBPG","uuid":"30d56741-96a4-4ce9-9e1a-23adb5c82c69"},"edge_type":"user_defined","type":"","uuid":"519437d3-6498-481a-a873-ff4ebe5058e8","to_task_reference":{"kind":"app_task","name":"FirewallRules","uuid":"b1346876-5023-4ed6-b0ef-88d65e278ee8"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"87d54973_dag"},{"target_any_local_reference":{"kind":"app_package","name":"MSSQLPackage","uuid":"b1cc7bfd-cf34-4dea-8d87-b4ac5e9e85af"},"retries":"0","description":"","type":"EXEC","uuid":"9361c738-ce15-4418-8ba1-5ee3f157b394","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"npsscript","type":"","command_line_args":"","exit_status":[],"script":"Enable-WSManCredSSP -Role Server -Force"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Enable Credssp"},{"target_any_local_reference":{"kind":"app_service","name":"MSSQL","uuid":"f52eea8e-8523-475b-a665-41262e6e39eb"},"retries":"0","description":"","type":"EXEC","uuid":"17f1dd59-972d-48b6-a3ac-fa08aaa6cb3f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"##############################################\n# Name        : JoinDomain.ps1\n# Author      : K Sarat Kumar\n# Version     : 1.0\n# Description : Script is used to Change hostname of machines and join to domain.\n##############################################\n\nfunction JointoDomain {\n  [CmdletBinding()]\n  Param(\n      [parameter(Mandatory=$true)]\n      [string]$DomainName,\n      [parameter(Mandatory=$false)]\n      [string]$OU,\n      [parameter(Mandatory=$true)]\n      [string]$Username,\n      [parameter(Mandatory=$true)]\n      [string]$Password,\n      [parameter(Mandatory=$true)]\n      [string]$Server\n  )\n  $adapter = Get-NetAdapter | ? {$_.Status -eq \"up\"}\n  $adapter | Set-DnsClientServerAddress -ServerAddresses $Server\n\n  if ($env:computername  -eq $env:userdomain) {\n    Write-Host \"Not in domain\"\n    #$adminname = \"$DomainName\\$Username\"\n    $adminname = \"$Username\"\n    $adminpassword = ConvertTo-SecureString -asPlainText -Force -String \"$Password\"\n    Write-Host \"$adminname , $password\"\n    $credential = New-Object System.Management.Automation.PSCredential($adminname,$adminpassword)\n    Add-computer -DomainName $DomainName -Credential $credential -force -Options JoinWithNewName,AccountCreate -PassThru -ErrorAction Stop\n  } else {\n     Write-Host \"Already in domain\"\n  }\n}\n\nJointoDomain -DomainName \"@@{DOMAIN}@@\" -Username \"@@{DOMAIN_CRED.username}@@\" -Password \"@@{DOMAIN_CRED.secret}@@\" -Server \"@@{AD_IP}@@\"\n\nRestart-Computer -Force -AsJob\nexit 0\n","script_type":"npsscript","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"LOCAL","uuid":"8b392aaf-f060-45c6-a224-4981098ac1a1"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"AddToDomain"},{"target_any_local_reference":{"kind":"app_service","name":"MSSQL","uuid":"f52eea8e-8523-475b-a665-41262e6e39eb"},"retries":"0","description":"","type":"EXEC","uuid":"974b00cf-f674-4827-b3ef-f0b8c8b85200","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"static","type":"","command_line_args":"","exit_status":[],"script":"#script\nsleep(60)"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Wait for Machine to Join domain"},{"target_any_local_reference":{"kind":"app_service","name":"MSSQL","uuid":"f52eea8e-8523-475b-a665-41262e6e39eb"},"retries":"0","description":"","type":"EXEC","uuid":"0398a1ea-d9d6-46d2-8ebd-93feb2c3921b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"$start_time = Get-Date\n\nGet-Disk -Number 1 | Initialize-Disk -ErrorAction SilentlyContinue\nGet-Disk -Number 2 | Initialize-Disk -ErrorAction SilentlyContinue\nGet-Disk -Number 3 | Initialize-Disk -ErrorAction SilentlyContinue\nGet-Disk -Number 4 | Initialize-Disk -ErrorAction SilentlyContinue\nGet-Disk -Number 5 | Initialize-Disk -ErrorAction SilentlyContinue\nGet-Disk -Number 6 | Initialize-Disk -ErrorAction SilentlyContinue\nGet-Disk -Number 7 | Initialize-Disk -ErrorAction SilentlyContinue\nGet-Disk -Number 8 | Initialize-Disk -ErrorAction SilentlyContinue\n\n# Format SQL binaries disk\nNew-Partition -DiskNumber 1 -DriveLetter F -UseMaximumSize -ErrorAction SilentlyContinue | Format-Volume -Confirm:$false\n\n# Format SQL backup\/restore disk\nNew-Partition -DiskNumber 2 -DriveLetter R -UseMaximumSize -ErrorAction SilentlyContinue | Format-Volume -Confirm:$false\n\n# Format DB DATA drives\nNew-Partition -DiskNumber 3 -DriveLetter G -UseMaximumSize -ErrorAction SilentlyContinue | Format-Volume -Confirm:$false\nNew-Partition -DiskNumber 4 -DriveLetter H -UseMaximumSize -ErrorAction SilentlyContinue | Format-Volume -Confirm:$false\n\n# Format DB TEMP drives\nNew-Partition -DiskNumber 5 -DriveLetter I -UseMaximumSize -ErrorAction SilentlyContinue | Format-Volume -Confirm:$false\nNew-Partition -DiskNumber 6 -DriveLetter J -UseMaximumSize -ErrorAction SilentlyContinue | Format-Volume -Confirm:$false\n\n# Format DB LOGS drives\nNew-Partition -DiskNumber 7 -DriveLetter T -UseMaximumSize -ErrorAction SilentlyContinue | Format-Volume -Confirm:$false\nNew-Partition -DiskNumber 8 -DriveLetter L -UseMaximumSize -ErrorAction SilentlyContinue | Format-Volume -Confirm:$false\n\n#Format drive with 64K block size, assigns Label and drive letter\nFormat-Volume -DriveLetter F -FileSystem NTFS -NewFileSystemLabel \"SQLINSTALL\" -Confirm:$false \nFormat-Volume -DriveLetter R -AllocationUnitSize 65536 -FileSystem NTFS -NewFileSystemLabel \"SQLBCK\" -Confirm:$false \nFormat-Volume -DriveLetter G -AllocationUnitSize 65536 -FileSystem NTFS -NewFileSystemLabel \"DATA01\" -Confirm:$false \nFormat-Volume -DriveLetter H -AllocationUnitSize 65536 -FileSystem NTFS -NewFileSystemLabel \"DATA02\" -Confirm:$false \nFormat-Volume -DriveLetter I -AllocationUnitSize 65536 -FileSystem NTFS -NewFileSystemLabel \"TEMPDB01\" -Confirm:$false \nFormat-Volume -DriveLetter J -AllocationUnitSize 65536 -FileSystem NTFS -NewFileSystemLabel \"TEMPDB02\" -Confirm:$false \nFormat-Volume -DriveLetter T -AllocationUnitSize 65536 -FileSystem NTFS -NewFileSystemLabel \"TEMPDBLOG01\" -Confirm:$false \nFormat-Volume -DriveLetter L -AllocationUnitSize 65536 -FileSystem NTFS -NewFileSystemLabel \"ULOG01\" -Confirm:$false \n\nWrite-Output \"Time taken: $((Get-Date).Subtract($start_time).seconds) Second(s)\"\n","script_type":"npsscript","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"LOCAL","uuid":"8b392aaf-f060-45c6-a224-4981098ac1a1"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"InitializeDisk"},{"target_any_local_reference":{"kind":"app_service","name":"MSSQL","uuid":"f52eea8e-8523-475b-a665-41262e6e39eb"},"retries":"0","description":"","type":"EXEC","uuid":"0b06db00-c2e0-41d4-8cb2-139d21d5f65d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"$DriveLetter = $(Get-Partition -DiskNumber 1 -PartitionNumber 2 | select DriveLetter -ExpandProperty DriveLetter)\n$edition = \"Standard\"\n$HOSTNAME=$(hostname)\n$PackageName = \"MsSqlServer2014Standard\"\n$Prerequisites = \"Net-Framework-Core\"\n$silentArgs = \"\/IACCEPTSQLSERVERLICENSETERMS \/Q \/ACTION=install \/FEATURES=SQLENGINE,SSMS,ADV_SSMS,CONN,IS,BC,SDK,BOL \/SECURITYMODE=sql \/SAPWD=`\"@@{SQL_CRED.secret}@@`\" \/ASSYSADMINACCOUNTS=`\"@@{SQL_CRED.username}@@`\" \/SQLSYSADMINACCOUNTS=`\"@@{SQL_CRED.username}@@`\" \/INSTANCEID=MSSQLSERVER \/INSTANCENAME=MSSQLSERVER \/UPDATEENABLED=False \/INDICATEPROGRESS \/TCPENABLED=1 \/INSTALLSQLDATADIR=`\"${DriveLetter}:\\Microsoft SQL Server`\"\"\n$setupDriveLetter = \"D:\"\n$setupPath = \"$setupDriveLetter\\setup.exe\"\n$validExitCodes = @(0)\n\nif ($Prerequisites){\nInstall-WindowsFeature -IncludeAllSubFeature -ErrorAction Stop $Prerequisites\n}\n\nWrite-Output \"Installing $PackageName....\"\n\n$install = Start-Process -FilePath $setupPath -ArgumentList $silentArgs -Wait -NoNewWindow -PassThru\n$install.WaitForExit()\n\n$exitCode = $install.ExitCode\n$install.Dispose()\n\nWrite-Output \"Command [`\"$setupPath`\" $silentArgs] exited with `'$exitCode`'.\"\nif ($validExitCodes -notcontains $exitCode) {\nWrite-Output \"Running [`\"$setupPath`\" $silentArgs] was not successful. Exit code was '$exitCode'. See log for possible error messages.\"\nexit 1\n}","script_type":"npsscript","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"DOMAIN_CRED","uuid":"2523dbe4-6f68-49c5-add8-2692faf0a220"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"InstallSQL"},{"target_any_local_reference":{"kind":"app_service","name":"MSSQL","uuid":"f52eea8e-8523-475b-a665-41262e6e39eb"},"retries":"0","description":"","type":"EXEC","uuid":"8abee8a9-d543-4413-ad20-69024bc9830d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"if ((\"@@{INCLUDE_BPG}@@\" -eq \"no\") -or (\"@@{BPG_RKTOOLS_URL}@@\" -eq \"\")){\n    \"Ignoring BPG\"\n    exit 0\n}\n\n$start_time = Get-Date\n\n$TempDirectory = \"C:\\Temp\"\n$RktTemp = \"$TempDirectory\\rktools.2003\"\n\n$url = \"@@{BPG_RKTOOLS_URL}@@\"\n$filePath = \"$TempDirectory\\rktools.exe\"\n\nNew-Item -ItemType Directory -Force -Path $TempDirectory\n(New-Object System.Net.WebClient).DownloadFile($url,$filePath)\n\n& $filePath \/Q \/T:\"$RktTemp\" \/C\n\nStart-Sleep 10\n\n$PackageName = \"rktools.2003\"\n$setupPath = \"C:\\Windows\\System32\\msiexec.exe\"\n$silentArgs = \"\/i $RktTemp\\rktools.msi \/qn\"\n$validExitCodes = @(0)\n\nWrite-Output \"Installing $PackageName....\"\n\n$install = Start-Process -FilePath $setupPath -ArgumentList $silentArgs -Wait -NoNewWindow -PassThru\n$install.WaitForExit()\n\n$exitCode = $install.ExitCode\n$install.Dispose()\n\nWrite-Output \"Command [`\"$setupPath`\" $silentArgs] exited with `'$exitCode`'.\"\nif ($validExitCodes -notcontains $exitCode) {\nWrite-Output \"Running [`\"$setupPath`\" $silentArgs] was not successful. Exit code was '$exitCode'. See log for possible error messages.\"\nexit 1\n}\n\n# OS related tunning\n# Set Windows Power Options to High Performance\npowercfg -s 8c5e7fda-e8bf-4a96-9a85-a6e23a8c635c\n\n#Grant Memory privileges to user \n$ntrights_cli = \"C:\\Program Files (x86)\\Windows Resource Kits\\Tools\\ntrights.exe\"\n& $ntrights_cli -u \"NT SERVICE\\MSSQLSERVER\" +r SeLockMemoryPrivilege\n& $ntrights_cli -u \"NT SERVICE\\MSSQLSERVER\" +r SeManageVolumePrivilege\n\n\nWrite-Output \"Time taken: $((Get-Date).Subtract($start_time).seconds) Second(s)\"","script_type":"npsscript","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"DOMAIN_CRED","uuid":"2523dbe4-6f68-49c5-add8-2692faf0a220"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"ApplyOSBPG"},{"target_any_local_reference":{"kind":"app_service","name":"MSSQL","uuid":"f52eea8e-8523-475b-a665-41262e6e39eb"},"retries":"0","description":"","type":"EXEC","uuid":"30d56741-96a4-4ce9-9e1a-23adb5c82c69","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"if ((\"@@{INCLUDE_BPG}@@\" -eq \"no\") -or (\"@@{BPG_RKTOOLS_URL}@@\" -eq \"\")){\n    \"Ignoring BPG\"\n    exit 0\n}\n\n$start_time = Get-Date\n\n$TempDirectory = \"C:\\Temp\"\n$sqladdparms_cli = \"$TempDirectory\\Add-SqlServerStartupParameter.ps1\"\n$TSQLSCRIPTSDIR = \"$TempDirectory\\TSQL_Scripts\"\nNew-Item -ItemType Directory -Force -Path $TSQLSCRIPTSDIR\n\nSet-Content -Path \"$sqladdparms_cli\" -Value '\nparam(\n## The parameter you wish to add\n[Parameter(Mandatory = $true)]\n$StartupParameter\n)\n\n$hklmRootNode = \"HKLM:\\SOFTWARE\\Microsoft\\Microsoft SQL Server\"\n\n$props = Get-ItemProperty \"$hklmRootNode\\Instance Names\\SQL\"\n$instances = $props.psobject.properties | ?{$_.Value -like \"MSSQL*\"} | select Value\n\n$instances | %{\n$inst = $_.Value;\n$regKey = \"$hklmRootNode\\$inst\\MSSQLServer\\Parameters\"\n$props = Get-ItemProperty $regKey\n$params = $props.psobject.properties | ?{$_.Name -like \"SQLArg*\"} | select Name, Value\n#$params | ft -AutoSize\n$hasFlag = $false\nforeach ($param in $params) {\nif($param.Value -eq $StartupParameter) {\n$hasFlag = $true\nbreak;\n}\n}\nif (-not $hasFlag) {\n\"Adding $StartupParameter\"\n$newRegProp = \"SQLArg\"+($params.Count)\nSet-ItemProperty -Path $regKey -Name $newRegProp -Value $StartupParameter\n} else {\n\"$StartupParameter already set\"\n}\n}'\nSet-Content -Path \"$TSQLSCRIPTSDIR\\01-ChangeTempDB.sql\" -Value \"use master`r`n\ngo`r`n\nAlter database tempdb modify file (name = tempdev, filename = 'I:\\TEMPDB01\\tempdb01.mdf', SIZE = 4096, FILEGROWTH=0)`r`n\ngo`r`n\nAlter database tempdb modify file (name = templog, filename = 'T:\\TempDB-logs01\\templog01.ldf', SIZE = 4096, FILEGROWTH=0)`r`n\ngo`r`n\nAlter database tempdb ADD file (name = tempdev02, filename = 'I:\\TEMPDB01\\tempdb02.ndf', SIZE = 4096, FILEGROWTH=0)`r`n\ngo`r`n\nAlter database tempdb ADD file (name = tempdev03, filename = 'J:\\TEMPDB02\\tempdb03.ndf', SIZE = 4096, FILEGROWTH=0)`r`n\ngo`r`n\nAlter database tempdb ADD file (name = tempdev04, filename = 'J:\\TEMPDB02\\tempdb04.ndf', SIZE = 4096, FILEGROWTH=0)`r`n\ngo`r`n\n`r`n\nALTER DATABASE [tempdb] MODIFY FILE (NAME=N'tempdev', NEWNAME=N'tempdev01')`r`n\nGO`r`n\nALTER DATABASE [tempdb] MODIFY FILE (NAME=N'templog', NEWNAME=N'templog01')`r`n\nGO\"\n\nSet-Content -Path \"$TSQLSCRIPTSDIR\\02-IncreaseTempDB_logs.sql\" -Value \"Use master`r`n\ngo`r`n\nALTER DATABASE tempdb MODIFY FILE (NAME = templog01, filename = 'T:\\TempDB-logs01\\templog01.ldf', SIZE`r`n\n= 8096);`r`n\nGO`r`n\nALTER DATABASE tempdb MODIFY FILE (NAME = templog01, FILENAME = 'T:\\TempDB-logs01\\templog01.ldf', SIZE`r`n\n= 12288);`r`n\nGO\"\n\nSet-Content -Path \"$TSQLSCRIPTSDIR\\03-SQL_set_memory.sql\" -Value \"USE master;`r`n\nexec sp_configure 'show advanced options', 1;`r`n\nRECONFIGURE;`r`n\nGO`r`n\nDECLARE `r`n\n@total_mem decimal (10,0),`r`n\n@min int,`r`n\n@max int`r`n\nSELECT `r`n\n--SELECT (physical_memory_kb\/1024) AS Server_Physical_Memory_MB`r`n\n@total_mem = (physical_memory_kb\/1024)`r`n\nFROM sys.dm_os_sys_info`r`n\n`r`n\nset @min = @total_mem * 0.1`r`n\nset @max = @total_mem * 0.85`r`n\nprint @min`r`n\nprint @max`r`n\n--print @total_mem`r`n\n`r`n\n`r`n\nEXEC sp_configure 'min server memory (MB)',@min`r`n\nEXEC sp_configure 'max server memory (MB)',@max`r`n\nRECONFIGURE\"\n\nSet-Content -Path \"$TSQLSCRIPTSDIR\\04-SQL-ChangeDefaultPaths.sql\" -Value \"USE [master]`r`n\nGO`r`n\n-- Change default location for data files`r`n\nEXEC xp_instance_regwrite`r`n\nN'HKEY_LOCAL_MACHINE',`r`n\nN'Software\\Microsoft\\MSSQLServer\\MSSQLServer',`r`n\nN'DefaultData',`r`n\nREG_SZ,`r`n\nN'G:\\SQLDATA01'`r`n\nGO`r`n\n-- Change default location for log files`r`n\nEXEC xp_instance_regwrite`r`n\nN'HKEY_LOCAL_MACHINE',`r`n\nN'Software\\Microsoft\\MSSQLServer\\MSSQLServer',`r`n\nN'DefaultLog',`r`n\nREG_SZ,`r`n\nN'L:\\UserDB-logs01'`r`n\nGO`r`n\n-- Change default location for backups`r`n\nEXEC xp_instance_regwrite`r`n\nN'HKEY_LOCAL_MACHINE',`r`n\nN'Software\\Microsoft\\MSSQLServer\\MSSQLServer',`r`n\nN'BackupDirectory',`r`n\nREG_SZ,`r`n\nN'R:\\SQLBACK'`r`n\nGO\"\n\n#create directories\nmkdir G:\\SQLDATA01\\\nmkdir H:\\SQLDATA02\\\nmkdir I:\\TEMPDB01\\\nmkdir J:\\TEMPDB02\\\nmkdir L:\\UserDB-logs01\\\nmkdir T:\\TempDB-logs01\\\nmkdir R:\\SQLBACK\n\n#ADD SQL T parameters \n#T1117 This parameter forces MS SQL Server to grow all database files uniformly\n#T1118 This parameter forces MS SQL Server to use full extents only\n& $sqladdparms_cli '-T1117'\n& $sqladdparms_cli '-T1118'\nrestart-service MSSQL* -force\n\n#import powershell SQL module\nimport-module \"sqlps\" -DisableNameChecking\n\ninvoke-sqlcmd -hostname localhost -inputFile \"$TSQLSCRIPTSDIR\\01-ChangeTempDB.sql\"\ninvoke-sqlcmd -hostname localhost -inputFile \"$TSQLSCRIPTSDIR\\02-IncreaseTempDB_logs.sql\"\ninvoke-sqlcmd -hostname localhost -inputFile \"$TSQLSCRIPTSDIR\\03-SQL_set_memory.sql\"\ninvoke-sqlcmd -hostname localhost -inputFile \"$TSQLSCRIPTSDIR\\04-SQL-ChangeDefaultPaths.sql\"\n\n#Delete original SQL temp files\nstop-service MSSQL* \nStart-Sleep 5\nrm \"F:\\Microsoft SQL Server\\MSSQL12.MSSQLSERVER\\MSSQL\\DATA\\temp*\"\n\nstart-service MSSQL* \nwmic useraccount get sid\nWrite-Output \"Time taken: $((Get-Date).Subtract($start_time).seconds) Second(s)\"\n","script_type":"npsscript","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"DOMAIN_CRED","uuid":"2523dbe4-6f68-49c5-add8-2692faf0a220"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"ApplySQLBPG"},{"target_any_local_reference":{"kind":"app_service","name":"MSSQL","uuid":"f52eea8e-8523-475b-a665-41262e6e39eb"},"retries":"0","description":"","type":"EXEC","uuid":"b1346876-5023-4ed6-b0ef-88d65e278ee8","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"New-NetFirewallRule -DisplayName \"SQL Server\" -Direction Inbound -Protocol TCP -LocalPort 1433 -Action allow\nNew-NetFirewallRule -DisplayName \"SQL Admin Connection\" -Direction Inbound -Protocol TCP -LocalPort 1434 -Action allow\nNew-NetFirewallRule -DisplayName \"SQL Database Management\" -Direction Inbound -Protocol UDP -LocalPort 1434 -Action allow\nNew-NetFirewallRule -DisplayName \"SQL Service Broker\" -Direction Inbound -Protocol TCP -LocalPort 4022 -Action allow\nNew-NetFirewallRule -DisplayName \"SQL Debugger\/RPC\" -Direction Inbound -Protocol TCP -LocalPort 135 -Action allow\nNew-NetFirewallRule -DisplayName \"SQL Browser\" -Direction Inbound -Protocol TCP -LocalPort 2382 -Action allow","script_type":"npsscript","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"DOMAIN_CRED","uuid":"2523dbe4-6f68-49c5-add8-2692faf0a220"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"FirewallRules"}],"description":"","message_list":[],"uuid":"3543527d-38e7-47e4-b69c-599be426c434","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"87d54973_dag","uuid":"1ddcc561-c23b-443c-ab8d-4284760a10c0"},"name":"b58c360f_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"MSSQLPackage","uuid":"b1cc7bfd-cf34-4dea-8d87-b4ac5e9e85af"},"retries":"0","description":"","type":"DAG","uuid":"118c307d-bae9-411e-9aff-ce4489e0b9cf","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"c5e51cfd_dag"}],"description":"","message_list":[],"uuid":"9eec248f-ba91-45eb-bb1d-b0775265dcda","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"c5e51cfd_dag","uuid":"118c307d-bae9-411e-9aff-ce4489e0b9cf"},"name":"8cc4ed37_runbook"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Install_Crb_b1cc7bfd_cf34_4dea_8d87_b4ac5e9e85af"}],"description":"","message_list":[],"uuid":"766b68f1-14da-4aa7-a9f5-0e7bca515061","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Package_b1cc7bfd_cf34_4dea_8d87_b4ac5e9e85af","uuid":"a075cb62-5263-4894-85d8-2c7b237fd8f7"},"name":"SYS_GEN__Runbook_Package_b1cc7bfd_cf34_4dea_8d87_b4ac5e9e85af"}},{"description":"System action for creating an application","message_list":[],"uuid":"aa0d35ad-b62a-48d3-a849-a0b13ca9b9ba","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"MSSQLPackage","uuid":"b1cc7bfd-cf34-4dea-8d87-b4ac5e9e85af"},"retries":"0","description":"","type":"DAG","uuid":"f1e81aa1-e841-484a-ace9-00f0304eb72b","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_b1cc7bfd_cf34_4dea_8d87_b4ac5e9e85af","uuid":"9a1aff24-4347-40f0-b107-3822102eaee2"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_f52eea8e_8523_475b_a665_41262e6e39eb","uuid":"9098d78f-f7a6-45b6-9191-91fe14e5a834"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_f52eea8e_8523_475b_a665_41262e6e39eb","uuid":"1a1c09a5-878c-409d-b4a2-5dee73b160c5"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_f52eea8e_8523_475b_a665_41262e6e39eb","uuid":"9098d78f-f7a6-45b6-9191-91fe14e5a834"},"edge_type":"inherent","type":"","uuid":"d5639afb-53da-498a-88a3-697b74372ecf","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_f52eea8e_8523_475b_a665_41262e6e39eb","uuid":"1a1c09a5-878c-409d-b4a2-5dee73b160c5"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_b1cc7bfd_cf34_4dea_8d87_b4ac5e9e85af","uuid":"9a1aff24-4347-40f0-b107-3822102eaee2"},"edge_type":"inherent","type":"","uuid":"04376ca1-e6bf-4944-ae19-fe7fefc423b1","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_f52eea8e_8523_475b_a665_41262e6e39eb","uuid":"9098d78f-f7a6-45b6-9191-91fe14e5a834"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_b1cc7bfd_cf34_4dea_8d87_b4ac5e9e85af"},{"target_any_local_reference":{"kind":"app_package","name":"MSSQLPackage","uuid":"b1cc7bfd-cf34-4dea-8d87-b4ac5e9e85af"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"9a1aff24-4347-40f0-b107-3822102eaee2","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_b1cc7bfd_cf34_4dea_8d87_b4ac5e9e85af","uuid":"766b68f1-14da-4aa7-a9f5-0e7bca515061"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_b1cc7bfd_cf34_4dea_8d87_b4ac5e9e85af"},{"target_any_local_reference":{"kind":"app_service","name":"MSSQL","uuid":"f52eea8e-8523-475b-a665-41262e6e39eb"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"9098d78f-f7a6-45b6-9191-91fe14e5a834","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"5730e30f_runbook","uuid":"836d16e2-c534-4d0b-9b5c-5ff05bcbeafd"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_f52eea8e_8523_475b_a665_41262e6e39eb"},{"target_any_local_reference":{"kind":"app_service","name":"MSSQL","uuid":"f52eea8e-8523-475b-a665-41262e6e39eb"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"1a1c09a5-878c-409d-b4a2-5dee73b160c5","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0263f5a9_runbook","uuid":"35f005f2-28c5-4e02-bc4e-5d6261ce70f7"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_f52eea8e_8523_475b_a665_41262e6e39eb"}],"description":"","message_list":[],"uuid":"b0dab0cd-c292-439a-b248-088fbdcb62f6","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_b1cc7bfd_cf34_4dea_8d87_b4ac5e9e85af","uuid":"f1e81aa1-e841-484a-ace9-00f0304eb72b"},"name":"SYS_GEN__Runbook_Package_b1cc7bfd_cf34_4dea_8d87_b4ac5e9e85af"}},{"description":"System action for uninstalling an application","message_list":[],"uuid":"4d7f9343-4e51-46b1-a841-0be68e754607","name":"action_uninstall","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"MSSQLPackage","uuid":"b1cc7bfd-cf34-4dea-8d87-b4ac5e9e85af"},"retries":"0","description":"","type":"DAG","uuid":"23615b06-9cfd-41fe-a0ca-cf486155cb9a","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Uninstall_Crb_b1cc7bfd_cf34_4dea_8d87_b4ac5e9e85af","uuid":"eb3d4d77-ab5c-4539-9010-7bae30884c13"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Package_b1cc7bfd_cf34_4dea_8d87_b4ac5e9e85af"},{"target_any_local_reference":{"kind":"app_package","name":"MSSQLPackage","uuid":"b1cc7bfd-cf34-4dea-8d87-b4ac5e9e85af"},"retries":"0","description":"","type":"CUSTOM_PACKAGE_UNINSTALL","uuid":"eb3d4d77-ab5c-4539-9010-7bae30884c13","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"MSSQLPackage","uuid":"b1cc7bfd-cf34-4dea-8d87-b4ac5e9e85af"},"retries":"0","description":"","type":"DAG","uuid":"1ddcc561-c23b-443c-ab8d-4284760a10c0","child_tasks_local_reference_list":[{"kind":"app_task","name":"Enable Credssp","uuid":"9361c738-ce15-4418-8ba1-5ee3f157b394"},{"kind":"app_task","name":"AddToDomain","uuid":"17f1dd59-972d-48b6-a3ac-fa08aaa6cb3f"},{"kind":"app_task","name":"Wait for Machine to Join domain","uuid":"974b00cf-f674-4827-b3ef-f0b8c8b85200"},{"kind":"app_task","name":"InitializeDisk","uuid":"0398a1ea-d9d6-46d2-8ebd-93feb2c3921b"},{"kind":"app_task","name":"InstallSQL","uuid":"0b06db00-c2e0-41d4-8cb2-139d21d5f65d"},{"kind":"app_task","name":"ApplyOSBPG","uuid":"8abee8a9-d543-4413-ad20-69024bc9830d"},{"kind":"app_task","name":"ApplySQLBPG","uuid":"30d56741-96a4-4ce9-9e1a-23adb5c82c69"},{"kind":"app_task","name":"FirewallRules","uuid":"b1346876-5023-4ed6-b0ef-88d65e278ee8"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Enable Credssp","uuid":"9361c738-ce15-4418-8ba1-5ee3f157b394"},"edge_type":"user_defined","type":"","uuid":"1d187fc6-1106-4c2d-a8d5-a99e340bba09","to_task_reference":{"kind":"app_task","name":"AddToDomain","uuid":"17f1dd59-972d-48b6-a3ac-fa08aaa6cb3f"}},{"from_task_reference":{"kind":"app_task","name":"AddToDomain","uuid":"17f1dd59-972d-48b6-a3ac-fa08aaa6cb3f"},"edge_type":"user_defined","type":"","uuid":"27d4689c-2abc-4e95-8933-24718542fc65","to_task_reference":{"kind":"app_task","name":"Wait for Machine to Join domain","uuid":"974b00cf-f674-4827-b3ef-f0b8c8b85200"}},{"from_task_reference":{"kind":"app_task","name":"Wait for Machine to Join domain","uuid":"974b00cf-f674-4827-b3ef-f0b8c8b85200"},"edge_type":"user_defined","type":"","uuid":"84621fd7-bd7e-4c42-9ca5-e631adeff9e6","to_task_reference":{"kind":"app_task","name":"InitializeDisk","uuid":"0398a1ea-d9d6-46d2-8ebd-93feb2c3921b"}},{"from_task_reference":{"kind":"app_task","name":"InitializeDisk","uuid":"0398a1ea-d9d6-46d2-8ebd-93feb2c3921b"},"edge_type":"user_defined","type":"","uuid":"2def52e8-e7a3-421d-b3ea-707d4e672e96","to_task_reference":{"kind":"app_task","name":"InstallSQL","uuid":"0b06db00-c2e0-41d4-8cb2-139d21d5f65d"}},{"from_task_reference":{"kind":"app_task","name":"InstallSQL","uuid":"0b06db00-c2e0-41d4-8cb2-139d21d5f65d"},"edge_type":"user_defined","type":"","uuid":"2ae6bd17-34a6-4ee7-977a-30602a448727","to_task_reference":{"kind":"app_task","name":"ApplyOSBPG","uuid":"8abee8a9-d543-4413-ad20-69024bc9830d"}},{"from_task_reference":{"kind":"app_task","name":"ApplyOSBPG","uuid":"8abee8a9-d543-4413-ad20-69024bc9830d"},"edge_type":"user_defined","type":"","uuid":"6af76f46-8f72-46e0-97f0-562e201321f0","to_task_reference":{"kind":"app_task","name":"ApplySQLBPG","uuid":"30d56741-96a4-4ce9-9e1a-23adb5c82c69"}},{"from_task_reference":{"kind":"app_task","name":"ApplySQLBPG","uuid":"30d56741-96a4-4ce9-9e1a-23adb5c82c69"},"edge_type":"user_defined","type":"","uuid":"519437d3-6498-481a-a873-ff4ebe5058e8","to_task_reference":{"kind":"app_task","name":"FirewallRules","uuid":"b1346876-5023-4ed6-b0ef-88d65e278ee8"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"87d54973_dag"},{"target_any_local_reference":{"kind":"app_package","name":"MSSQLPackage","uuid":"b1cc7bfd-cf34-4dea-8d87-b4ac5e9e85af"},"retries":"0","description":"","type":"EXEC","uuid":"9361c738-ce15-4418-8ba1-5ee3f157b394","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"npsscript","type":"","command_line_args":"","exit_status":[],"script":"Enable-WSManCredSSP -Role Server -Force"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Enable Credssp"},{"target_any_local_reference":{"kind":"app_service","name":"MSSQL","uuid":"f52eea8e-8523-475b-a665-41262e6e39eb"},"retries":"0","description":"","type":"EXEC","uuid":"17f1dd59-972d-48b6-a3ac-fa08aaa6cb3f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"##############################################\n# Name        : JoinDomain.ps1\n# Author      : K Sarat Kumar\n# Version     : 1.0\n# Description : Script is used to Change hostname of machines and join to domain.\n##############################################\n\nfunction JointoDomain {\n  [CmdletBinding()]\n  Param(\n      [parameter(Mandatory=$true)]\n      [string]$DomainName,\n      [parameter(Mandatory=$false)]\n      [string]$OU,\n      [parameter(Mandatory=$true)]\n      [string]$Username,\n      [parameter(Mandatory=$true)]\n      [string]$Password,\n      [parameter(Mandatory=$true)]\n      [string]$Server\n  )\n  $adapter = Get-NetAdapter | ? {$_.Status -eq \"up\"}\n  $adapter | Set-DnsClientServerAddress -ServerAddresses $Server\n\n  if ($env:computername  -eq $env:userdomain) {\n    Write-Host \"Not in domain\"\n    #$adminname = \"$DomainName\\$Username\"\n    $adminname = \"$Username\"\n    $adminpassword = ConvertTo-SecureString -asPlainText -Force -String \"$Password\"\n    Write-Host \"$adminname , $password\"\n    $credential = New-Object System.Management.Automation.PSCredential($adminname,$adminpassword)\n    Add-computer -DomainName $DomainName -Credential $credential -force -Options JoinWithNewName,AccountCreate -PassThru -ErrorAction Stop\n  } else {\n     Write-Host \"Already in domain\"\n  }\n}\n\nJointoDomain -DomainName \"@@{DOMAIN}@@\" -Username \"@@{DOMAIN_CRED.username}@@\" -Password \"@@{DOMAIN_CRED.secret}@@\" -Server \"@@{AD_IP}@@\"\n\nRestart-Computer -Force -AsJob\nexit 0\n","script_type":"npsscript","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"LOCAL","uuid":"8b392aaf-f060-45c6-a224-4981098ac1a1"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"AddToDomain"},{"target_any_local_reference":{"kind":"app_service","name":"MSSQL","uuid":"f52eea8e-8523-475b-a665-41262e6e39eb"},"retries":"0","description":"","type":"EXEC","uuid":"974b00cf-f674-4827-b3ef-f0b8c8b85200","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"static","type":"","command_line_args":"","exit_status":[],"script":"#script\nsleep(60)"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Wait for Machine to Join domain"},{"target_any_local_reference":{"kind":"app_service","name":"MSSQL","uuid":"f52eea8e-8523-475b-a665-41262e6e39eb"},"retries":"0","description":"","type":"EXEC","uuid":"0398a1ea-d9d6-46d2-8ebd-93feb2c3921b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"$start_time = Get-Date\n\nGet-Disk -Number 1 | Initialize-Disk -ErrorAction SilentlyContinue\nGet-Disk -Number 2 | Initialize-Disk -ErrorAction SilentlyContinue\nGet-Disk -Number 3 | Initialize-Disk -ErrorAction SilentlyContinue\nGet-Disk -Number 4 | Initialize-Disk -ErrorAction SilentlyContinue\nGet-Disk -Number 5 | Initialize-Disk -ErrorAction SilentlyContinue\nGet-Disk -Number 6 | Initialize-Disk -ErrorAction SilentlyContinue\nGet-Disk -Number 7 | Initialize-Disk -ErrorAction SilentlyContinue\nGet-Disk -Number 8 | Initialize-Disk -ErrorAction SilentlyContinue\n\n# Format SQL binaries disk\nNew-Partition -DiskNumber 1 -DriveLetter F -UseMaximumSize -ErrorAction SilentlyContinue | Format-Volume -Confirm:$false\n\n# Format SQL backup\/restore disk\nNew-Partition -DiskNumber 2 -DriveLetter R -UseMaximumSize -ErrorAction SilentlyContinue | Format-Volume -Confirm:$false\n\n# Format DB DATA drives\nNew-Partition -DiskNumber 3 -DriveLetter G -UseMaximumSize -ErrorAction SilentlyContinue | Format-Volume -Confirm:$false\nNew-Partition -DiskNumber 4 -DriveLetter H -UseMaximumSize -ErrorAction SilentlyContinue | Format-Volume -Confirm:$false\n\n# Format DB TEMP drives\nNew-Partition -DiskNumber 5 -DriveLetter I -UseMaximumSize -ErrorAction SilentlyContinue | Format-Volume -Confirm:$false\nNew-Partition -DiskNumber 6 -DriveLetter J -UseMaximumSize -ErrorAction SilentlyContinue | Format-Volume -Confirm:$false\n\n# Format DB LOGS drives\nNew-Partition -DiskNumber 7 -DriveLetter T -UseMaximumSize -ErrorAction SilentlyContinue | Format-Volume -Confirm:$false\nNew-Partition -DiskNumber 8 -DriveLetter L -UseMaximumSize -ErrorAction SilentlyContinue | Format-Volume -Confirm:$false\n\n#Format drive with 64K block size, assigns Label and drive letter\nFormat-Volume -DriveLetter F -FileSystem NTFS -NewFileSystemLabel \"SQLINSTALL\" -Confirm:$false \nFormat-Volume -DriveLetter R -AllocationUnitSize 65536 -FileSystem NTFS -NewFileSystemLabel \"SQLBCK\" -Confirm:$false \nFormat-Volume -DriveLetter G -AllocationUnitSize 65536 -FileSystem NTFS -NewFileSystemLabel \"DATA01\" -Confirm:$false \nFormat-Volume -DriveLetter H -AllocationUnitSize 65536 -FileSystem NTFS -NewFileSystemLabel \"DATA02\" -Confirm:$false \nFormat-Volume -DriveLetter I -AllocationUnitSize 65536 -FileSystem NTFS -NewFileSystemLabel \"TEMPDB01\" -Confirm:$false \nFormat-Volume -DriveLetter J -AllocationUnitSize 65536 -FileSystem NTFS -NewFileSystemLabel \"TEMPDB02\" -Confirm:$false \nFormat-Volume -DriveLetter T -AllocationUnitSize 65536 -FileSystem NTFS -NewFileSystemLabel \"TEMPDBLOG01\" -Confirm:$false \nFormat-Volume -DriveLetter L -AllocationUnitSize 65536 -FileSystem NTFS -NewFileSystemLabel \"ULOG01\" -Confirm:$false \n\nWrite-Output \"Time taken: $((Get-Date).Subtract($start_time).seconds) Second(s)\"\n","script_type":"npsscript","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"LOCAL","uuid":"8b392aaf-f060-45c6-a224-4981098ac1a1"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"InitializeDisk"},{"target_any_local_reference":{"kind":"app_service","name":"MSSQL","uuid":"f52eea8e-8523-475b-a665-41262e6e39eb"},"retries":"0","description":"","type":"EXEC","uuid":"0b06db00-c2e0-41d4-8cb2-139d21d5f65d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"$DriveLetter = $(Get-Partition -DiskNumber 1 -PartitionNumber 2 | select DriveLetter -ExpandProperty DriveLetter)\n$edition = \"Standard\"\n$HOSTNAME=$(hostname)\n$PackageName = \"MsSqlServer2014Standard\"\n$Prerequisites = \"Net-Framework-Core\"\n$silentArgs = \"\/IACCEPTSQLSERVERLICENSETERMS \/Q \/ACTION=install \/FEATURES=SQLENGINE,SSMS,ADV_SSMS,CONN,IS,BC,SDK,BOL \/SECURITYMODE=sql \/SAPWD=`\"@@{SQL_CRED.secret}@@`\" \/ASSYSADMINACCOUNTS=`\"@@{SQL_CRED.username}@@`\" \/SQLSYSADMINACCOUNTS=`\"@@{SQL_CRED.username}@@`\" \/INSTANCEID=MSSQLSERVER \/INSTANCENAME=MSSQLSERVER \/UPDATEENABLED=False \/INDICATEPROGRESS \/TCPENABLED=1 \/INSTALLSQLDATADIR=`\"${DriveLetter}:\\Microsoft SQL Server`\"\"\n$setupDriveLetter = \"D:\"\n$setupPath = \"$setupDriveLetter\\setup.exe\"\n$validExitCodes = @(0)\n\nif ($Prerequisites){\nInstall-WindowsFeature -IncludeAllSubFeature -ErrorAction Stop $Prerequisites\n}\n\nWrite-Output \"Installing $PackageName....\"\n\n$install = Start-Process -FilePath $setupPath -ArgumentList $silentArgs -Wait -NoNewWindow -PassThru\n$install.WaitForExit()\n\n$exitCode = $install.ExitCode\n$install.Dispose()\n\nWrite-Output \"Command [`\"$setupPath`\" $silentArgs] exited with `'$exitCode`'.\"\nif ($validExitCodes -notcontains $exitCode) {\nWrite-Output \"Running [`\"$setupPath`\" $silentArgs] was not successful. Exit code was '$exitCode'. See log for possible error messages.\"\nexit 1\n}","script_type":"npsscript","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"DOMAIN_CRED","uuid":"2523dbe4-6f68-49c5-add8-2692faf0a220"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"InstallSQL"},{"target_any_local_reference":{"kind":"app_service","name":"MSSQL","uuid":"f52eea8e-8523-475b-a665-41262e6e39eb"},"retries":"0","description":"","type":"EXEC","uuid":"8abee8a9-d543-4413-ad20-69024bc9830d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"if ((\"@@{INCLUDE_BPG}@@\" -eq \"no\") -or (\"@@{BPG_RKTOOLS_URL}@@\" -eq \"\")){\n    \"Ignoring BPG\"\n    exit 0\n}\n\n$start_time = Get-Date\n\n$TempDirectory = \"C:\\Temp\"\n$RktTemp = \"$TempDirectory\\rktools.2003\"\n\n$url = \"@@{BPG_RKTOOLS_URL}@@\"\n$filePath = \"$TempDirectory\\rktools.exe\"\n\nNew-Item -ItemType Directory -Force -Path $TempDirectory\n(New-Object System.Net.WebClient).DownloadFile($url,$filePath)\n\n& $filePath \/Q \/T:\"$RktTemp\" \/C\n\nStart-Sleep 10\n\n$PackageName = \"rktools.2003\"\n$setupPath = \"C:\\Windows\\System32\\msiexec.exe\"\n$silentArgs = \"\/i $RktTemp\\rktools.msi \/qn\"\n$validExitCodes = @(0)\n\nWrite-Output \"Installing $PackageName....\"\n\n$install = Start-Process -FilePath $setupPath -ArgumentList $silentArgs -Wait -NoNewWindow -PassThru\n$install.WaitForExit()\n\n$exitCode = $install.ExitCode\n$install.Dispose()\n\nWrite-Output \"Command [`\"$setupPath`\" $silentArgs] exited with `'$exitCode`'.\"\nif ($validExitCodes -notcontains $exitCode) {\nWrite-Output \"Running [`\"$setupPath`\" $silentArgs] was not successful. Exit code was '$exitCode'. See log for possible error messages.\"\nexit 1\n}\n\n# OS related tunning\n# Set Windows Power Options to High Performance\npowercfg -s 8c5e7fda-e8bf-4a96-9a85-a6e23a8c635c\n\n#Grant Memory privileges to user \n$ntrights_cli = \"C:\\Program Files (x86)\\Windows Resource Kits\\Tools\\ntrights.exe\"\n& $ntrights_cli -u \"NT SERVICE\\MSSQLSERVER\" +r SeLockMemoryPrivilege\n& $ntrights_cli -u \"NT SERVICE\\MSSQLSERVER\" +r SeManageVolumePrivilege\n\n\nWrite-Output \"Time taken: $((Get-Date).Subtract($start_time).seconds) Second(s)\"","script_type":"npsscript","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"DOMAIN_CRED","uuid":"2523dbe4-6f68-49c5-add8-2692faf0a220"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"ApplyOSBPG"},{"target_any_local_reference":{"kind":"app_service","name":"MSSQL","uuid":"f52eea8e-8523-475b-a665-41262e6e39eb"},"retries":"0","description":"","type":"EXEC","uuid":"30d56741-96a4-4ce9-9e1a-23adb5c82c69","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"if ((\"@@{INCLUDE_BPG}@@\" -eq \"no\") -or (\"@@{BPG_RKTOOLS_URL}@@\" -eq \"\")){\n    \"Ignoring BPG\"\n    exit 0\n}\n\n$start_time = Get-Date\n\n$TempDirectory = \"C:\\Temp\"\n$sqladdparms_cli = \"$TempDirectory\\Add-SqlServerStartupParameter.ps1\"\n$TSQLSCRIPTSDIR = \"$TempDirectory\\TSQL_Scripts\"\nNew-Item -ItemType Directory -Force -Path $TSQLSCRIPTSDIR\n\nSet-Content -Path \"$sqladdparms_cli\" -Value '\nparam(\n## The parameter you wish to add\n[Parameter(Mandatory = $true)]\n$StartupParameter\n)\n\n$hklmRootNode = \"HKLM:\\SOFTWARE\\Microsoft\\Microsoft SQL Server\"\n\n$props = Get-ItemProperty \"$hklmRootNode\\Instance Names\\SQL\"\n$instances = $props.psobject.properties | ?{$_.Value -like \"MSSQL*\"} | select Value\n\n$instances | %{\n$inst = $_.Value;\n$regKey = \"$hklmRootNode\\$inst\\MSSQLServer\\Parameters\"\n$props = Get-ItemProperty $regKey\n$params = $props.psobject.properties | ?{$_.Name -like \"SQLArg*\"} | select Name, Value\n#$params | ft -AutoSize\n$hasFlag = $false\nforeach ($param in $params) {\nif($param.Value -eq $StartupParameter) {\n$hasFlag = $true\nbreak;\n}\n}\nif (-not $hasFlag) {\n\"Adding $StartupParameter\"\n$newRegProp = \"SQLArg\"+($params.Count)\nSet-ItemProperty -Path $regKey -Name $newRegProp -Value $StartupParameter\n} else {\n\"$StartupParameter already set\"\n}\n}'\nSet-Content -Path \"$TSQLSCRIPTSDIR\\01-ChangeTempDB.sql\" -Value \"use master`r`n\ngo`r`n\nAlter database tempdb modify file (name = tempdev, filename = 'I:\\TEMPDB01\\tempdb01.mdf', SIZE = 4096, FILEGROWTH=0)`r`n\ngo`r`n\nAlter database tempdb modify file (name = templog, filename = 'T:\\TempDB-logs01\\templog01.ldf', SIZE = 4096, FILEGROWTH=0)`r`n\ngo`r`n\nAlter database tempdb ADD file (name = tempdev02, filename = 'I:\\TEMPDB01\\tempdb02.ndf', SIZE = 4096, FILEGROWTH=0)`r`n\ngo`r`n\nAlter database tempdb ADD file (name = tempdev03, filename = 'J:\\TEMPDB02\\tempdb03.ndf', SIZE = 4096, FILEGROWTH=0)`r`n\ngo`r`n\nAlter database tempdb ADD file (name = tempdev04, filename = 'J:\\TEMPDB02\\tempdb04.ndf', SIZE = 4096, FILEGROWTH=0)`r`n\ngo`r`n\n`r`n\nALTER DATABASE [tempdb] MODIFY FILE (NAME=N'tempdev', NEWNAME=N'tempdev01')`r`n\nGO`r`n\nALTER DATABASE [tempdb] MODIFY FILE (NAME=N'templog', NEWNAME=N'templog01')`r`n\nGO\"\n\nSet-Content -Path \"$TSQLSCRIPTSDIR\\02-IncreaseTempDB_logs.sql\" -Value \"Use master`r`n\ngo`r`n\nALTER DATABASE tempdb MODIFY FILE (NAME = templog01, filename = 'T:\\TempDB-logs01\\templog01.ldf', SIZE`r`n\n= 8096);`r`n\nGO`r`n\nALTER DATABASE tempdb MODIFY FILE (NAME = templog01, FILENAME = 'T:\\TempDB-logs01\\templog01.ldf', SIZE`r`n\n= 12288);`r`n\nGO\"\n\nSet-Content -Path \"$TSQLSCRIPTSDIR\\03-SQL_set_memory.sql\" -Value \"USE master;`r`n\nexec sp_configure 'show advanced options', 1;`r`n\nRECONFIGURE;`r`n\nGO`r`n\nDECLARE `r`n\n@total_mem decimal (10,0),`r`n\n@min int,`r`n\n@max int`r`n\nSELECT `r`n\n--SELECT (physical_memory_kb\/1024) AS Server_Physical_Memory_MB`r`n\n@total_mem = (physical_memory_kb\/1024)`r`n\nFROM sys.dm_os_sys_info`r`n\n`r`n\nset @min = @total_mem * 0.1`r`n\nset @max = @total_mem * 0.85`r`n\nprint @min`r`n\nprint @max`r`n\n--print @total_mem`r`n\n`r`n\n`r`n\nEXEC sp_configure 'min server memory (MB)',@min`r`n\nEXEC sp_configure 'max server memory (MB)',@max`r`n\nRECONFIGURE\"\n\nSet-Content -Path \"$TSQLSCRIPTSDIR\\04-SQL-ChangeDefaultPaths.sql\" -Value \"USE [master]`r`n\nGO`r`n\n-- Change default location for data files`r`n\nEXEC xp_instance_regwrite`r`n\nN'HKEY_LOCAL_MACHINE',`r`n\nN'Software\\Microsoft\\MSSQLServer\\MSSQLServer',`r`n\nN'DefaultData',`r`n\nREG_SZ,`r`n\nN'G:\\SQLDATA01'`r`n\nGO`r`n\n-- Change default location for log files`r`n\nEXEC xp_instance_regwrite`r`n\nN'HKEY_LOCAL_MACHINE',`r`n\nN'Software\\Microsoft\\MSSQLServer\\MSSQLServer',`r`n\nN'DefaultLog',`r`n\nREG_SZ,`r`n\nN'L:\\UserDB-logs01'`r`n\nGO`r`n\n-- Change default location for backups`r`n\nEXEC xp_instance_regwrite`r`n\nN'HKEY_LOCAL_MACHINE',`r`n\nN'Software\\Microsoft\\MSSQLServer\\MSSQLServer',`r`n\nN'BackupDirectory',`r`n\nREG_SZ,`r`n\nN'R:\\SQLBACK'`r`n\nGO\"\n\n#create directories\nmkdir G:\\SQLDATA01\\\nmkdir H:\\SQLDATA02\\\nmkdir I:\\TEMPDB01\\\nmkdir J:\\TEMPDB02\\\nmkdir L:\\UserDB-logs01\\\nmkdir T:\\TempDB-logs01\\\nmkdir R:\\SQLBACK\n\n#ADD SQL T parameters \n#T1117 This parameter forces MS SQL Server to grow all database files uniformly\n#T1118 This parameter forces MS SQL Server to use full extents only\n& $sqladdparms_cli '-T1117'\n& $sqladdparms_cli '-T1118'\nrestart-service MSSQL* -force\n\n#import powershell SQL module\nimport-module \"sqlps\" -DisableNameChecking\n\ninvoke-sqlcmd -hostname localhost -inputFile \"$TSQLSCRIPTSDIR\\01-ChangeTempDB.sql\"\ninvoke-sqlcmd -hostname localhost -inputFile \"$TSQLSCRIPTSDIR\\02-IncreaseTempDB_logs.sql\"\ninvoke-sqlcmd -hostname localhost -inputFile \"$TSQLSCRIPTSDIR\\03-SQL_set_memory.sql\"\ninvoke-sqlcmd -hostname localhost -inputFile \"$TSQLSCRIPTSDIR\\04-SQL-ChangeDefaultPaths.sql\"\n\n#Delete original SQL temp files\nstop-service MSSQL* \nStart-Sleep 5\nrm \"F:\\Microsoft SQL Server\\MSSQL12.MSSQLSERVER\\MSSQL\\DATA\\temp*\"\n\nstart-service MSSQL* \nwmic useraccount get sid\nWrite-Output \"Time taken: $((Get-Date).Subtract($start_time).seconds) Second(s)\"\n","script_type":"npsscript","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"DOMAIN_CRED","uuid":"2523dbe4-6f68-49c5-add8-2692faf0a220"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"ApplySQLBPG"},{"target_any_local_reference":{"kind":"app_service","name":"MSSQL","uuid":"f52eea8e-8523-475b-a665-41262e6e39eb"},"retries":"0","description":"","type":"EXEC","uuid":"b1346876-5023-4ed6-b0ef-88d65e278ee8","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"New-NetFirewallRule -DisplayName \"SQL Server\" -Direction Inbound -Protocol TCP -LocalPort 1433 -Action allow\nNew-NetFirewallRule -DisplayName \"SQL Admin Connection\" -Direction Inbound -Protocol TCP -LocalPort 1434 -Action allow\nNew-NetFirewallRule -DisplayName \"SQL Database Management\" -Direction Inbound -Protocol UDP -LocalPort 1434 -Action allow\nNew-NetFirewallRule -DisplayName \"SQL Service Broker\" -Direction Inbound -Protocol TCP -LocalPort 4022 -Action allow\nNew-NetFirewallRule -DisplayName \"SQL Debugger\/RPC\" -Direction Inbound -Protocol TCP -LocalPort 135 -Action allow\nNew-NetFirewallRule -DisplayName \"SQL Browser\" -Direction Inbound -Protocol TCP -LocalPort 2382 -Action allow","script_type":"npsscript","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"DOMAIN_CRED","uuid":"2523dbe4-6f68-49c5-add8-2692faf0a220"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"FirewallRules"}],"description":"","message_list":[],"uuid":"3543527d-38e7-47e4-b69c-599be426c434","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"87d54973_dag","uuid":"1ddcc561-c23b-443c-ab8d-4284760a10c0"},"name":"b58c360f_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"MSSQLPackage","uuid":"b1cc7bfd-cf34-4dea-8d87-b4ac5e9e85af"},"retries":"0","description":"","type":"DAG","uuid":"118c307d-bae9-411e-9aff-ce4489e0b9cf","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"c5e51cfd_dag"}],"description":"","message_list":[],"uuid":"9eec248f-ba91-45eb-bb1d-b0775265dcda","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"c5e51cfd_dag","uuid":"118c307d-bae9-411e-9aff-ce4489e0b9cf"},"name":"8cc4ed37_runbook"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Uninstall_Crb_b1cc7bfd_cf34_4dea_8d87_b4ac5e9e85af"}],"description":"","message_list":[],"uuid":"0d7dde18-223f-4bd6-9c3b-b4a7dab9be39","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Package_b1cc7bfd_cf34_4dea_8d87_b4ac5e9e85af","uuid":"23615b06-9cfd-41fe-a0ca-cf486155cb9a"},"name":"SYS_GEN__Runbook_Package_b1cc7bfd_cf34_4dea_8d87_b4ac5e9e85af"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"ee4523f0-648a-4abd-bc59-56404b664c15","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"MSSQLPackage","uuid":"b1cc7bfd-cf34-4dea-8d87-b4ac5e9e85af"},"retries":"0","description":"","type":"DAG","uuid":"e0296c52-204c-4c2e-9e05-1ef052100629","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_f52eea8e_8523_475b_a665_41262e6e39eb","uuid":"a77315bd-ee15-427f-9fff-657af91ef704"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_f52eea8e_8523_475b_a665_41262e6e39eb","uuid":"7d7d9679-81c7-4cb0-be66-9e8b8885de1a"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_b1cc7bfd_cf34_4dea_8d87_b4ac5e9e85af","uuid":"82b36008-ae56-4ebb-833d-c75cb87b4e63"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_f52eea8e_8523_475b_a665_41262e6e39eb","uuid":"a77315bd-ee15-427f-9fff-657af91ef704"},"edge_type":"inherent","type":"","uuid":"5cc0e720-e2bf-427a-ae15-acc6d72397d5","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_f52eea8e_8523_475b_a665_41262e6e39eb","uuid":"7d7d9679-81c7-4cb0-be66-9e8b8885de1a"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_f52eea8e_8523_475b_a665_41262e6e39eb","uuid":"7d7d9679-81c7-4cb0-be66-9e8b8885de1a"},"edge_type":"inherent","type":"","uuid":"25f6d571-888d-4919-ac51-c7aec2ecf35e","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_b1cc7bfd_cf34_4dea_8d87_b4ac5e9e85af","uuid":"82b36008-ae56-4ebb-833d-c75cb87b4e63"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_b1cc7bfd_cf34_4dea_8d87_b4ac5e9e85af"},{"target_any_local_reference":{"kind":"app_service","name":"MSSQL","uuid":"f52eea8e-8523-475b-a665-41262e6e39eb"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"a77315bd-ee15-427f-9fff-657af91ef704","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"8aadc288_runbook","uuid":"a3a3e14c-142e-4dbd-9cd2-ae655d4c2f73"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_f52eea8e_8523_475b_a665_41262e6e39eb"},{"target_any_local_reference":{"kind":"app_service","name":"MSSQL","uuid":"f52eea8e-8523-475b-a665-41262e6e39eb"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"7d7d9679-81c7-4cb0-be66-9e8b8885de1a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"b01e7edf_runbook","uuid":"d15d5ac4-1713-4960-a4a5-ee8a1b274990"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_f52eea8e_8523_475b_a665_41262e6e39eb"},{"target_any_local_reference":{"kind":"app_package","name":"MSSQLPackage","uuid":"b1cc7bfd-cf34-4dea-8d87-b4ac5e9e85af"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"82b36008-ae56-4ebb-833d-c75cb87b4e63","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_b1cc7bfd_cf34_4dea_8d87_b4ac5e9e85af","uuid":"0d7dde18-223f-4bd6-9c3b-b4a7dab9be39"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_b1cc7bfd_cf34_4dea_8d87_b4ac5e9e85af"}],"description":"","message_list":[],"uuid":"9506dfd9-c93c-4dc8-9805-9609cd95cbf1","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_b1cc7bfd_cf34_4dea_8d87_b4ac5e9e85af","uuid":"e0296c52-204c-4c2e-9e05-1ef052100629"},"name":"SYS_GEN__Runbook_Package_b1cc7bfd_cf34_4dea_8d87_b4ac5e9e85af"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"fffce086-c6dd-45b6-afd3-ab66a9bfa4e7","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"MSSQLPackage","uuid":"b1cc7bfd-cf34-4dea-8d87-b4ac5e9e85af"},"retries":"0","description":"","type":"DAG","uuid":"6f77364a-fce6-461d-a971-06c4013fe8f1","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_f52eea8e_8523_475b_a665_41262e6e39eb","uuid":"288665f7-1191-46b2-ba68-43c39a80b4b4"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_b1cc7bfd_cf34_4dea_8d87_b4ac5e9e85af","uuid":"b500c48d-81ad-406f-bc87-3a6438e98266"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_f52eea8e_8523_475b_a665_41262e6e39eb","uuid":"288665f7-1191-46b2-ba68-43c39a80b4b4"},"edge_type":"inherent","type":"","uuid":"ff21257d-6a66-4351-9481-01d5c62e50ea","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_b1cc7bfd_cf34_4dea_8d87_b4ac5e9e85af","uuid":"b500c48d-81ad-406f-bc87-3a6438e98266"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_b1cc7bfd_cf34_4dea_8d87_b4ac5e9e85af"},{"target_any_local_reference":{"kind":"app_service","name":"MSSQL","uuid":"f52eea8e-8523-475b-a665-41262e6e39eb"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"288665f7-1191-46b2-ba68-43c39a80b4b4","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_f52eea8e_8523_475b_a665_41262e6e39eb","uuid":"1a5ccd51-e84e-4d62-9976-00b6eadca266"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_f52eea8e_8523_475b_a665_41262e6e39eb"},{"target_any_local_reference":{"kind":"app_package","name":"MSSQLPackage","uuid":"b1cc7bfd-cf34-4dea-8d87-b4ac5e9e85af"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"b500c48d-81ad-406f-bc87-3a6438e98266","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_b1cc7bfd_cf34_4dea_8d87_b4ac5e9e85af"}],"description":"","message_list":[],"uuid":"a3b7202f-d6c9-48e6-88b0-12909b2c09fc","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_b1cc7bfd_cf34_4dea_8d87_b4ac5e9e85af","uuid":"6f77364a-fce6-461d-a971-06c4013fe8f1"},"name":"SYS_GEN__Runbook_Package_b1cc7bfd_cf34_4dea_8d87_b4ac5e9e85af"}},{"description":"System action for starting an application","message_list":[],"uuid":"66888721-3a1b-402b-8607-b6c561f7a1ba","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"MSSQLPackage","uuid":"b1cc7bfd-cf34-4dea-8d87-b4ac5e9e85af"},"retries":"0","description":"","type":"DAG","uuid":"40a2d5b6-3fe5-420e-8c86-33824a5d9b6d","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_f52eea8e_8523_475b_a665_41262e6e39eb","uuid":"d05827d3-1b42-4ed7-aa6f-7db0a07fd935"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_b1cc7bfd_cf34_4dea_8d87_b4ac5e9e85af"},{"target_any_local_reference":{"kind":"app_service","name":"MSSQL","uuid":"f52eea8e-8523-475b-a665-41262e6e39eb"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"d05827d3-1b42-4ed7-aa6f-7db0a07fd935","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0263f5a9_runbook","uuid":"35f005f2-28c5-4e02-bc4e-5d6261ce70f7"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_f52eea8e_8523_475b_a665_41262e6e39eb"}],"description":"","message_list":[],"uuid":"a8c7e81c-ef56-48c7-81f0-6f1df75076f6","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_b1cc7bfd_cf34_4dea_8d87_b4ac5e9e85af","uuid":"40a2d5b6-3fe5-420e-8c86-33824a5d9b6d"},"name":"SYS_GEN__Runbook_Package_b1cc7bfd_cf34_4dea_8d87_b4ac5e9e85af"}},{"description":"System action for restarting an application","message_list":[],"uuid":"6582f9de-ecdc-4c91-9967-195c4266a8c3","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"MSSQLPackage","uuid":"b1cc7bfd-cf34-4dea-8d87-b4ac5e9e85af"},"retries":"0","description":"","type":"DAG","uuid":"aa8594b6-ad77-4661-83c8-537e00f31031","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_f52eea8e_8523_475b_a665_41262e6e39eb","uuid":"ed0e1e45-d919-4d58-95a9-c357ac6b8163"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_b1cc7bfd_cf34_4dea_8d87_b4ac5e9e85af"},{"target_any_local_reference":{"kind":"app_service","name":"MSSQL","uuid":"f52eea8e-8523-475b-a665-41262e6e39eb"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"ed0e1e45-d919-4d58-95a9-c357ac6b8163","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"a059f54d_runbook","uuid":"95244e83-b925-492a-abac-705b6ca46437"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_f52eea8e_8523_475b_a665_41262e6e39eb"}],"description":"","message_list":[],"uuid":"61ca3c5e-24da-44ee-906b-beb7ad30481f","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_b1cc7bfd_cf34_4dea_8d87_b4ac5e9e85af","uuid":"aa8594b6-ad77-4661-83c8-537e00f31031"},"name":"SYS_GEN__Runbook_Package_b1cc7bfd_cf34_4dea_8d87_b4ac5e9e85af"}},{"description":"System action for stopping an application","message_list":[],"uuid":"a5147804-e13a-4a17-92a0-4d757e52271f","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"MSSQLPackage","uuid":"b1cc7bfd-cf34-4dea-8d87-b4ac5e9e85af"},"retries":"0","description":"","type":"DAG","uuid":"4b02166f-3c2d-4da0-a80a-9794931c60bd","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_f52eea8e_8523_475b_a665_41262e6e39eb","uuid":"33d759a8-1d93-4d27-8ec7-1474d7e393b4"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_b1cc7bfd_cf34_4dea_8d87_b4ac5e9e85af"},{"target_any_local_reference":{"kind":"app_service","name":"MSSQL","uuid":"f52eea8e-8523-475b-a665-41262e6e39eb"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"33d759a8-1d93-4d27-8ec7-1474d7e393b4","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"8aadc288_runbook","uuid":"a3a3e14c-142e-4dbd-9cd2-ae655d4c2f73"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_f52eea8e_8523_475b_a665_41262e6e39eb"}],"description":"","message_list":[],"uuid":"8c0c4806-e350-4bb9-a3b5-d26fd7cb17f6","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_b1cc7bfd_cf34_4dea_8d87_b4ac5e9e85af","uuid":"4b02166f-3c2d-4da0-a80a-9794931c60bd"},"name":"SYS_GEN__Runbook_Package_b1cc7bfd_cf34_4dea_8d87_b4ac5e9e85af"}}],"message_list":[],"service_local_reference_list":[{"kind":"app_service","name":"MSSQL","uuid":"f52eea8e-8523-475b-a665-41262e6e39eb"}],"uuid":"b1cc7bfd-cf34-4dea-8d87-b4ac5e9e85af","state":"ACTIVE","version":"","editables":{},"type":"DEB","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"MSSQLPackage","uuid":"b1cc7bfd-cf34-4dea-8d87-b4ac5e9e85af"},"retries":"0","description":"","type":"DAG","uuid":"1ddcc561-c23b-443c-ab8d-4284760a10c0","child_tasks_local_reference_list":[{"kind":"app_task","name":"Enable Credssp","uuid":"9361c738-ce15-4418-8ba1-5ee3f157b394"},{"kind":"app_task","name":"AddToDomain","uuid":"17f1dd59-972d-48b6-a3ac-fa08aaa6cb3f"},{"kind":"app_task","name":"Wait for Machine to Join domain","uuid":"974b00cf-f674-4827-b3ef-f0b8c8b85200"},{"kind":"app_task","name":"InitializeDisk","uuid":"0398a1ea-d9d6-46d2-8ebd-93feb2c3921b"},{"kind":"app_task","name":"InstallSQL","uuid":"0b06db00-c2e0-41d4-8cb2-139d21d5f65d"},{"kind":"app_task","name":"ApplyOSBPG","uuid":"8abee8a9-d543-4413-ad20-69024bc9830d"},{"kind":"app_task","name":"ApplySQLBPG","uuid":"30d56741-96a4-4ce9-9e1a-23adb5c82c69"},{"kind":"app_task","name":"FirewallRules","uuid":"b1346876-5023-4ed6-b0ef-88d65e278ee8"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Enable Credssp","uuid":"9361c738-ce15-4418-8ba1-5ee3f157b394"},"edge_type":"user_defined","type":"","uuid":"1d187fc6-1106-4c2d-a8d5-a99e340bba09","to_task_reference":{"kind":"app_task","name":"AddToDomain","uuid":"17f1dd59-972d-48b6-a3ac-fa08aaa6cb3f"}},{"from_task_reference":{"kind":"app_task","name":"AddToDomain","uuid":"17f1dd59-972d-48b6-a3ac-fa08aaa6cb3f"},"edge_type":"user_defined","type":"","uuid":"27d4689c-2abc-4e95-8933-24718542fc65","to_task_reference":{"kind":"app_task","name":"Wait for Machine to Join domain","uuid":"974b00cf-f674-4827-b3ef-f0b8c8b85200"}},{"from_task_reference":{"kind":"app_task","name":"Wait for Machine to Join domain","uuid":"974b00cf-f674-4827-b3ef-f0b8c8b85200"},"edge_type":"user_defined","type":"","uuid":"84621fd7-bd7e-4c42-9ca5-e631adeff9e6","to_task_reference":{"kind":"app_task","name":"InitializeDisk","uuid":"0398a1ea-d9d6-46d2-8ebd-93feb2c3921b"}},{"from_task_reference":{"kind":"app_task","name":"InitializeDisk","uuid":"0398a1ea-d9d6-46d2-8ebd-93feb2c3921b"},"edge_type":"user_defined","type":"","uuid":"2def52e8-e7a3-421d-b3ea-707d4e672e96","to_task_reference":{"kind":"app_task","name":"InstallSQL","uuid":"0b06db00-c2e0-41d4-8cb2-139d21d5f65d"}},{"from_task_reference":{"kind":"app_task","name":"InstallSQL","uuid":"0b06db00-c2e0-41d4-8cb2-139d21d5f65d"},"edge_type":"user_defined","type":"","uuid":"2ae6bd17-34a6-4ee7-977a-30602a448727","to_task_reference":{"kind":"app_task","name":"ApplyOSBPG","uuid":"8abee8a9-d543-4413-ad20-69024bc9830d"}},{"from_task_reference":{"kind":"app_task","name":"ApplyOSBPG","uuid":"8abee8a9-d543-4413-ad20-69024bc9830d"},"edge_type":"user_defined","type":"","uuid":"6af76f46-8f72-46e0-97f0-562e201321f0","to_task_reference":{"kind":"app_task","name":"ApplySQLBPG","uuid":"30d56741-96a4-4ce9-9e1a-23adb5c82c69"}},{"from_task_reference":{"kind":"app_task","name":"ApplySQLBPG","uuid":"30d56741-96a4-4ce9-9e1a-23adb5c82c69"},"edge_type":"user_defined","type":"","uuid":"519437d3-6498-481a-a873-ff4ebe5058e8","to_task_reference":{"kind":"app_task","name":"FirewallRules","uuid":"b1346876-5023-4ed6-b0ef-88d65e278ee8"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"87d54973_dag"},{"target_any_local_reference":{"kind":"app_package","name":"MSSQLPackage","uuid":"b1cc7bfd-cf34-4dea-8d87-b4ac5e9e85af"},"retries":"0","description":"","type":"EXEC","uuid":"9361c738-ce15-4418-8ba1-5ee3f157b394","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"npsscript","type":"","command_line_args":"","exit_status":[],"script":"Enable-WSManCredSSP -Role Server -Force"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Enable Credssp"},{"target_any_local_reference":{"kind":"app_service","name":"MSSQL","uuid":"f52eea8e-8523-475b-a665-41262e6e39eb"},"retries":"0","description":"","type":"EXEC","uuid":"17f1dd59-972d-48b6-a3ac-fa08aaa6cb3f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"##############################################\n# Name        : JoinDomain.ps1\n# Author      : K Sarat Kumar\n# Version     : 1.0\n# Description : Script is used to Change hostname of machines and join to domain.\n##############################################\n\nfunction JointoDomain {\n  [CmdletBinding()]\n  Param(\n      [parameter(Mandatory=$true)]\n      [string]$DomainName,\n      [parameter(Mandatory=$false)]\n      [string]$OU,\n      [parameter(Mandatory=$true)]\n      [string]$Username,\n      [parameter(Mandatory=$true)]\n      [string]$Password,\n      [parameter(Mandatory=$true)]\n      [string]$Server\n  )\n  $adapter = Get-NetAdapter | ? {$_.Status -eq \"up\"}\n  $adapter | Set-DnsClientServerAddress -ServerAddresses $Server\n\n  if ($env:computername  -eq $env:userdomain) {\n    Write-Host \"Not in domain\"\n    #$adminname = \"$DomainName\\$Username\"\n    $adminname = \"$Username\"\n    $adminpassword = ConvertTo-SecureString -asPlainText -Force -String \"$Password\"\n    Write-Host \"$adminname , $password\"\n    $credential = New-Object System.Management.Automation.PSCredential($adminname,$adminpassword)\n    Add-computer -DomainName $DomainName -Credential $credential -force -Options JoinWithNewName,AccountCreate -PassThru -ErrorAction Stop\n  } else {\n     Write-Host \"Already in domain\"\n  }\n}\n\nJointoDomain -DomainName \"@@{DOMAIN}@@\" -Username \"@@{DOMAIN_CRED.username}@@\" -Password \"@@{DOMAIN_CRED.secret}@@\" -Server \"@@{AD_IP}@@\"\n\nRestart-Computer -Force -AsJob\nexit 0\n","script_type":"npsscript","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"LOCAL","uuid":"8b392aaf-f060-45c6-a224-4981098ac1a1"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"AddToDomain"},{"target_any_local_reference":{"kind":"app_service","name":"MSSQL","uuid":"f52eea8e-8523-475b-a665-41262e6e39eb"},"retries":"0","description":"","type":"EXEC","uuid":"974b00cf-f674-4827-b3ef-f0b8c8b85200","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"static","type":"","command_line_args":"","exit_status":[],"script":"#script\nsleep(60)"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Wait for Machine to Join domain"},{"target_any_local_reference":{"kind":"app_service","name":"MSSQL","uuid":"f52eea8e-8523-475b-a665-41262e6e39eb"},"retries":"0","description":"","type":"EXEC","uuid":"0398a1ea-d9d6-46d2-8ebd-93feb2c3921b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"$start_time = Get-Date\n\nGet-Disk -Number 1 | Initialize-Disk -ErrorAction SilentlyContinue\nGet-Disk -Number 2 | Initialize-Disk -ErrorAction SilentlyContinue\nGet-Disk -Number 3 | Initialize-Disk -ErrorAction SilentlyContinue\nGet-Disk -Number 4 | Initialize-Disk -ErrorAction SilentlyContinue\nGet-Disk -Number 5 | Initialize-Disk -ErrorAction SilentlyContinue\nGet-Disk -Number 6 | Initialize-Disk -ErrorAction SilentlyContinue\nGet-Disk -Number 7 | Initialize-Disk -ErrorAction SilentlyContinue\nGet-Disk -Number 8 | Initialize-Disk -ErrorAction SilentlyContinue\n\n# Format SQL binaries disk\nNew-Partition -DiskNumber 1 -DriveLetter F -UseMaximumSize -ErrorAction SilentlyContinue | Format-Volume -Confirm:$false\n\n# Format SQL backup\/restore disk\nNew-Partition -DiskNumber 2 -DriveLetter R -UseMaximumSize -ErrorAction SilentlyContinue | Format-Volume -Confirm:$false\n\n# Format DB DATA drives\nNew-Partition -DiskNumber 3 -DriveLetter G -UseMaximumSize -ErrorAction SilentlyContinue | Format-Volume -Confirm:$false\nNew-Partition -DiskNumber 4 -DriveLetter H -UseMaximumSize -ErrorAction SilentlyContinue | Format-Volume -Confirm:$false\n\n# Format DB TEMP drives\nNew-Partition -DiskNumber 5 -DriveLetter I -UseMaximumSize -ErrorAction SilentlyContinue | Format-Volume -Confirm:$false\nNew-Partition -DiskNumber 6 -DriveLetter J -UseMaximumSize -ErrorAction SilentlyContinue | Format-Volume -Confirm:$false\n\n# Format DB LOGS drives\nNew-Partition -DiskNumber 7 -DriveLetter T -UseMaximumSize -ErrorAction SilentlyContinue | Format-Volume -Confirm:$false\nNew-Partition -DiskNumber 8 -DriveLetter L -UseMaximumSize -ErrorAction SilentlyContinue | Format-Volume -Confirm:$false\n\n#Format drive with 64K block size, assigns Label and drive letter\nFormat-Volume -DriveLetter F -FileSystem NTFS -NewFileSystemLabel \"SQLINSTALL\" -Confirm:$false \nFormat-Volume -DriveLetter R -AllocationUnitSize 65536 -FileSystem NTFS -NewFileSystemLabel \"SQLBCK\" -Confirm:$false \nFormat-Volume -DriveLetter G -AllocationUnitSize 65536 -FileSystem NTFS -NewFileSystemLabel \"DATA01\" -Confirm:$false \nFormat-Volume -DriveLetter H -AllocationUnitSize 65536 -FileSystem NTFS -NewFileSystemLabel \"DATA02\" -Confirm:$false \nFormat-Volume -DriveLetter I -AllocationUnitSize 65536 -FileSystem NTFS -NewFileSystemLabel \"TEMPDB01\" -Confirm:$false \nFormat-Volume -DriveLetter J -AllocationUnitSize 65536 -FileSystem NTFS -NewFileSystemLabel \"TEMPDB02\" -Confirm:$false \nFormat-Volume -DriveLetter T -AllocationUnitSize 65536 -FileSystem NTFS -NewFileSystemLabel \"TEMPDBLOG01\" -Confirm:$false \nFormat-Volume -DriveLetter L -AllocationUnitSize 65536 -FileSystem NTFS -NewFileSystemLabel \"ULOG01\" -Confirm:$false \n\nWrite-Output \"Time taken: $((Get-Date).Subtract($start_time).seconds) Second(s)\"\n","script_type":"npsscript","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"LOCAL","uuid":"8b392aaf-f060-45c6-a224-4981098ac1a1"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"InitializeDisk"},{"target_any_local_reference":{"kind":"app_service","name":"MSSQL","uuid":"f52eea8e-8523-475b-a665-41262e6e39eb"},"retries":"0","description":"","type":"EXEC","uuid":"0b06db00-c2e0-41d4-8cb2-139d21d5f65d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"$DriveLetter = $(Get-Partition -DiskNumber 1 -PartitionNumber 2 | select DriveLetter -ExpandProperty DriveLetter)\n$edition = \"Standard\"\n$HOSTNAME=$(hostname)\n$PackageName = \"MsSqlServer2014Standard\"\n$Prerequisites = \"Net-Framework-Core\"\n$silentArgs = \"\/IACCEPTSQLSERVERLICENSETERMS \/Q \/ACTION=install \/FEATURES=SQLENGINE,SSMS,ADV_SSMS,CONN,IS,BC,SDK,BOL \/SECURITYMODE=sql \/SAPWD=`\"@@{SQL_CRED.secret}@@`\" \/ASSYSADMINACCOUNTS=`\"@@{SQL_CRED.username}@@`\" \/SQLSYSADMINACCOUNTS=`\"@@{SQL_CRED.username}@@`\" \/INSTANCEID=MSSQLSERVER \/INSTANCENAME=MSSQLSERVER \/UPDATEENABLED=False \/INDICATEPROGRESS \/TCPENABLED=1 \/INSTALLSQLDATADIR=`\"${DriveLetter}:\\Microsoft SQL Server`\"\"\n$setupDriveLetter = \"D:\"\n$setupPath = \"$setupDriveLetter\\setup.exe\"\n$validExitCodes = @(0)\n\nif ($Prerequisites){\nInstall-WindowsFeature -IncludeAllSubFeature -ErrorAction Stop $Prerequisites\n}\n\nWrite-Output \"Installing $PackageName....\"\n\n$install = Start-Process -FilePath $setupPath -ArgumentList $silentArgs -Wait -NoNewWindow -PassThru\n$install.WaitForExit()\n\n$exitCode = $install.ExitCode\n$install.Dispose()\n\nWrite-Output \"Command [`\"$setupPath`\" $silentArgs] exited with `'$exitCode`'.\"\nif ($validExitCodes -notcontains $exitCode) {\nWrite-Output \"Running [`\"$setupPath`\" $silentArgs] was not successful. Exit code was '$exitCode'. See log for possible error messages.\"\nexit 1\n}","script_type":"npsscript","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"DOMAIN_CRED","uuid":"2523dbe4-6f68-49c5-add8-2692faf0a220"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"InstallSQL"},{"target_any_local_reference":{"kind":"app_service","name":"MSSQL","uuid":"f52eea8e-8523-475b-a665-41262e6e39eb"},"retries":"0","description":"","type":"EXEC","uuid":"8abee8a9-d543-4413-ad20-69024bc9830d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"if ((\"@@{INCLUDE_BPG}@@\" -eq \"no\") -or (\"@@{BPG_RKTOOLS_URL}@@\" -eq \"\")){\n    \"Ignoring BPG\"\n    exit 0\n}\n\n$start_time = Get-Date\n\n$TempDirectory = \"C:\\Temp\"\n$RktTemp = \"$TempDirectory\\rktools.2003\"\n\n$url = \"@@{BPG_RKTOOLS_URL}@@\"\n$filePath = \"$TempDirectory\\rktools.exe\"\n\nNew-Item -ItemType Directory -Force -Path $TempDirectory\n(New-Object System.Net.WebClient).DownloadFile($url,$filePath)\n\n& $filePath \/Q \/T:\"$RktTemp\" \/C\n\nStart-Sleep 10\n\n$PackageName = \"rktools.2003\"\n$setupPath = \"C:\\Windows\\System32\\msiexec.exe\"\n$silentArgs = \"\/i $RktTemp\\rktools.msi \/qn\"\n$validExitCodes = @(0)\n\nWrite-Output \"Installing $PackageName....\"\n\n$install = Start-Process -FilePath $setupPath -ArgumentList $silentArgs -Wait -NoNewWindow -PassThru\n$install.WaitForExit()\n\n$exitCode = $install.ExitCode\n$install.Dispose()\n\nWrite-Output \"Command [`\"$setupPath`\" $silentArgs] exited with `'$exitCode`'.\"\nif ($validExitCodes -notcontains $exitCode) {\nWrite-Output \"Running [`\"$setupPath`\" $silentArgs] was not successful. Exit code was '$exitCode'. See log for possible error messages.\"\nexit 1\n}\n\n# OS related tunning\n# Set Windows Power Options to High Performance\npowercfg -s 8c5e7fda-e8bf-4a96-9a85-a6e23a8c635c\n\n#Grant Memory privileges to user \n$ntrights_cli = \"C:\\Program Files (x86)\\Windows Resource Kits\\Tools\\ntrights.exe\"\n& $ntrights_cli -u \"NT SERVICE\\MSSQLSERVER\" +r SeLockMemoryPrivilege\n& $ntrights_cli -u \"NT SERVICE\\MSSQLSERVER\" +r SeManageVolumePrivilege\n\n\nWrite-Output \"Time taken: $((Get-Date).Subtract($start_time).seconds) Second(s)\"","script_type":"npsscript","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"DOMAIN_CRED","uuid":"2523dbe4-6f68-49c5-add8-2692faf0a220"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"ApplyOSBPG"},{"target_any_local_reference":{"kind":"app_service","name":"MSSQL","uuid":"f52eea8e-8523-475b-a665-41262e6e39eb"},"retries":"0","description":"","type":"EXEC","uuid":"30d56741-96a4-4ce9-9e1a-23adb5c82c69","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"if ((\"@@{INCLUDE_BPG}@@\" -eq \"no\") -or (\"@@{BPG_RKTOOLS_URL}@@\" -eq \"\")){\n    \"Ignoring BPG\"\n    exit 0\n}\n\n$start_time = Get-Date\n\n$TempDirectory = \"C:\\Temp\"\n$sqladdparms_cli = \"$TempDirectory\\Add-SqlServerStartupParameter.ps1\"\n$TSQLSCRIPTSDIR = \"$TempDirectory\\TSQL_Scripts\"\nNew-Item -ItemType Directory -Force -Path $TSQLSCRIPTSDIR\n\nSet-Content -Path \"$sqladdparms_cli\" -Value '\nparam(\n## The parameter you wish to add\n[Parameter(Mandatory = $true)]\n$StartupParameter\n)\n\n$hklmRootNode = \"HKLM:\\SOFTWARE\\Microsoft\\Microsoft SQL Server\"\n\n$props = Get-ItemProperty \"$hklmRootNode\\Instance Names\\SQL\"\n$instances = $props.psobject.properties | ?{$_.Value -like \"MSSQL*\"} | select Value\n\n$instances | %{\n$inst = $_.Value;\n$regKey = \"$hklmRootNode\\$inst\\MSSQLServer\\Parameters\"\n$props = Get-ItemProperty $regKey\n$params = $props.psobject.properties | ?{$_.Name -like \"SQLArg*\"} | select Name, Value\n#$params | ft -AutoSize\n$hasFlag = $false\nforeach ($param in $params) {\nif($param.Value -eq $StartupParameter) {\n$hasFlag = $true\nbreak;\n}\n}\nif (-not $hasFlag) {\n\"Adding $StartupParameter\"\n$newRegProp = \"SQLArg\"+($params.Count)\nSet-ItemProperty -Path $regKey -Name $newRegProp -Value $StartupParameter\n} else {\n\"$StartupParameter already set\"\n}\n}'\nSet-Content -Path \"$TSQLSCRIPTSDIR\\01-ChangeTempDB.sql\" -Value \"use master`r`n\ngo`r`n\nAlter database tempdb modify file (name = tempdev, filename = 'I:\\TEMPDB01\\tempdb01.mdf', SIZE = 4096, FILEGROWTH=0)`r`n\ngo`r`n\nAlter database tempdb modify file (name = templog, filename = 'T:\\TempDB-logs01\\templog01.ldf', SIZE = 4096, FILEGROWTH=0)`r`n\ngo`r`n\nAlter database tempdb ADD file (name = tempdev02, filename = 'I:\\TEMPDB01\\tempdb02.ndf', SIZE = 4096, FILEGROWTH=0)`r`n\ngo`r`n\nAlter database tempdb ADD file (name = tempdev03, filename = 'J:\\TEMPDB02\\tempdb03.ndf', SIZE = 4096, FILEGROWTH=0)`r`n\ngo`r`n\nAlter database tempdb ADD file (name = tempdev04, filename = 'J:\\TEMPDB02\\tempdb04.ndf', SIZE = 4096, FILEGROWTH=0)`r`n\ngo`r`n\n`r`n\nALTER DATABASE [tempdb] MODIFY FILE (NAME=N'tempdev', NEWNAME=N'tempdev01')`r`n\nGO`r`n\nALTER DATABASE [tempdb] MODIFY FILE (NAME=N'templog', NEWNAME=N'templog01')`r`n\nGO\"\n\nSet-Content -Path \"$TSQLSCRIPTSDIR\\02-IncreaseTempDB_logs.sql\" -Value \"Use master`r`n\ngo`r`n\nALTER DATABASE tempdb MODIFY FILE (NAME = templog01, filename = 'T:\\TempDB-logs01\\templog01.ldf', SIZE`r`n\n= 8096);`r`n\nGO`r`n\nALTER DATABASE tempdb MODIFY FILE (NAME = templog01, FILENAME = 'T:\\TempDB-logs01\\templog01.ldf', SIZE`r`n\n= 12288);`r`n\nGO\"\n\nSet-Content -Path \"$TSQLSCRIPTSDIR\\03-SQL_set_memory.sql\" -Value \"USE master;`r`n\nexec sp_configure 'show advanced options', 1;`r`n\nRECONFIGURE;`r`n\nGO`r`n\nDECLARE `r`n\n@total_mem decimal (10,0),`r`n\n@min int,`r`n\n@max int`r`n\nSELECT `r`n\n--SELECT (physical_memory_kb\/1024) AS Server_Physical_Memory_MB`r`n\n@total_mem = (physical_memory_kb\/1024)`r`n\nFROM sys.dm_os_sys_info`r`n\n`r`n\nset @min = @total_mem * 0.1`r`n\nset @max = @total_mem * 0.85`r`n\nprint @min`r`n\nprint @max`r`n\n--print @total_mem`r`n\n`r`n\n`r`n\nEXEC sp_configure 'min server memory (MB)',@min`r`n\nEXEC sp_configure 'max server memory (MB)',@max`r`n\nRECONFIGURE\"\n\nSet-Content -Path \"$TSQLSCRIPTSDIR\\04-SQL-ChangeDefaultPaths.sql\" -Value \"USE [master]`r`n\nGO`r`n\n-- Change default location for data files`r`n\nEXEC xp_instance_regwrite`r`n\nN'HKEY_LOCAL_MACHINE',`r`n\nN'Software\\Microsoft\\MSSQLServer\\MSSQLServer',`r`n\nN'DefaultData',`r`n\nREG_SZ,`r`n\nN'G:\\SQLDATA01'`r`n\nGO`r`n\n-- Change default location for log files`r`n\nEXEC xp_instance_regwrite`r`n\nN'HKEY_LOCAL_MACHINE',`r`n\nN'Software\\Microsoft\\MSSQLServer\\MSSQLServer',`r`n\nN'DefaultLog',`r`n\nREG_SZ,`r`n\nN'L:\\UserDB-logs01'`r`n\nGO`r`n\n-- Change default location for backups`r`n\nEXEC xp_instance_regwrite`r`n\nN'HKEY_LOCAL_MACHINE',`r`n\nN'Software\\Microsoft\\MSSQLServer\\MSSQLServer',`r`n\nN'BackupDirectory',`r`n\nREG_SZ,`r`n\nN'R:\\SQLBACK'`r`n\nGO\"\n\n#create directories\nmkdir G:\\SQLDATA01\\\nmkdir H:\\SQLDATA02\\\nmkdir I:\\TEMPDB01\\\nmkdir J:\\TEMPDB02\\\nmkdir L:\\UserDB-logs01\\\nmkdir T:\\TempDB-logs01\\\nmkdir R:\\SQLBACK\n\n#ADD SQL T parameters \n#T1117 This parameter forces MS SQL Server to grow all database files uniformly\n#T1118 This parameter forces MS SQL Server to use full extents only\n& $sqladdparms_cli '-T1117'\n& $sqladdparms_cli '-T1118'\nrestart-service MSSQL* -force\n\n#import powershell SQL module\nimport-module \"sqlps\" -DisableNameChecking\n\ninvoke-sqlcmd -hostname localhost -inputFile \"$TSQLSCRIPTSDIR\\01-ChangeTempDB.sql\"\ninvoke-sqlcmd -hostname localhost -inputFile \"$TSQLSCRIPTSDIR\\02-IncreaseTempDB_logs.sql\"\ninvoke-sqlcmd -hostname localhost -inputFile \"$TSQLSCRIPTSDIR\\03-SQL_set_memory.sql\"\ninvoke-sqlcmd -hostname localhost -inputFile \"$TSQLSCRIPTSDIR\\04-SQL-ChangeDefaultPaths.sql\"\n\n#Delete original SQL temp files\nstop-service MSSQL* \nStart-Sleep 5\nrm \"F:\\Microsoft SQL Server\\MSSQL12.MSSQLSERVER\\MSSQL\\DATA\\temp*\"\n\nstart-service MSSQL* \nwmic useraccount get sid\nWrite-Output \"Time taken: $((Get-Date).Subtract($start_time).seconds) Second(s)\"\n","script_type":"npsscript","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"DOMAIN_CRED","uuid":"2523dbe4-6f68-49c5-add8-2692faf0a220"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"ApplySQLBPG"},{"target_any_local_reference":{"kind":"app_service","name":"MSSQL","uuid":"f52eea8e-8523-475b-a665-41262e6e39eb"},"retries":"0","description":"","type":"EXEC","uuid":"b1346876-5023-4ed6-b0ef-88d65e278ee8","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"New-NetFirewallRule -DisplayName \"SQL Server\" -Direction Inbound -Protocol TCP -LocalPort 1433 -Action allow\nNew-NetFirewallRule -DisplayName \"SQL Admin Connection\" -Direction Inbound -Protocol TCP -LocalPort 1434 -Action allow\nNew-NetFirewallRule -DisplayName \"SQL Database Management\" -Direction Inbound -Protocol UDP -LocalPort 1434 -Action allow\nNew-NetFirewallRule -DisplayName \"SQL Service Broker\" -Direction Inbound -Protocol TCP -LocalPort 4022 -Action allow\nNew-NetFirewallRule -DisplayName \"SQL Debugger\/RPC\" -Direction Inbound -Protocol TCP -LocalPort 135 -Action allow\nNew-NetFirewallRule -DisplayName \"SQL Browser\" -Direction Inbound -Protocol TCP -LocalPort 2382 -Action allow","script_type":"npsscript","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"DOMAIN_CRED","uuid":"2523dbe4-6f68-49c5-add8-2692faf0a220"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"FirewallRules"}],"description":"","message_list":[],"uuid":"3543527d-38e7-47e4-b69c-599be426c434","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"87d54973_dag","uuid":"1ddcc561-c23b-443c-ab8d-4284760a10c0"},"name":"b58c360f_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"MSSQLPackage","uuid":"b1cc7bfd-cf34-4dea-8d87-b4ac5e9e85af"},"retries":"0","description":"","type":"DAG","uuid":"118c307d-bae9-411e-9aff-ce4489e0b9cf","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"c5e51cfd_dag"}],"description":"","message_list":[],"uuid":"9eec248f-ba91-45eb-bb1d-b0775265dcda","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"c5e51cfd_dag","uuid":"118c307d-bae9-411e-9aff-ce4489e0b9cf"},"name":"8cc4ed37_runbook"}},"variable_list":[],"name":"MSSQLPackage"}]},"name":"Test1mysq"},"spec":{"name":"Test1mysq","resources":{"service_definition_list":[{"singleton":false,"uuid":"f52eea8e-8523-475b-a665-41262e6e39eb","action_list":[{"uuid":"ce945ed3-353b-41b9-a0f9-e179e46524d5","name":"action_create","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"MSSQL","uuid":"f52eea8e-8523-475b-a665-41262e6e39eb"},"retries":"0","description":"","uuid":"9ffa05b6-aa0c-4182-bf49-49d59c74a1c1","child_tasks_local_reference_list":[],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"030017c3_dag"}],"uuid":"836d16e2-c534-4d0b-9b5c-5ff05bcbeafd","description":"","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"030017c3_dag","uuid":"9ffa05b6-aa0c-4182-bf49-49d59c74a1c1"},"name":"5730e30f_runbook"},"type":"system","description":"System action for creating an application"},{"uuid":"2eadca5d-6eef-4dea-8ad5-42324aac93aa","name":"action_delete","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"MSSQL","uuid":"f52eea8e-8523-475b-a665-41262e6e39eb"},"retries":"0","description":"","uuid":"6898bcf4-d805-4de4-96ad-bc9dcaa173c2","child_tasks_local_reference_list":[],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"6f5f997d_dag"}],"uuid":"d15d5ac4-1713-4960-a4a5-ee8a1b274990","description":"","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"6f5f997d_dag","uuid":"6898bcf4-d805-4de4-96ad-bc9dcaa173c2"},"name":"b01e7edf_runbook"},"type":"system","description":"System action for deleting an application. Deletes created VMs as well"},{"uuid":"52b04658-c31f-4512-96b3-43d9b63bf138","name":"action_start","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"MSSQL","uuid":"f52eea8e-8523-475b-a665-41262e6e39eb"},"retries":"0","description":"","uuid":"3ea4046f-1356-4fd3-969c-e8216cab5d8a","child_tasks_local_reference_list":[],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"c2b90e7d_dag"}],"uuid":"35f005f2-28c5-4e02-bc4e-5d6261ce70f7","description":"","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"c2b90e7d_dag","uuid":"3ea4046f-1356-4fd3-969c-e8216cab5d8a"},"name":"0263f5a9_runbook"},"type":"system","description":"System action for starting an application"},{"uuid":"f493503e-e822-4293-b48e-d6f30e6a523f","name":"action_stop","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"MSSQL","uuid":"f52eea8e-8523-475b-a665-41262e6e39eb"},"retries":"0","description":"","uuid":"127f0b67-ec85-4304-ac3f-086230ce4f9e","child_tasks_local_reference_list":[],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"00b1cc9f_dag"}],"uuid":"a3a3e14c-142e-4dbd-9cd2-ae655d4c2f73","description":"","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"00b1cc9f_dag","uuid":"127f0b67-ec85-4304-ac3f-086230ce4f9e"},"name":"8aadc288_runbook"},"type":"system","description":"System action for stopping an application"},{"uuid":"762ee059-364b-4efe-bfed-5832f7f32350","name":"action_restart","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"MSSQL","uuid":"f52eea8e-8523-475b-a665-41262e6e39eb"},"retries":"0","description":"","uuid":"ee78707a-83a8-483c-bec9-6b28b2d8e0d3","child_tasks_local_reference_list":[],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"6c4b7c3b_dag"}],"uuid":"95244e83-b925-492a-abac-705b6ca46437","description":"","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"6c4b7c3b_dag","uuid":"ee78707a-83a8-483c-bec9-6b28b2d8e0d3"},"name":"a059f54d_runbook"},"type":"system","description":"System action for restarting an application"}],"description":"","depends_on_list":[],"port_list":[],"tier":"","variable_list":[{"val_type":"STRING","description":"","uuid":"7b0cef9b-01ce-4b34-a039-a0a7ca3625dc","value":"","label":"","attrs":{"type":""},"type":"LOCAL","name":"EXECUTION_MODE"}],"name":"MSSQL"}],"substrate_definition_list":[{"description":"","action_list":[],"uuid":"05772215-d3b2-4adf-993c-e911da1ec18a","readiness_probe":{"connection_type":"POWERSHELL","retries":"5","disable_readiness_probe":false,"timeout_secs":"300","address":"@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@","delay_secs":"60","connection_port":5985,"login_credential_local_reference":{"kind":"app_credential","name":"LOCAL","uuid":"8b392aaf-f060-45c6-a224-4981098ac1a1"}},"editables":{"readiness_probe":{"connection_type":true,"delay_secs":true,"connection_port":true,"timeout_secs":true},"create_spec":{"name":true,"resources":{"nic_list":{"0":{"subnet_reference":true}},"serial_port_list":{},"num_vcpus_per_socket":true,"num_sockets":true,"memory_size_mib":true,"guest_customization":true,"disk_list":{"1":{"data_source_reference":true,"device_properties":{"device_type":true,"disk_address":{"adapter_type":true}}},"0":{"data_source_reference":true,"device_properties":{"device_type":true,"disk_address":{"adapter_type":true}}},"3":{"disk_size_mib":true},"2":{"disk_size_mib":true},"5":{"disk_size_mib":true},"4":{"disk_size_mib":true},"7":{"disk_size_mib":true},"6":{"disk_size_mib":true},"9":{"disk_size_mib":true},"8":{"disk_size_mib":true}}}}},"os_type":"Windows","type":"AHV_VM","create_spec":{"name":"MSSQL-@@{calm_random}@@","categories":"","availability_zone_reference":null,"backup_policy":null,"type":"","cluster_reference":null,"resources":{"nic_list":[],"serial_port_list":[],"guest_tools":null,"num_vcpus_per_socket":1,"num_sockets":4,"gpu_list":[],"memory_size_mib":4096,"parent_reference":null,"hardware_clock_timezone":"","guest_customization":{"cloud_init":null,"type":"","sysprep":{"install_type":"PREPARED","unattend_xml":"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<unattend xmlns=\"urn:schemas-microsoft-com:unattend\">\n   <settings pass=\"specialize\">\n      <component xmlns:wcm=\"http:\/\/schemas.microsoft.com\/WMIConfig\/2002\/State\" xmlns:xsi=\"http:\/\/www.w3.org\/2001\/XMLSchema-instance\" name=\"Microsoft-Windows-Shell-Setup\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\">\n         <ComputerName>@@{name}@@<\/ComputerName>\n         <RegisteredOrganization>Nutanix<\/RegisteredOrganization>\n         <RegisteredOwner>Acropolis<\/RegisteredOwner>\n         <TimeZone>UTC<\/TimeZone>\n      <\/component>\n      <component xmlns=\"\" name=\"Microsoft-Windows-TerminalServices-LocalSessionManager\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\" processorArchitecture=\"amd64\">\n         <fDenyTSConnections>false<\/fDenyTSConnections>\n      <\/component>\n      <component xmlns=\"\" name=\"Microsoft-Windows-TerminalServices-RDP-WinStationExtensions\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\" processorArchitecture=\"amd64\">\n         <UserAuthentication>0<\/UserAuthentication>\n      <\/component>\n      <component xmlns:wcm=\"http:\/\/schemas.microsoft.com\/WMIConfig\/2002\/State\" xmlns:xsi=\"http:\/\/www.w3.org\/2001\/XMLSchema-instance\" name=\"Networking-MPSSVC-Svc\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\">\n         <FirewallGroups>\n            <FirewallGroup wcm:action=\"add\" wcm:keyValue=\"RemoteDesktop\">\n               <Active>true<\/Active>\n               <Profile>all<\/Profile>\n               <Group>@FirewallAPI.dll,-28752<\/Group>\n            <\/FirewallGroup>\n         <\/FirewallGroups>\n      <\/component>\n   <\/settings>\n   <settings pass=\"oobeSystem\">\n      <component xmlns:wcm=\"http:\/\/schemas.microsoft.com\/WMIConfig\/2002\/State\" xmlns:xsi=\"http:\/\/www.w3.org\/2001\/XMLSchema-instance\" name=\"Microsoft-Windows-Shell-Setup\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\">\n         <UserAccounts>\n            <AdministratorPassword>\n               <Value>@@{LOCAL.secret}@@<\/Value>\n               <PlainText>true<\/PlainText>\n            <\/AdministratorPassword>\n         <\/UserAccounts>\n         <AutoLogon>\n            <Password>\n               <Value>@@{LOCAL.secret}@@<\/Value>\n               <PlainText>true<\/PlainText>\n            <\/Password>\n            <Enabled>true<\/Enabled>\n            <Username>Administrator<\/Username>\n         <\/AutoLogon>\n         <FirstLogonCommands>\n            <SynchronousCommand wcm:action=\"add\">\n               <CommandLine>cmd.exe \/c netsh firewall add portopening TCP 5985 \"Port 5985\"<\/CommandLine>\n               <Description>Win RM port open<\/Description>\n               <Order>1<\/Order>\n               <RequiresUserInput>true<\/RequiresUserInput>\n            <\/SynchronousCommand>\n         <\/FirstLogonCommands>\n         <OOBE>\n            <HideEULAPage>true<\/HideEULAPage>\n            <SkipMachineOOBE>true<\/SkipMachineOOBE>\n         <\/OOBE>\n      <\/component>\n      <component xmlns:wcm=\"http:\/\/schemas.microsoft.com\/WMIConfig\/2002\/State\" xmlns:xsi=\"http:\/\/www.w3.org\/2001\/XMLSchema-instance\" name=\"Microsoft-Windows-International-Core\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\">\n         <InputLocale>en-US<\/InputLocale>\n         <SystemLocale>en-US<\/SystemLocale>\n         <UILanguageFallback>en-us<\/UILanguageFallback>\n         <UILanguage>en-US<\/UILanguage>\n         <UserLocale>en-US<\/UserLocale>\n      <\/component>\n   <\/settings>\n<\/unattend>","type":""}},"power_state":"ON","type":"","boot_config":{"boot_device":{"type":"","disk_address":{"adapter_type":"SCSI","device_index":0,"type":""}},"type":"","mac_address":""},"disk_list":[{"data_source_reference":{"kind":"image","type":"","name":"WindowsServer2016-Base","uuid":"7e750478-38fd-48d3-a683-ab15fa30c0fb"},"type":"","disk_size_mib":0,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":0,"type":""}}},{"data_source_reference":{"kind":"image","type":"","name":"SQLServer2014SP2-FullSlipstream-x64-ENU","uuid":"c5d1bcf8-ecf6-4e9d-9e36-4f02cf93ac3e"},"type":"","disk_size_mib":0,"volume_group_reference":null,"device_properties":{"type":"","device_type":"CDROM","disk_address":{"adapter_type":"IDE","device_index":0,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":51200,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":1,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":153600,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":2,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":307200,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":3,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":307200,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":4,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":102400,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":5,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":102400,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":6,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":204800,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":7,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":204800,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":8,"type":""}}}]}},"variable_list":[],"name":"MSSQL2014"}],"credential_definition_list":[{"username":"administrator","description":"","uuid":"8b392aaf-f060-45c6-a224-4981098ac1a1","secret":{"attrs":{"is_secret_modified":false,"secret_reference":{"uuid":"5aac42a7-71de-4c4e-94a0-0e16e9cbee27"}}},"editables":{"username":true,"secret":true},"type":"PASSWORD","name":"LOCAL"},{"username":"administrator@contoso.com","description":"","uuid":"2523dbe4-6f68-49c5-add8-2692faf0a220","secret":{"attrs":{"is_secret_modified":false,"secret_reference":{"uuid":"6e034411-072a-44e9-b22d-642d765b553f"}}},"editables":{"username":true,"secret":true},"type":"PASSWORD","name":"DOMAIN_CRED"},{"username":"contoso\\administrator","description":"","uuid":"2b2fe962-c833-4241-9284-d4355c0fbd4b","secret":{"attrs":{"is_secret_modified":false,"secret_reference":{"uuid":"3d81b7c0-ea8d-4001-b7cd-7dd4adb4c0c6"}}},"editables":{"username":true,"secret":true},"type":"PASSWORD","name":"SQL_CRED"}],"type":"USER","app_profile_list":[{"deployment_create_list":[{"description":"","action_list":[],"package_local_reference_list":[{"kind":"app_package","name":"MSSQLPackage","uuid":"b1cc7bfd-cf34-4dea-8d87-b4ac5e9e85af"}],"uuid":"a6e5e8c5-878d-4ece-8ef4-2760cad69d95","min_replicas":"1","max_replicas":"1","substrate_local_reference":{"kind":"app_substrate","name":"MSSQL2014","uuid":"05772215-d3b2-4adf-993c-e911da1ec18a"},"type":"GREENFIELD","variable_list":[],"name":"49669086_deployment"}],"uuid":"a35d7aa6-8d07-4651-8773-64d47d142aca","action_list":[],"description":"","variable_list":[{"val_type":"STRING","description":"","uuid":"399ade3a-bb15-4390-89f6-043007cdab92","value":"10.15.193.5","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","name":"AD_IP"},{"val_type":"STRING","description":"","uuid":"4f1cc162-dc4f-4684-9e0e-397f313a8cc5","value":"contoso.com","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","name":"DOMAIN"},{"val_type":"STRING","description":"","uuid":"7440440d-7929-4990-9821-9da9e9dbf510","value":"yes","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","name":"INCLUDE_BPG"},{"val_type":"STRING","description":"","uuid":"2efa8049-39ad-4058-a155-2977008a0a82","value":"http:\/\/download.microsoft.com\/download\/8\/e\/c\/8ec3a7d8-05b4-440a-a71e-ca3ee25fe057\/rktools.exe","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","name":"BPG_RKTOOLS_URL"}],"name":"Nutanix"}],"default_credential_local_reference":{"kind":"app_credential","name":"LOCAL","uuid":"8b392aaf-f060-45c6-a224-4981098ac1a1"},"package_definition_list":[{"description":"","action_list":[],"service_local_reference_list":[{"kind":"app_service","name":"MSSQL","uuid":"f52eea8e-8523-475b-a665-41262e6e39eb"}],"uuid":"b1cc7bfd-cf34-4dea-8d87-b4ac5e9e85af","version":"","type":"DEB","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"MSSQLPackage","uuid":"b1cc7bfd-cf34-4dea-8d87-b4ac5e9e85af"},"retries":"0","name":"87d54973_dag","type":"DAG","uuid":"1ddcc561-c23b-443c-ab8d-4284760a10c0","child_tasks_local_reference_list":[{"kind":"app_task","name":"Enable Credssp","uuid":"9361c738-ce15-4418-8ba1-5ee3f157b394"},{"kind":"app_task","name":"AddToDomain","uuid":"17f1dd59-972d-48b6-a3ac-fa08aaa6cb3f"},{"kind":"app_task","name":"Wait for Machine to Join domain","uuid":"974b00cf-f674-4827-b3ef-f0b8c8b85200"},{"kind":"app_task","name":"InitializeDisk","uuid":"0398a1ea-d9d6-46d2-8ebd-93feb2c3921b"},{"kind":"app_task","name":"InstallSQL","uuid":"0b06db00-c2e0-41d4-8cb2-139d21d5f65d"},{"kind":"app_task","name":"ApplyOSBPG","uuid":"8abee8a9-d543-4413-ad20-69024bc9830d"},{"kind":"app_task","name":"ApplySQLBPG","uuid":"30d56741-96a4-4ce9-9e1a-23adb5c82c69"},{"kind":"app_task","name":"FirewallRules","uuid":"b1346876-5023-4ed6-b0ef-88d65e278ee8"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Enable Credssp","uuid":"9361c738-ce15-4418-8ba1-5ee3f157b394"},"edge_type":"user_defined","type":"","uuid":"1d187fc6-1106-4c2d-a8d5-a99e340bba09","to_task_reference":{"kind":"app_task","name":"AddToDomain","uuid":"17f1dd59-972d-48b6-a3ac-fa08aaa6cb3f"}},{"from_task_reference":{"kind":"app_task","name":"AddToDomain","uuid":"17f1dd59-972d-48b6-a3ac-fa08aaa6cb3f"},"edge_type":"user_defined","type":"","uuid":"27d4689c-2abc-4e95-8933-24718542fc65","to_task_reference":{"kind":"app_task","name":"Wait for Machine to Join domain","uuid":"974b00cf-f674-4827-b3ef-f0b8c8b85200"}},{"from_task_reference":{"kind":"app_task","name":"Wait for Machine to Join domain","uuid":"974b00cf-f674-4827-b3ef-f0b8c8b85200"},"edge_type":"user_defined","type":"","uuid":"84621fd7-bd7e-4c42-9ca5-e631adeff9e6","to_task_reference":{"kind":"app_task","name":"InitializeDisk","uuid":"0398a1ea-d9d6-46d2-8ebd-93feb2c3921b"}},{"from_task_reference":{"kind":"app_task","name":"InitializeDisk","uuid":"0398a1ea-d9d6-46d2-8ebd-93feb2c3921b"},"edge_type":"user_defined","type":"","uuid":"2def52e8-e7a3-421d-b3ea-707d4e672e96","to_task_reference":{"kind":"app_task","name":"InstallSQL","uuid":"0b06db00-c2e0-41d4-8cb2-139d21d5f65d"}},{"from_task_reference":{"kind":"app_task","name":"InstallSQL","uuid":"0b06db00-c2e0-41d4-8cb2-139d21d5f65d"},"edge_type":"user_defined","type":"","uuid":"2ae6bd17-34a6-4ee7-977a-30602a448727","to_task_reference":{"kind":"app_task","name":"ApplyOSBPG","uuid":"8abee8a9-d543-4413-ad20-69024bc9830d"}},{"from_task_reference":{"kind":"app_task","name":"ApplyOSBPG","uuid":"8abee8a9-d543-4413-ad20-69024bc9830d"},"edge_type":"user_defined","type":"","uuid":"6af76f46-8f72-46e0-97f0-562e201321f0","to_task_reference":{"kind":"app_task","name":"ApplySQLBPG","uuid":"30d56741-96a4-4ce9-9e1a-23adb5c82c69"}},{"from_task_reference":{"kind":"app_task","name":"ApplySQLBPG","uuid":"30d56741-96a4-4ce9-9e1a-23adb5c82c69"},"edge_type":"user_defined","type":"","uuid":"519437d3-6498-481a-a873-ff4ebe5058e8","to_task_reference":{"kind":"app_task","name":"FirewallRules","uuid":"b1346876-5023-4ed6-b0ef-88d65e278ee8"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"description":""},{"target_any_local_reference":{"kind":"app_package","name":"MSSQLPackage","uuid":"b1cc7bfd-cf34-4dea-8d87-b4ac5e9e85af"},"retries":"0","name":"Enable Credssp","type":"EXEC","uuid":"9361c738-ce15-4418-8ba1-5ee3f157b394","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script":"Enable-WSManCredSSP -Role Server -Force","type":"","command_line_args":"","exit_status":[],"script_type":"npsscript"},"timeout_secs":"0","message_list":[],"variable_list":[],"description":""},{"target_any_local_reference":{"kind":"app_service","name":"MSSQL","uuid":"f52eea8e-8523-475b-a665-41262e6e39eb"},"retries":"0","name":"AddToDomain","type":"EXEC","uuid":"17f1dd59-972d-48b6-a3ac-fa08aaa6cb3f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"##############################################\n# Name        : JoinDomain.ps1\n# Author      : K Sarat Kumar\n# Version     : 1.0\n# Description : Script is used to Change hostname of machines and join to domain.\n##############################################\n\nfunction JointoDomain {\n  [CmdletBinding()]\n  Param(\n      [parameter(Mandatory=$true)]\n      [string]$DomainName,\n      [parameter(Mandatory=$false)]\n      [string]$OU,\n      [parameter(Mandatory=$true)]\n      [string]$Username,\n      [parameter(Mandatory=$true)]\n      [string]$Password,\n      [parameter(Mandatory=$true)]\n      [string]$Server\n  )\n  $adapter = Get-NetAdapter | ? {$_.Status -eq \"up\"}\n  $adapter | Set-DnsClientServerAddress -ServerAddresses $Server\n\n  if ($env:computername  -eq $env:userdomain) {\n    Write-Host \"Not in domain\"\n    #$adminname = \"$DomainName\\$Username\"\n    $adminname = \"$Username\"\n    $adminpassword = ConvertTo-SecureString -asPlainText -Force -String \"$Password\"\n    Write-Host \"$adminname , $password\"\n    $credential = New-Object System.Management.Automation.PSCredential($adminname,$adminpassword)\n    Add-computer -DomainName $DomainName -Credential $credential -force -Options JoinWithNewName,AccountCreate -PassThru -ErrorAction Stop\n  } else {\n     Write-Host \"Already in domain\"\n  }\n}\n\nJointoDomain -DomainName \"@@{DOMAIN}@@\" -Username \"@@{DOMAIN_CRED.username}@@\" -Password \"@@{DOMAIN_CRED.secret}@@\" -Server \"@@{AD_IP}@@\"\n\nRestart-Computer -Force -AsJob\nexit 0\n","login_credential_local_reference":{"kind":"app_credential","name":"LOCAL","uuid":"8b392aaf-f060-45c6-a224-4981098ac1a1"},"type":"","command_line_args":"","script_type":"npsscript"},"timeout_secs":"0","message_list":[],"variable_list":[],"description":""},{"target_any_local_reference":{"kind":"app_service","name":"MSSQL","uuid":"f52eea8e-8523-475b-a665-41262e6e39eb"},"retries":"0","name":"Wait for Machine to Join domain","type":"EXEC","uuid":"974b00cf-f674-4827-b3ef-f0b8c8b85200","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script":"#script\nsleep(60)","type":"","command_line_args":"","exit_status":[],"script_type":"static"},"timeout_secs":"0","message_list":[],"variable_list":[],"description":""},{"target_any_local_reference":{"kind":"app_service","name":"MSSQL","uuid":"f52eea8e-8523-475b-a665-41262e6e39eb"},"retries":"0","name":"InitializeDisk","type":"EXEC","uuid":"0398a1ea-d9d6-46d2-8ebd-93feb2c3921b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"$start_time = Get-Date\n\nGet-Disk -Number 1 | Initialize-Disk -ErrorAction SilentlyContinue\nGet-Disk -Number 2 | Initialize-Disk -ErrorAction SilentlyContinue\nGet-Disk -Number 3 | Initialize-Disk -ErrorAction SilentlyContinue\nGet-Disk -Number 4 | Initialize-Disk -ErrorAction SilentlyContinue\nGet-Disk -Number 5 | Initialize-Disk -ErrorAction SilentlyContinue\nGet-Disk -Number 6 | Initialize-Disk -ErrorAction SilentlyContinue\nGet-Disk -Number 7 | Initialize-Disk -ErrorAction SilentlyContinue\nGet-Disk -Number 8 | Initialize-Disk -ErrorAction SilentlyContinue\n\n# Format SQL binaries disk\nNew-Partition -DiskNumber 1 -DriveLetter F -UseMaximumSize -ErrorAction SilentlyContinue | Format-Volume -Confirm:$false\n\n# Format SQL backup\/restore disk\nNew-Partition -DiskNumber 2 -DriveLetter R -UseMaximumSize -ErrorAction SilentlyContinue | Format-Volume -Confirm:$false\n\n# Format DB DATA drives\nNew-Partition -DiskNumber 3 -DriveLetter G -UseMaximumSize -ErrorAction SilentlyContinue | Format-Volume -Confirm:$false\nNew-Partition -DiskNumber 4 -DriveLetter H -UseMaximumSize -ErrorAction SilentlyContinue | Format-Volume -Confirm:$false\n\n# Format DB TEMP drives\nNew-Partition -DiskNumber 5 -DriveLetter I -UseMaximumSize -ErrorAction SilentlyContinue | Format-Volume -Confirm:$false\nNew-Partition -DiskNumber 6 -DriveLetter J -UseMaximumSize -ErrorAction SilentlyContinue | Format-Volume -Confirm:$false\n\n# Format DB LOGS drives\nNew-Partition -DiskNumber 7 -DriveLetter T -UseMaximumSize -ErrorAction SilentlyContinue | Format-Volume -Confirm:$false\nNew-Partition -DiskNumber 8 -DriveLetter L -UseMaximumSize -ErrorAction SilentlyContinue | Format-Volume -Confirm:$false\n\n#Format drive with 64K block size, assigns Label and drive letter\nFormat-Volume -DriveLetter F -FileSystem NTFS -NewFileSystemLabel \"SQLINSTALL\" -Confirm:$false \nFormat-Volume -DriveLetter R -AllocationUnitSize 65536 -FileSystem NTFS -NewFileSystemLabel \"SQLBCK\" -Confirm:$false \nFormat-Volume -DriveLetter G -AllocationUnitSize 65536 -FileSystem NTFS -NewFileSystemLabel \"DATA01\" -Confirm:$false \nFormat-Volume -DriveLetter H -AllocationUnitSize 65536 -FileSystem NTFS -NewFileSystemLabel \"DATA02\" -Confirm:$false \nFormat-Volume -DriveLetter I -AllocationUnitSize 65536 -FileSystem NTFS -NewFileSystemLabel \"TEMPDB01\" -Confirm:$false \nFormat-Volume -DriveLetter J -AllocationUnitSize 65536 -FileSystem NTFS -NewFileSystemLabel \"TEMPDB02\" -Confirm:$false \nFormat-Volume -DriveLetter T -AllocationUnitSize 65536 -FileSystem NTFS -NewFileSystemLabel \"TEMPDBLOG01\" -Confirm:$false \nFormat-Volume -DriveLetter L -AllocationUnitSize 65536 -FileSystem NTFS -NewFileSystemLabel \"ULOG01\" -Confirm:$false \n\nWrite-Output \"Time taken: $((Get-Date).Subtract($start_time).seconds) Second(s)\"\n","login_credential_local_reference":{"kind":"app_credential","name":"LOCAL","uuid":"8b392aaf-f060-45c6-a224-4981098ac1a1"},"type":"","command_line_args":"","script_type":"npsscript"},"timeout_secs":"0","message_list":[],"variable_list":[],"description":""},{"target_any_local_reference":{"kind":"app_service","name":"MSSQL","uuid":"f52eea8e-8523-475b-a665-41262e6e39eb"},"retries":"0","name":"InstallSQL","type":"EXEC","uuid":"0b06db00-c2e0-41d4-8cb2-139d21d5f65d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"$DriveLetter = $(Get-Partition -DiskNumber 1 -PartitionNumber 2 | select DriveLetter -ExpandProperty DriveLetter)\n$edition = \"Standard\"\n$HOSTNAME=$(hostname)\n$PackageName = \"MsSqlServer2014Standard\"\n$Prerequisites = \"Net-Framework-Core\"\n$silentArgs = \"\/IACCEPTSQLSERVERLICENSETERMS \/Q \/ACTION=install \/FEATURES=SQLENGINE,SSMS,ADV_SSMS,CONN,IS,BC,SDK,BOL \/SECURITYMODE=sql \/SAPWD=`\"@@{SQL_CRED.secret}@@`\" \/ASSYSADMINACCOUNTS=`\"@@{SQL_CRED.username}@@`\" \/SQLSYSADMINACCOUNTS=`\"@@{SQL_CRED.username}@@`\" \/INSTANCEID=MSSQLSERVER \/INSTANCENAME=MSSQLSERVER \/UPDATEENABLED=False \/INDICATEPROGRESS \/TCPENABLED=1 \/INSTALLSQLDATADIR=`\"${DriveLetter}:\\Microsoft SQL Server`\"\"\n$setupDriveLetter = \"D:\"\n$setupPath = \"$setupDriveLetter\\setup.exe\"\n$validExitCodes = @(0)\n\nif ($Prerequisites){\nInstall-WindowsFeature -IncludeAllSubFeature -ErrorAction Stop $Prerequisites\n}\n\nWrite-Output \"Installing $PackageName....\"\n\n$install = Start-Process -FilePath $setupPath -ArgumentList $silentArgs -Wait -NoNewWindow -PassThru\n$install.WaitForExit()\n\n$exitCode = $install.ExitCode\n$install.Dispose()\n\nWrite-Output \"Command [`\"$setupPath`\" $silentArgs] exited with `'$exitCode`'.\"\nif ($validExitCodes -notcontains $exitCode) {\nWrite-Output \"Running [`\"$setupPath`\" $silentArgs] was not successful. Exit code was '$exitCode'. See log for possible error messages.\"\nexit 1\n}","login_credential_local_reference":{"kind":"app_credential","name":"DOMAIN_CRED","uuid":"2523dbe4-6f68-49c5-add8-2692faf0a220"},"type":"","command_line_args":"","script_type":"npsscript"},"timeout_secs":"0","message_list":[],"variable_list":[],"description":""},{"target_any_local_reference":{"kind":"app_service","name":"MSSQL","uuid":"f52eea8e-8523-475b-a665-41262e6e39eb"},"retries":"0","name":"ApplyOSBPG","type":"EXEC","uuid":"8abee8a9-d543-4413-ad20-69024bc9830d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"if ((\"@@{INCLUDE_BPG}@@\" -eq \"no\") -or (\"@@{BPG_RKTOOLS_URL}@@\" -eq \"\")){\n    \"Ignoring BPG\"\n    exit 0\n}\n\n$start_time = Get-Date\n\n$TempDirectory = \"C:\\Temp\"\n$RktTemp = \"$TempDirectory\\rktools.2003\"\n\n$url = \"@@{BPG_RKTOOLS_URL}@@\"\n$filePath = \"$TempDirectory\\rktools.exe\"\n\nNew-Item -ItemType Directory -Force -Path $TempDirectory\n(New-Object System.Net.WebClient).DownloadFile($url,$filePath)\n\n& $filePath \/Q \/T:\"$RktTemp\" \/C\n\nStart-Sleep 10\n\n$PackageName = \"rktools.2003\"\n$setupPath = \"C:\\Windows\\System32\\msiexec.exe\"\n$silentArgs = \"\/i $RktTemp\\rktools.msi \/qn\"\n$validExitCodes = @(0)\n\nWrite-Output \"Installing $PackageName....\"\n\n$install = Start-Process -FilePath $setupPath -ArgumentList $silentArgs -Wait -NoNewWindow -PassThru\n$install.WaitForExit()\n\n$exitCode = $install.ExitCode\n$install.Dispose()\n\nWrite-Output \"Command [`\"$setupPath`\" $silentArgs] exited with `'$exitCode`'.\"\nif ($validExitCodes -notcontains $exitCode) {\nWrite-Output \"Running [`\"$setupPath`\" $silentArgs] was not successful. Exit code was '$exitCode'. See log for possible error messages.\"\nexit 1\n}\n\n# OS related tunning\n# Set Windows Power Options to High Performance\npowercfg -s 8c5e7fda-e8bf-4a96-9a85-a6e23a8c635c\n\n#Grant Memory privileges to user \n$ntrights_cli = \"C:\\Program Files (x86)\\Windows Resource Kits\\Tools\\ntrights.exe\"\n& $ntrights_cli -u \"NT SERVICE\\MSSQLSERVER\" +r SeLockMemoryPrivilege\n& $ntrights_cli -u \"NT SERVICE\\MSSQLSERVER\" +r SeManageVolumePrivilege\n\n\nWrite-Output \"Time taken: $((Get-Date).Subtract($start_time).seconds) Second(s)\"","login_credential_local_reference":{"kind":"app_credential","name":"DOMAIN_CRED","uuid":"2523dbe4-6f68-49c5-add8-2692faf0a220"},"type":"","command_line_args":"","script_type":"npsscript"},"timeout_secs":"0","message_list":[],"variable_list":[],"description":""},{"target_any_local_reference":{"kind":"app_service","name":"MSSQL","uuid":"f52eea8e-8523-475b-a665-41262e6e39eb"},"retries":"0","name":"ApplySQLBPG","type":"EXEC","uuid":"30d56741-96a4-4ce9-9e1a-23adb5c82c69","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"if ((\"@@{INCLUDE_BPG}@@\" -eq \"no\") -or (\"@@{BPG_RKTOOLS_URL}@@\" -eq \"\")){\n    \"Ignoring BPG\"\n    exit 0\n}\n\n$start_time = Get-Date\n\n$TempDirectory = \"C:\\Temp\"\n$sqladdparms_cli = \"$TempDirectory\\Add-SqlServerStartupParameter.ps1\"\n$TSQLSCRIPTSDIR = \"$TempDirectory\\TSQL_Scripts\"\nNew-Item -ItemType Directory -Force -Path $TSQLSCRIPTSDIR\n\nSet-Content -Path \"$sqladdparms_cli\" -Value '\nparam(\n## The parameter you wish to add\n[Parameter(Mandatory = $true)]\n$StartupParameter\n)\n\n$hklmRootNode = \"HKLM:\\SOFTWARE\\Microsoft\\Microsoft SQL Server\"\n\n$props = Get-ItemProperty \"$hklmRootNode\\Instance Names\\SQL\"\n$instances = $props.psobject.properties | ?{$_.Value -like \"MSSQL*\"} | select Value\n\n$instances | %{\n$inst = $_.Value;\n$regKey = \"$hklmRootNode\\$inst\\MSSQLServer\\Parameters\"\n$props = Get-ItemProperty $regKey\n$params = $props.psobject.properties | ?{$_.Name -like \"SQLArg*\"} | select Name, Value\n#$params | ft -AutoSize\n$hasFlag = $false\nforeach ($param in $params) {\nif($param.Value -eq $StartupParameter) {\n$hasFlag = $true\nbreak;\n}\n}\nif (-not $hasFlag) {\n\"Adding $StartupParameter\"\n$newRegProp = \"SQLArg\"+($params.Count)\nSet-ItemProperty -Path $regKey -Name $newRegProp -Value $StartupParameter\n} else {\n\"$StartupParameter already set\"\n}\n}'\nSet-Content -Path \"$TSQLSCRIPTSDIR\\01-ChangeTempDB.sql\" -Value \"use master`r`n\ngo`r`n\nAlter database tempdb modify file (name = tempdev, filename = 'I:\\TEMPDB01\\tempdb01.mdf', SIZE = 4096, FILEGROWTH=0)`r`n\ngo`r`n\nAlter database tempdb modify file (name = templog, filename = 'T:\\TempDB-logs01\\templog01.ldf', SIZE = 4096, FILEGROWTH=0)`r`n\ngo`r`n\nAlter database tempdb ADD file (name = tempdev02, filename = 'I:\\TEMPDB01\\tempdb02.ndf', SIZE = 4096, FILEGROWTH=0)`r`n\ngo`r`n\nAlter database tempdb ADD file (name = tempdev03, filename = 'J:\\TEMPDB02\\tempdb03.ndf', SIZE = 4096, FILEGROWTH=0)`r`n\ngo`r`n\nAlter database tempdb ADD file (name = tempdev04, filename = 'J:\\TEMPDB02\\tempdb04.ndf', SIZE = 4096, FILEGROWTH=0)`r`n\ngo`r`n\n`r`n\nALTER DATABASE [tempdb] MODIFY FILE (NAME=N'tempdev', NEWNAME=N'tempdev01')`r`n\nGO`r`n\nALTER DATABASE [tempdb] MODIFY FILE (NAME=N'templog', NEWNAME=N'templog01')`r`n\nGO\"\n\nSet-Content -Path \"$TSQLSCRIPTSDIR\\02-IncreaseTempDB_logs.sql\" -Value \"Use master`r`n\ngo`r`n\nALTER DATABASE tempdb MODIFY FILE (NAME = templog01, filename = 'T:\\TempDB-logs01\\templog01.ldf', SIZE`r`n\n= 8096);`r`n\nGO`r`n\nALTER DATABASE tempdb MODIFY FILE (NAME = templog01, FILENAME = 'T:\\TempDB-logs01\\templog01.ldf', SIZE`r`n\n= 12288);`r`n\nGO\"\n\nSet-Content -Path \"$TSQLSCRIPTSDIR\\03-SQL_set_memory.sql\" -Value \"USE master;`r`n\nexec sp_configure 'show advanced options', 1;`r`n\nRECONFIGURE;`r`n\nGO`r`n\nDECLARE `r`n\n@total_mem decimal (10,0),`r`n\n@min int,`r`n\n@max int`r`n\nSELECT `r`n\n--SELECT (physical_memory_kb\/1024) AS Server_Physical_Memory_MB`r`n\n@total_mem = (physical_memory_kb\/1024)`r`n\nFROM sys.dm_os_sys_info`r`n\n`r`n\nset @min = @total_mem * 0.1`r`n\nset @max = @total_mem * 0.85`r`n\nprint @min`r`n\nprint @max`r`n\n--print @total_mem`r`n\n`r`n\n`r`n\nEXEC sp_configure 'min server memory (MB)',@min`r`n\nEXEC sp_configure 'max server memory (MB)',@max`r`n\nRECONFIGURE\"\n\nSet-Content -Path \"$TSQLSCRIPTSDIR\\04-SQL-ChangeDefaultPaths.sql\" -Value \"USE [master]`r`n\nGO`r`n\n-- Change default location for data files`r`n\nEXEC xp_instance_regwrite`r`n\nN'HKEY_LOCAL_MACHINE',`r`n\nN'Software\\Microsoft\\MSSQLServer\\MSSQLServer',`r`n\nN'DefaultData',`r`n\nREG_SZ,`r`n\nN'G:\\SQLDATA01'`r`n\nGO`r`n\n-- Change default location for log files`r`n\nEXEC xp_instance_regwrite`r`n\nN'HKEY_LOCAL_MACHINE',`r`n\nN'Software\\Microsoft\\MSSQLServer\\MSSQLServer',`r`n\nN'DefaultLog',`r`n\nREG_SZ,`r`n\nN'L:\\UserDB-logs01'`r`n\nGO`r`n\n-- Change default location for backups`r`n\nEXEC xp_instance_regwrite`r`n\nN'HKEY_LOCAL_MACHINE',`r`n\nN'Software\\Microsoft\\MSSQLServer\\MSSQLServer',`r`n\nN'BackupDirectory',`r`n\nREG_SZ,`r`n\nN'R:\\SQLBACK'`r`n\nGO\"\n\n#create directories\nmkdir G:\\SQLDATA01\\\nmkdir H:\\SQLDATA02\\\nmkdir I:\\TEMPDB01\\\nmkdir J:\\TEMPDB02\\\nmkdir L:\\UserDB-logs01\\\nmkdir T:\\TempDB-logs01\\\nmkdir R:\\SQLBACK\n\n#ADD SQL T parameters \n#T1117 This parameter forces MS SQL Server to grow all database files uniformly\n#T1118 This parameter forces MS SQL Server to use full extents only\n& $sqladdparms_cli '-T1117'\n& $sqladdparms_cli '-T1118'\nrestart-service MSSQL* -force\n\n#import powershell SQL module\nimport-module \"sqlps\" -DisableNameChecking\n\ninvoke-sqlcmd -hostname localhost -inputFile \"$TSQLSCRIPTSDIR\\01-ChangeTempDB.sql\"\ninvoke-sqlcmd -hostname localhost -inputFile \"$TSQLSCRIPTSDIR\\02-IncreaseTempDB_logs.sql\"\ninvoke-sqlcmd -hostname localhost -inputFile \"$TSQLSCRIPTSDIR\\03-SQL_set_memory.sql\"\ninvoke-sqlcmd -hostname localhost -inputFile \"$TSQLSCRIPTSDIR\\04-SQL-ChangeDefaultPaths.sql\"\n\n#Delete original SQL temp files\nstop-service MSSQL* \nStart-Sleep 5\nrm \"F:\\Microsoft SQL Server\\MSSQL12.MSSQLSERVER\\MSSQL\\DATA\\temp*\"\n\nstart-service MSSQL* \nwmic useraccount get sid\nWrite-Output \"Time taken: $((Get-Date).Subtract($start_time).seconds) Second(s)\"\n","login_credential_local_reference":{"kind":"app_credential","name":"DOMAIN_CRED","uuid":"2523dbe4-6f68-49c5-add8-2692faf0a220"},"type":"","command_line_args":"","script_type":"npsscript"},"timeout_secs":"0","message_list":[],"variable_list":[],"description":""},{"target_any_local_reference":{"kind":"app_service","name":"MSSQL","uuid":"f52eea8e-8523-475b-a665-41262e6e39eb"},"retries":"0","name":"FirewallRules","type":"EXEC","uuid":"b1346876-5023-4ed6-b0ef-88d65e278ee8","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"New-NetFirewallRule -DisplayName \"SQL Server\" -Direction Inbound -Protocol TCP -LocalPort 1433 -Action allow\nNew-NetFirewallRule -DisplayName \"SQL Admin Connection\" -Direction Inbound -Protocol TCP -LocalPort 1434 -Action allow\nNew-NetFirewallRule -DisplayName \"SQL Database Management\" -Direction Inbound -Protocol UDP -LocalPort 1434 -Action allow\nNew-NetFirewallRule -DisplayName \"SQL Service Broker\" -Direction Inbound -Protocol TCP -LocalPort 4022 -Action allow\nNew-NetFirewallRule -DisplayName \"SQL Debugger\/RPC\" -Direction Inbound -Protocol TCP -LocalPort 135 -Action allow\nNew-NetFirewallRule -DisplayName \"SQL Browser\" -Direction Inbound -Protocol TCP -LocalPort 2382 -Action allow","login_credential_local_reference":{"kind":"app_credential","name":"DOMAIN_CRED","uuid":"2523dbe4-6f68-49c5-add8-2692faf0a220"},"type":"","command_line_args":"","script_type":"npsscript"},"timeout_secs":"0","message_list":[],"variable_list":[],"description":""}],"description":"","uuid":"3543527d-38e7-47e4-b69c-599be426c434","state":"ACTIVE","variable_list":[],"message_list":[],"main_task_local_reference":{"kind":"app_task","name":"87d54973_dag","uuid":"1ddcc561-c23b-443c-ab8d-4284760a10c0"},"name":"b58c360f_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"MSSQLPackage","uuid":"b1cc7bfd-cf34-4dea-8d87-b4ac5e9e85af"},"retries":"0","name":"c5e51cfd_dag","type":"DAG","uuid":"118c307d-bae9-411e-9aff-ce4489e0b9cf","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"description":""}],"description":"","uuid":"9eec248f-ba91-45eb-bb1d-b0775265dcda","state":"ACTIVE","variable_list":[],"message_list":[],"main_task_local_reference":{"kind":"app_task","name":"c5e51cfd_dag","uuid":"118c307d-bae9-411e-9aff-ce4489e0b9cf"},"name":"8cc4ed37_runbook"}},"variable_list":[],"name":"MSSQLPackage"}],"client_attrs":{"f52eea8e-8523-475b-a665-41262e6e39eb":{"y":100,"x":480}}},"description":""},"api_version":"3.0","metadata":{"last_update_time":"1554305791853976","owner_reference":{"kind":"user","uuid":"00000000-0000-0000-0000-000000000000","name":"admin"},"kind":"blueprint","uuid":"d4d41d31-3c93-4862-9db5-a52831bf7145","project_reference":{"kind":"project","name":"default","uuid":"22ca180e-f065-4728-95ad-9eed952de20f"},"spec_version":0,"creation_time":"1554305791853976","categories":{"AppFamily":"Databases"},"name":"Test1mysq"}}