{"status":{"description":"* sudo mysql -u root -p[PASSWORD]  \n* default password [ nutanix\/4u ]","source_mpi":"","state":"DRAFT","is_cloned":false,"message_list":[{"message":"Credential is invalid","reason":"INVALID_CREDENTIAL","details":[{"attribute_name":"default_credential"}]}],"resources":{"service_definition_list":[{"port_list":[],"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"4d9d803d-47bb-4cc9-a1a8-8a466d4a8c47","name":"action_create","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"DAG","uuid":"d8906211-2bcd-479f-8fd4-ebad7e3a8823","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"14c8fe8d_dag"}],"description":"","message_list":[],"uuid":"1f2c9854-fd61-4d80-a059-2670f4aa3ba3","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"14c8fe8d_dag","uuid":"d8906211-2bcd-479f-8fd4-ebad7e3a8823"},"name":"f603ab76_runbook"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"13263f88-13a4-4a79-9b6d-e04c253399f9","name":"action_delete","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"DAG","uuid":"6488170a-bd8a-4c8e-b868-b78add448bcd","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"6268e978_dag"}],"description":"","message_list":[],"uuid":"15541983-ff20-4829-b0c7-aff046fa0beb","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"6268e978_dag","uuid":"6488170a-bd8a-4c8e-b868-b78add448bcd"},"name":"d738eefe_runbook"}},{"description":"System action for starting an application","message_list":[],"uuid":"14dda7d3-359b-4a42-b97b-a05e350c3188","name":"action_start","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"DAG","uuid":"0edd0e60-aae3-41a8-b0fe-8c9c35bf6445","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"11f7e9b6_dag"}],"description":"","message_list":[],"uuid":"a0ae1241-f6d5-470e-b065-dfde29b2bbf2","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"11f7e9b6_dag","uuid":"0edd0e60-aae3-41a8-b0fe-8c9c35bf6445"},"name":"7748f46a_runbook"}},{"description":"System action for stopping an application","message_list":[],"uuid":"fe6d47bd-8ea9-4316-9ce9-dd66bacdc0ef","name":"action_stop","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"DAG","uuid":"24cf30bd-f277-4af5-b1aa-de08014b40f0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"52def80e_dag"}],"description":"","message_list":[],"uuid":"fa558656-179d-42a9-8b13-80552295db71","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"52def80e_dag","uuid":"24cf30bd-f277-4af5-b1aa-de08014b40f0"},"name":"534c563f_runbook"}},{"description":"System action for restarting an application","message_list":[],"uuid":"d60c5e6e-674b-48f9-bf85-45db344f8053","name":"action_restart","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"DAG","uuid":"83575169-5e27-4b23-bcec-ecf973c6658f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"1b587922_dag"}],"description":"","message_list":[],"uuid":"1da5d6b4-d3df-4a19-942c-e6e85b650e34","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"1b587922_dag","uuid":"83575169-5e27-4b23-bcec-ecf973c6658f"},"name":"e9d7de80_runbook"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"fe90e1c0-9a57-44ae-bcc8-4f580fd0c1c4","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"DAG","uuid":"2da3943b-7e3b-4052-9100-908ed0b32ba2","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Service_Element_Delete_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"6917ab65-f018-4d18-8cf1-95eca8e918cc"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"6917ab65-f018-4d18-8cf1-95eca8e918cc","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Service_Element_Delete_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c"}],"description":"","message_list":[],"uuid":"957cfc08-a445-474a-b6fd-5a80c651f044","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"2da3943b-7e3b-4052-9100-908ed0b32ba2"},"name":"SYS_GEN__Runbook_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c"}}],"message_list":[],"uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c","state":"ACTIVE","depends_on_list":[],"editables":{},"tier":"","singleton":false,"variable_list":[],"name":"MySQL"}],"substrate_definition_list":[{"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"66566643-424b-4445-a671-11f3e26f1e63","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AHVMySQL","uuid":"9345b001-1f0f-4c88-9565-74711df70607"},"retries":"0","description":"","type":"DAG","uuid":"3165a83d-3be1-484b-988b-ad0cfcebc6f7","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Nutanix_Provision_9345b001_1f0f_4c88_9565_74711df70607","uuid":"f8175efd-2bee-47ba-9255-8abed7091a6f"},{"kind":"app_task","name":"SYS_GEN__check_login_for_AHVMySQL_9345b001_1f0f_4c88_9565_74711df70607","uuid":"1377560e-6ba0-43a9-9a72-3c8222267fab"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Nutanix_Provision_9345b001_1f0f_4c88_9565_74711df70607","uuid":"f8175efd-2bee-47ba-9255-8abed7091a6f"},"edge_type":"inherent","type":"","uuid":"652e0b0c-72b0-4c00-8e2f-090de0512895","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_AHVMySQL_9345b001_1f0f_4c88_9565_74711df70607","uuid":"1377560e-6ba0-43a9-9a72-3c8222267fab"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_9345b001_1f0f_4c88_9565_74711df70607"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVMySQL","uuid":"9345b001-1f0f-4c88-9565-74711df70607"},"retries":"0","description":"","type":"PROVISION_NUTANIX","uuid":"f8175efd-2bee-47ba-9255-8abed7091a6f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"name":"mysql-@@{calm_array_index}@@-@@{calm_time}@@","categories":"","availability_zone_reference":null,"backup_policy":null,"type":"","cluster_reference":null,"resources":{"nic_list":[],"parent_reference":null,"guest_tools":null,"num_vcpus_per_socket":2,"num_sockets":2,"serial_port_list":[],"gpu_list":[],"memory_size_mib":8192,"power_state":"ON","hardware_clock_timezone":"","guest_customization":{"cloud_init":{"meta_data":"","type":"","user_data":"#cloud-config\nusers:\n  - name: centos\n    ssh-authorized-keys:\n      - @@{INSTANCE_PUBLIC_KEY}@@\n    sudo: ['ALL=(ALL) NOPASSWD:ALL']"},"type":"","sysprep":null},"type":"","boot_config":{"boot_device":{"type":"","disk_address":{"adapter_type":"SCSI","device_index":0,"type":""}},"type":"","mac_address":""},"disk_list":[{"data_source_reference":{"kind":"app_package","type":"","name":"CENTOS_IMAGE","uuid":"06d5e9f9-391c-498e-9de1-92702f93694d"},"type":"","disk_size_mib":0,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":0,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":51200,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":1,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":51200,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":2,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":51200,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":3,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":51200,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":4,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":25600,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":5,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":25600,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":6,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":25600,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":7,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":25600,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":8,"type":""}}}]}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Nutanix_Provision_9345b001_1f0f_4c88_9565_74711df70607"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVMySQL","uuid":"9345b001-1f0f-4c88-9565-74711df70607"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"1377560e-6ba0-43a9-9a72-3c8222267fab","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"300","address":"@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_AHVMySQL_9345b001_1f0f_4c88_9565_74711df70607"}],"description":"","message_list":[],"uuid":"16430084-ab17-4db0-97c4-7552558edb84","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_9345b001_1f0f_4c88_9565_74711df70607","uuid":"3165a83d-3be1-484b-988b-ad0cfcebc6f7"},"name":"SYS_GEN__Runbook_Substrate_9345b001_1f0f_4c88_9565_74711df70607"}},{"description":"System action for powering on an application","message_list":[],"uuid":"0994b8d5-4e9e-480f-a300-e1554505ea02","name":"action_poweron","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AHVMySQL","uuid":"9345b001-1f0f-4c88-9565-74711df70607"},"retries":"0","description":"","type":"DAG","uuid":"5b843a0b-3ac0-4e3b-bbbd-c57a43638200","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Nutanix_Operation_PowerOn_9345b001_1f0f_4c88_9565_74711df70607","uuid":"bd53ed75-fe96-4e47-9bbe-86a7b1c62e01"},{"kind":"app_task","name":"SYS_GEN__check_login_for_AHVMySQL_9345b001_1f0f_4c88_9565_74711df70607","uuid":"80c0408a-3bda-431d-87bc-e257ee158e3b"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Nutanix_Operation_PowerOn_9345b001_1f0f_4c88_9565_74711df70607","uuid":"bd53ed75-fe96-4e47-9bbe-86a7b1c62e01"},"edge_type":"inherent","type":"","uuid":"8eb2184f-cfbc-4f29-a3a2-d3c9776e9f27","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_AHVMySQL_9345b001_1f0f_4c88_9565_74711df70607","uuid":"80c0408a-3bda-431d-87bc-e257ee158e3b"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_9345b001_1f0f_4c88_9565_74711df70607"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVMySQL","uuid":"9345b001-1f0f-4c88-9565-74711df70607"},"retries":"0","description":"","type":"VMOPERATION_NUTANIX","uuid":"bd53ed75-fe96-4e47-9bbe-86a7b1c62e01","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Nutanix_Operation_PowerOn_9345b001_1f0f_4c88_9565_74711df70607"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVMySQL","uuid":"9345b001-1f0f-4c88-9565-74711df70607"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"80c0408a-3bda-431d-87bc-e257ee158e3b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"300","address":"@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_AHVMySQL_9345b001_1f0f_4c88_9565_74711df70607"}],"description":"","message_list":[],"uuid":"f5a2786c-94c6-47e3-b510-d93be19375cf","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_9345b001_1f0f_4c88_9565_74711df70607","uuid":"5b843a0b-3ac0-4e3b-bbbd-c57a43638200"},"name":"SYS_GEN__Runbook_Substrate_9345b001_1f0f_4c88_9565_74711df70607"}},{"description":"System action for restarting an application","message_list":[],"uuid":"6f000e93-7c0d-455e-8d48-73a6986912ef","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AHVMySQL","uuid":"9345b001-1f0f-4c88-9565-74711df70607"},"retries":"0","description":"","type":"DAG","uuid":"c267f511-ecab-467b-97a9-e71a93f933d3","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Nutanix_Operation_Restart_9345b001_1f0f_4c88_9565_74711df70607","uuid":"56543c8f-1181-4dcd-9431-be6d3221f695"},{"kind":"app_task","name":"SYS_GEN__check_login_for_AHVMySQL_9345b001_1f0f_4c88_9565_74711df70607","uuid":"acd43ddc-0c34-4989-b28e-3bf278985321"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Nutanix_Operation_Restart_9345b001_1f0f_4c88_9565_74711df70607","uuid":"56543c8f-1181-4dcd-9431-be6d3221f695"},"edge_type":"inherent","type":"","uuid":"ab793fde-bcd2-45f2-9e19-c2685dce0d32","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_AHVMySQL_9345b001_1f0f_4c88_9565_74711df70607","uuid":"acd43ddc-0c34-4989-b28e-3bf278985321"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_9345b001_1f0f_4c88_9565_74711df70607"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVMySQL","uuid":"9345b001-1f0f-4c88-9565-74711df70607"},"retries":"0","description":"","type":"VMOPERATION_NUTANIX","uuid":"56543c8f-1181-4dcd-9431-be6d3221f695","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Nutanix_Operation_Restart_9345b001_1f0f_4c88_9565_74711df70607"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVMySQL","uuid":"9345b001-1f0f-4c88-9565-74711df70607"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"acd43ddc-0c34-4989-b28e-3bf278985321","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"300","address":"@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_AHVMySQL_9345b001_1f0f_4c88_9565_74711df70607"}],"description":"","message_list":[],"uuid":"bb964e1a-e3ca-4633-80dd-6d26974414a0","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_9345b001_1f0f_4c88_9565_74711df70607","uuid":"c267f511-ecab-467b-97a9-e71a93f933d3"},"name":"SYS_GEN__Runbook_Substrate_9345b001_1f0f_4c88_9565_74711df70607"}},{"description":"System action for suspending an application","message_list":[],"uuid":"3cdd7a88-3b6b-4edd-971b-8726c67dcc23","name":"action_suspend","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AHVMySQL","uuid":"9345b001-1f0f-4c88-9565-74711df70607"},"retries":"0","description":"","type":"DAG","uuid":"68303e75-2b52-4cbb-955a-5fce4099d19e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_9345b001_1f0f_4c88_9565_74711df70607"}],"description":"","message_list":[],"uuid":"db0197de-48f8-4fca-9da8-d7e29095f59d","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_9345b001_1f0f_4c88_9565_74711df70607","uuid":"68303e75-2b52-4cbb-955a-5fce4099d19e"},"name":"SYS_GEN__Runbook_Substrate_9345b001_1f0f_4c88_9565_74711df70607"}},{"description":"System action for modifying an application","message_list":[],"uuid":"b6c77d34-5890-4b74-9798-bc527714a287","name":"action_modify","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AHVMySQL","uuid":"9345b001-1f0f-4c88-9565-74711df70607"},"retries":"0","description":"","type":"DAG","uuid":"4d3d7ae4-ae49-40ab-86dd-646f756e0b05","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_9345b001_1f0f_4c88_9565_74711df70607"}],"description":"","message_list":[],"uuid":"b0f118a0-e392-4455-9563-a4e41e71a730","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_9345b001_1f0f_4c88_9565_74711df70607","uuid":"4d3d7ae4-ae49-40ab-86dd-646f756e0b05"},"name":"SYS_GEN__Runbook_Substrate_9345b001_1f0f_4c88_9565_74711df70607"}},{"description":"System action for powering off an application","message_list":[],"uuid":"b2a03517-c507-4394-b215-b7a0f6a176ae","name":"action_poweroff","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AHVMySQL","uuid":"9345b001-1f0f-4c88-9565-74711df70607"},"retries":"0","description":"","type":"DAG","uuid":"f1e974ee-fcf6-4a43-a504-c333432416e5","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Nutanix_Operation_PowerOff_9345b001_1f0f_4c88_9565_74711df70607","uuid":"abc194e3-6d4d-43da-b68f-3edd025679e7"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_9345b001_1f0f_4c88_9565_74711df70607"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVMySQL","uuid":"9345b001-1f0f-4c88-9565-74711df70607"},"retries":"0","description":"","type":"VMOPERATION_NUTANIX","uuid":"abc194e3-6d4d-43da-b68f-3edd025679e7","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Nutanix_Operation_PowerOff_9345b001_1f0f_4c88_9565_74711df70607"}],"description":"","message_list":[],"uuid":"866b0d7f-d9aa-4d16-b5d0-276765c505b5","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_9345b001_1f0f_4c88_9565_74711df70607","uuid":"f1e974ee-fcf6-4a43-a504-c333432416e5"},"name":"SYS_GEN__Runbook_Substrate_9345b001_1f0f_4c88_9565_74711df70607"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"62dbf6d0-ae83-451d-9133-3df0506eab31","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AHVMySQL","uuid":"9345b001-1f0f-4c88-9565-74711df70607"},"retries":"0","description":"","type":"DAG","uuid":"c020e8ea-feed-4cb2-8b7f-8209abca8290","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Nutanix_Delete_9345b001_1f0f_4c88_9565_74711df70607","uuid":"bae876bf-5430-414e-9694-eb43d4883739"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_9345b001_1f0f_4c88_9565_74711df70607"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVMySQL","uuid":"9345b001-1f0f-4c88-9565-74711df70607"},"retries":"0","description":"","type":"DELETE_NUTANIX","uuid":"bae876bf-5430-414e-9694-eb43d4883739","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Nutanix_Delete_9345b001_1f0f_4c88_9565_74711df70607"}],"description":"","message_list":[],"uuid":"c2da529c-ac33-4f94-8ed1-20052200c039","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_9345b001_1f0f_4c88_9565_74711df70607","uuid":"c020e8ea-feed-4cb2-8b7f-8209abca8290"},"name":"SYS_GEN__Runbook_Substrate_9345b001_1f0f_4c88_9565_74711df70607"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"d0f5acb9-232a-4167-98f9-c14f6b13a6d8","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AHVMySQL","uuid":"9345b001-1f0f-4c88-9565-74711df70607"},"retries":"0","description":"","type":"DAG","uuid":"97473072-e657-45b3-aa4e-0c5ed8c2829d","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Substrate_Element_Delete_9345b001_1f0f_4c88_9565_74711df70607","uuid":"c663b927-8f83-49a1-9fa6-2241b82d4d67"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_9345b001_1f0f_4c88_9565_74711df70607"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVMySQL","uuid":"9345b001-1f0f-4c88-9565-74711df70607"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"c663b927-8f83-49a1-9fa6-2241b82d4d67","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Substrate_Element_Delete_9345b001_1f0f_4c88_9565_74711df70607"}],"description":"","message_list":[],"uuid":"cf6fd498-249f-4074-9a96-664716f7549a","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_9345b001_1f0f_4c88_9565_74711df70607","uuid":"97473072-e657-45b3-aa4e-0c5ed8c2829d"},"name":"SYS_GEN__Runbook_Substrate_9345b001_1f0f_4c88_9565_74711df70607"}}],"message_list":[],"uuid":"9345b001-1f0f-4c88-9565-74711df70607","state":"ACTIVE","readiness_probe":{"connection_type":"SSH","retries":"5","disable_readiness_probe":false,"address":"@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@","delay_secs":"0","connection_port":22,"login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"d2eec46b-8fe8-4b34-9979-e0807d4717c1"}},"editables":{"readiness_probe":{"connection_type":true,"connection_port":true,"timeout_secs":true},"create_spec":{"resources":{"nic_list":{},"serial_port_list":{},"num_vcpus_per_socket":true,"num_sockets":true,"memory_size_mib":true,"guest_customization":true,"disk_list":{}}}},"os_type":"Linux","type":"AHV_VM","create_spec":{"name":"mysql-@@{calm_array_index}@@-@@{calm_time}@@","categories":"","availability_zone_reference":null,"backup_policy":null,"type":"","cluster_reference":null,"resources":{"nic_list":[],"parent_reference":null,"guest_tools":null,"num_vcpus_per_socket":2,"num_sockets":2,"serial_port_list":[],"gpu_list":[],"memory_size_mib":8192,"power_state":"ON","hardware_clock_timezone":"","guest_customization":{"cloud_init":{"meta_data":"","type":"","user_data":"#cloud-config\nusers:\n  - name: centos\n    ssh-authorized-keys:\n      - @@{INSTANCE_PUBLIC_KEY}@@\n    sudo: ['ALL=(ALL) NOPASSWD:ALL']"},"type":"","sysprep":null},"type":"","boot_config":{"boot_device":{"type":"","disk_address":{"adapter_type":"SCSI","device_index":0,"type":""}},"type":"","mac_address":""},"disk_list":[{"data_source_reference":{"kind":"app_package","type":"","name":"CENTOS_IMAGE","uuid":"06d5e9f9-391c-498e-9de1-92702f93694d"},"type":"","disk_size_mib":0,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":0,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":51200,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":1,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":51200,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":2,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":51200,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":3,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":51200,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":4,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":25600,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":5,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":25600,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":6,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":25600,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":7,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":25600,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":8,"type":""}}}]}},"variable_list":[],"name":"AHVMySQL"},{"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"62513f23-6a1f-4ec1-be23-73bb2eb19c13","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AWSMySQL","uuid":"af5b340a-264c-437c-bc6b-1749e819544f"},"retries":"0","description":"","type":"DAG","uuid":"e07de409-8f4f-4edf-ba4b-b5905f2c839b","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Aws_Provision_af5b340a_264c_437c_bc6b_1749e819544f","uuid":"b8bda441-6d38-47c6-b069-4813264677e5"},{"kind":"app_task","name":"SYS_GEN__check_login_for_AWSMySQL_af5b340a_264c_437c_bc6b_1749e819544f","uuid":"2fedd415-ed6a-45d7-b80a-72703246d3c6"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Aws_Provision_af5b340a_264c_437c_bc6b_1749e819544f","uuid":"b8bda441-6d38-47c6-b069-4813264677e5"},"edge_type":"inherent","type":"","uuid":"bd961441-d397-47a4-9e1b-e83987878860","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_AWSMySQL_af5b340a_264c_437c_bc6b_1749e819544f","uuid":"2fedd415-ed6a-45d7-b80a-72703246d3c6"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_af5b340a_264c_437c_bc6b_1749e819544f"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSMySQL","uuid":"af5b340a-264c-437c-bc6b-1749e819544f"},"retries":"0","description":"","type":"PROVISION_AWS_VM","uuid":"b8bda441-6d38-47c6-b069-4813264677e5","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"name":"mysql-@@{calm_array_index}@@-@@{calm_time}@@","availability_zone_reference":null,"backup_policy":null,"type":"PROVISION_AWS_VM","cluster_reference":null,"resources":{"instance_profile_name":"","instance_type":"","subnet_id":"","key_name":"","region":"","availability_zone":"","instance_initiated_shutdown_behavior":"","user_data":"","image_id":"","state":"RUNNING","security_group_list":[{"type":"","security_group_id":""}],"block_device_map":{"data_disk_list":[{"size_gb":50,"volume_type":"GP2","device_name":"\/dev\/sdb","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":50,"volume_type":"GP2","device_name":"\/dev\/sdc","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":50,"volume_type":"GP2","device_name":"\/dev\/sdd","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":50,"volume_type":"GP2","device_name":"\/dev\/sde","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":25,"volume_type":"GP2","device_name":"\/dev\/sdf","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":25,"volume_type":"GP2","device_name":"\/dev\/sdg","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":25,"volume_type":"GP2","device_name":"\/dev\/sdh","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":25,"volume_type":"GP2","device_name":"\/dev\/sdi","iops":1,"snapshot_id":"","type":"","delete_on_termination":true}],"type":"","root_disk":{"size_gb":20,"volume_type":"GP2","device_name":"\/dev\/sda1","iops":1,"snapshot_id":"","type":"","delete_on_termination":true}},"private_ip_address":"","vpc_id":"","tag_list":[],"type":"","account_uuid":"8c2e0a6b-620a-c62a-c3f4-e58b101dfd0d","associate_public_ip_address":true}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Aws_Provision_af5b340a_264c_437c_bc6b_1749e819544f"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSMySQL","uuid":"af5b340a-264c-437c-bc6b-1749e819544f"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"2fedd415-ed6a-45d7-b80a-72703246d3c6","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"300","address":"@@{public_ip_address}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_AWSMySQL_af5b340a_264c_437c_bc6b_1749e819544f"}],"description":"","message_list":[],"uuid":"22c375f4-3c0d-480e-9d75-b97b3df9aa4a","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_af5b340a_264c_437c_bc6b_1749e819544f","uuid":"e07de409-8f4f-4edf-ba4b-b5905f2c839b"},"name":"SYS_GEN__Runbook_Substrate_af5b340a_264c_437c_bc6b_1749e819544f"}},{"description":"System action for powering on an application","message_list":[],"uuid":"dfcc064e-c804-47a3-899c-2ffc2e5cd590","name":"action_poweron","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AWSMySQL","uuid":"af5b340a-264c-437c-bc6b-1749e819544f"},"retries":"0","description":"","type":"DAG","uuid":"fd3ac213-74e2-4aea-8708-88a96ac21b6c","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Aws_Operation_PowerOn_af5b340a_264c_437c_bc6b_1749e819544f","uuid":"9da5f6be-6074-4dd3-bf5b-ccfae28107b6"},{"kind":"app_task","name":"SYS_GEN__check_login_for_AWSMySQL_af5b340a_264c_437c_bc6b_1749e819544f","uuid":"05c5740c-b2f3-401e-b499-f8cbc505296e"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Aws_Operation_PowerOn_af5b340a_264c_437c_bc6b_1749e819544f","uuid":"9da5f6be-6074-4dd3-bf5b-ccfae28107b6"},"edge_type":"inherent","type":"","uuid":"ca409f17-27ff-442e-be6e-cc4e4b16347a","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_AWSMySQL_af5b340a_264c_437c_bc6b_1749e819544f","uuid":"05c5740c-b2f3-401e-b499-f8cbc505296e"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_af5b340a_264c_437c_bc6b_1749e819544f"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSMySQL","uuid":"af5b340a-264c-437c-bc6b-1749e819544f"},"retries":"0","description":"","type":"VMOPERATION_AWS_VM","uuid":"9da5f6be-6074-4dd3-bf5b-ccfae28107b6","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Aws_Operation_PowerOn_af5b340a_264c_437c_bc6b_1749e819544f"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSMySQL","uuid":"af5b340a-264c-437c-bc6b-1749e819544f"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"05c5740c-b2f3-401e-b499-f8cbc505296e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"300","address":"@@{public_ip_address}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_AWSMySQL_af5b340a_264c_437c_bc6b_1749e819544f"}],"description":"","message_list":[],"uuid":"6d4f709e-3896-4307-b773-61f6c24391d0","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_af5b340a_264c_437c_bc6b_1749e819544f","uuid":"fd3ac213-74e2-4aea-8708-88a96ac21b6c"},"name":"SYS_GEN__Runbook_Substrate_af5b340a_264c_437c_bc6b_1749e819544f"}},{"description":"System action for restarting an application","message_list":[],"uuid":"c7bfed4b-c839-498d-83b9-dcc9e444b8ba","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AWSMySQL","uuid":"af5b340a-264c-437c-bc6b-1749e819544f"},"retries":"0","description":"","type":"DAG","uuid":"f2b31400-b3ba-4329-acee-f3ab392b5206","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Aws_Operation_Restart_af5b340a_264c_437c_bc6b_1749e819544f","uuid":"4e89fdd6-2cc5-41ac-9325-ca57dcae5db9"},{"kind":"app_task","name":"SYS_GEN__check_login_for_AWSMySQL_af5b340a_264c_437c_bc6b_1749e819544f","uuid":"c91d0448-f344-49e6-a920-38bacf1eae67"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Aws_Operation_Restart_af5b340a_264c_437c_bc6b_1749e819544f","uuid":"4e89fdd6-2cc5-41ac-9325-ca57dcae5db9"},"edge_type":"inherent","type":"","uuid":"1cc6de5d-5d2e-4155-a723-ca37146e0f7c","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_AWSMySQL_af5b340a_264c_437c_bc6b_1749e819544f","uuid":"c91d0448-f344-49e6-a920-38bacf1eae67"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_af5b340a_264c_437c_bc6b_1749e819544f"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSMySQL","uuid":"af5b340a-264c-437c-bc6b-1749e819544f"},"retries":"0","description":"","type":"VMOPERATION_AWS_VM","uuid":"4e89fdd6-2cc5-41ac-9325-ca57dcae5db9","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Aws_Operation_Restart_af5b340a_264c_437c_bc6b_1749e819544f"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSMySQL","uuid":"af5b340a-264c-437c-bc6b-1749e819544f"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"c91d0448-f344-49e6-a920-38bacf1eae67","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"300","address":"@@{public_ip_address}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_AWSMySQL_af5b340a_264c_437c_bc6b_1749e819544f"}],"description":"","message_list":[],"uuid":"1e813446-355e-42e3-8f17-0013f6c8a955","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_af5b340a_264c_437c_bc6b_1749e819544f","uuid":"f2b31400-b3ba-4329-acee-f3ab392b5206"},"name":"SYS_GEN__Runbook_Substrate_af5b340a_264c_437c_bc6b_1749e819544f"}},{"description":"System action for suspending an application","message_list":[],"uuid":"a5da2f32-7f7b-4f69-9187-a770ae5d1074","name":"action_suspend","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AWSMySQL","uuid":"af5b340a-264c-437c-bc6b-1749e819544f"},"retries":"0","description":"","type":"DAG","uuid":"85e40b4b-491e-414c-9bd2-b2f89d447842","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_af5b340a_264c_437c_bc6b_1749e819544f"}],"description":"","message_list":[],"uuid":"ed7d6ce0-9c6c-4da5-bbce-97096b0f45a0","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_af5b340a_264c_437c_bc6b_1749e819544f","uuid":"85e40b4b-491e-414c-9bd2-b2f89d447842"},"name":"SYS_GEN__Runbook_Substrate_af5b340a_264c_437c_bc6b_1749e819544f"}},{"description":"System action for modifying an application","message_list":[],"uuid":"a1427563-4dcd-4dbb-9fd3-5ac9ac985aab","name":"action_modify","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AWSMySQL","uuid":"af5b340a-264c-437c-bc6b-1749e819544f"},"retries":"0","description":"","type":"DAG","uuid":"d557f0f0-8d54-4eaa-b11a-9ca7a2434d39","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_af5b340a_264c_437c_bc6b_1749e819544f"}],"description":"","message_list":[],"uuid":"8af41dd1-1a48-4b0d-86f7-13b852c3e6c9","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_af5b340a_264c_437c_bc6b_1749e819544f","uuid":"d557f0f0-8d54-4eaa-b11a-9ca7a2434d39"},"name":"SYS_GEN__Runbook_Substrate_af5b340a_264c_437c_bc6b_1749e819544f"}},{"description":"System action for powering off an application","message_list":[],"uuid":"d38e97ab-90de-4c39-8f45-ba29a4dd4050","name":"action_poweroff","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AWSMySQL","uuid":"af5b340a-264c-437c-bc6b-1749e819544f"},"retries":"0","description":"","type":"DAG","uuid":"c3e5d4b7-4287-4ff7-b2de-1d8fbb6c80d9","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Aws_Operation_PowerOff_af5b340a_264c_437c_bc6b_1749e819544f","uuid":"e350dde2-4863-4e2f-895b-fa3dad0152c6"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_af5b340a_264c_437c_bc6b_1749e819544f"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSMySQL","uuid":"af5b340a-264c-437c-bc6b-1749e819544f"},"retries":"0","description":"","type":"VMOPERATION_AWS_VM","uuid":"e350dde2-4863-4e2f-895b-fa3dad0152c6","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Aws_Operation_PowerOff_af5b340a_264c_437c_bc6b_1749e819544f"}],"description":"","message_list":[],"uuid":"d6df710f-2849-40be-a417-056103896305","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_af5b340a_264c_437c_bc6b_1749e819544f","uuid":"c3e5d4b7-4287-4ff7-b2de-1d8fbb6c80d9"},"name":"SYS_GEN__Runbook_Substrate_af5b340a_264c_437c_bc6b_1749e819544f"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"3585f245-c1fd-4019-970a-021e5787b001","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AWSMySQL","uuid":"af5b340a-264c-437c-bc6b-1749e819544f"},"retries":"0","description":"","type":"DAG","uuid":"2ea2452a-ebb0-4ee0-9456-1c35a7c901ce","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Aws_Delete_af5b340a_264c_437c_bc6b_1749e819544f","uuid":"150d3e95-ff3e-4c0c-a71a-6ac0ee492161"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_af5b340a_264c_437c_bc6b_1749e819544f"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSMySQL","uuid":"af5b340a-264c-437c-bc6b-1749e819544f"},"retries":"0","description":"","type":"DELETE_AWS_VM","uuid":"150d3e95-ff3e-4c0c-a71a-6ac0ee492161","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Aws_Delete_af5b340a_264c_437c_bc6b_1749e819544f"}],"description":"","message_list":[],"uuid":"46cb8097-0ccf-4a94-97a8-c21a59fcdb24","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_af5b340a_264c_437c_bc6b_1749e819544f","uuid":"2ea2452a-ebb0-4ee0-9456-1c35a7c901ce"},"name":"SYS_GEN__Runbook_Substrate_af5b340a_264c_437c_bc6b_1749e819544f"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"e2e6107d-1b6d-4896-93ac-3c03ca76e4a3","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AWSMySQL","uuid":"af5b340a-264c-437c-bc6b-1749e819544f"},"retries":"0","description":"","type":"DAG","uuid":"f52ffa06-2d6d-4f59-9da8-183e940b3b2b","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Substrate_Element_Delete_af5b340a_264c_437c_bc6b_1749e819544f","uuid":"10f18bd4-f93a-49ff-aab7-0b263e6f70e0"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_af5b340a_264c_437c_bc6b_1749e819544f"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSMySQL","uuid":"af5b340a-264c-437c-bc6b-1749e819544f"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"10f18bd4-f93a-49ff-aab7-0b263e6f70e0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Substrate_Element_Delete_af5b340a_264c_437c_bc6b_1749e819544f"}],"description":"","message_list":[],"uuid":"f423e3d2-d486-4d64-9c09-aea07482f3e4","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_af5b340a_264c_437c_bc6b_1749e819544f","uuid":"f52ffa06-2d6d-4f59-9da8-183e940b3b2b"},"name":"SYS_GEN__Runbook_Substrate_af5b340a_264c_437c_bc6b_1749e819544f"}}],"message_list":[{"message":"Region is a required field","reason":"EMPTY_VALUE","details":[{"attribute_name":"region"}]}],"uuid":"af5b340a-264c-437c-bc6b-1749e819544f","state":"DRAFT","readiness_probe":{"connection_type":"SSH","retries":"5","disable_readiness_probe":false,"address":"@@{public_ip_address}@@","delay_secs":"0","connection_port":22,"login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"d2eec46b-8fe8-4b34-9979-e0807d4717c1"}},"editables":{"readiness_probe":{"connection_type":true,"connection_port":true,"timeout_secs":true},"create_spec":{"name":true,"resources":{"instance_type":true,"instance_profile_name":true,"availability_zone":true,"subnet_id":true,"key_name":true,"region":true,"image_id":true,"security_group_list":true,"block_device_map":{"data_disk_list":{"1":{"size_gb":true},"0":{"size_gb":true},"3":{"size_gb":true},"2":{"size_gb":true},"5":{"size_gb":true},"4":{"size_gb":true},"7":{"size_gb":true},"6":{"size_gb":true}},"root_disk":{"size_gb":true}},"associate_public_ip_address":true,"vpc_id":true,"tag_list":true}}},"os_type":"Linux","type":"AWS_VM","create_spec":{"name":"mysql-@@{calm_array_index}@@-@@{calm_time}@@","availability_zone_reference":null,"backup_policy":null,"type":"PROVISION_AWS_VM","cluster_reference":null,"resources":{"instance_profile_name":"","instance_type":"","subnet_id":"","key_name":"","region":"","availability_zone":"","instance_initiated_shutdown_behavior":"","user_data":"","image_id":"","state":"RUNNING","security_group_list":[{"type":"","security_group_id":""}],"block_device_map":{"data_disk_list":[{"size_gb":50,"volume_type":"GP2","device_name":"\/dev\/sdb","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":50,"volume_type":"GP2","device_name":"\/dev\/sdc","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":50,"volume_type":"GP2","device_name":"\/dev\/sdd","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":50,"volume_type":"GP2","device_name":"\/dev\/sde","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":25,"volume_type":"GP2","device_name":"\/dev\/sdf","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":25,"volume_type":"GP2","device_name":"\/dev\/sdg","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":25,"volume_type":"GP2","device_name":"\/dev\/sdh","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":25,"volume_type":"GP2","device_name":"\/dev\/sdi","iops":1,"snapshot_id":"","type":"","delete_on_termination":true}],"type":"","root_disk":{"size_gb":20,"volume_type":"GP2","device_name":"\/dev\/sda1","iops":1,"snapshot_id":"","type":"","delete_on_termination":true}},"private_ip_address":"","vpc_id":"","tag_list":[],"type":"","account_uuid":"8c2e0a6b-620a-c62a-c3f4-e58b101dfd0d","associate_public_ip_address":true}},"variable_list":[],"name":"AWSMySQL"},{"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"fa5efddd-7b95-4de3-861f-f5baaad6d875","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"GCPMySQL","uuid":"f830e0ae-c36f-45a3-b503-b8f783ccaa41"},"retries":"0","description":"","type":"DAG","uuid":"a255a7ac-3522-476f-901c-bc4b445e1b34","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Gcp_Provision_f830e0ae_c36f_45a3_b503_b8f783ccaa41","uuid":"380d25b2-0c40-47d5-8860-0a863f01756e"},{"kind":"app_task","name":"SYS_GEN__check_login_for_GCPMySQL_f830e0ae_c36f_45a3_b503_b8f783ccaa41","uuid":"f30653a9-dd5f-48a4-b4ab-1d476a4299ab"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Gcp_Provision_f830e0ae_c36f_45a3_b503_b8f783ccaa41","uuid":"380d25b2-0c40-47d5-8860-0a863f01756e"},"edge_type":"inherent","type":"","uuid":"a0ed14d7-88e4-403b-bbd0-c3e884d27cfe","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_GCPMySQL_f830e0ae_c36f_45a3_b503_b8f783ccaa41","uuid":"f30653a9-dd5f-48a4-b4ab-1d476a4299ab"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_f830e0ae_c36f_45a3_b503_b8f783ccaa41"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPMySQL","uuid":"f830e0ae-c36f-45a3-b503-b8f783ccaa41"},"retries":"0","description":"","type":"PROVISION_GCP_VM","uuid":"380d25b2-0c40-47d5-8860-0a863f01756e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"PROVISION_GCP_VM","resources":{"labels":[],"machineType":"","description":"","zone":"","tags":{"items":["tensorflow"],"type":"","fingerprint":""},"guestCustomization":{"type":"","sysprep":"","startupScript":""},"labelFingerprint":"","disks":[{"diskEncryptionKey":{"rawKey":"","type":""},"deviceName":"","initializeParams":{"sourceImageEncryptionKey":{"rawKey":"","type":""},"diskName":"","diskType":"","diskSizeGb":-1,"sourceImage":"","type":""},"autoDelete":true,"boot":true,"source":"","mode":"","interface":"","disk_type":"PERSISTENT","type":""}],"metadata":{"items":[],"type":"","fingerprint":""},"sshKeys":["centos:ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDMGAS\/K0Mb\/uwFXwD+hkjguy7VMZk2hpuhwPl9FUZwVBrURf\/i9QMJ5\/paPEZixu8VlRx7Inu4iun7rQfrnfeIYInmBwspXHYiTK3oHJAgZnrAHVEf1p6YaxLINlT1NI5yOAGPRWW6of8rBDBH1ObwU2+wcSx\/1H0uIs3aZNLufr+Rh628ACxAum2Gt8AVRj6ua2BPFyt5VTdclyysAmeh1AiixNgOZXOz6y\/i4TbzpY78I3isuKpxsUeXX6jxEMQol406jHDUF6njEOPIQG2zVZ3QJlTG9OlN+NiyZG9WkZz0VG\/6M8ixxIHHI2dNwUbBFv2HUu+8X9LTLFq2O7KjX9Hp7uZKBAySHA3eKaKHIp2bZuU1bT5PRPkggngX86xg+T+OMNnutbAiMnRJ8+FvD5So+5TIx4b9GgxAxure3x2yRPT9lOiQOB+CVpJPxR0Rn9bOI+wiPnD0kAGvK\/fHT+pqL4PM+hTnJtp9rrCRzIQApBx1263jEcYffhW2epZQRO+he5CMawFJ5TBe08om2AaDJ8GQdrpF6YA3W8DzHbmL3DPVVHdmqPLn10o+LX4gv5SdIIDVGdjKOc1BCnLTRmM28d5+sLDt\/M+kvcQgf0y0yDjMVjGECZkt39hbm4ELMHzZtzYLmHNhBZxRqHeJ7qFTuv1kx88OW3Xc5mbBNQ== centos@nutanix.com\n"],"minCpuPlatform":"","scheduling":{"automaticRestart":true,"type":"","preemptible":false,"onHostMaintenance":"TERMINATE"},"canIpForward":false,"blankDisks":[{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-single-disk0-@@{calm_time}@@","sizeGb":50,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-single-disk1-@@{calm_time}@@","sizeGb":50,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-single-disk2-@@{calm_time}@@","sizeGb":50,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-single-disk3-@@{calm_time}@@","sizeGb":50,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-single-disk4-@@{calm_time}@@","sizeGb":25,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-single-disk5-@@{calm_time}@@","sizeGb":25,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-single-disk6-@@{calm_time}@@","sizeGb":25,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-single-disk7-@@{calm_time}@@","sizeGb":25,"autoDelete":true}],"networkInterfaces":[{"aliasIpRanges":[],"network":"","accessConfigs":[{"config_type":"ONE_TO_ONE_NAT","type":"","name":"lin-default-acn","natIP":""}],"networkIP":"","subnetwork":"","type":"","associatePublicIP":true}],"type":"","account_uuid":"84213a31-4fe8-7e39-3799-e093e5d0dc2e","serviceAccounts":[{"scopes":[],"type":"","email":"108048128720-compute@developer.gserviceaccount.com"}],"name":"mysql-@@{calm_array_index}@@-@@{calm_time}@@"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Gcp_Provision_f830e0ae_c36f_45a3_b503_b8f783ccaa41"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPMySQL","uuid":"f830e0ae-c36f-45a3-b503-b8f783ccaa41"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"f30653a9-dd5f-48a4-b4ab-1d476a4299ab","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"300","address":"@@{public_ip_address}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_GCPMySQL_f830e0ae_c36f_45a3_b503_b8f783ccaa41"}],"description":"","message_list":[],"uuid":"a4fdecdd-8efa-4d47-8146-d3fda30b7d46","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_f830e0ae_c36f_45a3_b503_b8f783ccaa41","uuid":"a255a7ac-3522-476f-901c-bc4b445e1b34"},"name":"SYS_GEN__Runbook_Substrate_f830e0ae_c36f_45a3_b503_b8f783ccaa41"}},{"description":"System action for powering on an application","message_list":[],"uuid":"90c2819b-a622-490b-bf9d-4a7314cb02dd","name":"action_poweron","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"GCPMySQL","uuid":"f830e0ae-c36f-45a3-b503-b8f783ccaa41"},"retries":"0","description":"","type":"DAG","uuid":"4d5341a9-1041-415d-8a9e-08cf090ee0f0","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Gcp_Operation_PowerOn_f830e0ae_c36f_45a3_b503_b8f783ccaa41","uuid":"33ca762e-af9b-4369-84f4-1a6ba25dd882"},{"kind":"app_task","name":"SYS_GEN__check_login_for_GCPMySQL_f830e0ae_c36f_45a3_b503_b8f783ccaa41","uuid":"ffbba0e4-77af-479d-816c-1bfd46e81873"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Gcp_Operation_PowerOn_f830e0ae_c36f_45a3_b503_b8f783ccaa41","uuid":"33ca762e-af9b-4369-84f4-1a6ba25dd882"},"edge_type":"inherent","type":"","uuid":"0035f7bb-1b72-48ef-9d93-d429f226402d","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_GCPMySQL_f830e0ae_c36f_45a3_b503_b8f783ccaa41","uuid":"ffbba0e4-77af-479d-816c-1bfd46e81873"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_f830e0ae_c36f_45a3_b503_b8f783ccaa41"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPMySQL","uuid":"f830e0ae-c36f-45a3-b503-b8f783ccaa41"},"retries":"0","description":"","type":"VMOPERATION_GCP_VM","uuid":"33ca762e-af9b-4369-84f4-1a6ba25dd882","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Gcp_Operation_PowerOn_f830e0ae_c36f_45a3_b503_b8f783ccaa41"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPMySQL","uuid":"f830e0ae-c36f-45a3-b503-b8f783ccaa41"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"ffbba0e4-77af-479d-816c-1bfd46e81873","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"300","address":"@@{public_ip_address}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_GCPMySQL_f830e0ae_c36f_45a3_b503_b8f783ccaa41"}],"description":"","message_list":[],"uuid":"941f3b3e-d66e-46a4-a55e-772f0966ebdc","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_f830e0ae_c36f_45a3_b503_b8f783ccaa41","uuid":"4d5341a9-1041-415d-8a9e-08cf090ee0f0"},"name":"SYS_GEN__Runbook_Substrate_f830e0ae_c36f_45a3_b503_b8f783ccaa41"}},{"description":"System action for restarting an application","message_list":[],"uuid":"a26a7f4a-15eb-4468-8da9-b1f30cbf51a5","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"GCPMySQL","uuid":"f830e0ae-c36f-45a3-b503-b8f783ccaa41"},"retries":"0","description":"","type":"DAG","uuid":"9f842622-0fb7-4c96-a314-1032fbc47b38","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Gcp_Operation_Restart_f830e0ae_c36f_45a3_b503_b8f783ccaa41","uuid":"ce87b661-7fba-41c0-a11e-40ee9594993d"},{"kind":"app_task","name":"SYS_GEN__check_login_for_GCPMySQL_f830e0ae_c36f_45a3_b503_b8f783ccaa41","uuid":"09da7413-9c24-40fe-9900-bc5b03b5fbfc"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Gcp_Operation_Restart_f830e0ae_c36f_45a3_b503_b8f783ccaa41","uuid":"ce87b661-7fba-41c0-a11e-40ee9594993d"},"edge_type":"inherent","type":"","uuid":"46df2e07-238b-4a9e-a080-b64f1d98182f","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_GCPMySQL_f830e0ae_c36f_45a3_b503_b8f783ccaa41","uuid":"09da7413-9c24-40fe-9900-bc5b03b5fbfc"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_f830e0ae_c36f_45a3_b503_b8f783ccaa41"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPMySQL","uuid":"f830e0ae-c36f-45a3-b503-b8f783ccaa41"},"retries":"0","description":"","type":"VMOPERATION_GCP_VM","uuid":"ce87b661-7fba-41c0-a11e-40ee9594993d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Gcp_Operation_Restart_f830e0ae_c36f_45a3_b503_b8f783ccaa41"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPMySQL","uuid":"f830e0ae-c36f-45a3-b503-b8f783ccaa41"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"09da7413-9c24-40fe-9900-bc5b03b5fbfc","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"300","address":"@@{public_ip_address}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_GCPMySQL_f830e0ae_c36f_45a3_b503_b8f783ccaa41"}],"description":"","message_list":[],"uuid":"6d7bc990-5720-4b0c-ba69-5cc6a8cf0e94","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_f830e0ae_c36f_45a3_b503_b8f783ccaa41","uuid":"9f842622-0fb7-4c96-a314-1032fbc47b38"},"name":"SYS_GEN__Runbook_Substrate_f830e0ae_c36f_45a3_b503_b8f783ccaa41"}},{"description":"System action for suspending an application","message_list":[],"uuid":"6c8895bf-7205-4acc-b56a-58c2aecc3795","name":"action_suspend","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"GCPMySQL","uuid":"f830e0ae-c36f-45a3-b503-b8f783ccaa41"},"retries":"0","description":"","type":"DAG","uuid":"2e69dbad-e81f-42f0-a5db-5e5601815179","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_f830e0ae_c36f_45a3_b503_b8f783ccaa41"}],"description":"","message_list":[],"uuid":"6d0bcd0e-5847-44f7-9acd-4c9d7802ec71","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_f830e0ae_c36f_45a3_b503_b8f783ccaa41","uuid":"2e69dbad-e81f-42f0-a5db-5e5601815179"},"name":"SYS_GEN__Runbook_Substrate_f830e0ae_c36f_45a3_b503_b8f783ccaa41"}},{"description":"System action for modifying an application","message_list":[],"uuid":"74f1a1cb-1b84-47a4-b08b-d6fcf3d937e9","name":"action_modify","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"GCPMySQL","uuid":"f830e0ae-c36f-45a3-b503-b8f783ccaa41"},"retries":"0","description":"","type":"DAG","uuid":"1cd7b715-52cf-4e72-bcf7-308f904fb8c0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_f830e0ae_c36f_45a3_b503_b8f783ccaa41"}],"description":"","message_list":[],"uuid":"253501c6-e653-4e84-8fcd-af3d85f1af21","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_f830e0ae_c36f_45a3_b503_b8f783ccaa41","uuid":"1cd7b715-52cf-4e72-bcf7-308f904fb8c0"},"name":"SYS_GEN__Runbook_Substrate_f830e0ae_c36f_45a3_b503_b8f783ccaa41"}},{"description":"System action for powering off an application","message_list":[],"uuid":"e257ba2a-b029-4677-a8be-e477ab4dff6e","name":"action_poweroff","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"GCPMySQL","uuid":"f830e0ae-c36f-45a3-b503-b8f783ccaa41"},"retries":"0","description":"","type":"DAG","uuid":"67f261a4-434e-4ab7-869a-e257b2b9b7e2","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Gcp_Operation_PowerOff_f830e0ae_c36f_45a3_b503_b8f783ccaa41","uuid":"144e783c-c7e6-4b55-b1d0-f1ba22445819"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_f830e0ae_c36f_45a3_b503_b8f783ccaa41"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPMySQL","uuid":"f830e0ae-c36f-45a3-b503-b8f783ccaa41"},"retries":"0","description":"","type":"VMOPERATION_GCP_VM","uuid":"144e783c-c7e6-4b55-b1d0-f1ba22445819","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Gcp_Operation_PowerOff_f830e0ae_c36f_45a3_b503_b8f783ccaa41"}],"description":"","message_list":[],"uuid":"318989dd-8447-4dc5-8360-5301cd78f9a4","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_f830e0ae_c36f_45a3_b503_b8f783ccaa41","uuid":"67f261a4-434e-4ab7-869a-e257b2b9b7e2"},"name":"SYS_GEN__Runbook_Substrate_f830e0ae_c36f_45a3_b503_b8f783ccaa41"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"51ff6732-6d33-45fa-8b1f-a2fdd2c0532b","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"GCPMySQL","uuid":"f830e0ae-c36f-45a3-b503-b8f783ccaa41"},"retries":"0","description":"","type":"DAG","uuid":"e0a0f16a-13f4-4a2a-9d99-34b8d734515f","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Gcp_Delete_f830e0ae_c36f_45a3_b503_b8f783ccaa41","uuid":"9ff3da83-ef87-487d-b094-a241b97657fe"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_f830e0ae_c36f_45a3_b503_b8f783ccaa41"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPMySQL","uuid":"f830e0ae-c36f-45a3-b503-b8f783ccaa41"},"retries":"0","description":"","type":"DELETE_GCP_VM","uuid":"9ff3da83-ef87-487d-b094-a241b97657fe","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Gcp_Delete_f830e0ae_c36f_45a3_b503_b8f783ccaa41"}],"description":"","message_list":[],"uuid":"bfa29a63-c920-4ff6-b9a7-3205a50a0bd1","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_f830e0ae_c36f_45a3_b503_b8f783ccaa41","uuid":"e0a0f16a-13f4-4a2a-9d99-34b8d734515f"},"name":"SYS_GEN__Runbook_Substrate_f830e0ae_c36f_45a3_b503_b8f783ccaa41"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"ebd60a3f-e71b-4824-9dc5-4e1a74cb60af","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"GCPMySQL","uuid":"f830e0ae-c36f-45a3-b503-b8f783ccaa41"},"retries":"0","description":"","type":"DAG","uuid":"1f4993b5-72cc-43af-8005-0b33480ff9a4","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Substrate_Element_Delete_f830e0ae_c36f_45a3_b503_b8f783ccaa41","uuid":"fbdf26a4-d098-44e4-bcd9-c400bf8deead"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_f830e0ae_c36f_45a3_b503_b8f783ccaa41"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPMySQL","uuid":"f830e0ae-c36f-45a3-b503-b8f783ccaa41"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"fbdf26a4-d098-44e4-bcd9-c400bf8deead","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Substrate_Element_Delete_f830e0ae_c36f_45a3_b503_b8f783ccaa41"}],"description":"","message_list":[],"uuid":"afa5a7a2-640a-4864-abd1-5a532d62290c","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_f830e0ae_c36f_45a3_b503_b8f783ccaa41","uuid":"1f4993b5-72cc-43af-8005-0b33480ff9a4"},"name":"SYS_GEN__Runbook_Substrate_f830e0ae_c36f_45a3_b503_b8f783ccaa41"}}],"message_list":[{"message":"Zone is a required field","reason":"EMPTY_VALUE","details":[{"attribute_name":"zone"}]},{"message":"Machine type is a required field","reason":"EMPTY_VALUE","details":[{"attribute_name":"machineType"}]},{"message":"Either source image or disk source should be specified in custom disks","reason":"MISSING_VALUE","details":[{"attribute_name":"source"}]}],"uuid":"f830e0ae-c36f-45a3-b503-b8f783ccaa41","state":"DRAFT","readiness_probe":{"connection_type":"SSH","retries":"5","disable_readiness_probe":false,"address":"@@{public_ip_address}@@","delay_secs":"0","connection_port":22,"login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"d2eec46b-8fe8-4b34-9979-e0807d4717c1"}},"editables":{"readiness_probe":{"connection_type":true,"connection_port":true,"timeout_secs":true},"create_spec":{"resources":{"machineType":true,"name":true,"tags":{"items":true},"labels":true,"blankDisks":{"1":{"disk_type":true,"name":true,"sizeGb":true,"autoDelete":true},"0":{"disk_type":true,"name":true,"sizeGb":true,"autoDelete":true},"3":{"disk_type":true,"name":true,"sizeGb":true,"autoDelete":true},"2":{"disk_type":true,"name":true,"sizeGb":true,"autoDelete":true},"5":{"disk_type":true,"name":true,"sizeGb":true,"autoDelete":true},"4":{"disk_type":true,"name":true,"sizeGb":true,"autoDelete":true},"7":{"disk_type":true,"name":true,"sizeGb":true,"autoDelete":true},"6":{"disk_type":true,"name":true,"sizeGb":true,"autoDelete":true}},"sshKeys":{"0":true},"serviceAccounts":{"0":{"scopes":true}},"metadata":{"items":true}}}},"os_type":"Linux","type":"GCP_VM","create_spec":{"type":"PROVISION_GCP_VM","resources":{"labels":[],"machineType":"","description":"","zone":"","tags":{"items":["tensorflow"],"type":"","fingerprint":""},"guestCustomization":{"type":"","sysprep":"","startupScript":""},"labelFingerprint":"","disks":[{"diskEncryptionKey":{"rawKey":"","type":""},"deviceName":"","initializeParams":{"sourceImageEncryptionKey":{"rawKey":"","type":""},"diskName":"","diskType":"","diskSizeGb":-1,"sourceImage":"","type":""},"autoDelete":true,"boot":true,"source":"","mode":"","interface":"","disk_type":"PERSISTENT","type":""}],"metadata":{"items":[],"type":"","fingerprint":""},"sshKeys":["centos:ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDMGAS\/K0Mb\/uwFXwD+hkjguy7VMZk2hpuhwPl9FUZwVBrURf\/i9QMJ5\/paPEZixu8VlRx7Inu4iun7rQfrnfeIYInmBwspXHYiTK3oHJAgZnrAHVEf1p6YaxLINlT1NI5yOAGPRWW6of8rBDBH1ObwU2+wcSx\/1H0uIs3aZNLufr+Rh628ACxAum2Gt8AVRj6ua2BPFyt5VTdclyysAmeh1AiixNgOZXOz6y\/i4TbzpY78I3isuKpxsUeXX6jxEMQol406jHDUF6njEOPIQG2zVZ3QJlTG9OlN+NiyZG9WkZz0VG\/6M8ixxIHHI2dNwUbBFv2HUu+8X9LTLFq2O7KjX9Hp7uZKBAySHA3eKaKHIp2bZuU1bT5PRPkggngX86xg+T+OMNnutbAiMnRJ8+FvD5So+5TIx4b9GgxAxure3x2yRPT9lOiQOB+CVpJPxR0Rn9bOI+wiPnD0kAGvK\/fHT+pqL4PM+hTnJtp9rrCRzIQApBx1263jEcYffhW2epZQRO+he5CMawFJ5TBe08om2AaDJ8GQdrpF6YA3W8DzHbmL3DPVVHdmqPLn10o+LX4gv5SdIIDVGdjKOc1BCnLTRmM28d5+sLDt\/M+kvcQgf0y0yDjMVjGECZkt39hbm4ELMHzZtzYLmHNhBZxRqHeJ7qFTuv1kx88OW3Xc5mbBNQ== centos@nutanix.com\n"],"minCpuPlatform":"","scheduling":{"automaticRestart":true,"type":"","preemptible":false,"onHostMaintenance":"TERMINATE"},"canIpForward":false,"blankDisks":[{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-single-disk0-@@{calm_time}@@","sizeGb":50,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-single-disk1-@@{calm_time}@@","sizeGb":50,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-single-disk2-@@{calm_time}@@","sizeGb":50,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-single-disk3-@@{calm_time}@@","sizeGb":50,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-single-disk4-@@{calm_time}@@","sizeGb":25,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-single-disk5-@@{calm_time}@@","sizeGb":25,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-single-disk6-@@{calm_time}@@","sizeGb":25,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-single-disk7-@@{calm_time}@@","sizeGb":25,"autoDelete":true}],"networkInterfaces":[{"aliasIpRanges":[],"network":"","accessConfigs":[{"config_type":"ONE_TO_ONE_NAT","type":"","name":"lin-default-acn","natIP":""}],"networkIP":"","subnetwork":"","type":"","associatePublicIP":true}],"type":"","account_uuid":"84213a31-4fe8-7e39-3799-e093e5d0dc2e","serviceAccounts":[{"scopes":[],"type":"","email":"108048128720-compute@developer.gserviceaccount.com"}],"name":"mysql-@@{calm_array_index}@@-@@{calm_time}@@"}},"variable_list":[],"name":"GCPMySQL"},{"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"a4b66bd8-bdba-4ab5-ab7f-d6caa085b01a","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AZUREMySQL","uuid":"2849954f-21f7-407c-a833-348e446d71f4"},"retries":"0","description":"","type":"DAG","uuid":"e9f930c0-2f07-4a49-8f3f-f4cbea691e8d","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Azure_Provision_2849954f_21f7_407c_a833_348e446d71f4","uuid":"c8fda751-4e88-4d43-b98e-d33b8adce901"},{"kind":"app_task","name":"SYS_GEN__check_login_for_AZUREMySQL_2849954f_21f7_407c_a833_348e446d71f4","uuid":"2d578c68-4cba-448e-899b-6a396430bdb9"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Azure_Provision_2849954f_21f7_407c_a833_348e446d71f4","uuid":"c8fda751-4e88-4d43-b98e-d33b8adce901"},"edge_type":"inherent","type":"","uuid":"f87baf9b-e821-47fd-8520-d4c228eba8e2","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_AZUREMySQL_2849954f_21f7_407c_a833_348e446d71f4","uuid":"2d578c68-4cba-448e-899b-6a396430bdb9"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_2849954f_21f7_407c_a833_348e446d71f4"},{"target_any_local_reference":{"kind":"app_substrate","name":"AZUREMySQL","uuid":"2849954f-21f7-407c-a833-348e446d71f4"},"retries":"0","description":"","type":"PROVISION_AZURE_VM","uuid":"c8fda751-4e88-4d43-b98e-d33b8adce901","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"PROVISION_AZURE_VM","name":"","resources":{"vm_name":"mysql-@@{calm_unique_hash}@@-@@{calm_array_index}@@","storage_profile":{"is_managed":true,"image_details":{"sku":"","publisher":"","offer":"","source_image_id":"","use_custom_image":false,"version":"","type":""},"type":"","os_disk_details":{"size_in_gb":127,"name":"os-@@{calm_unique_hash}@@-@@{calm_array_index}@@-disk","storage_name":"","storage_type":"Standard_LRS","lun":-1,"type":"","create_option":"FromImage","caching_type":"ReadWrite"},"data_disk_list":[]},"nw_profile":{"nic_list":[{"nsg_name":"","vnet_name":"","private_ip_info":{"ip_address":"","ip_allocation_method":"Dynamic","type":""},"nic_name":"nic-@@{calm_unique_hash}@@-@@{calm_array_index}@@-0","subnet_name":"","type":"","public_ip_info":{"ip_name":"public-ip-@@{calm_unique_hash}@@-@@{calm_array_index}@@-0","dns_label":"dns-@@{calm_unique_hash}@@-@@{calm_array_index}@@-0","ip_allocation_method":"Dynamic","type":""}}],"primary_nic":-1,"type":""},"resource_group":"","os_profile":{"secrets":[],"type":"","windows_config":{"winrm_listeners":[],"time_zone":"","additional_unattend_content":[],"provision_vm_agent":true,"auto_updates":false,"type":""},"linux_config":{"disable_password_auth":false,"custom_data":"","type":"","public_keys":[]}},"hw_profile":{"max_data_disk_count":0,"vm_size":"","type":""},"location":"","availability_set_id":"","tag_list":[],"type":"","account_uuid":""}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Azure_Provision_2849954f_21f7_407c_a833_348e446d71f4"},{"target_any_local_reference":{"kind":"app_substrate","name":"AZUREMySQL","uuid":"2849954f-21f7-407c-a833-348e446d71f4"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"2d578c68-4cba-448e-899b-6a396430bdb9","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"300","address":"@@{platform.publicIPAddressList[0]}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_AZUREMySQL_2849954f_21f7_407c_a833_348e446d71f4"}],"description":"","message_list":[],"uuid":"086854fa-2cb5-42dc-88ad-4910c1e62f7a","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_2849954f_21f7_407c_a833_348e446d71f4","uuid":"e9f930c0-2f07-4a49-8f3f-f4cbea691e8d"},"name":"SYS_GEN__Runbook_Substrate_2849954f_21f7_407c_a833_348e446d71f4"}},{"description":"System action for powering on an application","message_list":[],"uuid":"ecf9dc91-8eee-48ed-9ee5-6b62ed8a0440","name":"action_poweron","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AZUREMySQL","uuid":"2849954f-21f7-407c-a833-348e446d71f4"},"retries":"0","description":"","type":"DAG","uuid":"5114f8a6-d15f-476c-8f8f-27601d76a6a7","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Azure_Operation_PowerOn_2849954f_21f7_407c_a833_348e446d71f4","uuid":"bfc4cf09-aa90-4673-b803-d7fd2cf9fe93"},{"kind":"app_task","name":"SYS_GEN__check_login_for_AZUREMySQL_2849954f_21f7_407c_a833_348e446d71f4","uuid":"5b63c42f-ec62-4882-81c3-e3e83a261ad0"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Azure_Operation_PowerOn_2849954f_21f7_407c_a833_348e446d71f4","uuid":"bfc4cf09-aa90-4673-b803-d7fd2cf9fe93"},"edge_type":"inherent","type":"","uuid":"6c1d0689-ea57-4cce-b62f-c28e2287b6a7","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_AZUREMySQL_2849954f_21f7_407c_a833_348e446d71f4","uuid":"5b63c42f-ec62-4882-81c3-e3e83a261ad0"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_2849954f_21f7_407c_a833_348e446d71f4"},{"target_any_local_reference":{"kind":"app_substrate","name":"AZUREMySQL","uuid":"2849954f-21f7-407c-a833-348e446d71f4"},"retries":"0","description":"","type":"VMOPERATION_AZURE_VM","uuid":"bfc4cf09-aa90-4673-b803-d7fd2cf9fe93","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Azure_Operation_PowerOn_2849954f_21f7_407c_a833_348e446d71f4"},{"target_any_local_reference":{"kind":"app_substrate","name":"AZUREMySQL","uuid":"2849954f-21f7-407c-a833-348e446d71f4"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"5b63c42f-ec62-4882-81c3-e3e83a261ad0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"300","address":"@@{platform.publicIPAddressList[0]}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_AZUREMySQL_2849954f_21f7_407c_a833_348e446d71f4"}],"description":"","message_list":[],"uuid":"2daaad27-01f4-4c8b-bd53-7c7b03f57500","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_2849954f_21f7_407c_a833_348e446d71f4","uuid":"5114f8a6-d15f-476c-8f8f-27601d76a6a7"},"name":"SYS_GEN__Runbook_Substrate_2849954f_21f7_407c_a833_348e446d71f4"}},{"description":"System action for restarting an application","message_list":[],"uuid":"237cc618-baa0-4497-b7c1-afac903a6eab","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AZUREMySQL","uuid":"2849954f-21f7-407c-a833-348e446d71f4"},"retries":"0","description":"","type":"DAG","uuid":"97aba837-df32-4eb6-bea5-2d8e54d33e93","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Azure_Operation_Restart2849954f_21f7_407c_a833_348e446d71f4","uuid":"5c7cf9a4-a144-41d7-a697-c4b5d4d37635"},{"kind":"app_task","name":"SYS_GEN__check_login_for_AZUREMySQL_2849954f_21f7_407c_a833_348e446d71f4","uuid":"345bd81f-5dfc-4426-a1d0-1b1bf7468328"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Azure_Operation_Restart2849954f_21f7_407c_a833_348e446d71f4","uuid":"5c7cf9a4-a144-41d7-a697-c4b5d4d37635"},"edge_type":"inherent","type":"","uuid":"9dde36aa-16b5-4429-8612-ab6e10f0489c","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_AZUREMySQL_2849954f_21f7_407c_a833_348e446d71f4","uuid":"345bd81f-5dfc-4426-a1d0-1b1bf7468328"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_2849954f_21f7_407c_a833_348e446d71f4"},{"target_any_local_reference":{"kind":"app_substrate","name":"AZUREMySQL","uuid":"2849954f-21f7-407c-a833-348e446d71f4"},"retries":"0","description":"","type":"VMOPERATION_AZURE_VM","uuid":"5c7cf9a4-a144-41d7-a697-c4b5d4d37635","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Azure_Operation_Restart2849954f_21f7_407c_a833_348e446d71f4"},{"target_any_local_reference":{"kind":"app_substrate","name":"AZUREMySQL","uuid":"2849954f-21f7-407c-a833-348e446d71f4"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"345bd81f-5dfc-4426-a1d0-1b1bf7468328","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"300","address":"@@{platform.publicIPAddressList[0]}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_AZUREMySQL_2849954f_21f7_407c_a833_348e446d71f4"}],"description":"","message_list":[],"uuid":"704743b7-c0ff-4643-8808-3f3031131f35","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_2849954f_21f7_407c_a833_348e446d71f4","uuid":"97aba837-df32-4eb6-bea5-2d8e54d33e93"},"name":"SYS_GEN__Runbook_Substrate_2849954f_21f7_407c_a833_348e446d71f4"}},{"description":"System action for suspending an application","message_list":[],"uuid":"8ff01da2-4afe-4d6a-a819-5179e4b03804","name":"action_suspend","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AZUREMySQL","uuid":"2849954f-21f7-407c-a833-348e446d71f4"},"retries":"0","description":"","type":"DAG","uuid":"9a6c8bf8-576d-48b8-a28d-a87d8786721b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_2849954f_21f7_407c_a833_348e446d71f4"}],"description":"","message_list":[],"uuid":"1945f22a-5ff8-4e7f-b783-0739a7168ce1","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_2849954f_21f7_407c_a833_348e446d71f4","uuid":"9a6c8bf8-576d-48b8-a28d-a87d8786721b"},"name":"SYS_GEN__Runbook_Substrate_2849954f_21f7_407c_a833_348e446d71f4"}},{"description":"System action for modifying an application","message_list":[],"uuid":"999e4712-508c-42e3-afa0-de28505d4dcf","name":"action_modify","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AZUREMySQL","uuid":"2849954f-21f7-407c-a833-348e446d71f4"},"retries":"0","description":"","type":"DAG","uuid":"6c9a3f4b-c9a8-464e-903e-df6a18e70e19","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_2849954f_21f7_407c_a833_348e446d71f4"}],"description":"","message_list":[],"uuid":"77a3484a-d3ca-4d20-a6dc-9f800c34be32","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_2849954f_21f7_407c_a833_348e446d71f4","uuid":"6c9a3f4b-c9a8-464e-903e-df6a18e70e19"},"name":"SYS_GEN__Runbook_Substrate_2849954f_21f7_407c_a833_348e446d71f4"}},{"description":"System action for powering off an application","message_list":[],"uuid":"8a7a77f5-0c49-49f9-a3b4-90dc4a31f1e3","name":"action_poweroff","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AZUREMySQL","uuid":"2849954f-21f7-407c-a833-348e446d71f4"},"retries":"0","description":"","type":"DAG","uuid":"a64893c5-8ea2-4e28-957f-d751506b6141","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Azure_Operation_Poweroff_2849954f_21f7_407c_a833_348e446d71f4","uuid":"babc736d-e515-4805-a533-0ce8ed0412be"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_2849954f_21f7_407c_a833_348e446d71f4"},{"target_any_local_reference":{"kind":"app_substrate","name":"AZUREMySQL","uuid":"2849954f-21f7-407c-a833-348e446d71f4"},"retries":"0","description":"","type":"VMOPERATION_AZURE_VM","uuid":"babc736d-e515-4805-a533-0ce8ed0412be","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Azure_Operation_Poweroff_2849954f_21f7_407c_a833_348e446d71f4"}],"description":"","message_list":[],"uuid":"7d425e3a-b7f8-48b4-b20d-286e3e7ca65e","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_2849954f_21f7_407c_a833_348e446d71f4","uuid":"a64893c5-8ea2-4e28-957f-d751506b6141"},"name":"SYS_GEN__Runbook_Substrate_2849954f_21f7_407c_a833_348e446d71f4"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"c5652829-1f54-4aef-8330-159b145855db","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AZUREMySQL","uuid":"2849954f-21f7-407c-a833-348e446d71f4"},"retries":"0","description":"","type":"DAG","uuid":"1cdf5b27-9762-46c0-945c-e158c417c0d9","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Azure_Delete_2849954f_21f7_407c_a833_348e446d71f4","uuid":"ab2b41e7-bbe0-4437-b167-ce06a92e4670"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_2849954f_21f7_407c_a833_348e446d71f4"},{"target_any_local_reference":{"kind":"app_substrate","name":"AZUREMySQL","uuid":"2849954f-21f7-407c-a833-348e446d71f4"},"retries":"0","description":"","type":"DELETE_AZURE_VM","uuid":"ab2b41e7-bbe0-4437-b167-ce06a92e4670","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Azure_Delete_2849954f_21f7_407c_a833_348e446d71f4"}],"description":"","message_list":[],"uuid":"5d649b5b-03ad-4f18-b618-69f691190f4c","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_2849954f_21f7_407c_a833_348e446d71f4","uuid":"1cdf5b27-9762-46c0-945c-e158c417c0d9"},"name":"SYS_GEN__Runbook_Substrate_2849954f_21f7_407c_a833_348e446d71f4"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"9a992e7d-b449-4d74-9374-d0583f8a7d90","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AZUREMySQL","uuid":"2849954f-21f7-407c-a833-348e446d71f4"},"retries":"0","description":"","type":"DAG","uuid":"4fccebb6-bd59-4da2-9b16-683a9a8971f2","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Substrate_Element_Delete_2849954f_21f7_407c_a833_348e446d71f4","uuid":"ea0e5115-28e9-4596-aa79-742386d70ba4"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_2849954f_21f7_407c_a833_348e446d71f4"},{"target_any_local_reference":{"kind":"app_substrate","name":"AZUREMySQL","uuid":"2849954f-21f7-407c-a833-348e446d71f4"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"ea0e5115-28e9-4596-aa79-742386d70ba4","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Substrate_Element_Delete_2849954f_21f7_407c_a833_348e446d71f4"}],"description":"","message_list":[],"uuid":"01d2d5fb-9650-4015-bad1-28a998b204f4","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_2849954f_21f7_407c_a833_348e446d71f4","uuid":"4fccebb6-bd59-4da2-9b16-683a9a8971f2"},"name":"SYS_GEN__Runbook_Substrate_2849954f_21f7_407c_a833_348e446d71f4"}}],"message_list":[{"message":"resource_group is a required field","reason":"EMPTY_VALUE","details":[{"attribute_name":"resource_group"}]},{"message":"account_uuid is a required field","reason":"EMPTY_VALUE","details":[{"attribute_name":"account_uuid"}]},{"message":"location is a required field","reason":"EMPTY_VALUE","details":[{"attribute_name":"location"}]},{"message":"Hardware Profile is a required field","reason":"EMPTY_VALUE","details":[{"attribute_name":"vm_size"}]},{"message":"Incomplete VM Image details. Please select a Public Image for VM provisioning","reason":"EMPTY_VALUE","details":[{"attribute_name":"image_details"}]},{"message":"nsg_name is a required field","reason":"EMPTY_VALUE","details":[{"attribute_name":"nsg_name"}]},{"message":"vnet_name is a required field","reason":"EMPTY_VALUE","details":[{"attribute_name":"vnet_name"}]},{"message":"subnet_name is a required field","reason":"EMPTY_VALUE","details":[{"attribute_name":"subnet_name"}]}],"uuid":"2849954f-21f7-407c-a833-348e446d71f4","state":"DRAFT","readiness_probe":{"connection_type":"SSH","retries":"5","disable_readiness_probe":false,"address":"@@{platform.publicIPAddressList[0]}@@","delay_secs":"60","connection_port":22,"login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"d2eec46b-8fe8-4b34-9979-e0807d4717c1"}},"editables":{"readiness_probe":{"connection_type":true,"delay_secs":true,"connection_port":true,"timeout_secs":null},"create_spec":{"resources":{"vm_name":true,"storage_profile":{"is_managed":true,"image_details":{"sku":true,"publisher":true,"offer":true,"source_image_id":true,"use_custom_image":true,"version":true},"os_disk_details":{"storage_type":true,"create_option":true,"caching_type":true,"name":true}},"nw_profile":{"nic_list":{"0":{"nsg_name":true,"vnet_name":true,"private_ip_info":{"ip_allocation_method":true},"nic_name":true,"subnet_name":true,"public_ip_info":{"ip_name":true,"dns_label":true,"ip_allocation_method":true}}}},"resource_group":true,"os_profile":{"linux_config":{"custom_data":true}},"hw_profile":{"vm_size":true},"location":true,"availability_set_id":true,"tag_list":true}}},"os_type":"Linux","type":"AZURE_VM","create_spec":{"type":"PROVISION_AZURE_VM","name":"","resources":{"vm_name":"mysql-@@{calm_unique_hash}@@-@@{calm_array_index}@@","storage_profile":{"is_managed":true,"image_details":{"sku":"","publisher":"","offer":"","source_image_id":"","use_custom_image":false,"version":"","type":""},"type":"","os_disk_details":{"size_in_gb":127,"name":"os-@@{calm_unique_hash}@@-@@{calm_array_index}@@-disk","storage_name":"","storage_type":"Standard_LRS","lun":-1,"type":"","create_option":"FromImage","caching_type":"ReadWrite"},"data_disk_list":[]},"nw_profile":{"nic_list":[{"nsg_name":"","vnet_name":"","private_ip_info":{"ip_address":"","ip_allocation_method":"Dynamic","type":""},"nic_name":"nic-@@{calm_unique_hash}@@-@@{calm_array_index}@@-0","subnet_name":"","type":"","public_ip_info":{"ip_name":"public-ip-@@{calm_unique_hash}@@-@@{calm_array_index}@@-0","dns_label":"dns-@@{calm_unique_hash}@@-@@{calm_array_index}@@-0","ip_allocation_method":"Dynamic","type":""}}],"primary_nic":-1,"type":""},"resource_group":"","os_profile":{"secrets":[],"type":"","windows_config":{"winrm_listeners":[],"time_zone":"","additional_unattend_content":[],"provision_vm_agent":true,"auto_updates":false,"type":""},"linux_config":{"disable_password_auth":false,"custom_data":"","type":"","public_keys":[]}},"hw_profile":{"max_data_disk_count":0,"vm_size":"","type":""},"location":"","availability_set_id":"","tag_list":[],"type":"","account_uuid":""}},"variable_list":[],"name":"AZUREMySQL"}],"credential_definition_list":[{"username":"centos","description":"","state":"DRAFT","message_list":[{"message":"Secret value for credential is empty","reason":"EMPTY_VALUE","details":[{"attribute_name":"secret"}]}],"uuid":"d2eec46b-8fe8-4b34-9979-e0807d4717c1","secret":{"attrs":{"is_secret_modified":false,"secret_reference":{}}},"editables":{"username":true,"secret":true},"type":"KEY","name":"CENTOS"}],"type":"USER","app_profile_list":[{"deployment_create_list":[{"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"cd26d0a2-ecb2-4f64-8c11-442dafd5179c","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"3dde34f6_deployment","uuid":"14f9523d-6a63-4e49-8169-b325a27b9c4b"},"retries":"0","description":"","type":"DAG","uuid":"802a97b2-bc62-4946-9570-87445cb1255d","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__DE_Provision_14f9523d_6a63_4e49_8169_b325a27b9c4b","uuid":"1b869e02-29d8-4163-95d9-579354327427"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_06d5e9f9_391c_498e_9de1_92702f93694d","uuid":"05710c60-9e51-4601-92bb-75883ea78e62"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_9345b001_1f0f_4c88_9565_74711df70607","uuid":"3b31cfb4-bf9f-4077-a7bf-b471e0c9617e"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_f79f4aeb_2b78_48d4_9d73_9e4acc214df1","uuid":"8a30cf2a-ccea-4547-8951-9e724921e8e5"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"20a98969-e279-4c4f-b045-d0667d036e16"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"9b73aff7-5f75-4532-9b09-11bb87573d67"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"20a98969-e279-4c4f-b045-d0667d036e16"},"edge_type":"inherent","type":"","uuid":"47874526-b9a2-4deb-b8fe-5b4e451d2d78","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"9b73aff7-5f75-4532-9b09-11bb87573d67"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_f79f4aeb_2b78_48d4_9d73_9e4acc214df1","uuid":"8a30cf2a-ccea-4547-8951-9e724921e8e5"},"edge_type":"inherent","type":"","uuid":"d380dfeb-6bef-4d65-a94b-51965523f82e","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"20a98969-e279-4c4f-b045-d0667d036e16"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_06d5e9f9_391c_498e_9de1_92702f93694d","uuid":"05710c60-9e51-4601-92bb-75883ea78e62"},"edge_type":"inherent","type":"","uuid":"2d5d63c5-268e-48b0-b86a-35072c52fcb8","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_9345b001_1f0f_4c88_9565_74711df70607","uuid":"3b31cfb4-bf9f-4077-a7bf-b471e0c9617e"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_14f9523d_6a63_4e49_8169_b325a27b9c4b","uuid":"1b869e02-29d8-4163-95d9-579354327427"},"edge_type":"inherent","type":"","uuid":"1ef77cc8-57f3-474e-bee4-cd48bc36cdbe","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_9345b001_1f0f_4c88_9565_74711df70607","uuid":"3b31cfb4-bf9f-4077-a7bf-b471e0c9617e"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_9345b001_1f0f_4c88_9565_74711df70607","uuid":"3b31cfb4-bf9f-4077-a7bf-b471e0c9617e"},"edge_type":"inherent","type":"","uuid":"d4cd1d0c-0d91-46a9-8bdb-ababe35377c8","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_f79f4aeb_2b78_48d4_9d73_9e4acc214df1","uuid":"8a30cf2a-ccea-4547-8951-9e724921e8e5"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_14f9523d_6a63_4e49_8169_b325a27b9c4b","uuid":"1b869e02-29d8-4163-95d9-579354327427"},"edge_type":"inherent","type":"","uuid":"61d96993-8e22-4c5f-9aac-09a3fb229bee","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_06d5e9f9_391c_498e_9de1_92702f93694d","uuid":"05710c60-9e51-4601-92bb-75883ea78e62"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_14f9523d_6a63_4e49_8169_b325a27b9c4b"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"3dde34f6_deployment","uuid":"14f9523d-6a63-4e49-8169-b325a27b9c4b"},"retries":"0","description":"","type":"CREATE_DEPLOYMENT_ELEMENT","uuid":"1b869e02-29d8-4163-95d9-579354327427","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Provision_14f9523d_6a63_4e49_8169_b325a27b9c4b"},{"target_any_local_reference":{"kind":"app_package","name":"CENTOS_IMAGE","uuid":"06d5e9f9-391c-498e-9de1-92702f93694d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"05710c60-9e51-4601-92bb-75883ea78e62","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"3dde34f6_deployment","uuid":"14f9523d-6a63-4e49-8169-b325a27b9c4b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_06d5e9f9_391c_498e_9de1_92702f93694d","uuid":"952b681f-6454-41c4-a65e-077b33c0dc32"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_06d5e9f9_391c_498e_9de1_92702f93694d"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVMySQL","uuid":"9345b001-1f0f-4c88-9565-74711df70607"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"3b31cfb4-bf9f-4077-a7bf-b471e0c9617e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"3dde34f6_deployment","uuid":"14f9523d-6a63-4e49-8169-b325a27b9c4b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_9345b001_1f0f_4c88_9565_74711df70607","uuid":"16430084-ab17-4db0-97c4-7552558edb84"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Substrate_9345b001_1f0f_4c88_9565_74711df70607"},{"target_any_local_reference":{"kind":"app_package","name":"AHVMySQLPackage","uuid":"f79f4aeb-2b78-48d4-9d73-9e4acc214df1"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"8a30cf2a-ccea-4547-8951-9e724921e8e5","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"3dde34f6_deployment","uuid":"14f9523d-6a63-4e49-8169-b325a27b9c4b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_f79f4aeb_2b78_48d4_9d73_9e4acc214df1","uuid":"001e0e4d-375f-4b70-aa32-386499b9950d"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_f79f4aeb_2b78_48d4_9d73_9e4acc214df1"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"20a98969-e279-4c4f-b045-d0667d036e16","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"3dde34f6_deployment","uuid":"14f9523d-6a63-4e49-8169-b325a27b9c4b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"f603ab76_runbook","uuid":"1f2c9854-fd61-4d80-a059-2670f4aa3ba3"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"9b73aff7-5f75-4532-9b09-11bb87573d67","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"3dde34f6_deployment","uuid":"14f9523d-6a63-4e49-8169-b325a27b9c4b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"7748f46a_runbook","uuid":"a0ae1241-f6d5-470e-b065-dfde29b2bbf2"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c"}],"description":"","message_list":[],"uuid":"e068d1a1-1441-48dc-83c4-4fc4a037f352","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_14f9523d_6a63_4e49_8169_b325a27b9c4b","uuid":"802a97b2-bc62-4946-9570-87445cb1255d"},"name":"SYS_GEN__Runbook_Deployment_14f9523d_6a63_4e49_8169_b325a27b9c4b"}},{"description":"System action for starting an application","message_list":[],"uuid":"775867a0-2ead-4f01-ba7c-9bdf56efa08d","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"3dde34f6_deployment","uuid":"14f9523d-6a63-4e49-8169-b325a27b9c4b"},"retries":"0","description":"","type":"DAG","uuid":"1208dd28-8762-4ef2-af3e-226971236206","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_9345b001_1f0f_4c88_9565_74711df70607","uuid":"eb7b5cf4-d158-4ea1-b8e9-8e9f4ec0dadc"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"b17deaf9-2f55-4de0-80b2-e2eff21598ae"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_9345b001_1f0f_4c88_9565_74711df70607","uuid":"eb7b5cf4-d158-4ea1-b8e9-8e9f4ec0dadc"},"edge_type":"inherent","type":"","uuid":"61252655-f183-4a8e-9397-4da7cd13f476","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"b17deaf9-2f55-4de0-80b2-e2eff21598ae"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_14f9523d_6a63_4e49_8169_b325a27b9c4b"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVMySQL","uuid":"9345b001-1f0f-4c88-9565-74711df70607"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"eb7b5cf4-d158-4ea1-b8e9-8e9f4ec0dadc","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"3dde34f6_deployment","uuid":"14f9523d-6a63-4e49-8169-b325a27b9c4b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_9345b001_1f0f_4c88_9565_74711df70607","uuid":"f5a2786c-94c6-47e3-b510-d93be19375cf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Substrate_9345b001_1f0f_4c88_9565_74711df70607"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"b17deaf9-2f55-4de0-80b2-e2eff21598ae","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"3dde34f6_deployment","uuid":"14f9523d-6a63-4e49-8169-b325a27b9c4b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"7748f46a_runbook","uuid":"a0ae1241-f6d5-470e-b065-dfde29b2bbf2"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c"}],"description":"","message_list":[],"uuid":"5978749d-7439-4ce8-9fd6-bfb195cef333","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_14f9523d_6a63_4e49_8169_b325a27b9c4b","uuid":"1208dd28-8762-4ef2-af3e-226971236206"},"name":"SYS_GEN__Runbook_Deployment_14f9523d_6a63_4e49_8169_b325a27b9c4b"}},{"description":"System action for restarting an application","message_list":[],"uuid":"ede499aa-a8da-4c0a-b807-a4c44af0109e","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"3dde34f6_deployment","uuid":"14f9523d-6a63-4e49-8169-b325a27b9c4b"},"retries":"0","description":"","type":"DAG","uuid":"9ab61d68-a8d6-4078-80b7-9efda47338de","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_9345b001_1f0f_4c88_9565_74711df70607","uuid":"6eb1e6df-cf93-452f-bc3f-9d6e7587c1ab"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"c9b0cc0e-e335-45f3-a051-22ec3e62b3e0"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_9345b001_1f0f_4c88_9565_74711df70607","uuid":"6eb1e6df-cf93-452f-bc3f-9d6e7587c1ab"},"edge_type":"inherent","type":"","uuid":"b6ed09a9-3ddb-4b76-85b2-52bc87c0ea07","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"c9b0cc0e-e335-45f3-a051-22ec3e62b3e0"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_14f9523d_6a63_4e49_8169_b325a27b9c4b"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVMySQL","uuid":"9345b001-1f0f-4c88-9565-74711df70607"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"6eb1e6df-cf93-452f-bc3f-9d6e7587c1ab","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"3dde34f6_deployment","uuid":"14f9523d-6a63-4e49-8169-b325a27b9c4b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_9345b001_1f0f_4c88_9565_74711df70607","uuid":"bb964e1a-e3ca-4633-80dd-6d26974414a0"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Substrate_9345b001_1f0f_4c88_9565_74711df70607"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"c9b0cc0e-e335-45f3-a051-22ec3e62b3e0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"3dde34f6_deployment","uuid":"14f9523d-6a63-4e49-8169-b325a27b9c4b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"e9d7de80_runbook","uuid":"1da5d6b4-d3df-4a19-942c-e6e85b650e34"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c"}],"description":"","message_list":[],"uuid":"10da4bf1-4846-4317-a476-580ee91feb6a","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_14f9523d_6a63_4e49_8169_b325a27b9c4b","uuid":"9ab61d68-a8d6-4078-80b7-9efda47338de"},"name":"SYS_GEN__Runbook_Deployment_14f9523d_6a63_4e49_8169_b325a27b9c4b"}},{"description":"System action for stopping an application","message_list":[],"uuid":"21fa4285-4c24-4094-bacc-dd3ccc8811fe","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"3dde34f6_deployment","uuid":"14f9523d-6a63-4e49-8169-b325a27b9c4b"},"retries":"0","description":"","type":"DAG","uuid":"36b368b0-159f-42c8-a1a0-3fd05fbdda85","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"657aa114-927d-42fe-ae96-465d6dad2d85"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_9345b001_1f0f_4c88_9565_74711df70607","uuid":"4f0ce394-3590-4a15-a445-03dae9ef5a44"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"657aa114-927d-42fe-ae96-465d6dad2d85"},"edge_type":"inherent","type":"","uuid":"ce3212ab-da8b-4a43-9b44-ff80e6b4b3a1","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_9345b001_1f0f_4c88_9565_74711df70607","uuid":"4f0ce394-3590-4a15-a445-03dae9ef5a44"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_14f9523d_6a63_4e49_8169_b325a27b9c4b"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"657aa114-927d-42fe-ae96-465d6dad2d85","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"3dde34f6_deployment","uuid":"14f9523d-6a63-4e49-8169-b325a27b9c4b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"534c563f_runbook","uuid":"fa558656-179d-42a9-8b13-80552295db71"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVMySQL","uuid":"9345b001-1f0f-4c88-9565-74711df70607"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"4f0ce394-3590-4a15-a445-03dae9ef5a44","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"3dde34f6_deployment","uuid":"14f9523d-6a63-4e49-8169-b325a27b9c4b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_9345b001_1f0f_4c88_9565_74711df70607","uuid":"866b0d7f-d9aa-4d16-b5d0-276765c505b5"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Substrate_9345b001_1f0f_4c88_9565_74711df70607"}],"description":"","message_list":[],"uuid":"92bf23f7-f092-436d-91b5-607e69e4911e","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_14f9523d_6a63_4e49_8169_b325a27b9c4b","uuid":"36b368b0-159f-42c8-a1a0-3fd05fbdda85"},"name":"SYS_GEN__Runbook_Deployment_14f9523d_6a63_4e49_8169_b325a27b9c4b"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"d2b516fe-f890-4adf-bf55-fbaf36b116aa","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"3dde34f6_deployment","uuid":"14f9523d-6a63-4e49-8169-b325a27b9c4b"},"retries":"0","description":"","type":"DAG","uuid":"50aeca3b-48be-4ea1-8db8-c14e8bee5ce6","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"c57a01ba-1b36-4cd3-a71c-58a7162d5040"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"32f79706-a897-419d-97e9-764a7a6a6240"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_f79f4aeb_2b78_48d4_9d73_9e4acc214df1","uuid":"ca40b189-95ff-43dc-81ed-455e95868e4a"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_9345b001_1f0f_4c88_9565_74711df70607","uuid":"1dd337cf-7f53-4935-9d58-52cb8dff9994"},{"kind":"app_task","name":"SYS_GEN__DE_Delete_14f9523d_6a63_4e49_8169_b325a27b9c4b","uuid":"2503292e-9747-4cfe-964f-7a18a6762ebe"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"c57a01ba-1b36-4cd3-a71c-58a7162d5040"},"edge_type":"inherent","type":"","uuid":"1831c5e7-f9e6-47b1-a9d5-a8b89ed69e68","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"32f79706-a897-419d-97e9-764a7a6a6240"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"32f79706-a897-419d-97e9-764a7a6a6240"},"edge_type":"inherent","type":"","uuid":"d7b4e5f5-8c08-49d0-8565-7e23cbf1d8e4","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_f79f4aeb_2b78_48d4_9d73_9e4acc214df1","uuid":"ca40b189-95ff-43dc-81ed-455e95868e4a"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_f79f4aeb_2b78_48d4_9d73_9e4acc214df1","uuid":"ca40b189-95ff-43dc-81ed-455e95868e4a"},"edge_type":"inherent","type":"","uuid":"0228ba9a-2cf6-4cf8-b57f-f3e8b80deb1d","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_9345b001_1f0f_4c88_9565_74711df70607","uuid":"1dd337cf-7f53-4935-9d58-52cb8dff9994"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_9345b001_1f0f_4c88_9565_74711df70607","uuid":"1dd337cf-7f53-4935-9d58-52cb8dff9994"},"edge_type":"inherent","type":"","uuid":"834cc762-5103-4bc0-832f-cbe27db92ca3","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Delete_14f9523d_6a63_4e49_8169_b325a27b9c4b","uuid":"2503292e-9747-4cfe-964f-7a18a6762ebe"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_14f9523d_6a63_4e49_8169_b325a27b9c4b"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"c57a01ba-1b36-4cd3-a71c-58a7162d5040","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"3dde34f6_deployment","uuid":"14f9523d-6a63-4e49-8169-b325a27b9c4b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"534c563f_runbook","uuid":"fa558656-179d-42a9-8b13-80552295db71"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"32f79706-a897-419d-97e9-764a7a6a6240","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"3dde34f6_deployment","uuid":"14f9523d-6a63-4e49-8169-b325a27b9c4b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"d738eefe_runbook","uuid":"15541983-ff20-4829-b0c7-aff046fa0beb"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c"},{"target_any_local_reference":{"kind":"app_package","name":"AHVMySQLPackage","uuid":"f79f4aeb-2b78-48d4-9d73-9e4acc214df1"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"ca40b189-95ff-43dc-81ed-455e95868e4a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"3dde34f6_deployment","uuid":"14f9523d-6a63-4e49-8169-b325a27b9c4b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_f79f4aeb_2b78_48d4_9d73_9e4acc214df1","uuid":"6733c5ed-382e-404b-b416-00c289ccbf0e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_f79f4aeb_2b78_48d4_9d73_9e4acc214df1"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVMySQL","uuid":"9345b001-1f0f-4c88-9565-74711df70607"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"1dd337cf-7f53-4935-9d58-52cb8dff9994","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"3dde34f6_deployment","uuid":"14f9523d-6a63-4e49-8169-b325a27b9c4b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_9345b001_1f0f_4c88_9565_74711df70607","uuid":"c2da529c-ac33-4f94-8ed1-20052200c039"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Substrate_9345b001_1f0f_4c88_9565_74711df70607"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"3dde34f6_deployment","uuid":"14f9523d-6a63-4e49-8169-b325a27b9c4b"},"retries":"0","description":"","type":"DELETE_DEPLOYMENT_ELEMENT","uuid":"2503292e-9747-4cfe-964f-7a18a6762ebe","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Delete_14f9523d_6a63_4e49_8169_b325a27b9c4b"}],"description":"","message_list":[],"uuid":"45880c2b-00f8-4f7d-856b-947e77fa74ac","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_14f9523d_6a63_4e49_8169_b325a27b9c4b","uuid":"50aeca3b-48be-4ea1-8db8-c14e8bee5ce6"},"name":"SYS_GEN__Runbook_Deployment_14f9523d_6a63_4e49_8169_b325a27b9c4b"}},{"description":"System action for scaleout","message_list":[],"uuid":"4402521a-bdfe-4133-b8de-071c09abf111","name":"action_scaleout","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"3dde34f6_deployment","uuid":"14f9523d-6a63-4e49-8169-b325a27b9c4b"},"retries":"0","description":"","type":"DAG","uuid":"61620ea2-ee3c-4893-beb0-d5c4d479ee53","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Deployment_Scaleout_14f9523d_6a63_4e49_8169_b325a27b9c4b","uuid":"f7997a9d-8c82-400f-ba97-18b4152b29f3"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_14f9523d_6a63_4e49_8169_b325a27b9c4b"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"3dde34f6_deployment","uuid":"14f9523d-6a63-4e49-8169-b325a27b9c4b"},"retries":"0","description":"","type":"SCALING","uuid":"f7997a9d-8c82-400f-ba97-18b4152b29f3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{scaling_count}@@","type":"","scaling_type":"SCALEOUT"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Deployment_Scaleout_14f9523d_6a63_4e49_8169_b325a27b9c4b"}],"description":"","message_list":[],"uuid":"d70b5c78-e9d5-469d-9989-abdc912a0420","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"0c415c24-ae81-4fb3-93c1-23383b46d40d","value":"0","label":"","state":"NOT_VALIDATED","attrs":{},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"scaling_count"}],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_14f9523d_6a63_4e49_8169_b325a27b9c4b","uuid":"61620ea2-ee3c-4893-beb0-d5c4d479ee53"},"name":"SYS_GEN__Runbook_Deployment_14f9523d_6a63_4e49_8169_b325a27b9c4b"}},{"description":"System action for scalein","message_list":[],"uuid":"3aa7c3ca-ed2b-42fb-a240-941b3c6351a6","name":"action_scalein","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"3dde34f6_deployment","uuid":"14f9523d-6a63-4e49-8169-b325a27b9c4b"},"retries":"0","description":"","type":"DAG","uuid":"7c73596c-215c-468b-b3cf-69caafc065cf","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Deployment_Scalein_14f9523d_6a63_4e49_8169_b325a27b9c4b","uuid":"d3e4aa64-8274-48d7-aa54-1a199e9dabdd"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_14f9523d_6a63_4e49_8169_b325a27b9c4b"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"3dde34f6_deployment","uuid":"14f9523d-6a63-4e49-8169-b325a27b9c4b"},"retries":"0","description":"","type":"SCALING","uuid":"d3e4aa64-8274-48d7-aa54-1a199e9dabdd","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{scaling_count}@@","type":"","scaling_type":"SCALEIN"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Deployment_Scalein_14f9523d_6a63_4e49_8169_b325a27b9c4b"}],"description":"","message_list":[],"uuid":"62bb2e72-3335-482a-87f2-b66702e1a937","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"c53a785b-81ee-4377-bc81-6db419b136c9","value":"0","label":"","state":"NOT_VALIDATED","attrs":{},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"scaling_count"}],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_14f9523d_6a63_4e49_8169_b325a27b9c4b","uuid":"7c73596c-215c-468b-b3cf-69caafc065cf"},"name":"SYS_GEN__Runbook_Deployment_14f9523d_6a63_4e49_8169_b325a27b9c4b"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"6660ebf2-09e6-4cfd-bd32-888feaa2ad07","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"3dde34f6_deployment","uuid":"14f9523d-6a63-4e49-8169-b325a27b9c4b"},"retries":"0","description":"","type":"DAG","uuid":"d0255502-7d2d-4ff5-8000-018c4b2c77c7","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"45a0134d-36d1-4097-892f-c44e2ead0d4d"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_f79f4aeb_2b78_48d4_9d73_9e4acc214df1","uuid":"bb6dfeb0-afe4-4447-adc0-baaf3c861d37"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_9345b001_1f0f_4c88_9565_74711df70607","uuid":"33ef45ef-3563-492d-9b1f-e537db07d4c5"},{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_14f9523d_6a63_4e49_8169_b325a27b9c4b","uuid":"b4ba6293-40a8-4cc4-9e87-4d1dde5bb0ac"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"45a0134d-36d1-4097-892f-c44e2ead0d4d"},"edge_type":"inherent","type":"","uuid":"e1043a7d-4c2a-4e33-b6f2-59dbc7c69595","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_f79f4aeb_2b78_48d4_9d73_9e4acc214df1","uuid":"bb6dfeb0-afe4-4447-adc0-baaf3c861d37"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_9345b001_1f0f_4c88_9565_74711df70607","uuid":"33ef45ef-3563-492d-9b1f-e537db07d4c5"},"edge_type":"inherent","type":"","uuid":"fadae096-d9a0-4d33-9809-1fac980f3a8f","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_14f9523d_6a63_4e49_8169_b325a27b9c4b","uuid":"b4ba6293-40a8-4cc4-9e87-4d1dde5bb0ac"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_f79f4aeb_2b78_48d4_9d73_9e4acc214df1","uuid":"bb6dfeb0-afe4-4447-adc0-baaf3c861d37"},"edge_type":"inherent","type":"","uuid":"ad7a029e-2239-4d50-885b-103e96439859","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_9345b001_1f0f_4c88_9565_74711df70607","uuid":"33ef45ef-3563-492d-9b1f-e537db07d4c5"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_14f9523d_6a63_4e49_8169_b325a27b9c4b"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"45a0134d-36d1-4097-892f-c44e2ead0d4d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"3dde34f6_deployment","uuid":"14f9523d-6a63-4e49-8169-b325a27b9c4b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"957cfc08-a445-474a-b6fd-5a80c651f044"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c"},{"target_any_local_reference":{"kind":"app_package","name":"AHVMySQLPackage","uuid":"f79f4aeb-2b78-48d4-9d73-9e4acc214df1"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"bb6dfeb0-afe4-4447-adc0-baaf3c861d37","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_f79f4aeb_2b78_48d4_9d73_9e4acc214df1"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVMySQL","uuid":"9345b001-1f0f-4c88-9565-74711df70607"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"33ef45ef-3563-492d-9b1f-e537db07d4c5","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"3dde34f6_deployment","uuid":"14f9523d-6a63-4e49-8169-b325a27b9c4b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_9345b001_1f0f_4c88_9565_74711df70607","uuid":"cf6fd498-249f-4074-9a96-664716f7549a"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Substrate_9345b001_1f0f_4c88_9565_74711df70607"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"3dde34f6_deployment","uuid":"14f9523d-6a63-4e49-8169-b325a27b9c4b"},"retries":"0","description":"","type":"SOFT_DELETE_DEPLOYMENT_ELEMENT","uuid":"b4ba6293-40a8-4cc4-9e87-4d1dde5bb0ac","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Soft_Delete_14f9523d_6a63_4e49_8169_b325a27b9c4b"}],"description":"","message_list":[],"uuid":"197b0806-f472-45f7-947f-dbfa9d7206c1","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_14f9523d_6a63_4e49_8169_b325a27b9c4b","uuid":"d0255502-7d2d-4ff5-8000-018c4b2c77c7"},"name":"SYS_GEN__Runbook_Deployment_14f9523d_6a63_4e49_8169_b325a27b9c4b"}}],"message_list":[],"published_service_local_reference_list":[],"uuid":"14f9523d-6a63-4e49-8169-b325a27b9c4b","min_replicas":"1","state":"ACTIVE","max_replicas":"1","depends_on_list":[],"editables":{},"package_local_reference_list":[{"kind":"app_package","name":"AHVMySQLPackage","uuid":"f79f4aeb-2b78-48d4-9d73-9e4acc214df1"}],"substrate_local_reference":{"kind":"app_substrate","name":"AHVMySQL","uuid":"9345b001-1f0f-4c88-9565-74711df70607"},"type":"GREENFIELD","options":{},"variable_list":[],"name":"3dde34f6_deployment"}],"description":"","action_list":[{"description":"Take DB Backup. Specify absolute directory path for BACKUP_FILE_PATH","message_list":[],"uuid":"bb9a08fe-833c-4a38-8905-e4131332e196","name":"Backup","state":"ACTIVE","critical":false,"attrs":{},"type":"user","runbook":{"task_definition_list":[{"retries":"0","description":"","type":"DAG","uuid":"c6e17aa1-8c75-4a16-a4ab-1e8cc4cf7ef5","child_tasks_local_reference_list":[{"kind":"app_task","name":"Do DB Backup","uuid":"efefaa6c-eac3-4d0a-b5e4-da21b8f3ee7a"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"cad80330_dag"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"EXEC","uuid":"efefaa6c-eac3-4d0a-b5e4-da21b8f3ee7a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n### Setup variables\nmysql_password=\"@@{MYSQL_PASSWORD}@@\"\ndate_part=`date +%F`\nmkdir -p @@{BACKUP_FILE_PATH}@@\nsudo mysqldump -u root -p${mysql_password} --all-databases | sudo gzip -9 > @@{BACKUP_FILE_PATH}@@\/db_dump.sql.gz","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"d2eec46b-8fe8-4b34-9979-e0807d4717c1"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Do DB Backup"}],"description":"","message_list":[],"uuid":"b1cd8e70-944f-42fd-a436-1d3d759bc42e","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"e816da56-322f-4dce-b4c3-b51eb3310360","value":"~\/db_backup","label":"","state":"NOT_VALIDATED","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"BACKUP_FILE_PATH"}],"main_task_local_reference":{"kind":"app_task","name":"cad80330_dag","uuid":"c6e17aa1-8c75-4a16-a4ab-1e8cc4cf7ef5"},"name":"5f2baec7_runbook"}},{"description":"To restore DB from dump file. Specify absolute directory path for RESTORE_FILE_PATH","message_list":[],"uuid":"b02f3838-ecaf-4751-87fd-c3e25f383f69","name":"Restore","state":"ACTIVE","critical":false,"attrs":{},"type":"user","runbook":{"task_definition_list":[{"retries":"0","description":"","type":"DAG","uuid":"ab336768-1927-4c63-9f38-29fbb7016554","child_tasks_local_reference_list":[{"kind":"app_task","name":"Do DB Restore","uuid":"a1638a2b-0087-433c-a5ec-4701f6fc4173"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"f0946ced_dag"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"EXEC","uuid":"a1638a2b-0087-433c-a5ec-4701f6fc4173","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n### Setup variables\nmysql_password=\"@@{MYSQL_PASSWORD}@@\"\ndb_file=@@{RESTORE_FILE_PATH}@@\n\nsudo gunzip < $db_file | sudo mysql -u root -p${mysql_password} ","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"d2eec46b-8fe8-4b34-9979-e0807d4717c1"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Do DB Restore"}],"description":"","message_list":[],"uuid":"466fd892-eb79-42da-84ba-d8442649d453","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"e60b668c-ad69-41ee-8b34-303e58ad9071","value":"~\/db_backup\/db_dump.sql.gz","label":"","state":"NOT_VALIDATED","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"RESTORE_FILE_PATH"}],"main_task_local_reference":{"kind":"app_task","name":"f0946ced_dag","uuid":"ab336768-1927-4c63-9f38-29fbb7016554"},"name":"0734309b_runbook"}},{"description":"System action for creating an application","message_list":[],"uuid":"4309831e-68d2-41b1-9d15-ea5ad4cdd7ac","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"Nutanix","uuid":"744d3905-7b29-4a46-8813-181ab6da4b69"},"retries":"0","description":"","type":"DAG","uuid":"b3fe63bd-9ab4-47b4-ac16-a64c43653623","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__DE_Provision_14f9523d_6a63_4e49_8169_b325a27b9c4b","uuid":"d65a5281-cf21-4218-9f07-fa406bf49b68"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_06d5e9f9_391c_498e_9de1_92702f93694d","uuid":"3297c3c2-1f67-4042-83af-74890db6b20d"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_9345b001_1f0f_4c88_9565_74711df70607","uuid":"e2ffc153-fe0d-4cbf-9b07-e2a721aa5cdf"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_f79f4aeb_2b78_48d4_9d73_9e4acc214df1","uuid":"f8ec6beb-f850-44fa-bf40-e02cad1e0d7b"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"ec17695e-d927-4865-80ca-84535cfa58c0"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"6f11d142-1fbc-462f-a801-1eba65953b32"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"ec17695e-d927-4865-80ca-84535cfa58c0"},"edge_type":"inherent","type":"","uuid":"a0ad3b4c-206f-4028-97dc-faee7a1b2927","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"6f11d142-1fbc-462f-a801-1eba65953b32"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_f79f4aeb_2b78_48d4_9d73_9e4acc214df1","uuid":"f8ec6beb-f850-44fa-bf40-e02cad1e0d7b"},"edge_type":"inherent","type":"","uuid":"0359d5fb-e2e2-4f0e-bba7-4abd3bc26a01","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"ec17695e-d927-4865-80ca-84535cfa58c0"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_06d5e9f9_391c_498e_9de1_92702f93694d","uuid":"3297c3c2-1f67-4042-83af-74890db6b20d"},"edge_type":"inherent","type":"","uuid":"a6f66c84-e99e-4f81-89af-8e7a835366c1","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_9345b001_1f0f_4c88_9565_74711df70607","uuid":"e2ffc153-fe0d-4cbf-9b07-e2a721aa5cdf"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_14f9523d_6a63_4e49_8169_b325a27b9c4b","uuid":"d65a5281-cf21-4218-9f07-fa406bf49b68"},"edge_type":"inherent","type":"","uuid":"e02c98ce-9a20-41d6-9077-d95b8df3fa6b","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_9345b001_1f0f_4c88_9565_74711df70607","uuid":"e2ffc153-fe0d-4cbf-9b07-e2a721aa5cdf"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_9345b001_1f0f_4c88_9565_74711df70607","uuid":"e2ffc153-fe0d-4cbf-9b07-e2a721aa5cdf"},"edge_type":"inherent","type":"","uuid":"0a304169-2144-46c1-970b-ad82b3e18333","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_f79f4aeb_2b78_48d4_9d73_9e4acc214df1","uuid":"f8ec6beb-f850-44fa-bf40-e02cad1e0d7b"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_14f9523d_6a63_4e49_8169_b325a27b9c4b","uuid":"d65a5281-cf21-4218-9f07-fa406bf49b68"},"edge_type":"inherent","type":"","uuid":"2016c530-35f2-45c9-aef4-3c523a7e2281","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_06d5e9f9_391c_498e_9de1_92702f93694d","uuid":"3297c3c2-1f67-4042-83af-74890db6b20d"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_744d3905_7b29_4a46_8813_181ab6da4b69"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"3dde34f6_deployment","uuid":"14f9523d-6a63-4e49-8169-b325a27b9c4b"},"retries":"0","description":"","type":"CREATE_DEPLOYMENT_ELEMENT","uuid":"d65a5281-cf21-4218-9f07-fa406bf49b68","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Provision_14f9523d_6a63_4e49_8169_b325a27b9c4b"},{"target_any_local_reference":{"kind":"app_package","name":"CENTOS_IMAGE","uuid":"06d5e9f9-391c-498e-9de1-92702f93694d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"3297c3c2-1f67-4042-83af-74890db6b20d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"3dde34f6_deployment","uuid":"14f9523d-6a63-4e49-8169-b325a27b9c4b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_06d5e9f9_391c_498e_9de1_92702f93694d","uuid":"952b681f-6454-41c4-a65e-077b33c0dc32"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_06d5e9f9_391c_498e_9de1_92702f93694d"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVMySQL","uuid":"9345b001-1f0f-4c88-9565-74711df70607"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"e2ffc153-fe0d-4cbf-9b07-e2a721aa5cdf","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"3dde34f6_deployment","uuid":"14f9523d-6a63-4e49-8169-b325a27b9c4b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_9345b001_1f0f_4c88_9565_74711df70607","uuid":"16430084-ab17-4db0-97c4-7552558edb84"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Substrate_9345b001_1f0f_4c88_9565_74711df70607"},{"target_any_local_reference":{"kind":"app_package","name":"AHVMySQLPackage","uuid":"f79f4aeb-2b78-48d4-9d73-9e4acc214df1"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"f8ec6beb-f850-44fa-bf40-e02cad1e0d7b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"3dde34f6_deployment","uuid":"14f9523d-6a63-4e49-8169-b325a27b9c4b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_f79f4aeb_2b78_48d4_9d73_9e4acc214df1","uuid":"001e0e4d-375f-4b70-aa32-386499b9950d"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_f79f4aeb_2b78_48d4_9d73_9e4acc214df1"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"ec17695e-d927-4865-80ca-84535cfa58c0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"3dde34f6_deployment","uuid":"14f9523d-6a63-4e49-8169-b325a27b9c4b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"f603ab76_runbook","uuid":"1f2c9854-fd61-4d80-a059-2670f4aa3ba3"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"6f11d142-1fbc-462f-a801-1eba65953b32","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"3dde34f6_deployment","uuid":"14f9523d-6a63-4e49-8169-b325a27b9c4b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"7748f46a_runbook","uuid":"a0ae1241-f6d5-470e-b065-dfde29b2bbf2"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c"}],"description":"","message_list":[],"uuid":"32707248-9c0e-41c4-b2db-de2d816d8933","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_744d3905_7b29_4a46_8813_181ab6da4b69","uuid":"b3fe63bd-9ab4-47b4-ac16-a64c43653623"},"name":"SYS_GEN__Runbook_Application_744d3905_7b29_4a46_8813_181ab6da4b69"}},{"description":"System action for starting an application","message_list":[],"uuid":"4b903da3-2942-419b-9ab8-c3f0e663c862","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"Nutanix","uuid":"744d3905-7b29-4a46-8813-181ab6da4b69"},"retries":"0","description":"","type":"DAG","uuid":"59274015-bc91-48ed-b8f9-115567577ee6","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_9345b001_1f0f_4c88_9565_74711df70607","uuid":"6f4b3dc0-7112-4177-9bee-a46b71d3e3ab"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"f8d1a571-ca98-4279-89c5-1c306c09aa02"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_9345b001_1f0f_4c88_9565_74711df70607","uuid":"6f4b3dc0-7112-4177-9bee-a46b71d3e3ab"},"edge_type":"inherent","type":"","uuid":"0d9282ca-868e-4eb6-bcd4-c061bf8e467d","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"f8d1a571-ca98-4279-89c5-1c306c09aa02"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_744d3905_7b29_4a46_8813_181ab6da4b69"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVMySQL","uuid":"9345b001-1f0f-4c88-9565-74711df70607"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"6f4b3dc0-7112-4177-9bee-a46b71d3e3ab","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"3dde34f6_deployment","uuid":"14f9523d-6a63-4e49-8169-b325a27b9c4b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_9345b001_1f0f_4c88_9565_74711df70607","uuid":"f5a2786c-94c6-47e3-b510-d93be19375cf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Substrate_9345b001_1f0f_4c88_9565_74711df70607"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"f8d1a571-ca98-4279-89c5-1c306c09aa02","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"3dde34f6_deployment","uuid":"14f9523d-6a63-4e49-8169-b325a27b9c4b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"7748f46a_runbook","uuid":"a0ae1241-f6d5-470e-b065-dfde29b2bbf2"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c"}],"description":"","message_list":[],"uuid":"f1a02bb0-1cbd-4e75-9903-9438b2d5e256","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_744d3905_7b29_4a46_8813_181ab6da4b69","uuid":"59274015-bc91-48ed-b8f9-115567577ee6"},"name":"SYS_GEN__Runbook_Application_744d3905_7b29_4a46_8813_181ab6da4b69"}},{"description":"System action for restarting an application","message_list":[],"uuid":"a1d88878-b6c7-403a-977e-7cdf48e1f043","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"Nutanix","uuid":"744d3905-7b29-4a46-8813-181ab6da4b69"},"retries":"0","description":"","type":"DAG","uuid":"97f982f0-8fd3-4924-8474-c91c104e0626","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_9345b001_1f0f_4c88_9565_74711df70607","uuid":"485f522b-6634-4919-abc5-e50876365160"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"17fdb789-076d-4ea1-afac-7cb65f9a4da4"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_9345b001_1f0f_4c88_9565_74711df70607","uuid":"485f522b-6634-4919-abc5-e50876365160"},"edge_type":"inherent","type":"","uuid":"c14f7528-d82b-4c9a-93a6-93d03031d053","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"17fdb789-076d-4ea1-afac-7cb65f9a4da4"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_744d3905_7b29_4a46_8813_181ab6da4b69"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVMySQL","uuid":"9345b001-1f0f-4c88-9565-74711df70607"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"485f522b-6634-4919-abc5-e50876365160","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"3dde34f6_deployment","uuid":"14f9523d-6a63-4e49-8169-b325a27b9c4b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_9345b001_1f0f_4c88_9565_74711df70607","uuid":"bb964e1a-e3ca-4633-80dd-6d26974414a0"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Substrate_9345b001_1f0f_4c88_9565_74711df70607"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"17fdb789-076d-4ea1-afac-7cb65f9a4da4","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"3dde34f6_deployment","uuid":"14f9523d-6a63-4e49-8169-b325a27b9c4b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"e9d7de80_runbook","uuid":"1da5d6b4-d3df-4a19-942c-e6e85b650e34"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c"}],"description":"","message_list":[],"uuid":"32e9bd80-3f3a-4306-b892-0f58d7087719","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_744d3905_7b29_4a46_8813_181ab6da4b69","uuid":"97f982f0-8fd3-4924-8474-c91c104e0626"},"name":"SYS_GEN__Runbook_Application_744d3905_7b29_4a46_8813_181ab6da4b69"}},{"description":"System action for stopping an application","message_list":[],"uuid":"f6908f07-a114-410a-8f05-2c0a5b4f9b94","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"Nutanix","uuid":"744d3905-7b29-4a46-8813-181ab6da4b69"},"retries":"0","description":"","type":"DAG","uuid":"18be586c-78e0-49d3-8329-17f8bd209501","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"4b454ce3-dc5a-4900-8217-68bafa997307"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_9345b001_1f0f_4c88_9565_74711df70607","uuid":"33350dad-d36e-4211-b8f6-d0682656f48e"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"4b454ce3-dc5a-4900-8217-68bafa997307"},"edge_type":"inherent","type":"","uuid":"4daf359e-0856-4e99-904f-f2a8ae48b324","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_9345b001_1f0f_4c88_9565_74711df70607","uuid":"33350dad-d36e-4211-b8f6-d0682656f48e"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_744d3905_7b29_4a46_8813_181ab6da4b69"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"4b454ce3-dc5a-4900-8217-68bafa997307","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"3dde34f6_deployment","uuid":"14f9523d-6a63-4e49-8169-b325a27b9c4b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"534c563f_runbook","uuid":"fa558656-179d-42a9-8b13-80552295db71"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVMySQL","uuid":"9345b001-1f0f-4c88-9565-74711df70607"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"33350dad-d36e-4211-b8f6-d0682656f48e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"3dde34f6_deployment","uuid":"14f9523d-6a63-4e49-8169-b325a27b9c4b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_9345b001_1f0f_4c88_9565_74711df70607","uuid":"866b0d7f-d9aa-4d16-b5d0-276765c505b5"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Substrate_9345b001_1f0f_4c88_9565_74711df70607"}],"description":"","message_list":[],"uuid":"0132a2b4-fd57-4fb9-81c8-a3e0196bda24","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_744d3905_7b29_4a46_8813_181ab6da4b69","uuid":"18be586c-78e0-49d3-8329-17f8bd209501"},"name":"SYS_GEN__Runbook_Application_744d3905_7b29_4a46_8813_181ab6da4b69"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"286f583d-32d7-4886-85e8-92244af84a4b","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"Nutanix","uuid":"744d3905-7b29-4a46-8813-181ab6da4b69"},"retries":"0","description":"","type":"DAG","uuid":"8a64379d-5936-4e96-ad9f-e3344dee06a1","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"39520fbb-ca62-4153-a690-fb8efcd06338"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"5f2574c8-8704-4b95-a502-6d18452f8108"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_f79f4aeb_2b78_48d4_9d73_9e4acc214df1","uuid":"f980e285-1a32-4ad3-90aa-c06558351b20"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_9345b001_1f0f_4c88_9565_74711df70607","uuid":"3a4d412a-4241-4b64-af7f-03c95b710dd9"},{"kind":"app_task","name":"SYS_GEN__DE_Delete_14f9523d_6a63_4e49_8169_b325a27b9c4b","uuid":"f2ca09cd-389f-4116-87a5-77d40701939f"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"39520fbb-ca62-4153-a690-fb8efcd06338"},"edge_type":"inherent","type":"","uuid":"e4df5c34-04e0-4ef2-bb59-9b32632761a0","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"5f2574c8-8704-4b95-a502-6d18452f8108"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"5f2574c8-8704-4b95-a502-6d18452f8108"},"edge_type":"inherent","type":"","uuid":"c0aca653-ebf5-45fa-aa95-89d96ce62f3b","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_f79f4aeb_2b78_48d4_9d73_9e4acc214df1","uuid":"f980e285-1a32-4ad3-90aa-c06558351b20"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_f79f4aeb_2b78_48d4_9d73_9e4acc214df1","uuid":"f980e285-1a32-4ad3-90aa-c06558351b20"},"edge_type":"inherent","type":"","uuid":"151b97d0-2850-483c-8bb7-c7771e497c75","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_9345b001_1f0f_4c88_9565_74711df70607","uuid":"3a4d412a-4241-4b64-af7f-03c95b710dd9"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_9345b001_1f0f_4c88_9565_74711df70607","uuid":"3a4d412a-4241-4b64-af7f-03c95b710dd9"},"edge_type":"inherent","type":"","uuid":"bb016578-2c51-4b85-8f66-8008d24c0a25","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Delete_14f9523d_6a63_4e49_8169_b325a27b9c4b","uuid":"f2ca09cd-389f-4116-87a5-77d40701939f"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_744d3905_7b29_4a46_8813_181ab6da4b69"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"39520fbb-ca62-4153-a690-fb8efcd06338","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"3dde34f6_deployment","uuid":"14f9523d-6a63-4e49-8169-b325a27b9c4b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"534c563f_runbook","uuid":"fa558656-179d-42a9-8b13-80552295db71"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"5f2574c8-8704-4b95-a502-6d18452f8108","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"3dde34f6_deployment","uuid":"14f9523d-6a63-4e49-8169-b325a27b9c4b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"d738eefe_runbook","uuid":"15541983-ff20-4829-b0c7-aff046fa0beb"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c"},{"target_any_local_reference":{"kind":"app_package","name":"AHVMySQLPackage","uuid":"f79f4aeb-2b78-48d4-9d73-9e4acc214df1"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"f980e285-1a32-4ad3-90aa-c06558351b20","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"3dde34f6_deployment","uuid":"14f9523d-6a63-4e49-8169-b325a27b9c4b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_f79f4aeb_2b78_48d4_9d73_9e4acc214df1","uuid":"6733c5ed-382e-404b-b416-00c289ccbf0e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_f79f4aeb_2b78_48d4_9d73_9e4acc214df1"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVMySQL","uuid":"9345b001-1f0f-4c88-9565-74711df70607"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"3a4d412a-4241-4b64-af7f-03c95b710dd9","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"3dde34f6_deployment","uuid":"14f9523d-6a63-4e49-8169-b325a27b9c4b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_9345b001_1f0f_4c88_9565_74711df70607","uuid":"c2da529c-ac33-4f94-8ed1-20052200c039"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Substrate_9345b001_1f0f_4c88_9565_74711df70607"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"3dde34f6_deployment","uuid":"14f9523d-6a63-4e49-8169-b325a27b9c4b"},"retries":"0","description":"","type":"DELETE_DEPLOYMENT_ELEMENT","uuid":"f2ca09cd-389f-4116-87a5-77d40701939f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Delete_14f9523d_6a63_4e49_8169_b325a27b9c4b"}],"description":"","message_list":[],"uuid":"1984ee20-b73e-482d-8b2a-f9398cb1b596","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_744d3905_7b29_4a46_8813_181ab6da4b69","uuid":"8a64379d-5936-4e96-ad9f-e3344dee06a1"},"name":"SYS_GEN__Runbook_Application_744d3905_7b29_4a46_8813_181ab6da4b69"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"4017899a-a477-4da6-ac7f-5fa54c25a0a6","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"Nutanix","uuid":"744d3905-7b29-4a46-8813-181ab6da4b69"},"retries":"0","description":"","type":"DAG","uuid":"3b02f660-6b5f-4f01-bd7d-2a6b30e6f7b6","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"59c2651d-16b6-4e3b-8343-48bc5be5b2e9"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_f79f4aeb_2b78_48d4_9d73_9e4acc214df1","uuid":"99dec694-2367-4e0a-a9b9-5aa93f3c1b70"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_9345b001_1f0f_4c88_9565_74711df70607","uuid":"06c0ab4c-5d0b-4f69-8c38-2adcea957a3d"},{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_14f9523d_6a63_4e49_8169_b325a27b9c4b","uuid":"98912c2b-ebc2-466e-816c-52efc58d6d77"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"59c2651d-16b6-4e3b-8343-48bc5be5b2e9"},"edge_type":"inherent","type":"","uuid":"8fb483f5-fe10-4711-8983-907db6055e2a","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_f79f4aeb_2b78_48d4_9d73_9e4acc214df1","uuid":"99dec694-2367-4e0a-a9b9-5aa93f3c1b70"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_9345b001_1f0f_4c88_9565_74711df70607","uuid":"06c0ab4c-5d0b-4f69-8c38-2adcea957a3d"},"edge_type":"inherent","type":"","uuid":"94a1a6b4-7aaa-4e7d-b18e-d772257520ba","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_14f9523d_6a63_4e49_8169_b325a27b9c4b","uuid":"98912c2b-ebc2-466e-816c-52efc58d6d77"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_f79f4aeb_2b78_48d4_9d73_9e4acc214df1","uuid":"99dec694-2367-4e0a-a9b9-5aa93f3c1b70"},"edge_type":"inherent","type":"","uuid":"5b174b78-c053-4c3b-a125-1103bc350bf8","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_9345b001_1f0f_4c88_9565_74711df70607","uuid":"06c0ab4c-5d0b-4f69-8c38-2adcea957a3d"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_744d3905_7b29_4a46_8813_181ab6da4b69"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"59c2651d-16b6-4e3b-8343-48bc5be5b2e9","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"3dde34f6_deployment","uuid":"14f9523d-6a63-4e49-8169-b325a27b9c4b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"957cfc08-a445-474a-b6fd-5a80c651f044"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c"},{"target_any_local_reference":{"kind":"app_package","name":"AHVMySQLPackage","uuid":"f79f4aeb-2b78-48d4-9d73-9e4acc214df1"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"99dec694-2367-4e0a-a9b9-5aa93f3c1b70","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_f79f4aeb_2b78_48d4_9d73_9e4acc214df1"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVMySQL","uuid":"9345b001-1f0f-4c88-9565-74711df70607"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"06c0ab4c-5d0b-4f69-8c38-2adcea957a3d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"3dde34f6_deployment","uuid":"14f9523d-6a63-4e49-8169-b325a27b9c4b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_9345b001_1f0f_4c88_9565_74711df70607","uuid":"cf6fd498-249f-4074-9a96-664716f7549a"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Substrate_9345b001_1f0f_4c88_9565_74711df70607"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"3dde34f6_deployment","uuid":"14f9523d-6a63-4e49-8169-b325a27b9c4b"},"retries":"0","description":"","type":"SOFT_DELETE_DEPLOYMENT_ELEMENT","uuid":"98912c2b-ebc2-466e-816c-52efc58d6d77","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Soft_Delete_14f9523d_6a63_4e49_8169_b325a27b9c4b"}],"description":"","message_list":[],"uuid":"18d8afed-2e79-439d-a40f-8a22495da28a","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_744d3905_7b29_4a46_8813_181ab6da4b69","uuid":"3b02f660-6b5f-4f01-bd7d-2a6b30e6f7b6"},"name":"SYS_GEN__Runbook_Application_744d3905_7b29_4a46_8813_181ab6da4b69"}}],"message_list":[],"uuid":"744d3905-7b29-4a46-8813-181ab6da4b69","state":"ACTIVE","dependency_list":[],"variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"eb1a6848-5871-42e8-bacc-40668161b0c3","value":"ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDMGAS\/K0Mb\/uwFXwD+hkjguy7VMZk2hpuhwPl9FUZwVBrURf\/i9QMJ5\/paPEZixu8VlRx7Inu4iun7rQfrnfeIYInmBwspXHYiTK3oHJAgZnrAHVEf1p6YaxLINlT1NI5yOAGPRWW6of8rBDBH1ObwU2+wcSx\/1H0uIs3aZNLufr+Rh628ACxAum2Gt8AVRj6ua2BPFyt5VTdclyysAmeh1AiixNgOZXOz6y\/i4TbzpY78I3isuKpxsUeXX6jxEMQol406jHDUF6njEOPIQG2zVZ3QJlTG9OlN+NiyZG9WkZz0VG\/6M8ixxIHHI2dNwUbBFv2HUu+8X9LTLFq2O7KjX9Hp7uZKBAySHA3eKaKHIp2bZuU1bT5PRPkggngX86xg+T+OMNnutbAiMnRJ8+FvD5So+5TIx4b9GgxAxure3x2yRPT9lOiQOB+CVpJPxR0Rn9bOI+wiPnD0kAGvK\/fHT+pqL4PM+hTnJtp9rrCRzIQApBx1263jEcYffhW2epZQRO+he5CMawFJ5TBe08om2AaDJ8GQdrpF6YA3W8DzHbmL3DPVVHdmqPLn10o+LX4gv5SdIIDVGdjKOc1BCnLTRmM28d5+sLDt\/M+kvcQgf0y0yDjMVjGECZkt39hbm4ELMHzZtzYLmHNhBZxRqHeJ7qFTuv1kx88OW3Xc5mbBNQ== centos@nutanix.com","label":"","state":"ACTIVE","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"INSTANCE_PUBLIC_KEY"},{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[{"message":"Secret value for variable is empty","reason":"EMPTY_VALUE","details":[{"attribute_name":"secret"}]},{"message":"Value of secret variable is empty","reason":"EMPTY_VALUE","details":[{"attribute_name":"value"}]}],"uuid":"90a7ac72-164c-42a3-b96e-116906bfb518","value":"","label":"","state":"ACTIVE","attrs":{"is_secret_modified":false,"secret_reference":{"uuid":"876e7530-7277-40d2-9da9-1431c9bd4c34"},"type":""},"editables":{"value":true},"is_hidden":false,"type":"SECRET","options":{},"name":"MYSQL_PASSWORD"}],"name":"Nutanix"},{"deployment_create_list":[{"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"8d181dd1-e78e-4612-86a0-362f62b8e609","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"4e6388ed_deployment","uuid":"ba2c29f6-7b39-4698-a160-aa387b432ada"},"retries":"0","description":"","type":"DAG","uuid":"1c3e6090-2c0f-478a-87cd-aa7f5b49dc81","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__DE_Provision_ba2c29f6_7b39_4698_a160_aa387b432ada","uuid":"45fc6557-d5d7-4648-9884-f8abb006ba7c"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_af5b340a_264c_437c_bc6b_1749e819544f","uuid":"e7fb86d1-fe91-4cbb-b34b-6b0284cbdf65"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_27f5243f_d06d_4d95_b0ea_0bf734f7f2e8","uuid":"0da8785f-6fa0-472e-9b9c-0afc727863a0"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"2c529763-4a61-4918-83dd-82725f74577b"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"4086a8f3-3770-42c3-b5fc-ce61356739fe"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"2c529763-4a61-4918-83dd-82725f74577b"},"edge_type":"inherent","type":"","uuid":"b3532a4e-0b1c-4b15-a678-e3d7badbf219","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"4086a8f3-3770-42c3-b5fc-ce61356739fe"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_27f5243f_d06d_4d95_b0ea_0bf734f7f2e8","uuid":"0da8785f-6fa0-472e-9b9c-0afc727863a0"},"edge_type":"inherent","type":"","uuid":"2def9713-f156-4254-8d76-a318849975df","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"2c529763-4a61-4918-83dd-82725f74577b"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_ba2c29f6_7b39_4698_a160_aa387b432ada","uuid":"45fc6557-d5d7-4648-9884-f8abb006ba7c"},"edge_type":"inherent","type":"","uuid":"2b095103-0084-40d7-b9fa-1bbb3a65a470","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_af5b340a_264c_437c_bc6b_1749e819544f","uuid":"e7fb86d1-fe91-4cbb-b34b-6b0284cbdf65"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_af5b340a_264c_437c_bc6b_1749e819544f","uuid":"e7fb86d1-fe91-4cbb-b34b-6b0284cbdf65"},"edge_type":"inherent","type":"","uuid":"0db8f77a-27de-4a6b-979e-d08262eab6e5","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_27f5243f_d06d_4d95_b0ea_0bf734f7f2e8","uuid":"0da8785f-6fa0-472e-9b9c-0afc727863a0"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_ba2c29f6_7b39_4698_a160_aa387b432ada"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"4e6388ed_deployment","uuid":"ba2c29f6-7b39-4698-a160-aa387b432ada"},"retries":"0","description":"","type":"CREATE_DEPLOYMENT_ELEMENT","uuid":"45fc6557-d5d7-4648-9884-f8abb006ba7c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Provision_ba2c29f6_7b39_4698_a160_aa387b432ada"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSMySQL","uuid":"af5b340a-264c-437c-bc6b-1749e819544f"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"e7fb86d1-fe91-4cbb-b34b-6b0284cbdf65","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"4e6388ed_deployment","uuid":"ba2c29f6-7b39-4698-a160-aa387b432ada"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_af5b340a_264c_437c_bc6b_1749e819544f","uuid":"22c375f4-3c0d-480e-9d75-b97b3df9aa4a"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Substrate_af5b340a_264c_437c_bc6b_1749e819544f"},{"target_any_local_reference":{"kind":"app_package","name":"AWSMySQLPackage","uuid":"27f5243f-d06d-4d95-b0ea-0bf734f7f2e8"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"0da8785f-6fa0-472e-9b9c-0afc727863a0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"4e6388ed_deployment","uuid":"ba2c29f6-7b39-4698-a160-aa387b432ada"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_27f5243f_d06d_4d95_b0ea_0bf734f7f2e8","uuid":"5f6ce627-e95f-49d8-b2cf-b77b5f00a940"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_27f5243f_d06d_4d95_b0ea_0bf734f7f2e8"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"2c529763-4a61-4918-83dd-82725f74577b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"4e6388ed_deployment","uuid":"ba2c29f6-7b39-4698-a160-aa387b432ada"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"f603ab76_runbook","uuid":"1f2c9854-fd61-4d80-a059-2670f4aa3ba3"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"4086a8f3-3770-42c3-b5fc-ce61356739fe","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"4e6388ed_deployment","uuid":"ba2c29f6-7b39-4698-a160-aa387b432ada"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"7748f46a_runbook","uuid":"a0ae1241-f6d5-470e-b065-dfde29b2bbf2"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c"}],"description":"","message_list":[],"uuid":"bc6d0892-bd6d-4a5e-8ed6-c4f6777a512e","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_ba2c29f6_7b39_4698_a160_aa387b432ada","uuid":"1c3e6090-2c0f-478a-87cd-aa7f5b49dc81"},"name":"SYS_GEN__Runbook_Deployment_ba2c29f6_7b39_4698_a160_aa387b432ada"}},{"description":"System action for starting an application","message_list":[],"uuid":"cba76651-d04f-476d-9340-b743539e0056","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"4e6388ed_deployment","uuid":"ba2c29f6-7b39-4698-a160-aa387b432ada"},"retries":"0","description":"","type":"DAG","uuid":"2557a452-2569-4c21-b2ff-cd450269f88d","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_af5b340a_264c_437c_bc6b_1749e819544f","uuid":"4a9d13fc-16c0-4a7e-9abf-d25ad0527f78"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"94389475-f659-4de8-951a-9d0b95534bcd"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_af5b340a_264c_437c_bc6b_1749e819544f","uuid":"4a9d13fc-16c0-4a7e-9abf-d25ad0527f78"},"edge_type":"inherent","type":"","uuid":"9cc87ad1-71a3-4efa-966f-8dfaf01da079","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"94389475-f659-4de8-951a-9d0b95534bcd"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_ba2c29f6_7b39_4698_a160_aa387b432ada"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSMySQL","uuid":"af5b340a-264c-437c-bc6b-1749e819544f"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"4a9d13fc-16c0-4a7e-9abf-d25ad0527f78","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"4e6388ed_deployment","uuid":"ba2c29f6-7b39-4698-a160-aa387b432ada"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_af5b340a_264c_437c_bc6b_1749e819544f","uuid":"6d4f709e-3896-4307-b773-61f6c24391d0"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Substrate_af5b340a_264c_437c_bc6b_1749e819544f"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"94389475-f659-4de8-951a-9d0b95534bcd","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"4e6388ed_deployment","uuid":"ba2c29f6-7b39-4698-a160-aa387b432ada"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"7748f46a_runbook","uuid":"a0ae1241-f6d5-470e-b065-dfde29b2bbf2"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c"}],"description":"","message_list":[],"uuid":"f16202df-3bf8-471d-83f2-1c7ece3c2646","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_ba2c29f6_7b39_4698_a160_aa387b432ada","uuid":"2557a452-2569-4c21-b2ff-cd450269f88d"},"name":"SYS_GEN__Runbook_Deployment_ba2c29f6_7b39_4698_a160_aa387b432ada"}},{"description":"System action for restarting an application","message_list":[],"uuid":"f99053da-9633-4c69-b2a3-b8a23d7d9e94","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"4e6388ed_deployment","uuid":"ba2c29f6-7b39-4698-a160-aa387b432ada"},"retries":"0","description":"","type":"DAG","uuid":"89e917af-f544-4347-8a3c-025dcf15df2e","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_af5b340a_264c_437c_bc6b_1749e819544f","uuid":"d5721862-049b-496e-b7f0-dbde7619b96e"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"f7697a24-736f-45ca-8c09-50b72d6e93ab"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_af5b340a_264c_437c_bc6b_1749e819544f","uuid":"d5721862-049b-496e-b7f0-dbde7619b96e"},"edge_type":"inherent","type":"","uuid":"d771ebed-cad3-4eee-a0a8-408c8d23b875","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"f7697a24-736f-45ca-8c09-50b72d6e93ab"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_ba2c29f6_7b39_4698_a160_aa387b432ada"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSMySQL","uuid":"af5b340a-264c-437c-bc6b-1749e819544f"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"d5721862-049b-496e-b7f0-dbde7619b96e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"4e6388ed_deployment","uuid":"ba2c29f6-7b39-4698-a160-aa387b432ada"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_af5b340a_264c_437c_bc6b_1749e819544f","uuid":"1e813446-355e-42e3-8f17-0013f6c8a955"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Substrate_af5b340a_264c_437c_bc6b_1749e819544f"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"f7697a24-736f-45ca-8c09-50b72d6e93ab","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"4e6388ed_deployment","uuid":"ba2c29f6-7b39-4698-a160-aa387b432ada"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"e9d7de80_runbook","uuid":"1da5d6b4-d3df-4a19-942c-e6e85b650e34"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c"}],"description":"","message_list":[],"uuid":"485a818b-170e-497d-97f7-7765298c8606","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_ba2c29f6_7b39_4698_a160_aa387b432ada","uuid":"89e917af-f544-4347-8a3c-025dcf15df2e"},"name":"SYS_GEN__Runbook_Deployment_ba2c29f6_7b39_4698_a160_aa387b432ada"}},{"description":"System action for stopping an application","message_list":[],"uuid":"2eb8e8e5-ed33-4da9-a3ee-72c8f6e334c7","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"4e6388ed_deployment","uuid":"ba2c29f6-7b39-4698-a160-aa387b432ada"},"retries":"0","description":"","type":"DAG","uuid":"6c2e87bc-65a0-4ca9-a51b-d15e06e43448","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"3cae2108-8793-41e9-8097-56a781f005a9"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_af5b340a_264c_437c_bc6b_1749e819544f","uuid":"d9eff4c2-2e48-4dd1-8b35-ee5949cf5283"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"3cae2108-8793-41e9-8097-56a781f005a9"},"edge_type":"inherent","type":"","uuid":"46444edf-62f5-49f1-8186-56ffff374f02","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_af5b340a_264c_437c_bc6b_1749e819544f","uuid":"d9eff4c2-2e48-4dd1-8b35-ee5949cf5283"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_ba2c29f6_7b39_4698_a160_aa387b432ada"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"3cae2108-8793-41e9-8097-56a781f005a9","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"4e6388ed_deployment","uuid":"ba2c29f6-7b39-4698-a160-aa387b432ada"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"534c563f_runbook","uuid":"fa558656-179d-42a9-8b13-80552295db71"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSMySQL","uuid":"af5b340a-264c-437c-bc6b-1749e819544f"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"d9eff4c2-2e48-4dd1-8b35-ee5949cf5283","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"4e6388ed_deployment","uuid":"ba2c29f6-7b39-4698-a160-aa387b432ada"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_af5b340a_264c_437c_bc6b_1749e819544f","uuid":"d6df710f-2849-40be-a417-056103896305"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Substrate_af5b340a_264c_437c_bc6b_1749e819544f"}],"description":"","message_list":[],"uuid":"3aff0d85-dbc5-4163-8d8f-f26bce12e15f","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_ba2c29f6_7b39_4698_a160_aa387b432ada","uuid":"6c2e87bc-65a0-4ca9-a51b-d15e06e43448"},"name":"SYS_GEN__Runbook_Deployment_ba2c29f6_7b39_4698_a160_aa387b432ada"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"2c5bb64e-80e1-4c51-aeba-7418767a1382","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"4e6388ed_deployment","uuid":"ba2c29f6-7b39-4698-a160-aa387b432ada"},"retries":"0","description":"","type":"DAG","uuid":"9830df24-427d-4431-982d-1958544de4a1","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"0c48e730-3583-47d4-b9e2-247fcfb05422"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"24d99908-f9e7-40e3-baa3-13f6c4b473f1"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_27f5243f_d06d_4d95_b0ea_0bf734f7f2e8","uuid":"bfc9b6f5-fc84-4173-8006-37257ac1a055"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_af5b340a_264c_437c_bc6b_1749e819544f","uuid":"579ed291-0566-4516-be06-ead1695d8ccc"},{"kind":"app_task","name":"SYS_GEN__DE_Delete_ba2c29f6_7b39_4698_a160_aa387b432ada","uuid":"fee5dd1f-30e9-4513-b632-5eea43949481"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"0c48e730-3583-47d4-b9e2-247fcfb05422"},"edge_type":"inherent","type":"","uuid":"24e63060-2389-4a15-8a27-c2b00b04975a","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"24d99908-f9e7-40e3-baa3-13f6c4b473f1"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"24d99908-f9e7-40e3-baa3-13f6c4b473f1"},"edge_type":"inherent","type":"","uuid":"bfd3a31b-495b-4aaf-b59e-5bfc3cdab1c0","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_27f5243f_d06d_4d95_b0ea_0bf734f7f2e8","uuid":"bfc9b6f5-fc84-4173-8006-37257ac1a055"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_af5b340a_264c_437c_bc6b_1749e819544f","uuid":"579ed291-0566-4516-be06-ead1695d8ccc"},"edge_type":"inherent","type":"","uuid":"58dd43d5-a2a0-48ee-96f6-d7be6666d98b","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Delete_ba2c29f6_7b39_4698_a160_aa387b432ada","uuid":"fee5dd1f-30e9-4513-b632-5eea43949481"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_27f5243f_d06d_4d95_b0ea_0bf734f7f2e8","uuid":"bfc9b6f5-fc84-4173-8006-37257ac1a055"},"edge_type":"inherent","type":"","uuid":"cc47e9ec-8d13-4dcf-8095-ce0ce173fec0","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_af5b340a_264c_437c_bc6b_1749e819544f","uuid":"579ed291-0566-4516-be06-ead1695d8ccc"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_ba2c29f6_7b39_4698_a160_aa387b432ada"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"0c48e730-3583-47d4-b9e2-247fcfb05422","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"4e6388ed_deployment","uuid":"ba2c29f6-7b39-4698-a160-aa387b432ada"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"534c563f_runbook","uuid":"fa558656-179d-42a9-8b13-80552295db71"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"24d99908-f9e7-40e3-baa3-13f6c4b473f1","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"4e6388ed_deployment","uuid":"ba2c29f6-7b39-4698-a160-aa387b432ada"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"d738eefe_runbook","uuid":"15541983-ff20-4829-b0c7-aff046fa0beb"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c"},{"target_any_local_reference":{"kind":"app_package","name":"AWSMySQLPackage","uuid":"27f5243f-d06d-4d95-b0ea-0bf734f7f2e8"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"bfc9b6f5-fc84-4173-8006-37257ac1a055","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"4e6388ed_deployment","uuid":"ba2c29f6-7b39-4698-a160-aa387b432ada"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_27f5243f_d06d_4d95_b0ea_0bf734f7f2e8","uuid":"927f5714-4a02-40c5-b58e-5086482b384b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_27f5243f_d06d_4d95_b0ea_0bf734f7f2e8"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSMySQL","uuid":"af5b340a-264c-437c-bc6b-1749e819544f"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"579ed291-0566-4516-be06-ead1695d8ccc","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"4e6388ed_deployment","uuid":"ba2c29f6-7b39-4698-a160-aa387b432ada"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_af5b340a_264c_437c_bc6b_1749e819544f","uuid":"46cb8097-0ccf-4a94-97a8-c21a59fcdb24"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Substrate_af5b340a_264c_437c_bc6b_1749e819544f"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"4e6388ed_deployment","uuid":"ba2c29f6-7b39-4698-a160-aa387b432ada"},"retries":"0","description":"","type":"DELETE_DEPLOYMENT_ELEMENT","uuid":"fee5dd1f-30e9-4513-b632-5eea43949481","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Delete_ba2c29f6_7b39_4698_a160_aa387b432ada"}],"description":"","message_list":[],"uuid":"3c0c73da-71c1-4a67-9f9b-60af57d5a106","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_ba2c29f6_7b39_4698_a160_aa387b432ada","uuid":"9830df24-427d-4431-982d-1958544de4a1"},"name":"SYS_GEN__Runbook_Deployment_ba2c29f6_7b39_4698_a160_aa387b432ada"}},{"description":"System action for scaleout","message_list":[],"uuid":"2da6dd21-62ba-4143-ac49-2f368aa2d839","name":"action_scaleout","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"4e6388ed_deployment","uuid":"ba2c29f6-7b39-4698-a160-aa387b432ada"},"retries":"0","description":"","type":"DAG","uuid":"d451c0b3-1a86-46ef-a71d-e61f6489b42a","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Deployment_Scaleout_ba2c29f6_7b39_4698_a160_aa387b432ada","uuid":"358d5f19-24be-4bc3-8c79-28230f771feb"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_ba2c29f6_7b39_4698_a160_aa387b432ada"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"4e6388ed_deployment","uuid":"ba2c29f6-7b39-4698-a160-aa387b432ada"},"retries":"0","description":"","type":"SCALING","uuid":"358d5f19-24be-4bc3-8c79-28230f771feb","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{scaling_count}@@","type":"","scaling_type":"SCALEOUT"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Deployment_Scaleout_ba2c29f6_7b39_4698_a160_aa387b432ada"}],"description":"","message_list":[],"uuid":"37b34028-526c-4e2a-8c6f-42276125b360","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"4d11040a-c70f-4742-9708-0f7a8be98a0f","value":"0","label":"","state":"NOT_VALIDATED","attrs":{},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"scaling_count"}],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_ba2c29f6_7b39_4698_a160_aa387b432ada","uuid":"d451c0b3-1a86-46ef-a71d-e61f6489b42a"},"name":"SYS_GEN__Runbook_Deployment_ba2c29f6_7b39_4698_a160_aa387b432ada"}},{"description":"System action for scalein","message_list":[],"uuid":"0550d122-40f1-45dc-934c-3f58b14d36ec","name":"action_scalein","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"4e6388ed_deployment","uuid":"ba2c29f6-7b39-4698-a160-aa387b432ada"},"retries":"0","description":"","type":"DAG","uuid":"eaccd740-c4e6-4d30-bdf0-9f28bd280232","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Deployment_Scalein_ba2c29f6_7b39_4698_a160_aa387b432ada","uuid":"7b7e85a4-2699-4dd5-9a3c-b746db1611b7"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_ba2c29f6_7b39_4698_a160_aa387b432ada"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"4e6388ed_deployment","uuid":"ba2c29f6-7b39-4698-a160-aa387b432ada"},"retries":"0","description":"","type":"SCALING","uuid":"7b7e85a4-2699-4dd5-9a3c-b746db1611b7","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{scaling_count}@@","type":"","scaling_type":"SCALEIN"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Deployment_Scalein_ba2c29f6_7b39_4698_a160_aa387b432ada"}],"description":"","message_list":[],"uuid":"9ff62d2b-8846-4653-8366-3e2668760a98","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"749e7a7d-6a13-4a18-815b-98ad49598714","value":"0","label":"","state":"NOT_VALIDATED","attrs":{},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"scaling_count"}],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_ba2c29f6_7b39_4698_a160_aa387b432ada","uuid":"eaccd740-c4e6-4d30-bdf0-9f28bd280232"},"name":"SYS_GEN__Runbook_Deployment_ba2c29f6_7b39_4698_a160_aa387b432ada"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"aa567648-5785-47be-86a8-398298dae458","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"4e6388ed_deployment","uuid":"ba2c29f6-7b39-4698-a160-aa387b432ada"},"retries":"0","description":"","type":"DAG","uuid":"672a2e3b-533c-431f-9574-bf430c0a77d4","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"568d0324-5e18-4be5-92b3-31b51bb10284"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_27f5243f_d06d_4d95_b0ea_0bf734f7f2e8","uuid":"8c53eb80-b740-4a14-aac6-982e64459a93"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_af5b340a_264c_437c_bc6b_1749e819544f","uuid":"489508a7-d901-4a99-934e-64ea91b7376b"},{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_ba2c29f6_7b39_4698_a160_aa387b432ada","uuid":"0a041278-a02c-416e-9f5b-4dc1898a5362"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"568d0324-5e18-4be5-92b3-31b51bb10284"},"edge_type":"inherent","type":"","uuid":"3342108a-3cfa-4225-bdeb-be183612a3ee","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_27f5243f_d06d_4d95_b0ea_0bf734f7f2e8","uuid":"8c53eb80-b740-4a14-aac6-982e64459a93"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_af5b340a_264c_437c_bc6b_1749e819544f","uuid":"489508a7-d901-4a99-934e-64ea91b7376b"},"edge_type":"inherent","type":"","uuid":"5b658b54-27e8-4127-8262-b1aa01f7947d","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_ba2c29f6_7b39_4698_a160_aa387b432ada","uuid":"0a041278-a02c-416e-9f5b-4dc1898a5362"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_27f5243f_d06d_4d95_b0ea_0bf734f7f2e8","uuid":"8c53eb80-b740-4a14-aac6-982e64459a93"},"edge_type":"inherent","type":"","uuid":"d030a02c-3ced-4fce-88dd-d5cdb1c65159","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_af5b340a_264c_437c_bc6b_1749e819544f","uuid":"489508a7-d901-4a99-934e-64ea91b7376b"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_ba2c29f6_7b39_4698_a160_aa387b432ada"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"568d0324-5e18-4be5-92b3-31b51bb10284","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"4e6388ed_deployment","uuid":"ba2c29f6-7b39-4698-a160-aa387b432ada"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"957cfc08-a445-474a-b6fd-5a80c651f044"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c"},{"target_any_local_reference":{"kind":"app_package","name":"AWSMySQLPackage","uuid":"27f5243f-d06d-4d95-b0ea-0bf734f7f2e8"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"8c53eb80-b740-4a14-aac6-982e64459a93","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_27f5243f_d06d_4d95_b0ea_0bf734f7f2e8"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSMySQL","uuid":"af5b340a-264c-437c-bc6b-1749e819544f"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"489508a7-d901-4a99-934e-64ea91b7376b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"4e6388ed_deployment","uuid":"ba2c29f6-7b39-4698-a160-aa387b432ada"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_af5b340a_264c_437c_bc6b_1749e819544f","uuid":"f423e3d2-d486-4d64-9c09-aea07482f3e4"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Substrate_af5b340a_264c_437c_bc6b_1749e819544f"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"4e6388ed_deployment","uuid":"ba2c29f6-7b39-4698-a160-aa387b432ada"},"retries":"0","description":"","type":"SOFT_DELETE_DEPLOYMENT_ELEMENT","uuid":"0a041278-a02c-416e-9f5b-4dc1898a5362","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Soft_Delete_ba2c29f6_7b39_4698_a160_aa387b432ada"}],"description":"","message_list":[],"uuid":"9856b830-3e62-416c-9f7c-e556bda5d661","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_ba2c29f6_7b39_4698_a160_aa387b432ada","uuid":"672a2e3b-533c-431f-9574-bf430c0a77d4"},"name":"SYS_GEN__Runbook_Deployment_ba2c29f6_7b39_4698_a160_aa387b432ada"}}],"message_list":[],"published_service_local_reference_list":[],"uuid":"ba2c29f6-7b39-4698-a160-aa387b432ada","min_replicas":"1","state":"DRAFT","max_replicas":"1","depends_on_list":[],"editables":{},"package_local_reference_list":[{"kind":"app_package","name":"AWSMySQLPackage","uuid":"27f5243f-d06d-4d95-b0ea-0bf734f7f2e8"}],"substrate_local_reference":{"kind":"app_substrate","name":"AWSMySQL","uuid":"af5b340a-264c-437c-bc6b-1749e819544f"},"type":"GREENFIELD","options":{},"variable_list":[],"name":"4e6388ed_deployment"}],"description":"","action_list":[{"description":"Take DB Backup. Specify absolute directory path for BACKUP_FILE_PATH","message_list":[],"uuid":"fa57e38d-96a3-4eb7-b7b1-f40914531e17","name":"Backup","state":"ACTIVE","critical":false,"attrs":{},"type":"user","runbook":{"task_definition_list":[{"retries":"0","description":"","type":"DAG","uuid":"37de2d8e-6521-43ae-8211-ec119bbba0b4","child_tasks_local_reference_list":[{"kind":"app_task","name":"Do DB Backup","uuid":"f83b5431-d1fd-4874-94e7-19cf85020372"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"6cda1b21_dag"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"EXEC","uuid":"f83b5431-d1fd-4874-94e7-19cf85020372","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n### Setup variables\nmysql_password=\"@@{MYSQL_PASSWORD}@@\"\ndate_part=`date +%F`\nmkdir -p @@{BACKUP_FILE_PATH}@@\nsudo mysqldump -u root -p${mysql_password} --all-databases | sudo gzip -9 > @@{BACKUP_FILE_PATH}@@\/db_dump.sql.gz","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"d2eec46b-8fe8-4b34-9979-e0807d4717c1"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Do DB Backup"}],"description":"","message_list":[],"uuid":"d2e24a51-d190-42fd-aae0-26c551ea8d11","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"dd08aca7-63e2-4673-b781-a95ca1abd253","value":"~\/db_backup","label":"","state":"NOT_VALIDATED","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"BACKUP_FILE_PATH"}],"main_task_local_reference":{"kind":"app_task","name":"6cda1b21_dag","uuid":"37de2d8e-6521-43ae-8211-ec119bbba0b4"},"name":"067dea48_runbook"}},{"description":"To restore DB from dump file. Specify absolute directory path for RESTORE_FILE_PATH","message_list":[],"uuid":"28429ac8-b560-4772-bfe5-b99ca412b98f","name":"Restore","state":"ACTIVE","critical":false,"attrs":{},"type":"user","runbook":{"task_definition_list":[{"retries":"0","description":"","type":"DAG","uuid":"aaf26284-6499-4ff4-bfdb-b6f0c38b9538","child_tasks_local_reference_list":[{"kind":"app_task","name":"Do DB Restore","uuid":"77d449f2-e1f1-4d34-b5ef-311f565cb063"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"808f871f_dag"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"EXEC","uuid":"77d449f2-e1f1-4d34-b5ef-311f565cb063","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n### Setup variables\nmysql_password=\"@@{MYSQL_PASSWORD}@@\"\ndb_file=@@{RESTORE_FILE_PATH}@@\n\nsudo gunzip < $db_file | sudo mysql -u root -p${mysql_password} ","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"d2eec46b-8fe8-4b34-9979-e0807d4717c1"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Do DB Restore"}],"description":"","message_list":[],"uuid":"f7a605ec-b9c6-494c-9f56-6d41273b5faf","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"ab5e0dbc-aa1b-4ea5-9206-52524106dcd0","value":"~\/db_backup\/db_dump.sql.gz","label":"","state":"NOT_VALIDATED","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"RESTORE_FILE_PATH"}],"main_task_local_reference":{"kind":"app_task","name":"808f871f_dag","uuid":"aaf26284-6499-4ff4-bfdb-b6f0c38b9538"},"name":"83fab6fc_runbook"}},{"description":"System action for creating an application","message_list":[],"uuid":"78d34717-306f-40f0-b3b4-90f52a90cd52","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"AWS","uuid":"a7bc7bb9-8257-4e93-a10b-c0bcdc8a30e7"},"retries":"0","description":"","type":"DAG","uuid":"0cfd5066-7e0c-426f-bc57-ab6a26a3e871","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__DE_Provision_ba2c29f6_7b39_4698_a160_aa387b432ada","uuid":"e321425e-8060-4f98-9038-15755adbd79c"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_af5b340a_264c_437c_bc6b_1749e819544f","uuid":"3384b54a-cf38-4495-a66b-94d77691d394"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_27f5243f_d06d_4d95_b0ea_0bf734f7f2e8","uuid":"da0ba814-d98f-4aad-8f80-18d378f6aefb"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"19b11c40-daf6-4215-a0be-f218fe2838f6"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"a82d2e2a-f101-40b6-bf7b-5c03a562f44c"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"19b11c40-daf6-4215-a0be-f218fe2838f6"},"edge_type":"inherent","type":"","uuid":"9be466c4-999c-46ca-a4aa-3639727d18b2","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"a82d2e2a-f101-40b6-bf7b-5c03a562f44c"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_27f5243f_d06d_4d95_b0ea_0bf734f7f2e8","uuid":"da0ba814-d98f-4aad-8f80-18d378f6aefb"},"edge_type":"inherent","type":"","uuid":"b732061d-15fe-45ef-9e0d-f94d143bfbd6","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"19b11c40-daf6-4215-a0be-f218fe2838f6"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_ba2c29f6_7b39_4698_a160_aa387b432ada","uuid":"e321425e-8060-4f98-9038-15755adbd79c"},"edge_type":"inherent","type":"","uuid":"288dfc88-320e-499f-b03e-b13fd16945e9","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_af5b340a_264c_437c_bc6b_1749e819544f","uuid":"3384b54a-cf38-4495-a66b-94d77691d394"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_af5b340a_264c_437c_bc6b_1749e819544f","uuid":"3384b54a-cf38-4495-a66b-94d77691d394"},"edge_type":"inherent","type":"","uuid":"2cc2b89c-0745-40aa-a3bd-03a19ded2c92","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_27f5243f_d06d_4d95_b0ea_0bf734f7f2e8","uuid":"da0ba814-d98f-4aad-8f80-18d378f6aefb"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_a7bc7bb9_8257_4e93_a10b_c0bcdc8a30e7"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"4e6388ed_deployment","uuid":"ba2c29f6-7b39-4698-a160-aa387b432ada"},"retries":"0","description":"","type":"CREATE_DEPLOYMENT_ELEMENT","uuid":"e321425e-8060-4f98-9038-15755adbd79c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Provision_ba2c29f6_7b39_4698_a160_aa387b432ada"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSMySQL","uuid":"af5b340a-264c-437c-bc6b-1749e819544f"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"3384b54a-cf38-4495-a66b-94d77691d394","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"4e6388ed_deployment","uuid":"ba2c29f6-7b39-4698-a160-aa387b432ada"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_af5b340a_264c_437c_bc6b_1749e819544f","uuid":"22c375f4-3c0d-480e-9d75-b97b3df9aa4a"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Substrate_af5b340a_264c_437c_bc6b_1749e819544f"},{"target_any_local_reference":{"kind":"app_package","name":"AWSMySQLPackage","uuid":"27f5243f-d06d-4d95-b0ea-0bf734f7f2e8"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"da0ba814-d98f-4aad-8f80-18d378f6aefb","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"4e6388ed_deployment","uuid":"ba2c29f6-7b39-4698-a160-aa387b432ada"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_27f5243f_d06d_4d95_b0ea_0bf734f7f2e8","uuid":"5f6ce627-e95f-49d8-b2cf-b77b5f00a940"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_27f5243f_d06d_4d95_b0ea_0bf734f7f2e8"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"19b11c40-daf6-4215-a0be-f218fe2838f6","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"4e6388ed_deployment","uuid":"ba2c29f6-7b39-4698-a160-aa387b432ada"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"f603ab76_runbook","uuid":"1f2c9854-fd61-4d80-a059-2670f4aa3ba3"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"a82d2e2a-f101-40b6-bf7b-5c03a562f44c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"4e6388ed_deployment","uuid":"ba2c29f6-7b39-4698-a160-aa387b432ada"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"7748f46a_runbook","uuid":"a0ae1241-f6d5-470e-b065-dfde29b2bbf2"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c"}],"description":"","message_list":[],"uuid":"d4c1192f-16d1-424e-8bc5-39b56748ab3f","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_a7bc7bb9_8257_4e93_a10b_c0bcdc8a30e7","uuid":"0cfd5066-7e0c-426f-bc57-ab6a26a3e871"},"name":"SYS_GEN__Runbook_Application_a7bc7bb9_8257_4e93_a10b_c0bcdc8a30e7"}},{"description":"System action for starting an application","message_list":[],"uuid":"fddecb67-6134-48bb-bcca-2e60ad64dc5a","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"AWS","uuid":"a7bc7bb9-8257-4e93-a10b-c0bcdc8a30e7"},"retries":"0","description":"","type":"DAG","uuid":"07d8b4da-d984-422d-a072-30ee6d12abbc","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_af5b340a_264c_437c_bc6b_1749e819544f","uuid":"6e4e994b-fcc0-44bc-a28c-9c7ef98dc657"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"0b275a5d-aef0-4ea0-96a7-0c24a7ae713e"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_af5b340a_264c_437c_bc6b_1749e819544f","uuid":"6e4e994b-fcc0-44bc-a28c-9c7ef98dc657"},"edge_type":"inherent","type":"","uuid":"de40bd59-bb3a-4296-925f-b2437ec470fd","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"0b275a5d-aef0-4ea0-96a7-0c24a7ae713e"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_a7bc7bb9_8257_4e93_a10b_c0bcdc8a30e7"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSMySQL","uuid":"af5b340a-264c-437c-bc6b-1749e819544f"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"6e4e994b-fcc0-44bc-a28c-9c7ef98dc657","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"4e6388ed_deployment","uuid":"ba2c29f6-7b39-4698-a160-aa387b432ada"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_af5b340a_264c_437c_bc6b_1749e819544f","uuid":"6d4f709e-3896-4307-b773-61f6c24391d0"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Substrate_af5b340a_264c_437c_bc6b_1749e819544f"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"0b275a5d-aef0-4ea0-96a7-0c24a7ae713e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"4e6388ed_deployment","uuid":"ba2c29f6-7b39-4698-a160-aa387b432ada"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"7748f46a_runbook","uuid":"a0ae1241-f6d5-470e-b065-dfde29b2bbf2"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c"}],"description":"","message_list":[],"uuid":"8095d882-e806-4e66-9290-0618c3ee3c52","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_a7bc7bb9_8257_4e93_a10b_c0bcdc8a30e7","uuid":"07d8b4da-d984-422d-a072-30ee6d12abbc"},"name":"SYS_GEN__Runbook_Application_a7bc7bb9_8257_4e93_a10b_c0bcdc8a30e7"}},{"description":"System action for restarting an application","message_list":[],"uuid":"86968e6e-bca7-4362-bcff-bd8ccbaa6850","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"AWS","uuid":"a7bc7bb9-8257-4e93-a10b-c0bcdc8a30e7"},"retries":"0","description":"","type":"DAG","uuid":"0c378397-1ea2-4206-9654-8673fca4661b","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_af5b340a_264c_437c_bc6b_1749e819544f","uuid":"40fc65bc-4516-4f7a-a5f6-4555a6a5362a"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"c4e6519d-2854-4185-b651-d5fd8dc4d34e"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_af5b340a_264c_437c_bc6b_1749e819544f","uuid":"40fc65bc-4516-4f7a-a5f6-4555a6a5362a"},"edge_type":"inherent","type":"","uuid":"0a3ce8cb-97ae-45af-876b-e17fe9146942","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"c4e6519d-2854-4185-b651-d5fd8dc4d34e"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_a7bc7bb9_8257_4e93_a10b_c0bcdc8a30e7"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSMySQL","uuid":"af5b340a-264c-437c-bc6b-1749e819544f"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"40fc65bc-4516-4f7a-a5f6-4555a6a5362a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"4e6388ed_deployment","uuid":"ba2c29f6-7b39-4698-a160-aa387b432ada"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_af5b340a_264c_437c_bc6b_1749e819544f","uuid":"1e813446-355e-42e3-8f17-0013f6c8a955"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Substrate_af5b340a_264c_437c_bc6b_1749e819544f"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"c4e6519d-2854-4185-b651-d5fd8dc4d34e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"4e6388ed_deployment","uuid":"ba2c29f6-7b39-4698-a160-aa387b432ada"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"e9d7de80_runbook","uuid":"1da5d6b4-d3df-4a19-942c-e6e85b650e34"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c"}],"description":"","message_list":[],"uuid":"269d493a-c535-4d34-b72a-f6fc86da7def","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_a7bc7bb9_8257_4e93_a10b_c0bcdc8a30e7","uuid":"0c378397-1ea2-4206-9654-8673fca4661b"},"name":"SYS_GEN__Runbook_Application_a7bc7bb9_8257_4e93_a10b_c0bcdc8a30e7"}},{"description":"System action for stopping an application","message_list":[],"uuid":"d84d6012-c2a8-4c52-8592-1b76a4aea528","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"AWS","uuid":"a7bc7bb9-8257-4e93-a10b-c0bcdc8a30e7"},"retries":"0","description":"","type":"DAG","uuid":"c4bd0ece-ab77-478d-8fbe-8e59ba23499a","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"5fa2c8ad-c1db-4167-a199-ef2555797586"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_af5b340a_264c_437c_bc6b_1749e819544f","uuid":"3518bfaf-ec7c-4d08-ab34-019793a9fced"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"5fa2c8ad-c1db-4167-a199-ef2555797586"},"edge_type":"inherent","type":"","uuid":"89c027e7-1257-4372-addd-f03fd0843826","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_af5b340a_264c_437c_bc6b_1749e819544f","uuid":"3518bfaf-ec7c-4d08-ab34-019793a9fced"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_a7bc7bb9_8257_4e93_a10b_c0bcdc8a30e7"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"5fa2c8ad-c1db-4167-a199-ef2555797586","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"4e6388ed_deployment","uuid":"ba2c29f6-7b39-4698-a160-aa387b432ada"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"534c563f_runbook","uuid":"fa558656-179d-42a9-8b13-80552295db71"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSMySQL","uuid":"af5b340a-264c-437c-bc6b-1749e819544f"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"3518bfaf-ec7c-4d08-ab34-019793a9fced","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"4e6388ed_deployment","uuid":"ba2c29f6-7b39-4698-a160-aa387b432ada"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_af5b340a_264c_437c_bc6b_1749e819544f","uuid":"d6df710f-2849-40be-a417-056103896305"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Substrate_af5b340a_264c_437c_bc6b_1749e819544f"}],"description":"","message_list":[],"uuid":"c7a8ffa7-b8de-411f-b69d-13a289f9fa1e","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_a7bc7bb9_8257_4e93_a10b_c0bcdc8a30e7","uuid":"c4bd0ece-ab77-478d-8fbe-8e59ba23499a"},"name":"SYS_GEN__Runbook_Application_a7bc7bb9_8257_4e93_a10b_c0bcdc8a30e7"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"8cad35c4-f793-497b-999b-e06aea9a5cca","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"AWS","uuid":"a7bc7bb9-8257-4e93-a10b-c0bcdc8a30e7"},"retries":"0","description":"","type":"DAG","uuid":"67cf56a8-3dea-4e02-b676-9ff5542e55c6","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"70c05888-cafb-4a31-97eb-c09a09ee4b9b"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"a05538c9-5a05-4a31-b012-ce06fcc84339"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_27f5243f_d06d_4d95_b0ea_0bf734f7f2e8","uuid":"75484be7-93e9-4751-a4e1-a9fe93ae4404"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_af5b340a_264c_437c_bc6b_1749e819544f","uuid":"3f1e1945-4692-4021-8e4d-af2ec29d2bda"},{"kind":"app_task","name":"SYS_GEN__DE_Delete_ba2c29f6_7b39_4698_a160_aa387b432ada","uuid":"3fd9f742-865c-4e0a-b625-8b0b8d7d7822"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"70c05888-cafb-4a31-97eb-c09a09ee4b9b"},"edge_type":"inherent","type":"","uuid":"36f55010-241e-484e-8c1a-8b7b96335c1a","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"a05538c9-5a05-4a31-b012-ce06fcc84339"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"a05538c9-5a05-4a31-b012-ce06fcc84339"},"edge_type":"inherent","type":"","uuid":"88f1064b-7ef7-450e-a2f3-66759311fa9e","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_27f5243f_d06d_4d95_b0ea_0bf734f7f2e8","uuid":"75484be7-93e9-4751-a4e1-a9fe93ae4404"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_af5b340a_264c_437c_bc6b_1749e819544f","uuid":"3f1e1945-4692-4021-8e4d-af2ec29d2bda"},"edge_type":"inherent","type":"","uuid":"e5b8615a-1420-4531-94ef-c7c0b0013528","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Delete_ba2c29f6_7b39_4698_a160_aa387b432ada","uuid":"3fd9f742-865c-4e0a-b625-8b0b8d7d7822"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_27f5243f_d06d_4d95_b0ea_0bf734f7f2e8","uuid":"75484be7-93e9-4751-a4e1-a9fe93ae4404"},"edge_type":"inherent","type":"","uuid":"6d79b3c7-5ae6-4b0c-9ffb-b19e302709ae","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_af5b340a_264c_437c_bc6b_1749e819544f","uuid":"3f1e1945-4692-4021-8e4d-af2ec29d2bda"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_a7bc7bb9_8257_4e93_a10b_c0bcdc8a30e7"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"70c05888-cafb-4a31-97eb-c09a09ee4b9b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"4e6388ed_deployment","uuid":"ba2c29f6-7b39-4698-a160-aa387b432ada"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"534c563f_runbook","uuid":"fa558656-179d-42a9-8b13-80552295db71"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"a05538c9-5a05-4a31-b012-ce06fcc84339","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"4e6388ed_deployment","uuid":"ba2c29f6-7b39-4698-a160-aa387b432ada"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"d738eefe_runbook","uuid":"15541983-ff20-4829-b0c7-aff046fa0beb"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c"},{"target_any_local_reference":{"kind":"app_package","name":"AWSMySQLPackage","uuid":"27f5243f-d06d-4d95-b0ea-0bf734f7f2e8"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"75484be7-93e9-4751-a4e1-a9fe93ae4404","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"4e6388ed_deployment","uuid":"ba2c29f6-7b39-4698-a160-aa387b432ada"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_27f5243f_d06d_4d95_b0ea_0bf734f7f2e8","uuid":"927f5714-4a02-40c5-b58e-5086482b384b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_27f5243f_d06d_4d95_b0ea_0bf734f7f2e8"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSMySQL","uuid":"af5b340a-264c-437c-bc6b-1749e819544f"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"3f1e1945-4692-4021-8e4d-af2ec29d2bda","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"4e6388ed_deployment","uuid":"ba2c29f6-7b39-4698-a160-aa387b432ada"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_af5b340a_264c_437c_bc6b_1749e819544f","uuid":"46cb8097-0ccf-4a94-97a8-c21a59fcdb24"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Substrate_af5b340a_264c_437c_bc6b_1749e819544f"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"4e6388ed_deployment","uuid":"ba2c29f6-7b39-4698-a160-aa387b432ada"},"retries":"0","description":"","type":"DELETE_DEPLOYMENT_ELEMENT","uuid":"3fd9f742-865c-4e0a-b625-8b0b8d7d7822","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Delete_ba2c29f6_7b39_4698_a160_aa387b432ada"}],"description":"","message_list":[],"uuid":"bd248a9d-400e-4351-ab64-614b8fc4e066","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_a7bc7bb9_8257_4e93_a10b_c0bcdc8a30e7","uuid":"67cf56a8-3dea-4e02-b676-9ff5542e55c6"},"name":"SYS_GEN__Runbook_Application_a7bc7bb9_8257_4e93_a10b_c0bcdc8a30e7"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"f2160c1a-277b-41f3-849c-0bbc316495a2","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"AWS","uuid":"a7bc7bb9-8257-4e93-a10b-c0bcdc8a30e7"},"retries":"0","description":"","type":"DAG","uuid":"17d94432-8c0d-4119-9dcb-15474a0b8f28","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"c61fc62f-3008-4f4d-9586-22a1f63feb5d"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_27f5243f_d06d_4d95_b0ea_0bf734f7f2e8","uuid":"78fbefde-3e1a-4979-951f-024db5bf9d74"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_af5b340a_264c_437c_bc6b_1749e819544f","uuid":"133dddc4-414c-4be5-a706-34620e333a2c"},{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_ba2c29f6_7b39_4698_a160_aa387b432ada","uuid":"57fe0fb1-c2f1-4c02-a940-0ed9daa97f66"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"c61fc62f-3008-4f4d-9586-22a1f63feb5d"},"edge_type":"inherent","type":"","uuid":"20cba519-e61c-4650-a3f8-4ae7abe85b06","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_27f5243f_d06d_4d95_b0ea_0bf734f7f2e8","uuid":"78fbefde-3e1a-4979-951f-024db5bf9d74"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_af5b340a_264c_437c_bc6b_1749e819544f","uuid":"133dddc4-414c-4be5-a706-34620e333a2c"},"edge_type":"inherent","type":"","uuid":"0b5c1f8a-462f-4a48-acac-20483159cd76","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_ba2c29f6_7b39_4698_a160_aa387b432ada","uuid":"57fe0fb1-c2f1-4c02-a940-0ed9daa97f66"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_27f5243f_d06d_4d95_b0ea_0bf734f7f2e8","uuid":"78fbefde-3e1a-4979-951f-024db5bf9d74"},"edge_type":"inherent","type":"","uuid":"fc166426-547b-4a2d-a194-35906c48fe2b","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_af5b340a_264c_437c_bc6b_1749e819544f","uuid":"133dddc4-414c-4be5-a706-34620e333a2c"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_a7bc7bb9_8257_4e93_a10b_c0bcdc8a30e7"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"c61fc62f-3008-4f4d-9586-22a1f63feb5d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"4e6388ed_deployment","uuid":"ba2c29f6-7b39-4698-a160-aa387b432ada"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"957cfc08-a445-474a-b6fd-5a80c651f044"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c"},{"target_any_local_reference":{"kind":"app_package","name":"AWSMySQLPackage","uuid":"27f5243f-d06d-4d95-b0ea-0bf734f7f2e8"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"78fbefde-3e1a-4979-951f-024db5bf9d74","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_27f5243f_d06d_4d95_b0ea_0bf734f7f2e8"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSMySQL","uuid":"af5b340a-264c-437c-bc6b-1749e819544f"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"133dddc4-414c-4be5-a706-34620e333a2c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"4e6388ed_deployment","uuid":"ba2c29f6-7b39-4698-a160-aa387b432ada"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_af5b340a_264c_437c_bc6b_1749e819544f","uuid":"f423e3d2-d486-4d64-9c09-aea07482f3e4"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Substrate_af5b340a_264c_437c_bc6b_1749e819544f"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"4e6388ed_deployment","uuid":"ba2c29f6-7b39-4698-a160-aa387b432ada"},"retries":"0","description":"","type":"SOFT_DELETE_DEPLOYMENT_ELEMENT","uuid":"57fe0fb1-c2f1-4c02-a940-0ed9daa97f66","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Soft_Delete_ba2c29f6_7b39_4698_a160_aa387b432ada"}],"description":"","message_list":[],"uuid":"e7d8cc68-4841-44af-8b67-30ceeae5918d","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_a7bc7bb9_8257_4e93_a10b_c0bcdc8a30e7","uuid":"17d94432-8c0d-4119-9dcb-15474a0b8f28"},"name":"SYS_GEN__Runbook_Application_a7bc7bb9_8257_4e93_a10b_c0bcdc8a30e7"}}],"message_list":[],"uuid":"a7bc7bb9-8257-4e93-a10b-c0bcdc8a30e7","state":"DRAFT","dependency_list":[],"variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[{"message":"Secret value for variable is empty","reason":"EMPTY_VALUE","details":[{"attribute_name":"secret"}]},{"message":"Value of secret variable is empty","reason":"EMPTY_VALUE","details":[{"attribute_name":"value"}]}],"uuid":"01d95f3a-0b87-4df0-94c1-5537fcf7fa1f","value":"","label":"","state":"ACTIVE","attrs":{"is_secret_modified":false,"secret_reference":{"uuid":"fd7f7d83-6959-46b9-bd26-ef24dc855f14"},"type":""},"editables":{"value":true},"is_hidden":false,"type":"SECRET","options":{},"name":"MYSQL_PASSWORD"}],"name":"AWS"},{"deployment_create_list":[{"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"42860329-3513-43ac-971b-87d8979cff73","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"aa7d4c13_deployment","uuid":"705e1628-66ee-4aa5-b9a7-85c51df4cd20"},"retries":"0","description":"","type":"DAG","uuid":"a4c3b0b3-d0d8-4b58-8c9c-7f6930339775","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__DE_Provision_705e1628_66ee_4aa5_b9a7_85c51df4cd20","uuid":"37d86b7f-0815-468d-b9ba-bde98f126d1f"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_f830e0ae_c36f_45a3_b503_b8f783ccaa41","uuid":"3cce644f-b8d5-415e-b0ea-939f2cf87b15"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_a23c2259_dd5c_4063_b54f_6af67ce60ee9","uuid":"20444fb8-94a2-4227-89c1-cf8860c3a1d4"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"3ac3b574-7465-4d1d-b8a0-f110049a4275"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"e03ce2ec-62c5-44d9-9263-8967e91d22be"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"3ac3b574-7465-4d1d-b8a0-f110049a4275"},"edge_type":"inherent","type":"","uuid":"45efd47a-7270-42c2-a98d-cbdc8c0f4ae0","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"e03ce2ec-62c5-44d9-9263-8967e91d22be"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_a23c2259_dd5c_4063_b54f_6af67ce60ee9","uuid":"20444fb8-94a2-4227-89c1-cf8860c3a1d4"},"edge_type":"inherent","type":"","uuid":"a7864074-5765-4750-9299-5f2d5a59a456","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"3ac3b574-7465-4d1d-b8a0-f110049a4275"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_705e1628_66ee_4aa5_b9a7_85c51df4cd20","uuid":"37d86b7f-0815-468d-b9ba-bde98f126d1f"},"edge_type":"inherent","type":"","uuid":"69afcd5a-8dc8-496b-a904-69b2d40f6c80","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_f830e0ae_c36f_45a3_b503_b8f783ccaa41","uuid":"3cce644f-b8d5-415e-b0ea-939f2cf87b15"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_f830e0ae_c36f_45a3_b503_b8f783ccaa41","uuid":"3cce644f-b8d5-415e-b0ea-939f2cf87b15"},"edge_type":"inherent","type":"","uuid":"ef627b66-0674-4f34-845a-dbac9d4a2ea3","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_a23c2259_dd5c_4063_b54f_6af67ce60ee9","uuid":"20444fb8-94a2-4227-89c1-cf8860c3a1d4"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_705e1628_66ee_4aa5_b9a7_85c51df4cd20"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"aa7d4c13_deployment","uuid":"705e1628-66ee-4aa5-b9a7-85c51df4cd20"},"retries":"0","description":"","type":"CREATE_DEPLOYMENT_ELEMENT","uuid":"37d86b7f-0815-468d-b9ba-bde98f126d1f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Provision_705e1628_66ee_4aa5_b9a7_85c51df4cd20"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPMySQL","uuid":"f830e0ae-c36f-45a3-b503-b8f783ccaa41"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"3cce644f-b8d5-415e-b0ea-939f2cf87b15","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"aa7d4c13_deployment","uuid":"705e1628-66ee-4aa5-b9a7-85c51df4cd20"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_f830e0ae_c36f_45a3_b503_b8f783ccaa41","uuid":"a4fdecdd-8efa-4d47-8146-d3fda30b7d46"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Substrate_f830e0ae_c36f_45a3_b503_b8f783ccaa41"},{"target_any_local_reference":{"kind":"app_package","name":"GCPMySQLPackage","uuid":"a23c2259-dd5c-4063-b54f-6af67ce60ee9"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"20444fb8-94a2-4227-89c1-cf8860c3a1d4","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"aa7d4c13_deployment","uuid":"705e1628-66ee-4aa5-b9a7-85c51df4cd20"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_a23c2259_dd5c_4063_b54f_6af67ce60ee9","uuid":"86cba90c-cf59-4406-81a6-8b32fb10adb8"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_a23c2259_dd5c_4063_b54f_6af67ce60ee9"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"3ac3b574-7465-4d1d-b8a0-f110049a4275","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"aa7d4c13_deployment","uuid":"705e1628-66ee-4aa5-b9a7-85c51df4cd20"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"f603ab76_runbook","uuid":"1f2c9854-fd61-4d80-a059-2670f4aa3ba3"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"e03ce2ec-62c5-44d9-9263-8967e91d22be","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"aa7d4c13_deployment","uuid":"705e1628-66ee-4aa5-b9a7-85c51df4cd20"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"7748f46a_runbook","uuid":"a0ae1241-f6d5-470e-b065-dfde29b2bbf2"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c"}],"description":"","message_list":[],"uuid":"22ca6c99-8d5e-481d-b2d5-a64990d5f1c6","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_705e1628_66ee_4aa5_b9a7_85c51df4cd20","uuid":"a4c3b0b3-d0d8-4b58-8c9c-7f6930339775"},"name":"SYS_GEN__Runbook_Deployment_705e1628_66ee_4aa5_b9a7_85c51df4cd20"}},{"description":"System action for starting an application","message_list":[],"uuid":"177efcc2-dabc-4412-a28e-5530654a13a7","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"aa7d4c13_deployment","uuid":"705e1628-66ee-4aa5-b9a7-85c51df4cd20"},"retries":"0","description":"","type":"DAG","uuid":"bc3de366-d8a4-49f0-b74e-ada06576e3e6","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_f830e0ae_c36f_45a3_b503_b8f783ccaa41","uuid":"88265282-2fda-4d42-890e-ce7817a5389b"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"f9acf9ec-5daa-49da-aced-cf681c802c0f"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_f830e0ae_c36f_45a3_b503_b8f783ccaa41","uuid":"88265282-2fda-4d42-890e-ce7817a5389b"},"edge_type":"inherent","type":"","uuid":"cd364238-58b9-4c66-8a07-efc21b970b42","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"f9acf9ec-5daa-49da-aced-cf681c802c0f"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_705e1628_66ee_4aa5_b9a7_85c51df4cd20"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPMySQL","uuid":"f830e0ae-c36f-45a3-b503-b8f783ccaa41"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"88265282-2fda-4d42-890e-ce7817a5389b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"aa7d4c13_deployment","uuid":"705e1628-66ee-4aa5-b9a7-85c51df4cd20"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_f830e0ae_c36f_45a3_b503_b8f783ccaa41","uuid":"941f3b3e-d66e-46a4-a55e-772f0966ebdc"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Substrate_f830e0ae_c36f_45a3_b503_b8f783ccaa41"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"f9acf9ec-5daa-49da-aced-cf681c802c0f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"aa7d4c13_deployment","uuid":"705e1628-66ee-4aa5-b9a7-85c51df4cd20"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"7748f46a_runbook","uuid":"a0ae1241-f6d5-470e-b065-dfde29b2bbf2"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c"}],"description":"","message_list":[],"uuid":"1bdd2ec5-89ac-47ec-a0d9-72ca97c89d38","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_705e1628_66ee_4aa5_b9a7_85c51df4cd20","uuid":"bc3de366-d8a4-49f0-b74e-ada06576e3e6"},"name":"SYS_GEN__Runbook_Deployment_705e1628_66ee_4aa5_b9a7_85c51df4cd20"}},{"description":"System action for restarting an application","message_list":[],"uuid":"e5d5145c-4fe6-47e2-80ff-b4114c141198","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"aa7d4c13_deployment","uuid":"705e1628-66ee-4aa5-b9a7-85c51df4cd20"},"retries":"0","description":"","type":"DAG","uuid":"aff98886-a682-4ca1-aef1-04e9b9529a81","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_f830e0ae_c36f_45a3_b503_b8f783ccaa41","uuid":"4e178e02-a30c-4172-9d83-43e5a0d9a19a"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"fa0502fe-5cff-41f9-b5fe-b61826f153a9"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_f830e0ae_c36f_45a3_b503_b8f783ccaa41","uuid":"4e178e02-a30c-4172-9d83-43e5a0d9a19a"},"edge_type":"inherent","type":"","uuid":"0d0ac73c-e1e0-40fb-ade5-78b83a46f8c0","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"fa0502fe-5cff-41f9-b5fe-b61826f153a9"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_705e1628_66ee_4aa5_b9a7_85c51df4cd20"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPMySQL","uuid":"f830e0ae-c36f-45a3-b503-b8f783ccaa41"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"4e178e02-a30c-4172-9d83-43e5a0d9a19a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"aa7d4c13_deployment","uuid":"705e1628-66ee-4aa5-b9a7-85c51df4cd20"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_f830e0ae_c36f_45a3_b503_b8f783ccaa41","uuid":"6d7bc990-5720-4b0c-ba69-5cc6a8cf0e94"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Substrate_f830e0ae_c36f_45a3_b503_b8f783ccaa41"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"fa0502fe-5cff-41f9-b5fe-b61826f153a9","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"aa7d4c13_deployment","uuid":"705e1628-66ee-4aa5-b9a7-85c51df4cd20"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"e9d7de80_runbook","uuid":"1da5d6b4-d3df-4a19-942c-e6e85b650e34"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c"}],"description":"","message_list":[],"uuid":"fc29af82-7de2-4419-ac0d-309f293861f3","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_705e1628_66ee_4aa5_b9a7_85c51df4cd20","uuid":"aff98886-a682-4ca1-aef1-04e9b9529a81"},"name":"SYS_GEN__Runbook_Deployment_705e1628_66ee_4aa5_b9a7_85c51df4cd20"}},{"description":"System action for stopping an application","message_list":[],"uuid":"d3a5fd72-a6fd-4229-b39a-9eed6fe1d0bb","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"aa7d4c13_deployment","uuid":"705e1628-66ee-4aa5-b9a7-85c51df4cd20"},"retries":"0","description":"","type":"DAG","uuid":"075b23ee-b679-4482-92e7-9a71621ceada","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"4e0111ff-4f2c-4dae-b5f3-ca555d470994"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_f830e0ae_c36f_45a3_b503_b8f783ccaa41","uuid":"d5f748da-683e-4616-a49a-6c7ef20c24a7"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"4e0111ff-4f2c-4dae-b5f3-ca555d470994"},"edge_type":"inherent","type":"","uuid":"6e17ba83-00b9-497f-af88-bc6e02e746f9","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_f830e0ae_c36f_45a3_b503_b8f783ccaa41","uuid":"d5f748da-683e-4616-a49a-6c7ef20c24a7"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_705e1628_66ee_4aa5_b9a7_85c51df4cd20"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"4e0111ff-4f2c-4dae-b5f3-ca555d470994","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"aa7d4c13_deployment","uuid":"705e1628-66ee-4aa5-b9a7-85c51df4cd20"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"534c563f_runbook","uuid":"fa558656-179d-42a9-8b13-80552295db71"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPMySQL","uuid":"f830e0ae-c36f-45a3-b503-b8f783ccaa41"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"d5f748da-683e-4616-a49a-6c7ef20c24a7","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"aa7d4c13_deployment","uuid":"705e1628-66ee-4aa5-b9a7-85c51df4cd20"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_f830e0ae_c36f_45a3_b503_b8f783ccaa41","uuid":"318989dd-8447-4dc5-8360-5301cd78f9a4"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Substrate_f830e0ae_c36f_45a3_b503_b8f783ccaa41"}],"description":"","message_list":[],"uuid":"87623e01-9865-40fe-bfb4-4bad592b086b","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_705e1628_66ee_4aa5_b9a7_85c51df4cd20","uuid":"075b23ee-b679-4482-92e7-9a71621ceada"},"name":"SYS_GEN__Runbook_Deployment_705e1628_66ee_4aa5_b9a7_85c51df4cd20"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"2e6c8e40-e53e-4bf6-8898-417010e7dcce","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"aa7d4c13_deployment","uuid":"705e1628-66ee-4aa5-b9a7-85c51df4cd20"},"retries":"0","description":"","type":"DAG","uuid":"c556020e-ce1c-41f8-ac2f-751e79712339","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"4e06fcb0-d6c9-46f1-8985-82bc886cb588"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"cd37ff99-fbe0-459c-b61d-b9c3f758d761"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_a23c2259_dd5c_4063_b54f_6af67ce60ee9","uuid":"a3179764-6199-487e-a704-1f4318d3bb7e"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_f830e0ae_c36f_45a3_b503_b8f783ccaa41","uuid":"d632e580-3a16-40b3-a5d8-b94f60a0ef04"},{"kind":"app_task","name":"SYS_GEN__DE_Delete_705e1628_66ee_4aa5_b9a7_85c51df4cd20","uuid":"a1be5901-aa09-42cc-bce5-6a7755f7cb58"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"4e06fcb0-d6c9-46f1-8985-82bc886cb588"},"edge_type":"inherent","type":"","uuid":"2850c0cc-1eb6-4168-a8cb-8ab685f45d9e","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"cd37ff99-fbe0-459c-b61d-b9c3f758d761"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"cd37ff99-fbe0-459c-b61d-b9c3f758d761"},"edge_type":"inherent","type":"","uuid":"0a34ede9-a03f-440f-825a-e921f063ab65","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_a23c2259_dd5c_4063_b54f_6af67ce60ee9","uuid":"a3179764-6199-487e-a704-1f4318d3bb7e"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_a23c2259_dd5c_4063_b54f_6af67ce60ee9","uuid":"a3179764-6199-487e-a704-1f4318d3bb7e"},"edge_type":"inherent","type":"","uuid":"d995e2f1-ff67-4862-8f71-3312f4593dde","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_f830e0ae_c36f_45a3_b503_b8f783ccaa41","uuid":"d632e580-3a16-40b3-a5d8-b94f60a0ef04"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_f830e0ae_c36f_45a3_b503_b8f783ccaa41","uuid":"d632e580-3a16-40b3-a5d8-b94f60a0ef04"},"edge_type":"inherent","type":"","uuid":"c7504501-6f3b-480f-b75d-16cbb9d906aa","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Delete_705e1628_66ee_4aa5_b9a7_85c51df4cd20","uuid":"a1be5901-aa09-42cc-bce5-6a7755f7cb58"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_705e1628_66ee_4aa5_b9a7_85c51df4cd20"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"4e06fcb0-d6c9-46f1-8985-82bc886cb588","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"aa7d4c13_deployment","uuid":"705e1628-66ee-4aa5-b9a7-85c51df4cd20"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"534c563f_runbook","uuid":"fa558656-179d-42a9-8b13-80552295db71"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"cd37ff99-fbe0-459c-b61d-b9c3f758d761","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"aa7d4c13_deployment","uuid":"705e1628-66ee-4aa5-b9a7-85c51df4cd20"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"d738eefe_runbook","uuid":"15541983-ff20-4829-b0c7-aff046fa0beb"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c"},{"target_any_local_reference":{"kind":"app_package","name":"GCPMySQLPackage","uuid":"a23c2259-dd5c-4063-b54f-6af67ce60ee9"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"a3179764-6199-487e-a704-1f4318d3bb7e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"aa7d4c13_deployment","uuid":"705e1628-66ee-4aa5-b9a7-85c51df4cd20"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_a23c2259_dd5c_4063_b54f_6af67ce60ee9","uuid":"7a015f1a-5a03-4be8-bd8c-138e74d2f4a2"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_a23c2259_dd5c_4063_b54f_6af67ce60ee9"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPMySQL","uuid":"f830e0ae-c36f-45a3-b503-b8f783ccaa41"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"d632e580-3a16-40b3-a5d8-b94f60a0ef04","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"aa7d4c13_deployment","uuid":"705e1628-66ee-4aa5-b9a7-85c51df4cd20"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_f830e0ae_c36f_45a3_b503_b8f783ccaa41","uuid":"bfa29a63-c920-4ff6-b9a7-3205a50a0bd1"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Substrate_f830e0ae_c36f_45a3_b503_b8f783ccaa41"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"aa7d4c13_deployment","uuid":"705e1628-66ee-4aa5-b9a7-85c51df4cd20"},"retries":"0","description":"","type":"DELETE_DEPLOYMENT_ELEMENT","uuid":"a1be5901-aa09-42cc-bce5-6a7755f7cb58","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Delete_705e1628_66ee_4aa5_b9a7_85c51df4cd20"}],"description":"","message_list":[],"uuid":"4c801c68-aa84-4b85-9ad9-4408edfc4f8b","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_705e1628_66ee_4aa5_b9a7_85c51df4cd20","uuid":"c556020e-ce1c-41f8-ac2f-751e79712339"},"name":"SYS_GEN__Runbook_Deployment_705e1628_66ee_4aa5_b9a7_85c51df4cd20"}},{"description":"System action for scaleout","message_list":[],"uuid":"e3825e75-442b-42e1-b251-a5adf4c76505","name":"action_scaleout","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"aa7d4c13_deployment","uuid":"705e1628-66ee-4aa5-b9a7-85c51df4cd20"},"retries":"0","description":"","type":"DAG","uuid":"af09d9bc-56d0-43cb-9ae0-ac36400d799c","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Deployment_Scaleout_705e1628_66ee_4aa5_b9a7_85c51df4cd20","uuid":"1ccc66f9-e3db-46c3-a90e-b59186f38bc3"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_705e1628_66ee_4aa5_b9a7_85c51df4cd20"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"aa7d4c13_deployment","uuid":"705e1628-66ee-4aa5-b9a7-85c51df4cd20"},"retries":"0","description":"","type":"SCALING","uuid":"1ccc66f9-e3db-46c3-a90e-b59186f38bc3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{scaling_count}@@","type":"","scaling_type":"SCALEOUT"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Deployment_Scaleout_705e1628_66ee_4aa5_b9a7_85c51df4cd20"}],"description":"","message_list":[],"uuid":"103eef0a-9de5-445d-a18c-3ef7d5d58ccd","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"8cb446ec-c8ce-4007-b889-0d5fe9f6b988","value":"0","label":"","state":"NOT_VALIDATED","attrs":{},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"scaling_count"}],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_705e1628_66ee_4aa5_b9a7_85c51df4cd20","uuid":"af09d9bc-56d0-43cb-9ae0-ac36400d799c"},"name":"SYS_GEN__Runbook_Deployment_705e1628_66ee_4aa5_b9a7_85c51df4cd20"}},{"description":"System action for scalein","message_list":[],"uuid":"b00c0e0d-5d8a-4613-8702-dcf88e9dd671","name":"action_scalein","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"aa7d4c13_deployment","uuid":"705e1628-66ee-4aa5-b9a7-85c51df4cd20"},"retries":"0","description":"","type":"DAG","uuid":"43a55ae4-86d3-41f7-83e5-b7f63c07cb7e","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Deployment_Scalein_705e1628_66ee_4aa5_b9a7_85c51df4cd20","uuid":"8f9f4acf-794b-4d92-8424-964953b0acda"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_705e1628_66ee_4aa5_b9a7_85c51df4cd20"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"aa7d4c13_deployment","uuid":"705e1628-66ee-4aa5-b9a7-85c51df4cd20"},"retries":"0","description":"","type":"SCALING","uuid":"8f9f4acf-794b-4d92-8424-964953b0acda","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{scaling_count}@@","type":"","scaling_type":"SCALEIN"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Deployment_Scalein_705e1628_66ee_4aa5_b9a7_85c51df4cd20"}],"description":"","message_list":[],"uuid":"a3fa16ee-3362-408a-8ada-18c8ef27ea16","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"c486f1e5-2c39-4c21-9d1f-995f94d2a2bf","value":"0","label":"","state":"NOT_VALIDATED","attrs":{},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"scaling_count"}],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_705e1628_66ee_4aa5_b9a7_85c51df4cd20","uuid":"43a55ae4-86d3-41f7-83e5-b7f63c07cb7e"},"name":"SYS_GEN__Runbook_Deployment_705e1628_66ee_4aa5_b9a7_85c51df4cd20"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"07e7c480-aabb-4e6e-9fdc-2d97d9e515d6","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"aa7d4c13_deployment","uuid":"705e1628-66ee-4aa5-b9a7-85c51df4cd20"},"retries":"0","description":"","type":"DAG","uuid":"1861712b-c2f3-4555-bb65-6992df716d8c","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"45540d07-ea14-4b32-9118-87970d4e00ce"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_a23c2259_dd5c_4063_b54f_6af67ce60ee9","uuid":"1e527d34-ffcf-4f5b-a9e4-f6b629bc4ef2"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_f830e0ae_c36f_45a3_b503_b8f783ccaa41","uuid":"da59ac46-6ffa-4063-8b76-eba050a96353"},{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_705e1628_66ee_4aa5_b9a7_85c51df4cd20","uuid":"cba2eba9-54fe-4142-86c9-0171145193d6"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"45540d07-ea14-4b32-9118-87970d4e00ce"},"edge_type":"inherent","type":"","uuid":"734c41d0-451a-44aa-b2c1-56f214cdfb0a","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_a23c2259_dd5c_4063_b54f_6af67ce60ee9","uuid":"1e527d34-ffcf-4f5b-a9e4-f6b629bc4ef2"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_a23c2259_dd5c_4063_b54f_6af67ce60ee9","uuid":"1e527d34-ffcf-4f5b-a9e4-f6b629bc4ef2"},"edge_type":"inherent","type":"","uuid":"8076e9c5-8f48-4d05-999e-7f398cf476db","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_f830e0ae_c36f_45a3_b503_b8f783ccaa41","uuid":"da59ac46-6ffa-4063-8b76-eba050a96353"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_f830e0ae_c36f_45a3_b503_b8f783ccaa41","uuid":"da59ac46-6ffa-4063-8b76-eba050a96353"},"edge_type":"inherent","type":"","uuid":"5406bd43-178b-4893-8c12-2d761b53bd6b","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_705e1628_66ee_4aa5_b9a7_85c51df4cd20","uuid":"cba2eba9-54fe-4142-86c9-0171145193d6"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_705e1628_66ee_4aa5_b9a7_85c51df4cd20"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"45540d07-ea14-4b32-9118-87970d4e00ce","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"aa7d4c13_deployment","uuid":"705e1628-66ee-4aa5-b9a7-85c51df4cd20"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"957cfc08-a445-474a-b6fd-5a80c651f044"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c"},{"target_any_local_reference":{"kind":"app_package","name":"GCPMySQLPackage","uuid":"a23c2259-dd5c-4063-b54f-6af67ce60ee9"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"1e527d34-ffcf-4f5b-a9e4-f6b629bc4ef2","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_a23c2259_dd5c_4063_b54f_6af67ce60ee9"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPMySQL","uuid":"f830e0ae-c36f-45a3-b503-b8f783ccaa41"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"da59ac46-6ffa-4063-8b76-eba050a96353","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"aa7d4c13_deployment","uuid":"705e1628-66ee-4aa5-b9a7-85c51df4cd20"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_f830e0ae_c36f_45a3_b503_b8f783ccaa41","uuid":"afa5a7a2-640a-4864-abd1-5a532d62290c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Substrate_f830e0ae_c36f_45a3_b503_b8f783ccaa41"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"aa7d4c13_deployment","uuid":"705e1628-66ee-4aa5-b9a7-85c51df4cd20"},"retries":"0","description":"","type":"SOFT_DELETE_DEPLOYMENT_ELEMENT","uuid":"cba2eba9-54fe-4142-86c9-0171145193d6","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Soft_Delete_705e1628_66ee_4aa5_b9a7_85c51df4cd20"}],"description":"","message_list":[],"uuid":"6f983a23-66d7-493e-82af-5718427583a5","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_705e1628_66ee_4aa5_b9a7_85c51df4cd20","uuid":"1861712b-c2f3-4555-bb65-6992df716d8c"},"name":"SYS_GEN__Runbook_Deployment_705e1628_66ee_4aa5_b9a7_85c51df4cd20"}}],"message_list":[],"published_service_local_reference_list":[],"uuid":"705e1628-66ee-4aa5-b9a7-85c51df4cd20","min_replicas":"1","state":"DRAFT","max_replicas":"1","depends_on_list":[],"editables":{},"package_local_reference_list":[{"kind":"app_package","name":"GCPMySQLPackage","uuid":"a23c2259-dd5c-4063-b54f-6af67ce60ee9"}],"substrate_local_reference":{"kind":"app_substrate","name":"GCPMySQL","uuid":"f830e0ae-c36f-45a3-b503-b8f783ccaa41"},"type":"GREENFIELD","options":{},"variable_list":[],"name":"aa7d4c13_deployment"}],"description":"","action_list":[{"description":"Take DB Backup. Specify absolute directory path for BACKUP_FILE_PATH","message_list":[],"uuid":"5c4a65a5-a0d9-4f02-9b5d-db291019681c","name":"Backup","state":"ACTIVE","critical":false,"attrs":{},"type":"user","runbook":{"task_definition_list":[{"retries":"0","description":"","type":"DAG","uuid":"0e2155a3-8f21-4dc0-849b-63281f97f330","child_tasks_local_reference_list":[{"kind":"app_task","name":"Do DB Backup","uuid":"d6051676-dd9a-4679-9c4b-cb1d76cc7929"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"05928d59_dag"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"EXEC","uuid":"d6051676-dd9a-4679-9c4b-cb1d76cc7929","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n### Setup variables\nmysql_password=\"@@{MYSQL_PASSWORD}@@\"\ndate_part=`date +%F`\nmkdir -p @@{BACKUP_FILE_PATH}@@\nsudo mysqldump -u root -p${mysql_password} --all-databases | sudo gzip -9 > @@{BACKUP_FILE_PATH}@@\/db_dump.sql.gz","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"d2eec46b-8fe8-4b34-9979-e0807d4717c1"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Do DB Backup"}],"description":"","message_list":[],"uuid":"cf5e8314-40df-48cf-bad7-d06c9743013b","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"cd37c0ea-1113-494c-a99c-a7af6ffe55f1","value":"~\/db_backup","label":"","state":"NOT_VALIDATED","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"BACKUP_FILE_PATH"}],"main_task_local_reference":{"kind":"app_task","name":"05928d59_dag","uuid":"0e2155a3-8f21-4dc0-849b-63281f97f330"},"name":"b9264f75_runbook"}},{"description":"To restore DB from dump file. Specify absolute directory path for RESTORE_FILE_PATH","message_list":[],"uuid":"4e9a5638-cc7a-4b84-86ba-51434317f8d5","name":"Restore","state":"ACTIVE","critical":false,"attrs":{},"type":"user","runbook":{"task_definition_list":[{"retries":"0","description":"","type":"DAG","uuid":"a54be491-add7-44b4-b341-69ab4ba1ab2b","child_tasks_local_reference_list":[{"kind":"app_task","name":"Do DB Restore","uuid":"1c43a776-6645-4573-8ffa-4ae863cf97e4"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"16ceb0f5_dag"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"EXEC","uuid":"1c43a776-6645-4573-8ffa-4ae863cf97e4","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n### Setup variables\nmysql_password=\"@@{MYSQL_PASSWORD}@@\"\ndb_file=@@{RESTORE_FILE_PATH}@@\n\nsudo gunzip < $db_file | sudo mysql -u root -p${mysql_password} ","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"d2eec46b-8fe8-4b34-9979-e0807d4717c1"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Do DB Restore"}],"description":"","message_list":[],"uuid":"2e724144-9f94-4a5d-b5c7-ca34e3cf393f","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"2eecbd93-8761-4fc7-9235-5c28cc8ad33d","value":"~\/db_backup\/db_dump.sql.gz","label":"","state":"NOT_VALIDATED","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"RESTORE_FILE_PATH"}],"main_task_local_reference":{"kind":"app_task","name":"16ceb0f5_dag","uuid":"a54be491-add7-44b4-b341-69ab4ba1ab2b"},"name":"48614a3d_runbook"}},{"description":"System action for creating an application","message_list":[],"uuid":"4680722e-6f7b-4a1f-befc-2093a5a1710b","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"GCP","uuid":"9cecccd7-99f2-4c5d-a0a6-90422037acb0"},"retries":"0","description":"","type":"DAG","uuid":"fec8cd31-e8f4-4c8e-8934-428337626634","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__DE_Provision_705e1628_66ee_4aa5_b9a7_85c51df4cd20","uuid":"543729fb-554e-42af-9ca9-26d5a707019c"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_f830e0ae_c36f_45a3_b503_b8f783ccaa41","uuid":"9c1ff69f-e38b-46af-998c-a1b75c639447"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_a23c2259_dd5c_4063_b54f_6af67ce60ee9","uuid":"fdb354e7-e6bf-4f20-8b7c-762c5677e44b"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"de1102cc-76d5-4a2d-8c2f-c810481ed7ec"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"7efa376b-60e0-4061-9ccf-0ffec14ad2c3"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"de1102cc-76d5-4a2d-8c2f-c810481ed7ec"},"edge_type":"inherent","type":"","uuid":"121f1635-b284-4f3c-b228-4d700164d876","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"7efa376b-60e0-4061-9ccf-0ffec14ad2c3"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_a23c2259_dd5c_4063_b54f_6af67ce60ee9","uuid":"fdb354e7-e6bf-4f20-8b7c-762c5677e44b"},"edge_type":"inherent","type":"","uuid":"0a9f65d0-432a-4c98-8999-deba7c959a11","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"de1102cc-76d5-4a2d-8c2f-c810481ed7ec"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_705e1628_66ee_4aa5_b9a7_85c51df4cd20","uuid":"543729fb-554e-42af-9ca9-26d5a707019c"},"edge_type":"inherent","type":"","uuid":"307de251-e7fe-4f98-a68b-dd358176bc20","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_f830e0ae_c36f_45a3_b503_b8f783ccaa41","uuid":"9c1ff69f-e38b-46af-998c-a1b75c639447"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_f830e0ae_c36f_45a3_b503_b8f783ccaa41","uuid":"9c1ff69f-e38b-46af-998c-a1b75c639447"},"edge_type":"inherent","type":"","uuid":"69b56be9-480c-4edf-95b7-3b3e3cbc4326","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_a23c2259_dd5c_4063_b54f_6af67ce60ee9","uuid":"fdb354e7-e6bf-4f20-8b7c-762c5677e44b"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_9cecccd7_99f2_4c5d_a0a6_90422037acb0"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"aa7d4c13_deployment","uuid":"705e1628-66ee-4aa5-b9a7-85c51df4cd20"},"retries":"0","description":"","type":"CREATE_DEPLOYMENT_ELEMENT","uuid":"543729fb-554e-42af-9ca9-26d5a707019c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Provision_705e1628_66ee_4aa5_b9a7_85c51df4cd20"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPMySQL","uuid":"f830e0ae-c36f-45a3-b503-b8f783ccaa41"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"9c1ff69f-e38b-46af-998c-a1b75c639447","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"aa7d4c13_deployment","uuid":"705e1628-66ee-4aa5-b9a7-85c51df4cd20"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_f830e0ae_c36f_45a3_b503_b8f783ccaa41","uuid":"a4fdecdd-8efa-4d47-8146-d3fda30b7d46"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Substrate_f830e0ae_c36f_45a3_b503_b8f783ccaa41"},{"target_any_local_reference":{"kind":"app_package","name":"GCPMySQLPackage","uuid":"a23c2259-dd5c-4063-b54f-6af67ce60ee9"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"fdb354e7-e6bf-4f20-8b7c-762c5677e44b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"aa7d4c13_deployment","uuid":"705e1628-66ee-4aa5-b9a7-85c51df4cd20"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_a23c2259_dd5c_4063_b54f_6af67ce60ee9","uuid":"86cba90c-cf59-4406-81a6-8b32fb10adb8"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_a23c2259_dd5c_4063_b54f_6af67ce60ee9"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"de1102cc-76d5-4a2d-8c2f-c810481ed7ec","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"aa7d4c13_deployment","uuid":"705e1628-66ee-4aa5-b9a7-85c51df4cd20"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"f603ab76_runbook","uuid":"1f2c9854-fd61-4d80-a059-2670f4aa3ba3"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"7efa376b-60e0-4061-9ccf-0ffec14ad2c3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"aa7d4c13_deployment","uuid":"705e1628-66ee-4aa5-b9a7-85c51df4cd20"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"7748f46a_runbook","uuid":"a0ae1241-f6d5-470e-b065-dfde29b2bbf2"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c"}],"description":"","message_list":[],"uuid":"e1094ae6-f59b-474d-801f-4d2dd5bdf37d","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_9cecccd7_99f2_4c5d_a0a6_90422037acb0","uuid":"fec8cd31-e8f4-4c8e-8934-428337626634"},"name":"SYS_GEN__Runbook_Application_9cecccd7_99f2_4c5d_a0a6_90422037acb0"}},{"description":"System action for starting an application","message_list":[],"uuid":"43f2ae3f-ecb6-4223-818f-762f84ed471c","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"GCP","uuid":"9cecccd7-99f2-4c5d-a0a6-90422037acb0"},"retries":"0","description":"","type":"DAG","uuid":"c4140fc6-c6db-4fd7-9aba-fe5cfc1012b3","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_f830e0ae_c36f_45a3_b503_b8f783ccaa41","uuid":"06aa6180-960c-49f8-8145-f0168e18d0b2"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"87e9c961-9920-41c3-96f7-a28995f371a6"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_f830e0ae_c36f_45a3_b503_b8f783ccaa41","uuid":"06aa6180-960c-49f8-8145-f0168e18d0b2"},"edge_type":"inherent","type":"","uuid":"f32210fa-9ec7-4ab3-82b5-814a804820fd","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"87e9c961-9920-41c3-96f7-a28995f371a6"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_9cecccd7_99f2_4c5d_a0a6_90422037acb0"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPMySQL","uuid":"f830e0ae-c36f-45a3-b503-b8f783ccaa41"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"06aa6180-960c-49f8-8145-f0168e18d0b2","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"aa7d4c13_deployment","uuid":"705e1628-66ee-4aa5-b9a7-85c51df4cd20"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_f830e0ae_c36f_45a3_b503_b8f783ccaa41","uuid":"941f3b3e-d66e-46a4-a55e-772f0966ebdc"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Substrate_f830e0ae_c36f_45a3_b503_b8f783ccaa41"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"87e9c961-9920-41c3-96f7-a28995f371a6","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"aa7d4c13_deployment","uuid":"705e1628-66ee-4aa5-b9a7-85c51df4cd20"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"7748f46a_runbook","uuid":"a0ae1241-f6d5-470e-b065-dfde29b2bbf2"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c"}],"description":"","message_list":[],"uuid":"a881f44d-701d-48ed-bf8e-a21738f902b5","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_9cecccd7_99f2_4c5d_a0a6_90422037acb0","uuid":"c4140fc6-c6db-4fd7-9aba-fe5cfc1012b3"},"name":"SYS_GEN__Runbook_Application_9cecccd7_99f2_4c5d_a0a6_90422037acb0"}},{"description":"System action for restarting an application","message_list":[],"uuid":"de5bca01-9c00-47dc-99ed-898fdff04979","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"GCP","uuid":"9cecccd7-99f2-4c5d-a0a6-90422037acb0"},"retries":"0","description":"","type":"DAG","uuid":"22f5353c-2158-45d0-bf56-35b5a5105c28","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_f830e0ae_c36f_45a3_b503_b8f783ccaa41","uuid":"4257318e-9cee-410f-ab17-685a0173b976"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"fdd25c16-a3c1-4eb7-966b-309ca37f145d"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_f830e0ae_c36f_45a3_b503_b8f783ccaa41","uuid":"4257318e-9cee-410f-ab17-685a0173b976"},"edge_type":"inherent","type":"","uuid":"7724cb9b-58b2-4383-a7ba-edc6f2c15df3","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"fdd25c16-a3c1-4eb7-966b-309ca37f145d"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_9cecccd7_99f2_4c5d_a0a6_90422037acb0"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPMySQL","uuid":"f830e0ae-c36f-45a3-b503-b8f783ccaa41"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"4257318e-9cee-410f-ab17-685a0173b976","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"aa7d4c13_deployment","uuid":"705e1628-66ee-4aa5-b9a7-85c51df4cd20"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_f830e0ae_c36f_45a3_b503_b8f783ccaa41","uuid":"6d7bc990-5720-4b0c-ba69-5cc6a8cf0e94"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Substrate_f830e0ae_c36f_45a3_b503_b8f783ccaa41"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"fdd25c16-a3c1-4eb7-966b-309ca37f145d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"aa7d4c13_deployment","uuid":"705e1628-66ee-4aa5-b9a7-85c51df4cd20"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"e9d7de80_runbook","uuid":"1da5d6b4-d3df-4a19-942c-e6e85b650e34"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c"}],"description":"","message_list":[],"uuid":"62c01b7a-01a7-4a38-bd71-e168eaa3fa2f","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_9cecccd7_99f2_4c5d_a0a6_90422037acb0","uuid":"22f5353c-2158-45d0-bf56-35b5a5105c28"},"name":"SYS_GEN__Runbook_Application_9cecccd7_99f2_4c5d_a0a6_90422037acb0"}},{"description":"System action for stopping an application","message_list":[],"uuid":"15f14966-2ea0-47e0-8822-1b3950bd22e4","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"GCP","uuid":"9cecccd7-99f2-4c5d-a0a6-90422037acb0"},"retries":"0","description":"","type":"DAG","uuid":"0a7da5c6-4e9f-4f78-b526-1c52fd7c0742","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"0e4f3d03-d943-4570-88d0-e885864a2239"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_f830e0ae_c36f_45a3_b503_b8f783ccaa41","uuid":"9e0da9a4-43d6-42cc-8cc5-9cd277385d3a"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"0e4f3d03-d943-4570-88d0-e885864a2239"},"edge_type":"inherent","type":"","uuid":"93f049a6-7c86-496e-a676-af96d05f7530","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_f830e0ae_c36f_45a3_b503_b8f783ccaa41","uuid":"9e0da9a4-43d6-42cc-8cc5-9cd277385d3a"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_9cecccd7_99f2_4c5d_a0a6_90422037acb0"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"0e4f3d03-d943-4570-88d0-e885864a2239","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"aa7d4c13_deployment","uuid":"705e1628-66ee-4aa5-b9a7-85c51df4cd20"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"534c563f_runbook","uuid":"fa558656-179d-42a9-8b13-80552295db71"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPMySQL","uuid":"f830e0ae-c36f-45a3-b503-b8f783ccaa41"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"9e0da9a4-43d6-42cc-8cc5-9cd277385d3a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"aa7d4c13_deployment","uuid":"705e1628-66ee-4aa5-b9a7-85c51df4cd20"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_f830e0ae_c36f_45a3_b503_b8f783ccaa41","uuid":"318989dd-8447-4dc5-8360-5301cd78f9a4"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Substrate_f830e0ae_c36f_45a3_b503_b8f783ccaa41"}],"description":"","message_list":[],"uuid":"af8727ef-24ea-4397-a428-abf54c8a1df7","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_9cecccd7_99f2_4c5d_a0a6_90422037acb0","uuid":"0a7da5c6-4e9f-4f78-b526-1c52fd7c0742"},"name":"SYS_GEN__Runbook_Application_9cecccd7_99f2_4c5d_a0a6_90422037acb0"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"a2fedac8-a177-4ca9-84d2-51ad09b37ccd","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"GCP","uuid":"9cecccd7-99f2-4c5d-a0a6-90422037acb0"},"retries":"0","description":"","type":"DAG","uuid":"06744543-2bb6-4e5c-a96d-0a5281fb50a1","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"84bab30a-01cd-47db-93b7-dfc971160f2e"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"5e95e183-ae0b-47ba-9bcf-d4b16a380a29"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_a23c2259_dd5c_4063_b54f_6af67ce60ee9","uuid":"d1e5fb4c-eb86-499e-9530-af67025c214b"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_f830e0ae_c36f_45a3_b503_b8f783ccaa41","uuid":"dcbc7609-9853-48fb-a6a1-a36c4761e983"},{"kind":"app_task","name":"SYS_GEN__DE_Delete_705e1628_66ee_4aa5_b9a7_85c51df4cd20","uuid":"6fd4bf5c-1af5-4146-b952-c93eb9e5322c"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"84bab30a-01cd-47db-93b7-dfc971160f2e"},"edge_type":"inherent","type":"","uuid":"dfd7a127-8ae6-4eff-a718-8201365645bc","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"5e95e183-ae0b-47ba-9bcf-d4b16a380a29"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"5e95e183-ae0b-47ba-9bcf-d4b16a380a29"},"edge_type":"inherent","type":"","uuid":"3706d329-1767-4446-84ed-b7502097f326","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_a23c2259_dd5c_4063_b54f_6af67ce60ee9","uuid":"d1e5fb4c-eb86-499e-9530-af67025c214b"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_a23c2259_dd5c_4063_b54f_6af67ce60ee9","uuid":"d1e5fb4c-eb86-499e-9530-af67025c214b"},"edge_type":"inherent","type":"","uuid":"0bc6d4d0-9af2-4e52-b22e-04fbe4ecfa30","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_f830e0ae_c36f_45a3_b503_b8f783ccaa41","uuid":"dcbc7609-9853-48fb-a6a1-a36c4761e983"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_f830e0ae_c36f_45a3_b503_b8f783ccaa41","uuid":"dcbc7609-9853-48fb-a6a1-a36c4761e983"},"edge_type":"inherent","type":"","uuid":"12383d2c-3a62-4e1b-82f3-25a05b2868e8","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Delete_705e1628_66ee_4aa5_b9a7_85c51df4cd20","uuid":"6fd4bf5c-1af5-4146-b952-c93eb9e5322c"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_9cecccd7_99f2_4c5d_a0a6_90422037acb0"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"84bab30a-01cd-47db-93b7-dfc971160f2e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"aa7d4c13_deployment","uuid":"705e1628-66ee-4aa5-b9a7-85c51df4cd20"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"534c563f_runbook","uuid":"fa558656-179d-42a9-8b13-80552295db71"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"5e95e183-ae0b-47ba-9bcf-d4b16a380a29","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"aa7d4c13_deployment","uuid":"705e1628-66ee-4aa5-b9a7-85c51df4cd20"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"d738eefe_runbook","uuid":"15541983-ff20-4829-b0c7-aff046fa0beb"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c"},{"target_any_local_reference":{"kind":"app_package","name":"GCPMySQLPackage","uuid":"a23c2259-dd5c-4063-b54f-6af67ce60ee9"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"d1e5fb4c-eb86-499e-9530-af67025c214b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"aa7d4c13_deployment","uuid":"705e1628-66ee-4aa5-b9a7-85c51df4cd20"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_a23c2259_dd5c_4063_b54f_6af67ce60ee9","uuid":"7a015f1a-5a03-4be8-bd8c-138e74d2f4a2"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_a23c2259_dd5c_4063_b54f_6af67ce60ee9"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPMySQL","uuid":"f830e0ae-c36f-45a3-b503-b8f783ccaa41"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"dcbc7609-9853-48fb-a6a1-a36c4761e983","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"aa7d4c13_deployment","uuid":"705e1628-66ee-4aa5-b9a7-85c51df4cd20"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_f830e0ae_c36f_45a3_b503_b8f783ccaa41","uuid":"bfa29a63-c920-4ff6-b9a7-3205a50a0bd1"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Substrate_f830e0ae_c36f_45a3_b503_b8f783ccaa41"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"aa7d4c13_deployment","uuid":"705e1628-66ee-4aa5-b9a7-85c51df4cd20"},"retries":"0","description":"","type":"DELETE_DEPLOYMENT_ELEMENT","uuid":"6fd4bf5c-1af5-4146-b952-c93eb9e5322c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Delete_705e1628_66ee_4aa5_b9a7_85c51df4cd20"}],"description":"","message_list":[],"uuid":"01b4d405-aaad-49ae-b195-6ba552c0168e","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_9cecccd7_99f2_4c5d_a0a6_90422037acb0","uuid":"06744543-2bb6-4e5c-a96d-0a5281fb50a1"},"name":"SYS_GEN__Runbook_Application_9cecccd7_99f2_4c5d_a0a6_90422037acb0"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"f5bace7e-a7de-4e5f-afcf-3779ed9ebcdc","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"GCP","uuid":"9cecccd7-99f2-4c5d-a0a6-90422037acb0"},"retries":"0","description":"","type":"DAG","uuid":"83330d06-9778-42b1-9394-745d7414fb1c","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"07fc32f4-b05e-4536-bcd0-c6ac926eed9d"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_a23c2259_dd5c_4063_b54f_6af67ce60ee9","uuid":"37678ad3-8c26-441d-a6ce-7aca2ee3e750"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_f830e0ae_c36f_45a3_b503_b8f783ccaa41","uuid":"891006ad-c3c9-40a0-a91b-d0ebe98c9888"},{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_705e1628_66ee_4aa5_b9a7_85c51df4cd20","uuid":"7bf4c65f-4a8e-4050-8353-84396edcf819"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"07fc32f4-b05e-4536-bcd0-c6ac926eed9d"},"edge_type":"inherent","type":"","uuid":"9be20ba8-fa07-43cb-8ef0-42d0a18e621a","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_a23c2259_dd5c_4063_b54f_6af67ce60ee9","uuid":"37678ad3-8c26-441d-a6ce-7aca2ee3e750"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_a23c2259_dd5c_4063_b54f_6af67ce60ee9","uuid":"37678ad3-8c26-441d-a6ce-7aca2ee3e750"},"edge_type":"inherent","type":"","uuid":"4bb1bd27-4337-4fed-a3d1-37d1bd52a7a7","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_f830e0ae_c36f_45a3_b503_b8f783ccaa41","uuid":"891006ad-c3c9-40a0-a91b-d0ebe98c9888"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_f830e0ae_c36f_45a3_b503_b8f783ccaa41","uuid":"891006ad-c3c9-40a0-a91b-d0ebe98c9888"},"edge_type":"inherent","type":"","uuid":"9a5462dd-a45e-48d5-b6fb-48e02f970ff2","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_705e1628_66ee_4aa5_b9a7_85c51df4cd20","uuid":"7bf4c65f-4a8e-4050-8353-84396edcf819"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_9cecccd7_99f2_4c5d_a0a6_90422037acb0"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"07fc32f4-b05e-4536-bcd0-c6ac926eed9d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"aa7d4c13_deployment","uuid":"705e1628-66ee-4aa5-b9a7-85c51df4cd20"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"957cfc08-a445-474a-b6fd-5a80c651f044"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c"},{"target_any_local_reference":{"kind":"app_package","name":"GCPMySQLPackage","uuid":"a23c2259-dd5c-4063-b54f-6af67ce60ee9"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"37678ad3-8c26-441d-a6ce-7aca2ee3e750","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_a23c2259_dd5c_4063_b54f_6af67ce60ee9"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPMySQL","uuid":"f830e0ae-c36f-45a3-b503-b8f783ccaa41"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"891006ad-c3c9-40a0-a91b-d0ebe98c9888","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"aa7d4c13_deployment","uuid":"705e1628-66ee-4aa5-b9a7-85c51df4cd20"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_f830e0ae_c36f_45a3_b503_b8f783ccaa41","uuid":"afa5a7a2-640a-4864-abd1-5a532d62290c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Substrate_f830e0ae_c36f_45a3_b503_b8f783ccaa41"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"aa7d4c13_deployment","uuid":"705e1628-66ee-4aa5-b9a7-85c51df4cd20"},"retries":"0","description":"","type":"SOFT_DELETE_DEPLOYMENT_ELEMENT","uuid":"7bf4c65f-4a8e-4050-8353-84396edcf819","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Soft_Delete_705e1628_66ee_4aa5_b9a7_85c51df4cd20"}],"description":"","message_list":[],"uuid":"dc3636db-13f8-4b0d-9028-4c5556a50068","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_9cecccd7_99f2_4c5d_a0a6_90422037acb0","uuid":"83330d06-9778-42b1-9394-745d7414fb1c"},"name":"SYS_GEN__Runbook_Application_9cecccd7_99f2_4c5d_a0a6_90422037acb0"}}],"message_list":[],"uuid":"9cecccd7-99f2-4c5d-a0a6-90422037acb0","state":"DRAFT","dependency_list":[],"variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[{"message":"Secret value for variable is empty","reason":"EMPTY_VALUE","details":[{"attribute_name":"secret"}]},{"message":"Value of secret variable is empty","reason":"EMPTY_VALUE","details":[{"attribute_name":"value"}]}],"uuid":"a271d081-ce74-4335-986a-b5a536628a8c","value":"","label":"","state":"ACTIVE","attrs":{"is_secret_modified":false,"secret_reference":{"uuid":"8a75c8fd-9f92-4cce-86f5-735fdc4f7fee"},"type":""},"editables":{"value":true},"is_hidden":false,"type":"SECRET","options":{},"name":"MYSQL_PASSWORD"}],"name":"GCP"},{"deployment_create_list":[{"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"b0bd8fab-02fc-4ae6-bc52-420a99e7a4a1","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"1e6de1ed_deployment","uuid":"bf8f7063-f7d6-4b3a-bec4-d8850806a5b5"},"retries":"0","description":"","type":"DAG","uuid":"ace7d6ca-d835-40e1-b580-4357220cb837","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__DE_Provision_bf8f7063_f7d6_4b3a_bec4_d8850806a5b5","uuid":"7cba1f21-e9e3-4777-a9c8-bad412cdb495"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_2849954f_21f7_407c_a833_348e446d71f4","uuid":"3596ed02-d2da-4f6a-afd5-494d371f40bf"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_2acd82a5_5d7f_4889_a1ec_3a66cd4171b2","uuid":"707fc55a-6742-4ad3-b1ab-2135b623c9b9"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"e180445f-eacd-4de6-afa6-bab7a91cc55b"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"6bcd0955-be15-406d-87de-7812fa9771f3"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"e180445f-eacd-4de6-afa6-bab7a91cc55b"},"edge_type":"inherent","type":"","uuid":"7818efe3-43fa-4555-8a02-eab9383aef48","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"6bcd0955-be15-406d-87de-7812fa9771f3"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_2acd82a5_5d7f_4889_a1ec_3a66cd4171b2","uuid":"707fc55a-6742-4ad3-b1ab-2135b623c9b9"},"edge_type":"inherent","type":"","uuid":"8810659b-b405-47cd-8470-03c972f50520","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"e180445f-eacd-4de6-afa6-bab7a91cc55b"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_bf8f7063_f7d6_4b3a_bec4_d8850806a5b5","uuid":"7cba1f21-e9e3-4777-a9c8-bad412cdb495"},"edge_type":"inherent","type":"","uuid":"c26c5d93-e04a-403f-8d55-0cf099f3a60c","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_2849954f_21f7_407c_a833_348e446d71f4","uuid":"3596ed02-d2da-4f6a-afd5-494d371f40bf"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_2849954f_21f7_407c_a833_348e446d71f4","uuid":"3596ed02-d2da-4f6a-afd5-494d371f40bf"},"edge_type":"inherent","type":"","uuid":"17615a78-ad94-420f-bb24-1165bb6674a6","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_2acd82a5_5d7f_4889_a1ec_3a66cd4171b2","uuid":"707fc55a-6742-4ad3-b1ab-2135b623c9b9"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_bf8f7063_f7d6_4b3a_bec4_d8850806a5b5"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"1e6de1ed_deployment","uuid":"bf8f7063-f7d6-4b3a-bec4-d8850806a5b5"},"retries":"0","description":"","type":"CREATE_DEPLOYMENT_ELEMENT","uuid":"7cba1f21-e9e3-4777-a9c8-bad412cdb495","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Provision_bf8f7063_f7d6_4b3a_bec4_d8850806a5b5"},{"target_any_local_reference":{"kind":"app_substrate","name":"AZUREMySQL","uuid":"2849954f-21f7-407c-a833-348e446d71f4"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"3596ed02-d2da-4f6a-afd5-494d371f40bf","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"1e6de1ed_deployment","uuid":"bf8f7063-f7d6-4b3a-bec4-d8850806a5b5"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_2849954f_21f7_407c_a833_348e446d71f4","uuid":"086854fa-2cb5-42dc-88ad-4910c1e62f7a"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Substrate_2849954f_21f7_407c_a833_348e446d71f4"},{"target_any_local_reference":{"kind":"app_package","name":"AzureMySQLPkg","uuid":"2acd82a5-5d7f-4889-a1ec-3a66cd4171b2"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"707fc55a-6742-4ad3-b1ab-2135b623c9b9","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"1e6de1ed_deployment","uuid":"bf8f7063-f7d6-4b3a-bec4-d8850806a5b5"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_2acd82a5_5d7f_4889_a1ec_3a66cd4171b2","uuid":"0d9e1fc1-99c1-46c3-b543-6aecb7a2f250"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_2acd82a5_5d7f_4889_a1ec_3a66cd4171b2"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"e180445f-eacd-4de6-afa6-bab7a91cc55b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"1e6de1ed_deployment","uuid":"bf8f7063-f7d6-4b3a-bec4-d8850806a5b5"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"f603ab76_runbook","uuid":"1f2c9854-fd61-4d80-a059-2670f4aa3ba3"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"6bcd0955-be15-406d-87de-7812fa9771f3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"1e6de1ed_deployment","uuid":"bf8f7063-f7d6-4b3a-bec4-d8850806a5b5"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"7748f46a_runbook","uuid":"a0ae1241-f6d5-470e-b065-dfde29b2bbf2"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c"}],"description":"","message_list":[],"uuid":"15de8425-97b0-43b5-9346-5665f06fac35","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_bf8f7063_f7d6_4b3a_bec4_d8850806a5b5","uuid":"ace7d6ca-d835-40e1-b580-4357220cb837"},"name":"SYS_GEN__Runbook_Deployment_bf8f7063_f7d6_4b3a_bec4_d8850806a5b5"}},{"description":"System action for starting an application","message_list":[],"uuid":"7fa8d073-40f4-4653-9af3-3cf27e522a2f","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"1e6de1ed_deployment","uuid":"bf8f7063-f7d6-4b3a-bec4-d8850806a5b5"},"retries":"0","description":"","type":"DAG","uuid":"efb1c135-959a-4cd3-b58e-32ea4b9a776e","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_2849954f_21f7_407c_a833_348e446d71f4","uuid":"e7d8046a-b52c-4d24-a3c5-0cf85e4116fb"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"a9af95dd-b95a-4c4c-88d4-21dd6f8bef79"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_2849954f_21f7_407c_a833_348e446d71f4","uuid":"e7d8046a-b52c-4d24-a3c5-0cf85e4116fb"},"edge_type":"inherent","type":"","uuid":"ccb9bb03-14cb-4746-aeb2-af0336340521","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"a9af95dd-b95a-4c4c-88d4-21dd6f8bef79"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_bf8f7063_f7d6_4b3a_bec4_d8850806a5b5"},{"target_any_local_reference":{"kind":"app_substrate","name":"AZUREMySQL","uuid":"2849954f-21f7-407c-a833-348e446d71f4"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"e7d8046a-b52c-4d24-a3c5-0cf85e4116fb","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"1e6de1ed_deployment","uuid":"bf8f7063-f7d6-4b3a-bec4-d8850806a5b5"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_2849954f_21f7_407c_a833_348e446d71f4","uuid":"2daaad27-01f4-4c8b-bd53-7c7b03f57500"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Substrate_2849954f_21f7_407c_a833_348e446d71f4"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"a9af95dd-b95a-4c4c-88d4-21dd6f8bef79","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"1e6de1ed_deployment","uuid":"bf8f7063-f7d6-4b3a-bec4-d8850806a5b5"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"7748f46a_runbook","uuid":"a0ae1241-f6d5-470e-b065-dfde29b2bbf2"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c"}],"description":"","message_list":[],"uuid":"07ab15b8-b47d-4846-a87b-f99cc28345f9","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_bf8f7063_f7d6_4b3a_bec4_d8850806a5b5","uuid":"efb1c135-959a-4cd3-b58e-32ea4b9a776e"},"name":"SYS_GEN__Runbook_Deployment_bf8f7063_f7d6_4b3a_bec4_d8850806a5b5"}},{"description":"System action for restarting an application","message_list":[],"uuid":"c33d40c6-f1f7-421c-8dff-ccb76b363cfb","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"1e6de1ed_deployment","uuid":"bf8f7063-f7d6-4b3a-bec4-d8850806a5b5"},"retries":"0","description":"","type":"DAG","uuid":"1407c36e-e399-4ec2-8cb0-0396f4824e12","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_2849954f_21f7_407c_a833_348e446d71f4","uuid":"a7015981-51a3-43c7-86da-3e999dd73616"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"32c9f052-cf57-42e0-b628-75eccfdffa1d"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_2849954f_21f7_407c_a833_348e446d71f4","uuid":"a7015981-51a3-43c7-86da-3e999dd73616"},"edge_type":"inherent","type":"","uuid":"4b02d18a-9e3f-46cb-a03e-f49162ee54fe","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"32c9f052-cf57-42e0-b628-75eccfdffa1d"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_bf8f7063_f7d6_4b3a_bec4_d8850806a5b5"},{"target_any_local_reference":{"kind":"app_substrate","name":"AZUREMySQL","uuid":"2849954f-21f7-407c-a833-348e446d71f4"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"a7015981-51a3-43c7-86da-3e999dd73616","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"1e6de1ed_deployment","uuid":"bf8f7063-f7d6-4b3a-bec4-d8850806a5b5"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_2849954f_21f7_407c_a833_348e446d71f4","uuid":"704743b7-c0ff-4643-8808-3f3031131f35"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Substrate_2849954f_21f7_407c_a833_348e446d71f4"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"32c9f052-cf57-42e0-b628-75eccfdffa1d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"1e6de1ed_deployment","uuid":"bf8f7063-f7d6-4b3a-bec4-d8850806a5b5"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"e9d7de80_runbook","uuid":"1da5d6b4-d3df-4a19-942c-e6e85b650e34"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c"}],"description":"","message_list":[],"uuid":"3b326f40-1d4e-4cf6-a6e4-ab145617b770","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_bf8f7063_f7d6_4b3a_bec4_d8850806a5b5","uuid":"1407c36e-e399-4ec2-8cb0-0396f4824e12"},"name":"SYS_GEN__Runbook_Deployment_bf8f7063_f7d6_4b3a_bec4_d8850806a5b5"}},{"description":"System action for stopping an application","message_list":[],"uuid":"b2ea10c1-a142-4014-ab18-fcfbcf9187dc","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"1e6de1ed_deployment","uuid":"bf8f7063-f7d6-4b3a-bec4-d8850806a5b5"},"retries":"0","description":"","type":"DAG","uuid":"05e12c53-e5e9-438a-951a-fa0aca520e4d","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"aca77519-dd71-4022-aebb-e91c5e7ebf75"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_2849954f_21f7_407c_a833_348e446d71f4","uuid":"6e91436c-e245-42e7-a41d-336cc45c296c"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"aca77519-dd71-4022-aebb-e91c5e7ebf75"},"edge_type":"inherent","type":"","uuid":"d95a31a8-0a15-4059-9e0d-cd7ec800c345","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_2849954f_21f7_407c_a833_348e446d71f4","uuid":"6e91436c-e245-42e7-a41d-336cc45c296c"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_bf8f7063_f7d6_4b3a_bec4_d8850806a5b5"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"aca77519-dd71-4022-aebb-e91c5e7ebf75","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"1e6de1ed_deployment","uuid":"bf8f7063-f7d6-4b3a-bec4-d8850806a5b5"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"534c563f_runbook","uuid":"fa558656-179d-42a9-8b13-80552295db71"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c"},{"target_any_local_reference":{"kind":"app_substrate","name":"AZUREMySQL","uuid":"2849954f-21f7-407c-a833-348e446d71f4"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"6e91436c-e245-42e7-a41d-336cc45c296c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"1e6de1ed_deployment","uuid":"bf8f7063-f7d6-4b3a-bec4-d8850806a5b5"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_2849954f_21f7_407c_a833_348e446d71f4","uuid":"7d425e3a-b7f8-48b4-b20d-286e3e7ca65e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Substrate_2849954f_21f7_407c_a833_348e446d71f4"}],"description":"","message_list":[],"uuid":"637f8ed1-e82a-4ec7-b65b-7a260dd21c06","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_bf8f7063_f7d6_4b3a_bec4_d8850806a5b5","uuid":"05e12c53-e5e9-438a-951a-fa0aca520e4d"},"name":"SYS_GEN__Runbook_Deployment_bf8f7063_f7d6_4b3a_bec4_d8850806a5b5"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"47b3e27c-0a2a-4ac1-91fc-4bfa1b30fc9e","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"1e6de1ed_deployment","uuid":"bf8f7063-f7d6-4b3a-bec4-d8850806a5b5"},"retries":"0","description":"","type":"DAG","uuid":"e28e4417-d2b0-4f7b-bcde-d14ccee4aaf0","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"d423027d-9ca0-4aa3-819f-9ff7c5da5c99"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"6dc5bf66-d223-4628-9a7a-b4698de3f36d"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_2acd82a5_5d7f_4889_a1ec_3a66cd4171b2","uuid":"6b1aa2a0-778a-44e8-a580-f871a9725d26"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_2849954f_21f7_407c_a833_348e446d71f4","uuid":"a033b8dd-518d-438e-811b-3c34d2d2fd7d"},{"kind":"app_task","name":"SYS_GEN__DE_Delete_bf8f7063_f7d6_4b3a_bec4_d8850806a5b5","uuid":"a3c5b94a-c5d1-4737-9bc3-8f291dc75777"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"d423027d-9ca0-4aa3-819f-9ff7c5da5c99"},"edge_type":"inherent","type":"","uuid":"fac9cb93-bb52-4c99-87ff-5ef4ca34c354","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"6dc5bf66-d223-4628-9a7a-b4698de3f36d"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"6dc5bf66-d223-4628-9a7a-b4698de3f36d"},"edge_type":"inherent","type":"","uuid":"dd56dd13-93fb-4ef0-96d6-71c50abb82fd","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_2acd82a5_5d7f_4889_a1ec_3a66cd4171b2","uuid":"6b1aa2a0-778a-44e8-a580-f871a9725d26"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_2849954f_21f7_407c_a833_348e446d71f4","uuid":"a033b8dd-518d-438e-811b-3c34d2d2fd7d"},"edge_type":"inherent","type":"","uuid":"b87a3f15-54d3-46fe-9da9-c02a2079cfb2","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Delete_bf8f7063_f7d6_4b3a_bec4_d8850806a5b5","uuid":"a3c5b94a-c5d1-4737-9bc3-8f291dc75777"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_2acd82a5_5d7f_4889_a1ec_3a66cd4171b2","uuid":"6b1aa2a0-778a-44e8-a580-f871a9725d26"},"edge_type":"inherent","type":"","uuid":"d8bc20ce-5453-4691-a4bd-b1a8f1bc481d","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_2849954f_21f7_407c_a833_348e446d71f4","uuid":"a033b8dd-518d-438e-811b-3c34d2d2fd7d"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_bf8f7063_f7d6_4b3a_bec4_d8850806a5b5"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"d423027d-9ca0-4aa3-819f-9ff7c5da5c99","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"1e6de1ed_deployment","uuid":"bf8f7063-f7d6-4b3a-bec4-d8850806a5b5"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"534c563f_runbook","uuid":"fa558656-179d-42a9-8b13-80552295db71"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"6dc5bf66-d223-4628-9a7a-b4698de3f36d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"1e6de1ed_deployment","uuid":"bf8f7063-f7d6-4b3a-bec4-d8850806a5b5"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"d738eefe_runbook","uuid":"15541983-ff20-4829-b0c7-aff046fa0beb"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c"},{"target_any_local_reference":{"kind":"app_package","name":"AzureMySQLPkg","uuid":"2acd82a5-5d7f-4889-a1ec-3a66cd4171b2"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"6b1aa2a0-778a-44e8-a580-f871a9725d26","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"1e6de1ed_deployment","uuid":"bf8f7063-f7d6-4b3a-bec4-d8850806a5b5"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_2acd82a5_5d7f_4889_a1ec_3a66cd4171b2","uuid":"9fbce348-28b4-4a77-90ee-ff3a3865f290"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_2acd82a5_5d7f_4889_a1ec_3a66cd4171b2"},{"target_any_local_reference":{"kind":"app_substrate","name":"AZUREMySQL","uuid":"2849954f-21f7-407c-a833-348e446d71f4"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"a033b8dd-518d-438e-811b-3c34d2d2fd7d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"1e6de1ed_deployment","uuid":"bf8f7063-f7d6-4b3a-bec4-d8850806a5b5"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_2849954f_21f7_407c_a833_348e446d71f4","uuid":"5d649b5b-03ad-4f18-b618-69f691190f4c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Substrate_2849954f_21f7_407c_a833_348e446d71f4"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"1e6de1ed_deployment","uuid":"bf8f7063-f7d6-4b3a-bec4-d8850806a5b5"},"retries":"0","description":"","type":"DELETE_DEPLOYMENT_ELEMENT","uuid":"a3c5b94a-c5d1-4737-9bc3-8f291dc75777","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Delete_bf8f7063_f7d6_4b3a_bec4_d8850806a5b5"}],"description":"","message_list":[],"uuid":"7714c3e0-1620-4d5e-b4e5-5ca1d99d1a85","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_bf8f7063_f7d6_4b3a_bec4_d8850806a5b5","uuid":"e28e4417-d2b0-4f7b-bcde-d14ccee4aaf0"},"name":"SYS_GEN__Runbook_Deployment_bf8f7063_f7d6_4b3a_bec4_d8850806a5b5"}},{"description":"System action for scaleout","message_list":[],"uuid":"ddf88aac-8e23-45ab-9c73-0f8d9a15c396","name":"action_scaleout","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"1e6de1ed_deployment","uuid":"bf8f7063-f7d6-4b3a-bec4-d8850806a5b5"},"retries":"0","description":"","type":"DAG","uuid":"18084eb3-04c4-4170-bf23-b4f454ef1d90","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Deployment_Scaleout_bf8f7063_f7d6_4b3a_bec4_d8850806a5b5","uuid":"e4511938-6be6-44ea-8adc-b254a63aac99"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_bf8f7063_f7d6_4b3a_bec4_d8850806a5b5"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"1e6de1ed_deployment","uuid":"bf8f7063-f7d6-4b3a-bec4-d8850806a5b5"},"retries":"0","description":"","type":"SCALING","uuid":"e4511938-6be6-44ea-8adc-b254a63aac99","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{scaling_count}@@","type":"","scaling_type":"SCALEOUT"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Deployment_Scaleout_bf8f7063_f7d6_4b3a_bec4_d8850806a5b5"}],"description":"","message_list":[],"uuid":"5f9f53be-b3cb-42ef-9083-f982043f7d2e","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"641ae325-0877-485e-9cc0-a058741a1562","value":"0","label":"","state":"NOT_VALIDATED","attrs":{},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"scaling_count"}],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_bf8f7063_f7d6_4b3a_bec4_d8850806a5b5","uuid":"18084eb3-04c4-4170-bf23-b4f454ef1d90"},"name":"SYS_GEN__Runbook_Deployment_bf8f7063_f7d6_4b3a_bec4_d8850806a5b5"}},{"description":"System action for scalein","message_list":[],"uuid":"74e957c1-c3f7-4ea8-b00f-41aed764f76e","name":"action_scalein","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"1e6de1ed_deployment","uuid":"bf8f7063-f7d6-4b3a-bec4-d8850806a5b5"},"retries":"0","description":"","type":"DAG","uuid":"99bd487d-81bb-4395-98db-dbc731a6a70b","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Deployment_Scalein_bf8f7063_f7d6_4b3a_bec4_d8850806a5b5","uuid":"a8a862e9-9dff-40cc-983b-fa6cd69171d7"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_bf8f7063_f7d6_4b3a_bec4_d8850806a5b5"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"1e6de1ed_deployment","uuid":"bf8f7063-f7d6-4b3a-bec4-d8850806a5b5"},"retries":"0","description":"","type":"SCALING","uuid":"a8a862e9-9dff-40cc-983b-fa6cd69171d7","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{scaling_count}@@","type":"","scaling_type":"SCALEIN"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Deployment_Scalein_bf8f7063_f7d6_4b3a_bec4_d8850806a5b5"}],"description":"","message_list":[],"uuid":"232fdb48-0413-4f9b-a53b-09a2beba9ce0","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"a068af97-45a0-4973-98d2-b1be824c9b1d","value":"0","label":"","state":"NOT_VALIDATED","attrs":{},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"scaling_count"}],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_bf8f7063_f7d6_4b3a_bec4_d8850806a5b5","uuid":"99bd487d-81bb-4395-98db-dbc731a6a70b"},"name":"SYS_GEN__Runbook_Deployment_bf8f7063_f7d6_4b3a_bec4_d8850806a5b5"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"4fae2eef-e7f4-41b9-835a-7becc68817ca","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"1e6de1ed_deployment","uuid":"bf8f7063-f7d6-4b3a-bec4-d8850806a5b5"},"retries":"0","description":"","type":"DAG","uuid":"e7799b41-7abd-4d25-b916-295248d29405","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"98387111-3c33-4fcb-a433-c8f821a41b97"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_2acd82a5_5d7f_4889_a1ec_3a66cd4171b2","uuid":"6214b1ce-53d3-419f-96d2-1e96bcff86c4"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_2849954f_21f7_407c_a833_348e446d71f4","uuid":"1df8cf40-4110-45fc-8e18-967dedd38a21"},{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_bf8f7063_f7d6_4b3a_bec4_d8850806a5b5","uuid":"24e871db-4c53-4063-be5c-d45ca3dd42df"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"98387111-3c33-4fcb-a433-c8f821a41b97"},"edge_type":"inherent","type":"","uuid":"7071cc1b-ce2d-49d1-a905-96c7e290287c","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_2acd82a5_5d7f_4889_a1ec_3a66cd4171b2","uuid":"6214b1ce-53d3-419f-96d2-1e96bcff86c4"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_2849954f_21f7_407c_a833_348e446d71f4","uuid":"1df8cf40-4110-45fc-8e18-967dedd38a21"},"edge_type":"inherent","type":"","uuid":"f773dd67-bb8b-4145-8567-6396db51e23c","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_bf8f7063_f7d6_4b3a_bec4_d8850806a5b5","uuid":"24e871db-4c53-4063-be5c-d45ca3dd42df"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_2acd82a5_5d7f_4889_a1ec_3a66cd4171b2","uuid":"6214b1ce-53d3-419f-96d2-1e96bcff86c4"},"edge_type":"inherent","type":"","uuid":"e8732e47-cf57-450e-9156-a3c66a8c839b","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_2849954f_21f7_407c_a833_348e446d71f4","uuid":"1df8cf40-4110-45fc-8e18-967dedd38a21"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_bf8f7063_f7d6_4b3a_bec4_d8850806a5b5"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"98387111-3c33-4fcb-a433-c8f821a41b97","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"1e6de1ed_deployment","uuid":"bf8f7063-f7d6-4b3a-bec4-d8850806a5b5"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"957cfc08-a445-474a-b6fd-5a80c651f044"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c"},{"target_any_local_reference":{"kind":"app_package","name":"AzureMySQLPkg","uuid":"2acd82a5-5d7f-4889-a1ec-3a66cd4171b2"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"6214b1ce-53d3-419f-96d2-1e96bcff86c4","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_2acd82a5_5d7f_4889_a1ec_3a66cd4171b2"},{"target_any_local_reference":{"kind":"app_substrate","name":"AZUREMySQL","uuid":"2849954f-21f7-407c-a833-348e446d71f4"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"1df8cf40-4110-45fc-8e18-967dedd38a21","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"1e6de1ed_deployment","uuid":"bf8f7063-f7d6-4b3a-bec4-d8850806a5b5"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_2849954f_21f7_407c_a833_348e446d71f4","uuid":"01d2d5fb-9650-4015-bad1-28a998b204f4"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Substrate_2849954f_21f7_407c_a833_348e446d71f4"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"1e6de1ed_deployment","uuid":"bf8f7063-f7d6-4b3a-bec4-d8850806a5b5"},"retries":"0","description":"","type":"SOFT_DELETE_DEPLOYMENT_ELEMENT","uuid":"24e871db-4c53-4063-be5c-d45ca3dd42df","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Soft_Delete_bf8f7063_f7d6_4b3a_bec4_d8850806a5b5"}],"description":"","message_list":[],"uuid":"5e2f9d00-4571-41ef-bf29-f68421f6e8a8","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_bf8f7063_f7d6_4b3a_bec4_d8850806a5b5","uuid":"e7799b41-7abd-4d25-b916-295248d29405"},"name":"SYS_GEN__Runbook_Deployment_bf8f7063_f7d6_4b3a_bec4_d8850806a5b5"}}],"message_list":[],"published_service_local_reference_list":[],"uuid":"bf8f7063-f7d6-4b3a-bec4-d8850806a5b5","min_replicas":"1","state":"DRAFT","max_replicas":"1","depends_on_list":[],"editables":{},"package_local_reference_list":[{"kind":"app_package","name":"AzureMySQLPkg","uuid":"2acd82a5-5d7f-4889-a1ec-3a66cd4171b2"}],"substrate_local_reference":{"kind":"app_substrate","name":"AZUREMySQL","uuid":"2849954f-21f7-407c-a833-348e446d71f4"},"type":"GREENFIELD","options":{},"variable_list":[],"name":"1e6de1ed_deployment"}],"description":"","action_list":[{"description":"Take DB Backup. Specify absolute directory path for BACKUP_FILE_PATH","message_list":[],"uuid":"b4a54379-eb07-4323-a48b-4a1b8fb44227","name":"Backup","state":"ACTIVE","critical":false,"attrs":{},"type":"user","runbook":{"task_definition_list":[{"retries":"0","description":"","type":"DAG","uuid":"b0875d0e-c207-4536-9839-d4db4accd381","child_tasks_local_reference_list":[{"kind":"app_task","name":"Do DB Backup","uuid":"41ee375f-6fc2-43d9-9734-ad6cc718b4a4"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"9c60040a_dag"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"EXEC","uuid":"41ee375f-6fc2-43d9-9734-ad6cc718b4a4","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n### Setup variables\nmysql_password=\"@@{MYSQL_PASSWORD}@@\"\ndate_part=`date +%F`\nmkdir -p @@{BACKUP_FILE_PATH}@@\nsudo mysqldump -u root -p${mysql_password} --all-databases | sudo gzip -9 > @@{BACKUP_FILE_PATH}@@\/db_dump.sql.gz","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"d2eec46b-8fe8-4b34-9979-e0807d4717c1"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Do DB Backup"}],"description":"","message_list":[],"uuid":"cf0e16b4-c574-4916-8f42-3697a669d5d1","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"13878c6c-eeee-45a0-b33e-332846d800d9","value":"~\/db_backup","label":"","state":"NOT_VALIDATED","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"BACKUP_FILE_PATH"}],"main_task_local_reference":{"kind":"app_task","name":"9c60040a_dag","uuid":"b0875d0e-c207-4536-9839-d4db4accd381"},"name":"c118baac_runbook"}},{"description":"To restore DB from dump file. Specify absolute directory path for RESTORE_FILE_PATH","message_list":[],"uuid":"b3d1b165-81f4-466b-b573-8c7425b776ee","name":"Restore","state":"ACTIVE","critical":false,"attrs":{},"type":"user","runbook":{"task_definition_list":[{"retries":"0","description":"","type":"DAG","uuid":"ea285b29-d75b-4061-b9ba-eb282a0bb378","child_tasks_local_reference_list":[{"kind":"app_task","name":"Do DB Restore","uuid":"63df6a9e-0c8c-4f3e-b361-f0e6a17152e3"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"a7761482_dag"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"EXEC","uuid":"63df6a9e-0c8c-4f3e-b361-f0e6a17152e3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n### Setup variables\nmysql_password=\"@@{MYSQL_PASSWORD}@@\"\ndb_file=@@{RESTORE_FILE_PATH}@@\n\nsudo gunzip < $db_file | sudo mysql -u root -p${mysql_password} ","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"d2eec46b-8fe8-4b34-9979-e0807d4717c1"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Do DB Restore"}],"description":"","message_list":[],"uuid":"5e1bfd9a-ff6e-4cbf-81a7-b927dfe47716","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"d4f73046-12f4-405e-8de9-e1bb7312ed83","value":"~\/db_backup\/db_dump.sql.gz","label":"","state":"NOT_VALIDATED","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"RESTORE_FILE_PATH"}],"main_task_local_reference":{"kind":"app_task","name":"a7761482_dag","uuid":"ea285b29-d75b-4061-b9ba-eb282a0bb378"},"name":"3f69af94_runbook"}},{"description":"System action for creating an application","message_list":[],"uuid":"ff51cae0-88e0-4d47-b7c8-987268358452","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"Azure","uuid":"edeb7407-07bb-44da-947c-514d7197e2fd"},"retries":"0","description":"","type":"DAG","uuid":"68f22e8f-635f-468a-9ebb-d5946713becf","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__DE_Provision_bf8f7063_f7d6_4b3a_bec4_d8850806a5b5","uuid":"ec8aca97-6586-454b-ab31-004290704d3a"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_2849954f_21f7_407c_a833_348e446d71f4","uuid":"a9b927e1-5336-4ede-bd0d-2feadb3870a1"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_2acd82a5_5d7f_4889_a1ec_3a66cd4171b2","uuid":"00457d6b-0366-47ce-9c06-9de5ed819cbc"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"0d5b0e5d-d3f0-4c61-a23c-a6d2c458e830"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"d18a5d85-89d6-49a5-afb9-1c7780fb4b47"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"0d5b0e5d-d3f0-4c61-a23c-a6d2c458e830"},"edge_type":"inherent","type":"","uuid":"6137340a-9711-4b91-b3e7-5be9f1cefac8","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"d18a5d85-89d6-49a5-afb9-1c7780fb4b47"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_2acd82a5_5d7f_4889_a1ec_3a66cd4171b2","uuid":"00457d6b-0366-47ce-9c06-9de5ed819cbc"},"edge_type":"inherent","type":"","uuid":"10d796b6-427b-4275-9d38-21cb89f7c9fe","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"0d5b0e5d-d3f0-4c61-a23c-a6d2c458e830"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_bf8f7063_f7d6_4b3a_bec4_d8850806a5b5","uuid":"ec8aca97-6586-454b-ab31-004290704d3a"},"edge_type":"inherent","type":"","uuid":"d6dd2dfd-8c76-475b-8683-37381c989e9f","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_2849954f_21f7_407c_a833_348e446d71f4","uuid":"a9b927e1-5336-4ede-bd0d-2feadb3870a1"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_2849954f_21f7_407c_a833_348e446d71f4","uuid":"a9b927e1-5336-4ede-bd0d-2feadb3870a1"},"edge_type":"inherent","type":"","uuid":"ed118960-941b-479d-9323-e856a3c37fba","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_2acd82a5_5d7f_4889_a1ec_3a66cd4171b2","uuid":"00457d6b-0366-47ce-9c06-9de5ed819cbc"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_edeb7407_07bb_44da_947c_514d7197e2fd"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"1e6de1ed_deployment","uuid":"bf8f7063-f7d6-4b3a-bec4-d8850806a5b5"},"retries":"0","description":"","type":"CREATE_DEPLOYMENT_ELEMENT","uuid":"ec8aca97-6586-454b-ab31-004290704d3a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Provision_bf8f7063_f7d6_4b3a_bec4_d8850806a5b5"},{"target_any_local_reference":{"kind":"app_substrate","name":"AZUREMySQL","uuid":"2849954f-21f7-407c-a833-348e446d71f4"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"a9b927e1-5336-4ede-bd0d-2feadb3870a1","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"1e6de1ed_deployment","uuid":"bf8f7063-f7d6-4b3a-bec4-d8850806a5b5"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_2849954f_21f7_407c_a833_348e446d71f4","uuid":"086854fa-2cb5-42dc-88ad-4910c1e62f7a"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Substrate_2849954f_21f7_407c_a833_348e446d71f4"},{"target_any_local_reference":{"kind":"app_package","name":"AzureMySQLPkg","uuid":"2acd82a5-5d7f-4889-a1ec-3a66cd4171b2"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"00457d6b-0366-47ce-9c06-9de5ed819cbc","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"1e6de1ed_deployment","uuid":"bf8f7063-f7d6-4b3a-bec4-d8850806a5b5"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_2acd82a5_5d7f_4889_a1ec_3a66cd4171b2","uuid":"0d9e1fc1-99c1-46c3-b543-6aecb7a2f250"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_2acd82a5_5d7f_4889_a1ec_3a66cd4171b2"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"0d5b0e5d-d3f0-4c61-a23c-a6d2c458e830","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"1e6de1ed_deployment","uuid":"bf8f7063-f7d6-4b3a-bec4-d8850806a5b5"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"f603ab76_runbook","uuid":"1f2c9854-fd61-4d80-a059-2670f4aa3ba3"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"d18a5d85-89d6-49a5-afb9-1c7780fb4b47","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"1e6de1ed_deployment","uuid":"bf8f7063-f7d6-4b3a-bec4-d8850806a5b5"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"7748f46a_runbook","uuid":"a0ae1241-f6d5-470e-b065-dfde29b2bbf2"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c"}],"description":"","message_list":[],"uuid":"ef8e483b-8d9f-4761-8d69-6a1a96cddbbc","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_edeb7407_07bb_44da_947c_514d7197e2fd","uuid":"68f22e8f-635f-468a-9ebb-d5946713becf"},"name":"SYS_GEN__Runbook_Application_edeb7407_07bb_44da_947c_514d7197e2fd"}},{"description":"System action for starting an application","message_list":[],"uuid":"06685a54-6b2f-4581-8622-b53392f051e4","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"Azure","uuid":"edeb7407-07bb-44da-947c-514d7197e2fd"},"retries":"0","description":"","type":"DAG","uuid":"bd826fd9-46be-4492-9768-70f93008176c","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_2849954f_21f7_407c_a833_348e446d71f4","uuid":"f5f74070-d870-43ba-a644-d88c74b2b255"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"237f726e-d720-4272-ade2-55d23484b49c"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_2849954f_21f7_407c_a833_348e446d71f4","uuid":"f5f74070-d870-43ba-a644-d88c74b2b255"},"edge_type":"inherent","type":"","uuid":"05cecfb7-d83d-4bf2-aeee-ea3911faca57","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"237f726e-d720-4272-ade2-55d23484b49c"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_edeb7407_07bb_44da_947c_514d7197e2fd"},{"target_any_local_reference":{"kind":"app_substrate","name":"AZUREMySQL","uuid":"2849954f-21f7-407c-a833-348e446d71f4"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"f5f74070-d870-43ba-a644-d88c74b2b255","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"1e6de1ed_deployment","uuid":"bf8f7063-f7d6-4b3a-bec4-d8850806a5b5"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_2849954f_21f7_407c_a833_348e446d71f4","uuid":"2daaad27-01f4-4c8b-bd53-7c7b03f57500"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Substrate_2849954f_21f7_407c_a833_348e446d71f4"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"237f726e-d720-4272-ade2-55d23484b49c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"1e6de1ed_deployment","uuid":"bf8f7063-f7d6-4b3a-bec4-d8850806a5b5"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"7748f46a_runbook","uuid":"a0ae1241-f6d5-470e-b065-dfde29b2bbf2"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c"}],"description":"","message_list":[],"uuid":"fb1a7c6d-8db9-4435-ad2e-063ae8e120fd","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_edeb7407_07bb_44da_947c_514d7197e2fd","uuid":"bd826fd9-46be-4492-9768-70f93008176c"},"name":"SYS_GEN__Runbook_Application_edeb7407_07bb_44da_947c_514d7197e2fd"}},{"description":"System action for restarting an application","message_list":[],"uuid":"691fac14-7c46-42dd-a475-95df2c3c4efe","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"Azure","uuid":"edeb7407-07bb-44da-947c-514d7197e2fd"},"retries":"0","description":"","type":"DAG","uuid":"53002364-4862-4f51-9c7a-9607894ab635","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_2849954f_21f7_407c_a833_348e446d71f4","uuid":"464f3eae-9351-4154-b947-2d2ce9fb20ae"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"bc883b9c-21f9-4f15-993f-cee1f27bd17d"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_2849954f_21f7_407c_a833_348e446d71f4","uuid":"464f3eae-9351-4154-b947-2d2ce9fb20ae"},"edge_type":"inherent","type":"","uuid":"b564be9b-2ac7-4303-aaae-3aabf329a6f4","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"bc883b9c-21f9-4f15-993f-cee1f27bd17d"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_edeb7407_07bb_44da_947c_514d7197e2fd"},{"target_any_local_reference":{"kind":"app_substrate","name":"AZUREMySQL","uuid":"2849954f-21f7-407c-a833-348e446d71f4"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"464f3eae-9351-4154-b947-2d2ce9fb20ae","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"1e6de1ed_deployment","uuid":"bf8f7063-f7d6-4b3a-bec4-d8850806a5b5"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_2849954f_21f7_407c_a833_348e446d71f4","uuid":"704743b7-c0ff-4643-8808-3f3031131f35"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Substrate_2849954f_21f7_407c_a833_348e446d71f4"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"bc883b9c-21f9-4f15-993f-cee1f27bd17d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"1e6de1ed_deployment","uuid":"bf8f7063-f7d6-4b3a-bec4-d8850806a5b5"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"e9d7de80_runbook","uuid":"1da5d6b4-d3df-4a19-942c-e6e85b650e34"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c"}],"description":"","message_list":[],"uuid":"f344b790-b2b2-41bd-902e-e46b9c9597db","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_edeb7407_07bb_44da_947c_514d7197e2fd","uuid":"53002364-4862-4f51-9c7a-9607894ab635"},"name":"SYS_GEN__Runbook_Application_edeb7407_07bb_44da_947c_514d7197e2fd"}},{"description":"System action for stopping an application","message_list":[],"uuid":"b41ec1c1-8ee9-482e-9306-7a30da6378a9","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"Azure","uuid":"edeb7407-07bb-44da-947c-514d7197e2fd"},"retries":"0","description":"","type":"DAG","uuid":"15d5576a-2dbd-497b-9ce0-388983168e01","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"c712ce1b-fcf1-4f48-9fff-0fb5c92042d4"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_2849954f_21f7_407c_a833_348e446d71f4","uuid":"f18641cc-9c26-4c97-b961-f5b57e154e19"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"c712ce1b-fcf1-4f48-9fff-0fb5c92042d4"},"edge_type":"inherent","type":"","uuid":"06e7f057-d595-4921-a4e1-8681dff4c477","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_2849954f_21f7_407c_a833_348e446d71f4","uuid":"f18641cc-9c26-4c97-b961-f5b57e154e19"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_edeb7407_07bb_44da_947c_514d7197e2fd"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"c712ce1b-fcf1-4f48-9fff-0fb5c92042d4","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"1e6de1ed_deployment","uuid":"bf8f7063-f7d6-4b3a-bec4-d8850806a5b5"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"534c563f_runbook","uuid":"fa558656-179d-42a9-8b13-80552295db71"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c"},{"target_any_local_reference":{"kind":"app_substrate","name":"AZUREMySQL","uuid":"2849954f-21f7-407c-a833-348e446d71f4"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"f18641cc-9c26-4c97-b961-f5b57e154e19","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"1e6de1ed_deployment","uuid":"bf8f7063-f7d6-4b3a-bec4-d8850806a5b5"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_2849954f_21f7_407c_a833_348e446d71f4","uuid":"7d425e3a-b7f8-48b4-b20d-286e3e7ca65e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Substrate_2849954f_21f7_407c_a833_348e446d71f4"}],"description":"","message_list":[],"uuid":"16552abb-ef1a-49e7-9ede-446a3d49c3a7","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_edeb7407_07bb_44da_947c_514d7197e2fd","uuid":"15d5576a-2dbd-497b-9ce0-388983168e01"},"name":"SYS_GEN__Runbook_Application_edeb7407_07bb_44da_947c_514d7197e2fd"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"03beced0-380b-4436-bfa5-bb163c940310","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"Azure","uuid":"edeb7407-07bb-44da-947c-514d7197e2fd"},"retries":"0","description":"","type":"DAG","uuid":"9acc1397-1ab5-4723-856b-3b34c0aa42ae","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"284d5824-a7bd-4c82-b5f7-46377758702e"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"7585a5c2-5f58-455b-bf0e-e442e847f7de"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_2acd82a5_5d7f_4889_a1ec_3a66cd4171b2","uuid":"65ba2d72-c77d-4bbb-b688-bec59a6df3a5"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_2849954f_21f7_407c_a833_348e446d71f4","uuid":"7d180384-19f6-40ce-9e9a-988b6b3cdd7b"},{"kind":"app_task","name":"SYS_GEN__DE_Delete_bf8f7063_f7d6_4b3a_bec4_d8850806a5b5","uuid":"a736c60d-3fbb-4085-b886-18ad49b8185d"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"284d5824-a7bd-4c82-b5f7-46377758702e"},"edge_type":"inherent","type":"","uuid":"9193e759-3959-43e5-8450-1557813a018a","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"7585a5c2-5f58-455b-bf0e-e442e847f7de"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"7585a5c2-5f58-455b-bf0e-e442e847f7de"},"edge_type":"inherent","type":"","uuid":"988c9bc0-4c45-4249-835c-56d7add45e51","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_2acd82a5_5d7f_4889_a1ec_3a66cd4171b2","uuid":"65ba2d72-c77d-4bbb-b688-bec59a6df3a5"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_2849954f_21f7_407c_a833_348e446d71f4","uuid":"7d180384-19f6-40ce-9e9a-988b6b3cdd7b"},"edge_type":"inherent","type":"","uuid":"42f29b18-a2b5-4ee8-ae5c-4b552e5999bf","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Delete_bf8f7063_f7d6_4b3a_bec4_d8850806a5b5","uuid":"a736c60d-3fbb-4085-b886-18ad49b8185d"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_2acd82a5_5d7f_4889_a1ec_3a66cd4171b2","uuid":"65ba2d72-c77d-4bbb-b688-bec59a6df3a5"},"edge_type":"inherent","type":"","uuid":"690aabc8-a477-4f3d-847f-4fd201136ffe","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_2849954f_21f7_407c_a833_348e446d71f4","uuid":"7d180384-19f6-40ce-9e9a-988b6b3cdd7b"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_edeb7407_07bb_44da_947c_514d7197e2fd"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"284d5824-a7bd-4c82-b5f7-46377758702e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"1e6de1ed_deployment","uuid":"bf8f7063-f7d6-4b3a-bec4-d8850806a5b5"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"534c563f_runbook","uuid":"fa558656-179d-42a9-8b13-80552295db71"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"7585a5c2-5f58-455b-bf0e-e442e847f7de","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"1e6de1ed_deployment","uuid":"bf8f7063-f7d6-4b3a-bec4-d8850806a5b5"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"d738eefe_runbook","uuid":"15541983-ff20-4829-b0c7-aff046fa0beb"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c"},{"target_any_local_reference":{"kind":"app_package","name":"AzureMySQLPkg","uuid":"2acd82a5-5d7f-4889-a1ec-3a66cd4171b2"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"65ba2d72-c77d-4bbb-b688-bec59a6df3a5","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"1e6de1ed_deployment","uuid":"bf8f7063-f7d6-4b3a-bec4-d8850806a5b5"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_2acd82a5_5d7f_4889_a1ec_3a66cd4171b2","uuid":"9fbce348-28b4-4a77-90ee-ff3a3865f290"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_2acd82a5_5d7f_4889_a1ec_3a66cd4171b2"},{"target_any_local_reference":{"kind":"app_substrate","name":"AZUREMySQL","uuid":"2849954f-21f7-407c-a833-348e446d71f4"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"7d180384-19f6-40ce-9e9a-988b6b3cdd7b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"1e6de1ed_deployment","uuid":"bf8f7063-f7d6-4b3a-bec4-d8850806a5b5"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_2849954f_21f7_407c_a833_348e446d71f4","uuid":"5d649b5b-03ad-4f18-b618-69f691190f4c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Substrate_2849954f_21f7_407c_a833_348e446d71f4"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"1e6de1ed_deployment","uuid":"bf8f7063-f7d6-4b3a-bec4-d8850806a5b5"},"retries":"0","description":"","type":"DELETE_DEPLOYMENT_ELEMENT","uuid":"a736c60d-3fbb-4085-b886-18ad49b8185d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Delete_bf8f7063_f7d6_4b3a_bec4_d8850806a5b5"}],"description":"","message_list":[],"uuid":"3417c959-6e39-4934-98b6-f7b4f1d1c680","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_edeb7407_07bb_44da_947c_514d7197e2fd","uuid":"9acc1397-1ab5-4723-856b-3b34c0aa42ae"},"name":"SYS_GEN__Runbook_Application_edeb7407_07bb_44da_947c_514d7197e2fd"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"94aae592-1d1e-47ea-b9a4-570a67c673c7","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"Azure","uuid":"edeb7407-07bb-44da-947c-514d7197e2fd"},"retries":"0","description":"","type":"DAG","uuid":"539f5fb6-c214-4290-a224-97cd919846e9","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"21884dda-c4a5-4216-9cc2-93e080e44614"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_2acd82a5_5d7f_4889_a1ec_3a66cd4171b2","uuid":"b2146b99-75a1-42fe-95dd-078f20ab24d8"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_2849954f_21f7_407c_a833_348e446d71f4","uuid":"ff0a6a00-3619-43ce-90bf-67ba5e88c3ac"},{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_bf8f7063_f7d6_4b3a_bec4_d8850806a5b5","uuid":"8fb8efcb-f0ba-4a8d-baeb-145e2e125627"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"21884dda-c4a5-4216-9cc2-93e080e44614"},"edge_type":"inherent","type":"","uuid":"76750152-0c61-4071-a0de-49039d61ff74","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_2acd82a5_5d7f_4889_a1ec_3a66cd4171b2","uuid":"b2146b99-75a1-42fe-95dd-078f20ab24d8"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_2849954f_21f7_407c_a833_348e446d71f4","uuid":"ff0a6a00-3619-43ce-90bf-67ba5e88c3ac"},"edge_type":"inherent","type":"","uuid":"381d1002-4af7-4bfa-affb-43608506935f","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_bf8f7063_f7d6_4b3a_bec4_d8850806a5b5","uuid":"8fb8efcb-f0ba-4a8d-baeb-145e2e125627"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_2acd82a5_5d7f_4889_a1ec_3a66cd4171b2","uuid":"b2146b99-75a1-42fe-95dd-078f20ab24d8"},"edge_type":"inherent","type":"","uuid":"fd1034fe-fb74-453f-98b3-4d49fa01b4d2","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_2849954f_21f7_407c_a833_348e446d71f4","uuid":"ff0a6a00-3619-43ce-90bf-67ba5e88c3ac"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_edeb7407_07bb_44da_947c_514d7197e2fd"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"21884dda-c4a5-4216-9cc2-93e080e44614","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"1e6de1ed_deployment","uuid":"bf8f7063-f7d6-4b3a-bec4-d8850806a5b5"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"957cfc08-a445-474a-b6fd-5a80c651f044"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c"},{"target_any_local_reference":{"kind":"app_package","name":"AzureMySQLPkg","uuid":"2acd82a5-5d7f-4889-a1ec-3a66cd4171b2"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"b2146b99-75a1-42fe-95dd-078f20ab24d8","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_2acd82a5_5d7f_4889_a1ec_3a66cd4171b2"},{"target_any_local_reference":{"kind":"app_substrate","name":"AZUREMySQL","uuid":"2849954f-21f7-407c-a833-348e446d71f4"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"ff0a6a00-3619-43ce-90bf-67ba5e88c3ac","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"1e6de1ed_deployment","uuid":"bf8f7063-f7d6-4b3a-bec4-d8850806a5b5"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_2849954f_21f7_407c_a833_348e446d71f4","uuid":"01d2d5fb-9650-4015-bad1-28a998b204f4"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Substrate_2849954f_21f7_407c_a833_348e446d71f4"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"1e6de1ed_deployment","uuid":"bf8f7063-f7d6-4b3a-bec4-d8850806a5b5"},"retries":"0","description":"","type":"SOFT_DELETE_DEPLOYMENT_ELEMENT","uuid":"8fb8efcb-f0ba-4a8d-baeb-145e2e125627","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Soft_Delete_bf8f7063_f7d6_4b3a_bec4_d8850806a5b5"}],"description":"","message_list":[],"uuid":"dda99623-1b07-4b21-ae62-c3102b986c34","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_edeb7407_07bb_44da_947c_514d7197e2fd","uuid":"539f5fb6-c214-4290-a224-97cd919846e9"},"name":"SYS_GEN__Runbook_Application_edeb7407_07bb_44da_947c_514d7197e2fd"}}],"message_list":[],"uuid":"edeb7407-07bb-44da-947c-514d7197e2fd","state":"DRAFT","dependency_list":[],"variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[{"message":"Secret value for variable is empty","reason":"EMPTY_VALUE","details":[{"attribute_name":"secret"}]},{"message":"Value of secret variable is empty","reason":"EMPTY_VALUE","details":[{"attribute_name":"value"}]}],"uuid":"b1f44463-db6f-438a-82ac-b8114658c507","value":"","label":"","state":"ACTIVE","attrs":{"is_secret_modified":false,"secret_reference":{"uuid":"5b3cfb45-760e-4087-800e-873e6a10750f"},"type":""},"editables":{"value":true},"is_hidden":false,"type":"SECRET","options":{},"name":"MYSQL_PASSWORD"}],"name":"Azure"}],"published_service_definition_list":[],"default_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"d2eec46b-8fe8-4b34-9979-e0807d4717c1"},"package_definition_list":[{"description":"","action_list":[{"description":"System action for installing an application","message_list":[],"uuid":"4e9edde3-6c6f-4906-b001-3683f5ba74e0","name":"action_install","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVMySQLPackage","uuid":"f79f4aeb-2b78-48d4-9d73-9e4acc214df1"},"retries":"0","description":"","type":"DAG","uuid":"e32e3b81-ef0c-4222-b3b9-aaee7eedd699","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Install_Crb_f79f4aeb_2b78_48d4_9d73_9e4acc214df1","uuid":"4a86a61e-151f-45e0-ab1d-0cc3b94a7b8a"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Package_f79f4aeb_2b78_48d4_9d73_9e4acc214df1"},{"target_any_local_reference":{"kind":"app_package","name":"AHVMySQLPackage","uuid":"f79f4aeb-2b78-48d4-9d73-9e4acc214df1"},"retries":"0","description":"","type":"CUSTOM_PACKAGE_INSTALL","uuid":"4a86a61e-151f-45e0-ab1d-0cc3b94a7b8a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVMySQLPackage","uuid":"f79f4aeb-2b78-48d4-9d73-9e4acc214df1"},"retries":"0","description":"","type":"DAG","uuid":"981ccb8b-82cc-4aae-9fb6-f282898d17cd","child_tasks_local_reference_list":[{"kind":"app_task","name":"Install System Packages","uuid":"ee78ccf5-636a-46af-90d5-12e2b274a578"},{"kind":"app_task","name":"Create Disk Setup","uuid":"35970f81-a268-419e-bbfe-689638b7d1cc"},{"kind":"app_task","name":"Install MySQL","uuid":"fd9a058a-b64c-4bbe-ae42-c9faf5bfcaa5"},{"kind":"app_task","name":"Setup MySQL","uuid":"c1ee0015-6be1-4149-80e8-349c53415725"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Install System Packages","uuid":"ee78ccf5-636a-46af-90d5-12e2b274a578"},"edge_type":"user_defined","type":"","uuid":"144908f6-306f-470f-b70b-6d8415c26f30","to_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"35970f81-a268-419e-bbfe-689638b7d1cc"}},{"from_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"35970f81-a268-419e-bbfe-689638b7d1cc"},"edge_type":"user_defined","type":"","uuid":"06546000-bea0-4b5c-abbc-e294fb1ff8e6","to_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"fd9a058a-b64c-4bbe-ae42-c9faf5bfcaa5"}},{"from_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"fd9a058a-b64c-4bbe-ae42-c9faf5bfcaa5"},"edge_type":"user_defined","type":"","uuid":"d9de7ac1-7a89-4a60-87a3-96a93e789905","to_task_reference":{"kind":"app_task","name":"Setup MySQL","uuid":"c1ee0015-6be1-4149-80e8-349c53415725"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"d80995e3_dag"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"EXEC","uuid":"ee78ccf5-636a-46af-90d5-12e2b274a578","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n# -*- Install Mysql\nsudo yum update -y --quiet\nsudo yum install -y  htop wget iotop xfs* bc unzip lvm2*\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"System packages are installed\"","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"d2eec46b-8fe8-4b34-9979-e0807d4717c1"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install System Packages"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"EXEC","uuid":"35970f81-a268-419e-bbfe-689638b7d1cc","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n##############\n#\n# LVM setup script for MySQL . 4 disks for DATA and 4 for logs\n# Data disks are 50GB | Log disks are 25GB \n#\n#############\n\n\n#PGSQL data\nsudo pvcreate \/dev\/sdb \/dev\/sdc \/dev\/sdd \/dev\/sde\nsudo vgcreate mysqlDataVG \/dev\/sdb \/dev\/sdd \/dev\/sdc \/dev\/sde\nsudo lvcreate -l 100%FREE -i4 -I1M -n mysqlDataLV mysqlDataVG          ## Use 1MB to avoid IO amplification \n#lvcreate -l 100%FREE -i4 -I4M -n pgDataLV pgDataVG\n\n\n#PGSQL logs\nsudo pvcreate \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo vgcreate mysqlLogVG \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo lvcreate -l 100%FREE -i2 -I1M -n mysqlLogLV mysqlLogVG            ## Use 1MB to avoid IO amplification\n#lvcreate -l 100%FREE -i2 -I4M -n pgLogLV pgLogVG\n\n\n#Disable LVM read ahead\nsudo lvchange -r 0 \/dev\/mysqlDataVG\/mysqlDataLV\nsudo lvchange -r 0 \/dev\/mysqlLogVG\/mysqlLogLV\n\n\n#Format LVMs with ext4 and use nodiscard to make sure format time is fast on Nutanix due to SCSI unmap\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlDataVG\/mysqlDataLV\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlLogVG\/mysqlLogLV\n\nsleep 30\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"d2eec46b-8fe8-4b34-9979-e0807d4717c1"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Create Disk Setup"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"EXEC","uuid":"fd9a058a-b64c-4bbe-ae42-c9faf5bfcaa5","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nsudo hostnamectl set-hostname \"@@{name}@@\"\n\n# -*- Mysql installation \nsudo yum install -y --quiet \"http:\/\/repo.mysql.com\/mysql80-community-release-el7.rpm\"\nsudo yum update -y --quiet\nsudo yum install -y --quiet sshpass mysql-community-server.x86_64\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"d2eec46b-8fe8-4b34-9979-e0807d4717c1"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install MySQL"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"EXEC","uuid":"c1ee0015-6be1-4149-80e8-349c53415725","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\necho \"!includedir \/etc\/my.cnf.d\" | sudo tee -a \/etc\/my.cnf\n\necho \"[mysqld]\nbinlog-format=mixed\nlog-bin=mysql-bin\ndatadir=\/mysql\/data\nsql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES\ninnodb_data_home_dir = \/mysql\/data\ninnodb_log_group_home_dir = \/mysql\/log\ninnodb_file_per_table\ntmpdir=\/mysql\/tmpdir\ninnodb_undo_directory = \/mysql\/undo\ndefault-storage-engine = innodb\ndefault_tmp_storage_engine = innodb\ninnodb_log_files_in_group = 4\ninnodb_log_file_size = 1G\ninnodb_log_buffer_size = 8M\ninnodb_buffer_pool_size = 6G\t\nlarge-pages\t\ninnodb_buffer_pool_instances = 64\t\ninnodb_flush_method=O_DIRECT\t\ninnodb_flush_neighbors=0\t \ninnodb_flush_log_at_trx_commit=1\ninnodb_buffer_pool_dump_at_shutdown=1\t\ninnodb_buffer_pool_load_at_startup=1\t\nbulk_insert_buffer_size = 256\t\ninnodb_thread_concurrency = 16\t\n \t \n# Undo tablespace\t \ninnodb_undo_tablespaces = 5\t\n \t \n# Networking\t \nwait_timeout=57600\t \nmax_allowed_packet=1G\t\nsocket=\/var\/lib\/mysql\/mysql.sock\t \nskip-name-resolve\nport=3306\t\nmax_connections=1000\t\n\n\n[mysqld_safe]\nlog-error=\/mysql\/log\/mysqld.log\npid-file=\/var\/run\/mysqld\/mysqld.pid\" | sudo tee \/etc\/my.cnf.d\/nutanix.cnf\n\nsudo sed -i \"\/\\[mysqld\\]\/a server-id=100\" \/etc\/my.cnf.d\/nutanix.cnf\n\n\n# -*- Sysctl configuration\nmysql_grp_id=`id -g mysql`\nsudo sysctl -w vm.swappiness=0\nsudo sysctl -w vm.nr_hugepages=1024\nsudo sysctl -w vm.overcommit_memory=1\nsudo sysctl -w vm.dirty_background_ratio=5 \nsudo sysctl -w vm.dirty_ratio=15\nsudo sysctl -w vm.dirty_expire_centisecs=500\nsudo sysctl -w vm.dirty_writeback_centisecs=100\nsudo sysctl -w vm.hugetlb_shm_group=$mysql_grp_id\n\necho \"vm.swappiness=0\nvm.nr_hugepages=1024\nvm.overcommit_memory=1\nvm.dirty_background_ratio=5 \nvm.dirty_ratio=15\nvm.dirty_expire_centisecs=500\nvm.dirty_writeback_centisecs=100\nvm.hugetlb_shm_group=$mysql_grp_id\" | sudo tee  -a \/etc\/sysctl.conf\n\necho \"ACTION=='add|change', SUBSYSTEM=='block', RUN+='\/bin\/sh -c \\\"\/bin\/echo 1024 > \/sys%p\/queue\/max_sectors_kb\\\"'\" | sudo tee \/etc\/udev\/rules.d\/71-block-max-sectors.rules\n#echo 1024 | sudo tee \/sys\/block\/sd?\/queue\/max_sectors_kb\n\necho \"\/dev\/mysqlDataVG\/mysqlDataLV \/mysql\/data ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\necho \"\/dev\/mysqlLogVG\/mysqlLogLV \/mysql\/log ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\nsudo mkdir -p \/mysql\/log \/mysql\/data \/mysql\/tmpdir \/mysql\/undo\nsudo mount -a\nsudo chown -R mysql:mysql \/mysql\n\nsudo systemctl enable mysqld\n\nsudo rm -rf \/mysql\/data\/*\nsudo systemctl start mysqld\n\n#Fix to obtain temp password and set it to blank\npassword=$(grep -oP 'temporary password(.*): \\K(\\S+)' \/var\/log\/mysqld.log)\nsudo mysqladmin --user=root --password=\"$password\" password aaBB**cc1122\nsudo mysql --user=root --password=aaBB**cc1122 -e \"UNINSTALL COMPONENT 'file:\/\/component_validate_password'\"\nsudo mysqladmin --user=root --password=\"aaBB**cc1122\" password \"\"\n\n\n#Mysql secure installation\nsudo mysql -u root<<-EOF\nALTER USER 'root'@'localhost' IDENTIFIED WITH caching_sha2_password BY '@@{MYSQL_PASSWORD}@@';\nDELETE FROM mysql.user WHERE User='root' AND Host NOT IN ('localhost', '127.0.0.1', '::1');\nDELETE FROM mysql.user WHERE User='';\nDELETE FROM mysql.db WHERE Db='test' OR Db='test\\_%';\nFLUSH PRIVILEGES;\nEOF\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"d2eec46b-8fe8-4b34-9979-e0807d4717c1"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Setup MySQL"}],"description":"","message_list":[],"uuid":"a1a38ce3-2091-4612-b5cd-16a8f8317f5c","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"d80995e3_dag","uuid":"981ccb8b-82cc-4aae-9fb6-f282898d17cd"},"name":"ecae87f8_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVMySQLPackage","uuid":"f79f4aeb-2b78-48d4-9d73-9e4acc214df1"},"retries":"0","description":"","type":"DAG","uuid":"385682a9-a571-4cea-aa45-83c9f2a365d7","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"254e5361_dag"}],"description":"","message_list":[],"uuid":"1c0ad69d-5144-401b-9c9e-4d3dd059e4ed","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"254e5361_dag","uuid":"385682a9-a571-4cea-aa45-83c9f2a365d7"},"name":"2ac89dfe_runbook"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Install_Crb_f79f4aeb_2b78_48d4_9d73_9e4acc214df1"}],"description":"","message_list":[],"uuid":"001e0e4d-375f-4b70-aa32-386499b9950d","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Package_f79f4aeb_2b78_48d4_9d73_9e4acc214df1","uuid":"e32e3b81-ef0c-4222-b3b9-aaee7eedd699"},"name":"SYS_GEN__Runbook_Package_f79f4aeb_2b78_48d4_9d73_9e4acc214df1"}},{"description":"System action for creating an application","message_list":[],"uuid":"3d5e9f92-a7de-4cdc-a644-b18b65f3450c","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVMySQLPackage","uuid":"f79f4aeb-2b78-48d4-9d73-9e4acc214df1"},"retries":"0","description":"","type":"DAG","uuid":"4079035f-0fb4-4230-ae5a-791ffa915cfb","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_f79f4aeb_2b78_48d4_9d73_9e4acc214df1","uuid":"bd90a56c-a1ef-419f-927e-b47ec43cd81a"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"67d74d08-d587-46f1-aa35-0407cd6e0989"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"8e79b164-0f96-4091-a4c3-e351390c5c69"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"67d74d08-d587-46f1-aa35-0407cd6e0989"},"edge_type":"inherent","type":"","uuid":"9bc05487-5688-440d-871f-787abdae4e66","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"8e79b164-0f96-4091-a4c3-e351390c5c69"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_f79f4aeb_2b78_48d4_9d73_9e4acc214df1","uuid":"bd90a56c-a1ef-419f-927e-b47ec43cd81a"},"edge_type":"inherent","type":"","uuid":"4906e43c-f023-4ada-b74e-d0246522b449","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"67d74d08-d587-46f1-aa35-0407cd6e0989"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_f79f4aeb_2b78_48d4_9d73_9e4acc214df1"},{"target_any_local_reference":{"kind":"app_package","name":"AHVMySQLPackage","uuid":"f79f4aeb-2b78-48d4-9d73-9e4acc214df1"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"bd90a56c-a1ef-419f-927e-b47ec43cd81a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_f79f4aeb_2b78_48d4_9d73_9e4acc214df1","uuid":"001e0e4d-375f-4b70-aa32-386499b9950d"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_f79f4aeb_2b78_48d4_9d73_9e4acc214df1"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"67d74d08-d587-46f1-aa35-0407cd6e0989","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"f603ab76_runbook","uuid":"1f2c9854-fd61-4d80-a059-2670f4aa3ba3"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"8e79b164-0f96-4091-a4c3-e351390c5c69","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"7748f46a_runbook","uuid":"a0ae1241-f6d5-470e-b065-dfde29b2bbf2"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c"}],"description":"","message_list":[],"uuid":"6418f63e-5c4a-4d33-aa34-cc3e590e87b5","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_f79f4aeb_2b78_48d4_9d73_9e4acc214df1","uuid":"4079035f-0fb4-4230-ae5a-791ffa915cfb"},"name":"SYS_GEN__Runbook_Package_f79f4aeb_2b78_48d4_9d73_9e4acc214df1"}},{"description":"System action for uninstalling an application","message_list":[],"uuid":"d76d8a9b-6ba7-437a-a3ee-c27bedd3ddd8","name":"action_uninstall","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVMySQLPackage","uuid":"f79f4aeb-2b78-48d4-9d73-9e4acc214df1"},"retries":"0","description":"","type":"DAG","uuid":"0f1a3f64-813b-4477-8996-60ceae75baa8","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Uninstall_Crb_f79f4aeb_2b78_48d4_9d73_9e4acc214df1","uuid":"d62fe9ef-7867-4a4b-ba21-70a11c4d4b6a"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Package_f79f4aeb_2b78_48d4_9d73_9e4acc214df1"},{"target_any_local_reference":{"kind":"app_package","name":"AHVMySQLPackage","uuid":"f79f4aeb-2b78-48d4-9d73-9e4acc214df1"},"retries":"0","description":"","type":"CUSTOM_PACKAGE_UNINSTALL","uuid":"d62fe9ef-7867-4a4b-ba21-70a11c4d4b6a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVMySQLPackage","uuid":"f79f4aeb-2b78-48d4-9d73-9e4acc214df1"},"retries":"0","description":"","type":"DAG","uuid":"981ccb8b-82cc-4aae-9fb6-f282898d17cd","child_tasks_local_reference_list":[{"kind":"app_task","name":"Install System Packages","uuid":"ee78ccf5-636a-46af-90d5-12e2b274a578"},{"kind":"app_task","name":"Create Disk Setup","uuid":"35970f81-a268-419e-bbfe-689638b7d1cc"},{"kind":"app_task","name":"Install MySQL","uuid":"fd9a058a-b64c-4bbe-ae42-c9faf5bfcaa5"},{"kind":"app_task","name":"Setup MySQL","uuid":"c1ee0015-6be1-4149-80e8-349c53415725"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Install System Packages","uuid":"ee78ccf5-636a-46af-90d5-12e2b274a578"},"edge_type":"user_defined","type":"","uuid":"144908f6-306f-470f-b70b-6d8415c26f30","to_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"35970f81-a268-419e-bbfe-689638b7d1cc"}},{"from_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"35970f81-a268-419e-bbfe-689638b7d1cc"},"edge_type":"user_defined","type":"","uuid":"06546000-bea0-4b5c-abbc-e294fb1ff8e6","to_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"fd9a058a-b64c-4bbe-ae42-c9faf5bfcaa5"}},{"from_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"fd9a058a-b64c-4bbe-ae42-c9faf5bfcaa5"},"edge_type":"user_defined","type":"","uuid":"d9de7ac1-7a89-4a60-87a3-96a93e789905","to_task_reference":{"kind":"app_task","name":"Setup MySQL","uuid":"c1ee0015-6be1-4149-80e8-349c53415725"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"d80995e3_dag"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"EXEC","uuid":"ee78ccf5-636a-46af-90d5-12e2b274a578","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n# -*- Install Mysql\nsudo yum update -y --quiet\nsudo yum install -y  htop wget iotop xfs* bc unzip lvm2*\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"System packages are installed\"","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"d2eec46b-8fe8-4b34-9979-e0807d4717c1"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install System Packages"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"EXEC","uuid":"35970f81-a268-419e-bbfe-689638b7d1cc","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n##############\n#\n# LVM setup script for MySQL . 4 disks for DATA and 4 for logs\n# Data disks are 50GB | Log disks are 25GB \n#\n#############\n\n\n#PGSQL data\nsudo pvcreate \/dev\/sdb \/dev\/sdc \/dev\/sdd \/dev\/sde\nsudo vgcreate mysqlDataVG \/dev\/sdb \/dev\/sdd \/dev\/sdc \/dev\/sde\nsudo lvcreate -l 100%FREE -i4 -I1M -n mysqlDataLV mysqlDataVG          ## Use 1MB to avoid IO amplification \n#lvcreate -l 100%FREE -i4 -I4M -n pgDataLV pgDataVG\n\n\n#PGSQL logs\nsudo pvcreate \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo vgcreate mysqlLogVG \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo lvcreate -l 100%FREE -i2 -I1M -n mysqlLogLV mysqlLogVG            ## Use 1MB to avoid IO amplification\n#lvcreate -l 100%FREE -i2 -I4M -n pgLogLV pgLogVG\n\n\n#Disable LVM read ahead\nsudo lvchange -r 0 \/dev\/mysqlDataVG\/mysqlDataLV\nsudo lvchange -r 0 \/dev\/mysqlLogVG\/mysqlLogLV\n\n\n#Format LVMs with ext4 and use nodiscard to make sure format time is fast on Nutanix due to SCSI unmap\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlDataVG\/mysqlDataLV\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlLogVG\/mysqlLogLV\n\nsleep 30\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"d2eec46b-8fe8-4b34-9979-e0807d4717c1"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Create Disk Setup"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"EXEC","uuid":"fd9a058a-b64c-4bbe-ae42-c9faf5bfcaa5","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nsudo hostnamectl set-hostname \"@@{name}@@\"\n\n# -*- Mysql installation \nsudo yum install -y --quiet \"http:\/\/repo.mysql.com\/mysql80-community-release-el7.rpm\"\nsudo yum update -y --quiet\nsudo yum install -y --quiet sshpass mysql-community-server.x86_64\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"d2eec46b-8fe8-4b34-9979-e0807d4717c1"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install MySQL"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"EXEC","uuid":"c1ee0015-6be1-4149-80e8-349c53415725","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\necho \"!includedir \/etc\/my.cnf.d\" | sudo tee -a \/etc\/my.cnf\n\necho \"[mysqld]\nbinlog-format=mixed\nlog-bin=mysql-bin\ndatadir=\/mysql\/data\nsql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES\ninnodb_data_home_dir = \/mysql\/data\ninnodb_log_group_home_dir = \/mysql\/log\ninnodb_file_per_table\ntmpdir=\/mysql\/tmpdir\ninnodb_undo_directory = \/mysql\/undo\ndefault-storage-engine = innodb\ndefault_tmp_storage_engine = innodb\ninnodb_log_files_in_group = 4\ninnodb_log_file_size = 1G\ninnodb_log_buffer_size = 8M\ninnodb_buffer_pool_size = 6G\t\nlarge-pages\t\ninnodb_buffer_pool_instances = 64\t\ninnodb_flush_method=O_DIRECT\t\ninnodb_flush_neighbors=0\t \ninnodb_flush_log_at_trx_commit=1\ninnodb_buffer_pool_dump_at_shutdown=1\t\ninnodb_buffer_pool_load_at_startup=1\t\nbulk_insert_buffer_size = 256\t\ninnodb_thread_concurrency = 16\t\n \t \n# Undo tablespace\t \ninnodb_undo_tablespaces = 5\t\n \t \n# Networking\t \nwait_timeout=57600\t \nmax_allowed_packet=1G\t\nsocket=\/var\/lib\/mysql\/mysql.sock\t \nskip-name-resolve\nport=3306\t\nmax_connections=1000\t\n\n\n[mysqld_safe]\nlog-error=\/mysql\/log\/mysqld.log\npid-file=\/var\/run\/mysqld\/mysqld.pid\" | sudo tee \/etc\/my.cnf.d\/nutanix.cnf\n\nsudo sed -i \"\/\\[mysqld\\]\/a server-id=100\" \/etc\/my.cnf.d\/nutanix.cnf\n\n\n# -*- Sysctl configuration\nmysql_grp_id=`id -g mysql`\nsudo sysctl -w vm.swappiness=0\nsudo sysctl -w vm.nr_hugepages=1024\nsudo sysctl -w vm.overcommit_memory=1\nsudo sysctl -w vm.dirty_background_ratio=5 \nsudo sysctl -w vm.dirty_ratio=15\nsudo sysctl -w vm.dirty_expire_centisecs=500\nsudo sysctl -w vm.dirty_writeback_centisecs=100\nsudo sysctl -w vm.hugetlb_shm_group=$mysql_grp_id\n\necho \"vm.swappiness=0\nvm.nr_hugepages=1024\nvm.overcommit_memory=1\nvm.dirty_background_ratio=5 \nvm.dirty_ratio=15\nvm.dirty_expire_centisecs=500\nvm.dirty_writeback_centisecs=100\nvm.hugetlb_shm_group=$mysql_grp_id\" | sudo tee  -a \/etc\/sysctl.conf\n\necho \"ACTION=='add|change', SUBSYSTEM=='block', RUN+='\/bin\/sh -c \\\"\/bin\/echo 1024 > \/sys%p\/queue\/max_sectors_kb\\\"'\" | sudo tee \/etc\/udev\/rules.d\/71-block-max-sectors.rules\n#echo 1024 | sudo tee \/sys\/block\/sd?\/queue\/max_sectors_kb\n\necho \"\/dev\/mysqlDataVG\/mysqlDataLV \/mysql\/data ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\necho \"\/dev\/mysqlLogVG\/mysqlLogLV \/mysql\/log ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\nsudo mkdir -p \/mysql\/log \/mysql\/data \/mysql\/tmpdir \/mysql\/undo\nsudo mount -a\nsudo chown -R mysql:mysql \/mysql\n\nsudo systemctl enable mysqld\n\nsudo rm -rf \/mysql\/data\/*\nsudo systemctl start mysqld\n\n#Fix to obtain temp password and set it to blank\npassword=$(grep -oP 'temporary password(.*): \\K(\\S+)' \/var\/log\/mysqld.log)\nsudo mysqladmin --user=root --password=\"$password\" password aaBB**cc1122\nsudo mysql --user=root --password=aaBB**cc1122 -e \"UNINSTALL COMPONENT 'file:\/\/component_validate_password'\"\nsudo mysqladmin --user=root --password=\"aaBB**cc1122\" password \"\"\n\n\n#Mysql secure installation\nsudo mysql -u root<<-EOF\nALTER USER 'root'@'localhost' IDENTIFIED WITH caching_sha2_password BY '@@{MYSQL_PASSWORD}@@';\nDELETE FROM mysql.user WHERE User='root' AND Host NOT IN ('localhost', '127.0.0.1', '::1');\nDELETE FROM mysql.user WHERE User='';\nDELETE FROM mysql.db WHERE Db='test' OR Db='test\\_%';\nFLUSH PRIVILEGES;\nEOF\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"d2eec46b-8fe8-4b34-9979-e0807d4717c1"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Setup MySQL"}],"description":"","message_list":[],"uuid":"a1a38ce3-2091-4612-b5cd-16a8f8317f5c","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"d80995e3_dag","uuid":"981ccb8b-82cc-4aae-9fb6-f282898d17cd"},"name":"ecae87f8_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVMySQLPackage","uuid":"f79f4aeb-2b78-48d4-9d73-9e4acc214df1"},"retries":"0","description":"","type":"DAG","uuid":"385682a9-a571-4cea-aa45-83c9f2a365d7","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"254e5361_dag"}],"description":"","message_list":[],"uuid":"1c0ad69d-5144-401b-9c9e-4d3dd059e4ed","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"254e5361_dag","uuid":"385682a9-a571-4cea-aa45-83c9f2a365d7"},"name":"2ac89dfe_runbook"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Uninstall_Crb_f79f4aeb_2b78_48d4_9d73_9e4acc214df1"}],"description":"","message_list":[],"uuid":"6733c5ed-382e-404b-b416-00c289ccbf0e","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Package_f79f4aeb_2b78_48d4_9d73_9e4acc214df1","uuid":"0f1a3f64-813b-4477-8996-60ceae75baa8"},"name":"SYS_GEN__Runbook_Package_f79f4aeb_2b78_48d4_9d73_9e4acc214df1"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"b181bd26-2b58-49b0-90df-ee1d9935249e","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVMySQLPackage","uuid":"f79f4aeb-2b78-48d4-9d73-9e4acc214df1"},"retries":"0","description":"","type":"DAG","uuid":"cd64b08f-c940-43c7-b3d6-67fcdb934493","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"55e43b98-f52f-4dae-85cf-0e60c33ae849"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"6370f03f-2c78-4831-981d-e221cea27543"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_f79f4aeb_2b78_48d4_9d73_9e4acc214df1","uuid":"cac53bf1-df91-4118-b0d5-5c7beaddf5c4"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"55e43b98-f52f-4dae-85cf-0e60c33ae849"},"edge_type":"inherent","type":"","uuid":"53815f6b-98ff-4645-a23a-4a7c8609a6fb","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"6370f03f-2c78-4831-981d-e221cea27543"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"6370f03f-2c78-4831-981d-e221cea27543"},"edge_type":"inherent","type":"","uuid":"fbdb5453-35f9-4bc7-8731-6ff99173eafe","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_f79f4aeb_2b78_48d4_9d73_9e4acc214df1","uuid":"cac53bf1-df91-4118-b0d5-5c7beaddf5c4"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_f79f4aeb_2b78_48d4_9d73_9e4acc214df1"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"55e43b98-f52f-4dae-85cf-0e60c33ae849","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"534c563f_runbook","uuid":"fa558656-179d-42a9-8b13-80552295db71"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"6370f03f-2c78-4831-981d-e221cea27543","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"d738eefe_runbook","uuid":"15541983-ff20-4829-b0c7-aff046fa0beb"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c"},{"target_any_local_reference":{"kind":"app_package","name":"AHVMySQLPackage","uuid":"f79f4aeb-2b78-48d4-9d73-9e4acc214df1"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"cac53bf1-df91-4118-b0d5-5c7beaddf5c4","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_f79f4aeb_2b78_48d4_9d73_9e4acc214df1","uuid":"6733c5ed-382e-404b-b416-00c289ccbf0e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_f79f4aeb_2b78_48d4_9d73_9e4acc214df1"}],"description":"","message_list":[],"uuid":"83617ed3-4967-40d4-81b9-72e75cb4e209","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_f79f4aeb_2b78_48d4_9d73_9e4acc214df1","uuid":"cd64b08f-c940-43c7-b3d6-67fcdb934493"},"name":"SYS_GEN__Runbook_Package_f79f4aeb_2b78_48d4_9d73_9e4acc214df1"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"7ce6c305-6128-4762-a62c-284f1164a78a","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVMySQLPackage","uuid":"f79f4aeb-2b78-48d4-9d73-9e4acc214df1"},"retries":"0","description":"","type":"DAG","uuid":"8a386f80-a7cc-47af-bb31-662f638662ba","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"9eed69aa-32da-49cd-92c6-cf8ecb725fd6"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_f79f4aeb_2b78_48d4_9d73_9e4acc214df1","uuid":"5d5de8ac-fd4f-46ad-9de0-4acf5ac954f9"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"9eed69aa-32da-49cd-92c6-cf8ecb725fd6"},"edge_type":"inherent","type":"","uuid":"cebd1832-9409-400f-a12f-e1a0b8d96683","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_f79f4aeb_2b78_48d4_9d73_9e4acc214df1","uuid":"5d5de8ac-fd4f-46ad-9de0-4acf5ac954f9"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_f79f4aeb_2b78_48d4_9d73_9e4acc214df1"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"9eed69aa-32da-49cd-92c6-cf8ecb725fd6","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"957cfc08-a445-474a-b6fd-5a80c651f044"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c"},{"target_any_local_reference":{"kind":"app_package","name":"AHVMySQLPackage","uuid":"f79f4aeb-2b78-48d4-9d73-9e4acc214df1"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"5d5de8ac-fd4f-46ad-9de0-4acf5ac954f9","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_f79f4aeb_2b78_48d4_9d73_9e4acc214df1"}],"description":"","message_list":[],"uuid":"a659f359-0931-4dbd-b4da-f7a872a6c665","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_f79f4aeb_2b78_48d4_9d73_9e4acc214df1","uuid":"8a386f80-a7cc-47af-bb31-662f638662ba"},"name":"SYS_GEN__Runbook_Package_f79f4aeb_2b78_48d4_9d73_9e4acc214df1"}},{"description":"System action for starting an application","message_list":[],"uuid":"22726096-5402-4be1-9330-7abde9087286","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVMySQLPackage","uuid":"f79f4aeb-2b78-48d4-9d73-9e4acc214df1"},"retries":"0","description":"","type":"DAG","uuid":"f476162c-4721-4261-9288-36a8571386a1","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"d1d6b715-4fe5-41c1-909b-23e3aa022707"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_f79f4aeb_2b78_48d4_9d73_9e4acc214df1"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"d1d6b715-4fe5-41c1-909b-23e3aa022707","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"7748f46a_runbook","uuid":"a0ae1241-f6d5-470e-b065-dfde29b2bbf2"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c"}],"description":"","message_list":[],"uuid":"74f19574-b0c9-466f-b3db-e86715a6fa0b","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_f79f4aeb_2b78_48d4_9d73_9e4acc214df1","uuid":"f476162c-4721-4261-9288-36a8571386a1"},"name":"SYS_GEN__Runbook_Package_f79f4aeb_2b78_48d4_9d73_9e4acc214df1"}},{"description":"System action for restarting an application","message_list":[],"uuid":"cfad39eb-a760-4958-833f-83bfc93a771f","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVMySQLPackage","uuid":"f79f4aeb-2b78-48d4-9d73-9e4acc214df1"},"retries":"0","description":"","type":"DAG","uuid":"27cfeaaf-45db-4e0f-9c52-6c2bbf71cb1f","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"d1f58c56-288a-434f-ba91-8586d969a613"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_f79f4aeb_2b78_48d4_9d73_9e4acc214df1"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"d1f58c56-288a-434f-ba91-8586d969a613","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"e9d7de80_runbook","uuid":"1da5d6b4-d3df-4a19-942c-e6e85b650e34"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c"}],"description":"","message_list":[],"uuid":"dbaf051e-2623-4779-9bc4-06639ba4191b","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_f79f4aeb_2b78_48d4_9d73_9e4acc214df1","uuid":"27cfeaaf-45db-4e0f-9c52-6c2bbf71cb1f"},"name":"SYS_GEN__Runbook_Package_f79f4aeb_2b78_48d4_9d73_9e4acc214df1"}},{"description":"System action for stopping an application","message_list":[],"uuid":"d8b5a364-e3d4-4659-87a6-8afd5ae7d844","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVMySQLPackage","uuid":"f79f4aeb-2b78-48d4-9d73-9e4acc214df1"},"retries":"0","description":"","type":"DAG","uuid":"294e60c6-2c12-412e-a310-b11c5157210a","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"dd56dc00-9958-4063-a18a-8ca83a0e6bd1"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_f79f4aeb_2b78_48d4_9d73_9e4acc214df1"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"dd56dc00-9958-4063-a18a-8ca83a0e6bd1","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"534c563f_runbook","uuid":"fa558656-179d-42a9-8b13-80552295db71"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c"}],"description":"","message_list":[],"uuid":"8174e376-1512-4584-8110-ee5a582c2821","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_f79f4aeb_2b78_48d4_9d73_9e4acc214df1","uuid":"294e60c6-2c12-412e-a310-b11c5157210a"},"name":"SYS_GEN__Runbook_Package_f79f4aeb_2b78_48d4_9d73_9e4acc214df1"}}],"message_list":[],"service_local_reference_list":[{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"}],"uuid":"f79f4aeb-2b78-48d4-9d73-9e4acc214df1","state":"ACTIVE","version":"","editables":{},"type":"DEB","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVMySQLPackage","uuid":"f79f4aeb-2b78-48d4-9d73-9e4acc214df1"},"retries":"0","description":"","type":"DAG","uuid":"981ccb8b-82cc-4aae-9fb6-f282898d17cd","child_tasks_local_reference_list":[{"kind":"app_task","name":"Install System Packages","uuid":"ee78ccf5-636a-46af-90d5-12e2b274a578"},{"kind":"app_task","name":"Create Disk Setup","uuid":"35970f81-a268-419e-bbfe-689638b7d1cc"},{"kind":"app_task","name":"Install MySQL","uuid":"fd9a058a-b64c-4bbe-ae42-c9faf5bfcaa5"},{"kind":"app_task","name":"Setup MySQL","uuid":"c1ee0015-6be1-4149-80e8-349c53415725"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Install System Packages","uuid":"ee78ccf5-636a-46af-90d5-12e2b274a578"},"edge_type":"user_defined","type":"","uuid":"144908f6-306f-470f-b70b-6d8415c26f30","to_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"35970f81-a268-419e-bbfe-689638b7d1cc"}},{"from_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"35970f81-a268-419e-bbfe-689638b7d1cc"},"edge_type":"user_defined","type":"","uuid":"06546000-bea0-4b5c-abbc-e294fb1ff8e6","to_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"fd9a058a-b64c-4bbe-ae42-c9faf5bfcaa5"}},{"from_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"fd9a058a-b64c-4bbe-ae42-c9faf5bfcaa5"},"edge_type":"user_defined","type":"","uuid":"d9de7ac1-7a89-4a60-87a3-96a93e789905","to_task_reference":{"kind":"app_task","name":"Setup MySQL","uuid":"c1ee0015-6be1-4149-80e8-349c53415725"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"d80995e3_dag"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"EXEC","uuid":"ee78ccf5-636a-46af-90d5-12e2b274a578","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n# -*- Install Mysql\nsudo yum update -y --quiet\nsudo yum install -y  htop wget iotop xfs* bc unzip lvm2*\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"System packages are installed\"","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"d2eec46b-8fe8-4b34-9979-e0807d4717c1"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install System Packages"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"EXEC","uuid":"35970f81-a268-419e-bbfe-689638b7d1cc","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n##############\n#\n# LVM setup script for MySQL . 4 disks for DATA and 4 for logs\n# Data disks are 50GB | Log disks are 25GB \n#\n#############\n\n\n#PGSQL data\nsudo pvcreate \/dev\/sdb \/dev\/sdc \/dev\/sdd \/dev\/sde\nsudo vgcreate mysqlDataVG \/dev\/sdb \/dev\/sdd \/dev\/sdc \/dev\/sde\nsudo lvcreate -l 100%FREE -i4 -I1M -n mysqlDataLV mysqlDataVG          ## Use 1MB to avoid IO amplification \n#lvcreate -l 100%FREE -i4 -I4M -n pgDataLV pgDataVG\n\n\n#PGSQL logs\nsudo pvcreate \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo vgcreate mysqlLogVG \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo lvcreate -l 100%FREE -i2 -I1M -n mysqlLogLV mysqlLogVG            ## Use 1MB to avoid IO amplification\n#lvcreate -l 100%FREE -i2 -I4M -n pgLogLV pgLogVG\n\n\n#Disable LVM read ahead\nsudo lvchange -r 0 \/dev\/mysqlDataVG\/mysqlDataLV\nsudo lvchange -r 0 \/dev\/mysqlLogVG\/mysqlLogLV\n\n\n#Format LVMs with ext4 and use nodiscard to make sure format time is fast on Nutanix due to SCSI unmap\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlDataVG\/mysqlDataLV\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlLogVG\/mysqlLogLV\n\nsleep 30\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"d2eec46b-8fe8-4b34-9979-e0807d4717c1"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Create Disk Setup"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"EXEC","uuid":"fd9a058a-b64c-4bbe-ae42-c9faf5bfcaa5","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nsudo hostnamectl set-hostname \"@@{name}@@\"\n\n# -*- Mysql installation \nsudo yum install -y --quiet \"http:\/\/repo.mysql.com\/mysql80-community-release-el7.rpm\"\nsudo yum update -y --quiet\nsudo yum install -y --quiet sshpass mysql-community-server.x86_64\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"d2eec46b-8fe8-4b34-9979-e0807d4717c1"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install MySQL"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"EXEC","uuid":"c1ee0015-6be1-4149-80e8-349c53415725","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\necho \"!includedir \/etc\/my.cnf.d\" | sudo tee -a \/etc\/my.cnf\n\necho \"[mysqld]\nbinlog-format=mixed\nlog-bin=mysql-bin\ndatadir=\/mysql\/data\nsql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES\ninnodb_data_home_dir = \/mysql\/data\ninnodb_log_group_home_dir = \/mysql\/log\ninnodb_file_per_table\ntmpdir=\/mysql\/tmpdir\ninnodb_undo_directory = \/mysql\/undo\ndefault-storage-engine = innodb\ndefault_tmp_storage_engine = innodb\ninnodb_log_files_in_group = 4\ninnodb_log_file_size = 1G\ninnodb_log_buffer_size = 8M\ninnodb_buffer_pool_size = 6G\t\nlarge-pages\t\ninnodb_buffer_pool_instances = 64\t\ninnodb_flush_method=O_DIRECT\t\ninnodb_flush_neighbors=0\t \ninnodb_flush_log_at_trx_commit=1\ninnodb_buffer_pool_dump_at_shutdown=1\t\ninnodb_buffer_pool_load_at_startup=1\t\nbulk_insert_buffer_size = 256\t\ninnodb_thread_concurrency = 16\t\n \t \n# Undo tablespace\t \ninnodb_undo_tablespaces = 5\t\n \t \n# Networking\t \nwait_timeout=57600\t \nmax_allowed_packet=1G\t\nsocket=\/var\/lib\/mysql\/mysql.sock\t \nskip-name-resolve\nport=3306\t\nmax_connections=1000\t\n\n\n[mysqld_safe]\nlog-error=\/mysql\/log\/mysqld.log\npid-file=\/var\/run\/mysqld\/mysqld.pid\" | sudo tee \/etc\/my.cnf.d\/nutanix.cnf\n\nsudo sed -i \"\/\\[mysqld\\]\/a server-id=100\" \/etc\/my.cnf.d\/nutanix.cnf\n\n\n# -*- Sysctl configuration\nmysql_grp_id=`id -g mysql`\nsudo sysctl -w vm.swappiness=0\nsudo sysctl -w vm.nr_hugepages=1024\nsudo sysctl -w vm.overcommit_memory=1\nsudo sysctl -w vm.dirty_background_ratio=5 \nsudo sysctl -w vm.dirty_ratio=15\nsudo sysctl -w vm.dirty_expire_centisecs=500\nsudo sysctl -w vm.dirty_writeback_centisecs=100\nsudo sysctl -w vm.hugetlb_shm_group=$mysql_grp_id\n\necho \"vm.swappiness=0\nvm.nr_hugepages=1024\nvm.overcommit_memory=1\nvm.dirty_background_ratio=5 \nvm.dirty_ratio=15\nvm.dirty_expire_centisecs=500\nvm.dirty_writeback_centisecs=100\nvm.hugetlb_shm_group=$mysql_grp_id\" | sudo tee  -a \/etc\/sysctl.conf\n\necho \"ACTION=='add|change', SUBSYSTEM=='block', RUN+='\/bin\/sh -c \\\"\/bin\/echo 1024 > \/sys%p\/queue\/max_sectors_kb\\\"'\" | sudo tee \/etc\/udev\/rules.d\/71-block-max-sectors.rules\n#echo 1024 | sudo tee \/sys\/block\/sd?\/queue\/max_sectors_kb\n\necho \"\/dev\/mysqlDataVG\/mysqlDataLV \/mysql\/data ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\necho \"\/dev\/mysqlLogVG\/mysqlLogLV \/mysql\/log ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\nsudo mkdir -p \/mysql\/log \/mysql\/data \/mysql\/tmpdir \/mysql\/undo\nsudo mount -a\nsudo chown -R mysql:mysql \/mysql\n\nsudo systemctl enable mysqld\n\nsudo rm -rf \/mysql\/data\/*\nsudo systemctl start mysqld\n\n#Fix to obtain temp password and set it to blank\npassword=$(grep -oP 'temporary password(.*): \\K(\\S+)' \/var\/log\/mysqld.log)\nsudo mysqladmin --user=root --password=\"$password\" password aaBB**cc1122\nsudo mysql --user=root --password=aaBB**cc1122 -e \"UNINSTALL COMPONENT 'file:\/\/component_validate_password'\"\nsudo mysqladmin --user=root --password=\"aaBB**cc1122\" password \"\"\n\n\n#Mysql secure installation\nsudo mysql -u root<<-EOF\nALTER USER 'root'@'localhost' IDENTIFIED WITH caching_sha2_password BY '@@{MYSQL_PASSWORD}@@';\nDELETE FROM mysql.user WHERE User='root' AND Host NOT IN ('localhost', '127.0.0.1', '::1');\nDELETE FROM mysql.user WHERE User='';\nDELETE FROM mysql.db WHERE Db='test' OR Db='test\\_%';\nFLUSH PRIVILEGES;\nEOF\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"d2eec46b-8fe8-4b34-9979-e0807d4717c1"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Setup MySQL"}],"description":"","message_list":[],"uuid":"a1a38ce3-2091-4612-b5cd-16a8f8317f5c","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"d80995e3_dag","uuid":"981ccb8b-82cc-4aae-9fb6-f282898d17cd"},"name":"ecae87f8_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVMySQLPackage","uuid":"f79f4aeb-2b78-48d4-9d73-9e4acc214df1"},"retries":"0","description":"","type":"DAG","uuid":"385682a9-a571-4cea-aa45-83c9f2a365d7","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"254e5361_dag"}],"description":"","message_list":[],"uuid":"1c0ad69d-5144-401b-9c9e-4d3dd059e4ed","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"254e5361_dag","uuid":"385682a9-a571-4cea-aa45-83c9f2a365d7"},"name":"2ac89dfe_runbook"}},"variable_list":[],"name":"AHVMySQLPackage"},{"description":"","action_list":[{"description":"System action for installing an application","message_list":[],"uuid":"4c217e15-a3b8-4a90-9c1e-575a8a9cd7e2","name":"action_install","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"CENTOS_IMAGE","uuid":"06d5e9f9-391c-498e-9de1-92702f93694d"},"retries":"0","description":"","type":"DAG","uuid":"fc457a31-156a-4026-91f9-19b6b8d3a3fa","child_tasks_local_reference_list":[{"kind":"app_task","name":"Image Fetch task for VM","uuid":"9cd15b12-f084-4de1-918e-970de5866a03"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Package_06d5e9f9_391c_498e_9de1_92702f93694d"},{"target_any_local_reference":{"kind":"app_package","name":"CENTOS_IMAGE","uuid":"06d5e9f9-391c-498e-9de1-92702f93694d"},"retries":"0","description":"","type":"SUBSTRATE_IMAGE_FETCH","uuid":"9cd15b12-f084-4de1-918e-970de5866a03","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"","name":"Centos-7.4-1801-01","resources":{"image_type":"DISK_IMAGE","checksum":{"checksum_algorithm":"","type":"","checksum_value":""},"source_uri":"http:\/\/download.nutanix.com\/calm\/CentOS-7-x86_64-GenericCloud-1801-01.qcow2","version":{"product_version":"","type":"","product_name":""},"architecture":"X86_64","type":""},"description":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Image Fetch task for VM"}],"description":"","message_list":[],"uuid":"952b681f-6454-41c4-a65e-077b33c0dc32","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Package_06d5e9f9_391c_498e_9de1_92702f93694d","uuid":"fc457a31-156a-4026-91f9-19b6b8d3a3fa"},"name":"SYS_GEN__Runbook_Package_06d5e9f9_391c_498e_9de1_92702f93694d"}},{"description":"System action for creating an application","message_list":[],"uuid":"ad6633f1-402a-451a-9e20-b570a1c6b828","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"CENTOS_IMAGE","uuid":"06d5e9f9-391c-498e-9de1-92702f93694d"},"retries":"0","description":"","type":"DAG","uuid":"d6619e08-5823-45bb-842d-811c4463dace","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_06d5e9f9_391c_498e_9de1_92702f93694d","uuid":"279c4a3b-7b09-4f16-8356-ff33e8aff0e0"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_06d5e9f9_391c_498e_9de1_92702f93694d"},{"target_any_local_reference":{"kind":"app_package","name":"CENTOS_IMAGE","uuid":"06d5e9f9-391c-498e-9de1-92702f93694d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"279c4a3b-7b09-4f16-8356-ff33e8aff0e0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_06d5e9f9_391c_498e_9de1_92702f93694d","uuid":"952b681f-6454-41c4-a65e-077b33c0dc32"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_06d5e9f9_391c_498e_9de1_92702f93694d"}],"description":"","message_list":[],"uuid":"c654f26a-27e3-4e43-b2d2-d8ca1bf80236","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_06d5e9f9_391c_498e_9de1_92702f93694d","uuid":"d6619e08-5823-45bb-842d-811c4463dace"},"name":"SYS_GEN__Runbook_Package_06d5e9f9_391c_498e_9de1_92702f93694d"}},{"description":"System action for starting an application","message_list":[],"uuid":"c1ec69d9-c5a1-4e4b-8ab8-c07a68f402cc","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"CENTOS_IMAGE","uuid":"06d5e9f9-391c-498e-9de1-92702f93694d"},"retries":"0","description":"","type":"DAG","uuid":"b9e5dcba-f8f4-48b1-b0ae-0a9575c2d632","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_06d5e9f9_391c_498e_9de1_92702f93694d"}],"description":"","message_list":[],"uuid":"49039d3e-288d-47e4-8116-deefe8786958","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_06d5e9f9_391c_498e_9de1_92702f93694d","uuid":"b9e5dcba-f8f4-48b1-b0ae-0a9575c2d632"},"name":"SYS_GEN__Runbook_Package_06d5e9f9_391c_498e_9de1_92702f93694d"}},{"description":"System action for restarting an application","message_list":[],"uuid":"cc889858-477c-41c8-97ab-0d260732f6e6","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"CENTOS_IMAGE","uuid":"06d5e9f9-391c-498e-9de1-92702f93694d"},"retries":"0","description":"","type":"DAG","uuid":"1e517bd1-9985-4621-bb29-b40e8a613e0a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_06d5e9f9_391c_498e_9de1_92702f93694d"}],"description":"","message_list":[],"uuid":"66b7406e-f845-41ca-9c5d-dfdd8703aa9f","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_06d5e9f9_391c_498e_9de1_92702f93694d","uuid":"1e517bd1-9985-4621-bb29-b40e8a613e0a"},"name":"SYS_GEN__Runbook_Package_06d5e9f9_391c_498e_9de1_92702f93694d"}},{"description":"System action for stopping an application","message_list":[],"uuid":"78cce322-6704-4bf0-9ce2-546ae14497de","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"CENTOS_IMAGE","uuid":"06d5e9f9-391c-498e-9de1-92702f93694d"},"retries":"0","description":"","type":"DAG","uuid":"2ad10491-7e64-4351-a0a9-65d27b029e5e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_06d5e9f9_391c_498e_9de1_92702f93694d"}],"description":"","message_list":[],"uuid":"5c04d28d-6e45-4926-8dbf-6296edf7dd5e","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_06d5e9f9_391c_498e_9de1_92702f93694d","uuid":"2ad10491-7e64-4351-a0a9-65d27b029e5e"},"name":"SYS_GEN__Runbook_Package_06d5e9f9_391c_498e_9de1_92702f93694d"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"1dfff393-164d-45fb-b054-6d11f8115593","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"CENTOS_IMAGE","uuid":"06d5e9f9-391c-498e-9de1-92702f93694d"},"retries":"0","description":"","type":"DAG","uuid":"75f660b9-4617-4cdf-abe8-5e365998b9c9","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_06d5e9f9_391c_498e_9de1_92702f93694d"}],"description":"","message_list":[],"uuid":"56e62ea9-d758-4100-a129-1832c2681a85","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_06d5e9f9_391c_498e_9de1_92702f93694d","uuid":"75f660b9-4617-4cdf-abe8-5e365998b9c9"},"name":"SYS_GEN__Runbook_Package_06d5e9f9_391c_498e_9de1_92702f93694d"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"4e05d9b8-722c-4b56-a896-7c4283040b85","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"CENTOS_IMAGE","uuid":"06d5e9f9-391c-498e-9de1-92702f93694d"},"retries":"0","description":"","type":"DAG","uuid":"e4de0608-074f-406c-a31e-53eff4f3e257","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_06d5e9f9_391c_498e_9de1_92702f93694d"}],"description":"","message_list":[],"uuid":"c9304589-8ab3-4455-a9bb-4258a6e0dc4f","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_06d5e9f9_391c_498e_9de1_92702f93694d","uuid":"e4de0608-074f-406c-a31e-53eff4f3e257"},"name":"SYS_GEN__Runbook_Package_06d5e9f9_391c_498e_9de1_92702f93694d"}}],"message_list":[],"service_local_reference_list":[],"uuid":"06d5e9f9-391c-498e-9de1-92702f93694d","state":"ACTIVE","version":"","editables":{},"type":"SUBSTRATE_IMAGE","options":{"type":"","name":"Centos-7.4-1801-01","resources":{"image_type":"DISK_IMAGE","checksum":{"checksum_algorithm":"","type":"","checksum_value":""},"source_uri":"http:\/\/download.nutanix.com\/calm\/CentOS-7-x86_64-GenericCloud-1801-01.qcow2","version":{"product_version":"","type":"","product_name":""},"architecture":"X86_64","type":""},"description":""},"variable_list":[],"name":"CENTOS_IMAGE"},{"description":"","action_list":[{"description":"System action for installing an application","message_list":[],"uuid":"a8e30f55-c8e0-4b69-8828-7ecc9531eb7a","name":"action_install","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSMySQLPackage","uuid":"27f5243f-d06d-4d95-b0ea-0bf734f7f2e8"},"retries":"0","description":"","type":"DAG","uuid":"1bf21197-481a-4de4-b2ca-7386f46a0237","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Install_Crb_27f5243f_d06d_4d95_b0ea_0bf734f7f2e8","uuid":"b86e6fbb-0d9b-4b61-9b1e-a1874ba64216"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Package_27f5243f_d06d_4d95_b0ea_0bf734f7f2e8"},{"target_any_local_reference":{"kind":"app_package","name":"AWSMySQLPackage","uuid":"27f5243f-d06d-4d95-b0ea-0bf734f7f2e8"},"retries":"0","description":"","type":"CUSTOM_PACKAGE_INSTALL","uuid":"b86e6fbb-0d9b-4b61-9b1e-a1874ba64216","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSMySQLPackage","uuid":"27f5243f-d06d-4d95-b0ea-0bf734f7f2e8"},"retries":"0","description":"","type":"DAG","uuid":"692fc2a4-78c7-4ed6-b6b4-a893ee051971","child_tasks_local_reference_list":[{"kind":"app_task","name":"Install System Packages","uuid":"f95e14a5-e84e-4600-9182-467891c1778f"},{"kind":"app_task","name":"Create Disk Setup","uuid":"b0f347ae-33b2-4759-9112-c9d3e2824766"},{"kind":"app_task","name":"Install MySQL","uuid":"857c7b52-ecbf-4db1-98e0-6e41f090ab7b"},{"kind":"app_task","name":"Setup MySQL","uuid":"45f12517-a4a8-49be-9fbe-1d929e4323c5"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Install System Packages","uuid":"f95e14a5-e84e-4600-9182-467891c1778f"},"edge_type":"user_defined","type":"","uuid":"330924e7-536b-4296-a4d6-7cbd22553603","to_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"b0f347ae-33b2-4759-9112-c9d3e2824766"}},{"from_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"b0f347ae-33b2-4759-9112-c9d3e2824766"},"edge_type":"user_defined","type":"","uuid":"e71c5423-39ea-4d27-9c35-fc897dc3b2b9","to_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"857c7b52-ecbf-4db1-98e0-6e41f090ab7b"}},{"from_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"857c7b52-ecbf-4db1-98e0-6e41f090ab7b"},"edge_type":"user_defined","type":"","uuid":"153df89f-f8b8-4e91-b3e9-b9e7ce3d7510","to_task_reference":{"kind":"app_task","name":"Setup MySQL","uuid":"45f12517-a4a8-49be-9fbe-1d929e4323c5"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"77171ec6_dag"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"EXEC","uuid":"f95e14a5-e84e-4600-9182-467891c1778f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n# -*- Install Mysql\nsudo yum update -y --quiet\nsudo yum install -y  htop wget iotop xfs* bc unzip lvm2*\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"System packages are installed\"","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"d2eec46b-8fe8-4b34-9979-e0807d4717c1"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install System Packages"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"EXEC","uuid":"b0f347ae-33b2-4759-9112-c9d3e2824766","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n##############\n#\n# LVM setup script for PostgreSQL . 4 disks for DATA and 2 for logs\n# Data disks are 60GB | Log disks are 20GB \n#\n#############\n\n\n#PGSQL data\nsudo pvcreate \/dev\/xvdb \/dev\/xvdc \/dev\/xvdd \/dev\/xvde\nsudo vgcreate mysqlDataVG \/dev\/xvdb \/dev\/xvdc \/dev\/xvdd \/dev\/xvde\nsudo lvcreate -l 100%FREE -i4 -I1M -n mysqlDataLV mysqlDataVG          ## Use 1MB to avoid IO amplification \n#lvcreate -l 100%FREE -i4 -I4M -n pgDataLV pgDataVG\n\n\n#PGSQL logs\nsudo pvcreate \/dev\/xvdf \/dev\/xvdg \/dev\/xvdh \/dev\/xvdi\nsudo vgcreate mysqlLogVG \/dev\/xvdf \/dev\/xvdg \/dev\/xvdh \/dev\/xvdi\nsudo lvcreate -l 100%FREE -i2 -I1M -n mysqlLogLV mysqlLogVG            ## Use 1MB to avoid IO amplification\n#lvcreate -l 100%FREE -i2 -I4M -n pgLogLV pgLogVG\n\n\n#Disable LVM read ahead\nsudo lvchange -r 0 \/dev\/mysqlDataVG\/mysqlDataLV\nsudo lvchange -r 0 \/dev\/mysqlLogVG\/mysqlLogLV\n\n\n#Format LVMs with ext4 and use nodiscard to make sure format time is fast on Nutanix due to SCSI unmap\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlDataVG\/mysqlDataLV\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlLogVG\/mysqlLogLV\n\nsleep 30\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"d2eec46b-8fe8-4b34-9979-e0807d4717c1"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Create Disk Setup"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"EXEC","uuid":"857c7b52-ecbf-4db1-98e0-6e41f090ab7b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nsudo hostnamectl set-hostname \"@@{name}@@\"\n\n# -*- Mysql installation \nsudo yum install -y --quiet \"http:\/\/repo.mysql.com\/mysql80-community-release-el7.rpm\"\nsudo yum update -y --quiet\nsudo yum install -y --quiet sshpass mysql-community-server.x86_64\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"d2eec46b-8fe8-4b34-9979-e0807d4717c1"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install MySQL"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"EXEC","uuid":"45f12517-a4a8-49be-9fbe-1d929e4323c5","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\necho \"!includedir \/etc\/my.cnf.d\" | sudo tee -a \/etc\/my.cnf\n\necho \"[mysqld]\nbinlog-format=mixed\nlog-bin=mysql-bin\ndatadir=\/mysql\/data\nsql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES\ninnodb_data_home_dir = \/mysql\/data\ninnodb_log_group_home_dir = \/mysql\/log\ninnodb_file_per_table\ntmpdir=\/mysql\/tmpdir\ninnodb_undo_directory = \/mysql\/undo\ndefault-storage-engine = innodb\ndefault_tmp_storage_engine = innodb\ninnodb_log_files_in_group = 4\ninnodb_log_file_size = 1G\ninnodb_log_buffer_size = 8M\ninnodb_buffer_pool_size = 6G\t\nlarge-pages\t\ninnodb_buffer_pool_instances = 64\t\ninnodb_flush_method=O_DIRECT\t\ninnodb_flush_neighbors=0\t \ninnodb_flush_log_at_trx_commit=1\ninnodb_buffer_pool_dump_at_shutdown=1\t\ninnodb_buffer_pool_load_at_startup=1\t\nbulk_insert_buffer_size = 256\t\ninnodb_thread_concurrency = 16\t\n \t \n# Undo tablespace\t \ninnodb_undo_tablespaces = 5\t\n \t \n# Networking\t \nwait_timeout=57600\t \nmax_allowed_packet=1G\t\nsocket=\/var\/lib\/mysql\/mysql.sock\t \nskip-name-resolve\nport=3306\t\nmax_connections=1000\t\n\n\n[mysqld_safe]\nlog-error=\/mysql\/log\/mysqld.log\npid-file=\/var\/run\/mysqld\/mysqld.pid\" | sudo tee \/etc\/my.cnf.d\/nutanix.cnf\n\nsudo sed -i \"\/\\[mysqld\\]\/a server-id=100\" \/etc\/my.cnf.d\/nutanix.cnf\n\n\n# -*- Sysctl configuration\nmysql_grp_id=`id -g mysql`\nsudo sysctl -w vm.swappiness=0\nsudo sysctl -w vm.nr_hugepages=1024\nsudo sysctl -w vm.overcommit_memory=1\nsudo sysctl -w vm.dirty_background_ratio=5 \nsudo sysctl -w vm.dirty_ratio=15\nsudo sysctl -w vm.dirty_expire_centisecs=500\nsudo sysctl -w vm.dirty_writeback_centisecs=100\nsudo sysctl -w vm.hugetlb_shm_group=$mysql_grp_id\n\necho \"vm.swappiness=0\nvm.nr_hugepages=1024\nvm.overcommit_memory=1\nvm.dirty_background_ratio=5 \nvm.dirty_ratio=15\nvm.dirty_expire_centisecs=500\nvm.dirty_writeback_centisecs=100\nvm.hugetlb_shm_group=$mysql_grp_id\" | sudo tee  -a \/etc\/sysctl.conf\n\necho \"ACTION=='add|change', SUBSYSTEM=='block', RUN+='\/bin\/sh -c \\\"\/bin\/echo 1024 > \/sys%p\/queue\/max_sectors_kb\\\"'\" | sudo tee \/etc\/udev\/rules.d\/71-block-max-sectors.rules\n#echo 1024 | sudo tee \/sys\/block\/sd?\/queue\/max_sectors_kb\n\necho \"\/dev\/mysqlDataVG\/mysqlDataLV \/mysql\/data ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\necho \"\/dev\/mysqlLogVG\/mysqlLogLV \/mysql\/log ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\nsudo mkdir -p \/mysql\/log \/mysql\/data \/mysql\/tmpdir \/mysql\/undo\nsudo mount -a\nsudo chown -R mysql:mysql \/mysql\n\nsudo systemctl enable mysqld\n\nsudo rm -rf \/mysql\/data\/*\nsudo systemctl start mysqld\n\n#Fix to obtain temp password and set it to blank\npassword=$(grep -oP 'temporary password(.*): \\K(\\S+)' \/var\/log\/mysqld.log)\nsudo mysqladmin --user=root --password=\"$password\" password aaBB**cc1122\nsudo mysql --user=root --password=aaBB**cc1122 -e \"UNINSTALL COMPONENT 'file:\/\/component_validate_password'\"\nsudo mysqladmin --user=root --password=\"aaBB**cc1122\" password \"\"\n\n\n#Mysql secure installation\nsudo mysql -u root<<-EOF\nALTER USER 'root'@'localhost' IDENTIFIED WITH caching_sha2_password BY '@@{MYSQL_PASSWORD}@@';\nDELETE FROM mysql.user WHERE User='root' AND Host NOT IN ('localhost', '127.0.0.1', '::1');\nDELETE FROM mysql.user WHERE User='';\nDELETE FROM mysql.db WHERE Db='test' OR Db='test\\_%';\nFLUSH PRIVILEGES;\nEOF\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"d2eec46b-8fe8-4b34-9979-e0807d4717c1"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Setup MySQL"}],"description":"","message_list":[],"uuid":"d94ae31a-3f80-4648-9931-1c98f351321b","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"77171ec6_dag","uuid":"692fc2a4-78c7-4ed6-b6b4-a893ee051971"},"name":"e5f6c944_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSMySQLPackage","uuid":"27f5243f-d06d-4d95-b0ea-0bf734f7f2e8"},"retries":"0","description":"","type":"DAG","uuid":"435c838f-899b-4289-8dc0-9b58179ecc2c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"3952e3bf_dag"}],"description":"","message_list":[],"uuid":"7f2180df-749d-4143-8af9-1fbab4bef306","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"3952e3bf_dag","uuid":"435c838f-899b-4289-8dc0-9b58179ecc2c"},"name":"1db267a5_runbook"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Install_Crb_27f5243f_d06d_4d95_b0ea_0bf734f7f2e8"}],"description":"","message_list":[],"uuid":"5f6ce627-e95f-49d8-b2cf-b77b5f00a940","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Package_27f5243f_d06d_4d95_b0ea_0bf734f7f2e8","uuid":"1bf21197-481a-4de4-b2ca-7386f46a0237"},"name":"SYS_GEN__Runbook_Package_27f5243f_d06d_4d95_b0ea_0bf734f7f2e8"}},{"description":"System action for creating an application","message_list":[],"uuid":"dedfcfef-ae96-4d59-b837-afdb2fadee43","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSMySQLPackage","uuid":"27f5243f-d06d-4d95-b0ea-0bf734f7f2e8"},"retries":"0","description":"","type":"DAG","uuid":"1996598f-cde6-42bb-9e20-18fcb948f269","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_27f5243f_d06d_4d95_b0ea_0bf734f7f2e8","uuid":"ae128de2-c619-4104-a1b1-bb504c20adcb"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"18d32dcb-6597-4e53-bc82-9d05a0b797e7"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"fff6a047-515a-4177-9324-cd08a3d89759"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"18d32dcb-6597-4e53-bc82-9d05a0b797e7"},"edge_type":"inherent","type":"","uuid":"3db5e578-d09c-43a5-b58c-1d810098a560","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"fff6a047-515a-4177-9324-cd08a3d89759"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_27f5243f_d06d_4d95_b0ea_0bf734f7f2e8","uuid":"ae128de2-c619-4104-a1b1-bb504c20adcb"},"edge_type":"inherent","type":"","uuid":"cc96cb1c-fa36-48ba-81ac-2dbec5b3bd4d","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"18d32dcb-6597-4e53-bc82-9d05a0b797e7"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_27f5243f_d06d_4d95_b0ea_0bf734f7f2e8"},{"target_any_local_reference":{"kind":"app_package","name":"AWSMySQLPackage","uuid":"27f5243f-d06d-4d95-b0ea-0bf734f7f2e8"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"ae128de2-c619-4104-a1b1-bb504c20adcb","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_27f5243f_d06d_4d95_b0ea_0bf734f7f2e8","uuid":"5f6ce627-e95f-49d8-b2cf-b77b5f00a940"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_27f5243f_d06d_4d95_b0ea_0bf734f7f2e8"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"18d32dcb-6597-4e53-bc82-9d05a0b797e7","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"f603ab76_runbook","uuid":"1f2c9854-fd61-4d80-a059-2670f4aa3ba3"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"fff6a047-515a-4177-9324-cd08a3d89759","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"7748f46a_runbook","uuid":"a0ae1241-f6d5-470e-b065-dfde29b2bbf2"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c"}],"description":"","message_list":[],"uuid":"ccd75e19-cea4-4a4a-a8b1-f3c4ff665d9a","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_27f5243f_d06d_4d95_b0ea_0bf734f7f2e8","uuid":"1996598f-cde6-42bb-9e20-18fcb948f269"},"name":"SYS_GEN__Runbook_Package_27f5243f_d06d_4d95_b0ea_0bf734f7f2e8"}},{"description":"System action for uninstalling an application","message_list":[],"uuid":"bbb28fad-18c7-496b-ae2f-de45625d8573","name":"action_uninstall","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSMySQLPackage","uuid":"27f5243f-d06d-4d95-b0ea-0bf734f7f2e8"},"retries":"0","description":"","type":"DAG","uuid":"54879226-430f-49de-9030-f45d6f222a70","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Uninstall_Crb_27f5243f_d06d_4d95_b0ea_0bf734f7f2e8","uuid":"b2e3db7d-d392-46ac-9b38-f99573b5062a"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Package_27f5243f_d06d_4d95_b0ea_0bf734f7f2e8"},{"target_any_local_reference":{"kind":"app_package","name":"AWSMySQLPackage","uuid":"27f5243f-d06d-4d95-b0ea-0bf734f7f2e8"},"retries":"0","description":"","type":"CUSTOM_PACKAGE_UNINSTALL","uuid":"b2e3db7d-d392-46ac-9b38-f99573b5062a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSMySQLPackage","uuid":"27f5243f-d06d-4d95-b0ea-0bf734f7f2e8"},"retries":"0","description":"","type":"DAG","uuid":"692fc2a4-78c7-4ed6-b6b4-a893ee051971","child_tasks_local_reference_list":[{"kind":"app_task","name":"Install System Packages","uuid":"f95e14a5-e84e-4600-9182-467891c1778f"},{"kind":"app_task","name":"Create Disk Setup","uuid":"b0f347ae-33b2-4759-9112-c9d3e2824766"},{"kind":"app_task","name":"Install MySQL","uuid":"857c7b52-ecbf-4db1-98e0-6e41f090ab7b"},{"kind":"app_task","name":"Setup MySQL","uuid":"45f12517-a4a8-49be-9fbe-1d929e4323c5"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Install System Packages","uuid":"f95e14a5-e84e-4600-9182-467891c1778f"},"edge_type":"user_defined","type":"","uuid":"330924e7-536b-4296-a4d6-7cbd22553603","to_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"b0f347ae-33b2-4759-9112-c9d3e2824766"}},{"from_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"b0f347ae-33b2-4759-9112-c9d3e2824766"},"edge_type":"user_defined","type":"","uuid":"e71c5423-39ea-4d27-9c35-fc897dc3b2b9","to_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"857c7b52-ecbf-4db1-98e0-6e41f090ab7b"}},{"from_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"857c7b52-ecbf-4db1-98e0-6e41f090ab7b"},"edge_type":"user_defined","type":"","uuid":"153df89f-f8b8-4e91-b3e9-b9e7ce3d7510","to_task_reference":{"kind":"app_task","name":"Setup MySQL","uuid":"45f12517-a4a8-49be-9fbe-1d929e4323c5"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"77171ec6_dag"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"EXEC","uuid":"f95e14a5-e84e-4600-9182-467891c1778f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n# -*- Install Mysql\nsudo yum update -y --quiet\nsudo yum install -y  htop wget iotop xfs* bc unzip lvm2*\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"System packages are installed\"","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"d2eec46b-8fe8-4b34-9979-e0807d4717c1"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install System Packages"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"EXEC","uuid":"b0f347ae-33b2-4759-9112-c9d3e2824766","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n##############\n#\n# LVM setup script for PostgreSQL . 4 disks for DATA and 2 for logs\n# Data disks are 60GB | Log disks are 20GB \n#\n#############\n\n\n#PGSQL data\nsudo pvcreate \/dev\/xvdb \/dev\/xvdc \/dev\/xvdd \/dev\/xvde\nsudo vgcreate mysqlDataVG \/dev\/xvdb \/dev\/xvdc \/dev\/xvdd \/dev\/xvde\nsudo lvcreate -l 100%FREE -i4 -I1M -n mysqlDataLV mysqlDataVG          ## Use 1MB to avoid IO amplification \n#lvcreate -l 100%FREE -i4 -I4M -n pgDataLV pgDataVG\n\n\n#PGSQL logs\nsudo pvcreate \/dev\/xvdf \/dev\/xvdg \/dev\/xvdh \/dev\/xvdi\nsudo vgcreate mysqlLogVG \/dev\/xvdf \/dev\/xvdg \/dev\/xvdh \/dev\/xvdi\nsudo lvcreate -l 100%FREE -i2 -I1M -n mysqlLogLV mysqlLogVG            ## Use 1MB to avoid IO amplification\n#lvcreate -l 100%FREE -i2 -I4M -n pgLogLV pgLogVG\n\n\n#Disable LVM read ahead\nsudo lvchange -r 0 \/dev\/mysqlDataVG\/mysqlDataLV\nsudo lvchange -r 0 \/dev\/mysqlLogVG\/mysqlLogLV\n\n\n#Format LVMs with ext4 and use nodiscard to make sure format time is fast on Nutanix due to SCSI unmap\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlDataVG\/mysqlDataLV\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlLogVG\/mysqlLogLV\n\nsleep 30\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"d2eec46b-8fe8-4b34-9979-e0807d4717c1"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Create Disk Setup"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"EXEC","uuid":"857c7b52-ecbf-4db1-98e0-6e41f090ab7b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nsudo hostnamectl set-hostname \"@@{name}@@\"\n\n# -*- Mysql installation \nsudo yum install -y --quiet \"http:\/\/repo.mysql.com\/mysql80-community-release-el7.rpm\"\nsudo yum update -y --quiet\nsudo yum install -y --quiet sshpass mysql-community-server.x86_64\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"d2eec46b-8fe8-4b34-9979-e0807d4717c1"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install MySQL"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"EXEC","uuid":"45f12517-a4a8-49be-9fbe-1d929e4323c5","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\necho \"!includedir \/etc\/my.cnf.d\" | sudo tee -a \/etc\/my.cnf\n\necho \"[mysqld]\nbinlog-format=mixed\nlog-bin=mysql-bin\ndatadir=\/mysql\/data\nsql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES\ninnodb_data_home_dir = \/mysql\/data\ninnodb_log_group_home_dir = \/mysql\/log\ninnodb_file_per_table\ntmpdir=\/mysql\/tmpdir\ninnodb_undo_directory = \/mysql\/undo\ndefault-storage-engine = innodb\ndefault_tmp_storage_engine = innodb\ninnodb_log_files_in_group = 4\ninnodb_log_file_size = 1G\ninnodb_log_buffer_size = 8M\ninnodb_buffer_pool_size = 6G\t\nlarge-pages\t\ninnodb_buffer_pool_instances = 64\t\ninnodb_flush_method=O_DIRECT\t\ninnodb_flush_neighbors=0\t \ninnodb_flush_log_at_trx_commit=1\ninnodb_buffer_pool_dump_at_shutdown=1\t\ninnodb_buffer_pool_load_at_startup=1\t\nbulk_insert_buffer_size = 256\t\ninnodb_thread_concurrency = 16\t\n \t \n# Undo tablespace\t \ninnodb_undo_tablespaces = 5\t\n \t \n# Networking\t \nwait_timeout=57600\t \nmax_allowed_packet=1G\t\nsocket=\/var\/lib\/mysql\/mysql.sock\t \nskip-name-resolve\nport=3306\t\nmax_connections=1000\t\n\n\n[mysqld_safe]\nlog-error=\/mysql\/log\/mysqld.log\npid-file=\/var\/run\/mysqld\/mysqld.pid\" | sudo tee \/etc\/my.cnf.d\/nutanix.cnf\n\nsudo sed -i \"\/\\[mysqld\\]\/a server-id=100\" \/etc\/my.cnf.d\/nutanix.cnf\n\n\n# -*- Sysctl configuration\nmysql_grp_id=`id -g mysql`\nsudo sysctl -w vm.swappiness=0\nsudo sysctl -w vm.nr_hugepages=1024\nsudo sysctl -w vm.overcommit_memory=1\nsudo sysctl -w vm.dirty_background_ratio=5 \nsudo sysctl -w vm.dirty_ratio=15\nsudo sysctl -w vm.dirty_expire_centisecs=500\nsudo sysctl -w vm.dirty_writeback_centisecs=100\nsudo sysctl -w vm.hugetlb_shm_group=$mysql_grp_id\n\necho \"vm.swappiness=0\nvm.nr_hugepages=1024\nvm.overcommit_memory=1\nvm.dirty_background_ratio=5 \nvm.dirty_ratio=15\nvm.dirty_expire_centisecs=500\nvm.dirty_writeback_centisecs=100\nvm.hugetlb_shm_group=$mysql_grp_id\" | sudo tee  -a \/etc\/sysctl.conf\n\necho \"ACTION=='add|change', SUBSYSTEM=='block', RUN+='\/bin\/sh -c \\\"\/bin\/echo 1024 > \/sys%p\/queue\/max_sectors_kb\\\"'\" | sudo tee \/etc\/udev\/rules.d\/71-block-max-sectors.rules\n#echo 1024 | sudo tee \/sys\/block\/sd?\/queue\/max_sectors_kb\n\necho \"\/dev\/mysqlDataVG\/mysqlDataLV \/mysql\/data ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\necho \"\/dev\/mysqlLogVG\/mysqlLogLV \/mysql\/log ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\nsudo mkdir -p \/mysql\/log \/mysql\/data \/mysql\/tmpdir \/mysql\/undo\nsudo mount -a\nsudo chown -R mysql:mysql \/mysql\n\nsudo systemctl enable mysqld\n\nsudo rm -rf \/mysql\/data\/*\nsudo systemctl start mysqld\n\n#Fix to obtain temp password and set it to blank\npassword=$(grep -oP 'temporary password(.*): \\K(\\S+)' \/var\/log\/mysqld.log)\nsudo mysqladmin --user=root --password=\"$password\" password aaBB**cc1122\nsudo mysql --user=root --password=aaBB**cc1122 -e \"UNINSTALL COMPONENT 'file:\/\/component_validate_password'\"\nsudo mysqladmin --user=root --password=\"aaBB**cc1122\" password \"\"\n\n\n#Mysql secure installation\nsudo mysql -u root<<-EOF\nALTER USER 'root'@'localhost' IDENTIFIED WITH caching_sha2_password BY '@@{MYSQL_PASSWORD}@@';\nDELETE FROM mysql.user WHERE User='root' AND Host NOT IN ('localhost', '127.0.0.1', '::1');\nDELETE FROM mysql.user WHERE User='';\nDELETE FROM mysql.db WHERE Db='test' OR Db='test\\_%';\nFLUSH PRIVILEGES;\nEOF\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"d2eec46b-8fe8-4b34-9979-e0807d4717c1"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Setup MySQL"}],"description":"","message_list":[],"uuid":"d94ae31a-3f80-4648-9931-1c98f351321b","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"77171ec6_dag","uuid":"692fc2a4-78c7-4ed6-b6b4-a893ee051971"},"name":"e5f6c944_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSMySQLPackage","uuid":"27f5243f-d06d-4d95-b0ea-0bf734f7f2e8"},"retries":"0","description":"","type":"DAG","uuid":"435c838f-899b-4289-8dc0-9b58179ecc2c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"3952e3bf_dag"}],"description":"","message_list":[],"uuid":"7f2180df-749d-4143-8af9-1fbab4bef306","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"3952e3bf_dag","uuid":"435c838f-899b-4289-8dc0-9b58179ecc2c"},"name":"1db267a5_runbook"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Uninstall_Crb_27f5243f_d06d_4d95_b0ea_0bf734f7f2e8"}],"description":"","message_list":[],"uuid":"927f5714-4a02-40c5-b58e-5086482b384b","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Package_27f5243f_d06d_4d95_b0ea_0bf734f7f2e8","uuid":"54879226-430f-49de-9030-f45d6f222a70"},"name":"SYS_GEN__Runbook_Package_27f5243f_d06d_4d95_b0ea_0bf734f7f2e8"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"b7ad28fd-8e8f-40ae-9629-2eb3b9e5f368","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSMySQLPackage","uuid":"27f5243f-d06d-4d95-b0ea-0bf734f7f2e8"},"retries":"0","description":"","type":"DAG","uuid":"23117368-2434-44c7-9df5-994e76529cd4","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"b17c79e6-4391-4a60-90a9-3541e970c637"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"77a132d5-0e91-41b9-afd3-58ed3f246a39"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_27f5243f_d06d_4d95_b0ea_0bf734f7f2e8","uuid":"0537820f-1608-4951-b2c3-32dd2cb9dc62"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"b17c79e6-4391-4a60-90a9-3541e970c637"},"edge_type":"inherent","type":"","uuid":"733a30ef-f708-4389-90ed-702cdd81d01f","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"77a132d5-0e91-41b9-afd3-58ed3f246a39"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"77a132d5-0e91-41b9-afd3-58ed3f246a39"},"edge_type":"inherent","type":"","uuid":"408aa4db-d447-4c3c-8b9a-b121a1269d5a","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_27f5243f_d06d_4d95_b0ea_0bf734f7f2e8","uuid":"0537820f-1608-4951-b2c3-32dd2cb9dc62"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_27f5243f_d06d_4d95_b0ea_0bf734f7f2e8"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"b17c79e6-4391-4a60-90a9-3541e970c637","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"534c563f_runbook","uuid":"fa558656-179d-42a9-8b13-80552295db71"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"77a132d5-0e91-41b9-afd3-58ed3f246a39","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"d738eefe_runbook","uuid":"15541983-ff20-4829-b0c7-aff046fa0beb"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c"},{"target_any_local_reference":{"kind":"app_package","name":"AWSMySQLPackage","uuid":"27f5243f-d06d-4d95-b0ea-0bf734f7f2e8"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"0537820f-1608-4951-b2c3-32dd2cb9dc62","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_27f5243f_d06d_4d95_b0ea_0bf734f7f2e8","uuid":"927f5714-4a02-40c5-b58e-5086482b384b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_27f5243f_d06d_4d95_b0ea_0bf734f7f2e8"}],"description":"","message_list":[],"uuid":"15a3537b-b918-46b2-b836-87598a498716","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_27f5243f_d06d_4d95_b0ea_0bf734f7f2e8","uuid":"23117368-2434-44c7-9df5-994e76529cd4"},"name":"SYS_GEN__Runbook_Package_27f5243f_d06d_4d95_b0ea_0bf734f7f2e8"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"c1e7f76f-0073-44b6-97d6-c02c21a5a817","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSMySQLPackage","uuid":"27f5243f-d06d-4d95-b0ea-0bf734f7f2e8"},"retries":"0","description":"","type":"DAG","uuid":"f39d74d8-f598-47f3-9071-39b6b275bb7e","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"57e974dc-4e0b-4967-b28c-0f476845438b"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_27f5243f_d06d_4d95_b0ea_0bf734f7f2e8","uuid":"a235f400-d6ff-4067-b807-866eb0c6de59"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"57e974dc-4e0b-4967-b28c-0f476845438b"},"edge_type":"inherent","type":"","uuid":"125cbad0-9543-400e-8954-5778115c4f5e","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_27f5243f_d06d_4d95_b0ea_0bf734f7f2e8","uuid":"a235f400-d6ff-4067-b807-866eb0c6de59"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_27f5243f_d06d_4d95_b0ea_0bf734f7f2e8"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"57e974dc-4e0b-4967-b28c-0f476845438b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"957cfc08-a445-474a-b6fd-5a80c651f044"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c"},{"target_any_local_reference":{"kind":"app_package","name":"AWSMySQLPackage","uuid":"27f5243f-d06d-4d95-b0ea-0bf734f7f2e8"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"a235f400-d6ff-4067-b807-866eb0c6de59","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_27f5243f_d06d_4d95_b0ea_0bf734f7f2e8"}],"description":"","message_list":[],"uuid":"465aef7d-7e08-4813-86a4-9f02b52f3d0a","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_27f5243f_d06d_4d95_b0ea_0bf734f7f2e8","uuid":"f39d74d8-f598-47f3-9071-39b6b275bb7e"},"name":"SYS_GEN__Runbook_Package_27f5243f_d06d_4d95_b0ea_0bf734f7f2e8"}},{"description":"System action for starting an application","message_list":[],"uuid":"589aa2ce-6de9-45a5-ac2d-c5ab32c290a0","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSMySQLPackage","uuid":"27f5243f-d06d-4d95-b0ea-0bf734f7f2e8"},"retries":"0","description":"","type":"DAG","uuid":"d2609bb4-55f0-49ea-8824-b970793bbb6a","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"2dbc8345-b899-4fbd-8a95-1a6eca651c83"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_27f5243f_d06d_4d95_b0ea_0bf734f7f2e8"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"2dbc8345-b899-4fbd-8a95-1a6eca651c83","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"7748f46a_runbook","uuid":"a0ae1241-f6d5-470e-b065-dfde29b2bbf2"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c"}],"description":"","message_list":[],"uuid":"36d0b6a0-71e8-4e4a-bad8-302ce206382f","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_27f5243f_d06d_4d95_b0ea_0bf734f7f2e8","uuid":"d2609bb4-55f0-49ea-8824-b970793bbb6a"},"name":"SYS_GEN__Runbook_Package_27f5243f_d06d_4d95_b0ea_0bf734f7f2e8"}},{"description":"System action for restarting an application","message_list":[],"uuid":"0434c6d7-e2a0-4c24-8556-e3b3c7b39461","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSMySQLPackage","uuid":"27f5243f-d06d-4d95-b0ea-0bf734f7f2e8"},"retries":"0","description":"","type":"DAG","uuid":"d6a835a4-cad6-4389-8143-a42ef0ce5581","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"4a3c4e58-557a-405d-872d-55321768065a"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_27f5243f_d06d_4d95_b0ea_0bf734f7f2e8"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"4a3c4e58-557a-405d-872d-55321768065a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"e9d7de80_runbook","uuid":"1da5d6b4-d3df-4a19-942c-e6e85b650e34"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c"}],"description":"","message_list":[],"uuid":"889c336e-485d-464a-b8d8-32b22138dbd5","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_27f5243f_d06d_4d95_b0ea_0bf734f7f2e8","uuid":"d6a835a4-cad6-4389-8143-a42ef0ce5581"},"name":"SYS_GEN__Runbook_Package_27f5243f_d06d_4d95_b0ea_0bf734f7f2e8"}},{"description":"System action for stopping an application","message_list":[],"uuid":"2ff501b5-79f3-439e-8854-42697ea40258","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSMySQLPackage","uuid":"27f5243f-d06d-4d95-b0ea-0bf734f7f2e8"},"retries":"0","description":"","type":"DAG","uuid":"d948505d-45d1-4f4c-944b-40e325b0a067","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"1b93e849-354a-4be4-a652-def5ea07c7c5"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_27f5243f_d06d_4d95_b0ea_0bf734f7f2e8"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"1b93e849-354a-4be4-a652-def5ea07c7c5","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"534c563f_runbook","uuid":"fa558656-179d-42a9-8b13-80552295db71"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c"}],"description":"","message_list":[],"uuid":"6cab84cd-5f97-4f03-b2b4-c9549503bd77","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_27f5243f_d06d_4d95_b0ea_0bf734f7f2e8","uuid":"d948505d-45d1-4f4c-944b-40e325b0a067"},"name":"SYS_GEN__Runbook_Package_27f5243f_d06d_4d95_b0ea_0bf734f7f2e8"}}],"message_list":[],"service_local_reference_list":[{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"}],"uuid":"27f5243f-d06d-4d95-b0ea-0bf734f7f2e8","state":"ACTIVE","version":"","editables":{},"type":"DEB","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSMySQLPackage","uuid":"27f5243f-d06d-4d95-b0ea-0bf734f7f2e8"},"retries":"0","description":"","type":"DAG","uuid":"692fc2a4-78c7-4ed6-b6b4-a893ee051971","child_tasks_local_reference_list":[{"kind":"app_task","name":"Install System Packages","uuid":"f95e14a5-e84e-4600-9182-467891c1778f"},{"kind":"app_task","name":"Create Disk Setup","uuid":"b0f347ae-33b2-4759-9112-c9d3e2824766"},{"kind":"app_task","name":"Install MySQL","uuid":"857c7b52-ecbf-4db1-98e0-6e41f090ab7b"},{"kind":"app_task","name":"Setup MySQL","uuid":"45f12517-a4a8-49be-9fbe-1d929e4323c5"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Install System Packages","uuid":"f95e14a5-e84e-4600-9182-467891c1778f"},"edge_type":"user_defined","type":"","uuid":"330924e7-536b-4296-a4d6-7cbd22553603","to_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"b0f347ae-33b2-4759-9112-c9d3e2824766"}},{"from_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"b0f347ae-33b2-4759-9112-c9d3e2824766"},"edge_type":"user_defined","type":"","uuid":"e71c5423-39ea-4d27-9c35-fc897dc3b2b9","to_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"857c7b52-ecbf-4db1-98e0-6e41f090ab7b"}},{"from_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"857c7b52-ecbf-4db1-98e0-6e41f090ab7b"},"edge_type":"user_defined","type":"","uuid":"153df89f-f8b8-4e91-b3e9-b9e7ce3d7510","to_task_reference":{"kind":"app_task","name":"Setup MySQL","uuid":"45f12517-a4a8-49be-9fbe-1d929e4323c5"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"77171ec6_dag"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"EXEC","uuid":"f95e14a5-e84e-4600-9182-467891c1778f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n# -*- Install Mysql\nsudo yum update -y --quiet\nsudo yum install -y  htop wget iotop xfs* bc unzip lvm2*\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"System packages are installed\"","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"d2eec46b-8fe8-4b34-9979-e0807d4717c1"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install System Packages"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"EXEC","uuid":"b0f347ae-33b2-4759-9112-c9d3e2824766","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n##############\n#\n# LVM setup script for PostgreSQL . 4 disks for DATA and 2 for logs\n# Data disks are 60GB | Log disks are 20GB \n#\n#############\n\n\n#PGSQL data\nsudo pvcreate \/dev\/xvdb \/dev\/xvdc \/dev\/xvdd \/dev\/xvde\nsudo vgcreate mysqlDataVG \/dev\/xvdb \/dev\/xvdc \/dev\/xvdd \/dev\/xvde\nsudo lvcreate -l 100%FREE -i4 -I1M -n mysqlDataLV mysqlDataVG          ## Use 1MB to avoid IO amplification \n#lvcreate -l 100%FREE -i4 -I4M -n pgDataLV pgDataVG\n\n\n#PGSQL logs\nsudo pvcreate \/dev\/xvdf \/dev\/xvdg \/dev\/xvdh \/dev\/xvdi\nsudo vgcreate mysqlLogVG \/dev\/xvdf \/dev\/xvdg \/dev\/xvdh \/dev\/xvdi\nsudo lvcreate -l 100%FREE -i2 -I1M -n mysqlLogLV mysqlLogVG            ## Use 1MB to avoid IO amplification\n#lvcreate -l 100%FREE -i2 -I4M -n pgLogLV pgLogVG\n\n\n#Disable LVM read ahead\nsudo lvchange -r 0 \/dev\/mysqlDataVG\/mysqlDataLV\nsudo lvchange -r 0 \/dev\/mysqlLogVG\/mysqlLogLV\n\n\n#Format LVMs with ext4 and use nodiscard to make sure format time is fast on Nutanix due to SCSI unmap\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlDataVG\/mysqlDataLV\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlLogVG\/mysqlLogLV\n\nsleep 30\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"d2eec46b-8fe8-4b34-9979-e0807d4717c1"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Create Disk Setup"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"EXEC","uuid":"857c7b52-ecbf-4db1-98e0-6e41f090ab7b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nsudo hostnamectl set-hostname \"@@{name}@@\"\n\n# -*- Mysql installation \nsudo yum install -y --quiet \"http:\/\/repo.mysql.com\/mysql80-community-release-el7.rpm\"\nsudo yum update -y --quiet\nsudo yum install -y --quiet sshpass mysql-community-server.x86_64\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"d2eec46b-8fe8-4b34-9979-e0807d4717c1"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install MySQL"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"EXEC","uuid":"45f12517-a4a8-49be-9fbe-1d929e4323c5","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\necho \"!includedir \/etc\/my.cnf.d\" | sudo tee -a \/etc\/my.cnf\n\necho \"[mysqld]\nbinlog-format=mixed\nlog-bin=mysql-bin\ndatadir=\/mysql\/data\nsql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES\ninnodb_data_home_dir = \/mysql\/data\ninnodb_log_group_home_dir = \/mysql\/log\ninnodb_file_per_table\ntmpdir=\/mysql\/tmpdir\ninnodb_undo_directory = \/mysql\/undo\ndefault-storage-engine = innodb\ndefault_tmp_storage_engine = innodb\ninnodb_log_files_in_group = 4\ninnodb_log_file_size = 1G\ninnodb_log_buffer_size = 8M\ninnodb_buffer_pool_size = 6G\t\nlarge-pages\t\ninnodb_buffer_pool_instances = 64\t\ninnodb_flush_method=O_DIRECT\t\ninnodb_flush_neighbors=0\t \ninnodb_flush_log_at_trx_commit=1\ninnodb_buffer_pool_dump_at_shutdown=1\t\ninnodb_buffer_pool_load_at_startup=1\t\nbulk_insert_buffer_size = 256\t\ninnodb_thread_concurrency = 16\t\n \t \n# Undo tablespace\t \ninnodb_undo_tablespaces = 5\t\n \t \n# Networking\t \nwait_timeout=57600\t \nmax_allowed_packet=1G\t\nsocket=\/var\/lib\/mysql\/mysql.sock\t \nskip-name-resolve\nport=3306\t\nmax_connections=1000\t\n\n\n[mysqld_safe]\nlog-error=\/mysql\/log\/mysqld.log\npid-file=\/var\/run\/mysqld\/mysqld.pid\" | sudo tee \/etc\/my.cnf.d\/nutanix.cnf\n\nsudo sed -i \"\/\\[mysqld\\]\/a server-id=100\" \/etc\/my.cnf.d\/nutanix.cnf\n\n\n# -*- Sysctl configuration\nmysql_grp_id=`id -g mysql`\nsudo sysctl -w vm.swappiness=0\nsudo sysctl -w vm.nr_hugepages=1024\nsudo sysctl -w vm.overcommit_memory=1\nsudo sysctl -w vm.dirty_background_ratio=5 \nsudo sysctl -w vm.dirty_ratio=15\nsudo sysctl -w vm.dirty_expire_centisecs=500\nsudo sysctl -w vm.dirty_writeback_centisecs=100\nsudo sysctl -w vm.hugetlb_shm_group=$mysql_grp_id\n\necho \"vm.swappiness=0\nvm.nr_hugepages=1024\nvm.overcommit_memory=1\nvm.dirty_background_ratio=5 \nvm.dirty_ratio=15\nvm.dirty_expire_centisecs=500\nvm.dirty_writeback_centisecs=100\nvm.hugetlb_shm_group=$mysql_grp_id\" | sudo tee  -a \/etc\/sysctl.conf\n\necho \"ACTION=='add|change', SUBSYSTEM=='block', RUN+='\/bin\/sh -c \\\"\/bin\/echo 1024 > \/sys%p\/queue\/max_sectors_kb\\\"'\" | sudo tee \/etc\/udev\/rules.d\/71-block-max-sectors.rules\n#echo 1024 | sudo tee \/sys\/block\/sd?\/queue\/max_sectors_kb\n\necho \"\/dev\/mysqlDataVG\/mysqlDataLV \/mysql\/data ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\necho \"\/dev\/mysqlLogVG\/mysqlLogLV \/mysql\/log ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\nsudo mkdir -p \/mysql\/log \/mysql\/data \/mysql\/tmpdir \/mysql\/undo\nsudo mount -a\nsudo chown -R mysql:mysql \/mysql\n\nsudo systemctl enable mysqld\n\nsudo rm -rf \/mysql\/data\/*\nsudo systemctl start mysqld\n\n#Fix to obtain temp password and set it to blank\npassword=$(grep -oP 'temporary password(.*): \\K(\\S+)' \/var\/log\/mysqld.log)\nsudo mysqladmin --user=root --password=\"$password\" password aaBB**cc1122\nsudo mysql --user=root --password=aaBB**cc1122 -e \"UNINSTALL COMPONENT 'file:\/\/component_validate_password'\"\nsudo mysqladmin --user=root --password=\"aaBB**cc1122\" password \"\"\n\n\n#Mysql secure installation\nsudo mysql -u root<<-EOF\nALTER USER 'root'@'localhost' IDENTIFIED WITH caching_sha2_password BY '@@{MYSQL_PASSWORD}@@';\nDELETE FROM mysql.user WHERE User='root' AND Host NOT IN ('localhost', '127.0.0.1', '::1');\nDELETE FROM mysql.user WHERE User='';\nDELETE FROM mysql.db WHERE Db='test' OR Db='test\\_%';\nFLUSH PRIVILEGES;\nEOF\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"d2eec46b-8fe8-4b34-9979-e0807d4717c1"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Setup MySQL"}],"description":"","message_list":[],"uuid":"d94ae31a-3f80-4648-9931-1c98f351321b","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"77171ec6_dag","uuid":"692fc2a4-78c7-4ed6-b6b4-a893ee051971"},"name":"e5f6c944_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSMySQLPackage","uuid":"27f5243f-d06d-4d95-b0ea-0bf734f7f2e8"},"retries":"0","description":"","type":"DAG","uuid":"435c838f-899b-4289-8dc0-9b58179ecc2c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"3952e3bf_dag"}],"description":"","message_list":[],"uuid":"7f2180df-749d-4143-8af9-1fbab4bef306","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"3952e3bf_dag","uuid":"435c838f-899b-4289-8dc0-9b58179ecc2c"},"name":"1db267a5_runbook"}},"variable_list":[],"name":"AWSMySQLPackage"},{"description":"","action_list":[{"description":"System action for installing an application","message_list":[],"uuid":"f49fb5ad-722e-40d2-ab7f-860980fe8dd4","name":"action_install","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPMySQLPackage","uuid":"a23c2259-dd5c-4063-b54f-6af67ce60ee9"},"retries":"0","description":"","type":"DAG","uuid":"95b81039-6eb5-4d28-81f2-cf5d48d47f0a","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Install_Crb_a23c2259_dd5c_4063_b54f_6af67ce60ee9","uuid":"d10e8683-81c2-4918-8253-5e2356017220"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Package_a23c2259_dd5c_4063_b54f_6af67ce60ee9"},{"target_any_local_reference":{"kind":"app_package","name":"GCPMySQLPackage","uuid":"a23c2259-dd5c-4063-b54f-6af67ce60ee9"},"retries":"0","description":"","type":"CUSTOM_PACKAGE_INSTALL","uuid":"d10e8683-81c2-4918-8253-5e2356017220","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPMySQLPackage","uuid":"a23c2259-dd5c-4063-b54f-6af67ce60ee9"},"retries":"0","description":"","type":"DAG","uuid":"da65079e-8f21-4228-890a-f24093a8192f","child_tasks_local_reference_list":[{"kind":"app_task","name":"Install System Packages","uuid":"97f56cd9-7369-485c-82c7-66f6b3023b77"},{"kind":"app_task","name":"Create Disk Setup","uuid":"9b5ca91d-bc97-4390-a1f7-b6ce8c869e53"},{"kind":"app_task","name":"Install MySQL","uuid":"9e13302a-e9cb-43e3-b1b5-9439615b03ed"},{"kind":"app_task","name":"Setup MySQL","uuid":"0c1c46f1-9ffb-4caa-94f9-166579a2d781"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Install System Packages","uuid":"97f56cd9-7369-485c-82c7-66f6b3023b77"},"edge_type":"user_defined","type":"","uuid":"c1ec9e88-005a-458e-a65f-7515bd14c71c","to_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"9b5ca91d-bc97-4390-a1f7-b6ce8c869e53"}},{"from_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"9b5ca91d-bc97-4390-a1f7-b6ce8c869e53"},"edge_type":"user_defined","type":"","uuid":"dfae8333-dd9c-4362-905d-2129e1f99bcf","to_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"9e13302a-e9cb-43e3-b1b5-9439615b03ed"}},{"from_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"9e13302a-e9cb-43e3-b1b5-9439615b03ed"},"edge_type":"user_defined","type":"","uuid":"95a25a35-2d83-4096-bcca-9f58645d2db5","to_task_reference":{"kind":"app_task","name":"Setup MySQL","uuid":"0c1c46f1-9ffb-4caa-94f9-166579a2d781"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"feb0f4b3_dag"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"EXEC","uuid":"97f56cd9-7369-485c-82c7-66f6b3023b77","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n# -*- Install Mysql\nsudo yum update -y --quiet\nsudo yum install -y  htop wget iotop xfs* bc unzip lvm2*\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"System packages are installed\"","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"d2eec46b-8fe8-4b34-9979-e0807d4717c1"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install System Packages"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"EXEC","uuid":"9b5ca91d-bc97-4390-a1f7-b6ce8c869e53","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n##############\n#\n# LVM setup script for PostgreSQL . 4 disks for DATA and 2 for logs\n# Data disks are 60GB | Log disks are 20GB \n#\n#############\n\n\n#PGSQL data\nsudo pvcreate \/dev\/sdb \/dev\/sdc \/dev\/sdd \/dev\/sde\nsudo vgcreate mysqlDataVG \/dev\/sdb \/dev\/sdd \/dev\/sdc \/dev\/sde\nsudo lvcreate -l 100%FREE -i4 -I1M -n mysqlDataLV mysqlDataVG          ## Use 1MB to avoid IO amplification \n#lvcreate -l 100%FREE -i4 -I4M -n pgDataLV pgDataVG\n\n\n#PGSQL logs\nsudo pvcreate \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo vgcreate mysqlLogVG \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo lvcreate -l 100%FREE -i2 -I1M -n mysqlLogLV mysqlLogVG            ## Use 1MB to avoid IO amplification\n#lvcreate -l 100%FREE -i2 -I4M -n pgLogLV pgLogVG\n\n\n#Disable LVM read ahead\nsudo lvchange -r 0 \/dev\/mysqlDataVG\/mysqlDataLV\nsudo lvchange -r 0 \/dev\/mysqlLogVG\/mysqlLogLV\n\n\n#Format LVMs with ext4 and use nodiscard to make sure format time is fast on Nutanix due to SCSI unmap\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlDataVG\/mysqlDataLV\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlLogVG\/mysqlLogLV\n\nsleep 30\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"d2eec46b-8fe8-4b34-9979-e0807d4717c1"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Create Disk Setup"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"EXEC","uuid":"9e13302a-e9cb-43e3-b1b5-9439615b03ed","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nsudo hostnamectl set-hostname \"@@{name}@@\"\n\n# -*- Mysql installation \nsudo yum install -y --quiet \"http:\/\/repo.mysql.com\/mysql80-community-release-el7.rpm\"\nsudo yum update -y --quiet\nsudo yum install -y --quiet sshpass mysql-community-server.x86_64\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"d2eec46b-8fe8-4b34-9979-e0807d4717c1"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install MySQL"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"EXEC","uuid":"0c1c46f1-9ffb-4caa-94f9-166579a2d781","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\necho \"!includedir \/etc\/my.cnf.d\" | sudo tee -a \/etc\/my.cnf\n\necho \"[mysqld]\nbinlog-format=mixed\nlog-bin=mysql-bin\ndatadir=\/mysql\/data\nsql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES\ninnodb_data_home_dir = \/mysql\/data\ninnodb_log_group_home_dir = \/mysql\/log\ninnodb_file_per_table\ntmpdir=\/mysql\/tmpdir\ninnodb_undo_directory = \/mysql\/undo\ndefault-storage-engine = innodb\ndefault_tmp_storage_engine = innodb\ninnodb_log_files_in_group = 4\ninnodb_log_file_size = 1G\ninnodb_log_buffer_size = 8M\ninnodb_buffer_pool_size = 6G\t\nlarge-pages\t\ninnodb_buffer_pool_instances = 64\t\ninnodb_flush_method=O_DIRECT\t\ninnodb_flush_neighbors=0\t \ninnodb_flush_log_at_trx_commit=1\ninnodb_buffer_pool_dump_at_shutdown=1\t\ninnodb_buffer_pool_load_at_startup=1\t\nbulk_insert_buffer_size = 256\t\ninnodb_thread_concurrency = 16\t\n \t \n# Undo tablespace\t \ninnodb_undo_tablespaces = 5\t\n \t \n# Networking\t \nwait_timeout=57600\t \nmax_allowed_packet=1G\t\nsocket=\/var\/lib\/mysql\/mysql.sock\t \nskip-name-resolve\nport=3306\t\nmax_connections=1000\t\n\n\n[mysqld_safe]\nlog-error=\/mysql\/log\/mysqld.log\npid-file=\/var\/run\/mysqld\/mysqld.pid\" | sudo tee \/etc\/my.cnf.d\/nutanix.cnf\n\nsudo sed -i \"\/\\[mysqld\\]\/a server-id=100\" \/etc\/my.cnf.d\/nutanix.cnf\n\nsudo mkdir -p \/mysql\/log \/mysql\/data \/mysql\/tmpdir \/mysql\/undo\nsudo chown -R mysql:mysql \/mysql\n\nsudo systemctl enable mysqld\n\nsudo rm -rf \/mysql\/data\/*\nsudo systemctl start mysqld\n\n#Fix to obtain temp password and set it to blank\npassword=$(grep -oP 'temporary password(.*): \\K(\\S+)' \/var\/log\/mysqld.log)\nsudo mysqladmin --user=root --password=\"$password\" password aaBB**cc1122\nsudo mysql --user=root --password=aaBB**cc1122 -e \"UNINSTALL COMPONENT 'file:\/\/component_validate_password'\"\nsudo mysqladmin --user=root --password=\"aaBB**cc1122\" password \"\"\n\n\n#Mysql secure installation\nsudo mysql -u root<<-EOF\nALTER USER 'root'@'localhost' IDENTIFIED WITH caching_sha2_password BY '@@{MYSQL_PASSWORD}@@';\nDELETE FROM mysql.user WHERE User='root' AND Host NOT IN ('localhost', '127.0.0.1', '::1');\nDELETE FROM mysql.user WHERE User='';\nDELETE FROM mysql.db WHERE Db='test' OR Db='test\\_%';\nFLUSH PRIVILEGES;\nEOF\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"d2eec46b-8fe8-4b34-9979-e0807d4717c1"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Setup MySQL"}],"description":"","message_list":[],"uuid":"41564b98-f031-4845-ad8e-a2c1ccd2c7af","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"feb0f4b3_dag","uuid":"da65079e-8f21-4228-890a-f24093a8192f"},"name":"18497daa_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPMySQLPackage","uuid":"a23c2259-dd5c-4063-b54f-6af67ce60ee9"},"retries":"0","description":"","type":"DAG","uuid":"5c90d29c-1a3e-4653-815e-0624f342c9a9","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"e9f40488_dag"}],"description":"","message_list":[],"uuid":"8553aecd-d48e-4ddd-81f4-a6297ba4f406","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"e9f40488_dag","uuid":"5c90d29c-1a3e-4653-815e-0624f342c9a9"},"name":"29ea5770_runbook"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Install_Crb_a23c2259_dd5c_4063_b54f_6af67ce60ee9"}],"description":"","message_list":[],"uuid":"86cba90c-cf59-4406-81a6-8b32fb10adb8","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Package_a23c2259_dd5c_4063_b54f_6af67ce60ee9","uuid":"95b81039-6eb5-4d28-81f2-cf5d48d47f0a"},"name":"SYS_GEN__Runbook_Package_a23c2259_dd5c_4063_b54f_6af67ce60ee9"}},{"description":"System action for creating an application","message_list":[],"uuid":"00e7d837-bf3e-4f61-a2f4-ff625f976504","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPMySQLPackage","uuid":"a23c2259-dd5c-4063-b54f-6af67ce60ee9"},"retries":"0","description":"","type":"DAG","uuid":"19df2ec0-c56a-45f4-baa1-91493568c7e6","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_a23c2259_dd5c_4063_b54f_6af67ce60ee9","uuid":"86778589-37b0-408c-b198-7a999ed8bf6f"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"f55ade20-bf3b-415a-9db8-94c899a60e55"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"0ae584e7-6d48-4e53-82d8-a06b7d9ce93f"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"f55ade20-bf3b-415a-9db8-94c899a60e55"},"edge_type":"inherent","type":"","uuid":"986f12d5-5261-435c-b5e3-eb144397772a","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"0ae584e7-6d48-4e53-82d8-a06b7d9ce93f"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_a23c2259_dd5c_4063_b54f_6af67ce60ee9","uuid":"86778589-37b0-408c-b198-7a999ed8bf6f"},"edge_type":"inherent","type":"","uuid":"87788ad4-fc19-464c-b6b3-8ce8644c770f","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"f55ade20-bf3b-415a-9db8-94c899a60e55"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_a23c2259_dd5c_4063_b54f_6af67ce60ee9"},{"target_any_local_reference":{"kind":"app_package","name":"GCPMySQLPackage","uuid":"a23c2259-dd5c-4063-b54f-6af67ce60ee9"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"86778589-37b0-408c-b198-7a999ed8bf6f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_a23c2259_dd5c_4063_b54f_6af67ce60ee9","uuid":"86cba90c-cf59-4406-81a6-8b32fb10adb8"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_a23c2259_dd5c_4063_b54f_6af67ce60ee9"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"f55ade20-bf3b-415a-9db8-94c899a60e55","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"f603ab76_runbook","uuid":"1f2c9854-fd61-4d80-a059-2670f4aa3ba3"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"0ae584e7-6d48-4e53-82d8-a06b7d9ce93f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"7748f46a_runbook","uuid":"a0ae1241-f6d5-470e-b065-dfde29b2bbf2"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c"}],"description":"","message_list":[],"uuid":"72cb4e90-f076-46c4-a224-763e043343fc","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_a23c2259_dd5c_4063_b54f_6af67ce60ee9","uuid":"19df2ec0-c56a-45f4-baa1-91493568c7e6"},"name":"SYS_GEN__Runbook_Package_a23c2259_dd5c_4063_b54f_6af67ce60ee9"}},{"description":"System action for uninstalling an application","message_list":[],"uuid":"660899a9-cb2c-4134-8b95-e99d9f683f35","name":"action_uninstall","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPMySQLPackage","uuid":"a23c2259-dd5c-4063-b54f-6af67ce60ee9"},"retries":"0","description":"","type":"DAG","uuid":"6fd1267f-343c-4179-b2fb-2f47f3ea76c8","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Uninstall_Crb_a23c2259_dd5c_4063_b54f_6af67ce60ee9","uuid":"d3d3e29a-9fbe-4a2d-a89a-5d093c87efc8"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Package_a23c2259_dd5c_4063_b54f_6af67ce60ee9"},{"target_any_local_reference":{"kind":"app_package","name":"GCPMySQLPackage","uuid":"a23c2259-dd5c-4063-b54f-6af67ce60ee9"},"retries":"0","description":"","type":"CUSTOM_PACKAGE_UNINSTALL","uuid":"d3d3e29a-9fbe-4a2d-a89a-5d093c87efc8","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPMySQLPackage","uuid":"a23c2259-dd5c-4063-b54f-6af67ce60ee9"},"retries":"0","description":"","type":"DAG","uuid":"da65079e-8f21-4228-890a-f24093a8192f","child_tasks_local_reference_list":[{"kind":"app_task","name":"Install System Packages","uuid":"97f56cd9-7369-485c-82c7-66f6b3023b77"},{"kind":"app_task","name":"Create Disk Setup","uuid":"9b5ca91d-bc97-4390-a1f7-b6ce8c869e53"},{"kind":"app_task","name":"Install MySQL","uuid":"9e13302a-e9cb-43e3-b1b5-9439615b03ed"},{"kind":"app_task","name":"Setup MySQL","uuid":"0c1c46f1-9ffb-4caa-94f9-166579a2d781"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Install System Packages","uuid":"97f56cd9-7369-485c-82c7-66f6b3023b77"},"edge_type":"user_defined","type":"","uuid":"c1ec9e88-005a-458e-a65f-7515bd14c71c","to_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"9b5ca91d-bc97-4390-a1f7-b6ce8c869e53"}},{"from_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"9b5ca91d-bc97-4390-a1f7-b6ce8c869e53"},"edge_type":"user_defined","type":"","uuid":"dfae8333-dd9c-4362-905d-2129e1f99bcf","to_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"9e13302a-e9cb-43e3-b1b5-9439615b03ed"}},{"from_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"9e13302a-e9cb-43e3-b1b5-9439615b03ed"},"edge_type":"user_defined","type":"","uuid":"95a25a35-2d83-4096-bcca-9f58645d2db5","to_task_reference":{"kind":"app_task","name":"Setup MySQL","uuid":"0c1c46f1-9ffb-4caa-94f9-166579a2d781"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"feb0f4b3_dag"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"EXEC","uuid":"97f56cd9-7369-485c-82c7-66f6b3023b77","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n# -*- Install Mysql\nsudo yum update -y --quiet\nsudo yum install -y  htop wget iotop xfs* bc unzip lvm2*\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"System packages are installed\"","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"d2eec46b-8fe8-4b34-9979-e0807d4717c1"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install System Packages"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"EXEC","uuid":"9b5ca91d-bc97-4390-a1f7-b6ce8c869e53","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n##############\n#\n# LVM setup script for PostgreSQL . 4 disks for DATA and 2 for logs\n# Data disks are 60GB | Log disks are 20GB \n#\n#############\n\n\n#PGSQL data\nsudo pvcreate \/dev\/sdb \/dev\/sdc \/dev\/sdd \/dev\/sde\nsudo vgcreate mysqlDataVG \/dev\/sdb \/dev\/sdd \/dev\/sdc \/dev\/sde\nsudo lvcreate -l 100%FREE -i4 -I1M -n mysqlDataLV mysqlDataVG          ## Use 1MB to avoid IO amplification \n#lvcreate -l 100%FREE -i4 -I4M -n pgDataLV pgDataVG\n\n\n#PGSQL logs\nsudo pvcreate \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo vgcreate mysqlLogVG \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo lvcreate -l 100%FREE -i2 -I1M -n mysqlLogLV mysqlLogVG            ## Use 1MB to avoid IO amplification\n#lvcreate -l 100%FREE -i2 -I4M -n pgLogLV pgLogVG\n\n\n#Disable LVM read ahead\nsudo lvchange -r 0 \/dev\/mysqlDataVG\/mysqlDataLV\nsudo lvchange -r 0 \/dev\/mysqlLogVG\/mysqlLogLV\n\n\n#Format LVMs with ext4 and use nodiscard to make sure format time is fast on Nutanix due to SCSI unmap\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlDataVG\/mysqlDataLV\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlLogVG\/mysqlLogLV\n\nsleep 30\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"d2eec46b-8fe8-4b34-9979-e0807d4717c1"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Create Disk Setup"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"EXEC","uuid":"9e13302a-e9cb-43e3-b1b5-9439615b03ed","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nsudo hostnamectl set-hostname \"@@{name}@@\"\n\n# -*- Mysql installation \nsudo yum install -y --quiet \"http:\/\/repo.mysql.com\/mysql80-community-release-el7.rpm\"\nsudo yum update -y --quiet\nsudo yum install -y --quiet sshpass mysql-community-server.x86_64\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"d2eec46b-8fe8-4b34-9979-e0807d4717c1"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install MySQL"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"EXEC","uuid":"0c1c46f1-9ffb-4caa-94f9-166579a2d781","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\necho \"!includedir \/etc\/my.cnf.d\" | sudo tee -a \/etc\/my.cnf\n\necho \"[mysqld]\nbinlog-format=mixed\nlog-bin=mysql-bin\ndatadir=\/mysql\/data\nsql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES\ninnodb_data_home_dir = \/mysql\/data\ninnodb_log_group_home_dir = \/mysql\/log\ninnodb_file_per_table\ntmpdir=\/mysql\/tmpdir\ninnodb_undo_directory = \/mysql\/undo\ndefault-storage-engine = innodb\ndefault_tmp_storage_engine = innodb\ninnodb_log_files_in_group = 4\ninnodb_log_file_size = 1G\ninnodb_log_buffer_size = 8M\ninnodb_buffer_pool_size = 6G\t\nlarge-pages\t\ninnodb_buffer_pool_instances = 64\t\ninnodb_flush_method=O_DIRECT\t\ninnodb_flush_neighbors=0\t \ninnodb_flush_log_at_trx_commit=1\ninnodb_buffer_pool_dump_at_shutdown=1\t\ninnodb_buffer_pool_load_at_startup=1\t\nbulk_insert_buffer_size = 256\t\ninnodb_thread_concurrency = 16\t\n \t \n# Undo tablespace\t \ninnodb_undo_tablespaces = 5\t\n \t \n# Networking\t \nwait_timeout=57600\t \nmax_allowed_packet=1G\t\nsocket=\/var\/lib\/mysql\/mysql.sock\t \nskip-name-resolve\nport=3306\t\nmax_connections=1000\t\n\n\n[mysqld_safe]\nlog-error=\/mysql\/log\/mysqld.log\npid-file=\/var\/run\/mysqld\/mysqld.pid\" | sudo tee \/etc\/my.cnf.d\/nutanix.cnf\n\nsudo sed -i \"\/\\[mysqld\\]\/a server-id=100\" \/etc\/my.cnf.d\/nutanix.cnf\n\nsudo mkdir -p \/mysql\/log \/mysql\/data \/mysql\/tmpdir \/mysql\/undo\nsudo chown -R mysql:mysql \/mysql\n\nsudo systemctl enable mysqld\n\nsudo rm -rf \/mysql\/data\/*\nsudo systemctl start mysqld\n\n#Fix to obtain temp password and set it to blank\npassword=$(grep -oP 'temporary password(.*): \\K(\\S+)' \/var\/log\/mysqld.log)\nsudo mysqladmin --user=root --password=\"$password\" password aaBB**cc1122\nsudo mysql --user=root --password=aaBB**cc1122 -e \"UNINSTALL COMPONENT 'file:\/\/component_validate_password'\"\nsudo mysqladmin --user=root --password=\"aaBB**cc1122\" password \"\"\n\n\n#Mysql secure installation\nsudo mysql -u root<<-EOF\nALTER USER 'root'@'localhost' IDENTIFIED WITH caching_sha2_password BY '@@{MYSQL_PASSWORD}@@';\nDELETE FROM mysql.user WHERE User='root' AND Host NOT IN ('localhost', '127.0.0.1', '::1');\nDELETE FROM mysql.user WHERE User='';\nDELETE FROM mysql.db WHERE Db='test' OR Db='test\\_%';\nFLUSH PRIVILEGES;\nEOF\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"d2eec46b-8fe8-4b34-9979-e0807d4717c1"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Setup MySQL"}],"description":"","message_list":[],"uuid":"41564b98-f031-4845-ad8e-a2c1ccd2c7af","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"feb0f4b3_dag","uuid":"da65079e-8f21-4228-890a-f24093a8192f"},"name":"18497daa_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPMySQLPackage","uuid":"a23c2259-dd5c-4063-b54f-6af67ce60ee9"},"retries":"0","description":"","type":"DAG","uuid":"5c90d29c-1a3e-4653-815e-0624f342c9a9","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"e9f40488_dag"}],"description":"","message_list":[],"uuid":"8553aecd-d48e-4ddd-81f4-a6297ba4f406","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"e9f40488_dag","uuid":"5c90d29c-1a3e-4653-815e-0624f342c9a9"},"name":"29ea5770_runbook"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Uninstall_Crb_a23c2259_dd5c_4063_b54f_6af67ce60ee9"}],"description":"","message_list":[],"uuid":"7a015f1a-5a03-4be8-bd8c-138e74d2f4a2","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Package_a23c2259_dd5c_4063_b54f_6af67ce60ee9","uuid":"6fd1267f-343c-4179-b2fb-2f47f3ea76c8"},"name":"SYS_GEN__Runbook_Package_a23c2259_dd5c_4063_b54f_6af67ce60ee9"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"2a4420ec-17b1-4897-a42f-8f1ee9df183e","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPMySQLPackage","uuid":"a23c2259-dd5c-4063-b54f-6af67ce60ee9"},"retries":"0","description":"","type":"DAG","uuid":"b1462f8b-9492-4cd1-9182-885c8a2b8b3c","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"508b9d7e-ee77-4101-900b-77a81c7dfec1"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"2a063859-1f49-4184-9c7a-2974e4a66b76"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_a23c2259_dd5c_4063_b54f_6af67ce60ee9","uuid":"77d008ae-8e76-4767-ae59-3dc162b42c11"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"508b9d7e-ee77-4101-900b-77a81c7dfec1"},"edge_type":"inherent","type":"","uuid":"f616c06c-39c6-4774-8a2e-ed9f06edc519","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"2a063859-1f49-4184-9c7a-2974e4a66b76"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"2a063859-1f49-4184-9c7a-2974e4a66b76"},"edge_type":"inherent","type":"","uuid":"f9cc703a-5697-4d3c-9097-bd4f8741ba1f","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_a23c2259_dd5c_4063_b54f_6af67ce60ee9","uuid":"77d008ae-8e76-4767-ae59-3dc162b42c11"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_a23c2259_dd5c_4063_b54f_6af67ce60ee9"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"508b9d7e-ee77-4101-900b-77a81c7dfec1","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"534c563f_runbook","uuid":"fa558656-179d-42a9-8b13-80552295db71"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"2a063859-1f49-4184-9c7a-2974e4a66b76","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"d738eefe_runbook","uuid":"15541983-ff20-4829-b0c7-aff046fa0beb"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c"},{"target_any_local_reference":{"kind":"app_package","name":"GCPMySQLPackage","uuid":"a23c2259-dd5c-4063-b54f-6af67ce60ee9"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"77d008ae-8e76-4767-ae59-3dc162b42c11","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_a23c2259_dd5c_4063_b54f_6af67ce60ee9","uuid":"7a015f1a-5a03-4be8-bd8c-138e74d2f4a2"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_a23c2259_dd5c_4063_b54f_6af67ce60ee9"}],"description":"","message_list":[],"uuid":"7f4e886d-9bda-4f73-acc0-fb61cc69f614","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_a23c2259_dd5c_4063_b54f_6af67ce60ee9","uuid":"b1462f8b-9492-4cd1-9182-885c8a2b8b3c"},"name":"SYS_GEN__Runbook_Package_a23c2259_dd5c_4063_b54f_6af67ce60ee9"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"56956255-0a4d-4cd2-bb7b-1b59c61970ed","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPMySQLPackage","uuid":"a23c2259-dd5c-4063-b54f-6af67ce60ee9"},"retries":"0","description":"","type":"DAG","uuid":"4425be0f-aed6-4def-a8f6-ec688a0fe5e0","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"14b1bf2f-8010-4242-8fde-08a95db88491"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_a23c2259_dd5c_4063_b54f_6af67ce60ee9","uuid":"1e168734-da7b-4fb4-96a6-10a4354f14ec"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"14b1bf2f-8010-4242-8fde-08a95db88491"},"edge_type":"inherent","type":"","uuid":"2cbddf2b-cc41-4f93-9ee5-36e5aee3e028","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_a23c2259_dd5c_4063_b54f_6af67ce60ee9","uuid":"1e168734-da7b-4fb4-96a6-10a4354f14ec"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_a23c2259_dd5c_4063_b54f_6af67ce60ee9"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"14b1bf2f-8010-4242-8fde-08a95db88491","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"957cfc08-a445-474a-b6fd-5a80c651f044"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c"},{"target_any_local_reference":{"kind":"app_package","name":"GCPMySQLPackage","uuid":"a23c2259-dd5c-4063-b54f-6af67ce60ee9"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"1e168734-da7b-4fb4-96a6-10a4354f14ec","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_a23c2259_dd5c_4063_b54f_6af67ce60ee9"}],"description":"","message_list":[],"uuid":"3d54add7-76a0-4c25-8043-6d569943b527","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_a23c2259_dd5c_4063_b54f_6af67ce60ee9","uuid":"4425be0f-aed6-4def-a8f6-ec688a0fe5e0"},"name":"SYS_GEN__Runbook_Package_a23c2259_dd5c_4063_b54f_6af67ce60ee9"}},{"description":"System action for starting an application","message_list":[],"uuid":"bd9354ba-df68-4c10-959c-03360118d68f","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPMySQLPackage","uuid":"a23c2259-dd5c-4063-b54f-6af67ce60ee9"},"retries":"0","description":"","type":"DAG","uuid":"d28ec75d-5631-4cd6-86ac-c49edf2cf4ee","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"eae4692b-331a-4b18-befd-f2ceb080aae7"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_a23c2259_dd5c_4063_b54f_6af67ce60ee9"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"eae4692b-331a-4b18-befd-f2ceb080aae7","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"7748f46a_runbook","uuid":"a0ae1241-f6d5-470e-b065-dfde29b2bbf2"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c"}],"description":"","message_list":[],"uuid":"74ed1b9a-9101-46e6-b4b1-f830e690a725","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_a23c2259_dd5c_4063_b54f_6af67ce60ee9","uuid":"d28ec75d-5631-4cd6-86ac-c49edf2cf4ee"},"name":"SYS_GEN__Runbook_Package_a23c2259_dd5c_4063_b54f_6af67ce60ee9"}},{"description":"System action for restarting an application","message_list":[],"uuid":"6b038ddf-40e0-4e42-9210-eae066477ae5","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPMySQLPackage","uuid":"a23c2259-dd5c-4063-b54f-6af67ce60ee9"},"retries":"0","description":"","type":"DAG","uuid":"7c0acb33-ad36-46d1-9a55-23d0e61d0ce1","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"84307738-2ea4-435d-8c78-e45b8cf2e976"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_a23c2259_dd5c_4063_b54f_6af67ce60ee9"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"84307738-2ea4-435d-8c78-e45b8cf2e976","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"e9d7de80_runbook","uuid":"1da5d6b4-d3df-4a19-942c-e6e85b650e34"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c"}],"description":"","message_list":[],"uuid":"787e92a0-ce2a-428d-bcfd-e2ea3116e58c","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_a23c2259_dd5c_4063_b54f_6af67ce60ee9","uuid":"7c0acb33-ad36-46d1-9a55-23d0e61d0ce1"},"name":"SYS_GEN__Runbook_Package_a23c2259_dd5c_4063_b54f_6af67ce60ee9"}},{"description":"System action for stopping an application","message_list":[],"uuid":"de0b2c61-e8af-4136-8939-c57c84e74cdd","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPMySQLPackage","uuid":"a23c2259-dd5c-4063-b54f-6af67ce60ee9"},"retries":"0","description":"","type":"DAG","uuid":"25053606-e5ad-4ab9-9f94-39e38b34e2d7","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"6795e205-2f83-48a9-bab3-25987acbd18d"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_a23c2259_dd5c_4063_b54f_6af67ce60ee9"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"6795e205-2f83-48a9-bab3-25987acbd18d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"534c563f_runbook","uuid":"fa558656-179d-42a9-8b13-80552295db71"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c"}],"description":"","message_list":[],"uuid":"35325004-8300-4005-9160-df1257d021dd","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_a23c2259_dd5c_4063_b54f_6af67ce60ee9","uuid":"25053606-e5ad-4ab9-9f94-39e38b34e2d7"},"name":"SYS_GEN__Runbook_Package_a23c2259_dd5c_4063_b54f_6af67ce60ee9"}}],"message_list":[],"service_local_reference_list":[{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"}],"uuid":"a23c2259-dd5c-4063-b54f-6af67ce60ee9","state":"ACTIVE","version":"","editables":{},"type":"DEB","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPMySQLPackage","uuid":"a23c2259-dd5c-4063-b54f-6af67ce60ee9"},"retries":"0","description":"","type":"DAG","uuid":"da65079e-8f21-4228-890a-f24093a8192f","child_tasks_local_reference_list":[{"kind":"app_task","name":"Install System Packages","uuid":"97f56cd9-7369-485c-82c7-66f6b3023b77"},{"kind":"app_task","name":"Create Disk Setup","uuid":"9b5ca91d-bc97-4390-a1f7-b6ce8c869e53"},{"kind":"app_task","name":"Install MySQL","uuid":"9e13302a-e9cb-43e3-b1b5-9439615b03ed"},{"kind":"app_task","name":"Setup MySQL","uuid":"0c1c46f1-9ffb-4caa-94f9-166579a2d781"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Install System Packages","uuid":"97f56cd9-7369-485c-82c7-66f6b3023b77"},"edge_type":"user_defined","type":"","uuid":"c1ec9e88-005a-458e-a65f-7515bd14c71c","to_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"9b5ca91d-bc97-4390-a1f7-b6ce8c869e53"}},{"from_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"9b5ca91d-bc97-4390-a1f7-b6ce8c869e53"},"edge_type":"user_defined","type":"","uuid":"dfae8333-dd9c-4362-905d-2129e1f99bcf","to_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"9e13302a-e9cb-43e3-b1b5-9439615b03ed"}},{"from_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"9e13302a-e9cb-43e3-b1b5-9439615b03ed"},"edge_type":"user_defined","type":"","uuid":"95a25a35-2d83-4096-bcca-9f58645d2db5","to_task_reference":{"kind":"app_task","name":"Setup MySQL","uuid":"0c1c46f1-9ffb-4caa-94f9-166579a2d781"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"feb0f4b3_dag"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"EXEC","uuid":"97f56cd9-7369-485c-82c7-66f6b3023b77","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n# -*- Install Mysql\nsudo yum update -y --quiet\nsudo yum install -y  htop wget iotop xfs* bc unzip lvm2*\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"System packages are installed\"","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"d2eec46b-8fe8-4b34-9979-e0807d4717c1"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install System Packages"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"EXEC","uuid":"9b5ca91d-bc97-4390-a1f7-b6ce8c869e53","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n##############\n#\n# LVM setup script for PostgreSQL . 4 disks for DATA and 2 for logs\n# Data disks are 60GB | Log disks are 20GB \n#\n#############\n\n\n#PGSQL data\nsudo pvcreate \/dev\/sdb \/dev\/sdc \/dev\/sdd \/dev\/sde\nsudo vgcreate mysqlDataVG \/dev\/sdb \/dev\/sdd \/dev\/sdc \/dev\/sde\nsudo lvcreate -l 100%FREE -i4 -I1M -n mysqlDataLV mysqlDataVG          ## Use 1MB to avoid IO amplification \n#lvcreate -l 100%FREE -i4 -I4M -n pgDataLV pgDataVG\n\n\n#PGSQL logs\nsudo pvcreate \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo vgcreate mysqlLogVG \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo lvcreate -l 100%FREE -i2 -I1M -n mysqlLogLV mysqlLogVG            ## Use 1MB to avoid IO amplification\n#lvcreate -l 100%FREE -i2 -I4M -n pgLogLV pgLogVG\n\n\n#Disable LVM read ahead\nsudo lvchange -r 0 \/dev\/mysqlDataVG\/mysqlDataLV\nsudo lvchange -r 0 \/dev\/mysqlLogVG\/mysqlLogLV\n\n\n#Format LVMs with ext4 and use nodiscard to make sure format time is fast on Nutanix due to SCSI unmap\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlDataVG\/mysqlDataLV\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlLogVG\/mysqlLogLV\n\nsleep 30\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"d2eec46b-8fe8-4b34-9979-e0807d4717c1"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Create Disk Setup"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"EXEC","uuid":"9e13302a-e9cb-43e3-b1b5-9439615b03ed","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nsudo hostnamectl set-hostname \"@@{name}@@\"\n\n# -*- Mysql installation \nsudo yum install -y --quiet \"http:\/\/repo.mysql.com\/mysql80-community-release-el7.rpm\"\nsudo yum update -y --quiet\nsudo yum install -y --quiet sshpass mysql-community-server.x86_64\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"d2eec46b-8fe8-4b34-9979-e0807d4717c1"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install MySQL"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"EXEC","uuid":"0c1c46f1-9ffb-4caa-94f9-166579a2d781","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\necho \"!includedir \/etc\/my.cnf.d\" | sudo tee -a \/etc\/my.cnf\n\necho \"[mysqld]\nbinlog-format=mixed\nlog-bin=mysql-bin\ndatadir=\/mysql\/data\nsql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES\ninnodb_data_home_dir = \/mysql\/data\ninnodb_log_group_home_dir = \/mysql\/log\ninnodb_file_per_table\ntmpdir=\/mysql\/tmpdir\ninnodb_undo_directory = \/mysql\/undo\ndefault-storage-engine = innodb\ndefault_tmp_storage_engine = innodb\ninnodb_log_files_in_group = 4\ninnodb_log_file_size = 1G\ninnodb_log_buffer_size = 8M\ninnodb_buffer_pool_size = 6G\t\nlarge-pages\t\ninnodb_buffer_pool_instances = 64\t\ninnodb_flush_method=O_DIRECT\t\ninnodb_flush_neighbors=0\t \ninnodb_flush_log_at_trx_commit=1\ninnodb_buffer_pool_dump_at_shutdown=1\t\ninnodb_buffer_pool_load_at_startup=1\t\nbulk_insert_buffer_size = 256\t\ninnodb_thread_concurrency = 16\t\n \t \n# Undo tablespace\t \ninnodb_undo_tablespaces = 5\t\n \t \n# Networking\t \nwait_timeout=57600\t \nmax_allowed_packet=1G\t\nsocket=\/var\/lib\/mysql\/mysql.sock\t \nskip-name-resolve\nport=3306\t\nmax_connections=1000\t\n\n\n[mysqld_safe]\nlog-error=\/mysql\/log\/mysqld.log\npid-file=\/var\/run\/mysqld\/mysqld.pid\" | sudo tee \/etc\/my.cnf.d\/nutanix.cnf\n\nsudo sed -i \"\/\\[mysqld\\]\/a server-id=100\" \/etc\/my.cnf.d\/nutanix.cnf\n\nsudo mkdir -p \/mysql\/log \/mysql\/data \/mysql\/tmpdir \/mysql\/undo\nsudo chown -R mysql:mysql \/mysql\n\nsudo systemctl enable mysqld\n\nsudo rm -rf \/mysql\/data\/*\nsudo systemctl start mysqld\n\n#Fix to obtain temp password and set it to blank\npassword=$(grep -oP 'temporary password(.*): \\K(\\S+)' \/var\/log\/mysqld.log)\nsudo mysqladmin --user=root --password=\"$password\" password aaBB**cc1122\nsudo mysql --user=root --password=aaBB**cc1122 -e \"UNINSTALL COMPONENT 'file:\/\/component_validate_password'\"\nsudo mysqladmin --user=root --password=\"aaBB**cc1122\" password \"\"\n\n\n#Mysql secure installation\nsudo mysql -u root<<-EOF\nALTER USER 'root'@'localhost' IDENTIFIED WITH caching_sha2_password BY '@@{MYSQL_PASSWORD}@@';\nDELETE FROM mysql.user WHERE User='root' AND Host NOT IN ('localhost', '127.0.0.1', '::1');\nDELETE FROM mysql.user WHERE User='';\nDELETE FROM mysql.db WHERE Db='test' OR Db='test\\_%';\nFLUSH PRIVILEGES;\nEOF\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"d2eec46b-8fe8-4b34-9979-e0807d4717c1"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Setup MySQL"}],"description":"","message_list":[],"uuid":"41564b98-f031-4845-ad8e-a2c1ccd2c7af","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"feb0f4b3_dag","uuid":"da65079e-8f21-4228-890a-f24093a8192f"},"name":"18497daa_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPMySQLPackage","uuid":"a23c2259-dd5c-4063-b54f-6af67ce60ee9"},"retries":"0","description":"","type":"DAG","uuid":"5c90d29c-1a3e-4653-815e-0624f342c9a9","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"e9f40488_dag"}],"description":"","message_list":[],"uuid":"8553aecd-d48e-4ddd-81f4-a6297ba4f406","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"e9f40488_dag","uuid":"5c90d29c-1a3e-4653-815e-0624f342c9a9"},"name":"29ea5770_runbook"}},"variable_list":[],"name":"GCPMySQLPackage"},{"description":"","action_list":[{"description":"System action for installing an application","message_list":[],"uuid":"49b51d0c-0167-486d-ab67-504b1f9bcf44","name":"action_install","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureMySQLPkg","uuid":"2acd82a5-5d7f-4889-a1ec-3a66cd4171b2"},"retries":"0","description":"","type":"DAG","uuid":"5ee2da49-b18e-427f-9ce7-b444de0d32c7","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Install_Crb_2acd82a5_5d7f_4889_a1ec_3a66cd4171b2","uuid":"cfb180da-df1e-45b9-9253-2318ce1369d6"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Package_2acd82a5_5d7f_4889_a1ec_3a66cd4171b2"},{"target_any_local_reference":{"kind":"app_package","name":"AzureMySQLPkg","uuid":"2acd82a5-5d7f-4889-a1ec-3a66cd4171b2"},"retries":"0","description":"","type":"CUSTOM_PACKAGE_INSTALL","uuid":"cfb180da-df1e-45b9-9253-2318ce1369d6","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureMySQLPkg","uuid":"2acd82a5-5d7f-4889-a1ec-3a66cd4171b2"},"retries":"0","description":"","type":"DAG","uuid":"867787d9-5aad-4283-a62b-55fbbbe44b79","child_tasks_local_reference_list":[{"kind":"app_task","name":"Install System Packages","uuid":"64ce22aa-2299-4dd4-bb5c-91090e304cc4"},{"kind":"app_task","name":"Install MySQL","uuid":"852e3a24-524f-4d12-81d8-0abfadc748b5"},{"kind":"app_task","name":"Setup MySQL","uuid":"19512fc3-4d0d-4a57-a39f-a5928651c0fd"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"852e3a24-524f-4d12-81d8-0abfadc748b5"},"edge_type":"user_defined","type":"","uuid":"f806d291-71b6-42e5-b418-23ef9773f25e","to_task_reference":{"kind":"app_task","name":"Setup MySQL","uuid":"19512fc3-4d0d-4a57-a39f-a5928651c0fd"}},{"from_task_reference":{"kind":"app_task","name":"Install System Packages","uuid":"64ce22aa-2299-4dd4-bb5c-91090e304cc4"},"edge_type":"user_defined","type":"","uuid":"9c850c61-c3e8-416a-b222-f2d152aec9d7","to_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"852e3a24-524f-4d12-81d8-0abfadc748b5"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"80e631b8_dag"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"EXEC","uuid":"64ce22aa-2299-4dd4-bb5c-91090e304cc4","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n# -*- Install Mysql\nsudo yum update -y --quiet\nsudo yum install -y  htop wget iotop xfs* bc unzip lvm2*\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"System packages are installed\"","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"d2eec46b-8fe8-4b34-9979-e0807d4717c1"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install System Packages"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"EXEC","uuid":"852e3a24-524f-4d12-81d8-0abfadc748b5","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nsudo hostnamectl set-hostname \"@@{name}@@\"\n\n# -*- Mysql installation \nsudo yum install -y --quiet \"http:\/\/repo.mysql.com\/mysql80-community-release-el7.rpm\"\nsudo yum update -y --quiet\nsudo yum install -y --quiet sshpass mysql-community-server.x86_64\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"d2eec46b-8fe8-4b34-9979-e0807d4717c1"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install MySQL"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"EXEC","uuid":"19512fc3-4d0d-4a57-a39f-a5928651c0fd","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\necho \"!includedir \/etc\/my.cnf.d\" | sudo tee -a \/etc\/my.cnf\n\necho \"[mysqld]\nbinlog-format=mixed\nlog-bin=mysql-bin\ndatadir=\/mysql\/data\nsql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES\ninnodb_data_home_dir = \/mysql\/data\ninnodb_log_group_home_dir = \/mysql\/log\ninnodb_file_per_table\ntmpdir=\/mysql\/tmpdir\ninnodb_undo_directory = \/mysql\/undo\ndefault-storage-engine = innodb\ndefault_tmp_storage_engine = innodb\ninnodb_log_files_in_group = 4\ninnodb_log_file_size = 1G\ninnodb_log_buffer_size = 8M\ninnodb_buffer_pool_size = 6G\t\nlarge-pages\t\ninnodb_buffer_pool_instances = 64\t\ninnodb_flush_method=O_DIRECT\t\ninnodb_flush_neighbors=0\t \ninnodb_flush_log_at_trx_commit=1\ninnodb_buffer_pool_dump_at_shutdown=1\t\ninnodb_buffer_pool_load_at_startup=1\t\nbulk_insert_buffer_size = 256\t\ninnodb_thread_concurrency = 16\t\n \t \n# Undo tablespace\t \ninnodb_undo_tablespaces = 5\t\n \t \n# Networking\t \nwait_timeout=57600\t \nmax_allowed_packet=1G\t\nsocket=\/var\/lib\/mysql\/mysql.sock\t \nskip-name-resolve\nport=3306\t\nmax_connections=1000\t\n\n\n[mysqld_safe]\nlog-error=\/mysql\/log\/mysqld.log\npid-file=\/var\/run\/mysqld\/mysqld.pid\" | sudo tee \/etc\/my.cnf.d\/nutanix.cnf\n\nsudo sed -i \"\/\\[mysqld\\]\/a server-id=100\" \/etc\/my.cnf.d\/nutanix.cnf\n\nsudo mkdir -p \/mysql\/log \/mysql\/data \/mysql\/tmpdir \/mysql\/undo\nsudo chown -R mysql:mysql \/mysql\n\nsudo systemctl enable mysqld\n\nsudo rm -rf \/mysql\/data\/*\nsudo systemctl start mysqld\n\n#Fix to obtain temp password and set it to blank\npassword=$(grep -oP 'temporary password(.*): \\K(\\S+)' \/var\/log\/mysqld.log)\nsudo mysqladmin --user=root --password=\"$password\" password aaBB**cc1122\nsudo mysql --user=root --password=aaBB**cc1122 -e \"UNINSTALL COMPONENT 'file:\/\/component_validate_password'\"\nsudo mysqladmin --user=root --password=\"aaBB**cc1122\" password \"\"\n\n\n#Mysql secure installation\nsudo mysql -u root<<-EOF\nALTER USER 'root'@'localhost' IDENTIFIED WITH caching_sha2_password BY '@@{MYSQL_PASSWORD}@@';\nDELETE FROM mysql.user WHERE User='root' AND Host NOT IN ('localhost', '127.0.0.1', '::1');\nDELETE FROM mysql.user WHERE User='';\nDELETE FROM mysql.db WHERE Db='test' OR Db='test\\_%';\nFLUSH PRIVILEGES;\nEOF\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"d2eec46b-8fe8-4b34-9979-e0807d4717c1"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Setup MySQL"}],"description":"","message_list":[],"uuid":"afc69ed7-3715-43da-816c-fdba3959c395","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"80e631b8_dag","uuid":"867787d9-5aad-4283-a62b-55fbbbe44b79"},"name":"09997356_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureMySQLPkg","uuid":"2acd82a5-5d7f-4889-a1ec-3a66cd4171b2"},"retries":"0","description":"","type":"DAG","uuid":"0f23161a-1b69-488a-92ac-bd514b87bf5e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"bcfa2a89_dag"}],"description":"","message_list":[],"uuid":"a0dc59ff-f79f-4861-8fe5-14cd990bc3c5","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"bcfa2a89_dag","uuid":"0f23161a-1b69-488a-92ac-bd514b87bf5e"},"name":"c83478b6_runbook"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Install_Crb_2acd82a5_5d7f_4889_a1ec_3a66cd4171b2"}],"description":"","message_list":[],"uuid":"0d9e1fc1-99c1-46c3-b543-6aecb7a2f250","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Package_2acd82a5_5d7f_4889_a1ec_3a66cd4171b2","uuid":"5ee2da49-b18e-427f-9ce7-b444de0d32c7"},"name":"SYS_GEN__Runbook_Package_2acd82a5_5d7f_4889_a1ec_3a66cd4171b2"}},{"description":"System action for creating an application","message_list":[],"uuid":"698bcdd1-007e-43e0-bec2-d0f8358d79e8","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureMySQLPkg","uuid":"2acd82a5-5d7f-4889-a1ec-3a66cd4171b2"},"retries":"0","description":"","type":"DAG","uuid":"31f1f51b-ca9b-4ab8-b9c5-a872a8195e0c","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_2acd82a5_5d7f_4889_a1ec_3a66cd4171b2","uuid":"1369d455-60f6-45dc-809b-d599c70c38ea"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"cc03d458-9a3e-4d45-9c55-5aeafbb6ab88"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"f3f5c277-1b24-4ae1-8bd9-c24ea02ea689"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"cc03d458-9a3e-4d45-9c55-5aeafbb6ab88"},"edge_type":"inherent","type":"","uuid":"ad578e5b-0d41-4776-b44c-bcce28734d2d","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"f3f5c277-1b24-4ae1-8bd9-c24ea02ea689"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_2acd82a5_5d7f_4889_a1ec_3a66cd4171b2","uuid":"1369d455-60f6-45dc-809b-d599c70c38ea"},"edge_type":"inherent","type":"","uuid":"133767ed-cad7-478a-9189-eeb6d61347fa","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"cc03d458-9a3e-4d45-9c55-5aeafbb6ab88"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_2acd82a5_5d7f_4889_a1ec_3a66cd4171b2"},{"target_any_local_reference":{"kind":"app_package","name":"AzureMySQLPkg","uuid":"2acd82a5-5d7f-4889-a1ec-3a66cd4171b2"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"1369d455-60f6-45dc-809b-d599c70c38ea","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_2acd82a5_5d7f_4889_a1ec_3a66cd4171b2","uuid":"0d9e1fc1-99c1-46c3-b543-6aecb7a2f250"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_2acd82a5_5d7f_4889_a1ec_3a66cd4171b2"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"cc03d458-9a3e-4d45-9c55-5aeafbb6ab88","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"f603ab76_runbook","uuid":"1f2c9854-fd61-4d80-a059-2670f4aa3ba3"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"f3f5c277-1b24-4ae1-8bd9-c24ea02ea689","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"7748f46a_runbook","uuid":"a0ae1241-f6d5-470e-b065-dfde29b2bbf2"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c"}],"description":"","message_list":[],"uuid":"c667c39c-6f39-4755-a69c-944fef4c8e85","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_2acd82a5_5d7f_4889_a1ec_3a66cd4171b2","uuid":"31f1f51b-ca9b-4ab8-b9c5-a872a8195e0c"},"name":"SYS_GEN__Runbook_Package_2acd82a5_5d7f_4889_a1ec_3a66cd4171b2"}},{"description":"System action for uninstalling an application","message_list":[],"uuid":"40106129-3455-4d9e-bdb0-ea1984540c64","name":"action_uninstall","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureMySQLPkg","uuid":"2acd82a5-5d7f-4889-a1ec-3a66cd4171b2"},"retries":"0","description":"","type":"DAG","uuid":"3bf60c9c-5370-4f6b-bbb8-f370be706438","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Uninstall_Crb_2acd82a5_5d7f_4889_a1ec_3a66cd4171b2","uuid":"58f424bb-8e78-4d7c-951a-e4e968bd2e14"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Package_2acd82a5_5d7f_4889_a1ec_3a66cd4171b2"},{"target_any_local_reference":{"kind":"app_package","name":"AzureMySQLPkg","uuid":"2acd82a5-5d7f-4889-a1ec-3a66cd4171b2"},"retries":"0","description":"","type":"CUSTOM_PACKAGE_UNINSTALL","uuid":"58f424bb-8e78-4d7c-951a-e4e968bd2e14","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureMySQLPkg","uuid":"2acd82a5-5d7f-4889-a1ec-3a66cd4171b2"},"retries":"0","description":"","type":"DAG","uuid":"867787d9-5aad-4283-a62b-55fbbbe44b79","child_tasks_local_reference_list":[{"kind":"app_task","name":"Install System Packages","uuid":"64ce22aa-2299-4dd4-bb5c-91090e304cc4"},{"kind":"app_task","name":"Install MySQL","uuid":"852e3a24-524f-4d12-81d8-0abfadc748b5"},{"kind":"app_task","name":"Setup MySQL","uuid":"19512fc3-4d0d-4a57-a39f-a5928651c0fd"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"852e3a24-524f-4d12-81d8-0abfadc748b5"},"edge_type":"user_defined","type":"","uuid":"f806d291-71b6-42e5-b418-23ef9773f25e","to_task_reference":{"kind":"app_task","name":"Setup MySQL","uuid":"19512fc3-4d0d-4a57-a39f-a5928651c0fd"}},{"from_task_reference":{"kind":"app_task","name":"Install System Packages","uuid":"64ce22aa-2299-4dd4-bb5c-91090e304cc4"},"edge_type":"user_defined","type":"","uuid":"9c850c61-c3e8-416a-b222-f2d152aec9d7","to_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"852e3a24-524f-4d12-81d8-0abfadc748b5"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"80e631b8_dag"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"EXEC","uuid":"64ce22aa-2299-4dd4-bb5c-91090e304cc4","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n# -*- Install Mysql\nsudo yum update -y --quiet\nsudo yum install -y  htop wget iotop xfs* bc unzip lvm2*\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"System packages are installed\"","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"d2eec46b-8fe8-4b34-9979-e0807d4717c1"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install System Packages"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"EXEC","uuid":"852e3a24-524f-4d12-81d8-0abfadc748b5","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nsudo hostnamectl set-hostname \"@@{name}@@\"\n\n# -*- Mysql installation \nsudo yum install -y --quiet \"http:\/\/repo.mysql.com\/mysql80-community-release-el7.rpm\"\nsudo yum update -y --quiet\nsudo yum install -y --quiet sshpass mysql-community-server.x86_64\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"d2eec46b-8fe8-4b34-9979-e0807d4717c1"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install MySQL"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"EXEC","uuid":"19512fc3-4d0d-4a57-a39f-a5928651c0fd","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\necho \"!includedir \/etc\/my.cnf.d\" | sudo tee -a \/etc\/my.cnf\n\necho \"[mysqld]\nbinlog-format=mixed\nlog-bin=mysql-bin\ndatadir=\/mysql\/data\nsql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES\ninnodb_data_home_dir = \/mysql\/data\ninnodb_log_group_home_dir = \/mysql\/log\ninnodb_file_per_table\ntmpdir=\/mysql\/tmpdir\ninnodb_undo_directory = \/mysql\/undo\ndefault-storage-engine = innodb\ndefault_tmp_storage_engine = innodb\ninnodb_log_files_in_group = 4\ninnodb_log_file_size = 1G\ninnodb_log_buffer_size = 8M\ninnodb_buffer_pool_size = 6G\t\nlarge-pages\t\ninnodb_buffer_pool_instances = 64\t\ninnodb_flush_method=O_DIRECT\t\ninnodb_flush_neighbors=0\t \ninnodb_flush_log_at_trx_commit=1\ninnodb_buffer_pool_dump_at_shutdown=1\t\ninnodb_buffer_pool_load_at_startup=1\t\nbulk_insert_buffer_size = 256\t\ninnodb_thread_concurrency = 16\t\n \t \n# Undo tablespace\t \ninnodb_undo_tablespaces = 5\t\n \t \n# Networking\t \nwait_timeout=57600\t \nmax_allowed_packet=1G\t\nsocket=\/var\/lib\/mysql\/mysql.sock\t \nskip-name-resolve\nport=3306\t\nmax_connections=1000\t\n\n\n[mysqld_safe]\nlog-error=\/mysql\/log\/mysqld.log\npid-file=\/var\/run\/mysqld\/mysqld.pid\" | sudo tee \/etc\/my.cnf.d\/nutanix.cnf\n\nsudo sed -i \"\/\\[mysqld\\]\/a server-id=100\" \/etc\/my.cnf.d\/nutanix.cnf\n\nsudo mkdir -p \/mysql\/log \/mysql\/data \/mysql\/tmpdir \/mysql\/undo\nsudo chown -R mysql:mysql \/mysql\n\nsudo systemctl enable mysqld\n\nsudo rm -rf \/mysql\/data\/*\nsudo systemctl start mysqld\n\n#Fix to obtain temp password and set it to blank\npassword=$(grep -oP 'temporary password(.*): \\K(\\S+)' \/var\/log\/mysqld.log)\nsudo mysqladmin --user=root --password=\"$password\" password aaBB**cc1122\nsudo mysql --user=root --password=aaBB**cc1122 -e \"UNINSTALL COMPONENT 'file:\/\/component_validate_password'\"\nsudo mysqladmin --user=root --password=\"aaBB**cc1122\" password \"\"\n\n\n#Mysql secure installation\nsudo mysql -u root<<-EOF\nALTER USER 'root'@'localhost' IDENTIFIED WITH caching_sha2_password BY '@@{MYSQL_PASSWORD}@@';\nDELETE FROM mysql.user WHERE User='root' AND Host NOT IN ('localhost', '127.0.0.1', '::1');\nDELETE FROM mysql.user WHERE User='';\nDELETE FROM mysql.db WHERE Db='test' OR Db='test\\_%';\nFLUSH PRIVILEGES;\nEOF\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"d2eec46b-8fe8-4b34-9979-e0807d4717c1"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Setup MySQL"}],"description":"","message_list":[],"uuid":"afc69ed7-3715-43da-816c-fdba3959c395","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"80e631b8_dag","uuid":"867787d9-5aad-4283-a62b-55fbbbe44b79"},"name":"09997356_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureMySQLPkg","uuid":"2acd82a5-5d7f-4889-a1ec-3a66cd4171b2"},"retries":"0","description":"","type":"DAG","uuid":"0f23161a-1b69-488a-92ac-bd514b87bf5e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"bcfa2a89_dag"}],"description":"","message_list":[],"uuid":"a0dc59ff-f79f-4861-8fe5-14cd990bc3c5","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"bcfa2a89_dag","uuid":"0f23161a-1b69-488a-92ac-bd514b87bf5e"},"name":"c83478b6_runbook"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Uninstall_Crb_2acd82a5_5d7f_4889_a1ec_3a66cd4171b2"}],"description":"","message_list":[],"uuid":"9fbce348-28b4-4a77-90ee-ff3a3865f290","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Package_2acd82a5_5d7f_4889_a1ec_3a66cd4171b2","uuid":"3bf60c9c-5370-4f6b-bbb8-f370be706438"},"name":"SYS_GEN__Runbook_Package_2acd82a5_5d7f_4889_a1ec_3a66cd4171b2"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"e22a7623-eedc-4962-b1ad-389b40d05fd5","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureMySQLPkg","uuid":"2acd82a5-5d7f-4889-a1ec-3a66cd4171b2"},"retries":"0","description":"","type":"DAG","uuid":"05cc0da1-b8b6-4501-9653-cbde787e34ad","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"aaa16096-25ec-46e4-8d0e-9172e5b3f574"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"8e098f9c-90d6-4880-aad0-e777cadc8d52"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_2acd82a5_5d7f_4889_a1ec_3a66cd4171b2","uuid":"fe7586ae-65b2-4021-bd5f-22616905440d"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"aaa16096-25ec-46e4-8d0e-9172e5b3f574"},"edge_type":"inherent","type":"","uuid":"73edf83f-27b0-471f-abda-2b37433b81c8","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"8e098f9c-90d6-4880-aad0-e777cadc8d52"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"8e098f9c-90d6-4880-aad0-e777cadc8d52"},"edge_type":"inherent","type":"","uuid":"ddb9d4ad-9ca8-4d8a-a4e9-0606328de974","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_2acd82a5_5d7f_4889_a1ec_3a66cd4171b2","uuid":"fe7586ae-65b2-4021-bd5f-22616905440d"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_2acd82a5_5d7f_4889_a1ec_3a66cd4171b2"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"aaa16096-25ec-46e4-8d0e-9172e5b3f574","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"534c563f_runbook","uuid":"fa558656-179d-42a9-8b13-80552295db71"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"8e098f9c-90d6-4880-aad0-e777cadc8d52","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"d738eefe_runbook","uuid":"15541983-ff20-4829-b0c7-aff046fa0beb"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c"},{"target_any_local_reference":{"kind":"app_package","name":"AzureMySQLPkg","uuid":"2acd82a5-5d7f-4889-a1ec-3a66cd4171b2"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"fe7586ae-65b2-4021-bd5f-22616905440d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_2acd82a5_5d7f_4889_a1ec_3a66cd4171b2","uuid":"9fbce348-28b4-4a77-90ee-ff3a3865f290"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_2acd82a5_5d7f_4889_a1ec_3a66cd4171b2"}],"description":"","message_list":[],"uuid":"2fd7d17c-f2b4-46fb-ab6b-c9cd477fd602","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_2acd82a5_5d7f_4889_a1ec_3a66cd4171b2","uuid":"05cc0da1-b8b6-4501-9653-cbde787e34ad"},"name":"SYS_GEN__Runbook_Package_2acd82a5_5d7f_4889_a1ec_3a66cd4171b2"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"fd157218-5d19-43c2-bd63-7e3f51c84f35","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureMySQLPkg","uuid":"2acd82a5-5d7f-4889-a1ec-3a66cd4171b2"},"retries":"0","description":"","type":"DAG","uuid":"ef072e54-758a-4e6c-b1a7-d96e1eaa6ebe","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"c01c55c9-6814-42ab-8afa-618b5a990b3c"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_2acd82a5_5d7f_4889_a1ec_3a66cd4171b2","uuid":"8d2b4096-b86f-4b1b-b468-0f80b10582b3"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"c01c55c9-6814-42ab-8afa-618b5a990b3c"},"edge_type":"inherent","type":"","uuid":"bec10a26-c51b-4c29-805d-7025ad8e9d40","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_2acd82a5_5d7f_4889_a1ec_3a66cd4171b2","uuid":"8d2b4096-b86f-4b1b-b468-0f80b10582b3"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_2acd82a5_5d7f_4889_a1ec_3a66cd4171b2"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"c01c55c9-6814-42ab-8afa-618b5a990b3c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"957cfc08-a445-474a-b6fd-5a80c651f044"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c"},{"target_any_local_reference":{"kind":"app_package","name":"AzureMySQLPkg","uuid":"2acd82a5-5d7f-4889-a1ec-3a66cd4171b2"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"8d2b4096-b86f-4b1b-b468-0f80b10582b3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_2acd82a5_5d7f_4889_a1ec_3a66cd4171b2"}],"description":"","message_list":[],"uuid":"dffa9758-e1c9-4d5f-b012-436761e4163e","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_2acd82a5_5d7f_4889_a1ec_3a66cd4171b2","uuid":"ef072e54-758a-4e6c-b1a7-d96e1eaa6ebe"},"name":"SYS_GEN__Runbook_Package_2acd82a5_5d7f_4889_a1ec_3a66cd4171b2"}},{"description":"System action for starting an application","message_list":[],"uuid":"a0f6733c-b676-4626-8c7d-8010ccaff7da","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureMySQLPkg","uuid":"2acd82a5-5d7f-4889-a1ec-3a66cd4171b2"},"retries":"0","description":"","type":"DAG","uuid":"b0d8a468-1c2c-48a3-ac1e-7fd72dbff049","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"b7e7aeb1-fae5-4aef-9ab4-d4002fe1b719"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_2acd82a5_5d7f_4889_a1ec_3a66cd4171b2"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"b7e7aeb1-fae5-4aef-9ab4-d4002fe1b719","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"7748f46a_runbook","uuid":"a0ae1241-f6d5-470e-b065-dfde29b2bbf2"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c"}],"description":"","message_list":[],"uuid":"f3bcc04e-6a90-48df-8a1b-d2ff3cb7cc63","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_2acd82a5_5d7f_4889_a1ec_3a66cd4171b2","uuid":"b0d8a468-1c2c-48a3-ac1e-7fd72dbff049"},"name":"SYS_GEN__Runbook_Package_2acd82a5_5d7f_4889_a1ec_3a66cd4171b2"}},{"description":"System action for restarting an application","message_list":[],"uuid":"82fcca03-4086-4ade-b9b9-4f318f83ba66","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureMySQLPkg","uuid":"2acd82a5-5d7f-4889-a1ec-3a66cd4171b2"},"retries":"0","description":"","type":"DAG","uuid":"78a253ec-60c4-48c4-923e-6e7b20c2a2f9","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"84823ca2-5afd-426c-95a4-4b7d0cbeb349"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_2acd82a5_5d7f_4889_a1ec_3a66cd4171b2"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"84823ca2-5afd-426c-95a4-4b7d0cbeb349","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"e9d7de80_runbook","uuid":"1da5d6b4-d3df-4a19-942c-e6e85b650e34"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c"}],"description":"","message_list":[],"uuid":"eef77181-b4ec-4c6d-8a3d-4057a18f9f32","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_2acd82a5_5d7f_4889_a1ec_3a66cd4171b2","uuid":"78a253ec-60c4-48c4-923e-6e7b20c2a2f9"},"name":"SYS_GEN__Runbook_Package_2acd82a5_5d7f_4889_a1ec_3a66cd4171b2"}},{"description":"System action for stopping an application","message_list":[],"uuid":"57086f3a-8aa2-4a4d-b5a3-03aef54d8d5e","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureMySQLPkg","uuid":"2acd82a5-5d7f-4889-a1ec-3a66cd4171b2"},"retries":"0","description":"","type":"DAG","uuid":"05a070db-c445-4f5a-b643-a4dba6d94f7e","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c","uuid":"19f1df0d-423f-4f6c-adfb-39a3710a89f6"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_2acd82a5_5d7f_4889_a1ec_3a66cd4171b2"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"19f1df0d-423f-4f6c-adfb-39a3710a89f6","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"534c563f_runbook","uuid":"fa558656-179d-42a9-8b13-80552295db71"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_3f3ee43f_bcb5_4dbf_9f67_d048acca1f6c"}],"description":"","message_list":[],"uuid":"6331d566-08e0-4d1c-a202-1d7ad1ed8e58","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_2acd82a5_5d7f_4889_a1ec_3a66cd4171b2","uuid":"05a070db-c445-4f5a-b643-a4dba6d94f7e"},"name":"SYS_GEN__Runbook_Package_2acd82a5_5d7f_4889_a1ec_3a66cd4171b2"}}],"message_list":[],"service_local_reference_list":[{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"}],"uuid":"2acd82a5-5d7f-4889-a1ec-3a66cd4171b2","state":"ACTIVE","version":"","editables":{},"type":"DEB","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureMySQLPkg","uuid":"2acd82a5-5d7f-4889-a1ec-3a66cd4171b2"},"retries":"0","description":"","type":"DAG","uuid":"867787d9-5aad-4283-a62b-55fbbbe44b79","child_tasks_local_reference_list":[{"kind":"app_task","name":"Install System Packages","uuid":"64ce22aa-2299-4dd4-bb5c-91090e304cc4"},{"kind":"app_task","name":"Install MySQL","uuid":"852e3a24-524f-4d12-81d8-0abfadc748b5"},{"kind":"app_task","name":"Setup MySQL","uuid":"19512fc3-4d0d-4a57-a39f-a5928651c0fd"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"852e3a24-524f-4d12-81d8-0abfadc748b5"},"edge_type":"user_defined","type":"","uuid":"f806d291-71b6-42e5-b418-23ef9773f25e","to_task_reference":{"kind":"app_task","name":"Setup MySQL","uuid":"19512fc3-4d0d-4a57-a39f-a5928651c0fd"}},{"from_task_reference":{"kind":"app_task","name":"Install System Packages","uuid":"64ce22aa-2299-4dd4-bb5c-91090e304cc4"},"edge_type":"user_defined","type":"","uuid":"9c850c61-c3e8-416a-b222-f2d152aec9d7","to_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"852e3a24-524f-4d12-81d8-0abfadc748b5"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"80e631b8_dag"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"EXEC","uuid":"64ce22aa-2299-4dd4-bb5c-91090e304cc4","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n# -*- Install Mysql\nsudo yum update -y --quiet\nsudo yum install -y  htop wget iotop xfs* bc unzip lvm2*\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"System packages are installed\"","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"d2eec46b-8fe8-4b34-9979-e0807d4717c1"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install System Packages"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"EXEC","uuid":"852e3a24-524f-4d12-81d8-0abfadc748b5","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nsudo hostnamectl set-hostname \"@@{name}@@\"\n\n# -*- Mysql installation \nsudo yum install -y --quiet \"http:\/\/repo.mysql.com\/mysql80-community-release-el7.rpm\"\nsudo yum update -y --quiet\nsudo yum install -y --quiet sshpass mysql-community-server.x86_64\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"d2eec46b-8fe8-4b34-9979-e0807d4717c1"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install MySQL"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","type":"EXEC","uuid":"19512fc3-4d0d-4a57-a39f-a5928651c0fd","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\necho \"!includedir \/etc\/my.cnf.d\" | sudo tee -a \/etc\/my.cnf\n\necho \"[mysqld]\nbinlog-format=mixed\nlog-bin=mysql-bin\ndatadir=\/mysql\/data\nsql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES\ninnodb_data_home_dir = \/mysql\/data\ninnodb_log_group_home_dir = \/mysql\/log\ninnodb_file_per_table\ntmpdir=\/mysql\/tmpdir\ninnodb_undo_directory = \/mysql\/undo\ndefault-storage-engine = innodb\ndefault_tmp_storage_engine = innodb\ninnodb_log_files_in_group = 4\ninnodb_log_file_size = 1G\ninnodb_log_buffer_size = 8M\ninnodb_buffer_pool_size = 6G\t\nlarge-pages\t\ninnodb_buffer_pool_instances = 64\t\ninnodb_flush_method=O_DIRECT\t\ninnodb_flush_neighbors=0\t \ninnodb_flush_log_at_trx_commit=1\ninnodb_buffer_pool_dump_at_shutdown=1\t\ninnodb_buffer_pool_load_at_startup=1\t\nbulk_insert_buffer_size = 256\t\ninnodb_thread_concurrency = 16\t\n \t \n# Undo tablespace\t \ninnodb_undo_tablespaces = 5\t\n \t \n# Networking\t \nwait_timeout=57600\t \nmax_allowed_packet=1G\t\nsocket=\/var\/lib\/mysql\/mysql.sock\t \nskip-name-resolve\nport=3306\t\nmax_connections=1000\t\n\n\n[mysqld_safe]\nlog-error=\/mysql\/log\/mysqld.log\npid-file=\/var\/run\/mysqld\/mysqld.pid\" | sudo tee \/etc\/my.cnf.d\/nutanix.cnf\n\nsudo sed -i \"\/\\[mysqld\\]\/a server-id=100\" \/etc\/my.cnf.d\/nutanix.cnf\n\nsudo mkdir -p \/mysql\/log \/mysql\/data \/mysql\/tmpdir \/mysql\/undo\nsudo chown -R mysql:mysql \/mysql\n\nsudo systemctl enable mysqld\n\nsudo rm -rf \/mysql\/data\/*\nsudo systemctl start mysqld\n\n#Fix to obtain temp password and set it to blank\npassword=$(grep -oP 'temporary password(.*): \\K(\\S+)' \/var\/log\/mysqld.log)\nsudo mysqladmin --user=root --password=\"$password\" password aaBB**cc1122\nsudo mysql --user=root --password=aaBB**cc1122 -e \"UNINSTALL COMPONENT 'file:\/\/component_validate_password'\"\nsudo mysqladmin --user=root --password=\"aaBB**cc1122\" password \"\"\n\n\n#Mysql secure installation\nsudo mysql -u root<<-EOF\nALTER USER 'root'@'localhost' IDENTIFIED WITH caching_sha2_password BY '@@{MYSQL_PASSWORD}@@';\nDELETE FROM mysql.user WHERE User='root' AND Host NOT IN ('localhost', '127.0.0.1', '::1');\nDELETE FROM mysql.user WHERE User='';\nDELETE FROM mysql.db WHERE Db='test' OR Db='test\\_%';\nFLUSH PRIVILEGES;\nEOF\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"d2eec46b-8fe8-4b34-9979-e0807d4717c1"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Setup MySQL"}],"description":"","message_list":[],"uuid":"afc69ed7-3715-43da-816c-fdba3959c395","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"80e631b8_dag","uuid":"867787d9-5aad-4283-a62b-55fbbbe44b79"},"name":"09997356_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureMySQLPkg","uuid":"2acd82a5-5d7f-4889-a1ec-3a66cd4171b2"},"retries":"0","description":"","type":"DAG","uuid":"0f23161a-1b69-488a-92ac-bd514b87bf5e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"bcfa2a89_dag"}],"description":"","message_list":[],"uuid":"a0dc59ff-f79f-4861-8fe5-14cd990bc3c5","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"bcfa2a89_dag","uuid":"0f23161a-1b69-488a-92ac-bd514b87bf5e"},"name":"c83478b6_runbook"}},"variable_list":[],"name":"AzureMySQLPkg"}]},"name":"mysql_singlenode"},"spec":{"name":"mysql_singlenode","resources":{"service_definition_list":[{"singleton":false,"uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c","action_list":[{"uuid":"4d9d803d-47bb-4cc9-a1a8-8a466d4a8c47","name":"action_create","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","uuid":"d8906211-2bcd-479f-8fd4-ebad7e3a8823","child_tasks_local_reference_list":[],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"14c8fe8d_dag"}],"uuid":"1f2c9854-fd61-4d80-a059-2670f4aa3ba3","description":"","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"14c8fe8d_dag","uuid":"d8906211-2bcd-479f-8fd4-ebad7e3a8823"},"name":"f603ab76_runbook"},"type":"system","description":"System action for creating an application"},{"uuid":"13263f88-13a4-4a79-9b6d-e04c253399f9","name":"action_delete","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","uuid":"6488170a-bd8a-4c8e-b868-b78add448bcd","child_tasks_local_reference_list":[],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"6268e978_dag"}],"uuid":"15541983-ff20-4829-b0c7-aff046fa0beb","description":"","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"6268e978_dag","uuid":"6488170a-bd8a-4c8e-b868-b78add448bcd"},"name":"d738eefe_runbook"},"type":"system","description":"System action for deleting an application. Deletes created VMs as well"},{"uuid":"14dda7d3-359b-4a42-b97b-a05e350c3188","name":"action_start","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","uuid":"0edd0e60-aae3-41a8-b0fe-8c9c35bf6445","child_tasks_local_reference_list":[],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"11f7e9b6_dag"}],"uuid":"a0ae1241-f6d5-470e-b065-dfde29b2bbf2","description":"","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"11f7e9b6_dag","uuid":"0edd0e60-aae3-41a8-b0fe-8c9c35bf6445"},"name":"7748f46a_runbook"},"type":"system","description":"System action for starting an application"},{"uuid":"fe6d47bd-8ea9-4316-9ce9-dd66bacdc0ef","name":"action_stop","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","uuid":"24cf30bd-f277-4af5-b1aa-de08014b40f0","child_tasks_local_reference_list":[],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"52def80e_dag"}],"uuid":"fa558656-179d-42a9-8b13-80552295db71","description":"","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"52def80e_dag","uuid":"24cf30bd-f277-4af5-b1aa-de08014b40f0"},"name":"534c563f_runbook"},"type":"system","description":"System action for stopping an application"},{"uuid":"d60c5e6e-674b-48f9-bf85-45db344f8053","name":"action_restart","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","uuid":"83575169-5e27-4b23-bcec-ecf973c6658f","child_tasks_local_reference_list":[],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"1b587922_dag"}],"uuid":"1da5d6b4-d3df-4a19-942c-e6e85b650e34","description":"","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"1b587922_dag","uuid":"83575169-5e27-4b23-bcec-ecf973c6658f"},"name":"e9d7de80_runbook"},"type":"system","description":"System action for restarting an application"}],"description":"","depends_on_list":[],"port_list":[],"tier":"","variable_list":[],"name":"MySQL"}],"substrate_definition_list":[{"description":"","action_list":[],"uuid":"9345b001-1f0f-4c88-9565-74711df70607","readiness_probe":{"connection_type":"SSH","retries":"5","disable_readiness_probe":false,"timeout_secs":"300","address":"@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@","delay_secs":"0","connection_port":22,"login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"d2eec46b-8fe8-4b34-9979-e0807d4717c1"}},"editables":{"readiness_probe":{"connection_type":true,"connection_port":true,"timeout_secs":true},"create_spec":{"resources":{"nic_list":{},"serial_port_list":{},"num_vcpus_per_socket":true,"num_sockets":true,"memory_size_mib":true,"guest_customization":true,"disk_list":{}}}},"os_type":"Linux","type":"AHV_VM","create_spec":{"name":"mysql-@@{calm_array_index}@@-@@{calm_time}@@","categories":"","availability_zone_reference":null,"backup_policy":null,"type":"","cluster_reference":null,"resources":{"nic_list":[],"serial_port_list":[],"guest_tools":null,"num_vcpus_per_socket":2,"num_sockets":2,"gpu_list":[],"memory_size_mib":8192,"parent_reference":null,"hardware_clock_timezone":"","guest_customization":{"cloud_init":{"meta_data":"","type":"","user_data":"#cloud-config\nusers:\n  - name: centos\n    ssh-authorized-keys:\n      - @@{INSTANCE_PUBLIC_KEY}@@\n    sudo: ['ALL=(ALL) NOPASSWD:ALL']"},"type":"","sysprep":null},"power_state":"ON","type":"","boot_config":{"boot_device":{"type":"","disk_address":{"adapter_type":"SCSI","device_index":0,"type":""}},"type":"","mac_address":""},"disk_list":[{"data_source_reference":{"kind":"app_package","type":"","name":"CENTOS_IMAGE","uuid":"06d5e9f9-391c-498e-9de1-92702f93694d"},"type":"","disk_size_mib":0,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":0,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":51200,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":1,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":51200,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":2,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":51200,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":3,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":51200,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":4,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":25600,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":5,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":25600,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":6,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":25600,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":7,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":25600,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":8,"type":""}}}]}},"variable_list":[],"name":"AHVMySQL"},{"description":"","action_list":[],"uuid":"af5b340a-264c-437c-bc6b-1749e819544f","readiness_probe":{"connection_type":"SSH","retries":"5","disable_readiness_probe":false,"timeout_secs":"300","address":"@@{public_ip_address}@@","delay_secs":"0","connection_port":22,"login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"d2eec46b-8fe8-4b34-9979-e0807d4717c1"}},"editables":{"readiness_probe":{"connection_type":true,"connection_port":true,"timeout_secs":true},"create_spec":{"name":true,"resources":{"instance_profile_name":true,"availability_zone":true,"subnet_id":true,"key_name":true,"region":true,"image_id":true,"instance_type":true,"security_group_list":true,"block_device_map":{"data_disk_list":{"1":{"size_gb":true},"0":{"size_gb":true},"3":{"size_gb":true},"2":{"size_gb":true},"5":{"size_gb":true},"4":{"size_gb":true},"7":{"size_gb":true},"6":{"size_gb":true}},"root_disk":{"size_gb":true}},"associate_public_ip_address":true,"vpc_id":true,"tag_list":true}}},"os_type":"Linux","type":"AWS_VM","create_spec":{"name":"mysql-@@{calm_array_index}@@-@@{calm_time}@@","availability_zone_reference":null,"backup_policy":null,"type":"PROVISION_AWS_VM","cluster_reference":null,"resources":{"instance_profile_name":"","availability_zone":"","subnet_id":"","key_name":"","region":"","instance_initiated_shutdown_behavior":"","user_data":"","image_id":"","instance_type":"","state":"RUNNING","security_group_list":[{"type":"","security_group_id":""}],"block_device_map":{"data_disk_list":[{"size_gb":50,"volume_type":"GP2","device_name":"\/dev\/sdb","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":50,"volume_type":"GP2","device_name":"\/dev\/sdc","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":50,"volume_type":"GP2","device_name":"\/dev\/sdd","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":50,"volume_type":"GP2","device_name":"\/dev\/sde","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":25,"volume_type":"GP2","device_name":"\/dev\/sdf","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":25,"volume_type":"GP2","device_name":"\/dev\/sdg","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":25,"volume_type":"GP2","device_name":"\/dev\/sdh","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":25,"volume_type":"GP2","device_name":"\/dev\/sdi","iops":1,"snapshot_id":"","type":"","delete_on_termination":true}],"type":"","root_disk":{"size_gb":20,"volume_type":"GP2","device_name":"\/dev\/sda1","iops":1,"snapshot_id":"","type":"","delete_on_termination":true}},"private_ip_address":"","vpc_id":"","tag_list":[],"type":"","account_uuid":"8c2e0a6b-620a-c62a-c3f4-e58b101dfd0d","associate_public_ip_address":true}},"variable_list":[],"name":"AWSMySQL"},{"description":"","action_list":[],"uuid":"f830e0ae-c36f-45a3-b503-b8f783ccaa41","readiness_probe":{"connection_type":"SSH","retries":"5","disable_readiness_probe":false,"timeout_secs":"300","address":"@@{public_ip_address}@@","delay_secs":"0","connection_port":22,"login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"d2eec46b-8fe8-4b34-9979-e0807d4717c1"}},"editables":{"readiness_probe":{"connection_type":true,"connection_port":true,"timeout_secs":true},"create_spec":{"resources":{"machineType":true,"name":true,"tags":{"items":true},"labels":true,"blankDisks":{"1":{"disk_type":true,"name":true,"sizeGb":true,"autoDelete":true},"0":{"disk_type":true,"name":true,"sizeGb":true,"autoDelete":true},"3":{"disk_type":true,"name":true,"sizeGb":true,"autoDelete":true},"2":{"disk_type":true,"name":true,"sizeGb":true,"autoDelete":true},"5":{"disk_type":true,"name":true,"sizeGb":true,"autoDelete":true},"4":{"disk_type":true,"name":true,"sizeGb":true,"autoDelete":true},"7":{"disk_type":true,"name":true,"sizeGb":true,"autoDelete":true},"6":{"disk_type":true,"name":true,"sizeGb":true,"autoDelete":true}},"sshKeys":{"0":true},"serviceAccounts":{"0":{"scopes":true}},"metadata":{"items":true}}}},"os_type":"Linux","type":"GCP_VM","create_spec":{"type":"PROVISION_GCP_VM","resources":{"labels":[],"machineType":"","description":"","zone":"","tags":{"items":["tensorflow"],"type":"","fingerprint":""},"guestCustomization":{"type":"","sysprep":"","startupScript":""},"labelFingerprint":"","disks":[{"diskEncryptionKey":{},"deviceName":"","initializeParams":{"sourceImageEncryptionKey":{},"diskName":"","diskType":"","diskSizeGb":-1,"sourceImage":"","type":""},"autoDelete":true,"boot":true,"source":"","mode":"","interface":"","disk_type":"PERSISTENT","type":""}],"name":"mysql-@@{calm_array_index}@@-@@{calm_time}@@","sshKeys":["centos:ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDMGAS\/K0Mb\/uwFXwD+hkjguy7VMZk2hpuhwPl9FUZwVBrURf\/i9QMJ5\/paPEZixu8VlRx7Inu4iun7rQfrnfeIYInmBwspXHYiTK3oHJAgZnrAHVEf1p6YaxLINlT1NI5yOAGPRWW6of8rBDBH1ObwU2+wcSx\/1H0uIs3aZNLufr+Rh628ACxAum2Gt8AVRj6ua2BPFyt5VTdclyysAmeh1AiixNgOZXOz6y\/i4TbzpY78I3isuKpxsUeXX6jxEMQol406jHDUF6njEOPIQG2zVZ3QJlTG9OlN+NiyZG9WkZz0VG\/6M8ixxIHHI2dNwUbBFv2HUu+8X9LTLFq2O7KjX9Hp7uZKBAySHA3eKaKHIp2bZuU1bT5PRPkggngX86xg+T+OMNnutbAiMnRJ8+FvD5So+5TIx4b9GgxAxure3x2yRPT9lOiQOB+CVpJPxR0Rn9bOI+wiPnD0kAGvK\/fHT+pqL4PM+hTnJtp9rrCRzIQApBx1263jEcYffhW2epZQRO+he5CMawFJ5TBe08om2AaDJ8GQdrpF6YA3W8DzHbmL3DPVVHdmqPLn10o+LX4gv5SdIIDVGdjKOc1BCnLTRmM28d5+sLDt\/M+kvcQgf0y0yDjMVjGECZkt39hbm4ELMHzZtzYLmHNhBZxRqHeJ7qFTuv1kx88OW3Xc5mbBNQ== centos@nutanix.com\n"],"canIpForward":false,"scheduling":{"automaticRestart":true,"type":"","preemptible":false,"onHostMaintenance":"TERMINATE"},"minCpuPlatform":"","blankDisks":[{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-single-disk0-@@{calm_time}@@","sizeGb":50,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-single-disk1-@@{calm_time}@@","sizeGb":50,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-single-disk2-@@{calm_time}@@","sizeGb":50,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-single-disk3-@@{calm_time}@@","sizeGb":50,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-single-disk4-@@{calm_time}@@","sizeGb":25,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-single-disk5-@@{calm_time}@@","sizeGb":25,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-single-disk6-@@{calm_time}@@","sizeGb":25,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-single-disk7-@@{calm_time}@@","sizeGb":25,"autoDelete":true}],"metadata":{"items":[],"type":"","fingerprint":""},"type":"","account_uuid":"84213a31-4fe8-7e39-3799-e093e5d0dc2e","serviceAccounts":[{"scopes":[],"type":"","email":"108048128720-compute@developer.gserviceaccount.com"}],"networkInterfaces":[{"aliasIpRanges":[],"network":"","accessConfigs":[{"config_type":"ONE_TO_ONE_NAT","type":"","name":"lin-default-acn","natIP":""}],"networkIP":"","subnetwork":"","type":""}]}},"variable_list":[],"name":"GCPMySQL"},{"description":"","action_list":[],"uuid":"2849954f-21f7-407c-a833-348e446d71f4","readiness_probe":{"connection_type":"SSH","retries":"5","disable_readiness_probe":false,"timeout_secs":"300","address":"@@{platform.publicIPAddressList[0]}@@","delay_secs":"60","connection_port":22,"login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"d2eec46b-8fe8-4b34-9979-e0807d4717c1"}},"editables":{"readiness_probe":{"connection_type":true,"delay_secs":true,"connection_port":true,"timeout_secs":null},"create_spec":{"resources":{"vm_name":true,"storage_profile":{"is_managed":true,"image_details":{"sku":true,"publisher":true,"offer":true,"source_image_id":true,"use_custom_image":true,"version":true},"os_disk_details":{"storage_type":true,"create_option":true,"caching_type":true,"name":true}},"nw_profile":{"nic_list":{"0":{"nsg_name":true,"vnet_name":true,"private_ip_info":{"ip_allocation_method":true},"nic_name":true,"subnet_name":true,"public_ip_info":{"ip_allocation_method":true,"dns_label":true,"ip_name":true}}}},"resource_group":true,"os_profile":{"linux_config":{"custom_data":true}},"hw_profile":{"vm_size":true},"location":true,"availability_set_id":true,"tag_list":true}}},"os_type":"Linux","type":"AZURE_VM","create_spec":{"type":"PROVISION_AZURE_VM","name":"","resources":{"vm_name":"mysql-@@{calm_unique_hash}@@-@@{calm_array_index}@@","storage_profile":{"is_managed":true,"data_disk_list":[],"type":"","os_disk_details":{"size_in_gb":127,"name":"os-@@{calm_unique_hash}@@-@@{calm_array_index}@@-disk","storage_name":"","storage_type":"Standard_LRS","caching_type":"ReadWrite","type":"","create_option":"FromImage","lun":-1},"image_details":{"sku":"","publisher":"","offer":"","source_image_id":"","use_custom_image":false,"version":"","type":""}},"nw_profile":{"nic_list":[{"vnet_name":"","nsg_name":"","private_ip_info":{"ip_address":"","ip_allocation_method":"Dynamic","type":""},"nic_name":"nic-@@{calm_unique_hash}@@-@@{calm_array_index}@@-0","subnet_name":"","type":"","public_ip_info":{"ip_allocation_method":"Dynamic","dns_label":"dns-@@{calm_unique_hash}@@-@@{calm_array_index}@@-0","ip_name":"public-ip-@@{calm_unique_hash}@@-@@{calm_array_index}@@-0","type":""}}],"primary_nic":-1,"type":""},"resource_group":"","os_profile":{"secrets":[],"type":"","windows_config":{"winrm_listeners":[],"time_zone":"","additional_unattend_content":[],"provision_vm_agent":true,"auto_updates":false,"type":""},"linux_config":{"public_keys":[],"type":"","disable_password_auth":false,"custom_data":""}},"hw_profile":{"max_data_disk_count":0,"vm_size":"","type":""},"location":"","availability_set_id":"","tag_list":[],"type":"","account_uuid":""}},"variable_list":[],"name":"AZUREMySQL"}],"credential_definition_list":[{"username":"centos","description":"","uuid":"d2eec46b-8fe8-4b34-9979-e0807d4717c1","secret":{"attrs":{"is_secret_modified":false,"secret_reference":{"uuid":"745ab2e9-9a0e-4d3d-9dd0-9ed7e0213253"}}},"editables":{"username":true,"secret":true},"type":"KEY","name":"CENTOS"}],"type":"USER","app_profile_list":[{"deployment_create_list":[{"description":"","action_list":[],"package_local_reference_list":[{"kind":"app_package","name":"AHVMySQLPackage","uuid":"f79f4aeb-2b78-48d4-9d73-9e4acc214df1"}],"uuid":"14f9523d-6a63-4e49-8169-b325a27b9c4b","min_replicas":"1","max_replicas":"1","substrate_local_reference":{"kind":"app_substrate","name":"AHVMySQL","uuid":"9345b001-1f0f-4c88-9565-74711df70607"},"type":"GREENFIELD","variable_list":[],"name":"3dde34f6_deployment"}],"uuid":"744d3905-7b29-4a46-8813-181ab6da4b69","action_list":[{"uuid":"bb9a08fe-833c-4a38-8905-e4131332e196","name":"Backup","critical":false,"runbook":{"task_definition_list":[{"retries":"0","description":"","uuid":"c6e17aa1-8c75-4a16-a4ab-1e8cc4cf7ef5","child_tasks_local_reference_list":[{"kind":"app_task","name":"Do DB Backup","uuid":"efefaa6c-eac3-4d0a-b5e4-da21b8f3ee7a"}],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"cad80330_dag"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","uuid":"efefaa6c-eac3-4d0a-b5e4-da21b8f3ee7a","child_tasks_local_reference_list":[],"attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n### Setup variables\nmysql_password=\"@@{MYSQL_PASSWORD}@@\"\ndate_part=`date +%F`\nmkdir -p @@{BACKUP_FILE_PATH}@@\nsudo mysqldump -u root -p${mysql_password} --all-databases | sudo gzip -9 > @@{BACKUP_FILE_PATH}@@\/db_dump.sql.gz","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"d2eec46b-8fe8-4b34-9979-e0807d4717c1"},"type":"","command_line_args":"","script_type":"sh"},"timeout_secs":"0","type":"EXEC","variable_list":[],"name":"Do DB Backup"}],"uuid":"b1cd8e70-944f-42fd-a436-1d3d759bc42e","description":"","variable_list":[{"val_type":"STRING","description":"","uuid":"e816da56-322f-4dce-b4c3-b51eb3310360","value":"~\/db_backup","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","name":"BACKUP_FILE_PATH"}],"main_task_local_reference":{"kind":"app_task","name":"cad80330_dag","uuid":"c6e17aa1-8c75-4a16-a4ab-1e8cc4cf7ef5"},"name":"5f2baec7_runbook"},"type":"user","description":"Take DB Backup. Specify absolute directory path for BACKUP_FILE_PATH"},{"uuid":"b02f3838-ecaf-4751-87fd-c3e25f383f69","name":"Restore","critical":false,"runbook":{"task_definition_list":[{"retries":"0","description":"","uuid":"ab336768-1927-4c63-9f38-29fbb7016554","child_tasks_local_reference_list":[{"kind":"app_task","name":"Do DB Restore","uuid":"a1638a2b-0087-433c-a5ec-4701f6fc4173"}],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"f0946ced_dag"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","uuid":"a1638a2b-0087-433c-a5ec-4701f6fc4173","child_tasks_local_reference_list":[],"attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n### Setup variables\nmysql_password=\"@@{MYSQL_PASSWORD}@@\"\ndb_file=@@{RESTORE_FILE_PATH}@@\n\nsudo gunzip < $db_file | sudo mysql -u root -p${mysql_password} ","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"d2eec46b-8fe8-4b34-9979-e0807d4717c1"},"type":"","command_line_args":"","script_type":"sh"},"timeout_secs":"0","type":"EXEC","variable_list":[],"name":"Do DB Restore"}],"uuid":"466fd892-eb79-42da-84ba-d8442649d453","description":"","variable_list":[{"val_type":"STRING","description":"","uuid":"e60b668c-ad69-41ee-8b34-303e58ad9071","value":"~\/db_backup\/db_dump.sql.gz","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","name":"RESTORE_FILE_PATH"}],"main_task_local_reference":{"kind":"app_task","name":"f0946ced_dag","uuid":"ab336768-1927-4c63-9f38-29fbb7016554"},"name":"0734309b_runbook"},"type":"user","description":"To restore DB from dump file. Specify absolute directory path for RESTORE_FILE_PATH"}],"description":"","variable_list":[{"val_type":"STRING","description":"","uuid":"eb1a6848-5871-42e8-bacc-40668161b0c3","value":"ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDMGAS\/K0Mb\/uwFXwD+hkjguy7VMZk2hpuhwPl9FUZwVBrURf\/i9QMJ5\/paPEZixu8VlRx7Inu4iun7rQfrnfeIYInmBwspXHYiTK3oHJAgZnrAHVEf1p6YaxLINlT1NI5yOAGPRWW6of8rBDBH1ObwU2+wcSx\/1H0uIs3aZNLufr+Rh628ACxAum2Gt8AVRj6ua2BPFyt5VTdclyysAmeh1AiixNgOZXOz6y\/i4TbzpY78I3isuKpxsUeXX6jxEMQol406jHDUF6njEOPIQG2zVZ3QJlTG9OlN+NiyZG9WkZz0VG\/6M8ixxIHHI2dNwUbBFv2HUu+8X9LTLFq2O7KjX9Hp7uZKBAySHA3eKaKHIp2bZuU1bT5PRPkggngX86xg+T+OMNnutbAiMnRJ8+FvD5So+5TIx4b9GgxAxure3x2yRPT9lOiQOB+CVpJPxR0Rn9bOI+wiPnD0kAGvK\/fHT+pqL4PM+hTnJtp9rrCRzIQApBx1263jEcYffhW2epZQRO+he5CMawFJ5TBe08om2AaDJ8GQdrpF6YA3W8DzHbmL3DPVVHdmqPLn10o+LX4gv5SdIIDVGdjKOc1BCnLTRmM28d5+sLDt\/M+kvcQgf0y0yDjMVjGECZkt39hbm4ELMHzZtzYLmHNhBZxRqHeJ7qFTuv1kx88OW3Xc5mbBNQ== centos@nutanix.com","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","name":"INSTANCE_PUBLIC_KEY"},{"val_type":"STRING","description":"","uuid":"90a7ac72-164c-42a3-b96e-116906bfb518","label":"","attrs":{"is_secret_modified":true,"secret_reference":{"uuid":"8164e061-be56-4a76-9a31-9cbb3fa4b1cd"}},"editables":{"value":true},"type":"SECRET","name":"MYSQL_PASSWORD"}],"name":"Nutanix"},{"deployment_create_list":[{"description":"","action_list":[],"package_local_reference_list":[{"kind":"app_package","name":"AWSMySQLPackage","uuid":"27f5243f-d06d-4d95-b0ea-0bf734f7f2e8"}],"uuid":"ba2c29f6-7b39-4698-a160-aa387b432ada","min_replicas":"1","max_replicas":"1","substrate_local_reference":{"kind":"app_substrate","name":"AWSMySQL","uuid":"af5b340a-264c-437c-bc6b-1749e819544f"},"type":"GREENFIELD","variable_list":[],"name":"4e6388ed_deployment"}],"uuid":"a7bc7bb9-8257-4e93-a10b-c0bcdc8a30e7","action_list":[{"uuid":"fa57e38d-96a3-4eb7-b7b1-f40914531e17","name":"Backup","critical":false,"runbook":{"task_definition_list":[{"retries":"0","description":"","uuid":"37de2d8e-6521-43ae-8211-ec119bbba0b4","child_tasks_local_reference_list":[{"kind":"app_task","name":"Do DB Backup","uuid":"f83b5431-d1fd-4874-94e7-19cf85020372"}],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"6cda1b21_dag"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","uuid":"f83b5431-d1fd-4874-94e7-19cf85020372","child_tasks_local_reference_list":[],"attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n### Setup variables\nmysql_password=\"@@{MYSQL_PASSWORD}@@\"\ndate_part=`date +%F`\nmkdir -p @@{BACKUP_FILE_PATH}@@\nsudo mysqldump -u root -p${mysql_password} --all-databases | sudo gzip -9 > @@{BACKUP_FILE_PATH}@@\/db_dump.sql.gz","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"d2eec46b-8fe8-4b34-9979-e0807d4717c1"},"type":"","command_line_args":"","script_type":"sh"},"timeout_secs":"0","type":"EXEC","variable_list":[],"name":"Do DB Backup"}],"uuid":"d2e24a51-d190-42fd-aae0-26c551ea8d11","description":"","variable_list":[{"val_type":"STRING","description":"","uuid":"dd08aca7-63e2-4673-b781-a95ca1abd253","value":"~\/db_backup","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","name":"BACKUP_FILE_PATH"}],"main_task_local_reference":{"kind":"app_task","name":"6cda1b21_dag","uuid":"37de2d8e-6521-43ae-8211-ec119bbba0b4"},"name":"067dea48_runbook"},"type":"user","description":"Take DB Backup. Specify absolute directory path for BACKUP_FILE_PATH"},{"uuid":"28429ac8-b560-4772-bfe5-b99ca412b98f","name":"Restore","critical":false,"runbook":{"task_definition_list":[{"retries":"0","description":"","uuid":"aaf26284-6499-4ff4-bfdb-b6f0c38b9538","child_tasks_local_reference_list":[{"kind":"app_task","name":"Do DB Restore","uuid":"77d449f2-e1f1-4d34-b5ef-311f565cb063"}],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"808f871f_dag"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","uuid":"77d449f2-e1f1-4d34-b5ef-311f565cb063","child_tasks_local_reference_list":[],"attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n### Setup variables\nmysql_password=\"@@{MYSQL_PASSWORD}@@\"\ndb_file=@@{RESTORE_FILE_PATH}@@\n\nsudo gunzip < $db_file | sudo mysql -u root -p${mysql_password} ","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"d2eec46b-8fe8-4b34-9979-e0807d4717c1"},"type":"","command_line_args":"","script_type":"sh"},"timeout_secs":"0","type":"EXEC","variable_list":[],"name":"Do DB Restore"}],"uuid":"f7a605ec-b9c6-494c-9f56-6d41273b5faf","description":"","variable_list":[{"val_type":"STRING","description":"","uuid":"ab5e0dbc-aa1b-4ea5-9206-52524106dcd0","value":"~\/db_backup\/db_dump.sql.gz","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","name":"RESTORE_FILE_PATH"}],"main_task_local_reference":{"kind":"app_task","name":"808f871f_dag","uuid":"aaf26284-6499-4ff4-bfdb-b6f0c38b9538"},"name":"83fab6fc_runbook"},"type":"user","description":"To restore DB from dump file. Specify absolute directory path for RESTORE_FILE_PATH"}],"description":"","variable_list":[{"val_type":"STRING","description":"","uuid":"01d95f3a-0b87-4df0-94c1-5537fcf7fa1f","label":"","attrs":{"is_secret_modified":true,"secret_reference":{"uuid":"9bba2e63-0215-4c4c-b6db-c53d379442fd"}},"editables":{"value":true},"type":"SECRET","name":"MYSQL_PASSWORD"}],"name":"AWS"},{"deployment_create_list":[{"description":"","action_list":[],"package_local_reference_list":[{"kind":"app_package","name":"GCPMySQLPackage","uuid":"a23c2259-dd5c-4063-b54f-6af67ce60ee9"}],"uuid":"705e1628-66ee-4aa5-b9a7-85c51df4cd20","min_replicas":"1","max_replicas":"1","substrate_local_reference":{"kind":"app_substrate","name":"GCPMySQL","uuid":"f830e0ae-c36f-45a3-b503-b8f783ccaa41"},"type":"GREENFIELD","variable_list":[],"name":"aa7d4c13_deployment"}],"uuid":"9cecccd7-99f2-4c5d-a0a6-90422037acb0","action_list":[{"uuid":"5c4a65a5-a0d9-4f02-9b5d-db291019681c","name":"Backup","critical":false,"runbook":{"task_definition_list":[{"retries":"0","description":"","uuid":"0e2155a3-8f21-4dc0-849b-63281f97f330","child_tasks_local_reference_list":[{"kind":"app_task","name":"Do DB Backup","uuid":"d6051676-dd9a-4679-9c4b-cb1d76cc7929"}],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"05928d59_dag"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","uuid":"d6051676-dd9a-4679-9c4b-cb1d76cc7929","child_tasks_local_reference_list":[],"attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n### Setup variables\nmysql_password=\"@@{MYSQL_PASSWORD}@@\"\ndate_part=`date +%F`\nmkdir -p @@{BACKUP_FILE_PATH}@@\nsudo mysqldump -u root -p${mysql_password} --all-databases | sudo gzip -9 > @@{BACKUP_FILE_PATH}@@\/db_dump.sql.gz","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"d2eec46b-8fe8-4b34-9979-e0807d4717c1"},"type":"","command_line_args":"","script_type":"sh"},"timeout_secs":"0","type":"EXEC","variable_list":[],"name":"Do DB Backup"}],"uuid":"cf5e8314-40df-48cf-bad7-d06c9743013b","description":"","variable_list":[{"val_type":"STRING","description":"","uuid":"cd37c0ea-1113-494c-a99c-a7af6ffe55f1","value":"~\/db_backup","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","name":"BACKUP_FILE_PATH"}],"main_task_local_reference":{"kind":"app_task","name":"05928d59_dag","uuid":"0e2155a3-8f21-4dc0-849b-63281f97f330"},"name":"b9264f75_runbook"},"type":"user","description":"Take DB Backup. Specify absolute directory path for BACKUP_FILE_PATH"},{"uuid":"4e9a5638-cc7a-4b84-86ba-51434317f8d5","name":"Restore","critical":false,"runbook":{"task_definition_list":[{"retries":"0","description":"","uuid":"a54be491-add7-44b4-b341-69ab4ba1ab2b","child_tasks_local_reference_list":[{"kind":"app_task","name":"Do DB Restore","uuid":"1c43a776-6645-4573-8ffa-4ae863cf97e4"}],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"16ceb0f5_dag"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","uuid":"1c43a776-6645-4573-8ffa-4ae863cf97e4","child_tasks_local_reference_list":[],"attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n### Setup variables\nmysql_password=\"@@{MYSQL_PASSWORD}@@\"\ndb_file=@@{RESTORE_FILE_PATH}@@\n\nsudo gunzip < $db_file | sudo mysql -u root -p${mysql_password} ","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"d2eec46b-8fe8-4b34-9979-e0807d4717c1"},"type":"","command_line_args":"","script_type":"sh"},"timeout_secs":"0","type":"EXEC","variable_list":[],"name":"Do DB Restore"}],"uuid":"2e724144-9f94-4a5d-b5c7-ca34e3cf393f","description":"","variable_list":[{"val_type":"STRING","description":"","uuid":"2eecbd93-8761-4fc7-9235-5c28cc8ad33d","value":"~\/db_backup\/db_dump.sql.gz","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","name":"RESTORE_FILE_PATH"}],"main_task_local_reference":{"kind":"app_task","name":"16ceb0f5_dag","uuid":"a54be491-add7-44b4-b341-69ab4ba1ab2b"},"name":"48614a3d_runbook"},"type":"user","description":"To restore DB from dump file. Specify absolute directory path for RESTORE_FILE_PATH"}],"description":"","variable_list":[{"val_type":"STRING","description":"","uuid":"a271d081-ce74-4335-986a-b5a536628a8c","label":"","attrs":{"is_secret_modified":true,"secret_reference":{"uuid":"4a463fc8-760d-49cb-9856-4b5c0ffd98e3"}},"editables":{"value":true},"type":"SECRET","name":"MYSQL_PASSWORD"}],"name":"GCP"},{"deployment_create_list":[{"description":"","action_list":[],"package_local_reference_list":[{"kind":"app_package","name":"AzureMySQLPkg","uuid":"2acd82a5-5d7f-4889-a1ec-3a66cd4171b2"}],"uuid":"bf8f7063-f7d6-4b3a-bec4-d8850806a5b5","min_replicas":"1","max_replicas":"1","substrate_local_reference":{"kind":"app_substrate","name":"AZUREMySQL","uuid":"2849954f-21f7-407c-a833-348e446d71f4"},"type":"GREENFIELD","variable_list":[],"name":"1e6de1ed_deployment"}],"uuid":"edeb7407-07bb-44da-947c-514d7197e2fd","action_list":[{"uuid":"b4a54379-eb07-4323-a48b-4a1b8fb44227","name":"Backup","critical":false,"runbook":{"task_definition_list":[{"retries":"0","description":"","uuid":"b0875d0e-c207-4536-9839-d4db4accd381","child_tasks_local_reference_list":[{"kind":"app_task","name":"Do DB Backup","uuid":"41ee375f-6fc2-43d9-9734-ad6cc718b4a4"}],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"9c60040a_dag"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","uuid":"41ee375f-6fc2-43d9-9734-ad6cc718b4a4","child_tasks_local_reference_list":[],"attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n### Setup variables\nmysql_password=\"@@{MYSQL_PASSWORD}@@\"\ndate_part=`date +%F`\nmkdir -p @@{BACKUP_FILE_PATH}@@\nsudo mysqldump -u root -p${mysql_password} --all-databases | sudo gzip -9 > @@{BACKUP_FILE_PATH}@@\/db_dump.sql.gz","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"d2eec46b-8fe8-4b34-9979-e0807d4717c1"},"type":"","command_line_args":"","script_type":"sh"},"timeout_secs":"0","type":"EXEC","variable_list":[],"name":"Do DB Backup"}],"uuid":"cf0e16b4-c574-4916-8f42-3697a669d5d1","description":"","variable_list":[{"val_type":"STRING","description":"","uuid":"13878c6c-eeee-45a0-b33e-332846d800d9","value":"~\/db_backup","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","name":"BACKUP_FILE_PATH"}],"main_task_local_reference":{"kind":"app_task","name":"9c60040a_dag","uuid":"b0875d0e-c207-4536-9839-d4db4accd381"},"name":"c118baac_runbook"},"type":"user","description":"Take DB Backup. Specify absolute directory path for BACKUP_FILE_PATH"},{"uuid":"b3d1b165-81f4-466b-b573-8c7425b776ee","name":"Restore","critical":false,"runbook":{"task_definition_list":[{"retries":"0","description":"","uuid":"ea285b29-d75b-4061-b9ba-eb282a0bb378","child_tasks_local_reference_list":[{"kind":"app_task","name":"Do DB Restore","uuid":"63df6a9e-0c8c-4f3e-b361-f0e6a17152e3"}],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"a7761482_dag"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","description":"","uuid":"63df6a9e-0c8c-4f3e-b361-f0e6a17152e3","child_tasks_local_reference_list":[],"attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n### Setup variables\nmysql_password=\"@@{MYSQL_PASSWORD}@@\"\ndb_file=@@{RESTORE_FILE_PATH}@@\n\nsudo gunzip < $db_file | sudo mysql -u root -p${mysql_password} ","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"d2eec46b-8fe8-4b34-9979-e0807d4717c1"},"type":"","command_line_args":"","script_type":"sh"},"timeout_secs":"0","type":"EXEC","variable_list":[],"name":"Do DB Restore"}],"uuid":"5e1bfd9a-ff6e-4cbf-81a7-b927dfe47716","description":"","variable_list":[{"val_type":"STRING","description":"","uuid":"d4f73046-12f4-405e-8de9-e1bb7312ed83","value":"~\/db_backup\/db_dump.sql.gz","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","name":"RESTORE_FILE_PATH"}],"main_task_local_reference":{"kind":"app_task","name":"a7761482_dag","uuid":"ea285b29-d75b-4061-b9ba-eb282a0bb378"},"name":"3f69af94_runbook"},"type":"user","description":"To restore DB from dump file. Specify absolute directory path for RESTORE_FILE_PATH"}],"description":"","variable_list":[{"val_type":"STRING","description":"","uuid":"b1f44463-db6f-438a-82ac-b8114658c507","label":"","attrs":{"is_secret_modified":true,"secret_reference":{"uuid":"513b4442-8d5b-4342-ba5e-d10efaeceebf"}},"editables":{"value":true},"type":"SECRET","name":"MYSQL_PASSWORD"}],"name":"Azure"}],"default_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"d2eec46b-8fe8-4b34-9979-e0807d4717c1"},"package_definition_list":[{"description":"","action_list":[],"service_local_reference_list":[{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"}],"uuid":"f79f4aeb-2b78-48d4-9d73-9e4acc214df1","version":"","type":"DEB","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVMySQLPackage","uuid":"f79f4aeb-2b78-48d4-9d73-9e4acc214df1"},"retries":"0","name":"d80995e3_dag","type":"DAG","uuid":"981ccb8b-82cc-4aae-9fb6-f282898d17cd","child_tasks_local_reference_list":[{"kind":"app_task","name":"Install System Packages","uuid":"ee78ccf5-636a-46af-90d5-12e2b274a578"},{"kind":"app_task","name":"Create Disk Setup","uuid":"35970f81-a268-419e-bbfe-689638b7d1cc"},{"kind":"app_task","name":"Install MySQL","uuid":"fd9a058a-b64c-4bbe-ae42-c9faf5bfcaa5"},{"kind":"app_task","name":"Setup MySQL","uuid":"c1ee0015-6be1-4149-80e8-349c53415725"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Install System Packages","uuid":"ee78ccf5-636a-46af-90d5-12e2b274a578"},"edge_type":"user_defined","type":"","uuid":"144908f6-306f-470f-b70b-6d8415c26f30","to_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"35970f81-a268-419e-bbfe-689638b7d1cc"}},{"from_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"35970f81-a268-419e-bbfe-689638b7d1cc"},"edge_type":"user_defined","type":"","uuid":"06546000-bea0-4b5c-abbc-e294fb1ff8e6","to_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"fd9a058a-b64c-4bbe-ae42-c9faf5bfcaa5"}},{"from_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"fd9a058a-b64c-4bbe-ae42-c9faf5bfcaa5"},"edge_type":"user_defined","type":"","uuid":"d9de7ac1-7a89-4a60-87a3-96a93e789905","to_task_reference":{"kind":"app_task","name":"Setup MySQL","uuid":"c1ee0015-6be1-4149-80e8-349c53415725"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"description":""},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","name":"Install System Packages","type":"EXEC","uuid":"ee78ccf5-636a-46af-90d5-12e2b274a578","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n# -*- Install Mysql\nsudo yum update -y --quiet\nsudo yum install -y  htop wget iotop xfs* bc unzip lvm2*\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"System packages are installed\"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"d2eec46b-8fe8-4b34-9979-e0807d4717c1"},"type":"","command_line_args":"","script_type":"sh"},"timeout_secs":"0","message_list":[],"variable_list":[],"description":""},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","name":"Create Disk Setup","type":"EXEC","uuid":"35970f81-a268-419e-bbfe-689638b7d1cc","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n##############\n#\n# LVM setup script for MySQL . 4 disks for DATA and 4 for logs\n# Data disks are 50GB | Log disks are 25GB \n#\n#############\n\n\n#PGSQL data\nsudo pvcreate \/dev\/sdb \/dev\/sdc \/dev\/sdd \/dev\/sde\nsudo vgcreate mysqlDataVG \/dev\/sdb \/dev\/sdd \/dev\/sdc \/dev\/sde\nsudo lvcreate -l 100%FREE -i4 -I1M -n mysqlDataLV mysqlDataVG          ## Use 1MB to avoid IO amplification \n#lvcreate -l 100%FREE -i4 -I4M -n pgDataLV pgDataVG\n\n\n#PGSQL logs\nsudo pvcreate \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo vgcreate mysqlLogVG \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo lvcreate -l 100%FREE -i2 -I1M -n mysqlLogLV mysqlLogVG            ## Use 1MB to avoid IO amplification\n#lvcreate -l 100%FREE -i2 -I4M -n pgLogLV pgLogVG\n\n\n#Disable LVM read ahead\nsudo lvchange -r 0 \/dev\/mysqlDataVG\/mysqlDataLV\nsudo lvchange -r 0 \/dev\/mysqlLogVG\/mysqlLogLV\n\n\n#Format LVMs with ext4 and use nodiscard to make sure format time is fast on Nutanix due to SCSI unmap\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlDataVG\/mysqlDataLV\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlLogVG\/mysqlLogLV\n\nsleep 30\n\n\n","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"d2eec46b-8fe8-4b34-9979-e0807d4717c1"},"type":"","command_line_args":"","script_type":"sh"},"timeout_secs":"0","message_list":[],"variable_list":[],"description":""},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","name":"Install MySQL","type":"EXEC","uuid":"fd9a058a-b64c-4bbe-ae42-c9faf5bfcaa5","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nsudo hostnamectl set-hostname \"@@{name}@@\"\n\n# -*- Mysql installation \nsudo yum install -y --quiet \"http:\/\/repo.mysql.com\/mysql80-community-release-el7.rpm\"\nsudo yum update -y --quiet\nsudo yum install -y --quiet sshpass mysql-community-server.x86_64\n","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"d2eec46b-8fe8-4b34-9979-e0807d4717c1"},"type":"","command_line_args":"","script_type":"sh"},"timeout_secs":"0","message_list":[],"variable_list":[],"description":""},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","name":"Setup MySQL","type":"EXEC","uuid":"c1ee0015-6be1-4149-80e8-349c53415725","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\necho \"!includedir \/etc\/my.cnf.d\" | sudo tee -a \/etc\/my.cnf\n\necho \"[mysqld]\nbinlog-format=mixed\nlog-bin=mysql-bin\ndatadir=\/mysql\/data\nsql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES\ninnodb_data_home_dir = \/mysql\/data\ninnodb_log_group_home_dir = \/mysql\/log\ninnodb_file_per_table\ntmpdir=\/mysql\/tmpdir\ninnodb_undo_directory = \/mysql\/undo\ndefault-storage-engine = innodb\ndefault_tmp_storage_engine = innodb\ninnodb_log_files_in_group = 4\ninnodb_log_file_size = 1G\ninnodb_log_buffer_size = 8M\ninnodb_buffer_pool_size = 6G\t\nlarge-pages\t\ninnodb_buffer_pool_instances = 64\t\ninnodb_flush_method=O_DIRECT\t\ninnodb_flush_neighbors=0\t \ninnodb_flush_log_at_trx_commit=1\ninnodb_buffer_pool_dump_at_shutdown=1\t\ninnodb_buffer_pool_load_at_startup=1\t\nbulk_insert_buffer_size = 256\t\ninnodb_thread_concurrency = 16\t\n \t \n# Undo tablespace\t \ninnodb_undo_tablespaces = 5\t\n \t \n# Networking\t \nwait_timeout=57600\t \nmax_allowed_packet=1G\t\nsocket=\/var\/lib\/mysql\/mysql.sock\t \nskip-name-resolve\nport=3306\t\nmax_connections=1000\t\n\n\n[mysqld_safe]\nlog-error=\/mysql\/log\/mysqld.log\npid-file=\/var\/run\/mysqld\/mysqld.pid\" | sudo tee \/etc\/my.cnf.d\/nutanix.cnf\n\nsudo sed -i \"\/\\[mysqld\\]\/a server-id=100\" \/etc\/my.cnf.d\/nutanix.cnf\n\n\n# -*- Sysctl configuration\nmysql_grp_id=`id -g mysql`\nsudo sysctl -w vm.swappiness=0\nsudo sysctl -w vm.nr_hugepages=1024\nsudo sysctl -w vm.overcommit_memory=1\nsudo sysctl -w vm.dirty_background_ratio=5 \nsudo sysctl -w vm.dirty_ratio=15\nsudo sysctl -w vm.dirty_expire_centisecs=500\nsudo sysctl -w vm.dirty_writeback_centisecs=100\nsudo sysctl -w vm.hugetlb_shm_group=$mysql_grp_id\n\necho \"vm.swappiness=0\nvm.nr_hugepages=1024\nvm.overcommit_memory=1\nvm.dirty_background_ratio=5 \nvm.dirty_ratio=15\nvm.dirty_expire_centisecs=500\nvm.dirty_writeback_centisecs=100\nvm.hugetlb_shm_group=$mysql_grp_id\" | sudo tee  -a \/etc\/sysctl.conf\n\necho \"ACTION=='add|change', SUBSYSTEM=='block', RUN+='\/bin\/sh -c \\\"\/bin\/echo 1024 > \/sys%p\/queue\/max_sectors_kb\\\"'\" | sudo tee \/etc\/udev\/rules.d\/71-block-max-sectors.rules\n#echo 1024 | sudo tee \/sys\/block\/sd?\/queue\/max_sectors_kb\n\necho \"\/dev\/mysqlDataVG\/mysqlDataLV \/mysql\/data ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\necho \"\/dev\/mysqlLogVG\/mysqlLogLV \/mysql\/log ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\nsudo mkdir -p \/mysql\/log \/mysql\/data \/mysql\/tmpdir \/mysql\/undo\nsudo mount -a\nsudo chown -R mysql:mysql \/mysql\n\nsudo systemctl enable mysqld\n\nsudo rm -rf \/mysql\/data\/*\nsudo systemctl start mysqld\n\n#Fix to obtain temp password and set it to blank\npassword=$(grep -oP 'temporary password(.*): \\K(\\S+)' \/var\/log\/mysqld.log)\nsudo mysqladmin --user=root --password=\"$password\" password aaBB**cc1122\nsudo mysql --user=root --password=aaBB**cc1122 -e \"UNINSTALL COMPONENT 'file:\/\/component_validate_password'\"\nsudo mysqladmin --user=root --password=\"aaBB**cc1122\" password \"\"\n\n\n#Mysql secure installation\nsudo mysql -u root<<-EOF\nALTER USER 'root'@'localhost' IDENTIFIED WITH caching_sha2_password BY '@@{MYSQL_PASSWORD}@@';\nDELETE FROM mysql.user WHERE User='root' AND Host NOT IN ('localhost', '127.0.0.1', '::1');\nDELETE FROM mysql.user WHERE User='';\nDELETE FROM mysql.db WHERE Db='test' OR Db='test\\_%';\nFLUSH PRIVILEGES;\nEOF\n","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"d2eec46b-8fe8-4b34-9979-e0807d4717c1"},"type":"","command_line_args":"","script_type":"sh"},"timeout_secs":"0","message_list":[],"variable_list":[],"description":""}],"description":"","uuid":"a1a38ce3-2091-4612-b5cd-16a8f8317f5c","state":"ACTIVE","variable_list":[],"message_list":[],"main_task_local_reference":{"kind":"app_task","name":"d80995e3_dag","uuid":"981ccb8b-82cc-4aae-9fb6-f282898d17cd"},"name":"ecae87f8_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVMySQLPackage","uuid":"f79f4aeb-2b78-48d4-9d73-9e4acc214df1"},"retries":"0","name":"254e5361_dag","type":"DAG","uuid":"385682a9-a571-4cea-aa45-83c9f2a365d7","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"description":""}],"description":"","uuid":"1c0ad69d-5144-401b-9c9e-4d3dd059e4ed","state":"ACTIVE","variable_list":[],"message_list":[],"main_task_local_reference":{"kind":"app_task","name":"254e5361_dag","uuid":"385682a9-a571-4cea-aa45-83c9f2a365d7"},"name":"2ac89dfe_runbook"}},"variable_list":[],"name":"AHVMySQLPackage"},{"description":"","action_list":[],"service_local_reference_list":[],"uuid":"06d5e9f9-391c-498e-9de1-92702f93694d","version":"","type":"SUBSTRATE_IMAGE","options":{"type":"","description":"","resources":{"image_type":"DISK_IMAGE","checksum":{"checksum_algorithm":"","type":"","checksum_value":""},"source_uri":"http:\/\/download.nutanix.com\/calm\/CentOS-7-x86_64-GenericCloud-1801-01.qcow2","version":{"product_version":"","type":"","product_name":""},"architecture":"X86_64","type":""},"name":"Centos-7.4-1801-01"},"variable_list":[],"name":"CENTOS_IMAGE"},{"description":"","action_list":[],"service_local_reference_list":[{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"}],"uuid":"27f5243f-d06d-4d95-b0ea-0bf734f7f2e8","version":"","type":"DEB","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSMySQLPackage","uuid":"27f5243f-d06d-4d95-b0ea-0bf734f7f2e8"},"retries":"0","name":"77171ec6_dag","type":"DAG","uuid":"692fc2a4-78c7-4ed6-b6b4-a893ee051971","child_tasks_local_reference_list":[{"kind":"app_task","name":"Install System Packages","uuid":"f95e14a5-e84e-4600-9182-467891c1778f"},{"kind":"app_task","name":"Create Disk Setup","uuid":"b0f347ae-33b2-4759-9112-c9d3e2824766"},{"kind":"app_task","name":"Install MySQL","uuid":"857c7b52-ecbf-4db1-98e0-6e41f090ab7b"},{"kind":"app_task","name":"Setup MySQL","uuid":"45f12517-a4a8-49be-9fbe-1d929e4323c5"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Install System Packages","uuid":"f95e14a5-e84e-4600-9182-467891c1778f"},"edge_type":"user_defined","type":"","uuid":"330924e7-536b-4296-a4d6-7cbd22553603","to_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"b0f347ae-33b2-4759-9112-c9d3e2824766"}},{"from_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"b0f347ae-33b2-4759-9112-c9d3e2824766"},"edge_type":"user_defined","type":"","uuid":"e71c5423-39ea-4d27-9c35-fc897dc3b2b9","to_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"857c7b52-ecbf-4db1-98e0-6e41f090ab7b"}},{"from_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"857c7b52-ecbf-4db1-98e0-6e41f090ab7b"},"edge_type":"user_defined","type":"","uuid":"153df89f-f8b8-4e91-b3e9-b9e7ce3d7510","to_task_reference":{"kind":"app_task","name":"Setup MySQL","uuid":"45f12517-a4a8-49be-9fbe-1d929e4323c5"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"description":""},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","name":"Install System Packages","type":"EXEC","uuid":"f95e14a5-e84e-4600-9182-467891c1778f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n# -*- Install Mysql\nsudo yum update -y --quiet\nsudo yum install -y  htop wget iotop xfs* bc unzip lvm2*\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"System packages are installed\"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"d2eec46b-8fe8-4b34-9979-e0807d4717c1"},"type":"","command_line_args":"","script_type":"sh"},"timeout_secs":"0","message_list":[],"variable_list":[],"description":""},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","name":"Create Disk Setup","type":"EXEC","uuid":"b0f347ae-33b2-4759-9112-c9d3e2824766","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n##############\n#\n# LVM setup script for PostgreSQL . 4 disks for DATA and 2 for logs\n# Data disks are 60GB | Log disks are 20GB \n#\n#############\n\n\n#PGSQL data\nsudo pvcreate \/dev\/xvdb \/dev\/xvdc \/dev\/xvdd \/dev\/xvde\nsudo vgcreate mysqlDataVG \/dev\/xvdb \/dev\/xvdc \/dev\/xvdd \/dev\/xvde\nsudo lvcreate -l 100%FREE -i4 -I1M -n mysqlDataLV mysqlDataVG          ## Use 1MB to avoid IO amplification \n#lvcreate -l 100%FREE -i4 -I4M -n pgDataLV pgDataVG\n\n\n#PGSQL logs\nsudo pvcreate \/dev\/xvdf \/dev\/xvdg \/dev\/xvdh \/dev\/xvdi\nsudo vgcreate mysqlLogVG \/dev\/xvdf \/dev\/xvdg \/dev\/xvdh \/dev\/xvdi\nsudo lvcreate -l 100%FREE -i2 -I1M -n mysqlLogLV mysqlLogVG            ## Use 1MB to avoid IO amplification\n#lvcreate -l 100%FREE -i2 -I4M -n pgLogLV pgLogVG\n\n\n#Disable LVM read ahead\nsudo lvchange -r 0 \/dev\/mysqlDataVG\/mysqlDataLV\nsudo lvchange -r 0 \/dev\/mysqlLogVG\/mysqlLogLV\n\n\n#Format LVMs with ext4 and use nodiscard to make sure format time is fast on Nutanix due to SCSI unmap\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlDataVG\/mysqlDataLV\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlLogVG\/mysqlLogLV\n\nsleep 30\n\n\n","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"d2eec46b-8fe8-4b34-9979-e0807d4717c1"},"type":"","command_line_args":"","script_type":"sh"},"timeout_secs":"0","message_list":[],"variable_list":[],"description":""},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","name":"Install MySQL","type":"EXEC","uuid":"857c7b52-ecbf-4db1-98e0-6e41f090ab7b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nsudo hostnamectl set-hostname \"@@{name}@@\"\n\n# -*- Mysql installation \nsudo yum install -y --quiet \"http:\/\/repo.mysql.com\/mysql80-community-release-el7.rpm\"\nsudo yum update -y --quiet\nsudo yum install -y --quiet sshpass mysql-community-server.x86_64\n","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"d2eec46b-8fe8-4b34-9979-e0807d4717c1"},"type":"","command_line_args":"","script_type":"sh"},"timeout_secs":"0","message_list":[],"variable_list":[],"description":""},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","name":"Setup MySQL","type":"EXEC","uuid":"45f12517-a4a8-49be-9fbe-1d929e4323c5","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\necho \"!includedir \/etc\/my.cnf.d\" | sudo tee -a \/etc\/my.cnf\n\necho \"[mysqld]\nbinlog-format=mixed\nlog-bin=mysql-bin\ndatadir=\/mysql\/data\nsql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES\ninnodb_data_home_dir = \/mysql\/data\ninnodb_log_group_home_dir = \/mysql\/log\ninnodb_file_per_table\ntmpdir=\/mysql\/tmpdir\ninnodb_undo_directory = \/mysql\/undo\ndefault-storage-engine = innodb\ndefault_tmp_storage_engine = innodb\ninnodb_log_files_in_group = 4\ninnodb_log_file_size = 1G\ninnodb_log_buffer_size = 8M\ninnodb_buffer_pool_size = 6G\t\nlarge-pages\t\ninnodb_buffer_pool_instances = 64\t\ninnodb_flush_method=O_DIRECT\t\ninnodb_flush_neighbors=0\t \ninnodb_flush_log_at_trx_commit=1\ninnodb_buffer_pool_dump_at_shutdown=1\t\ninnodb_buffer_pool_load_at_startup=1\t\nbulk_insert_buffer_size = 256\t\ninnodb_thread_concurrency = 16\t\n \t \n# Undo tablespace\t \ninnodb_undo_tablespaces = 5\t\n \t \n# Networking\t \nwait_timeout=57600\t \nmax_allowed_packet=1G\t\nsocket=\/var\/lib\/mysql\/mysql.sock\t \nskip-name-resolve\nport=3306\t\nmax_connections=1000\t\n\n\n[mysqld_safe]\nlog-error=\/mysql\/log\/mysqld.log\npid-file=\/var\/run\/mysqld\/mysqld.pid\" | sudo tee \/etc\/my.cnf.d\/nutanix.cnf\n\nsudo sed -i \"\/\\[mysqld\\]\/a server-id=100\" \/etc\/my.cnf.d\/nutanix.cnf\n\n\n# -*- Sysctl configuration\nmysql_grp_id=`id -g mysql`\nsudo sysctl -w vm.swappiness=0\nsudo sysctl -w vm.nr_hugepages=1024\nsudo sysctl -w vm.overcommit_memory=1\nsudo sysctl -w vm.dirty_background_ratio=5 \nsudo sysctl -w vm.dirty_ratio=15\nsudo sysctl -w vm.dirty_expire_centisecs=500\nsudo sysctl -w vm.dirty_writeback_centisecs=100\nsudo sysctl -w vm.hugetlb_shm_group=$mysql_grp_id\n\necho \"vm.swappiness=0\nvm.nr_hugepages=1024\nvm.overcommit_memory=1\nvm.dirty_background_ratio=5 \nvm.dirty_ratio=15\nvm.dirty_expire_centisecs=500\nvm.dirty_writeback_centisecs=100\nvm.hugetlb_shm_group=$mysql_grp_id\" | sudo tee  -a \/etc\/sysctl.conf\n\necho \"ACTION=='add|change', SUBSYSTEM=='block', RUN+='\/bin\/sh -c \\\"\/bin\/echo 1024 > \/sys%p\/queue\/max_sectors_kb\\\"'\" | sudo tee \/etc\/udev\/rules.d\/71-block-max-sectors.rules\n#echo 1024 | sudo tee \/sys\/block\/sd?\/queue\/max_sectors_kb\n\necho \"\/dev\/mysqlDataVG\/mysqlDataLV \/mysql\/data ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\necho \"\/dev\/mysqlLogVG\/mysqlLogLV \/mysql\/log ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\nsudo mkdir -p \/mysql\/log \/mysql\/data \/mysql\/tmpdir \/mysql\/undo\nsudo mount -a\nsudo chown -R mysql:mysql \/mysql\n\nsudo systemctl enable mysqld\n\nsudo rm -rf \/mysql\/data\/*\nsudo systemctl start mysqld\n\n#Fix to obtain temp password and set it to blank\npassword=$(grep -oP 'temporary password(.*): \\K(\\S+)' \/var\/log\/mysqld.log)\nsudo mysqladmin --user=root --password=\"$password\" password aaBB**cc1122\nsudo mysql --user=root --password=aaBB**cc1122 -e \"UNINSTALL COMPONENT 'file:\/\/component_validate_password'\"\nsudo mysqladmin --user=root --password=\"aaBB**cc1122\" password \"\"\n\n\n#Mysql secure installation\nsudo mysql -u root<<-EOF\nALTER USER 'root'@'localhost' IDENTIFIED WITH caching_sha2_password BY '@@{MYSQL_PASSWORD}@@';\nDELETE FROM mysql.user WHERE User='root' AND Host NOT IN ('localhost', '127.0.0.1', '::1');\nDELETE FROM mysql.user WHERE User='';\nDELETE FROM mysql.db WHERE Db='test' OR Db='test\\_%';\nFLUSH PRIVILEGES;\nEOF\n","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"d2eec46b-8fe8-4b34-9979-e0807d4717c1"},"type":"","command_line_args":"","script_type":"sh"},"timeout_secs":"0","message_list":[],"variable_list":[],"description":""}],"description":"","uuid":"d94ae31a-3f80-4648-9931-1c98f351321b","state":"ACTIVE","variable_list":[],"message_list":[],"main_task_local_reference":{"kind":"app_task","name":"77171ec6_dag","uuid":"692fc2a4-78c7-4ed6-b6b4-a893ee051971"},"name":"e5f6c944_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSMySQLPackage","uuid":"27f5243f-d06d-4d95-b0ea-0bf734f7f2e8"},"retries":"0","name":"3952e3bf_dag","type":"DAG","uuid":"435c838f-899b-4289-8dc0-9b58179ecc2c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"description":""}],"description":"","uuid":"7f2180df-749d-4143-8af9-1fbab4bef306","state":"ACTIVE","variable_list":[],"message_list":[],"main_task_local_reference":{"kind":"app_task","name":"3952e3bf_dag","uuid":"435c838f-899b-4289-8dc0-9b58179ecc2c"},"name":"1db267a5_runbook"}},"variable_list":[],"name":"AWSMySQLPackage"},{"description":"","action_list":[],"service_local_reference_list":[{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"}],"uuid":"a23c2259-dd5c-4063-b54f-6af67ce60ee9","version":"","type":"DEB","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPMySQLPackage","uuid":"a23c2259-dd5c-4063-b54f-6af67ce60ee9"},"retries":"0","name":"feb0f4b3_dag","type":"DAG","uuid":"da65079e-8f21-4228-890a-f24093a8192f","child_tasks_local_reference_list":[{"kind":"app_task","name":"Install System Packages","uuid":"97f56cd9-7369-485c-82c7-66f6b3023b77"},{"kind":"app_task","name":"Create Disk Setup","uuid":"9b5ca91d-bc97-4390-a1f7-b6ce8c869e53"},{"kind":"app_task","name":"Install MySQL","uuid":"9e13302a-e9cb-43e3-b1b5-9439615b03ed"},{"kind":"app_task","name":"Setup MySQL","uuid":"0c1c46f1-9ffb-4caa-94f9-166579a2d781"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Install System Packages","uuid":"97f56cd9-7369-485c-82c7-66f6b3023b77"},"edge_type":"user_defined","type":"","uuid":"c1ec9e88-005a-458e-a65f-7515bd14c71c","to_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"9b5ca91d-bc97-4390-a1f7-b6ce8c869e53"}},{"from_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"9b5ca91d-bc97-4390-a1f7-b6ce8c869e53"},"edge_type":"user_defined","type":"","uuid":"dfae8333-dd9c-4362-905d-2129e1f99bcf","to_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"9e13302a-e9cb-43e3-b1b5-9439615b03ed"}},{"from_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"9e13302a-e9cb-43e3-b1b5-9439615b03ed"},"edge_type":"user_defined","type":"","uuid":"95a25a35-2d83-4096-bcca-9f58645d2db5","to_task_reference":{"kind":"app_task","name":"Setup MySQL","uuid":"0c1c46f1-9ffb-4caa-94f9-166579a2d781"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"description":""},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","name":"Install System Packages","type":"EXEC","uuid":"97f56cd9-7369-485c-82c7-66f6b3023b77","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n# -*- Install Mysql\nsudo yum update -y --quiet\nsudo yum install -y  htop wget iotop xfs* bc unzip lvm2*\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"System packages are installed\"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"d2eec46b-8fe8-4b34-9979-e0807d4717c1"},"type":"","command_line_args":"","script_type":"sh"},"timeout_secs":"0","message_list":[],"variable_list":[],"description":""},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","name":"Create Disk Setup","type":"EXEC","uuid":"9b5ca91d-bc97-4390-a1f7-b6ce8c869e53","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n##############\n#\n# LVM setup script for PostgreSQL . 4 disks for DATA and 2 for logs\n# Data disks are 60GB | Log disks are 20GB \n#\n#############\n\n\n#PGSQL data\nsudo pvcreate \/dev\/sdb \/dev\/sdc \/dev\/sdd \/dev\/sde\nsudo vgcreate mysqlDataVG \/dev\/sdb \/dev\/sdd \/dev\/sdc \/dev\/sde\nsudo lvcreate -l 100%FREE -i4 -I1M -n mysqlDataLV mysqlDataVG          ## Use 1MB to avoid IO amplification \n#lvcreate -l 100%FREE -i4 -I4M -n pgDataLV pgDataVG\n\n\n#PGSQL logs\nsudo pvcreate \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo vgcreate mysqlLogVG \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo lvcreate -l 100%FREE -i2 -I1M -n mysqlLogLV mysqlLogVG            ## Use 1MB to avoid IO amplification\n#lvcreate -l 100%FREE -i2 -I4M -n pgLogLV pgLogVG\n\n\n#Disable LVM read ahead\nsudo lvchange -r 0 \/dev\/mysqlDataVG\/mysqlDataLV\nsudo lvchange -r 0 \/dev\/mysqlLogVG\/mysqlLogLV\n\n\n#Format LVMs with ext4 and use nodiscard to make sure format time is fast on Nutanix due to SCSI unmap\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlDataVG\/mysqlDataLV\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlLogVG\/mysqlLogLV\n\nsleep 30\n\n\n","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"d2eec46b-8fe8-4b34-9979-e0807d4717c1"},"type":"","command_line_args":"","script_type":"sh"},"timeout_secs":"0","message_list":[],"variable_list":[],"description":""},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","name":"Install MySQL","type":"EXEC","uuid":"9e13302a-e9cb-43e3-b1b5-9439615b03ed","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nsudo hostnamectl set-hostname \"@@{name}@@\"\n\n# -*- Mysql installation \nsudo yum install -y --quiet \"http:\/\/repo.mysql.com\/mysql80-community-release-el7.rpm\"\nsudo yum update -y --quiet\nsudo yum install -y --quiet sshpass mysql-community-server.x86_64\n","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"d2eec46b-8fe8-4b34-9979-e0807d4717c1"},"type":"","command_line_args":"","script_type":"sh"},"timeout_secs":"0","message_list":[],"variable_list":[],"description":""},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","name":"Setup MySQL","type":"EXEC","uuid":"0c1c46f1-9ffb-4caa-94f9-166579a2d781","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\necho \"!includedir \/etc\/my.cnf.d\" | sudo tee -a \/etc\/my.cnf\n\necho \"[mysqld]\nbinlog-format=mixed\nlog-bin=mysql-bin\ndatadir=\/mysql\/data\nsql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES\ninnodb_data_home_dir = \/mysql\/data\ninnodb_log_group_home_dir = \/mysql\/log\ninnodb_file_per_table\ntmpdir=\/mysql\/tmpdir\ninnodb_undo_directory = \/mysql\/undo\ndefault-storage-engine = innodb\ndefault_tmp_storage_engine = innodb\ninnodb_log_files_in_group = 4\ninnodb_log_file_size = 1G\ninnodb_log_buffer_size = 8M\ninnodb_buffer_pool_size = 6G\t\nlarge-pages\t\ninnodb_buffer_pool_instances = 64\t\ninnodb_flush_method=O_DIRECT\t\ninnodb_flush_neighbors=0\t \ninnodb_flush_log_at_trx_commit=1\ninnodb_buffer_pool_dump_at_shutdown=1\t\ninnodb_buffer_pool_load_at_startup=1\t\nbulk_insert_buffer_size = 256\t\ninnodb_thread_concurrency = 16\t\n \t \n# Undo tablespace\t \ninnodb_undo_tablespaces = 5\t\n \t \n# Networking\t \nwait_timeout=57600\t \nmax_allowed_packet=1G\t\nsocket=\/var\/lib\/mysql\/mysql.sock\t \nskip-name-resolve\nport=3306\t\nmax_connections=1000\t\n\n\n[mysqld_safe]\nlog-error=\/mysql\/log\/mysqld.log\npid-file=\/var\/run\/mysqld\/mysqld.pid\" | sudo tee \/etc\/my.cnf.d\/nutanix.cnf\n\nsudo sed -i \"\/\\[mysqld\\]\/a server-id=100\" \/etc\/my.cnf.d\/nutanix.cnf\n\nsudo mkdir -p \/mysql\/log \/mysql\/data \/mysql\/tmpdir \/mysql\/undo\nsudo chown -R mysql:mysql \/mysql\n\nsudo systemctl enable mysqld\n\nsudo rm -rf \/mysql\/data\/*\nsudo systemctl start mysqld\n\n#Fix to obtain temp password and set it to blank\npassword=$(grep -oP 'temporary password(.*): \\K(\\S+)' \/var\/log\/mysqld.log)\nsudo mysqladmin --user=root --password=\"$password\" password aaBB**cc1122\nsudo mysql --user=root --password=aaBB**cc1122 -e \"UNINSTALL COMPONENT 'file:\/\/component_validate_password'\"\nsudo mysqladmin --user=root --password=\"aaBB**cc1122\" password \"\"\n\n\n#Mysql secure installation\nsudo mysql -u root<<-EOF\nALTER USER 'root'@'localhost' IDENTIFIED WITH caching_sha2_password BY '@@{MYSQL_PASSWORD}@@';\nDELETE FROM mysql.user WHERE User='root' AND Host NOT IN ('localhost', '127.0.0.1', '::1');\nDELETE FROM mysql.user WHERE User='';\nDELETE FROM mysql.db WHERE Db='test' OR Db='test\\_%';\nFLUSH PRIVILEGES;\nEOF\n","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"d2eec46b-8fe8-4b34-9979-e0807d4717c1"},"type":"","command_line_args":"","script_type":"sh"},"timeout_secs":"0","message_list":[],"variable_list":[],"description":""}],"description":"","uuid":"41564b98-f031-4845-ad8e-a2c1ccd2c7af","state":"ACTIVE","variable_list":[],"message_list":[],"main_task_local_reference":{"kind":"app_task","name":"feb0f4b3_dag","uuid":"da65079e-8f21-4228-890a-f24093a8192f"},"name":"18497daa_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPMySQLPackage","uuid":"a23c2259-dd5c-4063-b54f-6af67ce60ee9"},"retries":"0","name":"e9f40488_dag","type":"DAG","uuid":"5c90d29c-1a3e-4653-815e-0624f342c9a9","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"description":""}],"description":"","uuid":"8553aecd-d48e-4ddd-81f4-a6297ba4f406","state":"ACTIVE","variable_list":[],"message_list":[],"main_task_local_reference":{"kind":"app_task","name":"e9f40488_dag","uuid":"5c90d29c-1a3e-4653-815e-0624f342c9a9"},"name":"29ea5770_runbook"}},"variable_list":[],"name":"GCPMySQLPackage"},{"description":"","action_list":[],"service_local_reference_list":[{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"}],"uuid":"2acd82a5-5d7f-4889-a1ec-3a66cd4171b2","version":"","type":"DEB","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureMySQLPkg","uuid":"2acd82a5-5d7f-4889-a1ec-3a66cd4171b2"},"retries":"0","name":"80e631b8_dag","type":"DAG","uuid":"867787d9-5aad-4283-a62b-55fbbbe44b79","child_tasks_local_reference_list":[{"kind":"app_task","name":"Install System Packages","uuid":"64ce22aa-2299-4dd4-bb5c-91090e304cc4"},{"kind":"app_task","name":"Install MySQL","uuid":"852e3a24-524f-4d12-81d8-0abfadc748b5"},{"kind":"app_task","name":"Setup MySQL","uuid":"19512fc3-4d0d-4a57-a39f-a5928651c0fd"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"852e3a24-524f-4d12-81d8-0abfadc748b5"},"edge_type":"user_defined","type":"","uuid":"f806d291-71b6-42e5-b418-23ef9773f25e","to_task_reference":{"kind":"app_task","name":"Setup MySQL","uuid":"19512fc3-4d0d-4a57-a39f-a5928651c0fd"}},{"from_task_reference":{"kind":"app_task","name":"Install System Packages","uuid":"64ce22aa-2299-4dd4-bb5c-91090e304cc4"},"edge_type":"user_defined","type":"","uuid":"9c850c61-c3e8-416a-b222-f2d152aec9d7","to_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"852e3a24-524f-4d12-81d8-0abfadc748b5"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"description":""},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","name":"Install System Packages","type":"EXEC","uuid":"64ce22aa-2299-4dd4-bb5c-91090e304cc4","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n# -*- Install Mysql\nsudo yum update -y --quiet\nsudo yum install -y  htop wget iotop xfs* bc unzip lvm2*\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"System packages are installed\"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"d2eec46b-8fe8-4b34-9979-e0807d4717c1"},"type":"","command_line_args":"","script_type":"sh"},"timeout_secs":"0","message_list":[],"variable_list":[],"description":""},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","name":"Install MySQL","type":"EXEC","uuid":"852e3a24-524f-4d12-81d8-0abfadc748b5","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nsudo hostnamectl set-hostname \"@@{name}@@\"\n\n# -*- Mysql installation \nsudo yum install -y --quiet \"http:\/\/repo.mysql.com\/mysql80-community-release-el7.rpm\"\nsudo yum update -y --quiet\nsudo yum install -y --quiet sshpass mysql-community-server.x86_64\n","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"d2eec46b-8fe8-4b34-9979-e0807d4717c1"},"type":"","command_line_args":"","script_type":"sh"},"timeout_secs":"0","message_list":[],"variable_list":[],"description":""},{"target_any_local_reference":{"kind":"app_service","name":"MySQL","uuid":"3f3ee43f-bcb5-4dbf-9f67-d048acca1f6c"},"retries":"0","name":"Setup MySQL","type":"EXEC","uuid":"19512fc3-4d0d-4a57-a39f-a5928651c0fd","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\necho \"!includedir \/etc\/my.cnf.d\" | sudo tee -a \/etc\/my.cnf\n\necho \"[mysqld]\nbinlog-format=mixed\nlog-bin=mysql-bin\ndatadir=\/mysql\/data\nsql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES\ninnodb_data_home_dir = \/mysql\/data\ninnodb_log_group_home_dir = \/mysql\/log\ninnodb_file_per_table\ntmpdir=\/mysql\/tmpdir\ninnodb_undo_directory = \/mysql\/undo\ndefault-storage-engine = innodb\ndefault_tmp_storage_engine = innodb\ninnodb_log_files_in_group = 4\ninnodb_log_file_size = 1G\ninnodb_log_buffer_size = 8M\ninnodb_buffer_pool_size = 6G\t\nlarge-pages\t\ninnodb_buffer_pool_instances = 64\t\ninnodb_flush_method=O_DIRECT\t\ninnodb_flush_neighbors=0\t \ninnodb_flush_log_at_trx_commit=1\ninnodb_buffer_pool_dump_at_shutdown=1\t\ninnodb_buffer_pool_load_at_startup=1\t\nbulk_insert_buffer_size = 256\t\ninnodb_thread_concurrency = 16\t\n \t \n# Undo tablespace\t \ninnodb_undo_tablespaces = 5\t\n \t \n# Networking\t \nwait_timeout=57600\t \nmax_allowed_packet=1G\t\nsocket=\/var\/lib\/mysql\/mysql.sock\t \nskip-name-resolve\nport=3306\t\nmax_connections=1000\t\n\n\n[mysqld_safe]\nlog-error=\/mysql\/log\/mysqld.log\npid-file=\/var\/run\/mysqld\/mysqld.pid\" | sudo tee \/etc\/my.cnf.d\/nutanix.cnf\n\nsudo sed -i \"\/\\[mysqld\\]\/a server-id=100\" \/etc\/my.cnf.d\/nutanix.cnf\n\nsudo mkdir -p \/mysql\/log \/mysql\/data \/mysql\/tmpdir \/mysql\/undo\nsudo chown -R mysql:mysql \/mysql\n\nsudo systemctl enable mysqld\n\nsudo rm -rf \/mysql\/data\/*\nsudo systemctl start mysqld\n\n#Fix to obtain temp password and set it to blank\npassword=$(grep -oP 'temporary password(.*): \\K(\\S+)' \/var\/log\/mysqld.log)\nsudo mysqladmin --user=root --password=\"$password\" password aaBB**cc1122\nsudo mysql --user=root --password=aaBB**cc1122 -e \"UNINSTALL COMPONENT 'file:\/\/component_validate_password'\"\nsudo mysqladmin --user=root --password=\"aaBB**cc1122\" password \"\"\n\n\n#Mysql secure installation\nsudo mysql -u root<<-EOF\nALTER USER 'root'@'localhost' IDENTIFIED WITH caching_sha2_password BY '@@{MYSQL_PASSWORD}@@';\nDELETE FROM mysql.user WHERE User='root' AND Host NOT IN ('localhost', '127.0.0.1', '::1');\nDELETE FROM mysql.user WHERE User='';\nDELETE FROM mysql.db WHERE Db='test' OR Db='test\\_%';\nFLUSH PRIVILEGES;\nEOF\n","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"d2eec46b-8fe8-4b34-9979-e0807d4717c1"},"type":"","command_line_args":"","script_type":"sh"},"timeout_secs":"0","message_list":[],"variable_list":[],"description":""}],"description":"","uuid":"afc69ed7-3715-43da-816c-fdba3959c395","state":"ACTIVE","variable_list":[],"message_list":[],"main_task_local_reference":{"kind":"app_task","name":"80e631b8_dag","uuid":"867787d9-5aad-4283-a62b-55fbbbe44b79"},"name":"09997356_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureMySQLPkg","uuid":"2acd82a5-5d7f-4889-a1ec-3a66cd4171b2"},"retries":"0","name":"bcfa2a89_dag","type":"DAG","uuid":"0f23161a-1b69-488a-92ac-bd514b87bf5e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"description":""}],"description":"","uuid":"a0dc59ff-f79f-4861-8fe5-14cd990bc3c5","state":"ACTIVE","variable_list":[],"message_list":[],"main_task_local_reference":{"kind":"app_task","name":"bcfa2a89_dag","uuid":"0f23161a-1b69-488a-92ac-bd514b87bf5e"},"name":"c83478b6_runbook"}},"variable_list":[],"name":"AzureMySQLPkg"}],"client_attrs":{"ba2c29f6-7b39-4698-a160-aa387b432ada":{"y":160,"x":541},"bf8f7063-f7d6-4b3a-bec4-d8850806a5b5":{"y":160,"x":541},"14f9523d-6a63-4e49-8169-b325a27b9c4b":{"y":160,"x":541},"705e1628-66ee-4aa5-b9a7-85c51df4cd20":{"y":160,"x":541}}},"description":"* sudo mysql -u root -p[PASSWORD]  \n* default password [ nutanix\/4u ]"},"api_version":"3.0","metadata":{"last_update_time":"1547623251769223","owner_reference":{"kind":"user","uuid":"00000000-0000-0000-0000-000000000000","name":"admin"},"kind":"blueprint","uuid":"be7b71e8-21fb-41a8-8bed-4ff9dfdcacad","project_reference":{"kind":"project","name":"default","uuid":"209e0a42-6f2d-4999-9a9b-5aa705d25661"},"spec_version":0,"creation_time":"1547623251769223","name":"mysql_singlenode"}}