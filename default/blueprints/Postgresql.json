{"status":{"description":"Accessibility:\n* `sudo su - postgres sh -c psql `\n","source_mpi":"","state":"ACTIVE","is_cloned":false,"message_list":[],"resources":{"service_definition_list":[{"port_list":[],"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"9cb16798-56af-4ea4-bf9b-8fef935b84ae","name":"action_create","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"DAG","uuid":"9a3ad389-066b-467c-bffe-343dc08561d4","child_tasks_local_reference_list":[{"kind":"app_task","name":"Configure Master","uuid":"53ad8f4c-4820-4684-8d87-4937319ebb98"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"793f009c_dag"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"EXEC","uuid":"53ad8f4c-4820-4684-8d87-4937319ebb98","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\nsudo -i -u postgres psql -c \"CREATE USER rep REPLICATION LOGIN ENCRYPTED PASSWORD '@@{DB_PASSWORD}@@'; \"\n\nif [ \"@@{PROFILE}@@\" = \"AHV\" ]\nthen\n    Slaves=($(echo @@{AHVSlave.address}@@ | sed 's\/^,\/\/' | sed 's\/,$\/\/' | tr \",\" \" \")) \nelif [ \"@@{PROFILE}@@\" = \"AWS\" ]\nthen\n    Slaves=($(echo @@{AWSSlave.address}@@ | sed 's\/^,\/\/' | sed 's\/,$\/\/' | tr \",\" \" \")) \nelif [ \"@@{PROFILE}@@\" = \"GCP\" ]\nthen\n    Slaves=($(echo @@{GCPSlave.address}@@ | sed 's\/^,\/\/' | sed 's\/,$\/\/' | tr \",\" \" \"))     \nelif [ \"@@{PROFILE}@@\" = \"AZURE\" ]\nthen\n    Slaves=($(echo @@{AzureSlave.address}@@ | sed 's\/^,\/\/' | sed 's\/,$\/\/' | tr \",\" \" \"))     \nelif [ \"@@{PROFILE}@@\" = \"VMWARE\" ]\nthen\n    Slaves=($(echo @@{VMwareSlave.address}@@ | sed 's\/^,\/\/' | sed 's\/,$\/\/' | tr \",\" \" \"))     \nfi\n\necho \"host    replication     rep     @@{address}@@\/32     md5\" | sudo tee -a \/var\/lib\/pgsql\/9.6\/data\/pg_hba.conf\nfor slave in ${Slaves[@]} \ndo\n  echo \"host    replication     rep     ${slave}\/32     md5\" | sudo tee -a \/var\/lib\/pgsql\/9.6\/data\/pg_hba.conf\ndone\n\n\necho \"listen_addresses = '*'\nwal_level = 'hot_standby'\narchive_mode = on\narchive_command = 'cd .'\nmax_wal_senders = 3\nhot_standby = on\nwal_keep_segments = 8\" | sudo tee -a \/var\/lib\/pgsql\/9.6\/data\/postgresql.conf \n\nsudo systemctl restart postgresql-9.6 \n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[{"message":"Macro maybe incorrect, no entity with name \"AWSSlave\" in profile \"Nutanix\".","reason":"INVALID_MACRO","details":[]},{"message":"Macro maybe incorrect, no entity with name \"VMwareSlave\" in profile \"Nutanix\".","reason":"INVALID_MACRO","details":[]},{"message":"Macro maybe incorrect, no entity with name \"AzureSlave\" in profile \"Nutanix\".","reason":"INVALID_MACRO","details":[]},{"message":"Macro maybe incorrect, no entity with name \"GCPSlave\" in profile \"Nutanix\".","reason":"INVALID_MACRO","details":[]}],"variable_list":[],"name":"Configure Master"}],"description":"","message_list":[],"uuid":"a5cf54be-5eb3-4cbb-8cbf-c295bbc3af83","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"793f009c_dag","uuid":"9a3ad389-066b-467c-bffe-343dc08561d4"},"name":"c528d489_runbook"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"d1547a0c-c2e5-4b23-bbeb-b4af9b7a394f","name":"action_delete","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"DAG","uuid":"04b414ac-8ef6-4b37-be56-11db91b9799a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"68f32446_dag"}],"description":"","message_list":[],"uuid":"f31a5f00-62ad-4b57-8fbf-cd1f020f2bfc","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"68f32446_dag","uuid":"04b414ac-8ef6-4b37-be56-11db91b9799a"},"name":"8ad650b2_runbook"}},{"description":"System action for starting an application","message_list":[],"uuid":"1dedee86-3bd4-4949-bcca-b087cb1ba963","name":"action_start","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"DAG","uuid":"4f3da01e-682a-4a32-8bd0-69d0003b3a75","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"2e864aa9_dag"}],"description":"","message_list":[],"uuid":"81959707-f27f-4259-a9b6-d4f736a28f5c","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"2e864aa9_dag","uuid":"4f3da01e-682a-4a32-8bd0-69d0003b3a75"},"name":"c02553e2_runbook"}},{"description":"System action for stopping an application","message_list":[],"uuid":"38a27466-d108-43ae-ae14-7cbae5ec9cca","name":"action_stop","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"DAG","uuid":"bdd64875-7a05-4d4a-bda6-965c25b390be","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"ca435f3c_dag"}],"description":"","message_list":[],"uuid":"86288a79-ba17-4500-a81a-1ed2afb6b9b8","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"ca435f3c_dag","uuid":"bdd64875-7a05-4d4a-bda6-965c25b390be"},"name":"deb1443a_runbook"}},{"description":"System action for restarting an application","message_list":[],"uuid":"e1b8401e-ae3a-4b04-87c3-f2000995ca03","name":"action_restart","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"DAG","uuid":"14847019-9c20-4e56-a223-844cf111a8b2","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"a006162d_dag"}],"description":"","message_list":[],"uuid":"a32389b2-74a8-4a75-b897-c7158c11032e","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"a006162d_dag","uuid":"14847019-9c20-4e56-a223-844cf111a8b2"},"name":"a9d9f266_runbook"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"eaec3a0d-7eaf-4b7d-bc22-cb59963d0cc5","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"DAG","uuid":"06a080f8-1537-4746-a1eb-79e4c3e82158","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Service_Element_Delete_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"dac53521-d614-4b6e-a892-4c89adbe11ed"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"dac53521-d614-4b6e-a892-4c89adbe11ed","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Service_Element_Delete_6a944ef9_3b53_419e_bbab_5fd0bea9fa90"}],"description":"","message_list":[],"uuid":"92ba2635-e9da-48a5-8b58-7a4b4a61ffdf","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"06a080f8-1537-4746-a1eb-79e4c3e82158"},"name":"SYS_GEN__Runbook_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90"}}],"message_list":[],"uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90","state":"ACTIVE","depends_on_list":[],"editables":{},"tier":"","singleton":false,"variable_list":[],"name":"Postgres_Master"},{"port_list":[],"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"600ae6a6-c30c-4d44-90ac-bc991ea9a068","name":"action_create","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"DAG","uuid":"aa22461a-2af8-4435-8dfc-01c54ba00324","child_tasks_local_reference_list":[{"kind":"app_task","name":"Configure Slaves","uuid":"dee72ad4-2a83-42dc-8a39-0456e062ec57"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"da441277_dag"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"EXEC","uuid":"dee72ad4-2a83-42dc-8a39-0456e062ec57","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\nIS_SCALEOUT=\"@@{IS_SCALEOUT}@@\" \n\nif [ ${IS_SCALEOUT:-\"NO\"} = \"YES\" ]\nthen\n\texit 0;\nfi\n\nif [ \"@@{PROFILE}@@\" = \"AHV\" ]\nthen\n    Master_IP=@@{AHVMaster.address}@@\nelif [ \"@@{PROFILE}@@\" = \"AWS\" ]\nthen\n    Master_IP=@@{AWSMaster.address}@@\nelif [ \"@@{PROFILE}@@\" = \"GCP\" ]\nthen\n    Master_IP=@@{GCPMaster.address}@@    \nelif [ \"@@{PROFILE}@@\" = \"AZURE\" ]\nthen\n    Master_IP=@@{AzureMaster.address}@@    \nelif [ \"@@{PROFILE}@@\" = \"VMWARE\" ]\nthen\n    Master_IP=@@{VMwareMaster.address}@@    \nfi\n\nsudo su - postgres <<EOF\n  mv 9.6\/data 9.6\/data.org\n  echo \"${Master_IP}:5432:*:rep:@@{DB_PASSWORD}@@\" > ~\/.pgpass\n  chmod 0600 ~\/.pgpass\n  pg_basebackup -h ${Master_IP} -D \/var\/lib\/pgsql\/9.6\/data -U rep -v -P\nEOF\n\n\nif [ \"@@{PROFILE}@@\" != \"AZURE\" ]\nthen\n##copy the created postgres directory to a temp directory\nsudo mkdir \/tmp\/pgsql\nsudo mv \/var\/lib\/pgsql\/9.6\/data \/tmp\/pgsql\n\n#Create directory , fix permissions and Mount LVM\nsudo mkdir \/var\/lib\/pgsql\/9.6\/data\/\nsudo mount -o noatime,barrier=0 \/dev\/pgDataVG\/pgDataLV \/var\/lib\/pgsql\/9.6\/data\/ \n\nsudo mkdir \/var\/lib\/pgsql\/9.6\/data\/pg_xlog\nsudo mount -o noatime,barrier=0 \/dev\/pgLogVG\/pgLogLV \/var\/lib\/pgsql\/9.6\/data\/pg_xlog\n\nsudo chown -R postgres:postgres \/var\/lib\/pgsql\/9.6\/data\/\n\n#move the xlog to the new LVM\nsudo find \/tmp\/pgsql\/data\/pg_xlog -maxdepth 1 -mindepth 1 -exec mv -t \/var\/lib\/pgsql\/9.6\/data\/pg_xlog\/ {} +\n\n#remove pg_xlog from temp dir to avoid being copied again\nsudo rm -rf \/tmp\/pgsql\/data\/pg_xlog\n\n#move the pgsql directory to the LVM\nsudo find \/tmp\/pgsql\/data -maxdepth 1 -mindepth 1 -exec mv -t \/var\/lib\/pgsql\/9.6\/data\/ {} +\n\nsudo chmod -R 0700 \/var\/lib\/pgsql\/9.6\/data\nfi\n\n#enable service on boot\nsudo systemctl enable postgresql-9.6.service\n\n\nif [ \"@@{PROFILE}@@\" != \"AZURE\" ]\nthen\n#add mount points to \/etc\/fstab\necho \"\/dev\/mapper\/pgDataVG-pgDataLV \/var\/lib\/pgsql\/9.6\/data ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\necho \"\/dev\/mapper\/pgLogVG-pgLogLV \/var\/lib\/pgsql\/9.6\/data\/pg_xlog ext4 rw,seclabel,noatime,nobarrier,stripe=2048,data=ordered 0 0\" | sudo tee -a  \/etc\/fstab\nfi\n\nsleep 2\nsudo sed -i -e 's\/ExecStart=.*\/ExecStart=\\\/usr\\\/pgsql-9\\.6\\\/bin\\\/pg_ctl start -D ${PGDATA} -s -W -t 300\/g' \/usr\/lib\/systemd\/system\/postgresql-9.6.service\n\necho \"host    replication     rep     ${Master_IP}\/32     md5\" | sudo tee -a \/var\/lib\/pgsql\/9.6\/data\/pg_hba.conf\necho \"listen_addresses = '*'\nwal_level = 'hot_standby'\narchive_mode = on\narchive_command = 'cd .'\nmax_wal_senders = 3\nhot_standby = on\nwal_keep_segments = 8\" | sudo tee -a \/var\/lib\/pgsql\/9.6\/data\/postgresql.conf\n\nsudo su - postgres sh -c \"touch 9.6\/data\/recovery.conf\"\n\necho \"standby_mode = 'on'\nprimary_conninfo = 'host=${Master_IP} port=5432 user=rep password=@@{DB_PASSWORD}@@'\ntrigger_file = '\/tmp\/postgresql.trigger.5432'\" | sudo tee -a \/var\/lib\/pgsql\/9.6\/data\/recovery.conf\n\nsudo systemctl start postgresql-9.6","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[{"message":"Macro maybe incorrect, no entity with name \"AWSMaster\" in profile \"Nutanix\".","reason":"INVALID_MACRO","details":[]},{"message":"Macro maybe incorrect, no entity with name \"AzureMaster\" in profile \"Nutanix\".","reason":"INVALID_MACRO","details":[]},{"message":"Macro maybe incorrect, no entity with name \"GCPMaster\" in profile \"Nutanix\".","reason":"INVALID_MACRO","details":[]},{"message":"Macro maybe incorrect, no entity with name \"VMwareMaster\" in profile \"Nutanix\".","reason":"INVALID_MACRO","details":[]},{"message":"Macro may be incorrect, no variable with name \"IS_SCALEOUT\" on entity or action.","reason":"INVALID_MACRO","details":[]}],"variable_list":[],"name":"Configure Slaves"}],"description":"","message_list":[],"uuid":"3c61d32f-d429-4292-b02b-abf0f370307a","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"da441277_dag","uuid":"aa22461a-2af8-4435-8dfc-01c54ba00324"},"name":"8f15e59d_runbook"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"24fd759c-2a63-489b-a868-6f6108dfdf65","name":"action_delete","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"DAG","uuid":"ef35f180-163e-45e9-b14e-02febfcaa09e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"82703a38_dag"}],"description":"","message_list":[],"uuid":"005a7fbe-7426-4c75-aa02-8ca0b1db5dbb","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"82703a38_dag","uuid":"ef35f180-163e-45e9-b14e-02febfcaa09e"},"name":"08946714_runbook"}},{"description":"System action for starting an application","message_list":[],"uuid":"bd39be12-5e17-434e-a9a3-5375f6cddd09","name":"action_start","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"DAG","uuid":"4f2a51d4-3073-4339-ab4c-911ade10f588","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"0f750f3d_dag"}],"description":"","message_list":[],"uuid":"57a4c7a2-843d-4130-9f5d-51c6ed3ce4d5","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"0f750f3d_dag","uuid":"4f2a51d4-3073-4339-ab4c-911ade10f588"},"name":"b34d9d39_runbook"}},{"description":"System action for stopping an application","message_list":[],"uuid":"14a1c387-c1e5-42e3-a488-3ae336124a2a","name":"action_stop","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"DAG","uuid":"372a8258-a8c4-4df7-97a8-78052a551b29","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"cdaad55e_dag"}],"description":"","message_list":[],"uuid":"8e29699f-df44-4802-8ae9-689322c6575c","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"cdaad55e_dag","uuid":"372a8258-a8c4-4df7-97a8-78052a551b29"},"name":"0e2bd4c9_runbook"}},{"description":"System action for restarting an application","message_list":[],"uuid":"e44dd079-dd43-4554-8f97-3b6356ab54b2","name":"action_restart","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"DAG","uuid":"43dcc6db-c0fe-4152-a924-29508968b027","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"0943c25a_dag"}],"description":"","message_list":[],"uuid":"bea78664-aea0-4d1f-b708-8ef876af38d5","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"0943c25a_dag","uuid":"43dcc6db-c0fe-4152-a924-29508968b027"},"name":"c1c4eebd_runbook"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"f37a2798-be2b-4e71-b005-bde8d3837df4","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"DAG","uuid":"4e326a49-d644-42de-a191-cd2e6723d98d","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Service_Element_Delete_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"23ecb8a7-a7ea-404b-aad7-547eb1360f6a"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Service_97d13e58_4d30_42ba_82be_21616f898f40"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"23ecb8a7-a7ea-404b-aad7-547eb1360f6a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Service_Element_Delete_97d13e58_4d30_42ba_82be_21616f898f40"}],"description":"","message_list":[],"uuid":"febe47f3-782b-40c3-abcb-ce825626516f","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"4e326a49-d644-42de-a191-cd2e6723d98d"},"name":"SYS_GEN__Runbook_Service_97d13e58_4d30_42ba_82be_21616f898f40"}}],"message_list":[],"uuid":"97d13e58-4d30-42ba-82be-21616f898f40","state":"ACTIVE","depends_on_list":[{"kind":"app_service","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90","name":"Postgres_Master"}],"editables":{},"tier":"","singleton":false,"variable_list":[],"name":"Postgres_Slave"}],"substrate_definition_list":[{"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"3af003a0-120e-4e3c-a99d-cc1a2b31a36d","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AHVMaster","uuid":"9f30bd45-c609-4641-971b-3c348c327239"},"retries":"0","description":"","type":"DAG","uuid":"f9f8a175-759b-4190-8b49-faad96f42817","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Nutanix_Provision_9f30bd45_c609_4641_971b_3c348c327239","uuid":"d7fe0417-bd6e-481e-baee-e0c175a24e2a"},{"kind":"app_task","name":"SYS_GEN__check_login_for_AHVMaster_9f30bd45_c609_4641_971b_3c348c327239","uuid":"0d87b326-166a-4d4c-b272-964e45add4ba"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Nutanix_Provision_9f30bd45_c609_4641_971b_3c348c327239","uuid":"d7fe0417-bd6e-481e-baee-e0c175a24e2a"},"edge_type":"inherent","type":"","uuid":"e51957d7-8223-4bcb-a501-e4b52046f5e3","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_AHVMaster_9f30bd45_c609_4641_971b_3c348c327239","uuid":"0d87b326-166a-4d4c-b272-964e45add4ba"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_9f30bd45_c609_4641_971b_3c348c327239"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVMaster","uuid":"9f30bd45-c609-4641-971b-3c348c327239"},"retries":"0","description":"","type":"PROVISION_NUTANIX","uuid":"d7fe0417-bd6e-481e-baee-e0c175a24e2a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"name":"PostgresMasterVM","categories":{"AppFamily":"Databases"},"availability_zone_reference":null,"backup_policy":null,"type":"","cluster_reference":null,"resources":{"nic_list":[{"nic_type":"NORMAL_NIC","ip_endpoint_list":[],"network_function_chain_reference":null,"network_function_nic_type":"INGRESS","mac_address":"","subnet_reference":{"kind":"subnet","type":"","name":"","uuid":"efc034e3-b50e-4a48-b02d-25036aeb8bd3"},"type":""}],"parent_reference":null,"guest_tools":null,"num_vcpus_per_socket":2,"num_sockets":2,"serial_port_list":[],"gpu_list":[],"memory_size_mib":4096,"power_state":"ON","hardware_clock_timezone":"","guest_customization":{"cloud_init":{"meta_data":"","type":"","user_data":"#cloud-config\nusers:\n  - name: centos\n    ssh-authorized-keys:\n      - @@{CENTOS.public_key}@@\n    sudo: ['ALL=(ALL) NOPASSWD:ALL']"},"type":"","sysprep":null},"type":"","boot_config":{"boot_device":{"type":"","disk_address":{"adapter_type":"SCSI","device_index":0,"type":""}},"type":"","mac_address":""},"disk_list":[{"data_source_reference":{"kind":"app_package","type":"","name":"AHV_CENTOS_76","uuid":"d2ffe3cf-564e-49d2-a884-798626bcb5bf"},"type":"","disk_size_mib":0,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":0,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":61440,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":1,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":61440,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":2,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":61440,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":3,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":61440,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":4,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":20480,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":5,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":20480,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":6,"type":""}}}]}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Nutanix_Provision_9f30bd45_c609_4641_971b_3c348c327239"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVMaster","uuid":"9f30bd45-c609-4641-971b-3c348c327239"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"0d87b326-166a-4d4c-b272-964e45add4ba","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"300","address":"@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_AHVMaster_9f30bd45_c609_4641_971b_3c348c327239"}],"description":"","message_list":[],"uuid":"d472b275-8de6-466a-8c2e-f2610427a349","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_9f30bd45_c609_4641_971b_3c348c327239","uuid":"f9f8a175-759b-4190-8b49-faad96f42817"},"name":"SYS_GEN__Runbook_Substrate_9f30bd45_c609_4641_971b_3c348c327239"}},{"description":"System action for powering on an application","message_list":[],"uuid":"45ee7cf1-8a18-40e2-8837-c3e8267abd55","name":"action_poweron","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AHVMaster","uuid":"9f30bd45-c609-4641-971b-3c348c327239"},"retries":"0","description":"","type":"DAG","uuid":"b2a80e37-916a-47f2-a8ca-e7c36d46483d","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Nutanix_Operation_PowerOn_9f30bd45_c609_4641_971b_3c348c327239","uuid":"3765e0ad-3432-4a77-af8a-03b059cd071d"},{"kind":"app_task","name":"SYS_GEN__check_login_for_AHVMaster_9f30bd45_c609_4641_971b_3c348c327239","uuid":"b6520010-ea5d-4283-8999-393c6b691446"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Nutanix_Operation_PowerOn_9f30bd45_c609_4641_971b_3c348c327239","uuid":"3765e0ad-3432-4a77-af8a-03b059cd071d"},"edge_type":"inherent","type":"","uuid":"f095b7c3-0fb4-485a-abe6-db4fa56d0f3f","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_AHVMaster_9f30bd45_c609_4641_971b_3c348c327239","uuid":"b6520010-ea5d-4283-8999-393c6b691446"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_9f30bd45_c609_4641_971b_3c348c327239"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVMaster","uuid":"9f30bd45-c609-4641-971b-3c348c327239"},"retries":"0","description":"","type":"VMOPERATION_NUTANIX","uuid":"3765e0ad-3432-4a77-af8a-03b059cd071d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Nutanix_Operation_PowerOn_9f30bd45_c609_4641_971b_3c348c327239"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVMaster","uuid":"9f30bd45-c609-4641-971b-3c348c327239"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"b6520010-ea5d-4283-8999-393c6b691446","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"300","address":"@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_AHVMaster_9f30bd45_c609_4641_971b_3c348c327239"}],"description":"","message_list":[],"uuid":"f3dffc05-80c5-4aeb-8da7-0457bf74632d","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_9f30bd45_c609_4641_971b_3c348c327239","uuid":"b2a80e37-916a-47f2-a8ca-e7c36d46483d"},"name":"SYS_GEN__Runbook_Substrate_9f30bd45_c609_4641_971b_3c348c327239"}},{"description":"System action for restarting an application","message_list":[],"uuid":"55fee8ca-a9e6-4eed-b7e4-e5480d095c08","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AHVMaster","uuid":"9f30bd45-c609-4641-971b-3c348c327239"},"retries":"0","description":"","type":"DAG","uuid":"59d5645e-7273-4800-a729-c533c6fa3c91","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Nutanix_Operation_Restart_9f30bd45_c609_4641_971b_3c348c327239","uuid":"34817c3a-8402-4577-9778-d70dbef17d96"},{"kind":"app_task","name":"SYS_GEN__check_login_for_AHVMaster_9f30bd45_c609_4641_971b_3c348c327239","uuid":"38253662-0d49-4878-ae9e-b9a12a763703"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Nutanix_Operation_Restart_9f30bd45_c609_4641_971b_3c348c327239","uuid":"34817c3a-8402-4577-9778-d70dbef17d96"},"edge_type":"inherent","type":"","uuid":"b92a09c0-a002-4285-99f3-07dde78e938a","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_AHVMaster_9f30bd45_c609_4641_971b_3c348c327239","uuid":"38253662-0d49-4878-ae9e-b9a12a763703"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_9f30bd45_c609_4641_971b_3c348c327239"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVMaster","uuid":"9f30bd45-c609-4641-971b-3c348c327239"},"retries":"0","description":"","type":"VMOPERATION_NUTANIX","uuid":"34817c3a-8402-4577-9778-d70dbef17d96","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Nutanix_Operation_Restart_9f30bd45_c609_4641_971b_3c348c327239"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVMaster","uuid":"9f30bd45-c609-4641-971b-3c348c327239"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"38253662-0d49-4878-ae9e-b9a12a763703","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"300","address":"@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_AHVMaster_9f30bd45_c609_4641_971b_3c348c327239"}],"description":"","message_list":[],"uuid":"26246ec3-1461-4bc9-b66c-2611acd97a8c","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_9f30bd45_c609_4641_971b_3c348c327239","uuid":"59d5645e-7273-4800-a729-c533c6fa3c91"},"name":"SYS_GEN__Runbook_Substrate_9f30bd45_c609_4641_971b_3c348c327239"}},{"description":"System action for suspending an application","message_list":[],"uuid":"ec03a14c-332d-4ed4-9d65-83e830269138","name":"action_suspend","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AHVMaster","uuid":"9f30bd45-c609-4641-971b-3c348c327239"},"retries":"0","description":"","type":"DAG","uuid":"810c7fa4-e618-4730-8f07-7ccf98a49814","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_9f30bd45_c609_4641_971b_3c348c327239"}],"description":"","message_list":[],"uuid":"e2fa1c3c-9c0a-4589-b7c7-a4f47f8ba72e","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_9f30bd45_c609_4641_971b_3c348c327239","uuid":"810c7fa4-e618-4730-8f07-7ccf98a49814"},"name":"SYS_GEN__Runbook_Substrate_9f30bd45_c609_4641_971b_3c348c327239"}},{"description":"System action for modifying an application","message_list":[],"uuid":"6999162a-0f25-447e-a1fe-17c7b3ea1462","name":"action_modify","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AHVMaster","uuid":"9f30bd45-c609-4641-971b-3c348c327239"},"retries":"0","description":"","type":"DAG","uuid":"c9c1a14d-3e50-4560-9cb2-23935737aaf2","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_9f30bd45_c609_4641_971b_3c348c327239"}],"description":"","message_list":[],"uuid":"486372db-0e51-465c-a13a-49ce64df3d8c","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_9f30bd45_c609_4641_971b_3c348c327239","uuid":"c9c1a14d-3e50-4560-9cb2-23935737aaf2"},"name":"SYS_GEN__Runbook_Substrate_9f30bd45_c609_4641_971b_3c348c327239"}},{"description":"System action for powering off an application","message_list":[],"uuid":"963da3e5-63fd-4747-9e28-0402b853c364","name":"action_poweroff","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AHVMaster","uuid":"9f30bd45-c609-4641-971b-3c348c327239"},"retries":"0","description":"","type":"DAG","uuid":"baf0ca6c-0e13-4818-8497-716e2b2eceeb","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Nutanix_Operation_PowerOff_9f30bd45_c609_4641_971b_3c348c327239","uuid":"fed0938d-7add-4701-bef3-7a564d452fbf"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_9f30bd45_c609_4641_971b_3c348c327239"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVMaster","uuid":"9f30bd45-c609-4641-971b-3c348c327239"},"retries":"0","description":"","type":"VMOPERATION_NUTANIX","uuid":"fed0938d-7add-4701-bef3-7a564d452fbf","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Nutanix_Operation_PowerOff_9f30bd45_c609_4641_971b_3c348c327239"}],"description":"","message_list":[],"uuid":"f9639a48-74b8-49b7-95bb-588edc551c0e","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_9f30bd45_c609_4641_971b_3c348c327239","uuid":"baf0ca6c-0e13-4818-8497-716e2b2eceeb"},"name":"SYS_GEN__Runbook_Substrate_9f30bd45_c609_4641_971b_3c348c327239"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"ef22e21c-bc46-415d-b270-d7a72c365a4e","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AHVMaster","uuid":"9f30bd45-c609-4641-971b-3c348c327239"},"retries":"0","description":"","type":"DAG","uuid":"739f4659-61e6-412f-ab8b-70ea8af829cf","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Nutanix_Delete_9f30bd45_c609_4641_971b_3c348c327239","uuid":"28646309-435c-4eb6-b869-0eeb11b14a0d"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_9f30bd45_c609_4641_971b_3c348c327239"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVMaster","uuid":"9f30bd45-c609-4641-971b-3c348c327239"},"retries":"0","description":"","type":"DELETE_NUTANIX","uuid":"28646309-435c-4eb6-b869-0eeb11b14a0d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Nutanix_Delete_9f30bd45_c609_4641_971b_3c348c327239"}],"description":"","message_list":[],"uuid":"536172e5-30ed-496c-8921-13efb694781a","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_9f30bd45_c609_4641_971b_3c348c327239","uuid":"739f4659-61e6-412f-ab8b-70ea8af829cf"},"name":"SYS_GEN__Runbook_Substrate_9f30bd45_c609_4641_971b_3c348c327239"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"261fea71-9ffa-4772-a994-1f7766929fc5","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AHVMaster","uuid":"9f30bd45-c609-4641-971b-3c348c327239"},"retries":"0","description":"","type":"DAG","uuid":"96910f5f-f813-4911-9d80-e05e2b099de6","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Substrate_Element_Delete_9f30bd45_c609_4641_971b_3c348c327239","uuid":"ebfdd760-cf5f-45ef-89c4-54a6a1583384"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_9f30bd45_c609_4641_971b_3c348c327239"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVMaster","uuid":"9f30bd45-c609-4641-971b-3c348c327239"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"ebfdd760-cf5f-45ef-89c4-54a6a1583384","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Substrate_Element_Delete_9f30bd45_c609_4641_971b_3c348c327239"}],"description":"","message_list":[],"uuid":"3fbf39c6-2090-4155-8c73-8f065777bd14","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_9f30bd45_c609_4641_971b_3c348c327239","uuid":"96910f5f-f813-4911-9d80-e05e2b099de6"},"name":"SYS_GEN__Runbook_Substrate_9f30bd45_c609_4641_971b_3c348c327239"}}],"message_list":[],"uuid":"9f30bd45-c609-4641-971b-3c348c327239","state":"ACTIVE","readiness_probe":{"connection_type":"SSH","retries":"5","disable_readiness_probe":false,"address":"@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@","delay_secs":"0","connection_port":22,"login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"editables":{"readiness_probe":{"connection_type":true,"retries":true,"delay_secs":true,"connection_port":true,"timeout_secs":true},"create_spec":{"resources":{"nic_list":{},"serial_port_list":{},"num_vcpus_per_socket":true,"num_sockets":true,"memory_size_mib":true,"guest_customization":true,"disk_list":{"0":{"device_properties":{"disk_address":{}}}}},"name":true,"categories":true}},"os_type":"Linux","type":"AHV_VM","create_spec":{"name":"PostgresMasterVM","categories":{"AppFamily":"Databases"},"availability_zone_reference":null,"backup_policy":null,"type":"","cluster_reference":null,"resources":{"nic_list":[{"nic_type":"NORMAL_NIC","ip_endpoint_list":[],"network_function_chain_reference":null,"network_function_nic_type":"INGRESS","mac_address":"","subnet_reference":{"kind":"subnet","type":"","name":"","uuid":"efc034e3-b50e-4a48-b02d-25036aeb8bd3"},"type":""}],"parent_reference":null,"guest_tools":null,"num_vcpus_per_socket":2,"num_sockets":2,"serial_port_list":[],"gpu_list":[],"memory_size_mib":4096,"power_state":"ON","hardware_clock_timezone":"","guest_customization":{"cloud_init":{"meta_data":"","type":"","user_data":"#cloud-config\nusers:\n  - name: centos\n    ssh-authorized-keys:\n      - @@{CENTOS.public_key}@@\n    sudo: ['ALL=(ALL) NOPASSWD:ALL']"},"type":"","sysprep":null},"type":"","boot_config":{"boot_device":{"type":"","disk_address":{"adapter_type":"SCSI","device_index":0,"type":""}},"type":"","mac_address":""},"disk_list":[{"data_source_reference":{"kind":"app_package","type":"","name":"AHV_CENTOS_76","uuid":"d2ffe3cf-564e-49d2-a884-798626bcb5bf"},"type":"","disk_size_mib":0,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":0,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":61440,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":1,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":61440,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":2,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":61440,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":3,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":61440,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":4,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":20480,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":5,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":20480,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":6,"type":""}}}]}},"variable_list":[],"name":"AHVMaster"},{"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"7897ebf0-3f2b-4b26-9cfb-dade69634dd2","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AWSMaster","uuid":"13b7dc33-639a-4b63-b6c2-bcbc40ad50d0"},"retries":"0","description":"","type":"DAG","uuid":"7d270969-7f68-4265-b33a-d3788d6295ba","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Aws_Provision_13b7dc33_639a_4b63_b6c2_bcbc40ad50d0","uuid":"b477093c-325b-4e80-ba1c-2ce89c76a6f9"},{"kind":"app_task","name":"SYS_GEN__check_login_for_AWSMaster_13b7dc33_639a_4b63_b6c2_bcbc40ad50d0","uuid":"6101ee28-24af-4e26-9eb1-e30c28aef40c"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Aws_Provision_13b7dc33_639a_4b63_b6c2_bcbc40ad50d0","uuid":"b477093c-325b-4e80-ba1c-2ce89c76a6f9"},"edge_type":"inherent","type":"","uuid":"988f29c3-d7b5-4abe-a9e7-f6e0d249c872","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_AWSMaster_13b7dc33_639a_4b63_b6c2_bcbc40ad50d0","uuid":"6101ee28-24af-4e26-9eb1-e30c28aef40c"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_13b7dc33_639a_4b63_b6c2_bcbc40ad50d0"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSMaster","uuid":"13b7dc33-639a-4b63-b6c2-bcbc40ad50d0"},"retries":"0","description":"","type":"PROVISION_AWS_VM","uuid":"b477093c-325b-4e80-ba1c-2ce89c76a6f9","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"name":"PostgresMasterVM","availability_zone_reference":null,"backup_policy":null,"type":"PROVISION_AWS_VM","cluster_reference":null,"resources":{"instance_profile_name":"ecsInstanceRole","instance_type":"t2.medium","subnet_id":"subnet-9d1085b1","key_name":"calm-blueprints","region":"us-east-1","availability_zone":"us-east-1a","instance_initiated_shutdown_behavior":"","user_data":"","image_id":"ami-1a003360","state":"RUNNING","security_group_list":[{"type":"","security_group_id":"sg-184ead62"}],"block_device_map":{"data_disk_list":[{"size_gb":60,"volume_type":"STANDARD","device_name":"\/dev\/sdb","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":60,"volume_type":"STANDARD","device_name":"\/dev\/sdc","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":60,"volume_type":"STANDARD","device_name":"\/dev\/sdd","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":60,"volume_type":"STANDARD","device_name":"\/dev\/sde","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":20,"volume_type":"STANDARD","device_name":"\/dev\/sdf","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":20,"volume_type":"STANDARD","device_name":"\/dev\/sdg","iops":1,"snapshot_id":"","type":"","delete_on_termination":true}],"type":"","root_disk":{"size_gb":10,"volume_type":"GP2","device_name":"\/dev\/sda1","iops":1,"snapshot_id":"","type":"","delete_on_termination":true}},"private_ip_address":"","vpc_id":"vpc-ffd54d98","tag_list":[],"type":"","account_uuid":"8c2e0a6b-620a-c62a-c3f4-e58b101dfd0d","associate_public_ip_address":true}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Aws_Provision_13b7dc33_639a_4b63_b6c2_bcbc40ad50d0"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSMaster","uuid":"13b7dc33-639a-4b63-b6c2-bcbc40ad50d0"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"6101ee28-24af-4e26-9eb1-e30c28aef40c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"300","address":"@@{public_ip_address}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_AWSMaster_13b7dc33_639a_4b63_b6c2_bcbc40ad50d0"}],"description":"","message_list":[],"uuid":"1d2a9bb4-2bd2-4eb4-a1ac-7da3a948a55a","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_13b7dc33_639a_4b63_b6c2_bcbc40ad50d0","uuid":"7d270969-7f68-4265-b33a-d3788d6295ba"},"name":"SYS_GEN__Runbook_Substrate_13b7dc33_639a_4b63_b6c2_bcbc40ad50d0"}},{"description":"System action for powering on an application","message_list":[],"uuid":"a83bcfec-b535-4ec8-90e0-b4952dcd281d","name":"action_poweron","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AWSMaster","uuid":"13b7dc33-639a-4b63-b6c2-bcbc40ad50d0"},"retries":"0","description":"","type":"DAG","uuid":"1ebade0d-3b7a-4a23-9428-fa06fb382e98","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Aws_Operation_PowerOn_13b7dc33_639a_4b63_b6c2_bcbc40ad50d0","uuid":"803c0b60-65a2-4cf8-bed2-9c08aecce69e"},{"kind":"app_task","name":"SYS_GEN__check_login_for_AWSMaster_13b7dc33_639a_4b63_b6c2_bcbc40ad50d0","uuid":"32aaad04-89aa-4346-9f52-b627acb64ef1"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Aws_Operation_PowerOn_13b7dc33_639a_4b63_b6c2_bcbc40ad50d0","uuid":"803c0b60-65a2-4cf8-bed2-9c08aecce69e"},"edge_type":"inherent","type":"","uuid":"33067b01-b4da-44e6-81ba-23f234dc0747","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_AWSMaster_13b7dc33_639a_4b63_b6c2_bcbc40ad50d0","uuid":"32aaad04-89aa-4346-9f52-b627acb64ef1"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_13b7dc33_639a_4b63_b6c2_bcbc40ad50d0"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSMaster","uuid":"13b7dc33-639a-4b63-b6c2-bcbc40ad50d0"},"retries":"0","description":"","type":"VMOPERATION_AWS_VM","uuid":"803c0b60-65a2-4cf8-bed2-9c08aecce69e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Aws_Operation_PowerOn_13b7dc33_639a_4b63_b6c2_bcbc40ad50d0"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSMaster","uuid":"13b7dc33-639a-4b63-b6c2-bcbc40ad50d0"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"32aaad04-89aa-4346-9f52-b627acb64ef1","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"300","address":"@@{public_ip_address}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_AWSMaster_13b7dc33_639a_4b63_b6c2_bcbc40ad50d0"}],"description":"","message_list":[],"uuid":"0abc5e52-5720-4f1b-b06f-9bcb8cbcb659","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_13b7dc33_639a_4b63_b6c2_bcbc40ad50d0","uuid":"1ebade0d-3b7a-4a23-9428-fa06fb382e98"},"name":"SYS_GEN__Runbook_Substrate_13b7dc33_639a_4b63_b6c2_bcbc40ad50d0"}},{"description":"System action for restarting an application","message_list":[],"uuid":"bc3af2df-e0e3-412a-ab50-40d6975da23a","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AWSMaster","uuid":"13b7dc33-639a-4b63-b6c2-bcbc40ad50d0"},"retries":"0","description":"","type":"DAG","uuid":"6f45afe5-24c3-4678-a3a8-adfd197313f1","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Aws_Operation_Restart_13b7dc33_639a_4b63_b6c2_bcbc40ad50d0","uuid":"7bf58a2c-21b2-4806-bcd8-42a297b6aa0f"},{"kind":"app_task","name":"SYS_GEN__check_login_for_AWSMaster_13b7dc33_639a_4b63_b6c2_bcbc40ad50d0","uuid":"667918c3-f03c-4e46-9258-00f0709d7391"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Aws_Operation_Restart_13b7dc33_639a_4b63_b6c2_bcbc40ad50d0","uuid":"7bf58a2c-21b2-4806-bcd8-42a297b6aa0f"},"edge_type":"inherent","type":"","uuid":"72893b3f-5741-4180-bd37-b439c76cea98","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_AWSMaster_13b7dc33_639a_4b63_b6c2_bcbc40ad50d0","uuid":"667918c3-f03c-4e46-9258-00f0709d7391"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_13b7dc33_639a_4b63_b6c2_bcbc40ad50d0"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSMaster","uuid":"13b7dc33-639a-4b63-b6c2-bcbc40ad50d0"},"retries":"0","description":"","type":"VMOPERATION_AWS_VM","uuid":"7bf58a2c-21b2-4806-bcd8-42a297b6aa0f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Aws_Operation_Restart_13b7dc33_639a_4b63_b6c2_bcbc40ad50d0"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSMaster","uuid":"13b7dc33-639a-4b63-b6c2-bcbc40ad50d0"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"667918c3-f03c-4e46-9258-00f0709d7391","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"300","address":"@@{public_ip_address}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_AWSMaster_13b7dc33_639a_4b63_b6c2_bcbc40ad50d0"}],"description":"","message_list":[],"uuid":"f4cfccd3-47bc-44a2-bb07-520c4801c8ca","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_13b7dc33_639a_4b63_b6c2_bcbc40ad50d0","uuid":"6f45afe5-24c3-4678-a3a8-adfd197313f1"},"name":"SYS_GEN__Runbook_Substrate_13b7dc33_639a_4b63_b6c2_bcbc40ad50d0"}},{"description":"System action for suspending an application","message_list":[],"uuid":"787453db-2f8e-4138-8d26-16cfa86c7cac","name":"action_suspend","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AWSMaster","uuid":"13b7dc33-639a-4b63-b6c2-bcbc40ad50d0"},"retries":"0","description":"","type":"DAG","uuid":"f67943d8-90aa-4e55-9b68-249c68589006","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_13b7dc33_639a_4b63_b6c2_bcbc40ad50d0"}],"description":"","message_list":[],"uuid":"5b47240c-acbd-43b5-8a80-cbbcea81e2bf","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_13b7dc33_639a_4b63_b6c2_bcbc40ad50d0","uuid":"f67943d8-90aa-4e55-9b68-249c68589006"},"name":"SYS_GEN__Runbook_Substrate_13b7dc33_639a_4b63_b6c2_bcbc40ad50d0"}},{"description":"System action for modifying an application","message_list":[],"uuid":"960bf937-6e54-469b-8bae-6c3d31e8154d","name":"action_modify","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AWSMaster","uuid":"13b7dc33-639a-4b63-b6c2-bcbc40ad50d0"},"retries":"0","description":"","type":"DAG","uuid":"64ad7f3b-1af7-4aac-85ee-dd1d65e8b3d3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_13b7dc33_639a_4b63_b6c2_bcbc40ad50d0"}],"description":"","message_list":[],"uuid":"359f64bb-0cb0-4ac5-8c97-74056dd4c474","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_13b7dc33_639a_4b63_b6c2_bcbc40ad50d0","uuid":"64ad7f3b-1af7-4aac-85ee-dd1d65e8b3d3"},"name":"SYS_GEN__Runbook_Substrate_13b7dc33_639a_4b63_b6c2_bcbc40ad50d0"}},{"description":"System action for powering off an application","message_list":[],"uuid":"7731d43d-d311-460e-921b-5f35c52a6e89","name":"action_poweroff","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AWSMaster","uuid":"13b7dc33-639a-4b63-b6c2-bcbc40ad50d0"},"retries":"0","description":"","type":"DAG","uuid":"e3ab7abe-16be-4804-80b4-1781f4964c51","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Aws_Operation_PowerOff_13b7dc33_639a_4b63_b6c2_bcbc40ad50d0","uuid":"995b4f63-6b77-42af-8b49-e8cefcd18e67"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_13b7dc33_639a_4b63_b6c2_bcbc40ad50d0"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSMaster","uuid":"13b7dc33-639a-4b63-b6c2-bcbc40ad50d0"},"retries":"0","description":"","type":"VMOPERATION_AWS_VM","uuid":"995b4f63-6b77-42af-8b49-e8cefcd18e67","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Aws_Operation_PowerOff_13b7dc33_639a_4b63_b6c2_bcbc40ad50d0"}],"description":"","message_list":[],"uuid":"b71e8c55-2373-4e5a-b7d1-7fed21eff75f","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_13b7dc33_639a_4b63_b6c2_bcbc40ad50d0","uuid":"e3ab7abe-16be-4804-80b4-1781f4964c51"},"name":"SYS_GEN__Runbook_Substrate_13b7dc33_639a_4b63_b6c2_bcbc40ad50d0"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"f399fdec-774d-4583-a881-675dacb4cbdd","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AWSMaster","uuid":"13b7dc33-639a-4b63-b6c2-bcbc40ad50d0"},"retries":"0","description":"","type":"DAG","uuid":"15729e09-0982-4083-82da-945c49981172","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Aws_Delete_13b7dc33_639a_4b63_b6c2_bcbc40ad50d0","uuid":"417bd517-3205-4c98-badc-10eb3a57a729"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_13b7dc33_639a_4b63_b6c2_bcbc40ad50d0"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSMaster","uuid":"13b7dc33-639a-4b63-b6c2-bcbc40ad50d0"},"retries":"0","description":"","type":"DELETE_AWS_VM","uuid":"417bd517-3205-4c98-badc-10eb3a57a729","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Aws_Delete_13b7dc33_639a_4b63_b6c2_bcbc40ad50d0"}],"description":"","message_list":[],"uuid":"97f9cdf1-0f6c-4b5c-8e87-a2e9ea750d7d","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_13b7dc33_639a_4b63_b6c2_bcbc40ad50d0","uuid":"15729e09-0982-4083-82da-945c49981172"},"name":"SYS_GEN__Runbook_Substrate_13b7dc33_639a_4b63_b6c2_bcbc40ad50d0"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"4605e81e-9f43-49f0-b3b3-0f291fd22f23","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AWSMaster","uuid":"13b7dc33-639a-4b63-b6c2-bcbc40ad50d0"},"retries":"0","description":"","type":"DAG","uuid":"72c169ba-654a-497f-9e2d-3bf8f706b50d","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Substrate_Element_Delete_13b7dc33_639a_4b63_b6c2_bcbc40ad50d0","uuid":"f983730d-ca94-4331-87fe-aa77fa22047e"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_13b7dc33_639a_4b63_b6c2_bcbc40ad50d0"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSMaster","uuid":"13b7dc33-639a-4b63-b6c2-bcbc40ad50d0"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"f983730d-ca94-4331-87fe-aa77fa22047e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Substrate_Element_Delete_13b7dc33_639a_4b63_b6c2_bcbc40ad50d0"}],"description":"","message_list":[],"uuid":"6729c2f1-bcdf-46a0-a213-be1710e74cb2","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_13b7dc33_639a_4b63_b6c2_bcbc40ad50d0","uuid":"72c169ba-654a-497f-9e2d-3bf8f706b50d"},"name":"SYS_GEN__Runbook_Substrate_13b7dc33_639a_4b63_b6c2_bcbc40ad50d0"}}],"message_list":[],"uuid":"13b7dc33-639a-4b63-b6c2-bcbc40ad50d0","state":"ACTIVE","readiness_probe":{"connection_type":"SSH","retries":"5","disable_readiness_probe":false,"address":"@@{public_ip_address}@@","delay_secs":"0","connection_port":22,"login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"editables":{"readiness_probe":{"connection_type":true,"delay_secs":true,"connection_port":true,"timeout_secs":true},"create_spec":{"name":true,"resources":{"instance_profile_name":true,"availability_zone":true,"subnet_id":true,"key_name":true,"region":true,"image_id":true,"instance_type":true,"security_group_list":true,"block_device_map":{"data_disk_list":{"1":{"size_gb":true},"0":{"size_gb":true},"3":{"size_gb":true},"2":{"size_gb":true},"5":{"size_gb":true},"4":{"size_gb":true}},"root_disk":{"size_gb":true}},"associate_public_ip_address":true,"vpc_id":true,"tag_list":true}}},"os_type":"Linux","type":"AWS_VM","create_spec":{"name":"PostgresMasterVM","availability_zone_reference":null,"backup_policy":null,"type":"PROVISION_AWS_VM","cluster_reference":null,"resources":{"instance_profile_name":"ecsInstanceRole","instance_type":"t2.medium","subnet_id":"subnet-9d1085b1","key_name":"calm-blueprints","region":"us-east-1","availability_zone":"us-east-1a","instance_initiated_shutdown_behavior":"","user_data":"","image_id":"ami-1a003360","state":"RUNNING","security_group_list":[{"type":"","security_group_id":"sg-184ead62"}],"block_device_map":{"data_disk_list":[{"size_gb":60,"volume_type":"STANDARD","device_name":"\/dev\/sdb","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":60,"volume_type":"STANDARD","device_name":"\/dev\/sdc","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":60,"volume_type":"STANDARD","device_name":"\/dev\/sdd","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":60,"volume_type":"STANDARD","device_name":"\/dev\/sde","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":20,"volume_type":"STANDARD","device_name":"\/dev\/sdf","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":20,"volume_type":"STANDARD","device_name":"\/dev\/sdg","iops":1,"snapshot_id":"","type":"","delete_on_termination":true}],"type":"","root_disk":{"size_gb":10,"volume_type":"GP2","device_name":"\/dev\/sda1","iops":1,"snapshot_id":"","type":"","delete_on_termination":true}},"private_ip_address":"","vpc_id":"vpc-ffd54d98","tag_list":[],"type":"","account_uuid":"8c2e0a6b-620a-c62a-c3f4-e58b101dfd0d","associate_public_ip_address":true}},"variable_list":[],"name":"AWSMaster"},{"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"7c32f05e-ccf5-43b4-afd8-e571f6dcb84c","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"GCPMaster","uuid":"4a8310a8-12fc-4200-b014-019f49e4a9fd"},"retries":"0","description":"","type":"DAG","uuid":"66ca612a-0a77-43a6-95f9-f571bcd784fb","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Gcp_Provision_4a8310a8_12fc_4200_b014_019f49e4a9fd","uuid":"1534f559-13ad-43ed-a964-1469a4ebfc38"},{"kind":"app_task","name":"SYS_GEN__check_login_for_GCPMaster_4a8310a8_12fc_4200_b014_019f49e4a9fd","uuid":"fbd3583c-c241-4939-95d4-8810e7f900e7"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Gcp_Provision_4a8310a8_12fc_4200_b014_019f49e4a9fd","uuid":"1534f559-13ad-43ed-a964-1469a4ebfc38"},"edge_type":"inherent","type":"","uuid":"77396590-2323-4f90-9113-0623f501a4e8","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_GCPMaster_4a8310a8_12fc_4200_b014_019f49e4a9fd","uuid":"fbd3583c-c241-4939-95d4-8810e7f900e7"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_4a8310a8_12fc_4200_b014_019f49e4a9fd"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPMaster","uuid":"4a8310a8-12fc-4200-b014-019f49e4a9fd"},"retries":"0","description":"","type":"PROVISION_GCP_VM","uuid":"1534f559-13ad-43ed-a964-1469a4ebfc38","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"PROVISION_GCP_VM","resources":{"labels":[],"machineType":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/machineTypes\/g1-small","description":"","zone":"us-central1-c","tags":{"items":["allow-postgresql"],"type":"","fingerprint":""},"guestCustomization":{"type":"","sysprep":"","startupScript":""},"labelFingerprint":"","disks":[{"diskEncryptionKey":{},"deviceName":"","initializeParams":{"sourceImageEncryptionKey":{},"diskName":"","diskType":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","diskSizeGb":-1,"sourceImage":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/global\/images\/centos-7","type":""},"autoDelete":true,"boot":true,"source":"","mode":"","interface":"","disk_type":"PERSISTENT","type":""}],"metadata":{"items":[],"type":"","fingerprint":""},"sshKeys":["centos:ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDMGAS\/K0Mb\/uwFXwD+hkjguy7VMZk2hpuhwPl9FUZwVBrURf\/i9QMJ5\/paPEZixu8VlRx7Inu4iun7rQfrnfeIYInmBwspXHYiTK3oHJAgZnrAHVEf1p6YaxLINlT1NI5yOAGPRWW6of8rBDBH1ObwU2+wcSx\/1H0uIs3aZNLufr+Rh628ACxAum2Gt8AVRj6ua2BPFyt5VTdclyysAmeh1AiixNgOZXOz6y\/i4TbzpY78I3isuKpxsUeXX6jxEMQol406jHDUF6njEOPIQG2zVZ3QJlTG9OlN+NiyZG9WkZz0VG\/6M8ixxIHHI2dNwUbBFv2HUu+8X9LTLFq2O7KjX9Hp7uZKBAySHA3eKaKHIp2bZuU1bT5PRPkggngX86xg+T+OMNnutbAiMnRJ8+FvD5So+5TIx4b9GgxAxure3x2yRPT9lOiQOB+CVpJPxR0Rn9bOI+wiPnD0kAGvK\/fHT+pqL4PM+hTnJtp9rrCRzIQApBx1263jEcYffhW2epZQRO+he5CMawFJ5TBe08om2AaDJ8GQdrpF6YA3W8DzHbmL3DPVVHdmqPLn10o+LX4gv5SdIIDVGdjKOc1BCnLTRmM28d5+sLDt\/M+kvcQgf0y0yDjMVjGECZkt39hbm4ELMHzZtzYLmHNhBZxRqHeJ7qFTuv1kx88OW3Xc5mbBNQ== centos@nutanix.com\n"],"minCpuPlatform":"","scheduling":{"automaticRestart":true,"type":"","preemptible":false,"onHostMaintenance":"TERMINATE"},"canIpForward":false,"blankDisks":[{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"pg-master-dev-0-@@{calm_time}@@","sizeGb":60,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"pg-master-dev-1-@@{calm_time}@@","sizeGb":60,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"pg-master-dev-2-@@{calm_time}@@","sizeGb":60,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"pg-master-dev-3-@@{calm_time}@@","sizeGb":60,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"pg-master-dev-4-@@{calm_time}@@","sizeGb":20,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"pg-master-dev-5-@@{calm_time}@@","sizeGb":20,"autoDelete":true}],"networkInterfaces":[{"aliasIpRanges":[],"network":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/global\/networks\/default","accessConfigs":[{"config_type":"ONE_TO_ONE_NAT","type":"","name":"master-default-acn","natIP":""}],"networkIP":"","subnetwork":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/regions\/us-central1\/subnetworks\/default","type":"","associatePublicIP":true}],"type":"","account_uuid":"84213a31-4fe8-7e39-3799-e093e5d0dc2e","serviceAccounts":[{"scopes":[],"type":"","email":"108048128720-compute@developer.gserviceaccount.com"}],"name":"pg-master-@@{calm_array_index}@@-@@{calm_time}@@"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Gcp_Provision_4a8310a8_12fc_4200_b014_019f49e4a9fd"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPMaster","uuid":"4a8310a8-12fc-4200-b014-019f49e4a9fd"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"fbd3583c-c241-4939-95d4-8810e7f900e7","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"300","address":"@@{public_ip_address}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_GCPMaster_4a8310a8_12fc_4200_b014_019f49e4a9fd"}],"description":"","message_list":[],"uuid":"cd4f2292-3c18-4c5f-8f7a-670e135123ac","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_4a8310a8_12fc_4200_b014_019f49e4a9fd","uuid":"66ca612a-0a77-43a6-95f9-f571bcd784fb"},"name":"SYS_GEN__Runbook_Substrate_4a8310a8_12fc_4200_b014_019f49e4a9fd"}},{"description":"System action for powering on an application","message_list":[],"uuid":"b52268ce-3e54-47d1-aadf-95a06ca4810f","name":"action_poweron","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"GCPMaster","uuid":"4a8310a8-12fc-4200-b014-019f49e4a9fd"},"retries":"0","description":"","type":"DAG","uuid":"c3bbeed1-14d7-4a09-8bae-9a6e586db9a1","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Gcp_Operation_PowerOn_4a8310a8_12fc_4200_b014_019f49e4a9fd","uuid":"afc9c490-71c6-4a1d-8279-e4ec743a6e81"},{"kind":"app_task","name":"SYS_GEN__check_login_for_GCPMaster_4a8310a8_12fc_4200_b014_019f49e4a9fd","uuid":"5b4949e5-f146-476f-b15a-02dafe1ab2aa"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Gcp_Operation_PowerOn_4a8310a8_12fc_4200_b014_019f49e4a9fd","uuid":"afc9c490-71c6-4a1d-8279-e4ec743a6e81"},"edge_type":"inherent","type":"","uuid":"cc791145-f953-458a-9d9f-3cabfbeed8ca","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_GCPMaster_4a8310a8_12fc_4200_b014_019f49e4a9fd","uuid":"5b4949e5-f146-476f-b15a-02dafe1ab2aa"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_4a8310a8_12fc_4200_b014_019f49e4a9fd"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPMaster","uuid":"4a8310a8-12fc-4200-b014-019f49e4a9fd"},"retries":"0","description":"","type":"VMOPERATION_GCP_VM","uuid":"afc9c490-71c6-4a1d-8279-e4ec743a6e81","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Gcp_Operation_PowerOn_4a8310a8_12fc_4200_b014_019f49e4a9fd"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPMaster","uuid":"4a8310a8-12fc-4200-b014-019f49e4a9fd"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"5b4949e5-f146-476f-b15a-02dafe1ab2aa","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"300","address":"@@{public_ip_address}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_GCPMaster_4a8310a8_12fc_4200_b014_019f49e4a9fd"}],"description":"","message_list":[],"uuid":"0910c83c-71ab-46ab-9846-1d35bb904125","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_4a8310a8_12fc_4200_b014_019f49e4a9fd","uuid":"c3bbeed1-14d7-4a09-8bae-9a6e586db9a1"},"name":"SYS_GEN__Runbook_Substrate_4a8310a8_12fc_4200_b014_019f49e4a9fd"}},{"description":"System action for restarting an application","message_list":[],"uuid":"88fbc066-bc90-4954-bd0b-158e2adc707e","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"GCPMaster","uuid":"4a8310a8-12fc-4200-b014-019f49e4a9fd"},"retries":"0","description":"","type":"DAG","uuid":"7e5aeedb-4b0e-4995-8197-337f25f43166","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Gcp_Operation_Restart_4a8310a8_12fc_4200_b014_019f49e4a9fd","uuid":"c813bd93-f398-4c0d-a516-657ca041022f"},{"kind":"app_task","name":"SYS_GEN__check_login_for_GCPMaster_4a8310a8_12fc_4200_b014_019f49e4a9fd","uuid":"ca43784b-79df-48b8-86cb-5c0b23a1909f"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Gcp_Operation_Restart_4a8310a8_12fc_4200_b014_019f49e4a9fd","uuid":"c813bd93-f398-4c0d-a516-657ca041022f"},"edge_type":"inherent","type":"","uuid":"a901247f-9a73-4e86-9998-36fbac712c5e","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_GCPMaster_4a8310a8_12fc_4200_b014_019f49e4a9fd","uuid":"ca43784b-79df-48b8-86cb-5c0b23a1909f"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_4a8310a8_12fc_4200_b014_019f49e4a9fd"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPMaster","uuid":"4a8310a8-12fc-4200-b014-019f49e4a9fd"},"retries":"0","description":"","type":"VMOPERATION_GCP_VM","uuid":"c813bd93-f398-4c0d-a516-657ca041022f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Gcp_Operation_Restart_4a8310a8_12fc_4200_b014_019f49e4a9fd"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPMaster","uuid":"4a8310a8-12fc-4200-b014-019f49e4a9fd"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"ca43784b-79df-48b8-86cb-5c0b23a1909f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"300","address":"@@{public_ip_address}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_GCPMaster_4a8310a8_12fc_4200_b014_019f49e4a9fd"}],"description":"","message_list":[],"uuid":"b36fd76d-53f7-46ac-b16f-003b7bcffa06","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_4a8310a8_12fc_4200_b014_019f49e4a9fd","uuid":"7e5aeedb-4b0e-4995-8197-337f25f43166"},"name":"SYS_GEN__Runbook_Substrate_4a8310a8_12fc_4200_b014_019f49e4a9fd"}},{"description":"System action for suspending an application","message_list":[],"uuid":"19709157-f87b-45b6-bdf3-921382b43aac","name":"action_suspend","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"GCPMaster","uuid":"4a8310a8-12fc-4200-b014-019f49e4a9fd"},"retries":"0","description":"","type":"DAG","uuid":"30a406f0-8742-4f98-8047-ce3c39cc6adf","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_4a8310a8_12fc_4200_b014_019f49e4a9fd"}],"description":"","message_list":[],"uuid":"2f4f1975-74ae-4cd3-90f1-f905fe870968","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_4a8310a8_12fc_4200_b014_019f49e4a9fd","uuid":"30a406f0-8742-4f98-8047-ce3c39cc6adf"},"name":"SYS_GEN__Runbook_Substrate_4a8310a8_12fc_4200_b014_019f49e4a9fd"}},{"description":"System action for modifying an application","message_list":[],"uuid":"8c368ce1-5a92-41bc-950e-6675946a305b","name":"action_modify","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"GCPMaster","uuid":"4a8310a8-12fc-4200-b014-019f49e4a9fd"},"retries":"0","description":"","type":"DAG","uuid":"090ebce7-20a5-4bc7-8327-f929f5faf7fd","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_4a8310a8_12fc_4200_b014_019f49e4a9fd"}],"description":"","message_list":[],"uuid":"5664b67f-dcb3-48c7-9cf1-0b1308b3d106","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_4a8310a8_12fc_4200_b014_019f49e4a9fd","uuid":"090ebce7-20a5-4bc7-8327-f929f5faf7fd"},"name":"SYS_GEN__Runbook_Substrate_4a8310a8_12fc_4200_b014_019f49e4a9fd"}},{"description":"System action for powering off an application","message_list":[],"uuid":"62f916bf-ec76-492e-a39f-ba9a0ae26495","name":"action_poweroff","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"GCPMaster","uuid":"4a8310a8-12fc-4200-b014-019f49e4a9fd"},"retries":"0","description":"","type":"DAG","uuid":"b2986d5e-1706-4a76-9f3e-e5844ec86d9f","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Gcp_Operation_PowerOff_4a8310a8_12fc_4200_b014_019f49e4a9fd","uuid":"bc2380ab-3f1f-4329-a76c-e9c4c2d26f75"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_4a8310a8_12fc_4200_b014_019f49e4a9fd"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPMaster","uuid":"4a8310a8-12fc-4200-b014-019f49e4a9fd"},"retries":"0","description":"","type":"VMOPERATION_GCP_VM","uuid":"bc2380ab-3f1f-4329-a76c-e9c4c2d26f75","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Gcp_Operation_PowerOff_4a8310a8_12fc_4200_b014_019f49e4a9fd"}],"description":"","message_list":[],"uuid":"4644c864-7187-4967-9629-273cba25ff44","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_4a8310a8_12fc_4200_b014_019f49e4a9fd","uuid":"b2986d5e-1706-4a76-9f3e-e5844ec86d9f"},"name":"SYS_GEN__Runbook_Substrate_4a8310a8_12fc_4200_b014_019f49e4a9fd"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"7bd92783-7a3f-4357-b452-04408e931c4a","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"GCPMaster","uuid":"4a8310a8-12fc-4200-b014-019f49e4a9fd"},"retries":"0","description":"","type":"DAG","uuid":"4d15102c-467a-4086-8f23-37ebc422bf0a","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Gcp_Delete_4a8310a8_12fc_4200_b014_019f49e4a9fd","uuid":"e9e279a8-4d9d-4ab8-a643-6898e6b4f6e7"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_4a8310a8_12fc_4200_b014_019f49e4a9fd"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPMaster","uuid":"4a8310a8-12fc-4200-b014-019f49e4a9fd"},"retries":"0","description":"","type":"DELETE_GCP_VM","uuid":"e9e279a8-4d9d-4ab8-a643-6898e6b4f6e7","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Gcp_Delete_4a8310a8_12fc_4200_b014_019f49e4a9fd"}],"description":"","message_list":[],"uuid":"07db0ceb-fe45-4c09-bccb-9d2e80764d8f","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_4a8310a8_12fc_4200_b014_019f49e4a9fd","uuid":"4d15102c-467a-4086-8f23-37ebc422bf0a"},"name":"SYS_GEN__Runbook_Substrate_4a8310a8_12fc_4200_b014_019f49e4a9fd"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"33028185-e3fd-4f7d-982f-0b305494d31d","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"GCPMaster","uuid":"4a8310a8-12fc-4200-b014-019f49e4a9fd"},"retries":"0","description":"","type":"DAG","uuid":"9b165d3f-ed3d-439d-961d-06caa8923573","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Substrate_Element_Delete_4a8310a8_12fc_4200_b014_019f49e4a9fd","uuid":"35cdc345-c060-4769-89ed-48fc80fe73fc"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_4a8310a8_12fc_4200_b014_019f49e4a9fd"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPMaster","uuid":"4a8310a8-12fc-4200-b014-019f49e4a9fd"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"35cdc345-c060-4769-89ed-48fc80fe73fc","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Substrate_Element_Delete_4a8310a8_12fc_4200_b014_019f49e4a9fd"}],"description":"","message_list":[],"uuid":"75973046-e9c6-4766-9764-b2005cf20d9d","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_4a8310a8_12fc_4200_b014_019f49e4a9fd","uuid":"9b165d3f-ed3d-439d-961d-06caa8923573"},"name":"SYS_GEN__Runbook_Substrate_4a8310a8_12fc_4200_b014_019f49e4a9fd"}}],"message_list":[],"uuid":"4a8310a8-12fc-4200-b014-019f49e4a9fd","state":"ACTIVE","readiness_probe":{"connection_type":"SSH","retries":"5","disable_readiness_probe":false,"address":"@@{public_ip_address}@@","delay_secs":"0","connection_port":22,"login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"editables":{"readiness_probe":{"connection_type":true,"delay_secs":true,"connection_port":true,"timeout_secs":true},"create_spec":{"resources":{"labels":true,"machineType":true,"name":true,"zone":true,"tags":{"items":true},"guestCustomization":{},"disks":{"0":{"initializeParams":{"diskSizeGb":true,"sourceImage":true,"diskType":true},"autoDelete":true}},"blankDisks":{"1":{"disk_type":true,"name":true,"sizeGb":true,"autoDelete":true},"0":{"disk_type":true,"name":true,"sizeGb":true,"autoDelete":true},"3":{"disk_type":true,"name":true,"sizeGb":true,"autoDelete":true},"2":{"disk_type":true,"name":true,"sizeGb":true,"autoDelete":true},"5":{"disk_type":true,"name":true,"sizeGb":true,"autoDelete":true},"4":{"disk_type":true,"name":true,"sizeGb":true,"autoDelete":true}},"networkInterfaces":{"0":{"accessConfigs":{"0":{"config_type":true,"name":true}},"network":true,"subnetwork":true,"associatePublicIP":true}},"sshKeys":{"0":true},"serviceAccounts":{"0":{"scopes":true}},"metadata":{"items":true}}}},"os_type":"Linux","type":"GCP_VM","create_spec":{"type":"PROVISION_GCP_VM","resources":{"labels":[],"machineType":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/machineTypes\/g1-small","description":"","zone":"us-central1-c","tags":{"items":["allow-postgresql"],"type":"","fingerprint":""},"guestCustomization":{"type":"","sysprep":"","startupScript":""},"labelFingerprint":"","disks":[{"diskEncryptionKey":{},"deviceName":"","initializeParams":{"sourceImageEncryptionKey":{},"diskName":"","diskType":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","diskSizeGb":-1,"sourceImage":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/global\/images\/centos-7","type":""},"autoDelete":true,"boot":true,"source":"","mode":"","interface":"","disk_type":"PERSISTENT","type":""}],"metadata":{"items":[],"type":"","fingerprint":""},"sshKeys":["centos:ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDMGAS\/K0Mb\/uwFXwD+hkjguy7VMZk2hpuhwPl9FUZwVBrURf\/i9QMJ5\/paPEZixu8VlRx7Inu4iun7rQfrnfeIYInmBwspXHYiTK3oHJAgZnrAHVEf1p6YaxLINlT1NI5yOAGPRWW6of8rBDBH1ObwU2+wcSx\/1H0uIs3aZNLufr+Rh628ACxAum2Gt8AVRj6ua2BPFyt5VTdclyysAmeh1AiixNgOZXOz6y\/i4TbzpY78I3isuKpxsUeXX6jxEMQol406jHDUF6njEOPIQG2zVZ3QJlTG9OlN+NiyZG9WkZz0VG\/6M8ixxIHHI2dNwUbBFv2HUu+8X9LTLFq2O7KjX9Hp7uZKBAySHA3eKaKHIp2bZuU1bT5PRPkggngX86xg+T+OMNnutbAiMnRJ8+FvD5So+5TIx4b9GgxAxure3x2yRPT9lOiQOB+CVpJPxR0Rn9bOI+wiPnD0kAGvK\/fHT+pqL4PM+hTnJtp9rrCRzIQApBx1263jEcYffhW2epZQRO+he5CMawFJ5TBe08om2AaDJ8GQdrpF6YA3W8DzHbmL3DPVVHdmqPLn10o+LX4gv5SdIIDVGdjKOc1BCnLTRmM28d5+sLDt\/M+kvcQgf0y0yDjMVjGECZkt39hbm4ELMHzZtzYLmHNhBZxRqHeJ7qFTuv1kx88OW3Xc5mbBNQ== centos@nutanix.com\n"],"minCpuPlatform":"","scheduling":{"automaticRestart":true,"type":"","preemptible":false,"onHostMaintenance":"TERMINATE"},"canIpForward":false,"blankDisks":[{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"pg-master-dev-0-@@{calm_time}@@","sizeGb":60,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"pg-master-dev-1-@@{calm_time}@@","sizeGb":60,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"pg-master-dev-2-@@{calm_time}@@","sizeGb":60,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"pg-master-dev-3-@@{calm_time}@@","sizeGb":60,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"pg-master-dev-4-@@{calm_time}@@","sizeGb":20,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"pg-master-dev-5-@@{calm_time}@@","sizeGb":20,"autoDelete":true}],"networkInterfaces":[{"aliasIpRanges":[],"network":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/global\/networks\/default","accessConfigs":[{"config_type":"ONE_TO_ONE_NAT","type":"","name":"master-default-acn","natIP":""}],"networkIP":"","subnetwork":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/regions\/us-central1\/subnetworks\/default","type":"","associatePublicIP":true}],"type":"","account_uuid":"84213a31-4fe8-7e39-3799-e093e5d0dc2e","serviceAccounts":[{"scopes":[],"type":"","email":"108048128720-compute@developer.gserviceaccount.com"}],"name":"pg-master-@@{calm_array_index}@@-@@{calm_time}@@"}},"variable_list":[],"name":"GCPMaster"},{"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"9d72da9f-6f26-4dc1-af7b-05e4ed682b50","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AHVSlave","uuid":"8bc04056-82cc-49eb-8114-89e98e1d57de"},"retries":"0","description":"","type":"DAG","uuid":"deb351d1-6876-4bee-88aa-9598f71eb518","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Nutanix_Provision_8bc04056_82cc_49eb_8114_89e98e1d57de","uuid":"6455b12b-cec4-4c54-b2f2-94ce07f166ad"},{"kind":"app_task","name":"SYS_GEN__check_login_for_AHVSlave_8bc04056_82cc_49eb_8114_89e98e1d57de","uuid":"35b3237b-ae39-4ee2-9a6a-6943ece2c44d"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Nutanix_Provision_8bc04056_82cc_49eb_8114_89e98e1d57de","uuid":"6455b12b-cec4-4c54-b2f2-94ce07f166ad"},"edge_type":"inherent","type":"","uuid":"86f1dd9a-688b-4517-9b16-f81b12c2050c","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_AHVSlave_8bc04056_82cc_49eb_8114_89e98e1d57de","uuid":"35b3237b-ae39-4ee2-9a6a-6943ece2c44d"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_8bc04056_82cc_49eb_8114_89e98e1d57de"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVSlave","uuid":"8bc04056-82cc-49eb-8114-89e98e1d57de"},"retries":"0","description":"","type":"PROVISION_NUTANIX","uuid":"6455b12b-cec4-4c54-b2f2-94ce07f166ad","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"name":"PostgresSlaveVM","categories":{"AppFamily":"Databases"},"availability_zone_reference":null,"backup_policy":null,"type":"","cluster_reference":null,"resources":{"nic_list":[{"nic_type":"NORMAL_NIC","ip_endpoint_list":[],"network_function_chain_reference":null,"network_function_nic_type":"INGRESS","mac_address":"","subnet_reference":{"kind":"subnet","type":"","name":"","uuid":"efc034e3-b50e-4a48-b02d-25036aeb8bd3"},"type":""}],"parent_reference":null,"guest_tools":null,"num_vcpus_per_socket":2,"num_sockets":2,"serial_port_list":[],"gpu_list":[],"memory_size_mib":4096,"power_state":"ON","hardware_clock_timezone":"","guest_customization":{"cloud_init":{"meta_data":"","type":"","user_data":"#cloud-config\nusers:\n  - name: centos\n    ssh-authorized-keys:\n      - @@{CENTOS.public_key}@@\n    sudo: ['ALL=(ALL) NOPASSWD:ALL']"},"type":"","sysprep":null},"type":"","boot_config":{"boot_device":{"type":"","disk_address":{"adapter_type":"SCSI","device_index":0,"type":""}},"type":"","mac_address":""},"disk_list":[{"data_source_reference":{"kind":"app_package","type":"","name":"AHV_CENTOS_76","uuid":"d2ffe3cf-564e-49d2-a884-798626bcb5bf"},"type":"","disk_size_mib":0,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":0,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":61440,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":1,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":61440,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":2,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":61440,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":3,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":61440,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":4,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":20480,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":5,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":20480,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":6,"type":""}}}]}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Nutanix_Provision_8bc04056_82cc_49eb_8114_89e98e1d57de"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVSlave","uuid":"8bc04056-82cc-49eb-8114-89e98e1d57de"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"35b3237b-ae39-4ee2-9a6a-6943ece2c44d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"300","address":"@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_AHVSlave_8bc04056_82cc_49eb_8114_89e98e1d57de"}],"description":"","message_list":[],"uuid":"8b13b496-14f4-42d5-8199-a8990e2807d1","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_8bc04056_82cc_49eb_8114_89e98e1d57de","uuid":"deb351d1-6876-4bee-88aa-9598f71eb518"},"name":"SYS_GEN__Runbook_Substrate_8bc04056_82cc_49eb_8114_89e98e1d57de"}},{"description":"System action for powering on an application","message_list":[],"uuid":"17bf878b-2ae2-4fb8-afd1-a655db29bd3b","name":"action_poweron","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AHVSlave","uuid":"8bc04056-82cc-49eb-8114-89e98e1d57de"},"retries":"0","description":"","type":"DAG","uuid":"a5b948a5-0956-4be6-b14e-13c8dfa8da6f","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Nutanix_Operation_PowerOn_8bc04056_82cc_49eb_8114_89e98e1d57de","uuid":"d3d0827d-bc35-4b75-8b28-485ce22e34fd"},{"kind":"app_task","name":"SYS_GEN__check_login_for_AHVSlave_8bc04056_82cc_49eb_8114_89e98e1d57de","uuid":"90e7810c-4ad5-4cf7-998f-58cde9126be3"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Nutanix_Operation_PowerOn_8bc04056_82cc_49eb_8114_89e98e1d57de","uuid":"d3d0827d-bc35-4b75-8b28-485ce22e34fd"},"edge_type":"inherent","type":"","uuid":"36f8f5d5-7690-493c-b5db-eba81789178a","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_AHVSlave_8bc04056_82cc_49eb_8114_89e98e1d57de","uuid":"90e7810c-4ad5-4cf7-998f-58cde9126be3"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_8bc04056_82cc_49eb_8114_89e98e1d57de"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVSlave","uuid":"8bc04056-82cc-49eb-8114-89e98e1d57de"},"retries":"0","description":"","type":"VMOPERATION_NUTANIX","uuid":"d3d0827d-bc35-4b75-8b28-485ce22e34fd","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Nutanix_Operation_PowerOn_8bc04056_82cc_49eb_8114_89e98e1d57de"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVSlave","uuid":"8bc04056-82cc-49eb-8114-89e98e1d57de"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"90e7810c-4ad5-4cf7-998f-58cde9126be3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"300","address":"@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_AHVSlave_8bc04056_82cc_49eb_8114_89e98e1d57de"}],"description":"","message_list":[],"uuid":"d324270b-ef62-4fe1-baf3-647101d48e09","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_8bc04056_82cc_49eb_8114_89e98e1d57de","uuid":"a5b948a5-0956-4be6-b14e-13c8dfa8da6f"},"name":"SYS_GEN__Runbook_Substrate_8bc04056_82cc_49eb_8114_89e98e1d57de"}},{"description":"System action for restarting an application","message_list":[],"uuid":"2ef4528e-9b69-4f7f-a17a-588562cd6ccf","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AHVSlave","uuid":"8bc04056-82cc-49eb-8114-89e98e1d57de"},"retries":"0","description":"","type":"DAG","uuid":"7ba20413-55e0-4d05-893c-aef294214afb","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Nutanix_Operation_Restart_8bc04056_82cc_49eb_8114_89e98e1d57de","uuid":"71c17830-5c5c-4555-a26a-5b3f077694ea"},{"kind":"app_task","name":"SYS_GEN__check_login_for_AHVSlave_8bc04056_82cc_49eb_8114_89e98e1d57de","uuid":"e3789010-d590-4d31-86e5-99596cb796af"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Nutanix_Operation_Restart_8bc04056_82cc_49eb_8114_89e98e1d57de","uuid":"71c17830-5c5c-4555-a26a-5b3f077694ea"},"edge_type":"inherent","type":"","uuid":"36ad1c91-d69e-49c4-8723-72223a4c0869","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_AHVSlave_8bc04056_82cc_49eb_8114_89e98e1d57de","uuid":"e3789010-d590-4d31-86e5-99596cb796af"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_8bc04056_82cc_49eb_8114_89e98e1d57de"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVSlave","uuid":"8bc04056-82cc-49eb-8114-89e98e1d57de"},"retries":"0","description":"","type":"VMOPERATION_NUTANIX","uuid":"71c17830-5c5c-4555-a26a-5b3f077694ea","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Nutanix_Operation_Restart_8bc04056_82cc_49eb_8114_89e98e1d57de"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVSlave","uuid":"8bc04056-82cc-49eb-8114-89e98e1d57de"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"e3789010-d590-4d31-86e5-99596cb796af","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"300","address":"@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_AHVSlave_8bc04056_82cc_49eb_8114_89e98e1d57de"}],"description":"","message_list":[],"uuid":"803b7c6e-09ba-460f-9161-0e306f37a90b","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_8bc04056_82cc_49eb_8114_89e98e1d57de","uuid":"7ba20413-55e0-4d05-893c-aef294214afb"},"name":"SYS_GEN__Runbook_Substrate_8bc04056_82cc_49eb_8114_89e98e1d57de"}},{"description":"System action for suspending an application","message_list":[],"uuid":"cfad6d61-ffaf-44a2-b4da-72926abc6b69","name":"action_suspend","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AHVSlave","uuid":"8bc04056-82cc-49eb-8114-89e98e1d57de"},"retries":"0","description":"","type":"DAG","uuid":"fb76e489-10ff-468f-b82d-685529247537","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_8bc04056_82cc_49eb_8114_89e98e1d57de"}],"description":"","message_list":[],"uuid":"8734b9df-838a-41bd-bf5d-1f3b68e4776e","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_8bc04056_82cc_49eb_8114_89e98e1d57de","uuid":"fb76e489-10ff-468f-b82d-685529247537"},"name":"SYS_GEN__Runbook_Substrate_8bc04056_82cc_49eb_8114_89e98e1d57de"}},{"description":"System action for modifying an application","message_list":[],"uuid":"d389fb38-9f5c-4c99-b77a-24eb7adab188","name":"action_modify","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AHVSlave","uuid":"8bc04056-82cc-49eb-8114-89e98e1d57de"},"retries":"0","description":"","type":"DAG","uuid":"21ece75c-e9ce-4c25-b638-fa057582a980","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_8bc04056_82cc_49eb_8114_89e98e1d57de"}],"description":"","message_list":[],"uuid":"941a2793-3430-4d36-b7ef-aa3165a7013d","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_8bc04056_82cc_49eb_8114_89e98e1d57de","uuid":"21ece75c-e9ce-4c25-b638-fa057582a980"},"name":"SYS_GEN__Runbook_Substrate_8bc04056_82cc_49eb_8114_89e98e1d57de"}},{"description":"System action for powering off an application","message_list":[],"uuid":"2227da33-03f6-4c3d-924f-a3efa5523b30","name":"action_poweroff","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AHVSlave","uuid":"8bc04056-82cc-49eb-8114-89e98e1d57de"},"retries":"0","description":"","type":"DAG","uuid":"23aba84b-c15d-4228-80e7-efe20c98158d","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Nutanix_Operation_PowerOff_8bc04056_82cc_49eb_8114_89e98e1d57de","uuid":"5997dbce-53be-4fb2-a50d-c10835d547ec"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_8bc04056_82cc_49eb_8114_89e98e1d57de"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVSlave","uuid":"8bc04056-82cc-49eb-8114-89e98e1d57de"},"retries":"0","description":"","type":"VMOPERATION_NUTANIX","uuid":"5997dbce-53be-4fb2-a50d-c10835d547ec","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Nutanix_Operation_PowerOff_8bc04056_82cc_49eb_8114_89e98e1d57de"}],"description":"","message_list":[],"uuid":"e72b0c30-d224-4c89-89ad-bcbbe11245ca","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_8bc04056_82cc_49eb_8114_89e98e1d57de","uuid":"23aba84b-c15d-4228-80e7-efe20c98158d"},"name":"SYS_GEN__Runbook_Substrate_8bc04056_82cc_49eb_8114_89e98e1d57de"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"5df8819c-a905-468a-8253-17ae0db9da98","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AHVSlave","uuid":"8bc04056-82cc-49eb-8114-89e98e1d57de"},"retries":"0","description":"","type":"DAG","uuid":"6f95074e-5cd2-477e-b76e-34ad41150030","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Nutanix_Delete_8bc04056_82cc_49eb_8114_89e98e1d57de","uuid":"46d0f269-4cc3-4252-97c3-5da2f3026012"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_8bc04056_82cc_49eb_8114_89e98e1d57de"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVSlave","uuid":"8bc04056-82cc-49eb-8114-89e98e1d57de"},"retries":"0","description":"","type":"DELETE_NUTANIX","uuid":"46d0f269-4cc3-4252-97c3-5da2f3026012","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Nutanix_Delete_8bc04056_82cc_49eb_8114_89e98e1d57de"}],"description":"","message_list":[],"uuid":"e5b699d0-434b-4e81-ba09-b4186d8c805d","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_8bc04056_82cc_49eb_8114_89e98e1d57de","uuid":"6f95074e-5cd2-477e-b76e-34ad41150030"},"name":"SYS_GEN__Runbook_Substrate_8bc04056_82cc_49eb_8114_89e98e1d57de"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"29345f8c-2dd2-46f4-88aa-c06b3f59e26e","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AHVSlave","uuid":"8bc04056-82cc-49eb-8114-89e98e1d57de"},"retries":"0","description":"","type":"DAG","uuid":"a0a64637-2ab2-47dc-ad15-d08a54fa7787","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Substrate_Element_Delete_8bc04056_82cc_49eb_8114_89e98e1d57de","uuid":"28f9bc70-2382-4fec-bdc4-97255be943b9"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_8bc04056_82cc_49eb_8114_89e98e1d57de"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVSlave","uuid":"8bc04056-82cc-49eb-8114-89e98e1d57de"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"28f9bc70-2382-4fec-bdc4-97255be943b9","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Substrate_Element_Delete_8bc04056_82cc_49eb_8114_89e98e1d57de"}],"description":"","message_list":[],"uuid":"fc3a0143-5958-4b1f-9ae9-6468552d5f7b","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_8bc04056_82cc_49eb_8114_89e98e1d57de","uuid":"a0a64637-2ab2-47dc-ad15-d08a54fa7787"},"name":"SYS_GEN__Runbook_Substrate_8bc04056_82cc_49eb_8114_89e98e1d57de"}}],"message_list":[],"uuid":"8bc04056-82cc-49eb-8114-89e98e1d57de","state":"ACTIVE","readiness_probe":{"connection_type":"SSH","retries":"5","disable_readiness_probe":false,"address":"@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@","delay_secs":"0","connection_port":22,"login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"editables":{"readiness_probe":{"connection_type":true,"retries":true,"delay_secs":true,"connection_port":true,"timeout_secs":true},"create_spec":{"resources":{"nic_list":{"0":{"subnet_reference":true}},"serial_port_list":{},"num_vcpus_per_socket":true,"num_sockets":true,"memory_size_mib":true,"guest_customization":true,"disk_list":{"0":{"device_properties":{"disk_address":{}}}}},"name":true,"categories":true}},"os_type":"Linux","type":"AHV_VM","create_spec":{"name":"PostgresSlaveVM","categories":{"AppFamily":"Databases"},"availability_zone_reference":null,"backup_policy":null,"type":"","cluster_reference":null,"resources":{"nic_list":[{"nic_type":"NORMAL_NIC","ip_endpoint_list":[],"network_function_chain_reference":null,"network_function_nic_type":"INGRESS","mac_address":"","subnet_reference":{"kind":"subnet","type":"","name":"","uuid":"efc034e3-b50e-4a48-b02d-25036aeb8bd3"},"type":""}],"parent_reference":null,"guest_tools":null,"num_vcpus_per_socket":2,"num_sockets":2,"serial_port_list":[],"gpu_list":[],"memory_size_mib":4096,"power_state":"ON","hardware_clock_timezone":"","guest_customization":{"cloud_init":{"meta_data":"","type":"","user_data":"#cloud-config\nusers:\n  - name: centos\n    ssh-authorized-keys:\n      - @@{CENTOS.public_key}@@\n    sudo: ['ALL=(ALL) NOPASSWD:ALL']"},"type":"","sysprep":null},"type":"","boot_config":{"boot_device":{"type":"","disk_address":{"adapter_type":"SCSI","device_index":0,"type":""}},"type":"","mac_address":""},"disk_list":[{"data_source_reference":{"kind":"app_package","type":"","name":"AHV_CENTOS_76","uuid":"d2ffe3cf-564e-49d2-a884-798626bcb5bf"},"type":"","disk_size_mib":0,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":0,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":61440,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":1,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":61440,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":2,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":61440,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":3,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":61440,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":4,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":20480,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":5,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":20480,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":6,"type":""}}}]}},"variable_list":[],"name":"AHVSlave"},{"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"f740a8d1-e9ab-43bc-a23f-4833c6854e56","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AWSSlave","uuid":"13318462-4a00-45bb-91d5-d7e17d64cee0"},"retries":"0","description":"","type":"DAG","uuid":"53a5969c-8113-4047-bf5e-c9a6c493eadd","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Aws_Provision_13318462_4a00_45bb_91d5_d7e17d64cee0","uuid":"ea65e844-8e88-4bb1-b393-e8b85c8fe1ae"},{"kind":"app_task","name":"SYS_GEN__check_login_for_AWSSlave_13318462_4a00_45bb_91d5_d7e17d64cee0","uuid":"208ba43c-5f25-40c9-8a12-29b4ef1a42a0"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Aws_Provision_13318462_4a00_45bb_91d5_d7e17d64cee0","uuid":"ea65e844-8e88-4bb1-b393-e8b85c8fe1ae"},"edge_type":"inherent","type":"","uuid":"4942b8d8-2a31-4f74-b2f6-1d80f24427eb","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_AWSSlave_13318462_4a00_45bb_91d5_d7e17d64cee0","uuid":"208ba43c-5f25-40c9-8a12-29b4ef1a42a0"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_13318462_4a00_45bb_91d5_d7e17d64cee0"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSSlave","uuid":"13318462-4a00-45bb-91d5-d7e17d64cee0"},"retries":"0","description":"","type":"PROVISION_AWS_VM","uuid":"ea65e844-8e88-4bb1-b393-e8b85c8fe1ae","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"name":"PostgresSlaveVM","availability_zone_reference":null,"backup_policy":null,"type":"PROVISION_AWS_VM","cluster_reference":null,"resources":{"instance_profile_name":"ecsInstanceRole","instance_type":"t2.medium","subnet_id":"subnet-9d1085b1","key_name":"calm-blueprints","region":"us-east-1","availability_zone":"us-east-1a","instance_initiated_shutdown_behavior":"","user_data":"","image_id":"ami-1a003360","state":"RUNNING","security_group_list":[{"type":"","security_group_id":"sg-184ead62"}],"block_device_map":{"data_disk_list":[{"size_gb":60,"volume_type":"STANDARD","device_name":"\/dev\/sdb","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":60,"volume_type":"STANDARD","device_name":"\/dev\/sdc","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":60,"volume_type":"STANDARD","device_name":"\/dev\/sdd","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":60,"volume_type":"STANDARD","device_name":"\/dev\/sde","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":25,"volume_type":"STANDARD","device_name":"\/dev\/sdf","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":25,"volume_type":"STANDARD","device_name":"\/dev\/sdg","iops":1,"snapshot_id":"","type":"","delete_on_termination":true}],"type":"","root_disk":{"size_gb":10,"volume_type":"GP2","device_name":"\/dev\/sda1","iops":1,"snapshot_id":"","type":"","delete_on_termination":true}},"private_ip_address":"","vpc_id":"vpc-ffd54d98","tag_list":[],"type":"","account_uuid":"8c2e0a6b-620a-c62a-c3f4-e58b101dfd0d","associate_public_ip_address":true}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Aws_Provision_13318462_4a00_45bb_91d5_d7e17d64cee0"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSSlave","uuid":"13318462-4a00-45bb-91d5-d7e17d64cee0"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"208ba43c-5f25-40c9-8a12-29b4ef1a42a0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"300","address":"@@{public_ip_address}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_AWSSlave_13318462_4a00_45bb_91d5_d7e17d64cee0"}],"description":"","message_list":[],"uuid":"715dc816-fb73-450d-8753-fa7d83ee83c6","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_13318462_4a00_45bb_91d5_d7e17d64cee0","uuid":"53a5969c-8113-4047-bf5e-c9a6c493eadd"},"name":"SYS_GEN__Runbook_Substrate_13318462_4a00_45bb_91d5_d7e17d64cee0"}},{"description":"System action for powering on an application","message_list":[],"uuid":"666601ea-75d5-4a6e-bce3-b69cc3d1a342","name":"action_poweron","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AWSSlave","uuid":"13318462-4a00-45bb-91d5-d7e17d64cee0"},"retries":"0","description":"","type":"DAG","uuid":"93bad21c-b939-445f-bd37-c5ed99341251","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Aws_Operation_PowerOn_13318462_4a00_45bb_91d5_d7e17d64cee0","uuid":"6542d034-85ec-4006-bde5-2a59d7e461df"},{"kind":"app_task","name":"SYS_GEN__check_login_for_AWSSlave_13318462_4a00_45bb_91d5_d7e17d64cee0","uuid":"f2ed90b4-a66c-4c90-8d3c-148add23b088"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Aws_Operation_PowerOn_13318462_4a00_45bb_91d5_d7e17d64cee0","uuid":"6542d034-85ec-4006-bde5-2a59d7e461df"},"edge_type":"inherent","type":"","uuid":"611ba37b-aec0-4a67-a9c6-a484e29ef46b","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_AWSSlave_13318462_4a00_45bb_91d5_d7e17d64cee0","uuid":"f2ed90b4-a66c-4c90-8d3c-148add23b088"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_13318462_4a00_45bb_91d5_d7e17d64cee0"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSSlave","uuid":"13318462-4a00-45bb-91d5-d7e17d64cee0"},"retries":"0","description":"","type":"VMOPERATION_AWS_VM","uuid":"6542d034-85ec-4006-bde5-2a59d7e461df","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Aws_Operation_PowerOn_13318462_4a00_45bb_91d5_d7e17d64cee0"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSSlave","uuid":"13318462-4a00-45bb-91d5-d7e17d64cee0"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"f2ed90b4-a66c-4c90-8d3c-148add23b088","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"300","address":"@@{public_ip_address}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_AWSSlave_13318462_4a00_45bb_91d5_d7e17d64cee0"}],"description":"","message_list":[],"uuid":"980834d8-88ed-4789-8d1a-0c905cad9595","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_13318462_4a00_45bb_91d5_d7e17d64cee0","uuid":"93bad21c-b939-445f-bd37-c5ed99341251"},"name":"SYS_GEN__Runbook_Substrate_13318462_4a00_45bb_91d5_d7e17d64cee0"}},{"description":"System action for restarting an application","message_list":[],"uuid":"9d3f043a-c46d-46a5-9c1d-39fd27fc14fd","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AWSSlave","uuid":"13318462-4a00-45bb-91d5-d7e17d64cee0"},"retries":"0","description":"","type":"DAG","uuid":"82030ba3-0241-4b24-a046-90e3058ac3bf","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Aws_Operation_Restart_13318462_4a00_45bb_91d5_d7e17d64cee0","uuid":"8b32611f-e0ac-48dd-939d-8980a2f1abae"},{"kind":"app_task","name":"SYS_GEN__check_login_for_AWSSlave_13318462_4a00_45bb_91d5_d7e17d64cee0","uuid":"3480640e-5b41-4583-8f7e-93e7ecf3100d"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Aws_Operation_Restart_13318462_4a00_45bb_91d5_d7e17d64cee0","uuid":"8b32611f-e0ac-48dd-939d-8980a2f1abae"},"edge_type":"inherent","type":"","uuid":"bc82a5aa-48ad-4931-9af1-421b08086dc2","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_AWSSlave_13318462_4a00_45bb_91d5_d7e17d64cee0","uuid":"3480640e-5b41-4583-8f7e-93e7ecf3100d"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_13318462_4a00_45bb_91d5_d7e17d64cee0"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSSlave","uuid":"13318462-4a00-45bb-91d5-d7e17d64cee0"},"retries":"0","description":"","type":"VMOPERATION_AWS_VM","uuid":"8b32611f-e0ac-48dd-939d-8980a2f1abae","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Aws_Operation_Restart_13318462_4a00_45bb_91d5_d7e17d64cee0"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSSlave","uuid":"13318462-4a00-45bb-91d5-d7e17d64cee0"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"3480640e-5b41-4583-8f7e-93e7ecf3100d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"300","address":"@@{public_ip_address}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_AWSSlave_13318462_4a00_45bb_91d5_d7e17d64cee0"}],"description":"","message_list":[],"uuid":"de7c4668-b897-4859-b2bd-6cd8f7a24cf3","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_13318462_4a00_45bb_91d5_d7e17d64cee0","uuid":"82030ba3-0241-4b24-a046-90e3058ac3bf"},"name":"SYS_GEN__Runbook_Substrate_13318462_4a00_45bb_91d5_d7e17d64cee0"}},{"description":"System action for suspending an application","message_list":[],"uuid":"014b7141-bd58-44e1-a93e-18bc8d0c75cb","name":"action_suspend","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AWSSlave","uuid":"13318462-4a00-45bb-91d5-d7e17d64cee0"},"retries":"0","description":"","type":"DAG","uuid":"bee65253-f304-4b74-8edc-eea7970a225d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_13318462_4a00_45bb_91d5_d7e17d64cee0"}],"description":"","message_list":[],"uuid":"b5d91b3f-bc4f-437a-9fc5-d744001aea66","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_13318462_4a00_45bb_91d5_d7e17d64cee0","uuid":"bee65253-f304-4b74-8edc-eea7970a225d"},"name":"SYS_GEN__Runbook_Substrate_13318462_4a00_45bb_91d5_d7e17d64cee0"}},{"description":"System action for modifying an application","message_list":[],"uuid":"a8d8accd-81f2-44b8-994e-63aabbc4cf33","name":"action_modify","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AWSSlave","uuid":"13318462-4a00-45bb-91d5-d7e17d64cee0"},"retries":"0","description":"","type":"DAG","uuid":"18b73f5e-5bc2-468a-a93a-db8c60d5a822","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_13318462_4a00_45bb_91d5_d7e17d64cee0"}],"description":"","message_list":[],"uuid":"ec8cbd1a-2fb7-4d92-9c2d-b62728ad051d","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_13318462_4a00_45bb_91d5_d7e17d64cee0","uuid":"18b73f5e-5bc2-468a-a93a-db8c60d5a822"},"name":"SYS_GEN__Runbook_Substrate_13318462_4a00_45bb_91d5_d7e17d64cee0"}},{"description":"System action for powering off an application","message_list":[],"uuid":"29b3486c-a08a-4b0d-bac0-acd6b50e36dc","name":"action_poweroff","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AWSSlave","uuid":"13318462-4a00-45bb-91d5-d7e17d64cee0"},"retries":"0","description":"","type":"DAG","uuid":"4b2b9cfd-495e-4596-a165-806c4f3759ca","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Aws_Operation_PowerOff_13318462_4a00_45bb_91d5_d7e17d64cee0","uuid":"58f1f815-9ad6-49a6-8acd-b581bdda4fb0"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_13318462_4a00_45bb_91d5_d7e17d64cee0"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSSlave","uuid":"13318462-4a00-45bb-91d5-d7e17d64cee0"},"retries":"0","description":"","type":"VMOPERATION_AWS_VM","uuid":"58f1f815-9ad6-49a6-8acd-b581bdda4fb0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Aws_Operation_PowerOff_13318462_4a00_45bb_91d5_d7e17d64cee0"}],"description":"","message_list":[],"uuid":"9736aba6-e50b-4830-a4a1-863f4ae75d66","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_13318462_4a00_45bb_91d5_d7e17d64cee0","uuid":"4b2b9cfd-495e-4596-a165-806c4f3759ca"},"name":"SYS_GEN__Runbook_Substrate_13318462_4a00_45bb_91d5_d7e17d64cee0"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"48722afa-322a-415b-aed0-86eb61d021a5","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AWSSlave","uuid":"13318462-4a00-45bb-91d5-d7e17d64cee0"},"retries":"0","description":"","type":"DAG","uuid":"2c46984b-4986-4325-a28b-300260eb2314","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Aws_Delete_13318462_4a00_45bb_91d5_d7e17d64cee0","uuid":"e3014f96-6ba4-4869-bec9-b01c948e8137"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_13318462_4a00_45bb_91d5_d7e17d64cee0"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSSlave","uuid":"13318462-4a00-45bb-91d5-d7e17d64cee0"},"retries":"0","description":"","type":"DELETE_AWS_VM","uuid":"e3014f96-6ba4-4869-bec9-b01c948e8137","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Aws_Delete_13318462_4a00_45bb_91d5_d7e17d64cee0"}],"description":"","message_list":[],"uuid":"8060112d-c37f-4493-9984-769eecc53e1e","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_13318462_4a00_45bb_91d5_d7e17d64cee0","uuid":"2c46984b-4986-4325-a28b-300260eb2314"},"name":"SYS_GEN__Runbook_Substrate_13318462_4a00_45bb_91d5_d7e17d64cee0"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"5e0f7e8f-9ef4-4db9-800c-e2c064a26d4f","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AWSSlave","uuid":"13318462-4a00-45bb-91d5-d7e17d64cee0"},"retries":"0","description":"","type":"DAG","uuid":"d6466cf3-3b7c-4c95-854c-0a3c2f50bf81","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Substrate_Element_Delete_13318462_4a00_45bb_91d5_d7e17d64cee0","uuid":"115a7ee8-367f-49ba-beca-d5e47787023e"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_13318462_4a00_45bb_91d5_d7e17d64cee0"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSSlave","uuid":"13318462-4a00-45bb-91d5-d7e17d64cee0"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"115a7ee8-367f-49ba-beca-d5e47787023e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Substrate_Element_Delete_13318462_4a00_45bb_91d5_d7e17d64cee0"}],"description":"","message_list":[],"uuid":"f211cd2f-b5c7-4252-90cd-a7752ea4e5f9","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_13318462_4a00_45bb_91d5_d7e17d64cee0","uuid":"d6466cf3-3b7c-4c95-854c-0a3c2f50bf81"},"name":"SYS_GEN__Runbook_Substrate_13318462_4a00_45bb_91d5_d7e17d64cee0"}}],"message_list":[],"uuid":"13318462-4a00-45bb-91d5-d7e17d64cee0","state":"ACTIVE","readiness_probe":{"connection_type":"SSH","retries":"5","disable_readiness_probe":false,"address":"@@{public_ip_address}@@","delay_secs":"60","connection_port":22,"login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"editables":{"readiness_probe":{"connection_type":true,"delay_secs":true,"connection_port":true,"timeout_secs":true},"create_spec":{"name":true,"resources":{"instance_profile_name":true,"availability_zone":true,"subnet_id":true,"key_name":true,"region":true,"image_id":true,"instance_type":true,"security_group_list":true,"block_device_map":{"data_disk_list":{"1":{"size_gb":true},"0":{"size_gb":true},"3":{"size_gb":true},"2":{"size_gb":true},"5":{"size_gb":true},"4":{"size_gb":true}},"root_disk":{"size_gb":true}},"associate_public_ip_address":true,"vpc_id":true,"tag_list":true}}},"os_type":"Linux","type":"AWS_VM","create_spec":{"name":"PostgresSlaveVM","availability_zone_reference":null,"backup_policy":null,"type":"PROVISION_AWS_VM","cluster_reference":null,"resources":{"instance_profile_name":"ecsInstanceRole","instance_type":"t2.medium","subnet_id":"subnet-9d1085b1","key_name":"calm-blueprints","region":"us-east-1","availability_zone":"us-east-1a","instance_initiated_shutdown_behavior":"","user_data":"","image_id":"ami-1a003360","state":"RUNNING","security_group_list":[{"type":"","security_group_id":"sg-184ead62"}],"block_device_map":{"data_disk_list":[{"size_gb":60,"volume_type":"STANDARD","device_name":"\/dev\/sdb","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":60,"volume_type":"STANDARD","device_name":"\/dev\/sdc","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":60,"volume_type":"STANDARD","device_name":"\/dev\/sdd","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":60,"volume_type":"STANDARD","device_name":"\/dev\/sde","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":25,"volume_type":"STANDARD","device_name":"\/dev\/sdf","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":25,"volume_type":"STANDARD","device_name":"\/dev\/sdg","iops":1,"snapshot_id":"","type":"","delete_on_termination":true}],"type":"","root_disk":{"size_gb":10,"volume_type":"GP2","device_name":"\/dev\/sda1","iops":1,"snapshot_id":"","type":"","delete_on_termination":true}},"private_ip_address":"","vpc_id":"vpc-ffd54d98","tag_list":[],"type":"","account_uuid":"8c2e0a6b-620a-c62a-c3f4-e58b101dfd0d","associate_public_ip_address":true}},"variable_list":[],"name":"AWSSlave"},{"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"65c90194-ff03-4c5e-8903-1f4ebb01a71c","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"GCPSlave","uuid":"cf42442b-3e6d-4b40-9a7f-e170b57f338e"},"retries":"0","description":"","type":"DAG","uuid":"95fa6573-37da-4ea0-b449-beee228f3aee","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Gcp_Provision_cf42442b_3e6d_4b40_9a7f_e170b57f338e","uuid":"487efedc-3484-4e39-9c18-12809a0c9100"},{"kind":"app_task","name":"SYS_GEN__check_login_for_GCPSlave_cf42442b_3e6d_4b40_9a7f_e170b57f338e","uuid":"370c345f-89a7-410c-a7b8-3a2dadd71216"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Gcp_Provision_cf42442b_3e6d_4b40_9a7f_e170b57f338e","uuid":"487efedc-3484-4e39-9c18-12809a0c9100"},"edge_type":"inherent","type":"","uuid":"692ec04a-da74-4a1c-a7f8-162077ff04a3","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_GCPSlave_cf42442b_3e6d_4b40_9a7f_e170b57f338e","uuid":"370c345f-89a7-410c-a7b8-3a2dadd71216"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_cf42442b_3e6d_4b40_9a7f_e170b57f338e"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPSlave","uuid":"cf42442b-3e6d-4b40-9a7f-e170b57f338e"},"retries":"0","description":"","type":"PROVISION_GCP_VM","uuid":"487efedc-3484-4e39-9c18-12809a0c9100","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"PROVISION_GCP_VM","resources":{"labels":[],"machineType":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/machineTypes\/g1-small","description":"","zone":"us-central1-c","tags":{"items":["allow-postgresql"],"type":"","fingerprint":""},"guestCustomization":{"type":"","sysprep":"","startupScript":""},"labelFingerprint":"","disks":[{"diskEncryptionKey":{},"deviceName":"","initializeParams":{"sourceImageEncryptionKey":{},"diskName":"","diskType":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","diskSizeGb":-1,"sourceImage":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/global\/images\/centos-7","type":""},"autoDelete":true,"boot":true,"source":"","mode":"","interface":"","disk_type":"PERSISTENT","type":""}],"metadata":{"items":[],"type":"","fingerprint":""},"sshKeys":["centos:ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDMGAS\/K0Mb\/uwFXwD+hkjguy7VMZk2hpuhwPl9FUZwVBrURf\/i9QMJ5\/paPEZixu8VlRx7Inu4iun7rQfrnfeIYInmBwspXHYiTK3oHJAgZnrAHVEf1p6YaxLINlT1NI5yOAGPRWW6of8rBDBH1ObwU2+wcSx\/1H0uIs3aZNLufr+Rh628ACxAum2Gt8AVRj6ua2BPFyt5VTdclyysAmeh1AiixNgOZXOz6y\/i4TbzpY78I3isuKpxsUeXX6jxEMQol406jHDUF6njEOPIQG2zVZ3QJlTG9OlN+NiyZG9WkZz0VG\/6M8ixxIHHI2dNwUbBFv2HUu+8X9LTLFq2O7KjX9Hp7uZKBAySHA3eKaKHIp2bZuU1bT5PRPkggngX86xg+T+OMNnutbAiMnRJ8+FvD5So+5TIx4b9GgxAxure3x2yRPT9lOiQOB+CVpJPxR0Rn9bOI+wiPnD0kAGvK\/fHT+pqL4PM+hTnJtp9rrCRzIQApBx1263jEcYffhW2epZQRO+he5CMawFJ5TBe08om2AaDJ8GQdrpF6YA3W8DzHbmL3DPVVHdmqPLn10o+LX4gv5SdIIDVGdjKOc1BCnLTRmM28d5+sLDt\/M+kvcQgf0y0yDjMVjGECZkt39hbm4ELMHzZtzYLmHNhBZxRqHeJ7qFTuv1kx88OW3Xc5mbBNQ== centos@nutanix.com\n"],"minCpuPlatform":"","scheduling":{"automaticRestart":true,"type":"","preemptible":false,"onHostMaintenance":"TERMINATE"},"canIpForward":false,"blankDisks":[{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"pg-slave-dev-0-@@{calm_array_index}@@-@@{calm_time}@@","sizeGb":60,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"pg-slave-dev-1-@@{calm_array_index}@@-@@{calm_time}@@","sizeGb":60,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"pg-slave-dev-2-@@{calm_array_index}@@-@@{calm_time}@@","sizeGb":60,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"pg-slave-dev-3-@@{calm_array_index}@@-@@{calm_time}@@","sizeGb":60,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"pg-slave-dev-4-@@{calm_array_index}@@-@@{calm_time}@@","sizeGb":20,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"pg-slave-dev-5-@@{calm_array_index}@@-@@{calm_time}@@","sizeGb":20,"autoDelete":true}],"networkInterfaces":[{"aliasIpRanges":[],"network":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/global\/networks\/default","accessConfigs":[{"config_type":"ONE_TO_ONE_NAT","type":"","name":"slave-default-acn","natIP":""}],"networkIP":"","subnetwork":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/regions\/us-central1\/subnetworks\/default","type":"","associatePublicIP":true}],"type":"","account_uuid":"84213a31-4fe8-7e39-3799-e093e5d0dc2e","serviceAccounts":[{"scopes":[],"type":"","email":"108048128720-compute@developer.gserviceaccount.com"}],"name":"pg-slave-@@{calm_array_index}@@-@@{calm_time}@@"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Gcp_Provision_cf42442b_3e6d_4b40_9a7f_e170b57f338e"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPSlave","uuid":"cf42442b-3e6d-4b40-9a7f-e170b57f338e"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"370c345f-89a7-410c-a7b8-3a2dadd71216","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"300","address":"@@{public_ip_address}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_GCPSlave_cf42442b_3e6d_4b40_9a7f_e170b57f338e"}],"description":"","message_list":[],"uuid":"41d2b8c2-13a7-4f2b-9c73-dac5336f9176","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_cf42442b_3e6d_4b40_9a7f_e170b57f338e","uuid":"95fa6573-37da-4ea0-b449-beee228f3aee"},"name":"SYS_GEN__Runbook_Substrate_cf42442b_3e6d_4b40_9a7f_e170b57f338e"}},{"description":"System action for powering on an application","message_list":[],"uuid":"250f08d3-8980-4d60-8a54-de782d50e615","name":"action_poweron","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"GCPSlave","uuid":"cf42442b-3e6d-4b40-9a7f-e170b57f338e"},"retries":"0","description":"","type":"DAG","uuid":"f1bcd147-91a2-4dc4-80e7-f3da8c6142ec","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Gcp_Operation_PowerOn_cf42442b_3e6d_4b40_9a7f_e170b57f338e","uuid":"c246d868-4f9c-48b6-bfd4-1e0d43e90d5a"},{"kind":"app_task","name":"SYS_GEN__check_login_for_GCPSlave_cf42442b_3e6d_4b40_9a7f_e170b57f338e","uuid":"2511f2f0-0945-4279-82ca-3882af546d31"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Gcp_Operation_PowerOn_cf42442b_3e6d_4b40_9a7f_e170b57f338e","uuid":"c246d868-4f9c-48b6-bfd4-1e0d43e90d5a"},"edge_type":"inherent","type":"","uuid":"e0d72eed-a32a-49ed-9ba4-9c42b316cedf","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_GCPSlave_cf42442b_3e6d_4b40_9a7f_e170b57f338e","uuid":"2511f2f0-0945-4279-82ca-3882af546d31"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_cf42442b_3e6d_4b40_9a7f_e170b57f338e"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPSlave","uuid":"cf42442b-3e6d-4b40-9a7f-e170b57f338e"},"retries":"0","description":"","type":"VMOPERATION_GCP_VM","uuid":"c246d868-4f9c-48b6-bfd4-1e0d43e90d5a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Gcp_Operation_PowerOn_cf42442b_3e6d_4b40_9a7f_e170b57f338e"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPSlave","uuid":"cf42442b-3e6d-4b40-9a7f-e170b57f338e"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"2511f2f0-0945-4279-82ca-3882af546d31","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"300","address":"@@{public_ip_address}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_GCPSlave_cf42442b_3e6d_4b40_9a7f_e170b57f338e"}],"description":"","message_list":[],"uuid":"9aabec55-4ad8-490e-8de7-e38d267df08b","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_cf42442b_3e6d_4b40_9a7f_e170b57f338e","uuid":"f1bcd147-91a2-4dc4-80e7-f3da8c6142ec"},"name":"SYS_GEN__Runbook_Substrate_cf42442b_3e6d_4b40_9a7f_e170b57f338e"}},{"description":"System action for restarting an application","message_list":[],"uuid":"102e5ef1-518a-43f7-b17c-d6d3624e5b33","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"GCPSlave","uuid":"cf42442b-3e6d-4b40-9a7f-e170b57f338e"},"retries":"0","description":"","type":"DAG","uuid":"74b3df19-5df6-482c-bb66-29d0e0f16b75","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Gcp_Operation_Restart_cf42442b_3e6d_4b40_9a7f_e170b57f338e","uuid":"6aa60ac0-4baf-4304-8a73-7bc9905d6f98"},{"kind":"app_task","name":"SYS_GEN__check_login_for_GCPSlave_cf42442b_3e6d_4b40_9a7f_e170b57f338e","uuid":"6265b672-25f6-46aa-8d7a-58a7e7a158f7"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Gcp_Operation_Restart_cf42442b_3e6d_4b40_9a7f_e170b57f338e","uuid":"6aa60ac0-4baf-4304-8a73-7bc9905d6f98"},"edge_type":"inherent","type":"","uuid":"ba939d91-394a-4640-a385-025dd8b456ef","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_GCPSlave_cf42442b_3e6d_4b40_9a7f_e170b57f338e","uuid":"6265b672-25f6-46aa-8d7a-58a7e7a158f7"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_cf42442b_3e6d_4b40_9a7f_e170b57f338e"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPSlave","uuid":"cf42442b-3e6d-4b40-9a7f-e170b57f338e"},"retries":"0","description":"","type":"VMOPERATION_GCP_VM","uuid":"6aa60ac0-4baf-4304-8a73-7bc9905d6f98","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Gcp_Operation_Restart_cf42442b_3e6d_4b40_9a7f_e170b57f338e"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPSlave","uuid":"cf42442b-3e6d-4b40-9a7f-e170b57f338e"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"6265b672-25f6-46aa-8d7a-58a7e7a158f7","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"300","address":"@@{public_ip_address}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_GCPSlave_cf42442b_3e6d_4b40_9a7f_e170b57f338e"}],"description":"","message_list":[],"uuid":"7d2a936e-647f-4ed3-b134-d9b25fb001c8","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_cf42442b_3e6d_4b40_9a7f_e170b57f338e","uuid":"74b3df19-5df6-482c-bb66-29d0e0f16b75"},"name":"SYS_GEN__Runbook_Substrate_cf42442b_3e6d_4b40_9a7f_e170b57f338e"}},{"description":"System action for suspending an application","message_list":[],"uuid":"0327b5c3-a3db-4fed-b08a-cfd39418bc23","name":"action_suspend","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"GCPSlave","uuid":"cf42442b-3e6d-4b40-9a7f-e170b57f338e"},"retries":"0","description":"","type":"DAG","uuid":"bbafed5f-a4fe-43a7-b1c8-4ed477272f3d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_cf42442b_3e6d_4b40_9a7f_e170b57f338e"}],"description":"","message_list":[],"uuid":"e2dd1738-a729-468d-8567-68ff9755321a","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_cf42442b_3e6d_4b40_9a7f_e170b57f338e","uuid":"bbafed5f-a4fe-43a7-b1c8-4ed477272f3d"},"name":"SYS_GEN__Runbook_Substrate_cf42442b_3e6d_4b40_9a7f_e170b57f338e"}},{"description":"System action for modifying an application","message_list":[],"uuid":"dbe9fd16-ae51-41cd-93e6-bff76310590f","name":"action_modify","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"GCPSlave","uuid":"cf42442b-3e6d-4b40-9a7f-e170b57f338e"},"retries":"0","description":"","type":"DAG","uuid":"79144425-c7a1-4cca-9983-4592a009f2ba","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_cf42442b_3e6d_4b40_9a7f_e170b57f338e"}],"description":"","message_list":[],"uuid":"d3d10ba5-7407-4447-b22b-1da088449546","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_cf42442b_3e6d_4b40_9a7f_e170b57f338e","uuid":"79144425-c7a1-4cca-9983-4592a009f2ba"},"name":"SYS_GEN__Runbook_Substrate_cf42442b_3e6d_4b40_9a7f_e170b57f338e"}},{"description":"System action for powering off an application","message_list":[],"uuid":"a06b9749-aaf9-4614-9f64-5b7cc50151bf","name":"action_poweroff","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"GCPSlave","uuid":"cf42442b-3e6d-4b40-9a7f-e170b57f338e"},"retries":"0","description":"","type":"DAG","uuid":"a26a24fd-f199-416c-b665-98954387a348","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Gcp_Operation_PowerOff_cf42442b_3e6d_4b40_9a7f_e170b57f338e","uuid":"14362965-c095-4e66-b8c1-f94ef83fd90b"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_cf42442b_3e6d_4b40_9a7f_e170b57f338e"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPSlave","uuid":"cf42442b-3e6d-4b40-9a7f-e170b57f338e"},"retries":"0","description":"","type":"VMOPERATION_GCP_VM","uuid":"14362965-c095-4e66-b8c1-f94ef83fd90b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Gcp_Operation_PowerOff_cf42442b_3e6d_4b40_9a7f_e170b57f338e"}],"description":"","message_list":[],"uuid":"068e7af6-1ab5-4506-a82c-84f2e85d9abf","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_cf42442b_3e6d_4b40_9a7f_e170b57f338e","uuid":"a26a24fd-f199-416c-b665-98954387a348"},"name":"SYS_GEN__Runbook_Substrate_cf42442b_3e6d_4b40_9a7f_e170b57f338e"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"ed3d6cbc-28ac-4da2-92fb-5bdb19caa409","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"GCPSlave","uuid":"cf42442b-3e6d-4b40-9a7f-e170b57f338e"},"retries":"0","description":"","type":"DAG","uuid":"aa884275-9a70-4213-9aec-20fc8973294c","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Gcp_Delete_cf42442b_3e6d_4b40_9a7f_e170b57f338e","uuid":"47051a9b-20d0-4601-96a3-3a6b7545d69c"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_cf42442b_3e6d_4b40_9a7f_e170b57f338e"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPSlave","uuid":"cf42442b-3e6d-4b40-9a7f-e170b57f338e"},"retries":"0","description":"","type":"DELETE_GCP_VM","uuid":"47051a9b-20d0-4601-96a3-3a6b7545d69c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Gcp_Delete_cf42442b_3e6d_4b40_9a7f_e170b57f338e"}],"description":"","message_list":[],"uuid":"8c279c0e-0585-49e9-a2d9-ccbf06819245","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_cf42442b_3e6d_4b40_9a7f_e170b57f338e","uuid":"aa884275-9a70-4213-9aec-20fc8973294c"},"name":"SYS_GEN__Runbook_Substrate_cf42442b_3e6d_4b40_9a7f_e170b57f338e"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"aee3e01e-f51f-4d87-b5d5-a1a737bd05ec","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"GCPSlave","uuid":"cf42442b-3e6d-4b40-9a7f-e170b57f338e"},"retries":"0","description":"","type":"DAG","uuid":"639d7650-5906-4ab9-958c-a616b8f96f45","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Substrate_Element_Delete_cf42442b_3e6d_4b40_9a7f_e170b57f338e","uuid":"22bd1bd0-5848-4e48-a5a0-66ba908f45b5"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_cf42442b_3e6d_4b40_9a7f_e170b57f338e"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPSlave","uuid":"cf42442b-3e6d-4b40-9a7f-e170b57f338e"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"22bd1bd0-5848-4e48-a5a0-66ba908f45b5","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Substrate_Element_Delete_cf42442b_3e6d_4b40_9a7f_e170b57f338e"}],"description":"","message_list":[],"uuid":"c99f707e-5c60-40fd-ba77-2a59221f86a9","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_cf42442b_3e6d_4b40_9a7f_e170b57f338e","uuid":"639d7650-5906-4ab9-958c-a616b8f96f45"},"name":"SYS_GEN__Runbook_Substrate_cf42442b_3e6d_4b40_9a7f_e170b57f338e"}}],"message_list":[],"uuid":"cf42442b-3e6d-4b40-9a7f-e170b57f338e","state":"ACTIVE","readiness_probe":{"connection_type":"SSH","retries":"5","disable_readiness_probe":false,"address":"@@{public_ip_address}@@","delay_secs":"0","connection_port":22,"login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"editables":{"readiness_probe":{"connection_type":true,"delay_secs":true,"connection_port":true,"timeout_secs":true},"create_spec":{"resources":{"labels":true,"machineType":true,"name":true,"zone":true,"tags":{"items":true},"disks":{"0":{"initializeParams":{"diskSizeGb":true,"sourceImage":true,"diskType":true},"autoDelete":true}},"blankDisks":{"1":{"disk_type":true,"name":true,"sizeGb":true,"autoDelete":true},"0":{"disk_type":true,"name":true,"sizeGb":true,"autoDelete":true},"3":{"disk_type":true,"name":true,"sizeGb":true,"autoDelete":true},"2":{"disk_type":true,"name":true,"sizeGb":true,"autoDelete":true},"5":{"disk_type":true,"name":true,"sizeGb":true,"autoDelete":true},"4":{"disk_type":true,"name":true,"sizeGb":true,"autoDelete":true}},"networkInterfaces":{"0":{"accessConfigs":{"0":{"config_type":true,"name":true}},"network":true,"subnetwork":true,"associatePublicIP":true}},"sshKeys":{"0":true},"serviceAccounts":{"0":{"scopes":true,"email":true}},"metadata":{"items":true}}}},"os_type":"Linux","type":"GCP_VM","create_spec":{"type":"PROVISION_GCP_VM","resources":{"labels":[],"machineType":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/machineTypes\/g1-small","description":"","zone":"us-central1-c","tags":{"items":["allow-postgresql"],"type":"","fingerprint":""},"guestCustomization":{"type":"","sysprep":"","startupScript":""},"labelFingerprint":"","disks":[{"diskEncryptionKey":{},"deviceName":"","initializeParams":{"sourceImageEncryptionKey":{},"diskName":"","diskType":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","diskSizeGb":-1,"sourceImage":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/global\/images\/centos-7","type":""},"autoDelete":true,"boot":true,"source":"","mode":"","interface":"","disk_type":"PERSISTENT","type":""}],"metadata":{"items":[],"type":"","fingerprint":""},"sshKeys":["centos:ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDMGAS\/K0Mb\/uwFXwD+hkjguy7VMZk2hpuhwPl9FUZwVBrURf\/i9QMJ5\/paPEZixu8VlRx7Inu4iun7rQfrnfeIYInmBwspXHYiTK3oHJAgZnrAHVEf1p6YaxLINlT1NI5yOAGPRWW6of8rBDBH1ObwU2+wcSx\/1H0uIs3aZNLufr+Rh628ACxAum2Gt8AVRj6ua2BPFyt5VTdclyysAmeh1AiixNgOZXOz6y\/i4TbzpY78I3isuKpxsUeXX6jxEMQol406jHDUF6njEOPIQG2zVZ3QJlTG9OlN+NiyZG9WkZz0VG\/6M8ixxIHHI2dNwUbBFv2HUu+8X9LTLFq2O7KjX9Hp7uZKBAySHA3eKaKHIp2bZuU1bT5PRPkggngX86xg+T+OMNnutbAiMnRJ8+FvD5So+5TIx4b9GgxAxure3x2yRPT9lOiQOB+CVpJPxR0Rn9bOI+wiPnD0kAGvK\/fHT+pqL4PM+hTnJtp9rrCRzIQApBx1263jEcYffhW2epZQRO+he5CMawFJ5TBe08om2AaDJ8GQdrpF6YA3W8DzHbmL3DPVVHdmqPLn10o+LX4gv5SdIIDVGdjKOc1BCnLTRmM28d5+sLDt\/M+kvcQgf0y0yDjMVjGECZkt39hbm4ELMHzZtzYLmHNhBZxRqHeJ7qFTuv1kx88OW3Xc5mbBNQ== centos@nutanix.com\n"],"minCpuPlatform":"","scheduling":{"automaticRestart":true,"type":"","preemptible":false,"onHostMaintenance":"TERMINATE"},"canIpForward":false,"blankDisks":[{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"pg-slave-dev-0-@@{calm_array_index}@@-@@{calm_time}@@","sizeGb":60,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"pg-slave-dev-1-@@{calm_array_index}@@-@@{calm_time}@@","sizeGb":60,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"pg-slave-dev-2-@@{calm_array_index}@@-@@{calm_time}@@","sizeGb":60,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"pg-slave-dev-3-@@{calm_array_index}@@-@@{calm_time}@@","sizeGb":60,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"pg-slave-dev-4-@@{calm_array_index}@@-@@{calm_time}@@","sizeGb":20,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"pg-slave-dev-5-@@{calm_array_index}@@-@@{calm_time}@@","sizeGb":20,"autoDelete":true}],"networkInterfaces":[{"aliasIpRanges":[],"network":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/global\/networks\/default","accessConfigs":[{"config_type":"ONE_TO_ONE_NAT","type":"","name":"slave-default-acn","natIP":""}],"networkIP":"","subnetwork":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/regions\/us-central1\/subnetworks\/default","type":"","associatePublicIP":true}],"type":"","account_uuid":"84213a31-4fe8-7e39-3799-e093e5d0dc2e","serviceAccounts":[{"scopes":[],"type":"","email":"108048128720-compute@developer.gserviceaccount.com"}],"name":"pg-slave-@@{calm_array_index}@@-@@{calm_time}@@"}},"variable_list":[],"name":"GCPSlave"},{"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"02074155-dbdd-4440-9506-595ac931c088","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AzureMaster","uuid":"c42de1fe-2393-4776-a4a7-92d3b3521dd3"},"retries":"0","description":"","type":"DAG","uuid":"cbe07dca-5631-4eab-a897-38ac7bfebc8f","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Azure_Provision_c42de1fe_2393_4776_a4a7_92d3b3521dd3","uuid":"0a4ff7bc-d4a9-41fb-b0b4-413d5481dded"},{"kind":"app_task","name":"SYS_GEN__check_login_for_AzureMaster_c42de1fe_2393_4776_a4a7_92d3b3521dd3","uuid":"56efe951-175c-44c4-aeef-6997dde69045"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Azure_Provision_c42de1fe_2393_4776_a4a7_92d3b3521dd3","uuid":"0a4ff7bc-d4a9-41fb-b0b4-413d5481dded"},"edge_type":"inherent","type":"","uuid":"040338fe-8dc8-4aeb-92a5-3f04dff85e69","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_AzureMaster_c42de1fe_2393_4776_a4a7_92d3b3521dd3","uuid":"56efe951-175c-44c4-aeef-6997dde69045"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_c42de1fe_2393_4776_a4a7_92d3b3521dd3"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureMaster","uuid":"c42de1fe-2393-4776-a4a7-92d3b3521dd3"},"retries":"0","description":"","type":"PROVISION_AZURE_VM","uuid":"0a4ff7bc-d4a9-41fb-b0b4-413d5481dded","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"PROVISION_AZURE_VM","name":"","resources":{"vm_name":"pg-@@{calm_unique_hash}@@-@@{calm_array_index}@@","storage_profile":{"is_managed":true,"image_details":{"sku":"7.4","publisher":"OpenLogic","offer":"CentOS-HPC","source_image_id":"","use_custom_image":false,"version":"7.4.20180719","type":""},"type":"","os_disk_details":{"size_in_gb":127,"name":"os-@@{calm_unique_hash}@@-@@{calm_array_index}@@-disk","storage_name":"","storage_type":"Standard_LRS","lun":-1,"type":"","create_option":"FromImage","caching_type":"ReadWrite"},"data_disk_list":[]},"nw_profile":{"nic_list":[{"nsg_name":"nutanix-test-sg","vnet_name":"NUTANIX-vnet","private_ip_info":{"ip_address":"","ip_allocation_method":"Dynamic","type":""},"nic_name":"nic-@@{calm_unique_hash}@@-@@{calm_array_index}@@-0","subnet_name":"default","type":"","public_ip_info":{"ip_name":"public-ip-@@{calm_unique_hash}@@-@@{calm_array_index}@@-0","dns_label":"dns-@@{calm_unique_hash}@@-@@{calm_array_index}@@-0","ip_allocation_method":"Dynamic","type":""}}],"primary_nic":-1,"type":""},"resource_group":"NUTANIX","os_profile":{"secrets":[],"type":"","windows_config":{"winrm_listeners":[],"time_zone":"","additional_unattend_content":[],"provision_vm_agent":true,"auto_updates":false,"type":""},"linux_config":null},"hw_profile":{"max_data_disk_count":8,"vm_size":"Standard_DS2_v2","type":""},"location":"eastus","availability_set_id":"\/subscriptions\/6b1ac087-d237-4e42-89bf-e136161f2654\/resourceGroups\/NUTANIX\/providers\/Microsoft.Compute\/availabilitySets\/TestAvailabilitySet1","tag_list":[],"type":"","account_uuid":"3c0f2d94-878c-f34c-6d39-90b854129782"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Azure_Provision_c42de1fe_2393_4776_a4a7_92d3b3521dd3"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureMaster","uuid":"c42de1fe-2393-4776-a4a7-92d3b3521dd3"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"56efe951-175c-44c4-aeef-6997dde69045","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"300","address":"@@{platform.publicIPAddressList[0]}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_AzureMaster_c42de1fe_2393_4776_a4a7_92d3b3521dd3"}],"description":"","message_list":[],"uuid":"83adb338-226b-43e4-8492-334d48f31a75","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_c42de1fe_2393_4776_a4a7_92d3b3521dd3","uuid":"cbe07dca-5631-4eab-a897-38ac7bfebc8f"},"name":"SYS_GEN__Runbook_Substrate_c42de1fe_2393_4776_a4a7_92d3b3521dd3"}},{"description":"System action for powering on an application","message_list":[],"uuid":"c20c2aa4-0277-4392-a32e-a972b8dc166d","name":"action_poweron","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AzureMaster","uuid":"c42de1fe-2393-4776-a4a7-92d3b3521dd3"},"retries":"0","description":"","type":"DAG","uuid":"730b9167-8b9e-4aec-a264-d529a8aa9549","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Azure_Operation_PowerOn_c42de1fe_2393_4776_a4a7_92d3b3521dd3","uuid":"56520a6b-921d-4695-9b9b-b3c4cd061a50"},{"kind":"app_task","name":"SYS_GEN__check_login_for_AzureMaster_c42de1fe_2393_4776_a4a7_92d3b3521dd3","uuid":"f222ccb1-2b87-4773-88a9-60e543bc941d"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Azure_Operation_PowerOn_c42de1fe_2393_4776_a4a7_92d3b3521dd3","uuid":"56520a6b-921d-4695-9b9b-b3c4cd061a50"},"edge_type":"inherent","type":"","uuid":"df6ab5e7-a1e4-4b9c-a265-c8a5d8fea210","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_AzureMaster_c42de1fe_2393_4776_a4a7_92d3b3521dd3","uuid":"f222ccb1-2b87-4773-88a9-60e543bc941d"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_c42de1fe_2393_4776_a4a7_92d3b3521dd3"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureMaster","uuid":"c42de1fe-2393-4776-a4a7-92d3b3521dd3"},"retries":"0","description":"","type":"VMOPERATION_AZURE_VM","uuid":"56520a6b-921d-4695-9b9b-b3c4cd061a50","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Azure_Operation_PowerOn_c42de1fe_2393_4776_a4a7_92d3b3521dd3"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureMaster","uuid":"c42de1fe-2393-4776-a4a7-92d3b3521dd3"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"f222ccb1-2b87-4773-88a9-60e543bc941d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"300","address":"@@{platform.publicIPAddressList[0]}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_AzureMaster_c42de1fe_2393_4776_a4a7_92d3b3521dd3"}],"description":"","message_list":[],"uuid":"bdc8848a-6cdb-42d7-a8a1-b08b731ce521","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_c42de1fe_2393_4776_a4a7_92d3b3521dd3","uuid":"730b9167-8b9e-4aec-a264-d529a8aa9549"},"name":"SYS_GEN__Runbook_Substrate_c42de1fe_2393_4776_a4a7_92d3b3521dd3"}},{"description":"System action for restarting an application","message_list":[],"uuid":"d6efbf39-c176-45ab-baad-4d70ee3127f3","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AzureMaster","uuid":"c42de1fe-2393-4776-a4a7-92d3b3521dd3"},"retries":"0","description":"","type":"DAG","uuid":"05c9195c-ca57-406c-9936-b00b273e0015","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Azure_Operation_Restartc42de1fe_2393_4776_a4a7_92d3b3521dd3","uuid":"cfc0a861-cb52-4ed1-8a40-fb665c532e0a"},{"kind":"app_task","name":"SYS_GEN__check_login_for_AzureMaster_c42de1fe_2393_4776_a4a7_92d3b3521dd3","uuid":"e7dfe7fe-e622-41e1-a364-ad4d9af16a85"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Azure_Operation_Restartc42de1fe_2393_4776_a4a7_92d3b3521dd3","uuid":"cfc0a861-cb52-4ed1-8a40-fb665c532e0a"},"edge_type":"inherent","type":"","uuid":"025fa701-e196-496b-97f1-6dd59581c049","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_AzureMaster_c42de1fe_2393_4776_a4a7_92d3b3521dd3","uuid":"e7dfe7fe-e622-41e1-a364-ad4d9af16a85"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_c42de1fe_2393_4776_a4a7_92d3b3521dd3"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureMaster","uuid":"c42de1fe-2393-4776-a4a7-92d3b3521dd3"},"retries":"0","description":"","type":"VMOPERATION_AZURE_VM","uuid":"cfc0a861-cb52-4ed1-8a40-fb665c532e0a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Azure_Operation_Restartc42de1fe_2393_4776_a4a7_92d3b3521dd3"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureMaster","uuid":"c42de1fe-2393-4776-a4a7-92d3b3521dd3"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"e7dfe7fe-e622-41e1-a364-ad4d9af16a85","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"300","address":"@@{platform.publicIPAddressList[0]}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_AzureMaster_c42de1fe_2393_4776_a4a7_92d3b3521dd3"}],"description":"","message_list":[],"uuid":"03423c2f-f770-460e-a5da-6a141200d2ea","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_c42de1fe_2393_4776_a4a7_92d3b3521dd3","uuid":"05c9195c-ca57-406c-9936-b00b273e0015"},"name":"SYS_GEN__Runbook_Substrate_c42de1fe_2393_4776_a4a7_92d3b3521dd3"}},{"description":"System action for suspending an application","message_list":[],"uuid":"625c0d3c-6fe6-453f-8d04-9596231643af","name":"action_suspend","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AzureMaster","uuid":"c42de1fe-2393-4776-a4a7-92d3b3521dd3"},"retries":"0","description":"","type":"DAG","uuid":"071f80e3-f282-4f1a-85d2-1dbbd36c2871","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_c42de1fe_2393_4776_a4a7_92d3b3521dd3"}],"description":"","message_list":[],"uuid":"bad98e38-88f3-48da-b585-3f55eef834c6","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_c42de1fe_2393_4776_a4a7_92d3b3521dd3","uuid":"071f80e3-f282-4f1a-85d2-1dbbd36c2871"},"name":"SYS_GEN__Runbook_Substrate_c42de1fe_2393_4776_a4a7_92d3b3521dd3"}},{"description":"System action for modifying an application","message_list":[],"uuid":"f10e02a0-53b0-481a-b689-bc40c66bad94","name":"action_modify","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AzureMaster","uuid":"c42de1fe-2393-4776-a4a7-92d3b3521dd3"},"retries":"0","description":"","type":"DAG","uuid":"5dc0ff1f-6c2c-4247-814d-b245e3fbd9b7","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_c42de1fe_2393_4776_a4a7_92d3b3521dd3"}],"description":"","message_list":[],"uuid":"1a6418ad-34f6-4366-87f3-912f929b292f","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_c42de1fe_2393_4776_a4a7_92d3b3521dd3","uuid":"5dc0ff1f-6c2c-4247-814d-b245e3fbd9b7"},"name":"SYS_GEN__Runbook_Substrate_c42de1fe_2393_4776_a4a7_92d3b3521dd3"}},{"description":"System action for powering off an application","message_list":[],"uuid":"bca5199a-6648-4870-b309-af425b818f4b","name":"action_poweroff","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AzureMaster","uuid":"c42de1fe-2393-4776-a4a7-92d3b3521dd3"},"retries":"0","description":"","type":"DAG","uuid":"2747e54f-3bde-4712-bc4e-a7a41b48bdc5","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Azure_Operation_Poweroff_c42de1fe_2393_4776_a4a7_92d3b3521dd3","uuid":"3c1e78ce-6ebe-43c6-bfb4-4bd38fb6e470"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_c42de1fe_2393_4776_a4a7_92d3b3521dd3"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureMaster","uuid":"c42de1fe-2393-4776-a4a7-92d3b3521dd3"},"retries":"0","description":"","type":"VMOPERATION_AZURE_VM","uuid":"3c1e78ce-6ebe-43c6-bfb4-4bd38fb6e470","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Azure_Operation_Poweroff_c42de1fe_2393_4776_a4a7_92d3b3521dd3"}],"description":"","message_list":[],"uuid":"e57d2289-ad60-4547-859f-a4d6c1a996d0","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_c42de1fe_2393_4776_a4a7_92d3b3521dd3","uuid":"2747e54f-3bde-4712-bc4e-a7a41b48bdc5"},"name":"SYS_GEN__Runbook_Substrate_c42de1fe_2393_4776_a4a7_92d3b3521dd3"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"60af9ad4-e8fe-45b7-a8bd-97884a74eeb0","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AzureMaster","uuid":"c42de1fe-2393-4776-a4a7-92d3b3521dd3"},"retries":"0","description":"","type":"DAG","uuid":"79816943-2ae7-465b-baac-114ddc6adb9c","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Azure_Delete_c42de1fe_2393_4776_a4a7_92d3b3521dd3","uuid":"e4c2cb02-e0d3-4c94-83ed-be76baa3b11c"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_c42de1fe_2393_4776_a4a7_92d3b3521dd3"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureMaster","uuid":"c42de1fe-2393-4776-a4a7-92d3b3521dd3"},"retries":"0","description":"","type":"DELETE_AZURE_VM","uuid":"e4c2cb02-e0d3-4c94-83ed-be76baa3b11c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Azure_Delete_c42de1fe_2393_4776_a4a7_92d3b3521dd3"}],"description":"","message_list":[],"uuid":"9ea4e99c-8c9c-43da-b60a-7b9d42de202f","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_c42de1fe_2393_4776_a4a7_92d3b3521dd3","uuid":"79816943-2ae7-465b-baac-114ddc6adb9c"},"name":"SYS_GEN__Runbook_Substrate_c42de1fe_2393_4776_a4a7_92d3b3521dd3"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"cc285ee3-3bcd-41ad-b5c9-0a8e9da9f740","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AzureMaster","uuid":"c42de1fe-2393-4776-a4a7-92d3b3521dd3"},"retries":"0","description":"","type":"DAG","uuid":"e2215c06-0924-4645-ae05-dea85ec6cc58","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Substrate_Element_Delete_c42de1fe_2393_4776_a4a7_92d3b3521dd3","uuid":"f50585da-e6b8-45d2-860e-0eb22916ead9"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_c42de1fe_2393_4776_a4a7_92d3b3521dd3"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureMaster","uuid":"c42de1fe-2393-4776-a4a7-92d3b3521dd3"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"f50585da-e6b8-45d2-860e-0eb22916ead9","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Substrate_Element_Delete_c42de1fe_2393_4776_a4a7_92d3b3521dd3"}],"description":"","message_list":[],"uuid":"fd3d0c79-026b-4324-8e3b-e0e3872b87dc","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_c42de1fe_2393_4776_a4a7_92d3b3521dd3","uuid":"e2215c06-0924-4645-ae05-dea85ec6cc58"},"name":"SYS_GEN__Runbook_Substrate_c42de1fe_2393_4776_a4a7_92d3b3521dd3"}}],"message_list":[],"uuid":"c42de1fe-2393-4776-a4a7-92d3b3521dd3","state":"ACTIVE","readiness_probe":{"connection_type":"SSH","retries":"5","disable_readiness_probe":false,"address":"@@{platform.publicIPAddressList[0]}@@","delay_secs":"60","connection_port":22,"login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"editables":{"readiness_probe":{"connection_type":true,"delay_secs":true,"connection_port":true,"timeout_secs":null},"create_spec":{"resources":{"vm_name":true,"storage_profile":{"is_managed":true,"image_details":{"sku":true,"publisher":true,"offer":true,"source_image_id":true,"use_custom_image":true,"version":true},"os_disk_details":{"storage_type":true,"create_option":true,"caching_type":true,"name":true}},"nw_profile":{"nic_list":{"0":{"nsg_name":true,"vnet_name":true,"private_ip_info":{"ip_allocation_method":true},"nic_name":true,"subnet_name":true,"public_ip_info":{"ip_name":true,"dns_label":true,"ip_allocation_method":true}}}},"resource_group":true,"os_profile":{"linux_config":{"custom_data":true}},"hw_profile":{"vm_size":true},"location":true,"availability_set_id":true,"tag_list":true}}},"os_type":"Linux","type":"AZURE_VM","create_spec":{"type":"PROVISION_AZURE_VM","name":"","resources":{"vm_name":"pg-@@{calm_unique_hash}@@-@@{calm_array_index}@@","storage_profile":{"is_managed":true,"image_details":{"sku":"7.4","publisher":"OpenLogic","offer":"CentOS-HPC","source_image_id":"","use_custom_image":false,"version":"7.4.20180719","type":""},"type":"","os_disk_details":{"size_in_gb":127,"name":"os-@@{calm_unique_hash}@@-@@{calm_array_index}@@-disk","storage_name":"","storage_type":"Standard_LRS","lun":-1,"type":"","create_option":"FromImage","caching_type":"ReadWrite"},"data_disk_list":[]},"nw_profile":{"nic_list":[{"nsg_name":"nutanix-test-sg","vnet_name":"NUTANIX-vnet","private_ip_info":{"ip_address":"","ip_allocation_method":"Dynamic","type":""},"nic_name":"nic-@@{calm_unique_hash}@@-@@{calm_array_index}@@-0","subnet_name":"default","type":"","public_ip_info":{"ip_name":"public-ip-@@{calm_unique_hash}@@-@@{calm_array_index}@@-0","dns_label":"dns-@@{calm_unique_hash}@@-@@{calm_array_index}@@-0","ip_allocation_method":"Dynamic","type":""}}],"primary_nic":-1,"type":""},"resource_group":"NUTANIX","os_profile":{"secrets":[],"type":"","windows_config":{"winrm_listeners":[],"time_zone":"","additional_unattend_content":[],"provision_vm_agent":true,"auto_updates":false,"type":""},"linux_config":null},"hw_profile":{"max_data_disk_count":8,"vm_size":"Standard_DS2_v2","type":""},"location":"eastus","availability_set_id":"\/subscriptions\/6b1ac087-d237-4e42-89bf-e136161f2654\/resourceGroups\/NUTANIX\/providers\/Microsoft.Compute\/availabilitySets\/TestAvailabilitySet1","tag_list":[],"type":"","account_uuid":"3c0f2d94-878c-f34c-6d39-90b854129782"}},"variable_list":[],"name":"AzureMaster"},{"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"56cd1098-ee45-429f-8f9a-d2f91da6e676","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AzureSlave","uuid":"de59436e-b01f-4524-85a3-57807c3ac1a9"},"retries":"0","description":"","type":"DAG","uuid":"138f0933-5f52-4724-8434-5dd38dc4fab6","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Azure_Provision_de59436e_b01f_4524_85a3_57807c3ac1a9","uuid":"47bb90a3-c222-485c-a78a-e8c5f31e5102"},{"kind":"app_task","name":"SYS_GEN__check_login_for_AzureSlave_de59436e_b01f_4524_85a3_57807c3ac1a9","uuid":"a7ad7ea7-5455-4f3b-ad13-40a564def7ab"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Azure_Provision_de59436e_b01f_4524_85a3_57807c3ac1a9","uuid":"47bb90a3-c222-485c-a78a-e8c5f31e5102"},"edge_type":"inherent","type":"","uuid":"1b6c53a4-9e79-42d6-9e26-938086fdc117","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_AzureSlave_de59436e_b01f_4524_85a3_57807c3ac1a9","uuid":"a7ad7ea7-5455-4f3b-ad13-40a564def7ab"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_de59436e_b01f_4524_85a3_57807c3ac1a9"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureSlave","uuid":"de59436e-b01f-4524-85a3-57807c3ac1a9"},"retries":"0","description":"","type":"PROVISION_AZURE_VM","uuid":"47bb90a3-c222-485c-a78a-e8c5f31e5102","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"PROVISION_AZURE_VM","name":"","resources":{"vm_name":"pgslave-@@{calm_unique_hash}@@-@@{calm_array_index}@@","storage_profile":{"is_managed":true,"image_details":{"sku":"7.4","publisher":"OpenLogic","offer":"CentOS-HPC","source_image_id":"","use_custom_image":false,"version":"7.4.20180719","type":""},"type":"","os_disk_details":{"size_in_gb":127,"name":"os-@@{calm_unique_hash}@@-@@{calm_array_index}@@-disk","storage_name":"","storage_type":"Standard_LRS","lun":-1,"type":"","create_option":"FromImage","caching_type":"ReadWrite"},"data_disk_list":[]},"nw_profile":{"nic_list":[{"nsg_name":"nutanix-test-sg","vnet_name":"NUTANIX-vnet","private_ip_info":{"ip_address":"","ip_allocation_method":"Dynamic","type":""},"nic_name":"nic-@@{calm_unique_hash}@@-@@{calm_array_index}@@-0","subnet_name":"default","type":"","public_ip_info":{"ip_name":"public-ip-@@{calm_unique_hash}@@-@@{calm_array_index}@@-0","dns_label":"dns-@@{calm_unique_hash}@@-@@{calm_array_index}@@-0","ip_allocation_method":"Dynamic","type":""}}],"primary_nic":-1,"type":""},"resource_group":"NUTANIX","os_profile":{"secrets":[],"type":"","windows_config":{"winrm_listeners":[],"time_zone":"","additional_unattend_content":[],"provision_vm_agent":true,"auto_updates":false,"type":""},"linux_config":null},"hw_profile":{"max_data_disk_count":8,"vm_size":"Standard_DS2_v2","type":""},"location":"eastus","availability_set_id":"\/subscriptions\/6b1ac087-d237-4e42-89bf-e136161f2654\/resourceGroups\/NUTANIX\/providers\/Microsoft.Compute\/availabilitySets\/TestAvailabilitySet1","tag_list":[],"type":"","account_uuid":"3c0f2d94-878c-f34c-6d39-90b854129782"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Azure_Provision_de59436e_b01f_4524_85a3_57807c3ac1a9"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureSlave","uuid":"de59436e-b01f-4524-85a3-57807c3ac1a9"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"a7ad7ea7-5455-4f3b-ad13-40a564def7ab","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"300","address":"@@{platform.publicIPAddressList[0]}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_AzureSlave_de59436e_b01f_4524_85a3_57807c3ac1a9"}],"description":"","message_list":[],"uuid":"1f18b629-8f26-4c4c-9914-6bf0d3929f0c","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_de59436e_b01f_4524_85a3_57807c3ac1a9","uuid":"138f0933-5f52-4724-8434-5dd38dc4fab6"},"name":"SYS_GEN__Runbook_Substrate_de59436e_b01f_4524_85a3_57807c3ac1a9"}},{"description":"System action for powering on an application","message_list":[],"uuid":"c258fa21-e54b-4357-bb21-09e109700eb9","name":"action_poweron","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AzureSlave","uuid":"de59436e-b01f-4524-85a3-57807c3ac1a9"},"retries":"0","description":"","type":"DAG","uuid":"a35e1f28-db6e-49d0-b0b7-9b6a2f5bf410","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Azure_Operation_PowerOn_de59436e_b01f_4524_85a3_57807c3ac1a9","uuid":"a13086da-f3dd-46d3-9478-cd02d82e524c"},{"kind":"app_task","name":"SYS_GEN__check_login_for_AzureSlave_de59436e_b01f_4524_85a3_57807c3ac1a9","uuid":"e9a8e39e-6342-4579-bb38-253b40170667"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Azure_Operation_PowerOn_de59436e_b01f_4524_85a3_57807c3ac1a9","uuid":"a13086da-f3dd-46d3-9478-cd02d82e524c"},"edge_type":"inherent","type":"","uuid":"9e515fb1-dd80-4d49-8aa8-0cb3a6bc835d","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_AzureSlave_de59436e_b01f_4524_85a3_57807c3ac1a9","uuid":"e9a8e39e-6342-4579-bb38-253b40170667"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_de59436e_b01f_4524_85a3_57807c3ac1a9"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureSlave","uuid":"de59436e-b01f-4524-85a3-57807c3ac1a9"},"retries":"0","description":"","type":"VMOPERATION_AZURE_VM","uuid":"a13086da-f3dd-46d3-9478-cd02d82e524c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Azure_Operation_PowerOn_de59436e_b01f_4524_85a3_57807c3ac1a9"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureSlave","uuid":"de59436e-b01f-4524-85a3-57807c3ac1a9"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"e9a8e39e-6342-4579-bb38-253b40170667","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"300","address":"@@{platform.publicIPAddressList[0]}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_AzureSlave_de59436e_b01f_4524_85a3_57807c3ac1a9"}],"description":"","message_list":[],"uuid":"b93fac29-dcf8-440d-a72d-5ac2bbd2079e","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_de59436e_b01f_4524_85a3_57807c3ac1a9","uuid":"a35e1f28-db6e-49d0-b0b7-9b6a2f5bf410"},"name":"SYS_GEN__Runbook_Substrate_de59436e_b01f_4524_85a3_57807c3ac1a9"}},{"description":"System action for restarting an application","message_list":[],"uuid":"608df53a-85a4-42d1-abdd-5b8ddff96c3e","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AzureSlave","uuid":"de59436e-b01f-4524-85a3-57807c3ac1a9"},"retries":"0","description":"","type":"DAG","uuid":"956a8374-006f-4115-85e2-389a7e3572f6","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Azure_Operation_Restartde59436e_b01f_4524_85a3_57807c3ac1a9","uuid":"573e2c30-54ee-4c98-b550-83de7a3eee00"},{"kind":"app_task","name":"SYS_GEN__check_login_for_AzureSlave_de59436e_b01f_4524_85a3_57807c3ac1a9","uuid":"8289107a-fdd3-4cd2-8a0a-e3d488e26889"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Azure_Operation_Restartde59436e_b01f_4524_85a3_57807c3ac1a9","uuid":"573e2c30-54ee-4c98-b550-83de7a3eee00"},"edge_type":"inherent","type":"","uuid":"1037b10a-137a-426a-a190-5fc71819c895","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_AzureSlave_de59436e_b01f_4524_85a3_57807c3ac1a9","uuid":"8289107a-fdd3-4cd2-8a0a-e3d488e26889"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_de59436e_b01f_4524_85a3_57807c3ac1a9"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureSlave","uuid":"de59436e-b01f-4524-85a3-57807c3ac1a9"},"retries":"0","description":"","type":"VMOPERATION_AZURE_VM","uuid":"573e2c30-54ee-4c98-b550-83de7a3eee00","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Azure_Operation_Restartde59436e_b01f_4524_85a3_57807c3ac1a9"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureSlave","uuid":"de59436e-b01f-4524-85a3-57807c3ac1a9"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"8289107a-fdd3-4cd2-8a0a-e3d488e26889","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"300","address":"@@{platform.publicIPAddressList[0]}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_AzureSlave_de59436e_b01f_4524_85a3_57807c3ac1a9"}],"description":"","message_list":[],"uuid":"4ccf7574-51e7-4083-a4f0-775318878b2c","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_de59436e_b01f_4524_85a3_57807c3ac1a9","uuid":"956a8374-006f-4115-85e2-389a7e3572f6"},"name":"SYS_GEN__Runbook_Substrate_de59436e_b01f_4524_85a3_57807c3ac1a9"}},{"description":"System action for suspending an application","message_list":[],"uuid":"7e2d5578-65a7-400f-a944-c1b494df7d4c","name":"action_suspend","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AzureSlave","uuid":"de59436e-b01f-4524-85a3-57807c3ac1a9"},"retries":"0","description":"","type":"DAG","uuid":"17a0ee1c-5999-4988-8b46-1e6e8abc07c7","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_de59436e_b01f_4524_85a3_57807c3ac1a9"}],"description":"","message_list":[],"uuid":"8651626b-df1a-4913-b551-851d16f5659d","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_de59436e_b01f_4524_85a3_57807c3ac1a9","uuid":"17a0ee1c-5999-4988-8b46-1e6e8abc07c7"},"name":"SYS_GEN__Runbook_Substrate_de59436e_b01f_4524_85a3_57807c3ac1a9"}},{"description":"System action for modifying an application","message_list":[],"uuid":"8f58a83a-147e-4d8c-b1dd-895f1c2a208e","name":"action_modify","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AzureSlave","uuid":"de59436e-b01f-4524-85a3-57807c3ac1a9"},"retries":"0","description":"","type":"DAG","uuid":"08b64842-0fc5-4269-84b9-65ed3928b5b3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_de59436e_b01f_4524_85a3_57807c3ac1a9"}],"description":"","message_list":[],"uuid":"98180fd8-45fe-4097-9145-32bbf2e20612","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_de59436e_b01f_4524_85a3_57807c3ac1a9","uuid":"08b64842-0fc5-4269-84b9-65ed3928b5b3"},"name":"SYS_GEN__Runbook_Substrate_de59436e_b01f_4524_85a3_57807c3ac1a9"}},{"description":"System action for powering off an application","message_list":[],"uuid":"58ebbf8b-f445-4d1f-86f6-0af3d11ca211","name":"action_poweroff","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AzureSlave","uuid":"de59436e-b01f-4524-85a3-57807c3ac1a9"},"retries":"0","description":"","type":"DAG","uuid":"ec239aa7-e8d7-4fef-9857-38cd57b12af7","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Azure_Operation_Poweroff_de59436e_b01f_4524_85a3_57807c3ac1a9","uuid":"df297d6b-098e-4524-b69d-d2669627b5e9"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_de59436e_b01f_4524_85a3_57807c3ac1a9"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureSlave","uuid":"de59436e-b01f-4524-85a3-57807c3ac1a9"},"retries":"0","description":"","type":"VMOPERATION_AZURE_VM","uuid":"df297d6b-098e-4524-b69d-d2669627b5e9","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Azure_Operation_Poweroff_de59436e_b01f_4524_85a3_57807c3ac1a9"}],"description":"","message_list":[],"uuid":"71fbd24d-3b03-4cdd-a9de-144dda018388","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_de59436e_b01f_4524_85a3_57807c3ac1a9","uuid":"ec239aa7-e8d7-4fef-9857-38cd57b12af7"},"name":"SYS_GEN__Runbook_Substrate_de59436e_b01f_4524_85a3_57807c3ac1a9"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"707ca9d2-8c35-4bfb-bc35-579eecff84ad","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AzureSlave","uuid":"de59436e-b01f-4524-85a3-57807c3ac1a9"},"retries":"0","description":"","type":"DAG","uuid":"66353e53-8a65-4333-8cf2-200024c2d6ab","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Azure_Delete_de59436e_b01f_4524_85a3_57807c3ac1a9","uuid":"e23dc025-dccf-4826-b9fa-d0a039977983"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_de59436e_b01f_4524_85a3_57807c3ac1a9"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureSlave","uuid":"de59436e-b01f-4524-85a3-57807c3ac1a9"},"retries":"0","description":"","type":"DELETE_AZURE_VM","uuid":"e23dc025-dccf-4826-b9fa-d0a039977983","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Azure_Delete_de59436e_b01f_4524_85a3_57807c3ac1a9"}],"description":"","message_list":[],"uuid":"d5270f20-9171-4924-813d-d5d1237b3462","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_de59436e_b01f_4524_85a3_57807c3ac1a9","uuid":"66353e53-8a65-4333-8cf2-200024c2d6ab"},"name":"SYS_GEN__Runbook_Substrate_de59436e_b01f_4524_85a3_57807c3ac1a9"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"1492aef6-e702-4a4b-8763-0866b3991feb","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AzureSlave","uuid":"de59436e-b01f-4524-85a3-57807c3ac1a9"},"retries":"0","description":"","type":"DAG","uuid":"1818c140-e1b7-438d-af55-e8a9792c23c5","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Substrate_Element_Delete_de59436e_b01f_4524_85a3_57807c3ac1a9","uuid":"f9307c86-befe-4f5b-bf1f-6a654c8df018"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_de59436e_b01f_4524_85a3_57807c3ac1a9"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureSlave","uuid":"de59436e-b01f-4524-85a3-57807c3ac1a9"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"f9307c86-befe-4f5b-bf1f-6a654c8df018","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Substrate_Element_Delete_de59436e_b01f_4524_85a3_57807c3ac1a9"}],"description":"","message_list":[],"uuid":"448723ed-5ed5-4225-b8c4-b1fe58205f7e","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_de59436e_b01f_4524_85a3_57807c3ac1a9","uuid":"1818c140-e1b7-438d-af55-e8a9792c23c5"},"name":"SYS_GEN__Runbook_Substrate_de59436e_b01f_4524_85a3_57807c3ac1a9"}}],"message_list":[],"uuid":"de59436e-b01f-4524-85a3-57807c3ac1a9","state":"ACTIVE","readiness_probe":{"connection_type":"SSH","retries":"5","disable_readiness_probe":false,"address":"@@{platform.publicIPAddressList[0]}@@","delay_secs":"60","connection_port":22,"login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"editables":{"readiness_probe":{"connection_type":true,"delay_secs":true,"connection_port":true,"timeout_secs":null},"create_spec":{"resources":{"vm_name":true,"storage_profile":{"is_managed":true,"image_details":{"sku":true,"publisher":true,"offer":true,"source_image_id":true,"use_custom_image":true,"version":true},"os_disk_details":{"storage_type":true,"create_option":true,"caching_type":true,"name":true}},"nw_profile":{"nic_list":{"0":{"nsg_name":true,"vnet_name":true,"private_ip_info":{"ip_allocation_method":true},"nic_name":true,"subnet_name":true,"public_ip_info":{"ip_name":true,"dns_label":true,"ip_allocation_method":true}}}},"resource_group":true,"os_profile":{"linux_config":{"custom_data":true}},"hw_profile":{"vm_size":true},"location":true,"availability_set_id":true,"tag_list":true}}},"os_type":"Linux","type":"AZURE_VM","create_spec":{"type":"PROVISION_AZURE_VM","name":"","resources":{"vm_name":"pgslave-@@{calm_unique_hash}@@-@@{calm_array_index}@@","storage_profile":{"is_managed":true,"image_details":{"sku":"7.4","publisher":"OpenLogic","offer":"CentOS-HPC","source_image_id":"","use_custom_image":false,"version":"7.4.20180719","type":""},"type":"","os_disk_details":{"size_in_gb":127,"name":"os-@@{calm_unique_hash}@@-@@{calm_array_index}@@-disk","storage_name":"","storage_type":"Standard_LRS","lun":-1,"type":"","create_option":"FromImage","caching_type":"ReadWrite"},"data_disk_list":[]},"nw_profile":{"nic_list":[{"nsg_name":"nutanix-test-sg","vnet_name":"NUTANIX-vnet","private_ip_info":{"ip_address":"","ip_allocation_method":"Dynamic","type":""},"nic_name":"nic-@@{calm_unique_hash}@@-@@{calm_array_index}@@-0","subnet_name":"default","type":"","public_ip_info":{"ip_name":"public-ip-@@{calm_unique_hash}@@-@@{calm_array_index}@@-0","dns_label":"dns-@@{calm_unique_hash}@@-@@{calm_array_index}@@-0","ip_allocation_method":"Dynamic","type":""}}],"primary_nic":-1,"type":""},"resource_group":"NUTANIX","os_profile":{"secrets":[],"type":"","windows_config":{"winrm_listeners":[],"time_zone":"","additional_unattend_content":[],"provision_vm_agent":true,"auto_updates":false,"type":""},"linux_config":null},"hw_profile":{"max_data_disk_count":8,"vm_size":"Standard_DS2_v2","type":""},"location":"eastus","availability_set_id":"\/subscriptions\/6b1ac087-d237-4e42-89bf-e136161f2654\/resourceGroups\/NUTANIX\/providers\/Microsoft.Compute\/availabilitySets\/TestAvailabilitySet1","tag_list":[],"type":"","account_uuid":"3c0f2d94-878c-f34c-6d39-90b854129782"}},"variable_list":[],"name":"AzureSlave"},{"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"17e63ff8-d8e2-4da7-b72e-07f929c973a3","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareMaster","uuid":"63de3a22-80dd-bdbe-bc85-900e651aeddb"},"retries":"0","description":"","type":"DAG","uuid":"e22d1c51-0e23-4466-92d3-10bce5c279c3","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Vmware_Provision_63de3a22_80dd_bdbe_bc85_900e651aeddb","uuid":"82ee9bbc-3dd1-4f0b-b8f8-f59d05611ec3"},{"kind":"app_task","name":"SYS_GEN__check_login_for_VMwareMaster_63de3a22_80dd_bdbe_bc85_900e651aeddb","uuid":"bf7b0fc6-80b1-4a29-b6f2-a1b486866b3f"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Vmware_Provision_63de3a22_80dd_bdbe_bc85_900e651aeddb","uuid":"82ee9bbc-3dd1-4f0b-b8f8-f59d05611ec3"},"edge_type":"inherent","type":"","uuid":"2f0ccc50-9364-4b35-ac2a-60785c90ca47","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_VMwareMaster_63de3a22_80dd_bdbe_bc85_900e651aeddb","uuid":"bf7b0fc6-80b1-4a29-b6f2-a1b486866b3f"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_63de3a22_80dd_bdbe_bc85_900e651aeddb"},{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareMaster","uuid":"63de3a22-80dd-bdbe-bc85-900e651aeddb"},"retries":"0","description":"","type":"PROVISION_VCENTER","uuid":"82ee9bbc-3dd1-4f0b-b8f8-f59d05611ec3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"name":"master-@@{calm_array_index}@@-@@{calm_time}@@","storage_pod":"DatastoreCluster","drs_mode":true,"cluster":"Sabine59-Cluster","host":"","clone_is_template":false,"template":"e5ba9433-4d2f-1e02-1657-b19820c42cb0","datastore":"","type":"PROVISION_VMWARE_VM","resources":{"nic_list":[{"nic_type":"vmxnet3","type":"","net_name":"key-vim.host.PortGroup-VM Network"}],"template_nic_list":[],"template_controller_list":[],"num_vcpus_per_socket":2,"num_sockets":2,"controller_list":[],"memory_size_mib":8192,"power_state":"poweron","guest_customization":{"type":"","cloud_init":"#cloud-config\nusers:\n  - name: centos\n    ssh-authorized-keys:\n      - @@{CENTOS.public_key}@@\n    sudo: ['ALL=(ALL) NOPASSWD:ALL']","linux_data":null,"customization_name":"","customization_type":"GUEST_OS_LINUX","windows_data":null},"template_disk_list":[],"type":"","account_uuid":"7f90399d-ed3d-1c70-447d-17004ef1bd0a","disk_list":[{"disk_size_mb":8192,"disk_mode":"persistent","adapter_type":"SCSI","iso_path":"","location":"ds:\/\/\/vmfs\/volumes\/7b773e05-e06fc970\/","disk_type":"disk","type":""},{"disk_size_mb":8192,"disk_mode":"persistent","adapter_type":"SCSI","iso_path":"","location":"ds:\/\/\/vmfs\/volumes\/7b773e05-e06fc970\/","disk_type":"disk","type":""},{"disk_size_mb":8192,"disk_mode":"persistent","adapter_type":"SCSI","iso_path":"","location":"ds:\/\/\/vmfs\/volumes\/7b773e05-e06fc970\/","disk_type":"disk","type":""},{"disk_size_mb":8192,"disk_mode":"persistent","adapter_type":"SCSI","iso_path":"","location":"ds:\/\/\/vmfs\/volumes\/7b773e05-e06fc970\/","disk_type":"disk","type":""},{"disk_size_mb":8192,"disk_mode":"persistent","adapter_type":"SCSI","iso_path":"","location":"ds:\/\/\/vmfs\/volumes\/7b773e05-e06fc970\/","disk_type":"disk","type":""},{"disk_size_mb":8192,"disk_mode":"persistent","adapter_type":"SCSI","iso_path":"","location":"ds:\/\/\/vmfs\/volumes\/7b773e05-e06fc970\/","disk_type":"disk","type":""}]}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Vmware_Provision_63de3a22_80dd_bdbe_bc85_900e651aeddb"},{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareMaster","uuid":"63de3a22-80dd-bdbe-bc85-900e651aeddb"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"bf7b0fc6-80b1-4a29-b6f2-a1b486866b3f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"300","address":"@@{platform.ipAddressList[0]}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_VMwareMaster_63de3a22_80dd_bdbe_bc85_900e651aeddb"}],"description":"","message_list":[],"uuid":"4123cf08-7944-4a59-ac78-bb8670100467","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_63de3a22_80dd_bdbe_bc85_900e651aeddb","uuid":"e22d1c51-0e23-4466-92d3-10bce5c279c3"},"name":"SYS_GEN__Runbook_Substrate_63de3a22_80dd_bdbe_bc85_900e651aeddb"}},{"description":"System action for powering on an application","message_list":[],"uuid":"6f4e9843-79e0-4ebc-9e0e-425b16154b02","name":"action_poweron","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareMaster","uuid":"63de3a22-80dd-bdbe-bc85-900e651aeddb"},"retries":"0","description":"","type":"DAG","uuid":"ef8f9b10-9178-4d43-a739-693b925ba6be","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Vmware_Operation_PowerOn_63de3a22_80dd_bdbe_bc85_900e651aeddb","uuid":"9a7f684e-3a85-4991-b20f-f8905092c681"},{"kind":"app_task","name":"SYS_GEN__check_login_for_VMwareMaster_63de3a22_80dd_bdbe_bc85_900e651aeddb","uuid":"12eef369-4466-488e-96f5-ebb059507b98"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Vmware_Operation_PowerOn_63de3a22_80dd_bdbe_bc85_900e651aeddb","uuid":"9a7f684e-3a85-4991-b20f-f8905092c681"},"edge_type":"inherent","type":"","uuid":"14a723c2-8eda-4570-b4d9-a13afcd9235d","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_VMwareMaster_63de3a22_80dd_bdbe_bc85_900e651aeddb","uuid":"12eef369-4466-488e-96f5-ebb059507b98"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_63de3a22_80dd_bdbe_bc85_900e651aeddb"},{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareMaster","uuid":"63de3a22-80dd-bdbe-bc85-900e651aeddb"},"retries":"0","description":"","type":"VMOPERATION_VCENTER","uuid":"9a7f684e-3a85-4991-b20f-f8905092c681","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Vmware_Operation_PowerOn_63de3a22_80dd_bdbe_bc85_900e651aeddb"},{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareMaster","uuid":"63de3a22-80dd-bdbe-bc85-900e651aeddb"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"12eef369-4466-488e-96f5-ebb059507b98","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"300","address":"@@{platform.ipAddressList[0]}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_VMwareMaster_63de3a22_80dd_bdbe_bc85_900e651aeddb"}],"description":"","message_list":[],"uuid":"13cce7fe-6a62-450b-a0da-28624d8feea8","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_63de3a22_80dd_bdbe_bc85_900e651aeddb","uuid":"ef8f9b10-9178-4d43-a739-693b925ba6be"},"name":"SYS_GEN__Runbook_Substrate_63de3a22_80dd_bdbe_bc85_900e651aeddb"}},{"description":"System action for restarting an application","message_list":[],"uuid":"24d931e5-393a-402e-b5ef-a4dfeb8799df","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareMaster","uuid":"63de3a22-80dd-bdbe-bc85-900e651aeddb"},"retries":"0","description":"","type":"DAG","uuid":"b62ca698-c77a-47db-a2fb-5264c8be4220","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Vmware_Operation_Restart63de3a22_80dd_bdbe_bc85_900e651aeddb","uuid":"2f9de6a6-09a9-4a58-81e0-7de1614c7486"},{"kind":"app_task","name":"SYS_GEN__check_login_for_VMwareMaster_63de3a22_80dd_bdbe_bc85_900e651aeddb","uuid":"25396ae4-b59a-4c33-b45c-4c8e98c93e99"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Vmware_Operation_Restart63de3a22_80dd_bdbe_bc85_900e651aeddb","uuid":"2f9de6a6-09a9-4a58-81e0-7de1614c7486"},"edge_type":"inherent","type":"","uuid":"b1d24e3e-4bad-40e1-9993-2281ea4be521","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_VMwareMaster_63de3a22_80dd_bdbe_bc85_900e651aeddb","uuid":"25396ae4-b59a-4c33-b45c-4c8e98c93e99"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_63de3a22_80dd_bdbe_bc85_900e651aeddb"},{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareMaster","uuid":"63de3a22-80dd-bdbe-bc85-900e651aeddb"},"retries":"0","description":"","type":"VMOPERATION_VCENTER","uuid":"2f9de6a6-09a9-4a58-81e0-7de1614c7486","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Vmware_Operation_Restart63de3a22_80dd_bdbe_bc85_900e651aeddb"},{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareMaster","uuid":"63de3a22-80dd-bdbe-bc85-900e651aeddb"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"25396ae4-b59a-4c33-b45c-4c8e98c93e99","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"300","address":"@@{platform.ipAddressList[0]}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_VMwareMaster_63de3a22_80dd_bdbe_bc85_900e651aeddb"}],"description":"","message_list":[],"uuid":"6cf3d1c4-1386-413d-87c0-00f18165c197","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_63de3a22_80dd_bdbe_bc85_900e651aeddb","uuid":"b62ca698-c77a-47db-a2fb-5264c8be4220"},"name":"SYS_GEN__Runbook_Substrate_63de3a22_80dd_bdbe_bc85_900e651aeddb"}},{"description":"System action for suspending an application","message_list":[],"uuid":"d173c437-490d-4eaa-9416-6b9bfc917d74","name":"action_suspend","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareMaster","uuid":"63de3a22-80dd-bdbe-bc85-900e651aeddb"},"retries":"0","description":"","type":"DAG","uuid":"286177be-a39f-4c4a-94d8-5bbac509c89c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_63de3a22_80dd_bdbe_bc85_900e651aeddb"}],"description":"","message_list":[],"uuid":"9442ef45-a6a8-4dcd-8992-9e180d8bd0d1","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_63de3a22_80dd_bdbe_bc85_900e651aeddb","uuid":"286177be-a39f-4c4a-94d8-5bbac509c89c"},"name":"SYS_GEN__Runbook_Substrate_63de3a22_80dd_bdbe_bc85_900e651aeddb"}},{"description":"System action for modifying an application","message_list":[],"uuid":"0ca0ba77-426d-461f-b874-fd3b00987880","name":"action_modify","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareMaster","uuid":"63de3a22-80dd-bdbe-bc85-900e651aeddb"},"retries":"0","description":"","type":"DAG","uuid":"4cc664ab-9e97-45eb-b644-7529a803d513","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_63de3a22_80dd_bdbe_bc85_900e651aeddb"}],"description":"","message_list":[],"uuid":"b9e73906-7010-4951-a1a9-fe479e1df8ba","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_63de3a22_80dd_bdbe_bc85_900e651aeddb","uuid":"4cc664ab-9e97-45eb-b644-7529a803d513"},"name":"SYS_GEN__Runbook_Substrate_63de3a22_80dd_bdbe_bc85_900e651aeddb"}},{"description":"System action for powering off an application","message_list":[],"uuid":"0d61f227-cd80-4c41-bfe3-234889fce541","name":"action_poweroff","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareMaster","uuid":"63de3a22-80dd-bdbe-bc85-900e651aeddb"},"retries":"0","description":"","type":"DAG","uuid":"22551524-fc58-4db6-ad67-bf1763945dcf","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Vmware_Operation_Poweroff_63de3a22_80dd_bdbe_bc85_900e651aeddb","uuid":"ec782667-b89a-4ebc-ae13-e3037addf7b6"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_63de3a22_80dd_bdbe_bc85_900e651aeddb"},{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareMaster","uuid":"63de3a22-80dd-bdbe-bc85-900e651aeddb"},"retries":"0","description":"","type":"VMOPERATION_VCENTER","uuid":"ec782667-b89a-4ebc-ae13-e3037addf7b6","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Vmware_Operation_Poweroff_63de3a22_80dd_bdbe_bc85_900e651aeddb"}],"description":"","message_list":[],"uuid":"d188418b-0975-4e36-bf99-05bbd4518859","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_63de3a22_80dd_bdbe_bc85_900e651aeddb","uuid":"22551524-fc58-4db6-ad67-bf1763945dcf"},"name":"SYS_GEN__Runbook_Substrate_63de3a22_80dd_bdbe_bc85_900e651aeddb"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"94acd6f7-dd4e-4e5f-8b9c-c20805a56b08","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareMaster","uuid":"63de3a22-80dd-bdbe-bc85-900e651aeddb"},"retries":"0","description":"","type":"DAG","uuid":"9ebdfc50-c731-410c-846d-9116f5c8ac5b","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Vmware_Delete_63de3a22_80dd_bdbe_bc85_900e651aeddb","uuid":"b1f2b339-6a47-4ae1-92ef-4f2a971f2b7a"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_63de3a22_80dd_bdbe_bc85_900e651aeddb"},{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareMaster","uuid":"63de3a22-80dd-bdbe-bc85-900e651aeddb"},"retries":"0","description":"","type":"DELETE_VCENTER","uuid":"b1f2b339-6a47-4ae1-92ef-4f2a971f2b7a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Vmware_Delete_63de3a22_80dd_bdbe_bc85_900e651aeddb"}],"description":"","message_list":[],"uuid":"71e9bb09-2b57-4a52-b3ea-a00f0af27bbe","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_63de3a22_80dd_bdbe_bc85_900e651aeddb","uuid":"9ebdfc50-c731-410c-846d-9116f5c8ac5b"},"name":"SYS_GEN__Runbook_Substrate_63de3a22_80dd_bdbe_bc85_900e651aeddb"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"f4a5a42b-d331-40e2-bc8c-2057a4893e70","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareMaster","uuid":"63de3a22-80dd-bdbe-bc85-900e651aeddb"},"retries":"0","description":"","type":"DAG","uuid":"dc01eb8c-ce98-4403-8208-c317b59400cc","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Substrate_Element_Delete_63de3a22_80dd_bdbe_bc85_900e651aeddb","uuid":"f4906ee8-9c6e-48d6-9210-6ac6311bd21d"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_63de3a22_80dd_bdbe_bc85_900e651aeddb"},{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareMaster","uuid":"63de3a22-80dd-bdbe-bc85-900e651aeddb"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"f4906ee8-9c6e-48d6-9210-6ac6311bd21d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Substrate_Element_Delete_63de3a22_80dd_bdbe_bc85_900e651aeddb"}],"description":"","message_list":[],"uuid":"387d4354-c71f-44dc-8f67-4bbdf63c7e15","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_63de3a22_80dd_bdbe_bc85_900e651aeddb","uuid":"dc01eb8c-ce98-4403-8208-c317b59400cc"},"name":"SYS_GEN__Runbook_Substrate_63de3a22_80dd_bdbe_bc85_900e651aeddb"}}],"message_list":[],"uuid":"63de3a22-80dd-bdbe-bc85-900e651aeddb","state":"ACTIVE","readiness_probe":{"connection_type":"SSH","retries":"5","disable_readiness_probe":false,"address":"@@{platform.ipAddressList[0]}@@","delay_secs":"60","connection_port":22,"login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"editables":{"readiness_probe":{"connection_type":true,"retries":true,"delay_secs":true,"connection_port":true,"timeout_secs":null},"create_spec":{"name":true,"resources":{"template_nic_list":{},"nic_list":{"0":{"nic_type":true,"net_name":true}},"template_controller_list":{},"num_vcpus_per_socket":true,"num_sockets":true,"controller_list":{},"memory_size_mib":true,"template_disk_list":{},"disk_list":{"1":{"disk_size_mb":true,"disk_mode":true,"adapter_type":true,"location":true,"controller_key":true,"disk_type":true},"0":{"disk_size_mb":true,"disk_mode":true,"adapter_type":true,"location":true,"controller_key":true,"disk_type":true},"3":{"disk_size_mb":true,"controller_key":true,"disk_type":true,"adapter_type":true,"location":true},"2":{"disk_size_mb":true,"disk_mode":true,"adapter_type":true,"location":true,"controller_key":true,"disk_type":true},"5":{"disk_size_mb":true,"disk_mode":true,"adapter_type":true,"location":true,"controller_key":true,"disk_type":true},"4":{"disk_size_mb":true,"disk_mode":true,"adapter_type":true,"location":true,"controller_key":true,"disk_type":true}}}}},"os_type":"Linux","type":"VMWARE_VM","create_spec":{"name":"master-@@{calm_array_index}@@-@@{calm_time}@@","storage_pod":"DatastoreCluster","drs_mode":true,"cluster":"Sabine59-Cluster","host":"","clone_is_template":false,"template":"e5ba9433-4d2f-1e02-1657-b19820c42cb0","datastore":"","type":"PROVISION_VMWARE_VM","resources":{"nic_list":[{"nic_type":"vmxnet3","type":"","net_name":"key-vim.host.PortGroup-VM Network"}],"template_nic_list":[],"template_controller_list":[],"num_vcpus_per_socket":2,"num_sockets":2,"controller_list":[],"memory_size_mib":8192,"power_state":"poweron","guest_customization":{"type":"","cloud_init":"#cloud-config\nusers:\n  - name: centos\n    ssh-authorized-keys:\n      - @@{CENTOS.public_key}@@\n    sudo: ['ALL=(ALL) NOPASSWD:ALL']","linux_data":null,"customization_name":"","customization_type":"GUEST_OS_LINUX","windows_data":null},"template_disk_list":[],"type":"","account_uuid":"7f90399d-ed3d-1c70-447d-17004ef1bd0a","disk_list":[{"disk_size_mb":8192,"disk_mode":"persistent","adapter_type":"SCSI","iso_path":"","location":"ds:\/\/\/vmfs\/volumes\/7b773e05-e06fc970\/","disk_type":"disk","type":""},{"disk_size_mb":8192,"disk_mode":"persistent","adapter_type":"SCSI","iso_path":"","location":"ds:\/\/\/vmfs\/volumes\/7b773e05-e06fc970\/","disk_type":"disk","type":""},{"disk_size_mb":8192,"disk_mode":"persistent","adapter_type":"SCSI","iso_path":"","location":"ds:\/\/\/vmfs\/volumes\/7b773e05-e06fc970\/","disk_type":"disk","type":""},{"disk_size_mb":8192,"disk_mode":"persistent","adapter_type":"SCSI","iso_path":"","location":"ds:\/\/\/vmfs\/volumes\/7b773e05-e06fc970\/","disk_type":"disk","type":""},{"disk_size_mb":8192,"disk_mode":"persistent","adapter_type":"SCSI","iso_path":"","location":"ds:\/\/\/vmfs\/volumes\/7b773e05-e06fc970\/","disk_type":"disk","type":""},{"disk_size_mb":8192,"disk_mode":"persistent","adapter_type":"SCSI","iso_path":"","location":"ds:\/\/\/vmfs\/volumes\/7b773e05-e06fc970\/","disk_type":"disk","type":""}]}},"variable_list":[],"name":"VMwareMaster"},{"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"1d31a9e0-4b0d-4d36-93da-20c0b49a7ac8","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareSlave","uuid":"58324931-231d-625a-e600-0b039c122559"},"retries":"0","description":"","type":"DAG","uuid":"37cc220e-9c46-4532-90ef-54bcb8009f29","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Vmware_Provision_58324931_231d_625a_e600_0b039c122559","uuid":"09502e9a-d9a8-437b-a2f7-cc134f8d167c"},{"kind":"app_task","name":"SYS_GEN__check_login_for_VMwareSlave_58324931_231d_625a_e600_0b039c122559","uuid":"a1a1df1d-f8e3-4334-9c30-ccb4435a7c00"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Vmware_Provision_58324931_231d_625a_e600_0b039c122559","uuid":"09502e9a-d9a8-437b-a2f7-cc134f8d167c"},"edge_type":"inherent","type":"","uuid":"41bb948d-f2ea-4df8-8a2d-cd02c8f500b7","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_VMwareSlave_58324931_231d_625a_e600_0b039c122559","uuid":"a1a1df1d-f8e3-4334-9c30-ccb4435a7c00"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_58324931_231d_625a_e600_0b039c122559"},{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareSlave","uuid":"58324931-231d-625a-e600-0b039c122559"},"retries":"0","description":"","type":"PROVISION_VCENTER","uuid":"09502e9a-d9a8-437b-a2f7-cc134f8d167c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"name":"slave-@@{calm_array_index}@@-@@{calm_time}@@","storage_pod":"DatastoreCluster","drs_mode":true,"cluster":"Sabine59-Cluster","host":"","clone_is_template":false,"template":"e5ba9433-4d2f-1e02-1657-b19820c42cb0","datastore":"","type":"PROVISION_VMWARE_VM","resources":{"nic_list":[{"nic_type":"vmxnet3","type":"","net_name":"key-vim.host.PortGroup-VM Network"}],"template_nic_list":[],"template_controller_list":[],"num_vcpus_per_socket":2,"num_sockets":2,"controller_list":[],"memory_size_mib":8192,"power_state":"poweron","guest_customization":{"type":"","cloud_init":"#cloud-config\nusers:\n  - name: centos\n    ssh-authorized-keys:\n      - @@{CENTOS.public_key}@@\n    sudo: ['ALL=(ALL) NOPASSWD:ALL']","linux_data":null,"customization_name":"","customization_type":"GUEST_OS_LINUX","windows_data":null},"template_disk_list":[],"type":"","account_uuid":"7f90399d-ed3d-1c70-447d-17004ef1bd0a","disk_list":[{"disk_size_mb":8192,"disk_mode":"persistent","adapter_type":"SCSI","iso_path":"","location":"ds:\/\/\/vmfs\/volumes\/7b773e05-e06fc970\/","disk_type":"disk","type":""},{"disk_size_mb":8192,"disk_mode":"persistent","adapter_type":"SCSI","iso_path":"","location":"ds:\/\/\/vmfs\/volumes\/7b773e05-e06fc970\/","disk_type":"disk","type":""},{"disk_size_mb":8192,"disk_mode":"persistent","adapter_type":"SCSI","iso_path":"","location":"ds:\/\/\/vmfs\/volumes\/7b773e05-e06fc970\/","disk_type":"disk","type":""},{"disk_size_mb":8192,"disk_mode":"persistent","adapter_type":"SCSI","iso_path":"","location":"ds:\/\/\/vmfs\/volumes\/7b773e05-e06fc970\/","disk_type":"disk","type":""},{"disk_size_mb":8192,"disk_mode":"persistent","adapter_type":"SCSI","iso_path":"","location":"ds:\/\/\/vmfs\/volumes\/7b773e05-e06fc970\/","disk_type":"disk","type":""},{"disk_size_mb":8192,"disk_mode":"persistent","adapter_type":"SCSI","iso_path":"","location":"ds:\/\/\/vmfs\/volumes\/7b773e05-e06fc970\/","disk_type":"disk","type":""}]}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Vmware_Provision_58324931_231d_625a_e600_0b039c122559"},{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareSlave","uuid":"58324931-231d-625a-e600-0b039c122559"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"a1a1df1d-f8e3-4334-9c30-ccb4435a7c00","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"300","address":"@@{platform.ipAddressList[0]}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_VMwareSlave_58324931_231d_625a_e600_0b039c122559"}],"description":"","message_list":[],"uuid":"086d8594-9f88-462d-8380-9b9cd97139a5","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_58324931_231d_625a_e600_0b039c122559","uuid":"37cc220e-9c46-4532-90ef-54bcb8009f29"},"name":"SYS_GEN__Runbook_Substrate_58324931_231d_625a_e600_0b039c122559"}},{"description":"System action for powering on an application","message_list":[],"uuid":"53c72745-06f7-4f66-bffe-69bedad9fb08","name":"action_poweron","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareSlave","uuid":"58324931-231d-625a-e600-0b039c122559"},"retries":"0","description":"","type":"DAG","uuid":"7c5c44ec-99ef-47a9-b54f-d07f1be95153","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Vmware_Operation_PowerOn_58324931_231d_625a_e600_0b039c122559","uuid":"1b55504d-2f59-495b-8c0c-65c83a696c0a"},{"kind":"app_task","name":"SYS_GEN__check_login_for_VMwareSlave_58324931_231d_625a_e600_0b039c122559","uuid":"b5c95633-cc6d-4505-8bee-cf99863cf42e"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Vmware_Operation_PowerOn_58324931_231d_625a_e600_0b039c122559","uuid":"1b55504d-2f59-495b-8c0c-65c83a696c0a"},"edge_type":"inherent","type":"","uuid":"dc2fe0a9-7664-4d08-97b8-e97e848eaaae","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_VMwareSlave_58324931_231d_625a_e600_0b039c122559","uuid":"b5c95633-cc6d-4505-8bee-cf99863cf42e"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_58324931_231d_625a_e600_0b039c122559"},{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareSlave","uuid":"58324931-231d-625a-e600-0b039c122559"},"retries":"0","description":"","type":"VMOPERATION_VCENTER","uuid":"1b55504d-2f59-495b-8c0c-65c83a696c0a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Vmware_Operation_PowerOn_58324931_231d_625a_e600_0b039c122559"},{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareSlave","uuid":"58324931-231d-625a-e600-0b039c122559"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"b5c95633-cc6d-4505-8bee-cf99863cf42e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"300","address":"@@{platform.ipAddressList[0]}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_VMwareSlave_58324931_231d_625a_e600_0b039c122559"}],"description":"","message_list":[],"uuid":"db82983b-ac44-4087-a79c-42c6dda970ad","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_58324931_231d_625a_e600_0b039c122559","uuid":"7c5c44ec-99ef-47a9-b54f-d07f1be95153"},"name":"SYS_GEN__Runbook_Substrate_58324931_231d_625a_e600_0b039c122559"}},{"description":"System action for restarting an application","message_list":[],"uuid":"90036462-f570-464d-b1ae-0d1413412590","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareSlave","uuid":"58324931-231d-625a-e600-0b039c122559"},"retries":"0","description":"","type":"DAG","uuid":"24156334-7dd4-42c2-8084-b7feca29dc7b","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Vmware_Operation_Restart58324931_231d_625a_e600_0b039c122559","uuid":"8c57af2a-85ed-447b-a865-50260c3b298e"},{"kind":"app_task","name":"SYS_GEN__check_login_for_VMwareSlave_58324931_231d_625a_e600_0b039c122559","uuid":"7ec27edf-a260-4f8a-a75a-e7aaa5c0644d"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Vmware_Operation_Restart58324931_231d_625a_e600_0b039c122559","uuid":"8c57af2a-85ed-447b-a865-50260c3b298e"},"edge_type":"inherent","type":"","uuid":"70cde39a-56b9-40ca-9a9c-d8231a8470e5","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_VMwareSlave_58324931_231d_625a_e600_0b039c122559","uuid":"7ec27edf-a260-4f8a-a75a-e7aaa5c0644d"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_58324931_231d_625a_e600_0b039c122559"},{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareSlave","uuid":"58324931-231d-625a-e600-0b039c122559"},"retries":"0","description":"","type":"VMOPERATION_VCENTER","uuid":"8c57af2a-85ed-447b-a865-50260c3b298e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Vmware_Operation_Restart58324931_231d_625a_e600_0b039c122559"},{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareSlave","uuid":"58324931-231d-625a-e600-0b039c122559"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"7ec27edf-a260-4f8a-a75a-e7aaa5c0644d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"300","address":"@@{platform.ipAddressList[0]}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_VMwareSlave_58324931_231d_625a_e600_0b039c122559"}],"description":"","message_list":[],"uuid":"5cfd5d2e-b952-464d-a192-1c7ff8fa99bc","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_58324931_231d_625a_e600_0b039c122559","uuid":"24156334-7dd4-42c2-8084-b7feca29dc7b"},"name":"SYS_GEN__Runbook_Substrate_58324931_231d_625a_e600_0b039c122559"}},{"description":"System action for suspending an application","message_list":[],"uuid":"3ef3fea0-0ee0-4b7c-893d-fbbbea633630","name":"action_suspend","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareSlave","uuid":"58324931-231d-625a-e600-0b039c122559"},"retries":"0","description":"","type":"DAG","uuid":"3b54bc13-596c-43f6-a226-45254f38b76c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_58324931_231d_625a_e600_0b039c122559"}],"description":"","message_list":[],"uuid":"22b484a7-dbf0-4fef-b111-36d6ece1cbf7","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_58324931_231d_625a_e600_0b039c122559","uuid":"3b54bc13-596c-43f6-a226-45254f38b76c"},"name":"SYS_GEN__Runbook_Substrate_58324931_231d_625a_e600_0b039c122559"}},{"description":"System action for modifying an application","message_list":[],"uuid":"6407f6d8-c4ee-428f-8d4d-09be5964a60e","name":"action_modify","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareSlave","uuid":"58324931-231d-625a-e600-0b039c122559"},"retries":"0","description":"","type":"DAG","uuid":"0c6e76fb-f471-4a24-a699-56d28c64d460","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_58324931_231d_625a_e600_0b039c122559"}],"description":"","message_list":[],"uuid":"25bbfb82-27e5-4094-a9c6-67f41a6521ff","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_58324931_231d_625a_e600_0b039c122559","uuid":"0c6e76fb-f471-4a24-a699-56d28c64d460"},"name":"SYS_GEN__Runbook_Substrate_58324931_231d_625a_e600_0b039c122559"}},{"description":"System action for powering off an application","message_list":[],"uuid":"f41220cd-14cc-4a64-b510-709218cb6af1","name":"action_poweroff","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareSlave","uuid":"58324931-231d-625a-e600-0b039c122559"},"retries":"0","description":"","type":"DAG","uuid":"62702e0a-8438-443c-98d4-adf7181a47e9","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Vmware_Operation_Poweroff_58324931_231d_625a_e600_0b039c122559","uuid":"3f127e43-4082-4634-80be-3c6930c1417d"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_58324931_231d_625a_e600_0b039c122559"},{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareSlave","uuid":"58324931-231d-625a-e600-0b039c122559"},"retries":"0","description":"","type":"VMOPERATION_VCENTER","uuid":"3f127e43-4082-4634-80be-3c6930c1417d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Vmware_Operation_Poweroff_58324931_231d_625a_e600_0b039c122559"}],"description":"","message_list":[],"uuid":"1dae1340-019f-4c7e-b934-94f1a57cb965","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_58324931_231d_625a_e600_0b039c122559","uuid":"62702e0a-8438-443c-98d4-adf7181a47e9"},"name":"SYS_GEN__Runbook_Substrate_58324931_231d_625a_e600_0b039c122559"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"8ddf78eb-38fd-4fa7-a4bf-4b7d38b281a6","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareSlave","uuid":"58324931-231d-625a-e600-0b039c122559"},"retries":"0","description":"","type":"DAG","uuid":"b8ea5681-d6f8-4393-bb89-1259aff0b8e3","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Vmware_Delete_58324931_231d_625a_e600_0b039c122559","uuid":"fadc946b-9ba2-423b-b1ca-8c6e88227275"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_58324931_231d_625a_e600_0b039c122559"},{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareSlave","uuid":"58324931-231d-625a-e600-0b039c122559"},"retries":"0","description":"","type":"DELETE_VCENTER","uuid":"fadc946b-9ba2-423b-b1ca-8c6e88227275","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Vmware_Delete_58324931_231d_625a_e600_0b039c122559"}],"description":"","message_list":[],"uuid":"995dd411-3bc4-4d96-8ec0-21d212037420","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_58324931_231d_625a_e600_0b039c122559","uuid":"b8ea5681-d6f8-4393-bb89-1259aff0b8e3"},"name":"SYS_GEN__Runbook_Substrate_58324931_231d_625a_e600_0b039c122559"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"b65775dc-f344-4b8d-869b-20e87f8a5f18","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareSlave","uuid":"58324931-231d-625a-e600-0b039c122559"},"retries":"0","description":"","type":"DAG","uuid":"b68d096d-248c-4059-a0df-0ae14fed9a7f","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Substrate_Element_Delete_58324931_231d_625a_e600_0b039c122559","uuid":"6a59db7e-07b7-45d6-aa01-f2ab1a2d34cd"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_58324931_231d_625a_e600_0b039c122559"},{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareSlave","uuid":"58324931-231d-625a-e600-0b039c122559"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"6a59db7e-07b7-45d6-aa01-f2ab1a2d34cd","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Substrate_Element_Delete_58324931_231d_625a_e600_0b039c122559"}],"description":"","message_list":[],"uuid":"fc8098d5-29a6-4474-861d-b5d7c838494c","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_58324931_231d_625a_e600_0b039c122559","uuid":"b68d096d-248c-4059-a0df-0ae14fed9a7f"},"name":"SYS_GEN__Runbook_Substrate_58324931_231d_625a_e600_0b039c122559"}}],"message_list":[],"uuid":"58324931-231d-625a-e600-0b039c122559","state":"ACTIVE","readiness_probe":{"connection_type":"SSH","retries":"5","disable_readiness_probe":false,"address":"@@{platform.ipAddressList[0]}@@","delay_secs":"60","connection_port":22,"login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"editables":{"readiness_probe":{"connection_type":true,"retries":true,"connection_port":true,"timeout_secs":null},"create_spec":{"name":true,"resources":{"template_nic_list":{},"nic_list":{"0":{"nic_type":true,"net_name":true}},"template_controller_list":{},"num_vcpus_per_socket":true,"num_sockets":true,"controller_list":{},"memory_size_mib":true,"template_disk_list":{},"disk_list":{"1":{"disk_size_mb":true,"disk_mode":true,"adapter_type":true,"location":true,"controller_key":true,"disk_type":true},"0":{"disk_size_mb":true,"disk_mode":true,"adapter_type":true,"location":true,"controller_key":true,"disk_type":true},"3":{"disk_size_mb":true,"controller_key":true,"disk_type":true,"adapter_type":true,"location":true},"2":{"disk_size_mb":true,"disk_mode":true,"adapter_type":true,"location":true,"controller_key":true,"disk_type":true},"5":{"disk_size_mb":true,"disk_mode":true,"adapter_type":true,"location":true,"controller_key":true,"disk_type":true},"4":{"disk_size_mb":true,"disk_mode":true,"adapter_type":true,"location":true,"controller_key":true,"disk_type":true}}}}},"os_type":"Linux","type":"VMWARE_VM","create_spec":{"name":"slave-@@{calm_array_index}@@-@@{calm_time}@@","storage_pod":"DatastoreCluster","drs_mode":true,"cluster":"Sabine59-Cluster","host":"","clone_is_template":false,"template":"e5ba9433-4d2f-1e02-1657-b19820c42cb0","datastore":"","type":"PROVISION_VMWARE_VM","resources":{"nic_list":[{"nic_type":"vmxnet3","type":"","net_name":"key-vim.host.PortGroup-VM Network"}],"template_nic_list":[],"template_controller_list":[],"num_vcpus_per_socket":2,"num_sockets":2,"controller_list":[],"memory_size_mib":8192,"power_state":"poweron","guest_customization":{"type":"","cloud_init":"#cloud-config\nusers:\n  - name: centos\n    ssh-authorized-keys:\n      - @@{CENTOS.public_key}@@\n    sudo: ['ALL=(ALL) NOPASSWD:ALL']","linux_data":null,"customization_name":"","customization_type":"GUEST_OS_LINUX","windows_data":null},"template_disk_list":[],"type":"","account_uuid":"7f90399d-ed3d-1c70-447d-17004ef1bd0a","disk_list":[{"disk_size_mb":8192,"disk_mode":"persistent","adapter_type":"SCSI","iso_path":"","location":"ds:\/\/\/vmfs\/volumes\/7b773e05-e06fc970\/","disk_type":"disk","type":""},{"disk_size_mb":8192,"disk_mode":"persistent","adapter_type":"SCSI","iso_path":"","location":"ds:\/\/\/vmfs\/volumes\/7b773e05-e06fc970\/","disk_type":"disk","type":""},{"disk_size_mb":8192,"disk_mode":"persistent","adapter_type":"SCSI","iso_path":"","location":"ds:\/\/\/vmfs\/volumes\/7b773e05-e06fc970\/","disk_type":"disk","type":""},{"disk_size_mb":8192,"disk_mode":"persistent","adapter_type":"SCSI","iso_path":"","location":"ds:\/\/\/vmfs\/volumes\/7b773e05-e06fc970\/","disk_type":"disk","type":""},{"disk_size_mb":8192,"disk_mode":"persistent","adapter_type":"SCSI","iso_path":"","location":"ds:\/\/\/vmfs\/volumes\/7b773e05-e06fc970\/","disk_type":"disk","type":""},{"disk_size_mb":8192,"disk_mode":"persistent","adapter_type":"SCSI","iso_path":"","location":"ds:\/\/\/vmfs\/volumes\/7b773e05-e06fc970\/","disk_type":"disk","type":""}]}},"variable_list":[],"name":"VMwareSlave"}],"credential_definition_list":[{"username":"centos","description":"","state":"ACTIVE","message_list":[],"uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf","secret":{"attrs":{"is_secret_modified":false,"secret_reference":{}}},"editables":{"username":true,"secret":true},"type":"KEY","name":"CENTOS"}],"type":"USER","app_profile_list":[{"deployment_create_list":[{"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"ca6dc21f-525d-472e-afa0-6c756ec36dab","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"8948778d_deployment","uuid":"68145a50-c00e-4444-9733-b2205db54d51"},"retries":"0","description":"","type":"DAG","uuid":"243e61d0-d223-4875-8b04-6e6165588a2e","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__DE_Provision_68145a50_c00e_4444_9733_b2205db54d51","uuid":"eaf753f1-17a4-4dd0-a37a-13fc020c0840"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_d2ffe3cf_564e_49d2_a884_798626bcb5bf","uuid":"f227de64-df9f-4050-be93-22937a76f297"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_9f30bd45_c609_4641_971b_3c348c327239","uuid":"91b01a09-cfd1-493b-80af-6aabd6a397ce"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_bc0a0971_6f55_42be_87e4_da9d29132d7f","uuid":"1280d878-7777-4e23-9176-99bca80298a9"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"21b55a68-98ef-4350-8d6e-cc396f5f8d92"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"bb5744fa-cba5-4f7d-b410-ae21faf2f6bb"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"21b55a68-98ef-4350-8d6e-cc396f5f8d92"},"edge_type":"inherent","type":"","uuid":"b8e0d7e6-81ad-46d7-8023-481397383750","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"bb5744fa-cba5-4f7d-b410-ae21faf2f6bb"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_bc0a0971_6f55_42be_87e4_da9d29132d7f","uuid":"1280d878-7777-4e23-9176-99bca80298a9"},"edge_type":"inherent","type":"","uuid":"0ec947ba-4d61-40c5-b47e-c4abba7dc380","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"21b55a68-98ef-4350-8d6e-cc396f5f8d92"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_9f30bd45_c609_4641_971b_3c348c327239","uuid":"91b01a09-cfd1-493b-80af-6aabd6a397ce"},"edge_type":"inherent","type":"","uuid":"300e1041-7508-492f-b306-5d015d375f90","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_bc0a0971_6f55_42be_87e4_da9d29132d7f","uuid":"1280d878-7777-4e23-9176-99bca80298a9"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_d2ffe3cf_564e_49d2_a884_798626bcb5bf","uuid":"f227de64-df9f-4050-be93-22937a76f297"},"edge_type":"inherent","type":"","uuid":"f2212541-2625-40a0-844f-b1bc46a38f00","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_9f30bd45_c609_4641_971b_3c348c327239","uuid":"91b01a09-cfd1-493b-80af-6aabd6a397ce"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_68145a50_c00e_4444_9733_b2205db54d51","uuid":"eaf753f1-17a4-4dd0-a37a-13fc020c0840"},"edge_type":"inherent","type":"","uuid":"d82b3986-e5a9-4bec-9c91-637b472fded3","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_9f30bd45_c609_4641_971b_3c348c327239","uuid":"91b01a09-cfd1-493b-80af-6aabd6a397ce"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_68145a50_c00e_4444_9733_b2205db54d51","uuid":"eaf753f1-17a4-4dd0-a37a-13fc020c0840"},"edge_type":"inherent","type":"","uuid":"59b20ba1-698d-4bcf-b594-09f70c3ccc68","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_d2ffe3cf_564e_49d2_a884_798626bcb5bf","uuid":"f227de64-df9f-4050-be93-22937a76f297"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_68145a50_c00e_4444_9733_b2205db54d51"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"8948778d_deployment","uuid":"68145a50-c00e-4444-9733-b2205db54d51"},"retries":"0","description":"","type":"CREATE_DEPLOYMENT_ELEMENT","uuid":"eaf753f1-17a4-4dd0-a37a-13fc020c0840","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Provision_68145a50_c00e_4444_9733_b2205db54d51"},{"target_any_local_reference":{"kind":"app_package","name":"AHV_CENTOS_76","uuid":"d2ffe3cf-564e-49d2-a884-798626bcb5bf"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"f227de64-df9f-4050-be93-22937a76f297","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"8948778d_deployment","uuid":"68145a50-c00e-4444-9733-b2205db54d51"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_d2ffe3cf_564e_49d2_a884_798626bcb5bf","uuid":"8a75de97-cbcb-467d-98d6-859976a2fd0a"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_d2ffe3cf_564e_49d2_a884_798626bcb5bf"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVMaster","uuid":"9f30bd45-c609-4641-971b-3c348c327239"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"91b01a09-cfd1-493b-80af-6aabd6a397ce","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"8948778d_deployment","uuid":"68145a50-c00e-4444-9733-b2205db54d51"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_9f30bd45_c609_4641_971b_3c348c327239","uuid":"d472b275-8de6-466a-8c2e-f2610427a349"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Substrate_9f30bd45_c609_4641_971b_3c348c327239"},{"target_any_local_reference":{"kind":"app_package","name":"AHVMasterPackage","uuid":"bc0a0971-6f55-42be-87e4-da9d29132d7f"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"1280d878-7777-4e23-9176-99bca80298a9","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"8948778d_deployment","uuid":"68145a50-c00e-4444-9733-b2205db54d51"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_bc0a0971_6f55_42be_87e4_da9d29132d7f","uuid":"e4bacc92-937e-4092-b5a2-254ec7fe4c60"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_bc0a0971_6f55_42be_87e4_da9d29132d7f"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"21b55a68-98ef-4350-8d6e-cc396f5f8d92","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"8948778d_deployment","uuid":"68145a50-c00e-4444-9733-b2205db54d51"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"c528d489_runbook","uuid":"a5cf54be-5eb3-4cbb-8cbf-c295bbc3af83"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"bb5744fa-cba5-4f7d-b410-ae21faf2f6bb","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"8948778d_deployment","uuid":"68145a50-c00e-4444-9733-b2205db54d51"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"c02553e2_runbook","uuid":"81959707-f27f-4259-a9b6-d4f736a28f5c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90"}],"description":"","message_list":[],"uuid":"3c951e15-0f1b-4a12-8fd2-72555f61daca","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_68145a50_c00e_4444_9733_b2205db54d51","uuid":"243e61d0-d223-4875-8b04-6e6165588a2e"},"name":"SYS_GEN__Runbook_Deployment_68145a50_c00e_4444_9733_b2205db54d51"}},{"description":"System action for starting an application","message_list":[],"uuid":"5d1ee716-07ba-49fa-91e1-84d45b6f3ed1","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"8948778d_deployment","uuid":"68145a50-c00e-4444-9733-b2205db54d51"},"retries":"0","description":"","type":"DAG","uuid":"b3c89748-d509-46cd-bec0-769307dfb8ba","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_9f30bd45_c609_4641_971b_3c348c327239","uuid":"a1855667-b3a7-418d-8fa4-8fd0af158559"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"033bfe71-11a9-4b21-a9f1-98ffc04394d1"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_9f30bd45_c609_4641_971b_3c348c327239","uuid":"a1855667-b3a7-418d-8fa4-8fd0af158559"},"edge_type":"inherent","type":"","uuid":"dbb405a1-05bc-4e79-a519-3cca2994a001","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"033bfe71-11a9-4b21-a9f1-98ffc04394d1"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_68145a50_c00e_4444_9733_b2205db54d51"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVMaster","uuid":"9f30bd45-c609-4641-971b-3c348c327239"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"a1855667-b3a7-418d-8fa4-8fd0af158559","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"8948778d_deployment","uuid":"68145a50-c00e-4444-9733-b2205db54d51"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_9f30bd45_c609_4641_971b_3c348c327239","uuid":"f3dffc05-80c5-4aeb-8da7-0457bf74632d"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Substrate_9f30bd45_c609_4641_971b_3c348c327239"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"033bfe71-11a9-4b21-a9f1-98ffc04394d1","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"8948778d_deployment","uuid":"68145a50-c00e-4444-9733-b2205db54d51"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"c02553e2_runbook","uuid":"81959707-f27f-4259-a9b6-d4f736a28f5c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90"}],"description":"","message_list":[],"uuid":"badce3c9-0aff-45c4-b1c5-f6f71213f729","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_68145a50_c00e_4444_9733_b2205db54d51","uuid":"b3c89748-d509-46cd-bec0-769307dfb8ba"},"name":"SYS_GEN__Runbook_Deployment_68145a50_c00e_4444_9733_b2205db54d51"}},{"description":"System action for restarting an application","message_list":[],"uuid":"96c13bca-2646-4081-8d51-e69f4df63ef1","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"8948778d_deployment","uuid":"68145a50-c00e-4444-9733-b2205db54d51"},"retries":"0","description":"","type":"DAG","uuid":"da9bc207-7cf8-410e-a264-fa3d62f98f2a","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_9f30bd45_c609_4641_971b_3c348c327239","uuid":"a5b1e3ef-842f-43db-bead-1bda3dc69e1b"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"eb5e04a4-a1ac-42bf-885e-93d2ddda8973"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_9f30bd45_c609_4641_971b_3c348c327239","uuid":"a5b1e3ef-842f-43db-bead-1bda3dc69e1b"},"edge_type":"inherent","type":"","uuid":"f52e90bd-4798-4321-a386-eb8253230ef9","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"eb5e04a4-a1ac-42bf-885e-93d2ddda8973"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_68145a50_c00e_4444_9733_b2205db54d51"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVMaster","uuid":"9f30bd45-c609-4641-971b-3c348c327239"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"a5b1e3ef-842f-43db-bead-1bda3dc69e1b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"8948778d_deployment","uuid":"68145a50-c00e-4444-9733-b2205db54d51"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_9f30bd45_c609_4641_971b_3c348c327239","uuid":"26246ec3-1461-4bc9-b66c-2611acd97a8c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Substrate_9f30bd45_c609_4641_971b_3c348c327239"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"eb5e04a4-a1ac-42bf-885e-93d2ddda8973","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"8948778d_deployment","uuid":"68145a50-c00e-4444-9733-b2205db54d51"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"a9d9f266_runbook","uuid":"a32389b2-74a8-4a75-b897-c7158c11032e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90"}],"description":"","message_list":[],"uuid":"c7671d7a-93b6-4449-bbbe-8ca3093e63d7","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_68145a50_c00e_4444_9733_b2205db54d51","uuid":"da9bc207-7cf8-410e-a264-fa3d62f98f2a"},"name":"SYS_GEN__Runbook_Deployment_68145a50_c00e_4444_9733_b2205db54d51"}},{"description":"System action for stopping an application","message_list":[],"uuid":"242a0a25-d990-4d7d-b6a3-7d7e73f2ae3d","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"8948778d_deployment","uuid":"68145a50-c00e-4444-9733-b2205db54d51"},"retries":"0","description":"","type":"DAG","uuid":"06bb4d9c-de09-42d1-bd6a-aa36547f10ce","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"b000e19c-288a-4271-8a4c-8342fea904e8"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_9f30bd45_c609_4641_971b_3c348c327239","uuid":"103693ec-9b0f-4b42-9398-930fc9c38de7"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"b000e19c-288a-4271-8a4c-8342fea904e8"},"edge_type":"inherent","type":"","uuid":"bfa1f141-082e-4638-a778-8554206ca683","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_9f30bd45_c609_4641_971b_3c348c327239","uuid":"103693ec-9b0f-4b42-9398-930fc9c38de7"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_68145a50_c00e_4444_9733_b2205db54d51"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"b000e19c-288a-4271-8a4c-8342fea904e8","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"8948778d_deployment","uuid":"68145a50-c00e-4444-9733-b2205db54d51"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"deb1443a_runbook","uuid":"86288a79-ba17-4500-a81a-1ed2afb6b9b8"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVMaster","uuid":"9f30bd45-c609-4641-971b-3c348c327239"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"103693ec-9b0f-4b42-9398-930fc9c38de7","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"8948778d_deployment","uuid":"68145a50-c00e-4444-9733-b2205db54d51"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_9f30bd45_c609_4641_971b_3c348c327239","uuid":"f9639a48-74b8-49b7-95bb-588edc551c0e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Substrate_9f30bd45_c609_4641_971b_3c348c327239"}],"description":"","message_list":[],"uuid":"0af34077-62dc-4695-807f-89cb155b53fb","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_68145a50_c00e_4444_9733_b2205db54d51","uuid":"06bb4d9c-de09-42d1-bd6a-aa36547f10ce"},"name":"SYS_GEN__Runbook_Deployment_68145a50_c00e_4444_9733_b2205db54d51"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"5ec1df63-6076-4182-9ac3-b6d9781c53ca","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"8948778d_deployment","uuid":"68145a50-c00e-4444-9733-b2205db54d51"},"retries":"0","description":"","type":"DAG","uuid":"7f0eee55-b859-4eb8-bed1-29ef9c27b180","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"9d2363ad-cad9-4227-be15-b7d40cc800a0"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"a4711bdd-2f1a-4fbb-a69d-1fa3595773c8"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_bc0a0971_6f55_42be_87e4_da9d29132d7f","uuid":"0354f2de-8ff7-4ee4-a002-b9b8794b139d"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_9f30bd45_c609_4641_971b_3c348c327239","uuid":"9479f998-0837-46fd-bfa4-93487928540a"},{"kind":"app_task","name":"SYS_GEN__DE_Delete_68145a50_c00e_4444_9733_b2205db54d51","uuid":"7e9c21b4-7d25-4491-96ed-135fc9395088"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"9d2363ad-cad9-4227-be15-b7d40cc800a0"},"edge_type":"inherent","type":"","uuid":"9153954e-c093-4512-88c5-104a260c737a","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"a4711bdd-2f1a-4fbb-a69d-1fa3595773c8"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"a4711bdd-2f1a-4fbb-a69d-1fa3595773c8"},"edge_type":"inherent","type":"","uuid":"2170e79c-6560-4ba5-9e59-3ba70c9a8575","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_bc0a0971_6f55_42be_87e4_da9d29132d7f","uuid":"0354f2de-8ff7-4ee4-a002-b9b8794b139d"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_bc0a0971_6f55_42be_87e4_da9d29132d7f","uuid":"0354f2de-8ff7-4ee4-a002-b9b8794b139d"},"edge_type":"inherent","type":"","uuid":"bac24d2b-6d5a-4993-888c-0c555ceaa4eb","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_9f30bd45_c609_4641_971b_3c348c327239","uuid":"9479f998-0837-46fd-bfa4-93487928540a"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_9f30bd45_c609_4641_971b_3c348c327239","uuid":"9479f998-0837-46fd-bfa4-93487928540a"},"edge_type":"inherent","type":"","uuid":"3b22c328-981a-43d2-bf76-58eda33f9918","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Delete_68145a50_c00e_4444_9733_b2205db54d51","uuid":"7e9c21b4-7d25-4491-96ed-135fc9395088"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_68145a50_c00e_4444_9733_b2205db54d51"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"9d2363ad-cad9-4227-be15-b7d40cc800a0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"8948778d_deployment","uuid":"68145a50-c00e-4444-9733-b2205db54d51"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"deb1443a_runbook","uuid":"86288a79-ba17-4500-a81a-1ed2afb6b9b8"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"a4711bdd-2f1a-4fbb-a69d-1fa3595773c8","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"8948778d_deployment","uuid":"68145a50-c00e-4444-9733-b2205db54d51"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"8ad650b2_runbook","uuid":"f31a5f00-62ad-4b57-8fbf-cd1f020f2bfc"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90"},{"target_any_local_reference":{"kind":"app_package","name":"AHVMasterPackage","uuid":"bc0a0971-6f55-42be-87e4-da9d29132d7f"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"0354f2de-8ff7-4ee4-a002-b9b8794b139d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"8948778d_deployment","uuid":"68145a50-c00e-4444-9733-b2205db54d51"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_bc0a0971_6f55_42be_87e4_da9d29132d7f","uuid":"8435b960-3373-4592-b049-1a956301d301"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_bc0a0971_6f55_42be_87e4_da9d29132d7f"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVMaster","uuid":"9f30bd45-c609-4641-971b-3c348c327239"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"9479f998-0837-46fd-bfa4-93487928540a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"8948778d_deployment","uuid":"68145a50-c00e-4444-9733-b2205db54d51"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_9f30bd45_c609_4641_971b_3c348c327239","uuid":"536172e5-30ed-496c-8921-13efb694781a"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Substrate_9f30bd45_c609_4641_971b_3c348c327239"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"8948778d_deployment","uuid":"68145a50-c00e-4444-9733-b2205db54d51"},"retries":"0","description":"","type":"DELETE_DEPLOYMENT_ELEMENT","uuid":"7e9c21b4-7d25-4491-96ed-135fc9395088","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Delete_68145a50_c00e_4444_9733_b2205db54d51"}],"description":"","message_list":[],"uuid":"dd365c21-b236-4cad-b6f7-da58578d23ec","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_68145a50_c00e_4444_9733_b2205db54d51","uuid":"7f0eee55-b859-4eb8-bed1-29ef9c27b180"},"name":"SYS_GEN__Runbook_Deployment_68145a50_c00e_4444_9733_b2205db54d51"}},{"description":"System action for scaleout","message_list":[],"uuid":"688ad64c-1713-49fe-b06f-43b60e517aae","name":"action_scaleout","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"8948778d_deployment","uuid":"68145a50-c00e-4444-9733-b2205db54d51"},"retries":"0","description":"","type":"DAG","uuid":"15953909-372d-40e3-a133-f0d93a3fe3d3","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Deployment_Scaleout_68145a50_c00e_4444_9733_b2205db54d51","uuid":"2af956dd-28ae-4f6c-95e2-243d4093efc6"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_68145a50_c00e_4444_9733_b2205db54d51"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"8948778d_deployment","uuid":"68145a50-c00e-4444-9733-b2205db54d51"},"retries":"0","description":"","type":"SCALING","uuid":"2af956dd-28ae-4f6c-95e2-243d4093efc6","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{scaling_count}@@","type":"","scaling_type":"SCALEOUT"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Deployment_Scaleout_68145a50_c00e_4444_9733_b2205db54d51"}],"description":"","message_list":[],"uuid":"da8bc5b2-ca3f-4ea6-8c37-bbe6718213fd","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"2d791a41-b1a0-4650-b15e-8379ea6b8b88","value":"0","label":"","state":"NOT_VALIDATED","attrs":{},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"scaling_count"}],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_68145a50_c00e_4444_9733_b2205db54d51","uuid":"15953909-372d-40e3-a133-f0d93a3fe3d3"},"name":"SYS_GEN__Runbook_Deployment_68145a50_c00e_4444_9733_b2205db54d51"}},{"description":"System action for scalein","message_list":[],"uuid":"313b0bf0-dd5f-40ce-88a9-3b95b38473a3","name":"action_scalein","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"8948778d_deployment","uuid":"68145a50-c00e-4444-9733-b2205db54d51"},"retries":"0","description":"","type":"DAG","uuid":"c2d3f5cf-db72-4031-bc32-3241327e2807","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Deployment_Scalein_68145a50_c00e_4444_9733_b2205db54d51","uuid":"52e06baa-33dc-433f-bd22-66fd8c2a2b5e"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_68145a50_c00e_4444_9733_b2205db54d51"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"8948778d_deployment","uuid":"68145a50-c00e-4444-9733-b2205db54d51"},"retries":"0","description":"","type":"SCALING","uuid":"52e06baa-33dc-433f-bd22-66fd8c2a2b5e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{scaling_count}@@","type":"","scaling_type":"SCALEIN"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Deployment_Scalein_68145a50_c00e_4444_9733_b2205db54d51"}],"description":"","message_list":[],"uuid":"6c163ecd-e7a1-4ca9-81f2-4e3e2b5e3e4b","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"69568596-4366-415d-9e1b-2ae76960ac97","value":"0","label":"","state":"NOT_VALIDATED","attrs":{},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"scaling_count"}],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_68145a50_c00e_4444_9733_b2205db54d51","uuid":"c2d3f5cf-db72-4031-bc32-3241327e2807"},"name":"SYS_GEN__Runbook_Deployment_68145a50_c00e_4444_9733_b2205db54d51"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"dd4c4974-3e5d-40ad-9fd8-38a4490af48b","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"8948778d_deployment","uuid":"68145a50-c00e-4444-9733-b2205db54d51"},"retries":"0","description":"","type":"DAG","uuid":"ef1c8861-4704-4c9d-9aac-010b3e6cf0df","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"7d2c4b50-3f39-4a46-a554-20b2a05542d7"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_bc0a0971_6f55_42be_87e4_da9d29132d7f","uuid":"4c91c0e0-cc17-4faf-ab40-e4617b43ab1c"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_9f30bd45_c609_4641_971b_3c348c327239","uuid":"3daf1a93-5eee-43f3-ada9-f1ca5b3d70ae"},{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_68145a50_c00e_4444_9733_b2205db54d51","uuid":"efcbdf13-a299-4426-a4ac-26c734e4c6f0"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"7d2c4b50-3f39-4a46-a554-20b2a05542d7"},"edge_type":"inherent","type":"","uuid":"24ad00b2-0f75-469b-b748-376aa066c951","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_bc0a0971_6f55_42be_87e4_da9d29132d7f","uuid":"4c91c0e0-cc17-4faf-ab40-e4617b43ab1c"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_9f30bd45_c609_4641_971b_3c348c327239","uuid":"3daf1a93-5eee-43f3-ada9-f1ca5b3d70ae"},"edge_type":"inherent","type":"","uuid":"972ce065-e6c9-430e-b837-6937fb5903ad","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_68145a50_c00e_4444_9733_b2205db54d51","uuid":"efcbdf13-a299-4426-a4ac-26c734e4c6f0"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_bc0a0971_6f55_42be_87e4_da9d29132d7f","uuid":"4c91c0e0-cc17-4faf-ab40-e4617b43ab1c"},"edge_type":"inherent","type":"","uuid":"c3f033fe-2baf-49a5-86b2-d77a0c2ba9ec","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_9f30bd45_c609_4641_971b_3c348c327239","uuid":"3daf1a93-5eee-43f3-ada9-f1ca5b3d70ae"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_68145a50_c00e_4444_9733_b2205db54d51"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"7d2c4b50-3f39-4a46-a554-20b2a05542d7","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"8948778d_deployment","uuid":"68145a50-c00e-4444-9733-b2205db54d51"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"92ba2635-e9da-48a5-8b58-7a4b4a61ffdf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90"},{"target_any_local_reference":{"kind":"app_package","name":"AHVMasterPackage","uuid":"bc0a0971-6f55-42be-87e4-da9d29132d7f"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"4c91c0e0-cc17-4faf-ab40-e4617b43ab1c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_bc0a0971_6f55_42be_87e4_da9d29132d7f"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVMaster","uuid":"9f30bd45-c609-4641-971b-3c348c327239"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"3daf1a93-5eee-43f3-ada9-f1ca5b3d70ae","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"8948778d_deployment","uuid":"68145a50-c00e-4444-9733-b2205db54d51"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_9f30bd45_c609_4641_971b_3c348c327239","uuid":"3fbf39c6-2090-4155-8c73-8f065777bd14"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Substrate_9f30bd45_c609_4641_971b_3c348c327239"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"8948778d_deployment","uuid":"68145a50-c00e-4444-9733-b2205db54d51"},"retries":"0","description":"","type":"SOFT_DELETE_DEPLOYMENT_ELEMENT","uuid":"efcbdf13-a299-4426-a4ac-26c734e4c6f0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Soft_Delete_68145a50_c00e_4444_9733_b2205db54d51"}],"description":"","message_list":[],"uuid":"a5a674cc-23b4-46da-b551-6fac89ba5522","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_68145a50_c00e_4444_9733_b2205db54d51","uuid":"ef1c8861-4704-4c9d-9aac-010b3e6cf0df"},"name":"SYS_GEN__Runbook_Deployment_68145a50_c00e_4444_9733_b2205db54d51"}}],"message_list":[],"published_service_local_reference_list":[],"uuid":"68145a50-c00e-4444-9733-b2205db54d51","min_replicas":"1","state":"ACTIVE","max_replicas":"1","depends_on_list":[],"editables":{},"package_local_reference_list":[{"kind":"app_package","name":"AHVMasterPackage","uuid":"bc0a0971-6f55-42be-87e4-da9d29132d7f"}],"substrate_local_reference":{"kind":"app_substrate","name":"AHVMaster","uuid":"9f30bd45-c609-4641-971b-3c348c327239"},"type":"GREENFIELD","options":{},"variable_list":[],"name":"8948778d_deployment"},{"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"74211fde-f373-4fde-bf1a-7b3751a52916","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"1ee40052_deployment","uuid":"ab178214-6a3e-45d8-994a-2eabc311bf9f"},"retries":"0","description":"","type":"DAG","uuid":"50c87137-5aa6-4706-8bb4-b47d524c7bd8","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__DE_Provision_ab178214_6a3e_45d8_994a_2eabc311bf9f","uuid":"79e6d71d-2783-4d84-96a2-c064320b60a4"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_d2ffe3cf_564e_49d2_a884_798626bcb5bf","uuid":"dfd16428-f70b-4a7d-b151-56dd5bd5e480"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_8bc04056_82cc_49eb_8114_89e98e1d57de","uuid":"42dd566c-30ea-471f-b854-ccaa3e1910eb"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_60df6e19_5223_47b3_980c_c5b707533fa9","uuid":"93383ba6-58d3-4313-94a0-cfe0c5658522"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"47579c01-bdc5-4974-8375-421527ccea26"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"49a21ad7-0560-4dd9-a20b-5c5dddf31485"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"47579c01-bdc5-4974-8375-421527ccea26"},"edge_type":"inherent","type":"","uuid":"f614547a-e322-475d-8ce7-d043a6ba0912","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"49a21ad7-0560-4dd9-a20b-5c5dddf31485"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_60df6e19_5223_47b3_980c_c5b707533fa9","uuid":"93383ba6-58d3-4313-94a0-cfe0c5658522"},"edge_type":"inherent","type":"","uuid":"c6085b64-8913-49ea-b229-2c285ac1e874","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"47579c01-bdc5-4974-8375-421527ccea26"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_8bc04056_82cc_49eb_8114_89e98e1d57de","uuid":"42dd566c-30ea-471f-b854-ccaa3e1910eb"},"edge_type":"inherent","type":"","uuid":"0f164d45-70fa-43ea-ae71-a2176562abbc","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_60df6e19_5223_47b3_980c_c5b707533fa9","uuid":"93383ba6-58d3-4313-94a0-cfe0c5658522"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_ab178214_6a3e_45d8_994a_2eabc311bf9f","uuid":"79e6d71d-2783-4d84-96a2-c064320b60a4"},"edge_type":"inherent","type":"","uuid":"ac19ca57-76c5-4b9d-b215-27ee2acadf65","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_8bc04056_82cc_49eb_8114_89e98e1d57de","uuid":"42dd566c-30ea-471f-b854-ccaa3e1910eb"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_d2ffe3cf_564e_49d2_a884_798626bcb5bf","uuid":"dfd16428-f70b-4a7d-b151-56dd5bd5e480"},"edge_type":"inherent","type":"","uuid":"adfde85f-4261-43e7-8796-61edd78d7aef","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_8bc04056_82cc_49eb_8114_89e98e1d57de","uuid":"42dd566c-30ea-471f-b854-ccaa3e1910eb"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_ab178214_6a3e_45d8_994a_2eabc311bf9f","uuid":"79e6d71d-2783-4d84-96a2-c064320b60a4"},"edge_type":"inherent","type":"","uuid":"27add676-f01f-4e6f-9419-75b9d08f7994","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_d2ffe3cf_564e_49d2_a884_798626bcb5bf","uuid":"dfd16428-f70b-4a7d-b151-56dd5bd5e480"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_ab178214_6a3e_45d8_994a_2eabc311bf9f"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"1ee40052_deployment","uuid":"ab178214-6a3e-45d8-994a-2eabc311bf9f"},"retries":"0","description":"","type":"CREATE_DEPLOYMENT_ELEMENT","uuid":"79e6d71d-2783-4d84-96a2-c064320b60a4","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Provision_ab178214_6a3e_45d8_994a_2eabc311bf9f"},{"target_any_local_reference":{"kind":"app_package","name":"AHV_CENTOS_76","uuid":"d2ffe3cf-564e-49d2-a884-798626bcb5bf"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"dfd16428-f70b-4a7d-b151-56dd5bd5e480","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"1ee40052_deployment","uuid":"ab178214-6a3e-45d8-994a-2eabc311bf9f"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_d2ffe3cf_564e_49d2_a884_798626bcb5bf","uuid":"8a75de97-cbcb-467d-98d6-859976a2fd0a"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_d2ffe3cf_564e_49d2_a884_798626bcb5bf"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVSlave","uuid":"8bc04056-82cc-49eb-8114-89e98e1d57de"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"42dd566c-30ea-471f-b854-ccaa3e1910eb","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"1ee40052_deployment","uuid":"ab178214-6a3e-45d8-994a-2eabc311bf9f"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_8bc04056_82cc_49eb_8114_89e98e1d57de","uuid":"8b13b496-14f4-42d5-8199-a8990e2807d1"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Substrate_8bc04056_82cc_49eb_8114_89e98e1d57de"},{"target_any_local_reference":{"kind":"app_package","name":"AHVSlavePackage","uuid":"60df6e19-5223-47b3-980c-c5b707533fa9"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"93383ba6-58d3-4313-94a0-cfe0c5658522","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"1ee40052_deployment","uuid":"ab178214-6a3e-45d8-994a-2eabc311bf9f"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_60df6e19_5223_47b3_980c_c5b707533fa9","uuid":"85b15589-47d6-48bf-8fb2-fa8402269ebf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_60df6e19_5223_47b3_980c_c5b707533fa9"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"47579c01-bdc5-4974-8375-421527ccea26","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"1ee40052_deployment","uuid":"ab178214-6a3e-45d8-994a-2eabc311bf9f"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"8f15e59d_runbook","uuid":"3c61d32f-d429-4292-b02b-abf0f370307a"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"49a21ad7-0560-4dd9-a20b-5c5dddf31485","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"1ee40052_deployment","uuid":"ab178214-6a3e-45d8-994a-2eabc311bf9f"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"b34d9d39_runbook","uuid":"57a4c7a2-843d-4130-9f5d-51c6ed3ce4d5"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40"}],"description":"","message_list":[],"uuid":"91d896c5-ef6e-4c94-8a04-0039b52d1ba2","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_ab178214_6a3e_45d8_994a_2eabc311bf9f","uuid":"50c87137-5aa6-4706-8bb4-b47d524c7bd8"},"name":"SYS_GEN__Runbook_Deployment_ab178214_6a3e_45d8_994a_2eabc311bf9f"}},{"description":"System action for starting an application","message_list":[],"uuid":"80979ebd-12f4-4cee-84e1-3c3a48beee7b","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"1ee40052_deployment","uuid":"ab178214-6a3e-45d8-994a-2eabc311bf9f"},"retries":"0","description":"","type":"DAG","uuid":"336bdc5d-00f7-48ac-b770-b0fb4974bbd2","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_8bc04056_82cc_49eb_8114_89e98e1d57de","uuid":"4169dec0-3dad-4176-85c1-0acf77038dde"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"ae925f0f-72e7-4a6f-baa2-7957c329c718"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_8bc04056_82cc_49eb_8114_89e98e1d57de","uuid":"4169dec0-3dad-4176-85c1-0acf77038dde"},"edge_type":"inherent","type":"","uuid":"d249b478-f887-495e-af2f-f6867b33dcb9","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"ae925f0f-72e7-4a6f-baa2-7957c329c718"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_ab178214_6a3e_45d8_994a_2eabc311bf9f"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVSlave","uuid":"8bc04056-82cc-49eb-8114-89e98e1d57de"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"4169dec0-3dad-4176-85c1-0acf77038dde","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"1ee40052_deployment","uuid":"ab178214-6a3e-45d8-994a-2eabc311bf9f"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_8bc04056_82cc_49eb_8114_89e98e1d57de","uuid":"d324270b-ef62-4fe1-baf3-647101d48e09"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Substrate_8bc04056_82cc_49eb_8114_89e98e1d57de"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"ae925f0f-72e7-4a6f-baa2-7957c329c718","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"1ee40052_deployment","uuid":"ab178214-6a3e-45d8-994a-2eabc311bf9f"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"b34d9d39_runbook","uuid":"57a4c7a2-843d-4130-9f5d-51c6ed3ce4d5"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40"}],"description":"","message_list":[],"uuid":"ac6f85a7-3692-4e85-9afb-7bd020f89220","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_ab178214_6a3e_45d8_994a_2eabc311bf9f","uuid":"336bdc5d-00f7-48ac-b770-b0fb4974bbd2"},"name":"SYS_GEN__Runbook_Deployment_ab178214_6a3e_45d8_994a_2eabc311bf9f"}},{"description":"System action for restarting an application","message_list":[],"uuid":"750b7696-1789-4493-b3af-d844fcb090a6","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"1ee40052_deployment","uuid":"ab178214-6a3e-45d8-994a-2eabc311bf9f"},"retries":"0","description":"","type":"DAG","uuid":"eaf44072-8565-493b-a386-04587f12e51b","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_8bc04056_82cc_49eb_8114_89e98e1d57de","uuid":"1e2e743b-1d4c-4e97-9840-e41f2f6849d8"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"b4fe5801-9e46-4613-9fbf-472e12839172"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_8bc04056_82cc_49eb_8114_89e98e1d57de","uuid":"1e2e743b-1d4c-4e97-9840-e41f2f6849d8"},"edge_type":"inherent","type":"","uuid":"a1f3d311-3077-46e0-a77c-fe42e19b11bb","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"b4fe5801-9e46-4613-9fbf-472e12839172"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_ab178214_6a3e_45d8_994a_2eabc311bf9f"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVSlave","uuid":"8bc04056-82cc-49eb-8114-89e98e1d57de"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"1e2e743b-1d4c-4e97-9840-e41f2f6849d8","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"1ee40052_deployment","uuid":"ab178214-6a3e-45d8-994a-2eabc311bf9f"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_8bc04056_82cc_49eb_8114_89e98e1d57de","uuid":"803b7c6e-09ba-460f-9161-0e306f37a90b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Substrate_8bc04056_82cc_49eb_8114_89e98e1d57de"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"b4fe5801-9e46-4613-9fbf-472e12839172","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"1ee40052_deployment","uuid":"ab178214-6a3e-45d8-994a-2eabc311bf9f"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"c1c4eebd_runbook","uuid":"bea78664-aea0-4d1f-b708-8ef876af38d5"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40"}],"description":"","message_list":[],"uuid":"a01a3e5c-1832-405a-ae1b-f5e4302d43ff","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_ab178214_6a3e_45d8_994a_2eabc311bf9f","uuid":"eaf44072-8565-493b-a386-04587f12e51b"},"name":"SYS_GEN__Runbook_Deployment_ab178214_6a3e_45d8_994a_2eabc311bf9f"}},{"description":"System action for stopping an application","message_list":[],"uuid":"6a914e49-dfbd-479f-8a5b-0d5d01e2bfac","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"1ee40052_deployment","uuid":"ab178214-6a3e-45d8-994a-2eabc311bf9f"},"retries":"0","description":"","type":"DAG","uuid":"906d442d-9528-42d1-927d-46fe9842ceb2","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"db59dbd0-56ab-42f5-b9f3-39cc7457b700"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_8bc04056_82cc_49eb_8114_89e98e1d57de","uuid":"55083b68-6bae-4336-847a-4d664c6c334a"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"db59dbd0-56ab-42f5-b9f3-39cc7457b700"},"edge_type":"inherent","type":"","uuid":"90547ed7-c81b-4b2c-a923-b7b221b87df4","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_8bc04056_82cc_49eb_8114_89e98e1d57de","uuid":"55083b68-6bae-4336-847a-4d664c6c334a"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_ab178214_6a3e_45d8_994a_2eabc311bf9f"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"db59dbd0-56ab-42f5-b9f3-39cc7457b700","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"1ee40052_deployment","uuid":"ab178214-6a3e-45d8-994a-2eabc311bf9f"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0e2bd4c9_runbook","uuid":"8e29699f-df44-4802-8ae9-689322c6575c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVSlave","uuid":"8bc04056-82cc-49eb-8114-89e98e1d57de"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"55083b68-6bae-4336-847a-4d664c6c334a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"1ee40052_deployment","uuid":"ab178214-6a3e-45d8-994a-2eabc311bf9f"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_8bc04056_82cc_49eb_8114_89e98e1d57de","uuid":"e72b0c30-d224-4c89-89ad-bcbbe11245ca"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Substrate_8bc04056_82cc_49eb_8114_89e98e1d57de"}],"description":"","message_list":[],"uuid":"8f5c1d13-591f-4195-b5dc-b1ecb3f97022","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_ab178214_6a3e_45d8_994a_2eabc311bf9f","uuid":"906d442d-9528-42d1-927d-46fe9842ceb2"},"name":"SYS_GEN__Runbook_Deployment_ab178214_6a3e_45d8_994a_2eabc311bf9f"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"a99b6478-6a04-4d0f-bf21-0132afaccb80","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"1ee40052_deployment","uuid":"ab178214-6a3e-45d8-994a-2eabc311bf9f"},"retries":"0","description":"","type":"DAG","uuid":"94085452-7eb2-48de-854d-2e8eecef8d6d","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"ec0098b1-f39d-4f44-bb9a-57ff50d08240"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"a407a225-8174-45d2-bed5-4a5f0b1d47a4"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_60df6e19_5223_47b3_980c_c5b707533fa9","uuid":"d76ac747-a5b5-416c-9b8b-5814b8782d8a"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_8bc04056_82cc_49eb_8114_89e98e1d57de","uuid":"f1d41c7b-1be9-4fde-88b6-0a25f94566e0"},{"kind":"app_task","name":"SYS_GEN__DE_Delete_ab178214_6a3e_45d8_994a_2eabc311bf9f","uuid":"b2875d8e-b329-4ac9-a634-9a55c4f2bae8"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"ec0098b1-f39d-4f44-bb9a-57ff50d08240"},"edge_type":"inherent","type":"","uuid":"3b12b250-9caa-4446-97dc-7c7be587af22","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"a407a225-8174-45d2-bed5-4a5f0b1d47a4"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"a407a225-8174-45d2-bed5-4a5f0b1d47a4"},"edge_type":"inherent","type":"","uuid":"afe40cb9-38b5-4f5d-9ca6-4b158cd931c9","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_60df6e19_5223_47b3_980c_c5b707533fa9","uuid":"d76ac747-a5b5-416c-9b8b-5814b8782d8a"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_8bc04056_82cc_49eb_8114_89e98e1d57de","uuid":"f1d41c7b-1be9-4fde-88b6-0a25f94566e0"},"edge_type":"inherent","type":"","uuid":"b05eb7b0-bd36-410f-a11a-7cf24f5bb5a6","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Delete_ab178214_6a3e_45d8_994a_2eabc311bf9f","uuid":"b2875d8e-b329-4ac9-a634-9a55c4f2bae8"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_60df6e19_5223_47b3_980c_c5b707533fa9","uuid":"d76ac747-a5b5-416c-9b8b-5814b8782d8a"},"edge_type":"inherent","type":"","uuid":"a7b4d913-bccb-41d8-9496-8a3f818d9755","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_8bc04056_82cc_49eb_8114_89e98e1d57de","uuid":"f1d41c7b-1be9-4fde-88b6-0a25f94566e0"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_ab178214_6a3e_45d8_994a_2eabc311bf9f"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"ec0098b1-f39d-4f44-bb9a-57ff50d08240","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"1ee40052_deployment","uuid":"ab178214-6a3e-45d8-994a-2eabc311bf9f"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0e2bd4c9_runbook","uuid":"8e29699f-df44-4802-8ae9-689322c6575c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"a407a225-8174-45d2-bed5-4a5f0b1d47a4","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"1ee40052_deployment","uuid":"ab178214-6a3e-45d8-994a-2eabc311bf9f"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"08946714_runbook","uuid":"005a7fbe-7426-4c75-aa02-8ca0b1db5dbb"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40"},{"target_any_local_reference":{"kind":"app_package","name":"AHVSlavePackage","uuid":"60df6e19-5223-47b3-980c-c5b707533fa9"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"d76ac747-a5b5-416c-9b8b-5814b8782d8a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"1ee40052_deployment","uuid":"ab178214-6a3e-45d8-994a-2eabc311bf9f"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_60df6e19_5223_47b3_980c_c5b707533fa9","uuid":"0d809c62-f4b3-40ff-a582-347d17bbfd4d"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_60df6e19_5223_47b3_980c_c5b707533fa9"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVSlave","uuid":"8bc04056-82cc-49eb-8114-89e98e1d57de"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"f1d41c7b-1be9-4fde-88b6-0a25f94566e0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"1ee40052_deployment","uuid":"ab178214-6a3e-45d8-994a-2eabc311bf9f"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_8bc04056_82cc_49eb_8114_89e98e1d57de","uuid":"e5b699d0-434b-4e81-ba09-b4186d8c805d"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Substrate_8bc04056_82cc_49eb_8114_89e98e1d57de"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"1ee40052_deployment","uuid":"ab178214-6a3e-45d8-994a-2eabc311bf9f"},"retries":"0","description":"","type":"DELETE_DEPLOYMENT_ELEMENT","uuid":"b2875d8e-b329-4ac9-a634-9a55c4f2bae8","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Delete_ab178214_6a3e_45d8_994a_2eabc311bf9f"}],"description":"","message_list":[],"uuid":"54d5453d-e039-449c-9b37-70f19caba64d","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_ab178214_6a3e_45d8_994a_2eabc311bf9f","uuid":"94085452-7eb2-48de-854d-2e8eecef8d6d"},"name":"SYS_GEN__Runbook_Deployment_ab178214_6a3e_45d8_994a_2eabc311bf9f"}},{"description":"System action for scaleout","message_list":[],"uuid":"0e8cc2b2-abd4-4e55-9b71-84d2439d8aed","name":"action_scaleout","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"1ee40052_deployment","uuid":"ab178214-6a3e-45d8-994a-2eabc311bf9f"},"retries":"0","description":"","type":"DAG","uuid":"bc90570e-2d3d-4440-ad83-204e5586efd3","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Deployment_Scaleout_ab178214_6a3e_45d8_994a_2eabc311bf9f","uuid":"cd581977-d56f-4fd1-9453-465f1c54e65d"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_ab178214_6a3e_45d8_994a_2eabc311bf9f"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"1ee40052_deployment","uuid":"ab178214-6a3e-45d8-994a-2eabc311bf9f"},"retries":"0","description":"","type":"SCALING","uuid":"cd581977-d56f-4fd1-9453-465f1c54e65d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{scaling_count}@@","type":"","scaling_type":"SCALEOUT"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Deployment_Scaleout_ab178214_6a3e_45d8_994a_2eabc311bf9f"}],"description":"","message_list":[],"uuid":"37382f8a-d6d8-40db-8352-e7ea6e35674b","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"3d59523d-e361-4b81-8b18-d70099e4ace9","value":"0","label":"","state":"NOT_VALIDATED","attrs":{},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"scaling_count"}],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_ab178214_6a3e_45d8_994a_2eabc311bf9f","uuid":"bc90570e-2d3d-4440-ad83-204e5586efd3"},"name":"SYS_GEN__Runbook_Deployment_ab178214_6a3e_45d8_994a_2eabc311bf9f"}},{"description":"System action for scalein","message_list":[],"uuid":"ba5b91ad-2202-4f8e-9be4-411481480d9c","name":"action_scalein","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"1ee40052_deployment","uuid":"ab178214-6a3e-45d8-994a-2eabc311bf9f"},"retries":"0","description":"","type":"DAG","uuid":"55d0eae8-4f74-4469-85c4-86b89ab42865","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Deployment_Scalein_ab178214_6a3e_45d8_994a_2eabc311bf9f","uuid":"48772b58-3d71-44c6-b6f3-4e681a313442"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_ab178214_6a3e_45d8_994a_2eabc311bf9f"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"1ee40052_deployment","uuid":"ab178214-6a3e-45d8-994a-2eabc311bf9f"},"retries":"0","description":"","type":"SCALING","uuid":"48772b58-3d71-44c6-b6f3-4e681a313442","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{scaling_count}@@","type":"","scaling_type":"SCALEIN"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Deployment_Scalein_ab178214_6a3e_45d8_994a_2eabc311bf9f"}],"description":"","message_list":[],"uuid":"8571b297-7b9f-4aa7-b4e1-9088007c9489","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"4db29607-9fda-477c-80bd-45058810b7ef","value":"0","label":"","state":"NOT_VALIDATED","attrs":{},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"scaling_count"}],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_ab178214_6a3e_45d8_994a_2eabc311bf9f","uuid":"55d0eae8-4f74-4469-85c4-86b89ab42865"},"name":"SYS_GEN__Runbook_Deployment_ab178214_6a3e_45d8_994a_2eabc311bf9f"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"5c7f6031-2761-4621-a8cf-9e338379a9ac","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"1ee40052_deployment","uuid":"ab178214-6a3e-45d8-994a-2eabc311bf9f"},"retries":"0","description":"","type":"DAG","uuid":"cd3c37d5-c1db-40c0-81bc-84bc93b3824a","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"3061bef1-4bc4-4020-9206-d13686afc728"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_60df6e19_5223_47b3_980c_c5b707533fa9","uuid":"8c2cd932-e131-4f96-afb9-3f1cf9443858"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_8bc04056_82cc_49eb_8114_89e98e1d57de","uuid":"5bd31ce3-a7c2-46ca-b9b0-6369b0eb3d0f"},{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_ab178214_6a3e_45d8_994a_2eabc311bf9f","uuid":"dac38319-32b2-4df1-94ca-c98df6c0d908"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"3061bef1-4bc4-4020-9206-d13686afc728"},"edge_type":"inherent","type":"","uuid":"6850ef82-571a-479a-8ae4-253f7f35e1b5","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_60df6e19_5223_47b3_980c_c5b707533fa9","uuid":"8c2cd932-e131-4f96-afb9-3f1cf9443858"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_60df6e19_5223_47b3_980c_c5b707533fa9","uuid":"8c2cd932-e131-4f96-afb9-3f1cf9443858"},"edge_type":"inherent","type":"","uuid":"6be43864-ef51-41bb-8238-3071051f6920","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_8bc04056_82cc_49eb_8114_89e98e1d57de","uuid":"5bd31ce3-a7c2-46ca-b9b0-6369b0eb3d0f"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_8bc04056_82cc_49eb_8114_89e98e1d57de","uuid":"5bd31ce3-a7c2-46ca-b9b0-6369b0eb3d0f"},"edge_type":"inherent","type":"","uuid":"ccd233a7-3b97-47ac-8906-195e42c7d555","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_ab178214_6a3e_45d8_994a_2eabc311bf9f","uuid":"dac38319-32b2-4df1-94ca-c98df6c0d908"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_ab178214_6a3e_45d8_994a_2eabc311bf9f"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"3061bef1-4bc4-4020-9206-d13686afc728","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"1ee40052_deployment","uuid":"ab178214-6a3e-45d8-994a-2eabc311bf9f"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"febe47f3-782b-40c3-abcb-ce825626516f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40"},{"target_any_local_reference":{"kind":"app_package","name":"AHVSlavePackage","uuid":"60df6e19-5223-47b3-980c-c5b707533fa9"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"8c2cd932-e131-4f96-afb9-3f1cf9443858","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_60df6e19_5223_47b3_980c_c5b707533fa9"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVSlave","uuid":"8bc04056-82cc-49eb-8114-89e98e1d57de"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"5bd31ce3-a7c2-46ca-b9b0-6369b0eb3d0f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"1ee40052_deployment","uuid":"ab178214-6a3e-45d8-994a-2eabc311bf9f"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_8bc04056_82cc_49eb_8114_89e98e1d57de","uuid":"fc3a0143-5958-4b1f-9ae9-6468552d5f7b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Substrate_8bc04056_82cc_49eb_8114_89e98e1d57de"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"1ee40052_deployment","uuid":"ab178214-6a3e-45d8-994a-2eabc311bf9f"},"retries":"0","description":"","type":"SOFT_DELETE_DEPLOYMENT_ELEMENT","uuid":"dac38319-32b2-4df1-94ca-c98df6c0d908","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Soft_Delete_ab178214_6a3e_45d8_994a_2eabc311bf9f"}],"description":"","message_list":[],"uuid":"3eca62dc-0159-4a5c-ab0c-bb05acb36457","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_ab178214_6a3e_45d8_994a_2eabc311bf9f","uuid":"cd3c37d5-c1db-40c0-81bc-84bc93b3824a"},"name":"SYS_GEN__Runbook_Deployment_ab178214_6a3e_45d8_994a_2eabc311bf9f"}}],"message_list":[],"published_service_local_reference_list":[],"uuid":"ab178214-6a3e-45d8-994a-2eabc311bf9f","min_replicas":"2","state":"ACTIVE","max_replicas":"4","depends_on_list":[],"editables":{"min_replicas":true,"max_replicas":true},"package_local_reference_list":[{"kind":"app_package","name":"AHVSlavePackage","uuid":"60df6e19-5223-47b3-980c-c5b707533fa9"}],"substrate_local_reference":{"kind":"app_substrate","name":"AHVSlave","uuid":"8bc04056-82cc-49eb-8114-89e98e1d57de"},"type":"GREENFIELD","options":{},"variable_list":[],"name":"1ee40052_deployment"}],"description":"","action_list":[{"description":"Take DB backup. \nDB_NAME : Name of DB to be backup\nBACKUP_FILE_PATH : Absolute directory path for backup file","message_list":[],"uuid":"22b40de1-62a4-464b-ac3c-5c4d030c9fac","name":"Backup","state":"ACTIVE","critical":false,"attrs":{},"type":"user","runbook":{"task_definition_list":[{"retries":"0","description":"","type":"DAG","uuid":"82d484c3-edf4-471d-9372-c5a06d209d11","child_tasks_local_reference_list":[{"kind":"app_task","name":"DoDBBackup","uuid":"9ba1f3e2-f14d-4436-b0ee-6ef5ce849110"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"b65659b5_dag"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"EXEC","uuid":"9ba1f3e2-f14d-4436-b0ee-6ef5ce849110","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\ndb_name=\"@@{DB_NAME}@@\"\nbackup_file_path=\"@@{BACKUP_FILE_PATH}@@\"\n\nsudo su - postgres bash -c \"pg_dump ${db_name} | gzip > ${backup_file_path}\"","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"DoDBBackup"}],"description":"","message_list":[],"uuid":"35fedf4d-08b4-40d1-a69c-7a4c8faf3046","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"db9bcff2-516e-4317-9226-ba25f5e6e8d7","value":"postgres","label":"","state":"ACTIVE","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"DB_NAME"},{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"19840853-5406-48e7-9b4a-15d8363ad86c","value":"~\/db.backup","label":"","state":"ACTIVE","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"BACKUP_FILE_PATH"}],"main_task_local_reference":{"kind":"app_task","name":"b65659b5_dag","uuid":"82d484c3-edf4-471d-9372-c5a06d209d11"},"name":"2622e5f4_runbook"}},{"description":"Restore DB from dump file\nDB_NAME : Name of DB to be backup\nRESTORE_FILE_PATH : Absolute directory path for restore file","message_list":[],"uuid":"ebd3a225-7f9c-40f7-b1f2-a86bd9d87df5","name":"Restore","state":"ACTIVE","critical":false,"attrs":{},"type":"user","runbook":{"task_definition_list":[{"retries":"0","description":"","type":"DAG","uuid":"33ec5ae0-e88c-47cf-8895-796769984c71","child_tasks_local_reference_list":[{"kind":"app_task","name":"DoDBRestore","uuid":"7962db76-753d-4028-95df-ad9446dfd5a6"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"9a0b4209_dag"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"EXEC","uuid":"7962db76-753d-4028-95df-ad9446dfd5a6","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\ndb_name=\"@@{DB_NAME}@@\"\nrestore_file_path=\"@@{RESTORE_FILE_PATH}@@\"\n\nsudo su - postgres bash -c \"gunzip -c ${restore_file_path} | psql ${db_name}\"","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"DoDBRestore"}],"description":"","message_list":[],"uuid":"eb3dc898-f990-46ef-9345-5e45dd72c9cd","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"e40b2e7a-8860-432e-87ca-0123e99289aa","value":"postgres","label":"","state":"ACTIVE","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"DB_NAME"},{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"3d044992-fb5f-4db9-858a-ae4ae7d9db9e","value":"~\/db.backup","label":"","state":"ACTIVE","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"RESTORE_FILE_PATH"}],"main_task_local_reference":{"kind":"app_task","name":"9a0b4209_dag","uuid":"33ec5ae0-e88c-47cf-8895-796769984c71"},"name":"efe6ad7e_runbook"}},{"description":"","message_list":[],"uuid":"6a0f27bb-5a90-4b13-93d3-1c012729cdd6","name":"Scale Out","state":"ACTIVE","critical":false,"attrs":{},"type":"user","runbook":{"task_definition_list":[{"retries":"0","description":"","type":"DAG","uuid":"9ebc7548-a2a3-4108-b422-4fe5c5361c20","child_tasks_local_reference_list":[{"kind":"app_task","name":"Scale Out Slaves","uuid":"7eb6f841-af71-41fd-8b21-ec73d9380300"},{"kind":"app_task","name":"Configure Master","uuid":"b71f182e-4672-47b3-8577-4bec64e4949d"},{"kind":"app_task","name":"Configure Slave","uuid":"66ac5f7d-27f8-497c-9983-7618927dc140"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Scale Out Slaves","uuid":"7eb6f841-af71-41fd-8b21-ec73d9380300"},"edge_type":"user_defined","type":"","uuid":"f175dca6-b26e-40b0-bdc8-1719a790a589","to_task_reference":{"kind":"app_task","name":"Configure Slave","uuid":"66ac5f7d-27f8-497c-9983-7618927dc140"}},{"from_task_reference":{"kind":"app_task","name":"Configure Master","uuid":"b71f182e-4672-47b3-8577-4bec64e4949d"},"edge_type":"user_defined","type":"","uuid":"9d5608f6-aa92-41a4-ab36-8a4e1d9bb707","to_task_reference":{"kind":"app_task","name":"Configure Slave","uuid":"66ac5f7d-27f8-497c-9983-7618927dc140"}},{"from_task_reference":{"kind":"app_task","name":"Scale Out Slaves","uuid":"7eb6f841-af71-41fd-8b21-ec73d9380300"},"edge_type":"user_defined","type":"","uuid":"f584af8c-f5b5-4bed-aa7b-14ec1a002183","to_task_reference":{"kind":"app_task","name":"Configure Master","uuid":"b71f182e-4672-47b3-8577-4bec64e4949d"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"1ae0554a_dag"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"1ee40052_deployment","uuid":"ab178214-6a3e-45d8-994a-2eabc311bf9f"},"retries":"0","description":"","type":"SCALING","uuid":"7eb6f841-af71-41fd-8b21-ec73d9380300","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"1","type":"","scaling_type":"SCALEOUT"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Scale Out Slaves"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"EXEC","uuid":"b71f182e-4672-47b3-8577-4bec64e4949d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\nSlaves=($(echo @@{AHVSlave.address}@@ | sed 's\/^,\/\/' | sed 's\/,$\/\/' | tr \",\" \" \")) \n\necho \"host    replication     rep     ${Slaves[-1]}\/32     md5\" | sudo tee -a \/var\/lib\/pgsql\/9.6\/data\/pg_hba.conf\n\nsudo -i -u postgres \/usr\/pgsql-9.6\/bin\/pg_ctl reload;\n\nsleep 20\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Configure Master"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"EXEC","uuid":"66ac5f7d-27f8-497c-9983-7618927dc140","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\nSlaves=($(echo @@{Postgres_Slave.address}@@ | sed 's\/^,\/\/' | sed 's\/,$\/\/' | tr \",\" \" \"))    \nScaleout_IP=${Slaves[-1]}\n\nif [ \"${Scaleout_IP}\" != \"@@{address}@@\" ]\nthen\n\texit 0;\nfi\n\nMaster_IP=@@{AHVMaster.address}@@\n\nsudo systemctl stop postgresql-9.6\nsleep 2;\n\nsudo su - postgres <<EOF\n  mv 9.6\/data 9.6\/data.org\n  echo \"${Master_IP}:5432:*:rep:@@{DB_PASSWORD}@@\" > ~\/.pgpass\n  chmod 0600 ~\/.pgpass\n  pg_basebackup -h ${Master_IP} -D \/var\/lib\/pgsql\/9.6\/data -U rep -v -P\nEOF\n\n\n##copy the created postgres directory to a temp directory\nsudo mkdir \/tmp\/pgsql\nsudo mv \/var\/lib\/pgsql\/9.6\/data \/tmp\/pgsql\n\n#Create directory , fix permissions and Mount LVM\nsudo mkdir \/var\/lib\/pgsql\/9.6\/data\/\nsudo mount -o noatime,barrier=0 \/dev\/pgDataVG\/pgDataLV \/var\/lib\/pgsql\/9.6\/data\/ \n\nsudo mkdir \/var\/lib\/pgsql\/9.6\/data\/pg_xlog\nsudo mount -o noatime,barrier=0 \/dev\/pgLogVG\/pgLogLV \/var\/lib\/pgsql\/9.6\/data\/pg_xlog\n\nsudo chown -R postgres:postgres \/var\/lib\/pgsql\/9.6\/data\/\n\n#move the xlog to the new LVM\nsudo find \/tmp\/pgsql\/data\/pg_xlog -maxdepth 1 -mindepth 1 -exec mv -t \/var\/lib\/pgsql\/9.6\/data\/pg_xlog\/ {} +\n\n#remove pg_xlog from temp dir to avoid being copied again\nsudo rm -rf \/tmp\/pgsql\/data\/pg_xlog\n\n#move the pgsql directory to the LVM\nsudo find \/tmp\/pgsql\/data -maxdepth 1 -mindepth 1 -exec mv -t \/var\/lib\/pgsql\/9.6\/data\/ {} +\n\nsudo chmod -R 0700 \/var\/lib\/pgsql\/9.6\/data\n\n#enable service on boot\nsudo systemctl enable postgresql-9.6.service\n\n#add mount points to \/etc\/fstab\necho \"\/dev\/mapper\/pgDataVG-pgDataLV \/var\/lib\/pgsql\/9.6\/data ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\necho \"\/dev\/mapper\/pgLogVG-pgLogLV \/var\/lib\/pgsql\/9.6\/data\/pg_xlog ext4 rw,seclabel,noatime,nobarrier,stripe=2048,data=ordered 0 0\" | sudo tee -a  \/etc\/fstab\n\n\nsleep 2\nsudo sed -i -e 's\/ExecStart=.*\/ExecStart=\\\/usr\\\/pgsql-9\\.6\\\/bin\\\/pg_ctl start -D ${PGDATA} -s -W -t 300\/g' \/usr\/lib\/systemd\/system\/postgresql-9.6.service\n\necho \"host    replication     rep     ${Master_IP}\/32     md5\" | sudo tee -a \/var\/lib\/pgsql\/9.6\/data\/pg_hba.conf\necho \"listen_addresses = '*'\nwal_level = 'hot_standby'\narchive_mode = on\narchive_command = 'cd .'\nmax_wal_senders = 3\nhot_standby = on\nwal_keep_segments = 8\" | sudo tee -a \/var\/lib\/pgsql\/9.6\/data\/postgresql.conf\n\nsudo su - postgres sh -c \"touch 9.6\/data\/recovery.conf\"\n\necho \"standby_mode = 'on'\nprimary_conninfo = 'host=${Master_IP} port=5432 user=rep password=@@{DB_PASSWORD}@@'\ntrigger_file = '\/tmp\/postgresql.trigger.5432'\" | sudo tee -a \/var\/lib\/pgsql\/9.6\/data\/recovery.conf\n\nsudo systemctl start postgresql-9.6","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Configure Slave"}],"description":"","message_list":[],"uuid":"d810d276-5285-4b1d-88b9-eaeae19e7d2f","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"3beb7554-1093-4832-abcc-cd3786f61803","value":"YES","label":"","state":"ACTIVE","attrs":{"type":""},"editables":{},"is_hidden":false,"type":"LOCAL","options":{},"name":"IS_SCALEOUT"}],"main_task_local_reference":{"kind":"app_task","name":"1ae0554a_dag","uuid":"9ebc7548-a2a3-4108-b422-4fe5c5361c20"},"name":"e82289de_runbook"}},{"description":"","message_list":[],"uuid":"5f8bf61e-3968-4861-a57f-5486fa9e04d5","name":"Scale In","state":"ACTIVE","critical":false,"attrs":{},"type":"user","runbook":{"task_definition_list":[{"retries":"0","description":"","type":"DAG","uuid":"4908103f-a363-4795-a9eb-78716f590885","child_tasks_local_reference_list":[{"kind":"app_task","name":"Scale In Slaves","uuid":"139c2f0d-ebbd-4885-9d3f-72b329e35dcf"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"47646377_dag"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"1ee40052_deployment","uuid":"ab178214-6a3e-45d8-994a-2eabc311bf9f"},"retries":"0","description":"","type":"SCALING","uuid":"139c2f0d-ebbd-4885-9d3f-72b329e35dcf","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"1","type":"","scaling_type":"SCALEIN"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Scale In Slaves"}],"description":"","message_list":[],"uuid":"bf4acc45-d0f2-4316-97cf-f3a508925c1d","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"47646377_dag","uuid":"4908103f-a363-4795-a9eb-78716f590885"},"name":"4fcc04a9_runbook"}},{"description":"System action for creating an application","message_list":[],"uuid":"4097b97c-4ee9-4a56-adc0-1d65f5ee8085","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"Nutanix","uuid":"6fa6c3cc-d8fc-45a7-a366-1967b67aabf3"},"retries":"0","description":"","type":"DAG","uuid":"5830ee2b-ff0d-4262-892d-606bf42d5e8c","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__DE_Provision_ab178214_6a3e_45d8_994a_2eabc311bf9f","uuid":"5cd460fe-b634-4654-b5ce-8c311cda2289"},{"kind":"app_task","name":"SYS_GEN__DE_Provision_68145a50_c00e_4444_9733_b2205db54d51","uuid":"5e3e5036-1189-474f-81d0-50ef7e8822ae"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_d2ffe3cf_564e_49d2_a884_798626bcb5bf_1","uuid":"c7f0f0a8-6665-4887-b5b8-fbd046cd2e7e"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_d2ffe3cf_564e_49d2_a884_798626bcb5bf","uuid":"ccf0e960-ee0f-40d2-964e-cf6663fc36c1"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_8bc04056_82cc_49eb_8114_89e98e1d57de","uuid":"250ddd69-f579-4fab-85e9-495ef683e7b5"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_9f30bd45_c609_4641_971b_3c348c327239","uuid":"80c60482-ed33-415a-824a-dfa5685335d9"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_60df6e19_5223_47b3_980c_c5b707533fa9","uuid":"4b556cd1-0972-47c6-98e6-66fcb4b55b35"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_bc0a0971_6f55_42be_87e4_da9d29132d7f","uuid":"65792e30-eab3-426d-8980-78e1d8a1a22f"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"6283526c-eec2-4e70-b9ca-20bba849122f"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"ea920cff-abc9-4afb-bacd-9608fc095e23"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"0e444592-2841-48cc-8d5f-d9d0fc901e21"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"646162e6-224b-49d8-83a6-abfb0e4d8d67"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"6283526c-eec2-4e70-b9ca-20bba849122f"},"edge_type":"inherent","type":"","uuid":"a804acf0-0b0c-400f-869f-acb381a13c45","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"ea920cff-abc9-4afb-bacd-9608fc095e23"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_bc0a0971_6f55_42be_87e4_da9d29132d7f","uuid":"65792e30-eab3-426d-8980-78e1d8a1a22f"},"edge_type":"inherent","type":"","uuid":"5b0c9025-018f-4324-9cf1-4e69a129e6f4","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"6283526c-eec2-4e70-b9ca-20bba849122f"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_9f30bd45_c609_4641_971b_3c348c327239","uuid":"80c60482-ed33-415a-824a-dfa5685335d9"},"edge_type":"inherent","type":"","uuid":"dbd244ff-4ca3-4115-b242-c27a9bd59b9d","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_bc0a0971_6f55_42be_87e4_da9d29132d7f","uuid":"65792e30-eab3-426d-8980-78e1d8a1a22f"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_d2ffe3cf_564e_49d2_a884_798626bcb5bf","uuid":"ccf0e960-ee0f-40d2-964e-cf6663fc36c1"},"edge_type":"inherent","type":"","uuid":"aba98644-0032-4e62-9ab9-4c82ab45b244","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_9f30bd45_c609_4641_971b_3c348c327239","uuid":"80c60482-ed33-415a-824a-dfa5685335d9"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_68145a50_c00e_4444_9733_b2205db54d51","uuid":"5e3e5036-1189-474f-81d0-50ef7e8822ae"},"edge_type":"inherent","type":"","uuid":"afc014df-89d3-411f-8bfe-57fe0c418c0c","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_9f30bd45_c609_4641_971b_3c348c327239","uuid":"80c60482-ed33-415a-824a-dfa5685335d9"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_68145a50_c00e_4444_9733_b2205db54d51","uuid":"5e3e5036-1189-474f-81d0-50ef7e8822ae"},"edge_type":"inherent","type":"","uuid":"c89c1d45-a11b-4051-8a94-bb4124150c97","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_d2ffe3cf_564e_49d2_a884_798626bcb5bf","uuid":"ccf0e960-ee0f-40d2-964e-cf6663fc36c1"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"0e444592-2841-48cc-8d5f-d9d0fc901e21"},"edge_type":"inherent","type":"","uuid":"f45ba149-a4a7-47e0-8b38-751323fbbfbf","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"646162e6-224b-49d8-83a6-abfb0e4d8d67"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_60df6e19_5223_47b3_980c_c5b707533fa9","uuid":"4b556cd1-0972-47c6-98e6-66fcb4b55b35"},"edge_type":"inherent","type":"","uuid":"36139739-8c19-4e48-aa3b-3e36d23d058d","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"0e444592-2841-48cc-8d5f-d9d0fc901e21"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_8bc04056_82cc_49eb_8114_89e98e1d57de","uuid":"250ddd69-f579-4fab-85e9-495ef683e7b5"},"edge_type":"inherent","type":"","uuid":"34472e14-c691-4463-bdd1-8c53074263ac","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_60df6e19_5223_47b3_980c_c5b707533fa9","uuid":"4b556cd1-0972-47c6-98e6-66fcb4b55b35"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_ab178214_6a3e_45d8_994a_2eabc311bf9f","uuid":"5cd460fe-b634-4654-b5ce-8c311cda2289"},"edge_type":"inherent","type":"","uuid":"cbc423d4-b15c-44a2-9759-a75ab9787ccb","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_8bc04056_82cc_49eb_8114_89e98e1d57de","uuid":"250ddd69-f579-4fab-85e9-495ef683e7b5"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_d2ffe3cf_564e_49d2_a884_798626bcb5bf_1","uuid":"c7f0f0a8-6665-4887-b5b8-fbd046cd2e7e"},"edge_type":"inherent","type":"","uuid":"7d6e29ea-07b2-4652-9654-6c3a8c0eeebb","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_8bc04056_82cc_49eb_8114_89e98e1d57de","uuid":"250ddd69-f579-4fab-85e9-495ef683e7b5"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_ab178214_6a3e_45d8_994a_2eabc311bf9f","uuid":"5cd460fe-b634-4654-b5ce-8c311cda2289"},"edge_type":"inherent","type":"","uuid":"de9cd4c4-1743-4a63-ba84-d23bf5cc8838","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_d2ffe3cf_564e_49d2_a884_798626bcb5bf_1","uuid":"c7f0f0a8-6665-4887-b5b8-fbd046cd2e7e"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"ea920cff-abc9-4afb-bacd-9608fc095e23"},"edge_type":"depends_on","type":"","uuid":"d8e789d8-34b4-42b5-ae4b-f5785d04da0f","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"0e444592-2841-48cc-8d5f-d9d0fc901e21"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_8bc04056_82cc_49eb_8114_89e98e1d57de","uuid":"250ddd69-f579-4fab-85e9-495ef683e7b5"},"edge_type":"dependency","type":"","uuid":"3da8547c-336d-4f58-80c1-b39ccbaf4375","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"6283526c-eec2-4e70-b9ca-20bba849122f"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_9f30bd45_c609_4641_971b_3c348c327239","uuid":"80c60482-ed33-415a-824a-dfa5685335d9"},"edge_type":"dependency","type":"","uuid":"a8782a30-e699-4bab-8c82-7f73b0acc165","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"0e444592-2841-48cc-8d5f-d9d0fc901e21"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_6fa6c3cc_d8fc_45a7_a366_1967b67aabf3"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"1ee40052_deployment","uuid":"ab178214-6a3e-45d8-994a-2eabc311bf9f"},"retries":"0","description":"","type":"CREATE_DEPLOYMENT_ELEMENT","uuid":"5cd460fe-b634-4654-b5ce-8c311cda2289","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Provision_ab178214_6a3e_45d8_994a_2eabc311bf9f"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"8948778d_deployment","uuid":"68145a50-c00e-4444-9733-b2205db54d51"},"retries":"0","description":"","type":"CREATE_DEPLOYMENT_ELEMENT","uuid":"5e3e5036-1189-474f-81d0-50ef7e8822ae","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Provision_68145a50_c00e_4444_9733_b2205db54d51"},{"target_any_local_reference":{"kind":"app_package","name":"AHV_CENTOS_76","uuid":"d2ffe3cf-564e-49d2-a884-798626bcb5bf"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"c7f0f0a8-6665-4887-b5b8-fbd046cd2e7e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"1ee40052_deployment","uuid":"ab178214-6a3e-45d8-994a-2eabc311bf9f"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_d2ffe3cf_564e_49d2_a884_798626bcb5bf","uuid":"8a75de97-cbcb-467d-98d6-859976a2fd0a"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_d2ffe3cf_564e_49d2_a884_798626bcb5bf_1"},{"target_any_local_reference":{"kind":"app_package","name":"AHV_CENTOS_76","uuid":"d2ffe3cf-564e-49d2-a884-798626bcb5bf"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"ccf0e960-ee0f-40d2-964e-cf6663fc36c1","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"8948778d_deployment","uuid":"68145a50-c00e-4444-9733-b2205db54d51"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_d2ffe3cf_564e_49d2_a884_798626bcb5bf","uuid":"8a75de97-cbcb-467d-98d6-859976a2fd0a"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_d2ffe3cf_564e_49d2_a884_798626bcb5bf"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVSlave","uuid":"8bc04056-82cc-49eb-8114-89e98e1d57de"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"250ddd69-f579-4fab-85e9-495ef683e7b5","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"1ee40052_deployment","uuid":"ab178214-6a3e-45d8-994a-2eabc311bf9f"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_8bc04056_82cc_49eb_8114_89e98e1d57de","uuid":"8b13b496-14f4-42d5-8199-a8990e2807d1"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Substrate_8bc04056_82cc_49eb_8114_89e98e1d57de"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVMaster","uuid":"9f30bd45-c609-4641-971b-3c348c327239"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"80c60482-ed33-415a-824a-dfa5685335d9","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"8948778d_deployment","uuid":"68145a50-c00e-4444-9733-b2205db54d51"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_9f30bd45_c609_4641_971b_3c348c327239","uuid":"d472b275-8de6-466a-8c2e-f2610427a349"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Substrate_9f30bd45_c609_4641_971b_3c348c327239"},{"target_any_local_reference":{"kind":"app_package","name":"AHVSlavePackage","uuid":"60df6e19-5223-47b3-980c-c5b707533fa9"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"4b556cd1-0972-47c6-98e6-66fcb4b55b35","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"1ee40052_deployment","uuid":"ab178214-6a3e-45d8-994a-2eabc311bf9f"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_60df6e19_5223_47b3_980c_c5b707533fa9","uuid":"85b15589-47d6-48bf-8fb2-fa8402269ebf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_60df6e19_5223_47b3_980c_c5b707533fa9"},{"target_any_local_reference":{"kind":"app_package","name":"AHVMasterPackage","uuid":"bc0a0971-6f55-42be-87e4-da9d29132d7f"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"65792e30-eab3-426d-8980-78e1d8a1a22f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"8948778d_deployment","uuid":"68145a50-c00e-4444-9733-b2205db54d51"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_bc0a0971_6f55_42be_87e4_da9d29132d7f","uuid":"e4bacc92-937e-4092-b5a2-254ec7fe4c60"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_bc0a0971_6f55_42be_87e4_da9d29132d7f"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"6283526c-eec2-4e70-b9ca-20bba849122f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"8948778d_deployment","uuid":"68145a50-c00e-4444-9733-b2205db54d51"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"c528d489_runbook","uuid":"a5cf54be-5eb3-4cbb-8cbf-c295bbc3af83"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"ea920cff-abc9-4afb-bacd-9608fc095e23","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"8948778d_deployment","uuid":"68145a50-c00e-4444-9733-b2205db54d51"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"c02553e2_runbook","uuid":"81959707-f27f-4259-a9b6-d4f736a28f5c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"0e444592-2841-48cc-8d5f-d9d0fc901e21","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"1ee40052_deployment","uuid":"ab178214-6a3e-45d8-994a-2eabc311bf9f"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"8f15e59d_runbook","uuid":"3c61d32f-d429-4292-b02b-abf0f370307a"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"646162e6-224b-49d8-83a6-abfb0e4d8d67","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"1ee40052_deployment","uuid":"ab178214-6a3e-45d8-994a-2eabc311bf9f"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"b34d9d39_runbook","uuid":"57a4c7a2-843d-4130-9f5d-51c6ed3ce4d5"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40"}],"description":"","message_list":[],"uuid":"6915278c-34e1-4ad6-9e1a-2ddf34eba275","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_6fa6c3cc_d8fc_45a7_a366_1967b67aabf3","uuid":"5830ee2b-ff0d-4262-892d-606bf42d5e8c"},"name":"SYS_GEN__Runbook_Application_6fa6c3cc_d8fc_45a7_a366_1967b67aabf3"}},{"description":"System action for starting an application","message_list":[],"uuid":"462aa6a9-d529-44e6-bf6e-3bcefc6145a8","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"Nutanix","uuid":"6fa6c3cc-d8fc-45a7-a366-1967b67aabf3"},"retries":"0","description":"","type":"DAG","uuid":"1a63f64b-db92-4cac-a48e-844e3dfb4b3f","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_8bc04056_82cc_49eb_8114_89e98e1d57de","uuid":"3da98141-1ef5-4f6e-b94e-843f7c5413c4"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_9f30bd45_c609_4641_971b_3c348c327239","uuid":"a8bfe2ac-23a8-4afa-8f43-6f23e2c730c6"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"fe8019ff-3637-4545-9a5f-15ee848dd804"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"a8129ecd-8555-458e-a4a3-459907db5c2b"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_9f30bd45_c609_4641_971b_3c348c327239","uuid":"a8bfe2ac-23a8-4afa-8f43-6f23e2c730c6"},"edge_type":"inherent","type":"","uuid":"5894158b-eb72-4957-bee1-28ca58f6b814","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"fe8019ff-3637-4545-9a5f-15ee848dd804"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_8bc04056_82cc_49eb_8114_89e98e1d57de","uuid":"3da98141-1ef5-4f6e-b94e-843f7c5413c4"},"edge_type":"inherent","type":"","uuid":"27e01010-d97f-4c34-8f56-832a98caf129","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"a8129ecd-8555-458e-a4a3-459907db5c2b"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"fe8019ff-3637-4545-9a5f-15ee848dd804"},"edge_type":"depends_on","type":"","uuid":"1525461c-d60f-4506-bfa2-c92128e5b3de","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"a8129ecd-8555-458e-a4a3-459907db5c2b"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_8bc04056_82cc_49eb_8114_89e98e1d57de","uuid":"3da98141-1ef5-4f6e-b94e-843f7c5413c4"},"edge_type":"create_action_edge","type":"","uuid":"ef91d9b1-671a-4f15-8753-e8c680209026","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"fe8019ff-3637-4545-9a5f-15ee848dd804"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_9f30bd45_c609_4641_971b_3c348c327239","uuid":"a8bfe2ac-23a8-4afa-8f43-6f23e2c730c6"},"edge_type":"create_action_edge","type":"","uuid":"842c4c6a-92fd-46fc-8b2d-0cf15b5a5043","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"a8129ecd-8555-458e-a4a3-459907db5c2b"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_6fa6c3cc_d8fc_45a7_a366_1967b67aabf3"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVSlave","uuid":"8bc04056-82cc-49eb-8114-89e98e1d57de"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"3da98141-1ef5-4f6e-b94e-843f7c5413c4","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"1ee40052_deployment","uuid":"ab178214-6a3e-45d8-994a-2eabc311bf9f"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_8bc04056_82cc_49eb_8114_89e98e1d57de","uuid":"d324270b-ef62-4fe1-baf3-647101d48e09"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Substrate_8bc04056_82cc_49eb_8114_89e98e1d57de"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVMaster","uuid":"9f30bd45-c609-4641-971b-3c348c327239"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"a8bfe2ac-23a8-4afa-8f43-6f23e2c730c6","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"8948778d_deployment","uuid":"68145a50-c00e-4444-9733-b2205db54d51"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_9f30bd45_c609_4641_971b_3c348c327239","uuid":"f3dffc05-80c5-4aeb-8da7-0457bf74632d"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Substrate_9f30bd45_c609_4641_971b_3c348c327239"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"fe8019ff-3637-4545-9a5f-15ee848dd804","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"8948778d_deployment","uuid":"68145a50-c00e-4444-9733-b2205db54d51"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"c02553e2_runbook","uuid":"81959707-f27f-4259-a9b6-d4f736a28f5c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"a8129ecd-8555-458e-a4a3-459907db5c2b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"1ee40052_deployment","uuid":"ab178214-6a3e-45d8-994a-2eabc311bf9f"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"b34d9d39_runbook","uuid":"57a4c7a2-843d-4130-9f5d-51c6ed3ce4d5"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40"}],"description":"","message_list":[],"uuid":"3af9b3ee-6a62-49d1-adce-4e9473ec153c","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_6fa6c3cc_d8fc_45a7_a366_1967b67aabf3","uuid":"1a63f64b-db92-4cac-a48e-844e3dfb4b3f"},"name":"SYS_GEN__Runbook_Application_6fa6c3cc_d8fc_45a7_a366_1967b67aabf3"}},{"description":"System action for restarting an application","message_list":[],"uuid":"2e7bb828-49f8-476d-876e-a76135ea0e88","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"Nutanix","uuid":"6fa6c3cc-d8fc-45a7-a366-1967b67aabf3"},"retries":"0","description":"","type":"DAG","uuid":"7a5bb98f-d1d6-4f92-a1bd-e7af944290f4","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_9f30bd45_c609_4641_971b_3c348c327239","uuid":"0073fd47-4fc0-4ea0-88dd-eda439e19914"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_8bc04056_82cc_49eb_8114_89e98e1d57de","uuid":"fe9dd935-74cc-411d-b694-c56efdce16ff"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"e2ff4cb5-ce17-4fbf-9782-ce299b383216"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"05f66e9e-7592-4635-b875-4510b48460f3"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_9f30bd45_c609_4641_971b_3c348c327239","uuid":"0073fd47-4fc0-4ea0-88dd-eda439e19914"},"edge_type":"inherent","type":"","uuid":"e4a25a7e-3978-4d40-88b8-add2e9980ac7","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"e2ff4cb5-ce17-4fbf-9782-ce299b383216"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_8bc04056_82cc_49eb_8114_89e98e1d57de","uuid":"fe9dd935-74cc-411d-b694-c56efdce16ff"},"edge_type":"inherent","type":"","uuid":"327ea7a0-c60d-4058-9bcc-91e942208a74","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"05f66e9e-7592-4635-b875-4510b48460f3"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"e2ff4cb5-ce17-4fbf-9782-ce299b383216"},"edge_type":"depends_on","type":"","uuid":"51f608b3-0223-4d38-a2fa-9f0cce7c3097","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"05f66e9e-7592-4635-b875-4510b48460f3"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_8bc04056_82cc_49eb_8114_89e98e1d57de","uuid":"fe9dd935-74cc-411d-b694-c56efdce16ff"},"edge_type":"create_action_edge","type":"","uuid":"e128dca1-3899-4033-a290-5181f2f45ac4","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"e2ff4cb5-ce17-4fbf-9782-ce299b383216"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_9f30bd45_c609_4641_971b_3c348c327239","uuid":"0073fd47-4fc0-4ea0-88dd-eda439e19914"},"edge_type":"create_action_edge","type":"","uuid":"105918d9-1d98-46c1-a0d6-1df02f315307","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"05f66e9e-7592-4635-b875-4510b48460f3"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_6fa6c3cc_d8fc_45a7_a366_1967b67aabf3"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVMaster","uuid":"9f30bd45-c609-4641-971b-3c348c327239"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"0073fd47-4fc0-4ea0-88dd-eda439e19914","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"8948778d_deployment","uuid":"68145a50-c00e-4444-9733-b2205db54d51"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_9f30bd45_c609_4641_971b_3c348c327239","uuid":"26246ec3-1461-4bc9-b66c-2611acd97a8c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Substrate_9f30bd45_c609_4641_971b_3c348c327239"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVSlave","uuid":"8bc04056-82cc-49eb-8114-89e98e1d57de"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"fe9dd935-74cc-411d-b694-c56efdce16ff","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"1ee40052_deployment","uuid":"ab178214-6a3e-45d8-994a-2eabc311bf9f"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_8bc04056_82cc_49eb_8114_89e98e1d57de","uuid":"803b7c6e-09ba-460f-9161-0e306f37a90b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Substrate_8bc04056_82cc_49eb_8114_89e98e1d57de"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"e2ff4cb5-ce17-4fbf-9782-ce299b383216","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"8948778d_deployment","uuid":"68145a50-c00e-4444-9733-b2205db54d51"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"a9d9f266_runbook","uuid":"a32389b2-74a8-4a75-b897-c7158c11032e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"05f66e9e-7592-4635-b875-4510b48460f3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"1ee40052_deployment","uuid":"ab178214-6a3e-45d8-994a-2eabc311bf9f"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"c1c4eebd_runbook","uuid":"bea78664-aea0-4d1f-b708-8ef876af38d5"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40"}],"description":"","message_list":[],"uuid":"17ccfbd6-6490-4771-a5db-1023dbd80ba1","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_6fa6c3cc_d8fc_45a7_a366_1967b67aabf3","uuid":"7a5bb98f-d1d6-4f92-a1bd-e7af944290f4"},"name":"SYS_GEN__Runbook_Application_6fa6c3cc_d8fc_45a7_a366_1967b67aabf3"}},{"description":"System action for stopping an application","message_list":[],"uuid":"c76c81fb-d401-4908-aaea-c55c6bef21cc","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"Nutanix","uuid":"6fa6c3cc-d8fc-45a7-a366-1967b67aabf3"},"retries":"0","description":"","type":"DAG","uuid":"6e104cd1-716c-4003-af4c-2c937bdc5f9a","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"431ec10a-2e80-46c4-b263-1a4461a5cf5b"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"ac0b4219-08bb-4cbf-b9c9-96f497383026"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_9f30bd45_c609_4641_971b_3c348c327239","uuid":"26153c4a-2ec2-4bb7-8738-c4a24851ab94"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_8bc04056_82cc_49eb_8114_89e98e1d57de","uuid":"ee91c598-74dc-4c0a-ac00-3cccd6402d71"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"ac0b4219-08bb-4cbf-b9c9-96f497383026"},"edge_type":"inherent","type":"","uuid":"ca521151-7c73-4966-afb0-6ac089c2fcfc","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_9f30bd45_c609_4641_971b_3c348c327239","uuid":"26153c4a-2ec2-4bb7-8738-c4a24851ab94"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"431ec10a-2e80-46c4-b263-1a4461a5cf5b"},"edge_type":"inherent","type":"","uuid":"c65762fc-690c-4d7f-aae5-1eaa99c18da7","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_8bc04056_82cc_49eb_8114_89e98e1d57de","uuid":"ee91c598-74dc-4c0a-ac00-3cccd6402d71"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"431ec10a-2e80-46c4-b263-1a4461a5cf5b"},"edge_type":"depends_on","type":"","uuid":"555fec99-5487-4cef-9d19-452e2e96af4e","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"ac0b4219-08bb-4cbf-b9c9-96f497383026"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"ac0b4219-08bb-4cbf-b9c9-96f497383026"},"edge_type":"create_action_edge","type":"","uuid":"dde17ed7-98ea-49f1-a408-d118434093fc","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_8bc04056_82cc_49eb_8114_89e98e1d57de","uuid":"ee91c598-74dc-4c0a-ac00-3cccd6402d71"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"431ec10a-2e80-46c4-b263-1a4461a5cf5b"},"edge_type":"create_action_edge","type":"","uuid":"48a82b82-2e95-418f-89a2-3b665c07d42d","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_9f30bd45_c609_4641_971b_3c348c327239","uuid":"26153c4a-2ec2-4bb7-8738-c4a24851ab94"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_6fa6c3cc_d8fc_45a7_a366_1967b67aabf3"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"431ec10a-2e80-46c4-b263-1a4461a5cf5b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"1ee40052_deployment","uuid":"ab178214-6a3e-45d8-994a-2eabc311bf9f"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0e2bd4c9_runbook","uuid":"8e29699f-df44-4802-8ae9-689322c6575c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"ac0b4219-08bb-4cbf-b9c9-96f497383026","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"8948778d_deployment","uuid":"68145a50-c00e-4444-9733-b2205db54d51"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"deb1443a_runbook","uuid":"86288a79-ba17-4500-a81a-1ed2afb6b9b8"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVMaster","uuid":"9f30bd45-c609-4641-971b-3c348c327239"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"26153c4a-2ec2-4bb7-8738-c4a24851ab94","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"8948778d_deployment","uuid":"68145a50-c00e-4444-9733-b2205db54d51"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_9f30bd45_c609_4641_971b_3c348c327239","uuid":"f9639a48-74b8-49b7-95bb-588edc551c0e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Substrate_9f30bd45_c609_4641_971b_3c348c327239"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVSlave","uuid":"8bc04056-82cc-49eb-8114-89e98e1d57de"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"ee91c598-74dc-4c0a-ac00-3cccd6402d71","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"1ee40052_deployment","uuid":"ab178214-6a3e-45d8-994a-2eabc311bf9f"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_8bc04056_82cc_49eb_8114_89e98e1d57de","uuid":"e72b0c30-d224-4c89-89ad-bcbbe11245ca"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Substrate_8bc04056_82cc_49eb_8114_89e98e1d57de"}],"description":"","message_list":[],"uuid":"1f5f2efb-09bd-46b9-ab79-06ef60127d0a","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_6fa6c3cc_d8fc_45a7_a366_1967b67aabf3","uuid":"6e104cd1-716c-4003-af4c-2c937bdc5f9a"},"name":"SYS_GEN__Runbook_Application_6fa6c3cc_d8fc_45a7_a366_1967b67aabf3"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"254f6a85-ddb7-4715-9b21-e32e9fca875e","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"Nutanix","uuid":"6fa6c3cc-d8fc-45a7-a366-1967b67aabf3"},"retries":"0","description":"","type":"DAG","uuid":"9ea1a55c-1036-4465-9d34-4b32fc756f4a","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"14b2c1a7-59da-43da-96ea-05f231c9516f"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"bf7e48fd-45ba-4c02-ba38-87223c22ef4b"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"c0f9c356-c022-46a7-bb15-edc4c7b0d3fa"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_60df6e19_5223_47b3_980c_c5b707533fa9","uuid":"c3ae4925-00dd-4abb-b590-cf13007677e9"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"d99cead4-02f3-4e1b-8110-31af9d008091"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_bc0a0971_6f55_42be_87e4_da9d29132d7f","uuid":"5996ec74-7d42-4e40-9210-1e750d0ff8f4"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_8bc04056_82cc_49eb_8114_89e98e1d57de","uuid":"72781ea1-9018-4bea-82ad-dd21b27f3d58"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_9f30bd45_c609_4641_971b_3c348c327239","uuid":"4a416f38-f4c7-4087-8b00-a7a45cfc62ec"},{"kind":"app_task","name":"SYS_GEN__DE_Delete_ab178214_6a3e_45d8_994a_2eabc311bf9f","uuid":"39fb0664-5a9e-478c-a725-1104f719ab5e"},{"kind":"app_task","name":"SYS_GEN__DE_Delete_68145a50_c00e_4444_9733_b2205db54d51","uuid":"6edcd09f-803b-4bb0-b5c6-4264fbb39e94"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"c0f9c356-c022-46a7-bb15-edc4c7b0d3fa"},"edge_type":"inherent","type":"","uuid":"952095f9-f4fa-4700-8297-8a475d8fc6dd","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"d99cead4-02f3-4e1b-8110-31af9d008091"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"d99cead4-02f3-4e1b-8110-31af9d008091"},"edge_type":"inherent","type":"","uuid":"5b89cee4-96a9-4a94-88ea-1856bd22f075","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_bc0a0971_6f55_42be_87e4_da9d29132d7f","uuid":"5996ec74-7d42-4e40-9210-1e750d0ff8f4"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_bc0a0971_6f55_42be_87e4_da9d29132d7f","uuid":"5996ec74-7d42-4e40-9210-1e750d0ff8f4"},"edge_type":"inherent","type":"","uuid":"d37a80a1-4c38-4021-acb7-dc1d885e942e","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_9f30bd45_c609_4641_971b_3c348c327239","uuid":"4a416f38-f4c7-4087-8b00-a7a45cfc62ec"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_9f30bd45_c609_4641_971b_3c348c327239","uuid":"4a416f38-f4c7-4087-8b00-a7a45cfc62ec"},"edge_type":"inherent","type":"","uuid":"df44c0fe-f869-4f0f-a985-0a82ce9ccf07","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Delete_68145a50_c00e_4444_9733_b2205db54d51","uuid":"6edcd09f-803b-4bb0-b5c6-4264fbb39e94"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"14b2c1a7-59da-43da-96ea-05f231c9516f"},"edge_type":"inherent","type":"","uuid":"412df1ab-ed1e-4ff7-ab7e-6db9a6022ab7","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"bf7e48fd-45ba-4c02-ba38-87223c22ef4b"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"bf7e48fd-45ba-4c02-ba38-87223c22ef4b"},"edge_type":"inherent","type":"","uuid":"92992042-a8ca-49bb-a042-5b6e145aaafd","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_60df6e19_5223_47b3_980c_c5b707533fa9","uuid":"c3ae4925-00dd-4abb-b590-cf13007677e9"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_8bc04056_82cc_49eb_8114_89e98e1d57de","uuid":"72781ea1-9018-4bea-82ad-dd21b27f3d58"},"edge_type":"inherent","type":"","uuid":"bdc04e8b-e451-4ef3-956a-b1be77609d90","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Delete_ab178214_6a3e_45d8_994a_2eabc311bf9f","uuid":"39fb0664-5a9e-478c-a725-1104f719ab5e"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_60df6e19_5223_47b3_980c_c5b707533fa9","uuid":"c3ae4925-00dd-4abb-b590-cf13007677e9"},"edge_type":"inherent","type":"","uuid":"5d3c5766-1332-4cb5-9ec8-73b22d0a2c8d","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_8bc04056_82cc_49eb_8114_89e98e1d57de","uuid":"72781ea1-9018-4bea-82ad-dd21b27f3d58"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"bf7e48fd-45ba-4c02-ba38-87223c22ef4b"},"edge_type":"depends_on","type":"","uuid":"a7bc12a0-b677-48fb-862b-7def0b7c2957","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"c0f9c356-c022-46a7-bb15-edc4c7b0d3fa"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"d99cead4-02f3-4e1b-8110-31af9d008091"},"edge_type":"create_action_edge","type":"","uuid":"2b9cdeea-2cf5-496b-84fd-4170a60433d9","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_8bc04056_82cc_49eb_8114_89e98e1d57de","uuid":"72781ea1-9018-4bea-82ad-dd21b27f3d58"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"bf7e48fd-45ba-4c02-ba38-87223c22ef4b"},"edge_type":"create_action_edge","type":"","uuid":"9291475a-6ab1-4dd5-880d-91fc1a41b6a1","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_9f30bd45_c609_4641_971b_3c348c327239","uuid":"4a416f38-f4c7-4087-8b00-a7a45cfc62ec"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_6fa6c3cc_d8fc_45a7_a366_1967b67aabf3"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"14b2c1a7-59da-43da-96ea-05f231c9516f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"1ee40052_deployment","uuid":"ab178214-6a3e-45d8-994a-2eabc311bf9f"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0e2bd4c9_runbook","uuid":"8e29699f-df44-4802-8ae9-689322c6575c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"bf7e48fd-45ba-4c02-ba38-87223c22ef4b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"1ee40052_deployment","uuid":"ab178214-6a3e-45d8-994a-2eabc311bf9f"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"08946714_runbook","uuid":"005a7fbe-7426-4c75-aa02-8ca0b1db5dbb"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"c0f9c356-c022-46a7-bb15-edc4c7b0d3fa","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"8948778d_deployment","uuid":"68145a50-c00e-4444-9733-b2205db54d51"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"deb1443a_runbook","uuid":"86288a79-ba17-4500-a81a-1ed2afb6b9b8"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90"},{"target_any_local_reference":{"kind":"app_package","name":"AHVSlavePackage","uuid":"60df6e19-5223-47b3-980c-c5b707533fa9"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"c3ae4925-00dd-4abb-b590-cf13007677e9","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"1ee40052_deployment","uuid":"ab178214-6a3e-45d8-994a-2eabc311bf9f"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_60df6e19_5223_47b3_980c_c5b707533fa9","uuid":"0d809c62-f4b3-40ff-a582-347d17bbfd4d"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_60df6e19_5223_47b3_980c_c5b707533fa9"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"d99cead4-02f3-4e1b-8110-31af9d008091","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"8948778d_deployment","uuid":"68145a50-c00e-4444-9733-b2205db54d51"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"8ad650b2_runbook","uuid":"f31a5f00-62ad-4b57-8fbf-cd1f020f2bfc"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90"},{"target_any_local_reference":{"kind":"app_package","name":"AHVMasterPackage","uuid":"bc0a0971-6f55-42be-87e4-da9d29132d7f"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"5996ec74-7d42-4e40-9210-1e750d0ff8f4","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"8948778d_deployment","uuid":"68145a50-c00e-4444-9733-b2205db54d51"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_bc0a0971_6f55_42be_87e4_da9d29132d7f","uuid":"8435b960-3373-4592-b049-1a956301d301"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_bc0a0971_6f55_42be_87e4_da9d29132d7f"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVSlave","uuid":"8bc04056-82cc-49eb-8114-89e98e1d57de"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"72781ea1-9018-4bea-82ad-dd21b27f3d58","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"1ee40052_deployment","uuid":"ab178214-6a3e-45d8-994a-2eabc311bf9f"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_8bc04056_82cc_49eb_8114_89e98e1d57de","uuid":"e5b699d0-434b-4e81-ba09-b4186d8c805d"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Substrate_8bc04056_82cc_49eb_8114_89e98e1d57de"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVMaster","uuid":"9f30bd45-c609-4641-971b-3c348c327239"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"4a416f38-f4c7-4087-8b00-a7a45cfc62ec","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"8948778d_deployment","uuid":"68145a50-c00e-4444-9733-b2205db54d51"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_9f30bd45_c609_4641_971b_3c348c327239","uuid":"536172e5-30ed-496c-8921-13efb694781a"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Substrate_9f30bd45_c609_4641_971b_3c348c327239"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"1ee40052_deployment","uuid":"ab178214-6a3e-45d8-994a-2eabc311bf9f"},"retries":"0","description":"","type":"DELETE_DEPLOYMENT_ELEMENT","uuid":"39fb0664-5a9e-478c-a725-1104f719ab5e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Delete_ab178214_6a3e_45d8_994a_2eabc311bf9f"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"8948778d_deployment","uuid":"68145a50-c00e-4444-9733-b2205db54d51"},"retries":"0","description":"","type":"DELETE_DEPLOYMENT_ELEMENT","uuid":"6edcd09f-803b-4bb0-b5c6-4264fbb39e94","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Delete_68145a50_c00e_4444_9733_b2205db54d51"}],"description":"","message_list":[],"uuid":"261b2689-84a4-4902-9b19-7edd0590688e","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_6fa6c3cc_d8fc_45a7_a366_1967b67aabf3","uuid":"9ea1a55c-1036-4465-9d34-4b32fc756f4a"},"name":"SYS_GEN__Runbook_Application_6fa6c3cc_d8fc_45a7_a366_1967b67aabf3"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"95f5f59d-6f9f-496f-bb2d-b9aea4fe65b4","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"Nutanix","uuid":"6fa6c3cc-d8fc-45a7-a366-1967b67aabf3"},"retries":"0","description":"","type":"DAG","uuid":"d84d1009-e681-4197-aba4-ba99173401f2","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"54fe8ec4-4127-485c-aa6e-faf382b602d0"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_60df6e19_5223_47b3_980c_c5b707533fa9","uuid":"474993ac-728a-4a54-bd5c-560711e25aaf"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"c25cd2d8-ef3a-40a5-a797-8a3624a0ad5a"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_8bc04056_82cc_49eb_8114_89e98e1d57de","uuid":"7e38148d-7ae4-477c-959b-f773710b87e6"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_bc0a0971_6f55_42be_87e4_da9d29132d7f","uuid":"6feeb354-58a9-4780-a0f4-d325cfc19086"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_9f30bd45_c609_4641_971b_3c348c327239","uuid":"35707280-c6a2-4c12-a45b-47a15a3eb71d"},{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_ab178214_6a3e_45d8_994a_2eabc311bf9f","uuid":"fb7e65e8-b5a6-4e4c-9f5d-fa51fafdc36c"},{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_68145a50_c00e_4444_9733_b2205db54d51","uuid":"1ca8b7fd-f460-4bb3-a51b-c8aee059e7d4"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"c25cd2d8-ef3a-40a5-a797-8a3624a0ad5a"},"edge_type":"inherent","type":"","uuid":"055f7852-7e21-46bb-a1de-fbb5c5b4a4bd","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_bc0a0971_6f55_42be_87e4_da9d29132d7f","uuid":"6feeb354-58a9-4780-a0f4-d325cfc19086"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_9f30bd45_c609_4641_971b_3c348c327239","uuid":"35707280-c6a2-4c12-a45b-47a15a3eb71d"},"edge_type":"inherent","type":"","uuid":"77e77af2-0571-402e-85a6-2e4e4a70ef3c","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_68145a50_c00e_4444_9733_b2205db54d51","uuid":"1ca8b7fd-f460-4bb3-a51b-c8aee059e7d4"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_bc0a0971_6f55_42be_87e4_da9d29132d7f","uuid":"6feeb354-58a9-4780-a0f4-d325cfc19086"},"edge_type":"inherent","type":"","uuid":"58baa8c6-9e94-4ce1-ad23-1c738bcfb588","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_9f30bd45_c609_4641_971b_3c348c327239","uuid":"35707280-c6a2-4c12-a45b-47a15a3eb71d"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"54fe8ec4-4127-485c-aa6e-faf382b602d0"},"edge_type":"inherent","type":"","uuid":"02a50ccf-2aec-47aa-ac9d-7c8ddfd61384","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_60df6e19_5223_47b3_980c_c5b707533fa9","uuid":"474993ac-728a-4a54-bd5c-560711e25aaf"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_60df6e19_5223_47b3_980c_c5b707533fa9","uuid":"474993ac-728a-4a54-bd5c-560711e25aaf"},"edge_type":"inherent","type":"","uuid":"f18eff5b-04c1-4352-af88-ef0ba48296c3","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_8bc04056_82cc_49eb_8114_89e98e1d57de","uuid":"7e38148d-7ae4-477c-959b-f773710b87e6"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_8bc04056_82cc_49eb_8114_89e98e1d57de","uuid":"7e38148d-7ae4-477c-959b-f773710b87e6"},"edge_type":"inherent","type":"","uuid":"362968b8-8537-42ff-b474-ef9a1be95854","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_ab178214_6a3e_45d8_994a_2eabc311bf9f","uuid":"fb7e65e8-b5a6-4e4c-9f5d-fa51fafdc36c"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"54fe8ec4-4127-485c-aa6e-faf382b602d0"},"edge_type":"depends_on","type":"","uuid":"b2fc4204-c2a5-48c0-8705-b13f840652c0","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"c25cd2d8-ef3a-40a5-a797-8a3624a0ad5a"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"c25cd2d8-ef3a-40a5-a797-8a3624a0ad5a"},"edge_type":"create_action_edge","type":"","uuid":"9a158a6d-c0e0-4cc2-a8d7-0e6dd7a1e862","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_8bc04056_82cc_49eb_8114_89e98e1d57de","uuid":"7e38148d-7ae4-477c-959b-f773710b87e6"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"54fe8ec4-4127-485c-aa6e-faf382b602d0"},"edge_type":"create_action_edge","type":"","uuid":"51707355-b6c8-4b4d-83ed-c0a4896878bb","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_9f30bd45_c609_4641_971b_3c348c327239","uuid":"35707280-c6a2-4c12-a45b-47a15a3eb71d"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_6fa6c3cc_d8fc_45a7_a366_1967b67aabf3"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"54fe8ec4-4127-485c-aa6e-faf382b602d0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"1ee40052_deployment","uuid":"ab178214-6a3e-45d8-994a-2eabc311bf9f"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"febe47f3-782b-40c3-abcb-ce825626516f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40"},{"target_any_local_reference":{"kind":"app_package","name":"AHVSlavePackage","uuid":"60df6e19-5223-47b3-980c-c5b707533fa9"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"474993ac-728a-4a54-bd5c-560711e25aaf","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_60df6e19_5223_47b3_980c_c5b707533fa9"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"c25cd2d8-ef3a-40a5-a797-8a3624a0ad5a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"8948778d_deployment","uuid":"68145a50-c00e-4444-9733-b2205db54d51"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"92ba2635-e9da-48a5-8b58-7a4b4a61ffdf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVSlave","uuid":"8bc04056-82cc-49eb-8114-89e98e1d57de"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"7e38148d-7ae4-477c-959b-f773710b87e6","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"1ee40052_deployment","uuid":"ab178214-6a3e-45d8-994a-2eabc311bf9f"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_8bc04056_82cc_49eb_8114_89e98e1d57de","uuid":"fc3a0143-5958-4b1f-9ae9-6468552d5f7b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Substrate_8bc04056_82cc_49eb_8114_89e98e1d57de"},{"target_any_local_reference":{"kind":"app_package","name":"AHVMasterPackage","uuid":"bc0a0971-6f55-42be-87e4-da9d29132d7f"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"6feeb354-58a9-4780-a0f4-d325cfc19086","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_bc0a0971_6f55_42be_87e4_da9d29132d7f"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVMaster","uuid":"9f30bd45-c609-4641-971b-3c348c327239"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"35707280-c6a2-4c12-a45b-47a15a3eb71d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"8948778d_deployment","uuid":"68145a50-c00e-4444-9733-b2205db54d51"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_9f30bd45_c609_4641_971b_3c348c327239","uuid":"3fbf39c6-2090-4155-8c73-8f065777bd14"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Substrate_9f30bd45_c609_4641_971b_3c348c327239"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"1ee40052_deployment","uuid":"ab178214-6a3e-45d8-994a-2eabc311bf9f"},"retries":"0","description":"","type":"SOFT_DELETE_DEPLOYMENT_ELEMENT","uuid":"fb7e65e8-b5a6-4e4c-9f5d-fa51fafdc36c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Soft_Delete_ab178214_6a3e_45d8_994a_2eabc311bf9f"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"8948778d_deployment","uuid":"68145a50-c00e-4444-9733-b2205db54d51"},"retries":"0","description":"","type":"SOFT_DELETE_DEPLOYMENT_ELEMENT","uuid":"1ca8b7fd-f460-4bb3-a51b-c8aee059e7d4","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Soft_Delete_68145a50_c00e_4444_9733_b2205db54d51"}],"description":"","message_list":[],"uuid":"3e80c1c1-6aeb-43f7-9d08-f1bdcde371d0","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_6fa6c3cc_d8fc_45a7_a366_1967b67aabf3","uuid":"d84d1009-e681-4197-aba4-ba99173401f2"},"name":"SYS_GEN__Runbook_Application_6fa6c3cc_d8fc_45a7_a366_1967b67aabf3"}}],"message_list":[],"uuid":"6fa6c3cc-d8fc-45a7-a366-1967b67aabf3","state":"ACTIVE","dependency_list":[{"getter_resource_kind":"ServiceCfg","setter_resource_attr":"address","setter_resource_kind":"SubstrateCfg","setter_resource_name":"AHVSlave","action_name":"action_create","action_resource_name":"Nutanix","getter_resource_name":"Postgres_Master","action_resource_kind":"ApplicationCfg"},{"getter_resource_kind":"ServiceCfg","setter_resource_attr":"address","setter_resource_kind":"SubstrateCfg","setter_resource_name":"AHVMaster","action_name":"action_create","action_resource_name":"Nutanix","getter_resource_name":"Postgres_Slave","action_resource_kind":"ApplicationCfg"}],"variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"70b9f7b1-8cd0-4d6f-8a36-4170c773e88a","value":"AHV","label":"","state":"ACTIVE","attrs":{"type":""},"editables":{},"is_hidden":false,"type":"LOCAL","options":{},"name":"PROFILE"},{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"725d44b7-872a-44f5-bfc3-7c70fe4f0ed0","value":"","label":"","state":"ACTIVE","attrs":{"is_secret_modified":false,"secret_reference":{"uuid":"01264ec3-cc5e-4415-a58b-9d4422755905"},"type":""},"editables":{"value":true},"is_hidden":false,"type":"SECRET","options":{},"name":"DB_PASSWORD"}],"name":"Nutanix"},{"deployment_create_list":[{"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"e2ef54fe-f872-4378-8507-812af7b9f970","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9324c460_deployment","uuid":"d7e614ff-8146-4f9d-a296-ac679a1b848b"},"retries":"0","description":"","type":"DAG","uuid":"7e083452-8836-4bc5-bc27-604bc1fa301e","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__DE_Provision_d7e614ff_8146_4f9d_a296_ac679a1b848b","uuid":"eda30217-e985-4b5e-b682-d63a971ca7c7"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_13b7dc33_639a_4b63_b6c2_bcbc40ad50d0","uuid":"94450554-7ca2-49ad-b4fe-6ae0ebef3214"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_5805d838_62cc_43fb_9302_ed138e4e1bed","uuid":"1d8d097a-813f-4dae-b78a-cf76c687194f"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"a9449e6d-8ed5-4b64-bfaa-2ae607299259"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"707579f1-104c-4926-82a4-bbd371d91fb9"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"a9449e6d-8ed5-4b64-bfaa-2ae607299259"},"edge_type":"inherent","type":"","uuid":"f99b1a64-c9cf-464a-b13d-75970f75b746","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"707579f1-104c-4926-82a4-bbd371d91fb9"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_5805d838_62cc_43fb_9302_ed138e4e1bed","uuid":"1d8d097a-813f-4dae-b78a-cf76c687194f"},"edge_type":"inherent","type":"","uuid":"29ec966f-b124-49d1-b382-6249c1a7f91c","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"a9449e6d-8ed5-4b64-bfaa-2ae607299259"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_d7e614ff_8146_4f9d_a296_ac679a1b848b","uuid":"eda30217-e985-4b5e-b682-d63a971ca7c7"},"edge_type":"inherent","type":"","uuid":"630ff61b-9e7f-4763-be01-c534016ceb28","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_13b7dc33_639a_4b63_b6c2_bcbc40ad50d0","uuid":"94450554-7ca2-49ad-b4fe-6ae0ebef3214"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_13b7dc33_639a_4b63_b6c2_bcbc40ad50d0","uuid":"94450554-7ca2-49ad-b4fe-6ae0ebef3214"},"edge_type":"inherent","type":"","uuid":"5a96b0ab-dc52-45ab-8015-b6d7682f3808","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_5805d838_62cc_43fb_9302_ed138e4e1bed","uuid":"1d8d097a-813f-4dae-b78a-cf76c687194f"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_d7e614ff_8146_4f9d_a296_ac679a1b848b"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9324c460_deployment","uuid":"d7e614ff-8146-4f9d-a296-ac679a1b848b"},"retries":"0","description":"","type":"CREATE_DEPLOYMENT_ELEMENT","uuid":"eda30217-e985-4b5e-b682-d63a971ca7c7","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Provision_d7e614ff_8146_4f9d_a296_ac679a1b848b"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSMaster","uuid":"13b7dc33-639a-4b63-b6c2-bcbc40ad50d0"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"94450554-7ca2-49ad-b4fe-6ae0ebef3214","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9324c460_deployment","uuid":"d7e614ff-8146-4f9d-a296-ac679a1b848b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_13b7dc33_639a_4b63_b6c2_bcbc40ad50d0","uuid":"1d2a9bb4-2bd2-4eb4-a1ac-7da3a948a55a"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Substrate_13b7dc33_639a_4b63_b6c2_bcbc40ad50d0"},{"target_any_local_reference":{"kind":"app_package","name":"AWSMasterPackage","uuid":"5805d838-62cc-43fb-9302-ed138e4e1bed"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"1d8d097a-813f-4dae-b78a-cf76c687194f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9324c460_deployment","uuid":"d7e614ff-8146-4f9d-a296-ac679a1b848b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_5805d838_62cc_43fb_9302_ed138e4e1bed","uuid":"df4ec507-37a7-479d-bc64-4733c3d34b33"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_5805d838_62cc_43fb_9302_ed138e4e1bed"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"a9449e6d-8ed5-4b64-bfaa-2ae607299259","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9324c460_deployment","uuid":"d7e614ff-8146-4f9d-a296-ac679a1b848b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"c528d489_runbook","uuid":"a5cf54be-5eb3-4cbb-8cbf-c295bbc3af83"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"707579f1-104c-4926-82a4-bbd371d91fb9","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9324c460_deployment","uuid":"d7e614ff-8146-4f9d-a296-ac679a1b848b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"c02553e2_runbook","uuid":"81959707-f27f-4259-a9b6-d4f736a28f5c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90"}],"description":"","message_list":[],"uuid":"ecf3b70c-b602-4230-80ce-a149c83171ae","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_d7e614ff_8146_4f9d_a296_ac679a1b848b","uuid":"7e083452-8836-4bc5-bc27-604bc1fa301e"},"name":"SYS_GEN__Runbook_Deployment_d7e614ff_8146_4f9d_a296_ac679a1b848b"}},{"description":"System action for starting an application","message_list":[],"uuid":"6b187d3c-5d32-4006-93ce-1b0957549649","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9324c460_deployment","uuid":"d7e614ff-8146-4f9d-a296-ac679a1b848b"},"retries":"0","description":"","type":"DAG","uuid":"d22c125d-2373-4b56-9ee9-202526355e3b","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_13b7dc33_639a_4b63_b6c2_bcbc40ad50d0","uuid":"b16c665b-567e-4aa7-9c84-8c2c756dfe7c"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"336c4654-742d-4a7d-b63b-788ef321f913"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_13b7dc33_639a_4b63_b6c2_bcbc40ad50d0","uuid":"b16c665b-567e-4aa7-9c84-8c2c756dfe7c"},"edge_type":"inherent","type":"","uuid":"d48f24b9-ee19-45d7-9ade-d790eedb029a","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"336c4654-742d-4a7d-b63b-788ef321f913"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_d7e614ff_8146_4f9d_a296_ac679a1b848b"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSMaster","uuid":"13b7dc33-639a-4b63-b6c2-bcbc40ad50d0"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"b16c665b-567e-4aa7-9c84-8c2c756dfe7c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9324c460_deployment","uuid":"d7e614ff-8146-4f9d-a296-ac679a1b848b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_13b7dc33_639a_4b63_b6c2_bcbc40ad50d0","uuid":"0abc5e52-5720-4f1b-b06f-9bcb8cbcb659"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Substrate_13b7dc33_639a_4b63_b6c2_bcbc40ad50d0"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"336c4654-742d-4a7d-b63b-788ef321f913","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9324c460_deployment","uuid":"d7e614ff-8146-4f9d-a296-ac679a1b848b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"c02553e2_runbook","uuid":"81959707-f27f-4259-a9b6-d4f736a28f5c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90"}],"description":"","message_list":[],"uuid":"7515331c-3365-4520-adcc-7bea3e6f2c24","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_d7e614ff_8146_4f9d_a296_ac679a1b848b","uuid":"d22c125d-2373-4b56-9ee9-202526355e3b"},"name":"SYS_GEN__Runbook_Deployment_d7e614ff_8146_4f9d_a296_ac679a1b848b"}},{"description":"System action for restarting an application","message_list":[],"uuid":"69d47209-a832-4c68-92af-85d04c09ad6d","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9324c460_deployment","uuid":"d7e614ff-8146-4f9d-a296-ac679a1b848b"},"retries":"0","description":"","type":"DAG","uuid":"43d87522-e391-4134-9250-6ff640698b4c","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_13b7dc33_639a_4b63_b6c2_bcbc40ad50d0","uuid":"0413ecbd-8eb7-4e88-a7e3-ae8f1e44ac9f"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"08ac9e5a-7272-4f58-ab22-fd5528a5a896"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_13b7dc33_639a_4b63_b6c2_bcbc40ad50d0","uuid":"0413ecbd-8eb7-4e88-a7e3-ae8f1e44ac9f"},"edge_type":"inherent","type":"","uuid":"e642e403-5c62-42ed-aee5-677966003d94","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"08ac9e5a-7272-4f58-ab22-fd5528a5a896"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_d7e614ff_8146_4f9d_a296_ac679a1b848b"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSMaster","uuid":"13b7dc33-639a-4b63-b6c2-bcbc40ad50d0"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"0413ecbd-8eb7-4e88-a7e3-ae8f1e44ac9f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9324c460_deployment","uuid":"d7e614ff-8146-4f9d-a296-ac679a1b848b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_13b7dc33_639a_4b63_b6c2_bcbc40ad50d0","uuid":"f4cfccd3-47bc-44a2-bb07-520c4801c8ca"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Substrate_13b7dc33_639a_4b63_b6c2_bcbc40ad50d0"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"08ac9e5a-7272-4f58-ab22-fd5528a5a896","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9324c460_deployment","uuid":"d7e614ff-8146-4f9d-a296-ac679a1b848b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"a9d9f266_runbook","uuid":"a32389b2-74a8-4a75-b897-c7158c11032e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90"}],"description":"","message_list":[],"uuid":"3ef95e3e-627f-4ab8-a6d4-3c4df927df6c","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_d7e614ff_8146_4f9d_a296_ac679a1b848b","uuid":"43d87522-e391-4134-9250-6ff640698b4c"},"name":"SYS_GEN__Runbook_Deployment_d7e614ff_8146_4f9d_a296_ac679a1b848b"}},{"description":"System action for stopping an application","message_list":[],"uuid":"0a771d99-1d83-499a-a305-2609ceb8d48d","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9324c460_deployment","uuid":"d7e614ff-8146-4f9d-a296-ac679a1b848b"},"retries":"0","description":"","type":"DAG","uuid":"b192d456-5210-4b71-805e-38d4dfae80db","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"f9c92461-db16-4136-95bf-dd0999e1e947"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_13b7dc33_639a_4b63_b6c2_bcbc40ad50d0","uuid":"7038dcf6-8d11-42f4-a886-5283c7ab838c"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"f9c92461-db16-4136-95bf-dd0999e1e947"},"edge_type":"inherent","type":"","uuid":"48ba1c9f-5283-4524-8d49-629c843ab880","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_13b7dc33_639a_4b63_b6c2_bcbc40ad50d0","uuid":"7038dcf6-8d11-42f4-a886-5283c7ab838c"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_d7e614ff_8146_4f9d_a296_ac679a1b848b"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"f9c92461-db16-4136-95bf-dd0999e1e947","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9324c460_deployment","uuid":"d7e614ff-8146-4f9d-a296-ac679a1b848b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"deb1443a_runbook","uuid":"86288a79-ba17-4500-a81a-1ed2afb6b9b8"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSMaster","uuid":"13b7dc33-639a-4b63-b6c2-bcbc40ad50d0"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"7038dcf6-8d11-42f4-a886-5283c7ab838c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9324c460_deployment","uuid":"d7e614ff-8146-4f9d-a296-ac679a1b848b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_13b7dc33_639a_4b63_b6c2_bcbc40ad50d0","uuid":"b71e8c55-2373-4e5a-b7d1-7fed21eff75f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Substrate_13b7dc33_639a_4b63_b6c2_bcbc40ad50d0"}],"description":"","message_list":[],"uuid":"10a2939b-285b-4bc4-8de5-8a05a346cfc3","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_d7e614ff_8146_4f9d_a296_ac679a1b848b","uuid":"b192d456-5210-4b71-805e-38d4dfae80db"},"name":"SYS_GEN__Runbook_Deployment_d7e614ff_8146_4f9d_a296_ac679a1b848b"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"36dcfbfe-466d-48ea-ab82-4a9085a20ec4","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9324c460_deployment","uuid":"d7e614ff-8146-4f9d-a296-ac679a1b848b"},"retries":"0","description":"","type":"DAG","uuid":"3f7f5bf5-5143-43b7-8271-560ae1f875ad","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"58b45919-c8fc-4fde-a3e0-0004df9c4bc8"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"8e7dde5a-a8c6-4cdf-ac08-112d3dfa27ad"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_5805d838_62cc_43fb_9302_ed138e4e1bed","uuid":"780e7a7d-1582-4a38-9323-f1ec7c8f6bdd"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_13b7dc33_639a_4b63_b6c2_bcbc40ad50d0","uuid":"c24dc612-3810-46f0-9c05-2186afd45770"},{"kind":"app_task","name":"SYS_GEN__DE_Delete_d7e614ff_8146_4f9d_a296_ac679a1b848b","uuid":"2f16b199-eafe-4aee-ba8e-8df58760f82d"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"58b45919-c8fc-4fde-a3e0-0004df9c4bc8"},"edge_type":"inherent","type":"","uuid":"0429445c-5414-4eee-bf0f-329f7f556b8e","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"8e7dde5a-a8c6-4cdf-ac08-112d3dfa27ad"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"8e7dde5a-a8c6-4cdf-ac08-112d3dfa27ad"},"edge_type":"inherent","type":"","uuid":"5845a600-fa64-428a-858b-cb681fd3d369","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_5805d838_62cc_43fb_9302_ed138e4e1bed","uuid":"780e7a7d-1582-4a38-9323-f1ec7c8f6bdd"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_5805d838_62cc_43fb_9302_ed138e4e1bed","uuid":"780e7a7d-1582-4a38-9323-f1ec7c8f6bdd"},"edge_type":"inherent","type":"","uuid":"60acd30f-a10b-45d5-ba43-9c51f749804c","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_13b7dc33_639a_4b63_b6c2_bcbc40ad50d0","uuid":"c24dc612-3810-46f0-9c05-2186afd45770"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_13b7dc33_639a_4b63_b6c2_bcbc40ad50d0","uuid":"c24dc612-3810-46f0-9c05-2186afd45770"},"edge_type":"inherent","type":"","uuid":"c4bf0bd6-8fbb-44c3-a4c6-388596072edc","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Delete_d7e614ff_8146_4f9d_a296_ac679a1b848b","uuid":"2f16b199-eafe-4aee-ba8e-8df58760f82d"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_d7e614ff_8146_4f9d_a296_ac679a1b848b"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"58b45919-c8fc-4fde-a3e0-0004df9c4bc8","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9324c460_deployment","uuid":"d7e614ff-8146-4f9d-a296-ac679a1b848b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"deb1443a_runbook","uuid":"86288a79-ba17-4500-a81a-1ed2afb6b9b8"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"8e7dde5a-a8c6-4cdf-ac08-112d3dfa27ad","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9324c460_deployment","uuid":"d7e614ff-8146-4f9d-a296-ac679a1b848b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"8ad650b2_runbook","uuid":"f31a5f00-62ad-4b57-8fbf-cd1f020f2bfc"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90"},{"target_any_local_reference":{"kind":"app_package","name":"AWSMasterPackage","uuid":"5805d838-62cc-43fb-9302-ed138e4e1bed"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"780e7a7d-1582-4a38-9323-f1ec7c8f6bdd","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9324c460_deployment","uuid":"d7e614ff-8146-4f9d-a296-ac679a1b848b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_5805d838_62cc_43fb_9302_ed138e4e1bed","uuid":"33114b2f-39fd-4f68-9ce8-5c63516073ee"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_5805d838_62cc_43fb_9302_ed138e4e1bed"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSMaster","uuid":"13b7dc33-639a-4b63-b6c2-bcbc40ad50d0"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"c24dc612-3810-46f0-9c05-2186afd45770","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9324c460_deployment","uuid":"d7e614ff-8146-4f9d-a296-ac679a1b848b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_13b7dc33_639a_4b63_b6c2_bcbc40ad50d0","uuid":"97f9cdf1-0f6c-4b5c-8e87-a2e9ea750d7d"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Substrate_13b7dc33_639a_4b63_b6c2_bcbc40ad50d0"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9324c460_deployment","uuid":"d7e614ff-8146-4f9d-a296-ac679a1b848b"},"retries":"0","description":"","type":"DELETE_DEPLOYMENT_ELEMENT","uuid":"2f16b199-eafe-4aee-ba8e-8df58760f82d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Delete_d7e614ff_8146_4f9d_a296_ac679a1b848b"}],"description":"","message_list":[],"uuid":"a88e2a83-1fbe-4ada-b9a8-3499ec33fb24","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_d7e614ff_8146_4f9d_a296_ac679a1b848b","uuid":"3f7f5bf5-5143-43b7-8271-560ae1f875ad"},"name":"SYS_GEN__Runbook_Deployment_d7e614ff_8146_4f9d_a296_ac679a1b848b"}},{"description":"System action for scaleout","message_list":[],"uuid":"fe212590-fa6a-44ad-b6fb-431f4d3f8136","name":"action_scaleout","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9324c460_deployment","uuid":"d7e614ff-8146-4f9d-a296-ac679a1b848b"},"retries":"0","description":"","type":"DAG","uuid":"762023fb-2765-44fd-9c9d-5e812c935ce1","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Deployment_Scaleout_d7e614ff_8146_4f9d_a296_ac679a1b848b","uuid":"55e0ab3d-946e-443f-b44b-a32a831afb51"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_d7e614ff_8146_4f9d_a296_ac679a1b848b"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9324c460_deployment","uuid":"d7e614ff-8146-4f9d-a296-ac679a1b848b"},"retries":"0","description":"","type":"SCALING","uuid":"55e0ab3d-946e-443f-b44b-a32a831afb51","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{scaling_count}@@","type":"","scaling_type":"SCALEOUT"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Deployment_Scaleout_d7e614ff_8146_4f9d_a296_ac679a1b848b"}],"description":"","message_list":[],"uuid":"36bd64ce-9920-441f-8b6f-5c84e9073020","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"c5e7577f-1299-4fd4-9a66-6a3c0a5419d4","value":"0","label":"","state":"NOT_VALIDATED","attrs":{},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"scaling_count"}],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_d7e614ff_8146_4f9d_a296_ac679a1b848b","uuid":"762023fb-2765-44fd-9c9d-5e812c935ce1"},"name":"SYS_GEN__Runbook_Deployment_d7e614ff_8146_4f9d_a296_ac679a1b848b"}},{"description":"System action for scalein","message_list":[],"uuid":"68236a94-6afd-4c32-80d1-bd38ae81c3dd","name":"action_scalein","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9324c460_deployment","uuid":"d7e614ff-8146-4f9d-a296-ac679a1b848b"},"retries":"0","description":"","type":"DAG","uuid":"cd973014-256f-48ed-b7d8-e4df14d460b4","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Deployment_Scalein_d7e614ff_8146_4f9d_a296_ac679a1b848b","uuid":"c227e23e-1cf4-4726-a427-64ea885f89dc"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_d7e614ff_8146_4f9d_a296_ac679a1b848b"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9324c460_deployment","uuid":"d7e614ff-8146-4f9d-a296-ac679a1b848b"},"retries":"0","description":"","type":"SCALING","uuid":"c227e23e-1cf4-4726-a427-64ea885f89dc","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{scaling_count}@@","type":"","scaling_type":"SCALEIN"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Deployment_Scalein_d7e614ff_8146_4f9d_a296_ac679a1b848b"}],"description":"","message_list":[],"uuid":"bd553f1f-c152-45f9-8c54-db3805551c09","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"f81115ee-9fe8-4ada-b820-cb492d9de347","value":"0","label":"","state":"NOT_VALIDATED","attrs":{},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"scaling_count"}],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_d7e614ff_8146_4f9d_a296_ac679a1b848b","uuid":"cd973014-256f-48ed-b7d8-e4df14d460b4"},"name":"SYS_GEN__Runbook_Deployment_d7e614ff_8146_4f9d_a296_ac679a1b848b"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"dc970519-8f71-47bd-8bf9-3b1e119c8f6f","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9324c460_deployment","uuid":"d7e614ff-8146-4f9d-a296-ac679a1b848b"},"retries":"0","description":"","type":"DAG","uuid":"f2fb7a29-aa32-4037-b849-d16d195e97aa","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"ca9dbc80-3fee-4c54-8a3e-038ab71ed123"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_5805d838_62cc_43fb_9302_ed138e4e1bed","uuid":"62ebd608-a0e1-471e-86f8-0b88c0f6261a"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_13b7dc33_639a_4b63_b6c2_bcbc40ad50d0","uuid":"5b1c2d96-fb24-469d-a77e-ae254030f652"},{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_d7e614ff_8146_4f9d_a296_ac679a1b848b","uuid":"c28a999a-791f-4a38-b8c1-376e28efc9d4"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"ca9dbc80-3fee-4c54-8a3e-038ab71ed123"},"edge_type":"inherent","type":"","uuid":"7ce987e4-7e7c-44ad-b45d-49ccb2253e65","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_5805d838_62cc_43fb_9302_ed138e4e1bed","uuid":"62ebd608-a0e1-471e-86f8-0b88c0f6261a"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_13b7dc33_639a_4b63_b6c2_bcbc40ad50d0","uuid":"5b1c2d96-fb24-469d-a77e-ae254030f652"},"edge_type":"inherent","type":"","uuid":"171a5f5e-b3f9-4840-a45e-845233fc436a","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_d7e614ff_8146_4f9d_a296_ac679a1b848b","uuid":"c28a999a-791f-4a38-b8c1-376e28efc9d4"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_5805d838_62cc_43fb_9302_ed138e4e1bed","uuid":"62ebd608-a0e1-471e-86f8-0b88c0f6261a"},"edge_type":"inherent","type":"","uuid":"ffe49f5b-ced1-4739-9799-21d976067f2f","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_13b7dc33_639a_4b63_b6c2_bcbc40ad50d0","uuid":"5b1c2d96-fb24-469d-a77e-ae254030f652"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_d7e614ff_8146_4f9d_a296_ac679a1b848b"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"ca9dbc80-3fee-4c54-8a3e-038ab71ed123","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9324c460_deployment","uuid":"d7e614ff-8146-4f9d-a296-ac679a1b848b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"92ba2635-e9da-48a5-8b58-7a4b4a61ffdf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90"},{"target_any_local_reference":{"kind":"app_package","name":"AWSMasterPackage","uuid":"5805d838-62cc-43fb-9302-ed138e4e1bed"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"62ebd608-a0e1-471e-86f8-0b88c0f6261a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_5805d838_62cc_43fb_9302_ed138e4e1bed"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSMaster","uuid":"13b7dc33-639a-4b63-b6c2-bcbc40ad50d0"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"5b1c2d96-fb24-469d-a77e-ae254030f652","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9324c460_deployment","uuid":"d7e614ff-8146-4f9d-a296-ac679a1b848b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_13b7dc33_639a_4b63_b6c2_bcbc40ad50d0","uuid":"6729c2f1-bcdf-46a0-a213-be1710e74cb2"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Substrate_13b7dc33_639a_4b63_b6c2_bcbc40ad50d0"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9324c460_deployment","uuid":"d7e614ff-8146-4f9d-a296-ac679a1b848b"},"retries":"0","description":"","type":"SOFT_DELETE_DEPLOYMENT_ELEMENT","uuid":"c28a999a-791f-4a38-b8c1-376e28efc9d4","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Soft_Delete_d7e614ff_8146_4f9d_a296_ac679a1b848b"}],"description":"","message_list":[],"uuid":"7a7a2ca3-def0-4521-b7d7-6c900dcd5c33","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_d7e614ff_8146_4f9d_a296_ac679a1b848b","uuid":"f2fb7a29-aa32-4037-b849-d16d195e97aa"},"name":"SYS_GEN__Runbook_Deployment_d7e614ff_8146_4f9d_a296_ac679a1b848b"}}],"message_list":[],"published_service_local_reference_list":[],"uuid":"d7e614ff-8146-4f9d-a296-ac679a1b848b","min_replicas":"1","state":"ACTIVE","max_replicas":"1","depends_on_list":[],"editables":{},"package_local_reference_list":[{"kind":"app_package","name":"AWSMasterPackage","uuid":"5805d838-62cc-43fb-9302-ed138e4e1bed"}],"substrate_local_reference":{"kind":"app_substrate","name":"AWSMaster","uuid":"13b7dc33-639a-4b63-b6c2-bcbc40ad50d0"},"type":"GREENFIELD","options":{},"variable_list":[],"name":"9324c460_deployment"},{"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"95902ff4-a96a-4917-a943-ca3b54392f93","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"847853f6_deployment","uuid":"a98e21d1-5356-4da8-a07b-b01123758b0f"},"retries":"0","description":"","type":"DAG","uuid":"4603d96b-f75f-46d5-92e9-d51db5259bd1","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__DE_Provision_a98e21d1_5356_4da8_a07b_b01123758b0f","uuid":"d5c16dc6-8d2f-489d-825e-3aaa07a3875f"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_13318462_4a00_45bb_91d5_d7e17d64cee0","uuid":"4a8e21a5-c673-4091-a89e-becf6259fa5c"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_33b12429_d141_480f_b38e_4d8083fcff5c","uuid":"f298880a-38ea-4728-ad3b-171ca32de903"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"459157a1-79f1-404a-8c9d-4ea0c17fc519"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"cd39966e-0e20-47c5-a3c7-a27d0897b0f2"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"459157a1-79f1-404a-8c9d-4ea0c17fc519"},"edge_type":"inherent","type":"","uuid":"61392dc2-7986-4e15-b5e3-c2c131ea55e3","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"cd39966e-0e20-47c5-a3c7-a27d0897b0f2"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_33b12429_d141_480f_b38e_4d8083fcff5c","uuid":"f298880a-38ea-4728-ad3b-171ca32de903"},"edge_type":"inherent","type":"","uuid":"f5714380-04ba-440b-87f7-65f2769d872f","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"459157a1-79f1-404a-8c9d-4ea0c17fc519"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_13318462_4a00_45bb_91d5_d7e17d64cee0","uuid":"4a8e21a5-c673-4091-a89e-becf6259fa5c"},"edge_type":"inherent","type":"","uuid":"cfdb38fe-a752-4e8d-b0e2-29d3c430f5fc","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_33b12429_d141_480f_b38e_4d8083fcff5c","uuid":"f298880a-38ea-4728-ad3b-171ca32de903"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_a98e21d1_5356_4da8_a07b_b01123758b0f","uuid":"d5c16dc6-8d2f-489d-825e-3aaa07a3875f"},"edge_type":"inherent","type":"","uuid":"7bc2d84e-60c9-4364-a1cd-d9983725f551","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_13318462_4a00_45bb_91d5_d7e17d64cee0","uuid":"4a8e21a5-c673-4091-a89e-becf6259fa5c"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_a98e21d1_5356_4da8_a07b_b01123758b0f"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"847853f6_deployment","uuid":"a98e21d1-5356-4da8-a07b-b01123758b0f"},"retries":"0","description":"","type":"CREATE_DEPLOYMENT_ELEMENT","uuid":"d5c16dc6-8d2f-489d-825e-3aaa07a3875f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Provision_a98e21d1_5356_4da8_a07b_b01123758b0f"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSSlave","uuid":"13318462-4a00-45bb-91d5-d7e17d64cee0"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"4a8e21a5-c673-4091-a89e-becf6259fa5c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"847853f6_deployment","uuid":"a98e21d1-5356-4da8-a07b-b01123758b0f"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_13318462_4a00_45bb_91d5_d7e17d64cee0","uuid":"715dc816-fb73-450d-8753-fa7d83ee83c6"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Substrate_13318462_4a00_45bb_91d5_d7e17d64cee0"},{"target_any_local_reference":{"kind":"app_package","name":"AWSSlavePackage","uuid":"33b12429-d141-480f-b38e-4d8083fcff5c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"f298880a-38ea-4728-ad3b-171ca32de903","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"847853f6_deployment","uuid":"a98e21d1-5356-4da8-a07b-b01123758b0f"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_33b12429_d141_480f_b38e_4d8083fcff5c","uuid":"e7adf737-a285-48c1-815a-c0c8d8737301"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_33b12429_d141_480f_b38e_4d8083fcff5c"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"459157a1-79f1-404a-8c9d-4ea0c17fc519","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"847853f6_deployment","uuid":"a98e21d1-5356-4da8-a07b-b01123758b0f"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"8f15e59d_runbook","uuid":"3c61d32f-d429-4292-b02b-abf0f370307a"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"cd39966e-0e20-47c5-a3c7-a27d0897b0f2","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"847853f6_deployment","uuid":"a98e21d1-5356-4da8-a07b-b01123758b0f"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"b34d9d39_runbook","uuid":"57a4c7a2-843d-4130-9f5d-51c6ed3ce4d5"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40"}],"description":"","message_list":[],"uuid":"84ea6d71-6406-44ef-8b0f-9a325d95cf98","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_a98e21d1_5356_4da8_a07b_b01123758b0f","uuid":"4603d96b-f75f-46d5-92e9-d51db5259bd1"},"name":"SYS_GEN__Runbook_Deployment_a98e21d1_5356_4da8_a07b_b01123758b0f"}},{"description":"System action for starting an application","message_list":[],"uuid":"391f1f8d-3675-4ecb-93fa-cdbd965ad5c6","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"847853f6_deployment","uuid":"a98e21d1-5356-4da8-a07b-b01123758b0f"},"retries":"0","description":"","type":"DAG","uuid":"6ac3da0b-ad99-4ae4-92f6-258e970eb6e3","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_13318462_4a00_45bb_91d5_d7e17d64cee0","uuid":"802b0076-14f4-4406-b981-cdfe308396f6"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"10cbea98-5a5d-4fe0-b955-f81ebc485b94"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_13318462_4a00_45bb_91d5_d7e17d64cee0","uuid":"802b0076-14f4-4406-b981-cdfe308396f6"},"edge_type":"inherent","type":"","uuid":"e96311d0-66c8-41b3-bf22-b40a64b11f76","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"10cbea98-5a5d-4fe0-b955-f81ebc485b94"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_a98e21d1_5356_4da8_a07b_b01123758b0f"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSSlave","uuid":"13318462-4a00-45bb-91d5-d7e17d64cee0"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"802b0076-14f4-4406-b981-cdfe308396f6","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"847853f6_deployment","uuid":"a98e21d1-5356-4da8-a07b-b01123758b0f"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_13318462_4a00_45bb_91d5_d7e17d64cee0","uuid":"980834d8-88ed-4789-8d1a-0c905cad9595"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Substrate_13318462_4a00_45bb_91d5_d7e17d64cee0"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"10cbea98-5a5d-4fe0-b955-f81ebc485b94","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"847853f6_deployment","uuid":"a98e21d1-5356-4da8-a07b-b01123758b0f"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"b34d9d39_runbook","uuid":"57a4c7a2-843d-4130-9f5d-51c6ed3ce4d5"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40"}],"description":"","message_list":[],"uuid":"d5c43431-f6de-4dd3-836c-62821de2f5af","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_a98e21d1_5356_4da8_a07b_b01123758b0f","uuid":"6ac3da0b-ad99-4ae4-92f6-258e970eb6e3"},"name":"SYS_GEN__Runbook_Deployment_a98e21d1_5356_4da8_a07b_b01123758b0f"}},{"description":"System action for restarting an application","message_list":[],"uuid":"57170157-2fd8-47de-8d74-863fa6081ff9","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"847853f6_deployment","uuid":"a98e21d1-5356-4da8-a07b-b01123758b0f"},"retries":"0","description":"","type":"DAG","uuid":"f72c1f65-481e-4498-8250-c44526e77197","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_13318462_4a00_45bb_91d5_d7e17d64cee0","uuid":"7e2885a8-9988-4fce-933c-94133b6f88b9"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"e36b4e94-9847-4664-8111-6cbf7180f5fc"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_13318462_4a00_45bb_91d5_d7e17d64cee0","uuid":"7e2885a8-9988-4fce-933c-94133b6f88b9"},"edge_type":"inherent","type":"","uuid":"fa55f1bb-1a5f-40cf-9a11-bad280c65ebf","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"e36b4e94-9847-4664-8111-6cbf7180f5fc"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_a98e21d1_5356_4da8_a07b_b01123758b0f"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSSlave","uuid":"13318462-4a00-45bb-91d5-d7e17d64cee0"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"7e2885a8-9988-4fce-933c-94133b6f88b9","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"847853f6_deployment","uuid":"a98e21d1-5356-4da8-a07b-b01123758b0f"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_13318462_4a00_45bb_91d5_d7e17d64cee0","uuid":"de7c4668-b897-4859-b2bd-6cd8f7a24cf3"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Substrate_13318462_4a00_45bb_91d5_d7e17d64cee0"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"e36b4e94-9847-4664-8111-6cbf7180f5fc","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"847853f6_deployment","uuid":"a98e21d1-5356-4da8-a07b-b01123758b0f"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"c1c4eebd_runbook","uuid":"bea78664-aea0-4d1f-b708-8ef876af38d5"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40"}],"description":"","message_list":[],"uuid":"79587b4b-3ae2-4637-934f-d3d7a1bf882b","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_a98e21d1_5356_4da8_a07b_b01123758b0f","uuid":"f72c1f65-481e-4498-8250-c44526e77197"},"name":"SYS_GEN__Runbook_Deployment_a98e21d1_5356_4da8_a07b_b01123758b0f"}},{"description":"System action for stopping an application","message_list":[],"uuid":"06d15b2f-24c9-4515-8fe8-0efea4b8030a","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"847853f6_deployment","uuid":"a98e21d1-5356-4da8-a07b-b01123758b0f"},"retries":"0","description":"","type":"DAG","uuid":"a39c298b-a8ee-4c02-a8e0-ca0b75385b9f","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"0ffaf667-9b15-49ee-98f8-0f8beb21c2ef"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_13318462_4a00_45bb_91d5_d7e17d64cee0","uuid":"8cfb1242-2746-42a7-9f2e-b73270580b71"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"0ffaf667-9b15-49ee-98f8-0f8beb21c2ef"},"edge_type":"inherent","type":"","uuid":"0688e8ea-dc01-493b-acf4-3992617fbf13","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_13318462_4a00_45bb_91d5_d7e17d64cee0","uuid":"8cfb1242-2746-42a7-9f2e-b73270580b71"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_a98e21d1_5356_4da8_a07b_b01123758b0f"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"0ffaf667-9b15-49ee-98f8-0f8beb21c2ef","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"847853f6_deployment","uuid":"a98e21d1-5356-4da8-a07b-b01123758b0f"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0e2bd4c9_runbook","uuid":"8e29699f-df44-4802-8ae9-689322c6575c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSSlave","uuid":"13318462-4a00-45bb-91d5-d7e17d64cee0"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"8cfb1242-2746-42a7-9f2e-b73270580b71","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"847853f6_deployment","uuid":"a98e21d1-5356-4da8-a07b-b01123758b0f"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_13318462_4a00_45bb_91d5_d7e17d64cee0","uuid":"9736aba6-e50b-4830-a4a1-863f4ae75d66"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Substrate_13318462_4a00_45bb_91d5_d7e17d64cee0"}],"description":"","message_list":[],"uuid":"2f7b9758-99a9-439b-b458-89f971d69307","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_a98e21d1_5356_4da8_a07b_b01123758b0f","uuid":"a39c298b-a8ee-4c02-a8e0-ca0b75385b9f"},"name":"SYS_GEN__Runbook_Deployment_a98e21d1_5356_4da8_a07b_b01123758b0f"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"1fdf30a1-96c5-43aa-8dbe-8eb7728e2901","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"847853f6_deployment","uuid":"a98e21d1-5356-4da8-a07b-b01123758b0f"},"retries":"0","description":"","type":"DAG","uuid":"2e8e2ed1-1178-4f50-905b-fe8513503203","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"c4c55db4-d1d3-49f1-8c0e-a01a99799ee5"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"26116ec0-f66b-4902-a070-88b64ccdadbc"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_33b12429_d141_480f_b38e_4d8083fcff5c","uuid":"96599337-93d9-4d9b-85c3-a0519975016e"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_13318462_4a00_45bb_91d5_d7e17d64cee0","uuid":"2b759b67-be3a-47af-b18b-818da7a71e7c"},{"kind":"app_task","name":"SYS_GEN__DE_Delete_a98e21d1_5356_4da8_a07b_b01123758b0f","uuid":"378fe8ba-8374-4029-9efc-371fd2e16ea0"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"c4c55db4-d1d3-49f1-8c0e-a01a99799ee5"},"edge_type":"inherent","type":"","uuid":"37180217-ce33-4949-82d2-0b4bdea79c61","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"26116ec0-f66b-4902-a070-88b64ccdadbc"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"26116ec0-f66b-4902-a070-88b64ccdadbc"},"edge_type":"inherent","type":"","uuid":"5fe256b2-0e8b-4e89-b902-60172137ddbe","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_33b12429_d141_480f_b38e_4d8083fcff5c","uuid":"96599337-93d9-4d9b-85c3-a0519975016e"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_33b12429_d141_480f_b38e_4d8083fcff5c","uuid":"96599337-93d9-4d9b-85c3-a0519975016e"},"edge_type":"inherent","type":"","uuid":"1f21e31a-aa34-4509-a78a-f03efb77b656","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_13318462_4a00_45bb_91d5_d7e17d64cee0","uuid":"2b759b67-be3a-47af-b18b-818da7a71e7c"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_13318462_4a00_45bb_91d5_d7e17d64cee0","uuid":"2b759b67-be3a-47af-b18b-818da7a71e7c"},"edge_type":"inherent","type":"","uuid":"c5e87c53-27ac-4a98-b282-9a670118a09e","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Delete_a98e21d1_5356_4da8_a07b_b01123758b0f","uuid":"378fe8ba-8374-4029-9efc-371fd2e16ea0"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_a98e21d1_5356_4da8_a07b_b01123758b0f"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"c4c55db4-d1d3-49f1-8c0e-a01a99799ee5","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"847853f6_deployment","uuid":"a98e21d1-5356-4da8-a07b-b01123758b0f"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0e2bd4c9_runbook","uuid":"8e29699f-df44-4802-8ae9-689322c6575c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"26116ec0-f66b-4902-a070-88b64ccdadbc","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"847853f6_deployment","uuid":"a98e21d1-5356-4da8-a07b-b01123758b0f"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"08946714_runbook","uuid":"005a7fbe-7426-4c75-aa02-8ca0b1db5dbb"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40"},{"target_any_local_reference":{"kind":"app_package","name":"AWSSlavePackage","uuid":"33b12429-d141-480f-b38e-4d8083fcff5c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"96599337-93d9-4d9b-85c3-a0519975016e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"847853f6_deployment","uuid":"a98e21d1-5356-4da8-a07b-b01123758b0f"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_33b12429_d141_480f_b38e_4d8083fcff5c","uuid":"56cb320e-9131-407c-80a2-73fb250b2294"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_33b12429_d141_480f_b38e_4d8083fcff5c"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSSlave","uuid":"13318462-4a00-45bb-91d5-d7e17d64cee0"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"2b759b67-be3a-47af-b18b-818da7a71e7c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"847853f6_deployment","uuid":"a98e21d1-5356-4da8-a07b-b01123758b0f"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_13318462_4a00_45bb_91d5_d7e17d64cee0","uuid":"8060112d-c37f-4493-9984-769eecc53e1e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Substrate_13318462_4a00_45bb_91d5_d7e17d64cee0"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"847853f6_deployment","uuid":"a98e21d1-5356-4da8-a07b-b01123758b0f"},"retries":"0","description":"","type":"DELETE_DEPLOYMENT_ELEMENT","uuid":"378fe8ba-8374-4029-9efc-371fd2e16ea0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Delete_a98e21d1_5356_4da8_a07b_b01123758b0f"}],"description":"","message_list":[],"uuid":"5e54ee8a-a0ce-4c9a-8eae-eac9d1d75b23","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_a98e21d1_5356_4da8_a07b_b01123758b0f","uuid":"2e8e2ed1-1178-4f50-905b-fe8513503203"},"name":"SYS_GEN__Runbook_Deployment_a98e21d1_5356_4da8_a07b_b01123758b0f"}},{"description":"System action for scaleout","message_list":[],"uuid":"a77b51b6-05a4-4670-b894-3b805837bb1a","name":"action_scaleout","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"847853f6_deployment","uuid":"a98e21d1-5356-4da8-a07b-b01123758b0f"},"retries":"0","description":"","type":"DAG","uuid":"d7600c26-6849-48d1-9568-27eda11896db","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Deployment_Scaleout_a98e21d1_5356_4da8_a07b_b01123758b0f","uuid":"aa396fb7-e391-4149-b911-7d56a57c8cd5"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_a98e21d1_5356_4da8_a07b_b01123758b0f"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"847853f6_deployment","uuid":"a98e21d1-5356-4da8-a07b-b01123758b0f"},"retries":"0","description":"","type":"SCALING","uuid":"aa396fb7-e391-4149-b911-7d56a57c8cd5","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{scaling_count}@@","type":"","scaling_type":"SCALEOUT"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Deployment_Scaleout_a98e21d1_5356_4da8_a07b_b01123758b0f"}],"description":"","message_list":[],"uuid":"7978acb3-1f5e-4129-a122-ec7f5bd7f6dd","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"25ecd2b3-f3c7-4dae-97c9-15154daf4cc9","value":"0","label":"","state":"NOT_VALIDATED","attrs":{},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"scaling_count"}],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_a98e21d1_5356_4da8_a07b_b01123758b0f","uuid":"d7600c26-6849-48d1-9568-27eda11896db"},"name":"SYS_GEN__Runbook_Deployment_a98e21d1_5356_4da8_a07b_b01123758b0f"}},{"description":"System action for scalein","message_list":[],"uuid":"56e0f20d-be73-48f6-88ed-7fe5859c4f38","name":"action_scalein","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"847853f6_deployment","uuid":"a98e21d1-5356-4da8-a07b-b01123758b0f"},"retries":"0","description":"","type":"DAG","uuid":"a23b71b2-acce-47a2-b72f-eb8b90ca9643","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Deployment_Scalein_a98e21d1_5356_4da8_a07b_b01123758b0f","uuid":"4f696878-6a88-4174-9b89-f36faf5c5a0a"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_a98e21d1_5356_4da8_a07b_b01123758b0f"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"847853f6_deployment","uuid":"a98e21d1-5356-4da8-a07b-b01123758b0f"},"retries":"0","description":"","type":"SCALING","uuid":"4f696878-6a88-4174-9b89-f36faf5c5a0a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{scaling_count}@@","type":"","scaling_type":"SCALEIN"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Deployment_Scalein_a98e21d1_5356_4da8_a07b_b01123758b0f"}],"description":"","message_list":[],"uuid":"652b047f-2f8a-4850-96b2-8d3e7d4ac235","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"95beb00f-1017-4848-aee2-fb1ea3984e09","value":"0","label":"","state":"NOT_VALIDATED","attrs":{},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"scaling_count"}],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_a98e21d1_5356_4da8_a07b_b01123758b0f","uuid":"a23b71b2-acce-47a2-b72f-eb8b90ca9643"},"name":"SYS_GEN__Runbook_Deployment_a98e21d1_5356_4da8_a07b_b01123758b0f"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"e268da08-5e9e-4c0a-8a85-7ccfc68f7695","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"847853f6_deployment","uuid":"a98e21d1-5356-4da8-a07b-b01123758b0f"},"retries":"0","description":"","type":"DAG","uuid":"5c028bcb-961a-43de-906c-ee1edf3128cf","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"a1c25ecc-fcf7-46ce-a1e1-5895e856b9d6"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_33b12429_d141_480f_b38e_4d8083fcff5c","uuid":"4122ac0b-fd77-4503-abcb-8e483616f73f"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_13318462_4a00_45bb_91d5_d7e17d64cee0","uuid":"4677c4b3-a7ab-4e11-8723-56442cb8a2ca"},{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_a98e21d1_5356_4da8_a07b_b01123758b0f","uuid":"76210dfc-3740-4159-ab7e-53406ce7d158"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"a1c25ecc-fcf7-46ce-a1e1-5895e856b9d6"},"edge_type":"inherent","type":"","uuid":"8d7a6b21-c0b1-411e-9cff-5713fe87ba17","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_33b12429_d141_480f_b38e_4d8083fcff5c","uuid":"4122ac0b-fd77-4503-abcb-8e483616f73f"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_33b12429_d141_480f_b38e_4d8083fcff5c","uuid":"4122ac0b-fd77-4503-abcb-8e483616f73f"},"edge_type":"inherent","type":"","uuid":"8b8ae159-290a-4379-95ce-5ae565f7d8a2","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_13318462_4a00_45bb_91d5_d7e17d64cee0","uuid":"4677c4b3-a7ab-4e11-8723-56442cb8a2ca"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_13318462_4a00_45bb_91d5_d7e17d64cee0","uuid":"4677c4b3-a7ab-4e11-8723-56442cb8a2ca"},"edge_type":"inherent","type":"","uuid":"13597984-9697-4674-a6fe-a70d2617a2e6","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_a98e21d1_5356_4da8_a07b_b01123758b0f","uuid":"76210dfc-3740-4159-ab7e-53406ce7d158"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_a98e21d1_5356_4da8_a07b_b01123758b0f"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"a1c25ecc-fcf7-46ce-a1e1-5895e856b9d6","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"847853f6_deployment","uuid":"a98e21d1-5356-4da8-a07b-b01123758b0f"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"febe47f3-782b-40c3-abcb-ce825626516f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40"},{"target_any_local_reference":{"kind":"app_package","name":"AWSSlavePackage","uuid":"33b12429-d141-480f-b38e-4d8083fcff5c"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"4122ac0b-fd77-4503-abcb-8e483616f73f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_33b12429_d141_480f_b38e_4d8083fcff5c"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSSlave","uuid":"13318462-4a00-45bb-91d5-d7e17d64cee0"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"4677c4b3-a7ab-4e11-8723-56442cb8a2ca","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"847853f6_deployment","uuid":"a98e21d1-5356-4da8-a07b-b01123758b0f"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_13318462_4a00_45bb_91d5_d7e17d64cee0","uuid":"f211cd2f-b5c7-4252-90cd-a7752ea4e5f9"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Substrate_13318462_4a00_45bb_91d5_d7e17d64cee0"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"847853f6_deployment","uuid":"a98e21d1-5356-4da8-a07b-b01123758b0f"},"retries":"0","description":"","type":"SOFT_DELETE_DEPLOYMENT_ELEMENT","uuid":"76210dfc-3740-4159-ab7e-53406ce7d158","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Soft_Delete_a98e21d1_5356_4da8_a07b_b01123758b0f"}],"description":"","message_list":[],"uuid":"0d42ce71-ae07-4381-8ef9-ce3ce6cd1645","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_a98e21d1_5356_4da8_a07b_b01123758b0f","uuid":"5c028bcb-961a-43de-906c-ee1edf3128cf"},"name":"SYS_GEN__Runbook_Deployment_a98e21d1_5356_4da8_a07b_b01123758b0f"}}],"message_list":[],"published_service_local_reference_list":[],"uuid":"a98e21d1-5356-4da8-a07b-b01123758b0f","min_replicas":"2","state":"ACTIVE","max_replicas":"4","depends_on_list":[],"editables":{"min_replicas":true,"max_replicas":true},"package_local_reference_list":[{"kind":"app_package","name":"AWSSlavePackage","uuid":"33b12429-d141-480f-b38e-4d8083fcff5c"}],"substrate_local_reference":{"kind":"app_substrate","name":"AWSSlave","uuid":"13318462-4a00-45bb-91d5-d7e17d64cee0"},"type":"GREENFIELD","options":{},"variable_list":[],"name":"847853f6_deployment"}],"description":"","action_list":[{"description":"Take DB backup. \nDB_NAME : Name of DB to be backup\nBACKUP_FILE_PATH : Absolute directory path for backup file","message_list":[],"uuid":"0e6a5806-8544-4033-bbe2-4662a7efd055","name":"Backup","state":"ACTIVE","critical":false,"attrs":{},"type":"user","runbook":{"task_definition_list":[{"retries":"0","description":"","type":"DAG","uuid":"2be3d3b6-9667-46de-baa2-4f6725111d85","child_tasks_local_reference_list":[{"kind":"app_task","name":"DoDBBackup","uuid":"c6d5d984-37ce-43e1-b931-7ff9035e883c"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"f08186ce_dag"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"EXEC","uuid":"c6d5d984-37ce-43e1-b931-7ff9035e883c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\ndb_name=\"@@{DB_NAME}@@\"\nbackup_file_path=\"@@{BACKUP_FILE_PATH}@@\"\n\nsudo su - postgres bash -c \"pg_dump ${db_name} | gzip > ${backup_file_path}\"","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"DoDBBackup"}],"description":"","message_list":[],"uuid":"a48b946a-b109-42a8-a6c3-bcb2ec033ab6","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"f6639189-90a9-4737-8823-cc40035c64a1","value":"postgres","label":"","state":"ACTIVE","attrs":{},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"DB_NAME"},{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"e20b751c-a1db-4490-9deb-c6c0f51aa1dd","value":"~\/db.backup","label":"","state":"ACTIVE","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"BACKUP_FILE_PATH"}],"main_task_local_reference":{"kind":"app_task","name":"f08186ce_dag","uuid":"2be3d3b6-9667-46de-baa2-4f6725111d85"},"name":"445ac6f7_runbook"}},{"description":"Restore DB from dump file\nDB_NAME : Name of DB to be backup\nRESTORE_FILE_PATH : Absolute directory path for restore file","message_list":[],"uuid":"f2fcf8a2-87dd-46ee-9152-db9a9633e84d","name":"Restore","state":"ACTIVE","critical":false,"attrs":{},"type":"user","runbook":{"task_definition_list":[{"retries":"0","description":"","type":"DAG","uuid":"0e8bd500-ec4e-4b62-ad19-949ad83df984","child_tasks_local_reference_list":[{"kind":"app_task","name":"DoDBRestore","uuid":"d7bf1f09-0fdb-4951-b842-3f8be5d6bd5f"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"b0d76aa3_dag"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"EXEC","uuid":"d7bf1f09-0fdb-4951-b842-3f8be5d6bd5f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\ndb_name=\"@@{DB_NAME}@@\"\nrestore_file_path=\"@@{RESTORE_FILE_PATH}@@\"\n\nsudo su - postgres bash -c \"gunzip -c ${restore_file_path} | psql ${db_name}\"","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"DoDBRestore"}],"description":"","message_list":[],"uuid":"6eb4ebc0-4d26-41dc-a6df-d68b9162430b","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"12bf1aae-2018-4b1d-923a-9dac40f9afba","value":"postgres","label":"","state":"ACTIVE","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"DB_NAME"},{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"0c058eed-db21-40f9-866a-d98e7e048aeb","value":"~\/db.backup","label":"","state":"ACTIVE","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"RESTORE_FILE_PATH"}],"main_task_local_reference":{"kind":"app_task","name":"b0d76aa3_dag","uuid":"0e8bd500-ec4e-4b62-ad19-949ad83df984"},"name":"7f902a78_runbook"}},{"description":"","message_list":[],"uuid":"be4303b5-a881-4a65-a377-194b73dd9125","name":"Scale Out","state":"ACTIVE","critical":false,"attrs":{},"type":"user","runbook":{"task_definition_list":[{"retries":"0","description":"","type":"DAG","uuid":"3cd637a4-765c-4738-bae4-1f6e0b64e819","child_tasks_local_reference_list":[{"kind":"app_task","name":"Scale Out Slaves","uuid":"7d7c771b-646e-4bd9-b9f8-8b9991ed70e4"},{"kind":"app_task","name":"Configure Master","uuid":"5c9c2405-87a7-4647-afbe-a2b7de5e17e8"},{"kind":"app_task","name":"Configure Slave","uuid":"5247c808-38b2-4bdb-a52e-d7e33c416263"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Scale Out Slaves","uuid":"7d7c771b-646e-4bd9-b9f8-8b9991ed70e4"},"edge_type":"user_defined","type":"","uuid":"83b9f203-91a4-4edf-a1ec-5883b5f5c610","to_task_reference":{"kind":"app_task","name":"Configure Master","uuid":"5c9c2405-87a7-4647-afbe-a2b7de5e17e8"}},{"from_task_reference":{"kind":"app_task","name":"Scale Out Slaves","uuid":"7d7c771b-646e-4bd9-b9f8-8b9991ed70e4"},"edge_type":"user_defined","type":"","uuid":"a6b6f3d2-5316-456e-a1f7-90abc9a3ab25","to_task_reference":{"kind":"app_task","name":"Configure Slave","uuid":"5247c808-38b2-4bdb-a52e-d7e33c416263"}},{"from_task_reference":{"kind":"app_task","name":"Configure Master","uuid":"5c9c2405-87a7-4647-afbe-a2b7de5e17e8"},"edge_type":"user_defined","type":"","uuid":"b7d1c4a1-b0ac-4739-8c7a-c846a69d7e97","to_task_reference":{"kind":"app_task","name":"Configure Slave","uuid":"5247c808-38b2-4bdb-a52e-d7e33c416263"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"0d1fc8f9_dag"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"847853f6_deployment","uuid":"a98e21d1-5356-4da8-a07b-b01123758b0f"},"retries":"0","description":"","type":"SCALING","uuid":"7d7c771b-646e-4bd9-b9f8-8b9991ed70e4","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"1","type":"","scaling_type":"SCALEOUT"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Scale Out Slaves"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"EXEC","uuid":"5c9c2405-87a7-4647-afbe-a2b7de5e17e8","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\nSlaves=($(echo @@{AWSSlave.address}@@ | sed 's\/^,\/\/' | sed 's\/,$\/\/' | tr \",\" \" \")) \n\n\necho \"host    replication     rep     ${Slaves[-1]}\/32     md5\" | sudo tee -a \/var\/lib\/pgsql\/9.6\/data\/pg_hba.conf\n\nsudo -i -u postgres \/usr\/pgsql-9.6\/bin\/pg_ctl reload;\n\nsleep 20\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Configure Master"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"EXEC","uuid":"5247c808-38b2-4bdb-a52e-d7e33c416263","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\nSlaves=($(echo @@{Postgres_Slave.address}@@ | sed 's\/^,\/\/' | sed 's\/,$\/\/' | tr \",\" \" \"))    \nScaleout_IP=${Slaves[-1]}\n\nif [ \"${Scaleout_IP}\" != \"@@{address}@@\" ]\nthen\n\texit 0;\nfi\n\nMaster_IP=@@{AWSMaster.address}@@\n\nsudo systemctl stop postgresql-9.6\nsleep 2;\n\nsudo su - postgres <<EOF\n  mv 9.6\/data 9.6\/data.org\n  echo \"${Master_IP}:5432:*:rep:@@{DB_PASSWORD}@@\" > ~\/.pgpass\n  chmod 0600 ~\/.pgpass\n  pg_basebackup -h ${Master_IP} -D \/var\/lib\/pgsql\/9.6\/data -U rep -v -P\nEOF\n\n\n##copy the created postgres directory to a temp directory\nsudo mkdir \/tmp\/pgsql\nsudo mv \/var\/lib\/pgsql\/9.6\/data \/tmp\/pgsql\n\n#Create directory , fix permissions and Mount LVM\nsudo mkdir \/var\/lib\/pgsql\/9.6\/data\/\nsudo mount -o noatime,barrier=0 \/dev\/pgDataVG\/pgDataLV \/var\/lib\/pgsql\/9.6\/data\/ \n\nsudo mkdir \/var\/lib\/pgsql\/9.6\/data\/pg_xlog\nsudo mount -o noatime,barrier=0 \/dev\/pgLogVG\/pgLogLV \/var\/lib\/pgsql\/9.6\/data\/pg_xlog\n\nsudo chown -R postgres:postgres \/var\/lib\/pgsql\/9.6\/data\/\n\n#move the xlog to the new LVM\nsudo find \/tmp\/pgsql\/data\/pg_xlog -maxdepth 1 -mindepth 1 -exec mv -t \/var\/lib\/pgsql\/9.6\/data\/pg_xlog\/ {} +\n\n#remove pg_xlog from temp dir to avoid being copied again\nsudo rm -rf \/tmp\/pgsql\/data\/pg_xlog\n\n#move the pgsql directory to the LVM\nsudo find \/tmp\/pgsql\/data -maxdepth 1 -mindepth 1 -exec mv -t \/var\/lib\/pgsql\/9.6\/data\/ {} +\n\nsudo chmod -R 0700 \/var\/lib\/pgsql\/9.6\/data\n\n#enable service on boot\nsudo systemctl enable postgresql-9.6.service\n\n#add mount points to \/etc\/fstab\necho \"\/dev\/mapper\/pgDataVG-pgDataLV \/var\/lib\/pgsql\/9.6\/data ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\necho \"\/dev\/mapper\/pgLogVG-pgLogLV \/var\/lib\/pgsql\/9.6\/data\/pg_xlog ext4 rw,seclabel,noatime,nobarrier,stripe=2048,data=ordered 0 0\" | sudo tee -a  \/etc\/fstab\n\n\nsleep 2\nsudo sed -i -e 's\/ExecStart=.*\/ExecStart=\\\/usr\\\/pgsql-9\\.6\\\/bin\\\/pg_ctl start -D ${PGDATA} -s -W -t 300\/g' \/usr\/lib\/systemd\/system\/postgresql-9.6.service\n\necho \"host    replication     rep     ${Master_IP}\/32     md5\" | sudo tee -a \/var\/lib\/pgsql\/9.6\/data\/pg_hba.conf\necho \"listen_addresses = '*'\nwal_level = 'hot_standby'\narchive_mode = on\narchive_command = 'cd .'\nmax_wal_senders = 3\nhot_standby = on\nwal_keep_segments = 8\" | sudo tee -a \/var\/lib\/pgsql\/9.6\/data\/postgresql.conf\n\nsudo su - postgres sh -c \"touch 9.6\/data\/recovery.conf\"\n\necho \"standby_mode = 'on'\nprimary_conninfo = 'host=${Master_IP} port=5432 user=rep password=@@{DB_PASSWORD}@@'\ntrigger_file = '\/tmp\/postgresql.trigger.5432'\" | sudo tee -a \/var\/lib\/pgsql\/9.6\/data\/recovery.conf\n\nsudo systemctl start postgresql-9.6","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Configure Slave"}],"description":"","message_list":[],"uuid":"59a79877-491a-46c2-85bd-92566dd0a9dd","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"40d47b80-0808-42c2-8539-b6655705670e","value":"YES","label":"","state":"ACTIVE","attrs":{"type":""},"editables":{},"is_hidden":false,"type":"LOCAL","options":{},"name":"IS_SCALEOUT"}],"main_task_local_reference":{"kind":"app_task","name":"0d1fc8f9_dag","uuid":"3cd637a4-765c-4738-bae4-1f6e0b64e819"},"name":"6597cf64_runbook"}},{"description":"","message_list":[],"uuid":"0414975a-823b-4411-bbf9-ff65530cb980","name":"Scale In","state":"ACTIVE","critical":false,"attrs":{},"type":"user","runbook":{"task_definition_list":[{"retries":"0","description":"","type":"DAG","uuid":"8a158004-0104-4f0c-85f9-27c20e26cf3b","child_tasks_local_reference_list":[{"kind":"app_task","name":"Scale In Slaves","uuid":"f44703f4-c0a9-4703-924d-35463b9cd6d0"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"76522443_dag"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"847853f6_deployment","uuid":"a98e21d1-5356-4da8-a07b-b01123758b0f"},"retries":"0","description":"","type":"SCALING","uuid":"f44703f4-c0a9-4703-924d-35463b9cd6d0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"1","type":"","scaling_type":"SCALEIN"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Scale In Slaves"}],"description":"","message_list":[],"uuid":"8bd6c48b-35f4-47ce-876c-2414bd947d80","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"76522443_dag","uuid":"8a158004-0104-4f0c-85f9-27c20e26cf3b"},"name":"6d5e6d9f_runbook"}},{"description":"System action for creating an application","message_list":[],"uuid":"8b7d4235-4da3-48dc-8cea-4d17eb232f2d","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"AWS","uuid":"cb840422-c8bc-4b33-a703-db8991ed9539"},"retries":"0","description":"","type":"DAG","uuid":"3b1f0e54-b7a9-4e30-adb7-be9460540c6b","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__DE_Provision_d7e614ff_8146_4f9d_a296_ac679a1b848b","uuid":"7b82de8f-fe83-419c-bfd2-e61512be3a6f"},{"kind":"app_task","name":"SYS_GEN__DE_Provision_a98e21d1_5356_4da8_a07b_b01123758b0f","uuid":"4011c540-df45-4284-b7f9-f22a71d091ac"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_13b7dc33_639a_4b63_b6c2_bcbc40ad50d0","uuid":"315b0a0c-6444-486e-aaf3-f805a3d33b08"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_13318462_4a00_45bb_91d5_d7e17d64cee0","uuid":"cce2fe10-d11d-4614-ab5f-31f11b129ad1"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_5805d838_62cc_43fb_9302_ed138e4e1bed","uuid":"54fc3c0f-7e9e-4a16-b2bd-a81587143423"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_33b12429_d141_480f_b38e_4d8083fcff5c","uuid":"336b2586-dea3-4da7-a9b0-eae44aca69d4"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"07b32250-60e2-4401-a48d-2292c5bc1a0c"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"f72c536a-fcf3-41f8-a8e8-264296650b06"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"2c0c8a4b-9e88-4b41-9dbb-e5d8978b2510"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"67c9511b-d967-44d3-912e-20f3fb876dbc"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"2c0c8a4b-9e88-4b41-9dbb-e5d8978b2510"},"edge_type":"inherent","type":"","uuid":"06d46413-818f-455d-ad89-705ef5bad733","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"67c9511b-d967-44d3-912e-20f3fb876dbc"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_33b12429_d141_480f_b38e_4d8083fcff5c","uuid":"336b2586-dea3-4da7-a9b0-eae44aca69d4"},"edge_type":"inherent","type":"","uuid":"d4f9b628-3b29-451c-8256-fecbe90f2585","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"2c0c8a4b-9e88-4b41-9dbb-e5d8978b2510"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_13318462_4a00_45bb_91d5_d7e17d64cee0","uuid":"cce2fe10-d11d-4614-ab5f-31f11b129ad1"},"edge_type":"inherent","type":"","uuid":"a4e86317-23b4-4c6f-94fb-1497a7cf6c1d","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_33b12429_d141_480f_b38e_4d8083fcff5c","uuid":"336b2586-dea3-4da7-a9b0-eae44aca69d4"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_a98e21d1_5356_4da8_a07b_b01123758b0f","uuid":"4011c540-df45-4284-b7f9-f22a71d091ac"},"edge_type":"inherent","type":"","uuid":"2d56e13c-949b-4f92-bbb0-c3aeaba8e090","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_13318462_4a00_45bb_91d5_d7e17d64cee0","uuid":"cce2fe10-d11d-4614-ab5f-31f11b129ad1"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"07b32250-60e2-4401-a48d-2292c5bc1a0c"},"edge_type":"inherent","type":"","uuid":"1a74debf-fa0a-4970-9e1b-3190b0ca7917","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"f72c536a-fcf3-41f8-a8e8-264296650b06"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_5805d838_62cc_43fb_9302_ed138e4e1bed","uuid":"54fc3c0f-7e9e-4a16-b2bd-a81587143423"},"edge_type":"inherent","type":"","uuid":"80c8c070-c330-4134-9a51-91f4e0f7feda","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"07b32250-60e2-4401-a48d-2292c5bc1a0c"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_d7e614ff_8146_4f9d_a296_ac679a1b848b","uuid":"7b82de8f-fe83-419c-bfd2-e61512be3a6f"},"edge_type":"inherent","type":"","uuid":"e9c8791b-9381-4e0e-a923-99fb2d4790fc","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_13b7dc33_639a_4b63_b6c2_bcbc40ad50d0","uuid":"315b0a0c-6444-486e-aaf3-f805a3d33b08"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_13b7dc33_639a_4b63_b6c2_bcbc40ad50d0","uuid":"315b0a0c-6444-486e-aaf3-f805a3d33b08"},"edge_type":"inherent","type":"","uuid":"c8af8827-be74-4b38-a969-97ca933ac10c","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_5805d838_62cc_43fb_9302_ed138e4e1bed","uuid":"54fc3c0f-7e9e-4a16-b2bd-a81587143423"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"f72c536a-fcf3-41f8-a8e8-264296650b06"},"edge_type":"depends_on","type":"","uuid":"683086ac-76d3-497d-b036-d3653df901cb","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"2c0c8a4b-9e88-4b41-9dbb-e5d8978b2510"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_13b7dc33_639a_4b63_b6c2_bcbc40ad50d0","uuid":"315b0a0c-6444-486e-aaf3-f805a3d33b08"},"edge_type":"dependency","type":"","uuid":"bdda6180-1794-4cbb-8c4c-a44e8b4854ff","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"2c0c8a4b-9e88-4b41-9dbb-e5d8978b2510"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_13318462_4a00_45bb_91d5_d7e17d64cee0","uuid":"cce2fe10-d11d-4614-ab5f-31f11b129ad1"},"edge_type":"dependency","type":"","uuid":"95f94f6e-533a-4331-8341-ee023117c606","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"07b32250-60e2-4401-a48d-2292c5bc1a0c"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_cb840422_c8bc_4b33_a703_db8991ed9539"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9324c460_deployment","uuid":"d7e614ff-8146-4f9d-a296-ac679a1b848b"},"retries":"0","description":"","type":"CREATE_DEPLOYMENT_ELEMENT","uuid":"7b82de8f-fe83-419c-bfd2-e61512be3a6f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Provision_d7e614ff_8146_4f9d_a296_ac679a1b848b"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"847853f6_deployment","uuid":"a98e21d1-5356-4da8-a07b-b01123758b0f"},"retries":"0","description":"","type":"CREATE_DEPLOYMENT_ELEMENT","uuid":"4011c540-df45-4284-b7f9-f22a71d091ac","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Provision_a98e21d1_5356_4da8_a07b_b01123758b0f"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSMaster","uuid":"13b7dc33-639a-4b63-b6c2-bcbc40ad50d0"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"315b0a0c-6444-486e-aaf3-f805a3d33b08","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9324c460_deployment","uuid":"d7e614ff-8146-4f9d-a296-ac679a1b848b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_13b7dc33_639a_4b63_b6c2_bcbc40ad50d0","uuid":"1d2a9bb4-2bd2-4eb4-a1ac-7da3a948a55a"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Substrate_13b7dc33_639a_4b63_b6c2_bcbc40ad50d0"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSSlave","uuid":"13318462-4a00-45bb-91d5-d7e17d64cee0"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"cce2fe10-d11d-4614-ab5f-31f11b129ad1","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"847853f6_deployment","uuid":"a98e21d1-5356-4da8-a07b-b01123758b0f"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_13318462_4a00_45bb_91d5_d7e17d64cee0","uuid":"715dc816-fb73-450d-8753-fa7d83ee83c6"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Substrate_13318462_4a00_45bb_91d5_d7e17d64cee0"},{"target_any_local_reference":{"kind":"app_package","name":"AWSMasterPackage","uuid":"5805d838-62cc-43fb-9302-ed138e4e1bed"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"54fc3c0f-7e9e-4a16-b2bd-a81587143423","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9324c460_deployment","uuid":"d7e614ff-8146-4f9d-a296-ac679a1b848b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_5805d838_62cc_43fb_9302_ed138e4e1bed","uuid":"df4ec507-37a7-479d-bc64-4733c3d34b33"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_5805d838_62cc_43fb_9302_ed138e4e1bed"},{"target_any_local_reference":{"kind":"app_package","name":"AWSSlavePackage","uuid":"33b12429-d141-480f-b38e-4d8083fcff5c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"336b2586-dea3-4da7-a9b0-eae44aca69d4","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"847853f6_deployment","uuid":"a98e21d1-5356-4da8-a07b-b01123758b0f"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_33b12429_d141_480f_b38e_4d8083fcff5c","uuid":"e7adf737-a285-48c1-815a-c0c8d8737301"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_33b12429_d141_480f_b38e_4d8083fcff5c"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"07b32250-60e2-4401-a48d-2292c5bc1a0c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9324c460_deployment","uuid":"d7e614ff-8146-4f9d-a296-ac679a1b848b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"c528d489_runbook","uuid":"a5cf54be-5eb3-4cbb-8cbf-c295bbc3af83"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"f72c536a-fcf3-41f8-a8e8-264296650b06","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9324c460_deployment","uuid":"d7e614ff-8146-4f9d-a296-ac679a1b848b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"c02553e2_runbook","uuid":"81959707-f27f-4259-a9b6-d4f736a28f5c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"2c0c8a4b-9e88-4b41-9dbb-e5d8978b2510","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"847853f6_deployment","uuid":"a98e21d1-5356-4da8-a07b-b01123758b0f"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"8f15e59d_runbook","uuid":"3c61d32f-d429-4292-b02b-abf0f370307a"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"67c9511b-d967-44d3-912e-20f3fb876dbc","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"847853f6_deployment","uuid":"a98e21d1-5356-4da8-a07b-b01123758b0f"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"b34d9d39_runbook","uuid":"57a4c7a2-843d-4130-9f5d-51c6ed3ce4d5"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40"}],"description":"","message_list":[],"uuid":"539369e2-0324-4684-bba9-dcfd23e8f362","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_cb840422_c8bc_4b33_a703_db8991ed9539","uuid":"3b1f0e54-b7a9-4e30-adb7-be9460540c6b"},"name":"SYS_GEN__Runbook_Application_cb840422_c8bc_4b33_a703_db8991ed9539"}},{"description":"System action for starting an application","message_list":[],"uuid":"0f01fe42-01cf-48a6-98e5-27c0cefa0da3","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"AWS","uuid":"cb840422-c8bc-4b33-a703-db8991ed9539"},"retries":"0","description":"","type":"DAG","uuid":"1dc0dccb-3881-4084-ba0f-42335ad0b5cb","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_13318462_4a00_45bb_91d5_d7e17d64cee0","uuid":"9b6a4751-98a7-438f-b6ad-939205541549"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_13b7dc33_639a_4b63_b6c2_bcbc40ad50d0","uuid":"dbc3b346-9ff5-4208-b032-adb67c9af57b"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"1af6e02b-b36b-414c-bf99-e9cb4beff9cb"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"02b50787-63ba-4269-93cd-7ec8141cc5cd"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_13318462_4a00_45bb_91d5_d7e17d64cee0","uuid":"9b6a4751-98a7-438f-b6ad-939205541549"},"edge_type":"inherent","type":"","uuid":"3c001e25-93b1-4c73-a3db-42c3643307d2","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"02b50787-63ba-4269-93cd-7ec8141cc5cd"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_13b7dc33_639a_4b63_b6c2_bcbc40ad50d0","uuid":"dbc3b346-9ff5-4208-b032-adb67c9af57b"},"edge_type":"inherent","type":"","uuid":"21145d30-5569-4db5-9893-580d9240e83b","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"1af6e02b-b36b-414c-bf99-e9cb4beff9cb"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"1af6e02b-b36b-414c-bf99-e9cb4beff9cb"},"edge_type":"depends_on","type":"","uuid":"82f0a4c6-82b2-4a31-bfa6-0165e7849fec","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"02b50787-63ba-4269-93cd-7ec8141cc5cd"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_13b7dc33_639a_4b63_b6c2_bcbc40ad50d0","uuid":"dbc3b346-9ff5-4208-b032-adb67c9af57b"},"edge_type":"create_action_edge","type":"","uuid":"6c123426-55c4-4470-8db4-47f177fda282","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"02b50787-63ba-4269-93cd-7ec8141cc5cd"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_13318462_4a00_45bb_91d5_d7e17d64cee0","uuid":"9b6a4751-98a7-438f-b6ad-939205541549"},"edge_type":"create_action_edge","type":"","uuid":"a67d33f5-c736-4068-b413-679d95df749e","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"1af6e02b-b36b-414c-bf99-e9cb4beff9cb"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_cb840422_c8bc_4b33_a703_db8991ed9539"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSSlave","uuid":"13318462-4a00-45bb-91d5-d7e17d64cee0"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"9b6a4751-98a7-438f-b6ad-939205541549","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"847853f6_deployment","uuid":"a98e21d1-5356-4da8-a07b-b01123758b0f"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_13318462_4a00_45bb_91d5_d7e17d64cee0","uuid":"980834d8-88ed-4789-8d1a-0c905cad9595"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Substrate_13318462_4a00_45bb_91d5_d7e17d64cee0"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSMaster","uuid":"13b7dc33-639a-4b63-b6c2-bcbc40ad50d0"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"dbc3b346-9ff5-4208-b032-adb67c9af57b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9324c460_deployment","uuid":"d7e614ff-8146-4f9d-a296-ac679a1b848b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_13b7dc33_639a_4b63_b6c2_bcbc40ad50d0","uuid":"0abc5e52-5720-4f1b-b06f-9bcb8cbcb659"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Substrate_13b7dc33_639a_4b63_b6c2_bcbc40ad50d0"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"1af6e02b-b36b-414c-bf99-e9cb4beff9cb","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9324c460_deployment","uuid":"d7e614ff-8146-4f9d-a296-ac679a1b848b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"c02553e2_runbook","uuid":"81959707-f27f-4259-a9b6-d4f736a28f5c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"02b50787-63ba-4269-93cd-7ec8141cc5cd","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"847853f6_deployment","uuid":"a98e21d1-5356-4da8-a07b-b01123758b0f"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"b34d9d39_runbook","uuid":"57a4c7a2-843d-4130-9f5d-51c6ed3ce4d5"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40"}],"description":"","message_list":[],"uuid":"c846718c-5d2a-4c0f-ada0-3ff0f224b012","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_cb840422_c8bc_4b33_a703_db8991ed9539","uuid":"1dc0dccb-3881-4084-ba0f-42335ad0b5cb"},"name":"SYS_GEN__Runbook_Application_cb840422_c8bc_4b33_a703_db8991ed9539"}},{"description":"System action for restarting an application","message_list":[],"uuid":"74d6ec95-06fe-4b98-8be9-34b339b772b7","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"AWS","uuid":"cb840422-c8bc-4b33-a703-db8991ed9539"},"retries":"0","description":"","type":"DAG","uuid":"75f2ba2f-990a-4921-b289-11a6de54449f","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_13b7dc33_639a_4b63_b6c2_bcbc40ad50d0","uuid":"094d787d-d2e6-4539-8766-fb0ba40ae684"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_13318462_4a00_45bb_91d5_d7e17d64cee0","uuid":"fffca4f2-78e3-4e23-baa3-39262d1f55ac"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"d144d67e-c87d-4b3f-a703-49a90b517cc5"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"6f076250-7dad-4be0-806b-42ece62fc773"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_13318462_4a00_45bb_91d5_d7e17d64cee0","uuid":"fffca4f2-78e3-4e23-baa3-39262d1f55ac"},"edge_type":"inherent","type":"","uuid":"a7a8a781-0538-4b9a-8dae-b393bf0a38e9","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"6f076250-7dad-4be0-806b-42ece62fc773"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_13b7dc33_639a_4b63_b6c2_bcbc40ad50d0","uuid":"094d787d-d2e6-4539-8766-fb0ba40ae684"},"edge_type":"inherent","type":"","uuid":"787d873c-758e-49a5-8523-44401b0ffb69","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"d144d67e-c87d-4b3f-a703-49a90b517cc5"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"d144d67e-c87d-4b3f-a703-49a90b517cc5"},"edge_type":"depends_on","type":"","uuid":"5786d501-8323-4995-bc7d-fe82f786bd4d","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"6f076250-7dad-4be0-806b-42ece62fc773"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_13b7dc33_639a_4b63_b6c2_bcbc40ad50d0","uuid":"094d787d-d2e6-4539-8766-fb0ba40ae684"},"edge_type":"create_action_edge","type":"","uuid":"1511cd0c-3327-4dd7-ba17-b294aaf10ffa","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"6f076250-7dad-4be0-806b-42ece62fc773"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_13318462_4a00_45bb_91d5_d7e17d64cee0","uuid":"fffca4f2-78e3-4e23-baa3-39262d1f55ac"},"edge_type":"create_action_edge","type":"","uuid":"88f90c86-4ff6-4ac8-a2b1-606a3f96de05","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"d144d67e-c87d-4b3f-a703-49a90b517cc5"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_cb840422_c8bc_4b33_a703_db8991ed9539"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSMaster","uuid":"13b7dc33-639a-4b63-b6c2-bcbc40ad50d0"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"094d787d-d2e6-4539-8766-fb0ba40ae684","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9324c460_deployment","uuid":"d7e614ff-8146-4f9d-a296-ac679a1b848b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_13b7dc33_639a_4b63_b6c2_bcbc40ad50d0","uuid":"f4cfccd3-47bc-44a2-bb07-520c4801c8ca"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Substrate_13b7dc33_639a_4b63_b6c2_bcbc40ad50d0"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSSlave","uuid":"13318462-4a00-45bb-91d5-d7e17d64cee0"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"fffca4f2-78e3-4e23-baa3-39262d1f55ac","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"847853f6_deployment","uuid":"a98e21d1-5356-4da8-a07b-b01123758b0f"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_13318462_4a00_45bb_91d5_d7e17d64cee0","uuid":"de7c4668-b897-4859-b2bd-6cd8f7a24cf3"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Substrate_13318462_4a00_45bb_91d5_d7e17d64cee0"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"d144d67e-c87d-4b3f-a703-49a90b517cc5","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9324c460_deployment","uuid":"d7e614ff-8146-4f9d-a296-ac679a1b848b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"a9d9f266_runbook","uuid":"a32389b2-74a8-4a75-b897-c7158c11032e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"6f076250-7dad-4be0-806b-42ece62fc773","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"847853f6_deployment","uuid":"a98e21d1-5356-4da8-a07b-b01123758b0f"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"c1c4eebd_runbook","uuid":"bea78664-aea0-4d1f-b708-8ef876af38d5"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40"}],"description":"","message_list":[],"uuid":"b09d0fd2-542c-4d55-acdc-9145e52f8988","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_cb840422_c8bc_4b33_a703_db8991ed9539","uuid":"75f2ba2f-990a-4921-b289-11a6de54449f"},"name":"SYS_GEN__Runbook_Application_cb840422_c8bc_4b33_a703_db8991ed9539"}},{"description":"System action for stopping an application","message_list":[],"uuid":"ad641785-4655-4128-993e-720603300d22","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"AWS","uuid":"cb840422-c8bc-4b33-a703-db8991ed9539"},"retries":"0","description":"","type":"DAG","uuid":"354b21e2-13f0-4108-b5ec-dc5e2e7355f0","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"2b082cb6-2ae8-425f-a574-63923cf7b0eb"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"6538f665-0890-4632-8f96-9664dad8b56e"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_13318462_4a00_45bb_91d5_d7e17d64cee0","uuid":"87495843-8920-4818-9dee-c39df92d2897"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_13b7dc33_639a_4b63_b6c2_bcbc40ad50d0","uuid":"55beca1e-89ce-4a04-95ac-0aa574a5e3f3"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"2b082cb6-2ae8-425f-a574-63923cf7b0eb"},"edge_type":"inherent","type":"","uuid":"678297ce-429f-454b-a6f8-3b946a2a3840","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_13318462_4a00_45bb_91d5_d7e17d64cee0","uuid":"87495843-8920-4818-9dee-c39df92d2897"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"6538f665-0890-4632-8f96-9664dad8b56e"},"edge_type":"inherent","type":"","uuid":"78b545a9-91b9-4753-8a95-66fc4315a044","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_13b7dc33_639a_4b63_b6c2_bcbc40ad50d0","uuid":"55beca1e-89ce-4a04-95ac-0aa574a5e3f3"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"2b082cb6-2ae8-425f-a574-63923cf7b0eb"},"edge_type":"depends_on","type":"","uuid":"961a8de5-8295-4fc8-aad8-de2ef7ebdb9c","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"6538f665-0890-4632-8f96-9664dad8b56e"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"2b082cb6-2ae8-425f-a574-63923cf7b0eb"},"edge_type":"create_action_edge","type":"","uuid":"dd5dccdf-e7a6-4573-86ce-8e8dd0a75d87","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_13b7dc33_639a_4b63_b6c2_bcbc40ad50d0","uuid":"55beca1e-89ce-4a04-95ac-0aa574a5e3f3"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"6538f665-0890-4632-8f96-9664dad8b56e"},"edge_type":"create_action_edge","type":"","uuid":"696b88f4-aad6-4fa3-9bee-9908274849b1","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_13318462_4a00_45bb_91d5_d7e17d64cee0","uuid":"87495843-8920-4818-9dee-c39df92d2897"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_cb840422_c8bc_4b33_a703_db8991ed9539"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"2b082cb6-2ae8-425f-a574-63923cf7b0eb","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"847853f6_deployment","uuid":"a98e21d1-5356-4da8-a07b-b01123758b0f"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0e2bd4c9_runbook","uuid":"8e29699f-df44-4802-8ae9-689322c6575c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"6538f665-0890-4632-8f96-9664dad8b56e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9324c460_deployment","uuid":"d7e614ff-8146-4f9d-a296-ac679a1b848b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"deb1443a_runbook","uuid":"86288a79-ba17-4500-a81a-1ed2afb6b9b8"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSSlave","uuid":"13318462-4a00-45bb-91d5-d7e17d64cee0"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"87495843-8920-4818-9dee-c39df92d2897","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"847853f6_deployment","uuid":"a98e21d1-5356-4da8-a07b-b01123758b0f"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_13318462_4a00_45bb_91d5_d7e17d64cee0","uuid":"9736aba6-e50b-4830-a4a1-863f4ae75d66"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Substrate_13318462_4a00_45bb_91d5_d7e17d64cee0"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSMaster","uuid":"13b7dc33-639a-4b63-b6c2-bcbc40ad50d0"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"55beca1e-89ce-4a04-95ac-0aa574a5e3f3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9324c460_deployment","uuid":"d7e614ff-8146-4f9d-a296-ac679a1b848b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_13b7dc33_639a_4b63_b6c2_bcbc40ad50d0","uuid":"b71e8c55-2373-4e5a-b7d1-7fed21eff75f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Substrate_13b7dc33_639a_4b63_b6c2_bcbc40ad50d0"}],"description":"","message_list":[],"uuid":"eba67f95-6ab1-49fe-b2a7-b1a7fa66a6a9","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_cb840422_c8bc_4b33_a703_db8991ed9539","uuid":"354b21e2-13f0-4108-b5ec-dc5e2e7355f0"},"name":"SYS_GEN__Runbook_Application_cb840422_c8bc_4b33_a703_db8991ed9539"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"a8f797fd-592a-4f03-a3c6-ab8b040edaa7","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"AWS","uuid":"cb840422-c8bc-4b33-a703-db8991ed9539"},"retries":"0","description":"","type":"DAG","uuid":"599c3136-e35b-464d-ae08-513917a477a5","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"a3de7ad1-efac-46ac-bebc-b0b4e2025721"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"5e1ccd7d-3947-43c4-9483-f0d2fb72cf06"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_33b12429_d141_480f_b38e_4d8083fcff5c","uuid":"a1c1fcd6-b57e-46c7-a1e4-4ad404fbc89f"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"d91215de-b0a2-4fa4-a3ea-cd030eb60c8c"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"d162a16e-ea93-46d4-8825-a9b5606cc1d9"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_13318462_4a00_45bb_91d5_d7e17d64cee0","uuid":"be5ea4fd-fb71-4f3a-af40-ecbe9eaa20b3"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_5805d838_62cc_43fb_9302_ed138e4e1bed","uuid":"97bae3a0-33ee-41fc-9391-bff0769a10a6"},{"kind":"app_task","name":"SYS_GEN__DE_Delete_a98e21d1_5356_4da8_a07b_b01123758b0f","uuid":"3a71c913-fccb-430b-8815-ff50c205406c"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_13b7dc33_639a_4b63_b6c2_bcbc40ad50d0","uuid":"f9625322-43ab-465a-9195-1961f78221ea"},{"kind":"app_task","name":"SYS_GEN__DE_Delete_d7e614ff_8146_4f9d_a296_ac679a1b848b","uuid":"b2c708b5-1332-40d7-b161-cd60f59b22d1"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"a3de7ad1-efac-46ac-bebc-b0b4e2025721"},"edge_type":"inherent","type":"","uuid":"bfe759a3-0155-466f-9ae5-5b63f5fd95bb","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"5e1ccd7d-3947-43c4-9483-f0d2fb72cf06"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"5e1ccd7d-3947-43c4-9483-f0d2fb72cf06"},"edge_type":"inherent","type":"","uuid":"29929a73-e100-48da-8fa0-5af934034cd7","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_33b12429_d141_480f_b38e_4d8083fcff5c","uuid":"a1c1fcd6-b57e-46c7-a1e4-4ad404fbc89f"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_33b12429_d141_480f_b38e_4d8083fcff5c","uuid":"a1c1fcd6-b57e-46c7-a1e4-4ad404fbc89f"},"edge_type":"inherent","type":"","uuid":"85527b06-49a9-4f85-bdf9-6aa24ecd75f7","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_13318462_4a00_45bb_91d5_d7e17d64cee0","uuid":"be5ea4fd-fb71-4f3a-af40-ecbe9eaa20b3"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_13318462_4a00_45bb_91d5_d7e17d64cee0","uuid":"be5ea4fd-fb71-4f3a-af40-ecbe9eaa20b3"},"edge_type":"inherent","type":"","uuid":"fe7fef4f-51ef-4601-8049-e216e9fdc2fe","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Delete_a98e21d1_5356_4da8_a07b_b01123758b0f","uuid":"3a71c913-fccb-430b-8815-ff50c205406c"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"d91215de-b0a2-4fa4-a3ea-cd030eb60c8c"},"edge_type":"inherent","type":"","uuid":"96ab4da5-dad6-4bdc-8743-752dee3215f6","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"d162a16e-ea93-46d4-8825-a9b5606cc1d9"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"d162a16e-ea93-46d4-8825-a9b5606cc1d9"},"edge_type":"inherent","type":"","uuid":"cba4f8e1-4fd4-4a7f-817d-bb9944b9e2f9","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_5805d838_62cc_43fb_9302_ed138e4e1bed","uuid":"97bae3a0-33ee-41fc-9391-bff0769a10a6"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_5805d838_62cc_43fb_9302_ed138e4e1bed","uuid":"97bae3a0-33ee-41fc-9391-bff0769a10a6"},"edge_type":"inherent","type":"","uuid":"70331163-1d11-4164-9eec-6769cbd547ed","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_13b7dc33_639a_4b63_b6c2_bcbc40ad50d0","uuid":"f9625322-43ab-465a-9195-1961f78221ea"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_13b7dc33_639a_4b63_b6c2_bcbc40ad50d0","uuid":"f9625322-43ab-465a-9195-1961f78221ea"},"edge_type":"inherent","type":"","uuid":"958c34b0-fef0-48ca-b365-cf36e0d7093b","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Delete_d7e614ff_8146_4f9d_a296_ac679a1b848b","uuid":"b2c708b5-1332-40d7-b161-cd60f59b22d1"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"5e1ccd7d-3947-43c4-9483-f0d2fb72cf06"},"edge_type":"depends_on","type":"","uuid":"1cf0ffe3-171f-46e1-9d78-14cfad29e851","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"d91215de-b0a2-4fa4-a3ea-cd030eb60c8c"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"5e1ccd7d-3947-43c4-9483-f0d2fb72cf06"},"edge_type":"create_action_edge","type":"","uuid":"b82e8a86-7df3-4937-b993-41176ec3b885","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_13b7dc33_639a_4b63_b6c2_bcbc40ad50d0","uuid":"f9625322-43ab-465a-9195-1961f78221ea"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"d162a16e-ea93-46d4-8825-a9b5606cc1d9"},"edge_type":"create_action_edge","type":"","uuid":"c32b4bd3-a42b-4ace-be73-348d18e93df9","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_13318462_4a00_45bb_91d5_d7e17d64cee0","uuid":"be5ea4fd-fb71-4f3a-af40-ecbe9eaa20b3"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_cb840422_c8bc_4b33_a703_db8991ed9539"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"a3de7ad1-efac-46ac-bebc-b0b4e2025721","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"847853f6_deployment","uuid":"a98e21d1-5356-4da8-a07b-b01123758b0f"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0e2bd4c9_runbook","uuid":"8e29699f-df44-4802-8ae9-689322c6575c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"5e1ccd7d-3947-43c4-9483-f0d2fb72cf06","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"847853f6_deployment","uuid":"a98e21d1-5356-4da8-a07b-b01123758b0f"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"08946714_runbook","uuid":"005a7fbe-7426-4c75-aa02-8ca0b1db5dbb"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40"},{"target_any_local_reference":{"kind":"app_package","name":"AWSSlavePackage","uuid":"33b12429-d141-480f-b38e-4d8083fcff5c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"a1c1fcd6-b57e-46c7-a1e4-4ad404fbc89f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"847853f6_deployment","uuid":"a98e21d1-5356-4da8-a07b-b01123758b0f"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_33b12429_d141_480f_b38e_4d8083fcff5c","uuid":"56cb320e-9131-407c-80a2-73fb250b2294"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_33b12429_d141_480f_b38e_4d8083fcff5c"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"d91215de-b0a2-4fa4-a3ea-cd030eb60c8c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9324c460_deployment","uuid":"d7e614ff-8146-4f9d-a296-ac679a1b848b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"deb1443a_runbook","uuid":"86288a79-ba17-4500-a81a-1ed2afb6b9b8"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"d162a16e-ea93-46d4-8825-a9b5606cc1d9","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9324c460_deployment","uuid":"d7e614ff-8146-4f9d-a296-ac679a1b848b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"8ad650b2_runbook","uuid":"f31a5f00-62ad-4b57-8fbf-cd1f020f2bfc"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSSlave","uuid":"13318462-4a00-45bb-91d5-d7e17d64cee0"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"be5ea4fd-fb71-4f3a-af40-ecbe9eaa20b3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"847853f6_deployment","uuid":"a98e21d1-5356-4da8-a07b-b01123758b0f"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_13318462_4a00_45bb_91d5_d7e17d64cee0","uuid":"8060112d-c37f-4493-9984-769eecc53e1e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Substrate_13318462_4a00_45bb_91d5_d7e17d64cee0"},{"target_any_local_reference":{"kind":"app_package","name":"AWSMasterPackage","uuid":"5805d838-62cc-43fb-9302-ed138e4e1bed"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"97bae3a0-33ee-41fc-9391-bff0769a10a6","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9324c460_deployment","uuid":"d7e614ff-8146-4f9d-a296-ac679a1b848b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_5805d838_62cc_43fb_9302_ed138e4e1bed","uuid":"33114b2f-39fd-4f68-9ce8-5c63516073ee"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_5805d838_62cc_43fb_9302_ed138e4e1bed"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"847853f6_deployment","uuid":"a98e21d1-5356-4da8-a07b-b01123758b0f"},"retries":"0","description":"","type":"DELETE_DEPLOYMENT_ELEMENT","uuid":"3a71c913-fccb-430b-8815-ff50c205406c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Delete_a98e21d1_5356_4da8_a07b_b01123758b0f"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSMaster","uuid":"13b7dc33-639a-4b63-b6c2-bcbc40ad50d0"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"f9625322-43ab-465a-9195-1961f78221ea","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9324c460_deployment","uuid":"d7e614ff-8146-4f9d-a296-ac679a1b848b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_13b7dc33_639a_4b63_b6c2_bcbc40ad50d0","uuid":"97f9cdf1-0f6c-4b5c-8e87-a2e9ea750d7d"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Substrate_13b7dc33_639a_4b63_b6c2_bcbc40ad50d0"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9324c460_deployment","uuid":"d7e614ff-8146-4f9d-a296-ac679a1b848b"},"retries":"0","description":"","type":"DELETE_DEPLOYMENT_ELEMENT","uuid":"b2c708b5-1332-40d7-b161-cd60f59b22d1","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Delete_d7e614ff_8146_4f9d_a296_ac679a1b848b"}],"description":"","message_list":[],"uuid":"686e1f03-fd73-467f-bc8a-ab4751b87834","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_cb840422_c8bc_4b33_a703_db8991ed9539","uuid":"599c3136-e35b-464d-ae08-513917a477a5"},"name":"SYS_GEN__Runbook_Application_cb840422_c8bc_4b33_a703_db8991ed9539"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"73450536-56cd-46d3-9a4e-4d01934b098b","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"AWS","uuid":"cb840422-c8bc-4b33-a703-db8991ed9539"},"retries":"0","description":"","type":"DAG","uuid":"2c0426e2-78bd-42e7-9ffb-7e492f306516","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"f91c5fef-3d96-4fa6-9d7c-cc883c08e37c"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_33b12429_d141_480f_b38e_4d8083fcff5c","uuid":"d8d0b34a-12af-412e-bd88-e20a8654de01"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"d0380b15-c918-4a90-8f57-9c2622be31aa"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_13318462_4a00_45bb_91d5_d7e17d64cee0","uuid":"673a2090-ace2-436b-88ac-c7d9d645c325"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_5805d838_62cc_43fb_9302_ed138e4e1bed","uuid":"a8d28395-47b8-4537-978e-083724bf9955"},{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_a98e21d1_5356_4da8_a07b_b01123758b0f","uuid":"9a9aee25-8b45-4784-b224-0b70959d3106"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_13b7dc33_639a_4b63_b6c2_bcbc40ad50d0","uuid":"134e87fe-e185-434e-9785-e409be21e135"},{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_d7e614ff_8146_4f9d_a296_ac679a1b848b","uuid":"52a879fc-2f8b-4a5f-9442-2712d5061f34"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"f91c5fef-3d96-4fa6-9d7c-cc883c08e37c"},"edge_type":"inherent","type":"","uuid":"47e10558-3a01-45da-91c9-9c8a55bc532f","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_33b12429_d141_480f_b38e_4d8083fcff5c","uuid":"d8d0b34a-12af-412e-bd88-e20a8654de01"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_33b12429_d141_480f_b38e_4d8083fcff5c","uuid":"d8d0b34a-12af-412e-bd88-e20a8654de01"},"edge_type":"inherent","type":"","uuid":"88684b14-3055-4394-8770-88b718f61fc4","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_13318462_4a00_45bb_91d5_d7e17d64cee0","uuid":"673a2090-ace2-436b-88ac-c7d9d645c325"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_13318462_4a00_45bb_91d5_d7e17d64cee0","uuid":"673a2090-ace2-436b-88ac-c7d9d645c325"},"edge_type":"inherent","type":"","uuid":"625b0cf9-dd24-40de-b91e-1103125becaa","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_a98e21d1_5356_4da8_a07b_b01123758b0f","uuid":"9a9aee25-8b45-4784-b224-0b70959d3106"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"d0380b15-c918-4a90-8f57-9c2622be31aa"},"edge_type":"inherent","type":"","uuid":"6f22f248-1c62-4ad8-b4b5-65db6d2075c1","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_5805d838_62cc_43fb_9302_ed138e4e1bed","uuid":"a8d28395-47b8-4537-978e-083724bf9955"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_13b7dc33_639a_4b63_b6c2_bcbc40ad50d0","uuid":"134e87fe-e185-434e-9785-e409be21e135"},"edge_type":"inherent","type":"","uuid":"aa7f418d-5719-4491-bb35-94d0794be642","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_d7e614ff_8146_4f9d_a296_ac679a1b848b","uuid":"52a879fc-2f8b-4a5f-9442-2712d5061f34"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_5805d838_62cc_43fb_9302_ed138e4e1bed","uuid":"a8d28395-47b8-4537-978e-083724bf9955"},"edge_type":"inherent","type":"","uuid":"deb66bbf-6cf5-4248-a8ba-681a3331696b","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_13b7dc33_639a_4b63_b6c2_bcbc40ad50d0","uuid":"134e87fe-e185-434e-9785-e409be21e135"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"f91c5fef-3d96-4fa6-9d7c-cc883c08e37c"},"edge_type":"depends_on","type":"","uuid":"18dc1e51-0291-4255-a303-3e3231ee22e5","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"d0380b15-c918-4a90-8f57-9c2622be31aa"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"f91c5fef-3d96-4fa6-9d7c-cc883c08e37c"},"edge_type":"create_action_edge","type":"","uuid":"6cffba3c-87ba-4c9d-a03d-75ed8c2e5b7f","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_13b7dc33_639a_4b63_b6c2_bcbc40ad50d0","uuid":"134e87fe-e185-434e-9785-e409be21e135"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"d0380b15-c918-4a90-8f57-9c2622be31aa"},"edge_type":"create_action_edge","type":"","uuid":"b89c2be5-d9c6-4656-8ddd-54f292cf16e6","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_13318462_4a00_45bb_91d5_d7e17d64cee0","uuid":"673a2090-ace2-436b-88ac-c7d9d645c325"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_cb840422_c8bc_4b33_a703_db8991ed9539"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"f91c5fef-3d96-4fa6-9d7c-cc883c08e37c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"847853f6_deployment","uuid":"a98e21d1-5356-4da8-a07b-b01123758b0f"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"febe47f3-782b-40c3-abcb-ce825626516f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40"},{"target_any_local_reference":{"kind":"app_package","name":"AWSSlavePackage","uuid":"33b12429-d141-480f-b38e-4d8083fcff5c"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"d8d0b34a-12af-412e-bd88-e20a8654de01","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_33b12429_d141_480f_b38e_4d8083fcff5c"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"d0380b15-c918-4a90-8f57-9c2622be31aa","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9324c460_deployment","uuid":"d7e614ff-8146-4f9d-a296-ac679a1b848b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"92ba2635-e9da-48a5-8b58-7a4b4a61ffdf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSSlave","uuid":"13318462-4a00-45bb-91d5-d7e17d64cee0"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"673a2090-ace2-436b-88ac-c7d9d645c325","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"847853f6_deployment","uuid":"a98e21d1-5356-4da8-a07b-b01123758b0f"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_13318462_4a00_45bb_91d5_d7e17d64cee0","uuid":"f211cd2f-b5c7-4252-90cd-a7752ea4e5f9"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Substrate_13318462_4a00_45bb_91d5_d7e17d64cee0"},{"target_any_local_reference":{"kind":"app_package","name":"AWSMasterPackage","uuid":"5805d838-62cc-43fb-9302-ed138e4e1bed"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"a8d28395-47b8-4537-978e-083724bf9955","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_5805d838_62cc_43fb_9302_ed138e4e1bed"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"847853f6_deployment","uuid":"a98e21d1-5356-4da8-a07b-b01123758b0f"},"retries":"0","description":"","type":"SOFT_DELETE_DEPLOYMENT_ELEMENT","uuid":"9a9aee25-8b45-4784-b224-0b70959d3106","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Soft_Delete_a98e21d1_5356_4da8_a07b_b01123758b0f"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSMaster","uuid":"13b7dc33-639a-4b63-b6c2-bcbc40ad50d0"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"134e87fe-e185-434e-9785-e409be21e135","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9324c460_deployment","uuid":"d7e614ff-8146-4f9d-a296-ac679a1b848b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_13b7dc33_639a_4b63_b6c2_bcbc40ad50d0","uuid":"6729c2f1-bcdf-46a0-a213-be1710e74cb2"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Substrate_13b7dc33_639a_4b63_b6c2_bcbc40ad50d0"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9324c460_deployment","uuid":"d7e614ff-8146-4f9d-a296-ac679a1b848b"},"retries":"0","description":"","type":"SOFT_DELETE_DEPLOYMENT_ELEMENT","uuid":"52a879fc-2f8b-4a5f-9442-2712d5061f34","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Soft_Delete_d7e614ff_8146_4f9d_a296_ac679a1b848b"}],"description":"","message_list":[],"uuid":"abd527ec-ce6b-4d04-88b3-93b0ccc0bf72","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_cb840422_c8bc_4b33_a703_db8991ed9539","uuid":"2c0426e2-78bd-42e7-9ffb-7e492f306516"},"name":"SYS_GEN__Runbook_Application_cb840422_c8bc_4b33_a703_db8991ed9539"}}],"message_list":[],"uuid":"cb840422-c8bc-4b33-a703-db8991ed9539","state":"ACTIVE","dependency_list":[{"getter_resource_kind":"ServiceCfg","setter_resource_attr":"address","setter_resource_kind":"SubstrateCfg","setter_resource_name":"AWSMaster","action_name":"action_create","action_resource_name":"AWS","getter_resource_name":"Postgres_Slave","action_resource_kind":"ApplicationCfg"},{"getter_resource_kind":"ServiceCfg","setter_resource_attr":"address","setter_resource_kind":"SubstrateCfg","setter_resource_name":"AWSSlave","action_name":"action_create","action_resource_name":"AWS","getter_resource_name":"Postgres_Master","action_resource_kind":"ApplicationCfg"}],"variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"e5ee5fae-07cd-45eb-b447-223ad69d40ce","value":"","label":"","state":"ACTIVE","attrs":{"is_secret_modified":false,"secret_reference":{"uuid":"e538c4ef-f33b-4fb0-87de-a5e6540afbaa"},"type":""},"editables":{"value":true},"is_hidden":false,"type":"SECRET","options":{},"name":"DB_PASSWORD"},{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"825b70a3-510e-4155-84fb-0bd3b89b9dcb","value":"AWS","label":"","state":"ACTIVE","attrs":{"type":""},"editables":{},"is_hidden":false,"type":"LOCAL","options":{},"name":"PROFILE"}],"name":"AWS"},{"deployment_create_list":[{"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"52993290-4ea4-47ac-86df-bb6486daa3cd","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"2948413c_deployment","uuid":"ae647ac6-495b-491b-9335-50a9a64a8f31"},"retries":"0","description":"","type":"DAG","uuid":"6a82e1c8-5f1e-4ab8-8d23-1de15ec909c6","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__DE_Provision_ae647ac6_495b_491b_9335_50a9a64a8f31","uuid":"462edc07-5189-437e-9af1-1246a7bb8cac"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_4a8310a8_12fc_4200_b014_019f49e4a9fd","uuid":"6e62059b-3cb4-41fd-aa0e-a00c0d3b0756"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_b5d0f3b4_c040_4fa9_ae5d_8f996b9efa42","uuid":"269e3d7f-2092-4996-87c2-4dee0842503c"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"a9b5ef9d-c4fa-4ec5-a0eb-ee36dddb2754"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"1ae62d9a-f14e-49d7-a6c2-f56af4c2887d"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"a9b5ef9d-c4fa-4ec5-a0eb-ee36dddb2754"},"edge_type":"inherent","type":"","uuid":"380632f0-2c7c-497f-a315-018f17224c7f","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"1ae62d9a-f14e-49d7-a6c2-f56af4c2887d"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_b5d0f3b4_c040_4fa9_ae5d_8f996b9efa42","uuid":"269e3d7f-2092-4996-87c2-4dee0842503c"},"edge_type":"inherent","type":"","uuid":"d9b5ba0d-a9f0-4ff0-a278-b52f8a98ab19","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"a9b5ef9d-c4fa-4ec5-a0eb-ee36dddb2754"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_ae647ac6_495b_491b_9335_50a9a64a8f31","uuid":"462edc07-5189-437e-9af1-1246a7bb8cac"},"edge_type":"inherent","type":"","uuid":"78770be3-714b-4d1f-a3fe-d1cc4d6d2834","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_4a8310a8_12fc_4200_b014_019f49e4a9fd","uuid":"6e62059b-3cb4-41fd-aa0e-a00c0d3b0756"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_4a8310a8_12fc_4200_b014_019f49e4a9fd","uuid":"6e62059b-3cb4-41fd-aa0e-a00c0d3b0756"},"edge_type":"inherent","type":"","uuid":"958d0fa2-93d6-4ad7-8687-7e44f4d3c87c","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_b5d0f3b4_c040_4fa9_ae5d_8f996b9efa42","uuid":"269e3d7f-2092-4996-87c2-4dee0842503c"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_ae647ac6_495b_491b_9335_50a9a64a8f31"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"2948413c_deployment","uuid":"ae647ac6-495b-491b-9335-50a9a64a8f31"},"retries":"0","description":"","type":"CREATE_DEPLOYMENT_ELEMENT","uuid":"462edc07-5189-437e-9af1-1246a7bb8cac","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Provision_ae647ac6_495b_491b_9335_50a9a64a8f31"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPMaster","uuid":"4a8310a8-12fc-4200-b014-019f49e4a9fd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"6e62059b-3cb4-41fd-aa0e-a00c0d3b0756","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"2948413c_deployment","uuid":"ae647ac6-495b-491b-9335-50a9a64a8f31"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_4a8310a8_12fc_4200_b014_019f49e4a9fd","uuid":"cd4f2292-3c18-4c5f-8f7a-670e135123ac"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Substrate_4a8310a8_12fc_4200_b014_019f49e4a9fd"},{"target_any_local_reference":{"kind":"app_package","name":"GCPMasterPackage","uuid":"b5d0f3b4-c040-4fa9-ae5d-8f996b9efa42"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"269e3d7f-2092-4996-87c2-4dee0842503c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"2948413c_deployment","uuid":"ae647ac6-495b-491b-9335-50a9a64a8f31"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_b5d0f3b4_c040_4fa9_ae5d_8f996b9efa42","uuid":"44025375-e16a-4ab4-8ac3-7b31f766dbbd"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_b5d0f3b4_c040_4fa9_ae5d_8f996b9efa42"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"a9b5ef9d-c4fa-4ec5-a0eb-ee36dddb2754","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"2948413c_deployment","uuid":"ae647ac6-495b-491b-9335-50a9a64a8f31"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"c528d489_runbook","uuid":"a5cf54be-5eb3-4cbb-8cbf-c295bbc3af83"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"1ae62d9a-f14e-49d7-a6c2-f56af4c2887d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"2948413c_deployment","uuid":"ae647ac6-495b-491b-9335-50a9a64a8f31"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"c02553e2_runbook","uuid":"81959707-f27f-4259-a9b6-d4f736a28f5c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90"}],"description":"","message_list":[],"uuid":"31a52701-7bae-4052-bad9-065a3d03a056","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_ae647ac6_495b_491b_9335_50a9a64a8f31","uuid":"6a82e1c8-5f1e-4ab8-8d23-1de15ec909c6"},"name":"SYS_GEN__Runbook_Deployment_ae647ac6_495b_491b_9335_50a9a64a8f31"}},{"description":"System action for starting an application","message_list":[],"uuid":"186b43c0-be4d-4cbe-ad48-f8c63cc2c101","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"2948413c_deployment","uuid":"ae647ac6-495b-491b-9335-50a9a64a8f31"},"retries":"0","description":"","type":"DAG","uuid":"4de56ed9-dc10-47de-817f-0ca66539c44b","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_4a8310a8_12fc_4200_b014_019f49e4a9fd","uuid":"1d4ef7ce-af10-45a3-af2e-7e0e27a7a8fb"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"e36b3b76-d683-407c-be87-4d588326b585"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_4a8310a8_12fc_4200_b014_019f49e4a9fd","uuid":"1d4ef7ce-af10-45a3-af2e-7e0e27a7a8fb"},"edge_type":"inherent","type":"","uuid":"02db7945-8b70-4b4e-98f3-3314c51c2597","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"e36b3b76-d683-407c-be87-4d588326b585"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_ae647ac6_495b_491b_9335_50a9a64a8f31"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPMaster","uuid":"4a8310a8-12fc-4200-b014-019f49e4a9fd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"1d4ef7ce-af10-45a3-af2e-7e0e27a7a8fb","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"2948413c_deployment","uuid":"ae647ac6-495b-491b-9335-50a9a64a8f31"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_4a8310a8_12fc_4200_b014_019f49e4a9fd","uuid":"0910c83c-71ab-46ab-9846-1d35bb904125"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Substrate_4a8310a8_12fc_4200_b014_019f49e4a9fd"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"e36b3b76-d683-407c-be87-4d588326b585","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"2948413c_deployment","uuid":"ae647ac6-495b-491b-9335-50a9a64a8f31"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"c02553e2_runbook","uuid":"81959707-f27f-4259-a9b6-d4f736a28f5c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90"}],"description":"","message_list":[],"uuid":"3626ffcc-89cb-4c0e-b38f-54b205ddb637","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_ae647ac6_495b_491b_9335_50a9a64a8f31","uuid":"4de56ed9-dc10-47de-817f-0ca66539c44b"},"name":"SYS_GEN__Runbook_Deployment_ae647ac6_495b_491b_9335_50a9a64a8f31"}},{"description":"System action for restarting an application","message_list":[],"uuid":"6d655943-61dd-4c70-88dc-72302f29b322","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"2948413c_deployment","uuid":"ae647ac6-495b-491b-9335-50a9a64a8f31"},"retries":"0","description":"","type":"DAG","uuid":"e9e183d8-22d7-4a5b-b423-24520631d929","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_4a8310a8_12fc_4200_b014_019f49e4a9fd","uuid":"dcc987e7-696f-46e5-a5c8-f0f6c8c95730"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"f61f951e-ecde-4bfb-b6c6-c1c303911996"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_4a8310a8_12fc_4200_b014_019f49e4a9fd","uuid":"dcc987e7-696f-46e5-a5c8-f0f6c8c95730"},"edge_type":"inherent","type":"","uuid":"c48a16bc-b9bf-4c5b-b1b9-99aa9857e85f","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"f61f951e-ecde-4bfb-b6c6-c1c303911996"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_ae647ac6_495b_491b_9335_50a9a64a8f31"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPMaster","uuid":"4a8310a8-12fc-4200-b014-019f49e4a9fd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"dcc987e7-696f-46e5-a5c8-f0f6c8c95730","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"2948413c_deployment","uuid":"ae647ac6-495b-491b-9335-50a9a64a8f31"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_4a8310a8_12fc_4200_b014_019f49e4a9fd","uuid":"b36fd76d-53f7-46ac-b16f-003b7bcffa06"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Substrate_4a8310a8_12fc_4200_b014_019f49e4a9fd"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"f61f951e-ecde-4bfb-b6c6-c1c303911996","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"2948413c_deployment","uuid":"ae647ac6-495b-491b-9335-50a9a64a8f31"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"a9d9f266_runbook","uuid":"a32389b2-74a8-4a75-b897-c7158c11032e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90"}],"description":"","message_list":[],"uuid":"2440f4de-8378-470d-8850-e58093801005","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_ae647ac6_495b_491b_9335_50a9a64a8f31","uuid":"e9e183d8-22d7-4a5b-b423-24520631d929"},"name":"SYS_GEN__Runbook_Deployment_ae647ac6_495b_491b_9335_50a9a64a8f31"}},{"description":"System action for stopping an application","message_list":[],"uuid":"fb15be91-225a-400d-8af8-c4bc0a35390c","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"2948413c_deployment","uuid":"ae647ac6-495b-491b-9335-50a9a64a8f31"},"retries":"0","description":"","type":"DAG","uuid":"48bb5935-f251-4c0a-a29f-35d05c1e01de","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"824dd420-4dfa-4e06-be10-aa9bb0846e81"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_4a8310a8_12fc_4200_b014_019f49e4a9fd","uuid":"61ca3d4c-cf41-415c-ad52-ce8698a7973d"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"824dd420-4dfa-4e06-be10-aa9bb0846e81"},"edge_type":"inherent","type":"","uuid":"5e6a9570-3dee-4cdb-879f-9736298957dd","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_4a8310a8_12fc_4200_b014_019f49e4a9fd","uuid":"61ca3d4c-cf41-415c-ad52-ce8698a7973d"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_ae647ac6_495b_491b_9335_50a9a64a8f31"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"824dd420-4dfa-4e06-be10-aa9bb0846e81","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"2948413c_deployment","uuid":"ae647ac6-495b-491b-9335-50a9a64a8f31"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"deb1443a_runbook","uuid":"86288a79-ba17-4500-a81a-1ed2afb6b9b8"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPMaster","uuid":"4a8310a8-12fc-4200-b014-019f49e4a9fd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"61ca3d4c-cf41-415c-ad52-ce8698a7973d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"2948413c_deployment","uuid":"ae647ac6-495b-491b-9335-50a9a64a8f31"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_4a8310a8_12fc_4200_b014_019f49e4a9fd","uuid":"4644c864-7187-4967-9629-273cba25ff44"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Substrate_4a8310a8_12fc_4200_b014_019f49e4a9fd"}],"description":"","message_list":[],"uuid":"02f36e69-13b1-46c7-bd62-2e6a666f8ee1","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_ae647ac6_495b_491b_9335_50a9a64a8f31","uuid":"48bb5935-f251-4c0a-a29f-35d05c1e01de"},"name":"SYS_GEN__Runbook_Deployment_ae647ac6_495b_491b_9335_50a9a64a8f31"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"94fb39cd-fdd8-4b20-bb71-ee206cf702e5","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"2948413c_deployment","uuid":"ae647ac6-495b-491b-9335-50a9a64a8f31"},"retries":"0","description":"","type":"DAG","uuid":"4eb4d081-6bf5-4e5a-9794-2a5b27bdc1be","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"ccb58bd6-9842-4d37-96da-21b62e371874"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"d068f6a1-2e6a-4e91-a899-1f6eb11cdb9d"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_b5d0f3b4_c040_4fa9_ae5d_8f996b9efa42","uuid":"d185d4b7-01c4-4dc9-ad59-f22e83971d85"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_4a8310a8_12fc_4200_b014_019f49e4a9fd","uuid":"aa39d957-4682-4d5e-a9d1-282136138aca"},{"kind":"app_task","name":"SYS_GEN__DE_Delete_ae647ac6_495b_491b_9335_50a9a64a8f31","uuid":"4a3c534d-ca92-4297-93b6-a5b36a280e30"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"ccb58bd6-9842-4d37-96da-21b62e371874"},"edge_type":"inherent","type":"","uuid":"02a92034-78ff-477d-a15d-ea42576f5e05","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"d068f6a1-2e6a-4e91-a899-1f6eb11cdb9d"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"d068f6a1-2e6a-4e91-a899-1f6eb11cdb9d"},"edge_type":"inherent","type":"","uuid":"c61f1e48-1700-477e-8f69-8e8c38c554b0","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_b5d0f3b4_c040_4fa9_ae5d_8f996b9efa42","uuid":"d185d4b7-01c4-4dc9-ad59-f22e83971d85"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_4a8310a8_12fc_4200_b014_019f49e4a9fd","uuid":"aa39d957-4682-4d5e-a9d1-282136138aca"},"edge_type":"inherent","type":"","uuid":"47ca7419-091b-401a-b9fe-3527085fc257","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Delete_ae647ac6_495b_491b_9335_50a9a64a8f31","uuid":"4a3c534d-ca92-4297-93b6-a5b36a280e30"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_b5d0f3b4_c040_4fa9_ae5d_8f996b9efa42","uuid":"d185d4b7-01c4-4dc9-ad59-f22e83971d85"},"edge_type":"inherent","type":"","uuid":"c918d2f9-ddf1-4660-83f7-9653aa478393","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_4a8310a8_12fc_4200_b014_019f49e4a9fd","uuid":"aa39d957-4682-4d5e-a9d1-282136138aca"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_ae647ac6_495b_491b_9335_50a9a64a8f31"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"ccb58bd6-9842-4d37-96da-21b62e371874","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"2948413c_deployment","uuid":"ae647ac6-495b-491b-9335-50a9a64a8f31"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"deb1443a_runbook","uuid":"86288a79-ba17-4500-a81a-1ed2afb6b9b8"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"d068f6a1-2e6a-4e91-a899-1f6eb11cdb9d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"2948413c_deployment","uuid":"ae647ac6-495b-491b-9335-50a9a64a8f31"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"8ad650b2_runbook","uuid":"f31a5f00-62ad-4b57-8fbf-cd1f020f2bfc"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90"},{"target_any_local_reference":{"kind":"app_package","name":"GCPMasterPackage","uuid":"b5d0f3b4-c040-4fa9-ae5d-8f996b9efa42"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"d185d4b7-01c4-4dc9-ad59-f22e83971d85","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"2948413c_deployment","uuid":"ae647ac6-495b-491b-9335-50a9a64a8f31"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_b5d0f3b4_c040_4fa9_ae5d_8f996b9efa42","uuid":"11954c7c-d449-4aca-a56a-7001b5f2e57a"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_b5d0f3b4_c040_4fa9_ae5d_8f996b9efa42"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPMaster","uuid":"4a8310a8-12fc-4200-b014-019f49e4a9fd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"aa39d957-4682-4d5e-a9d1-282136138aca","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"2948413c_deployment","uuid":"ae647ac6-495b-491b-9335-50a9a64a8f31"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_4a8310a8_12fc_4200_b014_019f49e4a9fd","uuid":"07db0ceb-fe45-4c09-bccb-9d2e80764d8f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Substrate_4a8310a8_12fc_4200_b014_019f49e4a9fd"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"2948413c_deployment","uuid":"ae647ac6-495b-491b-9335-50a9a64a8f31"},"retries":"0","description":"","type":"DELETE_DEPLOYMENT_ELEMENT","uuid":"4a3c534d-ca92-4297-93b6-a5b36a280e30","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Delete_ae647ac6_495b_491b_9335_50a9a64a8f31"}],"description":"","message_list":[],"uuid":"1752a6aa-bf84-4a61-b402-e0001c5344a7","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_ae647ac6_495b_491b_9335_50a9a64a8f31","uuid":"4eb4d081-6bf5-4e5a-9794-2a5b27bdc1be"},"name":"SYS_GEN__Runbook_Deployment_ae647ac6_495b_491b_9335_50a9a64a8f31"}},{"description":"System action for scaleout","message_list":[],"uuid":"70211115-8520-4a2a-bf88-dd9bfa7658a6","name":"action_scaleout","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"2948413c_deployment","uuid":"ae647ac6-495b-491b-9335-50a9a64a8f31"},"retries":"0","description":"","type":"DAG","uuid":"de55c9cd-5c5e-4c71-8501-4f36a01ac4ab","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Deployment_Scaleout_ae647ac6_495b_491b_9335_50a9a64a8f31","uuid":"60a14f60-6961-4b1b-a659-21ff8b03fafc"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_ae647ac6_495b_491b_9335_50a9a64a8f31"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"2948413c_deployment","uuid":"ae647ac6-495b-491b-9335-50a9a64a8f31"},"retries":"0","description":"","type":"SCALING","uuid":"60a14f60-6961-4b1b-a659-21ff8b03fafc","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{scaling_count}@@","type":"","scaling_type":"SCALEOUT"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Deployment_Scaleout_ae647ac6_495b_491b_9335_50a9a64a8f31"}],"description":"","message_list":[],"uuid":"7c4f4a68-c767-4ec8-ad03-000c37c2f692","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"0f762249-e929-480d-a9a6-239039f4aff6","value":"0","label":"","state":"NOT_VALIDATED","attrs":{},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"scaling_count"}],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_ae647ac6_495b_491b_9335_50a9a64a8f31","uuid":"de55c9cd-5c5e-4c71-8501-4f36a01ac4ab"},"name":"SYS_GEN__Runbook_Deployment_ae647ac6_495b_491b_9335_50a9a64a8f31"}},{"description":"System action for scalein","message_list":[],"uuid":"3d6da58a-8f4f-45ee-a75a-6827b5bbcb1e","name":"action_scalein","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"2948413c_deployment","uuid":"ae647ac6-495b-491b-9335-50a9a64a8f31"},"retries":"0","description":"","type":"DAG","uuid":"1cf16b61-3216-4c57-a488-8f18f79f77a4","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Deployment_Scalein_ae647ac6_495b_491b_9335_50a9a64a8f31","uuid":"0d834f72-28c8-4b84-b55c-f88d02aa9300"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_ae647ac6_495b_491b_9335_50a9a64a8f31"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"2948413c_deployment","uuid":"ae647ac6-495b-491b-9335-50a9a64a8f31"},"retries":"0","description":"","type":"SCALING","uuid":"0d834f72-28c8-4b84-b55c-f88d02aa9300","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{scaling_count}@@","type":"","scaling_type":"SCALEIN"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Deployment_Scalein_ae647ac6_495b_491b_9335_50a9a64a8f31"}],"description":"","message_list":[],"uuid":"b2cc8b26-0502-4788-b299-3a53c40a7c08","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"19ba0da0-ac4f-4fa8-9b6b-ae6878f9d233","value":"0","label":"","state":"NOT_VALIDATED","attrs":{},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"scaling_count"}],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_ae647ac6_495b_491b_9335_50a9a64a8f31","uuid":"1cf16b61-3216-4c57-a488-8f18f79f77a4"},"name":"SYS_GEN__Runbook_Deployment_ae647ac6_495b_491b_9335_50a9a64a8f31"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"58f99691-ac02-4aae-861f-63d0087f72a1","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"2948413c_deployment","uuid":"ae647ac6-495b-491b-9335-50a9a64a8f31"},"retries":"0","description":"","type":"DAG","uuid":"326d10e5-621b-482e-9a96-bcad03fda46b","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"afd71b2f-3be5-4ade-a1df-841047980c11"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_b5d0f3b4_c040_4fa9_ae5d_8f996b9efa42","uuid":"1dbb05a1-3528-48d0-8f0e-c0de3efec6a5"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_4a8310a8_12fc_4200_b014_019f49e4a9fd","uuid":"af0c0e5a-ba22-43c6-bb6b-d5f934232be8"},{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_ae647ac6_495b_491b_9335_50a9a64a8f31","uuid":"7c49b871-9b97-4a47-b443-0f1aaf1e2e51"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"afd71b2f-3be5-4ade-a1df-841047980c11"},"edge_type":"inherent","type":"","uuid":"d6445df3-e1f2-4224-882e-b71c34aa9e00","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_b5d0f3b4_c040_4fa9_ae5d_8f996b9efa42","uuid":"1dbb05a1-3528-48d0-8f0e-c0de3efec6a5"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_4a8310a8_12fc_4200_b014_019f49e4a9fd","uuid":"af0c0e5a-ba22-43c6-bb6b-d5f934232be8"},"edge_type":"inherent","type":"","uuid":"5384a869-d0a2-4ce3-a303-abb07e15870f","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_ae647ac6_495b_491b_9335_50a9a64a8f31","uuid":"7c49b871-9b97-4a47-b443-0f1aaf1e2e51"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_b5d0f3b4_c040_4fa9_ae5d_8f996b9efa42","uuid":"1dbb05a1-3528-48d0-8f0e-c0de3efec6a5"},"edge_type":"inherent","type":"","uuid":"9474aa32-1dfe-4f33-a9c7-1299e4cb4755","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_4a8310a8_12fc_4200_b014_019f49e4a9fd","uuid":"af0c0e5a-ba22-43c6-bb6b-d5f934232be8"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_ae647ac6_495b_491b_9335_50a9a64a8f31"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"afd71b2f-3be5-4ade-a1df-841047980c11","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"2948413c_deployment","uuid":"ae647ac6-495b-491b-9335-50a9a64a8f31"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"92ba2635-e9da-48a5-8b58-7a4b4a61ffdf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90"},{"target_any_local_reference":{"kind":"app_package","name":"GCPMasterPackage","uuid":"b5d0f3b4-c040-4fa9-ae5d-8f996b9efa42"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"1dbb05a1-3528-48d0-8f0e-c0de3efec6a5","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_b5d0f3b4_c040_4fa9_ae5d_8f996b9efa42"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPMaster","uuid":"4a8310a8-12fc-4200-b014-019f49e4a9fd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"af0c0e5a-ba22-43c6-bb6b-d5f934232be8","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"2948413c_deployment","uuid":"ae647ac6-495b-491b-9335-50a9a64a8f31"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_4a8310a8_12fc_4200_b014_019f49e4a9fd","uuid":"75973046-e9c6-4766-9764-b2005cf20d9d"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Substrate_4a8310a8_12fc_4200_b014_019f49e4a9fd"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"2948413c_deployment","uuid":"ae647ac6-495b-491b-9335-50a9a64a8f31"},"retries":"0","description":"","type":"SOFT_DELETE_DEPLOYMENT_ELEMENT","uuid":"7c49b871-9b97-4a47-b443-0f1aaf1e2e51","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Soft_Delete_ae647ac6_495b_491b_9335_50a9a64a8f31"}],"description":"","message_list":[],"uuid":"c02703da-85cc-43ec-b0ae-2d9a2aea0e6b","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_ae647ac6_495b_491b_9335_50a9a64a8f31","uuid":"326d10e5-621b-482e-9a96-bcad03fda46b"},"name":"SYS_GEN__Runbook_Deployment_ae647ac6_495b_491b_9335_50a9a64a8f31"}}],"message_list":[],"published_service_local_reference_list":[],"uuid":"ae647ac6-495b-491b-9335-50a9a64a8f31","min_replicas":"1","state":"ACTIVE","max_replicas":"1","depends_on_list":[],"editables":{},"package_local_reference_list":[{"kind":"app_package","name":"GCPMasterPackage","uuid":"b5d0f3b4-c040-4fa9-ae5d-8f996b9efa42"}],"substrate_local_reference":{"kind":"app_substrate","name":"GCPMaster","uuid":"4a8310a8-12fc-4200-b014-019f49e4a9fd"},"type":"GREENFIELD","options":{},"variable_list":[],"name":"2948413c_deployment"},{"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"f850f320-031b-471f-9fb3-8b50471740c7","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"291a1804_deployment","uuid":"7f725ee2-f8c1-4e74-b70e-0884e8d9fef4"},"retries":"0","description":"","type":"DAG","uuid":"a1acd70b-e626-4c9b-94b4-208540338012","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__DE_Provision_7f725ee2_f8c1_4e74_b70e_0884e8d9fef4","uuid":"76f4e0c3-2d8d-4d81-9984-a4d0749aeb76"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_cf42442b_3e6d_4b40_9a7f_e170b57f338e","uuid":"49a6dfde-ebb9-49ac-a957-f1a39b85ae18"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_a785fd76_3fd6_4896_a184_edf5e5e71d31","uuid":"a2ae96e5-160a-41cd-81ef-a62c41ba358b"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"531a949a-9f23-4e1d-9540-d174fc95e001"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"bfea2ee3-a0ba-4221-aa6d-1f36b75ccd0e"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"531a949a-9f23-4e1d-9540-d174fc95e001"},"edge_type":"inherent","type":"","uuid":"effa945b-9d48-438c-8ff8-ca919fc94acf","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"bfea2ee3-a0ba-4221-aa6d-1f36b75ccd0e"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_a785fd76_3fd6_4896_a184_edf5e5e71d31","uuid":"a2ae96e5-160a-41cd-81ef-a62c41ba358b"},"edge_type":"inherent","type":"","uuid":"2df332b0-c0fa-4203-911a-8d08a0de029e","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"531a949a-9f23-4e1d-9540-d174fc95e001"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_7f725ee2_f8c1_4e74_b70e_0884e8d9fef4","uuid":"76f4e0c3-2d8d-4d81-9984-a4d0749aeb76"},"edge_type":"inherent","type":"","uuid":"3e13005c-ec15-487d-855f-eea8928ae9e9","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_cf42442b_3e6d_4b40_9a7f_e170b57f338e","uuid":"49a6dfde-ebb9-49ac-a957-f1a39b85ae18"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_cf42442b_3e6d_4b40_9a7f_e170b57f338e","uuid":"49a6dfde-ebb9-49ac-a957-f1a39b85ae18"},"edge_type":"inherent","type":"","uuid":"eaa4f8c0-bc14-4474-b0ee-acfc5de171d8","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_a785fd76_3fd6_4896_a184_edf5e5e71d31","uuid":"a2ae96e5-160a-41cd-81ef-a62c41ba358b"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_7f725ee2_f8c1_4e74_b70e_0884e8d9fef4"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"291a1804_deployment","uuid":"7f725ee2-f8c1-4e74-b70e-0884e8d9fef4"},"retries":"0","description":"","type":"CREATE_DEPLOYMENT_ELEMENT","uuid":"76f4e0c3-2d8d-4d81-9984-a4d0749aeb76","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Provision_7f725ee2_f8c1_4e74_b70e_0884e8d9fef4"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPSlave","uuid":"cf42442b-3e6d-4b40-9a7f-e170b57f338e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"49a6dfde-ebb9-49ac-a957-f1a39b85ae18","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"291a1804_deployment","uuid":"7f725ee2-f8c1-4e74-b70e-0884e8d9fef4"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_cf42442b_3e6d_4b40_9a7f_e170b57f338e","uuid":"41d2b8c2-13a7-4f2b-9c73-dac5336f9176"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Substrate_cf42442b_3e6d_4b40_9a7f_e170b57f338e"},{"target_any_local_reference":{"kind":"app_package","name":"GCPSlavePackage","uuid":"a785fd76-3fd6-4896-a184-edf5e5e71d31"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"a2ae96e5-160a-41cd-81ef-a62c41ba358b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"291a1804_deployment","uuid":"7f725ee2-f8c1-4e74-b70e-0884e8d9fef4"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_a785fd76_3fd6_4896_a184_edf5e5e71d31","uuid":"b15b4d9d-cd15-4ada-9cc0-486a4ca521b2"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_a785fd76_3fd6_4896_a184_edf5e5e71d31"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"531a949a-9f23-4e1d-9540-d174fc95e001","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"291a1804_deployment","uuid":"7f725ee2-f8c1-4e74-b70e-0884e8d9fef4"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"8f15e59d_runbook","uuid":"3c61d32f-d429-4292-b02b-abf0f370307a"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"bfea2ee3-a0ba-4221-aa6d-1f36b75ccd0e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"291a1804_deployment","uuid":"7f725ee2-f8c1-4e74-b70e-0884e8d9fef4"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"b34d9d39_runbook","uuid":"57a4c7a2-843d-4130-9f5d-51c6ed3ce4d5"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40"}],"description":"","message_list":[],"uuid":"dec172ff-b1f6-410b-ae76-07dd910fce89","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_7f725ee2_f8c1_4e74_b70e_0884e8d9fef4","uuid":"a1acd70b-e626-4c9b-94b4-208540338012"},"name":"SYS_GEN__Runbook_Deployment_7f725ee2_f8c1_4e74_b70e_0884e8d9fef4"}},{"description":"System action for starting an application","message_list":[],"uuid":"71a139a2-c832-4b39-b634-321de3d4b05d","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"291a1804_deployment","uuid":"7f725ee2-f8c1-4e74-b70e-0884e8d9fef4"},"retries":"0","description":"","type":"DAG","uuid":"ef84a17e-1fd5-4b80-b78e-5c7149f1ab11","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_cf42442b_3e6d_4b40_9a7f_e170b57f338e","uuid":"cb065f2d-91d3-4444-a2dc-d8c61167d71b"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"702fdd6e-ac8f-4acf-bcd5-b8d8eb611164"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_cf42442b_3e6d_4b40_9a7f_e170b57f338e","uuid":"cb065f2d-91d3-4444-a2dc-d8c61167d71b"},"edge_type":"inherent","type":"","uuid":"331e3423-5498-424b-a6da-b03e52ba32fb","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"702fdd6e-ac8f-4acf-bcd5-b8d8eb611164"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_7f725ee2_f8c1_4e74_b70e_0884e8d9fef4"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPSlave","uuid":"cf42442b-3e6d-4b40-9a7f-e170b57f338e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"cb065f2d-91d3-4444-a2dc-d8c61167d71b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"291a1804_deployment","uuid":"7f725ee2-f8c1-4e74-b70e-0884e8d9fef4"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_cf42442b_3e6d_4b40_9a7f_e170b57f338e","uuid":"9aabec55-4ad8-490e-8de7-e38d267df08b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Substrate_cf42442b_3e6d_4b40_9a7f_e170b57f338e"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"702fdd6e-ac8f-4acf-bcd5-b8d8eb611164","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"291a1804_deployment","uuid":"7f725ee2-f8c1-4e74-b70e-0884e8d9fef4"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"b34d9d39_runbook","uuid":"57a4c7a2-843d-4130-9f5d-51c6ed3ce4d5"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40"}],"description":"","message_list":[],"uuid":"824009d0-e0a4-451f-8623-f73f8abe1999","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_7f725ee2_f8c1_4e74_b70e_0884e8d9fef4","uuid":"ef84a17e-1fd5-4b80-b78e-5c7149f1ab11"},"name":"SYS_GEN__Runbook_Deployment_7f725ee2_f8c1_4e74_b70e_0884e8d9fef4"}},{"description":"System action for restarting an application","message_list":[],"uuid":"701037bc-7979-44ca-bce8-83731c57c189","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"291a1804_deployment","uuid":"7f725ee2-f8c1-4e74-b70e-0884e8d9fef4"},"retries":"0","description":"","type":"DAG","uuid":"00af1bf4-39e6-46fe-b2fa-dbc05ea1047d","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_cf42442b_3e6d_4b40_9a7f_e170b57f338e","uuid":"b52a9fd4-483c-4125-ad82-8d976c8407a1"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"d1a3171a-9da3-44cf-8ccc-9b9e18438613"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_cf42442b_3e6d_4b40_9a7f_e170b57f338e","uuid":"b52a9fd4-483c-4125-ad82-8d976c8407a1"},"edge_type":"inherent","type":"","uuid":"b5167ef8-80c8-4965-9375-a51be91ae5cf","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"d1a3171a-9da3-44cf-8ccc-9b9e18438613"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_7f725ee2_f8c1_4e74_b70e_0884e8d9fef4"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPSlave","uuid":"cf42442b-3e6d-4b40-9a7f-e170b57f338e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"b52a9fd4-483c-4125-ad82-8d976c8407a1","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"291a1804_deployment","uuid":"7f725ee2-f8c1-4e74-b70e-0884e8d9fef4"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_cf42442b_3e6d_4b40_9a7f_e170b57f338e","uuid":"7d2a936e-647f-4ed3-b134-d9b25fb001c8"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Substrate_cf42442b_3e6d_4b40_9a7f_e170b57f338e"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"d1a3171a-9da3-44cf-8ccc-9b9e18438613","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"291a1804_deployment","uuid":"7f725ee2-f8c1-4e74-b70e-0884e8d9fef4"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"c1c4eebd_runbook","uuid":"bea78664-aea0-4d1f-b708-8ef876af38d5"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40"}],"description":"","message_list":[],"uuid":"189e1ec8-3231-40b8-98d7-2035ab8c37ae","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_7f725ee2_f8c1_4e74_b70e_0884e8d9fef4","uuid":"00af1bf4-39e6-46fe-b2fa-dbc05ea1047d"},"name":"SYS_GEN__Runbook_Deployment_7f725ee2_f8c1_4e74_b70e_0884e8d9fef4"}},{"description":"System action for stopping an application","message_list":[],"uuid":"8ac5b0be-7b03-44ff-bb24-5d93c714450e","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"291a1804_deployment","uuid":"7f725ee2-f8c1-4e74-b70e-0884e8d9fef4"},"retries":"0","description":"","type":"DAG","uuid":"2078a130-e24c-45b2-a2ef-247073fcddc8","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"c5c4afc3-bfc3-4e53-85b3-73116e187b23"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_cf42442b_3e6d_4b40_9a7f_e170b57f338e","uuid":"7abc57ba-6265-4e0c-baca-504efb9f7fd4"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"c5c4afc3-bfc3-4e53-85b3-73116e187b23"},"edge_type":"inherent","type":"","uuid":"8268733c-ee9d-40e0-a27f-8cf30c55d666","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_cf42442b_3e6d_4b40_9a7f_e170b57f338e","uuid":"7abc57ba-6265-4e0c-baca-504efb9f7fd4"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_7f725ee2_f8c1_4e74_b70e_0884e8d9fef4"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"c5c4afc3-bfc3-4e53-85b3-73116e187b23","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"291a1804_deployment","uuid":"7f725ee2-f8c1-4e74-b70e-0884e8d9fef4"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0e2bd4c9_runbook","uuid":"8e29699f-df44-4802-8ae9-689322c6575c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPSlave","uuid":"cf42442b-3e6d-4b40-9a7f-e170b57f338e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"7abc57ba-6265-4e0c-baca-504efb9f7fd4","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"291a1804_deployment","uuid":"7f725ee2-f8c1-4e74-b70e-0884e8d9fef4"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_cf42442b_3e6d_4b40_9a7f_e170b57f338e","uuid":"068e7af6-1ab5-4506-a82c-84f2e85d9abf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Substrate_cf42442b_3e6d_4b40_9a7f_e170b57f338e"}],"description":"","message_list":[],"uuid":"bc013327-3e85-4d0a-b46b-9662119b17f3","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_7f725ee2_f8c1_4e74_b70e_0884e8d9fef4","uuid":"2078a130-e24c-45b2-a2ef-247073fcddc8"},"name":"SYS_GEN__Runbook_Deployment_7f725ee2_f8c1_4e74_b70e_0884e8d9fef4"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"313da8e6-082f-49b0-a15f-7c4889103e2d","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"291a1804_deployment","uuid":"7f725ee2-f8c1-4e74-b70e-0884e8d9fef4"},"retries":"0","description":"","type":"DAG","uuid":"9cd981a1-ec93-469c-9fa1-f7961ef957a8","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"c8ab4bc2-a381-4d94-bff1-af489981dcf1"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"89612001-299a-4f8f-bcb8-6a6b0fd81487"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_a785fd76_3fd6_4896_a184_edf5e5e71d31","uuid":"da770ac0-3db9-4729-ba9c-adc3ff83abd4"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_cf42442b_3e6d_4b40_9a7f_e170b57f338e","uuid":"a497a031-ce1a-4436-b636-ba9fbac3d81f"},{"kind":"app_task","name":"SYS_GEN__DE_Delete_7f725ee2_f8c1_4e74_b70e_0884e8d9fef4","uuid":"7c494fb4-b049-4af5-993b-9484bb4f7c5a"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"c8ab4bc2-a381-4d94-bff1-af489981dcf1"},"edge_type":"inherent","type":"","uuid":"07ded0d5-d164-447f-8a9b-99beb9b1b282","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"89612001-299a-4f8f-bcb8-6a6b0fd81487"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"89612001-299a-4f8f-bcb8-6a6b0fd81487"},"edge_type":"inherent","type":"","uuid":"6d4e1c1c-6987-4a73-9f75-e14d761a4b99","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_a785fd76_3fd6_4896_a184_edf5e5e71d31","uuid":"da770ac0-3db9-4729-ba9c-adc3ff83abd4"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_cf42442b_3e6d_4b40_9a7f_e170b57f338e","uuid":"a497a031-ce1a-4436-b636-ba9fbac3d81f"},"edge_type":"inherent","type":"","uuid":"7d911ccc-f7cb-499b-ae0c-4550f3182676","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Delete_7f725ee2_f8c1_4e74_b70e_0884e8d9fef4","uuid":"7c494fb4-b049-4af5-993b-9484bb4f7c5a"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_a785fd76_3fd6_4896_a184_edf5e5e71d31","uuid":"da770ac0-3db9-4729-ba9c-adc3ff83abd4"},"edge_type":"inherent","type":"","uuid":"78436a6b-9e77-4d9a-a49f-136b59113fb2","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_cf42442b_3e6d_4b40_9a7f_e170b57f338e","uuid":"a497a031-ce1a-4436-b636-ba9fbac3d81f"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_7f725ee2_f8c1_4e74_b70e_0884e8d9fef4"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"c8ab4bc2-a381-4d94-bff1-af489981dcf1","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"291a1804_deployment","uuid":"7f725ee2-f8c1-4e74-b70e-0884e8d9fef4"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0e2bd4c9_runbook","uuid":"8e29699f-df44-4802-8ae9-689322c6575c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"89612001-299a-4f8f-bcb8-6a6b0fd81487","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"291a1804_deployment","uuid":"7f725ee2-f8c1-4e74-b70e-0884e8d9fef4"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"08946714_runbook","uuid":"005a7fbe-7426-4c75-aa02-8ca0b1db5dbb"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40"},{"target_any_local_reference":{"kind":"app_package","name":"GCPSlavePackage","uuid":"a785fd76-3fd6-4896-a184-edf5e5e71d31"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"da770ac0-3db9-4729-ba9c-adc3ff83abd4","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"291a1804_deployment","uuid":"7f725ee2-f8c1-4e74-b70e-0884e8d9fef4"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_a785fd76_3fd6_4896_a184_edf5e5e71d31","uuid":"a49ed999-a918-4b2c-8c12-8ae82f0d085b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_a785fd76_3fd6_4896_a184_edf5e5e71d31"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPSlave","uuid":"cf42442b-3e6d-4b40-9a7f-e170b57f338e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"a497a031-ce1a-4436-b636-ba9fbac3d81f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"291a1804_deployment","uuid":"7f725ee2-f8c1-4e74-b70e-0884e8d9fef4"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_cf42442b_3e6d_4b40_9a7f_e170b57f338e","uuid":"8c279c0e-0585-49e9-a2d9-ccbf06819245"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Substrate_cf42442b_3e6d_4b40_9a7f_e170b57f338e"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"291a1804_deployment","uuid":"7f725ee2-f8c1-4e74-b70e-0884e8d9fef4"},"retries":"0","description":"","type":"DELETE_DEPLOYMENT_ELEMENT","uuid":"7c494fb4-b049-4af5-993b-9484bb4f7c5a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Delete_7f725ee2_f8c1_4e74_b70e_0884e8d9fef4"}],"description":"","message_list":[],"uuid":"3e4e5835-c8a0-4971-b02f-35887fbfb2a4","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_7f725ee2_f8c1_4e74_b70e_0884e8d9fef4","uuid":"9cd981a1-ec93-469c-9fa1-f7961ef957a8"},"name":"SYS_GEN__Runbook_Deployment_7f725ee2_f8c1_4e74_b70e_0884e8d9fef4"}},{"description":"System action for scaleout","message_list":[],"uuid":"cdaa300f-bc33-4886-b005-01bc408deb6b","name":"action_scaleout","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"291a1804_deployment","uuid":"7f725ee2-f8c1-4e74-b70e-0884e8d9fef4"},"retries":"0","description":"","type":"DAG","uuid":"585d91a4-3692-41b4-9652-a95203b7b8fc","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Deployment_Scaleout_7f725ee2_f8c1_4e74_b70e_0884e8d9fef4","uuid":"2af06db4-6963-436d-9246-01e6dec8da70"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_7f725ee2_f8c1_4e74_b70e_0884e8d9fef4"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"291a1804_deployment","uuid":"7f725ee2-f8c1-4e74-b70e-0884e8d9fef4"},"retries":"0","description":"","type":"SCALING","uuid":"2af06db4-6963-436d-9246-01e6dec8da70","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{scaling_count}@@","type":"","scaling_type":"SCALEOUT"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Deployment_Scaleout_7f725ee2_f8c1_4e74_b70e_0884e8d9fef4"}],"description":"","message_list":[],"uuid":"88ac897d-20c8-4bb1-8c9e-45b871ccec3d","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"196f3f86-fb61-47fb-a3c4-16c7a0f33485","value":"0","label":"","state":"NOT_VALIDATED","attrs":{},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"scaling_count"}],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_7f725ee2_f8c1_4e74_b70e_0884e8d9fef4","uuid":"585d91a4-3692-41b4-9652-a95203b7b8fc"},"name":"SYS_GEN__Runbook_Deployment_7f725ee2_f8c1_4e74_b70e_0884e8d9fef4"}},{"description":"System action for scalein","message_list":[],"uuid":"12ea39e5-07a5-4e69-b8c0-923e2ecf39c5","name":"action_scalein","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"291a1804_deployment","uuid":"7f725ee2-f8c1-4e74-b70e-0884e8d9fef4"},"retries":"0","description":"","type":"DAG","uuid":"9034b198-2c3b-417d-a73e-e14610811073","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Deployment_Scalein_7f725ee2_f8c1_4e74_b70e_0884e8d9fef4","uuid":"78e623bc-21ca-44ac-bd0e-b8a3c2172019"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_7f725ee2_f8c1_4e74_b70e_0884e8d9fef4"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"291a1804_deployment","uuid":"7f725ee2-f8c1-4e74-b70e-0884e8d9fef4"},"retries":"0","description":"","type":"SCALING","uuid":"78e623bc-21ca-44ac-bd0e-b8a3c2172019","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{scaling_count}@@","type":"","scaling_type":"SCALEIN"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Deployment_Scalein_7f725ee2_f8c1_4e74_b70e_0884e8d9fef4"}],"description":"","message_list":[],"uuid":"cdba9091-9034-44a0-b53f-0e5ffaaa8701","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"e9aa056b-c514-49c1-bfb7-e7cd513be580","value":"0","label":"","state":"NOT_VALIDATED","attrs":{},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"scaling_count"}],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_7f725ee2_f8c1_4e74_b70e_0884e8d9fef4","uuid":"9034b198-2c3b-417d-a73e-e14610811073"},"name":"SYS_GEN__Runbook_Deployment_7f725ee2_f8c1_4e74_b70e_0884e8d9fef4"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"ca2eb56a-ab5e-41e6-9636-5fccdf25a6bf","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"291a1804_deployment","uuid":"7f725ee2-f8c1-4e74-b70e-0884e8d9fef4"},"retries":"0","description":"","type":"DAG","uuid":"7674160e-071b-4977-8355-329847fb5f68","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"51bce01a-574e-4106-a153-4ad13bdd435d"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_a785fd76_3fd6_4896_a184_edf5e5e71d31","uuid":"07bdca17-f770-4e54-bf7c-266161167caa"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_cf42442b_3e6d_4b40_9a7f_e170b57f338e","uuid":"8d6ec70f-268b-4537-91e6-beffbd4b494c"},{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_7f725ee2_f8c1_4e74_b70e_0884e8d9fef4","uuid":"466605fb-c97f-43f1-9a3d-665bcd625722"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"51bce01a-574e-4106-a153-4ad13bdd435d"},"edge_type":"inherent","type":"","uuid":"20edca79-d6f6-4057-9798-a8bc0955c3fb","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_a785fd76_3fd6_4896_a184_edf5e5e71d31","uuid":"07bdca17-f770-4e54-bf7c-266161167caa"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_a785fd76_3fd6_4896_a184_edf5e5e71d31","uuid":"07bdca17-f770-4e54-bf7c-266161167caa"},"edge_type":"inherent","type":"","uuid":"fb192f35-3943-4298-bb5e-1c1494957abd","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_cf42442b_3e6d_4b40_9a7f_e170b57f338e","uuid":"8d6ec70f-268b-4537-91e6-beffbd4b494c"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_cf42442b_3e6d_4b40_9a7f_e170b57f338e","uuid":"8d6ec70f-268b-4537-91e6-beffbd4b494c"},"edge_type":"inherent","type":"","uuid":"6d9aea64-2b8c-4ac8-ac73-67d0f391350b","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_7f725ee2_f8c1_4e74_b70e_0884e8d9fef4","uuid":"466605fb-c97f-43f1-9a3d-665bcd625722"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_7f725ee2_f8c1_4e74_b70e_0884e8d9fef4"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"51bce01a-574e-4106-a153-4ad13bdd435d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"291a1804_deployment","uuid":"7f725ee2-f8c1-4e74-b70e-0884e8d9fef4"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"febe47f3-782b-40c3-abcb-ce825626516f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40"},{"target_any_local_reference":{"kind":"app_package","name":"GCPSlavePackage","uuid":"a785fd76-3fd6-4896-a184-edf5e5e71d31"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"07bdca17-f770-4e54-bf7c-266161167caa","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_a785fd76_3fd6_4896_a184_edf5e5e71d31"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPSlave","uuid":"cf42442b-3e6d-4b40-9a7f-e170b57f338e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"8d6ec70f-268b-4537-91e6-beffbd4b494c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"291a1804_deployment","uuid":"7f725ee2-f8c1-4e74-b70e-0884e8d9fef4"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_cf42442b_3e6d_4b40_9a7f_e170b57f338e","uuid":"c99f707e-5c60-40fd-ba77-2a59221f86a9"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Substrate_cf42442b_3e6d_4b40_9a7f_e170b57f338e"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"291a1804_deployment","uuid":"7f725ee2-f8c1-4e74-b70e-0884e8d9fef4"},"retries":"0","description":"","type":"SOFT_DELETE_DEPLOYMENT_ELEMENT","uuid":"466605fb-c97f-43f1-9a3d-665bcd625722","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Soft_Delete_7f725ee2_f8c1_4e74_b70e_0884e8d9fef4"}],"description":"","message_list":[],"uuid":"059e8c2d-128b-4ee7-bc28-0379f5469ad6","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_7f725ee2_f8c1_4e74_b70e_0884e8d9fef4","uuid":"7674160e-071b-4977-8355-329847fb5f68"},"name":"SYS_GEN__Runbook_Deployment_7f725ee2_f8c1_4e74_b70e_0884e8d9fef4"}}],"message_list":[],"published_service_local_reference_list":[],"uuid":"7f725ee2-f8c1-4e74-b70e-0884e8d9fef4","min_replicas":"2","state":"ACTIVE","max_replicas":"4","depends_on_list":[],"editables":{"min_replicas":true,"max_replicas":true},"package_local_reference_list":[{"kind":"app_package","name":"GCPSlavePackage","uuid":"a785fd76-3fd6-4896-a184-edf5e5e71d31"}],"substrate_local_reference":{"kind":"app_substrate","name":"GCPSlave","uuid":"cf42442b-3e6d-4b40-9a7f-e170b57f338e"},"type":"GREENFIELD","options":{},"variable_list":[],"name":"291a1804_deployment"}],"description":"","action_list":[{"description":"Take DB backup. \nDB_NAME : Name of DB to be backup\nBACKUP_FILE_PATH : Absolute directory path for backup file","message_list":[],"uuid":"663428a9-9a75-4299-8a0a-f8a3fe8a449d","name":"Backup","state":"ACTIVE","critical":false,"attrs":{},"type":"user","runbook":{"task_definition_list":[{"retries":"0","description":"","type":"DAG","uuid":"49bd1189-abea-4e4e-8541-42f95ce84e29","child_tasks_local_reference_list":[{"kind":"app_task","name":"DoDBBackup","uuid":"33121ad1-be3e-4f00-976f-f2f337f14d14"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"a54e2220_dag"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"EXEC","uuid":"33121ad1-be3e-4f00-976f-f2f337f14d14","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\ndb_name=\"@@{DB_NAME}@@\"\nbackup_file_path=\"@@{BACKUP_FILE_PATH}@@\"\n\nsudo su - postgres bash -c \"pg_dump ${db_name} | gzip > ${backup_file_path}\"","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"DoDBBackup"}],"description":"","message_list":[],"uuid":"09ded9f5-3362-4c55-8660-38b7a28e2823","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"30bad926-01a6-41c0-a082-ca4c39c4a286","value":"postgres","label":"","state":"ACTIVE","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"DB_NAME"},{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"8b2cbdeb-6946-4799-9d17-977444bee4ed","value":"~\/db.backup","label":"","state":"ACTIVE","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"BACKUP_FILE_PATH"}],"main_task_local_reference":{"kind":"app_task","name":"a54e2220_dag","uuid":"49bd1189-abea-4e4e-8541-42f95ce84e29"},"name":"1e1da654_runbook"}},{"description":"Restore DB from dump file\nDB_NAME : Name of DB to be backup\nRESTORE_FILE_PATH : Absolute directory path for restore file","message_list":[],"uuid":"b59d9d07-5fbd-4080-a51e-eb2223b736c1","name":"Restore","state":"ACTIVE","critical":false,"attrs":{},"type":"user","runbook":{"task_definition_list":[{"retries":"0","description":"","type":"DAG","uuid":"cd6db834-b32f-426d-bde4-426039d3dfaa","child_tasks_local_reference_list":[{"kind":"app_task","name":"DoDBRestore","uuid":"b74d7d2c-0ddc-4db5-bb56-06fed831975a"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"19e01795_dag"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"EXEC","uuid":"b74d7d2c-0ddc-4db5-bb56-06fed831975a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\ndb_name=\"@@{DB_NAME}@@\"\nrestore_file_path=\"@@{RESTORE_FILE_PATH}@@\"\n\nsudo su - postgres bash -c \"gunzip -c ${restore_file_path} | psql ${db_name}\"","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"DoDBRestore"}],"description":"","message_list":[],"uuid":"c424e70d-78fd-43eb-a115-7970d17733d0","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"12197f70-50eb-4da6-9c59-4e1f3deffcd2","value":"postgres","label":"","state":"ACTIVE","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"DB_NAME"},{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"f956e094-c737-4588-913d-0ebd30fe8158","value":"~\/db.backup","label":"","state":"ACTIVE","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"RESTORE_FILE_PATH"}],"main_task_local_reference":{"kind":"app_task","name":"19e01795_dag","uuid":"cd6db834-b32f-426d-bde4-426039d3dfaa"},"name":"4e666fca_runbook"}},{"description":"","message_list":[],"uuid":"52e476ef-f9a5-4bef-9155-f6719bf68b14","name":"Scale Out","state":"ACTIVE","critical":false,"attrs":{},"type":"user","runbook":{"task_definition_list":[{"retries":"0","description":"","type":"DAG","uuid":"e92f90c3-8745-46f8-b494-308f10637f3c","child_tasks_local_reference_list":[{"kind":"app_task","name":"Scale Out Slave","uuid":"c609389e-ca94-469e-9c68-383aea1c7c06"},{"kind":"app_task","name":"Configure Master","uuid":"b097a061-5241-472e-92e9-6dfd0bda5674"},{"kind":"app_task","name":"Configure Slave","uuid":"aa6d4931-de38-417c-811a-ea96debee1df"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Scale Out Slave","uuid":"c609389e-ca94-469e-9c68-383aea1c7c06"},"edge_type":"user_defined","type":"","uuid":"ad76f039-ccae-4f29-9cb2-d0d93c4b0826","to_task_reference":{"kind":"app_task","name":"Configure Slave","uuid":"aa6d4931-de38-417c-811a-ea96debee1df"}},{"from_task_reference":{"kind":"app_task","name":"Configure Master","uuid":"b097a061-5241-472e-92e9-6dfd0bda5674"},"edge_type":"user_defined","type":"","uuid":"be76d6e8-2ae4-4149-8ac7-2f3f89bc295c","to_task_reference":{"kind":"app_task","name":"Configure Slave","uuid":"aa6d4931-de38-417c-811a-ea96debee1df"}},{"from_task_reference":{"kind":"app_task","name":"Scale Out Slave","uuid":"c609389e-ca94-469e-9c68-383aea1c7c06"},"edge_type":"user_defined","type":"","uuid":"f16c32ba-aed3-431d-a633-c178f75ae701","to_task_reference":{"kind":"app_task","name":"Configure Master","uuid":"b097a061-5241-472e-92e9-6dfd0bda5674"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"7f3617fd_dag"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"291a1804_deployment","uuid":"7f725ee2-f8c1-4e74-b70e-0884e8d9fef4"},"retries":"0","description":"","type":"SCALING","uuid":"c609389e-ca94-469e-9c68-383aea1c7c06","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"1","type":"","scaling_type":"SCALEOUT"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Scale Out Slave"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"EXEC","uuid":"b097a061-5241-472e-92e9-6dfd0bda5674","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\nSlaves=($(echo @@{GCPSlave.address}@@ | sed 's\/^,\/\/' | sed 's\/,$\/\/' | tr \",\" \" \"))    \n\n\necho \"host    replication     rep     ${Slaves[-1]}\/32     md5\" | sudo tee -a \/var\/lib\/pgsql\/9.6\/data\/pg_hba.conf\n\nsudo -i -u postgres \/usr\/pgsql-9.6\/bin\/pg_ctl reload;\n\nsleep 20\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Configure Master"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"EXEC","uuid":"aa6d4931-de38-417c-811a-ea96debee1df","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\nSlaves=($(echo @@{Postgres_Slave.address}@@ | sed 's\/^,\/\/' | sed 's\/,$\/\/' | tr \",\" \" \"))    \nScaleout_IP=${Slaves[-1]}\n\nif [ \"${Scaleout_IP}\" != \"@@{address}@@\" ]\nthen\n\texit 0;\nfi\n\n\nMaster_IP=@@{GCPMaster.address}@@    \n\n\nsudo systemctl stop postgresql-9.6\nsleep 2;\n\nsudo su - postgres <<EOF\n  mv 9.6\/data 9.6\/data.org\n  echo \"${Master_IP}:5432:*:rep:@@{DB_PASSWORD}@@\" > ~\/.pgpass\n  chmod 0600 ~\/.pgpass\n  pg_basebackup -h ${Master_IP} -D \/var\/lib\/pgsql\/9.6\/data -U rep -v -P\nEOF\n\n\n##copy the created postgres directory to a temp directory\nsudo mkdir \/tmp\/pgsql\nsudo mv \/var\/lib\/pgsql\/9.6\/data \/tmp\/pgsql\n\n#Create directory , fix permissions and Mount LVM\nsudo mkdir \/var\/lib\/pgsql\/9.6\/data\/\nsudo mount -o noatime,barrier=0 \/dev\/pgDataVG\/pgDataLV \/var\/lib\/pgsql\/9.6\/data\/ \n\nsudo mkdir \/var\/lib\/pgsql\/9.6\/data\/pg_xlog\nsudo mount -o noatime,barrier=0 \/dev\/pgLogVG\/pgLogLV \/var\/lib\/pgsql\/9.6\/data\/pg_xlog\n\nsudo chown -R postgres:postgres \/var\/lib\/pgsql\/9.6\/data\/\n\n#move the xlog to the new LVM\nsudo find \/tmp\/pgsql\/data\/pg_xlog -maxdepth 1 -mindepth 1 -exec mv -t \/var\/lib\/pgsql\/9.6\/data\/pg_xlog\/ {} +\n\n#remove pg_xlog from temp dir to avoid being copied again\nsudo rm -rf \/tmp\/pgsql\/data\/pg_xlog\n\n#move the pgsql directory to the LVM\nsudo find \/tmp\/pgsql\/data -maxdepth 1 -mindepth 1 -exec mv -t \/var\/lib\/pgsql\/9.6\/data\/ {} +\n\nsudo chmod -R 0700 \/var\/lib\/pgsql\/9.6\/data\n\n#enable service on boot\nsudo systemctl enable postgresql-9.6.service\n\n#add mount points to \/etc\/fstab\necho \"\/dev\/mapper\/pgDataVG-pgDataLV \/var\/lib\/pgsql\/9.6\/data ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\necho \"\/dev\/mapper\/pgLogVG-pgLogLV \/var\/lib\/pgsql\/9.6\/data\/pg_xlog ext4 rw,seclabel,noatime,nobarrier,stripe=2048,data=ordered 0 0\" | sudo tee -a  \/etc\/fstab\n\n\nsleep 2\nsudo sed -i -e 's\/ExecStart=.*\/ExecStart=\\\/usr\\\/pgsql-9\\.6\\\/bin\\\/pg_ctl start -D ${PGDATA} -s -W -t 300\/g' \/usr\/lib\/systemd\/system\/postgresql-9.6.service\n\necho \"host    replication     rep     ${Master_IP}\/32     md5\" | sudo tee -a \/var\/lib\/pgsql\/9.6\/data\/pg_hba.conf\necho \"listen_addresses = '*'\nwal_level = 'hot_standby'\narchive_mode = on\narchive_command = 'cd .'\nmax_wal_senders = 3\nhot_standby = on\nwal_keep_segments = 8\" | sudo tee -a \/var\/lib\/pgsql\/9.6\/data\/postgresql.conf\n\nsudo su - postgres sh -c \"touch 9.6\/data\/recovery.conf\"\n\necho \"standby_mode = 'on'\nprimary_conninfo = 'host=${Master_IP} port=5432 user=rep password=@@{DB_PASSWORD}@@'\ntrigger_file = '\/tmp\/postgresql.trigger.5432'\" | sudo tee -a \/var\/lib\/pgsql\/9.6\/data\/recovery.conf\n\nsudo systemctl start postgresql-9.6","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Configure Slave"}],"description":"","message_list":[],"uuid":"a3a317c2-d74e-448a-8cf8-5d006e20fcc8","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"e09b6c51-99dd-4432-ae6e-c358215cff3a","value":"YES","label":"","state":"ACTIVE","attrs":{"type":""},"editables":{},"is_hidden":false,"type":"LOCAL","options":{},"name":"IS_SCALEOUT"}],"main_task_local_reference":{"kind":"app_task","name":"7f3617fd_dag","uuid":"e92f90c3-8745-46f8-b494-308f10637f3c"},"name":"2646539b_runbook"}},{"description":"","message_list":[],"uuid":"fe68b6c0-8c07-4233-b9d8-8c2ac72fd282","name":"Scale In","state":"ACTIVE","critical":false,"attrs":{},"type":"user","runbook":{"task_definition_list":[{"retries":"0","description":"","type":"DAG","uuid":"caddeb32-9342-4a3a-bdb0-9f523e6dd213","child_tasks_local_reference_list":[{"kind":"app_task","name":"Scale In Slave","uuid":"4bb5d040-f980-413c-a7a3-b15a77c07176"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"4cbdc469_dag"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"291a1804_deployment","uuid":"7f725ee2-f8c1-4e74-b70e-0884e8d9fef4"},"retries":"0","description":"","type":"SCALING","uuid":"4bb5d040-f980-413c-a7a3-b15a77c07176","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"1","type":"","scaling_type":"SCALEIN"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Scale In Slave"}],"description":"","message_list":[],"uuid":"1b72a549-e5ca-428c-872d-5eb54c630dc3","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"4cbdc469_dag","uuid":"caddeb32-9342-4a3a-bdb0-9f523e6dd213"},"name":"24314c27_runbook"}},{"description":"System action for creating an application","message_list":[],"uuid":"b9d055a4-fdc4-4031-8120-1690c03c0af4","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"GCP","uuid":"4b8d1512-2d66-44fc-b4d9-2af89cdf3aa4"},"retries":"0","description":"","type":"DAG","uuid":"be644acf-8332-4641-8d86-3d56a3db0b9e","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__DE_Provision_ae647ac6_495b_491b_9335_50a9a64a8f31","uuid":"cd5fe502-5cc0-4da3-9ca6-c452c4718303"},{"kind":"app_task","name":"SYS_GEN__DE_Provision_7f725ee2_f8c1_4e74_b70e_0884e8d9fef4","uuid":"9642079a-7894-415d-b814-f60ec2ea9214"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_cf42442b_3e6d_4b40_9a7f_e170b57f338e","uuid":"e3b41aee-46bb-4370-8ad8-89398fbd91af"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_4a8310a8_12fc_4200_b014_019f49e4a9fd","uuid":"34cf6a7c-3aa7-445f-a940-69667b35b250"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_a785fd76_3fd6_4896_a184_edf5e5e71d31","uuid":"c8f98538-95e0-44d8-98d4-cfc0b45bf81b"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_b5d0f3b4_c040_4fa9_ae5d_8f996b9efa42","uuid":"4948b957-a0ae-478d-ae1d-93487d9af8b6"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"b27599c1-c930-4810-9f09-7b20d54d8f4a"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"31701c5a-8cdc-482e-b0d1-615be3bbea0b"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"2fa2e7da-9f61-4fa2-aac3-56b856b6903c"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"bab8d0cd-764a-4de9-b768-ed73b4f610f1"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"b27599c1-c930-4810-9f09-7b20d54d8f4a"},"edge_type":"inherent","type":"","uuid":"f6c97e9c-e480-4c27-8a25-e95f9c74d84b","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"31701c5a-8cdc-482e-b0d1-615be3bbea0b"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_b5d0f3b4_c040_4fa9_ae5d_8f996b9efa42","uuid":"4948b957-a0ae-478d-ae1d-93487d9af8b6"},"edge_type":"inherent","type":"","uuid":"bfd750db-3897-4901-8b98-f3ff03bd0cb4","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"b27599c1-c930-4810-9f09-7b20d54d8f4a"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_ae647ac6_495b_491b_9335_50a9a64a8f31","uuid":"cd5fe502-5cc0-4da3-9ca6-c452c4718303"},"edge_type":"inherent","type":"","uuid":"66b87d9c-6c51-47f0-89b6-15cc361ee810","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_4a8310a8_12fc_4200_b014_019f49e4a9fd","uuid":"34cf6a7c-3aa7-445f-a940-69667b35b250"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_4a8310a8_12fc_4200_b014_019f49e4a9fd","uuid":"34cf6a7c-3aa7-445f-a940-69667b35b250"},"edge_type":"inherent","type":"","uuid":"bcc77a54-48db-413e-b847-6366cf2ec830","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_b5d0f3b4_c040_4fa9_ae5d_8f996b9efa42","uuid":"4948b957-a0ae-478d-ae1d-93487d9af8b6"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"2fa2e7da-9f61-4fa2-aac3-56b856b6903c"},"edge_type":"inherent","type":"","uuid":"4c072e9f-7893-4040-bcf0-043d2cbe7cb9","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"bab8d0cd-764a-4de9-b768-ed73b4f610f1"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_a785fd76_3fd6_4896_a184_edf5e5e71d31","uuid":"c8f98538-95e0-44d8-98d4-cfc0b45bf81b"},"edge_type":"inherent","type":"","uuid":"2b5885a2-4470-414c-a7d5-510359d898e7","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"2fa2e7da-9f61-4fa2-aac3-56b856b6903c"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_7f725ee2_f8c1_4e74_b70e_0884e8d9fef4","uuid":"9642079a-7894-415d-b814-f60ec2ea9214"},"edge_type":"inherent","type":"","uuid":"bc35975a-2480-484e-bee1-05f0a232f6bd","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_cf42442b_3e6d_4b40_9a7f_e170b57f338e","uuid":"e3b41aee-46bb-4370-8ad8-89398fbd91af"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_cf42442b_3e6d_4b40_9a7f_e170b57f338e","uuid":"e3b41aee-46bb-4370-8ad8-89398fbd91af"},"edge_type":"inherent","type":"","uuid":"d27f6ddc-5d23-412e-aabb-ec8a01d154af","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_a785fd76_3fd6_4896_a184_edf5e5e71d31","uuid":"c8f98538-95e0-44d8-98d4-cfc0b45bf81b"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"31701c5a-8cdc-482e-b0d1-615be3bbea0b"},"edge_type":"depends_on","type":"","uuid":"3af417d2-086b-4f51-aeff-bfc0e7680aac","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"2fa2e7da-9f61-4fa2-aac3-56b856b6903c"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_cf42442b_3e6d_4b40_9a7f_e170b57f338e","uuid":"e3b41aee-46bb-4370-8ad8-89398fbd91af"},"edge_type":"dependency","type":"","uuid":"d148f192-6dca-45be-acd9-103271856bde","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"b27599c1-c930-4810-9f09-7b20d54d8f4a"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_4a8310a8_12fc_4200_b014_019f49e4a9fd","uuid":"34cf6a7c-3aa7-445f-a940-69667b35b250"},"edge_type":"dependency","type":"","uuid":"aa022c77-3af7-45ef-a184-4e10972188eb","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"2fa2e7da-9f61-4fa2-aac3-56b856b6903c"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_4b8d1512_2d66_44fc_b4d9_2af89cdf3aa4"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"2948413c_deployment","uuid":"ae647ac6-495b-491b-9335-50a9a64a8f31"},"retries":"0","description":"","type":"CREATE_DEPLOYMENT_ELEMENT","uuid":"cd5fe502-5cc0-4da3-9ca6-c452c4718303","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Provision_ae647ac6_495b_491b_9335_50a9a64a8f31"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"291a1804_deployment","uuid":"7f725ee2-f8c1-4e74-b70e-0884e8d9fef4"},"retries":"0","description":"","type":"CREATE_DEPLOYMENT_ELEMENT","uuid":"9642079a-7894-415d-b814-f60ec2ea9214","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Provision_7f725ee2_f8c1_4e74_b70e_0884e8d9fef4"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPSlave","uuid":"cf42442b-3e6d-4b40-9a7f-e170b57f338e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"e3b41aee-46bb-4370-8ad8-89398fbd91af","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"291a1804_deployment","uuid":"7f725ee2-f8c1-4e74-b70e-0884e8d9fef4"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_cf42442b_3e6d_4b40_9a7f_e170b57f338e","uuid":"41d2b8c2-13a7-4f2b-9c73-dac5336f9176"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Substrate_cf42442b_3e6d_4b40_9a7f_e170b57f338e"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPMaster","uuid":"4a8310a8-12fc-4200-b014-019f49e4a9fd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"34cf6a7c-3aa7-445f-a940-69667b35b250","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"2948413c_deployment","uuid":"ae647ac6-495b-491b-9335-50a9a64a8f31"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_4a8310a8_12fc_4200_b014_019f49e4a9fd","uuid":"cd4f2292-3c18-4c5f-8f7a-670e135123ac"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Substrate_4a8310a8_12fc_4200_b014_019f49e4a9fd"},{"target_any_local_reference":{"kind":"app_package","name":"GCPSlavePackage","uuid":"a785fd76-3fd6-4896-a184-edf5e5e71d31"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"c8f98538-95e0-44d8-98d4-cfc0b45bf81b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"291a1804_deployment","uuid":"7f725ee2-f8c1-4e74-b70e-0884e8d9fef4"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_a785fd76_3fd6_4896_a184_edf5e5e71d31","uuid":"b15b4d9d-cd15-4ada-9cc0-486a4ca521b2"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_a785fd76_3fd6_4896_a184_edf5e5e71d31"},{"target_any_local_reference":{"kind":"app_package","name":"GCPMasterPackage","uuid":"b5d0f3b4-c040-4fa9-ae5d-8f996b9efa42"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"4948b957-a0ae-478d-ae1d-93487d9af8b6","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"2948413c_deployment","uuid":"ae647ac6-495b-491b-9335-50a9a64a8f31"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_b5d0f3b4_c040_4fa9_ae5d_8f996b9efa42","uuid":"44025375-e16a-4ab4-8ac3-7b31f766dbbd"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_b5d0f3b4_c040_4fa9_ae5d_8f996b9efa42"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"b27599c1-c930-4810-9f09-7b20d54d8f4a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"2948413c_deployment","uuid":"ae647ac6-495b-491b-9335-50a9a64a8f31"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"c528d489_runbook","uuid":"a5cf54be-5eb3-4cbb-8cbf-c295bbc3af83"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"31701c5a-8cdc-482e-b0d1-615be3bbea0b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"2948413c_deployment","uuid":"ae647ac6-495b-491b-9335-50a9a64a8f31"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"c02553e2_runbook","uuid":"81959707-f27f-4259-a9b6-d4f736a28f5c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"2fa2e7da-9f61-4fa2-aac3-56b856b6903c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"291a1804_deployment","uuid":"7f725ee2-f8c1-4e74-b70e-0884e8d9fef4"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"8f15e59d_runbook","uuid":"3c61d32f-d429-4292-b02b-abf0f370307a"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"bab8d0cd-764a-4de9-b768-ed73b4f610f1","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"291a1804_deployment","uuid":"7f725ee2-f8c1-4e74-b70e-0884e8d9fef4"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"b34d9d39_runbook","uuid":"57a4c7a2-843d-4130-9f5d-51c6ed3ce4d5"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40"}],"description":"","message_list":[],"uuid":"e4e8fe0e-8c2d-440b-b083-b513a4d33df1","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_4b8d1512_2d66_44fc_b4d9_2af89cdf3aa4","uuid":"be644acf-8332-4641-8d86-3d56a3db0b9e"},"name":"SYS_GEN__Runbook_Application_4b8d1512_2d66_44fc_b4d9_2af89cdf3aa4"}},{"description":"System action for starting an application","message_list":[],"uuid":"d7c5d1a3-0eab-49ab-87c2-225253af7561","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"GCP","uuid":"4b8d1512-2d66-44fc-b4d9-2af89cdf3aa4"},"retries":"0","description":"","type":"DAG","uuid":"112d7d43-5b34-4485-906d-5b4f97df7483","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_4a8310a8_12fc_4200_b014_019f49e4a9fd","uuid":"5ac76a2a-f66c-48df-90eb-f60b419dcd14"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_cf42442b_3e6d_4b40_9a7f_e170b57f338e","uuid":"7859a404-5acf-437e-a21e-81c6bd36d241"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"6d2455df-96d5-41bc-bf9a-082720aa929f"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"3ce24ec4-e49a-400f-bbd7-bbe3b3035c07"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_4a8310a8_12fc_4200_b014_019f49e4a9fd","uuid":"5ac76a2a-f66c-48df-90eb-f60b419dcd14"},"edge_type":"inherent","type":"","uuid":"f8d5648d-679e-4c37-bf99-29870ee1438a","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"6d2455df-96d5-41bc-bf9a-082720aa929f"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_cf42442b_3e6d_4b40_9a7f_e170b57f338e","uuid":"7859a404-5acf-437e-a21e-81c6bd36d241"},"edge_type":"inherent","type":"","uuid":"b98ff9a4-fd94-47a8-88c8-a307bf6d434d","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"3ce24ec4-e49a-400f-bbd7-bbe3b3035c07"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"6d2455df-96d5-41bc-bf9a-082720aa929f"},"edge_type":"depends_on","type":"","uuid":"61928eeb-0571-48b4-b62f-7903316ade15","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"3ce24ec4-e49a-400f-bbd7-bbe3b3035c07"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_cf42442b_3e6d_4b40_9a7f_e170b57f338e","uuid":"7859a404-5acf-437e-a21e-81c6bd36d241"},"edge_type":"create_action_edge","type":"","uuid":"b93e7bb4-b1eb-418c-a32e-82e06f6b2d0d","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"6d2455df-96d5-41bc-bf9a-082720aa929f"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_4a8310a8_12fc_4200_b014_019f49e4a9fd","uuid":"5ac76a2a-f66c-48df-90eb-f60b419dcd14"},"edge_type":"create_action_edge","type":"","uuid":"75475f87-b2c4-4749-ae33-78cdff0117ff","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"3ce24ec4-e49a-400f-bbd7-bbe3b3035c07"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_4b8d1512_2d66_44fc_b4d9_2af89cdf3aa4"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPMaster","uuid":"4a8310a8-12fc-4200-b014-019f49e4a9fd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"5ac76a2a-f66c-48df-90eb-f60b419dcd14","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"2948413c_deployment","uuid":"ae647ac6-495b-491b-9335-50a9a64a8f31"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_4a8310a8_12fc_4200_b014_019f49e4a9fd","uuid":"0910c83c-71ab-46ab-9846-1d35bb904125"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Substrate_4a8310a8_12fc_4200_b014_019f49e4a9fd"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPSlave","uuid":"cf42442b-3e6d-4b40-9a7f-e170b57f338e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"7859a404-5acf-437e-a21e-81c6bd36d241","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"291a1804_deployment","uuid":"7f725ee2-f8c1-4e74-b70e-0884e8d9fef4"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_cf42442b_3e6d_4b40_9a7f_e170b57f338e","uuid":"9aabec55-4ad8-490e-8de7-e38d267df08b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Substrate_cf42442b_3e6d_4b40_9a7f_e170b57f338e"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"6d2455df-96d5-41bc-bf9a-082720aa929f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"2948413c_deployment","uuid":"ae647ac6-495b-491b-9335-50a9a64a8f31"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"c02553e2_runbook","uuid":"81959707-f27f-4259-a9b6-d4f736a28f5c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"3ce24ec4-e49a-400f-bbd7-bbe3b3035c07","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"291a1804_deployment","uuid":"7f725ee2-f8c1-4e74-b70e-0884e8d9fef4"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"b34d9d39_runbook","uuid":"57a4c7a2-843d-4130-9f5d-51c6ed3ce4d5"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40"}],"description":"","message_list":[],"uuid":"1ae8bae4-4a0a-4b32-82ab-208de4745e20","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_4b8d1512_2d66_44fc_b4d9_2af89cdf3aa4","uuid":"112d7d43-5b34-4485-906d-5b4f97df7483"},"name":"SYS_GEN__Runbook_Application_4b8d1512_2d66_44fc_b4d9_2af89cdf3aa4"}},{"description":"System action for restarting an application","message_list":[],"uuid":"a6fe10b6-b43a-481e-ab22-5f81134f5c69","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"GCP","uuid":"4b8d1512-2d66-44fc-b4d9-2af89cdf3aa4"},"retries":"0","description":"","type":"DAG","uuid":"b1d37fc1-9105-40b9-941a-a0383c2aa128","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_cf42442b_3e6d_4b40_9a7f_e170b57f338e","uuid":"c48b0646-8fcf-4249-8bbe-87709b371669"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_4a8310a8_12fc_4200_b014_019f49e4a9fd","uuid":"8617c1cf-8e0b-4981-8b7c-43cd37f64460"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"e96fa527-7c00-473e-bb67-61f604fa5334"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"081c81db-dff9-4664-93c2-c616c4f44c2a"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_4a8310a8_12fc_4200_b014_019f49e4a9fd","uuid":"8617c1cf-8e0b-4981-8b7c-43cd37f64460"},"edge_type":"inherent","type":"","uuid":"2ecc07d5-a521-47ff-aafb-1cc5bdf5fa69","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"e96fa527-7c00-473e-bb67-61f604fa5334"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_cf42442b_3e6d_4b40_9a7f_e170b57f338e","uuid":"c48b0646-8fcf-4249-8bbe-87709b371669"},"edge_type":"inherent","type":"","uuid":"f55ede44-b942-4ef0-80ae-6b4ce61dee84","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"081c81db-dff9-4664-93c2-c616c4f44c2a"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"e96fa527-7c00-473e-bb67-61f604fa5334"},"edge_type":"depends_on","type":"","uuid":"cdc507ed-38b4-45e8-b928-7d87f3312439","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"081c81db-dff9-4664-93c2-c616c4f44c2a"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_cf42442b_3e6d_4b40_9a7f_e170b57f338e","uuid":"c48b0646-8fcf-4249-8bbe-87709b371669"},"edge_type":"create_action_edge","type":"","uuid":"485a1299-cd8c-4e39-b158-75bf84ca195d","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"e96fa527-7c00-473e-bb67-61f604fa5334"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_4a8310a8_12fc_4200_b014_019f49e4a9fd","uuid":"8617c1cf-8e0b-4981-8b7c-43cd37f64460"},"edge_type":"create_action_edge","type":"","uuid":"e3df2ba6-ec91-4923-b073-67ec260c2d6e","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"081c81db-dff9-4664-93c2-c616c4f44c2a"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_4b8d1512_2d66_44fc_b4d9_2af89cdf3aa4"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPSlave","uuid":"cf42442b-3e6d-4b40-9a7f-e170b57f338e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"c48b0646-8fcf-4249-8bbe-87709b371669","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"291a1804_deployment","uuid":"7f725ee2-f8c1-4e74-b70e-0884e8d9fef4"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_cf42442b_3e6d_4b40_9a7f_e170b57f338e","uuid":"7d2a936e-647f-4ed3-b134-d9b25fb001c8"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Substrate_cf42442b_3e6d_4b40_9a7f_e170b57f338e"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPMaster","uuid":"4a8310a8-12fc-4200-b014-019f49e4a9fd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"8617c1cf-8e0b-4981-8b7c-43cd37f64460","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"2948413c_deployment","uuid":"ae647ac6-495b-491b-9335-50a9a64a8f31"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_4a8310a8_12fc_4200_b014_019f49e4a9fd","uuid":"b36fd76d-53f7-46ac-b16f-003b7bcffa06"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Substrate_4a8310a8_12fc_4200_b014_019f49e4a9fd"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"e96fa527-7c00-473e-bb67-61f604fa5334","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"2948413c_deployment","uuid":"ae647ac6-495b-491b-9335-50a9a64a8f31"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"a9d9f266_runbook","uuid":"a32389b2-74a8-4a75-b897-c7158c11032e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"081c81db-dff9-4664-93c2-c616c4f44c2a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"291a1804_deployment","uuid":"7f725ee2-f8c1-4e74-b70e-0884e8d9fef4"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"c1c4eebd_runbook","uuid":"bea78664-aea0-4d1f-b708-8ef876af38d5"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40"}],"description":"","message_list":[],"uuid":"57fdfb9b-5ec5-4acf-830c-7a1118913fba","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_4b8d1512_2d66_44fc_b4d9_2af89cdf3aa4","uuid":"b1d37fc1-9105-40b9-941a-a0383c2aa128"},"name":"SYS_GEN__Runbook_Application_4b8d1512_2d66_44fc_b4d9_2af89cdf3aa4"}},{"description":"System action for stopping an application","message_list":[],"uuid":"006eecd3-0089-41a8-a235-062376656561","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"GCP","uuid":"4b8d1512-2d66-44fc-b4d9-2af89cdf3aa4"},"retries":"0","description":"","type":"DAG","uuid":"1382bca7-bb77-4bec-bc4d-4ce4533b93c8","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"5de68f44-2170-428b-b46f-2f7b3b1626e5"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"ba547261-4cac-445e-955b-37d32b81e02c"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_4a8310a8_12fc_4200_b014_019f49e4a9fd","uuid":"5cfc1315-1d2e-4da0-a0c7-ca1e2ef24880"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_cf42442b_3e6d_4b40_9a7f_e170b57f338e","uuid":"53154105-ccec-4110-9fde-21b3fb606f9b"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"ba547261-4cac-445e-955b-37d32b81e02c"},"edge_type":"inherent","type":"","uuid":"9209d6f5-f57f-43d6-afa1-9bb2cda7d8e3","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_4a8310a8_12fc_4200_b014_019f49e4a9fd","uuid":"5cfc1315-1d2e-4da0-a0c7-ca1e2ef24880"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"5de68f44-2170-428b-b46f-2f7b3b1626e5"},"edge_type":"inherent","type":"","uuid":"c222c811-13e2-46b5-840a-59cd96f87256","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_cf42442b_3e6d_4b40_9a7f_e170b57f338e","uuid":"53154105-ccec-4110-9fde-21b3fb606f9b"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"5de68f44-2170-428b-b46f-2f7b3b1626e5"},"edge_type":"depends_on","type":"","uuid":"a6518a6e-98b8-4721-8eb9-cd85d3c247df","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"ba547261-4cac-445e-955b-37d32b81e02c"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"ba547261-4cac-445e-955b-37d32b81e02c"},"edge_type":"create_action_edge","type":"","uuid":"37ed991c-da29-413e-8208-f51b1cd53df7","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_cf42442b_3e6d_4b40_9a7f_e170b57f338e","uuid":"53154105-ccec-4110-9fde-21b3fb606f9b"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"5de68f44-2170-428b-b46f-2f7b3b1626e5"},"edge_type":"create_action_edge","type":"","uuid":"09a6783d-b997-457e-86ed-c3758e6d8816","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_4a8310a8_12fc_4200_b014_019f49e4a9fd","uuid":"5cfc1315-1d2e-4da0-a0c7-ca1e2ef24880"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_4b8d1512_2d66_44fc_b4d9_2af89cdf3aa4"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"5de68f44-2170-428b-b46f-2f7b3b1626e5","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"291a1804_deployment","uuid":"7f725ee2-f8c1-4e74-b70e-0884e8d9fef4"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0e2bd4c9_runbook","uuid":"8e29699f-df44-4802-8ae9-689322c6575c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"ba547261-4cac-445e-955b-37d32b81e02c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"2948413c_deployment","uuid":"ae647ac6-495b-491b-9335-50a9a64a8f31"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"deb1443a_runbook","uuid":"86288a79-ba17-4500-a81a-1ed2afb6b9b8"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPMaster","uuid":"4a8310a8-12fc-4200-b014-019f49e4a9fd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"5cfc1315-1d2e-4da0-a0c7-ca1e2ef24880","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"2948413c_deployment","uuid":"ae647ac6-495b-491b-9335-50a9a64a8f31"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_4a8310a8_12fc_4200_b014_019f49e4a9fd","uuid":"4644c864-7187-4967-9629-273cba25ff44"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Substrate_4a8310a8_12fc_4200_b014_019f49e4a9fd"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPSlave","uuid":"cf42442b-3e6d-4b40-9a7f-e170b57f338e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"53154105-ccec-4110-9fde-21b3fb606f9b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"291a1804_deployment","uuid":"7f725ee2-f8c1-4e74-b70e-0884e8d9fef4"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_cf42442b_3e6d_4b40_9a7f_e170b57f338e","uuid":"068e7af6-1ab5-4506-a82c-84f2e85d9abf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Substrate_cf42442b_3e6d_4b40_9a7f_e170b57f338e"}],"description":"","message_list":[],"uuid":"2bff8bba-6e7a-4de6-8778-3ae33d833c41","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_4b8d1512_2d66_44fc_b4d9_2af89cdf3aa4","uuid":"1382bca7-bb77-4bec-bc4d-4ce4533b93c8"},"name":"SYS_GEN__Runbook_Application_4b8d1512_2d66_44fc_b4d9_2af89cdf3aa4"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"d00077fe-814c-4aef-a80a-1eb723c449f2","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"GCP","uuid":"4b8d1512-2d66-44fc-b4d9-2af89cdf3aa4"},"retries":"0","description":"","type":"DAG","uuid":"dbb6f00d-3ddd-4438-8edf-2fea0548b8d7","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"29ab1070-d69f-4842-bce0-51029e3a5aed"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"9c26b86c-f3c6-4bcb-88cb-03bf5fc532a3"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_a785fd76_3fd6_4896_a184_edf5e5e71d31","uuid":"8f625567-4bde-49a4-8cb3-40b50c11f15a"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"0748d5a5-5567-4baa-9169-6cf443348004"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"691ff80e-6ef7-402d-8165-e7c7fbf78f7d"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_b5d0f3b4_c040_4fa9_ae5d_8f996b9efa42","uuid":"9a7c4503-2c77-45a6-a174-c4d4658082aa"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_cf42442b_3e6d_4b40_9a7f_e170b57f338e","uuid":"acd3fc05-3288-4315-bb65-4736f6e3ea79"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_4a8310a8_12fc_4200_b014_019f49e4a9fd","uuid":"8fea508d-ef65-4e79-8e52-6f54ab19b74d"},{"kind":"app_task","name":"SYS_GEN__DE_Delete_7f725ee2_f8c1_4e74_b70e_0884e8d9fef4","uuid":"e45316d3-39a9-4de8-9a01-cc9f5802862b"},{"kind":"app_task","name":"SYS_GEN__DE_Delete_ae647ac6_495b_491b_9335_50a9a64a8f31","uuid":"c3d0f69e-55c0-4010-bbd9-fabbcecde063"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"0748d5a5-5567-4baa-9169-6cf443348004"},"edge_type":"inherent","type":"","uuid":"fe9caffc-b92f-4809-85ff-a69645046abe","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"691ff80e-6ef7-402d-8165-e7c7fbf78f7d"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"691ff80e-6ef7-402d-8165-e7c7fbf78f7d"},"edge_type":"inherent","type":"","uuid":"f8b677c9-7fdd-4f4f-b3b2-79b7aced4d6e","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_b5d0f3b4_c040_4fa9_ae5d_8f996b9efa42","uuid":"9a7c4503-2c77-45a6-a174-c4d4658082aa"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_4a8310a8_12fc_4200_b014_019f49e4a9fd","uuid":"8fea508d-ef65-4e79-8e52-6f54ab19b74d"},"edge_type":"inherent","type":"","uuid":"82a96372-3561-4de2-b427-510c28bbfdf2","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Delete_ae647ac6_495b_491b_9335_50a9a64a8f31","uuid":"c3d0f69e-55c0-4010-bbd9-fabbcecde063"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_b5d0f3b4_c040_4fa9_ae5d_8f996b9efa42","uuid":"9a7c4503-2c77-45a6-a174-c4d4658082aa"},"edge_type":"inherent","type":"","uuid":"93a49014-eb40-43b7-bfbd-eb5ad30bf4cd","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_4a8310a8_12fc_4200_b014_019f49e4a9fd","uuid":"8fea508d-ef65-4e79-8e52-6f54ab19b74d"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"29ab1070-d69f-4842-bce0-51029e3a5aed"},"edge_type":"inherent","type":"","uuid":"bedf4846-e63c-4c81-9059-fe445979996b","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"9c26b86c-f3c6-4bcb-88cb-03bf5fc532a3"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"9c26b86c-f3c6-4bcb-88cb-03bf5fc532a3"},"edge_type":"inherent","type":"","uuid":"7dd7ef3d-ae0f-47f3-b927-551519ddd2d8","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_a785fd76_3fd6_4896_a184_edf5e5e71d31","uuid":"8f625567-4bde-49a4-8cb3-40b50c11f15a"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_cf42442b_3e6d_4b40_9a7f_e170b57f338e","uuid":"acd3fc05-3288-4315-bb65-4736f6e3ea79"},"edge_type":"inherent","type":"","uuid":"4ea5fde3-c125-4aaf-879c-88a7f0895f66","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Delete_7f725ee2_f8c1_4e74_b70e_0884e8d9fef4","uuid":"e45316d3-39a9-4de8-9a01-cc9f5802862b"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_a785fd76_3fd6_4896_a184_edf5e5e71d31","uuid":"8f625567-4bde-49a4-8cb3-40b50c11f15a"},"edge_type":"inherent","type":"","uuid":"926dc287-8b7e-400a-9585-4302ead12fd8","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_cf42442b_3e6d_4b40_9a7f_e170b57f338e","uuid":"acd3fc05-3288-4315-bb65-4736f6e3ea79"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"9c26b86c-f3c6-4bcb-88cb-03bf5fc532a3"},"edge_type":"depends_on","type":"","uuid":"48e34986-7411-4196-933c-c554f17e7c32","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"0748d5a5-5567-4baa-9169-6cf443348004"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"691ff80e-6ef7-402d-8165-e7c7fbf78f7d"},"edge_type":"create_action_edge","type":"","uuid":"2065232b-8770-47a5-9aa9-4e595eaadf25","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_cf42442b_3e6d_4b40_9a7f_e170b57f338e","uuid":"acd3fc05-3288-4315-bb65-4736f6e3ea79"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"9c26b86c-f3c6-4bcb-88cb-03bf5fc532a3"},"edge_type":"create_action_edge","type":"","uuid":"6300b741-7e77-407c-9b42-bc16b19e84a5","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_4a8310a8_12fc_4200_b014_019f49e4a9fd","uuid":"8fea508d-ef65-4e79-8e52-6f54ab19b74d"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_4b8d1512_2d66_44fc_b4d9_2af89cdf3aa4"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"29ab1070-d69f-4842-bce0-51029e3a5aed","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"291a1804_deployment","uuid":"7f725ee2-f8c1-4e74-b70e-0884e8d9fef4"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0e2bd4c9_runbook","uuid":"8e29699f-df44-4802-8ae9-689322c6575c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"9c26b86c-f3c6-4bcb-88cb-03bf5fc532a3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"291a1804_deployment","uuid":"7f725ee2-f8c1-4e74-b70e-0884e8d9fef4"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"08946714_runbook","uuid":"005a7fbe-7426-4c75-aa02-8ca0b1db5dbb"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40"},{"target_any_local_reference":{"kind":"app_package","name":"GCPSlavePackage","uuid":"a785fd76-3fd6-4896-a184-edf5e5e71d31"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"8f625567-4bde-49a4-8cb3-40b50c11f15a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"291a1804_deployment","uuid":"7f725ee2-f8c1-4e74-b70e-0884e8d9fef4"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_a785fd76_3fd6_4896_a184_edf5e5e71d31","uuid":"a49ed999-a918-4b2c-8c12-8ae82f0d085b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_a785fd76_3fd6_4896_a184_edf5e5e71d31"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"0748d5a5-5567-4baa-9169-6cf443348004","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"2948413c_deployment","uuid":"ae647ac6-495b-491b-9335-50a9a64a8f31"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"deb1443a_runbook","uuid":"86288a79-ba17-4500-a81a-1ed2afb6b9b8"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"691ff80e-6ef7-402d-8165-e7c7fbf78f7d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"2948413c_deployment","uuid":"ae647ac6-495b-491b-9335-50a9a64a8f31"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"8ad650b2_runbook","uuid":"f31a5f00-62ad-4b57-8fbf-cd1f020f2bfc"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90"},{"target_any_local_reference":{"kind":"app_package","name":"GCPMasterPackage","uuid":"b5d0f3b4-c040-4fa9-ae5d-8f996b9efa42"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"9a7c4503-2c77-45a6-a174-c4d4658082aa","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"2948413c_deployment","uuid":"ae647ac6-495b-491b-9335-50a9a64a8f31"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_b5d0f3b4_c040_4fa9_ae5d_8f996b9efa42","uuid":"11954c7c-d449-4aca-a56a-7001b5f2e57a"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_b5d0f3b4_c040_4fa9_ae5d_8f996b9efa42"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPSlave","uuid":"cf42442b-3e6d-4b40-9a7f-e170b57f338e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"acd3fc05-3288-4315-bb65-4736f6e3ea79","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"291a1804_deployment","uuid":"7f725ee2-f8c1-4e74-b70e-0884e8d9fef4"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_cf42442b_3e6d_4b40_9a7f_e170b57f338e","uuid":"8c279c0e-0585-49e9-a2d9-ccbf06819245"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Substrate_cf42442b_3e6d_4b40_9a7f_e170b57f338e"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPMaster","uuid":"4a8310a8-12fc-4200-b014-019f49e4a9fd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"8fea508d-ef65-4e79-8e52-6f54ab19b74d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"2948413c_deployment","uuid":"ae647ac6-495b-491b-9335-50a9a64a8f31"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_4a8310a8_12fc_4200_b014_019f49e4a9fd","uuid":"07db0ceb-fe45-4c09-bccb-9d2e80764d8f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Substrate_4a8310a8_12fc_4200_b014_019f49e4a9fd"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"291a1804_deployment","uuid":"7f725ee2-f8c1-4e74-b70e-0884e8d9fef4"},"retries":"0","description":"","type":"DELETE_DEPLOYMENT_ELEMENT","uuid":"e45316d3-39a9-4de8-9a01-cc9f5802862b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Delete_7f725ee2_f8c1_4e74_b70e_0884e8d9fef4"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"2948413c_deployment","uuid":"ae647ac6-495b-491b-9335-50a9a64a8f31"},"retries":"0","description":"","type":"DELETE_DEPLOYMENT_ELEMENT","uuid":"c3d0f69e-55c0-4010-bbd9-fabbcecde063","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Delete_ae647ac6_495b_491b_9335_50a9a64a8f31"}],"description":"","message_list":[],"uuid":"447b4355-627c-4501-8da4-cb009eb3fc34","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_4b8d1512_2d66_44fc_b4d9_2af89cdf3aa4","uuid":"dbb6f00d-3ddd-4438-8edf-2fea0548b8d7"},"name":"SYS_GEN__Runbook_Application_4b8d1512_2d66_44fc_b4d9_2af89cdf3aa4"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"2104c3f4-a04e-4fc3-9009-ad6459369e7c","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"GCP","uuid":"4b8d1512-2d66-44fc-b4d9-2af89cdf3aa4"},"retries":"0","description":"","type":"DAG","uuid":"f1ec7b5b-1d2a-43a0-be4e-30d4c2d46bdf","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"fc727828-a5dd-4b01-8e2c-3de44b0c58b7"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_a785fd76_3fd6_4896_a184_edf5e5e71d31","uuid":"4d4a8993-df1d-4e9a-aa04-23359e5786dd"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"9e713bf7-da4a-4047-a15e-6f284185f2b0"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_b5d0f3b4_c040_4fa9_ae5d_8f996b9efa42","uuid":"4b1420d3-23de-468a-9383-ad364a13b7aa"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_cf42442b_3e6d_4b40_9a7f_e170b57f338e","uuid":"234086cd-38f7-4de8-8c0f-27ad877b5e8b"},{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_7f725ee2_f8c1_4e74_b70e_0884e8d9fef4","uuid":"ef8f220a-cb36-4c74-9a2b-5ff90ec4bcb5"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_4a8310a8_12fc_4200_b014_019f49e4a9fd","uuid":"f6151898-ec67-481d-bfe3-8fe744f9efba"},{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_ae647ac6_495b_491b_9335_50a9a64a8f31","uuid":"cdea97ae-8929-4e3b-ae63-d73d7711a869"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"9e713bf7-da4a-4047-a15e-6f284185f2b0"},"edge_type":"inherent","type":"","uuid":"e4946d7a-62d1-4512-94f2-bd5fc9c63c67","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_b5d0f3b4_c040_4fa9_ae5d_8f996b9efa42","uuid":"4b1420d3-23de-468a-9383-ad364a13b7aa"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_4a8310a8_12fc_4200_b014_019f49e4a9fd","uuid":"f6151898-ec67-481d-bfe3-8fe744f9efba"},"edge_type":"inherent","type":"","uuid":"06e7a710-ab3d-4bc3-adf6-5f6ec50e0b91","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_ae647ac6_495b_491b_9335_50a9a64a8f31","uuid":"cdea97ae-8929-4e3b-ae63-d73d7711a869"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_b5d0f3b4_c040_4fa9_ae5d_8f996b9efa42","uuid":"4b1420d3-23de-468a-9383-ad364a13b7aa"},"edge_type":"inherent","type":"","uuid":"9ba478a6-3969-42ff-b053-6916c6c0f352","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_4a8310a8_12fc_4200_b014_019f49e4a9fd","uuid":"f6151898-ec67-481d-bfe3-8fe744f9efba"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"fc727828-a5dd-4b01-8e2c-3de44b0c58b7"},"edge_type":"inherent","type":"","uuid":"def7ae97-5363-43ca-9344-10d2fbe7a6c9","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_a785fd76_3fd6_4896_a184_edf5e5e71d31","uuid":"4d4a8993-df1d-4e9a-aa04-23359e5786dd"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_a785fd76_3fd6_4896_a184_edf5e5e71d31","uuid":"4d4a8993-df1d-4e9a-aa04-23359e5786dd"},"edge_type":"inherent","type":"","uuid":"0ee3947c-24ce-4f66-a323-a106fbc01852","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_cf42442b_3e6d_4b40_9a7f_e170b57f338e","uuid":"234086cd-38f7-4de8-8c0f-27ad877b5e8b"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_cf42442b_3e6d_4b40_9a7f_e170b57f338e","uuid":"234086cd-38f7-4de8-8c0f-27ad877b5e8b"},"edge_type":"inherent","type":"","uuid":"c146b252-c32d-4544-8611-07d12681e272","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_7f725ee2_f8c1_4e74_b70e_0884e8d9fef4","uuid":"ef8f220a-cb36-4c74-9a2b-5ff90ec4bcb5"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"fc727828-a5dd-4b01-8e2c-3de44b0c58b7"},"edge_type":"depends_on","type":"","uuid":"b67eac40-10c6-4ce2-80cc-499f52196cc0","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"9e713bf7-da4a-4047-a15e-6f284185f2b0"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"9e713bf7-da4a-4047-a15e-6f284185f2b0"},"edge_type":"create_action_edge","type":"","uuid":"0abc3bb1-67d0-4a3b-8cf0-5f9f7a0e27bc","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_cf42442b_3e6d_4b40_9a7f_e170b57f338e","uuid":"234086cd-38f7-4de8-8c0f-27ad877b5e8b"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"fc727828-a5dd-4b01-8e2c-3de44b0c58b7"},"edge_type":"create_action_edge","type":"","uuid":"06446df2-d6b7-47f3-ae18-142d9ab33906","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_4a8310a8_12fc_4200_b014_019f49e4a9fd","uuid":"f6151898-ec67-481d-bfe3-8fe744f9efba"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_4b8d1512_2d66_44fc_b4d9_2af89cdf3aa4"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"fc727828-a5dd-4b01-8e2c-3de44b0c58b7","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"291a1804_deployment","uuid":"7f725ee2-f8c1-4e74-b70e-0884e8d9fef4"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"febe47f3-782b-40c3-abcb-ce825626516f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40"},{"target_any_local_reference":{"kind":"app_package","name":"GCPSlavePackage","uuid":"a785fd76-3fd6-4896-a184-edf5e5e71d31"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"4d4a8993-df1d-4e9a-aa04-23359e5786dd","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_a785fd76_3fd6_4896_a184_edf5e5e71d31"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"9e713bf7-da4a-4047-a15e-6f284185f2b0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"2948413c_deployment","uuid":"ae647ac6-495b-491b-9335-50a9a64a8f31"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"92ba2635-e9da-48a5-8b58-7a4b4a61ffdf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90"},{"target_any_local_reference":{"kind":"app_package","name":"GCPMasterPackage","uuid":"b5d0f3b4-c040-4fa9-ae5d-8f996b9efa42"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"4b1420d3-23de-468a-9383-ad364a13b7aa","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_b5d0f3b4_c040_4fa9_ae5d_8f996b9efa42"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPSlave","uuid":"cf42442b-3e6d-4b40-9a7f-e170b57f338e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"234086cd-38f7-4de8-8c0f-27ad877b5e8b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"291a1804_deployment","uuid":"7f725ee2-f8c1-4e74-b70e-0884e8d9fef4"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_cf42442b_3e6d_4b40_9a7f_e170b57f338e","uuid":"c99f707e-5c60-40fd-ba77-2a59221f86a9"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Substrate_cf42442b_3e6d_4b40_9a7f_e170b57f338e"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"291a1804_deployment","uuid":"7f725ee2-f8c1-4e74-b70e-0884e8d9fef4"},"retries":"0","description":"","type":"SOFT_DELETE_DEPLOYMENT_ELEMENT","uuid":"ef8f220a-cb36-4c74-9a2b-5ff90ec4bcb5","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Soft_Delete_7f725ee2_f8c1_4e74_b70e_0884e8d9fef4"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPMaster","uuid":"4a8310a8-12fc-4200-b014-019f49e4a9fd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"f6151898-ec67-481d-bfe3-8fe744f9efba","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"2948413c_deployment","uuid":"ae647ac6-495b-491b-9335-50a9a64a8f31"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_4a8310a8_12fc_4200_b014_019f49e4a9fd","uuid":"75973046-e9c6-4766-9764-b2005cf20d9d"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Substrate_4a8310a8_12fc_4200_b014_019f49e4a9fd"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"2948413c_deployment","uuid":"ae647ac6-495b-491b-9335-50a9a64a8f31"},"retries":"0","description":"","type":"SOFT_DELETE_DEPLOYMENT_ELEMENT","uuid":"cdea97ae-8929-4e3b-ae63-d73d7711a869","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Soft_Delete_ae647ac6_495b_491b_9335_50a9a64a8f31"}],"description":"","message_list":[],"uuid":"9b8f4eaf-0a01-4525-b92b-bdb4bf32c7fd","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_4b8d1512_2d66_44fc_b4d9_2af89cdf3aa4","uuid":"f1ec7b5b-1d2a-43a0-be4e-30d4c2d46bdf"},"name":"SYS_GEN__Runbook_Application_4b8d1512_2d66_44fc_b4d9_2af89cdf3aa4"}}],"message_list":[],"uuid":"4b8d1512-2d66-44fc-b4d9-2af89cdf3aa4","state":"ACTIVE","dependency_list":[{"getter_resource_kind":"ServiceCfg","setter_resource_attr":"address","setter_resource_kind":"SubstrateCfg","setter_resource_name":"GCPSlave","action_name":"action_create","action_resource_name":"GCP","getter_resource_name":"Postgres_Master","action_resource_kind":"ApplicationCfg"},{"getter_resource_kind":"ServiceCfg","setter_resource_attr":"address","setter_resource_kind":"SubstrateCfg","setter_resource_name":"GCPMaster","action_name":"action_create","action_resource_name":"GCP","getter_resource_name":"Postgres_Slave","action_resource_kind":"ApplicationCfg"}],"variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"934e1d1a-34ee-4393-bc21-ae0d8ba78c1b","value":"","label":"","state":"ACTIVE","attrs":{"is_secret_modified":false,"secret_reference":{"uuid":"9903be2b-c4ae-4cd0-84e4-ed7484e0e14f"},"type":""},"editables":{"value":true},"is_hidden":false,"type":"SECRET","options":{},"name":"DB_PASSWORD"},{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"38f995b1-7bfb-4443-9401-1cd658d03781","value":"GCP","label":"","state":"ACTIVE","attrs":{"type":""},"editables":{},"is_hidden":false,"type":"LOCAL","options":{},"name":"PROFILE"}],"name":"GCP"},{"deployment_create_list":[{"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"3f28692c-80e5-4ebc-ad24-1efe444fe3c8","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9d03f79a_deployment","uuid":"0236e85a-f3a1-4cff-867a-29275949b6e4"},"retries":"0","description":"","type":"DAG","uuid":"83af3b6b-00cd-4d11-8e85-5116a841efef","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__DE_Provision_0236e85a_f3a1_4cff_867a_29275949b6e4","uuid":"6aefaaf9-1eae-4a31-85e1-a3f5109f6c90"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_c42de1fe_2393_4776_a4a7_92d3b3521dd3","uuid":"b57779ef-aa1f-4fef-a871-c4ad2a659c01"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_53c13f4c_7c91_406a_9d03_e2cfcb9d5c90","uuid":"c8db1983-a7be-400a-a4d6-4650497a4039"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"89536561-e9f6-4f73-9e85-144ccd6e7c0d"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"f7b1d095-9cc7-4dc3-95db-56b9c1eb4b3a"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"89536561-e9f6-4f73-9e85-144ccd6e7c0d"},"edge_type":"inherent","type":"","uuid":"4f5b708b-5f4b-4c3f-bb30-9ceba218a760","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"f7b1d095-9cc7-4dc3-95db-56b9c1eb4b3a"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_53c13f4c_7c91_406a_9d03_e2cfcb9d5c90","uuid":"c8db1983-a7be-400a-a4d6-4650497a4039"},"edge_type":"inherent","type":"","uuid":"884462d0-2423-4d3e-b4e7-20eebb8fda6c","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"89536561-e9f6-4f73-9e85-144ccd6e7c0d"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_c42de1fe_2393_4776_a4a7_92d3b3521dd3","uuid":"b57779ef-aa1f-4fef-a871-c4ad2a659c01"},"edge_type":"inherent","type":"","uuid":"0b928cc2-4a34-4f44-896f-ab91ca58b492","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_53c13f4c_7c91_406a_9d03_e2cfcb9d5c90","uuid":"c8db1983-a7be-400a-a4d6-4650497a4039"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_0236e85a_f3a1_4cff_867a_29275949b6e4","uuid":"6aefaaf9-1eae-4a31-85e1-a3f5109f6c90"},"edge_type":"inherent","type":"","uuid":"b35de7e7-cb6d-4e55-a4df-0865ce7cf9b3","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_c42de1fe_2393_4776_a4a7_92d3b3521dd3","uuid":"b57779ef-aa1f-4fef-a871-c4ad2a659c01"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_0236e85a_f3a1_4cff_867a_29275949b6e4"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9d03f79a_deployment","uuid":"0236e85a-f3a1-4cff-867a-29275949b6e4"},"retries":"0","description":"","type":"CREATE_DEPLOYMENT_ELEMENT","uuid":"6aefaaf9-1eae-4a31-85e1-a3f5109f6c90","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Provision_0236e85a_f3a1_4cff_867a_29275949b6e4"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureMaster","uuid":"c42de1fe-2393-4776-a4a7-92d3b3521dd3"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"b57779ef-aa1f-4fef-a871-c4ad2a659c01","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9d03f79a_deployment","uuid":"0236e85a-f3a1-4cff-867a-29275949b6e4"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_c42de1fe_2393_4776_a4a7_92d3b3521dd3","uuid":"83adb338-226b-43e4-8492-334d48f31a75"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Substrate_c42de1fe_2393_4776_a4a7_92d3b3521dd3"},{"target_any_local_reference":{"kind":"app_package","name":"AzurePgMasterPkg","uuid":"53c13f4c-7c91-406a-9d03-e2cfcb9d5c90"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"c8db1983-a7be-400a-a4d6-4650497a4039","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9d03f79a_deployment","uuid":"0236e85a-f3a1-4cff-867a-29275949b6e4"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_53c13f4c_7c91_406a_9d03_e2cfcb9d5c90","uuid":"affecfe3-6b69-4e1e-acc5-b0e26e2fd608"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_53c13f4c_7c91_406a_9d03_e2cfcb9d5c90"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"89536561-e9f6-4f73-9e85-144ccd6e7c0d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9d03f79a_deployment","uuid":"0236e85a-f3a1-4cff-867a-29275949b6e4"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"c528d489_runbook","uuid":"a5cf54be-5eb3-4cbb-8cbf-c295bbc3af83"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"f7b1d095-9cc7-4dc3-95db-56b9c1eb4b3a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9d03f79a_deployment","uuid":"0236e85a-f3a1-4cff-867a-29275949b6e4"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"c02553e2_runbook","uuid":"81959707-f27f-4259-a9b6-d4f736a28f5c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90"}],"description":"","message_list":[],"uuid":"1bf4f2d5-baa6-40eb-b5b6-84dda64a8b1b","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_0236e85a_f3a1_4cff_867a_29275949b6e4","uuid":"83af3b6b-00cd-4d11-8e85-5116a841efef"},"name":"SYS_GEN__Runbook_Deployment_0236e85a_f3a1_4cff_867a_29275949b6e4"}},{"description":"System action for starting an application","message_list":[],"uuid":"6d168b9c-e5c8-4aac-b9a9-9b9a1b3ee0dc","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9d03f79a_deployment","uuid":"0236e85a-f3a1-4cff-867a-29275949b6e4"},"retries":"0","description":"","type":"DAG","uuid":"77ed79e5-9e9f-4638-b824-6415ea252bfe","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_c42de1fe_2393_4776_a4a7_92d3b3521dd3","uuid":"c7e07b34-f794-435b-a674-b2bd66acd6e6"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"e84edabe-dcfa-4dde-82c7-3f68262282ec"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_c42de1fe_2393_4776_a4a7_92d3b3521dd3","uuid":"c7e07b34-f794-435b-a674-b2bd66acd6e6"},"edge_type":"inherent","type":"","uuid":"90652249-fef0-45da-8c28-f283ef0c8644","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"e84edabe-dcfa-4dde-82c7-3f68262282ec"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_0236e85a_f3a1_4cff_867a_29275949b6e4"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureMaster","uuid":"c42de1fe-2393-4776-a4a7-92d3b3521dd3"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"c7e07b34-f794-435b-a674-b2bd66acd6e6","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9d03f79a_deployment","uuid":"0236e85a-f3a1-4cff-867a-29275949b6e4"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_c42de1fe_2393_4776_a4a7_92d3b3521dd3","uuid":"bdc8848a-6cdb-42d7-a8a1-b08b731ce521"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Substrate_c42de1fe_2393_4776_a4a7_92d3b3521dd3"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"e84edabe-dcfa-4dde-82c7-3f68262282ec","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9d03f79a_deployment","uuid":"0236e85a-f3a1-4cff-867a-29275949b6e4"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"c02553e2_runbook","uuid":"81959707-f27f-4259-a9b6-d4f736a28f5c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90"}],"description":"","message_list":[],"uuid":"acddf26f-933a-46d9-a77a-647a459299ce","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_0236e85a_f3a1_4cff_867a_29275949b6e4","uuid":"77ed79e5-9e9f-4638-b824-6415ea252bfe"},"name":"SYS_GEN__Runbook_Deployment_0236e85a_f3a1_4cff_867a_29275949b6e4"}},{"description":"System action for restarting an application","message_list":[],"uuid":"98faba7e-1d4f-422b-bdd3-b8793cf31655","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9d03f79a_deployment","uuid":"0236e85a-f3a1-4cff-867a-29275949b6e4"},"retries":"0","description":"","type":"DAG","uuid":"1f9488dc-c483-4fe9-ba6e-3c6ba767e1ab","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_c42de1fe_2393_4776_a4a7_92d3b3521dd3","uuid":"bbb0a578-829b-4923-82eb-cdebb576464c"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"af7da641-806e-4df1-a1e5-271f42be9849"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_c42de1fe_2393_4776_a4a7_92d3b3521dd3","uuid":"bbb0a578-829b-4923-82eb-cdebb576464c"},"edge_type":"inherent","type":"","uuid":"1f1205fa-6bd7-4b48-90d1-7d12b0375278","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"af7da641-806e-4df1-a1e5-271f42be9849"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_0236e85a_f3a1_4cff_867a_29275949b6e4"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureMaster","uuid":"c42de1fe-2393-4776-a4a7-92d3b3521dd3"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"bbb0a578-829b-4923-82eb-cdebb576464c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9d03f79a_deployment","uuid":"0236e85a-f3a1-4cff-867a-29275949b6e4"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_c42de1fe_2393_4776_a4a7_92d3b3521dd3","uuid":"03423c2f-f770-460e-a5da-6a141200d2ea"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Substrate_c42de1fe_2393_4776_a4a7_92d3b3521dd3"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"af7da641-806e-4df1-a1e5-271f42be9849","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9d03f79a_deployment","uuid":"0236e85a-f3a1-4cff-867a-29275949b6e4"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"a9d9f266_runbook","uuid":"a32389b2-74a8-4a75-b897-c7158c11032e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90"}],"description":"","message_list":[],"uuid":"72dadef3-0457-4ef3-bdd7-3c75efe2761d","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_0236e85a_f3a1_4cff_867a_29275949b6e4","uuid":"1f9488dc-c483-4fe9-ba6e-3c6ba767e1ab"},"name":"SYS_GEN__Runbook_Deployment_0236e85a_f3a1_4cff_867a_29275949b6e4"}},{"description":"System action for stopping an application","message_list":[],"uuid":"f7c95f32-4fe7-4334-99ca-c4adbd5747dc","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9d03f79a_deployment","uuid":"0236e85a-f3a1-4cff-867a-29275949b6e4"},"retries":"0","description":"","type":"DAG","uuid":"649893b2-e85d-47f9-8d31-275405c478c5","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"14c947e8-617f-45ad-86e3-222528b7b9fd"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_c42de1fe_2393_4776_a4a7_92d3b3521dd3","uuid":"c0b393f9-2d82-4b8a-a526-1ebb6313a69f"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"14c947e8-617f-45ad-86e3-222528b7b9fd"},"edge_type":"inherent","type":"","uuid":"a93c2e33-917d-4db4-b95d-bd906feeb340","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_c42de1fe_2393_4776_a4a7_92d3b3521dd3","uuid":"c0b393f9-2d82-4b8a-a526-1ebb6313a69f"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_0236e85a_f3a1_4cff_867a_29275949b6e4"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"14c947e8-617f-45ad-86e3-222528b7b9fd","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9d03f79a_deployment","uuid":"0236e85a-f3a1-4cff-867a-29275949b6e4"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"deb1443a_runbook","uuid":"86288a79-ba17-4500-a81a-1ed2afb6b9b8"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureMaster","uuid":"c42de1fe-2393-4776-a4a7-92d3b3521dd3"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"c0b393f9-2d82-4b8a-a526-1ebb6313a69f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9d03f79a_deployment","uuid":"0236e85a-f3a1-4cff-867a-29275949b6e4"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_c42de1fe_2393_4776_a4a7_92d3b3521dd3","uuid":"e57d2289-ad60-4547-859f-a4d6c1a996d0"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Substrate_c42de1fe_2393_4776_a4a7_92d3b3521dd3"}],"description":"","message_list":[],"uuid":"caddea39-1308-4b65-89f6-0d9a1fc68c29","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_0236e85a_f3a1_4cff_867a_29275949b6e4","uuid":"649893b2-e85d-47f9-8d31-275405c478c5"},"name":"SYS_GEN__Runbook_Deployment_0236e85a_f3a1_4cff_867a_29275949b6e4"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"a7091020-b471-4124-8a27-abbbdd042d48","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9d03f79a_deployment","uuid":"0236e85a-f3a1-4cff-867a-29275949b6e4"},"retries":"0","description":"","type":"DAG","uuid":"45145bd8-82ae-4c82-97df-1def83a09714","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"482550f3-29d3-4321-bbd6-142564421516"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"c2ee97b0-a643-4ccd-8d39-86b03c470d0d"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_53c13f4c_7c91_406a_9d03_e2cfcb9d5c90","uuid":"743126fd-c1c3-4444-8e2a-d5ef70846f0e"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_c42de1fe_2393_4776_a4a7_92d3b3521dd3","uuid":"9886ec43-dfab-4f51-b677-9e42e101df43"},{"kind":"app_task","name":"SYS_GEN__DE_Delete_0236e85a_f3a1_4cff_867a_29275949b6e4","uuid":"6bb0c9df-593e-4ac2-a90e-50f531846757"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"482550f3-29d3-4321-bbd6-142564421516"},"edge_type":"inherent","type":"","uuid":"b5203515-851d-4211-9e1f-bd3612d79137","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"c2ee97b0-a643-4ccd-8d39-86b03c470d0d"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"c2ee97b0-a643-4ccd-8d39-86b03c470d0d"},"edge_type":"inherent","type":"","uuid":"94cc7750-b638-4621-ac66-aa5ae7acbd28","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_53c13f4c_7c91_406a_9d03_e2cfcb9d5c90","uuid":"743126fd-c1c3-4444-8e2a-d5ef70846f0e"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_c42de1fe_2393_4776_a4a7_92d3b3521dd3","uuid":"9886ec43-dfab-4f51-b677-9e42e101df43"},"edge_type":"inherent","type":"","uuid":"f043cc16-57de-4924-a0d3-eba14124f6a9","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Delete_0236e85a_f3a1_4cff_867a_29275949b6e4","uuid":"6bb0c9df-593e-4ac2-a90e-50f531846757"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_53c13f4c_7c91_406a_9d03_e2cfcb9d5c90","uuid":"743126fd-c1c3-4444-8e2a-d5ef70846f0e"},"edge_type":"inherent","type":"","uuid":"0d39bcec-0a53-4c7b-b878-3b6e3571d8d5","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_c42de1fe_2393_4776_a4a7_92d3b3521dd3","uuid":"9886ec43-dfab-4f51-b677-9e42e101df43"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_0236e85a_f3a1_4cff_867a_29275949b6e4"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"482550f3-29d3-4321-bbd6-142564421516","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9d03f79a_deployment","uuid":"0236e85a-f3a1-4cff-867a-29275949b6e4"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"deb1443a_runbook","uuid":"86288a79-ba17-4500-a81a-1ed2afb6b9b8"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"c2ee97b0-a643-4ccd-8d39-86b03c470d0d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9d03f79a_deployment","uuid":"0236e85a-f3a1-4cff-867a-29275949b6e4"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"8ad650b2_runbook","uuid":"f31a5f00-62ad-4b57-8fbf-cd1f020f2bfc"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90"},{"target_any_local_reference":{"kind":"app_package","name":"AzurePgMasterPkg","uuid":"53c13f4c-7c91-406a-9d03-e2cfcb9d5c90"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"743126fd-c1c3-4444-8e2a-d5ef70846f0e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9d03f79a_deployment","uuid":"0236e85a-f3a1-4cff-867a-29275949b6e4"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_53c13f4c_7c91_406a_9d03_e2cfcb9d5c90","uuid":"568e1ca9-fedb-4173-8030-5934a0370109"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_53c13f4c_7c91_406a_9d03_e2cfcb9d5c90"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureMaster","uuid":"c42de1fe-2393-4776-a4a7-92d3b3521dd3"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"9886ec43-dfab-4f51-b677-9e42e101df43","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9d03f79a_deployment","uuid":"0236e85a-f3a1-4cff-867a-29275949b6e4"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_c42de1fe_2393_4776_a4a7_92d3b3521dd3","uuid":"9ea4e99c-8c9c-43da-b60a-7b9d42de202f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Substrate_c42de1fe_2393_4776_a4a7_92d3b3521dd3"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9d03f79a_deployment","uuid":"0236e85a-f3a1-4cff-867a-29275949b6e4"},"retries":"0","description":"","type":"DELETE_DEPLOYMENT_ELEMENT","uuid":"6bb0c9df-593e-4ac2-a90e-50f531846757","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Delete_0236e85a_f3a1_4cff_867a_29275949b6e4"}],"description":"","message_list":[],"uuid":"92d989e1-dec9-43c2-9af3-f205cb4a7c8c","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_0236e85a_f3a1_4cff_867a_29275949b6e4","uuid":"45145bd8-82ae-4c82-97df-1def83a09714"},"name":"SYS_GEN__Runbook_Deployment_0236e85a_f3a1_4cff_867a_29275949b6e4"}},{"description":"System action for scaleout","message_list":[],"uuid":"d93b760d-ddbf-4aa6-96d5-4d04d5648a2c","name":"action_scaleout","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9d03f79a_deployment","uuid":"0236e85a-f3a1-4cff-867a-29275949b6e4"},"retries":"0","description":"","type":"DAG","uuid":"4af6da00-525c-4b55-9e60-553e11908265","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Deployment_Scaleout_0236e85a_f3a1_4cff_867a_29275949b6e4","uuid":"669e93da-fc1a-4e9e-8488-203f942bc8c3"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_0236e85a_f3a1_4cff_867a_29275949b6e4"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9d03f79a_deployment","uuid":"0236e85a-f3a1-4cff-867a-29275949b6e4"},"retries":"0","description":"","type":"SCALING","uuid":"669e93da-fc1a-4e9e-8488-203f942bc8c3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{scaling_count}@@","type":"","scaling_type":"SCALEOUT"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Deployment_Scaleout_0236e85a_f3a1_4cff_867a_29275949b6e4"}],"description":"","message_list":[],"uuid":"7e88c2a5-5720-4289-b4f2-498ae9d7c4bc","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"8ae3d731-47f8-46bb-b685-963822682d56","value":"0","label":"","state":"NOT_VALIDATED","attrs":{},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"scaling_count"}],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_0236e85a_f3a1_4cff_867a_29275949b6e4","uuid":"4af6da00-525c-4b55-9e60-553e11908265"},"name":"SYS_GEN__Runbook_Deployment_0236e85a_f3a1_4cff_867a_29275949b6e4"}},{"description":"System action for scalein","message_list":[],"uuid":"7dbebf29-06a3-4808-a116-c7d2e222ed00","name":"action_scalein","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9d03f79a_deployment","uuid":"0236e85a-f3a1-4cff-867a-29275949b6e4"},"retries":"0","description":"","type":"DAG","uuid":"e9cc39ed-94ed-4419-b2d0-4473866f6a41","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Deployment_Scalein_0236e85a_f3a1_4cff_867a_29275949b6e4","uuid":"ea427d26-05b5-4964-b419-974515f05912"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_0236e85a_f3a1_4cff_867a_29275949b6e4"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9d03f79a_deployment","uuid":"0236e85a-f3a1-4cff-867a-29275949b6e4"},"retries":"0","description":"","type":"SCALING","uuid":"ea427d26-05b5-4964-b419-974515f05912","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{scaling_count}@@","type":"","scaling_type":"SCALEIN"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Deployment_Scalein_0236e85a_f3a1_4cff_867a_29275949b6e4"}],"description":"","message_list":[],"uuid":"3570b05f-7a3e-46fc-bc31-41cfbfafb8b6","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"9bb016f2-7abd-48e0-9a32-24e143a73efb","value":"0","label":"","state":"NOT_VALIDATED","attrs":{},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"scaling_count"}],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_0236e85a_f3a1_4cff_867a_29275949b6e4","uuid":"e9cc39ed-94ed-4419-b2d0-4473866f6a41"},"name":"SYS_GEN__Runbook_Deployment_0236e85a_f3a1_4cff_867a_29275949b6e4"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"1e10dd85-c9de-4355-8f4b-e88ffb88afef","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9d03f79a_deployment","uuid":"0236e85a-f3a1-4cff-867a-29275949b6e4"},"retries":"0","description":"","type":"DAG","uuid":"5487fb1e-0ed8-491a-8eef-1d071b8e3ee4","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"43973dde-6891-41d9-a96c-339c12de8fd1"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_53c13f4c_7c91_406a_9d03_e2cfcb9d5c90","uuid":"59e9d5a0-718c-4592-9d29-c366590eb60d"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_c42de1fe_2393_4776_a4a7_92d3b3521dd3","uuid":"40415912-a352-4643-9b1e-823da1ddc938"},{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_0236e85a_f3a1_4cff_867a_29275949b6e4","uuid":"3ccf9e6a-e39b-4fb6-9035-72e930590b75"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"43973dde-6891-41d9-a96c-339c12de8fd1"},"edge_type":"inherent","type":"","uuid":"ccff9813-431b-42a0-91be-5577e29e2eb9","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_53c13f4c_7c91_406a_9d03_e2cfcb9d5c90","uuid":"59e9d5a0-718c-4592-9d29-c366590eb60d"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_c42de1fe_2393_4776_a4a7_92d3b3521dd3","uuid":"40415912-a352-4643-9b1e-823da1ddc938"},"edge_type":"inherent","type":"","uuid":"372097f9-fbd2-4f78-b790-ca626e3e395c","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_0236e85a_f3a1_4cff_867a_29275949b6e4","uuid":"3ccf9e6a-e39b-4fb6-9035-72e930590b75"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_53c13f4c_7c91_406a_9d03_e2cfcb9d5c90","uuid":"59e9d5a0-718c-4592-9d29-c366590eb60d"},"edge_type":"inherent","type":"","uuid":"deb7c21e-45e1-49d3-ac73-730bb654930c","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_c42de1fe_2393_4776_a4a7_92d3b3521dd3","uuid":"40415912-a352-4643-9b1e-823da1ddc938"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_0236e85a_f3a1_4cff_867a_29275949b6e4"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"43973dde-6891-41d9-a96c-339c12de8fd1","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9d03f79a_deployment","uuid":"0236e85a-f3a1-4cff-867a-29275949b6e4"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"92ba2635-e9da-48a5-8b58-7a4b4a61ffdf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90"},{"target_any_local_reference":{"kind":"app_package","name":"AzurePgMasterPkg","uuid":"53c13f4c-7c91-406a-9d03-e2cfcb9d5c90"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"59e9d5a0-718c-4592-9d29-c366590eb60d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_53c13f4c_7c91_406a_9d03_e2cfcb9d5c90"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureMaster","uuid":"c42de1fe-2393-4776-a4a7-92d3b3521dd3"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"40415912-a352-4643-9b1e-823da1ddc938","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9d03f79a_deployment","uuid":"0236e85a-f3a1-4cff-867a-29275949b6e4"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_c42de1fe_2393_4776_a4a7_92d3b3521dd3","uuid":"fd3d0c79-026b-4324-8e3b-e0e3872b87dc"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Substrate_c42de1fe_2393_4776_a4a7_92d3b3521dd3"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9d03f79a_deployment","uuid":"0236e85a-f3a1-4cff-867a-29275949b6e4"},"retries":"0","description":"","type":"SOFT_DELETE_DEPLOYMENT_ELEMENT","uuid":"3ccf9e6a-e39b-4fb6-9035-72e930590b75","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Soft_Delete_0236e85a_f3a1_4cff_867a_29275949b6e4"}],"description":"","message_list":[],"uuid":"d495fb1b-b485-4d94-9468-5f871a0134ea","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_0236e85a_f3a1_4cff_867a_29275949b6e4","uuid":"5487fb1e-0ed8-491a-8eef-1d071b8e3ee4"},"name":"SYS_GEN__Runbook_Deployment_0236e85a_f3a1_4cff_867a_29275949b6e4"}}],"message_list":[],"published_service_local_reference_list":[],"uuid":"0236e85a-f3a1-4cff-867a-29275949b6e4","min_replicas":"1","state":"ACTIVE","max_replicas":"1","depends_on_list":[],"editables":{},"package_local_reference_list":[{"kind":"app_package","name":"AzurePgMasterPkg","uuid":"53c13f4c-7c91-406a-9d03-e2cfcb9d5c90"}],"substrate_local_reference":{"kind":"app_substrate","name":"AzureMaster","uuid":"c42de1fe-2393-4776-a4a7-92d3b3521dd3"},"type":"GREENFIELD","options":{},"variable_list":[],"name":"9d03f79a_deployment"},{"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"d76849f5-6666-4e82-8ceb-3489349ec499","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"a0748417_deployment","uuid":"8adc3c2a-e6c5-4c64-9eee-07cd1f8b59a0"},"retries":"0","description":"","type":"DAG","uuid":"39375585-9763-4975-a2cd-573570a4910d","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__DE_Provision_8adc3c2a_e6c5_4c64_9eee_07cd1f8b59a0","uuid":"201e7469-e82c-41d9-9603-7757ebe62043"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_de59436e_b01f_4524_85a3_57807c3ac1a9","uuid":"e8d677a4-0ad5-45a8-8aa9-7676f3c5d593"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_fb791420_5fdc_42a7_84df_4a05408b2c96","uuid":"a588a5d0-3124-4097-846e-556b1e031b85"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"49e5dd1f-3ca6-4128-94e8-1de95c95c93d"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"3afad048-536f-4fdb-ab29-b264a097d6a6"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"49e5dd1f-3ca6-4128-94e8-1de95c95c93d"},"edge_type":"inherent","type":"","uuid":"6984840f-ca5a-4a0d-83d4-31e76a312dab","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"3afad048-536f-4fdb-ab29-b264a097d6a6"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_fb791420_5fdc_42a7_84df_4a05408b2c96","uuid":"a588a5d0-3124-4097-846e-556b1e031b85"},"edge_type":"inherent","type":"","uuid":"30e026ad-b553-4a7d-9ab7-ea868d128562","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"49e5dd1f-3ca6-4128-94e8-1de95c95c93d"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_de59436e_b01f_4524_85a3_57807c3ac1a9","uuid":"e8d677a4-0ad5-45a8-8aa9-7676f3c5d593"},"edge_type":"inherent","type":"","uuid":"1ed50a10-b23b-45dc-8910-d6a24229c9aa","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_fb791420_5fdc_42a7_84df_4a05408b2c96","uuid":"a588a5d0-3124-4097-846e-556b1e031b85"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_8adc3c2a_e6c5_4c64_9eee_07cd1f8b59a0","uuid":"201e7469-e82c-41d9-9603-7757ebe62043"},"edge_type":"inherent","type":"","uuid":"0f7302d0-18fa-4fbf-97cd-115209f3ac96","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_de59436e_b01f_4524_85a3_57807c3ac1a9","uuid":"e8d677a4-0ad5-45a8-8aa9-7676f3c5d593"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_8adc3c2a_e6c5_4c64_9eee_07cd1f8b59a0"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"a0748417_deployment","uuid":"8adc3c2a-e6c5-4c64-9eee-07cd1f8b59a0"},"retries":"0","description":"","type":"CREATE_DEPLOYMENT_ELEMENT","uuid":"201e7469-e82c-41d9-9603-7757ebe62043","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Provision_8adc3c2a_e6c5_4c64_9eee_07cd1f8b59a0"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureSlave","uuid":"de59436e-b01f-4524-85a3-57807c3ac1a9"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"e8d677a4-0ad5-45a8-8aa9-7676f3c5d593","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a0748417_deployment","uuid":"8adc3c2a-e6c5-4c64-9eee-07cd1f8b59a0"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_de59436e_b01f_4524_85a3_57807c3ac1a9","uuid":"1f18b629-8f26-4c4c-9914-6bf0d3929f0c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Substrate_de59436e_b01f_4524_85a3_57807c3ac1a9"},{"target_any_local_reference":{"kind":"app_package","name":"AzurePGSlavePkg","uuid":"fb791420-5fdc-42a7-84df-4a05408b2c96"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"a588a5d0-3124-4097-846e-556b1e031b85","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a0748417_deployment","uuid":"8adc3c2a-e6c5-4c64-9eee-07cd1f8b59a0"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_fb791420_5fdc_42a7_84df_4a05408b2c96","uuid":"d8238fae-cde1-4891-b469-8d8e935b7569"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_fb791420_5fdc_42a7_84df_4a05408b2c96"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"49e5dd1f-3ca6-4128-94e8-1de95c95c93d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a0748417_deployment","uuid":"8adc3c2a-e6c5-4c64-9eee-07cd1f8b59a0"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"8f15e59d_runbook","uuid":"3c61d32f-d429-4292-b02b-abf0f370307a"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"3afad048-536f-4fdb-ab29-b264a097d6a6","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a0748417_deployment","uuid":"8adc3c2a-e6c5-4c64-9eee-07cd1f8b59a0"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"b34d9d39_runbook","uuid":"57a4c7a2-843d-4130-9f5d-51c6ed3ce4d5"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40"}],"description":"","message_list":[],"uuid":"e43873b0-b70f-4533-b99f-d5132c0b1e9f","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_8adc3c2a_e6c5_4c64_9eee_07cd1f8b59a0","uuid":"39375585-9763-4975-a2cd-573570a4910d"},"name":"SYS_GEN__Runbook_Deployment_8adc3c2a_e6c5_4c64_9eee_07cd1f8b59a0"}},{"description":"System action for starting an application","message_list":[],"uuid":"db550c72-97ae-45fd-b3a7-4ee93ef98f15","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"a0748417_deployment","uuid":"8adc3c2a-e6c5-4c64-9eee-07cd1f8b59a0"},"retries":"0","description":"","type":"DAG","uuid":"92247e7c-da45-426b-8b09-a0153e36125f","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_de59436e_b01f_4524_85a3_57807c3ac1a9","uuid":"e7a45477-a3e5-4f68-9596-8f6b98e72324"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"9ebc5be2-807f-4508-9d34-ead81a87f8b1"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_de59436e_b01f_4524_85a3_57807c3ac1a9","uuid":"e7a45477-a3e5-4f68-9596-8f6b98e72324"},"edge_type":"inherent","type":"","uuid":"e155c8c3-fa4e-4f95-8f38-cf6f64c18e14","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"9ebc5be2-807f-4508-9d34-ead81a87f8b1"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_8adc3c2a_e6c5_4c64_9eee_07cd1f8b59a0"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureSlave","uuid":"de59436e-b01f-4524-85a3-57807c3ac1a9"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"e7a45477-a3e5-4f68-9596-8f6b98e72324","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a0748417_deployment","uuid":"8adc3c2a-e6c5-4c64-9eee-07cd1f8b59a0"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_de59436e_b01f_4524_85a3_57807c3ac1a9","uuid":"b93fac29-dcf8-440d-a72d-5ac2bbd2079e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Substrate_de59436e_b01f_4524_85a3_57807c3ac1a9"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"9ebc5be2-807f-4508-9d34-ead81a87f8b1","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a0748417_deployment","uuid":"8adc3c2a-e6c5-4c64-9eee-07cd1f8b59a0"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"b34d9d39_runbook","uuid":"57a4c7a2-843d-4130-9f5d-51c6ed3ce4d5"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40"}],"description":"","message_list":[],"uuid":"3b671929-8030-43fc-9940-dd37d3393b0a","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_8adc3c2a_e6c5_4c64_9eee_07cd1f8b59a0","uuid":"92247e7c-da45-426b-8b09-a0153e36125f"},"name":"SYS_GEN__Runbook_Deployment_8adc3c2a_e6c5_4c64_9eee_07cd1f8b59a0"}},{"description":"System action for restarting an application","message_list":[],"uuid":"60419072-27f5-407a-8778-a5ef7218c852","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"a0748417_deployment","uuid":"8adc3c2a-e6c5-4c64-9eee-07cd1f8b59a0"},"retries":"0","description":"","type":"DAG","uuid":"9cbb0aa3-e199-4389-8482-b73039cc1005","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_de59436e_b01f_4524_85a3_57807c3ac1a9","uuid":"42f54ea8-9ce0-4762-a105-f37c8cdc2c59"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"3ab7bbe5-875a-4a95-b8ee-398666a41786"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_de59436e_b01f_4524_85a3_57807c3ac1a9","uuid":"42f54ea8-9ce0-4762-a105-f37c8cdc2c59"},"edge_type":"inherent","type":"","uuid":"f78a5588-a0d6-403c-a1d3-0083d780be00","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"3ab7bbe5-875a-4a95-b8ee-398666a41786"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_8adc3c2a_e6c5_4c64_9eee_07cd1f8b59a0"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureSlave","uuid":"de59436e-b01f-4524-85a3-57807c3ac1a9"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"42f54ea8-9ce0-4762-a105-f37c8cdc2c59","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a0748417_deployment","uuid":"8adc3c2a-e6c5-4c64-9eee-07cd1f8b59a0"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_de59436e_b01f_4524_85a3_57807c3ac1a9","uuid":"4ccf7574-51e7-4083-a4f0-775318878b2c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Substrate_de59436e_b01f_4524_85a3_57807c3ac1a9"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"3ab7bbe5-875a-4a95-b8ee-398666a41786","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a0748417_deployment","uuid":"8adc3c2a-e6c5-4c64-9eee-07cd1f8b59a0"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"c1c4eebd_runbook","uuid":"bea78664-aea0-4d1f-b708-8ef876af38d5"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40"}],"description":"","message_list":[],"uuid":"67af3a92-4712-4740-aa21-0f294c68e03f","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_8adc3c2a_e6c5_4c64_9eee_07cd1f8b59a0","uuid":"9cbb0aa3-e199-4389-8482-b73039cc1005"},"name":"SYS_GEN__Runbook_Deployment_8adc3c2a_e6c5_4c64_9eee_07cd1f8b59a0"}},{"description":"System action for stopping an application","message_list":[],"uuid":"5f135a6d-5594-4803-aa9e-97863852156a","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"a0748417_deployment","uuid":"8adc3c2a-e6c5-4c64-9eee-07cd1f8b59a0"},"retries":"0","description":"","type":"DAG","uuid":"bef38ada-3650-4263-b3c3-33cd2d9a6f49","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"32023444-9dfd-4a23-bedf-7178ebb9024c"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_de59436e_b01f_4524_85a3_57807c3ac1a9","uuid":"55ace61d-8363-4e2d-8fda-b14c168a3571"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"32023444-9dfd-4a23-bedf-7178ebb9024c"},"edge_type":"inherent","type":"","uuid":"73563163-8147-4c43-a795-733d4ccfa9b8","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_de59436e_b01f_4524_85a3_57807c3ac1a9","uuid":"55ace61d-8363-4e2d-8fda-b14c168a3571"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_8adc3c2a_e6c5_4c64_9eee_07cd1f8b59a0"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"32023444-9dfd-4a23-bedf-7178ebb9024c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a0748417_deployment","uuid":"8adc3c2a-e6c5-4c64-9eee-07cd1f8b59a0"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0e2bd4c9_runbook","uuid":"8e29699f-df44-4802-8ae9-689322c6575c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureSlave","uuid":"de59436e-b01f-4524-85a3-57807c3ac1a9"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"55ace61d-8363-4e2d-8fda-b14c168a3571","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a0748417_deployment","uuid":"8adc3c2a-e6c5-4c64-9eee-07cd1f8b59a0"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_de59436e_b01f_4524_85a3_57807c3ac1a9","uuid":"71fbd24d-3b03-4cdd-a9de-144dda018388"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Substrate_de59436e_b01f_4524_85a3_57807c3ac1a9"}],"description":"","message_list":[],"uuid":"409cd7b0-416a-4605-9d75-b49b5e7db3a9","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_8adc3c2a_e6c5_4c64_9eee_07cd1f8b59a0","uuid":"bef38ada-3650-4263-b3c3-33cd2d9a6f49"},"name":"SYS_GEN__Runbook_Deployment_8adc3c2a_e6c5_4c64_9eee_07cd1f8b59a0"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"4ed6b918-a45a-4ffd-99ae-ee41284e9156","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"a0748417_deployment","uuid":"8adc3c2a-e6c5-4c64-9eee-07cd1f8b59a0"},"retries":"0","description":"","type":"DAG","uuid":"6c0cca95-0f10-4af4-be91-cf4fa7caa6a9","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"0b7f0013-0264-435b-99e3-b41bbd4ebc85"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"6558574b-d264-4efd-814a-705f6ba8b9a7"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_fb791420_5fdc_42a7_84df_4a05408b2c96","uuid":"01c8fec3-5d39-4c66-9adc-601253a83bd0"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_de59436e_b01f_4524_85a3_57807c3ac1a9","uuid":"0cc33acf-0a02-4fb6-abd0-8b982c8f81b0"},{"kind":"app_task","name":"SYS_GEN__DE_Delete_8adc3c2a_e6c5_4c64_9eee_07cd1f8b59a0","uuid":"5fa88ad8-f69b-4574-aac7-1c6202c53a8e"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"0b7f0013-0264-435b-99e3-b41bbd4ebc85"},"edge_type":"inherent","type":"","uuid":"8c7c4b4c-b5ef-404f-a8a2-ad31926b16fc","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"6558574b-d264-4efd-814a-705f6ba8b9a7"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"6558574b-d264-4efd-814a-705f6ba8b9a7"},"edge_type":"inherent","type":"","uuid":"8a0dce8f-101d-47b5-b6fe-23aedeb8a5e7","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_fb791420_5fdc_42a7_84df_4a05408b2c96","uuid":"01c8fec3-5d39-4c66-9adc-601253a83bd0"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_fb791420_5fdc_42a7_84df_4a05408b2c96","uuid":"01c8fec3-5d39-4c66-9adc-601253a83bd0"},"edge_type":"inherent","type":"","uuid":"4e36d67b-c10b-48f0-a77c-a27401da4025","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_de59436e_b01f_4524_85a3_57807c3ac1a9","uuid":"0cc33acf-0a02-4fb6-abd0-8b982c8f81b0"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_de59436e_b01f_4524_85a3_57807c3ac1a9","uuid":"0cc33acf-0a02-4fb6-abd0-8b982c8f81b0"},"edge_type":"inherent","type":"","uuid":"0fdec1ba-e880-4cc0-9cd5-2a14b51aa6f5","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Delete_8adc3c2a_e6c5_4c64_9eee_07cd1f8b59a0","uuid":"5fa88ad8-f69b-4574-aac7-1c6202c53a8e"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_8adc3c2a_e6c5_4c64_9eee_07cd1f8b59a0"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"0b7f0013-0264-435b-99e3-b41bbd4ebc85","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a0748417_deployment","uuid":"8adc3c2a-e6c5-4c64-9eee-07cd1f8b59a0"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0e2bd4c9_runbook","uuid":"8e29699f-df44-4802-8ae9-689322c6575c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"6558574b-d264-4efd-814a-705f6ba8b9a7","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a0748417_deployment","uuid":"8adc3c2a-e6c5-4c64-9eee-07cd1f8b59a0"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"08946714_runbook","uuid":"005a7fbe-7426-4c75-aa02-8ca0b1db5dbb"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40"},{"target_any_local_reference":{"kind":"app_package","name":"AzurePGSlavePkg","uuid":"fb791420-5fdc-42a7-84df-4a05408b2c96"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"01c8fec3-5d39-4c66-9adc-601253a83bd0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a0748417_deployment","uuid":"8adc3c2a-e6c5-4c64-9eee-07cd1f8b59a0"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_fb791420_5fdc_42a7_84df_4a05408b2c96","uuid":"83ea0eb4-ffcc-4e74-92c7-d6d0e0fca06c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_fb791420_5fdc_42a7_84df_4a05408b2c96"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureSlave","uuid":"de59436e-b01f-4524-85a3-57807c3ac1a9"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"0cc33acf-0a02-4fb6-abd0-8b982c8f81b0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a0748417_deployment","uuid":"8adc3c2a-e6c5-4c64-9eee-07cd1f8b59a0"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_de59436e_b01f_4524_85a3_57807c3ac1a9","uuid":"d5270f20-9171-4924-813d-d5d1237b3462"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Substrate_de59436e_b01f_4524_85a3_57807c3ac1a9"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"a0748417_deployment","uuid":"8adc3c2a-e6c5-4c64-9eee-07cd1f8b59a0"},"retries":"0","description":"","type":"DELETE_DEPLOYMENT_ELEMENT","uuid":"5fa88ad8-f69b-4574-aac7-1c6202c53a8e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Delete_8adc3c2a_e6c5_4c64_9eee_07cd1f8b59a0"}],"description":"","message_list":[],"uuid":"8b27448c-205b-4b9c-8141-f01df0a286d7","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_8adc3c2a_e6c5_4c64_9eee_07cd1f8b59a0","uuid":"6c0cca95-0f10-4af4-be91-cf4fa7caa6a9"},"name":"SYS_GEN__Runbook_Deployment_8adc3c2a_e6c5_4c64_9eee_07cd1f8b59a0"}},{"description":"System action for scaleout","message_list":[],"uuid":"28960f80-c59e-4807-9020-40664a2d49a4","name":"action_scaleout","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"a0748417_deployment","uuid":"8adc3c2a-e6c5-4c64-9eee-07cd1f8b59a0"},"retries":"0","description":"","type":"DAG","uuid":"74b43a8b-97a6-4313-8fca-fcf9a26a436c","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Deployment_Scaleout_8adc3c2a_e6c5_4c64_9eee_07cd1f8b59a0","uuid":"976955ce-e339-4184-84f8-a3ca51eb7934"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_8adc3c2a_e6c5_4c64_9eee_07cd1f8b59a0"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"a0748417_deployment","uuid":"8adc3c2a-e6c5-4c64-9eee-07cd1f8b59a0"},"retries":"0","description":"","type":"SCALING","uuid":"976955ce-e339-4184-84f8-a3ca51eb7934","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{scaling_count}@@","type":"","scaling_type":"SCALEOUT"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Deployment_Scaleout_8adc3c2a_e6c5_4c64_9eee_07cd1f8b59a0"}],"description":"","message_list":[],"uuid":"bceed962-dd47-4d49-9b72-a0fb06228105","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"24ac4b87-cc9d-4f56-97b5-43be57d1609b","value":"0","label":"","state":"NOT_VALIDATED","attrs":{},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"scaling_count"}],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_8adc3c2a_e6c5_4c64_9eee_07cd1f8b59a0","uuid":"74b43a8b-97a6-4313-8fca-fcf9a26a436c"},"name":"SYS_GEN__Runbook_Deployment_8adc3c2a_e6c5_4c64_9eee_07cd1f8b59a0"}},{"description":"System action for scalein","message_list":[],"uuid":"23ac891c-f385-4ace-b81c-7cefd4f2e00b","name":"action_scalein","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"a0748417_deployment","uuid":"8adc3c2a-e6c5-4c64-9eee-07cd1f8b59a0"},"retries":"0","description":"","type":"DAG","uuid":"73a581e2-c5a3-4852-b3c8-ab15b2114915","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Deployment_Scalein_8adc3c2a_e6c5_4c64_9eee_07cd1f8b59a0","uuid":"4b8183b2-8143-4b63-b60d-3d9258af94dc"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_8adc3c2a_e6c5_4c64_9eee_07cd1f8b59a0"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"a0748417_deployment","uuid":"8adc3c2a-e6c5-4c64-9eee-07cd1f8b59a0"},"retries":"0","description":"","type":"SCALING","uuid":"4b8183b2-8143-4b63-b60d-3d9258af94dc","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{scaling_count}@@","type":"","scaling_type":"SCALEIN"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Deployment_Scalein_8adc3c2a_e6c5_4c64_9eee_07cd1f8b59a0"}],"description":"","message_list":[],"uuid":"220433dd-a9fb-4caa-9e7d-f57c2de35a72","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"3c4f7771-bccb-4efb-b442-744dfa9814e8","value":"0","label":"","state":"NOT_VALIDATED","attrs":{},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"scaling_count"}],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_8adc3c2a_e6c5_4c64_9eee_07cd1f8b59a0","uuid":"73a581e2-c5a3-4852-b3c8-ab15b2114915"},"name":"SYS_GEN__Runbook_Deployment_8adc3c2a_e6c5_4c64_9eee_07cd1f8b59a0"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"160a9baa-3f9f-42ce-b69a-60414d18afab","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"a0748417_deployment","uuid":"8adc3c2a-e6c5-4c64-9eee-07cd1f8b59a0"},"retries":"0","description":"","type":"DAG","uuid":"53ced97c-77e5-4006-80f0-b50704bf548c","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"e4b57f19-3be2-434d-b1a4-efeed3c3f4f0"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_fb791420_5fdc_42a7_84df_4a05408b2c96","uuid":"2c4cf0df-3baa-48e6-a279-00e4d4cf075c"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_de59436e_b01f_4524_85a3_57807c3ac1a9","uuid":"9065cfa9-e27f-4f34-a71f-37f57c13721e"},{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_8adc3c2a_e6c5_4c64_9eee_07cd1f8b59a0","uuid":"8eafc8fd-31a3-4ed7-8ac4-44600aca2dff"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"e4b57f19-3be2-434d-b1a4-efeed3c3f4f0"},"edge_type":"inherent","type":"","uuid":"264b3bca-c1c7-4080-a035-2cef44bdbc17","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_fb791420_5fdc_42a7_84df_4a05408b2c96","uuid":"2c4cf0df-3baa-48e6-a279-00e4d4cf075c"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_de59436e_b01f_4524_85a3_57807c3ac1a9","uuid":"9065cfa9-e27f-4f34-a71f-37f57c13721e"},"edge_type":"inherent","type":"","uuid":"fc4b6df7-08a1-4703-a5b3-fafeb3d84fa8","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_8adc3c2a_e6c5_4c64_9eee_07cd1f8b59a0","uuid":"8eafc8fd-31a3-4ed7-8ac4-44600aca2dff"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_fb791420_5fdc_42a7_84df_4a05408b2c96","uuid":"2c4cf0df-3baa-48e6-a279-00e4d4cf075c"},"edge_type":"inherent","type":"","uuid":"a09882cc-130a-40ca-9ca1-1b7120d82f2d","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_de59436e_b01f_4524_85a3_57807c3ac1a9","uuid":"9065cfa9-e27f-4f34-a71f-37f57c13721e"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_8adc3c2a_e6c5_4c64_9eee_07cd1f8b59a0"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"e4b57f19-3be2-434d-b1a4-efeed3c3f4f0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a0748417_deployment","uuid":"8adc3c2a-e6c5-4c64-9eee-07cd1f8b59a0"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"febe47f3-782b-40c3-abcb-ce825626516f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40"},{"target_any_local_reference":{"kind":"app_package","name":"AzurePGSlavePkg","uuid":"fb791420-5fdc-42a7-84df-4a05408b2c96"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"2c4cf0df-3baa-48e6-a279-00e4d4cf075c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_fb791420_5fdc_42a7_84df_4a05408b2c96"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureSlave","uuid":"de59436e-b01f-4524-85a3-57807c3ac1a9"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"9065cfa9-e27f-4f34-a71f-37f57c13721e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a0748417_deployment","uuid":"8adc3c2a-e6c5-4c64-9eee-07cd1f8b59a0"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_de59436e_b01f_4524_85a3_57807c3ac1a9","uuid":"448723ed-5ed5-4225-b8c4-b1fe58205f7e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Substrate_de59436e_b01f_4524_85a3_57807c3ac1a9"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"a0748417_deployment","uuid":"8adc3c2a-e6c5-4c64-9eee-07cd1f8b59a0"},"retries":"0","description":"","type":"SOFT_DELETE_DEPLOYMENT_ELEMENT","uuid":"8eafc8fd-31a3-4ed7-8ac4-44600aca2dff","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Soft_Delete_8adc3c2a_e6c5_4c64_9eee_07cd1f8b59a0"}],"description":"","message_list":[],"uuid":"33754aa5-3fa0-44b8-b858-124ae9c90b20","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_8adc3c2a_e6c5_4c64_9eee_07cd1f8b59a0","uuid":"53ced97c-77e5-4006-80f0-b50704bf548c"},"name":"SYS_GEN__Runbook_Deployment_8adc3c2a_e6c5_4c64_9eee_07cd1f8b59a0"}}],"message_list":[],"published_service_local_reference_list":[],"uuid":"8adc3c2a-e6c5-4c64-9eee-07cd1f8b59a0","min_replicas":"2","state":"ACTIVE","max_replicas":"4","depends_on_list":[],"editables":{"min_replicas":true,"max_replicas":true},"package_local_reference_list":[{"kind":"app_package","name":"AzurePGSlavePkg","uuid":"fb791420-5fdc-42a7-84df-4a05408b2c96"}],"substrate_local_reference":{"kind":"app_substrate","name":"AzureSlave","uuid":"de59436e-b01f-4524-85a3-57807c3ac1a9"},"type":"GREENFIELD","options":{},"variable_list":[],"name":"a0748417_deployment"}],"description":"","action_list":[{"description":"Take DB backup. \nDB_NAME : Name of DB to be backup\nBACKUP_FILE_PATH : Absolute directory path for backup file","message_list":[],"uuid":"e5914d44-f714-4ed8-b0eb-c26e199e5e68","name":"Backup","state":"ACTIVE","critical":false,"attrs":{},"type":"user","runbook":{"task_definition_list":[{"retries":"0","description":"","type":"DAG","uuid":"e5f88ef6-cbd8-4abc-b346-d42c52f84fae","child_tasks_local_reference_list":[{"kind":"app_task","name":"Do DB Backup","uuid":"290c4907-f902-4862-b3b0-c634d137af59"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"b8bee1bb_dag"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"EXEC","uuid":"290c4907-f902-4862-b3b0-c634d137af59","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\ndb_name=\"@@{DB_NAME}@@\"\nbackup_file_path=\"@@{BACKUP_FILE_PATH}@@\"\n\nsudo su - postgres bash -c \"pg_dump ${db_name} | gzip > ${backup_file_path}\"","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Do DB Backup"}],"description":"","message_list":[],"uuid":"ee33ae6d-7b55-43c8-8aee-27f487c2ff2e","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"5bc7112b-3a81-468b-9227-81d56cf927ec","value":"postgres","label":"","state":"ACTIVE","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"DB_NAME"},{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"10ebb687-5ec1-441b-876f-31521fa0d71a","value":"~\/db.backup","label":"","state":"ACTIVE","attrs":{},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"BACKUP_FILE_PATH"}],"main_task_local_reference":{"kind":"app_task","name":"b8bee1bb_dag","uuid":"e5f88ef6-cbd8-4abc-b346-d42c52f84fae"},"name":"f0baee7f_runbook"}},{"description":"Restore DB from dump file\nDB_NAME : Name of DB to be backup\nRESTORE_FILE_PATH : Absolute directory path for restore file","message_list":[],"uuid":"4b39fdc9-48ee-481a-831c-7f5a502c4917","name":"Restore","state":"ACTIVE","critical":false,"attrs":{},"type":"user","runbook":{"task_definition_list":[{"retries":"0","description":"","type":"DAG","uuid":"e3588ce5-d69b-41e4-82d7-bf1dad990a0d","child_tasks_local_reference_list":[{"kind":"app_task","name":"Do DB Restore","uuid":"82bd5b04-e84a-44e0-8e07-f008b7ba8604"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"75c99cfe_dag"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"EXEC","uuid":"82bd5b04-e84a-44e0-8e07-f008b7ba8604","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\ndb_name=\"@@{DB_NAME}@@\"\nrestore_file_path=\"@@{RESTORE_FILE_PATH}@@\"\n\nsudo su - postgres bash -c \"gunzip -c ${restore_file_path} | psql ${db_name}\"","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Do DB Restore"}],"description":"","message_list":[],"uuid":"abdbe037-fe5d-4bf1-b6a4-900189b6e1eb","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"fb719d83-29cc-48e8-9320-6006d1b64cd3","value":"postgres","label":"","state":"ACTIVE","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"DB_NAME"},{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"da7877d4-396b-49e2-8f30-028b41ef0eab","value":"~\/db.backup","label":"","state":"ACTIVE","attrs":{},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"RESTORE_FILE_PATH"}],"main_task_local_reference":{"kind":"app_task","name":"75c99cfe_dag","uuid":"e3588ce5-d69b-41e4-82d7-bf1dad990a0d"},"name":"9abd6430_runbook"}},{"description":"","message_list":[],"uuid":"a869dc1a-edd8-4d89-af4f-73173ae650bb","name":"Scale Out","state":"ACTIVE","critical":false,"attrs":{},"type":"user","runbook":{"task_definition_list":[{"retries":"0","description":"","type":"DAG","uuid":"52f280f7-3419-4a15-b435-1767f6689c1f","child_tasks_local_reference_list":[{"kind":"app_task","name":"Scale Out Slave","uuid":"10a424de-b7b5-4a20-b3cf-22a51649af88"},{"kind":"app_task","name":"Configure Master","uuid":"39227927-a883-4c15-998e-d9179be163bb"},{"kind":"app_task","name":"Configure Slave","uuid":"378a3416-dc2a-4174-af3c-c9ca268a173c"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Scale Out Slave","uuid":"10a424de-b7b5-4a20-b3cf-22a51649af88"},"edge_type":"user_defined","type":"","uuid":"d32de487-c6ef-41ec-aff4-ac6e030345c8","to_task_reference":{"kind":"app_task","name":"Configure Slave","uuid":"378a3416-dc2a-4174-af3c-c9ca268a173c"}},{"from_task_reference":{"kind":"app_task","name":"Configure Master","uuid":"39227927-a883-4c15-998e-d9179be163bb"},"edge_type":"user_defined","type":"","uuid":"2583e282-316d-4f5b-ae2b-1bcef44c940c","to_task_reference":{"kind":"app_task","name":"Configure Slave","uuid":"378a3416-dc2a-4174-af3c-c9ca268a173c"}},{"from_task_reference":{"kind":"app_task","name":"Scale Out Slave","uuid":"10a424de-b7b5-4a20-b3cf-22a51649af88"},"edge_type":"user_defined","type":"","uuid":"9aa61824-d362-4607-89eb-ae5adef79366","to_task_reference":{"kind":"app_task","name":"Configure Master","uuid":"39227927-a883-4c15-998e-d9179be163bb"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"ee6a856b_dag"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"a0748417_deployment","uuid":"8adc3c2a-e6c5-4c64-9eee-07cd1f8b59a0"},"retries":"0","description":"","type":"SCALING","uuid":"10a424de-b7b5-4a20-b3cf-22a51649af88","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"1","type":"","scaling_type":"SCALEOUT"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Scale Out Slave"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"EXEC","uuid":"39227927-a883-4c15-998e-d9179be163bb","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\nSlaves=($(echo @@{AzureSlave.address}@@ | sed 's\/^,\/\/' | sed 's\/,$\/\/' | tr \",\" \" \"))    \n\necho \"host    replication     rep     ${Slaves[-1]}\/32     md5\" | sudo tee -a \/var\/lib\/pgsql\/9.6\/data\/pg_hba.conf\n\nsudo -i -u postgres \/usr\/pgsql-9.6\/bin\/pg_ctl reload;\n\nsleep 20\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Configure Master"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"EXEC","uuid":"378a3416-dc2a-4174-af3c-c9ca268a173c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\nSlaves=($(echo @@{Postgres_Slave.address}@@ | sed 's\/^,\/\/' | sed 's\/,$\/\/' | tr \",\" \" \"))    \nScaleout_IP=${Slaves[-1]}\n\nif [ \"${Scaleout_IP}\" != \"@@{address}@@\" ]\nthen\n\texit 0;\nfi\n\nMaster_IP=@@{AzureMaster.address}@@    \n\n\nsudo systemctl stop postgresql-9.6\nsleep 2;\n\nsudo su - postgres <<EOF\n  mv 9.6\/data 9.6\/data.org\n  echo \"${Master_IP}:5432:*:rep:@@{DB_PASSWORD}@@\" > ~\/.pgpass\n  chmod 0600 ~\/.pgpass\n  pg_basebackup -h ${Master_IP} -D \/var\/lib\/pgsql\/9.6\/data -U rep -v -P\nEOF\n\nsudo chmod -R 0700 \/var\/lib\/pgsql\/9.6\/data\n\n#enable service on boot\nsudo systemctl enable postgresql-9.6.service\n\nsleep 2\nsudo sed -i -e 's\/ExecStart=.*\/ExecStart=\\\/usr\\\/pgsql-9\\.6\\\/bin\\\/pg_ctl start -D ${PGDATA} -s -W -t 300\/g' \/usr\/lib\/systemd\/system\/postgresql-9.6.service\n\necho \"host    replication     rep     ${Master_IP}\/32     md5\" | sudo tee -a \/var\/lib\/pgsql\/9.6\/data\/pg_hba.conf\necho \"listen_addresses = '*'\nwal_level = 'hot_standby'\narchive_mode = on\narchive_command = 'cd .'\nmax_wal_senders = 3\nhot_standby = on\nwal_keep_segments = 8\" | sudo tee -a \/var\/lib\/pgsql\/9.6\/data\/postgresql.conf\n\nsudo su - postgres sh -c \"touch 9.6\/data\/recovery.conf\"\n\necho \"standby_mode = 'on'\nprimary_conninfo = 'host=${Master_IP} port=5432 user=rep password=@@{DB_PASSWORD}@@'\ntrigger_file = '\/tmp\/postgresql.trigger.5432'\" | sudo tee -a \/var\/lib\/pgsql\/9.6\/data\/recovery.conf\n\nsudo systemctl start postgresql-9.6","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Configure Slave"}],"description":"","message_list":[],"uuid":"d6a22254-8e09-494a-b4cb-1ea16ce62bd5","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"f28f9502-20ed-40e3-b6a6-4ed17d1944bc","value":"YES","label":"","state":"ACTIVE","attrs":{"type":""},"editables":{},"is_hidden":false,"type":"LOCAL","options":{},"name":"IS_SCALEOUT"}],"main_task_local_reference":{"kind":"app_task","name":"ee6a856b_dag","uuid":"52f280f7-3419-4a15-b435-1767f6689c1f"},"name":"02fbb4b3_runbook"}},{"description":"","message_list":[],"uuid":"0daef88d-d4cb-4e1f-a5e3-f8a5925601dd","name":"Scale In","state":"ACTIVE","critical":false,"attrs":{},"type":"user","runbook":{"task_definition_list":[{"retries":"0","description":"","type":"DAG","uuid":"aa2ccd58-4f53-4a8d-9eb1-bd1a86e45533","child_tasks_local_reference_list":[{"kind":"app_task","name":"Scale In Slave","uuid":"e35dd656-8b67-4960-a57b-b83aa000e2fa"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"404f7197_dag"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"a0748417_deployment","uuid":"8adc3c2a-e6c5-4c64-9eee-07cd1f8b59a0"},"retries":"0","description":"","type":"SCALING","uuid":"e35dd656-8b67-4960-a57b-b83aa000e2fa","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"1","type":"","scaling_type":"SCALEIN"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Scale In Slave"}],"description":"","message_list":[],"uuid":"8c9fa7fb-ce22-45ff-94bc-b16ff9db6728","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"404f7197_dag","uuid":"aa2ccd58-4f53-4a8d-9eb1-bd1a86e45533"},"name":"3e36e562_runbook"}},{"description":"System action for creating an application","message_list":[],"uuid":"ba28b43e-1f79-4518-a737-69c6f474f249","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"Azure","uuid":"56c3d7fb-e7a7-4842-a0de-c1d2f3aeb105"},"retries":"0","description":"","type":"DAG","uuid":"cbc083b4-6e6f-4fcd-8a08-6e807e1d6210","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__DE_Provision_8adc3c2a_e6c5_4c64_9eee_07cd1f8b59a0","uuid":"6ddb5c59-ac58-4ea5-b64d-a6702f3ed0c8"},{"kind":"app_task","name":"SYS_GEN__DE_Provision_0236e85a_f3a1_4cff_867a_29275949b6e4","uuid":"40f3f489-a34b-4a36-b984-3277b57933a3"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_c42de1fe_2393_4776_a4a7_92d3b3521dd3","uuid":"42001231-4d32-467e-9464-18ce5a1594d6"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_de59436e_b01f_4524_85a3_57807c3ac1a9","uuid":"60798815-48fe-4292-90ba-9b36b3a1ba51"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_fb791420_5fdc_42a7_84df_4a05408b2c96","uuid":"4043da61-8d3e-4bf7-b15a-cc1ec6ee6c81"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_53c13f4c_7c91_406a_9d03_e2cfcb9d5c90","uuid":"43f18947-f68c-4c53-af96-ada5cc50e026"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"6f0a4529-29c6-4dee-a529-fef392d6662a"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"89b14b40-068d-4a04-b1b9-6e5ee1a48758"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"eaef733e-b8c8-4df7-ba12-1db9ea876213"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"3f2cbc79-9d6c-480c-b5ab-a7e92f35a214"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"6f0a4529-29c6-4dee-a529-fef392d6662a"},"edge_type":"inherent","type":"","uuid":"1140a80f-0cb0-420a-b5a0-99e93705b53f","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"89b14b40-068d-4a04-b1b9-6e5ee1a48758"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_53c13f4c_7c91_406a_9d03_e2cfcb9d5c90","uuid":"43f18947-f68c-4c53-af96-ada5cc50e026"},"edge_type":"inherent","type":"","uuid":"619e50d0-2c4d-45ef-9493-12ca7af2842d","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"6f0a4529-29c6-4dee-a529-fef392d6662a"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_c42de1fe_2393_4776_a4a7_92d3b3521dd3","uuid":"42001231-4d32-467e-9464-18ce5a1594d6"},"edge_type":"inherent","type":"","uuid":"1b2c21a6-4761-4f31-8657-2b4b3dd1e407","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_53c13f4c_7c91_406a_9d03_e2cfcb9d5c90","uuid":"43f18947-f68c-4c53-af96-ada5cc50e026"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_0236e85a_f3a1_4cff_867a_29275949b6e4","uuid":"40f3f489-a34b-4a36-b984-3277b57933a3"},"edge_type":"inherent","type":"","uuid":"2806ae00-8e8e-4137-9e83-83b4adfc3668","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_c42de1fe_2393_4776_a4a7_92d3b3521dd3","uuid":"42001231-4d32-467e-9464-18ce5a1594d6"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"eaef733e-b8c8-4df7-ba12-1db9ea876213"},"edge_type":"inherent","type":"","uuid":"ed99a14d-71ee-4030-8f17-335a035ebef4","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"3f2cbc79-9d6c-480c-b5ab-a7e92f35a214"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_fb791420_5fdc_42a7_84df_4a05408b2c96","uuid":"4043da61-8d3e-4bf7-b15a-cc1ec6ee6c81"},"edge_type":"inherent","type":"","uuid":"fe795186-a6da-4dff-9fa8-c48a32fdb875","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"eaef733e-b8c8-4df7-ba12-1db9ea876213"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_de59436e_b01f_4524_85a3_57807c3ac1a9","uuid":"60798815-48fe-4292-90ba-9b36b3a1ba51"},"edge_type":"inherent","type":"","uuid":"041f1e8b-55c1-4ab3-a888-c1730d54acd5","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_fb791420_5fdc_42a7_84df_4a05408b2c96","uuid":"4043da61-8d3e-4bf7-b15a-cc1ec6ee6c81"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_8adc3c2a_e6c5_4c64_9eee_07cd1f8b59a0","uuid":"6ddb5c59-ac58-4ea5-b64d-a6702f3ed0c8"},"edge_type":"inherent","type":"","uuid":"e0eaf8b4-11f4-4429-ad3a-428c7f2b92b1","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_de59436e_b01f_4524_85a3_57807c3ac1a9","uuid":"60798815-48fe-4292-90ba-9b36b3a1ba51"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"89b14b40-068d-4a04-b1b9-6e5ee1a48758"},"edge_type":"depends_on","type":"","uuid":"034d86b0-4631-4c47-9578-20394b3924c4","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"eaef733e-b8c8-4df7-ba12-1db9ea876213"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_de59436e_b01f_4524_85a3_57807c3ac1a9","uuid":"60798815-48fe-4292-90ba-9b36b3a1ba51"},"edge_type":"dependency","type":"","uuid":"8cd55357-ccf2-465b-b769-176b38a76278","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"6f0a4529-29c6-4dee-a529-fef392d6662a"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_c42de1fe_2393_4776_a4a7_92d3b3521dd3","uuid":"42001231-4d32-467e-9464-18ce5a1594d6"},"edge_type":"dependency","type":"","uuid":"4dc8d1dd-8c2f-4137-b944-1347600b6fca","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"eaef733e-b8c8-4df7-ba12-1db9ea876213"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_56c3d7fb_e7a7_4842_a0de_c1d2f3aeb105"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"a0748417_deployment","uuid":"8adc3c2a-e6c5-4c64-9eee-07cd1f8b59a0"},"retries":"0","description":"","type":"CREATE_DEPLOYMENT_ELEMENT","uuid":"6ddb5c59-ac58-4ea5-b64d-a6702f3ed0c8","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Provision_8adc3c2a_e6c5_4c64_9eee_07cd1f8b59a0"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9d03f79a_deployment","uuid":"0236e85a-f3a1-4cff-867a-29275949b6e4"},"retries":"0","description":"","type":"CREATE_DEPLOYMENT_ELEMENT","uuid":"40f3f489-a34b-4a36-b984-3277b57933a3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Provision_0236e85a_f3a1_4cff_867a_29275949b6e4"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureMaster","uuid":"c42de1fe-2393-4776-a4a7-92d3b3521dd3"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"42001231-4d32-467e-9464-18ce5a1594d6","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9d03f79a_deployment","uuid":"0236e85a-f3a1-4cff-867a-29275949b6e4"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_c42de1fe_2393_4776_a4a7_92d3b3521dd3","uuid":"83adb338-226b-43e4-8492-334d48f31a75"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Substrate_c42de1fe_2393_4776_a4a7_92d3b3521dd3"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureSlave","uuid":"de59436e-b01f-4524-85a3-57807c3ac1a9"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"60798815-48fe-4292-90ba-9b36b3a1ba51","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a0748417_deployment","uuid":"8adc3c2a-e6c5-4c64-9eee-07cd1f8b59a0"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_de59436e_b01f_4524_85a3_57807c3ac1a9","uuid":"1f18b629-8f26-4c4c-9914-6bf0d3929f0c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Substrate_de59436e_b01f_4524_85a3_57807c3ac1a9"},{"target_any_local_reference":{"kind":"app_package","name":"AzurePGSlavePkg","uuid":"fb791420-5fdc-42a7-84df-4a05408b2c96"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"4043da61-8d3e-4bf7-b15a-cc1ec6ee6c81","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a0748417_deployment","uuid":"8adc3c2a-e6c5-4c64-9eee-07cd1f8b59a0"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_fb791420_5fdc_42a7_84df_4a05408b2c96","uuid":"d8238fae-cde1-4891-b469-8d8e935b7569"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_fb791420_5fdc_42a7_84df_4a05408b2c96"},{"target_any_local_reference":{"kind":"app_package","name":"AzurePgMasterPkg","uuid":"53c13f4c-7c91-406a-9d03-e2cfcb9d5c90"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"43f18947-f68c-4c53-af96-ada5cc50e026","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9d03f79a_deployment","uuid":"0236e85a-f3a1-4cff-867a-29275949b6e4"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_53c13f4c_7c91_406a_9d03_e2cfcb9d5c90","uuid":"affecfe3-6b69-4e1e-acc5-b0e26e2fd608"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_53c13f4c_7c91_406a_9d03_e2cfcb9d5c90"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"6f0a4529-29c6-4dee-a529-fef392d6662a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9d03f79a_deployment","uuid":"0236e85a-f3a1-4cff-867a-29275949b6e4"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"c528d489_runbook","uuid":"a5cf54be-5eb3-4cbb-8cbf-c295bbc3af83"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"89b14b40-068d-4a04-b1b9-6e5ee1a48758","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9d03f79a_deployment","uuid":"0236e85a-f3a1-4cff-867a-29275949b6e4"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"c02553e2_runbook","uuid":"81959707-f27f-4259-a9b6-d4f736a28f5c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"eaef733e-b8c8-4df7-ba12-1db9ea876213","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a0748417_deployment","uuid":"8adc3c2a-e6c5-4c64-9eee-07cd1f8b59a0"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"8f15e59d_runbook","uuid":"3c61d32f-d429-4292-b02b-abf0f370307a"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"3f2cbc79-9d6c-480c-b5ab-a7e92f35a214","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a0748417_deployment","uuid":"8adc3c2a-e6c5-4c64-9eee-07cd1f8b59a0"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"b34d9d39_runbook","uuid":"57a4c7a2-843d-4130-9f5d-51c6ed3ce4d5"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40"}],"description":"","message_list":[],"uuid":"3b6470fc-2b87-4ff2-9b94-fdec269f0ce8","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_56c3d7fb_e7a7_4842_a0de_c1d2f3aeb105","uuid":"cbc083b4-6e6f-4fcd-8a08-6e807e1d6210"},"name":"SYS_GEN__Runbook_Application_56c3d7fb_e7a7_4842_a0de_c1d2f3aeb105"}},{"description":"System action for starting an application","message_list":[],"uuid":"20924796-9740-4abf-a886-d34e06f5b401","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"Azure","uuid":"56c3d7fb-e7a7-4842-a0de-c1d2f3aeb105"},"retries":"0","description":"","type":"DAG","uuid":"f03be8bb-e0c0-4265-be9d-1eb1b8c43512","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_c42de1fe_2393_4776_a4a7_92d3b3521dd3","uuid":"ceb4c9dc-e9c2-450c-9aa5-618316563688"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_de59436e_b01f_4524_85a3_57807c3ac1a9","uuid":"8019bedd-d8b4-4de7-a295-e1772ffadb71"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"44fc8c05-796e-4c3b-a77d-4b6c5512459f"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"ae076822-3f0d-4f8d-a271-8363255e9ffd"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_c42de1fe_2393_4776_a4a7_92d3b3521dd3","uuid":"ceb4c9dc-e9c2-450c-9aa5-618316563688"},"edge_type":"inherent","type":"","uuid":"ec29c556-4c4f-4199-ad18-d79937ebb18b","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"44fc8c05-796e-4c3b-a77d-4b6c5512459f"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_de59436e_b01f_4524_85a3_57807c3ac1a9","uuid":"8019bedd-d8b4-4de7-a295-e1772ffadb71"},"edge_type":"inherent","type":"","uuid":"a8361e4e-0e3b-4ac8-97c2-b9f5a40ba378","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"ae076822-3f0d-4f8d-a271-8363255e9ffd"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"44fc8c05-796e-4c3b-a77d-4b6c5512459f"},"edge_type":"depends_on","type":"","uuid":"48dd7e67-d81f-4b80-aceb-abc427927970","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"ae076822-3f0d-4f8d-a271-8363255e9ffd"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_de59436e_b01f_4524_85a3_57807c3ac1a9","uuid":"8019bedd-d8b4-4de7-a295-e1772ffadb71"},"edge_type":"create_action_edge","type":"","uuid":"767bf7f3-a559-4b61-9a9a-3da1e17a3349","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"44fc8c05-796e-4c3b-a77d-4b6c5512459f"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_c42de1fe_2393_4776_a4a7_92d3b3521dd3","uuid":"ceb4c9dc-e9c2-450c-9aa5-618316563688"},"edge_type":"create_action_edge","type":"","uuid":"ab2c81af-72b7-4f5e-a18f-e93498be519a","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"ae076822-3f0d-4f8d-a271-8363255e9ffd"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_56c3d7fb_e7a7_4842_a0de_c1d2f3aeb105"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureMaster","uuid":"c42de1fe-2393-4776-a4a7-92d3b3521dd3"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"ceb4c9dc-e9c2-450c-9aa5-618316563688","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9d03f79a_deployment","uuid":"0236e85a-f3a1-4cff-867a-29275949b6e4"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_c42de1fe_2393_4776_a4a7_92d3b3521dd3","uuid":"bdc8848a-6cdb-42d7-a8a1-b08b731ce521"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Substrate_c42de1fe_2393_4776_a4a7_92d3b3521dd3"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureSlave","uuid":"de59436e-b01f-4524-85a3-57807c3ac1a9"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"8019bedd-d8b4-4de7-a295-e1772ffadb71","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a0748417_deployment","uuid":"8adc3c2a-e6c5-4c64-9eee-07cd1f8b59a0"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_de59436e_b01f_4524_85a3_57807c3ac1a9","uuid":"b93fac29-dcf8-440d-a72d-5ac2bbd2079e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Substrate_de59436e_b01f_4524_85a3_57807c3ac1a9"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"44fc8c05-796e-4c3b-a77d-4b6c5512459f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9d03f79a_deployment","uuid":"0236e85a-f3a1-4cff-867a-29275949b6e4"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"c02553e2_runbook","uuid":"81959707-f27f-4259-a9b6-d4f736a28f5c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"ae076822-3f0d-4f8d-a271-8363255e9ffd","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a0748417_deployment","uuid":"8adc3c2a-e6c5-4c64-9eee-07cd1f8b59a0"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"b34d9d39_runbook","uuid":"57a4c7a2-843d-4130-9f5d-51c6ed3ce4d5"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40"}],"description":"","message_list":[],"uuid":"c486a7b9-cf2b-4b50-b72f-d6b1504f5196","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_56c3d7fb_e7a7_4842_a0de_c1d2f3aeb105","uuid":"f03be8bb-e0c0-4265-be9d-1eb1b8c43512"},"name":"SYS_GEN__Runbook_Application_56c3d7fb_e7a7_4842_a0de_c1d2f3aeb105"}},{"description":"System action for restarting an application","message_list":[],"uuid":"db921101-267a-4608-b440-fd5c96279a1d","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"Azure","uuid":"56c3d7fb-e7a7-4842-a0de-c1d2f3aeb105"},"retries":"0","description":"","type":"DAG","uuid":"dbeb5059-b7a7-4194-bcc6-581ba0b32c30","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_c42de1fe_2393_4776_a4a7_92d3b3521dd3","uuid":"5c9c3e1b-4902-4020-ac8a-cedb16f79b62"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_de59436e_b01f_4524_85a3_57807c3ac1a9","uuid":"a7b5f6b1-69ba-4f3d-a204-2944876e7fbe"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"2d84abbb-3cfb-4ab6-b778-7f29df1c1312"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"8d0cc006-36de-4780-9f36-7dfcc256bb6b"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_c42de1fe_2393_4776_a4a7_92d3b3521dd3","uuid":"5c9c3e1b-4902-4020-ac8a-cedb16f79b62"},"edge_type":"inherent","type":"","uuid":"a1932706-3cfa-417c-a74a-03a9de32773d","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"2d84abbb-3cfb-4ab6-b778-7f29df1c1312"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_de59436e_b01f_4524_85a3_57807c3ac1a9","uuid":"a7b5f6b1-69ba-4f3d-a204-2944876e7fbe"},"edge_type":"inherent","type":"","uuid":"4160b1ed-c1b1-4b0f-bb6e-070450066c76","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"8d0cc006-36de-4780-9f36-7dfcc256bb6b"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"2d84abbb-3cfb-4ab6-b778-7f29df1c1312"},"edge_type":"depends_on","type":"","uuid":"98ab9ada-06f7-42e8-b269-ee34a6fc86f1","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"8d0cc006-36de-4780-9f36-7dfcc256bb6b"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_de59436e_b01f_4524_85a3_57807c3ac1a9","uuid":"a7b5f6b1-69ba-4f3d-a204-2944876e7fbe"},"edge_type":"create_action_edge","type":"","uuid":"4b69e893-d2c9-440d-a574-1baf2d84c714","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"2d84abbb-3cfb-4ab6-b778-7f29df1c1312"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_c42de1fe_2393_4776_a4a7_92d3b3521dd3","uuid":"5c9c3e1b-4902-4020-ac8a-cedb16f79b62"},"edge_type":"create_action_edge","type":"","uuid":"f5b295dd-cdfe-47b3-ac1b-56b12c1db3fc","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"8d0cc006-36de-4780-9f36-7dfcc256bb6b"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_56c3d7fb_e7a7_4842_a0de_c1d2f3aeb105"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureMaster","uuid":"c42de1fe-2393-4776-a4a7-92d3b3521dd3"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"5c9c3e1b-4902-4020-ac8a-cedb16f79b62","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9d03f79a_deployment","uuid":"0236e85a-f3a1-4cff-867a-29275949b6e4"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_c42de1fe_2393_4776_a4a7_92d3b3521dd3","uuid":"03423c2f-f770-460e-a5da-6a141200d2ea"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Substrate_c42de1fe_2393_4776_a4a7_92d3b3521dd3"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureSlave","uuid":"de59436e-b01f-4524-85a3-57807c3ac1a9"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"a7b5f6b1-69ba-4f3d-a204-2944876e7fbe","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a0748417_deployment","uuid":"8adc3c2a-e6c5-4c64-9eee-07cd1f8b59a0"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_de59436e_b01f_4524_85a3_57807c3ac1a9","uuid":"4ccf7574-51e7-4083-a4f0-775318878b2c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Substrate_de59436e_b01f_4524_85a3_57807c3ac1a9"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"2d84abbb-3cfb-4ab6-b778-7f29df1c1312","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9d03f79a_deployment","uuid":"0236e85a-f3a1-4cff-867a-29275949b6e4"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"a9d9f266_runbook","uuid":"a32389b2-74a8-4a75-b897-c7158c11032e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"8d0cc006-36de-4780-9f36-7dfcc256bb6b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a0748417_deployment","uuid":"8adc3c2a-e6c5-4c64-9eee-07cd1f8b59a0"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"c1c4eebd_runbook","uuid":"bea78664-aea0-4d1f-b708-8ef876af38d5"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40"}],"description":"","message_list":[],"uuid":"1e313033-acd2-4d30-a54e-60a63b24ecb0","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_56c3d7fb_e7a7_4842_a0de_c1d2f3aeb105","uuid":"dbeb5059-b7a7-4194-bcc6-581ba0b32c30"},"name":"SYS_GEN__Runbook_Application_56c3d7fb_e7a7_4842_a0de_c1d2f3aeb105"}},{"description":"System action for stopping an application","message_list":[],"uuid":"974840a1-c8e6-4e7b-8fa3-47ad76111f01","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"Azure","uuid":"56c3d7fb-e7a7-4842-a0de-c1d2f3aeb105"},"retries":"0","description":"","type":"DAG","uuid":"7f40ae1e-20fa-428a-a2ef-fb66062a5725","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"02629b5a-2132-47c5-a221-5e3ba659179d"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"24661084-c7b8-430a-8e11-80197c578dbc"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_c42de1fe_2393_4776_a4a7_92d3b3521dd3","uuid":"d902c2d0-aba2-47f7-8d40-dfa8af684b0e"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_de59436e_b01f_4524_85a3_57807c3ac1a9","uuid":"cf041a46-d704-4db7-b838-3f577e528972"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"24661084-c7b8-430a-8e11-80197c578dbc"},"edge_type":"inherent","type":"","uuid":"94202062-5285-4097-9973-a4d6f631d28e","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_c42de1fe_2393_4776_a4a7_92d3b3521dd3","uuid":"d902c2d0-aba2-47f7-8d40-dfa8af684b0e"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"02629b5a-2132-47c5-a221-5e3ba659179d"},"edge_type":"inherent","type":"","uuid":"db29f400-65f8-4bdb-83b1-5f025b6195a8","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_de59436e_b01f_4524_85a3_57807c3ac1a9","uuid":"cf041a46-d704-4db7-b838-3f577e528972"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"02629b5a-2132-47c5-a221-5e3ba659179d"},"edge_type":"depends_on","type":"","uuid":"42f6df89-1366-43aa-9389-e5f2846eefef","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"24661084-c7b8-430a-8e11-80197c578dbc"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"24661084-c7b8-430a-8e11-80197c578dbc"},"edge_type":"create_action_edge","type":"","uuid":"13f8dece-9912-4d77-b0b0-a833f994a97e","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_de59436e_b01f_4524_85a3_57807c3ac1a9","uuid":"cf041a46-d704-4db7-b838-3f577e528972"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"02629b5a-2132-47c5-a221-5e3ba659179d"},"edge_type":"create_action_edge","type":"","uuid":"2ec1ff25-292c-45ea-b504-465e9b91e527","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_c42de1fe_2393_4776_a4a7_92d3b3521dd3","uuid":"d902c2d0-aba2-47f7-8d40-dfa8af684b0e"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_56c3d7fb_e7a7_4842_a0de_c1d2f3aeb105"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"02629b5a-2132-47c5-a221-5e3ba659179d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a0748417_deployment","uuid":"8adc3c2a-e6c5-4c64-9eee-07cd1f8b59a0"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0e2bd4c9_runbook","uuid":"8e29699f-df44-4802-8ae9-689322c6575c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"24661084-c7b8-430a-8e11-80197c578dbc","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9d03f79a_deployment","uuid":"0236e85a-f3a1-4cff-867a-29275949b6e4"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"deb1443a_runbook","uuid":"86288a79-ba17-4500-a81a-1ed2afb6b9b8"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureMaster","uuid":"c42de1fe-2393-4776-a4a7-92d3b3521dd3"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"d902c2d0-aba2-47f7-8d40-dfa8af684b0e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9d03f79a_deployment","uuid":"0236e85a-f3a1-4cff-867a-29275949b6e4"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_c42de1fe_2393_4776_a4a7_92d3b3521dd3","uuid":"e57d2289-ad60-4547-859f-a4d6c1a996d0"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Substrate_c42de1fe_2393_4776_a4a7_92d3b3521dd3"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureSlave","uuid":"de59436e-b01f-4524-85a3-57807c3ac1a9"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"cf041a46-d704-4db7-b838-3f577e528972","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a0748417_deployment","uuid":"8adc3c2a-e6c5-4c64-9eee-07cd1f8b59a0"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_de59436e_b01f_4524_85a3_57807c3ac1a9","uuid":"71fbd24d-3b03-4cdd-a9de-144dda018388"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Substrate_de59436e_b01f_4524_85a3_57807c3ac1a9"}],"description":"","message_list":[],"uuid":"6873daf0-e7c1-4bb7-aa9a-6d1f46fe491c","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_56c3d7fb_e7a7_4842_a0de_c1d2f3aeb105","uuid":"7f40ae1e-20fa-428a-a2ef-fb66062a5725"},"name":"SYS_GEN__Runbook_Application_56c3d7fb_e7a7_4842_a0de_c1d2f3aeb105"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"a1c354ad-07fc-4a21-92fe-277785230fe3","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"Azure","uuid":"56c3d7fb-e7a7-4842-a0de-c1d2f3aeb105"},"retries":"0","description":"","type":"DAG","uuid":"1086b4a9-c585-42c4-bef3-46caa56ce954","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"49d2a1d1-27f3-48c6-8ef3-d3313c70886f"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"9aacd656-8836-45a8-9294-bc25f8db8950"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_fb791420_5fdc_42a7_84df_4a05408b2c96","uuid":"58129093-afdd-4acf-a9dd-ca3c705fb06c"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"da50a9a6-947b-411e-ad45-963cba3a4e63"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"4d785854-fd8b-4b98-b5f1-ee97751fdddc"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_de59436e_b01f_4524_85a3_57807c3ac1a9","uuid":"35975513-5bab-4c2e-9ec7-75c81b8f1c48"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_53c13f4c_7c91_406a_9d03_e2cfcb9d5c90","uuid":"83d7e270-ae69-4322-9ca9-d272efc16984"},{"kind":"app_task","name":"SYS_GEN__DE_Delete_8adc3c2a_e6c5_4c64_9eee_07cd1f8b59a0","uuid":"e801c701-6989-4c7c-b9bf-76dbb0cbd2eb"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_c42de1fe_2393_4776_a4a7_92d3b3521dd3","uuid":"65785d15-8f19-4763-9f9e-c7dd174bd36d"},{"kind":"app_task","name":"SYS_GEN__DE_Delete_0236e85a_f3a1_4cff_867a_29275949b6e4","uuid":"c5b6c4f6-89ba-4aff-8793-94555c4eee29"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"da50a9a6-947b-411e-ad45-963cba3a4e63"},"edge_type":"inherent","type":"","uuid":"7516deab-15bb-40e1-8073-f8d9ee3fae0f","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"4d785854-fd8b-4b98-b5f1-ee97751fdddc"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"4d785854-fd8b-4b98-b5f1-ee97751fdddc"},"edge_type":"inherent","type":"","uuid":"b3c9367d-43d8-406f-91c4-b8455c68f940","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_53c13f4c_7c91_406a_9d03_e2cfcb9d5c90","uuid":"83d7e270-ae69-4322-9ca9-d272efc16984"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_c42de1fe_2393_4776_a4a7_92d3b3521dd3","uuid":"65785d15-8f19-4763-9f9e-c7dd174bd36d"},"edge_type":"inherent","type":"","uuid":"2a0e0452-167c-488d-af43-8aab728dd708","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Delete_0236e85a_f3a1_4cff_867a_29275949b6e4","uuid":"c5b6c4f6-89ba-4aff-8793-94555c4eee29"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_53c13f4c_7c91_406a_9d03_e2cfcb9d5c90","uuid":"83d7e270-ae69-4322-9ca9-d272efc16984"},"edge_type":"inherent","type":"","uuid":"216c998e-3f31-4624-b4be-d9bf0753cf5c","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_c42de1fe_2393_4776_a4a7_92d3b3521dd3","uuid":"65785d15-8f19-4763-9f9e-c7dd174bd36d"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"49d2a1d1-27f3-48c6-8ef3-d3313c70886f"},"edge_type":"inherent","type":"","uuid":"4d33a91a-8fcf-4d71-9fe1-39196fa2d83b","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"9aacd656-8836-45a8-9294-bc25f8db8950"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"9aacd656-8836-45a8-9294-bc25f8db8950"},"edge_type":"inherent","type":"","uuid":"dd708b73-a56f-43b8-bfd6-f1048ec9a5a9","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_fb791420_5fdc_42a7_84df_4a05408b2c96","uuid":"58129093-afdd-4acf-a9dd-ca3c705fb06c"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_fb791420_5fdc_42a7_84df_4a05408b2c96","uuid":"58129093-afdd-4acf-a9dd-ca3c705fb06c"},"edge_type":"inherent","type":"","uuid":"e4ada67a-1616-4f4b-a942-bdde9df7ee59","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_de59436e_b01f_4524_85a3_57807c3ac1a9","uuid":"35975513-5bab-4c2e-9ec7-75c81b8f1c48"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_de59436e_b01f_4524_85a3_57807c3ac1a9","uuid":"35975513-5bab-4c2e-9ec7-75c81b8f1c48"},"edge_type":"inherent","type":"","uuid":"c34490cb-fc3f-46ff-b7f7-d0b0134a1008","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Delete_8adc3c2a_e6c5_4c64_9eee_07cd1f8b59a0","uuid":"e801c701-6989-4c7c-b9bf-76dbb0cbd2eb"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"9aacd656-8836-45a8-9294-bc25f8db8950"},"edge_type":"depends_on","type":"","uuid":"afc6021b-9633-4367-b393-070d183badda","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"da50a9a6-947b-411e-ad45-963cba3a4e63"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"4d785854-fd8b-4b98-b5f1-ee97751fdddc"},"edge_type":"create_action_edge","type":"","uuid":"ee8aec63-d5c8-458b-9742-df572b15cbd1","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_de59436e_b01f_4524_85a3_57807c3ac1a9","uuid":"35975513-5bab-4c2e-9ec7-75c81b8f1c48"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"9aacd656-8836-45a8-9294-bc25f8db8950"},"edge_type":"create_action_edge","type":"","uuid":"20fd570f-c81e-4037-bf86-865d07b938ab","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_c42de1fe_2393_4776_a4a7_92d3b3521dd3","uuid":"65785d15-8f19-4763-9f9e-c7dd174bd36d"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_56c3d7fb_e7a7_4842_a0de_c1d2f3aeb105"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"49d2a1d1-27f3-48c6-8ef3-d3313c70886f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a0748417_deployment","uuid":"8adc3c2a-e6c5-4c64-9eee-07cd1f8b59a0"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0e2bd4c9_runbook","uuid":"8e29699f-df44-4802-8ae9-689322c6575c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"9aacd656-8836-45a8-9294-bc25f8db8950","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a0748417_deployment","uuid":"8adc3c2a-e6c5-4c64-9eee-07cd1f8b59a0"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"08946714_runbook","uuid":"005a7fbe-7426-4c75-aa02-8ca0b1db5dbb"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40"},{"target_any_local_reference":{"kind":"app_package","name":"AzurePGSlavePkg","uuid":"fb791420-5fdc-42a7-84df-4a05408b2c96"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"58129093-afdd-4acf-a9dd-ca3c705fb06c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a0748417_deployment","uuid":"8adc3c2a-e6c5-4c64-9eee-07cd1f8b59a0"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_fb791420_5fdc_42a7_84df_4a05408b2c96","uuid":"83ea0eb4-ffcc-4e74-92c7-d6d0e0fca06c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_fb791420_5fdc_42a7_84df_4a05408b2c96"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"da50a9a6-947b-411e-ad45-963cba3a4e63","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9d03f79a_deployment","uuid":"0236e85a-f3a1-4cff-867a-29275949b6e4"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"deb1443a_runbook","uuid":"86288a79-ba17-4500-a81a-1ed2afb6b9b8"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"4d785854-fd8b-4b98-b5f1-ee97751fdddc","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9d03f79a_deployment","uuid":"0236e85a-f3a1-4cff-867a-29275949b6e4"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"8ad650b2_runbook","uuid":"f31a5f00-62ad-4b57-8fbf-cd1f020f2bfc"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureSlave","uuid":"de59436e-b01f-4524-85a3-57807c3ac1a9"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"35975513-5bab-4c2e-9ec7-75c81b8f1c48","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a0748417_deployment","uuid":"8adc3c2a-e6c5-4c64-9eee-07cd1f8b59a0"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_de59436e_b01f_4524_85a3_57807c3ac1a9","uuid":"d5270f20-9171-4924-813d-d5d1237b3462"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Substrate_de59436e_b01f_4524_85a3_57807c3ac1a9"},{"target_any_local_reference":{"kind":"app_package","name":"AzurePgMasterPkg","uuid":"53c13f4c-7c91-406a-9d03-e2cfcb9d5c90"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"83d7e270-ae69-4322-9ca9-d272efc16984","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9d03f79a_deployment","uuid":"0236e85a-f3a1-4cff-867a-29275949b6e4"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_53c13f4c_7c91_406a_9d03_e2cfcb9d5c90","uuid":"568e1ca9-fedb-4173-8030-5934a0370109"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_53c13f4c_7c91_406a_9d03_e2cfcb9d5c90"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"a0748417_deployment","uuid":"8adc3c2a-e6c5-4c64-9eee-07cd1f8b59a0"},"retries":"0","description":"","type":"DELETE_DEPLOYMENT_ELEMENT","uuid":"e801c701-6989-4c7c-b9bf-76dbb0cbd2eb","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Delete_8adc3c2a_e6c5_4c64_9eee_07cd1f8b59a0"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureMaster","uuid":"c42de1fe-2393-4776-a4a7-92d3b3521dd3"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"65785d15-8f19-4763-9f9e-c7dd174bd36d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9d03f79a_deployment","uuid":"0236e85a-f3a1-4cff-867a-29275949b6e4"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_c42de1fe_2393_4776_a4a7_92d3b3521dd3","uuid":"9ea4e99c-8c9c-43da-b60a-7b9d42de202f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Substrate_c42de1fe_2393_4776_a4a7_92d3b3521dd3"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9d03f79a_deployment","uuid":"0236e85a-f3a1-4cff-867a-29275949b6e4"},"retries":"0","description":"","type":"DELETE_DEPLOYMENT_ELEMENT","uuid":"c5b6c4f6-89ba-4aff-8793-94555c4eee29","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Delete_0236e85a_f3a1_4cff_867a_29275949b6e4"}],"description":"","message_list":[],"uuid":"3c71dba2-e8b5-470c-8184-bdafc67a37d6","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_56c3d7fb_e7a7_4842_a0de_c1d2f3aeb105","uuid":"1086b4a9-c585-42c4-bef3-46caa56ce954"},"name":"SYS_GEN__Runbook_Application_56c3d7fb_e7a7_4842_a0de_c1d2f3aeb105"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"40daf88a-befc-4b20-b701-e1bc2bbc2dd2","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"Azure","uuid":"56c3d7fb-e7a7-4842-a0de-c1d2f3aeb105"},"retries":"0","description":"","type":"DAG","uuid":"bd72bb60-325a-4488-b257-ba0c12433d88","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"41ee68d2-2d88-42d5-87a9-b0c908c5cdf2"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_fb791420_5fdc_42a7_84df_4a05408b2c96","uuid":"0e08b936-cf4c-4a38-9ef0-82391f3ffb2e"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"c1daee5c-86cc-44d3-af4f-f5d2dc61c43c"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_53c13f4c_7c91_406a_9d03_e2cfcb9d5c90","uuid":"67a4e281-0835-4312-9de9-df9dc84c1a33"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_de59436e_b01f_4524_85a3_57807c3ac1a9","uuid":"40b9f890-0a37-4181-b86c-f307f0e52fa4"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_c42de1fe_2393_4776_a4a7_92d3b3521dd3","uuid":"6c978949-87c0-406b-b8ba-0d2cf2d54c3b"},{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_8adc3c2a_e6c5_4c64_9eee_07cd1f8b59a0","uuid":"df3705c3-fc77-4ea8-95c7-6b78eb7def27"},{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_0236e85a_f3a1_4cff_867a_29275949b6e4","uuid":"153b1056-7632-4a70-a3b9-0b0ae1b84cce"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"c1daee5c-86cc-44d3-af4f-f5d2dc61c43c"},"edge_type":"inherent","type":"","uuid":"a171e8e2-c19b-45b2-809b-a03d808d0a78","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_53c13f4c_7c91_406a_9d03_e2cfcb9d5c90","uuid":"67a4e281-0835-4312-9de9-df9dc84c1a33"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_c42de1fe_2393_4776_a4a7_92d3b3521dd3","uuid":"6c978949-87c0-406b-b8ba-0d2cf2d54c3b"},"edge_type":"inherent","type":"","uuid":"70317ff6-2eaf-454e-87c5-7de42ac80483","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_0236e85a_f3a1_4cff_867a_29275949b6e4","uuid":"153b1056-7632-4a70-a3b9-0b0ae1b84cce"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_53c13f4c_7c91_406a_9d03_e2cfcb9d5c90","uuid":"67a4e281-0835-4312-9de9-df9dc84c1a33"},"edge_type":"inherent","type":"","uuid":"1d15ee3c-92f3-4065-b607-8c120929cabb","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_c42de1fe_2393_4776_a4a7_92d3b3521dd3","uuid":"6c978949-87c0-406b-b8ba-0d2cf2d54c3b"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"41ee68d2-2d88-42d5-87a9-b0c908c5cdf2"},"edge_type":"inherent","type":"","uuid":"57e98f75-3acc-4fdb-b6cb-001495f75d7a","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_fb791420_5fdc_42a7_84df_4a05408b2c96","uuid":"0e08b936-cf4c-4a38-9ef0-82391f3ffb2e"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_de59436e_b01f_4524_85a3_57807c3ac1a9","uuid":"40b9f890-0a37-4181-b86c-f307f0e52fa4"},"edge_type":"inherent","type":"","uuid":"9a8ac4b2-25bf-462b-be69-993b84648110","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_8adc3c2a_e6c5_4c64_9eee_07cd1f8b59a0","uuid":"df3705c3-fc77-4ea8-95c7-6b78eb7def27"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_fb791420_5fdc_42a7_84df_4a05408b2c96","uuid":"0e08b936-cf4c-4a38-9ef0-82391f3ffb2e"},"edge_type":"inherent","type":"","uuid":"550ed876-25e5-4614-acb2-58483d4ecc3d","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_de59436e_b01f_4524_85a3_57807c3ac1a9","uuid":"40b9f890-0a37-4181-b86c-f307f0e52fa4"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"41ee68d2-2d88-42d5-87a9-b0c908c5cdf2"},"edge_type":"depends_on","type":"","uuid":"ba649297-98e7-453c-892d-a95ae8e9ffc1","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"c1daee5c-86cc-44d3-af4f-f5d2dc61c43c"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"c1daee5c-86cc-44d3-af4f-f5d2dc61c43c"},"edge_type":"create_action_edge","type":"","uuid":"9ac6e3c0-4042-4020-a7d1-b313807a757c","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_de59436e_b01f_4524_85a3_57807c3ac1a9","uuid":"40b9f890-0a37-4181-b86c-f307f0e52fa4"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"41ee68d2-2d88-42d5-87a9-b0c908c5cdf2"},"edge_type":"create_action_edge","type":"","uuid":"323edaa9-f95d-4017-b193-89b09249aa0d","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_c42de1fe_2393_4776_a4a7_92d3b3521dd3","uuid":"6c978949-87c0-406b-b8ba-0d2cf2d54c3b"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_56c3d7fb_e7a7_4842_a0de_c1d2f3aeb105"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"41ee68d2-2d88-42d5-87a9-b0c908c5cdf2","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a0748417_deployment","uuid":"8adc3c2a-e6c5-4c64-9eee-07cd1f8b59a0"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"febe47f3-782b-40c3-abcb-ce825626516f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40"},{"target_any_local_reference":{"kind":"app_package","name":"AzurePGSlavePkg","uuid":"fb791420-5fdc-42a7-84df-4a05408b2c96"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"0e08b936-cf4c-4a38-9ef0-82391f3ffb2e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_fb791420_5fdc_42a7_84df_4a05408b2c96"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"c1daee5c-86cc-44d3-af4f-f5d2dc61c43c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9d03f79a_deployment","uuid":"0236e85a-f3a1-4cff-867a-29275949b6e4"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"92ba2635-e9da-48a5-8b58-7a4b4a61ffdf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90"},{"target_any_local_reference":{"kind":"app_package","name":"AzurePgMasterPkg","uuid":"53c13f4c-7c91-406a-9d03-e2cfcb9d5c90"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"67a4e281-0835-4312-9de9-df9dc84c1a33","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_53c13f4c_7c91_406a_9d03_e2cfcb9d5c90"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureSlave","uuid":"de59436e-b01f-4524-85a3-57807c3ac1a9"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"40b9f890-0a37-4181-b86c-f307f0e52fa4","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a0748417_deployment","uuid":"8adc3c2a-e6c5-4c64-9eee-07cd1f8b59a0"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_de59436e_b01f_4524_85a3_57807c3ac1a9","uuid":"448723ed-5ed5-4225-b8c4-b1fe58205f7e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Substrate_de59436e_b01f_4524_85a3_57807c3ac1a9"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureMaster","uuid":"c42de1fe-2393-4776-a4a7-92d3b3521dd3"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"6c978949-87c0-406b-b8ba-0d2cf2d54c3b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9d03f79a_deployment","uuid":"0236e85a-f3a1-4cff-867a-29275949b6e4"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_c42de1fe_2393_4776_a4a7_92d3b3521dd3","uuid":"fd3d0c79-026b-4324-8e3b-e0e3872b87dc"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Substrate_c42de1fe_2393_4776_a4a7_92d3b3521dd3"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"a0748417_deployment","uuid":"8adc3c2a-e6c5-4c64-9eee-07cd1f8b59a0"},"retries":"0","description":"","type":"SOFT_DELETE_DEPLOYMENT_ELEMENT","uuid":"df3705c3-fc77-4ea8-95c7-6b78eb7def27","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Soft_Delete_8adc3c2a_e6c5_4c64_9eee_07cd1f8b59a0"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9d03f79a_deployment","uuid":"0236e85a-f3a1-4cff-867a-29275949b6e4"},"retries":"0","description":"","type":"SOFT_DELETE_DEPLOYMENT_ELEMENT","uuid":"153b1056-7632-4a70-a3b9-0b0ae1b84cce","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Soft_Delete_0236e85a_f3a1_4cff_867a_29275949b6e4"}],"description":"","message_list":[],"uuid":"0fc66eee-8ba5-489f-9af0-bec9bdaf05da","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_56c3d7fb_e7a7_4842_a0de_c1d2f3aeb105","uuid":"bd72bb60-325a-4488-b257-ba0c12433d88"},"name":"SYS_GEN__Runbook_Application_56c3d7fb_e7a7_4842_a0de_c1d2f3aeb105"}}],"message_list":[],"uuid":"56c3d7fb-e7a7-4842-a0de-c1d2f3aeb105","state":"ACTIVE","dependency_list":[{"getter_resource_kind":"ServiceCfg","setter_resource_attr":"address","setter_resource_kind":"SubstrateCfg","setter_resource_name":"AzureSlave","action_name":"action_create","action_resource_name":"Azure","getter_resource_name":"Postgres_Master","action_resource_kind":"ApplicationCfg"},{"getter_resource_kind":"ServiceCfg","setter_resource_attr":"address","setter_resource_kind":"SubstrateCfg","setter_resource_name":"AzureMaster","action_name":"action_create","action_resource_name":"Azure","getter_resource_name":"Postgres_Slave","action_resource_kind":"ApplicationCfg"}],"variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"5edadfbe-937e-4e37-9e83-1bc2121bebd2","value":"AZURE","label":"","state":"ACTIVE","attrs":{"type":""},"editables":{},"is_hidden":false,"type":"LOCAL","options":{},"name":"PROFILE"},{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"a65551e7-91f5-4aeb-81ad-3310da43a54b","value":"","label":"","state":"ACTIVE","attrs":{"is_secret_modified":false,"secret_reference":{"uuid":"bee3ba8d-14b2-4932-a435-d7da31912cc7"},"type":""},"editables":{"value":true},"is_hidden":false,"type":"SECRET","options":{},"name":"DB_PASSWORD"}],"name":"Azure"},{"deployment_create_list":[{"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"d3c82ecd-f92e-443a-ba78-cfee0bc58d0f","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"8948778d_deployment_cloned_0","uuid":"3595c4e3-1ce0-55b3-018e-7f793e27fbfc"},"retries":"0","description":"","type":"DAG","uuid":"b47c4b70-26e6-4b98-8e95-de66f1be2960","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__DE_Provision_3595c4e3_1ce0_55b3_018e_7f793e27fbfc","uuid":"51aba327-d741-47a5-81a3-9e50f09983d3"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_e5ba9433_4d2f_1e02_1657_b19820c42cb0","uuid":"9895827c-4d4e-4be5-8592-6efbeb5453af"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_63de3a22_80dd_bdbe_bc85_900e651aeddb","uuid":"696b5fe3-0fad-49db-a521-c28ce32b8bf3"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_b7514626_0d97_b967_daee_aa861e7d64e9","uuid":"542368f1-bd05-4d8b-8a4e-baea85190fb8"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"f5e255ea-a952-4432-9eb3-a847603d79aa"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"90d3f6af-6219-471a-9e50-dde42a77012c"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"f5e255ea-a952-4432-9eb3-a847603d79aa"},"edge_type":"inherent","type":"","uuid":"0ede8a79-2d98-4503-a163-e203380aee0f","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"90d3f6af-6219-471a-9e50-dde42a77012c"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_b7514626_0d97_b967_daee_aa861e7d64e9","uuid":"542368f1-bd05-4d8b-8a4e-baea85190fb8"},"edge_type":"inherent","type":"","uuid":"698ff0ba-b561-4a67-ab3f-38e6ce190877","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"f5e255ea-a952-4432-9eb3-a847603d79aa"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_63de3a22_80dd_bdbe_bc85_900e651aeddb","uuid":"696b5fe3-0fad-49db-a521-c28ce32b8bf3"},"edge_type":"inherent","type":"","uuid":"6c9fa6ec-25c8-4278-a365-de556b4cb10e","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_b7514626_0d97_b967_daee_aa861e7d64e9","uuid":"542368f1-bd05-4d8b-8a4e-baea85190fb8"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_3595c4e3_1ce0_55b3_018e_7f793e27fbfc","uuid":"51aba327-d741-47a5-81a3-9e50f09983d3"},"edge_type":"inherent","type":"","uuid":"13ee8f28-879d-4eec-89b7-6f7bc0c7b681","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_63de3a22_80dd_bdbe_bc85_900e651aeddb","uuid":"696b5fe3-0fad-49db-a521-c28ce32b8bf3"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_e5ba9433_4d2f_1e02_1657_b19820c42cb0","uuid":"9895827c-4d4e-4be5-8592-6efbeb5453af"},"edge_type":"inherent","type":"","uuid":"1e14ae69-8210-4ae6-adc8-68bd11e6aa42","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_63de3a22_80dd_bdbe_bc85_900e651aeddb","uuid":"696b5fe3-0fad-49db-a521-c28ce32b8bf3"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_3595c4e3_1ce0_55b3_018e_7f793e27fbfc","uuid":"51aba327-d741-47a5-81a3-9e50f09983d3"},"edge_type":"inherent","type":"","uuid":"94a5ae03-71ab-4d16-ba3f-8626df1065bd","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_e5ba9433_4d2f_1e02_1657_b19820c42cb0","uuid":"9895827c-4d4e-4be5-8592-6efbeb5453af"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_3595c4e3_1ce0_55b3_018e_7f793e27fbfc"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"8948778d_deployment_cloned_0","uuid":"3595c4e3-1ce0-55b3-018e-7f793e27fbfc"},"retries":"0","description":"","type":"CREATE_DEPLOYMENT_ELEMENT","uuid":"51aba327-d741-47a5-81a3-9e50f09983d3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Provision_3595c4e3_1ce0_55b3_018e_7f793e27fbfc"},{"target_any_local_reference":{"kind":"app_package","name":"ESXI_CENTOS_76","uuid":"e5ba9433-4d2f-1e02-1657-b19820c42cb0"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"9895827c-4d4e-4be5-8592-6efbeb5453af","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"8948778d_deployment_cloned_0","uuid":"3595c4e3-1ce0-55b3-018e-7f793e27fbfc"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_e5ba9433_4d2f_1e02_1657_b19820c42cb0","uuid":"aa32e9d7-514e-4991-8510-a53eacadc6c2"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_e5ba9433_4d2f_1e02_1657_b19820c42cb0"},{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareMaster","uuid":"63de3a22-80dd-bdbe-bc85-900e651aeddb"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"696b5fe3-0fad-49db-a521-c28ce32b8bf3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"8948778d_deployment_cloned_0","uuid":"3595c4e3-1ce0-55b3-018e-7f793e27fbfc"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_63de3a22_80dd_bdbe_bc85_900e651aeddb","uuid":"4123cf08-7944-4a59-ac78-bb8670100467"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Substrate_63de3a22_80dd_bdbe_bc85_900e651aeddb"},{"target_any_local_reference":{"kind":"app_package","name":"VMwareMasterPackage","uuid":"b7514626-0d97-b967-daee-aa861e7d64e9"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"542368f1-bd05-4d8b-8a4e-baea85190fb8","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"8948778d_deployment_cloned_0","uuid":"3595c4e3-1ce0-55b3-018e-7f793e27fbfc"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_b7514626_0d97_b967_daee_aa861e7d64e9","uuid":"3b59ea0e-0e7e-4396-8c04-f5ec1eac964a"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_b7514626_0d97_b967_daee_aa861e7d64e9"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"f5e255ea-a952-4432-9eb3-a847603d79aa","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"8948778d_deployment_cloned_0","uuid":"3595c4e3-1ce0-55b3-018e-7f793e27fbfc"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"c528d489_runbook","uuid":"a5cf54be-5eb3-4cbb-8cbf-c295bbc3af83"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"90d3f6af-6219-471a-9e50-dde42a77012c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"8948778d_deployment_cloned_0","uuid":"3595c4e3-1ce0-55b3-018e-7f793e27fbfc"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"c02553e2_runbook","uuid":"81959707-f27f-4259-a9b6-d4f736a28f5c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90"}],"description":"","message_list":[],"uuid":"a39a84f7-e8ca-43d9-8c28-ef8752ae09d8","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_3595c4e3_1ce0_55b3_018e_7f793e27fbfc","uuid":"b47c4b70-26e6-4b98-8e95-de66f1be2960"},"name":"SYS_GEN__Runbook_Deployment_3595c4e3_1ce0_55b3_018e_7f793e27fbfc"}},{"description":"System action for starting an application","message_list":[],"uuid":"7464dbad-4d48-42b0-8d0e-77947f3d00c8","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"8948778d_deployment_cloned_0","uuid":"3595c4e3-1ce0-55b3-018e-7f793e27fbfc"},"retries":"0","description":"","type":"DAG","uuid":"703629b9-0d6d-4c2d-8b5f-37750f98266b","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_63de3a22_80dd_bdbe_bc85_900e651aeddb","uuid":"3d9b483d-6b0f-4bd4-a5d2-1bbf512072f5"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"069f6731-b4fa-4ed0-aa1d-247c8a5ab41b"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_63de3a22_80dd_bdbe_bc85_900e651aeddb","uuid":"3d9b483d-6b0f-4bd4-a5d2-1bbf512072f5"},"edge_type":"inherent","type":"","uuid":"2ace5c1b-f401-4c39-96ed-d6a647e2aaec","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"069f6731-b4fa-4ed0-aa1d-247c8a5ab41b"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_3595c4e3_1ce0_55b3_018e_7f793e27fbfc"},{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareMaster","uuid":"63de3a22-80dd-bdbe-bc85-900e651aeddb"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"3d9b483d-6b0f-4bd4-a5d2-1bbf512072f5","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"8948778d_deployment_cloned_0","uuid":"3595c4e3-1ce0-55b3-018e-7f793e27fbfc"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_63de3a22_80dd_bdbe_bc85_900e651aeddb","uuid":"13cce7fe-6a62-450b-a0da-28624d8feea8"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Substrate_63de3a22_80dd_bdbe_bc85_900e651aeddb"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"069f6731-b4fa-4ed0-aa1d-247c8a5ab41b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"8948778d_deployment_cloned_0","uuid":"3595c4e3-1ce0-55b3-018e-7f793e27fbfc"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"c02553e2_runbook","uuid":"81959707-f27f-4259-a9b6-d4f736a28f5c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90"}],"description":"","message_list":[],"uuid":"e7154313-a7f0-4b2f-8465-714526f5d2c4","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_3595c4e3_1ce0_55b3_018e_7f793e27fbfc","uuid":"703629b9-0d6d-4c2d-8b5f-37750f98266b"},"name":"SYS_GEN__Runbook_Deployment_3595c4e3_1ce0_55b3_018e_7f793e27fbfc"}},{"description":"System action for restarting an application","message_list":[],"uuid":"1e255f70-7450-49b8-8507-36b4066883b9","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"8948778d_deployment_cloned_0","uuid":"3595c4e3-1ce0-55b3-018e-7f793e27fbfc"},"retries":"0","description":"","type":"DAG","uuid":"a2d34fd4-afaf-4929-813a-d11a0dc3e007","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_63de3a22_80dd_bdbe_bc85_900e651aeddb","uuid":"4f4194d2-d556-4943-bc99-7d3aa48a0e47"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"1a1390c4-32a4-44e3-a5f9-30df4a2179ea"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_63de3a22_80dd_bdbe_bc85_900e651aeddb","uuid":"4f4194d2-d556-4943-bc99-7d3aa48a0e47"},"edge_type":"inherent","type":"","uuid":"7eb18917-1f3c-4b88-a7aa-303a89daaec5","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"1a1390c4-32a4-44e3-a5f9-30df4a2179ea"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_3595c4e3_1ce0_55b3_018e_7f793e27fbfc"},{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareMaster","uuid":"63de3a22-80dd-bdbe-bc85-900e651aeddb"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"4f4194d2-d556-4943-bc99-7d3aa48a0e47","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"8948778d_deployment_cloned_0","uuid":"3595c4e3-1ce0-55b3-018e-7f793e27fbfc"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_63de3a22_80dd_bdbe_bc85_900e651aeddb","uuid":"6cf3d1c4-1386-413d-87c0-00f18165c197"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Substrate_63de3a22_80dd_bdbe_bc85_900e651aeddb"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"1a1390c4-32a4-44e3-a5f9-30df4a2179ea","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"8948778d_deployment_cloned_0","uuid":"3595c4e3-1ce0-55b3-018e-7f793e27fbfc"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"a9d9f266_runbook","uuid":"a32389b2-74a8-4a75-b897-c7158c11032e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90"}],"description":"","message_list":[],"uuid":"13b310bf-64ef-4383-80d6-943f40e2bf6b","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_3595c4e3_1ce0_55b3_018e_7f793e27fbfc","uuid":"a2d34fd4-afaf-4929-813a-d11a0dc3e007"},"name":"SYS_GEN__Runbook_Deployment_3595c4e3_1ce0_55b3_018e_7f793e27fbfc"}},{"description":"System action for stopping an application","message_list":[],"uuid":"101aa0e9-76f2-46da-a461-1529bee2dbf6","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"8948778d_deployment_cloned_0","uuid":"3595c4e3-1ce0-55b3-018e-7f793e27fbfc"},"retries":"0","description":"","type":"DAG","uuid":"adcb7a12-9a48-4b66-8068-b4c78262f83a","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"f8ee0a23-c089-4843-984f-fdccbdfe6ee1"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_63de3a22_80dd_bdbe_bc85_900e651aeddb","uuid":"c8bc4b46-9a45-4268-ba3e-0c48e21c8497"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"f8ee0a23-c089-4843-984f-fdccbdfe6ee1"},"edge_type":"inherent","type":"","uuid":"dee50e73-5f86-4264-ab91-f1b0b799308b","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_63de3a22_80dd_bdbe_bc85_900e651aeddb","uuid":"c8bc4b46-9a45-4268-ba3e-0c48e21c8497"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_3595c4e3_1ce0_55b3_018e_7f793e27fbfc"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"f8ee0a23-c089-4843-984f-fdccbdfe6ee1","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"8948778d_deployment_cloned_0","uuid":"3595c4e3-1ce0-55b3-018e-7f793e27fbfc"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"deb1443a_runbook","uuid":"86288a79-ba17-4500-a81a-1ed2afb6b9b8"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90"},{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareMaster","uuid":"63de3a22-80dd-bdbe-bc85-900e651aeddb"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"c8bc4b46-9a45-4268-ba3e-0c48e21c8497","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"8948778d_deployment_cloned_0","uuid":"3595c4e3-1ce0-55b3-018e-7f793e27fbfc"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_63de3a22_80dd_bdbe_bc85_900e651aeddb","uuid":"d188418b-0975-4e36-bf99-05bbd4518859"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Substrate_63de3a22_80dd_bdbe_bc85_900e651aeddb"}],"description":"","message_list":[],"uuid":"5101978c-4047-4c27-ba76-3794155c937e","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_3595c4e3_1ce0_55b3_018e_7f793e27fbfc","uuid":"adcb7a12-9a48-4b66-8068-b4c78262f83a"},"name":"SYS_GEN__Runbook_Deployment_3595c4e3_1ce0_55b3_018e_7f793e27fbfc"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"d0b1b41a-11b6-4ee5-a234-393c7b60648a","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"8948778d_deployment_cloned_0","uuid":"3595c4e3-1ce0-55b3-018e-7f793e27fbfc"},"retries":"0","description":"","type":"DAG","uuid":"fb5302bc-0260-4756-9a8c-bf57c5322949","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"ce780b35-7934-47c5-98ae-9fc01e44ba48"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"8c4de480-514b-45af-a8b4-ca211925f778"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_b7514626_0d97_b967_daee_aa861e7d64e9","uuid":"34345310-4f68-47d8-bcd3-505364c86e25"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_63de3a22_80dd_bdbe_bc85_900e651aeddb","uuid":"a9523c2c-0130-4ca1-87de-3d4561e85e47"},{"kind":"app_task","name":"SYS_GEN__DE_Delete_3595c4e3_1ce0_55b3_018e_7f793e27fbfc","uuid":"63b9c015-9c52-4f68-a8e2-4a2ea85b55c0"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"ce780b35-7934-47c5-98ae-9fc01e44ba48"},"edge_type":"inherent","type":"","uuid":"82e8dc7c-51c7-4d66-bda9-833564435ce0","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"8c4de480-514b-45af-a8b4-ca211925f778"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"8c4de480-514b-45af-a8b4-ca211925f778"},"edge_type":"inherent","type":"","uuid":"0a879606-a057-46ff-94e9-3ae10be0c7b0","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_b7514626_0d97_b967_daee_aa861e7d64e9","uuid":"34345310-4f68-47d8-bcd3-505364c86e25"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_b7514626_0d97_b967_daee_aa861e7d64e9","uuid":"34345310-4f68-47d8-bcd3-505364c86e25"},"edge_type":"inherent","type":"","uuid":"0d97dab4-b090-4531-ae40-203cb2219a7c","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_63de3a22_80dd_bdbe_bc85_900e651aeddb","uuid":"a9523c2c-0130-4ca1-87de-3d4561e85e47"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_63de3a22_80dd_bdbe_bc85_900e651aeddb","uuid":"a9523c2c-0130-4ca1-87de-3d4561e85e47"},"edge_type":"inherent","type":"","uuid":"a0ce19c9-63e9-40c1-9904-99156add62a1","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Delete_3595c4e3_1ce0_55b3_018e_7f793e27fbfc","uuid":"63b9c015-9c52-4f68-a8e2-4a2ea85b55c0"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_3595c4e3_1ce0_55b3_018e_7f793e27fbfc"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"ce780b35-7934-47c5-98ae-9fc01e44ba48","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"8948778d_deployment_cloned_0","uuid":"3595c4e3-1ce0-55b3-018e-7f793e27fbfc"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"deb1443a_runbook","uuid":"86288a79-ba17-4500-a81a-1ed2afb6b9b8"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"8c4de480-514b-45af-a8b4-ca211925f778","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"8948778d_deployment_cloned_0","uuid":"3595c4e3-1ce0-55b3-018e-7f793e27fbfc"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"8ad650b2_runbook","uuid":"f31a5f00-62ad-4b57-8fbf-cd1f020f2bfc"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90"},{"target_any_local_reference":{"kind":"app_package","name":"VMwareMasterPackage","uuid":"b7514626-0d97-b967-daee-aa861e7d64e9"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"34345310-4f68-47d8-bcd3-505364c86e25","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"8948778d_deployment_cloned_0","uuid":"3595c4e3-1ce0-55b3-018e-7f793e27fbfc"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_b7514626_0d97_b967_daee_aa861e7d64e9","uuid":"38b4801b-a2fb-4e32-a228-d98320060626"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_b7514626_0d97_b967_daee_aa861e7d64e9"},{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareMaster","uuid":"63de3a22-80dd-bdbe-bc85-900e651aeddb"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"a9523c2c-0130-4ca1-87de-3d4561e85e47","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"8948778d_deployment_cloned_0","uuid":"3595c4e3-1ce0-55b3-018e-7f793e27fbfc"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_63de3a22_80dd_bdbe_bc85_900e651aeddb","uuid":"71e9bb09-2b57-4a52-b3ea-a00f0af27bbe"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Substrate_63de3a22_80dd_bdbe_bc85_900e651aeddb"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"8948778d_deployment_cloned_0","uuid":"3595c4e3-1ce0-55b3-018e-7f793e27fbfc"},"retries":"0","description":"","type":"DELETE_DEPLOYMENT_ELEMENT","uuid":"63b9c015-9c52-4f68-a8e2-4a2ea85b55c0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Delete_3595c4e3_1ce0_55b3_018e_7f793e27fbfc"}],"description":"","message_list":[],"uuid":"d89e65ae-a5ac-47d8-a206-0b165319f13f","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_3595c4e3_1ce0_55b3_018e_7f793e27fbfc","uuid":"fb5302bc-0260-4756-9a8c-bf57c5322949"},"name":"SYS_GEN__Runbook_Deployment_3595c4e3_1ce0_55b3_018e_7f793e27fbfc"}},{"description":"System action for scaleout","message_list":[],"uuid":"5ea0b38f-e17a-4c2b-8555-137e8fe31b80","name":"action_scaleout","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"8948778d_deployment_cloned_0","uuid":"3595c4e3-1ce0-55b3-018e-7f793e27fbfc"},"retries":"0","description":"","type":"DAG","uuid":"d9608186-44df-4cb8-a30a-3dbb783c81c2","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Deployment_Scaleout_3595c4e3_1ce0_55b3_018e_7f793e27fbfc","uuid":"0e82cb46-0993-40ef-ad78-8239fdbafb8b"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_3595c4e3_1ce0_55b3_018e_7f793e27fbfc"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"8948778d_deployment_cloned_0","uuid":"3595c4e3-1ce0-55b3-018e-7f793e27fbfc"},"retries":"0","description":"","type":"SCALING","uuid":"0e82cb46-0993-40ef-ad78-8239fdbafb8b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{scaling_count}@@","type":"","scaling_type":"SCALEOUT"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Deployment_Scaleout_3595c4e3_1ce0_55b3_018e_7f793e27fbfc"}],"description":"","message_list":[],"uuid":"1dd04666-1db6-441a-9f42-fce15d6aaeec","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"379fef7d-3b23-4dc6-9d00-db638af90f2a","value":"0","label":"","state":"NOT_VALIDATED","attrs":{},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"scaling_count"}],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_3595c4e3_1ce0_55b3_018e_7f793e27fbfc","uuid":"d9608186-44df-4cb8-a30a-3dbb783c81c2"},"name":"SYS_GEN__Runbook_Deployment_3595c4e3_1ce0_55b3_018e_7f793e27fbfc"}},{"description":"System action for scalein","message_list":[],"uuid":"705e11aa-f5b7-406e-9b59-14fa86458152","name":"action_scalein","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"8948778d_deployment_cloned_0","uuid":"3595c4e3-1ce0-55b3-018e-7f793e27fbfc"},"retries":"0","description":"","type":"DAG","uuid":"6de976de-c0eb-4edc-84f2-537f1fabad4f","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Deployment_Scalein_3595c4e3_1ce0_55b3_018e_7f793e27fbfc","uuid":"e3646bde-12ec-4812-bd91-b862f1f95ed3"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_3595c4e3_1ce0_55b3_018e_7f793e27fbfc"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"8948778d_deployment_cloned_0","uuid":"3595c4e3-1ce0-55b3-018e-7f793e27fbfc"},"retries":"0","description":"","type":"SCALING","uuid":"e3646bde-12ec-4812-bd91-b862f1f95ed3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{scaling_count}@@","type":"","scaling_type":"SCALEIN"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Deployment_Scalein_3595c4e3_1ce0_55b3_018e_7f793e27fbfc"}],"description":"","message_list":[],"uuid":"8b0c2d82-112c-4c61-886b-43420736178d","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"fb54cb74-df1d-4a95-bc67-31c3cf4b6c74","value":"0","label":"","state":"NOT_VALIDATED","attrs":{},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"scaling_count"}],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_3595c4e3_1ce0_55b3_018e_7f793e27fbfc","uuid":"6de976de-c0eb-4edc-84f2-537f1fabad4f"},"name":"SYS_GEN__Runbook_Deployment_3595c4e3_1ce0_55b3_018e_7f793e27fbfc"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"da1dd5bc-a402-4fcc-8bdb-20b2f494ae2a","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"8948778d_deployment_cloned_0","uuid":"3595c4e3-1ce0-55b3-018e-7f793e27fbfc"},"retries":"0","description":"","type":"DAG","uuid":"b9c9000f-f48a-46d8-87c1-6978b4e936be","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"4e2ebc12-c768-433e-8e62-84cba9176503"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_b7514626_0d97_b967_daee_aa861e7d64e9","uuid":"bc6e9485-54a9-4c8b-89bc-0cb8395832e3"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_63de3a22_80dd_bdbe_bc85_900e651aeddb","uuid":"93abdfb0-d6c6-49fe-97a7-a8923dd2d760"},{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_3595c4e3_1ce0_55b3_018e_7f793e27fbfc","uuid":"27b68411-6bd4-48a7-86ee-e5ad0589b022"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"4e2ebc12-c768-433e-8e62-84cba9176503"},"edge_type":"inherent","type":"","uuid":"cda790e8-17e7-4c66-a2fb-d32d2b88a380","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_b7514626_0d97_b967_daee_aa861e7d64e9","uuid":"bc6e9485-54a9-4c8b-89bc-0cb8395832e3"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_63de3a22_80dd_bdbe_bc85_900e651aeddb","uuid":"93abdfb0-d6c6-49fe-97a7-a8923dd2d760"},"edge_type":"inherent","type":"","uuid":"3d4e7531-1550-4400-91ec-4e15296c8379","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_3595c4e3_1ce0_55b3_018e_7f793e27fbfc","uuid":"27b68411-6bd4-48a7-86ee-e5ad0589b022"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_b7514626_0d97_b967_daee_aa861e7d64e9","uuid":"bc6e9485-54a9-4c8b-89bc-0cb8395832e3"},"edge_type":"inherent","type":"","uuid":"7cb6973d-a8b6-4105-aa47-aa8691c1f0f5","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_63de3a22_80dd_bdbe_bc85_900e651aeddb","uuid":"93abdfb0-d6c6-49fe-97a7-a8923dd2d760"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_3595c4e3_1ce0_55b3_018e_7f793e27fbfc"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"4e2ebc12-c768-433e-8e62-84cba9176503","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"8948778d_deployment_cloned_0","uuid":"3595c4e3-1ce0-55b3-018e-7f793e27fbfc"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"92ba2635-e9da-48a5-8b58-7a4b4a61ffdf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90"},{"target_any_local_reference":{"kind":"app_package","name":"VMwareMasterPackage","uuid":"b7514626-0d97-b967-daee-aa861e7d64e9"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"bc6e9485-54a9-4c8b-89bc-0cb8395832e3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_b7514626_0d97_b967_daee_aa861e7d64e9"},{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareMaster","uuid":"63de3a22-80dd-bdbe-bc85-900e651aeddb"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"93abdfb0-d6c6-49fe-97a7-a8923dd2d760","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"8948778d_deployment_cloned_0","uuid":"3595c4e3-1ce0-55b3-018e-7f793e27fbfc"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_63de3a22_80dd_bdbe_bc85_900e651aeddb","uuid":"387d4354-c71f-44dc-8f67-4bbdf63c7e15"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Substrate_63de3a22_80dd_bdbe_bc85_900e651aeddb"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"8948778d_deployment_cloned_0","uuid":"3595c4e3-1ce0-55b3-018e-7f793e27fbfc"},"retries":"0","description":"","type":"SOFT_DELETE_DEPLOYMENT_ELEMENT","uuid":"27b68411-6bd4-48a7-86ee-e5ad0589b022","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Soft_Delete_3595c4e3_1ce0_55b3_018e_7f793e27fbfc"}],"description":"","message_list":[],"uuid":"d1ae16ba-a45c-47df-b112-4fd641de3ebc","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_3595c4e3_1ce0_55b3_018e_7f793e27fbfc","uuid":"b9c9000f-f48a-46d8-87c1-6978b4e936be"},"name":"SYS_GEN__Runbook_Deployment_3595c4e3_1ce0_55b3_018e_7f793e27fbfc"}}],"message_list":[],"published_service_local_reference_list":[],"uuid":"3595c4e3-1ce0-55b3-018e-7f793e27fbfc","min_replicas":"1","state":"ACTIVE","max_replicas":"1","depends_on_list":[],"editables":{},"package_local_reference_list":[{"kind":"app_package","name":"VMwareMasterPackage","uuid":"b7514626-0d97-b967-daee-aa861e7d64e9"}],"substrate_local_reference":{"kind":"app_substrate","name":"VMwareMaster","uuid":"63de3a22-80dd-bdbe-bc85-900e651aeddb"},"type":"GREENFIELD","options":{},"variable_list":[],"name":"8948778d_deployment_cloned_0"},{"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"6363ea97-db3c-4995-9764-e6ffccfdfdf8","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"1ee40052_deployment_cloned_0","uuid":"8013c2c1-3849-9d59-b051-4984cf51ae6d"},"retries":"0","description":"","type":"DAG","uuid":"0ae19ffc-6d64-42d4-8292-cfb6c67804b7","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__DE_Provision_8013c2c1_3849_9d59_b051_4984cf51ae6d","uuid":"b8cdb6dd-32a6-416b-a456-a5d37a8db354"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_e5ba9433_4d2f_1e02_1657_b19820c42cb0","uuid":"e3da26c4-7305-4d71-81dc-9cab87f95dbd"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_58324931_231d_625a_e600_0b039c122559","uuid":"e13e21f6-7ea5-4309-9891-a31a7ac3fb79"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_15327eeb_b1a1_df5c_d65a_a4d9c6e94cc8","uuid":"be805ff5-3519-467d-bd39-d8c7651fa859"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"a58c7781-b29b-43b7-9080-cbed5198d016"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"a7354fa1-fc65-4d35-bf4d-cdf880e17317"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"a58c7781-b29b-43b7-9080-cbed5198d016"},"edge_type":"inherent","type":"","uuid":"01c84d22-1292-4839-8e66-0ac1c487a149","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"a7354fa1-fc65-4d35-bf4d-cdf880e17317"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_15327eeb_b1a1_df5c_d65a_a4d9c6e94cc8","uuid":"be805ff5-3519-467d-bd39-d8c7651fa859"},"edge_type":"inherent","type":"","uuid":"6e1f0670-3dd8-4ab9-928b-7822bb0dd931","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"a58c7781-b29b-43b7-9080-cbed5198d016"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_58324931_231d_625a_e600_0b039c122559","uuid":"e13e21f6-7ea5-4309-9891-a31a7ac3fb79"},"edge_type":"inherent","type":"","uuid":"57b832b5-6265-4870-b01c-8fb6756ed295","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_15327eeb_b1a1_df5c_d65a_a4d9c6e94cc8","uuid":"be805ff5-3519-467d-bd39-d8c7651fa859"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_8013c2c1_3849_9d59_b051_4984cf51ae6d","uuid":"b8cdb6dd-32a6-416b-a456-a5d37a8db354"},"edge_type":"inherent","type":"","uuid":"fe735a4c-d705-483b-a360-43e5559d2576","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_58324931_231d_625a_e600_0b039c122559","uuid":"e13e21f6-7ea5-4309-9891-a31a7ac3fb79"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_e5ba9433_4d2f_1e02_1657_b19820c42cb0","uuid":"e3da26c4-7305-4d71-81dc-9cab87f95dbd"},"edge_type":"inherent","type":"","uuid":"aea8efbe-b899-4759-bfdc-dfe94571f7f5","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_58324931_231d_625a_e600_0b039c122559","uuid":"e13e21f6-7ea5-4309-9891-a31a7ac3fb79"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_8013c2c1_3849_9d59_b051_4984cf51ae6d","uuid":"b8cdb6dd-32a6-416b-a456-a5d37a8db354"},"edge_type":"inherent","type":"","uuid":"1d558f54-32d8-4a7b-83f4-47b39144468c","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_e5ba9433_4d2f_1e02_1657_b19820c42cb0","uuid":"e3da26c4-7305-4d71-81dc-9cab87f95dbd"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_8013c2c1_3849_9d59_b051_4984cf51ae6d"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"1ee40052_deployment_cloned_0","uuid":"8013c2c1-3849-9d59-b051-4984cf51ae6d"},"retries":"0","description":"","type":"CREATE_DEPLOYMENT_ELEMENT","uuid":"b8cdb6dd-32a6-416b-a456-a5d37a8db354","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Provision_8013c2c1_3849_9d59_b051_4984cf51ae6d"},{"target_any_local_reference":{"kind":"app_package","name":"ESXI_CENTOS_76","uuid":"e5ba9433-4d2f-1e02-1657-b19820c42cb0"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"e3da26c4-7305-4d71-81dc-9cab87f95dbd","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"1ee40052_deployment_cloned_0","uuid":"8013c2c1-3849-9d59-b051-4984cf51ae6d"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_e5ba9433_4d2f_1e02_1657_b19820c42cb0","uuid":"aa32e9d7-514e-4991-8510-a53eacadc6c2"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_e5ba9433_4d2f_1e02_1657_b19820c42cb0"},{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareSlave","uuid":"58324931-231d-625a-e600-0b039c122559"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"e13e21f6-7ea5-4309-9891-a31a7ac3fb79","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"1ee40052_deployment_cloned_0","uuid":"8013c2c1-3849-9d59-b051-4984cf51ae6d"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_58324931_231d_625a_e600_0b039c122559","uuid":"086d8594-9f88-462d-8380-9b9cd97139a5"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Substrate_58324931_231d_625a_e600_0b039c122559"},{"target_any_local_reference":{"kind":"app_package","name":"VMwareSlavePackage","uuid":"15327eeb-b1a1-df5c-d65a-a4d9c6e94cc8"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"be805ff5-3519-467d-bd39-d8c7651fa859","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"1ee40052_deployment_cloned_0","uuid":"8013c2c1-3849-9d59-b051-4984cf51ae6d"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_15327eeb_b1a1_df5c_d65a_a4d9c6e94cc8","uuid":"1c1b135b-e389-4716-91de-d497544d686a"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_15327eeb_b1a1_df5c_d65a_a4d9c6e94cc8"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"a58c7781-b29b-43b7-9080-cbed5198d016","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"1ee40052_deployment_cloned_0","uuid":"8013c2c1-3849-9d59-b051-4984cf51ae6d"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"8f15e59d_runbook","uuid":"3c61d32f-d429-4292-b02b-abf0f370307a"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"a7354fa1-fc65-4d35-bf4d-cdf880e17317","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"1ee40052_deployment_cloned_0","uuid":"8013c2c1-3849-9d59-b051-4984cf51ae6d"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"b34d9d39_runbook","uuid":"57a4c7a2-843d-4130-9f5d-51c6ed3ce4d5"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40"}],"description":"","message_list":[],"uuid":"0afdcc41-b6d0-4c96-9179-36585ea0fa6e","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_8013c2c1_3849_9d59_b051_4984cf51ae6d","uuid":"0ae19ffc-6d64-42d4-8292-cfb6c67804b7"},"name":"SYS_GEN__Runbook_Deployment_8013c2c1_3849_9d59_b051_4984cf51ae6d"}},{"description":"System action for starting an application","message_list":[],"uuid":"32c07c18-e62a-4f47-942a-bf0c6d574c95","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"1ee40052_deployment_cloned_0","uuid":"8013c2c1-3849-9d59-b051-4984cf51ae6d"},"retries":"0","description":"","type":"DAG","uuid":"836b2fee-42fb-4961-a25f-340881c0d48b","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_58324931_231d_625a_e600_0b039c122559","uuid":"39fa1fb9-6763-49a9-89e8-9b36e9279937"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"cb930573-5257-48d1-826d-296ea3de4708"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_58324931_231d_625a_e600_0b039c122559","uuid":"39fa1fb9-6763-49a9-89e8-9b36e9279937"},"edge_type":"inherent","type":"","uuid":"0646f473-57f3-4c0c-a38e-a281e1fe08e3","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"cb930573-5257-48d1-826d-296ea3de4708"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_8013c2c1_3849_9d59_b051_4984cf51ae6d"},{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareSlave","uuid":"58324931-231d-625a-e600-0b039c122559"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"39fa1fb9-6763-49a9-89e8-9b36e9279937","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"1ee40052_deployment_cloned_0","uuid":"8013c2c1-3849-9d59-b051-4984cf51ae6d"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_58324931_231d_625a_e600_0b039c122559","uuid":"db82983b-ac44-4087-a79c-42c6dda970ad"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Substrate_58324931_231d_625a_e600_0b039c122559"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"cb930573-5257-48d1-826d-296ea3de4708","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"1ee40052_deployment_cloned_0","uuid":"8013c2c1-3849-9d59-b051-4984cf51ae6d"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"b34d9d39_runbook","uuid":"57a4c7a2-843d-4130-9f5d-51c6ed3ce4d5"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40"}],"description":"","message_list":[],"uuid":"fa486ca0-5bf8-4c2a-a682-ff2ed484d598","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_8013c2c1_3849_9d59_b051_4984cf51ae6d","uuid":"836b2fee-42fb-4961-a25f-340881c0d48b"},"name":"SYS_GEN__Runbook_Deployment_8013c2c1_3849_9d59_b051_4984cf51ae6d"}},{"description":"System action for restarting an application","message_list":[],"uuid":"321d9a4e-2072-4374-8e1f-e772ce7dc2fc","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"1ee40052_deployment_cloned_0","uuid":"8013c2c1-3849-9d59-b051-4984cf51ae6d"},"retries":"0","description":"","type":"DAG","uuid":"55f8aed2-e029-420e-a13e-f7cd33f53bb0","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_58324931_231d_625a_e600_0b039c122559","uuid":"b3d0a9c1-c8bf-4631-87b0-fa27ed336f29"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"7f4c51dd-10e8-49db-b6dd-11fa0409bf49"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_58324931_231d_625a_e600_0b039c122559","uuid":"b3d0a9c1-c8bf-4631-87b0-fa27ed336f29"},"edge_type":"inherent","type":"","uuid":"0cd3c2c7-48a3-495c-af67-0d3e5d1e82a4","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"7f4c51dd-10e8-49db-b6dd-11fa0409bf49"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_8013c2c1_3849_9d59_b051_4984cf51ae6d"},{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareSlave","uuid":"58324931-231d-625a-e600-0b039c122559"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"b3d0a9c1-c8bf-4631-87b0-fa27ed336f29","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"1ee40052_deployment_cloned_0","uuid":"8013c2c1-3849-9d59-b051-4984cf51ae6d"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_58324931_231d_625a_e600_0b039c122559","uuid":"5cfd5d2e-b952-464d-a192-1c7ff8fa99bc"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Substrate_58324931_231d_625a_e600_0b039c122559"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"7f4c51dd-10e8-49db-b6dd-11fa0409bf49","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"1ee40052_deployment_cloned_0","uuid":"8013c2c1-3849-9d59-b051-4984cf51ae6d"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"c1c4eebd_runbook","uuid":"bea78664-aea0-4d1f-b708-8ef876af38d5"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40"}],"description":"","message_list":[],"uuid":"7a776710-a395-4f64-b5d0-bb6e6fa1c222","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_8013c2c1_3849_9d59_b051_4984cf51ae6d","uuid":"55f8aed2-e029-420e-a13e-f7cd33f53bb0"},"name":"SYS_GEN__Runbook_Deployment_8013c2c1_3849_9d59_b051_4984cf51ae6d"}},{"description":"System action for stopping an application","message_list":[],"uuid":"5f44c3c1-c4bd-40cf-abca-31e10798c3f0","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"1ee40052_deployment_cloned_0","uuid":"8013c2c1-3849-9d59-b051-4984cf51ae6d"},"retries":"0","description":"","type":"DAG","uuid":"d48d7d8c-7593-4afd-baeb-4a40b4aa7874","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"40d92c73-52f8-4c61-bd50-5d7284bf5636"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_58324931_231d_625a_e600_0b039c122559","uuid":"c7afb073-58a6-49f3-b301-4a97a47921d6"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"40d92c73-52f8-4c61-bd50-5d7284bf5636"},"edge_type":"inherent","type":"","uuid":"b1d5edc3-028d-4e6a-abd3-7b78837c7712","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_58324931_231d_625a_e600_0b039c122559","uuid":"c7afb073-58a6-49f3-b301-4a97a47921d6"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_8013c2c1_3849_9d59_b051_4984cf51ae6d"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"40d92c73-52f8-4c61-bd50-5d7284bf5636","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"1ee40052_deployment_cloned_0","uuid":"8013c2c1-3849-9d59-b051-4984cf51ae6d"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0e2bd4c9_runbook","uuid":"8e29699f-df44-4802-8ae9-689322c6575c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40"},{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareSlave","uuid":"58324931-231d-625a-e600-0b039c122559"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"c7afb073-58a6-49f3-b301-4a97a47921d6","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"1ee40052_deployment_cloned_0","uuid":"8013c2c1-3849-9d59-b051-4984cf51ae6d"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_58324931_231d_625a_e600_0b039c122559","uuid":"1dae1340-019f-4c7e-b934-94f1a57cb965"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Substrate_58324931_231d_625a_e600_0b039c122559"}],"description":"","message_list":[],"uuid":"8e1f0eb7-e5ce-4537-af1e-434d65ac2ef3","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_8013c2c1_3849_9d59_b051_4984cf51ae6d","uuid":"d48d7d8c-7593-4afd-baeb-4a40b4aa7874"},"name":"SYS_GEN__Runbook_Deployment_8013c2c1_3849_9d59_b051_4984cf51ae6d"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"cff4a220-f647-48e3-b18e-e87a0bfb7cce","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"1ee40052_deployment_cloned_0","uuid":"8013c2c1-3849-9d59-b051-4984cf51ae6d"},"retries":"0","description":"","type":"DAG","uuid":"1209d7fc-4d3c-4f5f-a185-68842ccbf2ee","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"dde3cbc0-253a-4813-8cb8-4244068cfa3b"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"9c16bdc4-3837-4924-8b2e-8505aa3ff655"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_15327eeb_b1a1_df5c_d65a_a4d9c6e94cc8","uuid":"21d2994e-bdb2-4320-a93a-5c7d1e057954"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_58324931_231d_625a_e600_0b039c122559","uuid":"b1c44a24-7aae-4c8b-9fe6-5ae400a8ba19"},{"kind":"app_task","name":"SYS_GEN__DE_Delete_8013c2c1_3849_9d59_b051_4984cf51ae6d","uuid":"a6663867-121f-491e-9ce4-99c19afa092f"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"dde3cbc0-253a-4813-8cb8-4244068cfa3b"},"edge_type":"inherent","type":"","uuid":"ac37f3b3-6454-4706-9d5f-87bb870923bf","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"9c16bdc4-3837-4924-8b2e-8505aa3ff655"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"9c16bdc4-3837-4924-8b2e-8505aa3ff655"},"edge_type":"inherent","type":"","uuid":"f04c166e-3cd8-4e10-8c1d-abfe8dd12e60","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_15327eeb_b1a1_df5c_d65a_a4d9c6e94cc8","uuid":"21d2994e-bdb2-4320-a93a-5c7d1e057954"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_58324931_231d_625a_e600_0b039c122559","uuid":"b1c44a24-7aae-4c8b-9fe6-5ae400a8ba19"},"edge_type":"inherent","type":"","uuid":"84db814b-c725-4f7a-adc8-248750894d85","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Delete_8013c2c1_3849_9d59_b051_4984cf51ae6d","uuid":"a6663867-121f-491e-9ce4-99c19afa092f"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_15327eeb_b1a1_df5c_d65a_a4d9c6e94cc8","uuid":"21d2994e-bdb2-4320-a93a-5c7d1e057954"},"edge_type":"inherent","type":"","uuid":"321c502c-4f88-4a2b-99b7-1ae801ac4828","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_58324931_231d_625a_e600_0b039c122559","uuid":"b1c44a24-7aae-4c8b-9fe6-5ae400a8ba19"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_8013c2c1_3849_9d59_b051_4984cf51ae6d"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"dde3cbc0-253a-4813-8cb8-4244068cfa3b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"1ee40052_deployment_cloned_0","uuid":"8013c2c1-3849-9d59-b051-4984cf51ae6d"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0e2bd4c9_runbook","uuid":"8e29699f-df44-4802-8ae9-689322c6575c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"9c16bdc4-3837-4924-8b2e-8505aa3ff655","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"1ee40052_deployment_cloned_0","uuid":"8013c2c1-3849-9d59-b051-4984cf51ae6d"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"08946714_runbook","uuid":"005a7fbe-7426-4c75-aa02-8ca0b1db5dbb"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40"},{"target_any_local_reference":{"kind":"app_package","name":"VMwareSlavePackage","uuid":"15327eeb-b1a1-df5c-d65a-a4d9c6e94cc8"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"21d2994e-bdb2-4320-a93a-5c7d1e057954","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"1ee40052_deployment_cloned_0","uuid":"8013c2c1-3849-9d59-b051-4984cf51ae6d"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_15327eeb_b1a1_df5c_d65a_a4d9c6e94cc8","uuid":"e19d51d9-ae6e-48f1-af12-c4fd5e30158b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_15327eeb_b1a1_df5c_d65a_a4d9c6e94cc8"},{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareSlave","uuid":"58324931-231d-625a-e600-0b039c122559"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"b1c44a24-7aae-4c8b-9fe6-5ae400a8ba19","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"1ee40052_deployment_cloned_0","uuid":"8013c2c1-3849-9d59-b051-4984cf51ae6d"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_58324931_231d_625a_e600_0b039c122559","uuid":"995dd411-3bc4-4d96-8ec0-21d212037420"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Substrate_58324931_231d_625a_e600_0b039c122559"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"1ee40052_deployment_cloned_0","uuid":"8013c2c1-3849-9d59-b051-4984cf51ae6d"},"retries":"0","description":"","type":"DELETE_DEPLOYMENT_ELEMENT","uuid":"a6663867-121f-491e-9ce4-99c19afa092f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Delete_8013c2c1_3849_9d59_b051_4984cf51ae6d"}],"description":"","message_list":[],"uuid":"0db0f647-8a80-4487-9d71-1e3ebf7ae121","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_8013c2c1_3849_9d59_b051_4984cf51ae6d","uuid":"1209d7fc-4d3c-4f5f-a185-68842ccbf2ee"},"name":"SYS_GEN__Runbook_Deployment_8013c2c1_3849_9d59_b051_4984cf51ae6d"}},{"description":"System action for scaleout","message_list":[],"uuid":"b66b3bbd-7e80-4de0-acee-f195ef4ecbcc","name":"action_scaleout","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"1ee40052_deployment_cloned_0","uuid":"8013c2c1-3849-9d59-b051-4984cf51ae6d"},"retries":"0","description":"","type":"DAG","uuid":"92e1ae08-76c4-43d5-86be-7197d5b57ffb","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Deployment_Scaleout_8013c2c1_3849_9d59_b051_4984cf51ae6d","uuid":"4c210f17-a2f5-476e-a167-1098bb3dfe82"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_8013c2c1_3849_9d59_b051_4984cf51ae6d"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"1ee40052_deployment_cloned_0","uuid":"8013c2c1-3849-9d59-b051-4984cf51ae6d"},"retries":"0","description":"","type":"SCALING","uuid":"4c210f17-a2f5-476e-a167-1098bb3dfe82","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{scaling_count}@@","type":"","scaling_type":"SCALEOUT"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Deployment_Scaleout_8013c2c1_3849_9d59_b051_4984cf51ae6d"}],"description":"","message_list":[],"uuid":"44f2506c-9143-4769-8974-d30fe9cc47c1","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"bdee5071-b598-4a52-bc43-aa2b3a278f28","value":"0","label":"","state":"NOT_VALIDATED","attrs":{},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"scaling_count"}],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_8013c2c1_3849_9d59_b051_4984cf51ae6d","uuid":"92e1ae08-76c4-43d5-86be-7197d5b57ffb"},"name":"SYS_GEN__Runbook_Deployment_8013c2c1_3849_9d59_b051_4984cf51ae6d"}},{"description":"System action for scalein","message_list":[],"uuid":"b1149169-4279-44d3-9d28-0d3d6b82129a","name":"action_scalein","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"1ee40052_deployment_cloned_0","uuid":"8013c2c1-3849-9d59-b051-4984cf51ae6d"},"retries":"0","description":"","type":"DAG","uuid":"20a1449d-d5b6-4ed7-a714-70c47c595c12","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Deployment_Scalein_8013c2c1_3849_9d59_b051_4984cf51ae6d","uuid":"11c93f0b-a0ed-40eb-8c2a-c4b610193645"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_8013c2c1_3849_9d59_b051_4984cf51ae6d"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"1ee40052_deployment_cloned_0","uuid":"8013c2c1-3849-9d59-b051-4984cf51ae6d"},"retries":"0","description":"","type":"SCALING","uuid":"11c93f0b-a0ed-40eb-8c2a-c4b610193645","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{scaling_count}@@","type":"","scaling_type":"SCALEIN"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Deployment_Scalein_8013c2c1_3849_9d59_b051_4984cf51ae6d"}],"description":"","message_list":[],"uuid":"bedf3579-bcd5-435a-8cd5-7314db83aa63","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"5b95397e-4ac4-4e4d-9e95-5a2cce2dde59","value":"0","label":"","state":"NOT_VALIDATED","attrs":{},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"scaling_count"}],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_8013c2c1_3849_9d59_b051_4984cf51ae6d","uuid":"20a1449d-d5b6-4ed7-a714-70c47c595c12"},"name":"SYS_GEN__Runbook_Deployment_8013c2c1_3849_9d59_b051_4984cf51ae6d"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"4a350bec-9986-4620-96be-7c379cb5fa0f","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"1ee40052_deployment_cloned_0","uuid":"8013c2c1-3849-9d59-b051-4984cf51ae6d"},"retries":"0","description":"","type":"DAG","uuid":"c749546d-8291-456b-b7ca-d359d7ac915e","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"c48002e4-7140-4502-9fb6-94d3de765925"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_15327eeb_b1a1_df5c_d65a_a4d9c6e94cc8","uuid":"b0ba2060-aa77-4ed7-aca9-8580808705e7"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_58324931_231d_625a_e600_0b039c122559","uuid":"a568f3c5-a15b-470b-856c-232e4df51cb3"},{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_8013c2c1_3849_9d59_b051_4984cf51ae6d","uuid":"880f6d31-7f74-4a9e-9aa1-28ec496918d9"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"c48002e4-7140-4502-9fb6-94d3de765925"},"edge_type":"inherent","type":"","uuid":"6c49d623-435a-47d4-b999-7368299068e9","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_15327eeb_b1a1_df5c_d65a_a4d9c6e94cc8","uuid":"b0ba2060-aa77-4ed7-aca9-8580808705e7"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_15327eeb_b1a1_df5c_d65a_a4d9c6e94cc8","uuid":"b0ba2060-aa77-4ed7-aca9-8580808705e7"},"edge_type":"inherent","type":"","uuid":"2b54e4b7-4173-44cf-9a99-a6ed1961a3eb","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_58324931_231d_625a_e600_0b039c122559","uuid":"a568f3c5-a15b-470b-856c-232e4df51cb3"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_58324931_231d_625a_e600_0b039c122559","uuid":"a568f3c5-a15b-470b-856c-232e4df51cb3"},"edge_type":"inherent","type":"","uuid":"2022b1d8-86f2-4406-bbc8-9239982234e6","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_8013c2c1_3849_9d59_b051_4984cf51ae6d","uuid":"880f6d31-7f74-4a9e-9aa1-28ec496918d9"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_8013c2c1_3849_9d59_b051_4984cf51ae6d"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"c48002e4-7140-4502-9fb6-94d3de765925","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"1ee40052_deployment_cloned_0","uuid":"8013c2c1-3849-9d59-b051-4984cf51ae6d"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"febe47f3-782b-40c3-abcb-ce825626516f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40"},{"target_any_local_reference":{"kind":"app_package","name":"VMwareSlavePackage","uuid":"15327eeb-b1a1-df5c-d65a-a4d9c6e94cc8"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"b0ba2060-aa77-4ed7-aca9-8580808705e7","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_15327eeb_b1a1_df5c_d65a_a4d9c6e94cc8"},{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareSlave","uuid":"58324931-231d-625a-e600-0b039c122559"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"a568f3c5-a15b-470b-856c-232e4df51cb3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"1ee40052_deployment_cloned_0","uuid":"8013c2c1-3849-9d59-b051-4984cf51ae6d"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_58324931_231d_625a_e600_0b039c122559","uuid":"fc8098d5-29a6-4474-861d-b5d7c838494c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Substrate_58324931_231d_625a_e600_0b039c122559"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"1ee40052_deployment_cloned_0","uuid":"8013c2c1-3849-9d59-b051-4984cf51ae6d"},"retries":"0","description":"","type":"SOFT_DELETE_DEPLOYMENT_ELEMENT","uuid":"880f6d31-7f74-4a9e-9aa1-28ec496918d9","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Soft_Delete_8013c2c1_3849_9d59_b051_4984cf51ae6d"}],"description":"","message_list":[],"uuid":"7894b979-418c-4efe-b58a-0bbd7591aec2","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_8013c2c1_3849_9d59_b051_4984cf51ae6d","uuid":"c749546d-8291-456b-b7ca-d359d7ac915e"},"name":"SYS_GEN__Runbook_Deployment_8013c2c1_3849_9d59_b051_4984cf51ae6d"}}],"message_list":[],"published_service_local_reference_list":[],"uuid":"8013c2c1-3849-9d59-b051-4984cf51ae6d","min_replicas":"2","state":"ACTIVE","max_replicas":"4","depends_on_list":[],"editables":{"min_replicas":true,"max_replicas":true},"package_local_reference_list":[{"kind":"app_package","name":"VMwareSlavePackage","uuid":"15327eeb-b1a1-df5c-d65a-a4d9c6e94cc8"}],"substrate_local_reference":{"kind":"app_substrate","name":"VMwareSlave","uuid":"58324931-231d-625a-e600-0b039c122559"},"type":"GREENFIELD","options":{},"variable_list":[],"name":"1ee40052_deployment_cloned_0"}],"description":"","action_list":[{"description":"Take DB backup. \nDB_NAME : Name of DB to be backup\nBACKUP_FILE_PATH : Absolute directory path for backup file","message_list":[],"uuid":"658dcb7a-5e4b-70a8-6447-b5363e36b9d0","name":"Backup","state":"ACTIVE","critical":false,"attrs":{},"type":"user","runbook":{"task_definition_list":[{"retries":"0","description":"","type":"DAG","uuid":"958804b6-c052-fff1-885f-2d9fa3e80c7b","child_tasks_local_reference_list":[{"kind":"app_task","name":"DoDBBackup","uuid":"efc6f36a-a1ae-c003-8961-24722d669624"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"b65659b5_dag_cloned_1"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"EXEC","uuid":"efc6f36a-a1ae-c003-8961-24722d669624","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\ndb_name=\"@@{DB_NAME}@@\"\nbackup_file_path=\"@@{BACKUP_FILE_PATH}@@\"\n\nsudo su - postgres bash -c \"pg_dump ${db_name} | gzip > ${backup_file_path}\"","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"DoDBBackup"}],"description":"","message_list":[],"uuid":"8f30757a-7308-8d74-f6c3-9436ffbe5060","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"bd976573-7334-211c-a37a-2f007b58b18b","value":"postgres","label":"","state":"ACTIVE","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"DB_NAME"},{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"f938a591-4b8d-5c91-fa35-4d4ba2c6b101","value":"~\/db.backup","label":"","state":"ACTIVE","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"BACKUP_FILE_PATH"}],"main_task_local_reference":{"kind":"app_task","name":"b65659b5_dag_cloned_1","uuid":"958804b6-c052-fff1-885f-2d9fa3e80c7b"},"name":"2622e5f4_runbook_cloned_0"}},{"description":"Restore DB from dump file\nDB_NAME : Name of DB to be backup\nRESTORE_FILE_PATH : Absolute directory path for restore file","message_list":[],"uuid":"a7b4d64f-8bd9-7953-7e31-fe3dade56383","name":"Restore","state":"ACTIVE","critical":false,"attrs":{},"type":"user","runbook":{"task_definition_list":[{"retries":"0","description":"","type":"DAG","uuid":"165e1e60-224a-f3cf-207a-99dd895f48c7","child_tasks_local_reference_list":[{"kind":"app_task","name":"DoDBRestore","uuid":"60276fcb-fd9f-2973-a2ac-38e07067f9c5"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"9a0b4209_dag_cloned_1"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"EXEC","uuid":"60276fcb-fd9f-2973-a2ac-38e07067f9c5","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\ndb_name=\"@@{DB_NAME}@@\"\nrestore_file_path=\"@@{RESTORE_FILE_PATH}@@\"\n\nsudo su - postgres bash -c \"gunzip -c ${restore_file_path} | psql ${db_name}\"","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"DoDBRestore"}],"description":"","message_list":[],"uuid":"1342dca0-3e65-5896-f517-efd4594b9be0","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"97c12968-9ae7-d1ad-bcbe-1cbd68703e7e","value":"postgres","label":"","state":"ACTIVE","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"DB_NAME"},{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"b4d47243-0ecc-293d-f177-d341872c2c8e","value":"~\/db.backup","label":"","state":"ACTIVE","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"RESTORE_FILE_PATH"}],"main_task_local_reference":{"kind":"app_task","name":"9a0b4209_dag_cloned_1","uuid":"165e1e60-224a-f3cf-207a-99dd895f48c7"},"name":"efe6ad7e_runbook_cloned_0"}},{"description":"","message_list":[],"uuid":"1017a547-4613-a86a-b085-4f6b262eb19d","name":"Scale Out","state":"ACTIVE","critical":false,"attrs":{},"type":"user","runbook":{"task_definition_list":[{"retries":"0","description":"","type":"DAG","uuid":"91e352b9-be0b-85ae-eee7-438554591f26","child_tasks_local_reference_list":[{"kind":"app_task","name":"Scale Out Slaves","uuid":"38b83400-9d11-aa2e-d273-8744465357a1"},{"kind":"app_task","name":"Configure Master","uuid":"594bc393-72ac-cb6d-be0f-1c7c59e7ab9c"},{"kind":"app_task","name":"Configure Slave","uuid":"83abe766-2c87-761e-0094-ed229baf3507"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Scale Out Slaves","uuid":"38b83400-9d11-aa2e-d273-8744465357a1"},"edge_type":"user_defined","type":"","uuid":"053b48cc-ca0a-4102-e066-decb32f584ed","to_task_reference":{"kind":"app_task","name":"Configure Slave","uuid":"83abe766-2c87-761e-0094-ed229baf3507"}},{"from_task_reference":{"kind":"app_task","name":"Configure Master","uuid":"594bc393-72ac-cb6d-be0f-1c7c59e7ab9c"},"edge_type":"user_defined","type":"","uuid":"7f4aecde-1319-e2b1-0ed9-fb0e6c52f6e5","to_task_reference":{"kind":"app_task","name":"Configure Slave","uuid":"83abe766-2c87-761e-0094-ed229baf3507"}},{"from_task_reference":{"kind":"app_task","name":"Scale Out Slaves","uuid":"38b83400-9d11-aa2e-d273-8744465357a1"},"edge_type":"user_defined","type":"","uuid":"d296b69a-894f-5ecf-88af-ca2112529990","to_task_reference":{"kind":"app_task","name":"Configure Master","uuid":"594bc393-72ac-cb6d-be0f-1c7c59e7ab9c"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"1ae0554a_dag_cloned_1"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"1ee40052_deployment_cloned_0","uuid":"8013c2c1-3849-9d59-b051-4984cf51ae6d"},"retries":"0","description":"","type":"SCALING","uuid":"38b83400-9d11-aa2e-d273-8744465357a1","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"1","type":"","scaling_type":"SCALEOUT"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Scale Out Slaves"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"EXEC","uuid":"594bc393-72ac-cb6d-be0f-1c7c59e7ab9c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\nSlaves=($(echo @@{VMwareSlave.address}@@ | sed 's\/^,\/\/' | sed 's\/,$\/\/' | tr \",\" \" \")) \n\necho \"host    replication     rep     ${Slaves[-1]}\/32     md5\" | sudo tee -a \/var\/lib\/pgsql\/9.6\/data\/pg_hba.conf\n\nsudo -i -u postgres \/usr\/pgsql-9.6\/bin\/pg_ctl reload;\n\nsleep 20\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Configure Master"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"EXEC","uuid":"83abe766-2c87-761e-0094-ed229baf3507","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\nSlaves=($(echo @@{Postgres_Slave.address}@@ | sed 's\/^,\/\/' | sed 's\/,$\/\/' | tr \",\" \" \"))    \nScaleout_IP=${Slaves[-1]}\n\nif [ \"${Scaleout_IP}\" != \"@@{address}@@\" ]\nthen\n\texit 0;\nfi\n\nMaster_IP=@@{VMwareMaster.address}@@\n\nsudo systemctl stop postgresql-9.6\nsleep 2;\n\nsudo su - postgres <<EOF\n  mv 9.6\/data 9.6\/data.org\n  echo \"${Master_IP}:5432:*:rep:@@{DB_PASSWORD}@@\" > ~\/.pgpass\n  chmod 0600 ~\/.pgpass\n  pg_basebackup -h ${Master_IP} -D \/var\/lib\/pgsql\/9.6\/data -U rep -v -P\nEOF\n\n\n##copy the created postgres directory to a temp directory\nsudo mkdir \/tmp\/pgsql\nsudo mv \/var\/lib\/pgsql\/9.6\/data \/tmp\/pgsql\n\n#Create directory , fix permissions and Mount LVM\nsudo mkdir \/var\/lib\/pgsql\/9.6\/data\/\nsudo mount -o noatime,barrier=0 \/dev\/pgDataVG\/pgDataLV \/var\/lib\/pgsql\/9.6\/data\/ \n\nsudo mkdir \/var\/lib\/pgsql\/9.6\/data\/pg_xlog\nsudo mount -o noatime,barrier=0 \/dev\/pgLogVG\/pgLogLV \/var\/lib\/pgsql\/9.6\/data\/pg_xlog\n\nsudo chown -R postgres:postgres \/var\/lib\/pgsql\/9.6\/data\/\n\n#move the xlog to the new LVM\nsudo find \/tmp\/pgsql\/data\/pg_xlog -maxdepth 1 -mindepth 1 -exec mv -t \/var\/lib\/pgsql\/9.6\/data\/pg_xlog\/ {} +\n\n#remove pg_xlog from temp dir to avoid being copied again\nsudo rm -rf \/tmp\/pgsql\/data\/pg_xlog\n\n#move the pgsql directory to the LVM\nsudo find \/tmp\/pgsql\/data -maxdepth 1 -mindepth 1 -exec mv -t \/var\/lib\/pgsql\/9.6\/data\/ {} +\n\nsudo chmod -R 0700 \/var\/lib\/pgsql\/9.6\/data\n\n#enable service on boot\nsudo systemctl enable postgresql-9.6.service\n\n#add mount points to \/etc\/fstab\necho \"\/dev\/mapper\/pgDataVG-pgDataLV \/var\/lib\/pgsql\/9.6\/data ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\necho \"\/dev\/mapper\/pgLogVG-pgLogLV \/var\/lib\/pgsql\/9.6\/data\/pg_xlog ext4 rw,seclabel,noatime,nobarrier,stripe=2048,data=ordered 0 0\" | sudo tee -a  \/etc\/fstab\n\n\nsleep 2\nsudo sed -i -e 's\/ExecStart=.*\/ExecStart=\\\/usr\\\/pgsql-9\\.6\\\/bin\\\/pg_ctl start -D ${PGDATA} -s -W -t 300\/g' \/usr\/lib\/systemd\/system\/postgresql-9.6.service\n\necho \"host    replication     rep     ${Master_IP}\/32     md5\" | sudo tee -a \/var\/lib\/pgsql\/9.6\/data\/pg_hba.conf\necho \"listen_addresses = '*'\nwal_level = 'hot_standby'\narchive_mode = on\narchive_command = 'cd .'\nmax_wal_senders = 3\nhot_standby = on\nwal_keep_segments = 8\" | sudo tee -a \/var\/lib\/pgsql\/9.6\/data\/postgresql.conf\n\nsudo su - postgres sh -c \"touch 9.6\/data\/recovery.conf\"\n\necho \"standby_mode = 'on'\nprimary_conninfo = 'host=${Master_IP} port=5432 user=rep password=@@{DB_PASSWORD}@@'\ntrigger_file = '\/tmp\/postgresql.trigger.5432'\" | sudo tee -a \/var\/lib\/pgsql\/9.6\/data\/recovery.conf\n\nsudo systemctl start postgresql-9.6","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Configure Slave"}],"description":"","message_list":[],"uuid":"0bcf6338-6acd-6f3e-9043-dbbf02cefd75","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"335b3c84-1d55-6127-4861-7150a4086075","value":"YES","label":"","state":"ACTIVE","attrs":{"type":""},"editables":{},"is_hidden":false,"type":"LOCAL","options":{},"name":"IS_SCALEOUT"}],"main_task_local_reference":{"kind":"app_task","name":"1ae0554a_dag_cloned_1","uuid":"91e352b9-be0b-85ae-eee7-438554591f26"},"name":"e82289de_runbook_cloned_0"}},{"description":"","message_list":[],"uuid":"290145f0-a116-30a6-5cf6-635c896984cd","name":"Scale In","state":"ACTIVE","critical":false,"attrs":{},"type":"user","runbook":{"task_definition_list":[{"retries":"0","description":"","type":"DAG","uuid":"c3cee2b9-cdce-84f0-09b4-55d2775d98ba","child_tasks_local_reference_list":[{"kind":"app_task","name":"Scale In Slaves_cloned_1","uuid":"f5b60fc8-72d2-d6e6-e1af-c42c79cee585"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"47646377_dag_cloned_1"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"1ee40052_deployment_cloned_0","uuid":"8013c2c1-3849-9d59-b051-4984cf51ae6d"},"retries":"0","description":"","type":"SCALING","uuid":"f5b60fc8-72d2-d6e6-e1af-c42c79cee585","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"1","type":"","scaling_type":"SCALEIN"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Scale In Slaves_cloned_1"}],"description":"","message_list":[],"uuid":"9f1e3f13-2ce8-030b-f2e8-ca5ad2377b87","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"47646377_dag_cloned_1","uuid":"c3cee2b9-cdce-84f0-09b4-55d2775d98ba"},"name":"4fcc04a9_runbook_cloned_0"}},{"description":"System action for creating an application","message_list":[],"uuid":"40f7a249-7b2d-4789-8fd9-7de3771837e6","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"VMware","uuid":"0dc8e7fe-1688-9772-3d28-902f381fb25a"},"retries":"0","description":"","type":"DAG","uuid":"828b284f-b3a1-4246-bb09-e6cc63785277","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__DE_Provision_3595c4e3_1ce0_55b3_018e_7f793e27fbfc","uuid":"84199bf7-08f3-4df0-8cd2-0323a16c3410"},{"kind":"app_task","name":"SYS_GEN__DE_Provision_8013c2c1_3849_9d59_b051_4984cf51ae6d","uuid":"d31158f7-8582-42e4-8516-231dd1ccdfcf"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_e5ba9433_4d2f_1e02_1657_b19820c42cb0_1","uuid":"37beceee-5619-4b9d-b67a-35a857ddd0d6"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_e5ba9433_4d2f_1e02_1657_b19820c42cb0","uuid":"684e2d15-ef3d-466a-9426-4b2cb738d98f"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_63de3a22_80dd_bdbe_bc85_900e651aeddb","uuid":"f6612d72-f6cc-4b31-a31a-f152ef238682"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_58324931_231d_625a_e600_0b039c122559","uuid":"62af53e6-9e84-4239-a539-a30ba2fe17d9"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_b7514626_0d97_b967_daee_aa861e7d64e9","uuid":"5371230f-0846-4ed9-b8e8-0ff1a9a09177"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_15327eeb_b1a1_df5c_d65a_a4d9c6e94cc8","uuid":"1f4e6dbb-3d98-4932-a924-49536147fd94"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"60681068-a369-4eef-9317-83a4126b9e27"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"d54f9963-1b4c-4cb9-a213-49ba991241f9"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"71197062-3502-45b0-9b14-8cbcd73b1f28"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"fa4ace9c-0600-4c1d-8afe-c19775a1e98a"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"71197062-3502-45b0-9b14-8cbcd73b1f28"},"edge_type":"inherent","type":"","uuid":"efd91742-b1ec-4110-a5c8-d3b9604ceddf","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"fa4ace9c-0600-4c1d-8afe-c19775a1e98a"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_15327eeb_b1a1_df5c_d65a_a4d9c6e94cc8","uuid":"1f4e6dbb-3d98-4932-a924-49536147fd94"},"edge_type":"inherent","type":"","uuid":"5f867a18-a713-4b77-b4f1-090810f27753","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"71197062-3502-45b0-9b14-8cbcd73b1f28"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_58324931_231d_625a_e600_0b039c122559","uuid":"62af53e6-9e84-4239-a539-a30ba2fe17d9"},"edge_type":"inherent","type":"","uuid":"3a1a8632-f35f-4bf2-982b-6c44a7454c37","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_15327eeb_b1a1_df5c_d65a_a4d9c6e94cc8","uuid":"1f4e6dbb-3d98-4932-a924-49536147fd94"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_8013c2c1_3849_9d59_b051_4984cf51ae6d","uuid":"d31158f7-8582-42e4-8516-231dd1ccdfcf"},"edge_type":"inherent","type":"","uuid":"09a0e7f2-15d4-495e-ba86-1b6b1e6da93d","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_58324931_231d_625a_e600_0b039c122559","uuid":"62af53e6-9e84-4239-a539-a30ba2fe17d9"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_e5ba9433_4d2f_1e02_1657_b19820c42cb0","uuid":"684e2d15-ef3d-466a-9426-4b2cb738d98f"},"edge_type":"inherent","type":"","uuid":"0012cec6-8f16-4654-962c-04ed31c5eb85","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_58324931_231d_625a_e600_0b039c122559","uuid":"62af53e6-9e84-4239-a539-a30ba2fe17d9"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_8013c2c1_3849_9d59_b051_4984cf51ae6d","uuid":"d31158f7-8582-42e4-8516-231dd1ccdfcf"},"edge_type":"inherent","type":"","uuid":"71a00ba2-9956-4ba0-9846-f93605025cb5","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_e5ba9433_4d2f_1e02_1657_b19820c42cb0","uuid":"684e2d15-ef3d-466a-9426-4b2cb738d98f"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"60681068-a369-4eef-9317-83a4126b9e27"},"edge_type":"inherent","type":"","uuid":"10b45bb9-9d8c-44f9-a235-78b3aced6e22","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"d54f9963-1b4c-4cb9-a213-49ba991241f9"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_b7514626_0d97_b967_daee_aa861e7d64e9","uuid":"5371230f-0846-4ed9-b8e8-0ff1a9a09177"},"edge_type":"inherent","type":"","uuid":"b62df989-a23b-4c82-996d-ea874b32c8a8","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"60681068-a369-4eef-9317-83a4126b9e27"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_63de3a22_80dd_bdbe_bc85_900e651aeddb","uuid":"f6612d72-f6cc-4b31-a31a-f152ef238682"},"edge_type":"inherent","type":"","uuid":"128b8863-b9d5-4086-aeb9-934f210a64ee","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_b7514626_0d97_b967_daee_aa861e7d64e9","uuid":"5371230f-0846-4ed9-b8e8-0ff1a9a09177"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_3595c4e3_1ce0_55b3_018e_7f793e27fbfc","uuid":"84199bf7-08f3-4df0-8cd2-0323a16c3410"},"edge_type":"inherent","type":"","uuid":"994ce77b-e5ef-49d6-8f52-de59bcbfa064","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_63de3a22_80dd_bdbe_bc85_900e651aeddb","uuid":"f6612d72-f6cc-4b31-a31a-f152ef238682"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_e5ba9433_4d2f_1e02_1657_b19820c42cb0_1","uuid":"37beceee-5619-4b9d-b67a-35a857ddd0d6"},"edge_type":"inherent","type":"","uuid":"d2be6ec1-de92-4434-a54b-edf36c8923f6","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_63de3a22_80dd_bdbe_bc85_900e651aeddb","uuid":"f6612d72-f6cc-4b31-a31a-f152ef238682"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_3595c4e3_1ce0_55b3_018e_7f793e27fbfc","uuid":"84199bf7-08f3-4df0-8cd2-0323a16c3410"},"edge_type":"inherent","type":"","uuid":"a061eecf-af25-4a2a-860c-d038cff06a87","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_e5ba9433_4d2f_1e02_1657_b19820c42cb0_1","uuid":"37beceee-5619-4b9d-b67a-35a857ddd0d6"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"d54f9963-1b4c-4cb9-a213-49ba991241f9"},"edge_type":"depends_on","type":"","uuid":"0eda00c0-f218-4643-854b-24bb5dbb2eed","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"71197062-3502-45b0-9b14-8cbcd73b1f28"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_63de3a22_80dd_bdbe_bc85_900e651aeddb","uuid":"f6612d72-f6cc-4b31-a31a-f152ef238682"},"edge_type":"dependency","type":"","uuid":"97c7b27c-7fee-4110-a381-9d3501e71b7c","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"71197062-3502-45b0-9b14-8cbcd73b1f28"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_58324931_231d_625a_e600_0b039c122559","uuid":"62af53e6-9e84-4239-a539-a30ba2fe17d9"},"edge_type":"dependency","type":"","uuid":"f798c3f8-8027-44f2-84cd-e831270e8831","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"60681068-a369-4eef-9317-83a4126b9e27"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_0dc8e7fe_1688_9772_3d28_902f381fb25a"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"8948778d_deployment_cloned_0","uuid":"3595c4e3-1ce0-55b3-018e-7f793e27fbfc"},"retries":"0","description":"","type":"CREATE_DEPLOYMENT_ELEMENT","uuid":"84199bf7-08f3-4df0-8cd2-0323a16c3410","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Provision_3595c4e3_1ce0_55b3_018e_7f793e27fbfc"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"1ee40052_deployment_cloned_0","uuid":"8013c2c1-3849-9d59-b051-4984cf51ae6d"},"retries":"0","description":"","type":"CREATE_DEPLOYMENT_ELEMENT","uuid":"d31158f7-8582-42e4-8516-231dd1ccdfcf","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Provision_8013c2c1_3849_9d59_b051_4984cf51ae6d"},{"target_any_local_reference":{"kind":"app_package","name":"ESXI_CENTOS_76","uuid":"e5ba9433-4d2f-1e02-1657-b19820c42cb0"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"37beceee-5619-4b9d-b67a-35a857ddd0d6","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"8948778d_deployment_cloned_0","uuid":"3595c4e3-1ce0-55b3-018e-7f793e27fbfc"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_e5ba9433_4d2f_1e02_1657_b19820c42cb0","uuid":"aa32e9d7-514e-4991-8510-a53eacadc6c2"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_e5ba9433_4d2f_1e02_1657_b19820c42cb0_1"},{"target_any_local_reference":{"kind":"app_package","name":"ESXI_CENTOS_76","uuid":"e5ba9433-4d2f-1e02-1657-b19820c42cb0"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"684e2d15-ef3d-466a-9426-4b2cb738d98f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"1ee40052_deployment_cloned_0","uuid":"8013c2c1-3849-9d59-b051-4984cf51ae6d"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_e5ba9433_4d2f_1e02_1657_b19820c42cb0","uuid":"aa32e9d7-514e-4991-8510-a53eacadc6c2"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_e5ba9433_4d2f_1e02_1657_b19820c42cb0"},{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareMaster","uuid":"63de3a22-80dd-bdbe-bc85-900e651aeddb"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"f6612d72-f6cc-4b31-a31a-f152ef238682","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"8948778d_deployment_cloned_0","uuid":"3595c4e3-1ce0-55b3-018e-7f793e27fbfc"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_63de3a22_80dd_bdbe_bc85_900e651aeddb","uuid":"4123cf08-7944-4a59-ac78-bb8670100467"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Substrate_63de3a22_80dd_bdbe_bc85_900e651aeddb"},{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareSlave","uuid":"58324931-231d-625a-e600-0b039c122559"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"62af53e6-9e84-4239-a539-a30ba2fe17d9","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"1ee40052_deployment_cloned_0","uuid":"8013c2c1-3849-9d59-b051-4984cf51ae6d"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_58324931_231d_625a_e600_0b039c122559","uuid":"086d8594-9f88-462d-8380-9b9cd97139a5"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Substrate_58324931_231d_625a_e600_0b039c122559"},{"target_any_local_reference":{"kind":"app_package","name":"VMwareMasterPackage","uuid":"b7514626-0d97-b967-daee-aa861e7d64e9"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"5371230f-0846-4ed9-b8e8-0ff1a9a09177","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"8948778d_deployment_cloned_0","uuid":"3595c4e3-1ce0-55b3-018e-7f793e27fbfc"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_b7514626_0d97_b967_daee_aa861e7d64e9","uuid":"3b59ea0e-0e7e-4396-8c04-f5ec1eac964a"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_b7514626_0d97_b967_daee_aa861e7d64e9"},{"target_any_local_reference":{"kind":"app_package","name":"VMwareSlavePackage","uuid":"15327eeb-b1a1-df5c-d65a-a4d9c6e94cc8"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"1f4e6dbb-3d98-4932-a924-49536147fd94","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"1ee40052_deployment_cloned_0","uuid":"8013c2c1-3849-9d59-b051-4984cf51ae6d"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_15327eeb_b1a1_df5c_d65a_a4d9c6e94cc8","uuid":"1c1b135b-e389-4716-91de-d497544d686a"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_15327eeb_b1a1_df5c_d65a_a4d9c6e94cc8"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"60681068-a369-4eef-9317-83a4126b9e27","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"8948778d_deployment_cloned_0","uuid":"3595c4e3-1ce0-55b3-018e-7f793e27fbfc"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"c528d489_runbook","uuid":"a5cf54be-5eb3-4cbb-8cbf-c295bbc3af83"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"d54f9963-1b4c-4cb9-a213-49ba991241f9","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"8948778d_deployment_cloned_0","uuid":"3595c4e3-1ce0-55b3-018e-7f793e27fbfc"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"c02553e2_runbook","uuid":"81959707-f27f-4259-a9b6-d4f736a28f5c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"71197062-3502-45b0-9b14-8cbcd73b1f28","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"1ee40052_deployment_cloned_0","uuid":"8013c2c1-3849-9d59-b051-4984cf51ae6d"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"8f15e59d_runbook","uuid":"3c61d32f-d429-4292-b02b-abf0f370307a"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"fa4ace9c-0600-4c1d-8afe-c19775a1e98a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"1ee40052_deployment_cloned_0","uuid":"8013c2c1-3849-9d59-b051-4984cf51ae6d"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"b34d9d39_runbook","uuid":"57a4c7a2-843d-4130-9f5d-51c6ed3ce4d5"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40"}],"description":"","message_list":[],"uuid":"acce87ff-9cb3-4899-9609-cbc34091530a","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_0dc8e7fe_1688_9772_3d28_902f381fb25a","uuid":"828b284f-b3a1-4246-bb09-e6cc63785277"},"name":"SYS_GEN__Runbook_Application_0dc8e7fe_1688_9772_3d28_902f381fb25a"}},{"description":"System action for starting an application","message_list":[],"uuid":"ebf3506e-a8bb-46a5-b5a5-4562b0697319","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"VMware","uuid":"0dc8e7fe-1688-9772-3d28-902f381fb25a"},"retries":"0","description":"","type":"DAG","uuid":"e4493d57-21a7-4f2d-8f6b-4e183b8abb59","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_58324931_231d_625a_e600_0b039c122559","uuid":"7c2549f4-4fa6-4dc8-833a-b2adc805ab20"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_63de3a22_80dd_bdbe_bc85_900e651aeddb","uuid":"5ddfeac9-e998-4970-85ce-d8602cca9413"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"76c29621-9e6c-4adf-9769-312900987b79"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"da15fde0-00b9-4209-a1c2-ca6973a03aa0"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_58324931_231d_625a_e600_0b039c122559","uuid":"7c2549f4-4fa6-4dc8-833a-b2adc805ab20"},"edge_type":"inherent","type":"","uuid":"0bb51a3d-e4b4-4f44-a0c7-b0262cb90a7f","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"da15fde0-00b9-4209-a1c2-ca6973a03aa0"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_63de3a22_80dd_bdbe_bc85_900e651aeddb","uuid":"5ddfeac9-e998-4970-85ce-d8602cca9413"},"edge_type":"inherent","type":"","uuid":"cebe85e7-4ba9-40ca-876d-3bc4bd34742d","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"76c29621-9e6c-4adf-9769-312900987b79"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"76c29621-9e6c-4adf-9769-312900987b79"},"edge_type":"depends_on","type":"","uuid":"6936d744-0e9a-4955-a934-3327a73d350a","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"da15fde0-00b9-4209-a1c2-ca6973a03aa0"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_63de3a22_80dd_bdbe_bc85_900e651aeddb","uuid":"5ddfeac9-e998-4970-85ce-d8602cca9413"},"edge_type":"create_action_edge","type":"","uuid":"7793f29e-66c3-411f-9bc8-5dff3d1bcc4a","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"da15fde0-00b9-4209-a1c2-ca6973a03aa0"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_58324931_231d_625a_e600_0b039c122559","uuid":"7c2549f4-4fa6-4dc8-833a-b2adc805ab20"},"edge_type":"create_action_edge","type":"","uuid":"77f82062-2727-4d10-be61-72f270b23e84","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"76c29621-9e6c-4adf-9769-312900987b79"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_0dc8e7fe_1688_9772_3d28_902f381fb25a"},{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareSlave","uuid":"58324931-231d-625a-e600-0b039c122559"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"7c2549f4-4fa6-4dc8-833a-b2adc805ab20","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"1ee40052_deployment_cloned_0","uuid":"8013c2c1-3849-9d59-b051-4984cf51ae6d"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_58324931_231d_625a_e600_0b039c122559","uuid":"db82983b-ac44-4087-a79c-42c6dda970ad"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Substrate_58324931_231d_625a_e600_0b039c122559"},{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareMaster","uuid":"63de3a22-80dd-bdbe-bc85-900e651aeddb"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"5ddfeac9-e998-4970-85ce-d8602cca9413","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"8948778d_deployment_cloned_0","uuid":"3595c4e3-1ce0-55b3-018e-7f793e27fbfc"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_63de3a22_80dd_bdbe_bc85_900e651aeddb","uuid":"13cce7fe-6a62-450b-a0da-28624d8feea8"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Substrate_63de3a22_80dd_bdbe_bc85_900e651aeddb"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"76c29621-9e6c-4adf-9769-312900987b79","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"8948778d_deployment_cloned_0","uuid":"3595c4e3-1ce0-55b3-018e-7f793e27fbfc"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"c02553e2_runbook","uuid":"81959707-f27f-4259-a9b6-d4f736a28f5c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"da15fde0-00b9-4209-a1c2-ca6973a03aa0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"1ee40052_deployment_cloned_0","uuid":"8013c2c1-3849-9d59-b051-4984cf51ae6d"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"b34d9d39_runbook","uuid":"57a4c7a2-843d-4130-9f5d-51c6ed3ce4d5"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40"}],"description":"","message_list":[],"uuid":"38515c46-52de-4f4a-94fd-ccb89a4a9470","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_0dc8e7fe_1688_9772_3d28_902f381fb25a","uuid":"e4493d57-21a7-4f2d-8f6b-4e183b8abb59"},"name":"SYS_GEN__Runbook_Application_0dc8e7fe_1688_9772_3d28_902f381fb25a"}},{"description":"System action for restarting an application","message_list":[],"uuid":"f81bf567-07b7-45aa-8779-3fd94d5c79a7","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"VMware","uuid":"0dc8e7fe-1688-9772-3d28-902f381fb25a"},"retries":"0","description":"","type":"DAG","uuid":"7c9ed239-3d26-46ce-9a93-6cfd7a82d3c1","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_63de3a22_80dd_bdbe_bc85_900e651aeddb","uuid":"6604e26f-1f33-46e1-8144-4c196441c2bc"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_58324931_231d_625a_e600_0b039c122559","uuid":"b2a649d2-6818-451c-aa80-cfffe479f89f"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"ffa03a4d-e308-4d9b-af83-962ce4f9418e"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"3c8ffdba-7cff-457b-ac6b-f3f876a76c2f"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_58324931_231d_625a_e600_0b039c122559","uuid":"b2a649d2-6818-451c-aa80-cfffe479f89f"},"edge_type":"inherent","type":"","uuid":"cd33edbd-6613-4023-9598-dcef7b2ea046","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"3c8ffdba-7cff-457b-ac6b-f3f876a76c2f"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_63de3a22_80dd_bdbe_bc85_900e651aeddb","uuid":"6604e26f-1f33-46e1-8144-4c196441c2bc"},"edge_type":"inherent","type":"","uuid":"c9281a00-8b81-4e09-aa3c-851d8c25c093","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"ffa03a4d-e308-4d9b-af83-962ce4f9418e"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"ffa03a4d-e308-4d9b-af83-962ce4f9418e"},"edge_type":"depends_on","type":"","uuid":"321d899a-ff98-4acf-b86a-3390ae81fcd6","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"3c8ffdba-7cff-457b-ac6b-f3f876a76c2f"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_63de3a22_80dd_bdbe_bc85_900e651aeddb","uuid":"6604e26f-1f33-46e1-8144-4c196441c2bc"},"edge_type":"create_action_edge","type":"","uuid":"11debd13-0906-4002-b2a2-0e0258af059f","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"3c8ffdba-7cff-457b-ac6b-f3f876a76c2f"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_58324931_231d_625a_e600_0b039c122559","uuid":"b2a649d2-6818-451c-aa80-cfffe479f89f"},"edge_type":"create_action_edge","type":"","uuid":"0f208c63-a3a6-459a-867e-cad1d5f2d83c","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"ffa03a4d-e308-4d9b-af83-962ce4f9418e"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_0dc8e7fe_1688_9772_3d28_902f381fb25a"},{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareMaster","uuid":"63de3a22-80dd-bdbe-bc85-900e651aeddb"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"6604e26f-1f33-46e1-8144-4c196441c2bc","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"8948778d_deployment_cloned_0","uuid":"3595c4e3-1ce0-55b3-018e-7f793e27fbfc"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_63de3a22_80dd_bdbe_bc85_900e651aeddb","uuid":"6cf3d1c4-1386-413d-87c0-00f18165c197"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Substrate_63de3a22_80dd_bdbe_bc85_900e651aeddb"},{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareSlave","uuid":"58324931-231d-625a-e600-0b039c122559"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"b2a649d2-6818-451c-aa80-cfffe479f89f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"1ee40052_deployment_cloned_0","uuid":"8013c2c1-3849-9d59-b051-4984cf51ae6d"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_58324931_231d_625a_e600_0b039c122559","uuid":"5cfd5d2e-b952-464d-a192-1c7ff8fa99bc"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Substrate_58324931_231d_625a_e600_0b039c122559"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"ffa03a4d-e308-4d9b-af83-962ce4f9418e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"8948778d_deployment_cloned_0","uuid":"3595c4e3-1ce0-55b3-018e-7f793e27fbfc"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"a9d9f266_runbook","uuid":"a32389b2-74a8-4a75-b897-c7158c11032e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"3c8ffdba-7cff-457b-ac6b-f3f876a76c2f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"1ee40052_deployment_cloned_0","uuid":"8013c2c1-3849-9d59-b051-4984cf51ae6d"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"c1c4eebd_runbook","uuid":"bea78664-aea0-4d1f-b708-8ef876af38d5"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40"}],"description":"","message_list":[],"uuid":"0d3c1db6-6884-4712-bd65-45cd79ae35c5","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_0dc8e7fe_1688_9772_3d28_902f381fb25a","uuid":"7c9ed239-3d26-46ce-9a93-6cfd7a82d3c1"},"name":"SYS_GEN__Runbook_Application_0dc8e7fe_1688_9772_3d28_902f381fb25a"}},{"description":"System action for stopping an application","message_list":[],"uuid":"996b16a3-4ebb-4879-9dac-5a1caf720cf6","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"VMware","uuid":"0dc8e7fe-1688-9772-3d28-902f381fb25a"},"retries":"0","description":"","type":"DAG","uuid":"364f3c0f-02ab-496f-b5b3-3168bf82d463","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"ad092684-8a7c-4228-95d0-d26d5e31fe8e"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"fc2cd1d6-f4ee-4198-8f47-7c8e4b35cacb"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_63de3a22_80dd_bdbe_bc85_900e651aeddb","uuid":"c90ab872-35ea-405f-ae79-cce816822290"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_58324931_231d_625a_e600_0b039c122559","uuid":"15e43c56-b9bb-4c6a-a1d0-181bfab96167"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"ad092684-8a7c-4228-95d0-d26d5e31fe8e"},"edge_type":"inherent","type":"","uuid":"46aa34b9-e725-4df3-92aa-cbbc86363555","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_58324931_231d_625a_e600_0b039c122559","uuid":"15e43c56-b9bb-4c6a-a1d0-181bfab96167"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"fc2cd1d6-f4ee-4198-8f47-7c8e4b35cacb"},"edge_type":"inherent","type":"","uuid":"8c95b3be-2aa0-4af2-9850-c0839e957ac8","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_63de3a22_80dd_bdbe_bc85_900e651aeddb","uuid":"c90ab872-35ea-405f-ae79-cce816822290"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"ad092684-8a7c-4228-95d0-d26d5e31fe8e"},"edge_type":"depends_on","type":"","uuid":"53e7fc14-b44d-45ae-b365-6f525c125a1d","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"fc2cd1d6-f4ee-4198-8f47-7c8e4b35cacb"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"ad092684-8a7c-4228-95d0-d26d5e31fe8e"},"edge_type":"create_action_edge","type":"","uuid":"3d2181cc-69aa-49fb-b074-f0efc5903df0","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_63de3a22_80dd_bdbe_bc85_900e651aeddb","uuid":"c90ab872-35ea-405f-ae79-cce816822290"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"fc2cd1d6-f4ee-4198-8f47-7c8e4b35cacb"},"edge_type":"create_action_edge","type":"","uuid":"63ed84dd-4a30-4964-839e-64995a3c5aec","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_58324931_231d_625a_e600_0b039c122559","uuid":"15e43c56-b9bb-4c6a-a1d0-181bfab96167"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_0dc8e7fe_1688_9772_3d28_902f381fb25a"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"ad092684-8a7c-4228-95d0-d26d5e31fe8e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"1ee40052_deployment_cloned_0","uuid":"8013c2c1-3849-9d59-b051-4984cf51ae6d"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0e2bd4c9_runbook","uuid":"8e29699f-df44-4802-8ae9-689322c6575c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"fc2cd1d6-f4ee-4198-8f47-7c8e4b35cacb","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"8948778d_deployment_cloned_0","uuid":"3595c4e3-1ce0-55b3-018e-7f793e27fbfc"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"deb1443a_runbook","uuid":"86288a79-ba17-4500-a81a-1ed2afb6b9b8"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90"},{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareMaster","uuid":"63de3a22-80dd-bdbe-bc85-900e651aeddb"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"c90ab872-35ea-405f-ae79-cce816822290","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"8948778d_deployment_cloned_0","uuid":"3595c4e3-1ce0-55b3-018e-7f793e27fbfc"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_63de3a22_80dd_bdbe_bc85_900e651aeddb","uuid":"d188418b-0975-4e36-bf99-05bbd4518859"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Substrate_63de3a22_80dd_bdbe_bc85_900e651aeddb"},{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareSlave","uuid":"58324931-231d-625a-e600-0b039c122559"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"15e43c56-b9bb-4c6a-a1d0-181bfab96167","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"1ee40052_deployment_cloned_0","uuid":"8013c2c1-3849-9d59-b051-4984cf51ae6d"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_58324931_231d_625a_e600_0b039c122559","uuid":"1dae1340-019f-4c7e-b934-94f1a57cb965"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Substrate_58324931_231d_625a_e600_0b039c122559"}],"description":"","message_list":[],"uuid":"2dd198c0-4bdd-4642-bc43-fe1538e9f6d7","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_0dc8e7fe_1688_9772_3d28_902f381fb25a","uuid":"364f3c0f-02ab-496f-b5b3-3168bf82d463"},"name":"SYS_GEN__Runbook_Application_0dc8e7fe_1688_9772_3d28_902f381fb25a"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"7b6a07da-c0d7-4fdd-8889-c5410f67460f","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"VMware","uuid":"0dc8e7fe-1688-9772-3d28-902f381fb25a"},"retries":"0","description":"","type":"DAG","uuid":"c2dc6937-a74a-4888-8d11-5b5decac0a78","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"e0818173-651c-4fc5-ab3c-b5b6ec63411f"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"a0d27a13-b5d1-4340-a7a1-4a51971052a7"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"0a005b5b-da0c-4866-af62-a3bce8b7bd14"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_15327eeb_b1a1_df5c_d65a_a4d9c6e94cc8","uuid":"475f015b-4822-4fdd-9b9e-1c86967c156c"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"da1054c2-fda0-445b-89b9-63809cb828b5"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_58324931_231d_625a_e600_0b039c122559","uuid":"c659dad0-1f15-4d0e-88b7-1d300eb01545"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_b7514626_0d97_b967_daee_aa861e7d64e9","uuid":"f8345fe3-28df-4a3e-be7e-4a7cb52b237d"},{"kind":"app_task","name":"SYS_GEN__DE_Delete_8013c2c1_3849_9d59_b051_4984cf51ae6d","uuid":"b8f0d25c-1708-4d22-83cb-14ba3a28338d"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_63de3a22_80dd_bdbe_bc85_900e651aeddb","uuid":"08058660-f26f-4428-99b1-2ab4ae347621"},{"kind":"app_task","name":"SYS_GEN__DE_Delete_3595c4e3_1ce0_55b3_018e_7f793e27fbfc","uuid":"f796cc4d-583c-4873-916b-0fa300b76d2b"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"e0818173-651c-4fc5-ab3c-b5b6ec63411f"},"edge_type":"inherent","type":"","uuid":"bfb49546-38e8-48b3-86d8-6ead6a5b9689","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"a0d27a13-b5d1-4340-a7a1-4a51971052a7"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"a0d27a13-b5d1-4340-a7a1-4a51971052a7"},"edge_type":"inherent","type":"","uuid":"f11df1fd-a31b-4341-a8bb-dc3ae3ff1923","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_15327eeb_b1a1_df5c_d65a_a4d9c6e94cc8","uuid":"475f015b-4822-4fdd-9b9e-1c86967c156c"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_58324931_231d_625a_e600_0b039c122559","uuid":"c659dad0-1f15-4d0e-88b7-1d300eb01545"},"edge_type":"inherent","type":"","uuid":"b7bbe0ca-36a5-4d66-93d8-622cf3f5b773","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Delete_8013c2c1_3849_9d59_b051_4984cf51ae6d","uuid":"b8f0d25c-1708-4d22-83cb-14ba3a28338d"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_15327eeb_b1a1_df5c_d65a_a4d9c6e94cc8","uuid":"475f015b-4822-4fdd-9b9e-1c86967c156c"},"edge_type":"inherent","type":"","uuid":"b04ae097-e47a-44e0-85d6-ab21f00c603f","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_58324931_231d_625a_e600_0b039c122559","uuid":"c659dad0-1f15-4d0e-88b7-1d300eb01545"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"0a005b5b-da0c-4866-af62-a3bce8b7bd14"},"edge_type":"inherent","type":"","uuid":"1ae0c776-0423-47be-b185-809d9d7d08f5","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"da1054c2-fda0-445b-89b9-63809cb828b5"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"da1054c2-fda0-445b-89b9-63809cb828b5"},"edge_type":"inherent","type":"","uuid":"26c37743-4eda-40a5-a672-53b4aa86fd1c","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_b7514626_0d97_b967_daee_aa861e7d64e9","uuid":"f8345fe3-28df-4a3e-be7e-4a7cb52b237d"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_b7514626_0d97_b967_daee_aa861e7d64e9","uuid":"f8345fe3-28df-4a3e-be7e-4a7cb52b237d"},"edge_type":"inherent","type":"","uuid":"79d5f8e5-1e7d-456f-8709-5f013846b44e","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_63de3a22_80dd_bdbe_bc85_900e651aeddb","uuid":"08058660-f26f-4428-99b1-2ab4ae347621"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_63de3a22_80dd_bdbe_bc85_900e651aeddb","uuid":"08058660-f26f-4428-99b1-2ab4ae347621"},"edge_type":"inherent","type":"","uuid":"78577a81-7ceb-475d-a781-b3c530552f10","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Delete_3595c4e3_1ce0_55b3_018e_7f793e27fbfc","uuid":"f796cc4d-583c-4873-916b-0fa300b76d2b"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"a0d27a13-b5d1-4340-a7a1-4a51971052a7"},"edge_type":"depends_on","type":"","uuid":"f6249998-e590-4f23-ba08-fa9dd80e42bc","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"0a005b5b-da0c-4866-af62-a3bce8b7bd14"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"a0d27a13-b5d1-4340-a7a1-4a51971052a7"},"edge_type":"create_action_edge","type":"","uuid":"924b0260-4294-44da-8035-217fce726d59","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_63de3a22_80dd_bdbe_bc85_900e651aeddb","uuid":"08058660-f26f-4428-99b1-2ab4ae347621"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"da1054c2-fda0-445b-89b9-63809cb828b5"},"edge_type":"create_action_edge","type":"","uuid":"453c0113-2441-46ce-9282-2e2be4498f90","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_58324931_231d_625a_e600_0b039c122559","uuid":"c659dad0-1f15-4d0e-88b7-1d300eb01545"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_0dc8e7fe_1688_9772_3d28_902f381fb25a"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"e0818173-651c-4fc5-ab3c-b5b6ec63411f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"1ee40052_deployment_cloned_0","uuid":"8013c2c1-3849-9d59-b051-4984cf51ae6d"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0e2bd4c9_runbook","uuid":"8e29699f-df44-4802-8ae9-689322c6575c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"a0d27a13-b5d1-4340-a7a1-4a51971052a7","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"1ee40052_deployment_cloned_0","uuid":"8013c2c1-3849-9d59-b051-4984cf51ae6d"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"08946714_runbook","uuid":"005a7fbe-7426-4c75-aa02-8ca0b1db5dbb"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"0a005b5b-da0c-4866-af62-a3bce8b7bd14","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"8948778d_deployment_cloned_0","uuid":"3595c4e3-1ce0-55b3-018e-7f793e27fbfc"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"deb1443a_runbook","uuid":"86288a79-ba17-4500-a81a-1ed2afb6b9b8"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90"},{"target_any_local_reference":{"kind":"app_package","name":"VMwareSlavePackage","uuid":"15327eeb-b1a1-df5c-d65a-a4d9c6e94cc8"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"475f015b-4822-4fdd-9b9e-1c86967c156c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"1ee40052_deployment_cloned_0","uuid":"8013c2c1-3849-9d59-b051-4984cf51ae6d"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_15327eeb_b1a1_df5c_d65a_a4d9c6e94cc8","uuid":"e19d51d9-ae6e-48f1-af12-c4fd5e30158b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_15327eeb_b1a1_df5c_d65a_a4d9c6e94cc8"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"da1054c2-fda0-445b-89b9-63809cb828b5","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"8948778d_deployment_cloned_0","uuid":"3595c4e3-1ce0-55b3-018e-7f793e27fbfc"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"8ad650b2_runbook","uuid":"f31a5f00-62ad-4b57-8fbf-cd1f020f2bfc"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90"},{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareSlave","uuid":"58324931-231d-625a-e600-0b039c122559"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"c659dad0-1f15-4d0e-88b7-1d300eb01545","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"1ee40052_deployment_cloned_0","uuid":"8013c2c1-3849-9d59-b051-4984cf51ae6d"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_58324931_231d_625a_e600_0b039c122559","uuid":"995dd411-3bc4-4d96-8ec0-21d212037420"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Substrate_58324931_231d_625a_e600_0b039c122559"},{"target_any_local_reference":{"kind":"app_package","name":"VMwareMasterPackage","uuid":"b7514626-0d97-b967-daee-aa861e7d64e9"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"f8345fe3-28df-4a3e-be7e-4a7cb52b237d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"8948778d_deployment_cloned_0","uuid":"3595c4e3-1ce0-55b3-018e-7f793e27fbfc"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_b7514626_0d97_b967_daee_aa861e7d64e9","uuid":"38b4801b-a2fb-4e32-a228-d98320060626"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_b7514626_0d97_b967_daee_aa861e7d64e9"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"1ee40052_deployment_cloned_0","uuid":"8013c2c1-3849-9d59-b051-4984cf51ae6d"},"retries":"0","description":"","type":"DELETE_DEPLOYMENT_ELEMENT","uuid":"b8f0d25c-1708-4d22-83cb-14ba3a28338d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Delete_8013c2c1_3849_9d59_b051_4984cf51ae6d"},{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareMaster","uuid":"63de3a22-80dd-bdbe-bc85-900e651aeddb"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"08058660-f26f-4428-99b1-2ab4ae347621","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"8948778d_deployment_cloned_0","uuid":"3595c4e3-1ce0-55b3-018e-7f793e27fbfc"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_63de3a22_80dd_bdbe_bc85_900e651aeddb","uuid":"71e9bb09-2b57-4a52-b3ea-a00f0af27bbe"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Substrate_63de3a22_80dd_bdbe_bc85_900e651aeddb"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"8948778d_deployment_cloned_0","uuid":"3595c4e3-1ce0-55b3-018e-7f793e27fbfc"},"retries":"0","description":"","type":"DELETE_DEPLOYMENT_ELEMENT","uuid":"f796cc4d-583c-4873-916b-0fa300b76d2b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Delete_3595c4e3_1ce0_55b3_018e_7f793e27fbfc"}],"description":"","message_list":[],"uuid":"d78dcd91-d670-42df-810e-29bb775af14f","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_0dc8e7fe_1688_9772_3d28_902f381fb25a","uuid":"c2dc6937-a74a-4888-8d11-5b5decac0a78"},"name":"SYS_GEN__Runbook_Application_0dc8e7fe_1688_9772_3d28_902f381fb25a"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"4e8118ed-b38e-4d5f-af04-93af5e1cedf2","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"VMware","uuid":"0dc8e7fe-1688-9772-3d28-902f381fb25a"},"retries":"0","description":"","type":"DAG","uuid":"02506267-30bc-4342-a21f-c58be0092be2","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"1526312d-2481-4aa6-90da-81a1adca0bd9"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"56db0ba0-7832-45e9-beb7-36d4946f20e5"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_15327eeb_b1a1_df5c_d65a_a4d9c6e94cc8","uuid":"ef61be43-f48b-4957-b517-42a4aac2a910"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_b7514626_0d97_b967_daee_aa861e7d64e9","uuid":"4860924c-aeef-46c7-8f9d-8b97601f1687"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_58324931_231d_625a_e600_0b039c122559","uuid":"cfa6983c-5c65-4e59-b9c9-900b8158404d"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_63de3a22_80dd_bdbe_bc85_900e651aeddb","uuid":"8821a9e3-d048-4de6-a693-e675da181418"},{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_8013c2c1_3849_9d59_b051_4984cf51ae6d","uuid":"30748091-55bc-4456-be70-d2d2bb124d29"},{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_3595c4e3_1ce0_55b3_018e_7f793e27fbfc","uuid":"071d50ae-bc41-4d1b-b7d6-cb269e2385ed"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"1526312d-2481-4aa6-90da-81a1adca0bd9"},"edge_type":"inherent","type":"","uuid":"2f648c3e-12f1-4c82-9765-93c4c44b037c","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_15327eeb_b1a1_df5c_d65a_a4d9c6e94cc8","uuid":"ef61be43-f48b-4957-b517-42a4aac2a910"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_15327eeb_b1a1_df5c_d65a_a4d9c6e94cc8","uuid":"ef61be43-f48b-4957-b517-42a4aac2a910"},"edge_type":"inherent","type":"","uuid":"2fb6525d-cd5b-4cbd-a8dc-f79e9fa59183","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_58324931_231d_625a_e600_0b039c122559","uuid":"cfa6983c-5c65-4e59-b9c9-900b8158404d"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_58324931_231d_625a_e600_0b039c122559","uuid":"cfa6983c-5c65-4e59-b9c9-900b8158404d"},"edge_type":"inherent","type":"","uuid":"7a6ae3d1-c16a-4d98-a36a-7b8acec1815e","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_8013c2c1_3849_9d59_b051_4984cf51ae6d","uuid":"30748091-55bc-4456-be70-d2d2bb124d29"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"56db0ba0-7832-45e9-beb7-36d4946f20e5"},"edge_type":"inherent","type":"","uuid":"04584997-939f-4407-8915-69827cddae21","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_b7514626_0d97_b967_daee_aa861e7d64e9","uuid":"4860924c-aeef-46c7-8f9d-8b97601f1687"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_63de3a22_80dd_bdbe_bc85_900e651aeddb","uuid":"8821a9e3-d048-4de6-a693-e675da181418"},"edge_type":"inherent","type":"","uuid":"c940a919-490d-434f-af3d-526351086ee8","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_3595c4e3_1ce0_55b3_018e_7f793e27fbfc","uuid":"071d50ae-bc41-4d1b-b7d6-cb269e2385ed"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_b7514626_0d97_b967_daee_aa861e7d64e9","uuid":"4860924c-aeef-46c7-8f9d-8b97601f1687"},"edge_type":"inherent","type":"","uuid":"9de2db69-043f-4539-9b66-efffaaa23fbe","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_63de3a22_80dd_bdbe_bc85_900e651aeddb","uuid":"8821a9e3-d048-4de6-a693-e675da181418"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"1526312d-2481-4aa6-90da-81a1adca0bd9"},"edge_type":"depends_on","type":"","uuid":"3595f87f-065b-4be0-8c50-1f9c5fa112de","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"56db0ba0-7832-45e9-beb7-36d4946f20e5"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"1526312d-2481-4aa6-90da-81a1adca0bd9"},"edge_type":"create_action_edge","type":"","uuid":"501a3e96-ed8a-4c20-9402-48ce879cadb2","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_63de3a22_80dd_bdbe_bc85_900e651aeddb","uuid":"8821a9e3-d048-4de6-a693-e675da181418"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"56db0ba0-7832-45e9-beb7-36d4946f20e5"},"edge_type":"create_action_edge","type":"","uuid":"ec225439-9e8f-435a-b12e-4d1ca21b59a9","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_58324931_231d_625a_e600_0b039c122559","uuid":"cfa6983c-5c65-4e59-b9c9-900b8158404d"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_0dc8e7fe_1688_9772_3d28_902f381fb25a"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"1526312d-2481-4aa6-90da-81a1adca0bd9","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"1ee40052_deployment_cloned_0","uuid":"8013c2c1-3849-9d59-b051-4984cf51ae6d"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"febe47f3-782b-40c3-abcb-ce825626516f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"56db0ba0-7832-45e9-beb7-36d4946f20e5","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"8948778d_deployment_cloned_0","uuid":"3595c4e3-1ce0-55b3-018e-7f793e27fbfc"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"92ba2635-e9da-48a5-8b58-7a4b4a61ffdf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90"},{"target_any_local_reference":{"kind":"app_package","name":"VMwareSlavePackage","uuid":"15327eeb-b1a1-df5c-d65a-a4d9c6e94cc8"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"ef61be43-f48b-4957-b517-42a4aac2a910","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_15327eeb_b1a1_df5c_d65a_a4d9c6e94cc8"},{"target_any_local_reference":{"kind":"app_package","name":"VMwareMasterPackage","uuid":"b7514626-0d97-b967-daee-aa861e7d64e9"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"4860924c-aeef-46c7-8f9d-8b97601f1687","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_b7514626_0d97_b967_daee_aa861e7d64e9"},{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareSlave","uuid":"58324931-231d-625a-e600-0b039c122559"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"cfa6983c-5c65-4e59-b9c9-900b8158404d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"1ee40052_deployment_cloned_0","uuid":"8013c2c1-3849-9d59-b051-4984cf51ae6d"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_58324931_231d_625a_e600_0b039c122559","uuid":"fc8098d5-29a6-4474-861d-b5d7c838494c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Substrate_58324931_231d_625a_e600_0b039c122559"},{"target_any_local_reference":{"kind":"app_substrate","name":"VMwareMaster","uuid":"63de3a22-80dd-bdbe-bc85-900e651aeddb"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"8821a9e3-d048-4de6-a693-e675da181418","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"8948778d_deployment_cloned_0","uuid":"3595c4e3-1ce0-55b3-018e-7f793e27fbfc"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_63de3a22_80dd_bdbe_bc85_900e651aeddb","uuid":"387d4354-c71f-44dc-8f67-4bbdf63c7e15"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Substrate_63de3a22_80dd_bdbe_bc85_900e651aeddb"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"1ee40052_deployment_cloned_0","uuid":"8013c2c1-3849-9d59-b051-4984cf51ae6d"},"retries":"0","description":"","type":"SOFT_DELETE_DEPLOYMENT_ELEMENT","uuid":"30748091-55bc-4456-be70-d2d2bb124d29","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Soft_Delete_8013c2c1_3849_9d59_b051_4984cf51ae6d"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"8948778d_deployment_cloned_0","uuid":"3595c4e3-1ce0-55b3-018e-7f793e27fbfc"},"retries":"0","description":"","type":"SOFT_DELETE_DEPLOYMENT_ELEMENT","uuid":"071d50ae-bc41-4d1b-b7d6-cb269e2385ed","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Soft_Delete_3595c4e3_1ce0_55b3_018e_7f793e27fbfc"}],"description":"","message_list":[],"uuid":"ad39d4f4-3ec2-41fa-a378-2da6d1ca07b7","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_0dc8e7fe_1688_9772_3d28_902f381fb25a","uuid":"02506267-30bc-4342-a21f-c58be0092be2"},"name":"SYS_GEN__Runbook_Application_0dc8e7fe_1688_9772_3d28_902f381fb25a"}}],"message_list":[],"uuid":"0dc8e7fe-1688-9772-3d28-902f381fb25a","state":"ACTIVE","dependency_list":[{"getter_resource_kind":"ServiceCfg","setter_resource_attr":"address","setter_resource_kind":"SubstrateCfg","setter_resource_name":"VMwareMaster","action_name":"action_create","action_resource_name":"VMware","getter_resource_name":"Postgres_Slave","action_resource_kind":"ApplicationCfg"},{"getter_resource_kind":"ServiceCfg","setter_resource_attr":"address","setter_resource_kind":"SubstrateCfg","setter_resource_name":"VMwareSlave","action_name":"action_create","action_resource_name":"VMware","getter_resource_name":"Postgres_Master","action_resource_kind":"ApplicationCfg"}],"variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"b401b902-a6e2-3564-d137-b2905f51831c","value":"VMWARE","label":"","state":"ACTIVE","attrs":{"type":""},"editables":{},"is_hidden":false,"type":"LOCAL","options":{},"name":"PROFILE"},{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"bbe27175-383b-8d17-0368-e40136970a13","value":"","label":"","state":"ACTIVE","attrs":{"is_secret_modified":false,"secret_reference":{"uuid":"9d8c6d39-7489-41af-9c5e-d0b9710e580a"},"type":""},"editables":{"value":true},"is_hidden":false,"type":"SECRET","options":{},"name":"DB_PASSWORD"}],"name":"VMware"}],"published_service_definition_list":[],"default_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"},"package_definition_list":[{"description":"","action_list":[{"description":"System action for installing an application","message_list":[],"uuid":"9e995bcf-754f-4f59-b7ac-b6ac169eea0f","name":"action_install","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVMasterPackage","uuid":"bc0a0971-6f55-42be-87e4-da9d29132d7f"},"retries":"0","description":"","type":"DAG","uuid":"873cb4a6-458c-4ee2-870a-afe3edf1da80","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Install_Crb_bc0a0971_6f55_42be_87e4_da9d29132d7f","uuid":"830d2dc1-c1eb-43b3-bfc9-f94b0e153e3f"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Package_bc0a0971_6f55_42be_87e4_da9d29132d7f"},{"target_any_local_reference":{"kind":"app_package","name":"AHVMasterPackage","uuid":"bc0a0971-6f55-42be-87e4-da9d29132d7f"},"retries":"0","description":"","type":"CUSTOM_PACKAGE_INSTALL","uuid":"830d2dc1-c1eb-43b3-bfc9-f94b0e153e3f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVMasterPackage","uuid":"bc0a0971-6f55-42be-87e4-da9d29132d7f"},"retries":"0","description":"","type":"DAG","uuid":"00e724ec-6fce-463e-9446-5074a816b93f","child_tasks_local_reference_list":[{"kind":"app_task","name":"Install System Packages","uuid":"3a787f69-3686-45f3-802e-e661507bef51"},{"kind":"app_task","name":"Create Disk Setup","uuid":"3a09eedf-5c29-4a3e-9eaa-287378989086"},{"kind":"app_task","name":"Install Postgres","uuid":"ef0dc7ac-a8ef-4147-8877-f1c0728f004d"},{"kind":"app_task","name":"Setup Postgres","uuid":"d541ab4f-8c0d-474f-9bc0-63eea5a9ccc6"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Install System Packages","uuid":"3a787f69-3686-45f3-802e-e661507bef51"},"edge_type":"user_defined","type":"","uuid":"015a437e-097f-402b-b07e-a79d507dd887","to_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"3a09eedf-5c29-4a3e-9eaa-287378989086"}},{"from_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"3a09eedf-5c29-4a3e-9eaa-287378989086"},"edge_type":"user_defined","type":"","uuid":"f1ea25aa-22e8-436b-8e08-b717d4090f47","to_task_reference":{"kind":"app_task","name":"Install Postgres","uuid":"ef0dc7ac-a8ef-4147-8877-f1c0728f004d"}},{"from_task_reference":{"kind":"app_task","name":"Install Postgres","uuid":"ef0dc7ac-a8ef-4147-8877-f1c0728f004d"},"edge_type":"user_defined","type":"","uuid":"a21d4d2e-b63f-467f-844a-f5543327c013","to_task_reference":{"kind":"app_task","name":"Setup Postgres","uuid":"d541ab4f-8c0d-474f-9bc0-63eea5a9ccc6"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"3b8ed3d2_dag"},{"target_any_local_reference":{"kind":"app_package","name":"AHVMasterPackage","uuid":"bc0a0971-6f55-42be-87e4-da9d29132d7f"},"retries":"0","description":"","type":"EXEC","uuid":"3a787f69-3686-45f3-802e-e661507bef51","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\nsudo yum -y upgrade\nsudo curl -O http:\/\/dl.fedoraproject.org\/pub\/epel\/7\/x86_64\/e\/epel-release-7-10.noarch.rpm\nsudo rpm --import https:\/\/www.elrepo.org\/RPM-GPG-KEY-elrepo.org\nsudo rpm -Uvh http:\/\/www.elrepo.org\/elrepo-release-7.0-3.el7.elrepo.noarch.rpm \nsudo rpm -ihv epel-release-7-10.noarch.rpm \n\nsudo yum update -y\nsudo yum -y install htop wget iotop xfs* bc unzip lvm2*\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"System packages are installed\"\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install System Packages"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"EXEC","uuid":"3a09eedf-5c29-4a3e-9eaa-287378989086","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n##############\n#\n# LVM setup script for PostgreSQL . 4 disks for DATA and 2 for logs\n# Data disks are 60GB | Log disks are 20GB \n#\n#############\n\n\n#PGSQL data\nsudo pvcreate \/dev\/sdb \/dev\/sdc \/dev\/sdd \/dev\/sde\nsudo vgcreate pgDataVG \/dev\/sdb \/dev\/sdd \/dev\/sdc \/dev\/sde\nsudo lvcreate -l 100%FREE -i4 -I1M -n pgDataLV pgDataVG          ## Use 1MB to avoid IO amplification \n#lvcreate -l 100%FREE -i4 -I4M -n pgDataLV pgDataVG\n\n\n#PGSQL logs\nsudo pvcreate \/dev\/sdf \/dev\/sdg \nsudo vgcreate pgLogVG \/dev\/sdf \/dev\/sdg\nsudo lvcreate -l 100%FREE -i2 -I1M -n pgLogLV pgLogVG            ## Use 1MB to avoid IO amplification\n#lvcreate -l 100%FREE -i2 -I4M -n pgLogLV pgLogVG\n\n\n#Disable LVM read ahead\nsudo lvchange -r 0 \/dev\/pgDataVG\/pgDataLV\nsudo lvchange -r 0 \/dev\/pgLogVG\/pgLogLV\n\n\n#Format LVMs with ext4 and use nodiscard to make sure format time is fast on Nutanix due to SCSI unmap\nsudo mkfs.ext4 -E nodiscard \/dev\/pgDataVG\/pgDataLV\nsudo mkfs.ext4 -E nodiscard \/dev\/pgLogVG\/pgLogLV\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Create Disk Setup"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"EXEC","uuid":"ef0dc7ac-a8ef-4147-8877-f1c0728f004d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\nsudo wget -c https:\/\/download.postgresql.org\/pub\/repos\/yum\/9.6\/redhat\/rhel-7-x86_64\/pgdg-centos96-9.6-3.noarch.rpm\nsudo yum -y install pgdg-centos96-9.6-3.noarch.rpm\nsudo rpm --import http:\/\/packages.2ndquadrant.com\/repmgr\/RPM-GPG-KEY-repmgr\nsudo yum install -y http:\/\/packages.2ndquadrant.com\/repmgr\/yum-repo-rpms\/repmgr-rhel-1.0-1.noarch.rpm\n\n# Install PostgreSQL\nsudo yum -y install postgresql96 postgresql96-contrib postgresql96-server postgresql96-devel postgresql96-plpython\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install Postgres"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"EXEC","uuid":"d541ab4f-8c0d-474f-9bc0-63eea5a9ccc6","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\n#run initdb\nsudo \/usr\/pgsql-9.6\/bin\/postgresql96-setup initdb\n\n#start and stop postgresql to make sure DB creates the required directories\nsudo systemctl start postgresql-9.6.service\nsudo systemctl stop postgresql-9.6.service\n\n##copy the created postgres directory to a temp directory\n\nsudo mkdir \/tmp\/pgsql\n\nsudo mv \/var\/lib\/pgsql\/9.6\/data \/tmp\/pgsql\n\n#Create directory , fix permissions and Mount LVM\nsudo mkdir \/var\/lib\/pgsql\/9.6\/data\/\nsudo mount -o noatime,barrier=0 \/dev\/pgDataVG\/pgDataLV \/var\/lib\/pgsql\/9.6\/data\/ \n\nsudo mkdir \/var\/lib\/pgsql\/9.6\/data\/pg_xlog\nsudo mount -o noatime,barrier=0 \/dev\/pgLogVG\/pgLogLV \/var\/lib\/pgsql\/9.6\/data\/pg_xlog\n\nsudo chown -R postgres:postgres \/var\/lib\/pgsql\/9.6\/data\/\n\n#move the xlog to the new LVM\nsudo find \/tmp\/pgsql\/data\/pg_xlog -maxdepth 1 -mindepth 1 -exec mv -t \/var\/lib\/pgsql\/9.6\/data\/pg_xlog\/ {} +\n\n#remove pg_xlog from temp dir to avoid being copied again\nsudo rm -rf \/tmp\/pgsql\/data\/pg_xlog\n\n#move the pgsql directory to the LVM\nsudo find \/tmp\/pgsql\/data -maxdepth 1 -mindepth 1 -exec mv -t \/var\/lib\/pgsql\/9.6\/data\/ {} +\n\nsudo chmod -R 0700 \/var\/lib\/pgsql\/9.6\/data\n\n#enable service on boot\nsudo systemctl enable postgresql-9.6.service\n\n#add mount points to \/etc\/fstab\necho \"\/dev\/mapper\/pgDataVG-pgDataLV \/var\/lib\/pgsql\/9.6\/data ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\necho \"\/dev\/mapper\/pgLogVG-pgLogLV \/var\/lib\/pgsql\/9.6\/data\/pg_xlog ext4 rw,seclabel,noatime,nobarrier,stripe=2048,data=ordered 0 0\" | sudo tee -a  \/etc\/fstab\n\n\nsudo systemctl status postgresql-9.6\nsudo systemctl restart postgresql-9.6\nsudo systemctl status postgresql-9.6\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Setup Postgres"}],"description":"","message_list":[],"uuid":"93df7bf3-f59b-4ed4-a020-55fa0a47f921","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"3b8ed3d2_dag","uuid":"00e724ec-6fce-463e-9446-5074a816b93f"},"name":"ed3d1488_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVMasterPackage","uuid":"bc0a0971-6f55-42be-87e4-da9d29132d7f"},"retries":"0","description":"","type":"DAG","uuid":"17a6287c-0d7b-46c1-af71-f8f1e68c4aac","child_tasks_local_reference_list":[{"kind":"app_task","name":"PackageUninstallTask","uuid":"97fa496c-9ed2-4cc0-b7fa-649995accd0a"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"ef748d77_dag"},{"target_any_local_reference":{"kind":"app_package","name":"AHVMasterPackage","uuid":"bc0a0971-6f55-42be-87e4-da9d29132d7f"},"retries":"0","description":"","type":"EXEC","uuid":"97fa496c-9ed2-4cc0-b7fa-649995accd0a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"PackageUninstallTask"}],"description":"","message_list":[],"uuid":"2e34a8a2-93db-4ccf-bdde-5315ff368bd4","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"ef748d77_dag","uuid":"17a6287c-0d7b-46c1-af71-f8f1e68c4aac"},"name":"e7b91ba0_runbook"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Install_Crb_bc0a0971_6f55_42be_87e4_da9d29132d7f"}],"description":"","message_list":[],"uuid":"e4bacc92-937e-4092-b5a2-254ec7fe4c60","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Package_bc0a0971_6f55_42be_87e4_da9d29132d7f","uuid":"873cb4a6-458c-4ee2-870a-afe3edf1da80"},"name":"SYS_GEN__Runbook_Package_bc0a0971_6f55_42be_87e4_da9d29132d7f"}},{"description":"System action for creating an application","message_list":[],"uuid":"2178d214-5b67-424e-a536-28a628a602f8","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVMasterPackage","uuid":"bc0a0971-6f55-42be-87e4-da9d29132d7f"},"retries":"0","description":"","type":"DAG","uuid":"bed9d20f-f1b0-4656-bbef-fbb8d35a4c80","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_bc0a0971_6f55_42be_87e4_da9d29132d7f","uuid":"90790fa8-4d53-46aa-8002-48ef5b7fd000"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"e36855c6-3838-4255-ad60-bec8346b9a0d"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"b60540d6-88cf-409e-93ce-337298e2be65"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"e36855c6-3838-4255-ad60-bec8346b9a0d"},"edge_type":"inherent","type":"","uuid":"d380021b-5270-4e78-83e8-5f3c33487e8b","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"b60540d6-88cf-409e-93ce-337298e2be65"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_bc0a0971_6f55_42be_87e4_da9d29132d7f","uuid":"90790fa8-4d53-46aa-8002-48ef5b7fd000"},"edge_type":"inherent","type":"","uuid":"aff9bfd5-6225-4245-ab2e-39f661569ab2","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"e36855c6-3838-4255-ad60-bec8346b9a0d"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_bc0a0971_6f55_42be_87e4_da9d29132d7f"},{"target_any_local_reference":{"kind":"app_package","name":"AHVMasterPackage","uuid":"bc0a0971-6f55-42be-87e4-da9d29132d7f"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"90790fa8-4d53-46aa-8002-48ef5b7fd000","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_bc0a0971_6f55_42be_87e4_da9d29132d7f","uuid":"e4bacc92-937e-4092-b5a2-254ec7fe4c60"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_bc0a0971_6f55_42be_87e4_da9d29132d7f"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"e36855c6-3838-4255-ad60-bec8346b9a0d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"c528d489_runbook","uuid":"a5cf54be-5eb3-4cbb-8cbf-c295bbc3af83"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"b60540d6-88cf-409e-93ce-337298e2be65","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"c02553e2_runbook","uuid":"81959707-f27f-4259-a9b6-d4f736a28f5c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90"}],"description":"","message_list":[],"uuid":"361c2e43-5f20-4d31-b9ae-3eb538fb2837","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_bc0a0971_6f55_42be_87e4_da9d29132d7f","uuid":"bed9d20f-f1b0-4656-bbef-fbb8d35a4c80"},"name":"SYS_GEN__Runbook_Package_bc0a0971_6f55_42be_87e4_da9d29132d7f"}},{"description":"System action for uninstalling an application","message_list":[],"uuid":"109924c0-40aa-47b6-b2f5-d5b9bbb51957","name":"action_uninstall","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVMasterPackage","uuid":"bc0a0971-6f55-42be-87e4-da9d29132d7f"},"retries":"0","description":"","type":"DAG","uuid":"27d62e2c-1a57-4538-8bfe-e2862580cb94","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Uninstall_Crb_bc0a0971_6f55_42be_87e4_da9d29132d7f","uuid":"788898eb-6b5b-4a2f-a052-6b74e7533205"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Package_bc0a0971_6f55_42be_87e4_da9d29132d7f"},{"target_any_local_reference":{"kind":"app_package","name":"AHVMasterPackage","uuid":"bc0a0971-6f55-42be-87e4-da9d29132d7f"},"retries":"0","description":"","type":"CUSTOM_PACKAGE_UNINSTALL","uuid":"788898eb-6b5b-4a2f-a052-6b74e7533205","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVMasterPackage","uuid":"bc0a0971-6f55-42be-87e4-da9d29132d7f"},"retries":"0","description":"","type":"DAG","uuid":"00e724ec-6fce-463e-9446-5074a816b93f","child_tasks_local_reference_list":[{"kind":"app_task","name":"Install System Packages","uuid":"3a787f69-3686-45f3-802e-e661507bef51"},{"kind":"app_task","name":"Create Disk Setup","uuid":"3a09eedf-5c29-4a3e-9eaa-287378989086"},{"kind":"app_task","name":"Install Postgres","uuid":"ef0dc7ac-a8ef-4147-8877-f1c0728f004d"},{"kind":"app_task","name":"Setup Postgres","uuid":"d541ab4f-8c0d-474f-9bc0-63eea5a9ccc6"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Install System Packages","uuid":"3a787f69-3686-45f3-802e-e661507bef51"},"edge_type":"user_defined","type":"","uuid":"015a437e-097f-402b-b07e-a79d507dd887","to_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"3a09eedf-5c29-4a3e-9eaa-287378989086"}},{"from_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"3a09eedf-5c29-4a3e-9eaa-287378989086"},"edge_type":"user_defined","type":"","uuid":"f1ea25aa-22e8-436b-8e08-b717d4090f47","to_task_reference":{"kind":"app_task","name":"Install Postgres","uuid":"ef0dc7ac-a8ef-4147-8877-f1c0728f004d"}},{"from_task_reference":{"kind":"app_task","name":"Install Postgres","uuid":"ef0dc7ac-a8ef-4147-8877-f1c0728f004d"},"edge_type":"user_defined","type":"","uuid":"a21d4d2e-b63f-467f-844a-f5543327c013","to_task_reference":{"kind":"app_task","name":"Setup Postgres","uuid":"d541ab4f-8c0d-474f-9bc0-63eea5a9ccc6"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"3b8ed3d2_dag"},{"target_any_local_reference":{"kind":"app_package","name":"AHVMasterPackage","uuid":"bc0a0971-6f55-42be-87e4-da9d29132d7f"},"retries":"0","description":"","type":"EXEC","uuid":"3a787f69-3686-45f3-802e-e661507bef51","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\nsudo yum -y upgrade\nsudo curl -O http:\/\/dl.fedoraproject.org\/pub\/epel\/7\/x86_64\/e\/epel-release-7-10.noarch.rpm\nsudo rpm --import https:\/\/www.elrepo.org\/RPM-GPG-KEY-elrepo.org\nsudo rpm -Uvh http:\/\/www.elrepo.org\/elrepo-release-7.0-3.el7.elrepo.noarch.rpm \nsudo rpm -ihv epel-release-7-10.noarch.rpm \n\nsudo yum update -y\nsudo yum -y install htop wget iotop xfs* bc unzip lvm2*\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"System packages are installed\"\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install System Packages"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"EXEC","uuid":"3a09eedf-5c29-4a3e-9eaa-287378989086","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n##############\n#\n# LVM setup script for PostgreSQL . 4 disks for DATA and 2 for logs\n# Data disks are 60GB | Log disks are 20GB \n#\n#############\n\n\n#PGSQL data\nsudo pvcreate \/dev\/sdb \/dev\/sdc \/dev\/sdd \/dev\/sde\nsudo vgcreate pgDataVG \/dev\/sdb \/dev\/sdd \/dev\/sdc \/dev\/sde\nsudo lvcreate -l 100%FREE -i4 -I1M -n pgDataLV pgDataVG          ## Use 1MB to avoid IO amplification \n#lvcreate -l 100%FREE -i4 -I4M -n pgDataLV pgDataVG\n\n\n#PGSQL logs\nsudo pvcreate \/dev\/sdf \/dev\/sdg \nsudo vgcreate pgLogVG \/dev\/sdf \/dev\/sdg\nsudo lvcreate -l 100%FREE -i2 -I1M -n pgLogLV pgLogVG            ## Use 1MB to avoid IO amplification\n#lvcreate -l 100%FREE -i2 -I4M -n pgLogLV pgLogVG\n\n\n#Disable LVM read ahead\nsudo lvchange -r 0 \/dev\/pgDataVG\/pgDataLV\nsudo lvchange -r 0 \/dev\/pgLogVG\/pgLogLV\n\n\n#Format LVMs with ext4 and use nodiscard to make sure format time is fast on Nutanix due to SCSI unmap\nsudo mkfs.ext4 -E nodiscard \/dev\/pgDataVG\/pgDataLV\nsudo mkfs.ext4 -E nodiscard \/dev\/pgLogVG\/pgLogLV\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Create Disk Setup"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"EXEC","uuid":"ef0dc7ac-a8ef-4147-8877-f1c0728f004d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\nsudo wget -c https:\/\/download.postgresql.org\/pub\/repos\/yum\/9.6\/redhat\/rhel-7-x86_64\/pgdg-centos96-9.6-3.noarch.rpm\nsudo yum -y install pgdg-centos96-9.6-3.noarch.rpm\nsudo rpm --import http:\/\/packages.2ndquadrant.com\/repmgr\/RPM-GPG-KEY-repmgr\nsudo yum install -y http:\/\/packages.2ndquadrant.com\/repmgr\/yum-repo-rpms\/repmgr-rhel-1.0-1.noarch.rpm\n\n# Install PostgreSQL\nsudo yum -y install postgresql96 postgresql96-contrib postgresql96-server postgresql96-devel postgresql96-plpython\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install Postgres"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"EXEC","uuid":"d541ab4f-8c0d-474f-9bc0-63eea5a9ccc6","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\n#run initdb\nsudo \/usr\/pgsql-9.6\/bin\/postgresql96-setup initdb\n\n#start and stop postgresql to make sure DB creates the required directories\nsudo systemctl start postgresql-9.6.service\nsudo systemctl stop postgresql-9.6.service\n\n##copy the created postgres directory to a temp directory\n\nsudo mkdir \/tmp\/pgsql\n\nsudo mv \/var\/lib\/pgsql\/9.6\/data \/tmp\/pgsql\n\n#Create directory , fix permissions and Mount LVM\nsudo mkdir \/var\/lib\/pgsql\/9.6\/data\/\nsudo mount -o noatime,barrier=0 \/dev\/pgDataVG\/pgDataLV \/var\/lib\/pgsql\/9.6\/data\/ \n\nsudo mkdir \/var\/lib\/pgsql\/9.6\/data\/pg_xlog\nsudo mount -o noatime,barrier=0 \/dev\/pgLogVG\/pgLogLV \/var\/lib\/pgsql\/9.6\/data\/pg_xlog\n\nsudo chown -R postgres:postgres \/var\/lib\/pgsql\/9.6\/data\/\n\n#move the xlog to the new LVM\nsudo find \/tmp\/pgsql\/data\/pg_xlog -maxdepth 1 -mindepth 1 -exec mv -t \/var\/lib\/pgsql\/9.6\/data\/pg_xlog\/ {} +\n\n#remove pg_xlog from temp dir to avoid being copied again\nsudo rm -rf \/tmp\/pgsql\/data\/pg_xlog\n\n#move the pgsql directory to the LVM\nsudo find \/tmp\/pgsql\/data -maxdepth 1 -mindepth 1 -exec mv -t \/var\/lib\/pgsql\/9.6\/data\/ {} +\n\nsudo chmod -R 0700 \/var\/lib\/pgsql\/9.6\/data\n\n#enable service on boot\nsudo systemctl enable postgresql-9.6.service\n\n#add mount points to \/etc\/fstab\necho \"\/dev\/mapper\/pgDataVG-pgDataLV \/var\/lib\/pgsql\/9.6\/data ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\necho \"\/dev\/mapper\/pgLogVG-pgLogLV \/var\/lib\/pgsql\/9.6\/data\/pg_xlog ext4 rw,seclabel,noatime,nobarrier,stripe=2048,data=ordered 0 0\" | sudo tee -a  \/etc\/fstab\n\n\nsudo systemctl status postgresql-9.6\nsudo systemctl restart postgresql-9.6\nsudo systemctl status postgresql-9.6\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Setup Postgres"}],"description":"","message_list":[],"uuid":"93df7bf3-f59b-4ed4-a020-55fa0a47f921","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"3b8ed3d2_dag","uuid":"00e724ec-6fce-463e-9446-5074a816b93f"},"name":"ed3d1488_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVMasterPackage","uuid":"bc0a0971-6f55-42be-87e4-da9d29132d7f"},"retries":"0","description":"","type":"DAG","uuid":"17a6287c-0d7b-46c1-af71-f8f1e68c4aac","child_tasks_local_reference_list":[{"kind":"app_task","name":"PackageUninstallTask","uuid":"97fa496c-9ed2-4cc0-b7fa-649995accd0a"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"ef748d77_dag"},{"target_any_local_reference":{"kind":"app_package","name":"AHVMasterPackage","uuid":"bc0a0971-6f55-42be-87e4-da9d29132d7f"},"retries":"0","description":"","type":"EXEC","uuid":"97fa496c-9ed2-4cc0-b7fa-649995accd0a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"PackageUninstallTask"}],"description":"","message_list":[],"uuid":"2e34a8a2-93db-4ccf-bdde-5315ff368bd4","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"ef748d77_dag","uuid":"17a6287c-0d7b-46c1-af71-f8f1e68c4aac"},"name":"e7b91ba0_runbook"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Uninstall_Crb_bc0a0971_6f55_42be_87e4_da9d29132d7f"}],"description":"","message_list":[],"uuid":"8435b960-3373-4592-b049-1a956301d301","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Package_bc0a0971_6f55_42be_87e4_da9d29132d7f","uuid":"27d62e2c-1a57-4538-8bfe-e2862580cb94"},"name":"SYS_GEN__Runbook_Package_bc0a0971_6f55_42be_87e4_da9d29132d7f"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"f3a90589-9d88-46fd-b91d-b12e23af7409","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVMasterPackage","uuid":"bc0a0971-6f55-42be-87e4-da9d29132d7f"},"retries":"0","description":"","type":"DAG","uuid":"7c55eaa2-aba2-435b-a409-b5a069c6471c","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"a8db6eaf-866d-46b6-8ebd-b315c83078cd"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"b4350c34-acf4-44a5-9593-cd48d034579c"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_bc0a0971_6f55_42be_87e4_da9d29132d7f","uuid":"94f4fac4-dad3-4377-8ab5-ad3df2b5a205"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"a8db6eaf-866d-46b6-8ebd-b315c83078cd"},"edge_type":"inherent","type":"","uuid":"f6cdc21f-7ca2-499c-8d54-5652d54e79e0","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"b4350c34-acf4-44a5-9593-cd48d034579c"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"b4350c34-acf4-44a5-9593-cd48d034579c"},"edge_type":"inherent","type":"","uuid":"af2acbaf-0e13-40e2-859b-d28db2dddc46","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_bc0a0971_6f55_42be_87e4_da9d29132d7f","uuid":"94f4fac4-dad3-4377-8ab5-ad3df2b5a205"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_bc0a0971_6f55_42be_87e4_da9d29132d7f"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"a8db6eaf-866d-46b6-8ebd-b315c83078cd","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"deb1443a_runbook","uuid":"86288a79-ba17-4500-a81a-1ed2afb6b9b8"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"b4350c34-acf4-44a5-9593-cd48d034579c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"8ad650b2_runbook","uuid":"f31a5f00-62ad-4b57-8fbf-cd1f020f2bfc"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90"},{"target_any_local_reference":{"kind":"app_package","name":"AHVMasterPackage","uuid":"bc0a0971-6f55-42be-87e4-da9d29132d7f"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"94f4fac4-dad3-4377-8ab5-ad3df2b5a205","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_bc0a0971_6f55_42be_87e4_da9d29132d7f","uuid":"8435b960-3373-4592-b049-1a956301d301"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_bc0a0971_6f55_42be_87e4_da9d29132d7f"}],"description":"","message_list":[],"uuid":"50874c62-d5e1-44f1-ba09-64c267dfffb3","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_bc0a0971_6f55_42be_87e4_da9d29132d7f","uuid":"7c55eaa2-aba2-435b-a409-b5a069c6471c"},"name":"SYS_GEN__Runbook_Package_bc0a0971_6f55_42be_87e4_da9d29132d7f"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"b0dbc0ee-e5bb-45c9-9e9d-107e04a3e13b","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVMasterPackage","uuid":"bc0a0971-6f55-42be-87e4-da9d29132d7f"},"retries":"0","description":"","type":"DAG","uuid":"ca68c2a2-5a81-416b-b6e4-5fddfa16c78b","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"97716480-2f68-4851-a92b-e1a13cd076cf"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_bc0a0971_6f55_42be_87e4_da9d29132d7f","uuid":"879a526d-9bab-4be5-9c3c-29f099ce716e"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"97716480-2f68-4851-a92b-e1a13cd076cf"},"edge_type":"inherent","type":"","uuid":"28cf9fd7-90d9-4614-982a-90e748447d94","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_bc0a0971_6f55_42be_87e4_da9d29132d7f","uuid":"879a526d-9bab-4be5-9c3c-29f099ce716e"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_bc0a0971_6f55_42be_87e4_da9d29132d7f"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"97716480-2f68-4851-a92b-e1a13cd076cf","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"92ba2635-e9da-48a5-8b58-7a4b4a61ffdf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90"},{"target_any_local_reference":{"kind":"app_package","name":"AHVMasterPackage","uuid":"bc0a0971-6f55-42be-87e4-da9d29132d7f"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"879a526d-9bab-4be5-9c3c-29f099ce716e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_bc0a0971_6f55_42be_87e4_da9d29132d7f"}],"description":"","message_list":[],"uuid":"7f1a6808-b7b4-4dd6-bb24-baeb2bbf5dc2","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_bc0a0971_6f55_42be_87e4_da9d29132d7f","uuid":"ca68c2a2-5a81-416b-b6e4-5fddfa16c78b"},"name":"SYS_GEN__Runbook_Package_bc0a0971_6f55_42be_87e4_da9d29132d7f"}},{"description":"System action for starting an application","message_list":[],"uuid":"ffc4d327-1eeb-4717-a910-4141a311a146","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVMasterPackage","uuid":"bc0a0971-6f55-42be-87e4-da9d29132d7f"},"retries":"0","description":"","type":"DAG","uuid":"15912cc0-2a5a-4f4d-b0e0-0e6ffe0ca02f","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"5b83a8d5-4e36-4df2-9093-63f0d23b60a2"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_bc0a0971_6f55_42be_87e4_da9d29132d7f"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"5b83a8d5-4e36-4df2-9093-63f0d23b60a2","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"c02553e2_runbook","uuid":"81959707-f27f-4259-a9b6-d4f736a28f5c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90"}],"description":"","message_list":[],"uuid":"8b69be25-5e22-45e3-ae1b-804bb0d21114","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_bc0a0971_6f55_42be_87e4_da9d29132d7f","uuid":"15912cc0-2a5a-4f4d-b0e0-0e6ffe0ca02f"},"name":"SYS_GEN__Runbook_Package_bc0a0971_6f55_42be_87e4_da9d29132d7f"}},{"description":"System action for restarting an application","message_list":[],"uuid":"3863a420-d09d-48a8-97b1-c9acd4476fd2","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVMasterPackage","uuid":"bc0a0971-6f55-42be-87e4-da9d29132d7f"},"retries":"0","description":"","type":"DAG","uuid":"f582e888-edb4-4ec3-924a-eac328c4af98","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"c7413fd6-e369-43ca-b6e4-dc597601058c"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_bc0a0971_6f55_42be_87e4_da9d29132d7f"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"c7413fd6-e369-43ca-b6e4-dc597601058c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"a9d9f266_runbook","uuid":"a32389b2-74a8-4a75-b897-c7158c11032e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90"}],"description":"","message_list":[],"uuid":"b61994b5-d074-4b3b-810f-d6edbeead201","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_bc0a0971_6f55_42be_87e4_da9d29132d7f","uuid":"f582e888-edb4-4ec3-924a-eac328c4af98"},"name":"SYS_GEN__Runbook_Package_bc0a0971_6f55_42be_87e4_da9d29132d7f"}},{"description":"System action for stopping an application","message_list":[],"uuid":"3d0e32fc-65ac-4e82-ac2e-c3dd0662859c","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVMasterPackage","uuid":"bc0a0971-6f55-42be-87e4-da9d29132d7f"},"retries":"0","description":"","type":"DAG","uuid":"724932cf-96c0-46d2-a9c4-423501f3e59b","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"a32dae4b-79a8-4b90-99d8-c5cb07328dbc"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_bc0a0971_6f55_42be_87e4_da9d29132d7f"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"a32dae4b-79a8-4b90-99d8-c5cb07328dbc","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"deb1443a_runbook","uuid":"86288a79-ba17-4500-a81a-1ed2afb6b9b8"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90"}],"description":"","message_list":[],"uuid":"adf315ac-8bca-42d8-84e5-819007bad979","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_bc0a0971_6f55_42be_87e4_da9d29132d7f","uuid":"724932cf-96c0-46d2-a9c4-423501f3e59b"},"name":"SYS_GEN__Runbook_Package_bc0a0971_6f55_42be_87e4_da9d29132d7f"}}],"message_list":[],"service_local_reference_list":[{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"}],"uuid":"bc0a0971-6f55-42be-87e4-da9d29132d7f","state":"ACTIVE","version":"","editables":{},"type":"DEB","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVMasterPackage","uuid":"bc0a0971-6f55-42be-87e4-da9d29132d7f"},"retries":"0","description":"","type":"DAG","uuid":"00e724ec-6fce-463e-9446-5074a816b93f","child_tasks_local_reference_list":[{"kind":"app_task","name":"Install System Packages","uuid":"3a787f69-3686-45f3-802e-e661507bef51"},{"kind":"app_task","name":"Create Disk Setup","uuid":"3a09eedf-5c29-4a3e-9eaa-287378989086"},{"kind":"app_task","name":"Install Postgres","uuid":"ef0dc7ac-a8ef-4147-8877-f1c0728f004d"},{"kind":"app_task","name":"Setup Postgres","uuid":"d541ab4f-8c0d-474f-9bc0-63eea5a9ccc6"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Install System Packages","uuid":"3a787f69-3686-45f3-802e-e661507bef51"},"edge_type":"user_defined","type":"","uuid":"015a437e-097f-402b-b07e-a79d507dd887","to_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"3a09eedf-5c29-4a3e-9eaa-287378989086"}},{"from_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"3a09eedf-5c29-4a3e-9eaa-287378989086"},"edge_type":"user_defined","type":"","uuid":"f1ea25aa-22e8-436b-8e08-b717d4090f47","to_task_reference":{"kind":"app_task","name":"Install Postgres","uuid":"ef0dc7ac-a8ef-4147-8877-f1c0728f004d"}},{"from_task_reference":{"kind":"app_task","name":"Install Postgres","uuid":"ef0dc7ac-a8ef-4147-8877-f1c0728f004d"},"edge_type":"user_defined","type":"","uuid":"a21d4d2e-b63f-467f-844a-f5543327c013","to_task_reference":{"kind":"app_task","name":"Setup Postgres","uuid":"d541ab4f-8c0d-474f-9bc0-63eea5a9ccc6"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"3b8ed3d2_dag"},{"target_any_local_reference":{"kind":"app_package","name":"AHVMasterPackage","uuid":"bc0a0971-6f55-42be-87e4-da9d29132d7f"},"retries":"0","description":"","type":"EXEC","uuid":"3a787f69-3686-45f3-802e-e661507bef51","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\nsudo yum -y upgrade\nsudo curl -O http:\/\/dl.fedoraproject.org\/pub\/epel\/7\/x86_64\/e\/epel-release-7-10.noarch.rpm\nsudo rpm --import https:\/\/www.elrepo.org\/RPM-GPG-KEY-elrepo.org\nsudo rpm -Uvh http:\/\/www.elrepo.org\/elrepo-release-7.0-3.el7.elrepo.noarch.rpm \nsudo rpm -ihv epel-release-7-10.noarch.rpm \n\nsudo yum update -y\nsudo yum -y install htop wget iotop xfs* bc unzip lvm2*\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"System packages are installed\"\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install System Packages"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"EXEC","uuid":"3a09eedf-5c29-4a3e-9eaa-287378989086","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n##############\n#\n# LVM setup script for PostgreSQL . 4 disks for DATA and 2 for logs\n# Data disks are 60GB | Log disks are 20GB \n#\n#############\n\n\n#PGSQL data\nsudo pvcreate \/dev\/sdb \/dev\/sdc \/dev\/sdd \/dev\/sde\nsudo vgcreate pgDataVG \/dev\/sdb \/dev\/sdd \/dev\/sdc \/dev\/sde\nsudo lvcreate -l 100%FREE -i4 -I1M -n pgDataLV pgDataVG          ## Use 1MB to avoid IO amplification \n#lvcreate -l 100%FREE -i4 -I4M -n pgDataLV pgDataVG\n\n\n#PGSQL logs\nsudo pvcreate \/dev\/sdf \/dev\/sdg \nsudo vgcreate pgLogVG \/dev\/sdf \/dev\/sdg\nsudo lvcreate -l 100%FREE -i2 -I1M -n pgLogLV pgLogVG            ## Use 1MB to avoid IO amplification\n#lvcreate -l 100%FREE -i2 -I4M -n pgLogLV pgLogVG\n\n\n#Disable LVM read ahead\nsudo lvchange -r 0 \/dev\/pgDataVG\/pgDataLV\nsudo lvchange -r 0 \/dev\/pgLogVG\/pgLogLV\n\n\n#Format LVMs with ext4 and use nodiscard to make sure format time is fast on Nutanix due to SCSI unmap\nsudo mkfs.ext4 -E nodiscard \/dev\/pgDataVG\/pgDataLV\nsudo mkfs.ext4 -E nodiscard \/dev\/pgLogVG\/pgLogLV\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Create Disk Setup"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"EXEC","uuid":"ef0dc7ac-a8ef-4147-8877-f1c0728f004d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\nsudo wget -c https:\/\/download.postgresql.org\/pub\/repos\/yum\/9.6\/redhat\/rhel-7-x86_64\/pgdg-centos96-9.6-3.noarch.rpm\nsudo yum -y install pgdg-centos96-9.6-3.noarch.rpm\nsudo rpm --import http:\/\/packages.2ndquadrant.com\/repmgr\/RPM-GPG-KEY-repmgr\nsudo yum install -y http:\/\/packages.2ndquadrant.com\/repmgr\/yum-repo-rpms\/repmgr-rhel-1.0-1.noarch.rpm\n\n# Install PostgreSQL\nsudo yum -y install postgresql96 postgresql96-contrib postgresql96-server postgresql96-devel postgresql96-plpython\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install Postgres"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"EXEC","uuid":"d541ab4f-8c0d-474f-9bc0-63eea5a9ccc6","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\n#run initdb\nsudo \/usr\/pgsql-9.6\/bin\/postgresql96-setup initdb\n\n#start and stop postgresql to make sure DB creates the required directories\nsudo systemctl start postgresql-9.6.service\nsudo systemctl stop postgresql-9.6.service\n\n##copy the created postgres directory to a temp directory\n\nsudo mkdir \/tmp\/pgsql\n\nsudo mv \/var\/lib\/pgsql\/9.6\/data \/tmp\/pgsql\n\n#Create directory , fix permissions and Mount LVM\nsudo mkdir \/var\/lib\/pgsql\/9.6\/data\/\nsudo mount -o noatime,barrier=0 \/dev\/pgDataVG\/pgDataLV \/var\/lib\/pgsql\/9.6\/data\/ \n\nsudo mkdir \/var\/lib\/pgsql\/9.6\/data\/pg_xlog\nsudo mount -o noatime,barrier=0 \/dev\/pgLogVG\/pgLogLV \/var\/lib\/pgsql\/9.6\/data\/pg_xlog\n\nsudo chown -R postgres:postgres \/var\/lib\/pgsql\/9.6\/data\/\n\n#move the xlog to the new LVM\nsudo find \/tmp\/pgsql\/data\/pg_xlog -maxdepth 1 -mindepth 1 -exec mv -t \/var\/lib\/pgsql\/9.6\/data\/pg_xlog\/ {} +\n\n#remove pg_xlog from temp dir to avoid being copied again\nsudo rm -rf \/tmp\/pgsql\/data\/pg_xlog\n\n#move the pgsql directory to the LVM\nsudo find \/tmp\/pgsql\/data -maxdepth 1 -mindepth 1 -exec mv -t \/var\/lib\/pgsql\/9.6\/data\/ {} +\n\nsudo chmod -R 0700 \/var\/lib\/pgsql\/9.6\/data\n\n#enable service on boot\nsudo systemctl enable postgresql-9.6.service\n\n#add mount points to \/etc\/fstab\necho \"\/dev\/mapper\/pgDataVG-pgDataLV \/var\/lib\/pgsql\/9.6\/data ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\necho \"\/dev\/mapper\/pgLogVG-pgLogLV \/var\/lib\/pgsql\/9.6\/data\/pg_xlog ext4 rw,seclabel,noatime,nobarrier,stripe=2048,data=ordered 0 0\" | sudo tee -a  \/etc\/fstab\n\n\nsudo systemctl status postgresql-9.6\nsudo systemctl restart postgresql-9.6\nsudo systemctl status postgresql-9.6\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Setup Postgres"}],"description":"","message_list":[],"uuid":"93df7bf3-f59b-4ed4-a020-55fa0a47f921","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"3b8ed3d2_dag","uuid":"00e724ec-6fce-463e-9446-5074a816b93f"},"name":"ed3d1488_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVMasterPackage","uuid":"bc0a0971-6f55-42be-87e4-da9d29132d7f"},"retries":"0","description":"","type":"DAG","uuid":"17a6287c-0d7b-46c1-af71-f8f1e68c4aac","child_tasks_local_reference_list":[{"kind":"app_task","name":"PackageUninstallTask","uuid":"97fa496c-9ed2-4cc0-b7fa-649995accd0a"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"ef748d77_dag"},{"target_any_local_reference":{"kind":"app_package","name":"AHVMasterPackage","uuid":"bc0a0971-6f55-42be-87e4-da9d29132d7f"},"retries":"0","description":"","type":"EXEC","uuid":"97fa496c-9ed2-4cc0-b7fa-649995accd0a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"PackageUninstallTask"}],"description":"","message_list":[],"uuid":"2e34a8a2-93db-4ccf-bdde-5315ff368bd4","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"ef748d77_dag","uuid":"17a6287c-0d7b-46c1-af71-f8f1e68c4aac"},"name":"e7b91ba0_runbook"}},"variable_list":[],"name":"AHVMasterPackage"},{"description":"","action_list":[{"description":"System action for installing an application","message_list":[],"uuid":"fb4e75ee-e9dc-4bbf-8389-6e3ec8f93238","name":"action_install","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSMasterPackage","uuid":"5805d838-62cc-43fb-9302-ed138e4e1bed"},"retries":"0","description":"","type":"DAG","uuid":"650bd849-ba0d-48a7-a2e7-29f28ae178c9","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Install_Crb_5805d838_62cc_43fb_9302_ed138e4e1bed","uuid":"4551ab06-d84b-4eac-9bfc-fd3369dd32e1"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Package_5805d838_62cc_43fb_9302_ed138e4e1bed"},{"target_any_local_reference":{"kind":"app_package","name":"AWSMasterPackage","uuid":"5805d838-62cc-43fb-9302-ed138e4e1bed"},"retries":"0","description":"","type":"CUSTOM_PACKAGE_INSTALL","uuid":"4551ab06-d84b-4eac-9bfc-fd3369dd32e1","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSMasterPackage","uuid":"5805d838-62cc-43fb-9302-ed138e4e1bed"},"retries":"0","description":"","type":"DAG","uuid":"9f440956-2b49-4e75-88cd-fc036fce99c6","child_tasks_local_reference_list":[{"kind":"app_task","name":"Install System Packages","uuid":"cb149533-de93-4806-a5cc-460d29dbdcfe"},{"kind":"app_task","name":"Create Disk Setup","uuid":"cb8669d0-a0dc-4cd1-bfae-1712d7032720"},{"kind":"app_task","name":"Install Postgres","uuid":"84b87aba-db96-4d45-a9c9-1a8ea5e369db"},{"kind":"app_task","name":"Setup Postgres","uuid":"df8551ba-746f-4c4a-81e6-e77ddfd361b4"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Install System Packages","uuid":"cb149533-de93-4806-a5cc-460d29dbdcfe"},"edge_type":"user_defined","type":"","uuid":"8792647b-1765-41a6-87b7-2fd144046460","to_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"cb8669d0-a0dc-4cd1-bfae-1712d7032720"}},{"from_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"cb8669d0-a0dc-4cd1-bfae-1712d7032720"},"edge_type":"user_defined","type":"","uuid":"1bf74cae-68c0-4779-8d6e-6c07b083b826","to_task_reference":{"kind":"app_task","name":"Install Postgres","uuid":"84b87aba-db96-4d45-a9c9-1a8ea5e369db"}},{"from_task_reference":{"kind":"app_task","name":"Install Postgres","uuid":"84b87aba-db96-4d45-a9c9-1a8ea5e369db"},"edge_type":"user_defined","type":"","uuid":"f1fcfc1a-0b81-4be5-b69a-975acc94cd93","to_task_reference":{"kind":"app_task","name":"Setup Postgres","uuid":"df8551ba-746f-4c4a-81e6-e77ddfd361b4"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"37b8393e_dag"},{"target_any_local_reference":{"kind":"app_package","name":"AWSMasterPackage","uuid":"5805d838-62cc-43fb-9302-ed138e4e1bed"},"retries":"0","description":"","type":"EXEC","uuid":"cb149533-de93-4806-a5cc-460d29dbdcfe","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\nsudo yum -y upgrade\nsudo curl -O http:\/\/dl.fedoraproject.org\/pub\/epel\/7\/x86_64\/e\/epel-release-7-10.noarch.rpm\nsudo rpm --import https:\/\/www.elrepo.org\/RPM-GPG-KEY-elrepo.org\nsudo rpm -Uvh http:\/\/www.elrepo.org\/elrepo-release-7.0-3.el7.elrepo.noarch.rpm \nsudo rpm -ihv epel-release-7-10.noarch.rpm \n\nsudo yum update -y\nsudo yum -y install htop wget iotop xfs* bc unzip lvm2*\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"System packages are installed\"\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install System Packages"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"EXEC","uuid":"cb8669d0-a0dc-4cd1-bfae-1712d7032720","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n##############\n#\n# LVM setup script for PostgreSQL . 4 disks for DATA and 2 for logs\n# Data disks are 60GB | Log disks are 20GB \n#\n#############\n\n\n#PGSQL data\nsudo pvcreate \/dev\/xvdb \/dev\/xvdc \/dev\/xvdd \/dev\/xvde\nsudo vgcreate pgDataVG \/dev\/xvdb \/dev\/xvdd \/dev\/xvdc \/dev\/xvde\nsudo lvcreate -l 100%FREE -i4 -I1M -n pgDataLV pgDataVG          ## Use 1MB to avoid IO amplification \n#lvcreate -l 100%FREE -i4 -I4M -n pgDataLV pgDataVG\n\n\n#PGSQL logs\nsudo pvcreate \/dev\/xvdf \/dev\/xvdg \nsudo vgcreate pgLogVG \/dev\/xvdf \/dev\/xvdg\nsudo lvcreate -l 100%FREE -i2 -I1M -n pgLogLV pgLogVG            ## Use 1MB to avoid IO amplification\n#lvcreate -l 100%FREE -i2 -I4M -n pgLogLV pgLogVG\n\n\n#Disable LVM read ahead\nsudo lvchange -r 0 \/dev\/pgDataVG\/pgDataLV\nsudo lvchange -r 0 \/dev\/pgLogVG\/pgLogLV\n\n\n#Format LVMs with ext4 and use nodiscard to make sure format time is fast on Nutanix due to SCSI unmap\nsudo mkfs.ext4 -E nodiscard \/dev\/pgDataVG\/pgDataLV\nsudo mkfs.ext4 -E nodiscard \/dev\/pgLogVG\/pgLogLV\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Create Disk Setup"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"EXEC","uuid":"84b87aba-db96-4d45-a9c9-1a8ea5e369db","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\nsudo wget -c https:\/\/download.postgresql.org\/pub\/repos\/yum\/9.6\/redhat\/rhel-7-x86_64\/pgdg-centos96-9.6-3.noarch.rpm\nsudo yum -y install pgdg-centos96-9.6-3.noarch.rpm\nsudo rpm --import http:\/\/packages.2ndquadrant.com\/repmgr\/RPM-GPG-KEY-repmgr\nsudo yum install -y http:\/\/packages.2ndquadrant.com\/repmgr\/yum-repo-rpms\/repmgr-rhel-1.0-1.noarch.rpm\n\n# Install PostgreSQL\nsudo yum -y install postgresql96 postgresql96-contrib postgresql96-server postgresql96-devel postgresql96-plpython\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install Postgres"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"EXEC","uuid":"df8551ba-746f-4c4a-81e6-e77ddfd361b4","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\n#run initdb\nsudo \/usr\/pgsql-9.6\/bin\/postgresql96-setup initdb\n\n#start and stop postgresql to make sure DB creates the required directories\nsudo systemctl start postgresql-9.6.service\nsudo systemctl stop postgresql-9.6.service\n\n##copy the created postgres directory to a temp directory\n\nsudo mkdir \/tmp\/pgsql\n\nsudo mv \/var\/lib\/pgsql\/9.6\/data \/tmp\/pgsql\n\n#Create directory , fix permissions and Mount LVM\nsudo mkdir \/var\/lib\/pgsql\/9.6\/data\/\nsudo mount -o noatime,barrier=0 \/dev\/pgDataVG\/pgDataLV \/var\/lib\/pgsql\/9.6\/data\/ \n\nsudo mkdir \/var\/lib\/pgsql\/9.6\/data\/pg_xlog\nsudo mount -o noatime,barrier=0 \/dev\/pgLogVG\/pgLogLV \/var\/lib\/pgsql\/9.6\/data\/pg_xlog\n\nsudo chown -R postgres:postgres \/var\/lib\/pgsql\/9.6\/data\/\n\n#move the xlog to the new LVM\nsudo find \/tmp\/pgsql\/data\/pg_xlog -maxdepth 1 -mindepth 1 -exec mv -t \/var\/lib\/pgsql\/9.6\/data\/pg_xlog\/ {} +\n\n#remove pg_xlog from temp dir to avoid being copied again\nsudo rm -rf \/tmp\/pgsql\/data\/pg_xlog\n\n#move the pgsql directory to the LVM\nsudo find \/tmp\/pgsql\/data -maxdepth 1 -mindepth 1 -exec mv -t \/var\/lib\/pgsql\/9.6\/data\/ {} +\n\nsudo chmod -R 0700 \/var\/lib\/pgsql\/9.6\/data\n\n#enable service on boot\nsudo systemctl enable postgresql-9.6.service\n\n#add mount points to \/etc\/fstab\necho \"\/dev\/mapper\/pgDataVG-pgDataLV \/var\/lib\/pgsql\/9.6\/data ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\necho \"\/dev\/mapper\/pgLogVG-pgLogLV \/var\/lib\/pgsql\/9.6\/data\/pg_xlog ext4 rw,seclabel,noatime,nobarrier,stripe=2048,data=ordered 0 0\" | sudo tee -a  \/etc\/fstab\n\n\nsudo systemctl status postgresql-9.6\nsudo systemctl restart postgresql-9.6\nsudo systemctl status postgresql-9.6","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Setup Postgres"}],"description":"","message_list":[],"uuid":"9ba18b29-34fc-406c-a828-ba0ee542a4e1","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"37b8393e_dag","uuid":"9f440956-2b49-4e75-88cd-fc036fce99c6"},"name":"13f00dce_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSMasterPackage","uuid":"5805d838-62cc-43fb-9302-ed138e4e1bed"},"retries":"0","description":"","type":"DAG","uuid":"61b68c7e-aa00-4a1d-a409-7682a30069ea","child_tasks_local_reference_list":[{"kind":"app_task","name":"PackageUninstallTask","uuid":"524d7e90-83a2-48cc-9d2d-a240fc1605ad"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"a865e906_dag"},{"target_any_local_reference":{"kind":"app_package","name":"AWSMasterPackage","uuid":"5805d838-62cc-43fb-9302-ed138e4e1bed"},"retries":"0","description":"","type":"EXEC","uuid":"524d7e90-83a2-48cc-9d2d-a240fc1605ad","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"PackageUninstallTask"}],"description":"","message_list":[],"uuid":"f8f6740f-c857-4b1f-93b9-876e77b5482c","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"a865e906_dag","uuid":"61b68c7e-aa00-4a1d-a409-7682a30069ea"},"name":"0b0a708d_runbook"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Install_Crb_5805d838_62cc_43fb_9302_ed138e4e1bed"}],"description":"","message_list":[],"uuid":"df4ec507-37a7-479d-bc64-4733c3d34b33","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Package_5805d838_62cc_43fb_9302_ed138e4e1bed","uuid":"650bd849-ba0d-48a7-a2e7-29f28ae178c9"},"name":"SYS_GEN__Runbook_Package_5805d838_62cc_43fb_9302_ed138e4e1bed"}},{"description":"System action for creating an application","message_list":[],"uuid":"c7825142-ccf4-4a6c-93c5-73328cfccad6","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSMasterPackage","uuid":"5805d838-62cc-43fb-9302-ed138e4e1bed"},"retries":"0","description":"","type":"DAG","uuid":"d1c96fc1-e514-4e81-b2f8-61cdd51429f5","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_5805d838_62cc_43fb_9302_ed138e4e1bed","uuid":"de506931-4a60-4778-9530-ce9e49bb3fa9"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"c157c869-032c-4cd8-a91c-102b1b1ca047"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"ca0ebaaa-e286-419f-8b62-e345c2e60365"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"c157c869-032c-4cd8-a91c-102b1b1ca047"},"edge_type":"inherent","type":"","uuid":"5857e5af-2ed5-4757-a774-4da065650ff7","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"ca0ebaaa-e286-419f-8b62-e345c2e60365"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_5805d838_62cc_43fb_9302_ed138e4e1bed","uuid":"de506931-4a60-4778-9530-ce9e49bb3fa9"},"edge_type":"inherent","type":"","uuid":"273d410f-d460-4ee2-9138-e555416cbfc3","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"c157c869-032c-4cd8-a91c-102b1b1ca047"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_5805d838_62cc_43fb_9302_ed138e4e1bed"},{"target_any_local_reference":{"kind":"app_package","name":"AWSMasterPackage","uuid":"5805d838-62cc-43fb-9302-ed138e4e1bed"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"de506931-4a60-4778-9530-ce9e49bb3fa9","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_5805d838_62cc_43fb_9302_ed138e4e1bed","uuid":"df4ec507-37a7-479d-bc64-4733c3d34b33"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_5805d838_62cc_43fb_9302_ed138e4e1bed"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"c157c869-032c-4cd8-a91c-102b1b1ca047","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"c528d489_runbook","uuid":"a5cf54be-5eb3-4cbb-8cbf-c295bbc3af83"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"ca0ebaaa-e286-419f-8b62-e345c2e60365","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"c02553e2_runbook","uuid":"81959707-f27f-4259-a9b6-d4f736a28f5c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90"}],"description":"","message_list":[],"uuid":"d0738a05-3b2f-4f0b-a4e2-d6fa6c22920e","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_5805d838_62cc_43fb_9302_ed138e4e1bed","uuid":"d1c96fc1-e514-4e81-b2f8-61cdd51429f5"},"name":"SYS_GEN__Runbook_Package_5805d838_62cc_43fb_9302_ed138e4e1bed"}},{"description":"System action for uninstalling an application","message_list":[],"uuid":"68e43fc8-814f-4620-88c8-82eae1bf711f","name":"action_uninstall","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSMasterPackage","uuid":"5805d838-62cc-43fb-9302-ed138e4e1bed"},"retries":"0","description":"","type":"DAG","uuid":"e323a3f1-da78-433d-a91f-1fb762eacf7d","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Uninstall_Crb_5805d838_62cc_43fb_9302_ed138e4e1bed","uuid":"0d3088ba-f9d9-459a-9f42-5ec98671f4ac"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Package_5805d838_62cc_43fb_9302_ed138e4e1bed"},{"target_any_local_reference":{"kind":"app_package","name":"AWSMasterPackage","uuid":"5805d838-62cc-43fb-9302-ed138e4e1bed"},"retries":"0","description":"","type":"CUSTOM_PACKAGE_UNINSTALL","uuid":"0d3088ba-f9d9-459a-9f42-5ec98671f4ac","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSMasterPackage","uuid":"5805d838-62cc-43fb-9302-ed138e4e1bed"},"retries":"0","description":"","type":"DAG","uuid":"9f440956-2b49-4e75-88cd-fc036fce99c6","child_tasks_local_reference_list":[{"kind":"app_task","name":"Install System Packages","uuid":"cb149533-de93-4806-a5cc-460d29dbdcfe"},{"kind":"app_task","name":"Create Disk Setup","uuid":"cb8669d0-a0dc-4cd1-bfae-1712d7032720"},{"kind":"app_task","name":"Install Postgres","uuid":"84b87aba-db96-4d45-a9c9-1a8ea5e369db"},{"kind":"app_task","name":"Setup Postgres","uuid":"df8551ba-746f-4c4a-81e6-e77ddfd361b4"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Install System Packages","uuid":"cb149533-de93-4806-a5cc-460d29dbdcfe"},"edge_type":"user_defined","type":"","uuid":"8792647b-1765-41a6-87b7-2fd144046460","to_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"cb8669d0-a0dc-4cd1-bfae-1712d7032720"}},{"from_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"cb8669d0-a0dc-4cd1-bfae-1712d7032720"},"edge_type":"user_defined","type":"","uuid":"1bf74cae-68c0-4779-8d6e-6c07b083b826","to_task_reference":{"kind":"app_task","name":"Install Postgres","uuid":"84b87aba-db96-4d45-a9c9-1a8ea5e369db"}},{"from_task_reference":{"kind":"app_task","name":"Install Postgres","uuid":"84b87aba-db96-4d45-a9c9-1a8ea5e369db"},"edge_type":"user_defined","type":"","uuid":"f1fcfc1a-0b81-4be5-b69a-975acc94cd93","to_task_reference":{"kind":"app_task","name":"Setup Postgres","uuid":"df8551ba-746f-4c4a-81e6-e77ddfd361b4"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"37b8393e_dag"},{"target_any_local_reference":{"kind":"app_package","name":"AWSMasterPackage","uuid":"5805d838-62cc-43fb-9302-ed138e4e1bed"},"retries":"0","description":"","type":"EXEC","uuid":"cb149533-de93-4806-a5cc-460d29dbdcfe","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\nsudo yum -y upgrade\nsudo curl -O http:\/\/dl.fedoraproject.org\/pub\/epel\/7\/x86_64\/e\/epel-release-7-10.noarch.rpm\nsudo rpm --import https:\/\/www.elrepo.org\/RPM-GPG-KEY-elrepo.org\nsudo rpm -Uvh http:\/\/www.elrepo.org\/elrepo-release-7.0-3.el7.elrepo.noarch.rpm \nsudo rpm -ihv epel-release-7-10.noarch.rpm \n\nsudo yum update -y\nsudo yum -y install htop wget iotop xfs* bc unzip lvm2*\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"System packages are installed\"\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install System Packages"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"EXEC","uuid":"cb8669d0-a0dc-4cd1-bfae-1712d7032720","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n##############\n#\n# LVM setup script for PostgreSQL . 4 disks for DATA and 2 for logs\n# Data disks are 60GB | Log disks are 20GB \n#\n#############\n\n\n#PGSQL data\nsudo pvcreate \/dev\/xvdb \/dev\/xvdc \/dev\/xvdd \/dev\/xvde\nsudo vgcreate pgDataVG \/dev\/xvdb \/dev\/xvdd \/dev\/xvdc \/dev\/xvde\nsudo lvcreate -l 100%FREE -i4 -I1M -n pgDataLV pgDataVG          ## Use 1MB to avoid IO amplification \n#lvcreate -l 100%FREE -i4 -I4M -n pgDataLV pgDataVG\n\n\n#PGSQL logs\nsudo pvcreate \/dev\/xvdf \/dev\/xvdg \nsudo vgcreate pgLogVG \/dev\/xvdf \/dev\/xvdg\nsudo lvcreate -l 100%FREE -i2 -I1M -n pgLogLV pgLogVG            ## Use 1MB to avoid IO amplification\n#lvcreate -l 100%FREE -i2 -I4M -n pgLogLV pgLogVG\n\n\n#Disable LVM read ahead\nsudo lvchange -r 0 \/dev\/pgDataVG\/pgDataLV\nsudo lvchange -r 0 \/dev\/pgLogVG\/pgLogLV\n\n\n#Format LVMs with ext4 and use nodiscard to make sure format time is fast on Nutanix due to SCSI unmap\nsudo mkfs.ext4 -E nodiscard \/dev\/pgDataVG\/pgDataLV\nsudo mkfs.ext4 -E nodiscard \/dev\/pgLogVG\/pgLogLV\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Create Disk Setup"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"EXEC","uuid":"84b87aba-db96-4d45-a9c9-1a8ea5e369db","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\nsudo wget -c https:\/\/download.postgresql.org\/pub\/repos\/yum\/9.6\/redhat\/rhel-7-x86_64\/pgdg-centos96-9.6-3.noarch.rpm\nsudo yum -y install pgdg-centos96-9.6-3.noarch.rpm\nsudo rpm --import http:\/\/packages.2ndquadrant.com\/repmgr\/RPM-GPG-KEY-repmgr\nsudo yum install -y http:\/\/packages.2ndquadrant.com\/repmgr\/yum-repo-rpms\/repmgr-rhel-1.0-1.noarch.rpm\n\n# Install PostgreSQL\nsudo yum -y install postgresql96 postgresql96-contrib postgresql96-server postgresql96-devel postgresql96-plpython\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install Postgres"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"EXEC","uuid":"df8551ba-746f-4c4a-81e6-e77ddfd361b4","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\n#run initdb\nsudo \/usr\/pgsql-9.6\/bin\/postgresql96-setup initdb\n\n#start and stop postgresql to make sure DB creates the required directories\nsudo systemctl start postgresql-9.6.service\nsudo systemctl stop postgresql-9.6.service\n\n##copy the created postgres directory to a temp directory\n\nsudo mkdir \/tmp\/pgsql\n\nsudo mv \/var\/lib\/pgsql\/9.6\/data \/tmp\/pgsql\n\n#Create directory , fix permissions and Mount LVM\nsudo mkdir \/var\/lib\/pgsql\/9.6\/data\/\nsudo mount -o noatime,barrier=0 \/dev\/pgDataVG\/pgDataLV \/var\/lib\/pgsql\/9.6\/data\/ \n\nsudo mkdir \/var\/lib\/pgsql\/9.6\/data\/pg_xlog\nsudo mount -o noatime,barrier=0 \/dev\/pgLogVG\/pgLogLV \/var\/lib\/pgsql\/9.6\/data\/pg_xlog\n\nsudo chown -R postgres:postgres \/var\/lib\/pgsql\/9.6\/data\/\n\n#move the xlog to the new LVM\nsudo find \/tmp\/pgsql\/data\/pg_xlog -maxdepth 1 -mindepth 1 -exec mv -t \/var\/lib\/pgsql\/9.6\/data\/pg_xlog\/ {} +\n\n#remove pg_xlog from temp dir to avoid being copied again\nsudo rm -rf \/tmp\/pgsql\/data\/pg_xlog\n\n#move the pgsql directory to the LVM\nsudo find \/tmp\/pgsql\/data -maxdepth 1 -mindepth 1 -exec mv -t \/var\/lib\/pgsql\/9.6\/data\/ {} +\n\nsudo chmod -R 0700 \/var\/lib\/pgsql\/9.6\/data\n\n#enable service on boot\nsudo systemctl enable postgresql-9.6.service\n\n#add mount points to \/etc\/fstab\necho \"\/dev\/mapper\/pgDataVG-pgDataLV \/var\/lib\/pgsql\/9.6\/data ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\necho \"\/dev\/mapper\/pgLogVG-pgLogLV \/var\/lib\/pgsql\/9.6\/data\/pg_xlog ext4 rw,seclabel,noatime,nobarrier,stripe=2048,data=ordered 0 0\" | sudo tee -a  \/etc\/fstab\n\n\nsudo systemctl status postgresql-9.6\nsudo systemctl restart postgresql-9.6\nsudo systemctl status postgresql-9.6","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Setup Postgres"}],"description":"","message_list":[],"uuid":"9ba18b29-34fc-406c-a828-ba0ee542a4e1","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"37b8393e_dag","uuid":"9f440956-2b49-4e75-88cd-fc036fce99c6"},"name":"13f00dce_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSMasterPackage","uuid":"5805d838-62cc-43fb-9302-ed138e4e1bed"},"retries":"0","description":"","type":"DAG","uuid":"61b68c7e-aa00-4a1d-a409-7682a30069ea","child_tasks_local_reference_list":[{"kind":"app_task","name":"PackageUninstallTask","uuid":"524d7e90-83a2-48cc-9d2d-a240fc1605ad"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"a865e906_dag"},{"target_any_local_reference":{"kind":"app_package","name":"AWSMasterPackage","uuid":"5805d838-62cc-43fb-9302-ed138e4e1bed"},"retries":"0","description":"","type":"EXEC","uuid":"524d7e90-83a2-48cc-9d2d-a240fc1605ad","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"PackageUninstallTask"}],"description":"","message_list":[],"uuid":"f8f6740f-c857-4b1f-93b9-876e77b5482c","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"a865e906_dag","uuid":"61b68c7e-aa00-4a1d-a409-7682a30069ea"},"name":"0b0a708d_runbook"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Uninstall_Crb_5805d838_62cc_43fb_9302_ed138e4e1bed"}],"description":"","message_list":[],"uuid":"33114b2f-39fd-4f68-9ce8-5c63516073ee","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Package_5805d838_62cc_43fb_9302_ed138e4e1bed","uuid":"e323a3f1-da78-433d-a91f-1fb762eacf7d"},"name":"SYS_GEN__Runbook_Package_5805d838_62cc_43fb_9302_ed138e4e1bed"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"9b742de0-9356-4df3-9a4b-3bc7a3098f23","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSMasterPackage","uuid":"5805d838-62cc-43fb-9302-ed138e4e1bed"},"retries":"0","description":"","type":"DAG","uuid":"8794ddaa-7e21-4aed-bb43-781c9b0d26f9","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"76fdf1f3-79fe-4604-af19-19a95e15cbb1"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"a717cac9-eddf-487d-a389-e64174ff6d04"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_5805d838_62cc_43fb_9302_ed138e4e1bed","uuid":"b26545c5-16ea-4382-aa53-4aeba627bbe5"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"76fdf1f3-79fe-4604-af19-19a95e15cbb1"},"edge_type":"inherent","type":"","uuid":"ebc96d40-6ddc-4928-adc7-67e1486936df","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"a717cac9-eddf-487d-a389-e64174ff6d04"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"a717cac9-eddf-487d-a389-e64174ff6d04"},"edge_type":"inherent","type":"","uuid":"ada83856-ca62-4f4e-8505-a34a35d7100e","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_5805d838_62cc_43fb_9302_ed138e4e1bed","uuid":"b26545c5-16ea-4382-aa53-4aeba627bbe5"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_5805d838_62cc_43fb_9302_ed138e4e1bed"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"76fdf1f3-79fe-4604-af19-19a95e15cbb1","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"deb1443a_runbook","uuid":"86288a79-ba17-4500-a81a-1ed2afb6b9b8"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"a717cac9-eddf-487d-a389-e64174ff6d04","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"8ad650b2_runbook","uuid":"f31a5f00-62ad-4b57-8fbf-cd1f020f2bfc"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90"},{"target_any_local_reference":{"kind":"app_package","name":"AWSMasterPackage","uuid":"5805d838-62cc-43fb-9302-ed138e4e1bed"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"b26545c5-16ea-4382-aa53-4aeba627bbe5","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_5805d838_62cc_43fb_9302_ed138e4e1bed","uuid":"33114b2f-39fd-4f68-9ce8-5c63516073ee"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_5805d838_62cc_43fb_9302_ed138e4e1bed"}],"description":"","message_list":[],"uuid":"8a006526-8dd3-43fc-96f0-95ef2dbd9cca","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_5805d838_62cc_43fb_9302_ed138e4e1bed","uuid":"8794ddaa-7e21-4aed-bb43-781c9b0d26f9"},"name":"SYS_GEN__Runbook_Package_5805d838_62cc_43fb_9302_ed138e4e1bed"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"8d421ddc-c3be-4799-825b-6edf4ffccf94","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSMasterPackage","uuid":"5805d838-62cc-43fb-9302-ed138e4e1bed"},"retries":"0","description":"","type":"DAG","uuid":"6ab68e5c-b9ac-491d-a0bc-a2c670a29a54","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"cbe3baca-34b9-4f36-b490-634c4d77c637"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_5805d838_62cc_43fb_9302_ed138e4e1bed","uuid":"1a5ab233-9e00-4136-b576-71531a108029"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"cbe3baca-34b9-4f36-b490-634c4d77c637"},"edge_type":"inherent","type":"","uuid":"9a62a273-969d-45a0-ab5a-4368ab2a7d15","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_5805d838_62cc_43fb_9302_ed138e4e1bed","uuid":"1a5ab233-9e00-4136-b576-71531a108029"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_5805d838_62cc_43fb_9302_ed138e4e1bed"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"cbe3baca-34b9-4f36-b490-634c4d77c637","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"92ba2635-e9da-48a5-8b58-7a4b4a61ffdf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90"},{"target_any_local_reference":{"kind":"app_package","name":"AWSMasterPackage","uuid":"5805d838-62cc-43fb-9302-ed138e4e1bed"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"1a5ab233-9e00-4136-b576-71531a108029","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_5805d838_62cc_43fb_9302_ed138e4e1bed"}],"description":"","message_list":[],"uuid":"c7d9f306-bd3b-4db5-aa67-da138a7a0bbe","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_5805d838_62cc_43fb_9302_ed138e4e1bed","uuid":"6ab68e5c-b9ac-491d-a0bc-a2c670a29a54"},"name":"SYS_GEN__Runbook_Package_5805d838_62cc_43fb_9302_ed138e4e1bed"}},{"description":"System action for starting an application","message_list":[],"uuid":"3f80995a-4409-49b8-bada-42100a4725e0","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSMasterPackage","uuid":"5805d838-62cc-43fb-9302-ed138e4e1bed"},"retries":"0","description":"","type":"DAG","uuid":"83edfcd3-4221-42fa-8890-2a44510ef0ff","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"e09e5e42-1bc9-49b8-b12a-d90e86e36067"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_5805d838_62cc_43fb_9302_ed138e4e1bed"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"e09e5e42-1bc9-49b8-b12a-d90e86e36067","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"c02553e2_runbook","uuid":"81959707-f27f-4259-a9b6-d4f736a28f5c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90"}],"description":"","message_list":[],"uuid":"1442d7cc-a945-4c2f-9e41-1e153fa64205","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_5805d838_62cc_43fb_9302_ed138e4e1bed","uuid":"83edfcd3-4221-42fa-8890-2a44510ef0ff"},"name":"SYS_GEN__Runbook_Package_5805d838_62cc_43fb_9302_ed138e4e1bed"}},{"description":"System action for restarting an application","message_list":[],"uuid":"3e0baa90-dd00-4a11-8061-1698a3263a89","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSMasterPackage","uuid":"5805d838-62cc-43fb-9302-ed138e4e1bed"},"retries":"0","description":"","type":"DAG","uuid":"49c95ce5-bbb5-4e34-b467-b44e77820ddb","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"9c451c83-56e3-453e-b0f9-e6e54377fd24"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_5805d838_62cc_43fb_9302_ed138e4e1bed"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"9c451c83-56e3-453e-b0f9-e6e54377fd24","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"a9d9f266_runbook","uuid":"a32389b2-74a8-4a75-b897-c7158c11032e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90"}],"description":"","message_list":[],"uuid":"ff2bafdc-faea-4cf7-a0ef-35d1ac34cf53","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_5805d838_62cc_43fb_9302_ed138e4e1bed","uuid":"49c95ce5-bbb5-4e34-b467-b44e77820ddb"},"name":"SYS_GEN__Runbook_Package_5805d838_62cc_43fb_9302_ed138e4e1bed"}},{"description":"System action for stopping an application","message_list":[],"uuid":"b24c80bf-84d4-492a-a1b0-4535d117df64","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSMasterPackage","uuid":"5805d838-62cc-43fb-9302-ed138e4e1bed"},"retries":"0","description":"","type":"DAG","uuid":"ef169b69-ed52-4828-a0f7-705598e09c9d","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"85d46ff0-09d4-49cc-9050-24a4ceb6f008"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_5805d838_62cc_43fb_9302_ed138e4e1bed"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"85d46ff0-09d4-49cc-9050-24a4ceb6f008","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"deb1443a_runbook","uuid":"86288a79-ba17-4500-a81a-1ed2afb6b9b8"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90"}],"description":"","message_list":[],"uuid":"c45905b6-10d3-4e4b-9439-06d77a8be003","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_5805d838_62cc_43fb_9302_ed138e4e1bed","uuid":"ef169b69-ed52-4828-a0f7-705598e09c9d"},"name":"SYS_GEN__Runbook_Package_5805d838_62cc_43fb_9302_ed138e4e1bed"}}],"message_list":[],"service_local_reference_list":[{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"}],"uuid":"5805d838-62cc-43fb-9302-ed138e4e1bed","state":"ACTIVE","version":"","editables":{},"type":"DEB","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSMasterPackage","uuid":"5805d838-62cc-43fb-9302-ed138e4e1bed"},"retries":"0","description":"","type":"DAG","uuid":"9f440956-2b49-4e75-88cd-fc036fce99c6","child_tasks_local_reference_list":[{"kind":"app_task","name":"Install System Packages","uuid":"cb149533-de93-4806-a5cc-460d29dbdcfe"},{"kind":"app_task","name":"Create Disk Setup","uuid":"cb8669d0-a0dc-4cd1-bfae-1712d7032720"},{"kind":"app_task","name":"Install Postgres","uuid":"84b87aba-db96-4d45-a9c9-1a8ea5e369db"},{"kind":"app_task","name":"Setup Postgres","uuid":"df8551ba-746f-4c4a-81e6-e77ddfd361b4"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Install System Packages","uuid":"cb149533-de93-4806-a5cc-460d29dbdcfe"},"edge_type":"user_defined","type":"","uuid":"8792647b-1765-41a6-87b7-2fd144046460","to_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"cb8669d0-a0dc-4cd1-bfae-1712d7032720"}},{"from_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"cb8669d0-a0dc-4cd1-bfae-1712d7032720"},"edge_type":"user_defined","type":"","uuid":"1bf74cae-68c0-4779-8d6e-6c07b083b826","to_task_reference":{"kind":"app_task","name":"Install Postgres","uuid":"84b87aba-db96-4d45-a9c9-1a8ea5e369db"}},{"from_task_reference":{"kind":"app_task","name":"Install Postgres","uuid":"84b87aba-db96-4d45-a9c9-1a8ea5e369db"},"edge_type":"user_defined","type":"","uuid":"f1fcfc1a-0b81-4be5-b69a-975acc94cd93","to_task_reference":{"kind":"app_task","name":"Setup Postgres","uuid":"df8551ba-746f-4c4a-81e6-e77ddfd361b4"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"37b8393e_dag"},{"target_any_local_reference":{"kind":"app_package","name":"AWSMasterPackage","uuid":"5805d838-62cc-43fb-9302-ed138e4e1bed"},"retries":"0","description":"","type":"EXEC","uuid":"cb149533-de93-4806-a5cc-460d29dbdcfe","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\nsudo yum -y upgrade\nsudo curl -O http:\/\/dl.fedoraproject.org\/pub\/epel\/7\/x86_64\/e\/epel-release-7-10.noarch.rpm\nsudo rpm --import https:\/\/www.elrepo.org\/RPM-GPG-KEY-elrepo.org\nsudo rpm -Uvh http:\/\/www.elrepo.org\/elrepo-release-7.0-3.el7.elrepo.noarch.rpm \nsudo rpm -ihv epel-release-7-10.noarch.rpm \n\nsudo yum update -y\nsudo yum -y install htop wget iotop xfs* bc unzip lvm2*\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"System packages are installed\"\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install System Packages"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"EXEC","uuid":"cb8669d0-a0dc-4cd1-bfae-1712d7032720","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n##############\n#\n# LVM setup script for PostgreSQL . 4 disks for DATA and 2 for logs\n# Data disks are 60GB | Log disks are 20GB \n#\n#############\n\n\n#PGSQL data\nsudo pvcreate \/dev\/xvdb \/dev\/xvdc \/dev\/xvdd \/dev\/xvde\nsudo vgcreate pgDataVG \/dev\/xvdb \/dev\/xvdd \/dev\/xvdc \/dev\/xvde\nsudo lvcreate -l 100%FREE -i4 -I1M -n pgDataLV pgDataVG          ## Use 1MB to avoid IO amplification \n#lvcreate -l 100%FREE -i4 -I4M -n pgDataLV pgDataVG\n\n\n#PGSQL logs\nsudo pvcreate \/dev\/xvdf \/dev\/xvdg \nsudo vgcreate pgLogVG \/dev\/xvdf \/dev\/xvdg\nsudo lvcreate -l 100%FREE -i2 -I1M -n pgLogLV pgLogVG            ## Use 1MB to avoid IO amplification\n#lvcreate -l 100%FREE -i2 -I4M -n pgLogLV pgLogVG\n\n\n#Disable LVM read ahead\nsudo lvchange -r 0 \/dev\/pgDataVG\/pgDataLV\nsudo lvchange -r 0 \/dev\/pgLogVG\/pgLogLV\n\n\n#Format LVMs with ext4 and use nodiscard to make sure format time is fast on Nutanix due to SCSI unmap\nsudo mkfs.ext4 -E nodiscard \/dev\/pgDataVG\/pgDataLV\nsudo mkfs.ext4 -E nodiscard \/dev\/pgLogVG\/pgLogLV\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Create Disk Setup"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"EXEC","uuid":"84b87aba-db96-4d45-a9c9-1a8ea5e369db","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\nsudo wget -c https:\/\/download.postgresql.org\/pub\/repos\/yum\/9.6\/redhat\/rhel-7-x86_64\/pgdg-centos96-9.6-3.noarch.rpm\nsudo yum -y install pgdg-centos96-9.6-3.noarch.rpm\nsudo rpm --import http:\/\/packages.2ndquadrant.com\/repmgr\/RPM-GPG-KEY-repmgr\nsudo yum install -y http:\/\/packages.2ndquadrant.com\/repmgr\/yum-repo-rpms\/repmgr-rhel-1.0-1.noarch.rpm\n\n# Install PostgreSQL\nsudo yum -y install postgresql96 postgresql96-contrib postgresql96-server postgresql96-devel postgresql96-plpython\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install Postgres"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"EXEC","uuid":"df8551ba-746f-4c4a-81e6-e77ddfd361b4","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\n#run initdb\nsudo \/usr\/pgsql-9.6\/bin\/postgresql96-setup initdb\n\n#start and stop postgresql to make sure DB creates the required directories\nsudo systemctl start postgresql-9.6.service\nsudo systemctl stop postgresql-9.6.service\n\n##copy the created postgres directory to a temp directory\n\nsudo mkdir \/tmp\/pgsql\n\nsudo mv \/var\/lib\/pgsql\/9.6\/data \/tmp\/pgsql\n\n#Create directory , fix permissions and Mount LVM\nsudo mkdir \/var\/lib\/pgsql\/9.6\/data\/\nsudo mount -o noatime,barrier=0 \/dev\/pgDataVG\/pgDataLV \/var\/lib\/pgsql\/9.6\/data\/ \n\nsudo mkdir \/var\/lib\/pgsql\/9.6\/data\/pg_xlog\nsudo mount -o noatime,barrier=0 \/dev\/pgLogVG\/pgLogLV \/var\/lib\/pgsql\/9.6\/data\/pg_xlog\n\nsudo chown -R postgres:postgres \/var\/lib\/pgsql\/9.6\/data\/\n\n#move the xlog to the new LVM\nsudo find \/tmp\/pgsql\/data\/pg_xlog -maxdepth 1 -mindepth 1 -exec mv -t \/var\/lib\/pgsql\/9.6\/data\/pg_xlog\/ {} +\n\n#remove pg_xlog from temp dir to avoid being copied again\nsudo rm -rf \/tmp\/pgsql\/data\/pg_xlog\n\n#move the pgsql directory to the LVM\nsudo find \/tmp\/pgsql\/data -maxdepth 1 -mindepth 1 -exec mv -t \/var\/lib\/pgsql\/9.6\/data\/ {} +\n\nsudo chmod -R 0700 \/var\/lib\/pgsql\/9.6\/data\n\n#enable service on boot\nsudo systemctl enable postgresql-9.6.service\n\n#add mount points to \/etc\/fstab\necho \"\/dev\/mapper\/pgDataVG-pgDataLV \/var\/lib\/pgsql\/9.6\/data ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\necho \"\/dev\/mapper\/pgLogVG-pgLogLV \/var\/lib\/pgsql\/9.6\/data\/pg_xlog ext4 rw,seclabel,noatime,nobarrier,stripe=2048,data=ordered 0 0\" | sudo tee -a  \/etc\/fstab\n\n\nsudo systemctl status postgresql-9.6\nsudo systemctl restart postgresql-9.6\nsudo systemctl status postgresql-9.6","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Setup Postgres"}],"description":"","message_list":[],"uuid":"9ba18b29-34fc-406c-a828-ba0ee542a4e1","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"37b8393e_dag","uuid":"9f440956-2b49-4e75-88cd-fc036fce99c6"},"name":"13f00dce_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSMasterPackage","uuid":"5805d838-62cc-43fb-9302-ed138e4e1bed"},"retries":"0","description":"","type":"DAG","uuid":"61b68c7e-aa00-4a1d-a409-7682a30069ea","child_tasks_local_reference_list":[{"kind":"app_task","name":"PackageUninstallTask","uuid":"524d7e90-83a2-48cc-9d2d-a240fc1605ad"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"a865e906_dag"},{"target_any_local_reference":{"kind":"app_package","name":"AWSMasterPackage","uuid":"5805d838-62cc-43fb-9302-ed138e4e1bed"},"retries":"0","description":"","type":"EXEC","uuid":"524d7e90-83a2-48cc-9d2d-a240fc1605ad","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"PackageUninstallTask"}],"description":"","message_list":[],"uuid":"f8f6740f-c857-4b1f-93b9-876e77b5482c","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"a865e906_dag","uuid":"61b68c7e-aa00-4a1d-a409-7682a30069ea"},"name":"0b0a708d_runbook"}},"variable_list":[],"name":"AWSMasterPackage"},{"description":"","action_list":[{"description":"System action for installing an application","message_list":[],"uuid":"6ae2601e-30e7-4119-a475-40e10eea6170","name":"action_install","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHV_CENTOS_76","uuid":"d2ffe3cf-564e-49d2-a884-798626bcb5bf"},"retries":"0","description":"","type":"DAG","uuid":"e50a5f22-c803-4825-ad40-f5f04cff2452","child_tasks_local_reference_list":[{"kind":"app_task","name":"Image Fetch task for VM","uuid":"e84e6fdd-9317-4670-94a3-1a19a3a540eb"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Package_d2ffe3cf_564e_49d2_a884_798626bcb5bf"},{"target_any_local_reference":{"kind":"app_package","name":"AHV_CENTOS_76","uuid":"d2ffe3cf-564e-49d2-a884-798626bcb5bf"},"retries":"0","description":"","type":"SUBSTRATE_IMAGE_FETCH","uuid":"e84e6fdd-9317-4670-94a3-1a19a3a540eb","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"","name":"Centos-7.4-1810","resources":{"image_type":"DISK_IMAGE","checksum":{"checksum_algorithm":"","type":"","checksum_value":""},"source_uri":"http:\/\/download.nutanix.com\/calm\/CentOS-7-x86_64-1810.qcow2","version":{"product_version":"","type":"","product_name":""},"architecture":"X86_64","type":""},"description":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Image Fetch task for VM"}],"description":"","message_list":[],"uuid":"8a75de97-cbcb-467d-98d6-859976a2fd0a","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Package_d2ffe3cf_564e_49d2_a884_798626bcb5bf","uuid":"e50a5f22-c803-4825-ad40-f5f04cff2452"},"name":"SYS_GEN__Runbook_Package_d2ffe3cf_564e_49d2_a884_798626bcb5bf"}},{"description":"System action for creating an application","message_list":[],"uuid":"cbebcd84-9d58-4975-af68-ad6626fad895","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHV_CENTOS_76","uuid":"d2ffe3cf-564e-49d2-a884-798626bcb5bf"},"retries":"0","description":"","type":"DAG","uuid":"ad63059a-fb3d-4b0e-82a4-b520fda68dcd","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_d2ffe3cf_564e_49d2_a884_798626bcb5bf","uuid":"bc99f348-3a7f-4f2b-aca7-e3a72b611305"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_d2ffe3cf_564e_49d2_a884_798626bcb5bf"},{"target_any_local_reference":{"kind":"app_package","name":"AHV_CENTOS_76","uuid":"d2ffe3cf-564e-49d2-a884-798626bcb5bf"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"bc99f348-3a7f-4f2b-aca7-e3a72b611305","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_d2ffe3cf_564e_49d2_a884_798626bcb5bf","uuid":"8a75de97-cbcb-467d-98d6-859976a2fd0a"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_d2ffe3cf_564e_49d2_a884_798626bcb5bf"}],"description":"","message_list":[],"uuid":"3628500e-f789-407b-8bf0-6dfa52604b27","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_d2ffe3cf_564e_49d2_a884_798626bcb5bf","uuid":"ad63059a-fb3d-4b0e-82a4-b520fda68dcd"},"name":"SYS_GEN__Runbook_Package_d2ffe3cf_564e_49d2_a884_798626bcb5bf"}},{"description":"System action for starting an application","message_list":[],"uuid":"8a8fd14d-10ce-43e3-963b-5209afa6d3cc","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHV_CENTOS_76","uuid":"d2ffe3cf-564e-49d2-a884-798626bcb5bf"},"retries":"0","description":"","type":"DAG","uuid":"05eb14af-e395-4033-b76f-9c664f07ee16","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_d2ffe3cf_564e_49d2_a884_798626bcb5bf"}],"description":"","message_list":[],"uuid":"dae86325-93fd-4b11-a87b-e3a9fde5fc4e","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_d2ffe3cf_564e_49d2_a884_798626bcb5bf","uuid":"05eb14af-e395-4033-b76f-9c664f07ee16"},"name":"SYS_GEN__Runbook_Package_d2ffe3cf_564e_49d2_a884_798626bcb5bf"}},{"description":"System action for restarting an application","message_list":[],"uuid":"242a83b8-e3ed-4996-90ab-b6dc692a36d0","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHV_CENTOS_76","uuid":"d2ffe3cf-564e-49d2-a884-798626bcb5bf"},"retries":"0","description":"","type":"DAG","uuid":"1f7810ac-435f-489c-a76e-4535caf970f8","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_d2ffe3cf_564e_49d2_a884_798626bcb5bf"}],"description":"","message_list":[],"uuid":"67d98e82-70b5-4e51-b964-4ce0d552e20e","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_d2ffe3cf_564e_49d2_a884_798626bcb5bf","uuid":"1f7810ac-435f-489c-a76e-4535caf970f8"},"name":"SYS_GEN__Runbook_Package_d2ffe3cf_564e_49d2_a884_798626bcb5bf"}},{"description":"System action for stopping an application","message_list":[],"uuid":"d9be7ead-99e0-4055-ae57-8146a4e8ad57","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHV_CENTOS_76","uuid":"d2ffe3cf-564e-49d2-a884-798626bcb5bf"},"retries":"0","description":"","type":"DAG","uuid":"d4b3d2ce-233d-4dc3-88de-da84a5ac839f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_d2ffe3cf_564e_49d2_a884_798626bcb5bf"}],"description":"","message_list":[],"uuid":"7b8f295e-0833-4dd0-8049-b4ddebe9035a","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_d2ffe3cf_564e_49d2_a884_798626bcb5bf","uuid":"d4b3d2ce-233d-4dc3-88de-da84a5ac839f"},"name":"SYS_GEN__Runbook_Package_d2ffe3cf_564e_49d2_a884_798626bcb5bf"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"ae13a29d-32e9-40d9-acec-1c90aed9b2f7","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHV_CENTOS_76","uuid":"d2ffe3cf-564e-49d2-a884-798626bcb5bf"},"retries":"0","description":"","type":"DAG","uuid":"eef3d446-4971-4ae3-b289-b7ce59f754ed","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_d2ffe3cf_564e_49d2_a884_798626bcb5bf"}],"description":"","message_list":[],"uuid":"217609d9-cf19-474a-a3d6-0e38d91db687","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_d2ffe3cf_564e_49d2_a884_798626bcb5bf","uuid":"eef3d446-4971-4ae3-b289-b7ce59f754ed"},"name":"SYS_GEN__Runbook_Package_d2ffe3cf_564e_49d2_a884_798626bcb5bf"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"5f0aca23-e304-4b0e-8de7-acaa0e018586","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHV_CENTOS_76","uuid":"d2ffe3cf-564e-49d2-a884-798626bcb5bf"},"retries":"0","description":"","type":"DAG","uuid":"9baa7767-01c6-4d2f-8c49-0dd4dce04e68","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_d2ffe3cf_564e_49d2_a884_798626bcb5bf"}],"description":"","message_list":[],"uuid":"f06c76de-10f5-4ea9-bd54-923fefddab91","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_d2ffe3cf_564e_49d2_a884_798626bcb5bf","uuid":"9baa7767-01c6-4d2f-8c49-0dd4dce04e68"},"name":"SYS_GEN__Runbook_Package_d2ffe3cf_564e_49d2_a884_798626bcb5bf"}}],"message_list":[],"service_local_reference_list":[],"uuid":"d2ffe3cf-564e-49d2-a884-798626bcb5bf","state":"ACTIVE","version":"","editables":{},"type":"SUBSTRATE_IMAGE","options":{"type":"","name":"Centos-7.4-1810","resources":{"image_type":"DISK_IMAGE","checksum":{"checksum_algorithm":"","type":"","checksum_value":""},"source_uri":"http:\/\/download.nutanix.com\/calm\/CentOS-7-x86_64-1810.qcow2","version":{"product_version":"","type":"","product_name":""},"architecture":"X86_64","type":""},"description":""},"variable_list":[],"name":"AHV_CENTOS_76"},{"description":"","action_list":[{"description":"System action for installing an application","message_list":[],"uuid":"d4dca083-13e8-4a1e-a062-786ea7fa6954","name":"action_install","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPMasterPackage","uuid":"b5d0f3b4-c040-4fa9-ae5d-8f996b9efa42"},"retries":"0","description":"","type":"DAG","uuid":"57ac44c8-fbdf-42d9-a3ef-c7fca586344a","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Install_Crb_b5d0f3b4_c040_4fa9_ae5d_8f996b9efa42","uuid":"21934861-b019-469d-8830-4a7db4b79098"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Package_b5d0f3b4_c040_4fa9_ae5d_8f996b9efa42"},{"target_any_local_reference":{"kind":"app_package","name":"GCPMasterPackage","uuid":"b5d0f3b4-c040-4fa9-ae5d-8f996b9efa42"},"retries":"0","description":"","type":"CUSTOM_PACKAGE_INSTALL","uuid":"21934861-b019-469d-8830-4a7db4b79098","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPMasterPackage","uuid":"b5d0f3b4-c040-4fa9-ae5d-8f996b9efa42"},"retries":"0","description":"","type":"DAG","uuid":"808c364e-6cee-45d9-b311-b90a91745f8b","child_tasks_local_reference_list":[{"kind":"app_task","name":"Install System Packages","uuid":"c28e095f-7d81-40fc-867f-cc44501a7166"},{"kind":"app_task","name":"Create Disk Setup","uuid":"6cf6a7c0-b3bd-4678-a6c0-75fdb16e4062"},{"kind":"app_task","name":"Install Postgres","uuid":"4cfd1527-b0f4-4421-91bf-84a3ca39fb33"},{"kind":"app_task","name":"Setup Postgres","uuid":"5c5357bc-e01a-4822-9cf7-bc0e788b4225"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Install System Packages","uuid":"c28e095f-7d81-40fc-867f-cc44501a7166"},"edge_type":"user_defined","type":"","uuid":"87f101db-6e7a-4730-bd5e-ab4d2fdb51a0","to_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"6cf6a7c0-b3bd-4678-a6c0-75fdb16e4062"}},{"from_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"6cf6a7c0-b3bd-4678-a6c0-75fdb16e4062"},"edge_type":"user_defined","type":"","uuid":"82e640fc-f80a-4865-a440-96004345526c","to_task_reference":{"kind":"app_task","name":"Install Postgres","uuid":"4cfd1527-b0f4-4421-91bf-84a3ca39fb33"}},{"from_task_reference":{"kind":"app_task","name":"Install Postgres","uuid":"4cfd1527-b0f4-4421-91bf-84a3ca39fb33"},"edge_type":"user_defined","type":"","uuid":"52c9035e-10f3-4207-8d0c-5d8f3e14286c","to_task_reference":{"kind":"app_task","name":"Setup Postgres","uuid":"5c5357bc-e01a-4822-9cf7-bc0e788b4225"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"fa364770_dag"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"EXEC","uuid":"c28e095f-7d81-40fc-867f-cc44501a7166","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\nsudo yum -y upgrade\nsudo curl -O http:\/\/dl.fedoraproject.org\/pub\/epel\/7\/x86_64\/e\/epel-release-7-10.noarch.rpm\nsudo rpm --import https:\/\/www.elrepo.org\/RPM-GPG-KEY-elrepo.org\nsudo rpm -Uvh http:\/\/www.elrepo.org\/elrepo-release-7.0-3.el7.elrepo.noarch.rpm \nsudo rpm -ihv epel-release-7-10.noarch.rpm \n\nsudo yum update -y\nsudo yum -y install htop wget iotop xfs* bc unzip lvm2*\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"System packages are installed\"\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install System Packages"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"EXEC","uuid":"6cf6a7c0-b3bd-4678-a6c0-75fdb16e4062","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n##############\n#\n# LVM setup script for PostgreSQL . 4 disks for DATA and 2 for logs\n# Data disks are 60GB | Log disks are 20GB \n#\n#############\n\n\n#PGSQL data\nsudo pvcreate \/dev\/sdb \/dev\/sdc \/dev\/sdd \/dev\/sde\nsudo vgcreate pgDataVG \/dev\/sdb \/dev\/sdd \/dev\/sdc \/dev\/sde\nsudo lvcreate -l 100%FREE -i4 -I1M -n pgDataLV pgDataVG          ## Use 1MB to avoid IO amplification \n#lvcreate -l 100%FREE -i4 -I4M -n pgDataLV pgDataVG\n\n\n#PGSQL logs\nsudo pvcreate \/dev\/sdf \/dev\/sdg \nsudo vgcreate pgLogVG \/dev\/sdf \/dev\/sdg\nsudo lvcreate -l 100%FREE -i2 -I1M -n pgLogLV pgLogVG            ## Use 1MB to avoid IO amplification\n#lvcreate -l 100%FREE -i2 -I4M -n pgLogLV pgLogVG\n\n\n#Disable LVM read ahead\nsudo lvchange -r 0 \/dev\/pgDataVG\/pgDataLV\nsudo lvchange -r 0 \/dev\/pgLogVG\/pgLogLV\n\n\n#Format LVMs with ext4 and use nodiscard to make sure format time is fast on Nutanix due to SCSI unmap\nsudo mkfs.ext4 -E nodiscard \/dev\/pgDataVG\/pgDataLV\nsudo mkfs.ext4 -E nodiscard \/dev\/pgLogVG\/pgLogLV\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Create Disk Setup"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"EXEC","uuid":"4cfd1527-b0f4-4421-91bf-84a3ca39fb33","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\nsudo wget -c https:\/\/download.postgresql.org\/pub\/repos\/yum\/9.6\/redhat\/rhel-7-x86_64\/pgdg-centos96-9.6-3.noarch.rpm\nsudo yum -y install pgdg-centos96-9.6-3.noarch.rpm\nsudo rpm --import http:\/\/packages.2ndquadrant.com\/repmgr\/RPM-GPG-KEY-repmgr\nsudo yum install -y http:\/\/packages.2ndquadrant.com\/repmgr\/yum-repo-rpms\/repmgr-rhel-1.0-1.noarch.rpm\n\n# Install PostgreSQL\nsudo yum -y install postgresql96 postgresql96-contrib postgresql96-server postgresql96-devel postgresql96-plpython\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install Postgres"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"EXEC","uuid":"5c5357bc-e01a-4822-9cf7-bc0e788b4225","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\n#run initdb\nsudo \/usr\/pgsql-9.6\/bin\/postgresql96-setup initdb\n\n#start and stop postgresql to make sure DB creates the required directories\nsudo systemctl start postgresql-9.6.service\nsudo systemctl stop postgresql-9.6.service\n\n##copy the created postgres directory to a temp directory\n\nsudo mkdir \/tmp\/pgsql\n\nsudo mv \/var\/lib\/pgsql\/9.6\/data \/tmp\/pgsql\n\n#Create directory , fix permissions and Mount LVM\nsudo mkdir \/var\/lib\/pgsql\/9.6\/data\/\nsudo mount -o noatime,barrier=0 \/dev\/pgDataVG\/pgDataLV \/var\/lib\/pgsql\/9.6\/data\/ \n\nsudo mkdir \/var\/lib\/pgsql\/9.6\/data\/pg_xlog\nsudo mount -o noatime,barrier=0 \/dev\/pgLogVG\/pgLogLV \/var\/lib\/pgsql\/9.6\/data\/pg_xlog\n\nsudo chown -R postgres:postgres \/var\/lib\/pgsql\/9.6\/data\/\n\n#move the xlog to the new LVM\nsudo find \/tmp\/pgsql\/data\/pg_xlog -maxdepth 1 -mindepth 1 -exec mv -t \/var\/lib\/pgsql\/9.6\/data\/pg_xlog\/ {} +\n\n#remove pg_xlog from temp dir to avoid being copied again\nsudo rm -rf \/tmp\/pgsql\/data\/pg_xlog\n\n#move the pgsql directory to the LVM\nsudo find \/tmp\/pgsql\/data -maxdepth 1 -mindepth 1 -exec mv -t \/var\/lib\/pgsql\/9.6\/data\/ {} +\n\nsudo chmod -R 0700 \/var\/lib\/pgsql\/9.6\/data\n\n#enable service on boot\nsudo systemctl enable postgresql-9.6.service\n\n#add mount points to \/etc\/fstab\necho \"\/dev\/mapper\/pgDataVG-pgDataLV \/var\/lib\/pgsql\/9.6\/data ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\necho \"\/dev\/mapper\/pgLogVG-pgLogLV \/var\/lib\/pgsql\/9.6\/data\/pg_xlog ext4 rw,seclabel,noatime,nobarrier,stripe=2048,data=ordered 0 0\" | sudo tee -a  \/etc\/fstab\n\n\nsudo systemctl status postgresql-9.6\nsudo systemctl restart postgresql-9.6\nsudo systemctl status postgresql-9.6","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Setup Postgres"}],"description":"","message_list":[],"uuid":"c44fd841-fcb8-4ba4-b40e-ada1edd06922","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"fa364770_dag","uuid":"808c364e-6cee-45d9-b311-b90a91745f8b"},"name":"ed71914a_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPMasterPackage","uuid":"b5d0f3b4-c040-4fa9-ae5d-8f996b9efa42"},"retries":"0","description":"","type":"DAG","uuid":"90092e19-5e1b-4fcb-9683-9dc97f06de4a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"08278acb_dag"}],"description":"","message_list":[],"uuid":"bf88d511-0cbd-4880-b1c4-b294235e6fdd","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"08278acb_dag","uuid":"90092e19-5e1b-4fcb-9683-9dc97f06de4a"},"name":"d6caa99d_runbook"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Install_Crb_b5d0f3b4_c040_4fa9_ae5d_8f996b9efa42"}],"description":"","message_list":[],"uuid":"44025375-e16a-4ab4-8ac3-7b31f766dbbd","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Package_b5d0f3b4_c040_4fa9_ae5d_8f996b9efa42","uuid":"57ac44c8-fbdf-42d9-a3ef-c7fca586344a"},"name":"SYS_GEN__Runbook_Package_b5d0f3b4_c040_4fa9_ae5d_8f996b9efa42"}},{"description":"System action for creating an application","message_list":[],"uuid":"c4fe7bc6-5d8e-4f92-b2cd-eb9ed395d85e","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPMasterPackage","uuid":"b5d0f3b4-c040-4fa9-ae5d-8f996b9efa42"},"retries":"0","description":"","type":"DAG","uuid":"53229eed-79e6-45a1-ab87-52f47518c5a7","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_b5d0f3b4_c040_4fa9_ae5d_8f996b9efa42","uuid":"dc8a227c-b92a-4d64-ac45-75a1ecf9bb3e"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"4e29cdc9-b02e-4508-b13c-4a3ea04e34a2"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"42c5265a-7750-46f9-b066-06cfc22b5f33"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"4e29cdc9-b02e-4508-b13c-4a3ea04e34a2"},"edge_type":"inherent","type":"","uuid":"5bf33264-4e1f-4bee-acfe-eb74b4b253a8","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"42c5265a-7750-46f9-b066-06cfc22b5f33"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_b5d0f3b4_c040_4fa9_ae5d_8f996b9efa42","uuid":"dc8a227c-b92a-4d64-ac45-75a1ecf9bb3e"},"edge_type":"inherent","type":"","uuid":"0ad6c8a7-6a97-453d-b027-c886f5902eb0","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"4e29cdc9-b02e-4508-b13c-4a3ea04e34a2"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_b5d0f3b4_c040_4fa9_ae5d_8f996b9efa42"},{"target_any_local_reference":{"kind":"app_package","name":"GCPMasterPackage","uuid":"b5d0f3b4-c040-4fa9-ae5d-8f996b9efa42"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"dc8a227c-b92a-4d64-ac45-75a1ecf9bb3e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_b5d0f3b4_c040_4fa9_ae5d_8f996b9efa42","uuid":"44025375-e16a-4ab4-8ac3-7b31f766dbbd"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_b5d0f3b4_c040_4fa9_ae5d_8f996b9efa42"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"4e29cdc9-b02e-4508-b13c-4a3ea04e34a2","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"c528d489_runbook","uuid":"a5cf54be-5eb3-4cbb-8cbf-c295bbc3af83"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"42c5265a-7750-46f9-b066-06cfc22b5f33","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"c02553e2_runbook","uuid":"81959707-f27f-4259-a9b6-d4f736a28f5c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90"}],"description":"","message_list":[],"uuid":"961b9cae-41de-4dbf-bfce-5b50017be549","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_b5d0f3b4_c040_4fa9_ae5d_8f996b9efa42","uuid":"53229eed-79e6-45a1-ab87-52f47518c5a7"},"name":"SYS_GEN__Runbook_Package_b5d0f3b4_c040_4fa9_ae5d_8f996b9efa42"}},{"description":"System action for uninstalling an application","message_list":[],"uuid":"bc994051-6e66-4dc4-83c6-c7ec5dc99d01","name":"action_uninstall","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPMasterPackage","uuid":"b5d0f3b4-c040-4fa9-ae5d-8f996b9efa42"},"retries":"0","description":"","type":"DAG","uuid":"254fa1da-e1bc-4ace-9284-3f609d09c8c1","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Uninstall_Crb_b5d0f3b4_c040_4fa9_ae5d_8f996b9efa42","uuid":"a6e11908-2c9e-4d54-ac08-a2b8f0de1177"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Package_b5d0f3b4_c040_4fa9_ae5d_8f996b9efa42"},{"target_any_local_reference":{"kind":"app_package","name":"GCPMasterPackage","uuid":"b5d0f3b4-c040-4fa9-ae5d-8f996b9efa42"},"retries":"0","description":"","type":"CUSTOM_PACKAGE_UNINSTALL","uuid":"a6e11908-2c9e-4d54-ac08-a2b8f0de1177","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPMasterPackage","uuid":"b5d0f3b4-c040-4fa9-ae5d-8f996b9efa42"},"retries":"0","description":"","type":"DAG","uuid":"808c364e-6cee-45d9-b311-b90a91745f8b","child_tasks_local_reference_list":[{"kind":"app_task","name":"Install System Packages","uuid":"c28e095f-7d81-40fc-867f-cc44501a7166"},{"kind":"app_task","name":"Create Disk Setup","uuid":"6cf6a7c0-b3bd-4678-a6c0-75fdb16e4062"},{"kind":"app_task","name":"Install Postgres","uuid":"4cfd1527-b0f4-4421-91bf-84a3ca39fb33"},{"kind":"app_task","name":"Setup Postgres","uuid":"5c5357bc-e01a-4822-9cf7-bc0e788b4225"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Install System Packages","uuid":"c28e095f-7d81-40fc-867f-cc44501a7166"},"edge_type":"user_defined","type":"","uuid":"87f101db-6e7a-4730-bd5e-ab4d2fdb51a0","to_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"6cf6a7c0-b3bd-4678-a6c0-75fdb16e4062"}},{"from_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"6cf6a7c0-b3bd-4678-a6c0-75fdb16e4062"},"edge_type":"user_defined","type":"","uuid":"82e640fc-f80a-4865-a440-96004345526c","to_task_reference":{"kind":"app_task","name":"Install Postgres","uuid":"4cfd1527-b0f4-4421-91bf-84a3ca39fb33"}},{"from_task_reference":{"kind":"app_task","name":"Install Postgres","uuid":"4cfd1527-b0f4-4421-91bf-84a3ca39fb33"},"edge_type":"user_defined","type":"","uuid":"52c9035e-10f3-4207-8d0c-5d8f3e14286c","to_task_reference":{"kind":"app_task","name":"Setup Postgres","uuid":"5c5357bc-e01a-4822-9cf7-bc0e788b4225"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"fa364770_dag"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"EXEC","uuid":"c28e095f-7d81-40fc-867f-cc44501a7166","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\nsudo yum -y upgrade\nsudo curl -O http:\/\/dl.fedoraproject.org\/pub\/epel\/7\/x86_64\/e\/epel-release-7-10.noarch.rpm\nsudo rpm --import https:\/\/www.elrepo.org\/RPM-GPG-KEY-elrepo.org\nsudo rpm -Uvh http:\/\/www.elrepo.org\/elrepo-release-7.0-3.el7.elrepo.noarch.rpm \nsudo rpm -ihv epel-release-7-10.noarch.rpm \n\nsudo yum update -y\nsudo yum -y install htop wget iotop xfs* bc unzip lvm2*\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"System packages are installed\"\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install System Packages"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"EXEC","uuid":"6cf6a7c0-b3bd-4678-a6c0-75fdb16e4062","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n##############\n#\n# LVM setup script for PostgreSQL . 4 disks for DATA and 2 for logs\n# Data disks are 60GB | Log disks are 20GB \n#\n#############\n\n\n#PGSQL data\nsudo pvcreate \/dev\/sdb \/dev\/sdc \/dev\/sdd \/dev\/sde\nsudo vgcreate pgDataVG \/dev\/sdb \/dev\/sdd \/dev\/sdc \/dev\/sde\nsudo lvcreate -l 100%FREE -i4 -I1M -n pgDataLV pgDataVG          ## Use 1MB to avoid IO amplification \n#lvcreate -l 100%FREE -i4 -I4M -n pgDataLV pgDataVG\n\n\n#PGSQL logs\nsudo pvcreate \/dev\/sdf \/dev\/sdg \nsudo vgcreate pgLogVG \/dev\/sdf \/dev\/sdg\nsudo lvcreate -l 100%FREE -i2 -I1M -n pgLogLV pgLogVG            ## Use 1MB to avoid IO amplification\n#lvcreate -l 100%FREE -i2 -I4M -n pgLogLV pgLogVG\n\n\n#Disable LVM read ahead\nsudo lvchange -r 0 \/dev\/pgDataVG\/pgDataLV\nsudo lvchange -r 0 \/dev\/pgLogVG\/pgLogLV\n\n\n#Format LVMs with ext4 and use nodiscard to make sure format time is fast on Nutanix due to SCSI unmap\nsudo mkfs.ext4 -E nodiscard \/dev\/pgDataVG\/pgDataLV\nsudo mkfs.ext4 -E nodiscard \/dev\/pgLogVG\/pgLogLV\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Create Disk Setup"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"EXEC","uuid":"4cfd1527-b0f4-4421-91bf-84a3ca39fb33","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\nsudo wget -c https:\/\/download.postgresql.org\/pub\/repos\/yum\/9.6\/redhat\/rhel-7-x86_64\/pgdg-centos96-9.6-3.noarch.rpm\nsudo yum -y install pgdg-centos96-9.6-3.noarch.rpm\nsudo rpm --import http:\/\/packages.2ndquadrant.com\/repmgr\/RPM-GPG-KEY-repmgr\nsudo yum install -y http:\/\/packages.2ndquadrant.com\/repmgr\/yum-repo-rpms\/repmgr-rhel-1.0-1.noarch.rpm\n\n# Install PostgreSQL\nsudo yum -y install postgresql96 postgresql96-contrib postgresql96-server postgresql96-devel postgresql96-plpython\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install Postgres"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"EXEC","uuid":"5c5357bc-e01a-4822-9cf7-bc0e788b4225","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\n#run initdb\nsudo \/usr\/pgsql-9.6\/bin\/postgresql96-setup initdb\n\n#start and stop postgresql to make sure DB creates the required directories\nsudo systemctl start postgresql-9.6.service\nsudo systemctl stop postgresql-9.6.service\n\n##copy the created postgres directory to a temp directory\n\nsudo mkdir \/tmp\/pgsql\n\nsudo mv \/var\/lib\/pgsql\/9.6\/data \/tmp\/pgsql\n\n#Create directory , fix permissions and Mount LVM\nsudo mkdir \/var\/lib\/pgsql\/9.6\/data\/\nsudo mount -o noatime,barrier=0 \/dev\/pgDataVG\/pgDataLV \/var\/lib\/pgsql\/9.6\/data\/ \n\nsudo mkdir \/var\/lib\/pgsql\/9.6\/data\/pg_xlog\nsudo mount -o noatime,barrier=0 \/dev\/pgLogVG\/pgLogLV \/var\/lib\/pgsql\/9.6\/data\/pg_xlog\n\nsudo chown -R postgres:postgres \/var\/lib\/pgsql\/9.6\/data\/\n\n#move the xlog to the new LVM\nsudo find \/tmp\/pgsql\/data\/pg_xlog -maxdepth 1 -mindepth 1 -exec mv -t \/var\/lib\/pgsql\/9.6\/data\/pg_xlog\/ {} +\n\n#remove pg_xlog from temp dir to avoid being copied again\nsudo rm -rf \/tmp\/pgsql\/data\/pg_xlog\n\n#move the pgsql directory to the LVM\nsudo find \/tmp\/pgsql\/data -maxdepth 1 -mindepth 1 -exec mv -t \/var\/lib\/pgsql\/9.6\/data\/ {} +\n\nsudo chmod -R 0700 \/var\/lib\/pgsql\/9.6\/data\n\n#enable service on boot\nsudo systemctl enable postgresql-9.6.service\n\n#add mount points to \/etc\/fstab\necho \"\/dev\/mapper\/pgDataVG-pgDataLV \/var\/lib\/pgsql\/9.6\/data ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\necho \"\/dev\/mapper\/pgLogVG-pgLogLV \/var\/lib\/pgsql\/9.6\/data\/pg_xlog ext4 rw,seclabel,noatime,nobarrier,stripe=2048,data=ordered 0 0\" | sudo tee -a  \/etc\/fstab\n\n\nsudo systemctl status postgresql-9.6\nsudo systemctl restart postgresql-9.6\nsudo systemctl status postgresql-9.6","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Setup Postgres"}],"description":"","message_list":[],"uuid":"c44fd841-fcb8-4ba4-b40e-ada1edd06922","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"fa364770_dag","uuid":"808c364e-6cee-45d9-b311-b90a91745f8b"},"name":"ed71914a_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPMasterPackage","uuid":"b5d0f3b4-c040-4fa9-ae5d-8f996b9efa42"},"retries":"0","description":"","type":"DAG","uuid":"90092e19-5e1b-4fcb-9683-9dc97f06de4a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"08278acb_dag"}],"description":"","message_list":[],"uuid":"bf88d511-0cbd-4880-b1c4-b294235e6fdd","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"08278acb_dag","uuid":"90092e19-5e1b-4fcb-9683-9dc97f06de4a"},"name":"d6caa99d_runbook"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Uninstall_Crb_b5d0f3b4_c040_4fa9_ae5d_8f996b9efa42"}],"description":"","message_list":[],"uuid":"11954c7c-d449-4aca-a56a-7001b5f2e57a","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Package_b5d0f3b4_c040_4fa9_ae5d_8f996b9efa42","uuid":"254fa1da-e1bc-4ace-9284-3f609d09c8c1"},"name":"SYS_GEN__Runbook_Package_b5d0f3b4_c040_4fa9_ae5d_8f996b9efa42"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"72b6d486-6810-4eea-a6ec-403361a0b358","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPMasterPackage","uuid":"b5d0f3b4-c040-4fa9-ae5d-8f996b9efa42"},"retries":"0","description":"","type":"DAG","uuid":"656aa140-e79b-4275-b065-4cad9105df42","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"a006c931-714a-449a-8947-20371767ba06"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"00e2533c-b8e6-4e4f-bf6f-69576f601959"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_b5d0f3b4_c040_4fa9_ae5d_8f996b9efa42","uuid":"7f80558c-dcaa-419b-a15a-bb2ad2bbdcbd"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"a006c931-714a-449a-8947-20371767ba06"},"edge_type":"inherent","type":"","uuid":"0beca8b3-ae75-4134-8ba3-fc2a231f2fa1","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"00e2533c-b8e6-4e4f-bf6f-69576f601959"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"00e2533c-b8e6-4e4f-bf6f-69576f601959"},"edge_type":"inherent","type":"","uuid":"411ed994-bc2f-45f9-b7bf-99bd65104de0","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_b5d0f3b4_c040_4fa9_ae5d_8f996b9efa42","uuid":"7f80558c-dcaa-419b-a15a-bb2ad2bbdcbd"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_b5d0f3b4_c040_4fa9_ae5d_8f996b9efa42"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"a006c931-714a-449a-8947-20371767ba06","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"deb1443a_runbook","uuid":"86288a79-ba17-4500-a81a-1ed2afb6b9b8"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"00e2533c-b8e6-4e4f-bf6f-69576f601959","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"8ad650b2_runbook","uuid":"f31a5f00-62ad-4b57-8fbf-cd1f020f2bfc"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90"},{"target_any_local_reference":{"kind":"app_package","name":"GCPMasterPackage","uuid":"b5d0f3b4-c040-4fa9-ae5d-8f996b9efa42"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"7f80558c-dcaa-419b-a15a-bb2ad2bbdcbd","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_b5d0f3b4_c040_4fa9_ae5d_8f996b9efa42","uuid":"11954c7c-d449-4aca-a56a-7001b5f2e57a"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_b5d0f3b4_c040_4fa9_ae5d_8f996b9efa42"}],"description":"","message_list":[],"uuid":"0f1394a5-86a0-430c-acb9-d53513f5e05d","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_b5d0f3b4_c040_4fa9_ae5d_8f996b9efa42","uuid":"656aa140-e79b-4275-b065-4cad9105df42"},"name":"SYS_GEN__Runbook_Package_b5d0f3b4_c040_4fa9_ae5d_8f996b9efa42"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"2730b4fa-e2d1-43a9-8bb9-6c2697ad3a4e","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPMasterPackage","uuid":"b5d0f3b4-c040-4fa9-ae5d-8f996b9efa42"},"retries":"0","description":"","type":"DAG","uuid":"e5c5f00d-4e1d-4e61-9bb8-47620af1be97","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"5465c489-40ed-4041-ae32-2d94c165b6b5"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_b5d0f3b4_c040_4fa9_ae5d_8f996b9efa42","uuid":"a9dc90ac-9a63-49c0-bbd6-412cc1d4b0b1"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"5465c489-40ed-4041-ae32-2d94c165b6b5"},"edge_type":"inherent","type":"","uuid":"34376e7e-6664-4077-856a-802ef05083e9","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_b5d0f3b4_c040_4fa9_ae5d_8f996b9efa42","uuid":"a9dc90ac-9a63-49c0-bbd6-412cc1d4b0b1"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_b5d0f3b4_c040_4fa9_ae5d_8f996b9efa42"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"5465c489-40ed-4041-ae32-2d94c165b6b5","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"92ba2635-e9da-48a5-8b58-7a4b4a61ffdf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90"},{"target_any_local_reference":{"kind":"app_package","name":"GCPMasterPackage","uuid":"b5d0f3b4-c040-4fa9-ae5d-8f996b9efa42"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"a9dc90ac-9a63-49c0-bbd6-412cc1d4b0b1","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_b5d0f3b4_c040_4fa9_ae5d_8f996b9efa42"}],"description":"","message_list":[],"uuid":"ba631446-f6eb-4d93-bb02-af5fa8255f3d","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_b5d0f3b4_c040_4fa9_ae5d_8f996b9efa42","uuid":"e5c5f00d-4e1d-4e61-9bb8-47620af1be97"},"name":"SYS_GEN__Runbook_Package_b5d0f3b4_c040_4fa9_ae5d_8f996b9efa42"}},{"description":"System action for starting an application","message_list":[],"uuid":"cc8cc0cf-eadb-48ec-b700-45fe8473f390","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPMasterPackage","uuid":"b5d0f3b4-c040-4fa9-ae5d-8f996b9efa42"},"retries":"0","description":"","type":"DAG","uuid":"cfa5e23f-f7ff-4fa6-ae13-18395502c14e","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"d40245c4-7bdc-43a3-8bd9-afcac95fd409"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_b5d0f3b4_c040_4fa9_ae5d_8f996b9efa42"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"d40245c4-7bdc-43a3-8bd9-afcac95fd409","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"c02553e2_runbook","uuid":"81959707-f27f-4259-a9b6-d4f736a28f5c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90"}],"description":"","message_list":[],"uuid":"f1639764-f7e0-4c8a-a757-67dc946017d7","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_b5d0f3b4_c040_4fa9_ae5d_8f996b9efa42","uuid":"cfa5e23f-f7ff-4fa6-ae13-18395502c14e"},"name":"SYS_GEN__Runbook_Package_b5d0f3b4_c040_4fa9_ae5d_8f996b9efa42"}},{"description":"System action for restarting an application","message_list":[],"uuid":"dd68c119-ba80-4dd3-aac8-c9a038da7bec","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPMasterPackage","uuid":"b5d0f3b4-c040-4fa9-ae5d-8f996b9efa42"},"retries":"0","description":"","type":"DAG","uuid":"45dfab1f-55bd-4b69-9c84-9b5e98bf52a3","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"7af52e97-a828-48f5-9f6d-7fbf008be5ba"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_b5d0f3b4_c040_4fa9_ae5d_8f996b9efa42"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"7af52e97-a828-48f5-9f6d-7fbf008be5ba","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"a9d9f266_runbook","uuid":"a32389b2-74a8-4a75-b897-c7158c11032e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90"}],"description":"","message_list":[],"uuid":"d48e310e-696d-4ac5-8cbd-70020df9c2fa","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_b5d0f3b4_c040_4fa9_ae5d_8f996b9efa42","uuid":"45dfab1f-55bd-4b69-9c84-9b5e98bf52a3"},"name":"SYS_GEN__Runbook_Package_b5d0f3b4_c040_4fa9_ae5d_8f996b9efa42"}},{"description":"System action for stopping an application","message_list":[],"uuid":"b364f620-afff-4eac-9db1-6ce370b6bb4d","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPMasterPackage","uuid":"b5d0f3b4-c040-4fa9-ae5d-8f996b9efa42"},"retries":"0","description":"","type":"DAG","uuid":"354be0fb-13ce-4dc0-a476-dc1e14721911","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"41258ef6-aba1-4047-8941-de7b6f6759cc"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_b5d0f3b4_c040_4fa9_ae5d_8f996b9efa42"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"41258ef6-aba1-4047-8941-de7b6f6759cc","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"deb1443a_runbook","uuid":"86288a79-ba17-4500-a81a-1ed2afb6b9b8"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90"}],"description":"","message_list":[],"uuid":"9da3c372-6b84-4e71-924d-719adf4b8484","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_b5d0f3b4_c040_4fa9_ae5d_8f996b9efa42","uuid":"354be0fb-13ce-4dc0-a476-dc1e14721911"},"name":"SYS_GEN__Runbook_Package_b5d0f3b4_c040_4fa9_ae5d_8f996b9efa42"}}],"message_list":[],"service_local_reference_list":[{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"}],"uuid":"b5d0f3b4-c040-4fa9-ae5d-8f996b9efa42","state":"ACTIVE","version":"","editables":{},"type":"DEB","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPMasterPackage","uuid":"b5d0f3b4-c040-4fa9-ae5d-8f996b9efa42"},"retries":"0","description":"","type":"DAG","uuid":"808c364e-6cee-45d9-b311-b90a91745f8b","child_tasks_local_reference_list":[{"kind":"app_task","name":"Install System Packages","uuid":"c28e095f-7d81-40fc-867f-cc44501a7166"},{"kind":"app_task","name":"Create Disk Setup","uuid":"6cf6a7c0-b3bd-4678-a6c0-75fdb16e4062"},{"kind":"app_task","name":"Install Postgres","uuid":"4cfd1527-b0f4-4421-91bf-84a3ca39fb33"},{"kind":"app_task","name":"Setup Postgres","uuid":"5c5357bc-e01a-4822-9cf7-bc0e788b4225"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Install System Packages","uuid":"c28e095f-7d81-40fc-867f-cc44501a7166"},"edge_type":"user_defined","type":"","uuid":"87f101db-6e7a-4730-bd5e-ab4d2fdb51a0","to_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"6cf6a7c0-b3bd-4678-a6c0-75fdb16e4062"}},{"from_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"6cf6a7c0-b3bd-4678-a6c0-75fdb16e4062"},"edge_type":"user_defined","type":"","uuid":"82e640fc-f80a-4865-a440-96004345526c","to_task_reference":{"kind":"app_task","name":"Install Postgres","uuid":"4cfd1527-b0f4-4421-91bf-84a3ca39fb33"}},{"from_task_reference":{"kind":"app_task","name":"Install Postgres","uuid":"4cfd1527-b0f4-4421-91bf-84a3ca39fb33"},"edge_type":"user_defined","type":"","uuid":"52c9035e-10f3-4207-8d0c-5d8f3e14286c","to_task_reference":{"kind":"app_task","name":"Setup Postgres","uuid":"5c5357bc-e01a-4822-9cf7-bc0e788b4225"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"fa364770_dag"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"EXEC","uuid":"c28e095f-7d81-40fc-867f-cc44501a7166","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\nsudo yum -y upgrade\nsudo curl -O http:\/\/dl.fedoraproject.org\/pub\/epel\/7\/x86_64\/e\/epel-release-7-10.noarch.rpm\nsudo rpm --import https:\/\/www.elrepo.org\/RPM-GPG-KEY-elrepo.org\nsudo rpm -Uvh http:\/\/www.elrepo.org\/elrepo-release-7.0-3.el7.elrepo.noarch.rpm \nsudo rpm -ihv epel-release-7-10.noarch.rpm \n\nsudo yum update -y\nsudo yum -y install htop wget iotop xfs* bc unzip lvm2*\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"System packages are installed\"\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install System Packages"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"EXEC","uuid":"6cf6a7c0-b3bd-4678-a6c0-75fdb16e4062","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n##############\n#\n# LVM setup script for PostgreSQL . 4 disks for DATA and 2 for logs\n# Data disks are 60GB | Log disks are 20GB \n#\n#############\n\n\n#PGSQL data\nsudo pvcreate \/dev\/sdb \/dev\/sdc \/dev\/sdd \/dev\/sde\nsudo vgcreate pgDataVG \/dev\/sdb \/dev\/sdd \/dev\/sdc \/dev\/sde\nsudo lvcreate -l 100%FREE -i4 -I1M -n pgDataLV pgDataVG          ## Use 1MB to avoid IO amplification \n#lvcreate -l 100%FREE -i4 -I4M -n pgDataLV pgDataVG\n\n\n#PGSQL logs\nsudo pvcreate \/dev\/sdf \/dev\/sdg \nsudo vgcreate pgLogVG \/dev\/sdf \/dev\/sdg\nsudo lvcreate -l 100%FREE -i2 -I1M -n pgLogLV pgLogVG            ## Use 1MB to avoid IO amplification\n#lvcreate -l 100%FREE -i2 -I4M -n pgLogLV pgLogVG\n\n\n#Disable LVM read ahead\nsudo lvchange -r 0 \/dev\/pgDataVG\/pgDataLV\nsudo lvchange -r 0 \/dev\/pgLogVG\/pgLogLV\n\n\n#Format LVMs with ext4 and use nodiscard to make sure format time is fast on Nutanix due to SCSI unmap\nsudo mkfs.ext4 -E nodiscard \/dev\/pgDataVG\/pgDataLV\nsudo mkfs.ext4 -E nodiscard \/dev\/pgLogVG\/pgLogLV\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Create Disk Setup"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"EXEC","uuid":"4cfd1527-b0f4-4421-91bf-84a3ca39fb33","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\nsudo wget -c https:\/\/download.postgresql.org\/pub\/repos\/yum\/9.6\/redhat\/rhel-7-x86_64\/pgdg-centos96-9.6-3.noarch.rpm\nsudo yum -y install pgdg-centos96-9.6-3.noarch.rpm\nsudo rpm --import http:\/\/packages.2ndquadrant.com\/repmgr\/RPM-GPG-KEY-repmgr\nsudo yum install -y http:\/\/packages.2ndquadrant.com\/repmgr\/yum-repo-rpms\/repmgr-rhel-1.0-1.noarch.rpm\n\n# Install PostgreSQL\nsudo yum -y install postgresql96 postgresql96-contrib postgresql96-server postgresql96-devel postgresql96-plpython\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install Postgres"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"EXEC","uuid":"5c5357bc-e01a-4822-9cf7-bc0e788b4225","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\n#run initdb\nsudo \/usr\/pgsql-9.6\/bin\/postgresql96-setup initdb\n\n#start and stop postgresql to make sure DB creates the required directories\nsudo systemctl start postgresql-9.6.service\nsudo systemctl stop postgresql-9.6.service\n\n##copy the created postgres directory to a temp directory\n\nsudo mkdir \/tmp\/pgsql\n\nsudo mv \/var\/lib\/pgsql\/9.6\/data \/tmp\/pgsql\n\n#Create directory , fix permissions and Mount LVM\nsudo mkdir \/var\/lib\/pgsql\/9.6\/data\/\nsudo mount -o noatime,barrier=0 \/dev\/pgDataVG\/pgDataLV \/var\/lib\/pgsql\/9.6\/data\/ \n\nsudo mkdir \/var\/lib\/pgsql\/9.6\/data\/pg_xlog\nsudo mount -o noatime,barrier=0 \/dev\/pgLogVG\/pgLogLV \/var\/lib\/pgsql\/9.6\/data\/pg_xlog\n\nsudo chown -R postgres:postgres \/var\/lib\/pgsql\/9.6\/data\/\n\n#move the xlog to the new LVM\nsudo find \/tmp\/pgsql\/data\/pg_xlog -maxdepth 1 -mindepth 1 -exec mv -t \/var\/lib\/pgsql\/9.6\/data\/pg_xlog\/ {} +\n\n#remove pg_xlog from temp dir to avoid being copied again\nsudo rm -rf \/tmp\/pgsql\/data\/pg_xlog\n\n#move the pgsql directory to the LVM\nsudo find \/tmp\/pgsql\/data -maxdepth 1 -mindepth 1 -exec mv -t \/var\/lib\/pgsql\/9.6\/data\/ {} +\n\nsudo chmod -R 0700 \/var\/lib\/pgsql\/9.6\/data\n\n#enable service on boot\nsudo systemctl enable postgresql-9.6.service\n\n#add mount points to \/etc\/fstab\necho \"\/dev\/mapper\/pgDataVG-pgDataLV \/var\/lib\/pgsql\/9.6\/data ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\necho \"\/dev\/mapper\/pgLogVG-pgLogLV \/var\/lib\/pgsql\/9.6\/data\/pg_xlog ext4 rw,seclabel,noatime,nobarrier,stripe=2048,data=ordered 0 0\" | sudo tee -a  \/etc\/fstab\n\n\nsudo systemctl status postgresql-9.6\nsudo systemctl restart postgresql-9.6\nsudo systemctl status postgresql-9.6","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Setup Postgres"}],"description":"","message_list":[],"uuid":"c44fd841-fcb8-4ba4-b40e-ada1edd06922","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"fa364770_dag","uuid":"808c364e-6cee-45d9-b311-b90a91745f8b"},"name":"ed71914a_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPMasterPackage","uuid":"b5d0f3b4-c040-4fa9-ae5d-8f996b9efa42"},"retries":"0","description":"","type":"DAG","uuid":"90092e19-5e1b-4fcb-9683-9dc97f06de4a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"08278acb_dag"}],"description":"","message_list":[],"uuid":"bf88d511-0cbd-4880-b1c4-b294235e6fdd","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"08278acb_dag","uuid":"90092e19-5e1b-4fcb-9683-9dc97f06de4a"},"name":"d6caa99d_runbook"}},"variable_list":[],"name":"GCPMasterPackage"},{"description":"","action_list":[{"description":"System action for installing an application","message_list":[],"uuid":"686b7a4c-ff15-4d38-b493-2ee75162eda5","name":"action_install","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVSlavePackage","uuid":"60df6e19-5223-47b3-980c-c5b707533fa9"},"retries":"0","description":"","type":"DAG","uuid":"aa7f7e27-cb38-4c2e-b111-0ac0fce9008d","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Install_Crb_60df6e19_5223_47b3_980c_c5b707533fa9","uuid":"a6c13fbd-c108-40ae-92c0-e58bf50acb70"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Package_60df6e19_5223_47b3_980c_c5b707533fa9"},{"target_any_local_reference":{"kind":"app_package","name":"AHVSlavePackage","uuid":"60df6e19-5223-47b3-980c-c5b707533fa9"},"retries":"0","description":"","type":"CUSTOM_PACKAGE_INSTALL","uuid":"a6c13fbd-c108-40ae-92c0-e58bf50acb70","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVSlavePackage","uuid":"60df6e19-5223-47b3-980c-c5b707533fa9"},"retries":"0","description":"","type":"DAG","uuid":"2bcf2f47-14ab-41e0-9df0-630ea5e607d0","child_tasks_local_reference_list":[{"kind":"app_task","name":"Install System Packages","uuid":"34cfc664-08ae-423c-9d40-a5ce34ec1042"},{"kind":"app_task","name":"Create Disk Setup","uuid":"356015ad-328d-4ced-a111-bf16828e6683"},{"kind":"app_task","name":"Install Postgres","uuid":"afadf44b-d0aa-4a1b-8ce6-2b15b848c97b"},{"kind":"app_task","name":"Setup Postgres","uuid":"d80a5687-d655-4b9e-87f0-ee205693b783"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Install System Packages","uuid":"34cfc664-08ae-423c-9d40-a5ce34ec1042"},"edge_type":"user_defined","type":"","uuid":"318f0aa3-952d-4509-b9d4-21ab1620526f","to_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"356015ad-328d-4ced-a111-bf16828e6683"}},{"from_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"356015ad-328d-4ced-a111-bf16828e6683"},"edge_type":"user_defined","type":"","uuid":"3c6204bb-d5ef-4135-94b6-bfbc76bdf24f","to_task_reference":{"kind":"app_task","name":"Install Postgres","uuid":"afadf44b-d0aa-4a1b-8ce6-2b15b848c97b"}},{"from_task_reference":{"kind":"app_task","name":"Install Postgres","uuid":"afadf44b-d0aa-4a1b-8ce6-2b15b848c97b"},"edge_type":"user_defined","type":"","uuid":"eaa337bf-0824-4712-b710-e4c838d7705d","to_task_reference":{"kind":"app_task","name":"Setup Postgres","uuid":"d80a5687-d655-4b9e-87f0-ee205693b783"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"3b6ef475_dag"},{"target_any_local_reference":{"kind":"app_package","name":"AHVSlavePackage","uuid":"60df6e19-5223-47b3-980c-c5b707533fa9"},"retries":"0","description":"","type":"EXEC","uuid":"34cfc664-08ae-423c-9d40-a5ce34ec1042","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\nsudo yum -y upgrade\nsudo curl -O http:\/\/dl.fedoraproject.org\/pub\/epel\/7\/x86_64\/e\/epel-release-7-10.noarch.rpm\nsudo rpm --import https:\/\/www.elrepo.org\/RPM-GPG-KEY-elrepo.org\nsudo rpm -Uvh http:\/\/www.elrepo.org\/elrepo-release-7.0-3.el7.elrepo.noarch.rpm \nsudo rpm -ihv epel-release-7-10.noarch.rpm \n\nsudo yum update -y\nsudo yum -y install htop wget iotop xfs* bc unzip lvm2*\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"System packages are installed\"\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install System Packages"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"EXEC","uuid":"356015ad-328d-4ced-a111-bf16828e6683","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n##############\n#\n# LVM setup script for PostgreSQL . 4 disks for DATA and 2 for logs\n# Data disks are 60GB | Log disks are 20GB \n#\n#############\n\n\n#PGSQL data\nsudo pvcreate \/dev\/sdb \/dev\/sdc \/dev\/sdd \/dev\/sde\nsudo vgcreate pgDataVG \/dev\/sdb \/dev\/sdd \/dev\/sdc \/dev\/sde\nsudo lvcreate -l 100%FREE -i4 -I1M -n pgDataLV pgDataVG          ## Use 1MB to avoid IO amplification \n#lvcreate -l 100%FREE -i4 -I4M -n pgDataLV pgDataVG\n\n\n#PGSQL logs\nsudo pvcreate \/dev\/sdf \/dev\/sdg \nsudo vgcreate pgLogVG \/dev\/sdf \/dev\/sdg\nsudo lvcreate -l 100%FREE -i2 -I1M -n pgLogLV pgLogVG            ## Use 1MB to avoid IO amplification\n#lvcreate -l 100%FREE -i2 -I4M -n pgLogLV pgLogVG\n\n\n#Disable LVM read ahead\nsudo lvchange -r 0 \/dev\/pgDataVG\/pgDataLV\nsudo lvchange -r 0 \/dev\/pgLogVG\/pgLogLV\n\n\n#Format LVMs with ext4 and use nodiscard to make sure format time is fast on Nutanix due to SCSI unmap\nsudo mkfs.ext4 -E nodiscard \/dev\/pgDataVG\/pgDataLV\nsudo mkfs.ext4 -E nodiscard \/dev\/pgLogVG\/pgLogLV\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Create Disk Setup"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"EXEC","uuid":"afadf44b-d0aa-4a1b-8ce6-2b15b848c97b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\nsudo wget -c https:\/\/download.postgresql.org\/pub\/repos\/yum\/9.6\/redhat\/rhel-7-x86_64\/pgdg-centos96-9.6-3.noarch.rpm\nsudo yum -y install pgdg-centos96-9.6-3.noarch.rpm\nsudo rpm --import http:\/\/packages.2ndquadrant.com\/repmgr\/RPM-GPG-KEY-repmgr\nsudo yum install -y http:\/\/packages.2ndquadrant.com\/repmgr\/yum-repo-rpms\/repmgr-rhel-1.0-1.noarch.rpm\n\n# Install PostgreSQL\nsudo yum -y install postgresql96 postgresql96-contrib postgresql96-server postgresql96-devel postgresql96-plpython\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install Postgres"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"EXEC","uuid":"d80a5687-d655-4b9e-87f0-ee205693b783","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\n#run initdb\nsudo \/usr\/pgsql-9.6\/bin\/postgresql96-setup initdb\n\n#start and stop postgresql to make sure DB creates the required directories\nsudo systemctl start postgresql-9.6.service\nsudo systemctl stop postgresql-9.6.service\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Setup Postgres"}],"description":"","message_list":[],"uuid":"900066be-8270-4b56-a0b0-5b5950618747","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"3b6ef475_dag","uuid":"2bcf2f47-14ab-41e0-9df0-630ea5e607d0"},"name":"1c545ef3_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVSlavePackage","uuid":"60df6e19-5223-47b3-980c-c5b707533fa9"},"retries":"0","description":"","type":"DAG","uuid":"a0ad6110-c22a-42eb-a560-65925d9df880","child_tasks_local_reference_list":[{"kind":"app_task","name":"PackageUninstallTask","uuid":"0fe57152-a0fb-49f5-a280-fa8a388801bf"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"4feabf08_dag"},{"target_any_local_reference":{"kind":"app_package","name":"AHVSlavePackage","uuid":"60df6e19-5223-47b3-980c-c5b707533fa9"},"retries":"0","description":"","type":"EXEC","uuid":"0fe57152-a0fb-49f5-a280-fa8a388801bf","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"PackageUninstallTask"}],"description":"","message_list":[],"uuid":"d8035020-5ca5-400d-a22f-4437a992c809","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"4feabf08_dag","uuid":"a0ad6110-c22a-42eb-a560-65925d9df880"},"name":"c3a985d4_runbook"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Install_Crb_60df6e19_5223_47b3_980c_c5b707533fa9"}],"description":"","message_list":[],"uuid":"85b15589-47d6-48bf-8fb2-fa8402269ebf","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Package_60df6e19_5223_47b3_980c_c5b707533fa9","uuid":"aa7f7e27-cb38-4c2e-b111-0ac0fce9008d"},"name":"SYS_GEN__Runbook_Package_60df6e19_5223_47b3_980c_c5b707533fa9"}},{"description":"System action for creating an application","message_list":[],"uuid":"52bdbbfd-4c86-4a8c-aa9c-928b0fbf359b","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVSlavePackage","uuid":"60df6e19-5223-47b3-980c-c5b707533fa9"},"retries":"0","description":"","type":"DAG","uuid":"3915b8bc-97db-4006-ba59-ce6063a74a33","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_60df6e19_5223_47b3_980c_c5b707533fa9","uuid":"ab5ef88a-6c31-410a-806f-721e8cc2a3bc"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"a93bed1a-ac65-4496-8afd-7fe13e164516"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"07cb5a15-f4dd-4a16-a9a5-ef5a7789c820"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"a93bed1a-ac65-4496-8afd-7fe13e164516"},"edge_type":"inherent","type":"","uuid":"699cb13e-ed98-4b16-abf5-e89666f4a9fe","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"07cb5a15-f4dd-4a16-a9a5-ef5a7789c820"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_60df6e19_5223_47b3_980c_c5b707533fa9","uuid":"ab5ef88a-6c31-410a-806f-721e8cc2a3bc"},"edge_type":"inherent","type":"","uuid":"d9b2a488-3b87-484c-90ed-6b0ad8b24254","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"a93bed1a-ac65-4496-8afd-7fe13e164516"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_60df6e19_5223_47b3_980c_c5b707533fa9"},{"target_any_local_reference":{"kind":"app_package","name":"AHVSlavePackage","uuid":"60df6e19-5223-47b3-980c-c5b707533fa9"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"ab5ef88a-6c31-410a-806f-721e8cc2a3bc","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_60df6e19_5223_47b3_980c_c5b707533fa9","uuid":"85b15589-47d6-48bf-8fb2-fa8402269ebf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_60df6e19_5223_47b3_980c_c5b707533fa9"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"a93bed1a-ac65-4496-8afd-7fe13e164516","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"8f15e59d_runbook","uuid":"3c61d32f-d429-4292-b02b-abf0f370307a"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"07cb5a15-f4dd-4a16-a9a5-ef5a7789c820","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"b34d9d39_runbook","uuid":"57a4c7a2-843d-4130-9f5d-51c6ed3ce4d5"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40"}],"description":"","message_list":[],"uuid":"17c5f442-cb43-45f0-9c85-5bb2d81285fe","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_60df6e19_5223_47b3_980c_c5b707533fa9","uuid":"3915b8bc-97db-4006-ba59-ce6063a74a33"},"name":"SYS_GEN__Runbook_Package_60df6e19_5223_47b3_980c_c5b707533fa9"}},{"description":"System action for uninstalling an application","message_list":[],"uuid":"6d5c0067-5867-4a12-ba92-e87c3c82e135","name":"action_uninstall","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVSlavePackage","uuid":"60df6e19-5223-47b3-980c-c5b707533fa9"},"retries":"0","description":"","type":"DAG","uuid":"76d0a841-744b-4825-b794-7a73bf0990e3","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Uninstall_Crb_60df6e19_5223_47b3_980c_c5b707533fa9","uuid":"49d56f2f-627e-49e8-b389-0d22ee2477b0"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Package_60df6e19_5223_47b3_980c_c5b707533fa9"},{"target_any_local_reference":{"kind":"app_package","name":"AHVSlavePackage","uuid":"60df6e19-5223-47b3-980c-c5b707533fa9"},"retries":"0","description":"","type":"CUSTOM_PACKAGE_UNINSTALL","uuid":"49d56f2f-627e-49e8-b389-0d22ee2477b0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVSlavePackage","uuid":"60df6e19-5223-47b3-980c-c5b707533fa9"},"retries":"0","description":"","type":"DAG","uuid":"2bcf2f47-14ab-41e0-9df0-630ea5e607d0","child_tasks_local_reference_list":[{"kind":"app_task","name":"Install System Packages","uuid":"34cfc664-08ae-423c-9d40-a5ce34ec1042"},{"kind":"app_task","name":"Create Disk Setup","uuid":"356015ad-328d-4ced-a111-bf16828e6683"},{"kind":"app_task","name":"Install Postgres","uuid":"afadf44b-d0aa-4a1b-8ce6-2b15b848c97b"},{"kind":"app_task","name":"Setup Postgres","uuid":"d80a5687-d655-4b9e-87f0-ee205693b783"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Install System Packages","uuid":"34cfc664-08ae-423c-9d40-a5ce34ec1042"},"edge_type":"user_defined","type":"","uuid":"318f0aa3-952d-4509-b9d4-21ab1620526f","to_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"356015ad-328d-4ced-a111-bf16828e6683"}},{"from_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"356015ad-328d-4ced-a111-bf16828e6683"},"edge_type":"user_defined","type":"","uuid":"3c6204bb-d5ef-4135-94b6-bfbc76bdf24f","to_task_reference":{"kind":"app_task","name":"Install Postgres","uuid":"afadf44b-d0aa-4a1b-8ce6-2b15b848c97b"}},{"from_task_reference":{"kind":"app_task","name":"Install Postgres","uuid":"afadf44b-d0aa-4a1b-8ce6-2b15b848c97b"},"edge_type":"user_defined","type":"","uuid":"eaa337bf-0824-4712-b710-e4c838d7705d","to_task_reference":{"kind":"app_task","name":"Setup Postgres","uuid":"d80a5687-d655-4b9e-87f0-ee205693b783"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"3b6ef475_dag"},{"target_any_local_reference":{"kind":"app_package","name":"AHVSlavePackage","uuid":"60df6e19-5223-47b3-980c-c5b707533fa9"},"retries":"0","description":"","type":"EXEC","uuid":"34cfc664-08ae-423c-9d40-a5ce34ec1042","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\nsudo yum -y upgrade\nsudo curl -O http:\/\/dl.fedoraproject.org\/pub\/epel\/7\/x86_64\/e\/epel-release-7-10.noarch.rpm\nsudo rpm --import https:\/\/www.elrepo.org\/RPM-GPG-KEY-elrepo.org\nsudo rpm -Uvh http:\/\/www.elrepo.org\/elrepo-release-7.0-3.el7.elrepo.noarch.rpm \nsudo rpm -ihv epel-release-7-10.noarch.rpm \n\nsudo yum update -y\nsudo yum -y install htop wget iotop xfs* bc unzip lvm2*\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"System packages are installed\"\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install System Packages"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"EXEC","uuid":"356015ad-328d-4ced-a111-bf16828e6683","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n##############\n#\n# LVM setup script for PostgreSQL . 4 disks for DATA and 2 for logs\n# Data disks are 60GB | Log disks are 20GB \n#\n#############\n\n\n#PGSQL data\nsudo pvcreate \/dev\/sdb \/dev\/sdc \/dev\/sdd \/dev\/sde\nsudo vgcreate pgDataVG \/dev\/sdb \/dev\/sdd \/dev\/sdc \/dev\/sde\nsudo lvcreate -l 100%FREE -i4 -I1M -n pgDataLV pgDataVG          ## Use 1MB to avoid IO amplification \n#lvcreate -l 100%FREE -i4 -I4M -n pgDataLV pgDataVG\n\n\n#PGSQL logs\nsudo pvcreate \/dev\/sdf \/dev\/sdg \nsudo vgcreate pgLogVG \/dev\/sdf \/dev\/sdg\nsudo lvcreate -l 100%FREE -i2 -I1M -n pgLogLV pgLogVG            ## Use 1MB to avoid IO amplification\n#lvcreate -l 100%FREE -i2 -I4M -n pgLogLV pgLogVG\n\n\n#Disable LVM read ahead\nsudo lvchange -r 0 \/dev\/pgDataVG\/pgDataLV\nsudo lvchange -r 0 \/dev\/pgLogVG\/pgLogLV\n\n\n#Format LVMs with ext4 and use nodiscard to make sure format time is fast on Nutanix due to SCSI unmap\nsudo mkfs.ext4 -E nodiscard \/dev\/pgDataVG\/pgDataLV\nsudo mkfs.ext4 -E nodiscard \/dev\/pgLogVG\/pgLogLV\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Create Disk Setup"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"EXEC","uuid":"afadf44b-d0aa-4a1b-8ce6-2b15b848c97b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\nsudo wget -c https:\/\/download.postgresql.org\/pub\/repos\/yum\/9.6\/redhat\/rhel-7-x86_64\/pgdg-centos96-9.6-3.noarch.rpm\nsudo yum -y install pgdg-centos96-9.6-3.noarch.rpm\nsudo rpm --import http:\/\/packages.2ndquadrant.com\/repmgr\/RPM-GPG-KEY-repmgr\nsudo yum install -y http:\/\/packages.2ndquadrant.com\/repmgr\/yum-repo-rpms\/repmgr-rhel-1.0-1.noarch.rpm\n\n# Install PostgreSQL\nsudo yum -y install postgresql96 postgresql96-contrib postgresql96-server postgresql96-devel postgresql96-plpython\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install Postgres"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"EXEC","uuid":"d80a5687-d655-4b9e-87f0-ee205693b783","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\n#run initdb\nsudo \/usr\/pgsql-9.6\/bin\/postgresql96-setup initdb\n\n#start and stop postgresql to make sure DB creates the required directories\nsudo systemctl start postgresql-9.6.service\nsudo systemctl stop postgresql-9.6.service\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Setup Postgres"}],"description":"","message_list":[],"uuid":"900066be-8270-4b56-a0b0-5b5950618747","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"3b6ef475_dag","uuid":"2bcf2f47-14ab-41e0-9df0-630ea5e607d0"},"name":"1c545ef3_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVSlavePackage","uuid":"60df6e19-5223-47b3-980c-c5b707533fa9"},"retries":"0","description":"","type":"DAG","uuid":"a0ad6110-c22a-42eb-a560-65925d9df880","child_tasks_local_reference_list":[{"kind":"app_task","name":"PackageUninstallTask","uuid":"0fe57152-a0fb-49f5-a280-fa8a388801bf"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"4feabf08_dag"},{"target_any_local_reference":{"kind":"app_package","name":"AHVSlavePackage","uuid":"60df6e19-5223-47b3-980c-c5b707533fa9"},"retries":"0","description":"","type":"EXEC","uuid":"0fe57152-a0fb-49f5-a280-fa8a388801bf","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"PackageUninstallTask"}],"description":"","message_list":[],"uuid":"d8035020-5ca5-400d-a22f-4437a992c809","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"4feabf08_dag","uuid":"a0ad6110-c22a-42eb-a560-65925d9df880"},"name":"c3a985d4_runbook"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Uninstall_Crb_60df6e19_5223_47b3_980c_c5b707533fa9"}],"description":"","message_list":[],"uuid":"0d809c62-f4b3-40ff-a582-347d17bbfd4d","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Package_60df6e19_5223_47b3_980c_c5b707533fa9","uuid":"76d0a841-744b-4825-b794-7a73bf0990e3"},"name":"SYS_GEN__Runbook_Package_60df6e19_5223_47b3_980c_c5b707533fa9"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"acc64307-193d-4bb9-be65-f20643f4bd5e","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVSlavePackage","uuid":"60df6e19-5223-47b3-980c-c5b707533fa9"},"retries":"0","description":"","type":"DAG","uuid":"17ee4803-b7f2-4b0c-a5de-6631a027d194","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"86692d89-8c1c-4884-b1a1-eb65f0106638"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"36058565-b2a8-4497-9254-5127b898b5cd"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_60df6e19_5223_47b3_980c_c5b707533fa9","uuid":"c33ff2ff-46f7-431f-9c1c-2813f6d376f0"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"86692d89-8c1c-4884-b1a1-eb65f0106638"},"edge_type":"inherent","type":"","uuid":"83eb7a27-5acc-429b-b1e9-12001b1479fe","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"36058565-b2a8-4497-9254-5127b898b5cd"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"36058565-b2a8-4497-9254-5127b898b5cd"},"edge_type":"inherent","type":"","uuid":"1052383f-d8bd-41c7-b308-7f2f7af587c4","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_60df6e19_5223_47b3_980c_c5b707533fa9","uuid":"c33ff2ff-46f7-431f-9c1c-2813f6d376f0"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_60df6e19_5223_47b3_980c_c5b707533fa9"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"86692d89-8c1c-4884-b1a1-eb65f0106638","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0e2bd4c9_runbook","uuid":"8e29699f-df44-4802-8ae9-689322c6575c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"36058565-b2a8-4497-9254-5127b898b5cd","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"08946714_runbook","uuid":"005a7fbe-7426-4c75-aa02-8ca0b1db5dbb"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40"},{"target_any_local_reference":{"kind":"app_package","name":"AHVSlavePackage","uuid":"60df6e19-5223-47b3-980c-c5b707533fa9"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"c33ff2ff-46f7-431f-9c1c-2813f6d376f0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_60df6e19_5223_47b3_980c_c5b707533fa9","uuid":"0d809c62-f4b3-40ff-a582-347d17bbfd4d"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_60df6e19_5223_47b3_980c_c5b707533fa9"}],"description":"","message_list":[],"uuid":"dc29be3a-0e0a-4e5a-abbd-f2ad1082114d","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_60df6e19_5223_47b3_980c_c5b707533fa9","uuid":"17ee4803-b7f2-4b0c-a5de-6631a027d194"},"name":"SYS_GEN__Runbook_Package_60df6e19_5223_47b3_980c_c5b707533fa9"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"aa491e90-15b6-4b0c-b94b-f1a962f51ef3","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVSlavePackage","uuid":"60df6e19-5223-47b3-980c-c5b707533fa9"},"retries":"0","description":"","type":"DAG","uuid":"4dfdb176-8aa6-4663-a862-d3040a7a0d14","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"27303c55-4c6f-45e9-9cae-5e702839e8d2"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_60df6e19_5223_47b3_980c_c5b707533fa9","uuid":"a46f022d-e0fd-488c-aeee-d9d1c2872562"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"27303c55-4c6f-45e9-9cae-5e702839e8d2"},"edge_type":"inherent","type":"","uuid":"f3c44e5f-068b-4a36-8971-3a05d1a8d708","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_60df6e19_5223_47b3_980c_c5b707533fa9","uuid":"a46f022d-e0fd-488c-aeee-d9d1c2872562"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_60df6e19_5223_47b3_980c_c5b707533fa9"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"27303c55-4c6f-45e9-9cae-5e702839e8d2","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"febe47f3-782b-40c3-abcb-ce825626516f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40"},{"target_any_local_reference":{"kind":"app_package","name":"AHVSlavePackage","uuid":"60df6e19-5223-47b3-980c-c5b707533fa9"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"a46f022d-e0fd-488c-aeee-d9d1c2872562","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_60df6e19_5223_47b3_980c_c5b707533fa9"}],"description":"","message_list":[],"uuid":"baff43c0-88eb-4dd5-911f-5e2c0e12dde0","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_60df6e19_5223_47b3_980c_c5b707533fa9","uuid":"4dfdb176-8aa6-4663-a862-d3040a7a0d14"},"name":"SYS_GEN__Runbook_Package_60df6e19_5223_47b3_980c_c5b707533fa9"}},{"description":"System action for starting an application","message_list":[],"uuid":"26ddaef4-c0e0-4d1f-8ca0-94a64fe2f671","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVSlavePackage","uuid":"60df6e19-5223-47b3-980c-c5b707533fa9"},"retries":"0","description":"","type":"DAG","uuid":"0ebbcff9-b475-4282-81e3-b71d31e0fce6","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"a3a0ae23-4803-43fe-9087-9209c9b81e1a"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_60df6e19_5223_47b3_980c_c5b707533fa9"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"a3a0ae23-4803-43fe-9087-9209c9b81e1a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"b34d9d39_runbook","uuid":"57a4c7a2-843d-4130-9f5d-51c6ed3ce4d5"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40"}],"description":"","message_list":[],"uuid":"2a3c3336-5fed-4cb3-af7b-c77721f3270e","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_60df6e19_5223_47b3_980c_c5b707533fa9","uuid":"0ebbcff9-b475-4282-81e3-b71d31e0fce6"},"name":"SYS_GEN__Runbook_Package_60df6e19_5223_47b3_980c_c5b707533fa9"}},{"description":"System action for restarting an application","message_list":[],"uuid":"c2abe70b-02b9-49de-9e83-4ab113b10cb1","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVSlavePackage","uuid":"60df6e19-5223-47b3-980c-c5b707533fa9"},"retries":"0","description":"","type":"DAG","uuid":"6e11b253-3255-4700-90f4-ed1c49e55bee","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"0c9a8963-0e74-4c5a-861d-8c59199f353b"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_60df6e19_5223_47b3_980c_c5b707533fa9"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"0c9a8963-0e74-4c5a-861d-8c59199f353b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"c1c4eebd_runbook","uuid":"bea78664-aea0-4d1f-b708-8ef876af38d5"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40"}],"description":"","message_list":[],"uuid":"c72a71fb-c99e-4ab2-9d21-9016696e6499","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_60df6e19_5223_47b3_980c_c5b707533fa9","uuid":"6e11b253-3255-4700-90f4-ed1c49e55bee"},"name":"SYS_GEN__Runbook_Package_60df6e19_5223_47b3_980c_c5b707533fa9"}},{"description":"System action for stopping an application","message_list":[],"uuid":"2c73c8b8-02fc-4a42-8465-f5838ee2599a","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVSlavePackage","uuid":"60df6e19-5223-47b3-980c-c5b707533fa9"},"retries":"0","description":"","type":"DAG","uuid":"84400d0c-b60b-4376-a577-778bcce2ad8f","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"1e57fa6e-a1d8-4f41-850e-1d848cd5d1a1"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_60df6e19_5223_47b3_980c_c5b707533fa9"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"1e57fa6e-a1d8-4f41-850e-1d848cd5d1a1","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0e2bd4c9_runbook","uuid":"8e29699f-df44-4802-8ae9-689322c6575c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40"}],"description":"","message_list":[],"uuid":"7cf93276-49d2-4b35-9e1d-e8796925e9fb","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_60df6e19_5223_47b3_980c_c5b707533fa9","uuid":"84400d0c-b60b-4376-a577-778bcce2ad8f"},"name":"SYS_GEN__Runbook_Package_60df6e19_5223_47b3_980c_c5b707533fa9"}}],"message_list":[],"service_local_reference_list":[{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"}],"uuid":"60df6e19-5223-47b3-980c-c5b707533fa9","state":"ACTIVE","version":"","editables":{},"type":"DEB","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVSlavePackage","uuid":"60df6e19-5223-47b3-980c-c5b707533fa9"},"retries":"0","description":"","type":"DAG","uuid":"2bcf2f47-14ab-41e0-9df0-630ea5e607d0","child_tasks_local_reference_list":[{"kind":"app_task","name":"Install System Packages","uuid":"34cfc664-08ae-423c-9d40-a5ce34ec1042"},{"kind":"app_task","name":"Create Disk Setup","uuid":"356015ad-328d-4ced-a111-bf16828e6683"},{"kind":"app_task","name":"Install Postgres","uuid":"afadf44b-d0aa-4a1b-8ce6-2b15b848c97b"},{"kind":"app_task","name":"Setup Postgres","uuid":"d80a5687-d655-4b9e-87f0-ee205693b783"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Install System Packages","uuid":"34cfc664-08ae-423c-9d40-a5ce34ec1042"},"edge_type":"user_defined","type":"","uuid":"318f0aa3-952d-4509-b9d4-21ab1620526f","to_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"356015ad-328d-4ced-a111-bf16828e6683"}},{"from_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"356015ad-328d-4ced-a111-bf16828e6683"},"edge_type":"user_defined","type":"","uuid":"3c6204bb-d5ef-4135-94b6-bfbc76bdf24f","to_task_reference":{"kind":"app_task","name":"Install Postgres","uuid":"afadf44b-d0aa-4a1b-8ce6-2b15b848c97b"}},{"from_task_reference":{"kind":"app_task","name":"Install Postgres","uuid":"afadf44b-d0aa-4a1b-8ce6-2b15b848c97b"},"edge_type":"user_defined","type":"","uuid":"eaa337bf-0824-4712-b710-e4c838d7705d","to_task_reference":{"kind":"app_task","name":"Setup Postgres","uuid":"d80a5687-d655-4b9e-87f0-ee205693b783"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"3b6ef475_dag"},{"target_any_local_reference":{"kind":"app_package","name":"AHVSlavePackage","uuid":"60df6e19-5223-47b3-980c-c5b707533fa9"},"retries":"0","description":"","type":"EXEC","uuid":"34cfc664-08ae-423c-9d40-a5ce34ec1042","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\nsudo yum -y upgrade\nsudo curl -O http:\/\/dl.fedoraproject.org\/pub\/epel\/7\/x86_64\/e\/epel-release-7-10.noarch.rpm\nsudo rpm --import https:\/\/www.elrepo.org\/RPM-GPG-KEY-elrepo.org\nsudo rpm -Uvh http:\/\/www.elrepo.org\/elrepo-release-7.0-3.el7.elrepo.noarch.rpm \nsudo rpm -ihv epel-release-7-10.noarch.rpm \n\nsudo yum update -y\nsudo yum -y install htop wget iotop xfs* bc unzip lvm2*\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"System packages are installed\"\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install System Packages"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"EXEC","uuid":"356015ad-328d-4ced-a111-bf16828e6683","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n##############\n#\n# LVM setup script for PostgreSQL . 4 disks for DATA and 2 for logs\n# Data disks are 60GB | Log disks are 20GB \n#\n#############\n\n\n#PGSQL data\nsudo pvcreate \/dev\/sdb \/dev\/sdc \/dev\/sdd \/dev\/sde\nsudo vgcreate pgDataVG \/dev\/sdb \/dev\/sdd \/dev\/sdc \/dev\/sde\nsudo lvcreate -l 100%FREE -i4 -I1M -n pgDataLV pgDataVG          ## Use 1MB to avoid IO amplification \n#lvcreate -l 100%FREE -i4 -I4M -n pgDataLV pgDataVG\n\n\n#PGSQL logs\nsudo pvcreate \/dev\/sdf \/dev\/sdg \nsudo vgcreate pgLogVG \/dev\/sdf \/dev\/sdg\nsudo lvcreate -l 100%FREE -i2 -I1M -n pgLogLV pgLogVG            ## Use 1MB to avoid IO amplification\n#lvcreate -l 100%FREE -i2 -I4M -n pgLogLV pgLogVG\n\n\n#Disable LVM read ahead\nsudo lvchange -r 0 \/dev\/pgDataVG\/pgDataLV\nsudo lvchange -r 0 \/dev\/pgLogVG\/pgLogLV\n\n\n#Format LVMs with ext4 and use nodiscard to make sure format time is fast on Nutanix due to SCSI unmap\nsudo mkfs.ext4 -E nodiscard \/dev\/pgDataVG\/pgDataLV\nsudo mkfs.ext4 -E nodiscard \/dev\/pgLogVG\/pgLogLV\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Create Disk Setup"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"EXEC","uuid":"afadf44b-d0aa-4a1b-8ce6-2b15b848c97b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\nsudo wget -c https:\/\/download.postgresql.org\/pub\/repos\/yum\/9.6\/redhat\/rhel-7-x86_64\/pgdg-centos96-9.6-3.noarch.rpm\nsudo yum -y install pgdg-centos96-9.6-3.noarch.rpm\nsudo rpm --import http:\/\/packages.2ndquadrant.com\/repmgr\/RPM-GPG-KEY-repmgr\nsudo yum install -y http:\/\/packages.2ndquadrant.com\/repmgr\/yum-repo-rpms\/repmgr-rhel-1.0-1.noarch.rpm\n\n# Install PostgreSQL\nsudo yum -y install postgresql96 postgresql96-contrib postgresql96-server postgresql96-devel postgresql96-plpython\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install Postgres"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"EXEC","uuid":"d80a5687-d655-4b9e-87f0-ee205693b783","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\n#run initdb\nsudo \/usr\/pgsql-9.6\/bin\/postgresql96-setup initdb\n\n#start and stop postgresql to make sure DB creates the required directories\nsudo systemctl start postgresql-9.6.service\nsudo systemctl stop postgresql-9.6.service\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Setup Postgres"}],"description":"","message_list":[],"uuid":"900066be-8270-4b56-a0b0-5b5950618747","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"3b6ef475_dag","uuid":"2bcf2f47-14ab-41e0-9df0-630ea5e607d0"},"name":"1c545ef3_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVSlavePackage","uuid":"60df6e19-5223-47b3-980c-c5b707533fa9"},"retries":"0","description":"","type":"DAG","uuid":"a0ad6110-c22a-42eb-a560-65925d9df880","child_tasks_local_reference_list":[{"kind":"app_task","name":"PackageUninstallTask","uuid":"0fe57152-a0fb-49f5-a280-fa8a388801bf"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"4feabf08_dag"},{"target_any_local_reference":{"kind":"app_package","name":"AHVSlavePackage","uuid":"60df6e19-5223-47b3-980c-c5b707533fa9"},"retries":"0","description":"","type":"EXEC","uuid":"0fe57152-a0fb-49f5-a280-fa8a388801bf","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"PackageUninstallTask"}],"description":"","message_list":[],"uuid":"d8035020-5ca5-400d-a22f-4437a992c809","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"4feabf08_dag","uuid":"a0ad6110-c22a-42eb-a560-65925d9df880"},"name":"c3a985d4_runbook"}},"variable_list":[],"name":"AHVSlavePackage"},{"description":"","action_list":[{"description":"System action for installing an application","message_list":[],"uuid":"bdf289f1-284a-492e-bcfe-fdc6b7ccb9a7","name":"action_install","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSSlavePackage","uuid":"33b12429-d141-480f-b38e-4d8083fcff5c"},"retries":"0","description":"","type":"DAG","uuid":"d331f646-f284-4543-81bb-7fdba6ac14f4","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Install_Crb_33b12429_d141_480f_b38e_4d8083fcff5c","uuid":"981d16df-5676-4a3d-8c47-8144fdbaa338"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Package_33b12429_d141_480f_b38e_4d8083fcff5c"},{"target_any_local_reference":{"kind":"app_package","name":"AWSSlavePackage","uuid":"33b12429-d141-480f-b38e-4d8083fcff5c"},"retries":"0","description":"","type":"CUSTOM_PACKAGE_INSTALL","uuid":"981d16df-5676-4a3d-8c47-8144fdbaa338","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSSlavePackage","uuid":"33b12429-d141-480f-b38e-4d8083fcff5c"},"retries":"0","description":"","type":"DAG","uuid":"723f480e-6b3d-47bd-9bd2-4269f4d9f345","child_tasks_local_reference_list":[{"kind":"app_task","name":"Install System Packages","uuid":"f7d34e66-b7e0-4ad3-bd05-42051e764ad5"},{"kind":"app_task","name":"Create Disk Setup","uuid":"f2a5bc76-5ad6-417a-b9f2-c0cef0bd4376"},{"kind":"app_task","name":"Install Postgres","uuid":"859972cb-9c8d-483a-9308-bd63f1ab0b51"},{"kind":"app_task","name":"Setup Postgres","uuid":"da64d929-20c8-4519-aa3b-f14bebfd8bc3"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Install System Packages","uuid":"f7d34e66-b7e0-4ad3-bd05-42051e764ad5"},"edge_type":"user_defined","type":"","uuid":"89312c1b-f6e5-4e1b-8b44-dd3fc7a1f51c","to_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"f2a5bc76-5ad6-417a-b9f2-c0cef0bd4376"}},{"from_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"f2a5bc76-5ad6-417a-b9f2-c0cef0bd4376"},"edge_type":"user_defined","type":"","uuid":"a791e23f-1c8d-4d73-beb0-00394ee71cfa","to_task_reference":{"kind":"app_task","name":"Install Postgres","uuid":"859972cb-9c8d-483a-9308-bd63f1ab0b51"}},{"from_task_reference":{"kind":"app_task","name":"Install Postgres","uuid":"859972cb-9c8d-483a-9308-bd63f1ab0b51"},"edge_type":"user_defined","type":"","uuid":"bdded050-c6b1-44e9-ae86-8be50a617924","to_task_reference":{"kind":"app_task","name":"Setup Postgres","uuid":"da64d929-20c8-4519-aa3b-f14bebfd8bc3"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"24714765_dag"},{"target_any_local_reference":{"kind":"app_package","name":"AWSSlavePackage","uuid":"33b12429-d141-480f-b38e-4d8083fcff5c"},"retries":"0","description":"","type":"EXEC","uuid":"f7d34e66-b7e0-4ad3-bd05-42051e764ad5","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\nsudo yum -y upgrade\nsudo curl -O http:\/\/dl.fedoraproject.org\/pub\/epel\/7\/x86_64\/e\/epel-release-7-10.noarch.rpm\nsudo rpm --import https:\/\/www.elrepo.org\/RPM-GPG-KEY-elrepo.org\nsudo rpm -Uvh http:\/\/www.elrepo.org\/elrepo-release-7.0-3.el7.elrepo.noarch.rpm \nsudo rpm -ihv epel-release-7-10.noarch.rpm \n\nsudo yum update -y\nsudo yum -y install htop wget iotop xfs* bc unzip lvm2*\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"System packages are installed\"\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install System Packages"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"EXEC","uuid":"f2a5bc76-5ad6-417a-b9f2-c0cef0bd4376","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n##############\n#\n# LVM setup script for PostgreSQL . 4 disks for DATA and 2 for logs\n# Data disks are 60GB | Log disks are 20GB \n#\n#############\n\n\n#PGSQL data\nsudo pvcreate \/dev\/xvdb \/dev\/xvdc \/dev\/xvdd \/dev\/xvde\nsudo vgcreate pgDataVG \/dev\/xvdb \/dev\/xvdd \/dev\/xvdc \/dev\/xvde\nsudo lvcreate -l 100%FREE -i4 -I1M -n pgDataLV pgDataVG          ## Use 1MB to avoid IO amplification \n#lvcreate -l 100%FREE -i4 -I4M -n pgDataLV pgDataVG\n\n\n#PGSQL logs\nsudo pvcreate \/dev\/xvdf \/dev\/xvdg \nsudo vgcreate pgLogVG \/dev\/xvdf \/dev\/xvdg\nsudo lvcreate -l 100%FREE -i2 -I1M -n pgLogLV pgLogVG            ## Use 1MB to avoid IO amplification\n#lvcreate -l 100%FREE -i2 -I4M -n pgLogLV pgLogVG\n\n\n#Disable LVM read ahead\nsudo lvchange -r 0 \/dev\/pgDataVG\/pgDataLV\nsudo lvchange -r 0 \/dev\/pgLogVG\/pgLogLV\n\n\n#Format LVMs with ext4 and use nodiscard to make sure format time is fast on Nutanix due to SCSI unmap\nsudo mkfs.ext4 -E nodiscard \/dev\/pgDataVG\/pgDataLV\nsudo mkfs.ext4 -E nodiscard \/dev\/pgLogVG\/pgLogLV\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Create Disk Setup"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"EXEC","uuid":"859972cb-9c8d-483a-9308-bd63f1ab0b51","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\nsudo wget -c https:\/\/download.postgresql.org\/pub\/repos\/yum\/9.6\/redhat\/rhel-7-x86_64\/pgdg-centos96-9.6-3.noarch.rpm\nsudo yum -y install pgdg-centos96-9.6-3.noarch.rpm\nsudo rpm --import http:\/\/packages.2ndquadrant.com\/repmgr\/RPM-GPG-KEY-repmgr\nsudo yum install -y http:\/\/packages.2ndquadrant.com\/repmgr\/yum-repo-rpms\/repmgr-rhel-1.0-1.noarch.rpm\n\n# Install PostgreSQL\nsudo yum -y install postgresql96 postgresql96-contrib postgresql96-server postgresql96-devel postgresql96-plpython\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install Postgres"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"EXEC","uuid":"da64d929-20c8-4519-aa3b-f14bebfd8bc3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n#run initdb\nsudo \/usr\/pgsql-9.6\/bin\/postgresql96-setup initdb\n\n#start and stop postgresql to make sure DB creates the required directories\nsudo systemctl start postgresql-9.6.service\nsudo systemctl stop postgresql-9.6.service\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Setup Postgres"}],"description":"","message_list":[],"uuid":"b8c8117f-52fb-4de5-92f6-666f4d0fbe45","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"24714765_dag","uuid":"723f480e-6b3d-47bd-9bd2-4269f4d9f345"},"name":"6b1ca66e_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSSlavePackage","uuid":"33b12429-d141-480f-b38e-4d8083fcff5c"},"retries":"0","description":"","type":"DAG","uuid":"37e28a89-a268-4dbb-9a10-d316de7af233","child_tasks_local_reference_list":[{"kind":"app_task","name":"PackageUninstallTask","uuid":"549fd42f-9116-454b-9a5b-e6740cbc420a"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"179a2341_dag"},{"target_any_local_reference":{"kind":"app_package","name":"AWSSlavePackage","uuid":"33b12429-d141-480f-b38e-4d8083fcff5c"},"retries":"0","description":"","type":"EXEC","uuid":"549fd42f-9116-454b-9a5b-e6740cbc420a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"PackageUninstallTask"}],"description":"","message_list":[],"uuid":"39dcd688-1f0b-4bf0-a99b-f1f59f25b1db","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"179a2341_dag","uuid":"37e28a89-a268-4dbb-9a10-d316de7af233"},"name":"fe8c4995_runbook"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Install_Crb_33b12429_d141_480f_b38e_4d8083fcff5c"}],"description":"","message_list":[],"uuid":"e7adf737-a285-48c1-815a-c0c8d8737301","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Package_33b12429_d141_480f_b38e_4d8083fcff5c","uuid":"d331f646-f284-4543-81bb-7fdba6ac14f4"},"name":"SYS_GEN__Runbook_Package_33b12429_d141_480f_b38e_4d8083fcff5c"}},{"description":"System action for creating an application","message_list":[],"uuid":"2671653b-3bf0-4815-80a8-f3b1c767fa09","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSSlavePackage","uuid":"33b12429-d141-480f-b38e-4d8083fcff5c"},"retries":"0","description":"","type":"DAG","uuid":"afa2df13-d571-4a7b-8cf1-1b21358feab7","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_33b12429_d141_480f_b38e_4d8083fcff5c","uuid":"f23906ea-2b80-45f7-9751-c281384c21d5"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"4647ccbe-aa6f-4686-b616-f085eb730378"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"28700d47-584c-41d6-af43-f323f78ad556"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"4647ccbe-aa6f-4686-b616-f085eb730378"},"edge_type":"inherent","type":"","uuid":"e42a3821-1994-4d9a-b6be-04be6cb83ab0","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"28700d47-584c-41d6-af43-f323f78ad556"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_33b12429_d141_480f_b38e_4d8083fcff5c","uuid":"f23906ea-2b80-45f7-9751-c281384c21d5"},"edge_type":"inherent","type":"","uuid":"269354ec-eb5f-4989-956a-498ae8cb295b","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"4647ccbe-aa6f-4686-b616-f085eb730378"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_33b12429_d141_480f_b38e_4d8083fcff5c"},{"target_any_local_reference":{"kind":"app_package","name":"AWSSlavePackage","uuid":"33b12429-d141-480f-b38e-4d8083fcff5c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"f23906ea-2b80-45f7-9751-c281384c21d5","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_33b12429_d141_480f_b38e_4d8083fcff5c","uuid":"e7adf737-a285-48c1-815a-c0c8d8737301"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_33b12429_d141_480f_b38e_4d8083fcff5c"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"4647ccbe-aa6f-4686-b616-f085eb730378","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"8f15e59d_runbook","uuid":"3c61d32f-d429-4292-b02b-abf0f370307a"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"28700d47-584c-41d6-af43-f323f78ad556","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"b34d9d39_runbook","uuid":"57a4c7a2-843d-4130-9f5d-51c6ed3ce4d5"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40"}],"description":"","message_list":[],"uuid":"456ff57e-e803-47a5-87bd-20e6720e137a","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_33b12429_d141_480f_b38e_4d8083fcff5c","uuid":"afa2df13-d571-4a7b-8cf1-1b21358feab7"},"name":"SYS_GEN__Runbook_Package_33b12429_d141_480f_b38e_4d8083fcff5c"}},{"description":"System action for uninstalling an application","message_list":[],"uuid":"dd00d01d-60cc-442c-bf77-801dafe0fe06","name":"action_uninstall","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSSlavePackage","uuid":"33b12429-d141-480f-b38e-4d8083fcff5c"},"retries":"0","description":"","type":"DAG","uuid":"4c822f55-c659-4361-88d9-6a532c816370","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Uninstall_Crb_33b12429_d141_480f_b38e_4d8083fcff5c","uuid":"d7d62925-a1d3-416b-8765-c169e0e64211"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Package_33b12429_d141_480f_b38e_4d8083fcff5c"},{"target_any_local_reference":{"kind":"app_package","name":"AWSSlavePackage","uuid":"33b12429-d141-480f-b38e-4d8083fcff5c"},"retries":"0","description":"","type":"CUSTOM_PACKAGE_UNINSTALL","uuid":"d7d62925-a1d3-416b-8765-c169e0e64211","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSSlavePackage","uuid":"33b12429-d141-480f-b38e-4d8083fcff5c"},"retries":"0","description":"","type":"DAG","uuid":"723f480e-6b3d-47bd-9bd2-4269f4d9f345","child_tasks_local_reference_list":[{"kind":"app_task","name":"Install System Packages","uuid":"f7d34e66-b7e0-4ad3-bd05-42051e764ad5"},{"kind":"app_task","name":"Create Disk Setup","uuid":"f2a5bc76-5ad6-417a-b9f2-c0cef0bd4376"},{"kind":"app_task","name":"Install Postgres","uuid":"859972cb-9c8d-483a-9308-bd63f1ab0b51"},{"kind":"app_task","name":"Setup Postgres","uuid":"da64d929-20c8-4519-aa3b-f14bebfd8bc3"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Install System Packages","uuid":"f7d34e66-b7e0-4ad3-bd05-42051e764ad5"},"edge_type":"user_defined","type":"","uuid":"89312c1b-f6e5-4e1b-8b44-dd3fc7a1f51c","to_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"f2a5bc76-5ad6-417a-b9f2-c0cef0bd4376"}},{"from_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"f2a5bc76-5ad6-417a-b9f2-c0cef0bd4376"},"edge_type":"user_defined","type":"","uuid":"a791e23f-1c8d-4d73-beb0-00394ee71cfa","to_task_reference":{"kind":"app_task","name":"Install Postgres","uuid":"859972cb-9c8d-483a-9308-bd63f1ab0b51"}},{"from_task_reference":{"kind":"app_task","name":"Install Postgres","uuid":"859972cb-9c8d-483a-9308-bd63f1ab0b51"},"edge_type":"user_defined","type":"","uuid":"bdded050-c6b1-44e9-ae86-8be50a617924","to_task_reference":{"kind":"app_task","name":"Setup Postgres","uuid":"da64d929-20c8-4519-aa3b-f14bebfd8bc3"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"24714765_dag"},{"target_any_local_reference":{"kind":"app_package","name":"AWSSlavePackage","uuid":"33b12429-d141-480f-b38e-4d8083fcff5c"},"retries":"0","description":"","type":"EXEC","uuid":"f7d34e66-b7e0-4ad3-bd05-42051e764ad5","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\nsudo yum -y upgrade\nsudo curl -O http:\/\/dl.fedoraproject.org\/pub\/epel\/7\/x86_64\/e\/epel-release-7-10.noarch.rpm\nsudo rpm --import https:\/\/www.elrepo.org\/RPM-GPG-KEY-elrepo.org\nsudo rpm -Uvh http:\/\/www.elrepo.org\/elrepo-release-7.0-3.el7.elrepo.noarch.rpm \nsudo rpm -ihv epel-release-7-10.noarch.rpm \n\nsudo yum update -y\nsudo yum -y install htop wget iotop xfs* bc unzip lvm2*\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"System packages are installed\"\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install System Packages"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"EXEC","uuid":"f2a5bc76-5ad6-417a-b9f2-c0cef0bd4376","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n##############\n#\n# LVM setup script for PostgreSQL . 4 disks for DATA and 2 for logs\n# Data disks are 60GB | Log disks are 20GB \n#\n#############\n\n\n#PGSQL data\nsudo pvcreate \/dev\/xvdb \/dev\/xvdc \/dev\/xvdd \/dev\/xvde\nsudo vgcreate pgDataVG \/dev\/xvdb \/dev\/xvdd \/dev\/xvdc \/dev\/xvde\nsudo lvcreate -l 100%FREE -i4 -I1M -n pgDataLV pgDataVG          ## Use 1MB to avoid IO amplification \n#lvcreate -l 100%FREE -i4 -I4M -n pgDataLV pgDataVG\n\n\n#PGSQL logs\nsudo pvcreate \/dev\/xvdf \/dev\/xvdg \nsudo vgcreate pgLogVG \/dev\/xvdf \/dev\/xvdg\nsudo lvcreate -l 100%FREE -i2 -I1M -n pgLogLV pgLogVG            ## Use 1MB to avoid IO amplification\n#lvcreate -l 100%FREE -i2 -I4M -n pgLogLV pgLogVG\n\n\n#Disable LVM read ahead\nsudo lvchange -r 0 \/dev\/pgDataVG\/pgDataLV\nsudo lvchange -r 0 \/dev\/pgLogVG\/pgLogLV\n\n\n#Format LVMs with ext4 and use nodiscard to make sure format time is fast on Nutanix due to SCSI unmap\nsudo mkfs.ext4 -E nodiscard \/dev\/pgDataVG\/pgDataLV\nsudo mkfs.ext4 -E nodiscard \/dev\/pgLogVG\/pgLogLV\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Create Disk Setup"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"EXEC","uuid":"859972cb-9c8d-483a-9308-bd63f1ab0b51","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\nsudo wget -c https:\/\/download.postgresql.org\/pub\/repos\/yum\/9.6\/redhat\/rhel-7-x86_64\/pgdg-centos96-9.6-3.noarch.rpm\nsudo yum -y install pgdg-centos96-9.6-3.noarch.rpm\nsudo rpm --import http:\/\/packages.2ndquadrant.com\/repmgr\/RPM-GPG-KEY-repmgr\nsudo yum install -y http:\/\/packages.2ndquadrant.com\/repmgr\/yum-repo-rpms\/repmgr-rhel-1.0-1.noarch.rpm\n\n# Install PostgreSQL\nsudo yum -y install postgresql96 postgresql96-contrib postgresql96-server postgresql96-devel postgresql96-plpython\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install Postgres"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"EXEC","uuid":"da64d929-20c8-4519-aa3b-f14bebfd8bc3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n#run initdb\nsudo \/usr\/pgsql-9.6\/bin\/postgresql96-setup initdb\n\n#start and stop postgresql to make sure DB creates the required directories\nsudo systemctl start postgresql-9.6.service\nsudo systemctl stop postgresql-9.6.service\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Setup Postgres"}],"description":"","message_list":[],"uuid":"b8c8117f-52fb-4de5-92f6-666f4d0fbe45","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"24714765_dag","uuid":"723f480e-6b3d-47bd-9bd2-4269f4d9f345"},"name":"6b1ca66e_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSSlavePackage","uuid":"33b12429-d141-480f-b38e-4d8083fcff5c"},"retries":"0","description":"","type":"DAG","uuid":"37e28a89-a268-4dbb-9a10-d316de7af233","child_tasks_local_reference_list":[{"kind":"app_task","name":"PackageUninstallTask","uuid":"549fd42f-9116-454b-9a5b-e6740cbc420a"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"179a2341_dag"},{"target_any_local_reference":{"kind":"app_package","name":"AWSSlavePackage","uuid":"33b12429-d141-480f-b38e-4d8083fcff5c"},"retries":"0","description":"","type":"EXEC","uuid":"549fd42f-9116-454b-9a5b-e6740cbc420a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"PackageUninstallTask"}],"description":"","message_list":[],"uuid":"39dcd688-1f0b-4bf0-a99b-f1f59f25b1db","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"179a2341_dag","uuid":"37e28a89-a268-4dbb-9a10-d316de7af233"},"name":"fe8c4995_runbook"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Uninstall_Crb_33b12429_d141_480f_b38e_4d8083fcff5c"}],"description":"","message_list":[],"uuid":"56cb320e-9131-407c-80a2-73fb250b2294","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Package_33b12429_d141_480f_b38e_4d8083fcff5c","uuid":"4c822f55-c659-4361-88d9-6a532c816370"},"name":"SYS_GEN__Runbook_Package_33b12429_d141_480f_b38e_4d8083fcff5c"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"758ae25b-b89b-4b56-9d18-733cb1a66403","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSSlavePackage","uuid":"33b12429-d141-480f-b38e-4d8083fcff5c"},"retries":"0","description":"","type":"DAG","uuid":"246f8781-b62a-4189-8814-b507ea4ba6ec","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"8ac2d56c-765b-470e-983a-537948a02675"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"31bfc031-7e6a-4970-86a4-f75b4760a9ef"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_33b12429_d141_480f_b38e_4d8083fcff5c","uuid":"73532e9b-0244-4e3d-b0f7-87726dd7c5e9"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"8ac2d56c-765b-470e-983a-537948a02675"},"edge_type":"inherent","type":"","uuid":"5810573f-57d8-4ea9-b988-d6b41aea3930","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"31bfc031-7e6a-4970-86a4-f75b4760a9ef"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"31bfc031-7e6a-4970-86a4-f75b4760a9ef"},"edge_type":"inherent","type":"","uuid":"86fdb3df-4c98-4412-a51a-943ec36f7113","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_33b12429_d141_480f_b38e_4d8083fcff5c","uuid":"73532e9b-0244-4e3d-b0f7-87726dd7c5e9"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_33b12429_d141_480f_b38e_4d8083fcff5c"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"8ac2d56c-765b-470e-983a-537948a02675","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0e2bd4c9_runbook","uuid":"8e29699f-df44-4802-8ae9-689322c6575c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"31bfc031-7e6a-4970-86a4-f75b4760a9ef","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"08946714_runbook","uuid":"005a7fbe-7426-4c75-aa02-8ca0b1db5dbb"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40"},{"target_any_local_reference":{"kind":"app_package","name":"AWSSlavePackage","uuid":"33b12429-d141-480f-b38e-4d8083fcff5c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"73532e9b-0244-4e3d-b0f7-87726dd7c5e9","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_33b12429_d141_480f_b38e_4d8083fcff5c","uuid":"56cb320e-9131-407c-80a2-73fb250b2294"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_33b12429_d141_480f_b38e_4d8083fcff5c"}],"description":"","message_list":[],"uuid":"5d1bb627-498c-4145-a8c8-c66ca89e5ab9","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_33b12429_d141_480f_b38e_4d8083fcff5c","uuid":"246f8781-b62a-4189-8814-b507ea4ba6ec"},"name":"SYS_GEN__Runbook_Package_33b12429_d141_480f_b38e_4d8083fcff5c"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"0678e0ff-2466-429d-a66d-cc286cd09f7d","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSSlavePackage","uuid":"33b12429-d141-480f-b38e-4d8083fcff5c"},"retries":"0","description":"","type":"DAG","uuid":"83cf4871-6811-4039-bdf4-e7a6eb1f8ef3","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"01b2a09d-8f2f-4a80-b673-fa0fcd33aea7"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_33b12429_d141_480f_b38e_4d8083fcff5c","uuid":"70b9f0fb-4f32-48f4-9c20-e4c26148f920"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"01b2a09d-8f2f-4a80-b673-fa0fcd33aea7"},"edge_type":"inherent","type":"","uuid":"506ce590-9575-4ca1-95d2-7f63b8ea0e5f","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_33b12429_d141_480f_b38e_4d8083fcff5c","uuid":"70b9f0fb-4f32-48f4-9c20-e4c26148f920"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_33b12429_d141_480f_b38e_4d8083fcff5c"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"01b2a09d-8f2f-4a80-b673-fa0fcd33aea7","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"febe47f3-782b-40c3-abcb-ce825626516f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40"},{"target_any_local_reference":{"kind":"app_package","name":"AWSSlavePackage","uuid":"33b12429-d141-480f-b38e-4d8083fcff5c"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"70b9f0fb-4f32-48f4-9c20-e4c26148f920","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_33b12429_d141_480f_b38e_4d8083fcff5c"}],"description":"","message_list":[],"uuid":"14a50751-b635-45d9-b4d6-12b6e46db744","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_33b12429_d141_480f_b38e_4d8083fcff5c","uuid":"83cf4871-6811-4039-bdf4-e7a6eb1f8ef3"},"name":"SYS_GEN__Runbook_Package_33b12429_d141_480f_b38e_4d8083fcff5c"}},{"description":"System action for starting an application","message_list":[],"uuid":"0b693b9a-97d1-45f2-8468-e94968eaa24a","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSSlavePackage","uuid":"33b12429-d141-480f-b38e-4d8083fcff5c"},"retries":"0","description":"","type":"DAG","uuid":"c2282dcd-426a-4b8a-a300-4976dfb1c855","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"4db047a2-da08-4a59-904c-34d3c16e8b25"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_33b12429_d141_480f_b38e_4d8083fcff5c"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"4db047a2-da08-4a59-904c-34d3c16e8b25","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"b34d9d39_runbook","uuid":"57a4c7a2-843d-4130-9f5d-51c6ed3ce4d5"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40"}],"description":"","message_list":[],"uuid":"df766b4f-7c58-4db2-af71-81d8eebda78d","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_33b12429_d141_480f_b38e_4d8083fcff5c","uuid":"c2282dcd-426a-4b8a-a300-4976dfb1c855"},"name":"SYS_GEN__Runbook_Package_33b12429_d141_480f_b38e_4d8083fcff5c"}},{"description":"System action for restarting an application","message_list":[],"uuid":"5a6bf023-1850-49cf-a23f-c7d3ffaf588b","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSSlavePackage","uuid":"33b12429-d141-480f-b38e-4d8083fcff5c"},"retries":"0","description":"","type":"DAG","uuid":"e45a4bba-7fa7-479a-add3-9a4709949b50","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"b211b4df-f44f-4e1b-9696-81e696c4c54b"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_33b12429_d141_480f_b38e_4d8083fcff5c"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"b211b4df-f44f-4e1b-9696-81e696c4c54b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"c1c4eebd_runbook","uuid":"bea78664-aea0-4d1f-b708-8ef876af38d5"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40"}],"description":"","message_list":[],"uuid":"01c90573-3802-4d2f-a984-be78fdea68bc","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_33b12429_d141_480f_b38e_4d8083fcff5c","uuid":"e45a4bba-7fa7-479a-add3-9a4709949b50"},"name":"SYS_GEN__Runbook_Package_33b12429_d141_480f_b38e_4d8083fcff5c"}},{"description":"System action for stopping an application","message_list":[],"uuid":"81d4a88f-0a61-44fb-b734-599d265c11f8","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSSlavePackage","uuid":"33b12429-d141-480f-b38e-4d8083fcff5c"},"retries":"0","description":"","type":"DAG","uuid":"270fd86c-70cb-40d9-803a-6d43aea29878","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"91e4c28d-1a0e-4fa0-abcd-ea19a9b6c960"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_33b12429_d141_480f_b38e_4d8083fcff5c"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"91e4c28d-1a0e-4fa0-abcd-ea19a9b6c960","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0e2bd4c9_runbook","uuid":"8e29699f-df44-4802-8ae9-689322c6575c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40"}],"description":"","message_list":[],"uuid":"109042fa-5ee4-49bd-8e76-f7d0e3688293","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_33b12429_d141_480f_b38e_4d8083fcff5c","uuid":"270fd86c-70cb-40d9-803a-6d43aea29878"},"name":"SYS_GEN__Runbook_Package_33b12429_d141_480f_b38e_4d8083fcff5c"}}],"message_list":[],"service_local_reference_list":[{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"}],"uuid":"33b12429-d141-480f-b38e-4d8083fcff5c","state":"ACTIVE","version":"","editables":{},"type":"DEB","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSSlavePackage","uuid":"33b12429-d141-480f-b38e-4d8083fcff5c"},"retries":"0","description":"","type":"DAG","uuid":"723f480e-6b3d-47bd-9bd2-4269f4d9f345","child_tasks_local_reference_list":[{"kind":"app_task","name":"Install System Packages","uuid":"f7d34e66-b7e0-4ad3-bd05-42051e764ad5"},{"kind":"app_task","name":"Create Disk Setup","uuid":"f2a5bc76-5ad6-417a-b9f2-c0cef0bd4376"},{"kind":"app_task","name":"Install Postgres","uuid":"859972cb-9c8d-483a-9308-bd63f1ab0b51"},{"kind":"app_task","name":"Setup Postgres","uuid":"da64d929-20c8-4519-aa3b-f14bebfd8bc3"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Install System Packages","uuid":"f7d34e66-b7e0-4ad3-bd05-42051e764ad5"},"edge_type":"user_defined","type":"","uuid":"89312c1b-f6e5-4e1b-8b44-dd3fc7a1f51c","to_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"f2a5bc76-5ad6-417a-b9f2-c0cef0bd4376"}},{"from_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"f2a5bc76-5ad6-417a-b9f2-c0cef0bd4376"},"edge_type":"user_defined","type":"","uuid":"a791e23f-1c8d-4d73-beb0-00394ee71cfa","to_task_reference":{"kind":"app_task","name":"Install Postgres","uuid":"859972cb-9c8d-483a-9308-bd63f1ab0b51"}},{"from_task_reference":{"kind":"app_task","name":"Install Postgres","uuid":"859972cb-9c8d-483a-9308-bd63f1ab0b51"},"edge_type":"user_defined","type":"","uuid":"bdded050-c6b1-44e9-ae86-8be50a617924","to_task_reference":{"kind":"app_task","name":"Setup Postgres","uuid":"da64d929-20c8-4519-aa3b-f14bebfd8bc3"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"24714765_dag"},{"target_any_local_reference":{"kind":"app_package","name":"AWSSlavePackage","uuid":"33b12429-d141-480f-b38e-4d8083fcff5c"},"retries":"0","description":"","type":"EXEC","uuid":"f7d34e66-b7e0-4ad3-bd05-42051e764ad5","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\nsudo yum -y upgrade\nsudo curl -O http:\/\/dl.fedoraproject.org\/pub\/epel\/7\/x86_64\/e\/epel-release-7-10.noarch.rpm\nsudo rpm --import https:\/\/www.elrepo.org\/RPM-GPG-KEY-elrepo.org\nsudo rpm -Uvh http:\/\/www.elrepo.org\/elrepo-release-7.0-3.el7.elrepo.noarch.rpm \nsudo rpm -ihv epel-release-7-10.noarch.rpm \n\nsudo yum update -y\nsudo yum -y install htop wget iotop xfs* bc unzip lvm2*\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"System packages are installed\"\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install System Packages"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"EXEC","uuid":"f2a5bc76-5ad6-417a-b9f2-c0cef0bd4376","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n##############\n#\n# LVM setup script for PostgreSQL . 4 disks for DATA and 2 for logs\n# Data disks are 60GB | Log disks are 20GB \n#\n#############\n\n\n#PGSQL data\nsudo pvcreate \/dev\/xvdb \/dev\/xvdc \/dev\/xvdd \/dev\/xvde\nsudo vgcreate pgDataVG \/dev\/xvdb \/dev\/xvdd \/dev\/xvdc \/dev\/xvde\nsudo lvcreate -l 100%FREE -i4 -I1M -n pgDataLV pgDataVG          ## Use 1MB to avoid IO amplification \n#lvcreate -l 100%FREE -i4 -I4M -n pgDataLV pgDataVG\n\n\n#PGSQL logs\nsudo pvcreate \/dev\/xvdf \/dev\/xvdg \nsudo vgcreate pgLogVG \/dev\/xvdf \/dev\/xvdg\nsudo lvcreate -l 100%FREE -i2 -I1M -n pgLogLV pgLogVG            ## Use 1MB to avoid IO amplification\n#lvcreate -l 100%FREE -i2 -I4M -n pgLogLV pgLogVG\n\n\n#Disable LVM read ahead\nsudo lvchange -r 0 \/dev\/pgDataVG\/pgDataLV\nsudo lvchange -r 0 \/dev\/pgLogVG\/pgLogLV\n\n\n#Format LVMs with ext4 and use nodiscard to make sure format time is fast on Nutanix due to SCSI unmap\nsudo mkfs.ext4 -E nodiscard \/dev\/pgDataVG\/pgDataLV\nsudo mkfs.ext4 -E nodiscard \/dev\/pgLogVG\/pgLogLV\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Create Disk Setup"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"EXEC","uuid":"859972cb-9c8d-483a-9308-bd63f1ab0b51","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\nsudo wget -c https:\/\/download.postgresql.org\/pub\/repos\/yum\/9.6\/redhat\/rhel-7-x86_64\/pgdg-centos96-9.6-3.noarch.rpm\nsudo yum -y install pgdg-centos96-9.6-3.noarch.rpm\nsudo rpm --import http:\/\/packages.2ndquadrant.com\/repmgr\/RPM-GPG-KEY-repmgr\nsudo yum install -y http:\/\/packages.2ndquadrant.com\/repmgr\/yum-repo-rpms\/repmgr-rhel-1.0-1.noarch.rpm\n\n# Install PostgreSQL\nsudo yum -y install postgresql96 postgresql96-contrib postgresql96-server postgresql96-devel postgresql96-plpython\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install Postgres"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"EXEC","uuid":"da64d929-20c8-4519-aa3b-f14bebfd8bc3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n#run initdb\nsudo \/usr\/pgsql-9.6\/bin\/postgresql96-setup initdb\n\n#start and stop postgresql to make sure DB creates the required directories\nsudo systemctl start postgresql-9.6.service\nsudo systemctl stop postgresql-9.6.service\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Setup Postgres"}],"description":"","message_list":[],"uuid":"b8c8117f-52fb-4de5-92f6-666f4d0fbe45","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"24714765_dag","uuid":"723f480e-6b3d-47bd-9bd2-4269f4d9f345"},"name":"6b1ca66e_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSSlavePackage","uuid":"33b12429-d141-480f-b38e-4d8083fcff5c"},"retries":"0","description":"","type":"DAG","uuid":"37e28a89-a268-4dbb-9a10-d316de7af233","child_tasks_local_reference_list":[{"kind":"app_task","name":"PackageUninstallTask","uuid":"549fd42f-9116-454b-9a5b-e6740cbc420a"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"179a2341_dag"},{"target_any_local_reference":{"kind":"app_package","name":"AWSSlavePackage","uuid":"33b12429-d141-480f-b38e-4d8083fcff5c"},"retries":"0","description":"","type":"EXEC","uuid":"549fd42f-9116-454b-9a5b-e6740cbc420a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"PackageUninstallTask"}],"description":"","message_list":[],"uuid":"39dcd688-1f0b-4bf0-a99b-f1f59f25b1db","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"179a2341_dag","uuid":"37e28a89-a268-4dbb-9a10-d316de7af233"},"name":"fe8c4995_runbook"}},"variable_list":[],"name":"AWSSlavePackage"},{"description":"","action_list":[{"description":"System action for installing an application","message_list":[],"uuid":"951bca1e-19f8-4b3d-88e3-a935fada52ed","name":"action_install","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPSlavePackage","uuid":"a785fd76-3fd6-4896-a184-edf5e5e71d31"},"retries":"0","description":"","type":"DAG","uuid":"0be0788d-d69c-4038-abb0-7a7beeb27542","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Install_Crb_a785fd76_3fd6_4896_a184_edf5e5e71d31","uuid":"82feb1ba-2892-44ca-bbc9-dd548c1820e9"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Package_a785fd76_3fd6_4896_a184_edf5e5e71d31"},{"target_any_local_reference":{"kind":"app_package","name":"GCPSlavePackage","uuid":"a785fd76-3fd6-4896-a184-edf5e5e71d31"},"retries":"0","description":"","type":"CUSTOM_PACKAGE_INSTALL","uuid":"82feb1ba-2892-44ca-bbc9-dd548c1820e9","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPSlavePackage","uuid":"a785fd76-3fd6-4896-a184-edf5e5e71d31"},"retries":"0","description":"","type":"DAG","uuid":"2850abe7-75d1-4225-a8aa-544724f419d2","child_tasks_local_reference_list":[{"kind":"app_task","name":"Install System Packages","uuid":"bf3569c2-c781-41bb-8812-9e2f8e74b8f1"},{"kind":"app_task","name":"Create Disk Setup","uuid":"9b109853-5795-496d-a450-097211db1715"},{"kind":"app_task","name":"Install Postgres","uuid":"e2d598c7-ab91-4a69-9cc3-f6f396cc8e22"},{"kind":"app_task","name":"Setup Postgres","uuid":"423b5ec3-f3ee-43ec-9275-404a6e59c24d"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Install System Packages","uuid":"bf3569c2-c781-41bb-8812-9e2f8e74b8f1"},"edge_type":"user_defined","type":"","uuid":"fd970407-a0b7-4f9a-bfaa-a6256d67209c","to_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"9b109853-5795-496d-a450-097211db1715"}},{"from_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"9b109853-5795-496d-a450-097211db1715"},"edge_type":"user_defined","type":"","uuid":"b39c9465-e7d9-415e-b6c8-c6a9193992e4","to_task_reference":{"kind":"app_task","name":"Install Postgres","uuid":"e2d598c7-ab91-4a69-9cc3-f6f396cc8e22"}},{"from_task_reference":{"kind":"app_task","name":"Install Postgres","uuid":"e2d598c7-ab91-4a69-9cc3-f6f396cc8e22"},"edge_type":"user_defined","type":"","uuid":"25a74c1d-b2b8-4b05-a185-40fe178c40b8","to_task_reference":{"kind":"app_task","name":"Setup Postgres","uuid":"423b5ec3-f3ee-43ec-9275-404a6e59c24d"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"3f5fc593_dag"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"EXEC","uuid":"bf3569c2-c781-41bb-8812-9e2f8e74b8f1","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\nsudo yum -y upgrade\nsudo curl -O http:\/\/dl.fedoraproject.org\/pub\/epel\/7\/x86_64\/e\/epel-release-7-10.noarch.rpm\nsudo rpm --import https:\/\/www.elrepo.org\/RPM-GPG-KEY-elrepo.org\nsudo rpm -Uvh http:\/\/www.elrepo.org\/elrepo-release-7.0-3.el7.elrepo.noarch.rpm \nsudo rpm -ihv epel-release-7-10.noarch.rpm \n\nsudo yum update -y\nsudo yum -y install htop wget iotop xfs* bc unzip lvm2*\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"System packages are installed\"\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install System Packages"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"EXEC","uuid":"9b109853-5795-496d-a450-097211db1715","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n##############\n#\n# LVM setup script for PostgreSQL . 4 disks for DATA and 2 for logs\n# Data disks are 60GB | Log disks are 20GB \n#\n#############\n\n\n#PGSQL data\nsudo pvcreate \/dev\/sdb \/dev\/sdc \/dev\/sdd \/dev\/sde\nsudo vgcreate pgDataVG \/dev\/sdb \/dev\/sdd \/dev\/sdc \/dev\/sde\nsudo lvcreate -l 100%FREE -i4 -I1M -n pgDataLV pgDataVG          ## Use 1MB to avoid IO amplification \n#lvcreate -l 100%FREE -i4 -I4M -n pgDataLV pgDataVG\n\n\n#PGSQL logs\nsudo pvcreate \/dev\/sdf \/dev\/sdg \nsudo vgcreate pgLogVG \/dev\/sdf \/dev\/sdg\nsudo lvcreate -l 100%FREE -i2 -I1M -n pgLogLV pgLogVG            ## Use 1MB to avoid IO amplification\n#lvcreate -l 100%FREE -i2 -I4M -n pgLogLV pgLogVG\n\n\n#Disable LVM read ahead\nsudo lvchange -r 0 \/dev\/pgDataVG\/pgDataLV\nsudo lvchange -r 0 \/dev\/pgLogVG\/pgLogLV\n\n\n#Format LVMs with ext4 and use nodiscard to make sure format time is fast on Nutanix due to SCSI unmap\nsudo mkfs.ext4 -E nodiscard \/dev\/pgDataVG\/pgDataLV\nsudo mkfs.ext4 -E nodiscard \/dev\/pgLogVG\/pgLogLV\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Create Disk Setup"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"EXEC","uuid":"e2d598c7-ab91-4a69-9cc3-f6f396cc8e22","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\nsudo wget -c https:\/\/download.postgresql.org\/pub\/repos\/yum\/9.6\/redhat\/rhel-7-x86_64\/pgdg-centos96-9.6-3.noarch.rpm\nsudo yum -y install pgdg-centos96-9.6-3.noarch.rpm\nsudo rpm --import http:\/\/packages.2ndquadrant.com\/repmgr\/RPM-GPG-KEY-repmgr\nsudo yum install -y http:\/\/packages.2ndquadrant.com\/repmgr\/yum-repo-rpms\/repmgr-rhel-1.0-1.noarch.rpm\n\n# Install PostgreSQL\nsudo yum -y install postgresql96 postgresql96-contrib postgresql96-server postgresql96-devel postgresql96-plpython\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install Postgres"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"EXEC","uuid":"423b5ec3-f3ee-43ec-9275-404a6e59c24d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n#run initdb\nsudo \/usr\/pgsql-9.6\/bin\/postgresql96-setup initdb\n\n#start and stop postgresql to make sure DB creates the required directories\nsudo systemctl start postgresql-9.6.service\nsudo systemctl stop postgresql-9.6.service\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Setup Postgres"}],"description":"","message_list":[],"uuid":"402c6add-f274-44a8-8ad1-3c2d8f8fe682","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"3f5fc593_dag","uuid":"2850abe7-75d1-4225-a8aa-544724f419d2"},"name":"ae74b5ae_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPSlavePackage","uuid":"a785fd76-3fd6-4896-a184-edf5e5e71d31"},"retries":"0","description":"","type":"DAG","uuid":"351c0259-7143-4056-a633-ad8c11ed91c3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"83a6be27_dag"}],"description":"","message_list":[],"uuid":"d670b392-53ef-4d6e-85a3-c78418dab93b","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"83a6be27_dag","uuid":"351c0259-7143-4056-a633-ad8c11ed91c3"},"name":"60618105_runbook"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Install_Crb_a785fd76_3fd6_4896_a184_edf5e5e71d31"}],"description":"","message_list":[],"uuid":"b15b4d9d-cd15-4ada-9cc0-486a4ca521b2","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Package_a785fd76_3fd6_4896_a184_edf5e5e71d31","uuid":"0be0788d-d69c-4038-abb0-7a7beeb27542"},"name":"SYS_GEN__Runbook_Package_a785fd76_3fd6_4896_a184_edf5e5e71d31"}},{"description":"System action for creating an application","message_list":[],"uuid":"d798cdff-2eb7-4824-a1d0-9ca06bd3f50b","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPSlavePackage","uuid":"a785fd76-3fd6-4896-a184-edf5e5e71d31"},"retries":"0","description":"","type":"DAG","uuid":"12503276-9187-492c-bcaa-928e092d0f60","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_a785fd76_3fd6_4896_a184_edf5e5e71d31","uuid":"4cf71951-f349-4d52-96ab-ab24adae3dd8"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"90fffe38-0cb3-4993-acc6-6c5bf8c639cc"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"484a7c3b-7a7a-4eed-9340-ad4ce849cb5c"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"90fffe38-0cb3-4993-acc6-6c5bf8c639cc"},"edge_type":"inherent","type":"","uuid":"afa998cf-b2ba-463a-a4eb-5565fb83585f","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"484a7c3b-7a7a-4eed-9340-ad4ce849cb5c"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_a785fd76_3fd6_4896_a184_edf5e5e71d31","uuid":"4cf71951-f349-4d52-96ab-ab24adae3dd8"},"edge_type":"inherent","type":"","uuid":"87a110c9-1215-49c8-bed1-e5a9004bc263","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"90fffe38-0cb3-4993-acc6-6c5bf8c639cc"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_a785fd76_3fd6_4896_a184_edf5e5e71d31"},{"target_any_local_reference":{"kind":"app_package","name":"GCPSlavePackage","uuid":"a785fd76-3fd6-4896-a184-edf5e5e71d31"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"4cf71951-f349-4d52-96ab-ab24adae3dd8","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_a785fd76_3fd6_4896_a184_edf5e5e71d31","uuid":"b15b4d9d-cd15-4ada-9cc0-486a4ca521b2"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_a785fd76_3fd6_4896_a184_edf5e5e71d31"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"90fffe38-0cb3-4993-acc6-6c5bf8c639cc","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"8f15e59d_runbook","uuid":"3c61d32f-d429-4292-b02b-abf0f370307a"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"484a7c3b-7a7a-4eed-9340-ad4ce849cb5c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"b34d9d39_runbook","uuid":"57a4c7a2-843d-4130-9f5d-51c6ed3ce4d5"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40"}],"description":"","message_list":[],"uuid":"2d2b5c79-4dbc-4db3-8401-4897342dedbe","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_a785fd76_3fd6_4896_a184_edf5e5e71d31","uuid":"12503276-9187-492c-bcaa-928e092d0f60"},"name":"SYS_GEN__Runbook_Package_a785fd76_3fd6_4896_a184_edf5e5e71d31"}},{"description":"System action for uninstalling an application","message_list":[],"uuid":"3bdfe513-6fa0-4e86-b1bd-8754fef87a7a","name":"action_uninstall","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPSlavePackage","uuid":"a785fd76-3fd6-4896-a184-edf5e5e71d31"},"retries":"0","description":"","type":"DAG","uuid":"9049812a-d96c-4937-91a0-f35e2c0cc7f1","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Uninstall_Crb_a785fd76_3fd6_4896_a184_edf5e5e71d31","uuid":"e7edbbc7-1bf0-494d-b8ea-f0581a4a1d71"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Package_a785fd76_3fd6_4896_a184_edf5e5e71d31"},{"target_any_local_reference":{"kind":"app_package","name":"GCPSlavePackage","uuid":"a785fd76-3fd6-4896-a184-edf5e5e71d31"},"retries":"0","description":"","type":"CUSTOM_PACKAGE_UNINSTALL","uuid":"e7edbbc7-1bf0-494d-b8ea-f0581a4a1d71","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPSlavePackage","uuid":"a785fd76-3fd6-4896-a184-edf5e5e71d31"},"retries":"0","description":"","type":"DAG","uuid":"2850abe7-75d1-4225-a8aa-544724f419d2","child_tasks_local_reference_list":[{"kind":"app_task","name":"Install System Packages","uuid":"bf3569c2-c781-41bb-8812-9e2f8e74b8f1"},{"kind":"app_task","name":"Create Disk Setup","uuid":"9b109853-5795-496d-a450-097211db1715"},{"kind":"app_task","name":"Install Postgres","uuid":"e2d598c7-ab91-4a69-9cc3-f6f396cc8e22"},{"kind":"app_task","name":"Setup Postgres","uuid":"423b5ec3-f3ee-43ec-9275-404a6e59c24d"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Install System Packages","uuid":"bf3569c2-c781-41bb-8812-9e2f8e74b8f1"},"edge_type":"user_defined","type":"","uuid":"fd970407-a0b7-4f9a-bfaa-a6256d67209c","to_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"9b109853-5795-496d-a450-097211db1715"}},{"from_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"9b109853-5795-496d-a450-097211db1715"},"edge_type":"user_defined","type":"","uuid":"b39c9465-e7d9-415e-b6c8-c6a9193992e4","to_task_reference":{"kind":"app_task","name":"Install Postgres","uuid":"e2d598c7-ab91-4a69-9cc3-f6f396cc8e22"}},{"from_task_reference":{"kind":"app_task","name":"Install Postgres","uuid":"e2d598c7-ab91-4a69-9cc3-f6f396cc8e22"},"edge_type":"user_defined","type":"","uuid":"25a74c1d-b2b8-4b05-a185-40fe178c40b8","to_task_reference":{"kind":"app_task","name":"Setup Postgres","uuid":"423b5ec3-f3ee-43ec-9275-404a6e59c24d"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"3f5fc593_dag"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"EXEC","uuid":"bf3569c2-c781-41bb-8812-9e2f8e74b8f1","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\nsudo yum -y upgrade\nsudo curl -O http:\/\/dl.fedoraproject.org\/pub\/epel\/7\/x86_64\/e\/epel-release-7-10.noarch.rpm\nsudo rpm --import https:\/\/www.elrepo.org\/RPM-GPG-KEY-elrepo.org\nsudo rpm -Uvh http:\/\/www.elrepo.org\/elrepo-release-7.0-3.el7.elrepo.noarch.rpm \nsudo rpm -ihv epel-release-7-10.noarch.rpm \n\nsudo yum update -y\nsudo yum -y install htop wget iotop xfs* bc unzip lvm2*\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"System packages are installed\"\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install System Packages"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"EXEC","uuid":"9b109853-5795-496d-a450-097211db1715","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n##############\n#\n# LVM setup script for PostgreSQL . 4 disks for DATA and 2 for logs\n# Data disks are 60GB | Log disks are 20GB \n#\n#############\n\n\n#PGSQL data\nsudo pvcreate \/dev\/sdb \/dev\/sdc \/dev\/sdd \/dev\/sde\nsudo vgcreate pgDataVG \/dev\/sdb \/dev\/sdd \/dev\/sdc \/dev\/sde\nsudo lvcreate -l 100%FREE -i4 -I1M -n pgDataLV pgDataVG          ## Use 1MB to avoid IO amplification \n#lvcreate -l 100%FREE -i4 -I4M -n pgDataLV pgDataVG\n\n\n#PGSQL logs\nsudo pvcreate \/dev\/sdf \/dev\/sdg \nsudo vgcreate pgLogVG \/dev\/sdf \/dev\/sdg\nsudo lvcreate -l 100%FREE -i2 -I1M -n pgLogLV pgLogVG            ## Use 1MB to avoid IO amplification\n#lvcreate -l 100%FREE -i2 -I4M -n pgLogLV pgLogVG\n\n\n#Disable LVM read ahead\nsudo lvchange -r 0 \/dev\/pgDataVG\/pgDataLV\nsudo lvchange -r 0 \/dev\/pgLogVG\/pgLogLV\n\n\n#Format LVMs with ext4 and use nodiscard to make sure format time is fast on Nutanix due to SCSI unmap\nsudo mkfs.ext4 -E nodiscard \/dev\/pgDataVG\/pgDataLV\nsudo mkfs.ext4 -E nodiscard \/dev\/pgLogVG\/pgLogLV\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Create Disk Setup"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"EXEC","uuid":"e2d598c7-ab91-4a69-9cc3-f6f396cc8e22","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\nsudo wget -c https:\/\/download.postgresql.org\/pub\/repos\/yum\/9.6\/redhat\/rhel-7-x86_64\/pgdg-centos96-9.6-3.noarch.rpm\nsudo yum -y install pgdg-centos96-9.6-3.noarch.rpm\nsudo rpm --import http:\/\/packages.2ndquadrant.com\/repmgr\/RPM-GPG-KEY-repmgr\nsudo yum install -y http:\/\/packages.2ndquadrant.com\/repmgr\/yum-repo-rpms\/repmgr-rhel-1.0-1.noarch.rpm\n\n# Install PostgreSQL\nsudo yum -y install postgresql96 postgresql96-contrib postgresql96-server postgresql96-devel postgresql96-plpython\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install Postgres"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"EXEC","uuid":"423b5ec3-f3ee-43ec-9275-404a6e59c24d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n#run initdb\nsudo \/usr\/pgsql-9.6\/bin\/postgresql96-setup initdb\n\n#start and stop postgresql to make sure DB creates the required directories\nsudo systemctl start postgresql-9.6.service\nsudo systemctl stop postgresql-9.6.service\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Setup Postgres"}],"description":"","message_list":[],"uuid":"402c6add-f274-44a8-8ad1-3c2d8f8fe682","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"3f5fc593_dag","uuid":"2850abe7-75d1-4225-a8aa-544724f419d2"},"name":"ae74b5ae_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPSlavePackage","uuid":"a785fd76-3fd6-4896-a184-edf5e5e71d31"},"retries":"0","description":"","type":"DAG","uuid":"351c0259-7143-4056-a633-ad8c11ed91c3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"83a6be27_dag"}],"description":"","message_list":[],"uuid":"d670b392-53ef-4d6e-85a3-c78418dab93b","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"83a6be27_dag","uuid":"351c0259-7143-4056-a633-ad8c11ed91c3"},"name":"60618105_runbook"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Uninstall_Crb_a785fd76_3fd6_4896_a184_edf5e5e71d31"}],"description":"","message_list":[],"uuid":"a49ed999-a918-4b2c-8c12-8ae82f0d085b","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Package_a785fd76_3fd6_4896_a184_edf5e5e71d31","uuid":"9049812a-d96c-4937-91a0-f35e2c0cc7f1"},"name":"SYS_GEN__Runbook_Package_a785fd76_3fd6_4896_a184_edf5e5e71d31"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"8ee944d5-7c52-41bd-95f0-252860367d10","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPSlavePackage","uuid":"a785fd76-3fd6-4896-a184-edf5e5e71d31"},"retries":"0","description":"","type":"DAG","uuid":"c23b39c8-3f7a-4208-8884-be284c38b3c3","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"09f68ef7-3316-48e8-84be-00ad8cefebbf"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"005b2b98-6508-4cb5-9f26-516d61366153"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_a785fd76_3fd6_4896_a184_edf5e5e71d31","uuid":"178c7d2c-fb87-49a8-825f-8eee779852df"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"09f68ef7-3316-48e8-84be-00ad8cefebbf"},"edge_type":"inherent","type":"","uuid":"af5a9502-8060-42d6-9a5e-87b9db3f9421","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"005b2b98-6508-4cb5-9f26-516d61366153"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"005b2b98-6508-4cb5-9f26-516d61366153"},"edge_type":"inherent","type":"","uuid":"62130384-d789-462f-943f-c0c076df5cc8","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_a785fd76_3fd6_4896_a184_edf5e5e71d31","uuid":"178c7d2c-fb87-49a8-825f-8eee779852df"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_a785fd76_3fd6_4896_a184_edf5e5e71d31"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"09f68ef7-3316-48e8-84be-00ad8cefebbf","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0e2bd4c9_runbook","uuid":"8e29699f-df44-4802-8ae9-689322c6575c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"005b2b98-6508-4cb5-9f26-516d61366153","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"08946714_runbook","uuid":"005a7fbe-7426-4c75-aa02-8ca0b1db5dbb"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40"},{"target_any_local_reference":{"kind":"app_package","name":"GCPSlavePackage","uuid":"a785fd76-3fd6-4896-a184-edf5e5e71d31"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"178c7d2c-fb87-49a8-825f-8eee779852df","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_a785fd76_3fd6_4896_a184_edf5e5e71d31","uuid":"a49ed999-a918-4b2c-8c12-8ae82f0d085b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_a785fd76_3fd6_4896_a184_edf5e5e71d31"}],"description":"","message_list":[],"uuid":"bc11afc8-de4c-48a6-8e5b-3f25fd7a68c9","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_a785fd76_3fd6_4896_a184_edf5e5e71d31","uuid":"c23b39c8-3f7a-4208-8884-be284c38b3c3"},"name":"SYS_GEN__Runbook_Package_a785fd76_3fd6_4896_a184_edf5e5e71d31"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"e5da3365-9214-4e7d-85fb-84e86f4e4dea","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPSlavePackage","uuid":"a785fd76-3fd6-4896-a184-edf5e5e71d31"},"retries":"0","description":"","type":"DAG","uuid":"e4657748-4dee-441b-a9b1-9ab260e8462c","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"551554fd-cb8d-4557-be26-3193a091b5a9"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_a785fd76_3fd6_4896_a184_edf5e5e71d31","uuid":"e2c956aa-c96f-4c6e-bc05-df56bcf9144c"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"551554fd-cb8d-4557-be26-3193a091b5a9"},"edge_type":"inherent","type":"","uuid":"8dd821f7-79ed-43bf-b1d6-76946a9c00db","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_a785fd76_3fd6_4896_a184_edf5e5e71d31","uuid":"e2c956aa-c96f-4c6e-bc05-df56bcf9144c"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_a785fd76_3fd6_4896_a184_edf5e5e71d31"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"551554fd-cb8d-4557-be26-3193a091b5a9","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"febe47f3-782b-40c3-abcb-ce825626516f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40"},{"target_any_local_reference":{"kind":"app_package","name":"GCPSlavePackage","uuid":"a785fd76-3fd6-4896-a184-edf5e5e71d31"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"e2c956aa-c96f-4c6e-bc05-df56bcf9144c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_a785fd76_3fd6_4896_a184_edf5e5e71d31"}],"description":"","message_list":[],"uuid":"4d8c8d55-264d-47d6-811d-c1c4a041818d","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_a785fd76_3fd6_4896_a184_edf5e5e71d31","uuid":"e4657748-4dee-441b-a9b1-9ab260e8462c"},"name":"SYS_GEN__Runbook_Package_a785fd76_3fd6_4896_a184_edf5e5e71d31"}},{"description":"System action for starting an application","message_list":[],"uuid":"7631417e-cd8b-40d0-bd60-3128a203fe8f","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPSlavePackage","uuid":"a785fd76-3fd6-4896-a184-edf5e5e71d31"},"retries":"0","description":"","type":"DAG","uuid":"97a9028d-ba2f-4c04-a6ca-8d3a381b9e5e","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"9fcbbe8c-3300-492a-9d27-c58457e3a554"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_a785fd76_3fd6_4896_a184_edf5e5e71d31"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"9fcbbe8c-3300-492a-9d27-c58457e3a554","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"b34d9d39_runbook","uuid":"57a4c7a2-843d-4130-9f5d-51c6ed3ce4d5"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40"}],"description":"","message_list":[],"uuid":"93e6d331-03bc-4b12-b7b0-eb589b3cdcdf","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_a785fd76_3fd6_4896_a184_edf5e5e71d31","uuid":"97a9028d-ba2f-4c04-a6ca-8d3a381b9e5e"},"name":"SYS_GEN__Runbook_Package_a785fd76_3fd6_4896_a184_edf5e5e71d31"}},{"description":"System action for restarting an application","message_list":[],"uuid":"46584853-3c61-45eb-a19e-be986d0e1c59","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPSlavePackage","uuid":"a785fd76-3fd6-4896-a184-edf5e5e71d31"},"retries":"0","description":"","type":"DAG","uuid":"9f32fec6-f953-4174-ad74-5ff47994653d","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"3305f527-7a82-4d7c-b0c4-b5f54fa6d114"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_a785fd76_3fd6_4896_a184_edf5e5e71d31"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"3305f527-7a82-4d7c-b0c4-b5f54fa6d114","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"c1c4eebd_runbook","uuid":"bea78664-aea0-4d1f-b708-8ef876af38d5"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40"}],"description":"","message_list":[],"uuid":"7ab37188-dbba-4aaa-984d-fa2f5c70e24c","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_a785fd76_3fd6_4896_a184_edf5e5e71d31","uuid":"9f32fec6-f953-4174-ad74-5ff47994653d"},"name":"SYS_GEN__Runbook_Package_a785fd76_3fd6_4896_a184_edf5e5e71d31"}},{"description":"System action for stopping an application","message_list":[],"uuid":"63960094-513c-4298-bc8f-62f1d894d67a","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPSlavePackage","uuid":"a785fd76-3fd6-4896-a184-edf5e5e71d31"},"retries":"0","description":"","type":"DAG","uuid":"7c8f8cbf-78f0-4351-bcaa-3b70ce93c515","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"796f2e2b-90e6-4643-b776-1248666cc469"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_a785fd76_3fd6_4896_a184_edf5e5e71d31"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"796f2e2b-90e6-4643-b776-1248666cc469","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0e2bd4c9_runbook","uuid":"8e29699f-df44-4802-8ae9-689322c6575c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40"}],"description":"","message_list":[],"uuid":"2cf84228-cb8c-48c0-a1fb-cf51ae9e7206","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_a785fd76_3fd6_4896_a184_edf5e5e71d31","uuid":"7c8f8cbf-78f0-4351-bcaa-3b70ce93c515"},"name":"SYS_GEN__Runbook_Package_a785fd76_3fd6_4896_a184_edf5e5e71d31"}}],"message_list":[],"service_local_reference_list":[{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"}],"uuid":"a785fd76-3fd6-4896-a184-edf5e5e71d31","state":"ACTIVE","version":"","editables":{},"type":"DEB","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPSlavePackage","uuid":"a785fd76-3fd6-4896-a184-edf5e5e71d31"},"retries":"0","description":"","type":"DAG","uuid":"2850abe7-75d1-4225-a8aa-544724f419d2","child_tasks_local_reference_list":[{"kind":"app_task","name":"Install System Packages","uuid":"bf3569c2-c781-41bb-8812-9e2f8e74b8f1"},{"kind":"app_task","name":"Create Disk Setup","uuid":"9b109853-5795-496d-a450-097211db1715"},{"kind":"app_task","name":"Install Postgres","uuid":"e2d598c7-ab91-4a69-9cc3-f6f396cc8e22"},{"kind":"app_task","name":"Setup Postgres","uuid":"423b5ec3-f3ee-43ec-9275-404a6e59c24d"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Install System Packages","uuid":"bf3569c2-c781-41bb-8812-9e2f8e74b8f1"},"edge_type":"user_defined","type":"","uuid":"fd970407-a0b7-4f9a-bfaa-a6256d67209c","to_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"9b109853-5795-496d-a450-097211db1715"}},{"from_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"9b109853-5795-496d-a450-097211db1715"},"edge_type":"user_defined","type":"","uuid":"b39c9465-e7d9-415e-b6c8-c6a9193992e4","to_task_reference":{"kind":"app_task","name":"Install Postgres","uuid":"e2d598c7-ab91-4a69-9cc3-f6f396cc8e22"}},{"from_task_reference":{"kind":"app_task","name":"Install Postgres","uuid":"e2d598c7-ab91-4a69-9cc3-f6f396cc8e22"},"edge_type":"user_defined","type":"","uuid":"25a74c1d-b2b8-4b05-a185-40fe178c40b8","to_task_reference":{"kind":"app_task","name":"Setup Postgres","uuid":"423b5ec3-f3ee-43ec-9275-404a6e59c24d"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"3f5fc593_dag"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"EXEC","uuid":"bf3569c2-c781-41bb-8812-9e2f8e74b8f1","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\nsudo yum -y upgrade\nsudo curl -O http:\/\/dl.fedoraproject.org\/pub\/epel\/7\/x86_64\/e\/epel-release-7-10.noarch.rpm\nsudo rpm --import https:\/\/www.elrepo.org\/RPM-GPG-KEY-elrepo.org\nsudo rpm -Uvh http:\/\/www.elrepo.org\/elrepo-release-7.0-3.el7.elrepo.noarch.rpm \nsudo rpm -ihv epel-release-7-10.noarch.rpm \n\nsudo yum update -y\nsudo yum -y install htop wget iotop xfs* bc unzip lvm2*\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"System packages are installed\"\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install System Packages"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"EXEC","uuid":"9b109853-5795-496d-a450-097211db1715","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n##############\n#\n# LVM setup script for PostgreSQL . 4 disks for DATA and 2 for logs\n# Data disks are 60GB | Log disks are 20GB \n#\n#############\n\n\n#PGSQL data\nsudo pvcreate \/dev\/sdb \/dev\/sdc \/dev\/sdd \/dev\/sde\nsudo vgcreate pgDataVG \/dev\/sdb \/dev\/sdd \/dev\/sdc \/dev\/sde\nsudo lvcreate -l 100%FREE -i4 -I1M -n pgDataLV pgDataVG          ## Use 1MB to avoid IO amplification \n#lvcreate -l 100%FREE -i4 -I4M -n pgDataLV pgDataVG\n\n\n#PGSQL logs\nsudo pvcreate \/dev\/sdf \/dev\/sdg \nsudo vgcreate pgLogVG \/dev\/sdf \/dev\/sdg\nsudo lvcreate -l 100%FREE -i2 -I1M -n pgLogLV pgLogVG            ## Use 1MB to avoid IO amplification\n#lvcreate -l 100%FREE -i2 -I4M -n pgLogLV pgLogVG\n\n\n#Disable LVM read ahead\nsudo lvchange -r 0 \/dev\/pgDataVG\/pgDataLV\nsudo lvchange -r 0 \/dev\/pgLogVG\/pgLogLV\n\n\n#Format LVMs with ext4 and use nodiscard to make sure format time is fast on Nutanix due to SCSI unmap\nsudo mkfs.ext4 -E nodiscard \/dev\/pgDataVG\/pgDataLV\nsudo mkfs.ext4 -E nodiscard \/dev\/pgLogVG\/pgLogLV\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Create Disk Setup"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"EXEC","uuid":"e2d598c7-ab91-4a69-9cc3-f6f396cc8e22","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\nsudo wget -c https:\/\/download.postgresql.org\/pub\/repos\/yum\/9.6\/redhat\/rhel-7-x86_64\/pgdg-centos96-9.6-3.noarch.rpm\nsudo yum -y install pgdg-centos96-9.6-3.noarch.rpm\nsudo rpm --import http:\/\/packages.2ndquadrant.com\/repmgr\/RPM-GPG-KEY-repmgr\nsudo yum install -y http:\/\/packages.2ndquadrant.com\/repmgr\/yum-repo-rpms\/repmgr-rhel-1.0-1.noarch.rpm\n\n# Install PostgreSQL\nsudo yum -y install postgresql96 postgresql96-contrib postgresql96-server postgresql96-devel postgresql96-plpython\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install Postgres"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"EXEC","uuid":"423b5ec3-f3ee-43ec-9275-404a6e59c24d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n#run initdb\nsudo \/usr\/pgsql-9.6\/bin\/postgresql96-setup initdb\n\n#start and stop postgresql to make sure DB creates the required directories\nsudo systemctl start postgresql-9.6.service\nsudo systemctl stop postgresql-9.6.service\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Setup Postgres"}],"description":"","message_list":[],"uuid":"402c6add-f274-44a8-8ad1-3c2d8f8fe682","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"3f5fc593_dag","uuid":"2850abe7-75d1-4225-a8aa-544724f419d2"},"name":"ae74b5ae_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPSlavePackage","uuid":"a785fd76-3fd6-4896-a184-edf5e5e71d31"},"retries":"0","description":"","type":"DAG","uuid":"351c0259-7143-4056-a633-ad8c11ed91c3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"83a6be27_dag"}],"description":"","message_list":[],"uuid":"d670b392-53ef-4d6e-85a3-c78418dab93b","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"83a6be27_dag","uuid":"351c0259-7143-4056-a633-ad8c11ed91c3"},"name":"60618105_runbook"}},"variable_list":[],"name":"GCPSlavePackage"},{"description":"","action_list":[{"description":"System action for installing an application","message_list":[],"uuid":"207cdbee-b560-4a5a-8663-62c8e95eb568","name":"action_install","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzurePgMasterPkg","uuid":"53c13f4c-7c91-406a-9d03-e2cfcb9d5c90"},"retries":"0","description":"","type":"DAG","uuid":"b6fd73af-f8d4-445a-a5a5-a5cacf8ebec9","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Install_Crb_53c13f4c_7c91_406a_9d03_e2cfcb9d5c90","uuid":"913becd0-e8c9-46d3-887c-627ecf4e1d2a"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Package_53c13f4c_7c91_406a_9d03_e2cfcb9d5c90"},{"target_any_local_reference":{"kind":"app_package","name":"AzurePgMasterPkg","uuid":"53c13f4c-7c91-406a-9d03-e2cfcb9d5c90"},"retries":"0","description":"","type":"CUSTOM_PACKAGE_INSTALL","uuid":"913becd0-e8c9-46d3-887c-627ecf4e1d2a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzurePgMasterPkg","uuid":"53c13f4c-7c91-406a-9d03-e2cfcb9d5c90"},"retries":"0","description":"","type":"DAG","uuid":"148b7379-11a4-4a7a-b7b3-c5d28fd0d709","child_tasks_local_reference_list":[{"kind":"app_task","name":"Install System Packages","uuid":"97903db0-2529-4447-ab83-9dfb4ac8a9d3"},{"kind":"app_task","name":"Install Postgres ","uuid":"deca2ac8-af40-4e77-9b01-269dae310ab3"},{"kind":"app_task","name":"Setup Postgres","uuid":"c8a02258-c616-4c95-9b2b-ae04257936ad"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Install System Packages","uuid":"97903db0-2529-4447-ab83-9dfb4ac8a9d3"},"edge_type":"user_defined","type":"","uuid":"4124e1d3-5e17-40d4-bed3-0084f359b351","to_task_reference":{"kind":"app_task","name":"Install Postgres ","uuid":"deca2ac8-af40-4e77-9b01-269dae310ab3"}},{"from_task_reference":{"kind":"app_task","name":"Install Postgres ","uuid":"deca2ac8-af40-4e77-9b01-269dae310ab3"},"edge_type":"user_defined","type":"","uuid":"6c083a37-93d8-43cf-b5b0-34d4d1d91409","to_task_reference":{"kind":"app_task","name":"Setup Postgres","uuid":"c8a02258-c616-4c95-9b2b-ae04257936ad"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"1f6044d4_dag"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"EXEC","uuid":"97903db0-2529-4447-ab83-9dfb4ac8a9d3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install System Packages"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"EXEC","uuid":"deca2ac8-af40-4e77-9b01-269dae310ab3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\nsudo wget -c https:\/\/download.postgresql.org\/pub\/repos\/yum\/9.6\/redhat\/rhel-7-x86_64\/pgdg-centos96-9.6-3.noarch.rpm\nsudo yum -y install pgdg-centos96-9.6-3.noarch.rpm\nsudo rpm --import http:\/\/packages.2ndquadrant.com\/repmgr\/RPM-GPG-KEY-repmgr\nsudo yum install -y http:\/\/packages.2ndquadrant.com\/repmgr\/yum-repo-rpms\/repmgr-rhel-1.0-1.noarch.rpm\n\n# Install PostgreSQL\nsudo yum -y install postgresql96 postgresql96-contrib postgresql96-server postgresql96-devel postgresql96-plpython\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install Postgres "},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"EXEC","uuid":"c8a02258-c616-4c95-9b2b-ae04257936ad","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\n#run initdb\nsudo \/usr\/pgsql-9.6\/bin\/postgresql96-setup initdb\n\n#enable service on boot\nsudo systemctl enable postgresql-9.6.service\n\nsudo systemctl status postgresql-9.6\nsudo systemctl start postgresql-9.6\nsudo systemctl status postgresql-9.6\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Setup Postgres"}],"description":"","message_list":[],"uuid":"89b0263d-6611-4258-877a-eed022703836","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"1f6044d4_dag","uuid":"148b7379-11a4-4a7a-b7b3-c5d28fd0d709"},"name":"f831a5cd_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzurePgMasterPkg","uuid":"53c13f4c-7c91-406a-9d03-e2cfcb9d5c90"},"retries":"0","description":"","type":"DAG","uuid":"dff4d156-1cf4-474e-9ce7-edee59010237","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"7f1ff0ab_dag"}],"description":"","message_list":[],"uuid":"2e998233-434f-4c1c-9f60-8c89ceb949ad","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"7f1ff0ab_dag","uuid":"dff4d156-1cf4-474e-9ce7-edee59010237"},"name":"e91b9bcb_runbook"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Install_Crb_53c13f4c_7c91_406a_9d03_e2cfcb9d5c90"}],"description":"","message_list":[],"uuid":"affecfe3-6b69-4e1e-acc5-b0e26e2fd608","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Package_53c13f4c_7c91_406a_9d03_e2cfcb9d5c90","uuid":"b6fd73af-f8d4-445a-a5a5-a5cacf8ebec9"},"name":"SYS_GEN__Runbook_Package_53c13f4c_7c91_406a_9d03_e2cfcb9d5c90"}},{"description":"System action for creating an application","message_list":[],"uuid":"8b1e1e2f-090d-4398-bd08-89ff10c3d3f7","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzurePgMasterPkg","uuid":"53c13f4c-7c91-406a-9d03-e2cfcb9d5c90"},"retries":"0","description":"","type":"DAG","uuid":"dc4ae7d3-849f-4642-bfe3-316fa3d7a907","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_53c13f4c_7c91_406a_9d03_e2cfcb9d5c90","uuid":"6bf7163b-3544-4a34-949d-b1d558135437"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"7d7c9043-0ffd-46f7-81c0-cba733c70ffb"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"307f3d76-b15c-4c1d-a97e-e23446cf68a1"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"7d7c9043-0ffd-46f7-81c0-cba733c70ffb"},"edge_type":"inherent","type":"","uuid":"15ab5472-4e07-4d72-8d53-48bb23c7f73c","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"307f3d76-b15c-4c1d-a97e-e23446cf68a1"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_53c13f4c_7c91_406a_9d03_e2cfcb9d5c90","uuid":"6bf7163b-3544-4a34-949d-b1d558135437"},"edge_type":"inherent","type":"","uuid":"2c157450-5d64-4572-9d1d-3c17cf5cb715","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"7d7c9043-0ffd-46f7-81c0-cba733c70ffb"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_53c13f4c_7c91_406a_9d03_e2cfcb9d5c90"},{"target_any_local_reference":{"kind":"app_package","name":"AzurePgMasterPkg","uuid":"53c13f4c-7c91-406a-9d03-e2cfcb9d5c90"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"6bf7163b-3544-4a34-949d-b1d558135437","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_53c13f4c_7c91_406a_9d03_e2cfcb9d5c90","uuid":"affecfe3-6b69-4e1e-acc5-b0e26e2fd608"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_53c13f4c_7c91_406a_9d03_e2cfcb9d5c90"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"7d7c9043-0ffd-46f7-81c0-cba733c70ffb","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"c528d489_runbook","uuid":"a5cf54be-5eb3-4cbb-8cbf-c295bbc3af83"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"307f3d76-b15c-4c1d-a97e-e23446cf68a1","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"c02553e2_runbook","uuid":"81959707-f27f-4259-a9b6-d4f736a28f5c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90"}],"description":"","message_list":[],"uuid":"cedf537b-c9bd-4dde-ab46-0102c48047c6","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_53c13f4c_7c91_406a_9d03_e2cfcb9d5c90","uuid":"dc4ae7d3-849f-4642-bfe3-316fa3d7a907"},"name":"SYS_GEN__Runbook_Package_53c13f4c_7c91_406a_9d03_e2cfcb9d5c90"}},{"description":"System action for uninstalling an application","message_list":[],"uuid":"f5cbdcf5-a1e0-4343-b84b-32ec9094a846","name":"action_uninstall","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzurePgMasterPkg","uuid":"53c13f4c-7c91-406a-9d03-e2cfcb9d5c90"},"retries":"0","description":"","type":"DAG","uuid":"4f1ddf3e-21e7-46be-9b17-c6d86f1641ff","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Uninstall_Crb_53c13f4c_7c91_406a_9d03_e2cfcb9d5c90","uuid":"786d59ee-f061-4a35-af09-22a1c1fb9e66"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Package_53c13f4c_7c91_406a_9d03_e2cfcb9d5c90"},{"target_any_local_reference":{"kind":"app_package","name":"AzurePgMasterPkg","uuid":"53c13f4c-7c91-406a-9d03-e2cfcb9d5c90"},"retries":"0","description":"","type":"CUSTOM_PACKAGE_UNINSTALL","uuid":"786d59ee-f061-4a35-af09-22a1c1fb9e66","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzurePgMasterPkg","uuid":"53c13f4c-7c91-406a-9d03-e2cfcb9d5c90"},"retries":"0","description":"","type":"DAG","uuid":"148b7379-11a4-4a7a-b7b3-c5d28fd0d709","child_tasks_local_reference_list":[{"kind":"app_task","name":"Install System Packages","uuid":"97903db0-2529-4447-ab83-9dfb4ac8a9d3"},{"kind":"app_task","name":"Install Postgres ","uuid":"deca2ac8-af40-4e77-9b01-269dae310ab3"},{"kind":"app_task","name":"Setup Postgres","uuid":"c8a02258-c616-4c95-9b2b-ae04257936ad"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Install System Packages","uuid":"97903db0-2529-4447-ab83-9dfb4ac8a9d3"},"edge_type":"user_defined","type":"","uuid":"4124e1d3-5e17-40d4-bed3-0084f359b351","to_task_reference":{"kind":"app_task","name":"Install Postgres ","uuid":"deca2ac8-af40-4e77-9b01-269dae310ab3"}},{"from_task_reference":{"kind":"app_task","name":"Install Postgres ","uuid":"deca2ac8-af40-4e77-9b01-269dae310ab3"},"edge_type":"user_defined","type":"","uuid":"6c083a37-93d8-43cf-b5b0-34d4d1d91409","to_task_reference":{"kind":"app_task","name":"Setup Postgres","uuid":"c8a02258-c616-4c95-9b2b-ae04257936ad"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"1f6044d4_dag"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"EXEC","uuid":"97903db0-2529-4447-ab83-9dfb4ac8a9d3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install System Packages"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"EXEC","uuid":"deca2ac8-af40-4e77-9b01-269dae310ab3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\nsudo wget -c https:\/\/download.postgresql.org\/pub\/repos\/yum\/9.6\/redhat\/rhel-7-x86_64\/pgdg-centos96-9.6-3.noarch.rpm\nsudo yum -y install pgdg-centos96-9.6-3.noarch.rpm\nsudo rpm --import http:\/\/packages.2ndquadrant.com\/repmgr\/RPM-GPG-KEY-repmgr\nsudo yum install -y http:\/\/packages.2ndquadrant.com\/repmgr\/yum-repo-rpms\/repmgr-rhel-1.0-1.noarch.rpm\n\n# Install PostgreSQL\nsudo yum -y install postgresql96 postgresql96-contrib postgresql96-server postgresql96-devel postgresql96-plpython\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install Postgres "},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"EXEC","uuid":"c8a02258-c616-4c95-9b2b-ae04257936ad","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\n#run initdb\nsudo \/usr\/pgsql-9.6\/bin\/postgresql96-setup initdb\n\n#enable service on boot\nsudo systemctl enable postgresql-9.6.service\n\nsudo systemctl status postgresql-9.6\nsudo systemctl start postgresql-9.6\nsudo systemctl status postgresql-9.6\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Setup Postgres"}],"description":"","message_list":[],"uuid":"89b0263d-6611-4258-877a-eed022703836","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"1f6044d4_dag","uuid":"148b7379-11a4-4a7a-b7b3-c5d28fd0d709"},"name":"f831a5cd_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzurePgMasterPkg","uuid":"53c13f4c-7c91-406a-9d03-e2cfcb9d5c90"},"retries":"0","description":"","type":"DAG","uuid":"dff4d156-1cf4-474e-9ce7-edee59010237","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"7f1ff0ab_dag"}],"description":"","message_list":[],"uuid":"2e998233-434f-4c1c-9f60-8c89ceb949ad","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"7f1ff0ab_dag","uuid":"dff4d156-1cf4-474e-9ce7-edee59010237"},"name":"e91b9bcb_runbook"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Uninstall_Crb_53c13f4c_7c91_406a_9d03_e2cfcb9d5c90"}],"description":"","message_list":[],"uuid":"568e1ca9-fedb-4173-8030-5934a0370109","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Package_53c13f4c_7c91_406a_9d03_e2cfcb9d5c90","uuid":"4f1ddf3e-21e7-46be-9b17-c6d86f1641ff"},"name":"SYS_GEN__Runbook_Package_53c13f4c_7c91_406a_9d03_e2cfcb9d5c90"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"31907ab1-f2c0-43ba-a0f8-f96c041045a0","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzurePgMasterPkg","uuid":"53c13f4c-7c91-406a-9d03-e2cfcb9d5c90"},"retries":"0","description":"","type":"DAG","uuid":"23570a4a-2aca-4aee-b3c2-507a9c1956f3","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"2beff4cd-0574-4f4e-a435-13405678c20d"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"3cc445d0-4c08-4e5e-baa3-38c9030dc4df"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_53c13f4c_7c91_406a_9d03_e2cfcb9d5c90","uuid":"dc87e03e-2629-436b-8ba7-5cbf2845f053"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"2beff4cd-0574-4f4e-a435-13405678c20d"},"edge_type":"inherent","type":"","uuid":"efab153e-f857-45c6-8125-f94183f1a08b","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"3cc445d0-4c08-4e5e-baa3-38c9030dc4df"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"3cc445d0-4c08-4e5e-baa3-38c9030dc4df"},"edge_type":"inherent","type":"","uuid":"810b5e73-0115-4394-8c0d-aa3381712b00","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_53c13f4c_7c91_406a_9d03_e2cfcb9d5c90","uuid":"dc87e03e-2629-436b-8ba7-5cbf2845f053"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_53c13f4c_7c91_406a_9d03_e2cfcb9d5c90"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"2beff4cd-0574-4f4e-a435-13405678c20d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"deb1443a_runbook","uuid":"86288a79-ba17-4500-a81a-1ed2afb6b9b8"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"3cc445d0-4c08-4e5e-baa3-38c9030dc4df","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"8ad650b2_runbook","uuid":"f31a5f00-62ad-4b57-8fbf-cd1f020f2bfc"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90"},{"target_any_local_reference":{"kind":"app_package","name":"AzurePgMasterPkg","uuid":"53c13f4c-7c91-406a-9d03-e2cfcb9d5c90"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"dc87e03e-2629-436b-8ba7-5cbf2845f053","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_53c13f4c_7c91_406a_9d03_e2cfcb9d5c90","uuid":"568e1ca9-fedb-4173-8030-5934a0370109"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_53c13f4c_7c91_406a_9d03_e2cfcb9d5c90"}],"description":"","message_list":[],"uuid":"3e7ce235-4c9d-4f60-82cd-816dc17ed0af","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_53c13f4c_7c91_406a_9d03_e2cfcb9d5c90","uuid":"23570a4a-2aca-4aee-b3c2-507a9c1956f3"},"name":"SYS_GEN__Runbook_Package_53c13f4c_7c91_406a_9d03_e2cfcb9d5c90"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"faec56fd-f8f8-4506-8b34-08a4980780fb","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzurePgMasterPkg","uuid":"53c13f4c-7c91-406a-9d03-e2cfcb9d5c90"},"retries":"0","description":"","type":"DAG","uuid":"ac44a3a3-318a-4dd3-bcbb-52ee7d873763","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"8646d8ef-bbab-437b-bcf7-3ca15cac5a96"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_53c13f4c_7c91_406a_9d03_e2cfcb9d5c90","uuid":"53e558cf-2274-4c47-98e6-24fc08b40637"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"8646d8ef-bbab-437b-bcf7-3ca15cac5a96"},"edge_type":"inherent","type":"","uuid":"31d292ad-6b1e-4be4-b734-ad65fe25eadb","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_53c13f4c_7c91_406a_9d03_e2cfcb9d5c90","uuid":"53e558cf-2274-4c47-98e6-24fc08b40637"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_53c13f4c_7c91_406a_9d03_e2cfcb9d5c90"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"8646d8ef-bbab-437b-bcf7-3ca15cac5a96","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"92ba2635-e9da-48a5-8b58-7a4b4a61ffdf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90"},{"target_any_local_reference":{"kind":"app_package","name":"AzurePgMasterPkg","uuid":"53c13f4c-7c91-406a-9d03-e2cfcb9d5c90"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"53e558cf-2274-4c47-98e6-24fc08b40637","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_53c13f4c_7c91_406a_9d03_e2cfcb9d5c90"}],"description":"","message_list":[],"uuid":"80689416-04f8-4f5d-b901-d804907cc295","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_53c13f4c_7c91_406a_9d03_e2cfcb9d5c90","uuid":"ac44a3a3-318a-4dd3-bcbb-52ee7d873763"},"name":"SYS_GEN__Runbook_Package_53c13f4c_7c91_406a_9d03_e2cfcb9d5c90"}},{"description":"System action for starting an application","message_list":[],"uuid":"e925fb45-5ea7-4edb-bda4-335630692154","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzurePgMasterPkg","uuid":"53c13f4c-7c91-406a-9d03-e2cfcb9d5c90"},"retries":"0","description":"","type":"DAG","uuid":"3f027222-69e1-45fb-bd27-86f661235694","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"8fea7269-f3ad-43b2-998c-349a9d022899"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_53c13f4c_7c91_406a_9d03_e2cfcb9d5c90"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"8fea7269-f3ad-43b2-998c-349a9d022899","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"c02553e2_runbook","uuid":"81959707-f27f-4259-a9b6-d4f736a28f5c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90"}],"description":"","message_list":[],"uuid":"aec846e1-4aa3-4293-8623-ef1ccb537873","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_53c13f4c_7c91_406a_9d03_e2cfcb9d5c90","uuid":"3f027222-69e1-45fb-bd27-86f661235694"},"name":"SYS_GEN__Runbook_Package_53c13f4c_7c91_406a_9d03_e2cfcb9d5c90"}},{"description":"System action for restarting an application","message_list":[],"uuid":"953fd242-7982-45a7-9aaa-761b0fe49ac1","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzurePgMasterPkg","uuid":"53c13f4c-7c91-406a-9d03-e2cfcb9d5c90"},"retries":"0","description":"","type":"DAG","uuid":"14a27b97-5d27-4a55-a624-185a525d862f","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"8e57ce78-8d44-428a-a86b-be0b3f2675e9"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_53c13f4c_7c91_406a_9d03_e2cfcb9d5c90"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"8e57ce78-8d44-428a-a86b-be0b3f2675e9","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"a9d9f266_runbook","uuid":"a32389b2-74a8-4a75-b897-c7158c11032e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90"}],"description":"","message_list":[],"uuid":"0a21de36-b581-486c-a109-a8cbb6cd1513","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_53c13f4c_7c91_406a_9d03_e2cfcb9d5c90","uuid":"14a27b97-5d27-4a55-a624-185a525d862f"},"name":"SYS_GEN__Runbook_Package_53c13f4c_7c91_406a_9d03_e2cfcb9d5c90"}},{"description":"System action for stopping an application","message_list":[],"uuid":"fd4546c1-ce95-4ba8-aa5c-4b5f967bc7e8","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzurePgMasterPkg","uuid":"53c13f4c-7c91-406a-9d03-e2cfcb9d5c90"},"retries":"0","description":"","type":"DAG","uuid":"54f10658-4496-4e00-8bae-2ed7cb8c36f4","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"327fdd00-a234-42e0-b2b5-0799b5a962d1"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_53c13f4c_7c91_406a_9d03_e2cfcb9d5c90"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"327fdd00-a234-42e0-b2b5-0799b5a962d1","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"deb1443a_runbook","uuid":"86288a79-ba17-4500-a81a-1ed2afb6b9b8"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90"}],"description":"","message_list":[],"uuid":"e955b4e4-0a70-472c-8948-ca6bc7e00610","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_53c13f4c_7c91_406a_9d03_e2cfcb9d5c90","uuid":"54f10658-4496-4e00-8bae-2ed7cb8c36f4"},"name":"SYS_GEN__Runbook_Package_53c13f4c_7c91_406a_9d03_e2cfcb9d5c90"}}],"message_list":[],"service_local_reference_list":[{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"}],"uuid":"53c13f4c-7c91-406a-9d03-e2cfcb9d5c90","state":"ACTIVE","version":"","editables":{},"type":"DEB","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzurePgMasterPkg","uuid":"53c13f4c-7c91-406a-9d03-e2cfcb9d5c90"},"retries":"0","description":"","type":"DAG","uuid":"148b7379-11a4-4a7a-b7b3-c5d28fd0d709","child_tasks_local_reference_list":[{"kind":"app_task","name":"Install System Packages","uuid":"97903db0-2529-4447-ab83-9dfb4ac8a9d3"},{"kind":"app_task","name":"Install Postgres ","uuid":"deca2ac8-af40-4e77-9b01-269dae310ab3"},{"kind":"app_task","name":"Setup Postgres","uuid":"c8a02258-c616-4c95-9b2b-ae04257936ad"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Install System Packages","uuid":"97903db0-2529-4447-ab83-9dfb4ac8a9d3"},"edge_type":"user_defined","type":"","uuid":"4124e1d3-5e17-40d4-bed3-0084f359b351","to_task_reference":{"kind":"app_task","name":"Install Postgres ","uuid":"deca2ac8-af40-4e77-9b01-269dae310ab3"}},{"from_task_reference":{"kind":"app_task","name":"Install Postgres ","uuid":"deca2ac8-af40-4e77-9b01-269dae310ab3"},"edge_type":"user_defined","type":"","uuid":"6c083a37-93d8-43cf-b5b0-34d4d1d91409","to_task_reference":{"kind":"app_task","name":"Setup Postgres","uuid":"c8a02258-c616-4c95-9b2b-ae04257936ad"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"1f6044d4_dag"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"EXEC","uuid":"97903db0-2529-4447-ab83-9dfb4ac8a9d3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install System Packages"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"EXEC","uuid":"deca2ac8-af40-4e77-9b01-269dae310ab3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\nsudo wget -c https:\/\/download.postgresql.org\/pub\/repos\/yum\/9.6\/redhat\/rhel-7-x86_64\/pgdg-centos96-9.6-3.noarch.rpm\nsudo yum -y install pgdg-centos96-9.6-3.noarch.rpm\nsudo rpm --import http:\/\/packages.2ndquadrant.com\/repmgr\/RPM-GPG-KEY-repmgr\nsudo yum install -y http:\/\/packages.2ndquadrant.com\/repmgr\/yum-repo-rpms\/repmgr-rhel-1.0-1.noarch.rpm\n\n# Install PostgreSQL\nsudo yum -y install postgresql96 postgresql96-contrib postgresql96-server postgresql96-devel postgresql96-plpython\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install Postgres "},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"EXEC","uuid":"c8a02258-c616-4c95-9b2b-ae04257936ad","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\n#run initdb\nsudo \/usr\/pgsql-9.6\/bin\/postgresql96-setup initdb\n\n#enable service on boot\nsudo systemctl enable postgresql-9.6.service\n\nsudo systemctl status postgresql-9.6\nsudo systemctl start postgresql-9.6\nsudo systemctl status postgresql-9.6\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Setup Postgres"}],"description":"","message_list":[],"uuid":"89b0263d-6611-4258-877a-eed022703836","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"1f6044d4_dag","uuid":"148b7379-11a4-4a7a-b7b3-c5d28fd0d709"},"name":"f831a5cd_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzurePgMasterPkg","uuid":"53c13f4c-7c91-406a-9d03-e2cfcb9d5c90"},"retries":"0","description":"","type":"DAG","uuid":"dff4d156-1cf4-474e-9ce7-edee59010237","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"7f1ff0ab_dag"}],"description":"","message_list":[],"uuid":"2e998233-434f-4c1c-9f60-8c89ceb949ad","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"7f1ff0ab_dag","uuid":"dff4d156-1cf4-474e-9ce7-edee59010237"},"name":"e91b9bcb_runbook"}},"variable_list":[],"name":"AzurePgMasterPkg"},{"description":"","action_list":[{"description":"System action for installing an application","message_list":[],"uuid":"acbc879a-fcdc-4c10-84a1-5c196528cbeb","name":"action_install","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzurePGSlavePkg","uuid":"fb791420-5fdc-42a7-84df-4a05408b2c96"},"retries":"0","description":"","type":"DAG","uuid":"d036edbb-5782-469f-9b7d-6e0b3a836e5e","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Install_Crb_fb791420_5fdc_42a7_84df_4a05408b2c96","uuid":"2ec346d7-10cb-4edc-95d5-2dab4eb32892"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Package_fb791420_5fdc_42a7_84df_4a05408b2c96"},{"target_any_local_reference":{"kind":"app_package","name":"AzurePGSlavePkg","uuid":"fb791420-5fdc-42a7-84df-4a05408b2c96"},"retries":"0","description":"","type":"CUSTOM_PACKAGE_INSTALL","uuid":"2ec346d7-10cb-4edc-95d5-2dab4eb32892","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzurePGSlavePkg","uuid":"fb791420-5fdc-42a7-84df-4a05408b2c96"},"retries":"0","description":"","type":"DAG","uuid":"8aa3e1a0-ce13-4d37-8f38-b4e482a612aa","child_tasks_local_reference_list":[{"kind":"app_task","name":"Install System Packages","uuid":"9a023d57-5cd5-4ba0-b671-27e0df786171"},{"kind":"app_task","name":"Install Postgres","uuid":"21d86333-0ac7-4233-99d4-7c41166a0d9b"},{"kind":"app_task","name":"Setup Postgres","uuid":"7360fab7-e55c-4007-b1bc-e22001e895a3"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Install System Packages","uuid":"9a023d57-5cd5-4ba0-b671-27e0df786171"},"edge_type":"user_defined","type":"","uuid":"cd6c7483-317d-4190-9842-df4407a37e13","to_task_reference":{"kind":"app_task","name":"Install Postgres","uuid":"21d86333-0ac7-4233-99d4-7c41166a0d9b"}},{"from_task_reference":{"kind":"app_task","name":"Install Postgres","uuid":"21d86333-0ac7-4233-99d4-7c41166a0d9b"},"edge_type":"user_defined","type":"","uuid":"83bccdd1-d612-4c16-a416-57a2ded1588a","to_task_reference":{"kind":"app_task","name":"Setup Postgres","uuid":"7360fab7-e55c-4007-b1bc-e22001e895a3"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"74eba3e9_dag"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"EXEC","uuid":"9a023d57-5cd5-4ba0-b671-27e0df786171","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\nsudo yum -y upgrade\nsudo curl -O http:\/\/dl.fedoraproject.org\/pub\/epel\/7\/x86_64\/e\/epel-release-7-10.noarch.rpm\nsudo rpm --import https:\/\/www.elrepo.org\/RPM-GPG-KEY-elrepo.org\nsudo rpm -Uvh http:\/\/www.elrepo.org\/elrepo-release-7.0-3.el7.elrepo.noarch.rpm \nsudo rpm -ihv epel-release-7-10.noarch.rpm \n\nsudo yum update -y\nsudo yum -y install htop wget iotop xfs* bc unzip lvm2*\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"System packages are installed\"\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install System Packages"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"EXEC","uuid":"21d86333-0ac7-4233-99d4-7c41166a0d9b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\nsudo wget -c https:\/\/download.postgresql.org\/pub\/repos\/yum\/9.6\/redhat\/rhel-7-x86_64\/pgdg-centos96-9.6-3.noarch.rpm\nsudo yum -y install pgdg-centos96-9.6-3.noarch.rpm\nsudo rpm --import http:\/\/packages.2ndquadrant.com\/repmgr\/RPM-GPG-KEY-repmgr\nsudo yum install -y http:\/\/packages.2ndquadrant.com\/repmgr\/yum-repo-rpms\/repmgr-rhel-1.0-1.noarch.rpm\n\n# Install PostgreSQL\nsudo yum -y install postgresql96 postgresql96-contrib postgresql96-server postgresql96-devel postgresql96-plpython\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install Postgres"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"EXEC","uuid":"7360fab7-e55c-4007-b1bc-e22001e895a3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n#run initdb\nsudo \/usr\/pgsql-9.6\/bin\/postgresql96-setup initdb\n\n#start and stop postgresql to make sure DB creates the required directories\nsudo systemctl start postgresql-9.6.service\nsudo systemctl stop postgresql-9.6.service\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Setup Postgres"}],"description":"","message_list":[],"uuid":"8f247654-ffdc-4c62-926b-60033eadd7c8","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"74eba3e9_dag","uuid":"8aa3e1a0-ce13-4d37-8f38-b4e482a612aa"},"name":"c7483cb8_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzurePGSlavePkg","uuid":"fb791420-5fdc-42a7-84df-4a05408b2c96"},"retries":"0","description":"","type":"DAG","uuid":"9ee6c5a6-1129-4da9-96cd-157cc6167a0f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"99ab270d_dag"}],"description":"","message_list":[],"uuid":"f9c7c3fc-9b0c-4681-98ec-af0254c499d8","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"99ab270d_dag","uuid":"9ee6c5a6-1129-4da9-96cd-157cc6167a0f"},"name":"ac115492_runbook"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Install_Crb_fb791420_5fdc_42a7_84df_4a05408b2c96"}],"description":"","message_list":[],"uuid":"d8238fae-cde1-4891-b469-8d8e935b7569","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Package_fb791420_5fdc_42a7_84df_4a05408b2c96","uuid":"d036edbb-5782-469f-9b7d-6e0b3a836e5e"},"name":"SYS_GEN__Runbook_Package_fb791420_5fdc_42a7_84df_4a05408b2c96"}},{"description":"System action for creating an application","message_list":[],"uuid":"794942f8-2960-45f1-804d-5a78bdf2f6a2","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzurePGSlavePkg","uuid":"fb791420-5fdc-42a7-84df-4a05408b2c96"},"retries":"0","description":"","type":"DAG","uuid":"e6a49087-235e-46b1-8782-e9a799e85bf9","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_fb791420_5fdc_42a7_84df_4a05408b2c96","uuid":"96a0484a-19e4-4e56-8bc0-b2afe4f73002"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"e50f1e3d-d707-42fb-891a-c4a7fde492e5"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"23681ec0-94a6-406f-a945-404d4670870e"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"e50f1e3d-d707-42fb-891a-c4a7fde492e5"},"edge_type":"inherent","type":"","uuid":"a5cb7dd2-f5b7-4cae-9d4e-900e63c3035d","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"23681ec0-94a6-406f-a945-404d4670870e"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_fb791420_5fdc_42a7_84df_4a05408b2c96","uuid":"96a0484a-19e4-4e56-8bc0-b2afe4f73002"},"edge_type":"inherent","type":"","uuid":"9e09214b-a9ff-4f74-8ff7-48205c7c6052","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"e50f1e3d-d707-42fb-891a-c4a7fde492e5"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_fb791420_5fdc_42a7_84df_4a05408b2c96"},{"target_any_local_reference":{"kind":"app_package","name":"AzurePGSlavePkg","uuid":"fb791420-5fdc-42a7-84df-4a05408b2c96"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"96a0484a-19e4-4e56-8bc0-b2afe4f73002","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_fb791420_5fdc_42a7_84df_4a05408b2c96","uuid":"d8238fae-cde1-4891-b469-8d8e935b7569"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_fb791420_5fdc_42a7_84df_4a05408b2c96"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"e50f1e3d-d707-42fb-891a-c4a7fde492e5","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"8f15e59d_runbook","uuid":"3c61d32f-d429-4292-b02b-abf0f370307a"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"23681ec0-94a6-406f-a945-404d4670870e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"b34d9d39_runbook","uuid":"57a4c7a2-843d-4130-9f5d-51c6ed3ce4d5"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40"}],"description":"","message_list":[],"uuid":"8c70f027-6507-41a4-bcc8-5eb19e07f5e3","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_fb791420_5fdc_42a7_84df_4a05408b2c96","uuid":"e6a49087-235e-46b1-8782-e9a799e85bf9"},"name":"SYS_GEN__Runbook_Package_fb791420_5fdc_42a7_84df_4a05408b2c96"}},{"description":"System action for uninstalling an application","message_list":[],"uuid":"008d2092-710f-4ed6-8a28-f918c3cbe507","name":"action_uninstall","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzurePGSlavePkg","uuid":"fb791420-5fdc-42a7-84df-4a05408b2c96"},"retries":"0","description":"","type":"DAG","uuid":"0f0123a6-994c-4e90-b274-894e0d48e444","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Uninstall_Crb_fb791420_5fdc_42a7_84df_4a05408b2c96","uuid":"61fb8c8c-0cc4-4d03-8d9c-cab60f8b3967"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Package_fb791420_5fdc_42a7_84df_4a05408b2c96"},{"target_any_local_reference":{"kind":"app_package","name":"AzurePGSlavePkg","uuid":"fb791420-5fdc-42a7-84df-4a05408b2c96"},"retries":"0","description":"","type":"CUSTOM_PACKAGE_UNINSTALL","uuid":"61fb8c8c-0cc4-4d03-8d9c-cab60f8b3967","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzurePGSlavePkg","uuid":"fb791420-5fdc-42a7-84df-4a05408b2c96"},"retries":"0","description":"","type":"DAG","uuid":"8aa3e1a0-ce13-4d37-8f38-b4e482a612aa","child_tasks_local_reference_list":[{"kind":"app_task","name":"Install System Packages","uuid":"9a023d57-5cd5-4ba0-b671-27e0df786171"},{"kind":"app_task","name":"Install Postgres","uuid":"21d86333-0ac7-4233-99d4-7c41166a0d9b"},{"kind":"app_task","name":"Setup Postgres","uuid":"7360fab7-e55c-4007-b1bc-e22001e895a3"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Install System Packages","uuid":"9a023d57-5cd5-4ba0-b671-27e0df786171"},"edge_type":"user_defined","type":"","uuid":"cd6c7483-317d-4190-9842-df4407a37e13","to_task_reference":{"kind":"app_task","name":"Install Postgres","uuid":"21d86333-0ac7-4233-99d4-7c41166a0d9b"}},{"from_task_reference":{"kind":"app_task","name":"Install Postgres","uuid":"21d86333-0ac7-4233-99d4-7c41166a0d9b"},"edge_type":"user_defined","type":"","uuid":"83bccdd1-d612-4c16-a416-57a2ded1588a","to_task_reference":{"kind":"app_task","name":"Setup Postgres","uuid":"7360fab7-e55c-4007-b1bc-e22001e895a3"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"74eba3e9_dag"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"EXEC","uuid":"9a023d57-5cd5-4ba0-b671-27e0df786171","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\nsudo yum -y upgrade\nsudo curl -O http:\/\/dl.fedoraproject.org\/pub\/epel\/7\/x86_64\/e\/epel-release-7-10.noarch.rpm\nsudo rpm --import https:\/\/www.elrepo.org\/RPM-GPG-KEY-elrepo.org\nsudo rpm -Uvh http:\/\/www.elrepo.org\/elrepo-release-7.0-3.el7.elrepo.noarch.rpm \nsudo rpm -ihv epel-release-7-10.noarch.rpm \n\nsudo yum update -y\nsudo yum -y install htop wget iotop xfs* bc unzip lvm2*\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"System packages are installed\"\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install System Packages"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"EXEC","uuid":"21d86333-0ac7-4233-99d4-7c41166a0d9b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\nsudo wget -c https:\/\/download.postgresql.org\/pub\/repos\/yum\/9.6\/redhat\/rhel-7-x86_64\/pgdg-centos96-9.6-3.noarch.rpm\nsudo yum -y install pgdg-centos96-9.6-3.noarch.rpm\nsudo rpm --import http:\/\/packages.2ndquadrant.com\/repmgr\/RPM-GPG-KEY-repmgr\nsudo yum install -y http:\/\/packages.2ndquadrant.com\/repmgr\/yum-repo-rpms\/repmgr-rhel-1.0-1.noarch.rpm\n\n# Install PostgreSQL\nsudo yum -y install postgresql96 postgresql96-contrib postgresql96-server postgresql96-devel postgresql96-plpython\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install Postgres"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"EXEC","uuid":"7360fab7-e55c-4007-b1bc-e22001e895a3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n#run initdb\nsudo \/usr\/pgsql-9.6\/bin\/postgresql96-setup initdb\n\n#start and stop postgresql to make sure DB creates the required directories\nsudo systemctl start postgresql-9.6.service\nsudo systemctl stop postgresql-9.6.service\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Setup Postgres"}],"description":"","message_list":[],"uuid":"8f247654-ffdc-4c62-926b-60033eadd7c8","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"74eba3e9_dag","uuid":"8aa3e1a0-ce13-4d37-8f38-b4e482a612aa"},"name":"c7483cb8_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzurePGSlavePkg","uuid":"fb791420-5fdc-42a7-84df-4a05408b2c96"},"retries":"0","description":"","type":"DAG","uuid":"9ee6c5a6-1129-4da9-96cd-157cc6167a0f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"99ab270d_dag"}],"description":"","message_list":[],"uuid":"f9c7c3fc-9b0c-4681-98ec-af0254c499d8","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"99ab270d_dag","uuid":"9ee6c5a6-1129-4da9-96cd-157cc6167a0f"},"name":"ac115492_runbook"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Uninstall_Crb_fb791420_5fdc_42a7_84df_4a05408b2c96"}],"description":"","message_list":[],"uuid":"83ea0eb4-ffcc-4e74-92c7-d6d0e0fca06c","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Package_fb791420_5fdc_42a7_84df_4a05408b2c96","uuid":"0f0123a6-994c-4e90-b274-894e0d48e444"},"name":"SYS_GEN__Runbook_Package_fb791420_5fdc_42a7_84df_4a05408b2c96"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"63cfa6fb-5874-458d-aa9b-2fd921fc4d6e","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzurePGSlavePkg","uuid":"fb791420-5fdc-42a7-84df-4a05408b2c96"},"retries":"0","description":"","type":"DAG","uuid":"2d9e3732-3794-43f5-975f-a91bbb0dfbe8","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"f47d2452-5add-4bcd-8a8f-89d5280d9929"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"8bcdc6af-1bd4-4a5c-91d0-239ecb08b68b"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_fb791420_5fdc_42a7_84df_4a05408b2c96","uuid":"4f3fcf38-027e-43a8-a278-a8ad3a4be56b"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"f47d2452-5add-4bcd-8a8f-89d5280d9929"},"edge_type":"inherent","type":"","uuid":"3d58534f-0350-4202-9e11-f0993b6a65e7","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"8bcdc6af-1bd4-4a5c-91d0-239ecb08b68b"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"8bcdc6af-1bd4-4a5c-91d0-239ecb08b68b"},"edge_type":"inherent","type":"","uuid":"0e4520ac-4847-4474-95f9-cec17a83f669","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_fb791420_5fdc_42a7_84df_4a05408b2c96","uuid":"4f3fcf38-027e-43a8-a278-a8ad3a4be56b"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_fb791420_5fdc_42a7_84df_4a05408b2c96"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"f47d2452-5add-4bcd-8a8f-89d5280d9929","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0e2bd4c9_runbook","uuid":"8e29699f-df44-4802-8ae9-689322c6575c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"8bcdc6af-1bd4-4a5c-91d0-239ecb08b68b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"08946714_runbook","uuid":"005a7fbe-7426-4c75-aa02-8ca0b1db5dbb"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40"},{"target_any_local_reference":{"kind":"app_package","name":"AzurePGSlavePkg","uuid":"fb791420-5fdc-42a7-84df-4a05408b2c96"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"4f3fcf38-027e-43a8-a278-a8ad3a4be56b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_fb791420_5fdc_42a7_84df_4a05408b2c96","uuid":"83ea0eb4-ffcc-4e74-92c7-d6d0e0fca06c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_fb791420_5fdc_42a7_84df_4a05408b2c96"}],"description":"","message_list":[],"uuid":"5ab3e5bf-8427-4bd2-872f-3aafa84b13bb","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_fb791420_5fdc_42a7_84df_4a05408b2c96","uuid":"2d9e3732-3794-43f5-975f-a91bbb0dfbe8"},"name":"SYS_GEN__Runbook_Package_fb791420_5fdc_42a7_84df_4a05408b2c96"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"c0d32453-cd2d-476f-91e3-4c2e978a8261","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzurePGSlavePkg","uuid":"fb791420-5fdc-42a7-84df-4a05408b2c96"},"retries":"0","description":"","type":"DAG","uuid":"fc31de61-a5d7-4bdc-a425-7d6b856ce5bf","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"6a834834-b938-4f75-8224-e09fe0b6953f"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_fb791420_5fdc_42a7_84df_4a05408b2c96","uuid":"f60d65ef-adf9-473a-b64c-5f69ea2d78fe"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"6a834834-b938-4f75-8224-e09fe0b6953f"},"edge_type":"inherent","type":"","uuid":"2de75a62-8aac-4191-81d6-c44b2a8fa4da","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_fb791420_5fdc_42a7_84df_4a05408b2c96","uuid":"f60d65ef-adf9-473a-b64c-5f69ea2d78fe"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_fb791420_5fdc_42a7_84df_4a05408b2c96"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"6a834834-b938-4f75-8224-e09fe0b6953f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"febe47f3-782b-40c3-abcb-ce825626516f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40"},{"target_any_local_reference":{"kind":"app_package","name":"AzurePGSlavePkg","uuid":"fb791420-5fdc-42a7-84df-4a05408b2c96"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"f60d65ef-adf9-473a-b64c-5f69ea2d78fe","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_fb791420_5fdc_42a7_84df_4a05408b2c96"}],"description":"","message_list":[],"uuid":"62ea35f3-1c69-4af0-811f-15d5540a3cda","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_fb791420_5fdc_42a7_84df_4a05408b2c96","uuid":"fc31de61-a5d7-4bdc-a425-7d6b856ce5bf"},"name":"SYS_GEN__Runbook_Package_fb791420_5fdc_42a7_84df_4a05408b2c96"}},{"description":"System action for starting an application","message_list":[],"uuid":"094f03cd-8543-4225-9897-3053f82803e4","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzurePGSlavePkg","uuid":"fb791420-5fdc-42a7-84df-4a05408b2c96"},"retries":"0","description":"","type":"DAG","uuid":"58f70652-6a12-47a4-a78b-31ac693e4df9","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"72f61213-35d2-4d75-88fa-857cd09f2187"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_fb791420_5fdc_42a7_84df_4a05408b2c96"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"72f61213-35d2-4d75-88fa-857cd09f2187","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"b34d9d39_runbook","uuid":"57a4c7a2-843d-4130-9f5d-51c6ed3ce4d5"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40"}],"description":"","message_list":[],"uuid":"e9ccb966-5a42-48f7-a260-e7a64de077c1","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_fb791420_5fdc_42a7_84df_4a05408b2c96","uuid":"58f70652-6a12-47a4-a78b-31ac693e4df9"},"name":"SYS_GEN__Runbook_Package_fb791420_5fdc_42a7_84df_4a05408b2c96"}},{"description":"System action for restarting an application","message_list":[],"uuid":"7f842804-91c8-4eea-8502-d418b7447a8c","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzurePGSlavePkg","uuid":"fb791420-5fdc-42a7-84df-4a05408b2c96"},"retries":"0","description":"","type":"DAG","uuid":"f41bd29c-1286-4ca5-9834-4dfc77567474","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"7592adbb-f6e8-4bf3-b781-10e1afd14f2c"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_fb791420_5fdc_42a7_84df_4a05408b2c96"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"7592adbb-f6e8-4bf3-b781-10e1afd14f2c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"c1c4eebd_runbook","uuid":"bea78664-aea0-4d1f-b708-8ef876af38d5"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40"}],"description":"","message_list":[],"uuid":"d8f3497e-b5b6-455c-a03b-8c6673fffab1","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_fb791420_5fdc_42a7_84df_4a05408b2c96","uuid":"f41bd29c-1286-4ca5-9834-4dfc77567474"},"name":"SYS_GEN__Runbook_Package_fb791420_5fdc_42a7_84df_4a05408b2c96"}},{"description":"System action for stopping an application","message_list":[],"uuid":"d4e65568-eaa1-43bd-a807-999bc389b01f","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzurePGSlavePkg","uuid":"fb791420-5fdc-42a7-84df-4a05408b2c96"},"retries":"0","description":"","type":"DAG","uuid":"73727793-2e87-447f-b594-331491de2321","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"f2b85e66-c995-4a28-b1eb-e6efb6b979a7"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_fb791420_5fdc_42a7_84df_4a05408b2c96"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"f2b85e66-c995-4a28-b1eb-e6efb6b979a7","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0e2bd4c9_runbook","uuid":"8e29699f-df44-4802-8ae9-689322c6575c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40"}],"description":"","message_list":[],"uuid":"866977d0-6535-4a9a-acff-7f179dceb1ef","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_fb791420_5fdc_42a7_84df_4a05408b2c96","uuid":"73727793-2e87-447f-b594-331491de2321"},"name":"SYS_GEN__Runbook_Package_fb791420_5fdc_42a7_84df_4a05408b2c96"}}],"message_list":[],"service_local_reference_list":[{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"}],"uuid":"fb791420-5fdc-42a7-84df-4a05408b2c96","state":"ACTIVE","version":"","editables":{},"type":"DEB","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzurePGSlavePkg","uuid":"fb791420-5fdc-42a7-84df-4a05408b2c96"},"retries":"0","description":"","type":"DAG","uuid":"8aa3e1a0-ce13-4d37-8f38-b4e482a612aa","child_tasks_local_reference_list":[{"kind":"app_task","name":"Install System Packages","uuid":"9a023d57-5cd5-4ba0-b671-27e0df786171"},{"kind":"app_task","name":"Install Postgres","uuid":"21d86333-0ac7-4233-99d4-7c41166a0d9b"},{"kind":"app_task","name":"Setup Postgres","uuid":"7360fab7-e55c-4007-b1bc-e22001e895a3"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Install System Packages","uuid":"9a023d57-5cd5-4ba0-b671-27e0df786171"},"edge_type":"user_defined","type":"","uuid":"cd6c7483-317d-4190-9842-df4407a37e13","to_task_reference":{"kind":"app_task","name":"Install Postgres","uuid":"21d86333-0ac7-4233-99d4-7c41166a0d9b"}},{"from_task_reference":{"kind":"app_task","name":"Install Postgres","uuid":"21d86333-0ac7-4233-99d4-7c41166a0d9b"},"edge_type":"user_defined","type":"","uuid":"83bccdd1-d612-4c16-a416-57a2ded1588a","to_task_reference":{"kind":"app_task","name":"Setup Postgres","uuid":"7360fab7-e55c-4007-b1bc-e22001e895a3"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"74eba3e9_dag"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"EXEC","uuid":"9a023d57-5cd5-4ba0-b671-27e0df786171","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\nsudo yum -y upgrade\nsudo curl -O http:\/\/dl.fedoraproject.org\/pub\/epel\/7\/x86_64\/e\/epel-release-7-10.noarch.rpm\nsudo rpm --import https:\/\/www.elrepo.org\/RPM-GPG-KEY-elrepo.org\nsudo rpm -Uvh http:\/\/www.elrepo.org\/elrepo-release-7.0-3.el7.elrepo.noarch.rpm \nsudo rpm -ihv epel-release-7-10.noarch.rpm \n\nsudo yum update -y\nsudo yum -y install htop wget iotop xfs* bc unzip lvm2*\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"System packages are installed\"\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install System Packages"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"EXEC","uuid":"21d86333-0ac7-4233-99d4-7c41166a0d9b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\nsudo wget -c https:\/\/download.postgresql.org\/pub\/repos\/yum\/9.6\/redhat\/rhel-7-x86_64\/pgdg-centos96-9.6-3.noarch.rpm\nsudo yum -y install pgdg-centos96-9.6-3.noarch.rpm\nsudo rpm --import http:\/\/packages.2ndquadrant.com\/repmgr\/RPM-GPG-KEY-repmgr\nsudo yum install -y http:\/\/packages.2ndquadrant.com\/repmgr\/yum-repo-rpms\/repmgr-rhel-1.0-1.noarch.rpm\n\n# Install PostgreSQL\nsudo yum -y install postgresql96 postgresql96-contrib postgresql96-server postgresql96-devel postgresql96-plpython\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install Postgres"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"EXEC","uuid":"7360fab7-e55c-4007-b1bc-e22001e895a3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n#run initdb\nsudo \/usr\/pgsql-9.6\/bin\/postgresql96-setup initdb\n\n#start and stop postgresql to make sure DB creates the required directories\nsudo systemctl start postgresql-9.6.service\nsudo systemctl stop postgresql-9.6.service\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Setup Postgres"}],"description":"","message_list":[],"uuid":"8f247654-ffdc-4c62-926b-60033eadd7c8","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"74eba3e9_dag","uuid":"8aa3e1a0-ce13-4d37-8f38-b4e482a612aa"},"name":"c7483cb8_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzurePGSlavePkg","uuid":"fb791420-5fdc-42a7-84df-4a05408b2c96"},"retries":"0","description":"","type":"DAG","uuid":"9ee6c5a6-1129-4da9-96cd-157cc6167a0f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"99ab270d_dag"}],"description":"","message_list":[],"uuid":"f9c7c3fc-9b0c-4681-98ec-af0254c499d8","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"99ab270d_dag","uuid":"9ee6c5a6-1129-4da9-96cd-157cc6167a0f"},"name":"ac115492_runbook"}},"variable_list":[],"name":"AzurePGSlavePkg"},{"description":"","action_list":[{"description":"System action for installing an application","message_list":[],"uuid":"8f625a0c-2223-456b-b40c-4d51abc03b79","name":"action_install","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"VMwareMasterPackage","uuid":"b7514626-0d97-b967-daee-aa861e7d64e9"},"retries":"0","description":"","type":"DAG","uuid":"77902b9b-5685-4914-9e88-7cb287d69b81","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Install_Crb_b7514626_0d97_b967_daee_aa861e7d64e9","uuid":"dc651084-4eb0-4bf9-8361-fe3844b6b451"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Package_b7514626_0d97_b967_daee_aa861e7d64e9"},{"target_any_local_reference":{"kind":"app_package","name":"VMwareMasterPackage","uuid":"b7514626-0d97-b967-daee-aa861e7d64e9"},"retries":"0","description":"","type":"CUSTOM_PACKAGE_INSTALL","uuid":"dc651084-4eb0-4bf9-8361-fe3844b6b451","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"VMwareMasterPackage","uuid":"b7514626-0d97-b967-daee-aa861e7d64e9"},"retries":"0","description":"","type":"DAG","uuid":"2ff866d1-fcf2-4798-b4eb-e015ac2059da","child_tasks_local_reference_list":[{"kind":"app_task","name":"Install System Packages","uuid":"177eefc5-9dff-3782-41c1-a9e01c05b768"},{"kind":"app_task","name":"Create Disk Setup","uuid":"d4c2340b-7ca7-bc4d-2191-134bb42a804f"},{"kind":"app_task","name":"Install Postgres","uuid":"e2202537-0de9-4bf5-8ee0-cd040aafa645"},{"kind":"app_task","name":"Setup Postgres","uuid":"91c46a6c-d046-ee11-cb44-015ba10c817c"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Install System Packages","uuid":"177eefc5-9dff-3782-41c1-a9e01c05b768"},"edge_type":"user_defined","type":"","uuid":"63391060-e520-48cd-d306-07a0d919a20e","to_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"d4c2340b-7ca7-bc4d-2191-134bb42a804f"}},{"from_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"d4c2340b-7ca7-bc4d-2191-134bb42a804f"},"edge_type":"user_defined","type":"","uuid":"3b74309b-9898-6f63-aafa-c00fd0280207","to_task_reference":{"kind":"app_task","name":"Install Postgres","uuid":"e2202537-0de9-4bf5-8ee0-cd040aafa645"}},{"from_task_reference":{"kind":"app_task","name":"Install Postgres","uuid":"e2202537-0de9-4bf5-8ee0-cd040aafa645"},"edge_type":"user_defined","type":"","uuid":"55f780bc-5c71-8b7a-7860-ddfe4f10f7e5","to_task_reference":{"kind":"app_task","name":"Setup Postgres","uuid":"91c46a6c-d046-ee11-cb44-015ba10c817c"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"3b8ed3d2_dag_cloned_1"},{"target_any_local_reference":{"kind":"app_package","name":"VMwareMasterPackage","uuid":"b7514626-0d97-b967-daee-aa861e7d64e9"},"retries":"0","description":"","type":"EXEC","uuid":"177eefc5-9dff-3782-41c1-a9e01c05b768","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\nsudo yum -y upgrade\nsudo curl -O http:\/\/dl.fedoraproject.org\/pub\/epel\/7\/x86_64\/e\/epel-release-7-10.noarch.rpm\nsudo rpm --import https:\/\/www.elrepo.org\/RPM-GPG-KEY-elrepo.org\nsudo rpm -Uvh http:\/\/www.elrepo.org\/elrepo-release-7.0-3.el7.elrepo.noarch.rpm \nsudo rpm -ihv epel-release-7-10.noarch.rpm \n\nsudo yum update -y\nsudo yum -y install htop wget iotop xfs* bc unzip lvm2*\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"System packages are installed\"\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install System Packages"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"EXEC","uuid":"d4c2340b-7ca7-bc4d-2191-134bb42a804f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n##############\n#\n# LVM setup script for PostgreSQL . 4 disks for DATA and 2 for logs\n# Data disks are 60GB | Log disks are 20GB \n#\n#############\n\n\n#PGSQL data\nsudo pvcreate \/dev\/sdb \/dev\/sdc \/dev\/sdd \/dev\/sde\nsudo vgcreate pgDataVG \/dev\/sdb \/dev\/sdd \/dev\/sdc \/dev\/sde\nsudo lvcreate -l 100%FREE -i4 -I1M -n pgDataLV pgDataVG          ## Use 1MB to avoid IO amplification \n#lvcreate -l 100%FREE -i4 -I4M -n pgDataLV pgDataVG\n\n\n#PGSQL logs\nsudo pvcreate \/dev\/sdf \/dev\/sdg \nsudo vgcreate pgLogVG \/dev\/sdf \/dev\/sdg\nsudo lvcreate -l 100%FREE -i2 -I1M -n pgLogLV pgLogVG            ## Use 1MB to avoid IO amplification\n#lvcreate -l 100%FREE -i2 -I4M -n pgLogLV pgLogVG\n\n\n#Disable LVM read ahead\nsudo lvchange -r 0 \/dev\/pgDataVG\/pgDataLV\nsudo lvchange -r 0 \/dev\/pgLogVG\/pgLogLV\n\n\n#Format LVMs with ext4 and use nodiscard to make sure format time is fast on Nutanix due to SCSI unmap\nsudo mkfs.ext4 -E nodiscard \/dev\/pgDataVG\/pgDataLV\nsudo mkfs.ext4 -E nodiscard \/dev\/pgLogVG\/pgLogLV\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Create Disk Setup"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"EXEC","uuid":"e2202537-0de9-4bf5-8ee0-cd040aafa645","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\nsudo wget -c https:\/\/download.postgresql.org\/pub\/repos\/yum\/9.6\/redhat\/rhel-7-x86_64\/pgdg-centos96-9.6-3.noarch.rpm\nsudo yum -y install pgdg-centos96-9.6-3.noarch.rpm\nsudo rpm --import http:\/\/packages.2ndquadrant.com\/repmgr\/RPM-GPG-KEY-repmgr\nsudo yum install -y http:\/\/packages.2ndquadrant.com\/repmgr\/yum-repo-rpms\/repmgr-rhel-1.0-1.noarch.rpm\n\n# Install PostgreSQL\nsudo yum -y install postgresql96 postgresql96-contrib postgresql96-server postgresql96-devel postgresql96-plpython\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install Postgres"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"EXEC","uuid":"91c46a6c-d046-ee11-cb44-015ba10c817c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\n#run initdb\nsudo \/usr\/pgsql-9.6\/bin\/postgresql96-setup initdb\n\n#start and stop postgresql to make sure DB creates the required directories\nsudo systemctl start postgresql-9.6.service\nsudo systemctl stop postgresql-9.6.service\n\n##copy the created postgres directory to a temp directory\n\nsudo mkdir \/tmp\/pgsql\n\nsudo mv \/var\/lib\/pgsql\/9.6\/data \/tmp\/pgsql\n\n#Create directory , fix permissions and Mount LVM\nsudo mkdir \/var\/lib\/pgsql\/9.6\/data\/\nsudo mount -o noatime,barrier=0 \/dev\/pgDataVG\/pgDataLV \/var\/lib\/pgsql\/9.6\/data\/ \n\nsudo mkdir \/var\/lib\/pgsql\/9.6\/data\/pg_xlog\nsudo mount -o noatime,barrier=0 \/dev\/pgLogVG\/pgLogLV \/var\/lib\/pgsql\/9.6\/data\/pg_xlog\n\nsudo chown -R postgres:postgres \/var\/lib\/pgsql\/9.6\/data\/\n\n#move the xlog to the new LVM\nsudo find \/tmp\/pgsql\/data\/pg_xlog -maxdepth 1 -mindepth 1 -exec mv -t \/var\/lib\/pgsql\/9.6\/data\/pg_xlog\/ {} +\n\n#remove pg_xlog from temp dir to avoid being copied again\nsudo rm -rf \/tmp\/pgsql\/data\/pg_xlog\n\n#move the pgsql directory to the LVM\nsudo find \/tmp\/pgsql\/data -maxdepth 1 -mindepth 1 -exec mv -t \/var\/lib\/pgsql\/9.6\/data\/ {} +\n\nsudo chmod -R 0700 \/var\/lib\/pgsql\/9.6\/data\n\n#enable service on boot\nsudo systemctl enable postgresql-9.6.service\n\n#add mount points to \/etc\/fstab\necho \"\/dev\/mapper\/pgDataVG-pgDataLV \/var\/lib\/pgsql\/9.6\/data ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\necho \"\/dev\/mapper\/pgLogVG-pgLogLV \/var\/lib\/pgsql\/9.6\/data\/pg_xlog ext4 rw,seclabel,noatime,nobarrier,stripe=2048,data=ordered 0 0\" | sudo tee -a  \/etc\/fstab\n\n\nsudo systemctl status postgresql-9.6\nsudo systemctl restart postgresql-9.6\nsudo systemctl status postgresql-9.6\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Setup Postgres"}],"description":"","message_list":[],"uuid":"309b24eb-7a34-7ac8-5a3f-d5eb3b103110","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"3b8ed3d2_dag_cloned_1","uuid":"2ff866d1-fcf2-4798-b4eb-e015ac2059da"},"name":"ed3d1488_runbook_cloned_0"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"VMwareMasterPackage","uuid":"b7514626-0d97-b967-daee-aa861e7d64e9"},"retries":"0","description":"","type":"DAG","uuid":"6cf2309c-824a-6ad6-c460-623bf0af63a1","child_tasks_local_reference_list":[{"kind":"app_task","name":"PackageUninstallTask_cloned_1","uuid":"dff77a68-48f0-c663-005a-e0a880bba0a7"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"ef748d77_dag_cloned_1"},{"target_any_local_reference":{"kind":"app_package","name":"VMwareMasterPackage","uuid":"b7514626-0d97-b967-daee-aa861e7d64e9"},"retries":"0","description":"","type":"EXEC","uuid":"dff77a68-48f0-c663-005a-e0a880bba0a7","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"PackageUninstallTask_cloned_1"}],"description":"","message_list":[],"uuid":"fcfb6747-bf2f-1ec3-484f-e4e63fd4d8d7","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"ef748d77_dag_cloned_1","uuid":"6cf2309c-824a-6ad6-c460-623bf0af63a1"},"name":"e7b91ba0_runbook_cloned_0"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Install_Crb_b7514626_0d97_b967_daee_aa861e7d64e9"}],"description":"","message_list":[],"uuid":"3b59ea0e-0e7e-4396-8c04-f5ec1eac964a","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Package_b7514626_0d97_b967_daee_aa861e7d64e9","uuid":"77902b9b-5685-4914-9e88-7cb287d69b81"},"name":"SYS_GEN__Runbook_Package_b7514626_0d97_b967_daee_aa861e7d64e9"}},{"description":"System action for creating an application","message_list":[],"uuid":"34be6382-1ce7-4b46-8506-81d954113385","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"VMwareMasterPackage","uuid":"b7514626-0d97-b967-daee-aa861e7d64e9"},"retries":"0","description":"","type":"DAG","uuid":"6a927709-40e6-4708-92f1-968837cbcc13","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_b7514626_0d97_b967_daee_aa861e7d64e9","uuid":"7c1f6ca4-1e96-4d7a-8893-1fb459154589"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"2d609063-729b-4b65-93a4-d937e0c9b588"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"52ad87b7-0509-45a9-ad05-239080e615de"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"2d609063-729b-4b65-93a4-d937e0c9b588"},"edge_type":"inherent","type":"","uuid":"81c2e177-7a42-4db1-967e-a664129c2d6a","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"52ad87b7-0509-45a9-ad05-239080e615de"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_b7514626_0d97_b967_daee_aa861e7d64e9","uuid":"7c1f6ca4-1e96-4d7a-8893-1fb459154589"},"edge_type":"inherent","type":"","uuid":"f8295db6-d9e8-425a-a37a-0e73f0b1c81e","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"2d609063-729b-4b65-93a4-d937e0c9b588"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_b7514626_0d97_b967_daee_aa861e7d64e9"},{"target_any_local_reference":{"kind":"app_package","name":"VMwareMasterPackage","uuid":"b7514626-0d97-b967-daee-aa861e7d64e9"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"7c1f6ca4-1e96-4d7a-8893-1fb459154589","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_b7514626_0d97_b967_daee_aa861e7d64e9","uuid":"3b59ea0e-0e7e-4396-8c04-f5ec1eac964a"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_b7514626_0d97_b967_daee_aa861e7d64e9"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"2d609063-729b-4b65-93a4-d937e0c9b588","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"c528d489_runbook","uuid":"a5cf54be-5eb3-4cbb-8cbf-c295bbc3af83"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"52ad87b7-0509-45a9-ad05-239080e615de","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"c02553e2_runbook","uuid":"81959707-f27f-4259-a9b6-d4f736a28f5c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90"}],"description":"","message_list":[],"uuid":"17c9b6de-ae5a-457b-b430-446bcf1f469c","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_b7514626_0d97_b967_daee_aa861e7d64e9","uuid":"6a927709-40e6-4708-92f1-968837cbcc13"},"name":"SYS_GEN__Runbook_Package_b7514626_0d97_b967_daee_aa861e7d64e9"}},{"description":"System action for uninstalling an application","message_list":[],"uuid":"d416de5c-8659-48ea-bb4a-74b9935530bf","name":"action_uninstall","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"VMwareMasterPackage","uuid":"b7514626-0d97-b967-daee-aa861e7d64e9"},"retries":"0","description":"","type":"DAG","uuid":"96a15cca-78fa-41ff-b04c-f07c5277538a","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Uninstall_Crb_b7514626_0d97_b967_daee_aa861e7d64e9","uuid":"2e899e8e-d552-4c82-824a-dd9573c00c75"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Package_b7514626_0d97_b967_daee_aa861e7d64e9"},{"target_any_local_reference":{"kind":"app_package","name":"VMwareMasterPackage","uuid":"b7514626-0d97-b967-daee-aa861e7d64e9"},"retries":"0","description":"","type":"CUSTOM_PACKAGE_UNINSTALL","uuid":"2e899e8e-d552-4c82-824a-dd9573c00c75","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"VMwareMasterPackage","uuid":"b7514626-0d97-b967-daee-aa861e7d64e9"},"retries":"0","description":"","type":"DAG","uuid":"2ff866d1-fcf2-4798-b4eb-e015ac2059da","child_tasks_local_reference_list":[{"kind":"app_task","name":"Install System Packages","uuid":"177eefc5-9dff-3782-41c1-a9e01c05b768"},{"kind":"app_task","name":"Create Disk Setup","uuid":"d4c2340b-7ca7-bc4d-2191-134bb42a804f"},{"kind":"app_task","name":"Install Postgres","uuid":"e2202537-0de9-4bf5-8ee0-cd040aafa645"},{"kind":"app_task","name":"Setup Postgres","uuid":"91c46a6c-d046-ee11-cb44-015ba10c817c"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Install System Packages","uuid":"177eefc5-9dff-3782-41c1-a9e01c05b768"},"edge_type":"user_defined","type":"","uuid":"63391060-e520-48cd-d306-07a0d919a20e","to_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"d4c2340b-7ca7-bc4d-2191-134bb42a804f"}},{"from_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"d4c2340b-7ca7-bc4d-2191-134bb42a804f"},"edge_type":"user_defined","type":"","uuid":"3b74309b-9898-6f63-aafa-c00fd0280207","to_task_reference":{"kind":"app_task","name":"Install Postgres","uuid":"e2202537-0de9-4bf5-8ee0-cd040aafa645"}},{"from_task_reference":{"kind":"app_task","name":"Install Postgres","uuid":"e2202537-0de9-4bf5-8ee0-cd040aafa645"},"edge_type":"user_defined","type":"","uuid":"55f780bc-5c71-8b7a-7860-ddfe4f10f7e5","to_task_reference":{"kind":"app_task","name":"Setup Postgres","uuid":"91c46a6c-d046-ee11-cb44-015ba10c817c"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"3b8ed3d2_dag_cloned_1"},{"target_any_local_reference":{"kind":"app_package","name":"VMwareMasterPackage","uuid":"b7514626-0d97-b967-daee-aa861e7d64e9"},"retries":"0","description":"","type":"EXEC","uuid":"177eefc5-9dff-3782-41c1-a9e01c05b768","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\nsudo yum -y upgrade\nsudo curl -O http:\/\/dl.fedoraproject.org\/pub\/epel\/7\/x86_64\/e\/epel-release-7-10.noarch.rpm\nsudo rpm --import https:\/\/www.elrepo.org\/RPM-GPG-KEY-elrepo.org\nsudo rpm -Uvh http:\/\/www.elrepo.org\/elrepo-release-7.0-3.el7.elrepo.noarch.rpm \nsudo rpm -ihv epel-release-7-10.noarch.rpm \n\nsudo yum update -y\nsudo yum -y install htop wget iotop xfs* bc unzip lvm2*\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"System packages are installed\"\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install System Packages"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"EXEC","uuid":"d4c2340b-7ca7-bc4d-2191-134bb42a804f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n##############\n#\n# LVM setup script for PostgreSQL . 4 disks for DATA and 2 for logs\n# Data disks are 60GB | Log disks are 20GB \n#\n#############\n\n\n#PGSQL data\nsudo pvcreate \/dev\/sdb \/dev\/sdc \/dev\/sdd \/dev\/sde\nsudo vgcreate pgDataVG \/dev\/sdb \/dev\/sdd \/dev\/sdc \/dev\/sde\nsudo lvcreate -l 100%FREE -i4 -I1M -n pgDataLV pgDataVG          ## Use 1MB to avoid IO amplification \n#lvcreate -l 100%FREE -i4 -I4M -n pgDataLV pgDataVG\n\n\n#PGSQL logs\nsudo pvcreate \/dev\/sdf \/dev\/sdg \nsudo vgcreate pgLogVG \/dev\/sdf \/dev\/sdg\nsudo lvcreate -l 100%FREE -i2 -I1M -n pgLogLV pgLogVG            ## Use 1MB to avoid IO amplification\n#lvcreate -l 100%FREE -i2 -I4M -n pgLogLV pgLogVG\n\n\n#Disable LVM read ahead\nsudo lvchange -r 0 \/dev\/pgDataVG\/pgDataLV\nsudo lvchange -r 0 \/dev\/pgLogVG\/pgLogLV\n\n\n#Format LVMs with ext4 and use nodiscard to make sure format time is fast on Nutanix due to SCSI unmap\nsudo mkfs.ext4 -E nodiscard \/dev\/pgDataVG\/pgDataLV\nsudo mkfs.ext4 -E nodiscard \/dev\/pgLogVG\/pgLogLV\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Create Disk Setup"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"EXEC","uuid":"e2202537-0de9-4bf5-8ee0-cd040aafa645","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\nsudo wget -c https:\/\/download.postgresql.org\/pub\/repos\/yum\/9.6\/redhat\/rhel-7-x86_64\/pgdg-centos96-9.6-3.noarch.rpm\nsudo yum -y install pgdg-centos96-9.6-3.noarch.rpm\nsudo rpm --import http:\/\/packages.2ndquadrant.com\/repmgr\/RPM-GPG-KEY-repmgr\nsudo yum install -y http:\/\/packages.2ndquadrant.com\/repmgr\/yum-repo-rpms\/repmgr-rhel-1.0-1.noarch.rpm\n\n# Install PostgreSQL\nsudo yum -y install postgresql96 postgresql96-contrib postgresql96-server postgresql96-devel postgresql96-plpython\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install Postgres"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"EXEC","uuid":"91c46a6c-d046-ee11-cb44-015ba10c817c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\n#run initdb\nsudo \/usr\/pgsql-9.6\/bin\/postgresql96-setup initdb\n\n#start and stop postgresql to make sure DB creates the required directories\nsudo systemctl start postgresql-9.6.service\nsudo systemctl stop postgresql-9.6.service\n\n##copy the created postgres directory to a temp directory\n\nsudo mkdir \/tmp\/pgsql\n\nsudo mv \/var\/lib\/pgsql\/9.6\/data \/tmp\/pgsql\n\n#Create directory , fix permissions and Mount LVM\nsudo mkdir \/var\/lib\/pgsql\/9.6\/data\/\nsudo mount -o noatime,barrier=0 \/dev\/pgDataVG\/pgDataLV \/var\/lib\/pgsql\/9.6\/data\/ \n\nsudo mkdir \/var\/lib\/pgsql\/9.6\/data\/pg_xlog\nsudo mount -o noatime,barrier=0 \/dev\/pgLogVG\/pgLogLV \/var\/lib\/pgsql\/9.6\/data\/pg_xlog\n\nsudo chown -R postgres:postgres \/var\/lib\/pgsql\/9.6\/data\/\n\n#move the xlog to the new LVM\nsudo find \/tmp\/pgsql\/data\/pg_xlog -maxdepth 1 -mindepth 1 -exec mv -t \/var\/lib\/pgsql\/9.6\/data\/pg_xlog\/ {} +\n\n#remove pg_xlog from temp dir to avoid being copied again\nsudo rm -rf \/tmp\/pgsql\/data\/pg_xlog\n\n#move the pgsql directory to the LVM\nsudo find \/tmp\/pgsql\/data -maxdepth 1 -mindepth 1 -exec mv -t \/var\/lib\/pgsql\/9.6\/data\/ {} +\n\nsudo chmod -R 0700 \/var\/lib\/pgsql\/9.6\/data\n\n#enable service on boot\nsudo systemctl enable postgresql-9.6.service\n\n#add mount points to \/etc\/fstab\necho \"\/dev\/mapper\/pgDataVG-pgDataLV \/var\/lib\/pgsql\/9.6\/data ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\necho \"\/dev\/mapper\/pgLogVG-pgLogLV \/var\/lib\/pgsql\/9.6\/data\/pg_xlog ext4 rw,seclabel,noatime,nobarrier,stripe=2048,data=ordered 0 0\" | sudo tee -a  \/etc\/fstab\n\n\nsudo systemctl status postgresql-9.6\nsudo systemctl restart postgresql-9.6\nsudo systemctl status postgresql-9.6\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Setup Postgres"}],"description":"","message_list":[],"uuid":"309b24eb-7a34-7ac8-5a3f-d5eb3b103110","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"3b8ed3d2_dag_cloned_1","uuid":"2ff866d1-fcf2-4798-b4eb-e015ac2059da"},"name":"ed3d1488_runbook_cloned_0"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"VMwareMasterPackage","uuid":"b7514626-0d97-b967-daee-aa861e7d64e9"},"retries":"0","description":"","type":"DAG","uuid":"6cf2309c-824a-6ad6-c460-623bf0af63a1","child_tasks_local_reference_list":[{"kind":"app_task","name":"PackageUninstallTask_cloned_1","uuid":"dff77a68-48f0-c663-005a-e0a880bba0a7"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"ef748d77_dag_cloned_1"},{"target_any_local_reference":{"kind":"app_package","name":"VMwareMasterPackage","uuid":"b7514626-0d97-b967-daee-aa861e7d64e9"},"retries":"0","description":"","type":"EXEC","uuid":"dff77a68-48f0-c663-005a-e0a880bba0a7","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"PackageUninstallTask_cloned_1"}],"description":"","message_list":[],"uuid":"fcfb6747-bf2f-1ec3-484f-e4e63fd4d8d7","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"ef748d77_dag_cloned_1","uuid":"6cf2309c-824a-6ad6-c460-623bf0af63a1"},"name":"e7b91ba0_runbook_cloned_0"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Uninstall_Crb_b7514626_0d97_b967_daee_aa861e7d64e9"}],"description":"","message_list":[],"uuid":"38b4801b-a2fb-4e32-a228-d98320060626","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Package_b7514626_0d97_b967_daee_aa861e7d64e9","uuid":"96a15cca-78fa-41ff-b04c-f07c5277538a"},"name":"SYS_GEN__Runbook_Package_b7514626_0d97_b967_daee_aa861e7d64e9"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"728cc9b6-7520-4463-b773-0fd7b4338200","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"VMwareMasterPackage","uuid":"b7514626-0d97-b967-daee-aa861e7d64e9"},"retries":"0","description":"","type":"DAG","uuid":"685672ad-d768-41e0-9926-bf375f9fdadf","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"441d9191-dbc2-4457-b6a2-4a48a09a19be"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"80625040-7a79-400c-a194-6260ea4303ad"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_b7514626_0d97_b967_daee_aa861e7d64e9","uuid":"49b92282-2d35-45da-9176-0c22a5819048"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"441d9191-dbc2-4457-b6a2-4a48a09a19be"},"edge_type":"inherent","type":"","uuid":"78d949bf-7765-4a87-b303-85e16237104b","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"80625040-7a79-400c-a194-6260ea4303ad"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"80625040-7a79-400c-a194-6260ea4303ad"},"edge_type":"inherent","type":"","uuid":"252a9e65-dd3e-4503-a494-7c499729992b","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_b7514626_0d97_b967_daee_aa861e7d64e9","uuid":"49b92282-2d35-45da-9176-0c22a5819048"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_b7514626_0d97_b967_daee_aa861e7d64e9"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"441d9191-dbc2-4457-b6a2-4a48a09a19be","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"deb1443a_runbook","uuid":"86288a79-ba17-4500-a81a-1ed2afb6b9b8"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"80625040-7a79-400c-a194-6260ea4303ad","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"8ad650b2_runbook","uuid":"f31a5f00-62ad-4b57-8fbf-cd1f020f2bfc"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90"},{"target_any_local_reference":{"kind":"app_package","name":"VMwareMasterPackage","uuid":"b7514626-0d97-b967-daee-aa861e7d64e9"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"49b92282-2d35-45da-9176-0c22a5819048","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_b7514626_0d97_b967_daee_aa861e7d64e9","uuid":"38b4801b-a2fb-4e32-a228-d98320060626"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_b7514626_0d97_b967_daee_aa861e7d64e9"}],"description":"","message_list":[],"uuid":"51767b43-5113-417e-bd80-89599f5ebd9f","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_b7514626_0d97_b967_daee_aa861e7d64e9","uuid":"685672ad-d768-41e0-9926-bf375f9fdadf"},"name":"SYS_GEN__Runbook_Package_b7514626_0d97_b967_daee_aa861e7d64e9"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"25658d56-d445-455b-aa46-35cb169dddb6","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"VMwareMasterPackage","uuid":"b7514626-0d97-b967-daee-aa861e7d64e9"},"retries":"0","description":"","type":"DAG","uuid":"c1d26bad-9cce-42a9-9fa4-c0cb1a8bb730","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"fffb949c-abcf-4f54-9415-d43956f1a988"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_b7514626_0d97_b967_daee_aa861e7d64e9","uuid":"3d9c8e27-9c09-4218-aed9-8b34324a0ead"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"fffb949c-abcf-4f54-9415-d43956f1a988"},"edge_type":"inherent","type":"","uuid":"5a83fb13-2949-4f63-a061-99eff851672f","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_b7514626_0d97_b967_daee_aa861e7d64e9","uuid":"3d9c8e27-9c09-4218-aed9-8b34324a0ead"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_b7514626_0d97_b967_daee_aa861e7d64e9"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"fffb949c-abcf-4f54-9415-d43956f1a988","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"92ba2635-e9da-48a5-8b58-7a4b4a61ffdf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90"},{"target_any_local_reference":{"kind":"app_package","name":"VMwareMasterPackage","uuid":"b7514626-0d97-b967-daee-aa861e7d64e9"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"3d9c8e27-9c09-4218-aed9-8b34324a0ead","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_b7514626_0d97_b967_daee_aa861e7d64e9"}],"description":"","message_list":[],"uuid":"0db3559c-8b1a-498f-9e60-bd3f8fe6e1ce","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_b7514626_0d97_b967_daee_aa861e7d64e9","uuid":"c1d26bad-9cce-42a9-9fa4-c0cb1a8bb730"},"name":"SYS_GEN__Runbook_Package_b7514626_0d97_b967_daee_aa861e7d64e9"}},{"description":"System action for starting an application","message_list":[],"uuid":"04681480-b104-4cd9-b901-dc52f509f413","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"VMwareMasterPackage","uuid":"b7514626-0d97-b967-daee-aa861e7d64e9"},"retries":"0","description":"","type":"DAG","uuid":"e6f88aaa-61ac-4f5c-b78f-665b6a57d31a","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"e6277263-eaea-4c1b-bdde-411525c72f09"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_b7514626_0d97_b967_daee_aa861e7d64e9"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"e6277263-eaea-4c1b-bdde-411525c72f09","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"c02553e2_runbook","uuid":"81959707-f27f-4259-a9b6-d4f736a28f5c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90"}],"description":"","message_list":[],"uuid":"c8bd3c98-9eab-43f6-9a9a-b4206b58c753","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_b7514626_0d97_b967_daee_aa861e7d64e9","uuid":"e6f88aaa-61ac-4f5c-b78f-665b6a57d31a"},"name":"SYS_GEN__Runbook_Package_b7514626_0d97_b967_daee_aa861e7d64e9"}},{"description":"System action for restarting an application","message_list":[],"uuid":"c6db9267-5fad-4780-956b-130c8a5be57b","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"VMwareMasterPackage","uuid":"b7514626-0d97-b967-daee-aa861e7d64e9"},"retries":"0","description":"","type":"DAG","uuid":"87f147e9-318c-40fa-a2cb-b6da28a09e16","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"ac80376f-2242-4186-9ce3-f8162e501da6"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_b7514626_0d97_b967_daee_aa861e7d64e9"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"ac80376f-2242-4186-9ce3-f8162e501da6","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"a9d9f266_runbook","uuid":"a32389b2-74a8-4a75-b897-c7158c11032e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90"}],"description":"","message_list":[],"uuid":"99ddea8f-e9a5-4c0d-9ae3-076115200d4b","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_b7514626_0d97_b967_daee_aa861e7d64e9","uuid":"87f147e9-318c-40fa-a2cb-b6da28a09e16"},"name":"SYS_GEN__Runbook_Package_b7514626_0d97_b967_daee_aa861e7d64e9"}},{"description":"System action for stopping an application","message_list":[],"uuid":"0047b3c1-41ec-4b5b-9b51-fb1836cacf2c","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"VMwareMasterPackage","uuid":"b7514626-0d97-b967-daee-aa861e7d64e9"},"retries":"0","description":"","type":"DAG","uuid":"d17f05f2-da1a-40d1-b00a-6984f90828de","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90","uuid":"30a0a9fd-6021-4246-a748-a3b5dd861220"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_b7514626_0d97_b967_daee_aa861e7d64e9"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"30a0a9fd-6021-4246-a748-a3b5dd861220","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"deb1443a_runbook","uuid":"86288a79-ba17-4500-a81a-1ed2afb6b9b8"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_6a944ef9_3b53_419e_bbab_5fd0bea9fa90"}],"description":"","message_list":[],"uuid":"77801491-0ccf-4043-b9da-c5dea4ddc10b","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_b7514626_0d97_b967_daee_aa861e7d64e9","uuid":"d17f05f2-da1a-40d1-b00a-6984f90828de"},"name":"SYS_GEN__Runbook_Package_b7514626_0d97_b967_daee_aa861e7d64e9"}}],"message_list":[],"service_local_reference_list":[{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"}],"uuid":"b7514626-0d97-b967-daee-aa861e7d64e9","state":"ACTIVE","version":"","editables":{},"type":"DEB","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"VMwareMasterPackage","uuid":"b7514626-0d97-b967-daee-aa861e7d64e9"},"retries":"0","description":"","type":"DAG","uuid":"2ff866d1-fcf2-4798-b4eb-e015ac2059da","child_tasks_local_reference_list":[{"kind":"app_task","name":"Install System Packages","uuid":"177eefc5-9dff-3782-41c1-a9e01c05b768"},{"kind":"app_task","name":"Create Disk Setup","uuid":"d4c2340b-7ca7-bc4d-2191-134bb42a804f"},{"kind":"app_task","name":"Install Postgres","uuid":"e2202537-0de9-4bf5-8ee0-cd040aafa645"},{"kind":"app_task","name":"Setup Postgres","uuid":"91c46a6c-d046-ee11-cb44-015ba10c817c"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Install System Packages","uuid":"177eefc5-9dff-3782-41c1-a9e01c05b768"},"edge_type":"user_defined","type":"","uuid":"63391060-e520-48cd-d306-07a0d919a20e","to_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"d4c2340b-7ca7-bc4d-2191-134bb42a804f"}},{"from_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"d4c2340b-7ca7-bc4d-2191-134bb42a804f"},"edge_type":"user_defined","type":"","uuid":"3b74309b-9898-6f63-aafa-c00fd0280207","to_task_reference":{"kind":"app_task","name":"Install Postgres","uuid":"e2202537-0de9-4bf5-8ee0-cd040aafa645"}},{"from_task_reference":{"kind":"app_task","name":"Install Postgres","uuid":"e2202537-0de9-4bf5-8ee0-cd040aafa645"},"edge_type":"user_defined","type":"","uuid":"55f780bc-5c71-8b7a-7860-ddfe4f10f7e5","to_task_reference":{"kind":"app_task","name":"Setup Postgres","uuid":"91c46a6c-d046-ee11-cb44-015ba10c817c"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"3b8ed3d2_dag_cloned_1"},{"target_any_local_reference":{"kind":"app_package","name":"VMwareMasterPackage","uuid":"b7514626-0d97-b967-daee-aa861e7d64e9"},"retries":"0","description":"","type":"EXEC","uuid":"177eefc5-9dff-3782-41c1-a9e01c05b768","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\nsudo yum -y upgrade\nsudo curl -O http:\/\/dl.fedoraproject.org\/pub\/epel\/7\/x86_64\/e\/epel-release-7-10.noarch.rpm\nsudo rpm --import https:\/\/www.elrepo.org\/RPM-GPG-KEY-elrepo.org\nsudo rpm -Uvh http:\/\/www.elrepo.org\/elrepo-release-7.0-3.el7.elrepo.noarch.rpm \nsudo rpm -ihv epel-release-7-10.noarch.rpm \n\nsudo yum update -y\nsudo yum -y install htop wget iotop xfs* bc unzip lvm2*\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"System packages are installed\"\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install System Packages"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"EXEC","uuid":"d4c2340b-7ca7-bc4d-2191-134bb42a804f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n##############\n#\n# LVM setup script for PostgreSQL . 4 disks for DATA and 2 for logs\n# Data disks are 60GB | Log disks are 20GB \n#\n#############\n\n\n#PGSQL data\nsudo pvcreate \/dev\/sdb \/dev\/sdc \/dev\/sdd \/dev\/sde\nsudo vgcreate pgDataVG \/dev\/sdb \/dev\/sdd \/dev\/sdc \/dev\/sde\nsudo lvcreate -l 100%FREE -i4 -I1M -n pgDataLV pgDataVG          ## Use 1MB to avoid IO amplification \n#lvcreate -l 100%FREE -i4 -I4M -n pgDataLV pgDataVG\n\n\n#PGSQL logs\nsudo pvcreate \/dev\/sdf \/dev\/sdg \nsudo vgcreate pgLogVG \/dev\/sdf \/dev\/sdg\nsudo lvcreate -l 100%FREE -i2 -I1M -n pgLogLV pgLogVG            ## Use 1MB to avoid IO amplification\n#lvcreate -l 100%FREE -i2 -I4M -n pgLogLV pgLogVG\n\n\n#Disable LVM read ahead\nsudo lvchange -r 0 \/dev\/pgDataVG\/pgDataLV\nsudo lvchange -r 0 \/dev\/pgLogVG\/pgLogLV\n\n\n#Format LVMs with ext4 and use nodiscard to make sure format time is fast on Nutanix due to SCSI unmap\nsudo mkfs.ext4 -E nodiscard \/dev\/pgDataVG\/pgDataLV\nsudo mkfs.ext4 -E nodiscard \/dev\/pgLogVG\/pgLogLV\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Create Disk Setup"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"EXEC","uuid":"e2202537-0de9-4bf5-8ee0-cd040aafa645","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\nsudo wget -c https:\/\/download.postgresql.org\/pub\/repos\/yum\/9.6\/redhat\/rhel-7-x86_64\/pgdg-centos96-9.6-3.noarch.rpm\nsudo yum -y install pgdg-centos96-9.6-3.noarch.rpm\nsudo rpm --import http:\/\/packages.2ndquadrant.com\/repmgr\/RPM-GPG-KEY-repmgr\nsudo yum install -y http:\/\/packages.2ndquadrant.com\/repmgr\/yum-repo-rpms\/repmgr-rhel-1.0-1.noarch.rpm\n\n# Install PostgreSQL\nsudo yum -y install postgresql96 postgresql96-contrib postgresql96-server postgresql96-devel postgresql96-plpython\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install Postgres"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","type":"EXEC","uuid":"91c46a6c-d046-ee11-cb44-015ba10c817c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\n#run initdb\nsudo \/usr\/pgsql-9.6\/bin\/postgresql96-setup initdb\n\n#start and stop postgresql to make sure DB creates the required directories\nsudo systemctl start postgresql-9.6.service\nsudo systemctl stop postgresql-9.6.service\n\n##copy the created postgres directory to a temp directory\n\nsudo mkdir \/tmp\/pgsql\n\nsudo mv \/var\/lib\/pgsql\/9.6\/data \/tmp\/pgsql\n\n#Create directory , fix permissions and Mount LVM\nsudo mkdir \/var\/lib\/pgsql\/9.6\/data\/\nsudo mount -o noatime,barrier=0 \/dev\/pgDataVG\/pgDataLV \/var\/lib\/pgsql\/9.6\/data\/ \n\nsudo mkdir \/var\/lib\/pgsql\/9.6\/data\/pg_xlog\nsudo mount -o noatime,barrier=0 \/dev\/pgLogVG\/pgLogLV \/var\/lib\/pgsql\/9.6\/data\/pg_xlog\n\nsudo chown -R postgres:postgres \/var\/lib\/pgsql\/9.6\/data\/\n\n#move the xlog to the new LVM\nsudo find \/tmp\/pgsql\/data\/pg_xlog -maxdepth 1 -mindepth 1 -exec mv -t \/var\/lib\/pgsql\/9.6\/data\/pg_xlog\/ {} +\n\n#remove pg_xlog from temp dir to avoid being copied again\nsudo rm -rf \/tmp\/pgsql\/data\/pg_xlog\n\n#move the pgsql directory to the LVM\nsudo find \/tmp\/pgsql\/data -maxdepth 1 -mindepth 1 -exec mv -t \/var\/lib\/pgsql\/9.6\/data\/ {} +\n\nsudo chmod -R 0700 \/var\/lib\/pgsql\/9.6\/data\n\n#enable service on boot\nsudo systemctl enable postgresql-9.6.service\n\n#add mount points to \/etc\/fstab\necho \"\/dev\/mapper\/pgDataVG-pgDataLV \/var\/lib\/pgsql\/9.6\/data ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\necho \"\/dev\/mapper\/pgLogVG-pgLogLV \/var\/lib\/pgsql\/9.6\/data\/pg_xlog ext4 rw,seclabel,noatime,nobarrier,stripe=2048,data=ordered 0 0\" | sudo tee -a  \/etc\/fstab\n\n\nsudo systemctl status postgresql-9.6\nsudo systemctl restart postgresql-9.6\nsudo systemctl status postgresql-9.6\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Setup Postgres"}],"description":"","message_list":[],"uuid":"309b24eb-7a34-7ac8-5a3f-d5eb3b103110","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"3b8ed3d2_dag_cloned_1","uuid":"2ff866d1-fcf2-4798-b4eb-e015ac2059da"},"name":"ed3d1488_runbook_cloned_0"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"VMwareMasterPackage","uuid":"b7514626-0d97-b967-daee-aa861e7d64e9"},"retries":"0","description":"","type":"DAG","uuid":"6cf2309c-824a-6ad6-c460-623bf0af63a1","child_tasks_local_reference_list":[{"kind":"app_task","name":"PackageUninstallTask_cloned_1","uuid":"dff77a68-48f0-c663-005a-e0a880bba0a7"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"ef748d77_dag_cloned_1"},{"target_any_local_reference":{"kind":"app_package","name":"VMwareMasterPackage","uuid":"b7514626-0d97-b967-daee-aa861e7d64e9"},"retries":"0","description":"","type":"EXEC","uuid":"dff77a68-48f0-c663-005a-e0a880bba0a7","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"PackageUninstallTask_cloned_1"}],"description":"","message_list":[],"uuid":"fcfb6747-bf2f-1ec3-484f-e4e63fd4d8d7","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"ef748d77_dag_cloned_1","uuid":"6cf2309c-824a-6ad6-c460-623bf0af63a1"},"name":"e7b91ba0_runbook_cloned_0"}},"variable_list":[],"name":"VMwareMasterPackage"},{"description":"","action_list":[{"description":"System action for installing an application","message_list":[],"uuid":"dd5793a0-23f0-4353-9a01-5c4ae073576d","name":"action_install","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"VMwareSlavePackage","uuid":"15327eeb-b1a1-df5c-d65a-a4d9c6e94cc8"},"retries":"0","description":"","type":"DAG","uuid":"7a4d5193-f1ad-4aea-9f43-5fff72d01844","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Install_Crb_15327eeb_b1a1_df5c_d65a_a4d9c6e94cc8","uuid":"b1b9c1e8-ec25-488d-b712-1e0699bd4eb6"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Package_15327eeb_b1a1_df5c_d65a_a4d9c6e94cc8"},{"target_any_local_reference":{"kind":"app_package","name":"VMwareSlavePackage","uuid":"15327eeb-b1a1-df5c-d65a-a4d9c6e94cc8"},"retries":"0","description":"","type":"CUSTOM_PACKAGE_INSTALL","uuid":"b1b9c1e8-ec25-488d-b712-1e0699bd4eb6","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"VMwareSlavePackage","uuid":"15327eeb-b1a1-df5c-d65a-a4d9c6e94cc8"},"retries":"0","description":"","type":"DAG","uuid":"891f2f24-cf13-b471-fd2e-c9a0d88a0e40","child_tasks_local_reference_list":[{"kind":"app_task","name":"Install System Packages","uuid":"dc5aa9d9-f870-1601-0b4d-ef9ac0f27ac3"},{"kind":"app_task","name":"Create Disk Setup","uuid":"775ca9fc-f62c-959e-496d-a6722cd6b82f"},{"kind":"app_task","name":"Install Postgres","uuid":"c27c1088-c531-b51a-0c9b-425aa20aab25"},{"kind":"app_task","name":"Setup Postgres","uuid":"74a36356-e745-1ee6-9a35-e3f26bf2e43e"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Install System Packages","uuid":"dc5aa9d9-f870-1601-0b4d-ef9ac0f27ac3"},"edge_type":"user_defined","type":"","uuid":"25d0dec3-65d3-db90-f386-457242854a74","to_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"775ca9fc-f62c-959e-496d-a6722cd6b82f"}},{"from_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"775ca9fc-f62c-959e-496d-a6722cd6b82f"},"edge_type":"user_defined","type":"","uuid":"7217945b-6e70-badc-3f51-a11c3d9568fc","to_task_reference":{"kind":"app_task","name":"Install Postgres","uuid":"c27c1088-c531-b51a-0c9b-425aa20aab25"}},{"from_task_reference":{"kind":"app_task","name":"Install Postgres","uuid":"c27c1088-c531-b51a-0c9b-425aa20aab25"},"edge_type":"user_defined","type":"","uuid":"27d6e1bd-7e44-6f75-10eb-42920ce11c2a","to_task_reference":{"kind":"app_task","name":"Setup Postgres","uuid":"74a36356-e745-1ee6-9a35-e3f26bf2e43e"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"3b6ef475_dag_cloned_1"},{"target_any_local_reference":{"kind":"app_package","name":"VMwareSlavePackage","uuid":"15327eeb-b1a1-df5c-d65a-a4d9c6e94cc8"},"retries":"0","description":"","type":"EXEC","uuid":"dc5aa9d9-f870-1601-0b4d-ef9ac0f27ac3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\nsudo yum -y upgrade\nsudo curl -O http:\/\/dl.fedoraproject.org\/pub\/epel\/7\/x86_64\/e\/epel-release-7-10.noarch.rpm\nsudo rpm --import https:\/\/www.elrepo.org\/RPM-GPG-KEY-elrepo.org\nsudo rpm -Uvh http:\/\/www.elrepo.org\/elrepo-release-7.0-3.el7.elrepo.noarch.rpm \nsudo rpm -ihv epel-release-7-10.noarch.rpm \n\nsudo yum update -y\nsudo yum -y install htop wget iotop xfs* bc unzip lvm2*\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"System packages are installed\"\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install System Packages"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"EXEC","uuid":"775ca9fc-f62c-959e-496d-a6722cd6b82f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n##############\n#\n# LVM setup script for PostgreSQL . 4 disks for DATA and 2 for logs\n# Data disks are 60GB | Log disks are 20GB \n#\n#############\n\n\n#PGSQL data\nsudo pvcreate \/dev\/sdb \/dev\/sdc \/dev\/sdd \/dev\/sde\nsudo vgcreate pgDataVG \/dev\/sdb \/dev\/sdd \/dev\/sdc \/dev\/sde\nsudo lvcreate -l 100%FREE -i4 -I1M -n pgDataLV pgDataVG          ## Use 1MB to avoid IO amplification \n#lvcreate -l 100%FREE -i4 -I4M -n pgDataLV pgDataVG\n\n\n#PGSQL logs\nsudo pvcreate \/dev\/sdf \/dev\/sdg \nsudo vgcreate pgLogVG \/dev\/sdf \/dev\/sdg\nsudo lvcreate -l 100%FREE -i2 -I1M -n pgLogLV pgLogVG            ## Use 1MB to avoid IO amplification\n#lvcreate -l 100%FREE -i2 -I4M -n pgLogLV pgLogVG\n\n\n#Disable LVM read ahead\nsudo lvchange -r 0 \/dev\/pgDataVG\/pgDataLV\nsudo lvchange -r 0 \/dev\/pgLogVG\/pgLogLV\n\n\n#Format LVMs with ext4 and use nodiscard to make sure format time is fast on Nutanix due to SCSI unmap\nsudo mkfs.ext4 -E nodiscard \/dev\/pgDataVG\/pgDataLV\nsudo mkfs.ext4 -E nodiscard \/dev\/pgLogVG\/pgLogLV\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Create Disk Setup"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"EXEC","uuid":"c27c1088-c531-b51a-0c9b-425aa20aab25","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\nsudo wget -c https:\/\/download.postgresql.org\/pub\/repos\/yum\/9.6\/redhat\/rhel-7-x86_64\/pgdg-centos96-9.6-3.noarch.rpm\nsudo yum -y install pgdg-centos96-9.6-3.noarch.rpm\nsudo rpm --import http:\/\/packages.2ndquadrant.com\/repmgr\/RPM-GPG-KEY-repmgr\nsudo yum install -y http:\/\/packages.2ndquadrant.com\/repmgr\/yum-repo-rpms\/repmgr-rhel-1.0-1.noarch.rpm\n\n# Install PostgreSQL\nsudo yum -y install postgresql96 postgresql96-contrib postgresql96-server postgresql96-devel postgresql96-plpython\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install Postgres"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"EXEC","uuid":"74a36356-e745-1ee6-9a35-e3f26bf2e43e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\n#run initdb\nsudo \/usr\/pgsql-9.6\/bin\/postgresql96-setup initdb\n\n#start and stop postgresql to make sure DB creates the required directories\nsudo systemctl start postgresql-9.6.service\nsudo systemctl stop postgresql-9.6.service\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Setup Postgres"}],"description":"","message_list":[],"uuid":"71d811a5-d557-09cd-32d0-97882bae010e","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"3b6ef475_dag_cloned_1","uuid":"891f2f24-cf13-b471-fd2e-c9a0d88a0e40"},"name":"1c545ef3_runbook_cloned_0"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"VMwareSlavePackage","uuid":"15327eeb-b1a1-df5c-d65a-a4d9c6e94cc8"},"retries":"0","description":"","type":"DAG","uuid":"0c29112f-8adb-bfc4-0804-0340b46ca2f5","child_tasks_local_reference_list":[{"kind":"app_task","name":"PackageUninstallTask_cloned_1","uuid":"bbe2ffc5-d59d-dac4-fb6e-8c627b106b31"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"4feabf08_dag_cloned_1"},{"target_any_local_reference":{"kind":"app_package","name":"VMwareSlavePackage","uuid":"15327eeb-b1a1-df5c-d65a-a4d9c6e94cc8"},"retries":"0","description":"","type":"EXEC","uuid":"bbe2ffc5-d59d-dac4-fb6e-8c627b106b31","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"PackageUninstallTask_cloned_1"}],"description":"","message_list":[],"uuid":"9eba4299-3717-5f4e-5bbe-42dfed2f27be","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"4feabf08_dag_cloned_1","uuid":"0c29112f-8adb-bfc4-0804-0340b46ca2f5"},"name":"c3a985d4_runbook_cloned_0"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Install_Crb_15327eeb_b1a1_df5c_d65a_a4d9c6e94cc8"}],"description":"","message_list":[],"uuid":"1c1b135b-e389-4716-91de-d497544d686a","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Package_15327eeb_b1a1_df5c_d65a_a4d9c6e94cc8","uuid":"7a4d5193-f1ad-4aea-9f43-5fff72d01844"},"name":"SYS_GEN__Runbook_Package_15327eeb_b1a1_df5c_d65a_a4d9c6e94cc8"}},{"description":"System action for creating an application","message_list":[],"uuid":"833d3971-da08-4967-90f5-34c99b730cc8","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"VMwareSlavePackage","uuid":"15327eeb-b1a1-df5c-d65a-a4d9c6e94cc8"},"retries":"0","description":"","type":"DAG","uuid":"adf534d8-1df3-4438-a7c7-7df45613856b","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_15327eeb_b1a1_df5c_d65a_a4d9c6e94cc8","uuid":"dce1226d-2422-43dc-ae83-cb8e4d81c23c"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"f50e40bc-7902-4c8c-92c5-d92926fae401"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"7a412f46-7965-4d68-ba90-68872e05fd3b"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"f50e40bc-7902-4c8c-92c5-d92926fae401"},"edge_type":"inherent","type":"","uuid":"48e7f94c-5120-4585-97c9-075ffeb22333","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"7a412f46-7965-4d68-ba90-68872e05fd3b"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_15327eeb_b1a1_df5c_d65a_a4d9c6e94cc8","uuid":"dce1226d-2422-43dc-ae83-cb8e4d81c23c"},"edge_type":"inherent","type":"","uuid":"2e9994c5-458b-4e4a-bdfa-6b6c66a03994","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"f50e40bc-7902-4c8c-92c5-d92926fae401"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_15327eeb_b1a1_df5c_d65a_a4d9c6e94cc8"},{"target_any_local_reference":{"kind":"app_package","name":"VMwareSlavePackage","uuid":"15327eeb-b1a1-df5c-d65a-a4d9c6e94cc8"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"dce1226d-2422-43dc-ae83-cb8e4d81c23c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_15327eeb_b1a1_df5c_d65a_a4d9c6e94cc8","uuid":"1c1b135b-e389-4716-91de-d497544d686a"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_15327eeb_b1a1_df5c_d65a_a4d9c6e94cc8"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"f50e40bc-7902-4c8c-92c5-d92926fae401","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"8f15e59d_runbook","uuid":"3c61d32f-d429-4292-b02b-abf0f370307a"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"7a412f46-7965-4d68-ba90-68872e05fd3b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"b34d9d39_runbook","uuid":"57a4c7a2-843d-4130-9f5d-51c6ed3ce4d5"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40"}],"description":"","message_list":[],"uuid":"741580b5-7da8-44a6-8af1-c92871352ca8","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_15327eeb_b1a1_df5c_d65a_a4d9c6e94cc8","uuid":"adf534d8-1df3-4438-a7c7-7df45613856b"},"name":"SYS_GEN__Runbook_Package_15327eeb_b1a1_df5c_d65a_a4d9c6e94cc8"}},{"description":"System action for uninstalling an application","message_list":[],"uuid":"c77ba8db-a8d6-4d62-aa6d-f1ae2b157317","name":"action_uninstall","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"VMwareSlavePackage","uuid":"15327eeb-b1a1-df5c-d65a-a4d9c6e94cc8"},"retries":"0","description":"","type":"DAG","uuid":"6b8dee9c-5ed5-4814-a5a5-11aa7f34f1b5","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Uninstall_Crb_15327eeb_b1a1_df5c_d65a_a4d9c6e94cc8","uuid":"79a8f4ee-0784-42ca-93f3-cddee20f4bb8"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Package_15327eeb_b1a1_df5c_d65a_a4d9c6e94cc8"},{"target_any_local_reference":{"kind":"app_package","name":"VMwareSlavePackage","uuid":"15327eeb-b1a1-df5c-d65a-a4d9c6e94cc8"},"retries":"0","description":"","type":"CUSTOM_PACKAGE_UNINSTALL","uuid":"79a8f4ee-0784-42ca-93f3-cddee20f4bb8","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"VMwareSlavePackage","uuid":"15327eeb-b1a1-df5c-d65a-a4d9c6e94cc8"},"retries":"0","description":"","type":"DAG","uuid":"891f2f24-cf13-b471-fd2e-c9a0d88a0e40","child_tasks_local_reference_list":[{"kind":"app_task","name":"Install System Packages","uuid":"dc5aa9d9-f870-1601-0b4d-ef9ac0f27ac3"},{"kind":"app_task","name":"Create Disk Setup","uuid":"775ca9fc-f62c-959e-496d-a6722cd6b82f"},{"kind":"app_task","name":"Install Postgres","uuid":"c27c1088-c531-b51a-0c9b-425aa20aab25"},{"kind":"app_task","name":"Setup Postgres","uuid":"74a36356-e745-1ee6-9a35-e3f26bf2e43e"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Install System Packages","uuid":"dc5aa9d9-f870-1601-0b4d-ef9ac0f27ac3"},"edge_type":"user_defined","type":"","uuid":"25d0dec3-65d3-db90-f386-457242854a74","to_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"775ca9fc-f62c-959e-496d-a6722cd6b82f"}},{"from_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"775ca9fc-f62c-959e-496d-a6722cd6b82f"},"edge_type":"user_defined","type":"","uuid":"7217945b-6e70-badc-3f51-a11c3d9568fc","to_task_reference":{"kind":"app_task","name":"Install Postgres","uuid":"c27c1088-c531-b51a-0c9b-425aa20aab25"}},{"from_task_reference":{"kind":"app_task","name":"Install Postgres","uuid":"c27c1088-c531-b51a-0c9b-425aa20aab25"},"edge_type":"user_defined","type":"","uuid":"27d6e1bd-7e44-6f75-10eb-42920ce11c2a","to_task_reference":{"kind":"app_task","name":"Setup Postgres","uuid":"74a36356-e745-1ee6-9a35-e3f26bf2e43e"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"3b6ef475_dag_cloned_1"},{"target_any_local_reference":{"kind":"app_package","name":"VMwareSlavePackage","uuid":"15327eeb-b1a1-df5c-d65a-a4d9c6e94cc8"},"retries":"0","description":"","type":"EXEC","uuid":"dc5aa9d9-f870-1601-0b4d-ef9ac0f27ac3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\nsudo yum -y upgrade\nsudo curl -O http:\/\/dl.fedoraproject.org\/pub\/epel\/7\/x86_64\/e\/epel-release-7-10.noarch.rpm\nsudo rpm --import https:\/\/www.elrepo.org\/RPM-GPG-KEY-elrepo.org\nsudo rpm -Uvh http:\/\/www.elrepo.org\/elrepo-release-7.0-3.el7.elrepo.noarch.rpm \nsudo rpm -ihv epel-release-7-10.noarch.rpm \n\nsudo yum update -y\nsudo yum -y install htop wget iotop xfs* bc unzip lvm2*\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"System packages are installed\"\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install System Packages"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"EXEC","uuid":"775ca9fc-f62c-959e-496d-a6722cd6b82f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n##############\n#\n# LVM setup script for PostgreSQL . 4 disks for DATA and 2 for logs\n# Data disks are 60GB | Log disks are 20GB \n#\n#############\n\n\n#PGSQL data\nsudo pvcreate \/dev\/sdb \/dev\/sdc \/dev\/sdd \/dev\/sde\nsudo vgcreate pgDataVG \/dev\/sdb \/dev\/sdd \/dev\/sdc \/dev\/sde\nsudo lvcreate -l 100%FREE -i4 -I1M -n pgDataLV pgDataVG          ## Use 1MB to avoid IO amplification \n#lvcreate -l 100%FREE -i4 -I4M -n pgDataLV pgDataVG\n\n\n#PGSQL logs\nsudo pvcreate \/dev\/sdf \/dev\/sdg \nsudo vgcreate pgLogVG \/dev\/sdf \/dev\/sdg\nsudo lvcreate -l 100%FREE -i2 -I1M -n pgLogLV pgLogVG            ## Use 1MB to avoid IO amplification\n#lvcreate -l 100%FREE -i2 -I4M -n pgLogLV pgLogVG\n\n\n#Disable LVM read ahead\nsudo lvchange -r 0 \/dev\/pgDataVG\/pgDataLV\nsudo lvchange -r 0 \/dev\/pgLogVG\/pgLogLV\n\n\n#Format LVMs with ext4 and use nodiscard to make sure format time is fast on Nutanix due to SCSI unmap\nsudo mkfs.ext4 -E nodiscard \/dev\/pgDataVG\/pgDataLV\nsudo mkfs.ext4 -E nodiscard \/dev\/pgLogVG\/pgLogLV\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Create Disk Setup"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"EXEC","uuid":"c27c1088-c531-b51a-0c9b-425aa20aab25","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\nsudo wget -c https:\/\/download.postgresql.org\/pub\/repos\/yum\/9.6\/redhat\/rhel-7-x86_64\/pgdg-centos96-9.6-3.noarch.rpm\nsudo yum -y install pgdg-centos96-9.6-3.noarch.rpm\nsudo rpm --import http:\/\/packages.2ndquadrant.com\/repmgr\/RPM-GPG-KEY-repmgr\nsudo yum install -y http:\/\/packages.2ndquadrant.com\/repmgr\/yum-repo-rpms\/repmgr-rhel-1.0-1.noarch.rpm\n\n# Install PostgreSQL\nsudo yum -y install postgresql96 postgresql96-contrib postgresql96-server postgresql96-devel postgresql96-plpython\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install Postgres"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"EXEC","uuid":"74a36356-e745-1ee6-9a35-e3f26bf2e43e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\n#run initdb\nsudo \/usr\/pgsql-9.6\/bin\/postgresql96-setup initdb\n\n#start and stop postgresql to make sure DB creates the required directories\nsudo systemctl start postgresql-9.6.service\nsudo systemctl stop postgresql-9.6.service\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Setup Postgres"}],"description":"","message_list":[],"uuid":"71d811a5-d557-09cd-32d0-97882bae010e","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"3b6ef475_dag_cloned_1","uuid":"891f2f24-cf13-b471-fd2e-c9a0d88a0e40"},"name":"1c545ef3_runbook_cloned_0"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"VMwareSlavePackage","uuid":"15327eeb-b1a1-df5c-d65a-a4d9c6e94cc8"},"retries":"0","description":"","type":"DAG","uuid":"0c29112f-8adb-bfc4-0804-0340b46ca2f5","child_tasks_local_reference_list":[{"kind":"app_task","name":"PackageUninstallTask_cloned_1","uuid":"bbe2ffc5-d59d-dac4-fb6e-8c627b106b31"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"4feabf08_dag_cloned_1"},{"target_any_local_reference":{"kind":"app_package","name":"VMwareSlavePackage","uuid":"15327eeb-b1a1-df5c-d65a-a4d9c6e94cc8"},"retries":"0","description":"","type":"EXEC","uuid":"bbe2ffc5-d59d-dac4-fb6e-8c627b106b31","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"PackageUninstallTask_cloned_1"}],"description":"","message_list":[],"uuid":"9eba4299-3717-5f4e-5bbe-42dfed2f27be","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"4feabf08_dag_cloned_1","uuid":"0c29112f-8adb-bfc4-0804-0340b46ca2f5"},"name":"c3a985d4_runbook_cloned_0"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Uninstall_Crb_15327eeb_b1a1_df5c_d65a_a4d9c6e94cc8"}],"description":"","message_list":[],"uuid":"e19d51d9-ae6e-48f1-af12-c4fd5e30158b","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Package_15327eeb_b1a1_df5c_d65a_a4d9c6e94cc8","uuid":"6b8dee9c-5ed5-4814-a5a5-11aa7f34f1b5"},"name":"SYS_GEN__Runbook_Package_15327eeb_b1a1_df5c_d65a_a4d9c6e94cc8"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"dbd6f7d4-1b43-48a0-b5b3-b7868e7b9918","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"VMwareSlavePackage","uuid":"15327eeb-b1a1-df5c-d65a-a4d9c6e94cc8"},"retries":"0","description":"","type":"DAG","uuid":"89f06bec-01b8-4dfc-80a2-a3ca17cd8650","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"fb7dcbdc-9176-4b61-9d07-8f93c3db61f9"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"bb90df31-5c06-468c-ac0e-fc1a36d9e02d"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_15327eeb_b1a1_df5c_d65a_a4d9c6e94cc8","uuid":"64665514-814b-4f7c-ad69-3d573aa21cb4"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"fb7dcbdc-9176-4b61-9d07-8f93c3db61f9"},"edge_type":"inherent","type":"","uuid":"8b2e4081-d872-4bb6-aae8-ce22dc7ed21d","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"bb90df31-5c06-468c-ac0e-fc1a36d9e02d"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"bb90df31-5c06-468c-ac0e-fc1a36d9e02d"},"edge_type":"inherent","type":"","uuid":"d7d640ea-fd83-4152-81f4-f9353d70452d","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_15327eeb_b1a1_df5c_d65a_a4d9c6e94cc8","uuid":"64665514-814b-4f7c-ad69-3d573aa21cb4"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_15327eeb_b1a1_df5c_d65a_a4d9c6e94cc8"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"fb7dcbdc-9176-4b61-9d07-8f93c3db61f9","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0e2bd4c9_runbook","uuid":"8e29699f-df44-4802-8ae9-689322c6575c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"bb90df31-5c06-468c-ac0e-fc1a36d9e02d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"08946714_runbook","uuid":"005a7fbe-7426-4c75-aa02-8ca0b1db5dbb"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40"},{"target_any_local_reference":{"kind":"app_package","name":"VMwareSlavePackage","uuid":"15327eeb-b1a1-df5c-d65a-a4d9c6e94cc8"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"64665514-814b-4f7c-ad69-3d573aa21cb4","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_15327eeb_b1a1_df5c_d65a_a4d9c6e94cc8","uuid":"e19d51d9-ae6e-48f1-af12-c4fd5e30158b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_15327eeb_b1a1_df5c_d65a_a4d9c6e94cc8"}],"description":"","message_list":[],"uuid":"47fee570-de9c-4358-8334-8ba542328256","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_15327eeb_b1a1_df5c_d65a_a4d9c6e94cc8","uuid":"89f06bec-01b8-4dfc-80a2-a3ca17cd8650"},"name":"SYS_GEN__Runbook_Package_15327eeb_b1a1_df5c_d65a_a4d9c6e94cc8"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"d68aac96-b576-47a5-8783-46d07ddea430","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"VMwareSlavePackage","uuid":"15327eeb-b1a1-df5c-d65a-a4d9c6e94cc8"},"retries":"0","description":"","type":"DAG","uuid":"aa229217-6b4c-46ec-8cf0-edf6ea4d6999","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"86fc0aec-ad47-4648-b419-f358cb2916a2"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_15327eeb_b1a1_df5c_d65a_a4d9c6e94cc8","uuid":"589fe27f-0ae8-42f1-b5d1-d72b009b40f5"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"86fc0aec-ad47-4648-b419-f358cb2916a2"},"edge_type":"inherent","type":"","uuid":"4bda35e6-00db-4b80-acb8-9965c7e8b40b","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_15327eeb_b1a1_df5c_d65a_a4d9c6e94cc8","uuid":"589fe27f-0ae8-42f1-b5d1-d72b009b40f5"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_15327eeb_b1a1_df5c_d65a_a4d9c6e94cc8"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"86fc0aec-ad47-4648-b419-f358cb2916a2","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"febe47f3-782b-40c3-abcb-ce825626516f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40"},{"target_any_local_reference":{"kind":"app_package","name":"VMwareSlavePackage","uuid":"15327eeb-b1a1-df5c-d65a-a4d9c6e94cc8"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"589fe27f-0ae8-42f1-b5d1-d72b009b40f5","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_15327eeb_b1a1_df5c_d65a_a4d9c6e94cc8"}],"description":"","message_list":[],"uuid":"623a5f76-f5a2-41d3-814f-6081f5f63fcb","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_15327eeb_b1a1_df5c_d65a_a4d9c6e94cc8","uuid":"aa229217-6b4c-46ec-8cf0-edf6ea4d6999"},"name":"SYS_GEN__Runbook_Package_15327eeb_b1a1_df5c_d65a_a4d9c6e94cc8"}},{"description":"System action for starting an application","message_list":[],"uuid":"d502291b-6e2c-42e4-8c58-be55b7cdc384","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"VMwareSlavePackage","uuid":"15327eeb-b1a1-df5c-d65a-a4d9c6e94cc8"},"retries":"0","description":"","type":"DAG","uuid":"1e3b800c-a4a1-41c7-9526-c076baee1cce","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"54bfdc25-f3eb-4889-8b39-137c4104f0f9"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_15327eeb_b1a1_df5c_d65a_a4d9c6e94cc8"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"54bfdc25-f3eb-4889-8b39-137c4104f0f9","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"b34d9d39_runbook","uuid":"57a4c7a2-843d-4130-9f5d-51c6ed3ce4d5"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40"}],"description":"","message_list":[],"uuid":"d3729bb2-f6d0-4be0-bf2b-9d66ccec39cd","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_15327eeb_b1a1_df5c_d65a_a4d9c6e94cc8","uuid":"1e3b800c-a4a1-41c7-9526-c076baee1cce"},"name":"SYS_GEN__Runbook_Package_15327eeb_b1a1_df5c_d65a_a4d9c6e94cc8"}},{"description":"System action for restarting an application","message_list":[],"uuid":"aed8081f-d043-4b26-9f8b-12033c5ffe07","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"VMwareSlavePackage","uuid":"15327eeb-b1a1-df5c-d65a-a4d9c6e94cc8"},"retries":"0","description":"","type":"DAG","uuid":"e6d5e4a2-7f0a-4dfa-9299-c2c707b476c5","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"53828bd3-9ea3-4040-8c59-c3bf36373a04"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_15327eeb_b1a1_df5c_d65a_a4d9c6e94cc8"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"53828bd3-9ea3-4040-8c59-c3bf36373a04","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"c1c4eebd_runbook","uuid":"bea78664-aea0-4d1f-b708-8ef876af38d5"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40"}],"description":"","message_list":[],"uuid":"7c73bfa3-a0b5-49aa-a63c-4dc2323c13a2","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_15327eeb_b1a1_df5c_d65a_a4d9c6e94cc8","uuid":"e6d5e4a2-7f0a-4dfa-9299-c2c707b476c5"},"name":"SYS_GEN__Runbook_Package_15327eeb_b1a1_df5c_d65a_a4d9c6e94cc8"}},{"description":"System action for stopping an application","message_list":[],"uuid":"418d6073-dcb1-497a-a312-be9fe4e7c27f","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"VMwareSlavePackage","uuid":"15327eeb-b1a1-df5c-d65a-a4d9c6e94cc8"},"retries":"0","description":"","type":"DAG","uuid":"449d2c5c-245e-453c-8801-8ed1908ed1cd","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40","uuid":"c001deeb-a7b8-4b64-898a-9e7e206dbb35"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_15327eeb_b1a1_df5c_d65a_a4d9c6e94cc8"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"c001deeb-a7b8-4b64-898a-9e7e206dbb35","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0e2bd4c9_runbook","uuid":"8e29699f-df44-4802-8ae9-689322c6575c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_97d13e58_4d30_42ba_82be_21616f898f40"}],"description":"","message_list":[],"uuid":"7dc872b0-e940-43d1-9a56-c8072ac7f444","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_15327eeb_b1a1_df5c_d65a_a4d9c6e94cc8","uuid":"449d2c5c-245e-453c-8801-8ed1908ed1cd"},"name":"SYS_GEN__Runbook_Package_15327eeb_b1a1_df5c_d65a_a4d9c6e94cc8"}}],"message_list":[],"service_local_reference_list":[{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"}],"uuid":"15327eeb-b1a1-df5c-d65a-a4d9c6e94cc8","state":"ACTIVE","version":"","editables":{},"type":"DEB","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"VMwareSlavePackage","uuid":"15327eeb-b1a1-df5c-d65a-a4d9c6e94cc8"},"retries":"0","description":"","type":"DAG","uuid":"891f2f24-cf13-b471-fd2e-c9a0d88a0e40","child_tasks_local_reference_list":[{"kind":"app_task","name":"Install System Packages","uuid":"dc5aa9d9-f870-1601-0b4d-ef9ac0f27ac3"},{"kind":"app_task","name":"Create Disk Setup","uuid":"775ca9fc-f62c-959e-496d-a6722cd6b82f"},{"kind":"app_task","name":"Install Postgres","uuid":"c27c1088-c531-b51a-0c9b-425aa20aab25"},{"kind":"app_task","name":"Setup Postgres","uuid":"74a36356-e745-1ee6-9a35-e3f26bf2e43e"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Install System Packages","uuid":"dc5aa9d9-f870-1601-0b4d-ef9ac0f27ac3"},"edge_type":"user_defined","type":"","uuid":"25d0dec3-65d3-db90-f386-457242854a74","to_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"775ca9fc-f62c-959e-496d-a6722cd6b82f"}},{"from_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"775ca9fc-f62c-959e-496d-a6722cd6b82f"},"edge_type":"user_defined","type":"","uuid":"7217945b-6e70-badc-3f51-a11c3d9568fc","to_task_reference":{"kind":"app_task","name":"Install Postgres","uuid":"c27c1088-c531-b51a-0c9b-425aa20aab25"}},{"from_task_reference":{"kind":"app_task","name":"Install Postgres","uuid":"c27c1088-c531-b51a-0c9b-425aa20aab25"},"edge_type":"user_defined","type":"","uuid":"27d6e1bd-7e44-6f75-10eb-42920ce11c2a","to_task_reference":{"kind":"app_task","name":"Setup Postgres","uuid":"74a36356-e745-1ee6-9a35-e3f26bf2e43e"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"3b6ef475_dag_cloned_1"},{"target_any_local_reference":{"kind":"app_package","name":"VMwareSlavePackage","uuid":"15327eeb-b1a1-df5c-d65a-a4d9c6e94cc8"},"retries":"0","description":"","type":"EXEC","uuid":"dc5aa9d9-f870-1601-0b4d-ef9ac0f27ac3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\nsudo yum -y upgrade\nsudo curl -O http:\/\/dl.fedoraproject.org\/pub\/epel\/7\/x86_64\/e\/epel-release-7-10.noarch.rpm\nsudo rpm --import https:\/\/www.elrepo.org\/RPM-GPG-KEY-elrepo.org\nsudo rpm -Uvh http:\/\/www.elrepo.org\/elrepo-release-7.0-3.el7.elrepo.noarch.rpm \nsudo rpm -ihv epel-release-7-10.noarch.rpm \n\nsudo yum update -y\nsudo yum -y install htop wget iotop xfs* bc unzip lvm2*\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"System packages are installed\"\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install System Packages"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"EXEC","uuid":"775ca9fc-f62c-959e-496d-a6722cd6b82f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n##############\n#\n# LVM setup script for PostgreSQL . 4 disks for DATA and 2 for logs\n# Data disks are 60GB | Log disks are 20GB \n#\n#############\n\n\n#PGSQL data\nsudo pvcreate \/dev\/sdb \/dev\/sdc \/dev\/sdd \/dev\/sde\nsudo vgcreate pgDataVG \/dev\/sdb \/dev\/sdd \/dev\/sdc \/dev\/sde\nsudo lvcreate -l 100%FREE -i4 -I1M -n pgDataLV pgDataVG          ## Use 1MB to avoid IO amplification \n#lvcreate -l 100%FREE -i4 -I4M -n pgDataLV pgDataVG\n\n\n#PGSQL logs\nsudo pvcreate \/dev\/sdf \/dev\/sdg \nsudo vgcreate pgLogVG \/dev\/sdf \/dev\/sdg\nsudo lvcreate -l 100%FREE -i2 -I1M -n pgLogLV pgLogVG            ## Use 1MB to avoid IO amplification\n#lvcreate -l 100%FREE -i2 -I4M -n pgLogLV pgLogVG\n\n\n#Disable LVM read ahead\nsudo lvchange -r 0 \/dev\/pgDataVG\/pgDataLV\nsudo lvchange -r 0 \/dev\/pgLogVG\/pgLogLV\n\n\n#Format LVMs with ext4 and use nodiscard to make sure format time is fast on Nutanix due to SCSI unmap\nsudo mkfs.ext4 -E nodiscard \/dev\/pgDataVG\/pgDataLV\nsudo mkfs.ext4 -E nodiscard \/dev\/pgLogVG\/pgLogLV\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Create Disk Setup"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"EXEC","uuid":"c27c1088-c531-b51a-0c9b-425aa20aab25","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\nsudo wget -c https:\/\/download.postgresql.org\/pub\/repos\/yum\/9.6\/redhat\/rhel-7-x86_64\/pgdg-centos96-9.6-3.noarch.rpm\nsudo yum -y install pgdg-centos96-9.6-3.noarch.rpm\nsudo rpm --import http:\/\/packages.2ndquadrant.com\/repmgr\/RPM-GPG-KEY-repmgr\nsudo yum install -y http:\/\/packages.2ndquadrant.com\/repmgr\/yum-repo-rpms\/repmgr-rhel-1.0-1.noarch.rpm\n\n# Install PostgreSQL\nsudo yum -y install postgresql96 postgresql96-contrib postgresql96-server postgresql96-devel postgresql96-plpython\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install Postgres"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","type":"EXEC","uuid":"74a36356-e745-1ee6-9a35-e3f26bf2e43e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\n#run initdb\nsudo \/usr\/pgsql-9.6\/bin\/postgresql96-setup initdb\n\n#start and stop postgresql to make sure DB creates the required directories\nsudo systemctl start postgresql-9.6.service\nsudo systemctl stop postgresql-9.6.service\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Setup Postgres"}],"description":"","message_list":[],"uuid":"71d811a5-d557-09cd-32d0-97882bae010e","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"3b6ef475_dag_cloned_1","uuid":"891f2f24-cf13-b471-fd2e-c9a0d88a0e40"},"name":"1c545ef3_runbook_cloned_0"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"VMwareSlavePackage","uuid":"15327eeb-b1a1-df5c-d65a-a4d9c6e94cc8"},"retries":"0","description":"","type":"DAG","uuid":"0c29112f-8adb-bfc4-0804-0340b46ca2f5","child_tasks_local_reference_list":[{"kind":"app_task","name":"PackageUninstallTask_cloned_1","uuid":"bbe2ffc5-d59d-dac4-fb6e-8c627b106b31"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"4feabf08_dag_cloned_1"},{"target_any_local_reference":{"kind":"app_package","name":"VMwareSlavePackage","uuid":"15327eeb-b1a1-df5c-d65a-a4d9c6e94cc8"},"retries":"0","description":"","type":"EXEC","uuid":"bbe2ffc5-d59d-dac4-fb6e-8c627b106b31","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"PackageUninstallTask_cloned_1"}],"description":"","message_list":[],"uuid":"9eba4299-3717-5f4e-5bbe-42dfed2f27be","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"4feabf08_dag_cloned_1","uuid":"0c29112f-8adb-bfc4-0804-0340b46ca2f5"},"name":"c3a985d4_runbook_cloned_0"}},"variable_list":[],"name":"VMwareSlavePackage"},{"description":"","action_list":[{"description":"System action for installing an application","message_list":[],"uuid":"5e47478c-c3ac-4f8c-9077-123dd8b3f0fd","name":"action_install","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"ESXI_CENTOS_76","uuid":"e5ba9433-4d2f-1e02-1657-b19820c42cb0"},"retries":"0","description":"","type":"DAG","uuid":"1ec98195-8bef-420f-b779-73796e18dc4a","child_tasks_local_reference_list":[{"kind":"app_task","name":"Image Fetch task for VM","uuid":"868c99ab-eaa0-4695-9442-916e50d81331"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Package_e5ba9433_4d2f_1e02_1657_b19820c42cb0"},{"target_any_local_reference":{"kind":"app_package","name":"ESXI_CENTOS_76","uuid":"e5ba9433-4d2f-1e02-1657-b19820c42cb0"},"retries":"0","description":"","type":"SUBSTRATE_IMAGE_FETCH","uuid":"868c99ab-eaa0-4695-9442-916e50d81331","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"","name":"CentOS-7-x86_64-1810","resources":{"image_type":"DISK_IMAGE","checksum":{},"source_uri":"http:\/\/download.nutanix.com\/calm\/CentOS-7-x86_64-1810.ova","version":{},"architecture":"X86_64","type":""},"description":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Image Fetch task for VM"}],"description":"","message_list":[],"uuid":"aa32e9d7-514e-4991-8510-a53eacadc6c2","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Package_e5ba9433_4d2f_1e02_1657_b19820c42cb0","uuid":"1ec98195-8bef-420f-b779-73796e18dc4a"},"name":"SYS_GEN__Runbook_Package_e5ba9433_4d2f_1e02_1657_b19820c42cb0"}},{"description":"System action for creating an application","message_list":[],"uuid":"1bcaa424-5450-4207-b252-065abeb36e83","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"ESXI_CENTOS_76","uuid":"e5ba9433-4d2f-1e02-1657-b19820c42cb0"},"retries":"0","description":"","type":"DAG","uuid":"0a8ce39f-d185-4c9d-8104-1e72d738e0a7","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_e5ba9433_4d2f_1e02_1657_b19820c42cb0","uuid":"b2885748-05a0-400f-828b-54c6c173d17c"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_e5ba9433_4d2f_1e02_1657_b19820c42cb0"},{"target_any_local_reference":{"kind":"app_package","name":"ESXI_CENTOS_76","uuid":"e5ba9433-4d2f-1e02-1657-b19820c42cb0"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"b2885748-05a0-400f-828b-54c6c173d17c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_e5ba9433_4d2f_1e02_1657_b19820c42cb0","uuid":"aa32e9d7-514e-4991-8510-a53eacadc6c2"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_e5ba9433_4d2f_1e02_1657_b19820c42cb0"}],"description":"","message_list":[],"uuid":"e2e600e9-73d3-4d92-b947-a9e6c775ca1b","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_e5ba9433_4d2f_1e02_1657_b19820c42cb0","uuid":"0a8ce39f-d185-4c9d-8104-1e72d738e0a7"},"name":"SYS_GEN__Runbook_Package_e5ba9433_4d2f_1e02_1657_b19820c42cb0"}},{"description":"System action for starting an application","message_list":[],"uuid":"08a78678-de9e-4024-a5b8-e777ccb9a596","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"ESXI_CENTOS_76","uuid":"e5ba9433-4d2f-1e02-1657-b19820c42cb0"},"retries":"0","description":"","type":"DAG","uuid":"922ff417-7e56-4826-b627-8e7492d05130","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_e5ba9433_4d2f_1e02_1657_b19820c42cb0"}],"description":"","message_list":[],"uuid":"7dc622fb-296c-4df3-bc8a-e75aa0b81515","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_e5ba9433_4d2f_1e02_1657_b19820c42cb0","uuid":"922ff417-7e56-4826-b627-8e7492d05130"},"name":"SYS_GEN__Runbook_Package_e5ba9433_4d2f_1e02_1657_b19820c42cb0"}},{"description":"System action for restarting an application","message_list":[],"uuid":"68cab049-e28c-4d46-b584-e7cdd5ac5538","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"ESXI_CENTOS_76","uuid":"e5ba9433-4d2f-1e02-1657-b19820c42cb0"},"retries":"0","description":"","type":"DAG","uuid":"a982e5cb-a78b-48be-a8f9-e7f432848758","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_e5ba9433_4d2f_1e02_1657_b19820c42cb0"}],"description":"","message_list":[],"uuid":"8d9b504e-a2cc-4e2a-ab02-c5c1046f1281","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_e5ba9433_4d2f_1e02_1657_b19820c42cb0","uuid":"a982e5cb-a78b-48be-a8f9-e7f432848758"},"name":"SYS_GEN__Runbook_Package_e5ba9433_4d2f_1e02_1657_b19820c42cb0"}},{"description":"System action for stopping an application","message_list":[],"uuid":"5fde1082-91c9-443b-9f9e-8ccb00eeafef","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"ESXI_CENTOS_76","uuid":"e5ba9433-4d2f-1e02-1657-b19820c42cb0"},"retries":"0","description":"","type":"DAG","uuid":"f4e3e998-bb4a-48de-9f39-535779aa7a08","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_e5ba9433_4d2f_1e02_1657_b19820c42cb0"}],"description":"","message_list":[],"uuid":"5783175d-c6c6-4250-9ae2-6f2f4951d430","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_e5ba9433_4d2f_1e02_1657_b19820c42cb0","uuid":"f4e3e998-bb4a-48de-9f39-535779aa7a08"},"name":"SYS_GEN__Runbook_Package_e5ba9433_4d2f_1e02_1657_b19820c42cb0"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"b6827681-9d4a-4a09-9c2a-557b33f87c7d","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"ESXI_CENTOS_76","uuid":"e5ba9433-4d2f-1e02-1657-b19820c42cb0"},"retries":"0","description":"","type":"DAG","uuid":"03ca5eb3-2379-4c27-ae9a-c052f1cbaa71","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_e5ba9433_4d2f_1e02_1657_b19820c42cb0"}],"description":"","message_list":[],"uuid":"f03cb3f5-db63-43fc-bbc4-9ad2152b70c0","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_e5ba9433_4d2f_1e02_1657_b19820c42cb0","uuid":"03ca5eb3-2379-4c27-ae9a-c052f1cbaa71"},"name":"SYS_GEN__Runbook_Package_e5ba9433_4d2f_1e02_1657_b19820c42cb0"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"85ddd11b-7d09-4023-93e4-fdc3d15aefaf","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"ESXI_CENTOS_76","uuid":"e5ba9433-4d2f-1e02-1657-b19820c42cb0"},"retries":"0","description":"","type":"DAG","uuid":"4d443819-2dd4-4d81-ac71-29a0dfe8ebee","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_e5ba9433_4d2f_1e02_1657_b19820c42cb0"}],"description":"","message_list":[],"uuid":"c2714b6a-e6c3-4c09-8290-e6b999547422","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_e5ba9433_4d2f_1e02_1657_b19820c42cb0","uuid":"4d443819-2dd4-4d81-ac71-29a0dfe8ebee"},"name":"SYS_GEN__Runbook_Package_e5ba9433_4d2f_1e02_1657_b19820c42cb0"}}],"message_list":[],"service_local_reference_list":[],"uuid":"e5ba9433-4d2f-1e02-1657-b19820c42cb0","state":"ACTIVE","version":"","editables":{},"type":"SUBSTRATE_IMAGE","options":{"type":"","name":"CentOS-7-x86_64-1810","resources":{"image_type":"DISK_IMAGE","checksum":{},"source_uri":"http:\/\/download.nutanix.com\/calm\/CentOS-7-x86_64-1810.ova","version":{},"architecture":"X86_64","type":""},"description":""},"variable_list":[],"name":"ESXI_CENTOS_76"}]},"name":"Postgresql"},"spec":{"name":"Postgresql","resources":{"service_definition_list":[{"singleton":false,"name":"Postgres_Master","action_list":[{"description":"System action for creating an application","name":"action_create","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90","name":"Postgres_Master"},"retries":"0","description":"","uuid":"9a3ad389-066b-467c-bffe-343dc08561d4","child_tasks_local_reference_list":[{"kind":"app_task","name":"Configure Master","uuid":"53ad8f4c-4820-4684-8d87-4937319ebb98"}],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"793f009c_dag"},{"target_any_local_reference":{"kind":"app_service","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90","name":"Postgres_Master"},"retries":"0","description":"","uuid":"53ad8f4c-4820-4684-8d87-4937319ebb98","child_tasks_local_reference_list":[],"attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\nsudo -i -u postgres psql -c \"CREATE USER rep REPLICATION LOGIN ENCRYPTED PASSWORD '@@{DB_PASSWORD}@@'; \"\n\nif [ \"@@{PROFILE}@@\" = \"AHV\" ]\nthen\n    Slaves=($(echo @@{AHVSlave.address}@@ | sed 's\/^,\/\/' | sed 's\/,$\/\/' | tr \",\" \" \")) \nelif [ \"@@{PROFILE}@@\" = \"AWS\" ]\nthen\n    Slaves=($(echo @@{AWSSlave.address}@@ | sed 's\/^,\/\/' | sed 's\/,$\/\/' | tr \",\" \" \")) \nelif [ \"@@{PROFILE}@@\" = \"GCP\" ]\nthen\n    Slaves=($(echo @@{GCPSlave.address}@@ | sed 's\/^,\/\/' | sed 's\/,$\/\/' | tr \",\" \" \"))     \nelif [ \"@@{PROFILE}@@\" = \"AZURE\" ]\nthen\n    Slaves=($(echo @@{AzureSlave.address}@@ | sed 's\/^,\/\/' | sed 's\/,$\/\/' | tr \",\" \" \"))     \nelif [ \"@@{PROFILE}@@\" = \"VMWARE\" ]\nthen\n    Slaves=($(echo @@{VMwareSlave.address}@@ | sed 's\/^,\/\/' | sed 's\/,$\/\/' | tr \",\" \" \"))     \nfi\n\necho \"host    replication     rep     @@{address}@@\/32     md5\" | sudo tee -a \/var\/lib\/pgsql\/9.6\/data\/pg_hba.conf\nfor slave in ${Slaves[@]} \ndo\n  echo \"host    replication     rep     ${slave}\/32     md5\" | sudo tee -a \/var\/lib\/pgsql\/9.6\/data\/pg_hba.conf\ndone\n\n\necho \"listen_addresses = '*'\nwal_level = 'hot_standby'\narchive_mode = on\narchive_command = 'cd .'\nmax_wal_senders = 3\nhot_standby = on\nwal_keep_segments = 8\" | sudo tee -a \/var\/lib\/pgsql\/9.6\/data\/postgresql.conf \n\nsudo systemctl restart postgresql-9.6 \n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","type":"EXEC","variable_list":[],"name":"Configure Master"}],"description":"","uuid":"a5cf54be-5eb3-4cbb-8cbf-c295bbc3af83","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"793f009c_dag","uuid":"9a3ad389-066b-467c-bffe-343dc08561d4"},"name":"c528d489_runbook"},"type":"system","uuid":"9cb16798-56af-4ea4-bf9b-8fef935b84ae"},{"description":"System action for deleting an application. Deletes created VMs as well","name":"action_delete","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90","name":"Postgres_Master"},"retries":"0","description":"","uuid":"04b414ac-8ef6-4b37-be56-11db91b9799a","child_tasks_local_reference_list":[],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"68f32446_dag"}],"description":"","uuid":"f31a5f00-62ad-4b57-8fbf-cd1f020f2bfc","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"68f32446_dag","uuid":"04b414ac-8ef6-4b37-be56-11db91b9799a"},"name":"8ad650b2_runbook"},"type":"system","uuid":"d1547a0c-c2e5-4b23-bbeb-b4af9b7a394f"},{"description":"System action for starting an application","name":"action_start","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90","name":"Postgres_Master"},"retries":"0","description":"","uuid":"4f3da01e-682a-4a32-8bd0-69d0003b3a75","child_tasks_local_reference_list":[],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"2e864aa9_dag"}],"description":"","uuid":"81959707-f27f-4259-a9b6-d4f736a28f5c","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"2e864aa9_dag","uuid":"4f3da01e-682a-4a32-8bd0-69d0003b3a75"},"name":"c02553e2_runbook"},"type":"system","uuid":"1dedee86-3bd4-4949-bcca-b087cb1ba963"},{"description":"System action for stopping an application","name":"action_stop","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90","name":"Postgres_Master"},"retries":"0","description":"","uuid":"bdd64875-7a05-4d4a-bda6-965c25b390be","child_tasks_local_reference_list":[],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"ca435f3c_dag"}],"description":"","uuid":"86288a79-ba17-4500-a81a-1ed2afb6b9b8","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"ca435f3c_dag","uuid":"bdd64875-7a05-4d4a-bda6-965c25b390be"},"name":"deb1443a_runbook"},"type":"system","uuid":"38a27466-d108-43ae-ae14-7cbae5ec9cca"},{"description":"System action for restarting an application","name":"action_restart","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90","name":"Postgres_Master"},"retries":"0","description":"","uuid":"14847019-9c20-4e56-a223-844cf111a8b2","child_tasks_local_reference_list":[],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"a006162d_dag"}],"description":"","uuid":"a32389b2-74a8-4a75-b897-c7158c11032e","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"a006162d_dag","uuid":"14847019-9c20-4e56-a223-844cf111a8b2"},"name":"a9d9f266_runbook"},"type":"system","uuid":"e1b8401e-ae3a-4b04-87c3-f2000995ca03"}],"description":"","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90","port_list":[],"tier":"","variable_list":[],"depends_on_list":[]},{"singleton":false,"name":"Postgres_Slave","action_list":[{"description":"System action for creating an application","name":"action_create","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","uuid":"97d13e58-4d30-42ba-82be-21616f898f40","name":"Postgres_Slave"},"retries":"0","description":"","uuid":"aa22461a-2af8-4435-8dfc-01c54ba00324","child_tasks_local_reference_list":[{"kind":"app_task","name":"Configure Slaves","uuid":"dee72ad4-2a83-42dc-8a39-0456e062ec57"}],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"da441277_dag"},{"target_any_local_reference":{"kind":"app_service","uuid":"97d13e58-4d30-42ba-82be-21616f898f40","name":"Postgres_Slave"},"retries":"0","description":"","uuid":"dee72ad4-2a83-42dc-8a39-0456e062ec57","child_tasks_local_reference_list":[],"attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\nIS_SCALEOUT=\"@@{IS_SCALEOUT}@@\" \n\nif [ ${IS_SCALEOUT:-\"NO\"} = \"YES\" ]\nthen\n\texit 0;\nfi\n\nif [ \"@@{PROFILE}@@\" = \"AHV\" ]\nthen\n    Master_IP=@@{AHVMaster.address}@@\nelif [ \"@@{PROFILE}@@\" = \"AWS\" ]\nthen\n    Master_IP=@@{AWSMaster.address}@@\nelif [ \"@@{PROFILE}@@\" = \"GCP\" ]\nthen\n    Master_IP=@@{GCPMaster.address}@@    \nelif [ \"@@{PROFILE}@@\" = \"AZURE\" ]\nthen\n    Master_IP=@@{AzureMaster.address}@@    \nelif [ \"@@{PROFILE}@@\" = \"VMWARE\" ]\nthen\n    Master_IP=@@{VMwareMaster.address}@@    \nfi\n\nsudo su - postgres <<EOF\n  mv 9.6\/data 9.6\/data.org\n  echo \"${Master_IP}:5432:*:rep:@@{DB_PASSWORD}@@\" > ~\/.pgpass\n  chmod 0600 ~\/.pgpass\n  pg_basebackup -h ${Master_IP} -D \/var\/lib\/pgsql\/9.6\/data -U rep -v -P\nEOF\n\n\nif [ \"@@{PROFILE}@@\" != \"AZURE\" ]\nthen\n##copy the created postgres directory to a temp directory\nsudo mkdir \/tmp\/pgsql\nsudo mv \/var\/lib\/pgsql\/9.6\/data \/tmp\/pgsql\n\n#Create directory , fix permissions and Mount LVM\nsudo mkdir \/var\/lib\/pgsql\/9.6\/data\/\nsudo mount -o noatime,barrier=0 \/dev\/pgDataVG\/pgDataLV \/var\/lib\/pgsql\/9.6\/data\/ \n\nsudo mkdir \/var\/lib\/pgsql\/9.6\/data\/pg_xlog\nsudo mount -o noatime,barrier=0 \/dev\/pgLogVG\/pgLogLV \/var\/lib\/pgsql\/9.6\/data\/pg_xlog\n\nsudo chown -R postgres:postgres \/var\/lib\/pgsql\/9.6\/data\/\n\n#move the xlog to the new LVM\nsudo find \/tmp\/pgsql\/data\/pg_xlog -maxdepth 1 -mindepth 1 -exec mv -t \/var\/lib\/pgsql\/9.6\/data\/pg_xlog\/ {} +\n\n#remove pg_xlog from temp dir to avoid being copied again\nsudo rm -rf \/tmp\/pgsql\/data\/pg_xlog\n\n#move the pgsql directory to the LVM\nsudo find \/tmp\/pgsql\/data -maxdepth 1 -mindepth 1 -exec mv -t \/var\/lib\/pgsql\/9.6\/data\/ {} +\n\nsudo chmod -R 0700 \/var\/lib\/pgsql\/9.6\/data\nfi\n\n#enable service on boot\nsudo systemctl enable postgresql-9.6.service\n\n\nif [ \"@@{PROFILE}@@\" != \"AZURE\" ]\nthen\n#add mount points to \/etc\/fstab\necho \"\/dev\/mapper\/pgDataVG-pgDataLV \/var\/lib\/pgsql\/9.6\/data ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\necho \"\/dev\/mapper\/pgLogVG-pgLogLV \/var\/lib\/pgsql\/9.6\/data\/pg_xlog ext4 rw,seclabel,noatime,nobarrier,stripe=2048,data=ordered 0 0\" | sudo tee -a  \/etc\/fstab\nfi\n\nsleep 2\nsudo sed -i -e 's\/ExecStart=.*\/ExecStart=\\\/usr\\\/pgsql-9\\.6\\\/bin\\\/pg_ctl start -D ${PGDATA} -s -W -t 300\/g' \/usr\/lib\/systemd\/system\/postgresql-9.6.service\n\necho \"host    replication     rep     ${Master_IP}\/32     md5\" | sudo tee -a \/var\/lib\/pgsql\/9.6\/data\/pg_hba.conf\necho \"listen_addresses = '*'\nwal_level = 'hot_standby'\narchive_mode = on\narchive_command = 'cd .'\nmax_wal_senders = 3\nhot_standby = on\nwal_keep_segments = 8\" | sudo tee -a \/var\/lib\/pgsql\/9.6\/data\/postgresql.conf\n\nsudo su - postgres sh -c \"touch 9.6\/data\/recovery.conf\"\n\necho \"standby_mode = 'on'\nprimary_conninfo = 'host=${Master_IP} port=5432 user=rep password=@@{DB_PASSWORD}@@'\ntrigger_file = '\/tmp\/postgresql.trigger.5432'\" | sudo tee -a \/var\/lib\/pgsql\/9.6\/data\/recovery.conf\n\nsudo systemctl start postgresql-9.6","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","type":"EXEC","variable_list":[],"name":"Configure Slaves"}],"description":"","uuid":"3c61d32f-d429-4292-b02b-abf0f370307a","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"da441277_dag","uuid":"aa22461a-2af8-4435-8dfc-01c54ba00324"},"name":"8f15e59d_runbook"},"type":"system","uuid":"600ae6a6-c30c-4d44-90ac-bc991ea9a068"},{"description":"System action for deleting an application. Deletes created VMs as well","name":"action_delete","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","uuid":"97d13e58-4d30-42ba-82be-21616f898f40","name":"Postgres_Slave"},"retries":"0","description":"","uuid":"ef35f180-163e-45e9-b14e-02febfcaa09e","child_tasks_local_reference_list":[],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"82703a38_dag"}],"description":"","uuid":"005a7fbe-7426-4c75-aa02-8ca0b1db5dbb","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"82703a38_dag","uuid":"ef35f180-163e-45e9-b14e-02febfcaa09e"},"name":"08946714_runbook"},"type":"system","uuid":"24fd759c-2a63-489b-a868-6f6108dfdf65"},{"description":"System action for starting an application","name":"action_start","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","uuid":"97d13e58-4d30-42ba-82be-21616f898f40","name":"Postgres_Slave"},"retries":"0","description":"","uuid":"4f2a51d4-3073-4339-ab4c-911ade10f588","child_tasks_local_reference_list":[],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"0f750f3d_dag"}],"description":"","uuid":"57a4c7a2-843d-4130-9f5d-51c6ed3ce4d5","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"0f750f3d_dag","uuid":"4f2a51d4-3073-4339-ab4c-911ade10f588"},"name":"b34d9d39_runbook"},"type":"system","uuid":"bd39be12-5e17-434e-a9a3-5375f6cddd09"},{"description":"System action for stopping an application","name":"action_stop","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","uuid":"97d13e58-4d30-42ba-82be-21616f898f40","name":"Postgres_Slave"},"retries":"0","description":"","uuid":"372a8258-a8c4-4df7-97a8-78052a551b29","child_tasks_local_reference_list":[],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"cdaad55e_dag"}],"description":"","uuid":"8e29699f-df44-4802-8ae9-689322c6575c","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"cdaad55e_dag","uuid":"372a8258-a8c4-4df7-97a8-78052a551b29"},"name":"0e2bd4c9_runbook"},"type":"system","uuid":"14a1c387-c1e5-42e3-a488-3ae336124a2a"},{"description":"System action for restarting an application","name":"action_restart","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","uuid":"97d13e58-4d30-42ba-82be-21616f898f40","name":"Postgres_Slave"},"retries":"0","description":"","uuid":"43dcc6db-c0fe-4152-a924-29508968b027","child_tasks_local_reference_list":[],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"0943c25a_dag"}],"description":"","uuid":"bea78664-aea0-4d1f-b708-8ef876af38d5","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"0943c25a_dag","uuid":"43dcc6db-c0fe-4152-a924-29508968b027"},"name":"c1c4eebd_runbook"},"type":"system","uuid":"e44dd079-dd43-4554-8f97-3b6356ab54b2"}],"description":"","uuid":"97d13e58-4d30-42ba-82be-21616f898f40","port_list":[],"tier":"","variable_list":[],"depends_on_list":[{"kind":"app_service","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90","name":"Postgres_Master"}]}],"substrate_definition_list":[{"name":"AHVMaster","action_list":[],"uuid":"9f30bd45-c609-4641-971b-3c348c327239","readiness_probe":{"connection_type":"SSH","retries":"5","disable_readiness_probe":false,"timeout_secs":"300","address":"@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@","delay_secs":"0","connection_port":22,"login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"editables":{"readiness_probe":{"connection_type":true,"retries":true,"delay_secs":true,"connection_port":true,"timeout_secs":true},"create_spec":{"resources":{"nic_list":{},"serial_port_list":{},"num_vcpus_per_socket":true,"num_sockets":true,"memory_size_mib":true,"guest_customization":true,"disk_list":{"0":{"device_properties":{"disk_address":{}}}}},"name":true,"categories":true}},"os_type":"Linux","type":"AHV_VM","create_spec":{"name":"PostgresMasterVM","resources":{"nic_list":[{"subnet_reference":{"uuid":"efc034e3-b50e-4a48-b02d-25036aeb8bd3"}}],"serial_port_list":[],"guest_tools":null,"num_vcpus_per_socket":2,"num_sockets":2,"gpu_list":[],"memory_size_mib":4096,"parent_reference":null,"hardware_clock_timezone":"","guest_customization":{"cloud_init":{"meta_data":"","type":"","user_data":"#cloud-config\nusers:\n  - name: centos\n    ssh-authorized-keys:\n      - @@{CENTOS.public_key}@@\n    sudo: ['ALL=(ALL) NOPASSWD:ALL']"},"type":"","sysprep":null},"power_state":"ON","type":"","account_uuid":"efc034e3-b50e-4a48-b02d-25036aeb8bd3","boot_config":{"boot_device":{"type":"","disk_address":{"type":"","device_index":0,"adapter_type":"SCSI"}},"type":"","mac_address":""},"disk_list":[{"data_source_reference":{"kind":"app_package","type":"","name":"CENTOS_IMAGE","uuid":"d2ffe3cf-564e-49d2-a884-798626bcb5bf"},"type":"","disk_size_mib":0,"volume_group_reference":null,"device_properties":{"type":"","disk_address":{"type":"","device_index":0,"adapter_type":"SCSI"},"device_type":"DISK"}},{"data_source_reference":null,"type":"","disk_size_mib":61440,"volume_group_reference":null,"device_properties":{"type":"","disk_address":{"type":"","device_index":1,"adapter_type":"SCSI"},"device_type":"DISK"}},{"data_source_reference":null,"type":"","disk_size_mib":61440,"volume_group_reference":null,"device_properties":{"type":"","disk_address":{"type":"","device_index":2,"adapter_type":"SCSI"},"device_type":"DISK"}},{"data_source_reference":null,"type":"","disk_size_mib":61440,"volume_group_reference":null,"device_properties":{"type":"","disk_address":{"type":"","device_index":3,"adapter_type":"SCSI"},"device_type":"DISK"}},{"data_source_reference":null,"type":"","disk_size_mib":61440,"volume_group_reference":null,"device_properties":{"type":"","disk_address":{"type":"","device_index":4,"adapter_type":"SCSI"},"device_type":"DISK"}},{"data_source_reference":null,"type":"","disk_size_mib":20480,"volume_group_reference":null,"device_properties":{"type":"","disk_address":{"type":"","device_index":5,"adapter_type":"SCSI"},"device_type":"DISK"}},{"data_source_reference":null,"type":"","disk_size_mib":20480,"volume_group_reference":null,"device_properties":{"type":"","disk_address":{"type":"","device_index":6,"adapter_type":"SCSI"},"device_type":"DISK"}}]},"availability_zone_reference":null,"backup_policy":null,"type":"","cluster_reference":null,"categories":{"AppFamily":"Databases"}},"variable_list":[],"description":""},{"name":"AWSMaster","action_list":[],"uuid":"13b7dc33-639a-4b63-b6c2-bcbc40ad50d0","readiness_probe":{"connection_type":"SSH","retries":"5","disable_readiness_probe":false,"timeout_secs":"300","address":"@@{public_ip_address}@@","delay_secs":"0","connection_port":22,"login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"editables":{"readiness_probe":{"connection_type":true,"delay_secs":true,"connection_port":true,"timeout_secs":true},"create_spec":{"name":true,"resources":{"instance_profile_name":true,"availability_zone":true,"subnet_id":true,"key_name":true,"region":true,"image_id":true,"instance_type":true,"security_group_list":true,"block_device_map":{"data_disk_list":{"1":{"size_gb":true},"0":{"size_gb":true},"3":{"size_gb":true},"2":{"size_gb":true},"5":{"size_gb":true},"4":{"size_gb":true}},"root_disk":{"size_gb":true}},"associate_public_ip_address":true,"vpc_id":true,"tag_list":true}}},"os_type":"Linux","type":"AWS_VM","create_spec":{"name":"PostgresMasterVM","availability_zone_reference":null,"backup_policy":null,"type":"PROVISION_AWS_VM","cluster_reference":null,"resources":{"instance_profile_name":"ecsInstanceRole","availability_zone":"us-east-1a","subnet_id":"subnet-9d1085b1","key_name":"calm-blueprints","region":"us-east-1","instance_initiated_shutdown_behavior":"","user_data":"","image_id":"ami-1a003360","instance_type":"t2.medium","state":"RUNNING","security_group_list":[{"security_group_id":"sg-184ead62"}],"block_device_map":{"data_disk_list":[{"size_gb":60,"volume_type":"STANDARD","device_name":"\/dev\/sdb","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":60,"volume_type":"STANDARD","device_name":"\/dev\/sdc","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":60,"volume_type":"STANDARD","device_name":"\/dev\/sdd","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":60,"volume_type":"STANDARD","device_name":"\/dev\/sde","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":20,"volume_type":"STANDARD","device_name":"\/dev\/sdf","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":20,"volume_type":"STANDARD","device_name":"\/dev\/sdg","iops":1,"snapshot_id":"","type":"","delete_on_termination":true}],"type":"","root_disk":{"size_gb":10,"volume_type":"GP2","device_name":"\/dev\/sda1","iops":1,"snapshot_id":"","type":"","delete_on_termination":true}},"private_ip_address":"","vpc_id":"vpc-ffd54d98","tag_list":[],"type":"","account_uuid":"8c2e0a6b-620a-c62a-c3f4-e58b101dfd0d","associate_public_ip_address":true}},"variable_list":[],"description":""},{"name":"GCPMaster","action_list":[],"uuid":"4a8310a8-12fc-4200-b014-019f49e4a9fd","readiness_probe":{"connection_type":"SSH","retries":"5","disable_readiness_probe":false,"timeout_secs":"300","address":"@@{public_ip_address}@@","delay_secs":"0","connection_port":22,"login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"editables":{"readiness_probe":{"connection_type":true,"delay_secs":true,"connection_port":true,"timeout_secs":true},"create_spec":{"resources":{"labels":true,"machineType":true,"name":true,"zone":true,"tags":{"items":true},"guestCustomization":{},"disks":{"0":{"initializeParams":{"diskSizeGb":true,"sourceImage":true,"diskType":true},"autoDelete":true}},"blankDisks":{"1":{"disk_type":true,"name":true,"sizeGb":true,"autoDelete":true},"0":{"disk_type":true,"name":true,"sizeGb":true,"autoDelete":true},"3":{"disk_type":true,"name":true,"sizeGb":true,"autoDelete":true},"2":{"disk_type":true,"name":true,"sizeGb":true,"autoDelete":true},"5":{"disk_type":true,"name":true,"sizeGb":true,"autoDelete":true},"4":{"disk_type":true,"name":true,"sizeGb":true,"autoDelete":true}},"networkInterfaces":{"0":{"accessConfigs":{"0":{"config_type":true,"name":true}},"network":true,"subnetwork":true,"associatePublicIP":true}},"sshKeys":{"0":true},"serviceAccounts":{"0":{"scopes":true}},"metadata":{"items":true}}}},"os_type":"Linux","type":"GCP_VM","create_spec":{"type":"PROVISION_GCP_VM","resources":{"labels":[],"machineType":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/machineTypes\/g1-small","description":"","zone":"us-central1-c","tags":{"items":["allow-postgresql"],"type":"","fingerprint":""},"guestCustomization":{"type":"","startupScript":""},"labelFingerprint":"","disks":[{"initializeParams":{"sourceImage":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/global\/images\/centos-7","diskType":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd"},"disk_type":"PERSISTENT","boot":true,"autoDelete":true}],"name":"pg-master-@@{calm_array_index}@@-@@{calm_time}@@","sshKeys":["centos:ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDMGAS\/K0Mb\/uwFXwD+hkjguy7VMZk2hpuhwPl9FUZwVBrURf\/i9QMJ5\/paPEZixu8VlRx7Inu4iun7rQfrnfeIYInmBwspXHYiTK3oHJAgZnrAHVEf1p6YaxLINlT1NI5yOAGPRWW6of8rBDBH1ObwU2+wcSx\/1H0uIs3aZNLufr+Rh628ACxAum2Gt8AVRj6ua2BPFyt5VTdclyysAmeh1AiixNgOZXOz6y\/i4TbzpY78I3isuKpxsUeXX6jxEMQol406jHDUF6njEOPIQG2zVZ3QJlTG9OlN+NiyZG9WkZz0VG\/6M8ixxIHHI2dNwUbBFv2HUu+8X9LTLFq2O7KjX9Hp7uZKBAySHA3eKaKHIp2bZuU1bT5PRPkggngX86xg+T+OMNnutbAiMnRJ8+FvD5So+5TIx4b9GgxAxure3x2yRPT9lOiQOB+CVpJPxR0Rn9bOI+wiPnD0kAGvK\/fHT+pqL4PM+hTnJtp9rrCRzIQApBx1263jEcYffhW2epZQRO+he5CMawFJ5TBe08om2AaDJ8GQdrpF6YA3W8DzHbmL3DPVVHdmqPLn10o+LX4gv5SdIIDVGdjKOc1BCnLTRmM28d5+sLDt\/M+kvcQgf0y0yDjMVjGECZkt39hbm4ELMHzZtzYLmHNhBZxRqHeJ7qFTuv1kx88OW3Xc5mbBNQ== centos@nutanix.com\n"],"scheduling":{"automaticRestart":true,"type":"","preemptible":false,"onHostMaintenance":"TERMINATE"},"canIpForward":false,"blankDisks":[{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"pg-master-dev-0-@@{calm_time}@@","sizeGb":60,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"pg-master-dev-1-@@{calm_time}@@","sizeGb":60,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"pg-master-dev-2-@@{calm_time}@@","sizeGb":60,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"pg-master-dev-3-@@{calm_time}@@","sizeGb":60,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"pg-master-dev-4-@@{calm_time}@@","sizeGb":20,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"pg-master-dev-5-@@{calm_time}@@","sizeGb":20,"autoDelete":true}],"metadata":{"items":[],"type":"","fingerprint":""},"type":"","account_uuid":"84213a31-4fe8-7e39-3799-e093e5d0dc2e","serviceAccounts":[{"scopes":[],"type":"","email":"108048128720-compute@developer.gserviceaccount.com"}],"networkInterfaces":[{"accessConfigs":[{"config_type":"ONE_TO_ONE_NAT","name":"master-default-acn"}],"network":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/global\/networks\/default","subnetwork":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/regions\/us-central1\/subnetworks\/default"}]}},"variable_list":[],"description":""},{"name":"AHVSlave","action_list":[],"uuid":"8bc04056-82cc-49eb-8114-89e98e1d57de","readiness_probe":{"connection_type":"SSH","retries":"5","disable_readiness_probe":false,"timeout_secs":"300","address":"@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@","delay_secs":"0","connection_port":22,"login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"editables":{"readiness_probe":{"connection_type":true,"retries":true,"delay_secs":true,"connection_port":true,"timeout_secs":true},"create_spec":{"resources":{"nic_list":{"0":{"subnet_reference":true}},"serial_port_list":{},"num_vcpus_per_socket":true,"num_sockets":true,"memory_size_mib":true,"guest_customization":true,"disk_list":{"0":{"device_properties":{"disk_address":{}}}}},"name":true,"categories":true}},"os_type":"Linux","type":"AHV_VM","create_spec":{"name":"PostgresSlaveVM","resources":{"nic_list":[{"subnet_reference":{"uuid":"efc034e3-b50e-4a48-b02d-25036aeb8bd3"}}],"serial_port_list":[],"guest_tools":null,"num_vcpus_per_socket":2,"num_sockets":2,"gpu_list":[],"memory_size_mib":4096,"parent_reference":null,"hardware_clock_timezone":"","guest_customization":{"cloud_init":{"meta_data":"","type":"","user_data":"#cloud-config\nusers:\n  - name: centos\n    ssh-authorized-keys:\n      - @@{CENTOS.public_key}@@\n    sudo: ['ALL=(ALL) NOPASSWD:ALL']"},"type":"","sysprep":null},"power_state":"ON","type":"","account_uuid":"efc034e3-b50e-4a48-b02d-25036aeb8bd3","boot_config":{"boot_device":{"type":"","disk_address":{"type":"","device_index":0,"adapter_type":"SCSI"}},"type":"","mac_address":""},"disk_list":[{"data_source_reference":{"kind":"app_package","type":"","name":"CENTOS_IMAGE","uuid":"d2ffe3cf-564e-49d2-a884-798626bcb5bf"},"type":"","disk_size_mib":0,"volume_group_reference":null,"device_properties":{"type":"","disk_address":{"type":"","device_index":0,"adapter_type":"SCSI"},"device_type":"DISK"}},{"data_source_reference":null,"type":"","disk_size_mib":61440,"volume_group_reference":null,"device_properties":{"type":"","disk_address":{"type":"","device_index":1,"adapter_type":"SCSI"},"device_type":"DISK"}},{"data_source_reference":null,"type":"","disk_size_mib":61440,"volume_group_reference":null,"device_properties":{"type":"","disk_address":{"type":"","device_index":2,"adapter_type":"SCSI"},"device_type":"DISK"}},{"data_source_reference":null,"type":"","disk_size_mib":61440,"volume_group_reference":null,"device_properties":{"type":"","disk_address":{"type":"","device_index":3,"adapter_type":"SCSI"},"device_type":"DISK"}},{"data_source_reference":null,"type":"","disk_size_mib":61440,"volume_group_reference":null,"device_properties":{"type":"","disk_address":{"type":"","device_index":4,"adapter_type":"SCSI"},"device_type":"DISK"}},{"data_source_reference":null,"type":"","disk_size_mib":20480,"volume_group_reference":null,"device_properties":{"type":"","disk_address":{"type":"","device_index":5,"adapter_type":"SCSI"},"device_type":"DISK"}},{"data_source_reference":null,"type":"","disk_size_mib":20480,"volume_group_reference":null,"device_properties":{"type":"","disk_address":{"type":"","device_index":6,"adapter_type":"SCSI"},"device_type":"DISK"}}]},"availability_zone_reference":null,"backup_policy":null,"type":"","cluster_reference":null,"categories":{"AppFamily":"Databases"}},"variable_list":[],"description":""},{"name":"AWSSlave","action_list":[],"uuid":"13318462-4a00-45bb-91d5-d7e17d64cee0","readiness_probe":{"connection_type":"SSH","retries":"5","disable_readiness_probe":false,"timeout_secs":"300","address":"@@{public_ip_address}@@","delay_secs":"60","connection_port":22,"login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"editables":{"readiness_probe":{"connection_type":true,"delay_secs":true,"connection_port":true,"timeout_secs":true},"create_spec":{"name":true,"resources":{"instance_profile_name":true,"availability_zone":true,"subnet_id":true,"key_name":true,"region":true,"image_id":true,"instance_type":true,"security_group_list":true,"block_device_map":{"data_disk_list":{"1":{"size_gb":true},"0":{"size_gb":true},"3":{"size_gb":true},"2":{"size_gb":true},"5":{"size_gb":true},"4":{"size_gb":true}},"root_disk":{"size_gb":true}},"associate_public_ip_address":true,"vpc_id":true,"tag_list":true}}},"os_type":"Linux","type":"AWS_VM","create_spec":{"name":"PostgresSlaveVM","availability_zone_reference":null,"backup_policy":null,"type":"PROVISION_AWS_VM","cluster_reference":null,"resources":{"instance_profile_name":"ecsInstanceRole","availability_zone":"us-east-1a","subnet_id":"subnet-9d1085b1","key_name":"calm-blueprints","region":"us-east-1","instance_initiated_shutdown_behavior":"","user_data":"","image_id":"ami-1a003360","instance_type":"t2.medium","state":"RUNNING","security_group_list":[{"security_group_id":"sg-184ead62"}],"block_device_map":{"data_disk_list":[{"size_gb":60,"volume_type":"STANDARD","device_name":"\/dev\/sdb","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":60,"volume_type":"STANDARD","device_name":"\/dev\/sdc","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":60,"volume_type":"STANDARD","device_name":"\/dev\/sdd","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":60,"volume_type":"STANDARD","device_name":"\/dev\/sde","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":25,"volume_type":"STANDARD","device_name":"\/dev\/sdf","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":25,"volume_type":"STANDARD","device_name":"\/dev\/sdg","iops":1,"snapshot_id":"","type":"","delete_on_termination":true}],"type":"","root_disk":{"size_gb":10,"volume_type":"GP2","device_name":"\/dev\/sda1","iops":1,"snapshot_id":"","type":"","delete_on_termination":true}},"private_ip_address":"","vpc_id":"vpc-ffd54d98","tag_list":[],"type":"","account_uuid":"8c2e0a6b-620a-c62a-c3f4-e58b101dfd0d","associate_public_ip_address":true}},"variable_list":[],"description":""},{"name":"GCPSlave","action_list":[],"uuid":"cf42442b-3e6d-4b40-9a7f-e170b57f338e","readiness_probe":{"connection_type":"SSH","retries":"5","disable_readiness_probe":false,"timeout_secs":"300","address":"@@{public_ip_address}@@","delay_secs":"0","connection_port":22,"login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"editables":{"readiness_probe":{"connection_type":true,"delay_secs":true,"connection_port":true,"timeout_secs":true},"create_spec":{"resources":{"labels":true,"machineType":true,"name":true,"zone":true,"tags":{"items":true},"disks":{"0":{"initializeParams":{"diskSizeGb":true,"sourceImage":true,"diskType":true},"autoDelete":true}},"blankDisks":{"1":{"disk_type":true,"name":true,"sizeGb":true,"autoDelete":true},"0":{"disk_type":true,"name":true,"sizeGb":true,"autoDelete":true},"3":{"disk_type":true,"name":true,"sizeGb":true,"autoDelete":true},"2":{"disk_type":true,"name":true,"sizeGb":true,"autoDelete":true},"5":{"disk_type":true,"name":true,"sizeGb":true,"autoDelete":true},"4":{"disk_type":true,"name":true,"sizeGb":true,"autoDelete":true}},"networkInterfaces":{"0":{"accessConfigs":{"0":{"config_type":true,"name":true}},"network":true,"subnetwork":true,"associatePublicIP":true}},"sshKeys":{"0":true},"serviceAccounts":{"0":{"scopes":true,"email":true}},"metadata":{"items":true}}}},"os_type":"Linux","type":"GCP_VM","create_spec":{"type":"PROVISION_GCP_VM","resources":{"labels":[],"machineType":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/machineTypes\/g1-small","description":"","zone":"us-central1-c","tags":{"items":["allow-postgresql"],"type":"","fingerprint":""},"guestCustomization":{"type":"","startupScript":""},"labelFingerprint":"","disks":[{"initializeParams":{"sourceImage":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/global\/images\/centos-7","diskType":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd"},"disk_type":"PERSISTENT","boot":true,"autoDelete":true}],"name":"pg-slave-@@{calm_array_index}@@-@@{calm_time}@@","sshKeys":["centos:ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDMGAS\/K0Mb\/uwFXwD+hkjguy7VMZk2hpuhwPl9FUZwVBrURf\/i9QMJ5\/paPEZixu8VlRx7Inu4iun7rQfrnfeIYInmBwspXHYiTK3oHJAgZnrAHVEf1p6YaxLINlT1NI5yOAGPRWW6of8rBDBH1ObwU2+wcSx\/1H0uIs3aZNLufr+Rh628ACxAum2Gt8AVRj6ua2BPFyt5VTdclyysAmeh1AiixNgOZXOz6y\/i4TbzpY78I3isuKpxsUeXX6jxEMQol406jHDUF6njEOPIQG2zVZ3QJlTG9OlN+NiyZG9WkZz0VG\/6M8ixxIHHI2dNwUbBFv2HUu+8X9LTLFq2O7KjX9Hp7uZKBAySHA3eKaKHIp2bZuU1bT5PRPkggngX86xg+T+OMNnutbAiMnRJ8+FvD5So+5TIx4b9GgxAxure3x2yRPT9lOiQOB+CVpJPxR0Rn9bOI+wiPnD0kAGvK\/fHT+pqL4PM+hTnJtp9rrCRzIQApBx1263jEcYffhW2epZQRO+he5CMawFJ5TBe08om2AaDJ8GQdrpF6YA3W8DzHbmL3DPVVHdmqPLn10o+LX4gv5SdIIDVGdjKOc1BCnLTRmM28d5+sLDt\/M+kvcQgf0y0yDjMVjGECZkt39hbm4ELMHzZtzYLmHNhBZxRqHeJ7qFTuv1kx88OW3Xc5mbBNQ== centos@nutanix.com\n"],"scheduling":{"automaticRestart":true,"type":"","preemptible":false,"onHostMaintenance":"TERMINATE"},"canIpForward":false,"blankDisks":[{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"pg-slave-dev-0-@@{calm_array_index}@@-@@{calm_time}@@","sizeGb":60,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"pg-slave-dev-1-@@{calm_array_index}@@-@@{calm_time}@@","sizeGb":60,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"pg-slave-dev-2-@@{calm_array_index}@@-@@{calm_time}@@","sizeGb":60,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"pg-slave-dev-3-@@{calm_array_index}@@-@@{calm_time}@@","sizeGb":60,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"pg-slave-dev-4-@@{calm_array_index}@@-@@{calm_time}@@","sizeGb":20,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"pg-slave-dev-5-@@{calm_array_index}@@-@@{calm_time}@@","sizeGb":20,"autoDelete":true}],"metadata":{"items":[],"type":"","fingerprint":""},"type":"","account_uuid":"84213a31-4fe8-7e39-3799-e093e5d0dc2e","serviceAccounts":[{"scopes":[],"type":"","email":"108048128720-compute@developer.gserviceaccount.com"}],"networkInterfaces":[{"accessConfigs":[{"config_type":"ONE_TO_ONE_NAT","name":"slave-default-acn"}],"network":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/global\/networks\/default","subnetwork":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/regions\/us-central1\/subnetworks\/default"}]}},"variable_list":[],"description":""},{"name":"AzureMaster","action_list":[],"uuid":"c42de1fe-2393-4776-a4a7-92d3b3521dd3","readiness_probe":{"connection_type":"SSH","retries":"5","disable_readiness_probe":false,"timeout_secs":"300","address":"@@{platform.publicIPAddressList[0]}@@","delay_secs":"60","connection_port":22,"login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"editables":{"readiness_probe":{"connection_type":true,"delay_secs":true,"connection_port":true,"timeout_secs":null},"create_spec":{"resources":{"vm_name":true,"storage_profile":{"is_managed":true,"image_details":{"sku":true,"publisher":true,"offer":true,"source_image_id":true,"use_custom_image":true,"version":true},"os_disk_details":{"storage_type":true,"create_option":true,"caching_type":true,"name":true}},"nw_profile":{"nic_list":{"0":{"nsg_name":true,"vnet_name":true,"private_ip_info":{"ip_allocation_method":true},"nic_name":true,"subnet_name":true,"public_ip_info":{"ip_name":true,"dns_label":true,"ip_allocation_method":true}}}},"resource_group":true,"os_profile":{"linux_config":{"custom_data":true}},"hw_profile":{"vm_size":true},"location":true,"availability_set_id":true,"tag_list":true}}},"os_type":"Linux","type":"AZURE_VM","create_spec":{"type":"PROVISION_AZURE_VM","name":"","resources":{"vm_name":"pg-@@{calm_unique_hash}@@-@@{calm_array_index}@@","storage_profile":{"is_managed":true,"image_details":{"sku":"7.4","publisher":"OpenLogic","offer":"CentOS-HPC","source_image_id":"","use_custom_image":false,"version":"7.4.20180719","type":""},"type":"","os_disk_details":{"size_in_gb":127,"name":"os-@@{calm_unique_hash}@@-@@{calm_array_index}@@-disk","storage_name":"","storage_type":"Standard_LRS","caching_type":"ReadWrite","type":"","create_option":"FromImage","lun":-1},"data_disk_list":[]},"nw_profile":{"nic_list":[{"nsg_name":"nutanix-test-sg","vnet_name":"NUTANIX-vnet","private_ip_info":{"ip_allocation_method":"Dynamic","ip_address":"","type":""},"nic_name":"nic-@@{calm_unique_hash}@@-@@{calm_array_index}@@-0","subnet_name":"default","type":"","public_ip_info":{"ip_allocation_method":"Dynamic","dns_label":"dns-@@{calm_unique_hash}@@-@@{calm_array_index}@@-0","ip_name":"public-ip-@@{calm_unique_hash}@@-@@{calm_array_index}@@-0","type":""}}],"primary_nic":-1,"type":""},"resource_group":"NUTANIX","os_profile":{"secrets":[],"type":"","windows_config":{"winrm_listeners":[],"time_zone":"","additional_unattend_content":[],"provision_vm_agent":true,"auto_updates":false,"type":""},"linux_config":null},"hw_profile":{"max_data_disk_count":8,"vm_size":"Standard_DS2_v2","type":""},"location":"eastus","availability_set_id":"\/subscriptions\/6b1ac087-d237-4e42-89bf-e136161f2654\/resourceGroups\/NUTANIX\/providers\/Microsoft.Compute\/availabilitySets\/TestAvailabilitySet1","tag_list":[],"type":"","account_uuid":"3c0f2d94-878c-f34c-6d39-90b854129782"}},"variable_list":[],"description":""},{"name":"AzureSlave","action_list":[],"uuid":"de59436e-b01f-4524-85a3-57807c3ac1a9","readiness_probe":{"connection_type":"SSH","retries":"5","disable_readiness_probe":false,"timeout_secs":"300","address":"@@{platform.publicIPAddressList[0]}@@","delay_secs":"60","connection_port":22,"login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"editables":{"readiness_probe":{"connection_type":true,"delay_secs":true,"connection_port":true,"timeout_secs":null},"create_spec":{"resources":{"vm_name":true,"storage_profile":{"is_managed":true,"image_details":{"sku":true,"publisher":true,"offer":true,"source_image_id":true,"use_custom_image":true,"version":true},"os_disk_details":{"storage_type":true,"create_option":true,"caching_type":true,"name":true}},"nw_profile":{"nic_list":{"0":{"nsg_name":true,"vnet_name":true,"private_ip_info":{"ip_allocation_method":true},"nic_name":true,"subnet_name":true,"public_ip_info":{"ip_name":true,"dns_label":true,"ip_allocation_method":true}}}},"resource_group":true,"os_profile":{"linux_config":{"custom_data":true}},"hw_profile":{"vm_size":true},"location":true,"availability_set_id":true,"tag_list":true}}},"os_type":"Linux","type":"AZURE_VM","create_spec":{"type":"PROVISION_AZURE_VM","name":"","resources":{"vm_name":"pgslave-@@{calm_unique_hash}@@-@@{calm_array_index}@@","storage_profile":{"is_managed":true,"image_details":{"sku":"7.4","publisher":"OpenLogic","offer":"CentOS-HPC","source_image_id":"","use_custom_image":false,"version":"7.4.20180719","type":""},"type":"","os_disk_details":{"size_in_gb":127,"name":"os-@@{calm_unique_hash}@@-@@{calm_array_index}@@-disk","storage_name":"","storage_type":"Standard_LRS","caching_type":"ReadWrite","type":"","create_option":"FromImage","lun":-1},"data_disk_list":[]},"nw_profile":{"nic_list":[{"nsg_name":"nutanix-test-sg","vnet_name":"NUTANIX-vnet","private_ip_info":{"ip_allocation_method":"Dynamic","ip_address":"","type":""},"nic_name":"nic-@@{calm_unique_hash}@@-@@{calm_array_index}@@-0","subnet_name":"default","type":"","public_ip_info":{"ip_allocation_method":"Dynamic","dns_label":"dns-@@{calm_unique_hash}@@-@@{calm_array_index}@@-0","ip_name":"public-ip-@@{calm_unique_hash}@@-@@{calm_array_index}@@-0","type":""}}],"primary_nic":-1,"type":""},"resource_group":"NUTANIX","os_profile":{"secrets":[],"type":"","windows_config":{"winrm_listeners":[],"time_zone":"","additional_unattend_content":[],"provision_vm_agent":true,"auto_updates":false,"type":""},"linux_config":null},"hw_profile":{"max_data_disk_count":8,"vm_size":"Standard_DS2_v2","type":""},"location":"eastus","availability_set_id":"\/subscriptions\/6b1ac087-d237-4e42-89bf-e136161f2654\/resourceGroups\/NUTANIX\/providers\/Microsoft.Compute\/availabilitySets\/TestAvailabilitySet1","tag_list":[],"type":"","account_uuid":"3c0f2d94-878c-f34c-6d39-90b854129782"}},"variable_list":[],"description":""},{"name":"VMwareMaster","action_list":[],"uuid":"63de3a22-80dd-bdbe-bc85-900e651aeddb","readiness_probe":{"connection_type":"SSH","retries":"5","disable_readiness_probe":false,"timeout_secs":"300","address":"@@{platform.ipAddressList[0]}@@","delay_secs":"60","connection_port":22,"login_credential_local_reference":{"kind":"app_credential","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"editables":{"readiness_probe":{"connection_type":true,"retries":true,"delay_secs":true,"connection_port":true},"create_spec":{"name":true,"resources":{"template_nic_list":{},"nic_list":{"0":{"nic_type":true,"net_name":true}},"template_controller_list":{},"num_vcpus_per_socket":true,"num_sockets":true,"controller_list":{},"memory_size_mib":true,"template_disk_list":{},"disk_list":{"1":{"disk_size_mb":true,"disk_mode":true,"adapter_type":true,"location":true,"controller_key":true,"disk_type":true},"0":{"disk_size_mb":true,"disk_mode":true,"adapter_type":true,"location":true,"controller_key":true,"disk_type":true},"3":{"disk_size_mb":true,"controller_key":true,"disk_type":true,"adapter_type":true,"location":true},"2":{"disk_size_mb":true,"disk_mode":true,"adapter_type":true,"location":true,"controller_key":true,"disk_type":true},"5":{"disk_size_mb":true,"disk_mode":true,"adapter_type":true,"location":true,"controller_key":true,"disk_type":true},"4":{"disk_size_mb":true,"disk_mode":true,"adapter_type":true,"location":true,"controller_key":true,"disk_type":true}}}}},"os_type":"Linux","type":"VMWARE_VM","create_spec":{"name":"master-@@{calm_array_index}@@-@@{calm_time}@@","type":"PROVISION_VMWARE_VM","cluster":"Sabine59-Cluster","template":"e5ba9433-4d2f-1e02-1657-b19820c42cb0","storage_pod":"DatastoreCluster","resources":{"nic_list":[{"nic_type":"vmxnet3","net_name":"key-vim.host.PortGroup-VM Network"}],"num_vcpus_per_socket":2,"num_sockets":2,"memory_size_mib":8192,"guest_customization":{"cloud_init":"#cloud-config\nusers:\n  - name: centos\n    ssh-authorized-keys:\n      - @@{CENTOS.public_key}@@\n    sudo: ['ALL=(ALL) NOPASSWD:ALL']","customization_type":"GUEST_OS_LINUX"},"account_uuid":"7f90399d-ed3d-1c70-447d-17004ef1bd0a","disk_list":[{"disk_size_mb":8192,"disk_type":"disk","adapter_type":"SCSI","location":"ds:\/\/\/vmfs\/volumes\/7b773e05-e06fc970\/","disk_mode":"persistent"},{"disk_size_mb":8192,"disk_type":"disk","adapter_type":"SCSI","location":"ds:\/\/\/vmfs\/volumes\/7b773e05-e06fc970\/","disk_mode":"persistent"},{"disk_size_mb":8192,"disk_type":"disk","adapter_type":"SCSI","location":"ds:\/\/\/vmfs\/volumes\/7b773e05-e06fc970\/","disk_mode":"persistent"},{"disk_size_mb":8192,"disk_type":"disk","adapter_type":"SCSI","location":"ds:\/\/\/vmfs\/volumes\/7b773e05-e06fc970\/","disk_mode":"persistent"},{"disk_size_mb":8192,"disk_type":"disk","adapter_type":"SCSI","location":"ds:\/\/\/vmfs\/volumes\/7b773e05-e06fc970\/","disk_mode":"persistent"},{"disk_size_mb":8192,"disk_type":"disk","adapter_type":"SCSI","location":"ds:\/\/\/vmfs\/volumes\/7b773e05-e06fc970\/","disk_mode":"persistent"}]}},"variable_list":[],"description":""},{"name":"VMwareSlave","action_list":[],"uuid":"58324931-231d-625a-e600-0b039c122559","readiness_probe":{"connection_type":"SSH","retries":"5","disable_readiness_probe":false,"timeout_secs":"300","address":"@@{platform.ipAddressList[0]}@@","delay_secs":"60","connection_port":22,"login_credential_local_reference":{"kind":"app_credential","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"editables":{"readiness_probe":{"connection_type":true,"retries":true,"connection_port":true},"create_spec":{"name":true,"resources":{"template_nic_list":{},"nic_list":{"0":{"nic_type":true,"net_name":true}},"template_controller_list":{},"num_vcpus_per_socket":true,"num_sockets":true,"controller_list":{},"memory_size_mib":true,"template_disk_list":{},"disk_list":{"1":{"disk_size_mb":true,"disk_mode":true,"adapter_type":true,"location":true,"controller_key":true,"disk_type":true},"0":{"disk_size_mb":true,"disk_mode":true,"adapter_type":true,"location":true,"controller_key":true,"disk_type":true},"3":{"disk_size_mb":true,"controller_key":true,"disk_type":true,"adapter_type":true,"location":true},"2":{"disk_size_mb":true,"disk_mode":true,"adapter_type":true,"location":true,"controller_key":true,"disk_type":true},"5":{"disk_size_mb":true,"disk_mode":true,"adapter_type":true,"location":true,"controller_key":true,"disk_type":true},"4":{"disk_size_mb":true,"disk_mode":true,"adapter_type":true,"location":true,"controller_key":true,"disk_type":true}}}}},"os_type":"Linux","type":"VMWARE_VM","create_spec":{"name":"slave-@@{calm_array_index}@@-@@{calm_time}@@","type":"PROVISION_VMWARE_VM","cluster":"Sabine59-Cluster","template":"e5ba9433-4d2f-1e02-1657-b19820c42cb0","storage_pod":"DatastoreCluster","resources":{"nic_list":[{"nic_type":"vmxnet3","net_name":"key-vim.host.PortGroup-VM Network"}],"num_vcpus_per_socket":2,"num_sockets":2,"memory_size_mib":8192,"guest_customization":{"cloud_init":"#cloud-config\nusers:\n  - name: centos\n    ssh-authorized-keys:\n      - @@{CENTOS.public_key}@@\n    sudo: ['ALL=(ALL) NOPASSWD:ALL']","customization_type":"GUEST_OS_LINUX"},"account_uuid":"7f90399d-ed3d-1c70-447d-17004ef1bd0a","disk_list":[{"disk_size_mb":8192,"disk_type":"disk","adapter_type":"SCSI","location":"ds:\/\/\/vmfs\/volumes\/7b773e05-e06fc970\/","disk_mode":"persistent"},{"disk_size_mb":8192,"disk_type":"disk","adapter_type":"SCSI","location":"ds:\/\/\/vmfs\/volumes\/7b773e05-e06fc970\/","disk_mode":"persistent"},{"disk_size_mb":8192,"disk_type":"disk","adapter_type":"SCSI","location":"ds:\/\/\/vmfs\/volumes\/7b773e05-e06fc970\/","disk_mode":"persistent"},{"disk_size_mb":8192,"disk_type":"disk","adapter_type":"SCSI","location":"ds:\/\/\/vmfs\/volumes\/7b773e05-e06fc970\/","disk_mode":"persistent"},{"disk_size_mb":8192,"disk_type":"disk","adapter_type":"SCSI","location":"ds:\/\/\/vmfs\/volumes\/7b773e05-e06fc970\/","disk_mode":"persistent"},{"disk_size_mb":8192,"disk_type":"disk","adapter_type":"SCSI","location":"ds:\/\/\/vmfs\/volumes\/7b773e05-e06fc970\/","disk_mode":"persistent"}]}},"variable_list":[],"description":""}],"credential_definition_list":[{"username":"centos","description":"","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf","secret":{"attrs":{"is_secret_modified":false,"secret_reference":{"uuid":"0bd5d13e-66c5-4e48-9682-a1b28c44b353"}}},"editables":{"username":true,"secret":true},"type":"KEY","name":"CENTOS"}],"type":"USER","app_profile_list":[{"deployment_create_list":[{"name":"8948778d_deployment","action_list":[],"package_local_reference_list":[{"kind":"app_package","name":"AHVMasterPackage","uuid":"bc0a0971-6f55-42be-87e4-da9d29132d7f"}],"uuid":"68145a50-c00e-4444-9733-b2205db54d51","min_replicas":"1","max_replicas":"1","substrate_local_reference":{"kind":"app_substrate","name":"AHVMaster","uuid":"9f30bd45-c609-4641-971b-3c348c327239"},"type":"GREENFIELD","variable_list":[],"description":""},{"max_replicas":"4","action_list":[],"package_local_reference_list":[{"kind":"app_package","name":"AHVSlavePackage","uuid":"60df6e19-5223-47b3-980c-c5b707533fa9"}],"description":"","uuid":"ab178214-6a3e-45d8-994a-2eabc311bf9f","min_replicas":"2","editables":{"min_replicas":true,"max_replicas":true},"substrate_local_reference":{"kind":"app_substrate","name":"AHVSlave","uuid":"8bc04056-82cc-49eb-8114-89e98e1d57de"},"type":"GREENFIELD","variable_list":[],"name":"1ee40052_deployment"}],"description":"","action_list":[{"description":"Take DB backup. \nDB_NAME : Name of DB to be backup\nBACKUP_FILE_PATH : Absolute directory path for backup file","name":"Backup","critical":false,"runbook":{"task_definition_list":[{"retries":"0","description":"","uuid":"82d484c3-edf4-471d-9372-c5a06d209d11","child_tasks_local_reference_list":[{"kind":"app_task","name":"DoDBBackup","uuid":"9ba1f3e2-f14d-4436-b0ee-6ef5ce849110"}],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"b65659b5_dag"},{"target_any_local_reference":{"kind":"app_service","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90","name":"Postgres_Master"},"retries":"0","description":"","uuid":"9ba1f3e2-f14d-4436-b0ee-6ef5ce849110","child_tasks_local_reference_list":[],"attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\ndb_name=\"@@{DB_NAME}@@\"\nbackup_file_path=\"@@{BACKUP_FILE_PATH}@@\"\n\nsudo su - postgres bash -c \"pg_dump ${db_name} | gzip > ${backup_file_path}\"","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","type":"EXEC","variable_list":[],"name":"DoDBBackup"}],"description":"","uuid":"35fedf4d-08b4-40d1-a69c-7a4c8faf3046","variable_list":[{"val_type":"STRING","uuid":"db9bcff2-516e-4317-9226-ba25f5e6e8d7","name":"DB_NAME","value":"postgres","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","description":""},{"val_type":"STRING","uuid":"19840853-5406-48e7-9b4a-15d8363ad86c","name":"BACKUP_FILE_PATH","value":"~\/db.backup","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","description":""}],"main_task_local_reference":{"kind":"app_task","name":"b65659b5_dag","uuid":"82d484c3-edf4-471d-9372-c5a06d209d11"},"name":"2622e5f4_runbook"},"type":"user","uuid":"22b40de1-62a4-464b-ac3c-5c4d030c9fac"},{"description":"Restore DB from dump file\nDB_NAME : Name of DB to be backup\nRESTORE_FILE_PATH : Absolute directory path for restore file","name":"Restore","critical":false,"runbook":{"task_definition_list":[{"retries":"0","description":"","uuid":"33ec5ae0-e88c-47cf-8895-796769984c71","child_tasks_local_reference_list":[{"kind":"app_task","name":"DoDBRestore","uuid":"7962db76-753d-4028-95df-ad9446dfd5a6"}],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"9a0b4209_dag"},{"target_any_local_reference":{"kind":"app_service","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90","name":"Postgres_Master"},"retries":"0","description":"","uuid":"7962db76-753d-4028-95df-ad9446dfd5a6","child_tasks_local_reference_list":[],"attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\ndb_name=\"@@{DB_NAME}@@\"\nrestore_file_path=\"@@{RESTORE_FILE_PATH}@@\"\n\nsudo su - postgres bash -c \"gunzip -c ${restore_file_path} | psql ${db_name}\"","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","type":"EXEC","variable_list":[],"name":"DoDBRestore"}],"description":"","uuid":"eb3dc898-f990-46ef-9345-5e45dd72c9cd","variable_list":[{"val_type":"STRING","uuid":"e40b2e7a-8860-432e-87ca-0123e99289aa","name":"DB_NAME","value":"postgres","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","description":""},{"val_type":"STRING","uuid":"3d044992-fb5f-4db9-858a-ae4ae7d9db9e","name":"RESTORE_FILE_PATH","value":"~\/db.backup","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","description":""}],"main_task_local_reference":{"kind":"app_task","name":"9a0b4209_dag","uuid":"33ec5ae0-e88c-47cf-8895-796769984c71"},"name":"efe6ad7e_runbook"},"type":"user","uuid":"ebd3a225-7f9c-40f7-b1f2-a86bd9d87df5"},{"description":"","name":"Scale Out","critical":false,"runbook":{"task_definition_list":[{"retries":"0","description":"","uuid":"9ebc7548-a2a3-4108-b422-4fe5c5361c20","child_tasks_local_reference_list":[{"kind":"app_task","name":"Scale Out Slaves","uuid":"7eb6f841-af71-41fd-8b21-ec73d9380300"},{"kind":"app_task","name":"Configure Master","uuid":"b71f182e-4672-47b3-8577-4bec64e4949d"},{"kind":"app_task","name":"Configure Slave","uuid":"66ac5f7d-27f8-497c-9983-7618927dc140"}],"attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Scale Out Slaves","uuid":"7eb6f841-af71-41fd-8b21-ec73d9380300"},"edge_type":"user_defined","type":"","uuid":"f175dca6-b26e-40b0-bdc8-1719a790a589","to_task_reference":{"kind":"app_task","name":"Configure Slave","uuid":"66ac5f7d-27f8-497c-9983-7618927dc140"}},{"from_task_reference":{"kind":"app_task","name":"Configure Master","uuid":"b71f182e-4672-47b3-8577-4bec64e4949d"},"edge_type":"user_defined","type":"","uuid":"9d5608f6-aa92-41a4-ab36-8a4e1d9bb707","to_task_reference":{"kind":"app_task","name":"Configure Slave","uuid":"66ac5f7d-27f8-497c-9983-7618927dc140"}},{"from_task_reference":{"kind":"app_task","name":"Scale Out Slaves","uuid":"7eb6f841-af71-41fd-8b21-ec73d9380300"},"edge_type":"user_defined","type":"","uuid":"f584af8c-f5b5-4bed-aa7b-14ec1a002183","to_task_reference":{"kind":"app_task","name":"Configure Master","uuid":"b71f182e-4672-47b3-8577-4bec64e4949d"}}],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"1ae0554a_dag"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","uuid":"ab178214-6a3e-45d8-994a-2eabc311bf9f","name":"1ee40052_deployment"},"retries":"0","description":"","uuid":"7eb6f841-af71-41fd-8b21-ec73d9380300","child_tasks_local_reference_list":[],"attrs":{"scaling_count":"1","type":"","scaling_type":"SCALEOUT"},"timeout_secs":"0","type":"SCALING","variable_list":[],"name":"Scale Out Slaves"},{"target_any_local_reference":{"kind":"app_service","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90","name":"Postgres_Master"},"retries":"0","description":"","uuid":"b71f182e-4672-47b3-8577-4bec64e4949d","child_tasks_local_reference_list":[],"attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\nSlaves=($(echo @@{AHVSlave.address}@@ | sed 's\/^,\/\/' | sed 's\/,$\/\/' | tr \",\" \" \")) \n\necho \"host    replication     rep     ${Slaves[-1]}\/32     md5\" | sudo tee -a \/var\/lib\/pgsql\/9.6\/data\/pg_hba.conf\n\nsudo -i -u postgres \/usr\/pgsql-9.6\/bin\/pg_ctl reload;\n\nsleep 20\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","type":"EXEC","variable_list":[],"name":"Configure Master"},{"target_any_local_reference":{"kind":"app_service","uuid":"97d13e58-4d30-42ba-82be-21616f898f40","name":"Postgres_Slave"},"retries":"0","description":"","uuid":"66ac5f7d-27f8-497c-9983-7618927dc140","child_tasks_local_reference_list":[],"attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\nSlaves=($(echo @@{Postgres_Slave.address}@@ | sed 's\/^,\/\/' | sed 's\/,$\/\/' | tr \",\" \" \"))    \nScaleout_IP=${Slaves[-1]}\n\nif [ \"${Scaleout_IP}\" != \"@@{address}@@\" ]\nthen\n\texit 0;\nfi\n\nMaster_IP=@@{AHVMaster.address}@@\n\nsudo systemctl stop postgresql-9.6\nsleep 2;\n\nsudo su - postgres <<EOF\n  mv 9.6\/data 9.6\/data.org\n  echo \"${Master_IP}:5432:*:rep:@@{DB_PASSWORD}@@\" > ~\/.pgpass\n  chmod 0600 ~\/.pgpass\n  pg_basebackup -h ${Master_IP} -D \/var\/lib\/pgsql\/9.6\/data -U rep -v -P\nEOF\n\n\n##copy the created postgres directory to a temp directory\nsudo mkdir \/tmp\/pgsql\nsudo mv \/var\/lib\/pgsql\/9.6\/data \/tmp\/pgsql\n\n#Create directory , fix permissions and Mount LVM\nsudo mkdir \/var\/lib\/pgsql\/9.6\/data\/\nsudo mount -o noatime,barrier=0 \/dev\/pgDataVG\/pgDataLV \/var\/lib\/pgsql\/9.6\/data\/ \n\nsudo mkdir \/var\/lib\/pgsql\/9.6\/data\/pg_xlog\nsudo mount -o noatime,barrier=0 \/dev\/pgLogVG\/pgLogLV \/var\/lib\/pgsql\/9.6\/data\/pg_xlog\n\nsudo chown -R postgres:postgres \/var\/lib\/pgsql\/9.6\/data\/\n\n#move the xlog to the new LVM\nsudo find \/tmp\/pgsql\/data\/pg_xlog -maxdepth 1 -mindepth 1 -exec mv -t \/var\/lib\/pgsql\/9.6\/data\/pg_xlog\/ {} +\n\n#remove pg_xlog from temp dir to avoid being copied again\nsudo rm -rf \/tmp\/pgsql\/data\/pg_xlog\n\n#move the pgsql directory to the LVM\nsudo find \/tmp\/pgsql\/data -maxdepth 1 -mindepth 1 -exec mv -t \/var\/lib\/pgsql\/9.6\/data\/ {} +\n\nsudo chmod -R 0700 \/var\/lib\/pgsql\/9.6\/data\n\n#enable service on boot\nsudo systemctl enable postgresql-9.6.service\n\n#add mount points to \/etc\/fstab\necho \"\/dev\/mapper\/pgDataVG-pgDataLV \/var\/lib\/pgsql\/9.6\/data ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\necho \"\/dev\/mapper\/pgLogVG-pgLogLV \/var\/lib\/pgsql\/9.6\/data\/pg_xlog ext4 rw,seclabel,noatime,nobarrier,stripe=2048,data=ordered 0 0\" | sudo tee -a  \/etc\/fstab\n\n\nsleep 2\nsudo sed -i -e 's\/ExecStart=.*\/ExecStart=\\\/usr\\\/pgsql-9\\.6\\\/bin\\\/pg_ctl start -D ${PGDATA} -s -W -t 300\/g' \/usr\/lib\/systemd\/system\/postgresql-9.6.service\n\necho \"host    replication     rep     ${Master_IP}\/32     md5\" | sudo tee -a \/var\/lib\/pgsql\/9.6\/data\/pg_hba.conf\necho \"listen_addresses = '*'\nwal_level = 'hot_standby'\narchive_mode = on\narchive_command = 'cd .'\nmax_wal_senders = 3\nhot_standby = on\nwal_keep_segments = 8\" | sudo tee -a \/var\/lib\/pgsql\/9.6\/data\/postgresql.conf\n\nsudo su - postgres sh -c \"touch 9.6\/data\/recovery.conf\"\n\necho \"standby_mode = 'on'\nprimary_conninfo = 'host=${Master_IP} port=5432 user=rep password=@@{DB_PASSWORD}@@'\ntrigger_file = '\/tmp\/postgresql.trigger.5432'\" | sudo tee -a \/var\/lib\/pgsql\/9.6\/data\/recovery.conf\n\nsudo systemctl start postgresql-9.6","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","type":"EXEC","variable_list":[],"name":"Configure Slave"}],"description":"","uuid":"d810d276-5285-4b1d-88b9-eaeae19e7d2f","variable_list":[{"val_type":"STRING","uuid":"3beb7554-1093-4832-abcc-cd3786f61803","name":"IS_SCALEOUT","value":"YES","label":"","attrs":{"type":""},"type":"LOCAL","description":""}],"main_task_local_reference":{"kind":"app_task","name":"1ae0554a_dag","uuid":"9ebc7548-a2a3-4108-b422-4fe5c5361c20"},"name":"e82289de_runbook"},"type":"user","uuid":"6a0f27bb-5a90-4b13-93d3-1c012729cdd6"},{"description":"","name":"Scale In","critical":false,"runbook":{"task_definition_list":[{"retries":"0","description":"","uuid":"4908103f-a363-4795-a9eb-78716f590885","child_tasks_local_reference_list":[{"kind":"app_task","name":"Scale In Slaves","uuid":"139c2f0d-ebbd-4885-9d3f-72b329e35dcf"}],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"47646377_dag"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","uuid":"ab178214-6a3e-45d8-994a-2eabc311bf9f","name":"1ee40052_deployment"},"retries":"0","description":"","uuid":"139c2f0d-ebbd-4885-9d3f-72b329e35dcf","child_tasks_local_reference_list":[],"attrs":{"scaling_count":"1","type":"","scaling_type":"SCALEIN"},"timeout_secs":"0","type":"SCALING","variable_list":[],"name":"Scale In Slaves"}],"description":"","uuid":"bf4acc45-d0f2-4316-97cf-f3a508925c1d","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"47646377_dag","uuid":"4908103f-a363-4795-a9eb-78716f590885"},"name":"4fcc04a9_runbook"},"type":"user","uuid":"5f8bf61e-3968-4861-a57f-5486fa9e04d5"}],"name":"Nutanix","variable_list":[{"val_type":"STRING","uuid":"70b9f7b1-8cd0-4d6f-8a36-4170c773e88a","name":"PROFILE","value":"AHV","label":"","attrs":{"type":""},"type":"LOCAL","description":""},{"val_type":"STRING","uuid":"725d44b7-872a-44f5-bfc3-7c70fe4f0ed0","name":"DB_PASSWORD","label":"","attrs":{"is_secret_modified":false,"secret_reference":{"uuid":"cdf6fff0-e339-4abf-b590-85b88dbe8151"}},"editables":{"value":true},"type":"SECRET","description":""}],"uuid":"6fa6c3cc-d8fc-45a7-a366-1967b67aabf3"},{"deployment_create_list":[{"name":"9324c460_deployment","action_list":[],"package_local_reference_list":[{"kind":"app_package","name":"AWSMasterPackage","uuid":"5805d838-62cc-43fb-9302-ed138e4e1bed"}],"uuid":"d7e614ff-8146-4f9d-a296-ac679a1b848b","min_replicas":"1","max_replicas":"1","substrate_local_reference":{"kind":"app_substrate","name":"AWSMaster","uuid":"13b7dc33-639a-4b63-b6c2-bcbc40ad50d0"},"type":"GREENFIELD","variable_list":[],"description":""},{"max_replicas":"4","action_list":[],"package_local_reference_list":[{"kind":"app_package","name":"AWSSlavePackage","uuid":"33b12429-d141-480f-b38e-4d8083fcff5c"}],"description":"","uuid":"a98e21d1-5356-4da8-a07b-b01123758b0f","min_replicas":"2","editables":{"min_replicas":true,"max_replicas":true},"substrate_local_reference":{"kind":"app_substrate","name":"AWSSlave","uuid":"13318462-4a00-45bb-91d5-d7e17d64cee0"},"type":"GREENFIELD","variable_list":[],"name":"847853f6_deployment"}],"description":"","action_list":[{"description":"Take DB backup. \nDB_NAME : Name of DB to be backup\nBACKUP_FILE_PATH : Absolute directory path for backup file","name":"Backup","critical":false,"runbook":{"task_definition_list":[{"retries":"0","description":"","uuid":"2be3d3b6-9667-46de-baa2-4f6725111d85","child_tasks_local_reference_list":[{"kind":"app_task","name":"DoDBBackup","uuid":"c6d5d984-37ce-43e1-b931-7ff9035e883c"}],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"f08186ce_dag"},{"target_any_local_reference":{"kind":"app_service","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90","name":"Postgres_Master"},"retries":"0","description":"","uuid":"c6d5d984-37ce-43e1-b931-7ff9035e883c","child_tasks_local_reference_list":[],"attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\ndb_name=\"@@{DB_NAME}@@\"\nbackup_file_path=\"@@{BACKUP_FILE_PATH}@@\"\n\nsudo su - postgres bash -c \"pg_dump ${db_name} | gzip > ${backup_file_path}\"","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","type":"EXEC","variable_list":[],"name":"DoDBBackup"}],"description":"","uuid":"a48b946a-b109-42a8-a6c3-bcb2ec033ab6","variable_list":[{"val_type":"STRING","uuid":"f6639189-90a9-4737-8823-cc40035c64a1","name":"DB_NAME","value":"postgres","label":"","editables":{"value":true},"type":"LOCAL","description":""},{"val_type":"STRING","uuid":"e20b751c-a1db-4490-9deb-c6c0f51aa1dd","name":"BACKUP_FILE_PATH","value":"~\/db.backup","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","description":""}],"main_task_local_reference":{"kind":"app_task","name":"f08186ce_dag","uuid":"2be3d3b6-9667-46de-baa2-4f6725111d85"},"name":"445ac6f7_runbook"},"type":"user","uuid":"0e6a5806-8544-4033-bbe2-4662a7efd055"},{"description":"Restore DB from dump file\nDB_NAME : Name of DB to be backup\nRESTORE_FILE_PATH : Absolute directory path for restore file","name":"Restore","critical":false,"runbook":{"task_definition_list":[{"retries":"0","description":"","uuid":"0e8bd500-ec4e-4b62-ad19-949ad83df984","child_tasks_local_reference_list":[{"kind":"app_task","name":"DoDBRestore","uuid":"d7bf1f09-0fdb-4951-b842-3f8be5d6bd5f"}],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"b0d76aa3_dag"},{"target_any_local_reference":{"kind":"app_service","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90","name":"Postgres_Master"},"retries":"0","description":"","uuid":"d7bf1f09-0fdb-4951-b842-3f8be5d6bd5f","child_tasks_local_reference_list":[],"attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\ndb_name=\"@@{DB_NAME}@@\"\nrestore_file_path=\"@@{RESTORE_FILE_PATH}@@\"\n\nsudo su - postgres bash -c \"gunzip -c ${restore_file_path} | psql ${db_name}\"","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","type":"EXEC","variable_list":[],"name":"DoDBRestore"}],"description":"","uuid":"6eb4ebc0-4d26-41dc-a6df-d68b9162430b","variable_list":[{"val_type":"STRING","uuid":"12bf1aae-2018-4b1d-923a-9dac40f9afba","name":"DB_NAME","value":"postgres","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","description":""},{"val_type":"STRING","uuid":"0c058eed-db21-40f9-866a-d98e7e048aeb","name":"RESTORE_FILE_PATH","value":"~\/db.backup","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","description":""}],"main_task_local_reference":{"kind":"app_task","name":"b0d76aa3_dag","uuid":"0e8bd500-ec4e-4b62-ad19-949ad83df984"},"name":"7f902a78_runbook"},"type":"user","uuid":"f2fcf8a2-87dd-46ee-9152-db9a9633e84d"},{"description":"","name":"Scale Out","critical":false,"runbook":{"task_definition_list":[{"retries":"0","description":"","uuid":"3cd637a4-765c-4738-bae4-1f6e0b64e819","child_tasks_local_reference_list":[{"kind":"app_task","name":"Scale Out Slaves","uuid":"7d7c771b-646e-4bd9-b9f8-8b9991ed70e4"},{"kind":"app_task","name":"Configure Master","uuid":"5c9c2405-87a7-4647-afbe-a2b7de5e17e8"},{"kind":"app_task","name":"Configure Slave","uuid":"5247c808-38b2-4bdb-a52e-d7e33c416263"}],"attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Scale Out Slaves","uuid":"7d7c771b-646e-4bd9-b9f8-8b9991ed70e4"},"edge_type":"user_defined","type":"","uuid":"83b9f203-91a4-4edf-a1ec-5883b5f5c610","to_task_reference":{"kind":"app_task","name":"Configure Master","uuid":"5c9c2405-87a7-4647-afbe-a2b7de5e17e8"}},{"from_task_reference":{"kind":"app_task","name":"Scale Out Slaves","uuid":"7d7c771b-646e-4bd9-b9f8-8b9991ed70e4"},"edge_type":"user_defined","type":"","uuid":"a6b6f3d2-5316-456e-a1f7-90abc9a3ab25","to_task_reference":{"kind":"app_task","name":"Configure Slave","uuid":"5247c808-38b2-4bdb-a52e-d7e33c416263"}},{"from_task_reference":{"kind":"app_task","name":"Configure Master","uuid":"5c9c2405-87a7-4647-afbe-a2b7de5e17e8"},"edge_type":"user_defined","type":"","uuid":"b7d1c4a1-b0ac-4739-8c7a-c846a69d7e97","to_task_reference":{"kind":"app_task","name":"Configure Slave","uuid":"5247c808-38b2-4bdb-a52e-d7e33c416263"}}],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"0d1fc8f9_dag"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","uuid":"a98e21d1-5356-4da8-a07b-b01123758b0f","name":"847853f6_deployment"},"retries":"0","description":"","uuid":"7d7c771b-646e-4bd9-b9f8-8b9991ed70e4","child_tasks_local_reference_list":[],"attrs":{"scaling_count":"1","type":"","scaling_type":"SCALEOUT"},"timeout_secs":"0","type":"SCALING","variable_list":[],"name":"Scale Out Slaves"},{"target_any_local_reference":{"kind":"app_service","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90","name":"Postgres_Master"},"retries":"0","description":"","uuid":"5c9c2405-87a7-4647-afbe-a2b7de5e17e8","child_tasks_local_reference_list":[],"attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\nSlaves=($(echo @@{AWSSlave.address}@@ | sed 's\/^,\/\/' | sed 's\/,$\/\/' | tr \",\" \" \")) \n\n\necho \"host    replication     rep     ${Slaves[-1]}\/32     md5\" | sudo tee -a \/var\/lib\/pgsql\/9.6\/data\/pg_hba.conf\n\nsudo -i -u postgres \/usr\/pgsql-9.6\/bin\/pg_ctl reload;\n\nsleep 20\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","type":"EXEC","variable_list":[],"name":"Configure Master"},{"target_any_local_reference":{"kind":"app_service","uuid":"97d13e58-4d30-42ba-82be-21616f898f40","name":"Postgres_Slave"},"retries":"0","description":"","uuid":"5247c808-38b2-4bdb-a52e-d7e33c416263","child_tasks_local_reference_list":[],"attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\nSlaves=($(echo @@{Postgres_Slave.address}@@ | sed 's\/^,\/\/' | sed 's\/,$\/\/' | tr \",\" \" \"))    \nScaleout_IP=${Slaves[-1]}\n\nif [ \"${Scaleout_IP}\" != \"@@{address}@@\" ]\nthen\n\texit 0;\nfi\n\nMaster_IP=@@{AWSMaster.address}@@\n\nsudo systemctl stop postgresql-9.6\nsleep 2;\n\nsudo su - postgres <<EOF\n  mv 9.6\/data 9.6\/data.org\n  echo \"${Master_IP}:5432:*:rep:@@{DB_PASSWORD}@@\" > ~\/.pgpass\n  chmod 0600 ~\/.pgpass\n  pg_basebackup -h ${Master_IP} -D \/var\/lib\/pgsql\/9.6\/data -U rep -v -P\nEOF\n\n\n##copy the created postgres directory to a temp directory\nsudo mkdir \/tmp\/pgsql\nsudo mv \/var\/lib\/pgsql\/9.6\/data \/tmp\/pgsql\n\n#Create directory , fix permissions and Mount LVM\nsudo mkdir \/var\/lib\/pgsql\/9.6\/data\/\nsudo mount -o noatime,barrier=0 \/dev\/pgDataVG\/pgDataLV \/var\/lib\/pgsql\/9.6\/data\/ \n\nsudo mkdir \/var\/lib\/pgsql\/9.6\/data\/pg_xlog\nsudo mount -o noatime,barrier=0 \/dev\/pgLogVG\/pgLogLV \/var\/lib\/pgsql\/9.6\/data\/pg_xlog\n\nsudo chown -R postgres:postgres \/var\/lib\/pgsql\/9.6\/data\/\n\n#move the xlog to the new LVM\nsudo find \/tmp\/pgsql\/data\/pg_xlog -maxdepth 1 -mindepth 1 -exec mv -t \/var\/lib\/pgsql\/9.6\/data\/pg_xlog\/ {} +\n\n#remove pg_xlog from temp dir to avoid being copied again\nsudo rm -rf \/tmp\/pgsql\/data\/pg_xlog\n\n#move the pgsql directory to the LVM\nsudo find \/tmp\/pgsql\/data -maxdepth 1 -mindepth 1 -exec mv -t \/var\/lib\/pgsql\/9.6\/data\/ {} +\n\nsudo chmod -R 0700 \/var\/lib\/pgsql\/9.6\/data\n\n#enable service on boot\nsudo systemctl enable postgresql-9.6.service\n\n#add mount points to \/etc\/fstab\necho \"\/dev\/mapper\/pgDataVG-pgDataLV \/var\/lib\/pgsql\/9.6\/data ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\necho \"\/dev\/mapper\/pgLogVG-pgLogLV \/var\/lib\/pgsql\/9.6\/data\/pg_xlog ext4 rw,seclabel,noatime,nobarrier,stripe=2048,data=ordered 0 0\" | sudo tee -a  \/etc\/fstab\n\n\nsleep 2\nsudo sed -i -e 's\/ExecStart=.*\/ExecStart=\\\/usr\\\/pgsql-9\\.6\\\/bin\\\/pg_ctl start -D ${PGDATA} -s -W -t 300\/g' \/usr\/lib\/systemd\/system\/postgresql-9.6.service\n\necho \"host    replication     rep     ${Master_IP}\/32     md5\" | sudo tee -a \/var\/lib\/pgsql\/9.6\/data\/pg_hba.conf\necho \"listen_addresses = '*'\nwal_level = 'hot_standby'\narchive_mode = on\narchive_command = 'cd .'\nmax_wal_senders = 3\nhot_standby = on\nwal_keep_segments = 8\" | sudo tee -a \/var\/lib\/pgsql\/9.6\/data\/postgresql.conf\n\nsudo su - postgres sh -c \"touch 9.6\/data\/recovery.conf\"\n\necho \"standby_mode = 'on'\nprimary_conninfo = 'host=${Master_IP} port=5432 user=rep password=@@{DB_PASSWORD}@@'\ntrigger_file = '\/tmp\/postgresql.trigger.5432'\" | sudo tee -a \/var\/lib\/pgsql\/9.6\/data\/recovery.conf\n\nsudo systemctl start postgresql-9.6","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","type":"EXEC","variable_list":[],"name":"Configure Slave"}],"description":"","uuid":"59a79877-491a-46c2-85bd-92566dd0a9dd","variable_list":[{"val_type":"STRING","uuid":"40d47b80-0808-42c2-8539-b6655705670e","name":"IS_SCALEOUT","value":"YES","label":"","attrs":{"type":""},"type":"LOCAL","description":""}],"main_task_local_reference":{"kind":"app_task","name":"0d1fc8f9_dag","uuid":"3cd637a4-765c-4738-bae4-1f6e0b64e819"},"name":"6597cf64_runbook"},"type":"user","uuid":"be4303b5-a881-4a65-a377-194b73dd9125"},{"description":"","name":"Scale In","critical":false,"runbook":{"task_definition_list":[{"retries":"0","description":"","uuid":"8a158004-0104-4f0c-85f9-27c20e26cf3b","child_tasks_local_reference_list":[{"kind":"app_task","name":"Scale In Slaves","uuid":"f44703f4-c0a9-4703-924d-35463b9cd6d0"}],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"76522443_dag"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","uuid":"a98e21d1-5356-4da8-a07b-b01123758b0f","name":"847853f6_deployment"},"retries":"0","description":"","uuid":"f44703f4-c0a9-4703-924d-35463b9cd6d0","child_tasks_local_reference_list":[],"attrs":{"scaling_count":"1","type":"","scaling_type":"SCALEIN"},"timeout_secs":"0","type":"SCALING","variable_list":[],"name":"Scale In Slaves"}],"description":"","uuid":"8bd6c48b-35f4-47ce-876c-2414bd947d80","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"76522443_dag","uuid":"8a158004-0104-4f0c-85f9-27c20e26cf3b"},"name":"6d5e6d9f_runbook"},"type":"user","uuid":"0414975a-823b-4411-bbf9-ff65530cb980"}],"name":"AWS","variable_list":[{"val_type":"STRING","uuid":"e5ee5fae-07cd-45eb-b447-223ad69d40ce","name":"DB_PASSWORD","label":"","attrs":{"is_secret_modified":false,"secret_reference":{"uuid":"7e0214a6-72ff-4fc7-9604-ca61627e846c"}},"editables":{"value":true},"type":"SECRET","description":""},{"val_type":"STRING","uuid":"825b70a3-510e-4155-84fb-0bd3b89b9dcb","name":"PROFILE","value":"AWS","label":"","attrs":{"type":""},"type":"LOCAL","description":""}],"uuid":"cb840422-c8bc-4b33-a703-db8991ed9539"},{"deployment_create_list":[{"name":"2948413c_deployment","action_list":[],"package_local_reference_list":[{"kind":"app_package","name":"GCPMasterPackage","uuid":"b5d0f3b4-c040-4fa9-ae5d-8f996b9efa42"}],"uuid":"ae647ac6-495b-491b-9335-50a9a64a8f31","min_replicas":"1","max_replicas":"1","substrate_local_reference":{"kind":"app_substrate","name":"GCPMaster","uuid":"4a8310a8-12fc-4200-b014-019f49e4a9fd"},"type":"GREENFIELD","variable_list":[],"description":""},{"max_replicas":"4","action_list":[],"package_local_reference_list":[{"kind":"app_package","name":"GCPSlavePackage","uuid":"a785fd76-3fd6-4896-a184-edf5e5e71d31"}],"description":"","uuid":"7f725ee2-f8c1-4e74-b70e-0884e8d9fef4","min_replicas":"2","editables":{"min_replicas":true,"max_replicas":true},"substrate_local_reference":{"kind":"app_substrate","name":"GCPSlave","uuid":"cf42442b-3e6d-4b40-9a7f-e170b57f338e"},"type":"GREENFIELD","variable_list":[],"name":"291a1804_deployment"}],"description":"","action_list":[{"description":"Take DB backup. \nDB_NAME : Name of DB to be backup\nBACKUP_FILE_PATH : Absolute directory path for backup file","name":"Backup","critical":false,"runbook":{"task_definition_list":[{"retries":"0","description":"","uuid":"49bd1189-abea-4e4e-8541-42f95ce84e29","child_tasks_local_reference_list":[{"kind":"app_task","name":"DoDBBackup","uuid":"33121ad1-be3e-4f00-976f-f2f337f14d14"}],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"a54e2220_dag"},{"target_any_local_reference":{"kind":"app_service","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90","name":"Postgres_Master"},"retries":"0","description":"","uuid":"33121ad1-be3e-4f00-976f-f2f337f14d14","child_tasks_local_reference_list":[],"attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\ndb_name=\"@@{DB_NAME}@@\"\nbackup_file_path=\"@@{BACKUP_FILE_PATH}@@\"\n\nsudo su - postgres bash -c \"pg_dump ${db_name} | gzip > ${backup_file_path}\"","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","type":"EXEC","variable_list":[],"name":"DoDBBackup"}],"description":"","uuid":"09ded9f5-3362-4c55-8660-38b7a28e2823","variable_list":[{"val_type":"STRING","uuid":"30bad926-01a6-41c0-a082-ca4c39c4a286","name":"DB_NAME","value":"postgres","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","description":""},{"val_type":"STRING","uuid":"8b2cbdeb-6946-4799-9d17-977444bee4ed","name":"BACKUP_FILE_PATH","value":"~\/db.backup","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","description":""}],"main_task_local_reference":{"kind":"app_task","name":"a54e2220_dag","uuid":"49bd1189-abea-4e4e-8541-42f95ce84e29"},"name":"1e1da654_runbook"},"type":"user","uuid":"663428a9-9a75-4299-8a0a-f8a3fe8a449d"},{"description":"Restore DB from dump file\nDB_NAME : Name of DB to be backup\nRESTORE_FILE_PATH : Absolute directory path for restore file","name":"Restore","critical":false,"runbook":{"task_definition_list":[{"retries":"0","description":"","uuid":"cd6db834-b32f-426d-bde4-426039d3dfaa","child_tasks_local_reference_list":[{"kind":"app_task","name":"DoDBRestore","uuid":"b74d7d2c-0ddc-4db5-bb56-06fed831975a"}],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"19e01795_dag"},{"target_any_local_reference":{"kind":"app_service","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90","name":"Postgres_Master"},"retries":"0","description":"","uuid":"b74d7d2c-0ddc-4db5-bb56-06fed831975a","child_tasks_local_reference_list":[],"attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\ndb_name=\"@@{DB_NAME}@@\"\nrestore_file_path=\"@@{RESTORE_FILE_PATH}@@\"\n\nsudo su - postgres bash -c \"gunzip -c ${restore_file_path} | psql ${db_name}\"","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","type":"EXEC","variable_list":[],"name":"DoDBRestore"}],"description":"","uuid":"c424e70d-78fd-43eb-a115-7970d17733d0","variable_list":[{"val_type":"STRING","uuid":"12197f70-50eb-4da6-9c59-4e1f3deffcd2","name":"DB_NAME","value":"postgres","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","description":""},{"val_type":"STRING","uuid":"f956e094-c737-4588-913d-0ebd30fe8158","name":"RESTORE_FILE_PATH","value":"~\/db.backup","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","description":""}],"main_task_local_reference":{"kind":"app_task","name":"19e01795_dag","uuid":"cd6db834-b32f-426d-bde4-426039d3dfaa"},"name":"4e666fca_runbook"},"type":"user","uuid":"b59d9d07-5fbd-4080-a51e-eb2223b736c1"},{"description":"","name":"Scale Out","critical":false,"runbook":{"task_definition_list":[{"retries":"0","description":"","uuid":"e92f90c3-8745-46f8-b494-308f10637f3c","child_tasks_local_reference_list":[{"kind":"app_task","name":"Scale Out Slave","uuid":"c609389e-ca94-469e-9c68-383aea1c7c06"},{"kind":"app_task","name":"Configure Master","uuid":"b097a061-5241-472e-92e9-6dfd0bda5674"},{"kind":"app_task","name":"Configure Slave","uuid":"aa6d4931-de38-417c-811a-ea96debee1df"}],"attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Scale Out Slave","uuid":"c609389e-ca94-469e-9c68-383aea1c7c06"},"edge_type":"user_defined","type":"","uuid":"ad76f039-ccae-4f29-9cb2-d0d93c4b0826","to_task_reference":{"kind":"app_task","name":"Configure Slave","uuid":"aa6d4931-de38-417c-811a-ea96debee1df"}},{"from_task_reference":{"kind":"app_task","name":"Configure Master","uuid":"b097a061-5241-472e-92e9-6dfd0bda5674"},"edge_type":"user_defined","type":"","uuid":"be76d6e8-2ae4-4149-8ac7-2f3f89bc295c","to_task_reference":{"kind":"app_task","name":"Configure Slave","uuid":"aa6d4931-de38-417c-811a-ea96debee1df"}},{"from_task_reference":{"kind":"app_task","name":"Scale Out Slave","uuid":"c609389e-ca94-469e-9c68-383aea1c7c06"},"edge_type":"user_defined","type":"","uuid":"f16c32ba-aed3-431d-a633-c178f75ae701","to_task_reference":{"kind":"app_task","name":"Configure Master","uuid":"b097a061-5241-472e-92e9-6dfd0bda5674"}}],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"7f3617fd_dag"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","uuid":"7f725ee2-f8c1-4e74-b70e-0884e8d9fef4","name":"291a1804_deployment"},"retries":"0","description":"","uuid":"c609389e-ca94-469e-9c68-383aea1c7c06","child_tasks_local_reference_list":[],"attrs":{"scaling_count":"1","type":"","scaling_type":"SCALEOUT"},"timeout_secs":"0","type":"SCALING","variable_list":[],"name":"Scale Out Slave"},{"target_any_local_reference":{"kind":"app_service","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90","name":"Postgres_Master"},"retries":"0","description":"","uuid":"b097a061-5241-472e-92e9-6dfd0bda5674","child_tasks_local_reference_list":[],"attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\nSlaves=($(echo @@{GCPSlave.address}@@ | sed 's\/^,\/\/' | sed 's\/,$\/\/' | tr \",\" \" \"))    \n\n\necho \"host    replication     rep     ${Slaves[-1]}\/32     md5\" | sudo tee -a \/var\/lib\/pgsql\/9.6\/data\/pg_hba.conf\n\nsudo -i -u postgres \/usr\/pgsql-9.6\/bin\/pg_ctl reload;\n\nsleep 20\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","type":"EXEC","variable_list":[],"name":"Configure Master"},{"target_any_local_reference":{"kind":"app_service","uuid":"97d13e58-4d30-42ba-82be-21616f898f40","name":"Postgres_Slave"},"retries":"0","description":"","uuid":"aa6d4931-de38-417c-811a-ea96debee1df","child_tasks_local_reference_list":[],"attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\nSlaves=($(echo @@{Postgres_Slave.address}@@ | sed 's\/^,\/\/' | sed 's\/,$\/\/' | tr \",\" \" \"))    \nScaleout_IP=${Slaves[-1]}\n\nif [ \"${Scaleout_IP}\" != \"@@{address}@@\" ]\nthen\n\texit 0;\nfi\n\n\nMaster_IP=@@{GCPMaster.address}@@    \n\n\nsudo systemctl stop postgresql-9.6\nsleep 2;\n\nsudo su - postgres <<EOF\n  mv 9.6\/data 9.6\/data.org\n  echo \"${Master_IP}:5432:*:rep:@@{DB_PASSWORD}@@\" > ~\/.pgpass\n  chmod 0600 ~\/.pgpass\n  pg_basebackup -h ${Master_IP} -D \/var\/lib\/pgsql\/9.6\/data -U rep -v -P\nEOF\n\n\n##copy the created postgres directory to a temp directory\nsudo mkdir \/tmp\/pgsql\nsudo mv \/var\/lib\/pgsql\/9.6\/data \/tmp\/pgsql\n\n#Create directory , fix permissions and Mount LVM\nsudo mkdir \/var\/lib\/pgsql\/9.6\/data\/\nsudo mount -o noatime,barrier=0 \/dev\/pgDataVG\/pgDataLV \/var\/lib\/pgsql\/9.6\/data\/ \n\nsudo mkdir \/var\/lib\/pgsql\/9.6\/data\/pg_xlog\nsudo mount -o noatime,barrier=0 \/dev\/pgLogVG\/pgLogLV \/var\/lib\/pgsql\/9.6\/data\/pg_xlog\n\nsudo chown -R postgres:postgres \/var\/lib\/pgsql\/9.6\/data\/\n\n#move the xlog to the new LVM\nsudo find \/tmp\/pgsql\/data\/pg_xlog -maxdepth 1 -mindepth 1 -exec mv -t \/var\/lib\/pgsql\/9.6\/data\/pg_xlog\/ {} +\n\n#remove pg_xlog from temp dir to avoid being copied again\nsudo rm -rf \/tmp\/pgsql\/data\/pg_xlog\n\n#move the pgsql directory to the LVM\nsudo find \/tmp\/pgsql\/data -maxdepth 1 -mindepth 1 -exec mv -t \/var\/lib\/pgsql\/9.6\/data\/ {} +\n\nsudo chmod -R 0700 \/var\/lib\/pgsql\/9.6\/data\n\n#enable service on boot\nsudo systemctl enable postgresql-9.6.service\n\n#add mount points to \/etc\/fstab\necho \"\/dev\/mapper\/pgDataVG-pgDataLV \/var\/lib\/pgsql\/9.6\/data ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\necho \"\/dev\/mapper\/pgLogVG-pgLogLV \/var\/lib\/pgsql\/9.6\/data\/pg_xlog ext4 rw,seclabel,noatime,nobarrier,stripe=2048,data=ordered 0 0\" | sudo tee -a  \/etc\/fstab\n\n\nsleep 2\nsudo sed -i -e 's\/ExecStart=.*\/ExecStart=\\\/usr\\\/pgsql-9\\.6\\\/bin\\\/pg_ctl start -D ${PGDATA} -s -W -t 300\/g' \/usr\/lib\/systemd\/system\/postgresql-9.6.service\n\necho \"host    replication     rep     ${Master_IP}\/32     md5\" | sudo tee -a \/var\/lib\/pgsql\/9.6\/data\/pg_hba.conf\necho \"listen_addresses = '*'\nwal_level = 'hot_standby'\narchive_mode = on\narchive_command = 'cd .'\nmax_wal_senders = 3\nhot_standby = on\nwal_keep_segments = 8\" | sudo tee -a \/var\/lib\/pgsql\/9.6\/data\/postgresql.conf\n\nsudo su - postgres sh -c \"touch 9.6\/data\/recovery.conf\"\n\necho \"standby_mode = 'on'\nprimary_conninfo = 'host=${Master_IP} port=5432 user=rep password=@@{DB_PASSWORD}@@'\ntrigger_file = '\/tmp\/postgresql.trigger.5432'\" | sudo tee -a \/var\/lib\/pgsql\/9.6\/data\/recovery.conf\n\nsudo systemctl start postgresql-9.6","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","type":"EXEC","variable_list":[],"name":"Configure Slave"}],"description":"","uuid":"a3a317c2-d74e-448a-8cf8-5d006e20fcc8","variable_list":[{"val_type":"STRING","uuid":"e09b6c51-99dd-4432-ae6e-c358215cff3a","name":"IS_SCALEOUT","value":"YES","label":"","attrs":{"type":""},"type":"LOCAL","description":""}],"main_task_local_reference":{"kind":"app_task","name":"7f3617fd_dag","uuid":"e92f90c3-8745-46f8-b494-308f10637f3c"},"name":"2646539b_runbook"},"type":"user","uuid":"52e476ef-f9a5-4bef-9155-f6719bf68b14"},{"description":"","name":"Scale In","critical":false,"runbook":{"task_definition_list":[{"retries":"0","description":"","uuid":"caddeb32-9342-4a3a-bdb0-9f523e6dd213","child_tasks_local_reference_list":[{"kind":"app_task","name":"Scale In Slave","uuid":"4bb5d040-f980-413c-a7a3-b15a77c07176"}],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"4cbdc469_dag"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","uuid":"7f725ee2-f8c1-4e74-b70e-0884e8d9fef4","name":"291a1804_deployment"},"retries":"0","description":"","uuid":"4bb5d040-f980-413c-a7a3-b15a77c07176","child_tasks_local_reference_list":[],"attrs":{"scaling_count":"1","type":"","scaling_type":"SCALEIN"},"timeout_secs":"0","type":"SCALING","variable_list":[],"name":"Scale In Slave"}],"description":"","uuid":"1b72a549-e5ca-428c-872d-5eb54c630dc3","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"4cbdc469_dag","uuid":"caddeb32-9342-4a3a-bdb0-9f523e6dd213"},"name":"24314c27_runbook"},"type":"user","uuid":"fe68b6c0-8c07-4233-b9d8-8c2ac72fd282"}],"name":"GCP","variable_list":[{"val_type":"STRING","uuid":"934e1d1a-34ee-4393-bc21-ae0d8ba78c1b","name":"DB_PASSWORD","label":"","attrs":{"is_secret_modified":false,"secret_reference":{"uuid":"928ea076-3ebe-4ff9-b271-1204e3e2aea9"}},"editables":{"value":true},"type":"SECRET","description":""},{"val_type":"STRING","uuid":"38f995b1-7bfb-4443-9401-1cd658d03781","name":"PROFILE","value":"GCP","label":"","attrs":{"type":""},"type":"LOCAL","description":""}],"uuid":"4b8d1512-2d66-44fc-b4d9-2af89cdf3aa4"},{"deployment_create_list":[{"name":"9d03f79a_deployment","action_list":[],"package_local_reference_list":[{"kind":"app_package","name":"AzurePgMasterPkg","uuid":"53c13f4c-7c91-406a-9d03-e2cfcb9d5c90"}],"uuid":"0236e85a-f3a1-4cff-867a-29275949b6e4","min_replicas":"1","max_replicas":"1","substrate_local_reference":{"kind":"app_substrate","name":"AzureMaster","uuid":"c42de1fe-2393-4776-a4a7-92d3b3521dd3"},"type":"GREENFIELD","variable_list":[],"description":""},{"max_replicas":"4","action_list":[],"package_local_reference_list":[{"kind":"app_package","name":"AzurePGSlavePkg","uuid":"fb791420-5fdc-42a7-84df-4a05408b2c96"}],"description":"","uuid":"8adc3c2a-e6c5-4c64-9eee-07cd1f8b59a0","min_replicas":"2","editables":{"min_replicas":true,"max_replicas":true},"substrate_local_reference":{"kind":"app_substrate","name":"AzureSlave","uuid":"de59436e-b01f-4524-85a3-57807c3ac1a9"},"type":"GREENFIELD","variable_list":[],"name":"a0748417_deployment"}],"description":"","action_list":[{"description":"Take DB backup. \nDB_NAME : Name of DB to be backup\nBACKUP_FILE_PATH : Absolute directory path for backup file","name":"Backup","critical":false,"runbook":{"task_definition_list":[{"retries":"0","description":"","uuid":"e5f88ef6-cbd8-4abc-b346-d42c52f84fae","child_tasks_local_reference_list":[{"kind":"app_task","name":"Do DB Backup","uuid":"290c4907-f902-4862-b3b0-c634d137af59"}],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"b8bee1bb_dag"},{"target_any_local_reference":{"kind":"app_service","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90","name":"Postgres_Master"},"retries":"0","description":"","uuid":"290c4907-f902-4862-b3b0-c634d137af59","child_tasks_local_reference_list":[],"attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\ndb_name=\"@@{DB_NAME}@@\"\nbackup_file_path=\"@@{BACKUP_FILE_PATH}@@\"\n\nsudo su - postgres bash -c \"pg_dump ${db_name} | gzip > ${backup_file_path}\"","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","type":"EXEC","variable_list":[],"name":"Do DB Backup"}],"description":"","uuid":"ee33ae6d-7b55-43c8-8aee-27f487c2ff2e","variable_list":[{"val_type":"STRING","uuid":"5bc7112b-3a81-468b-9227-81d56cf927ec","name":"DB_NAME","value":"postgres","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","description":""},{"val_type":"STRING","uuid":"10ebb687-5ec1-441b-876f-31521fa0d71a","name":"BACKUP_FILE_PATH","value":"~\/db.backup","label":"","editables":{"value":true},"type":"LOCAL","description":""}],"main_task_local_reference":{"kind":"app_task","name":"b8bee1bb_dag","uuid":"e5f88ef6-cbd8-4abc-b346-d42c52f84fae"},"name":"f0baee7f_runbook"},"type":"user","uuid":"e5914d44-f714-4ed8-b0eb-c26e199e5e68"},{"description":"Restore DB from dump file\nDB_NAME : Name of DB to be backup\nRESTORE_FILE_PATH : Absolute directory path for restore file","name":"Restore","critical":false,"runbook":{"task_definition_list":[{"retries":"0","description":"","uuid":"e3588ce5-d69b-41e4-82d7-bf1dad990a0d","child_tasks_local_reference_list":[{"kind":"app_task","name":"Do DB Restore","uuid":"82bd5b04-e84a-44e0-8e07-f008b7ba8604"}],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"75c99cfe_dag"},{"target_any_local_reference":{"kind":"app_service","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90","name":"Postgres_Master"},"retries":"0","description":"","uuid":"82bd5b04-e84a-44e0-8e07-f008b7ba8604","child_tasks_local_reference_list":[],"attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\ndb_name=\"@@{DB_NAME}@@\"\nrestore_file_path=\"@@{RESTORE_FILE_PATH}@@\"\n\nsudo su - postgres bash -c \"gunzip -c ${restore_file_path} | psql ${db_name}\"","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","type":"EXEC","variable_list":[],"name":"Do DB Restore"}],"description":"","uuid":"abdbe037-fe5d-4bf1-b6a4-900189b6e1eb","variable_list":[{"val_type":"STRING","uuid":"fb719d83-29cc-48e8-9320-6006d1b64cd3","name":"DB_NAME","value":"postgres","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","description":""},{"val_type":"STRING","uuid":"da7877d4-396b-49e2-8f30-028b41ef0eab","name":"RESTORE_FILE_PATH","value":"~\/db.backup","label":"","editables":{"value":true},"type":"LOCAL","description":""}],"main_task_local_reference":{"kind":"app_task","name":"75c99cfe_dag","uuid":"e3588ce5-d69b-41e4-82d7-bf1dad990a0d"},"name":"9abd6430_runbook"},"type":"user","uuid":"4b39fdc9-48ee-481a-831c-7f5a502c4917"},{"description":"","name":"Scale Out","critical":false,"runbook":{"task_definition_list":[{"retries":"0","description":"","uuid":"52f280f7-3419-4a15-b435-1767f6689c1f","child_tasks_local_reference_list":[{"kind":"app_task","name":"Scale Out Slave","uuid":"10a424de-b7b5-4a20-b3cf-22a51649af88"},{"kind":"app_task","name":"Configure Master","uuid":"39227927-a883-4c15-998e-d9179be163bb"},{"kind":"app_task","name":"Configure Slave","uuid":"378a3416-dc2a-4174-af3c-c9ca268a173c"}],"attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Scale Out Slave","uuid":"10a424de-b7b5-4a20-b3cf-22a51649af88"},"edge_type":"user_defined","type":"","uuid":"d32de487-c6ef-41ec-aff4-ac6e030345c8","to_task_reference":{"kind":"app_task","name":"Configure Slave","uuid":"378a3416-dc2a-4174-af3c-c9ca268a173c"}},{"from_task_reference":{"kind":"app_task","name":"Configure Master","uuid":"39227927-a883-4c15-998e-d9179be163bb"},"edge_type":"user_defined","type":"","uuid":"2583e282-316d-4f5b-ae2b-1bcef44c940c","to_task_reference":{"kind":"app_task","name":"Configure Slave","uuid":"378a3416-dc2a-4174-af3c-c9ca268a173c"}},{"from_task_reference":{"kind":"app_task","name":"Scale Out Slave","uuid":"10a424de-b7b5-4a20-b3cf-22a51649af88"},"edge_type":"user_defined","type":"","uuid":"9aa61824-d362-4607-89eb-ae5adef79366","to_task_reference":{"kind":"app_task","name":"Configure Master","uuid":"39227927-a883-4c15-998e-d9179be163bb"}}],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"ee6a856b_dag"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","uuid":"8adc3c2a-e6c5-4c64-9eee-07cd1f8b59a0","name":"a0748417_deployment"},"retries":"0","description":"","uuid":"10a424de-b7b5-4a20-b3cf-22a51649af88","child_tasks_local_reference_list":[],"attrs":{"scaling_count":"1","type":"","scaling_type":"SCALEOUT"},"timeout_secs":"0","type":"SCALING","variable_list":[],"name":"Scale Out Slave"},{"target_any_local_reference":{"kind":"app_service","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90","name":"Postgres_Master"},"retries":"0","description":"","uuid":"39227927-a883-4c15-998e-d9179be163bb","child_tasks_local_reference_list":[],"attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\nSlaves=($(echo @@{AzureSlave.address}@@ | sed 's\/^,\/\/' | sed 's\/,$\/\/' | tr \",\" \" \"))    \n\necho \"host    replication     rep     ${Slaves[-1]}\/32     md5\" | sudo tee -a \/var\/lib\/pgsql\/9.6\/data\/pg_hba.conf\n\nsudo -i -u postgres \/usr\/pgsql-9.6\/bin\/pg_ctl reload;\n\nsleep 20\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","type":"EXEC","variable_list":[],"name":"Configure Master"},{"target_any_local_reference":{"kind":"app_service","uuid":"97d13e58-4d30-42ba-82be-21616f898f40","name":"Postgres_Slave"},"retries":"0","description":"","uuid":"378a3416-dc2a-4174-af3c-c9ca268a173c","child_tasks_local_reference_list":[],"attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\nSlaves=($(echo @@{Postgres_Slave.address}@@ | sed 's\/^,\/\/' | sed 's\/,$\/\/' | tr \",\" \" \"))    \nScaleout_IP=${Slaves[-1]}\n\nif [ \"${Scaleout_IP}\" != \"@@{address}@@\" ]\nthen\n\texit 0;\nfi\n\nMaster_IP=@@{AzureMaster.address}@@    \n\n\nsudo systemctl stop postgresql-9.6\nsleep 2;\n\nsudo su - postgres <<EOF\n  mv 9.6\/data 9.6\/data.org\n  echo \"${Master_IP}:5432:*:rep:@@{DB_PASSWORD}@@\" > ~\/.pgpass\n  chmod 0600 ~\/.pgpass\n  pg_basebackup -h ${Master_IP} -D \/var\/lib\/pgsql\/9.6\/data -U rep -v -P\nEOF\n\nsudo chmod -R 0700 \/var\/lib\/pgsql\/9.6\/data\n\n#enable service on boot\nsudo systemctl enable postgresql-9.6.service\n\nsleep 2\nsudo sed -i -e 's\/ExecStart=.*\/ExecStart=\\\/usr\\\/pgsql-9\\.6\\\/bin\\\/pg_ctl start -D ${PGDATA} -s -W -t 300\/g' \/usr\/lib\/systemd\/system\/postgresql-9.6.service\n\necho \"host    replication     rep     ${Master_IP}\/32     md5\" | sudo tee -a \/var\/lib\/pgsql\/9.6\/data\/pg_hba.conf\necho \"listen_addresses = '*'\nwal_level = 'hot_standby'\narchive_mode = on\narchive_command = 'cd .'\nmax_wal_senders = 3\nhot_standby = on\nwal_keep_segments = 8\" | sudo tee -a \/var\/lib\/pgsql\/9.6\/data\/postgresql.conf\n\nsudo su - postgres sh -c \"touch 9.6\/data\/recovery.conf\"\n\necho \"standby_mode = 'on'\nprimary_conninfo = 'host=${Master_IP} port=5432 user=rep password=@@{DB_PASSWORD}@@'\ntrigger_file = '\/tmp\/postgresql.trigger.5432'\" | sudo tee -a \/var\/lib\/pgsql\/9.6\/data\/recovery.conf\n\nsudo systemctl start postgresql-9.6","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","type":"EXEC","variable_list":[],"name":"Configure Slave"}],"description":"","uuid":"d6a22254-8e09-494a-b4cb-1ea16ce62bd5","variable_list":[{"val_type":"STRING","uuid":"f28f9502-20ed-40e3-b6a6-4ed17d1944bc","name":"IS_SCALEOUT","value":"YES","label":"","attrs":{"type":""},"type":"LOCAL","description":""}],"main_task_local_reference":{"kind":"app_task","name":"ee6a856b_dag","uuid":"52f280f7-3419-4a15-b435-1767f6689c1f"},"name":"02fbb4b3_runbook"},"type":"user","uuid":"a869dc1a-edd8-4d89-af4f-73173ae650bb"},{"description":"","name":"Scale In","critical":false,"runbook":{"task_definition_list":[{"retries":"0","description":"","uuid":"aa2ccd58-4f53-4a8d-9eb1-bd1a86e45533","child_tasks_local_reference_list":[{"kind":"app_task","name":"Scale In Slave","uuid":"e35dd656-8b67-4960-a57b-b83aa000e2fa"}],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"404f7197_dag"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","uuid":"8adc3c2a-e6c5-4c64-9eee-07cd1f8b59a0","name":"a0748417_deployment"},"retries":"0","description":"","uuid":"e35dd656-8b67-4960-a57b-b83aa000e2fa","child_tasks_local_reference_list":[],"attrs":{"scaling_count":"1","type":"","scaling_type":"SCALEIN"},"timeout_secs":"0","type":"SCALING","variable_list":[],"name":"Scale In Slave"}],"description":"","uuid":"8c9fa7fb-ce22-45ff-94bc-b16ff9db6728","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"404f7197_dag","uuid":"aa2ccd58-4f53-4a8d-9eb1-bd1a86e45533"},"name":"3e36e562_runbook"},"type":"user","uuid":"0daef88d-d4cb-4e1f-a5e3-f8a5925601dd"}],"name":"Azure","variable_list":[{"val_type":"STRING","uuid":"5edadfbe-937e-4e37-9e83-1bc2121bebd2","name":"PROFILE","value":"AZURE","label":"","attrs":{"type":""},"type":"LOCAL","description":""},{"val_type":"STRING","uuid":"a65551e7-91f5-4aeb-81ad-3310da43a54b","name":"DB_PASSWORD","label":"","attrs":{"is_secret_modified":false,"secret_reference":{"uuid":"dc818db0-76d9-4c22-bf41-f3b15b11e8f2"}},"editables":{"value":true},"type":"SECRET","description":""}],"uuid":"56c3d7fb-e7a7-4842-a0de-c1d2f3aeb105"},{"deployment_create_list":[{"name":"8948778d_deployment_cloned_0","action_list":[],"package_local_reference_list":[{"kind":"app_package","uuid":"b7514626-0d97-b967-daee-aa861e7d64e9"}],"uuid":"3595c4e3-1ce0-55b3-018e-7f793e27fbfc","min_replicas":"1","max_replicas":"1","substrate_local_reference":{"kind":"app_substrate","uuid":"63de3a22-80dd-bdbe-bc85-900e651aeddb"},"type":"GREENFIELD","variable_list":[],"description":""},{"max_replicas":"4","action_list":[],"package_local_reference_list":[{"kind":"app_package","uuid":"15327eeb-b1a1-df5c-d65a-a4d9c6e94cc8"}],"description":"","uuid":"8013c2c1-3849-9d59-b051-4984cf51ae6d","min_replicas":"2","editables":{"min_replicas":true,"max_replicas":true},"substrate_local_reference":{"kind":"app_substrate","uuid":"58324931-231d-625a-e600-0b039c122559"},"type":"GREENFIELD","variable_list":[],"name":"1ee40052_deployment_cloned_0"}],"description":"","action_list":[{"description":"Take DB backup. \nDB_NAME : Name of DB to be backup\nBACKUP_FILE_PATH : Absolute directory path for backup file","name":"Backup","critical":false,"runbook":{"task_definition_list":[{"retries":"0","description":"","uuid":"958804b6-c052-fff1-885f-2d9fa3e80c7b","child_tasks_local_reference_list":[{"kind":"app_task","uuid":"efc6f36a-a1ae-c003-8961-24722d669624"}],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"b65659b5_dag_cloned_1"},{"target_any_local_reference":{"kind":"app_service","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","uuid":"efc6f36a-a1ae-c003-8961-24722d669624","child_tasks_local_reference_list":[],"attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\ndb_name=\"@@{DB_NAME}@@\"\nbackup_file_path=\"@@{BACKUP_FILE_PATH}@@\"\n\nsudo su - postgres bash -c \"pg_dump ${db_name} | gzip > ${backup_file_path}\"","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","type":"EXEC","variable_list":[],"name":"DoDBBackup"}],"description":"","uuid":"8f30757a-7308-8d74-f6c3-9436ffbe5060","variable_list":[{"val_type":"STRING","uuid":"bd976573-7334-211c-a37a-2f007b58b18b","name":"DB_NAME","value":"postgres","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","description":""},{"val_type":"STRING","uuid":"f938a591-4b8d-5c91-fa35-4d4ba2c6b101","name":"BACKUP_FILE_PATH","value":"~\/db.backup","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","description":""}],"main_task_local_reference":{"kind":"app_task","uuid":"958804b6-c052-fff1-885f-2d9fa3e80c7b"},"name":"2622e5f4_runbook_cloned_0"},"type":"user","uuid":"658dcb7a-5e4b-70a8-6447-b5363e36b9d0"},{"description":"Restore DB from dump file\nDB_NAME : Name of DB to be backup\nRESTORE_FILE_PATH : Absolute directory path for restore file","name":"Restore","critical":false,"runbook":{"task_definition_list":[{"retries":"0","description":"","uuid":"165e1e60-224a-f3cf-207a-99dd895f48c7","child_tasks_local_reference_list":[{"kind":"app_task","uuid":"60276fcb-fd9f-2973-a2ac-38e07067f9c5"}],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"9a0b4209_dag_cloned_1"},{"target_any_local_reference":{"kind":"app_service","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","uuid":"60276fcb-fd9f-2973-a2ac-38e07067f9c5","child_tasks_local_reference_list":[],"attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\ndb_name=\"@@{DB_NAME}@@\"\nrestore_file_path=\"@@{RESTORE_FILE_PATH}@@\"\n\nsudo su - postgres bash -c \"gunzip -c ${restore_file_path} | psql ${db_name}\"","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","type":"EXEC","variable_list":[],"name":"DoDBRestore"}],"description":"","uuid":"1342dca0-3e65-5896-f517-efd4594b9be0","variable_list":[{"val_type":"STRING","uuid":"97c12968-9ae7-d1ad-bcbe-1cbd68703e7e","name":"DB_NAME","value":"postgres","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","description":""},{"val_type":"STRING","uuid":"b4d47243-0ecc-293d-f177-d341872c2c8e","name":"RESTORE_FILE_PATH","value":"~\/db.backup","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","description":""}],"main_task_local_reference":{"kind":"app_task","uuid":"165e1e60-224a-f3cf-207a-99dd895f48c7"},"name":"efe6ad7e_runbook_cloned_0"},"type":"user","uuid":"a7b4d64f-8bd9-7953-7e31-fe3dade56383"},{"description":"","name":"Scale Out","critical":false,"runbook":{"task_definition_list":[{"retries":"0","description":"","uuid":"91e352b9-be0b-85ae-eee7-438554591f26","child_tasks_local_reference_list":[{"kind":"app_task","uuid":"38b83400-9d11-aa2e-d273-8744465357a1"},{"kind":"app_task","uuid":"594bc393-72ac-cb6d-be0f-1c7c59e7ab9c"},{"kind":"app_task","uuid":"83abe766-2c87-761e-0094-ed229baf3507"}],"attrs":{"edges":[{"from_task_reference":{"kind":"app_task","uuid":"38b83400-9d11-aa2e-d273-8744465357a1"},"edge_type":"user_defined","type":"","uuid":"053b48cc-ca0a-4102-e066-decb32f584ed","to_task_reference":{"kind":"app_task","uuid":"83abe766-2c87-761e-0094-ed229baf3507"}},{"from_task_reference":{"kind":"app_task","uuid":"594bc393-72ac-cb6d-be0f-1c7c59e7ab9c"},"edge_type":"user_defined","type":"","uuid":"7f4aecde-1319-e2b1-0ed9-fb0e6c52f6e5","to_task_reference":{"kind":"app_task","uuid":"83abe766-2c87-761e-0094-ed229baf3507"}},{"from_task_reference":{"kind":"app_task","uuid":"38b83400-9d11-aa2e-d273-8744465357a1"},"edge_type":"user_defined","type":"","uuid":"d296b69a-894f-5ecf-88af-ca2112529990","to_task_reference":{"kind":"app_task","uuid":"594bc393-72ac-cb6d-be0f-1c7c59e7ab9c"}}],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"1ae0554a_dag_cloned_1"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","uuid":"8013c2c1-3849-9d59-b051-4984cf51ae6d"},"retries":"0","description":"","uuid":"38b83400-9d11-aa2e-d273-8744465357a1","child_tasks_local_reference_list":[],"attrs":{"scaling_count":"1","type":"","scaling_type":"SCALEOUT"},"timeout_secs":"0","type":"SCALING","variable_list":[],"name":"Scale Out Slaves"},{"target_any_local_reference":{"kind":"app_service","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","description":"","uuid":"594bc393-72ac-cb6d-be0f-1c7c59e7ab9c","child_tasks_local_reference_list":[],"attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\nSlaves=($(echo @@{VMwareSlave.address}@@ | sed 's\/^,\/\/' | sed 's\/,$\/\/' | tr \",\" \" \")) \n\necho \"host    replication     rep     ${Slaves[-1]}\/32     md5\" | sudo tee -a \/var\/lib\/pgsql\/9.6\/data\/pg_hba.conf\n\nsudo -i -u postgres \/usr\/pgsql-9.6\/bin\/pg_ctl reload;\n\nsleep 20\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","type":"EXEC","variable_list":[],"name":"Configure Master"},{"target_any_local_reference":{"kind":"app_service","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","description":"","uuid":"83abe766-2c87-761e-0094-ed229baf3507","child_tasks_local_reference_list":[],"attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\nSlaves=($(echo @@{Postgres_Slave.address}@@ | sed 's\/^,\/\/' | sed 's\/,$\/\/' | tr \",\" \" \"))    \nScaleout_IP=${Slaves[-1]}\n\nif [ \"${Scaleout_IP}\" != \"@@{address}@@\" ]\nthen\n\texit 0;\nfi\n\nMaster_IP=@@{VMwareMaster.address}@@\n\nsudo systemctl stop postgresql-9.6\nsleep 2;\n\nsudo su - postgres <<EOF\n  mv 9.6\/data 9.6\/data.org\n  echo \"${Master_IP}:5432:*:rep:@@{DB_PASSWORD}@@\" > ~\/.pgpass\n  chmod 0600 ~\/.pgpass\n  pg_basebackup -h ${Master_IP} -D \/var\/lib\/pgsql\/9.6\/data -U rep -v -P\nEOF\n\n\n##copy the created postgres directory to a temp directory\nsudo mkdir \/tmp\/pgsql\nsudo mv \/var\/lib\/pgsql\/9.6\/data \/tmp\/pgsql\n\n#Create directory , fix permissions and Mount LVM\nsudo mkdir \/var\/lib\/pgsql\/9.6\/data\/\nsudo mount -o noatime,barrier=0 \/dev\/pgDataVG\/pgDataLV \/var\/lib\/pgsql\/9.6\/data\/ \n\nsudo mkdir \/var\/lib\/pgsql\/9.6\/data\/pg_xlog\nsudo mount -o noatime,barrier=0 \/dev\/pgLogVG\/pgLogLV \/var\/lib\/pgsql\/9.6\/data\/pg_xlog\n\nsudo chown -R postgres:postgres \/var\/lib\/pgsql\/9.6\/data\/\n\n#move the xlog to the new LVM\nsudo find \/tmp\/pgsql\/data\/pg_xlog -maxdepth 1 -mindepth 1 -exec mv -t \/var\/lib\/pgsql\/9.6\/data\/pg_xlog\/ {} +\n\n#remove pg_xlog from temp dir to avoid being copied again\nsudo rm -rf \/tmp\/pgsql\/data\/pg_xlog\n\n#move the pgsql directory to the LVM\nsudo find \/tmp\/pgsql\/data -maxdepth 1 -mindepth 1 -exec mv -t \/var\/lib\/pgsql\/9.6\/data\/ {} +\n\nsudo chmod -R 0700 \/var\/lib\/pgsql\/9.6\/data\n\n#enable service on boot\nsudo systemctl enable postgresql-9.6.service\n\n#add mount points to \/etc\/fstab\necho \"\/dev\/mapper\/pgDataVG-pgDataLV \/var\/lib\/pgsql\/9.6\/data ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\necho \"\/dev\/mapper\/pgLogVG-pgLogLV \/var\/lib\/pgsql\/9.6\/data\/pg_xlog ext4 rw,seclabel,noatime,nobarrier,stripe=2048,data=ordered 0 0\" | sudo tee -a  \/etc\/fstab\n\n\nsleep 2\nsudo sed -i -e 's\/ExecStart=.*\/ExecStart=\\\/usr\\\/pgsql-9\\.6\\\/bin\\\/pg_ctl start -D ${PGDATA} -s -W -t 300\/g' \/usr\/lib\/systemd\/system\/postgresql-9.6.service\n\necho \"host    replication     rep     ${Master_IP}\/32     md5\" | sudo tee -a \/var\/lib\/pgsql\/9.6\/data\/pg_hba.conf\necho \"listen_addresses = '*'\nwal_level = 'hot_standby'\narchive_mode = on\narchive_command = 'cd .'\nmax_wal_senders = 3\nhot_standby = on\nwal_keep_segments = 8\" | sudo tee -a \/var\/lib\/pgsql\/9.6\/data\/postgresql.conf\n\nsudo su - postgres sh -c \"touch 9.6\/data\/recovery.conf\"\n\necho \"standby_mode = 'on'\nprimary_conninfo = 'host=${Master_IP} port=5432 user=rep password=@@{DB_PASSWORD}@@'\ntrigger_file = '\/tmp\/postgresql.trigger.5432'\" | sudo tee -a \/var\/lib\/pgsql\/9.6\/data\/recovery.conf\n\nsudo systemctl start postgresql-9.6","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","type":"EXEC","variable_list":[],"name":"Configure Slave"}],"description":"","uuid":"0bcf6338-6acd-6f3e-9043-dbbf02cefd75","variable_list":[{"val_type":"STRING","uuid":"335b3c84-1d55-6127-4861-7150a4086075","name":"IS_SCALEOUT","value":"YES","label":"","attrs":{"type":""},"type":"LOCAL","description":""}],"main_task_local_reference":{"kind":"app_task","uuid":"91e352b9-be0b-85ae-eee7-438554591f26"},"name":"e82289de_runbook_cloned_0"},"type":"user","uuid":"1017a547-4613-a86a-b085-4f6b262eb19d"},{"description":"","name":"Scale In","critical":false,"runbook":{"task_definition_list":[{"retries":"0","description":"","uuid":"c3cee2b9-cdce-84f0-09b4-55d2775d98ba","child_tasks_local_reference_list":[{"kind":"app_task","uuid":"f5b60fc8-72d2-d6e6-e1af-c42c79cee585"}],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"47646377_dag_cloned_1"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","uuid":"8013c2c1-3849-9d59-b051-4984cf51ae6d"},"retries":"0","description":"","uuid":"f5b60fc8-72d2-d6e6-e1af-c42c79cee585","child_tasks_local_reference_list":[],"attrs":{"scaling_count":"1","type":"","scaling_type":"SCALEIN"},"timeout_secs":"0","type":"SCALING","variable_list":[],"name":"Scale In Slaves_cloned_1"}],"description":"","uuid":"9f1e3f13-2ce8-030b-f2e8-ca5ad2377b87","variable_list":[],"main_task_local_reference":{"kind":"app_task","uuid":"c3cee2b9-cdce-84f0-09b4-55d2775d98ba"},"name":"4fcc04a9_runbook_cloned_0"},"type":"user","uuid":"290145f0-a116-30a6-5cf6-635c896984cd"}],"name":"VMware","variable_list":[{"val_type":"STRING","uuid":"b401b902-a6e2-3564-d137-b2905f51831c","name":"PROFILE","value":"VMWARE","label":"","attrs":{"type":""},"type":"LOCAL","description":""},{"val_type":"STRING","uuid":"bbe27175-383b-8d17-0368-e40136970a13","name":"DB_PASSWORD","label":"","attrs":{"is_secret_modified":false,"secret_reference":{"uuid":"cdf6fff0-e339-4abf-b590-85b88dbe8151"}},"editables":{"value":true},"type":"SECRET","description":""}],"uuid":"0dc8e7fe-1688-9772-3d28-902f381fb25a"}],"default_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"},"package_definition_list":[{"uuid":"bc0a0971-6f55-42be-87e4-da9d29132d7f","action_list":[],"service_local_reference_list":[{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"}],"name":"AHVMasterPackage","version":"","type":"DEB","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVMasterPackage","uuid":"bc0a0971-6f55-42be-87e4-da9d29132d7f"},"retries":"0","name":"3b8ed3d2_dag","type":"DAG","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"Install System Packages","uuid":"3a787f69-3686-45f3-802e-e661507bef51"},{"kind":"app_task","name":"Create Disk Setup","uuid":"3a09eedf-5c29-4a3e-9eaa-287378989086"},{"kind":"app_task","name":"Install Postgres","uuid":"ef0dc7ac-a8ef-4147-8877-f1c0728f004d"},{"kind":"app_task","name":"Setup Postgres","uuid":"d541ab4f-8c0d-474f-9bc0-63eea5a9ccc6"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Install System Packages","uuid":"3a787f69-3686-45f3-802e-e661507bef51"},"edge_type":"user_defined","type":"","uuid":"015a437e-097f-402b-b07e-a79d507dd887","to_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"3a09eedf-5c29-4a3e-9eaa-287378989086"}},{"from_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"3a09eedf-5c29-4a3e-9eaa-287378989086"},"edge_type":"user_defined","type":"","uuid":"f1ea25aa-22e8-436b-8e08-b717d4090f47","to_task_reference":{"kind":"app_task","name":"Install Postgres","uuid":"ef0dc7ac-a8ef-4147-8877-f1c0728f004d"}},{"from_task_reference":{"kind":"app_task","name":"Install Postgres","uuid":"ef0dc7ac-a8ef-4147-8877-f1c0728f004d"},"edge_type":"user_defined","type":"","uuid":"a21d4d2e-b63f-467f-844a-f5543327c013","to_task_reference":{"kind":"app_task","name":"Setup Postgres","uuid":"d541ab4f-8c0d-474f-9bc0-63eea5a9ccc6"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"00e724ec-6fce-463e-9446-5074a816b93f"},{"target_any_local_reference":{"kind":"app_package","name":"AHVMasterPackage","uuid":"bc0a0971-6f55-42be-87e4-da9d29132d7f"},"retries":"0","name":"Install System Packages","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\nsudo yum -y upgrade\nsudo curl -O http:\/\/dl.fedoraproject.org\/pub\/epel\/7\/x86_64\/e\/epel-release-7-10.noarch.rpm\nsudo rpm --import https:\/\/www.elrepo.org\/RPM-GPG-KEY-elrepo.org\nsudo rpm -Uvh http:\/\/www.elrepo.org\/elrepo-release-7.0-3.el7.elrepo.noarch.rpm \nsudo rpm -ihv epel-release-7-10.noarch.rpm \n\nsudo yum update -y\nsudo yum -y install htop wget iotop xfs* bc unzip lvm2*\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"System packages are installed\"\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"3a787f69-3686-45f3-802e-e661507bef51"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","name":"Create Disk Setup","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n##############\n#\n# LVM setup script for PostgreSQL . 4 disks for DATA and 2 for logs\n# Data disks are 60GB | Log disks are 20GB \n#\n#############\n\n\n#PGSQL data\nsudo pvcreate \/dev\/sdb \/dev\/sdc \/dev\/sdd \/dev\/sde\nsudo vgcreate pgDataVG \/dev\/sdb \/dev\/sdd \/dev\/sdc \/dev\/sde\nsudo lvcreate -l 100%FREE -i4 -I1M -n pgDataLV pgDataVG          ## Use 1MB to avoid IO amplification \n#lvcreate -l 100%FREE -i4 -I4M -n pgDataLV pgDataVG\n\n\n#PGSQL logs\nsudo pvcreate \/dev\/sdf \/dev\/sdg \nsudo vgcreate pgLogVG \/dev\/sdf \/dev\/sdg\nsudo lvcreate -l 100%FREE -i2 -I1M -n pgLogLV pgLogVG            ## Use 1MB to avoid IO amplification\n#lvcreate -l 100%FREE -i2 -I4M -n pgLogLV pgLogVG\n\n\n#Disable LVM read ahead\nsudo lvchange -r 0 \/dev\/pgDataVG\/pgDataLV\nsudo lvchange -r 0 \/dev\/pgLogVG\/pgLogLV\n\n\n#Format LVMs with ext4 and use nodiscard to make sure format time is fast on Nutanix due to SCSI unmap\nsudo mkfs.ext4 -E nodiscard \/dev\/pgDataVG\/pgDataLV\nsudo mkfs.ext4 -E nodiscard \/dev\/pgLogVG\/pgLogLV\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"3a09eedf-5c29-4a3e-9eaa-287378989086"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","name":"Install Postgres","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\nsudo wget -c https:\/\/download.postgresql.org\/pub\/repos\/yum\/9.6\/redhat\/rhel-7-x86_64\/pgdg-centos96-9.6-3.noarch.rpm\nsudo yum -y install pgdg-centos96-9.6-3.noarch.rpm\nsudo rpm --import http:\/\/packages.2ndquadrant.com\/repmgr\/RPM-GPG-KEY-repmgr\nsudo yum install -y http:\/\/packages.2ndquadrant.com\/repmgr\/yum-repo-rpms\/repmgr-rhel-1.0-1.noarch.rpm\n\n# Install PostgreSQL\nsudo yum -y install postgresql96 postgresql96-contrib postgresql96-server postgresql96-devel postgresql96-plpython\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"ef0dc7ac-a8ef-4147-8877-f1c0728f004d"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","name":"Setup Postgres","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\n#run initdb\nsudo \/usr\/pgsql-9.6\/bin\/postgresql96-setup initdb\n\n#start and stop postgresql to make sure DB creates the required directories\nsudo systemctl start postgresql-9.6.service\nsudo systemctl stop postgresql-9.6.service\n\n##copy the created postgres directory to a temp directory\n\nsudo mkdir \/tmp\/pgsql\n\nsudo mv \/var\/lib\/pgsql\/9.6\/data \/tmp\/pgsql\n\n#Create directory , fix permissions and Mount LVM\nsudo mkdir \/var\/lib\/pgsql\/9.6\/data\/\nsudo mount -o noatime,barrier=0 \/dev\/pgDataVG\/pgDataLV \/var\/lib\/pgsql\/9.6\/data\/ \n\nsudo mkdir \/var\/lib\/pgsql\/9.6\/data\/pg_xlog\nsudo mount -o noatime,barrier=0 \/dev\/pgLogVG\/pgLogLV \/var\/lib\/pgsql\/9.6\/data\/pg_xlog\n\nsudo chown -R postgres:postgres \/var\/lib\/pgsql\/9.6\/data\/\n\n#move the xlog to the new LVM\nsudo find \/tmp\/pgsql\/data\/pg_xlog -maxdepth 1 -mindepth 1 -exec mv -t \/var\/lib\/pgsql\/9.6\/data\/pg_xlog\/ {} +\n\n#remove pg_xlog from temp dir to avoid being copied again\nsudo rm -rf \/tmp\/pgsql\/data\/pg_xlog\n\n#move the pgsql directory to the LVM\nsudo find \/tmp\/pgsql\/data -maxdepth 1 -mindepth 1 -exec mv -t \/var\/lib\/pgsql\/9.6\/data\/ {} +\n\nsudo chmod -R 0700 \/var\/lib\/pgsql\/9.6\/data\n\n#enable service on boot\nsudo systemctl enable postgresql-9.6.service\n\n#add mount points to \/etc\/fstab\necho \"\/dev\/mapper\/pgDataVG-pgDataLV \/var\/lib\/pgsql\/9.6\/data ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\necho \"\/dev\/mapper\/pgLogVG-pgLogLV \/var\/lib\/pgsql\/9.6\/data\/pg_xlog ext4 rw,seclabel,noatime,nobarrier,stripe=2048,data=ordered 0 0\" | sudo tee -a  \/etc\/fstab\n\n\nsudo systemctl status postgresql-9.6\nsudo systemctl restart postgresql-9.6\nsudo systemctl status postgresql-9.6\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"d541ab4f-8c0d-474f-9bc0-63eea5a9ccc6"}],"name":"ed3d1488_runbook","description":"","state":"ACTIVE","variable_list":[],"message_list":[],"main_task_local_reference":{"kind":"app_task","name":"3b8ed3d2_dag","uuid":"00e724ec-6fce-463e-9446-5074a816b93f"},"uuid":"93df7bf3-f59b-4ed4-a020-55fa0a47f921"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVMasterPackage","uuid":"bc0a0971-6f55-42be-87e4-da9d29132d7f"},"retries":"0","name":"ef748d77_dag","type":"DAG","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"PackageUninstallTask","uuid":"97fa496c-9ed2-4cc0-b7fa-649995accd0a"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"17a6287c-0d7b-46c1-af71-f8f1e68c4aac"},{"target_any_local_reference":{"kind":"app_package","name":"AHVMasterPackage","uuid":"bc0a0971-6f55-42be-87e4-da9d29132d7f"},"retries":"0","name":"PackageUninstallTask","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"97fa496c-9ed2-4cc0-b7fa-649995accd0a"}],"name":"e7b91ba0_runbook","description":"","state":"ACTIVE","variable_list":[],"message_list":[],"main_task_local_reference":{"kind":"app_task","name":"ef748d77_dag","uuid":"17a6287c-0d7b-46c1-af71-f8f1e68c4aac"},"uuid":"2e34a8a2-93db-4ccf-bdde-5315ff368bd4"}},"variable_list":[],"description":""},{"uuid":"5805d838-62cc-43fb-9302-ed138e4e1bed","action_list":[],"service_local_reference_list":[{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"}],"name":"AWSMasterPackage","version":"","type":"DEB","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSMasterPackage","uuid":"5805d838-62cc-43fb-9302-ed138e4e1bed"},"retries":"0","name":"37b8393e_dag","type":"DAG","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"Install System Packages","uuid":"cb149533-de93-4806-a5cc-460d29dbdcfe"},{"kind":"app_task","name":"Create Disk Setup","uuid":"cb8669d0-a0dc-4cd1-bfae-1712d7032720"},{"kind":"app_task","name":"Install Postgres","uuid":"84b87aba-db96-4d45-a9c9-1a8ea5e369db"},{"kind":"app_task","name":"Setup Postgres","uuid":"df8551ba-746f-4c4a-81e6-e77ddfd361b4"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Install System Packages","uuid":"cb149533-de93-4806-a5cc-460d29dbdcfe"},"edge_type":"user_defined","type":"","uuid":"8792647b-1765-41a6-87b7-2fd144046460","to_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"cb8669d0-a0dc-4cd1-bfae-1712d7032720"}},{"from_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"cb8669d0-a0dc-4cd1-bfae-1712d7032720"},"edge_type":"user_defined","type":"","uuid":"1bf74cae-68c0-4779-8d6e-6c07b083b826","to_task_reference":{"kind":"app_task","name":"Install Postgres","uuid":"84b87aba-db96-4d45-a9c9-1a8ea5e369db"}},{"from_task_reference":{"kind":"app_task","name":"Install Postgres","uuid":"84b87aba-db96-4d45-a9c9-1a8ea5e369db"},"edge_type":"user_defined","type":"","uuid":"f1fcfc1a-0b81-4be5-b69a-975acc94cd93","to_task_reference":{"kind":"app_task","name":"Setup Postgres","uuid":"df8551ba-746f-4c4a-81e6-e77ddfd361b4"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"9f440956-2b49-4e75-88cd-fc036fce99c6"},{"target_any_local_reference":{"kind":"app_package","name":"AWSMasterPackage","uuid":"5805d838-62cc-43fb-9302-ed138e4e1bed"},"retries":"0","name":"Install System Packages","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\nsudo yum -y upgrade\nsudo curl -O http:\/\/dl.fedoraproject.org\/pub\/epel\/7\/x86_64\/e\/epel-release-7-10.noarch.rpm\nsudo rpm --import https:\/\/www.elrepo.org\/RPM-GPG-KEY-elrepo.org\nsudo rpm -Uvh http:\/\/www.elrepo.org\/elrepo-release-7.0-3.el7.elrepo.noarch.rpm \nsudo rpm -ihv epel-release-7-10.noarch.rpm \n\nsudo yum update -y\nsudo yum -y install htop wget iotop xfs* bc unzip lvm2*\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"System packages are installed\"\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"cb149533-de93-4806-a5cc-460d29dbdcfe"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","name":"Create Disk Setup","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n##############\n#\n# LVM setup script for PostgreSQL . 4 disks for DATA and 2 for logs\n# Data disks are 60GB | Log disks are 20GB \n#\n#############\n\n\n#PGSQL data\nsudo pvcreate \/dev\/xvdb \/dev\/xvdc \/dev\/xvdd \/dev\/xvde\nsudo vgcreate pgDataVG \/dev\/xvdb \/dev\/xvdd \/dev\/xvdc \/dev\/xvde\nsudo lvcreate -l 100%FREE -i4 -I1M -n pgDataLV pgDataVG          ## Use 1MB to avoid IO amplification \n#lvcreate -l 100%FREE -i4 -I4M -n pgDataLV pgDataVG\n\n\n#PGSQL logs\nsudo pvcreate \/dev\/xvdf \/dev\/xvdg \nsudo vgcreate pgLogVG \/dev\/xvdf \/dev\/xvdg\nsudo lvcreate -l 100%FREE -i2 -I1M -n pgLogLV pgLogVG            ## Use 1MB to avoid IO amplification\n#lvcreate -l 100%FREE -i2 -I4M -n pgLogLV pgLogVG\n\n\n#Disable LVM read ahead\nsudo lvchange -r 0 \/dev\/pgDataVG\/pgDataLV\nsudo lvchange -r 0 \/dev\/pgLogVG\/pgLogLV\n\n\n#Format LVMs with ext4 and use nodiscard to make sure format time is fast on Nutanix due to SCSI unmap\nsudo mkfs.ext4 -E nodiscard \/dev\/pgDataVG\/pgDataLV\nsudo mkfs.ext4 -E nodiscard \/dev\/pgLogVG\/pgLogLV\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"cb8669d0-a0dc-4cd1-bfae-1712d7032720"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","name":"Install Postgres","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\nsudo wget -c https:\/\/download.postgresql.org\/pub\/repos\/yum\/9.6\/redhat\/rhel-7-x86_64\/pgdg-centos96-9.6-3.noarch.rpm\nsudo yum -y install pgdg-centos96-9.6-3.noarch.rpm\nsudo rpm --import http:\/\/packages.2ndquadrant.com\/repmgr\/RPM-GPG-KEY-repmgr\nsudo yum install -y http:\/\/packages.2ndquadrant.com\/repmgr\/yum-repo-rpms\/repmgr-rhel-1.0-1.noarch.rpm\n\n# Install PostgreSQL\nsudo yum -y install postgresql96 postgresql96-contrib postgresql96-server postgresql96-devel postgresql96-plpython\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"84b87aba-db96-4d45-a9c9-1a8ea5e369db"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","name":"Setup Postgres","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\n#run initdb\nsudo \/usr\/pgsql-9.6\/bin\/postgresql96-setup initdb\n\n#start and stop postgresql to make sure DB creates the required directories\nsudo systemctl start postgresql-9.6.service\nsudo systemctl stop postgresql-9.6.service\n\n##copy the created postgres directory to a temp directory\n\nsudo mkdir \/tmp\/pgsql\n\nsudo mv \/var\/lib\/pgsql\/9.6\/data \/tmp\/pgsql\n\n#Create directory , fix permissions and Mount LVM\nsudo mkdir \/var\/lib\/pgsql\/9.6\/data\/\nsudo mount -o noatime,barrier=0 \/dev\/pgDataVG\/pgDataLV \/var\/lib\/pgsql\/9.6\/data\/ \n\nsudo mkdir \/var\/lib\/pgsql\/9.6\/data\/pg_xlog\nsudo mount -o noatime,barrier=0 \/dev\/pgLogVG\/pgLogLV \/var\/lib\/pgsql\/9.6\/data\/pg_xlog\n\nsudo chown -R postgres:postgres \/var\/lib\/pgsql\/9.6\/data\/\n\n#move the xlog to the new LVM\nsudo find \/tmp\/pgsql\/data\/pg_xlog -maxdepth 1 -mindepth 1 -exec mv -t \/var\/lib\/pgsql\/9.6\/data\/pg_xlog\/ {} +\n\n#remove pg_xlog from temp dir to avoid being copied again\nsudo rm -rf \/tmp\/pgsql\/data\/pg_xlog\n\n#move the pgsql directory to the LVM\nsudo find \/tmp\/pgsql\/data -maxdepth 1 -mindepth 1 -exec mv -t \/var\/lib\/pgsql\/9.6\/data\/ {} +\n\nsudo chmod -R 0700 \/var\/lib\/pgsql\/9.6\/data\n\n#enable service on boot\nsudo systemctl enable postgresql-9.6.service\n\n#add mount points to \/etc\/fstab\necho \"\/dev\/mapper\/pgDataVG-pgDataLV \/var\/lib\/pgsql\/9.6\/data ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\necho \"\/dev\/mapper\/pgLogVG-pgLogLV \/var\/lib\/pgsql\/9.6\/data\/pg_xlog ext4 rw,seclabel,noatime,nobarrier,stripe=2048,data=ordered 0 0\" | sudo tee -a  \/etc\/fstab\n\n\nsudo systemctl status postgresql-9.6\nsudo systemctl restart postgresql-9.6\nsudo systemctl status postgresql-9.6","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"df8551ba-746f-4c4a-81e6-e77ddfd361b4"}],"name":"13f00dce_runbook","description":"","state":"ACTIVE","variable_list":[],"message_list":[],"main_task_local_reference":{"kind":"app_task","name":"37b8393e_dag","uuid":"9f440956-2b49-4e75-88cd-fc036fce99c6"},"uuid":"9ba18b29-34fc-406c-a828-ba0ee542a4e1"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSMasterPackage","uuid":"5805d838-62cc-43fb-9302-ed138e4e1bed"},"retries":"0","name":"a865e906_dag","type":"DAG","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"PackageUninstallTask","uuid":"524d7e90-83a2-48cc-9d2d-a240fc1605ad"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"61b68c7e-aa00-4a1d-a409-7682a30069ea"},{"target_any_local_reference":{"kind":"app_package","name":"AWSMasterPackage","uuid":"5805d838-62cc-43fb-9302-ed138e4e1bed"},"retries":"0","name":"PackageUninstallTask","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"524d7e90-83a2-48cc-9d2d-a240fc1605ad"}],"name":"0b0a708d_runbook","description":"","state":"ACTIVE","variable_list":[],"message_list":[],"main_task_local_reference":{"kind":"app_task","name":"a865e906_dag","uuid":"61b68c7e-aa00-4a1d-a409-7682a30069ea"},"uuid":"f8f6740f-c857-4b1f-93b9-876e77b5482c"}},"variable_list":[],"description":""},{"uuid":"d2ffe3cf-564e-49d2-a884-798626bcb5bf","action_list":[],"service_local_reference_list":[],"name":"AHV_CENTOS_76","version":"","type":"SUBSTRATE_IMAGE","options":{"type":"","name":"Centos-7.4-1810","resources":{"image_type":"DISK_IMAGE","checksum":{"checksum_algorithm":"","type":"","checksum_value":""},"source_uri":"http:\/\/download.nutanix.com\/calm\/CentOS-7-x86_64-1810.qcow2","version":{"product_version":"","type":"","product_name":""},"architecture":"X86_64","type":""},"description":""},"variable_list":[],"description":""},{"uuid":"b5d0f3b4-c040-4fa9-ae5d-8f996b9efa42","action_list":[],"service_local_reference_list":[{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"}],"name":"GCPMasterPackage","version":"","type":"DEB","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPMasterPackage","uuid":"b5d0f3b4-c040-4fa9-ae5d-8f996b9efa42"},"retries":"0","name":"fa364770_dag","type":"DAG","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"Install System Packages","uuid":"c28e095f-7d81-40fc-867f-cc44501a7166"},{"kind":"app_task","name":"Create Disk Setup","uuid":"6cf6a7c0-b3bd-4678-a6c0-75fdb16e4062"},{"kind":"app_task","name":"Install Postgres","uuid":"4cfd1527-b0f4-4421-91bf-84a3ca39fb33"},{"kind":"app_task","name":"Setup Postgres","uuid":"5c5357bc-e01a-4822-9cf7-bc0e788b4225"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Install System Packages","uuid":"c28e095f-7d81-40fc-867f-cc44501a7166"},"edge_type":"user_defined","type":"","uuid":"87f101db-6e7a-4730-bd5e-ab4d2fdb51a0","to_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"6cf6a7c0-b3bd-4678-a6c0-75fdb16e4062"}},{"from_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"6cf6a7c0-b3bd-4678-a6c0-75fdb16e4062"},"edge_type":"user_defined","type":"","uuid":"82e640fc-f80a-4865-a440-96004345526c","to_task_reference":{"kind":"app_task","name":"Install Postgres","uuid":"4cfd1527-b0f4-4421-91bf-84a3ca39fb33"}},{"from_task_reference":{"kind":"app_task","name":"Install Postgres","uuid":"4cfd1527-b0f4-4421-91bf-84a3ca39fb33"},"edge_type":"user_defined","type":"","uuid":"52c9035e-10f3-4207-8d0c-5d8f3e14286c","to_task_reference":{"kind":"app_task","name":"Setup Postgres","uuid":"5c5357bc-e01a-4822-9cf7-bc0e788b4225"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"808c364e-6cee-45d9-b311-b90a91745f8b"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","name":"Install System Packages","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\nsudo yum -y upgrade\nsudo curl -O http:\/\/dl.fedoraproject.org\/pub\/epel\/7\/x86_64\/e\/epel-release-7-10.noarch.rpm\nsudo rpm --import https:\/\/www.elrepo.org\/RPM-GPG-KEY-elrepo.org\nsudo rpm -Uvh http:\/\/www.elrepo.org\/elrepo-release-7.0-3.el7.elrepo.noarch.rpm \nsudo rpm -ihv epel-release-7-10.noarch.rpm \n\nsudo yum update -y\nsudo yum -y install htop wget iotop xfs* bc unzip lvm2*\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"System packages are installed\"\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"c28e095f-7d81-40fc-867f-cc44501a7166"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","name":"Create Disk Setup","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n##############\n#\n# LVM setup script for PostgreSQL . 4 disks for DATA and 2 for logs\n# Data disks are 60GB | Log disks are 20GB \n#\n#############\n\n\n#PGSQL data\nsudo pvcreate \/dev\/sdb \/dev\/sdc \/dev\/sdd \/dev\/sde\nsudo vgcreate pgDataVG \/dev\/sdb \/dev\/sdd \/dev\/sdc \/dev\/sde\nsudo lvcreate -l 100%FREE -i4 -I1M -n pgDataLV pgDataVG          ## Use 1MB to avoid IO amplification \n#lvcreate -l 100%FREE -i4 -I4M -n pgDataLV pgDataVG\n\n\n#PGSQL logs\nsudo pvcreate \/dev\/sdf \/dev\/sdg \nsudo vgcreate pgLogVG \/dev\/sdf \/dev\/sdg\nsudo lvcreate -l 100%FREE -i2 -I1M -n pgLogLV pgLogVG            ## Use 1MB to avoid IO amplification\n#lvcreate -l 100%FREE -i2 -I4M -n pgLogLV pgLogVG\n\n\n#Disable LVM read ahead\nsudo lvchange -r 0 \/dev\/pgDataVG\/pgDataLV\nsudo lvchange -r 0 \/dev\/pgLogVG\/pgLogLV\n\n\n#Format LVMs with ext4 and use nodiscard to make sure format time is fast on Nutanix due to SCSI unmap\nsudo mkfs.ext4 -E nodiscard \/dev\/pgDataVG\/pgDataLV\nsudo mkfs.ext4 -E nodiscard \/dev\/pgLogVG\/pgLogLV\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"6cf6a7c0-b3bd-4678-a6c0-75fdb16e4062"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","name":"Install Postgres","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\nsudo wget -c https:\/\/download.postgresql.org\/pub\/repos\/yum\/9.6\/redhat\/rhel-7-x86_64\/pgdg-centos96-9.6-3.noarch.rpm\nsudo yum -y install pgdg-centos96-9.6-3.noarch.rpm\nsudo rpm --import http:\/\/packages.2ndquadrant.com\/repmgr\/RPM-GPG-KEY-repmgr\nsudo yum install -y http:\/\/packages.2ndquadrant.com\/repmgr\/yum-repo-rpms\/repmgr-rhel-1.0-1.noarch.rpm\n\n# Install PostgreSQL\nsudo yum -y install postgresql96 postgresql96-contrib postgresql96-server postgresql96-devel postgresql96-plpython\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"4cfd1527-b0f4-4421-91bf-84a3ca39fb33"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","name":"Setup Postgres","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\n#run initdb\nsudo \/usr\/pgsql-9.6\/bin\/postgresql96-setup initdb\n\n#start and stop postgresql to make sure DB creates the required directories\nsudo systemctl start postgresql-9.6.service\nsudo systemctl stop postgresql-9.6.service\n\n##copy the created postgres directory to a temp directory\n\nsudo mkdir \/tmp\/pgsql\n\nsudo mv \/var\/lib\/pgsql\/9.6\/data \/tmp\/pgsql\n\n#Create directory , fix permissions and Mount LVM\nsudo mkdir \/var\/lib\/pgsql\/9.6\/data\/\nsudo mount -o noatime,barrier=0 \/dev\/pgDataVG\/pgDataLV \/var\/lib\/pgsql\/9.6\/data\/ \n\nsudo mkdir \/var\/lib\/pgsql\/9.6\/data\/pg_xlog\nsudo mount -o noatime,barrier=0 \/dev\/pgLogVG\/pgLogLV \/var\/lib\/pgsql\/9.6\/data\/pg_xlog\n\nsudo chown -R postgres:postgres \/var\/lib\/pgsql\/9.6\/data\/\n\n#move the xlog to the new LVM\nsudo find \/tmp\/pgsql\/data\/pg_xlog -maxdepth 1 -mindepth 1 -exec mv -t \/var\/lib\/pgsql\/9.6\/data\/pg_xlog\/ {} +\n\n#remove pg_xlog from temp dir to avoid being copied again\nsudo rm -rf \/tmp\/pgsql\/data\/pg_xlog\n\n#move the pgsql directory to the LVM\nsudo find \/tmp\/pgsql\/data -maxdepth 1 -mindepth 1 -exec mv -t \/var\/lib\/pgsql\/9.6\/data\/ {} +\n\nsudo chmod -R 0700 \/var\/lib\/pgsql\/9.6\/data\n\n#enable service on boot\nsudo systemctl enable postgresql-9.6.service\n\n#add mount points to \/etc\/fstab\necho \"\/dev\/mapper\/pgDataVG-pgDataLV \/var\/lib\/pgsql\/9.6\/data ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\necho \"\/dev\/mapper\/pgLogVG-pgLogLV \/var\/lib\/pgsql\/9.6\/data\/pg_xlog ext4 rw,seclabel,noatime,nobarrier,stripe=2048,data=ordered 0 0\" | sudo tee -a  \/etc\/fstab\n\n\nsudo systemctl status postgresql-9.6\nsudo systemctl restart postgresql-9.6\nsudo systemctl status postgresql-9.6","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"5c5357bc-e01a-4822-9cf7-bc0e788b4225"}],"name":"ed71914a_runbook","description":"","state":"ACTIVE","variable_list":[],"message_list":[],"main_task_local_reference":{"kind":"app_task","name":"fa364770_dag","uuid":"808c364e-6cee-45d9-b311-b90a91745f8b"},"uuid":"c44fd841-fcb8-4ba4-b40e-ada1edd06922"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPMasterPackage","uuid":"b5d0f3b4-c040-4fa9-ae5d-8f996b9efa42"},"retries":"0","name":"08278acb_dag","type":"DAG","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"90092e19-5e1b-4fcb-9683-9dc97f06de4a"}],"name":"d6caa99d_runbook","description":"","state":"ACTIVE","variable_list":[],"message_list":[],"main_task_local_reference":{"kind":"app_task","name":"08278acb_dag","uuid":"90092e19-5e1b-4fcb-9683-9dc97f06de4a"},"uuid":"bf88d511-0cbd-4880-b1c4-b294235e6fdd"}},"variable_list":[],"description":""},{"uuid":"60df6e19-5223-47b3-980c-c5b707533fa9","action_list":[],"service_local_reference_list":[{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"}],"name":"AHVSlavePackage","version":"","type":"DEB","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVSlavePackage","uuid":"60df6e19-5223-47b3-980c-c5b707533fa9"},"retries":"0","name":"3b6ef475_dag","type":"DAG","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"Install System Packages","uuid":"34cfc664-08ae-423c-9d40-a5ce34ec1042"},{"kind":"app_task","name":"Create Disk Setup","uuid":"356015ad-328d-4ced-a111-bf16828e6683"},{"kind":"app_task","name":"Install Postgres","uuid":"afadf44b-d0aa-4a1b-8ce6-2b15b848c97b"},{"kind":"app_task","name":"Setup Postgres","uuid":"d80a5687-d655-4b9e-87f0-ee205693b783"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Install System Packages","uuid":"34cfc664-08ae-423c-9d40-a5ce34ec1042"},"edge_type":"user_defined","type":"","uuid":"318f0aa3-952d-4509-b9d4-21ab1620526f","to_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"356015ad-328d-4ced-a111-bf16828e6683"}},{"from_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"356015ad-328d-4ced-a111-bf16828e6683"},"edge_type":"user_defined","type":"","uuid":"3c6204bb-d5ef-4135-94b6-bfbc76bdf24f","to_task_reference":{"kind":"app_task","name":"Install Postgres","uuid":"afadf44b-d0aa-4a1b-8ce6-2b15b848c97b"}},{"from_task_reference":{"kind":"app_task","name":"Install Postgres","uuid":"afadf44b-d0aa-4a1b-8ce6-2b15b848c97b"},"edge_type":"user_defined","type":"","uuid":"eaa337bf-0824-4712-b710-e4c838d7705d","to_task_reference":{"kind":"app_task","name":"Setup Postgres","uuid":"d80a5687-d655-4b9e-87f0-ee205693b783"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"2bcf2f47-14ab-41e0-9df0-630ea5e607d0"},{"target_any_local_reference":{"kind":"app_package","name":"AHVSlavePackage","uuid":"60df6e19-5223-47b3-980c-c5b707533fa9"},"retries":"0","name":"Install System Packages","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\nsudo yum -y upgrade\nsudo curl -O http:\/\/dl.fedoraproject.org\/pub\/epel\/7\/x86_64\/e\/epel-release-7-10.noarch.rpm\nsudo rpm --import https:\/\/www.elrepo.org\/RPM-GPG-KEY-elrepo.org\nsudo rpm -Uvh http:\/\/www.elrepo.org\/elrepo-release-7.0-3.el7.elrepo.noarch.rpm \nsudo rpm -ihv epel-release-7-10.noarch.rpm \n\nsudo yum update -y\nsudo yum -y install htop wget iotop xfs* bc unzip lvm2*\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"System packages are installed\"\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"34cfc664-08ae-423c-9d40-a5ce34ec1042"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","name":"Create Disk Setup","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n##############\n#\n# LVM setup script for PostgreSQL . 4 disks for DATA and 2 for logs\n# Data disks are 60GB | Log disks are 20GB \n#\n#############\n\n\n#PGSQL data\nsudo pvcreate \/dev\/sdb \/dev\/sdc \/dev\/sdd \/dev\/sde\nsudo vgcreate pgDataVG \/dev\/sdb \/dev\/sdd \/dev\/sdc \/dev\/sde\nsudo lvcreate -l 100%FREE -i4 -I1M -n pgDataLV pgDataVG          ## Use 1MB to avoid IO amplification \n#lvcreate -l 100%FREE -i4 -I4M -n pgDataLV pgDataVG\n\n\n#PGSQL logs\nsudo pvcreate \/dev\/sdf \/dev\/sdg \nsudo vgcreate pgLogVG \/dev\/sdf \/dev\/sdg\nsudo lvcreate -l 100%FREE -i2 -I1M -n pgLogLV pgLogVG            ## Use 1MB to avoid IO amplification\n#lvcreate -l 100%FREE -i2 -I4M -n pgLogLV pgLogVG\n\n\n#Disable LVM read ahead\nsudo lvchange -r 0 \/dev\/pgDataVG\/pgDataLV\nsudo lvchange -r 0 \/dev\/pgLogVG\/pgLogLV\n\n\n#Format LVMs with ext4 and use nodiscard to make sure format time is fast on Nutanix due to SCSI unmap\nsudo mkfs.ext4 -E nodiscard \/dev\/pgDataVG\/pgDataLV\nsudo mkfs.ext4 -E nodiscard \/dev\/pgLogVG\/pgLogLV\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"356015ad-328d-4ced-a111-bf16828e6683"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","name":"Install Postgres","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\nsudo wget -c https:\/\/download.postgresql.org\/pub\/repos\/yum\/9.6\/redhat\/rhel-7-x86_64\/pgdg-centos96-9.6-3.noarch.rpm\nsudo yum -y install pgdg-centos96-9.6-3.noarch.rpm\nsudo rpm --import http:\/\/packages.2ndquadrant.com\/repmgr\/RPM-GPG-KEY-repmgr\nsudo yum install -y http:\/\/packages.2ndquadrant.com\/repmgr\/yum-repo-rpms\/repmgr-rhel-1.0-1.noarch.rpm\n\n# Install PostgreSQL\nsudo yum -y install postgresql96 postgresql96-contrib postgresql96-server postgresql96-devel postgresql96-plpython\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"afadf44b-d0aa-4a1b-8ce6-2b15b848c97b"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","name":"Setup Postgres","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\n#run initdb\nsudo \/usr\/pgsql-9.6\/bin\/postgresql96-setup initdb\n\n#start and stop postgresql to make sure DB creates the required directories\nsudo systemctl start postgresql-9.6.service\nsudo systemctl stop postgresql-9.6.service\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"d80a5687-d655-4b9e-87f0-ee205693b783"}],"name":"1c545ef3_runbook","description":"","state":"ACTIVE","variable_list":[],"message_list":[],"main_task_local_reference":{"kind":"app_task","name":"3b6ef475_dag","uuid":"2bcf2f47-14ab-41e0-9df0-630ea5e607d0"},"uuid":"900066be-8270-4b56-a0b0-5b5950618747"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVSlavePackage","uuid":"60df6e19-5223-47b3-980c-c5b707533fa9"},"retries":"0","name":"4feabf08_dag","type":"DAG","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"PackageUninstallTask","uuid":"0fe57152-a0fb-49f5-a280-fa8a388801bf"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"a0ad6110-c22a-42eb-a560-65925d9df880"},{"target_any_local_reference":{"kind":"app_package","name":"AHVSlavePackage","uuid":"60df6e19-5223-47b3-980c-c5b707533fa9"},"retries":"0","name":"PackageUninstallTask","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"0fe57152-a0fb-49f5-a280-fa8a388801bf"}],"name":"c3a985d4_runbook","description":"","state":"ACTIVE","variable_list":[],"message_list":[],"main_task_local_reference":{"kind":"app_task","name":"4feabf08_dag","uuid":"a0ad6110-c22a-42eb-a560-65925d9df880"},"uuid":"d8035020-5ca5-400d-a22f-4437a992c809"}},"variable_list":[],"description":""},{"uuid":"33b12429-d141-480f-b38e-4d8083fcff5c","action_list":[],"service_local_reference_list":[{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"}],"name":"AWSSlavePackage","version":"","type":"DEB","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSSlavePackage","uuid":"33b12429-d141-480f-b38e-4d8083fcff5c"},"retries":"0","name":"24714765_dag","type":"DAG","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"Install System Packages","uuid":"f7d34e66-b7e0-4ad3-bd05-42051e764ad5"},{"kind":"app_task","name":"Create Disk Setup","uuid":"f2a5bc76-5ad6-417a-b9f2-c0cef0bd4376"},{"kind":"app_task","name":"Install Postgres","uuid":"859972cb-9c8d-483a-9308-bd63f1ab0b51"},{"kind":"app_task","name":"Setup Postgres","uuid":"da64d929-20c8-4519-aa3b-f14bebfd8bc3"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Install System Packages","uuid":"f7d34e66-b7e0-4ad3-bd05-42051e764ad5"},"edge_type":"user_defined","type":"","uuid":"89312c1b-f6e5-4e1b-8b44-dd3fc7a1f51c","to_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"f2a5bc76-5ad6-417a-b9f2-c0cef0bd4376"}},{"from_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"f2a5bc76-5ad6-417a-b9f2-c0cef0bd4376"},"edge_type":"user_defined","type":"","uuid":"a791e23f-1c8d-4d73-beb0-00394ee71cfa","to_task_reference":{"kind":"app_task","name":"Install Postgres","uuid":"859972cb-9c8d-483a-9308-bd63f1ab0b51"}},{"from_task_reference":{"kind":"app_task","name":"Install Postgres","uuid":"859972cb-9c8d-483a-9308-bd63f1ab0b51"},"edge_type":"user_defined","type":"","uuid":"bdded050-c6b1-44e9-ae86-8be50a617924","to_task_reference":{"kind":"app_task","name":"Setup Postgres","uuid":"da64d929-20c8-4519-aa3b-f14bebfd8bc3"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"723f480e-6b3d-47bd-9bd2-4269f4d9f345"},{"target_any_local_reference":{"kind":"app_package","name":"AWSSlavePackage","uuid":"33b12429-d141-480f-b38e-4d8083fcff5c"},"retries":"0","name":"Install System Packages","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\nsudo yum -y upgrade\nsudo curl -O http:\/\/dl.fedoraproject.org\/pub\/epel\/7\/x86_64\/e\/epel-release-7-10.noarch.rpm\nsudo rpm --import https:\/\/www.elrepo.org\/RPM-GPG-KEY-elrepo.org\nsudo rpm -Uvh http:\/\/www.elrepo.org\/elrepo-release-7.0-3.el7.elrepo.noarch.rpm \nsudo rpm -ihv epel-release-7-10.noarch.rpm \n\nsudo yum update -y\nsudo yum -y install htop wget iotop xfs* bc unzip lvm2*\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"System packages are installed\"\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"f7d34e66-b7e0-4ad3-bd05-42051e764ad5"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","name":"Create Disk Setup","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n##############\n#\n# LVM setup script for PostgreSQL . 4 disks for DATA and 2 for logs\n# Data disks are 60GB | Log disks are 20GB \n#\n#############\n\n\n#PGSQL data\nsudo pvcreate \/dev\/xvdb \/dev\/xvdc \/dev\/xvdd \/dev\/xvde\nsudo vgcreate pgDataVG \/dev\/xvdb \/dev\/xvdd \/dev\/xvdc \/dev\/xvde\nsudo lvcreate -l 100%FREE -i4 -I1M -n pgDataLV pgDataVG          ## Use 1MB to avoid IO amplification \n#lvcreate -l 100%FREE -i4 -I4M -n pgDataLV pgDataVG\n\n\n#PGSQL logs\nsudo pvcreate \/dev\/xvdf \/dev\/xvdg \nsudo vgcreate pgLogVG \/dev\/xvdf \/dev\/xvdg\nsudo lvcreate -l 100%FREE -i2 -I1M -n pgLogLV pgLogVG            ## Use 1MB to avoid IO amplification\n#lvcreate -l 100%FREE -i2 -I4M -n pgLogLV pgLogVG\n\n\n#Disable LVM read ahead\nsudo lvchange -r 0 \/dev\/pgDataVG\/pgDataLV\nsudo lvchange -r 0 \/dev\/pgLogVG\/pgLogLV\n\n\n#Format LVMs with ext4 and use nodiscard to make sure format time is fast on Nutanix due to SCSI unmap\nsudo mkfs.ext4 -E nodiscard \/dev\/pgDataVG\/pgDataLV\nsudo mkfs.ext4 -E nodiscard \/dev\/pgLogVG\/pgLogLV\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"f2a5bc76-5ad6-417a-b9f2-c0cef0bd4376"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","name":"Install Postgres","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\nsudo wget -c https:\/\/download.postgresql.org\/pub\/repos\/yum\/9.6\/redhat\/rhel-7-x86_64\/pgdg-centos96-9.6-3.noarch.rpm\nsudo yum -y install pgdg-centos96-9.6-3.noarch.rpm\nsudo rpm --import http:\/\/packages.2ndquadrant.com\/repmgr\/RPM-GPG-KEY-repmgr\nsudo yum install -y http:\/\/packages.2ndquadrant.com\/repmgr\/yum-repo-rpms\/repmgr-rhel-1.0-1.noarch.rpm\n\n# Install PostgreSQL\nsudo yum -y install postgresql96 postgresql96-contrib postgresql96-server postgresql96-devel postgresql96-plpython\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"859972cb-9c8d-483a-9308-bd63f1ab0b51"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","name":"Setup Postgres","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n#run initdb\nsudo \/usr\/pgsql-9.6\/bin\/postgresql96-setup initdb\n\n#start and stop postgresql to make sure DB creates the required directories\nsudo systemctl start postgresql-9.6.service\nsudo systemctl stop postgresql-9.6.service\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"da64d929-20c8-4519-aa3b-f14bebfd8bc3"}],"name":"6b1ca66e_runbook","description":"","state":"ACTIVE","variable_list":[],"message_list":[],"main_task_local_reference":{"kind":"app_task","name":"24714765_dag","uuid":"723f480e-6b3d-47bd-9bd2-4269f4d9f345"},"uuid":"b8c8117f-52fb-4de5-92f6-666f4d0fbe45"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSSlavePackage","uuid":"33b12429-d141-480f-b38e-4d8083fcff5c"},"retries":"0","name":"179a2341_dag","type":"DAG","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"PackageUninstallTask","uuid":"549fd42f-9116-454b-9a5b-e6740cbc420a"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"37e28a89-a268-4dbb-9a10-d316de7af233"},{"target_any_local_reference":{"kind":"app_package","name":"AWSSlavePackage","uuid":"33b12429-d141-480f-b38e-4d8083fcff5c"},"retries":"0","name":"PackageUninstallTask","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"549fd42f-9116-454b-9a5b-e6740cbc420a"}],"name":"fe8c4995_runbook","description":"","state":"ACTIVE","variable_list":[],"message_list":[],"main_task_local_reference":{"kind":"app_task","name":"179a2341_dag","uuid":"37e28a89-a268-4dbb-9a10-d316de7af233"},"uuid":"39dcd688-1f0b-4bf0-a99b-f1f59f25b1db"}},"variable_list":[],"description":""},{"uuid":"a785fd76-3fd6-4896-a184-edf5e5e71d31","action_list":[],"service_local_reference_list":[{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"}],"name":"GCPSlavePackage","version":"","type":"DEB","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPSlavePackage","uuid":"a785fd76-3fd6-4896-a184-edf5e5e71d31"},"retries":"0","name":"3f5fc593_dag","type":"DAG","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"Install System Packages","uuid":"bf3569c2-c781-41bb-8812-9e2f8e74b8f1"},{"kind":"app_task","name":"Create Disk Setup","uuid":"9b109853-5795-496d-a450-097211db1715"},{"kind":"app_task","name":"Install Postgres","uuid":"e2d598c7-ab91-4a69-9cc3-f6f396cc8e22"},{"kind":"app_task","name":"Setup Postgres","uuid":"423b5ec3-f3ee-43ec-9275-404a6e59c24d"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Install System Packages","uuid":"bf3569c2-c781-41bb-8812-9e2f8e74b8f1"},"edge_type":"user_defined","type":"","uuid":"fd970407-a0b7-4f9a-bfaa-a6256d67209c","to_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"9b109853-5795-496d-a450-097211db1715"}},{"from_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"9b109853-5795-496d-a450-097211db1715"},"edge_type":"user_defined","type":"","uuid":"b39c9465-e7d9-415e-b6c8-c6a9193992e4","to_task_reference":{"kind":"app_task","name":"Install Postgres","uuid":"e2d598c7-ab91-4a69-9cc3-f6f396cc8e22"}},{"from_task_reference":{"kind":"app_task","name":"Install Postgres","uuid":"e2d598c7-ab91-4a69-9cc3-f6f396cc8e22"},"edge_type":"user_defined","type":"","uuid":"25a74c1d-b2b8-4b05-a185-40fe178c40b8","to_task_reference":{"kind":"app_task","name":"Setup Postgres","uuid":"423b5ec3-f3ee-43ec-9275-404a6e59c24d"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"2850abe7-75d1-4225-a8aa-544724f419d2"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","name":"Install System Packages","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\nsudo yum -y upgrade\nsudo curl -O http:\/\/dl.fedoraproject.org\/pub\/epel\/7\/x86_64\/e\/epel-release-7-10.noarch.rpm\nsudo rpm --import https:\/\/www.elrepo.org\/RPM-GPG-KEY-elrepo.org\nsudo rpm -Uvh http:\/\/www.elrepo.org\/elrepo-release-7.0-3.el7.elrepo.noarch.rpm \nsudo rpm -ihv epel-release-7-10.noarch.rpm \n\nsudo yum update -y\nsudo yum -y install htop wget iotop xfs* bc unzip lvm2*\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"System packages are installed\"\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"bf3569c2-c781-41bb-8812-9e2f8e74b8f1"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","name":"Create Disk Setup","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n##############\n#\n# LVM setup script for PostgreSQL . 4 disks for DATA and 2 for logs\n# Data disks are 60GB | Log disks are 20GB \n#\n#############\n\n\n#PGSQL data\nsudo pvcreate \/dev\/sdb \/dev\/sdc \/dev\/sdd \/dev\/sde\nsudo vgcreate pgDataVG \/dev\/sdb \/dev\/sdd \/dev\/sdc \/dev\/sde\nsudo lvcreate -l 100%FREE -i4 -I1M -n pgDataLV pgDataVG          ## Use 1MB to avoid IO amplification \n#lvcreate -l 100%FREE -i4 -I4M -n pgDataLV pgDataVG\n\n\n#PGSQL logs\nsudo pvcreate \/dev\/sdf \/dev\/sdg \nsudo vgcreate pgLogVG \/dev\/sdf \/dev\/sdg\nsudo lvcreate -l 100%FREE -i2 -I1M -n pgLogLV pgLogVG            ## Use 1MB to avoid IO amplification\n#lvcreate -l 100%FREE -i2 -I4M -n pgLogLV pgLogVG\n\n\n#Disable LVM read ahead\nsudo lvchange -r 0 \/dev\/pgDataVG\/pgDataLV\nsudo lvchange -r 0 \/dev\/pgLogVG\/pgLogLV\n\n\n#Format LVMs with ext4 and use nodiscard to make sure format time is fast on Nutanix due to SCSI unmap\nsudo mkfs.ext4 -E nodiscard \/dev\/pgDataVG\/pgDataLV\nsudo mkfs.ext4 -E nodiscard \/dev\/pgLogVG\/pgLogLV\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"9b109853-5795-496d-a450-097211db1715"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","name":"Install Postgres","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\nsudo wget -c https:\/\/download.postgresql.org\/pub\/repos\/yum\/9.6\/redhat\/rhel-7-x86_64\/pgdg-centos96-9.6-3.noarch.rpm\nsudo yum -y install pgdg-centos96-9.6-3.noarch.rpm\nsudo rpm --import http:\/\/packages.2ndquadrant.com\/repmgr\/RPM-GPG-KEY-repmgr\nsudo yum install -y http:\/\/packages.2ndquadrant.com\/repmgr\/yum-repo-rpms\/repmgr-rhel-1.0-1.noarch.rpm\n\n# Install PostgreSQL\nsudo yum -y install postgresql96 postgresql96-contrib postgresql96-server postgresql96-devel postgresql96-plpython\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"e2d598c7-ab91-4a69-9cc3-f6f396cc8e22"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","name":"Setup Postgres","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n#run initdb\nsudo \/usr\/pgsql-9.6\/bin\/postgresql96-setup initdb\n\n#start and stop postgresql to make sure DB creates the required directories\nsudo systemctl start postgresql-9.6.service\nsudo systemctl stop postgresql-9.6.service\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"423b5ec3-f3ee-43ec-9275-404a6e59c24d"}],"name":"ae74b5ae_runbook","description":"","state":"ACTIVE","variable_list":[],"message_list":[],"main_task_local_reference":{"kind":"app_task","name":"3f5fc593_dag","uuid":"2850abe7-75d1-4225-a8aa-544724f419d2"},"uuid":"402c6add-f274-44a8-8ad1-3c2d8f8fe682"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPSlavePackage","uuid":"a785fd76-3fd6-4896-a184-edf5e5e71d31"},"retries":"0","name":"83a6be27_dag","type":"DAG","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"351c0259-7143-4056-a633-ad8c11ed91c3"}],"name":"60618105_runbook","description":"","state":"ACTIVE","variable_list":[],"message_list":[],"main_task_local_reference":{"kind":"app_task","name":"83a6be27_dag","uuid":"351c0259-7143-4056-a633-ad8c11ed91c3"},"uuid":"d670b392-53ef-4d6e-85a3-c78418dab93b"}},"variable_list":[],"description":""},{"uuid":"53c13f4c-7c91-406a-9d03-e2cfcb9d5c90","action_list":[],"service_local_reference_list":[{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"}],"name":"AzurePgMasterPkg","version":"","type":"DEB","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzurePgMasterPkg","uuid":"53c13f4c-7c91-406a-9d03-e2cfcb9d5c90"},"retries":"0","name":"1f6044d4_dag","type":"DAG","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"Install System Packages","uuid":"97903db0-2529-4447-ab83-9dfb4ac8a9d3"},{"kind":"app_task","name":"Install Postgres ","uuid":"deca2ac8-af40-4e77-9b01-269dae310ab3"},{"kind":"app_task","name":"Setup Postgres","uuid":"c8a02258-c616-4c95-9b2b-ae04257936ad"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Install System Packages","uuid":"97903db0-2529-4447-ab83-9dfb4ac8a9d3"},"edge_type":"user_defined","type":"","uuid":"4124e1d3-5e17-40d4-bed3-0084f359b351","to_task_reference":{"kind":"app_task","name":"Install Postgres ","uuid":"deca2ac8-af40-4e77-9b01-269dae310ab3"}},{"from_task_reference":{"kind":"app_task","name":"Install Postgres ","uuid":"deca2ac8-af40-4e77-9b01-269dae310ab3"},"edge_type":"user_defined","type":"","uuid":"6c083a37-93d8-43cf-b5b0-34d4d1d91409","to_task_reference":{"kind":"app_task","name":"Setup Postgres","uuid":"c8a02258-c616-4c95-9b2b-ae04257936ad"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"148b7379-11a4-4a7a-b7b3-c5d28fd0d709"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","name":"Install System Packages","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"97903db0-2529-4447-ab83-9dfb4ac8a9d3"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","name":"Install Postgres ","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\nsudo wget -c https:\/\/download.postgresql.org\/pub\/repos\/yum\/9.6\/redhat\/rhel-7-x86_64\/pgdg-centos96-9.6-3.noarch.rpm\nsudo yum -y install pgdg-centos96-9.6-3.noarch.rpm\nsudo rpm --import http:\/\/packages.2ndquadrant.com\/repmgr\/RPM-GPG-KEY-repmgr\nsudo yum install -y http:\/\/packages.2ndquadrant.com\/repmgr\/yum-repo-rpms\/repmgr-rhel-1.0-1.noarch.rpm\n\n# Install PostgreSQL\nsudo yum -y install postgresql96 postgresql96-contrib postgresql96-server postgresql96-devel postgresql96-plpython\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"deca2ac8-af40-4e77-9b01-269dae310ab3"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Master","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","name":"Setup Postgres","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\n#run initdb\nsudo \/usr\/pgsql-9.6\/bin\/postgresql96-setup initdb\n\n#enable service on boot\nsudo systemctl enable postgresql-9.6.service\n\nsudo systemctl status postgresql-9.6\nsudo systemctl start postgresql-9.6\nsudo systemctl status postgresql-9.6\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"c8a02258-c616-4c95-9b2b-ae04257936ad"}],"name":"f831a5cd_runbook","description":"","state":"ACTIVE","variable_list":[],"message_list":[],"main_task_local_reference":{"kind":"app_task","name":"1f6044d4_dag","uuid":"148b7379-11a4-4a7a-b7b3-c5d28fd0d709"},"uuid":"89b0263d-6611-4258-877a-eed022703836"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzurePgMasterPkg","uuid":"53c13f4c-7c91-406a-9d03-e2cfcb9d5c90"},"retries":"0","name":"7f1ff0ab_dag","type":"DAG","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"dff4d156-1cf4-474e-9ce7-edee59010237"}],"name":"e91b9bcb_runbook","description":"","state":"ACTIVE","variable_list":[],"message_list":[],"main_task_local_reference":{"kind":"app_task","name":"7f1ff0ab_dag","uuid":"dff4d156-1cf4-474e-9ce7-edee59010237"},"uuid":"2e998233-434f-4c1c-9f60-8c89ceb949ad"}},"variable_list":[],"description":""},{"uuid":"fb791420-5fdc-42a7-84df-4a05408b2c96","action_list":[],"service_local_reference_list":[{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"}],"name":"AzurePGSlavePkg","version":"","type":"DEB","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzurePGSlavePkg","uuid":"fb791420-5fdc-42a7-84df-4a05408b2c96"},"retries":"0","name":"74eba3e9_dag","type":"DAG","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"Install System Packages","uuid":"9a023d57-5cd5-4ba0-b671-27e0df786171"},{"kind":"app_task","name":"Install Postgres","uuid":"21d86333-0ac7-4233-99d4-7c41166a0d9b"},{"kind":"app_task","name":"Setup Postgres","uuid":"7360fab7-e55c-4007-b1bc-e22001e895a3"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Install System Packages","uuid":"9a023d57-5cd5-4ba0-b671-27e0df786171"},"edge_type":"user_defined","type":"","uuid":"cd6c7483-317d-4190-9842-df4407a37e13","to_task_reference":{"kind":"app_task","name":"Install Postgres","uuid":"21d86333-0ac7-4233-99d4-7c41166a0d9b"}},{"from_task_reference":{"kind":"app_task","name":"Install Postgres","uuid":"21d86333-0ac7-4233-99d4-7c41166a0d9b"},"edge_type":"user_defined","type":"","uuid":"83bccdd1-d612-4c16-a416-57a2ded1588a","to_task_reference":{"kind":"app_task","name":"Setup Postgres","uuid":"7360fab7-e55c-4007-b1bc-e22001e895a3"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"8aa3e1a0-ce13-4d37-8f38-b4e482a612aa"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","name":"Install System Packages","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\nsudo yum -y upgrade\nsudo curl -O http:\/\/dl.fedoraproject.org\/pub\/epel\/7\/x86_64\/e\/epel-release-7-10.noarch.rpm\nsudo rpm --import https:\/\/www.elrepo.org\/RPM-GPG-KEY-elrepo.org\nsudo rpm -Uvh http:\/\/www.elrepo.org\/elrepo-release-7.0-3.el7.elrepo.noarch.rpm \nsudo rpm -ihv epel-release-7-10.noarch.rpm \n\nsudo yum update -y\nsudo yum -y install htop wget iotop xfs* bc unzip lvm2*\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"System packages are installed\"\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"9a023d57-5cd5-4ba0-b671-27e0df786171"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","name":"Install Postgres","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\nsudo wget -c https:\/\/download.postgresql.org\/pub\/repos\/yum\/9.6\/redhat\/rhel-7-x86_64\/pgdg-centos96-9.6-3.noarch.rpm\nsudo yum -y install pgdg-centos96-9.6-3.noarch.rpm\nsudo rpm --import http:\/\/packages.2ndquadrant.com\/repmgr\/RPM-GPG-KEY-repmgr\nsudo yum install -y http:\/\/packages.2ndquadrant.com\/repmgr\/yum-repo-rpms\/repmgr-rhel-1.0-1.noarch.rpm\n\n# Install PostgreSQL\nsudo yum -y install postgresql96 postgresql96-contrib postgresql96-server postgresql96-devel postgresql96-plpython\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"21d86333-0ac7-4233-99d4-7c41166a0d9b"},{"target_any_local_reference":{"kind":"app_service","name":"Postgres_Slave","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","name":"Setup Postgres","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n#run initdb\nsudo \/usr\/pgsql-9.6\/bin\/postgresql96-setup initdb\n\n#start and stop postgresql to make sure DB creates the required directories\nsudo systemctl start postgresql-9.6.service\nsudo systemctl stop postgresql-9.6.service\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"7360fab7-e55c-4007-b1bc-e22001e895a3"}],"name":"c7483cb8_runbook","description":"","state":"ACTIVE","variable_list":[],"message_list":[],"main_task_local_reference":{"kind":"app_task","name":"74eba3e9_dag","uuid":"8aa3e1a0-ce13-4d37-8f38-b4e482a612aa"},"uuid":"8f247654-ffdc-4c62-926b-60033eadd7c8"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzurePGSlavePkg","uuid":"fb791420-5fdc-42a7-84df-4a05408b2c96"},"retries":"0","name":"99ab270d_dag","type":"DAG","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"9ee6c5a6-1129-4da9-96cd-157cc6167a0f"}],"name":"ac115492_runbook","description":"","state":"ACTIVE","variable_list":[],"message_list":[],"main_task_local_reference":{"kind":"app_task","name":"99ab270d_dag","uuid":"9ee6c5a6-1129-4da9-96cd-157cc6167a0f"},"uuid":"f9c7c3fc-9b0c-4681-98ec-af0254c499d8"}},"variable_list":[],"description":""},{"uuid":"b7514626-0d97-b967-daee-aa861e7d64e9","action_list":[],"service_local_reference_list":[{"kind":"app_service","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"}],"name":"VMwareMasterPackage","version":"","type":"DEB","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","uuid":"b7514626-0d97-b967-daee-aa861e7d64e9"},"retries":"0","name":"3b8ed3d2_dag_cloned_1","type":"DAG","description":"","child_tasks_local_reference_list":[{"kind":"app_task","uuid":"177eefc5-9dff-3782-41c1-a9e01c05b768"},{"kind":"app_task","uuid":"d4c2340b-7ca7-bc4d-2191-134bb42a804f"},{"kind":"app_task","uuid":"e2202537-0de9-4bf5-8ee0-cd040aafa645"},{"kind":"app_task","uuid":"91c46a6c-d046-ee11-cb44-015ba10c817c"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","uuid":"177eefc5-9dff-3782-41c1-a9e01c05b768"},"edge_type":"user_defined","type":"","uuid":"63391060-e520-48cd-d306-07a0d919a20e","to_task_reference":{"kind":"app_task","uuid":"d4c2340b-7ca7-bc4d-2191-134bb42a804f"}},{"from_task_reference":{"kind":"app_task","uuid":"d4c2340b-7ca7-bc4d-2191-134bb42a804f"},"edge_type":"user_defined","type":"","uuid":"3b74309b-9898-6f63-aafa-c00fd0280207","to_task_reference":{"kind":"app_task","uuid":"e2202537-0de9-4bf5-8ee0-cd040aafa645"}},{"from_task_reference":{"kind":"app_task","uuid":"e2202537-0de9-4bf5-8ee0-cd040aafa645"},"edge_type":"user_defined","type":"","uuid":"55f780bc-5c71-8b7a-7860-ddfe4f10f7e5","to_task_reference":{"kind":"app_task","uuid":"91c46a6c-d046-ee11-cb44-015ba10c817c"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"2ff866d1-fcf2-4798-b4eb-e015ac2059da"},{"target_any_local_reference":{"kind":"app_package","uuid":"b7514626-0d97-b967-daee-aa861e7d64e9"},"retries":"0","name":"Install System Packages","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\nsudo yum -y upgrade\nsudo curl -O http:\/\/dl.fedoraproject.org\/pub\/epel\/7\/x86_64\/e\/epel-release-7-10.noarch.rpm\nsudo rpm --import https:\/\/www.elrepo.org\/RPM-GPG-KEY-elrepo.org\nsudo rpm -Uvh http:\/\/www.elrepo.org\/elrepo-release-7.0-3.el7.elrepo.noarch.rpm \nsudo rpm -ihv epel-release-7-10.noarch.rpm \n\nsudo yum update -y\nsudo yum -y install htop wget iotop xfs* bc unzip lvm2*\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"System packages are installed\"\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"177eefc5-9dff-3782-41c1-a9e01c05b768"},{"target_any_local_reference":{"kind":"app_service","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","name":"Create Disk Setup","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n##############\n#\n# LVM setup script for PostgreSQL . 4 disks for DATA and 2 for logs\n# Data disks are 60GB | Log disks are 20GB \n#\n#############\n\n\n#PGSQL data\nsudo pvcreate \/dev\/sdb \/dev\/sdc \/dev\/sdd \/dev\/sde\nsudo vgcreate pgDataVG \/dev\/sdb \/dev\/sdd \/dev\/sdc \/dev\/sde\nsudo lvcreate -l 100%FREE -i4 -I1M -n pgDataLV pgDataVG          ## Use 1MB to avoid IO amplification \n#lvcreate -l 100%FREE -i4 -I4M -n pgDataLV pgDataVG\n\n\n#PGSQL logs\nsudo pvcreate \/dev\/sdf \/dev\/sdg \nsudo vgcreate pgLogVG \/dev\/sdf \/dev\/sdg\nsudo lvcreate -l 100%FREE -i2 -I1M -n pgLogLV pgLogVG            ## Use 1MB to avoid IO amplification\n#lvcreate -l 100%FREE -i2 -I4M -n pgLogLV pgLogVG\n\n\n#Disable LVM read ahead\nsudo lvchange -r 0 \/dev\/pgDataVG\/pgDataLV\nsudo lvchange -r 0 \/dev\/pgLogVG\/pgLogLV\n\n\n#Format LVMs with ext4 and use nodiscard to make sure format time is fast on Nutanix due to SCSI unmap\nsudo mkfs.ext4 -E nodiscard \/dev\/pgDataVG\/pgDataLV\nsudo mkfs.ext4 -E nodiscard \/dev\/pgLogVG\/pgLogLV\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"d4c2340b-7ca7-bc4d-2191-134bb42a804f"},{"target_any_local_reference":{"kind":"app_service","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","name":"Install Postgres","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\nsudo wget -c https:\/\/download.postgresql.org\/pub\/repos\/yum\/9.6\/redhat\/rhel-7-x86_64\/pgdg-centos96-9.6-3.noarch.rpm\nsudo yum -y install pgdg-centos96-9.6-3.noarch.rpm\nsudo rpm --import http:\/\/packages.2ndquadrant.com\/repmgr\/RPM-GPG-KEY-repmgr\nsudo yum install -y http:\/\/packages.2ndquadrant.com\/repmgr\/yum-repo-rpms\/repmgr-rhel-1.0-1.noarch.rpm\n\n# Install PostgreSQL\nsudo yum -y install postgresql96 postgresql96-contrib postgresql96-server postgresql96-devel postgresql96-plpython\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"e2202537-0de9-4bf5-8ee0-cd040aafa645"},{"target_any_local_reference":{"kind":"app_service","uuid":"6a944ef9-3b53-419e-bbab-5fd0bea9fa90"},"retries":"0","name":"Setup Postgres","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\n#run initdb\nsudo \/usr\/pgsql-9.6\/bin\/postgresql96-setup initdb\n\n#start and stop postgresql to make sure DB creates the required directories\nsudo systemctl start postgresql-9.6.service\nsudo systemctl stop postgresql-9.6.service\n\n##copy the created postgres directory to a temp directory\n\nsudo mkdir \/tmp\/pgsql\n\nsudo mv \/var\/lib\/pgsql\/9.6\/data \/tmp\/pgsql\n\n#Create directory , fix permissions and Mount LVM\nsudo mkdir \/var\/lib\/pgsql\/9.6\/data\/\nsudo mount -o noatime,barrier=0 \/dev\/pgDataVG\/pgDataLV \/var\/lib\/pgsql\/9.6\/data\/ \n\nsudo mkdir \/var\/lib\/pgsql\/9.6\/data\/pg_xlog\nsudo mount -o noatime,barrier=0 \/dev\/pgLogVG\/pgLogLV \/var\/lib\/pgsql\/9.6\/data\/pg_xlog\n\nsudo chown -R postgres:postgres \/var\/lib\/pgsql\/9.6\/data\/\n\n#move the xlog to the new LVM\nsudo find \/tmp\/pgsql\/data\/pg_xlog -maxdepth 1 -mindepth 1 -exec mv -t \/var\/lib\/pgsql\/9.6\/data\/pg_xlog\/ {} +\n\n#remove pg_xlog from temp dir to avoid being copied again\nsudo rm -rf \/tmp\/pgsql\/data\/pg_xlog\n\n#move the pgsql directory to the LVM\nsudo find \/tmp\/pgsql\/data -maxdepth 1 -mindepth 1 -exec mv -t \/var\/lib\/pgsql\/9.6\/data\/ {} +\n\nsudo chmod -R 0700 \/var\/lib\/pgsql\/9.6\/data\n\n#enable service on boot\nsudo systemctl enable postgresql-9.6.service\n\n#add mount points to \/etc\/fstab\necho \"\/dev\/mapper\/pgDataVG-pgDataLV \/var\/lib\/pgsql\/9.6\/data ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\necho \"\/dev\/mapper\/pgLogVG-pgLogLV \/var\/lib\/pgsql\/9.6\/data\/pg_xlog ext4 rw,seclabel,noatime,nobarrier,stripe=2048,data=ordered 0 0\" | sudo tee -a  \/etc\/fstab\n\n\nsudo systemctl status postgresql-9.6\nsudo systemctl restart postgresql-9.6\nsudo systemctl status postgresql-9.6\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"91c46a6c-d046-ee11-cb44-015ba10c817c"}],"name":"ed3d1488_runbook_cloned_0","description":"","state":"ACTIVE","variable_list":[],"message_list":[],"main_task_local_reference":{"kind":"app_task","uuid":"2ff866d1-fcf2-4798-b4eb-e015ac2059da"},"uuid":"309b24eb-7a34-7ac8-5a3f-d5eb3b103110"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","uuid":"b7514626-0d97-b967-daee-aa861e7d64e9"},"retries":"0","name":"ef748d77_dag_cloned_1","type":"DAG","description":"","child_tasks_local_reference_list":[{"kind":"app_task","uuid":"dff77a68-48f0-c663-005a-e0a880bba0a7"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"6cf2309c-824a-6ad6-c460-623bf0af63a1"},{"target_any_local_reference":{"kind":"app_package","uuid":"b7514626-0d97-b967-daee-aa861e7d64e9"},"retries":"0","name":"PackageUninstallTask_cloned_1","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"dff77a68-48f0-c663-005a-e0a880bba0a7"}],"name":"e7b91ba0_runbook_cloned_0","description":"","state":"ACTIVE","variable_list":[],"message_list":[],"main_task_local_reference":{"kind":"app_task","uuid":"6cf2309c-824a-6ad6-c460-623bf0af63a1"},"uuid":"fcfb6747-bf2f-1ec3-484f-e4e63fd4d8d7"}},"variable_list":[],"description":""},{"uuid":"15327eeb-b1a1-df5c-d65a-a4d9c6e94cc8","action_list":[],"service_local_reference_list":[{"kind":"app_service","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"}],"name":"VMwareSlavePackage","version":"","type":"DEB","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","uuid":"15327eeb-b1a1-df5c-d65a-a4d9c6e94cc8"},"retries":"0","name":"3b6ef475_dag_cloned_1","type":"DAG","description":"","child_tasks_local_reference_list":[{"kind":"app_task","uuid":"dc5aa9d9-f870-1601-0b4d-ef9ac0f27ac3"},{"kind":"app_task","uuid":"775ca9fc-f62c-959e-496d-a6722cd6b82f"},{"kind":"app_task","uuid":"c27c1088-c531-b51a-0c9b-425aa20aab25"},{"kind":"app_task","uuid":"74a36356-e745-1ee6-9a35-e3f26bf2e43e"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","uuid":"dc5aa9d9-f870-1601-0b4d-ef9ac0f27ac3"},"edge_type":"user_defined","type":"","uuid":"25d0dec3-65d3-db90-f386-457242854a74","to_task_reference":{"kind":"app_task","uuid":"775ca9fc-f62c-959e-496d-a6722cd6b82f"}},{"from_task_reference":{"kind":"app_task","uuid":"775ca9fc-f62c-959e-496d-a6722cd6b82f"},"edge_type":"user_defined","type":"","uuid":"7217945b-6e70-badc-3f51-a11c3d9568fc","to_task_reference":{"kind":"app_task","uuid":"c27c1088-c531-b51a-0c9b-425aa20aab25"}},{"from_task_reference":{"kind":"app_task","uuid":"c27c1088-c531-b51a-0c9b-425aa20aab25"},"edge_type":"user_defined","type":"","uuid":"27d6e1bd-7e44-6f75-10eb-42920ce11c2a","to_task_reference":{"kind":"app_task","uuid":"74a36356-e745-1ee6-9a35-e3f26bf2e43e"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"891f2f24-cf13-b471-fd2e-c9a0d88a0e40"},{"target_any_local_reference":{"kind":"app_package","uuid":"15327eeb-b1a1-df5c-d65a-a4d9c6e94cc8"},"retries":"0","name":"Install System Packages","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\nsudo yum -y upgrade\nsudo curl -O http:\/\/dl.fedoraproject.org\/pub\/epel\/7\/x86_64\/e\/epel-release-7-10.noarch.rpm\nsudo rpm --import https:\/\/www.elrepo.org\/RPM-GPG-KEY-elrepo.org\nsudo rpm -Uvh http:\/\/www.elrepo.org\/elrepo-release-7.0-3.el7.elrepo.noarch.rpm \nsudo rpm -ihv epel-release-7-10.noarch.rpm \n\nsudo yum update -y\nsudo yum -y install htop wget iotop xfs* bc unzip lvm2*\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"System packages are installed\"\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"dc5aa9d9-f870-1601-0b4d-ef9ac0f27ac3"},{"target_any_local_reference":{"kind":"app_service","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","name":"Create Disk Setup","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n##############\n#\n# LVM setup script for PostgreSQL . 4 disks for DATA and 2 for logs\n# Data disks are 60GB | Log disks are 20GB \n#\n#############\n\n\n#PGSQL data\nsudo pvcreate \/dev\/sdb \/dev\/sdc \/dev\/sdd \/dev\/sde\nsudo vgcreate pgDataVG \/dev\/sdb \/dev\/sdd \/dev\/sdc \/dev\/sde\nsudo lvcreate -l 100%FREE -i4 -I1M -n pgDataLV pgDataVG          ## Use 1MB to avoid IO amplification \n#lvcreate -l 100%FREE -i4 -I4M -n pgDataLV pgDataVG\n\n\n#PGSQL logs\nsudo pvcreate \/dev\/sdf \/dev\/sdg \nsudo vgcreate pgLogVG \/dev\/sdf \/dev\/sdg\nsudo lvcreate -l 100%FREE -i2 -I1M -n pgLogLV pgLogVG            ## Use 1MB to avoid IO amplification\n#lvcreate -l 100%FREE -i2 -I4M -n pgLogLV pgLogVG\n\n\n#Disable LVM read ahead\nsudo lvchange -r 0 \/dev\/pgDataVG\/pgDataLV\nsudo lvchange -r 0 \/dev\/pgLogVG\/pgLogLV\n\n\n#Format LVMs with ext4 and use nodiscard to make sure format time is fast on Nutanix due to SCSI unmap\nsudo mkfs.ext4 -E nodiscard \/dev\/pgDataVG\/pgDataLV\nsudo mkfs.ext4 -E nodiscard \/dev\/pgLogVG\/pgLogLV\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"775ca9fc-f62c-959e-496d-a6722cd6b82f"},{"target_any_local_reference":{"kind":"app_service","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","name":"Install Postgres","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\nsudo wget -c https:\/\/download.postgresql.org\/pub\/repos\/yum\/9.6\/redhat\/rhel-7-x86_64\/pgdg-centos96-9.6-3.noarch.rpm\nsudo yum -y install pgdg-centos96-9.6-3.noarch.rpm\nsudo rpm --import http:\/\/packages.2ndquadrant.com\/repmgr\/RPM-GPG-KEY-repmgr\nsudo yum install -y http:\/\/packages.2ndquadrant.com\/repmgr\/yum-repo-rpms\/repmgr-rhel-1.0-1.noarch.rpm\n\n# Install PostgreSQL\nsudo yum -y install postgresql96 postgresql96-contrib postgresql96-server postgresql96-devel postgresql96-plpython\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"c27c1088-c531-b51a-0c9b-425aa20aab25"},{"target_any_local_reference":{"kind":"app_service","uuid":"97d13e58-4d30-42ba-82be-21616f898f40"},"retries":"0","name":"Setup Postgres","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\n#run initdb\nsudo \/usr\/pgsql-9.6\/bin\/postgresql96-setup initdb\n\n#start and stop postgresql to make sure DB creates the required directories\nsudo systemctl start postgresql-9.6.service\nsudo systemctl stop postgresql-9.6.service\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"74a36356-e745-1ee6-9a35-e3f26bf2e43e"}],"name":"1c545ef3_runbook_cloned_0","description":"","state":"ACTIVE","variable_list":[],"message_list":[],"main_task_local_reference":{"kind":"app_task","uuid":"891f2f24-cf13-b471-fd2e-c9a0d88a0e40"},"uuid":"71d811a5-d557-09cd-32d0-97882bae010e"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","uuid":"15327eeb-b1a1-df5c-d65a-a4d9c6e94cc8"},"retries":"0","name":"4feabf08_dag_cloned_1","type":"DAG","description":"","child_tasks_local_reference_list":[{"kind":"app_task","uuid":"bbe2ffc5-d59d-dac4-fb6e-8c627b106b31"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"0c29112f-8adb-bfc4-0804-0340b46ca2f5"},{"target_any_local_reference":{"kind":"app_package","uuid":"15327eeb-b1a1-df5c-d65a-a4d9c6e94cc8"},"retries":"0","name":"PackageUninstallTask_cloned_1","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","uuid":"4c86d781-200c-4d9e-9359-c86492dbecaf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"bbe2ffc5-d59d-dac4-fb6e-8c627b106b31"}],"name":"c3a985d4_runbook_cloned_0","description":"","state":"ACTIVE","variable_list":[],"message_list":[],"main_task_local_reference":{"kind":"app_task","uuid":"0c29112f-8adb-bfc4-0804-0340b46ca2f5"},"uuid":"9eba4299-3717-5f4e-5bbe-42dfed2f27be"}},"variable_list":[],"description":""},{"name":"ESXI_CENTOS_76","type":"SUBSTRATE_IMAGE","uuid":"e5ba9433-4d2f-1e02-1657-b19820c42cb0","variable_list":[],"options":{"name":"CentOS-7-x86_64-1810","resources":{"image_type":"DISK_IMAGE","source_uri":"http:\/\/download.nutanix.com\/calm\/CentOS-7-x86_64-1810.ova","architecture":"X86_64"}}}],"client_attrs":{"7f725ee2-f8c1-4e74-b70e-0884e8d9fef4":{"y":67,"x":220},"a98e21d1-5356-4da8-a07b-b01123758b0f":{"y":67,"x":220},"6a944ef9-3b53-419e-bbab-5fd0bea9fa90":{"y":160,"x":-40},"8013c2c1-3849-9d59-b051-4984cf51ae6d":{"y":67,"x":220},"3595c4e3-1ce0-55b3-018e-7f793e27fbfc":{"y":160,"x":-40},"8adc3c2a-e6c5-4c64-9eee-07cd1f8b59a0":{"y":67,"x":220},"ab178214-6a3e-45d8-994a-2eabc311bf9f":{"y":67,"x":220}}},"description":"Accessibility:\n* `sudo su - postgres sh -c psql `\n"},"api_version":"3.0","metadata":{"last_update_time":"1556185868131698","owner_reference":{"kind":"user","uuid":"00000000-0000-0000-0000-000000000000","name":"admin"},"kind":"blueprint","uuid":"20b198b3-2363-4c0f-bff1-b937bc97d32e","project_reference":{"kind":"project","name":"default","uuid":"209e0a42-6f2d-4999-9a9b-5aa705d25661"},"spec_version":23,"creation_time":"1548395641829901","name":"Postgresql"}}