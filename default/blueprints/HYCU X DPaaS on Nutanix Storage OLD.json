{"status":{"description":"* [HYCU](https:\/\/@@{AHV_HYCU.address}@@:8443)","source_mpi":"","state":"ACTIVE","is_cloned":false,"message_list":[],"resources":{"service_definition_list":[{"port_list":[],"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"400b78a3-3bbf-41a6-8067-dbca7675961e","name":"action_create","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"HYCU","uuid":"2088365f-88eb-49f4-b2c5-dd2887b746be"},"retries":"0","description":"","type":"DAG","uuid":"db7b64e1-2b4d-436f-aeba-706e7ce1f14e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"0a8750e2_dag"}],"description":"","message_list":[],"uuid":"a46d0adb-d4e9-435a-9f45-0afbfaad8abd","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"0a8750e2_dag","uuid":"db7b64e1-2b4d-436f-aeba-706e7ce1f14e"},"name":"124cb92b_runbook"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"a5614e34-a97d-455e-9997-d5e3b193d98a","name":"action_delete","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"HYCU","uuid":"2088365f-88eb-49f4-b2c5-dd2887b746be"},"retries":"0","description":"","type":"DAG","uuid":"9f6a3fdc-456a-4b3f-a9e5-fdf1c74c3a2f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"c9368241_dag"}],"description":"","message_list":[],"uuid":"482678b0-5a36-4a07-a6d5-d6cad129ade1","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"c9368241_dag","uuid":"9f6a3fdc-456a-4b3f-a9e5-fdf1c74c3a2f"},"name":"ebbad80f_runbook"}},{"description":"System action for starting an application","message_list":[],"uuid":"f9f4d7c3-a87c-4a36-9161-8a1cce6297cb","name":"action_start","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"HYCU","uuid":"2088365f-88eb-49f4-b2c5-dd2887b746be"},"retries":"0","description":"","type":"DAG","uuid":"bcf8284e-b825-44a5-b321-c068316c90d4","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"6ed68e83_dag"}],"description":"","message_list":[],"uuid":"7b24e645-85fb-45b9-a868-d84f34d21fbc","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"6ed68e83_dag","uuid":"bcf8284e-b825-44a5-b321-c068316c90d4"},"name":"d8e5204b_runbook"}},{"description":"System action for stopping an application","message_list":[],"uuid":"205f67dc-5947-4566-87e4-25ac266326d9","name":"action_stop","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"HYCU","uuid":"2088365f-88eb-49f4-b2c5-dd2887b746be"},"retries":"0","description":"","type":"DAG","uuid":"d23d291d-972a-45aa-aa12-bf9b03d9a7af","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"13c3aba6_dag"}],"description":"","message_list":[],"uuid":"23deefe2-36da-460a-93a2-2721ba76563c","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"13c3aba6_dag","uuid":"d23d291d-972a-45aa-aa12-bf9b03d9a7af"},"name":"f6b78719_runbook"}},{"description":"System action for restarting an application","message_list":[],"uuid":"4c16bf97-4592-43e7-b00e-f318e2a9a3ba","name":"action_restart","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"HYCU","uuid":"2088365f-88eb-49f4-b2c5-dd2887b746be"},"retries":"0","description":"","type":"DAG","uuid":"d55e638e-162f-4b48-9217-0a7074565a96","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"fdda3fb0_dag"}],"description":"","message_list":[],"uuid":"cde318ea-76f0-449d-afec-fbf2329a758e","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"fdda3fb0_dag","uuid":"d55e638e-162f-4b48-9217-0a7074565a96"},"name":"b85cb2cc_runbook"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"447cfaea-f08a-4438-b5f9-815615df202f","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"HYCU","uuid":"2088365f-88eb-49f4-b2c5-dd2887b746be"},"retries":"0","description":"","type":"DAG","uuid":"fedc4483-a5cf-41cc-a73c-bab6e4b1b900","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Service_Element_Delete_2088365f_88eb_49f4_b2c5_dd2887b746be","uuid":"9843b1bd-7d7c-41f8-a31e-5661a6120f13"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Service_2088365f_88eb_49f4_b2c5_dd2887b746be"},{"target_any_local_reference":{"kind":"app_service","name":"HYCU","uuid":"2088365f-88eb-49f4-b2c5-dd2887b746be"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"9843b1bd-7d7c-41f8-a31e-5661a6120f13","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Service_Element_Delete_2088365f_88eb_49f4_b2c5_dd2887b746be"}],"description":"","message_list":[],"uuid":"2de20819-5bb9-4130-a76d-5656dc54699c","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Service_2088365f_88eb_49f4_b2c5_dd2887b746be","uuid":"fedc4483-a5cf-41cc-a73c-bab6e4b1b900"},"name":"SYS_GEN__Runbook_Service_2088365f_88eb_49f4_b2c5_dd2887b746be"}}],"message_list":[],"uuid":"2088365f-88eb-49f4-b2c5-dd2887b746be","state":"ACTIVE","depends_on_list":[],"editables":{},"tier":"","singleton":false,"variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"55ce23d0-fbc2-4bb4-b5a9-93514ac2b36e","value":"","label":"","state":"ACTIVE","attrs":{"type":""},"editables":{},"is_hidden":false,"type":"LOCAL","options":{},"name":"TARGET_IQN"},{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"f2f91872-63b7-4253-ad4a-dbe6922fce1b","value":"","label":"","state":"ACTIVE","attrs":{"type":""},"editables":{},"is_hidden":false,"type":"LOCAL","options":{},"name":"INITIATOR_IQN"}],"name":"HYCU"}],"substrate_definition_list":[{"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"2589e289-1e84-49ad-a68a-5b93a5c73f1f","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AHV_HYCU","uuid":"1267daec-7636-4b83-98ac-fdfaae6d41c7"},"retries":"0","description":"","type":"DAG","uuid":"57c97515-e791-4cbf-840c-97567eb48901","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Nutanix_Provision_1267daec_7636_4b83_98ac_fdfaae6d41c7","uuid":"9db089ae-1f33-42f1-8e72-9e9007c18531"},{"kind":"app_task","name":"SYS_GEN__check_login_for_AHV_HYCU_1267daec_7636_4b83_98ac_fdfaae6d41c7","uuid":"ccda9578-d322-4999-a953-a09bdf9699b4"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Nutanix_Provision_1267daec_7636_4b83_98ac_fdfaae6d41c7","uuid":"9db089ae-1f33-42f1-8e72-9e9007c18531"},"edge_type":"inherent","type":"","uuid":"99c736b1-c8fa-4638-bb07-46303ac81519","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_AHV_HYCU_1267daec_7636_4b83_98ac_fdfaae6d41c7","uuid":"ccda9578-d322-4999-a953-a09bdf9699b4"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHV_HYCU","uuid":"1267daec-7636-4b83-98ac-fdfaae6d41c7"},"retries":"0","description":"","type":"PROVISION_NUTANIX","uuid":"9db089ae-1f33-42f1-8e72-9e9007c18531","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"name":"hycu-@@{calm_time}@@","categories":"","availability_zone_reference":null,"backup_policy":null,"type":"","cluster_reference":null,"resources":{"nic_list":[{"nic_type":"NORMAL_NIC","ip_endpoint_list":[{"ip":"@@{HYCU_IP}@@","type":"ASSIGNED"}],"network_function_chain_reference":null,"network_function_nic_type":"INGRESS","mac_address":"","subnet_reference":{"kind":"subnet","type":"","name":"","uuid":"4ad0b85f-6a89-459b-a62f-73eb0e88bb1a"},"type":""}],"parent_reference":null,"guest_tools":null,"num_vcpus_per_socket":1,"num_sockets":4,"serial_port_list":[],"gpu_list":[],"memory_size_mib":4096,"power_state":"ON","hardware_clock_timezone":"","guest_customization":{"cloud_init":{"meta_data":"","type":"","user_data":"#cloud-config\nbootcmd:\n- \/opt\/grizzly\/bin\/cloud_init_setup.sh @@{HYCU_HOSTNAME}@@ @@{HYCU_IP}@@\/@@{HYCU_PREFIX}@@ @@{HYCU_GATEWAY}@@ @@{HYCU_DNS}@@ @@{HYCU_DOMAIN}@@"},"type":"","sysprep":null},"type":"","boot_config":{"boot_device":{"type":"","disk_address":{"adapter_type":"SCSI","device_index":0,"type":""}},"type":"","mac_address":""},"disk_list":[{"data_source_reference":{"kind":"app_package","type":"","name":"HYCU_3_1_3","uuid":"819795cb-9f8e-4881-8690-239b4260b9ec"},"type":"","disk_size_mib":0,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":0,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":32768,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":1,"type":""}}}]}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Nutanix_Provision_1267daec_7636_4b83_98ac_fdfaae6d41c7"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHV_HYCU","uuid":"1267daec-7636-4b83-98ac-fdfaae6d41c7"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"ccda9578-d322-4999-a953-a09bdf9699b4","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"300","address":"@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_AHV_HYCU_1267daec_7636_4b83_98ac_fdfaae6d41c7"}],"description":"","message_list":[],"uuid":"1de03613-9a43-419e-86a4-871a59f878d0","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7","uuid":"57c97515-e791-4cbf-840c-97567eb48901"},"name":"SYS_GEN__Runbook_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7"}},{"description":"System action for powering on an application","message_list":[],"uuid":"d998371a-dfb6-4c6c-beaa-5916f3b4e261","name":"action_poweron","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AHV_HYCU","uuid":"1267daec-7636-4b83-98ac-fdfaae6d41c7"},"retries":"0","description":"","type":"DAG","uuid":"0e5049c9-1e05-4667-a50f-7153cbb7cd26","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Nutanix_Operation_PowerOn_1267daec_7636_4b83_98ac_fdfaae6d41c7","uuid":"7cf47497-a320-491a-a144-358ae4d0e1c0"},{"kind":"app_task","name":"SYS_GEN__check_login_for_AHV_HYCU_1267daec_7636_4b83_98ac_fdfaae6d41c7","uuid":"e39630ac-efd8-463e-8676-0426f69a4f90"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Nutanix_Operation_PowerOn_1267daec_7636_4b83_98ac_fdfaae6d41c7","uuid":"7cf47497-a320-491a-a144-358ae4d0e1c0"},"edge_type":"inherent","type":"","uuid":"9af4393d-77c8-4e1c-9381-bc3be35acc79","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_AHV_HYCU_1267daec_7636_4b83_98ac_fdfaae6d41c7","uuid":"e39630ac-efd8-463e-8676-0426f69a4f90"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHV_HYCU","uuid":"1267daec-7636-4b83-98ac-fdfaae6d41c7"},"retries":"0","description":"","type":"VMOPERATION_NUTANIX","uuid":"7cf47497-a320-491a-a144-358ae4d0e1c0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Nutanix_Operation_PowerOn_1267daec_7636_4b83_98ac_fdfaae6d41c7"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHV_HYCU","uuid":"1267daec-7636-4b83-98ac-fdfaae6d41c7"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"e39630ac-efd8-463e-8676-0426f69a4f90","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"300","address":"@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_AHV_HYCU_1267daec_7636_4b83_98ac_fdfaae6d41c7"}],"description":"","message_list":[],"uuid":"aac32bc9-6994-4bb0-a5ef-b5908d54f71c","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7","uuid":"0e5049c9-1e05-4667-a50f-7153cbb7cd26"},"name":"SYS_GEN__Runbook_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7"}},{"description":"System action for restarting an application","message_list":[],"uuid":"4facc98b-e03a-4701-b8fd-cfa61985be01","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AHV_HYCU","uuid":"1267daec-7636-4b83-98ac-fdfaae6d41c7"},"retries":"0","description":"","type":"DAG","uuid":"707ddb7f-d881-40b4-b199-52832c7d7189","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Nutanix_Operation_Restart_1267daec_7636_4b83_98ac_fdfaae6d41c7","uuid":"747a1896-5d47-423c-92fc-597bbdb458c1"},{"kind":"app_task","name":"SYS_GEN__check_login_for_AHV_HYCU_1267daec_7636_4b83_98ac_fdfaae6d41c7","uuid":"2044c27b-9e5f-48c6-bcc7-3cb0381c3693"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Nutanix_Operation_Restart_1267daec_7636_4b83_98ac_fdfaae6d41c7","uuid":"747a1896-5d47-423c-92fc-597bbdb458c1"},"edge_type":"inherent","type":"","uuid":"8e35d562-aadc-4b21-8505-24beee00ac0b","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_AHV_HYCU_1267daec_7636_4b83_98ac_fdfaae6d41c7","uuid":"2044c27b-9e5f-48c6-bcc7-3cb0381c3693"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHV_HYCU","uuid":"1267daec-7636-4b83-98ac-fdfaae6d41c7"},"retries":"0","description":"","type":"VMOPERATION_NUTANIX","uuid":"747a1896-5d47-423c-92fc-597bbdb458c1","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Nutanix_Operation_Restart_1267daec_7636_4b83_98ac_fdfaae6d41c7"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHV_HYCU","uuid":"1267daec-7636-4b83-98ac-fdfaae6d41c7"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"2044c27b-9e5f-48c6-bcc7-3cb0381c3693","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"300","address":"@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_AHV_HYCU_1267daec_7636_4b83_98ac_fdfaae6d41c7"}],"description":"","message_list":[],"uuid":"17978a84-7f9c-47a2-aa73-c240e4d7c802","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7","uuid":"707ddb7f-d881-40b4-b199-52832c7d7189"},"name":"SYS_GEN__Runbook_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7"}},{"description":"System action for suspending an application","message_list":[],"uuid":"0551a361-a244-469d-9635-610d8fb5df11","name":"action_suspend","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AHV_HYCU","uuid":"1267daec-7636-4b83-98ac-fdfaae6d41c7"},"retries":"0","description":"","type":"DAG","uuid":"64430412-0887-485e-bb5f-fb2b1bce3a29","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7"}],"description":"","message_list":[],"uuid":"c261d1f2-a101-4362-948a-3b1075fda205","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7","uuid":"64430412-0887-485e-bb5f-fb2b1bce3a29"},"name":"SYS_GEN__Runbook_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7"}},{"description":"System action for modifying an application","message_list":[],"uuid":"e4a3bc2a-157d-4f44-bc9d-d0218305879a","name":"action_modify","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AHV_HYCU","uuid":"1267daec-7636-4b83-98ac-fdfaae6d41c7"},"retries":"0","description":"","type":"DAG","uuid":"211503dc-3182-45e2-9360-6abf33e64905","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7"}],"description":"","message_list":[],"uuid":"6942c782-220b-4b80-b881-753b108d1403","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7","uuid":"211503dc-3182-45e2-9360-6abf33e64905"},"name":"SYS_GEN__Runbook_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7"}},{"description":"System action for powering off an application","message_list":[],"uuid":"677ea1ee-401e-4ccc-8529-909770847a34","name":"action_poweroff","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AHV_HYCU","uuid":"1267daec-7636-4b83-98ac-fdfaae6d41c7"},"retries":"0","description":"","type":"DAG","uuid":"aa17f748-218c-4bc5-903a-daf75a1e28e8","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Nutanix_Operation_PowerOff_1267daec_7636_4b83_98ac_fdfaae6d41c7","uuid":"7110c94d-e3da-4dc6-960d-69041680225c"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHV_HYCU","uuid":"1267daec-7636-4b83-98ac-fdfaae6d41c7"},"retries":"0","description":"","type":"VMOPERATION_NUTANIX","uuid":"7110c94d-e3da-4dc6-960d-69041680225c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Nutanix_Operation_PowerOff_1267daec_7636_4b83_98ac_fdfaae6d41c7"}],"description":"","message_list":[],"uuid":"801b104e-09e9-40c0-ad32-9d6860f1342a","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7","uuid":"aa17f748-218c-4bc5-903a-daf75a1e28e8"},"name":"SYS_GEN__Runbook_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"05b05a09-b5cd-42de-b974-65f881da26d3","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AHV_HYCU","uuid":"1267daec-7636-4b83-98ac-fdfaae6d41c7"},"retries":"0","description":"","type":"DAG","uuid":"ab79a1e5-f6b3-4d19-ba76-94caa7c18a62","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Nutanix_Delete_1267daec_7636_4b83_98ac_fdfaae6d41c7","uuid":"83073b95-2c12-4b42-8578-1f300909815f"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHV_HYCU","uuid":"1267daec-7636-4b83-98ac-fdfaae6d41c7"},"retries":"0","description":"","type":"DELETE_NUTANIX","uuid":"83073b95-2c12-4b42-8578-1f300909815f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Nutanix_Delete_1267daec_7636_4b83_98ac_fdfaae6d41c7"}],"description":"","message_list":[],"uuid":"2eb5297b-c3da-4cbd-bb6c-ad0fd0476386","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7","uuid":"ab79a1e5-f6b3-4d19-ba76-94caa7c18a62"},"name":"SYS_GEN__Runbook_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"271424fc-b563-47a6-a467-eff913a9d875","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AHV_HYCU","uuid":"1267daec-7636-4b83-98ac-fdfaae6d41c7"},"retries":"0","description":"","type":"DAG","uuid":"ba2efe62-0bfb-47ab-845e-cc0781667a71","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Substrate_Element_Delete_1267daec_7636_4b83_98ac_fdfaae6d41c7","uuid":"98ad8c09-7c3a-40b2-920f-dd1f5304aff0"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHV_HYCU","uuid":"1267daec-7636-4b83-98ac-fdfaae6d41c7"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"98ad8c09-7c3a-40b2-920f-dd1f5304aff0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Substrate_Element_Delete_1267daec_7636_4b83_98ac_fdfaae6d41c7"}],"description":"","message_list":[],"uuid":"180ba1fa-3508-4017-8c8b-652b8284d1bc","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7","uuid":"ba2efe62-0bfb-47ab-845e-cc0781667a71"},"name":"SYS_GEN__Runbook_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7"}}],"message_list":[],"uuid":"1267daec-7636-4b83-98ac-fdfaae6d41c7","state":"ACTIVE","readiness_probe":{"connection_type":"SSH","retries":"5","disable_readiness_probe":false,"address":"@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@","delay_secs":"0","connection_port":22,"login_credential_local_reference":{"kind":"app_credential","name":"HYCU_CRED","uuid":"fe6cb1e0-8807-4f10-96ec-a427a3da64c1"}},"editables":{"readiness_probe":{"connection_type":true,"delay_secs":true,"connection_port":true,"timeout_secs":null},"create_spec":{"name":true,"resources":{"nic_list":{"0":{"ip_endpoint_list":{"0":{"ip":true}},"subnet_reference":true}},"serial_port_list":{},"num_vcpus_per_socket":true,"num_sockets":true,"memory_size_mib":true,"guest_customization":true,"disk_list":{"1":{"disk_size_mib":true}}}}},"os_type":"Linux","type":"AHV_VM","create_spec":{"name":"hycu-@@{calm_time}@@","categories":"","availability_zone_reference":null,"backup_policy":null,"type":"","cluster_reference":null,"resources":{"nic_list":[{"nic_type":"NORMAL_NIC","ip_endpoint_list":[{"ip":"@@{HYCU_IP}@@","type":"ASSIGNED"}],"network_function_chain_reference":null,"network_function_nic_type":"INGRESS","mac_address":"","subnet_reference":{"kind":"subnet","type":"","name":"","uuid":"4ad0b85f-6a89-459b-a62f-73eb0e88bb1a"},"type":""}],"parent_reference":null,"guest_tools":null,"num_vcpus_per_socket":1,"num_sockets":4,"serial_port_list":[],"gpu_list":[],"memory_size_mib":4096,"power_state":"ON","hardware_clock_timezone":"","guest_customization":{"cloud_init":{"meta_data":"","type":"","user_data":"#cloud-config\nbootcmd:\n- \/opt\/grizzly\/bin\/cloud_init_setup.sh @@{HYCU_HOSTNAME}@@ @@{HYCU_IP}@@\/@@{HYCU_PREFIX}@@ @@{HYCU_GATEWAY}@@ @@{HYCU_DNS}@@ @@{HYCU_DOMAIN}@@"},"type":"","sysprep":null},"type":"","boot_config":{"boot_device":{"type":"","disk_address":{"adapter_type":"SCSI","device_index":0,"type":""}},"type":"","mac_address":""},"disk_list":[{"data_source_reference":{"kind":"app_package","type":"","name":"HYCU_3_1_3","uuid":"819795cb-9f8e-4881-8690-239b4260b9ec"},"type":"","disk_size_mib":0,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":0,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":32768,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":1,"type":""}}}]}},"variable_list":[],"name":"AHV_HYCU"}],"credential_definition_list":[{"username":"hycu","description":"","state":"ACTIVE","message_list":[],"uuid":"fe6cb1e0-8807-4f10-96ec-a427a3da64c1","secret":{"attrs":{"is_secret_modified":false,"secret_reference":{}}},"editables":{"username":true,"secret":true},"type":"PASSWORD","name":"HYCU_CRED"},{"username":"admin","description":"","state":"ACTIVE","message_list":[],"uuid":"0a8e1a81-e237-419a-8ea3-ce8ecc37f4da","secret":{"attrs":{"is_secret_modified":false,"secret_reference":{}}},"editables":{"username":true,"secret":true},"type":"PASSWORD","name":"NTX_PRISM_USER_FOR_HYCU"}],"type":"USER","app_profile_list":[{"deployment_create_list":[{"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"a87824cc-7eb4-423c-ac2d-4bcc0a46ab75","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"b0aa55d2_deployment","uuid":"f9497542-3359-4892-aad7-ecb44805d12f"},"retries":"0","description":"","type":"DAG","uuid":"ba456243-27f5-4a74-a1fc-1c6eb9e62556","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__DE_Provision_f9497542_3359_4892_aad7_ecb44805d12f","uuid":"8f20764e-74f7-4033-84db-c7ec7f76cfdb"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_819795cb_9f8e_4881_8690_239b4260b9ec","uuid":"d3ce0a7b-efab-48f3-85ce-2d6752ebd108"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7","uuid":"b25fa9e8-041d-400d-8201-cfbdba529d68"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_245bf4ad_7ce5_4f29_9f09_a4ceab8ed1e0","uuid":"df7928e1-c5ed-41ed-b7b0-e9d0b13ff462"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be","uuid":"9f288cbb-3f2d-4ae8-81e6-dd9d60863b08"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be","uuid":"f5d75073-ea85-43b7-8053-65116a1c685f"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be","uuid":"9f288cbb-3f2d-4ae8-81e6-dd9d60863b08"},"edge_type":"inherent","type":"","uuid":"6251cee1-fbb7-4f30-865f-6f4854b49183","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be","uuid":"f5d75073-ea85-43b7-8053-65116a1c685f"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_245bf4ad_7ce5_4f29_9f09_a4ceab8ed1e0","uuid":"df7928e1-c5ed-41ed-b7b0-e9d0b13ff462"},"edge_type":"inherent","type":"","uuid":"a0e7696e-fb9b-4b65-90a1-383cfb56bf6a","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be","uuid":"9f288cbb-3f2d-4ae8-81e6-dd9d60863b08"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_f9497542_3359_4892_aad7_ecb44805d12f","uuid":"8f20764e-74f7-4033-84db-c7ec7f76cfdb"},"edge_type":"inherent","type":"","uuid":"4a79cef9-38f1-47d4-ae04-f7c46841fed8","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_819795cb_9f8e_4881_8690_239b4260b9ec","uuid":"d3ce0a7b-efab-48f3-85ce-2d6752ebd108"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_f9497542_3359_4892_aad7_ecb44805d12f","uuid":"8f20764e-74f7-4033-84db-c7ec7f76cfdb"},"edge_type":"inherent","type":"","uuid":"71bcdd8a-fe8a-4085-abd9-9548ad9683ef","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7","uuid":"b25fa9e8-041d-400d-8201-cfbdba529d68"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7","uuid":"b25fa9e8-041d-400d-8201-cfbdba529d68"},"edge_type":"inherent","type":"","uuid":"25e02d63-f20a-4042-9989-81110d71248c","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_245bf4ad_7ce5_4f29_9f09_a4ceab8ed1e0","uuid":"df7928e1-c5ed-41ed-b7b0-e9d0b13ff462"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_819795cb_9f8e_4881_8690_239b4260b9ec","uuid":"d3ce0a7b-efab-48f3-85ce-2d6752ebd108"},"edge_type":"inherent","type":"","uuid":"70b45cf8-cefd-4a35-97f3-41e30ca2dfe7","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7","uuid":"b25fa9e8-041d-400d-8201-cfbdba529d68"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_f9497542_3359_4892_aad7_ecb44805d12f"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"b0aa55d2_deployment","uuid":"f9497542-3359-4892-aad7-ecb44805d12f"},"retries":"0","description":"","type":"CREATE_DEPLOYMENT_ELEMENT","uuid":"8f20764e-74f7-4033-84db-c7ec7f76cfdb","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Provision_f9497542_3359_4892_aad7_ecb44805d12f"},{"target_any_local_reference":{"kind":"app_package","name":"HYCU_3_1_3","uuid":"819795cb-9f8e-4881-8690-239b4260b9ec"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"d3ce0a7b-efab-48f3-85ce-2d6752ebd108","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"b0aa55d2_deployment","uuid":"f9497542-3359-4892-aad7-ecb44805d12f"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_819795cb_9f8e_4881_8690_239b4260b9ec","uuid":"9239d02f-d2a5-4e5b-b364-1bbe36da0508"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_819795cb_9f8e_4881_8690_239b4260b9ec"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHV_HYCU","uuid":"1267daec-7636-4b83-98ac-fdfaae6d41c7"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"b25fa9e8-041d-400d-8201-cfbdba529d68","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"b0aa55d2_deployment","uuid":"f9497542-3359-4892-aad7-ecb44805d12f"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7","uuid":"1de03613-9a43-419e-86a4-871a59f878d0"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7"},{"target_any_local_reference":{"kind":"app_package","name":"AHV_HYCU_Package","uuid":"245bf4ad-7ce5-4f29-9f09-a4ceab8ed1e0"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"df7928e1-c5ed-41ed-b7b0-e9d0b13ff462","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"b0aa55d2_deployment","uuid":"f9497542-3359-4892-aad7-ecb44805d12f"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_245bf4ad_7ce5_4f29_9f09_a4ceab8ed1e0","uuid":"a19dbd98-597b-40f0-8fc3-ea4162fc2379"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_245bf4ad_7ce5_4f29_9f09_a4ceab8ed1e0"},{"target_any_local_reference":{"kind":"app_service","name":"HYCU","uuid":"2088365f-88eb-49f4-b2c5-dd2887b746be"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"9f288cbb-3f2d-4ae8-81e6-dd9d60863b08","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"b0aa55d2_deployment","uuid":"f9497542-3359-4892-aad7-ecb44805d12f"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"124cb92b_runbook","uuid":"a46d0adb-d4e9-435a-9f45-0afbfaad8abd"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be"},{"target_any_local_reference":{"kind":"app_service","name":"HYCU","uuid":"2088365f-88eb-49f4-b2c5-dd2887b746be"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"f5d75073-ea85-43b7-8053-65116a1c685f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"b0aa55d2_deployment","uuid":"f9497542-3359-4892-aad7-ecb44805d12f"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"d8e5204b_runbook","uuid":"7b24e645-85fb-45b9-a868-d84f34d21fbc"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be"}],"description":"","message_list":[],"uuid":"a5a0a5c6-9bbb-461a-bacd-f68de8867ca2","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_f9497542_3359_4892_aad7_ecb44805d12f","uuid":"ba456243-27f5-4a74-a1fc-1c6eb9e62556"},"name":"SYS_GEN__Runbook_Deployment_f9497542_3359_4892_aad7_ecb44805d12f"}},{"description":"System action for starting an application","message_list":[],"uuid":"4f05ee4b-380d-42b6-92a3-ef06fef831a1","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"b0aa55d2_deployment","uuid":"f9497542-3359-4892-aad7-ecb44805d12f"},"retries":"0","description":"","type":"DAG","uuid":"29874291-9ea5-427f-b45e-4bacddee64ae","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7","uuid":"d1a3b817-5797-4c4e-8470-850cd2bc14e5"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be","uuid":"0500902a-6e75-46c1-86bb-8e6d7b7a9714"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7","uuid":"d1a3b817-5797-4c4e-8470-850cd2bc14e5"},"edge_type":"inherent","type":"","uuid":"d812d002-99d4-4ad4-8bfa-34d241554e2c","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be","uuid":"0500902a-6e75-46c1-86bb-8e6d7b7a9714"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_f9497542_3359_4892_aad7_ecb44805d12f"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHV_HYCU","uuid":"1267daec-7636-4b83-98ac-fdfaae6d41c7"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"d1a3b817-5797-4c4e-8470-850cd2bc14e5","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"b0aa55d2_deployment","uuid":"f9497542-3359-4892-aad7-ecb44805d12f"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7","uuid":"aac32bc9-6994-4bb0-a5ef-b5908d54f71c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7"},{"target_any_local_reference":{"kind":"app_service","name":"HYCU","uuid":"2088365f-88eb-49f4-b2c5-dd2887b746be"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"0500902a-6e75-46c1-86bb-8e6d7b7a9714","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"b0aa55d2_deployment","uuid":"f9497542-3359-4892-aad7-ecb44805d12f"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"d8e5204b_runbook","uuid":"7b24e645-85fb-45b9-a868-d84f34d21fbc"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be"}],"description":"","message_list":[],"uuid":"9dae248d-1b63-43e3-9e3d-d50415e38e45","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_f9497542_3359_4892_aad7_ecb44805d12f","uuid":"29874291-9ea5-427f-b45e-4bacddee64ae"},"name":"SYS_GEN__Runbook_Deployment_f9497542_3359_4892_aad7_ecb44805d12f"}},{"description":"System action for restarting an application","message_list":[],"uuid":"8a686197-69fe-410d-8b59-2994c6490e72","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"b0aa55d2_deployment","uuid":"f9497542-3359-4892-aad7-ecb44805d12f"},"retries":"0","description":"","type":"DAG","uuid":"0fd7917f-a73d-43ec-b949-95302dee9023","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7","uuid":"f110135b-e67b-47c3-bcad-1fa30621ee1e"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be","uuid":"0e21c92d-2c39-45ce-84e5-7649ecdb8cb5"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7","uuid":"f110135b-e67b-47c3-bcad-1fa30621ee1e"},"edge_type":"inherent","type":"","uuid":"479ec22f-58b7-4c40-8f73-a2d9e5cd6cdd","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be","uuid":"0e21c92d-2c39-45ce-84e5-7649ecdb8cb5"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_f9497542_3359_4892_aad7_ecb44805d12f"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHV_HYCU","uuid":"1267daec-7636-4b83-98ac-fdfaae6d41c7"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"f110135b-e67b-47c3-bcad-1fa30621ee1e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"b0aa55d2_deployment","uuid":"f9497542-3359-4892-aad7-ecb44805d12f"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7","uuid":"17978a84-7f9c-47a2-aa73-c240e4d7c802"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7"},{"target_any_local_reference":{"kind":"app_service","name":"HYCU","uuid":"2088365f-88eb-49f4-b2c5-dd2887b746be"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"0e21c92d-2c39-45ce-84e5-7649ecdb8cb5","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"b0aa55d2_deployment","uuid":"f9497542-3359-4892-aad7-ecb44805d12f"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"b85cb2cc_runbook","uuid":"cde318ea-76f0-449d-afec-fbf2329a758e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be"}],"description":"","message_list":[],"uuid":"44fc324c-ac3e-424e-8b22-738a76792bc1","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_f9497542_3359_4892_aad7_ecb44805d12f","uuid":"0fd7917f-a73d-43ec-b949-95302dee9023"},"name":"SYS_GEN__Runbook_Deployment_f9497542_3359_4892_aad7_ecb44805d12f"}},{"description":"System action for stopping an application","message_list":[],"uuid":"079bb438-1e85-45bb-827a-fd67f4204410","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"b0aa55d2_deployment","uuid":"f9497542-3359-4892-aad7-ecb44805d12f"},"retries":"0","description":"","type":"DAG","uuid":"5c3a4966-c204-4ef9-afda-0c3792bef2ef","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be","uuid":"007185f6-00ec-447a-b296-c57aea048849"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7","uuid":"ad577814-d2a8-4a26-b8d7-1fb3dd4717a1"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be","uuid":"007185f6-00ec-447a-b296-c57aea048849"},"edge_type":"inherent","type":"","uuid":"157488e9-35de-4679-857d-87f64c361f4d","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7","uuid":"ad577814-d2a8-4a26-b8d7-1fb3dd4717a1"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_f9497542_3359_4892_aad7_ecb44805d12f"},{"target_any_local_reference":{"kind":"app_service","name":"HYCU","uuid":"2088365f-88eb-49f4-b2c5-dd2887b746be"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"007185f6-00ec-447a-b296-c57aea048849","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"b0aa55d2_deployment","uuid":"f9497542-3359-4892-aad7-ecb44805d12f"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"f6b78719_runbook","uuid":"23deefe2-36da-460a-93a2-2721ba76563c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHV_HYCU","uuid":"1267daec-7636-4b83-98ac-fdfaae6d41c7"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"ad577814-d2a8-4a26-b8d7-1fb3dd4717a1","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"b0aa55d2_deployment","uuid":"f9497542-3359-4892-aad7-ecb44805d12f"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7","uuid":"801b104e-09e9-40c0-ad32-9d6860f1342a"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7"}],"description":"","message_list":[],"uuid":"731f2319-d774-4cc4-b647-ef2f11a18c3e","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_f9497542_3359_4892_aad7_ecb44805d12f","uuid":"5c3a4966-c204-4ef9-afda-0c3792bef2ef"},"name":"SYS_GEN__Runbook_Deployment_f9497542_3359_4892_aad7_ecb44805d12f"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"312b718b-d9a9-4fa7-8d87-a82ba8abfb36","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"b0aa55d2_deployment","uuid":"f9497542-3359-4892-aad7-ecb44805d12f"},"retries":"0","description":"","type":"DAG","uuid":"15960e1e-be43-48c4-a843-d5530deab6e9","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be","uuid":"6a6ff222-6743-42f2-91ef-f504f3559345"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be","uuid":"73cab68d-95eb-42a0-a785-21e32d539936"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_245bf4ad_7ce5_4f29_9f09_a4ceab8ed1e0","uuid":"29a86d2f-24ae-4411-b76b-e4965c853010"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7","uuid":"58feb879-d53a-484c-aa77-cdb859fe4f8d"},{"kind":"app_task","name":"SYS_GEN__DE_Delete_f9497542_3359_4892_aad7_ecb44805d12f","uuid":"55d9ae8b-636a-4b0a-95c6-db1c9f9139bf"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be","uuid":"6a6ff222-6743-42f2-91ef-f504f3559345"},"edge_type":"inherent","type":"","uuid":"1a5afc5e-210b-431f-b124-61bc59a1a548","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be","uuid":"73cab68d-95eb-42a0-a785-21e32d539936"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be","uuid":"73cab68d-95eb-42a0-a785-21e32d539936"},"edge_type":"inherent","type":"","uuid":"7d5b1c27-0804-479c-a8c5-627135839e44","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_245bf4ad_7ce5_4f29_9f09_a4ceab8ed1e0","uuid":"29a86d2f-24ae-4411-b76b-e4965c853010"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7","uuid":"58feb879-d53a-484c-aa77-cdb859fe4f8d"},"edge_type":"inherent","type":"","uuid":"6ae87619-4045-4b65-802f-3076e0a394c7","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Delete_f9497542_3359_4892_aad7_ecb44805d12f","uuid":"55d9ae8b-636a-4b0a-95c6-db1c9f9139bf"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_245bf4ad_7ce5_4f29_9f09_a4ceab8ed1e0","uuid":"29a86d2f-24ae-4411-b76b-e4965c853010"},"edge_type":"inherent","type":"","uuid":"229bac74-b781-48d6-bc96-3c70d478e5bd","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7","uuid":"58feb879-d53a-484c-aa77-cdb859fe4f8d"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_f9497542_3359_4892_aad7_ecb44805d12f"},{"target_any_local_reference":{"kind":"app_service","name":"HYCU","uuid":"2088365f-88eb-49f4-b2c5-dd2887b746be"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"6a6ff222-6743-42f2-91ef-f504f3559345","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"b0aa55d2_deployment","uuid":"f9497542-3359-4892-aad7-ecb44805d12f"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"f6b78719_runbook","uuid":"23deefe2-36da-460a-93a2-2721ba76563c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be"},{"target_any_local_reference":{"kind":"app_service","name":"HYCU","uuid":"2088365f-88eb-49f4-b2c5-dd2887b746be"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"73cab68d-95eb-42a0-a785-21e32d539936","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"b0aa55d2_deployment","uuid":"f9497542-3359-4892-aad7-ecb44805d12f"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"ebbad80f_runbook","uuid":"482678b0-5a36-4a07-a6d5-d6cad129ade1"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be"},{"target_any_local_reference":{"kind":"app_package","name":"AHV_HYCU_Package","uuid":"245bf4ad-7ce5-4f29-9f09-a4ceab8ed1e0"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"29a86d2f-24ae-4411-b76b-e4965c853010","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"b0aa55d2_deployment","uuid":"f9497542-3359-4892-aad7-ecb44805d12f"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_245bf4ad_7ce5_4f29_9f09_a4ceab8ed1e0","uuid":"e2af7c45-691e-4093-bdeb-1a0285ae4b40"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_245bf4ad_7ce5_4f29_9f09_a4ceab8ed1e0"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHV_HYCU","uuid":"1267daec-7636-4b83-98ac-fdfaae6d41c7"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"58feb879-d53a-484c-aa77-cdb859fe4f8d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"b0aa55d2_deployment","uuid":"f9497542-3359-4892-aad7-ecb44805d12f"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7","uuid":"2eb5297b-c3da-4cbd-bb6c-ad0fd0476386"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"b0aa55d2_deployment","uuid":"f9497542-3359-4892-aad7-ecb44805d12f"},"retries":"0","description":"","type":"DELETE_DEPLOYMENT_ELEMENT","uuid":"55d9ae8b-636a-4b0a-95c6-db1c9f9139bf","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Delete_f9497542_3359_4892_aad7_ecb44805d12f"}],"description":"","message_list":[],"uuid":"282dd09b-ce40-4a8f-aa11-0b512ba4e5a2","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_f9497542_3359_4892_aad7_ecb44805d12f","uuid":"15960e1e-be43-48c4-a843-d5530deab6e9"},"name":"SYS_GEN__Runbook_Deployment_f9497542_3359_4892_aad7_ecb44805d12f"}},{"description":"System action for scaleout","message_list":[],"uuid":"8c1087b5-363f-4cef-9ddd-ab8b4d390bbd","name":"action_scaleout","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"b0aa55d2_deployment","uuid":"f9497542-3359-4892-aad7-ecb44805d12f"},"retries":"0","description":"","type":"DAG","uuid":"043a6853-8e54-4b6f-a47c-313ea6cb69c9","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Deployment_Scaleout_f9497542_3359_4892_aad7_ecb44805d12f","uuid":"b1a4bf10-382b-4d26-ae6c-e99244f7794d"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_f9497542_3359_4892_aad7_ecb44805d12f"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"b0aa55d2_deployment","uuid":"f9497542-3359-4892-aad7-ecb44805d12f"},"retries":"0","description":"","type":"SCALING","uuid":"b1a4bf10-382b-4d26-ae6c-e99244f7794d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{scaling_count}@@","type":"","scaling_type":"SCALEOUT"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Deployment_Scaleout_f9497542_3359_4892_aad7_ecb44805d12f"}],"description":"","message_list":[],"uuid":"4eb8e94a-b601-4b0d-81da-247e62ae4408","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"b2620628-b8c3-4a18-8a65-9f2e9ab23d7d","value":"0","label":"","state":"NOT_VALIDATED","attrs":{},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"scaling_count"}],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_f9497542_3359_4892_aad7_ecb44805d12f","uuid":"043a6853-8e54-4b6f-a47c-313ea6cb69c9"},"name":"SYS_GEN__Runbook_Deployment_f9497542_3359_4892_aad7_ecb44805d12f"}},{"description":"System action for scalein","message_list":[],"uuid":"8755eb7d-02f3-46b3-afb0-777420148f26","name":"action_scalein","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"b0aa55d2_deployment","uuid":"f9497542-3359-4892-aad7-ecb44805d12f"},"retries":"0","description":"","type":"DAG","uuid":"adc5b3ae-6a98-4655-84ed-c93ba8ce9e51","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Deployment_Scalein_f9497542_3359_4892_aad7_ecb44805d12f","uuid":"bcc1ac83-883e-4c77-a4c9-a7827edaefce"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_f9497542_3359_4892_aad7_ecb44805d12f"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"b0aa55d2_deployment","uuid":"f9497542-3359-4892-aad7-ecb44805d12f"},"retries":"0","description":"","type":"SCALING","uuid":"bcc1ac83-883e-4c77-a4c9-a7827edaefce","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{scaling_count}@@","type":"","scaling_type":"SCALEIN"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Deployment_Scalein_f9497542_3359_4892_aad7_ecb44805d12f"}],"description":"","message_list":[],"uuid":"c5c2482b-0b0d-487a-bbb9-d9c37196e878","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"daf012e4-d141-489c-af15-37335e79f010","value":"0","label":"","state":"NOT_VALIDATED","attrs":{},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"scaling_count"}],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_f9497542_3359_4892_aad7_ecb44805d12f","uuid":"adc5b3ae-6a98-4655-84ed-c93ba8ce9e51"},"name":"SYS_GEN__Runbook_Deployment_f9497542_3359_4892_aad7_ecb44805d12f"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"7b2602c1-04a6-4fdd-9026-da9bf30fe544","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"b0aa55d2_deployment","uuid":"f9497542-3359-4892-aad7-ecb44805d12f"},"retries":"0","description":"","type":"DAG","uuid":"755e8cbd-5171-47a7-8842-99b1f8496c96","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be","uuid":"74e31045-eed4-4150-9d2a-03360d9a32cd"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_245bf4ad_7ce5_4f29_9f09_a4ceab8ed1e0","uuid":"ac533cda-2fb1-49b3-bc04-a6a461c8691f"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7","uuid":"faa727a1-af87-4000-a3ec-6c90bff75892"},{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_f9497542_3359_4892_aad7_ecb44805d12f","uuid":"42725e2f-76df-48da-9f6f-d5657cb2f3ac"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be","uuid":"74e31045-eed4-4150-9d2a-03360d9a32cd"},"edge_type":"inherent","type":"","uuid":"68a4ef2b-5d66-4989-ab04-a01f816276ec","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_245bf4ad_7ce5_4f29_9f09_a4ceab8ed1e0","uuid":"ac533cda-2fb1-49b3-bc04-a6a461c8691f"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7","uuid":"faa727a1-af87-4000-a3ec-6c90bff75892"},"edge_type":"inherent","type":"","uuid":"d2639e0f-9b6e-4500-8c8f-0578617e03a4","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_f9497542_3359_4892_aad7_ecb44805d12f","uuid":"42725e2f-76df-48da-9f6f-d5657cb2f3ac"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_245bf4ad_7ce5_4f29_9f09_a4ceab8ed1e0","uuid":"ac533cda-2fb1-49b3-bc04-a6a461c8691f"},"edge_type":"inherent","type":"","uuid":"22bd6fe4-2d5f-490f-9572-25500345623b","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7","uuid":"faa727a1-af87-4000-a3ec-6c90bff75892"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_f9497542_3359_4892_aad7_ecb44805d12f"},{"target_any_local_reference":{"kind":"app_service","name":"HYCU","uuid":"2088365f-88eb-49f4-b2c5-dd2887b746be"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"74e31045-eed4-4150-9d2a-03360d9a32cd","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"b0aa55d2_deployment","uuid":"f9497542-3359-4892-aad7-ecb44805d12f"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_2088365f_88eb_49f4_b2c5_dd2887b746be","uuid":"2de20819-5bb9-4130-a76d-5656dc54699c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be"},{"target_any_local_reference":{"kind":"app_package","name":"AHV_HYCU_Package","uuid":"245bf4ad-7ce5-4f29-9f09-a4ceab8ed1e0"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"ac533cda-2fb1-49b3-bc04-a6a461c8691f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_245bf4ad_7ce5_4f29_9f09_a4ceab8ed1e0"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHV_HYCU","uuid":"1267daec-7636-4b83-98ac-fdfaae6d41c7"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"faa727a1-af87-4000-a3ec-6c90bff75892","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"b0aa55d2_deployment","uuid":"f9497542-3359-4892-aad7-ecb44805d12f"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7","uuid":"180ba1fa-3508-4017-8c8b-652b8284d1bc"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"b0aa55d2_deployment","uuid":"f9497542-3359-4892-aad7-ecb44805d12f"},"retries":"0","description":"","type":"SOFT_DELETE_DEPLOYMENT_ELEMENT","uuid":"42725e2f-76df-48da-9f6f-d5657cb2f3ac","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Soft_Delete_f9497542_3359_4892_aad7_ecb44805d12f"}],"description":"","message_list":[],"uuid":"58d7c5be-80f5-4d05-abe1-76667d513053","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_f9497542_3359_4892_aad7_ecb44805d12f","uuid":"755e8cbd-5171-47a7-8842-99b1f8496c96"},"name":"SYS_GEN__Runbook_Deployment_f9497542_3359_4892_aad7_ecb44805d12f"}}],"message_list":[],"published_service_local_reference_list":[],"uuid":"f9497542-3359-4892-aad7-ecb44805d12f","min_replicas":"1","state":"ACTIVE","max_replicas":"1","depends_on_list":[],"editables":{},"package_local_reference_list":[{"kind":"app_package","name":"AHV_HYCU_Package","uuid":"245bf4ad-7ce5-4f29-9f09-a4ceab8ed1e0"}],"substrate_local_reference":{"kind":"app_substrate","name":"AHV_HYCU","uuid":"1267daec-7636-4b83-98ac-fdfaae6d41c7"},"type":"GREENFIELD","options":{},"variable_list":[],"name":"b0aa55d2_deployment"}],"description":"","action_list":[{"description":"Add ","message_list":[],"uuid":"5d2c0305-fe4e-42b7-9eea-0a50d1dd5f1a","name":"Add ABS target","state":"ACTIVE","critical":false,"attrs":{},"type":"user","runbook":{"task_definition_list":[{"retries":"0","description":"","type":"DAG","uuid":"590f6940-2c41-48d1-af3b-c6c76413cfa4","child_tasks_local_reference_list":[{"kind":"app_task","name":"Create VG","uuid":"bbf62d47-9592-4ad5-bfc5-acca83ff2a31"},{"kind":"app_task","name":"Get Initiator IQN","uuid":"a403a209-279b-4354-b99d-91ba4e8ad255"},{"kind":"app_task","name":"Attach Client to VG","uuid":"c6107106-3611-4c22-9b70-e67ef4630d3d"},{"kind":"app_task","name":"Add VG target","uuid":"25825f0e-54ab-410b-b290-2e146d748dad"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Create VG","uuid":"bbf62d47-9592-4ad5-bfc5-acca83ff2a31"},"edge_type":"user_defined","type":"","uuid":"b985ef25-671e-4b1f-bc23-e4ba4310d7af","to_task_reference":{"kind":"app_task","name":"Get Initiator IQN","uuid":"a403a209-279b-4354-b99d-91ba4e8ad255"}},{"from_task_reference":{"kind":"app_task","name":"Get Initiator IQN","uuid":"a403a209-279b-4354-b99d-91ba4e8ad255"},"edge_type":"user_defined","type":"","uuid":"d71a7e85-10cd-4e83-a890-02d054379620","to_task_reference":{"kind":"app_task","name":"Attach Client to VG","uuid":"c6107106-3611-4c22-9b70-e67ef4630d3d"}},{"from_task_reference":{"kind":"app_task","name":"Attach Client to VG","uuid":"c6107106-3611-4c22-9b70-e67ef4630d3d"},"edge_type":"user_defined","type":"","uuid":"fab4da4f-7eb7-4c12-9c04-29f74c1bebcd","to_task_reference":{"kind":"app_task","name":"Add VG target","uuid":"25825f0e-54ab-410b-b290-2e146d748dad"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"05a2ac1c_dag"},{"target_any_local_reference":{"kind":"app_service","name":"HYCU","uuid":"2088365f-88eb-49f4-b2c5-dd2887b746be"},"retries":"0","description":"","type":"SET_VARIABLE","uuid":"bbf62d47-9592-4ad5-bfc5-acca83ff2a31","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#script\n\nprism_ip = '@@{NTX_STORAGE_CLUSTER_URL}@@'\nusername = '@@{NTX_PRISM_USER_FOR_HYCU.username}@@'\npassword = '@@{NTX_PRISM_USER_FOR_HYCU.secret}@@'\nstorage_container_name = '@@{NTX_CONTAINER_NAME}@@'\nstorage_container_uuid = ''\nvgname = '@@{NTX_VG_NAME}@@'\ntarget_vg_size = @@{NTX_TARGET_SIZE_TB}@@*1024*1024*1024*1024\n\napi_url = prism_ip + \"\/PrismGateway\/services\/rest\/v2.0\/\"\n\nprint \"INFO: Retrieving storage container uuid for: {}.\".format(storage_container_name)\n\n# -*- Get Container UUID\n\nget_container_uuid_url = api_url + \"storage_containers\"\ntry:\n  response = urlreq(get_container_uuid_url, verb='GET', auth=\"BASIC\", user=username, passwd=password, verify=False)\n  storage_containers = json.loads(response.content)\n  for container in storage_containers['entities']:\n    if container['name'] == storage_container_name:\n      storage_container_uuid = container['storage_container_uuid']\nexcept Exception as e:\n\tprint \"ERROR: Failed to get storage container uuid, check storage container name or check username\/password\"\n\tprint e.message\n\texit(1)\n\nprint \"INFO: storage container uuid is: {}.\".format(storage_container_uuid)\n\n# -*- Check volume group existance\n\ncheck_vg_url = api_url + \"volume_groups\"\nresponse = urlreq(check_vg_url, verb='GET', auth=\"BASIC\", user=username, passwd=password, verify=False)\nvgs = json.loads(response.content)\nfor vg in vgs['entities']:\n  if vg['name'] == vgname:\n    print \"ERROR: Volume group with name {} already exists.\".format(vgname)\n    exit(1)\n\nprint \"INFO: Creating volume group '{}'.\".format(vgname)\n\n# -*- Create Volume Group\n\ncreate_vg_url = api_url + \"volume_groups\"\npayload = {\n\t\"disk_list\": [{\n\t\t\"create_config\": {\n\t\t\t\"size\": target_vg_size,\n\t\t\t\"storage_container_uuid\": storage_container_uuid\n\t\t},\n\t\t\"index\": 0\n\t}],\n\t\"is_shared\": True,\n\t\"name\": vgname\n}\n\nresponse = urlreq(create_vg_url, verb='POST', auth=\"BASIC\", user=username, passwd=password, params=json.dumps(payload), verify=False)\nif response.status_code != 201:\n\tprint \"ERROR: creation of volume group '{}' failed.\".format(vgname)\n\nvg_create_status = json.loads(response.content)\ntask_uuid = vg_create_status['task_uuid']\n\nsleep(5)\n\ncheck_vg_creation_url = api_url + \"tasks\/\" + task_uuid\nresponse = response = urlreq(check_vg_creation_url, verb='GET', auth=\"BASIC\", user=username, passwd=password, verify=False)\nvg_create_status = json.loads(response.content)\n\nif vg_create_status['progress_status'] != \"Succeeded\":\n\tprint \"ERROR: creation of volume group '{}' failed.\".format(vgname)\n\texit(1)\nelse:\n\tprint \"INFO: creation of volume group '{}' Successful.\".format(vgname)\n    \n# -*- Get Volume Group Target IQN\n\ncheck_vg_url = api_url + \"volume_groups\"\nresponse = urlreq(check_vg_url, verb='GET', auth=\"BASIC\", user=username, passwd=password, verify=False)\nvgs = json.loads(response.content)\nfor vg in vgs['entities']:\n  if vg['name'] == vgname:\n    iscsi_target=vg[\"iscsi_target\"]\n\nprint \"TARGET_IQN=iqn.2010-06.com.nutanix:\" + iscsi_target","eval_variables":["TARGET_IQN"],"eval_scope":"local","type":"","script_type":"static"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Create VG"},{"target_any_local_reference":{"kind":"app_service","name":"HYCU","uuid":"2088365f-88eb-49f4-b2c5-dd2887b746be"},"retries":"0","description":"","type":"SET_VARIABLE","uuid":"a403a209-279b-4354-b99d-91ba4e8ad255","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#script\n\nhycu_ip = '@@{address}@@'\nusername = 'admin'\npassword = 'admin'\n\napi_url = \"https:\/\/\" + hycu_ip + \":8443\/rest\/v1.0\"\n\nprint \"INFO: Retrieving HYCU Node Initiator Name.\"\n\n# -*- Retrieving HYCU Node Initiator Name\n\nget_iscsiinitiator = api_url + \"\/administration\/iscsiinitiator\"\ntry:\n  response = urlreq(get_iscsiinitiator, verb='GET', auth=\"BASIC\", user=username, passwd=password, verify=False)\n  get_iscsiinitiator = json.loads(response.content)\n  iqn = get_iscsiinitiator[\"entities\"][0][\"initiatorname\"]\nexcept Exception as e:\n\tprint \"ERROR: HYCU Node Initiator Name check username\/password\"\n\tprint e.message\n\texit(1)\n\nprint \"INFO: Initiator Name is: {}.\".format(iqn)\n\nprint \"INITIATOR_IQN=\" + iqn","eval_variables":["INITIATOR_IQN"],"eval_scope":"local","type":"","script_type":"static"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Get Initiator IQN"},{"target_any_local_reference":{"kind":"app_service","name":"HYCU","uuid":"2088365f-88eb-49f4-b2c5-dd2887b746be"},"retries":"0","description":"","type":"EXEC","uuid":"c6107106-3611-4c22-9b70-e67ef4630d3d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"static","type":"","command_line_args":"","exit_status":[],"script":"#script\n\nprism_ip = '@@{NTX_STORAGE_CLUSTER_URL}@@'\nusername = '@@{NTX_PRISM_USER_FOR_HYCU.username}@@'\npassword = '@@{NTX_PRISM_USER_FOR_HYCU.secret}@@'\nvgname = '@@{NTX_VG_NAME}@@'\nvg_uuid = ''\nIQN='@@{INITIATOR_IQN}@@'\n\napi_url = prism_ip + \"\/PrismGateway\/services\/rest\/v2.0\/\"\n\nprint \"INFO: Attaching VG {} to node.\".format(vgname)\n\n# -*- Check volume group existance\n\ntry:\n  check_vg_url = api_url + \"volume_groups\"\n  response = urlreq(check_vg_url, verb='GET', auth=\"BASIC\", user=username, passwd=password, verify=False)\n  vgs = json.loads(response.content)\n  for vg in vgs['entities']:\n    if vg['name'] == vgname:\n      vg_uuid = vg['uuid']\nexcept Exception as e:\n\tprint \"ERROR: Failed to get volume group, check volume group or check username\/password\"\n\tprint e.message\n\texit(1)\n    \nif vg_uuid == '':\n  print \"ERROR: Volume group with name {} doesn't exists\".format(vgname)\n  exit(1)\n\n# -*- Attach Volume Group\n\nattach_vg_url = api_url + \"volume_groups\/\" + vg_uuid + \"\/open\"\npayload = {\n  \"iscsi_client\": {\n    \"client_address\": IQN\n  },\n  \"operation\": \"ATTACH\"\n}\n\nresponse = urlreq(attach_vg_url, verb='POST', auth=\"BASIC\", user=username, passwd=password, params=json.dumps(payload), verify=False)\nif response.status_code != 201:\n\tprint \"ERROR: Attaching vg '{}' failed.\".format(vgname)\n\nattach_status = json.loads(response.content)\nif attach_status['value']:\n  print \"INFO: Attaching vg '{}' Successful.\".format(vgname)\nelse:\n  print \"ERROR: Attaching vg '{}' failed.\".format(vgname)"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Attach Client to VG"},{"target_any_local_reference":{"kind":"app_service","name":"HYCU","uuid":"2088365f-88eb-49f4-b2c5-dd2887b746be"},"retries":"0","description":"","type":"EXEC","uuid":"25825f0e-54ab-410b-b290-2e146d748dad","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"static","type":"","command_line_args":"","exit_status":[],"script":"#script\n\nhycu_ip = '@@{address}@@'\nusername = 'admin'\npassword = 'admin'\ntarget_name = \"@@{HYCU_TARGET_NAME}@@\"\ndata_service_ip = \"@@{NTX_DATA_SERVICE_IP}@@\"\ndata_service_port = \"@@{NTX_DATA_SERVICE_PORT}@@\"\ntarget_iqn = \"@@{TARGET_IQN}@@\"\n\napi_url = \"https:\/\/\" + hycu_ip + \":8443\/rest\/v1.0\"\n\nprint \"INFO: Creating target '{}'.\".format(target_name)\n\n# -*- Retrieving HYCU Node Initiator Name\n\npayload = {\n\t\"name\": target_name,\n\t\"description\": \"\",\n\t\"targetType\": \"I_SCSI\",\n\t\"allowedBackupStreams\": 1,\n\t\"encryption\": False,\n\t\"iScsiStorageDetails\": {\n\t\t\"port\": data_service_port,\n\t\t\"address\": data_service_ip,\n\t\t\"chap\": False,\n\t\t\"targetname\": target_iqn,\n\t\t\"username\": \"\",\n\t\t\"password\": \"\",\n\t\t\"mutualChap\": False\n\t}\n}\n\n# -*- Checking existance of the target.\ncheck_target_url = api_url + \"\/targets\"\nresponse = urlreq(check_target_url, verb='GET', auth=\"BASIC\", user=username, passwd=password, verify=False)\ntargets = json.loads(response.content)\nfor target in targets['entities']:\n  if target['name'] == target_name:\n    print \"ERROR: Target with name {} already exists.\".format(target_name)\n    exit(1)\n    \n# -*- Creating Target\ncreate_target_url = api_url + \"\/targets\"\ntry:\n  headers = {'content-type': \"application\/json\"}\n  response = urlreq(create_target_url, verb='POST', auth=\"BASIC\", user=username, passwd=password, params=json.dumps(payload), verify=False, headers=headers)\n  if response.status_code != 202:\n\tprint \"ERROR: creation of target '{}' failed.\".format(target_name)\n  target_create_status = json.loads(response.content)\n  job_uuid = target_create_status[\"entities\"][0][\"jobUuid\"]\nexcept Exception as e:\n  print \"ERROR: Creation of target '{}' failed, check username\/password\".format(target_name) \n  print e.message\n  exit(1)\n\n    \njobs_url = api_url + \"\/jobs\/\" + job_uuid\nwhile(True):\n  response = urlreq(jobs_url, verb='GET', auth=\"BASIC\", user=username, passwd=password, verify=False)\n  if response.status_code != 200:\n    print \"ERROR: Failed to get job status '{}'.\".format(job_uuid)\n  job_status = json.loads(response.content)\n  if job_status[\"entities\"][0][\"status\"] == \"OK\":\n    print \"INFO: creation of target '{}' successful.\".format(target_name)\n    break\n  elif job_status[\"entities\"][0][\"status\"] == \"ERROR\":\n    print \"ERROR: Failed to create '{}'.\".format(target_name)\n    print job_status[\"entities\"][0][\"taskExitMessage\"][\"debug\"]\n    exit(1)\n  else:\n    print \"INFO: creation of target '{}' in-progress sleeping for 5 seconds.\".format(target_name)\n    sleep(5)"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Add VG target"}],"description":"","message_list":[],"uuid":"537c4590-3c8d-4725-b6a6-bb2cf37a19b8","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"409f8cdc-afaf-4337-8943-9c1b8cd44b2b","value":"NutanixABS","label":"","state":"NOT_VALIDATED","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"HYCU_TARGET_NAME"},{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"456bb957-cd2b-44a0-9454-6dac9401b35d","value":"default-container-34275","label":"","state":"NOT_VALIDATED","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"NTX_CONTAINER_NAME"},{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"5d812762-88a3-495a-8659-bcb052fcd01d","value":"hycu-volume-group01","label":"","state":"NOT_VALIDATED","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"NTX_VG_NAME"},{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"e557018f-9955-4bf0-9e1e-fd266c8e5f2b","value":"10.46.34.39","label":"","state":"NOT_VALIDATED","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"NTX_DATA_SERVICE_IP"},{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"c4ad7baf-93ec-426d-a86f-c674a5344ab3","value":"3260","label":"","state":"NOT_VALIDATED","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"NTX_DATA_SERVICE_PORT"},{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"72e9723d-ff6a-4bd8-92d4-68c9802bd56b","value":"1","label":"","state":"NOT_VALIDATED","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"NTX_TARGET_SIZE_TB"}],"main_task_local_reference":{"kind":"app_task","name":"05a2ac1c_dag","uuid":"590f6940-2c41-48d1-af3b-c6c76413cfa4"},"name":"320f45b6_runbook"}},{"description":"","message_list":[],"uuid":"e4becff4-0a7f-4252-98d4-0dc385b0e873","name":"Add AFS target","state":"ACTIVE","critical":false,"attrs":{},"type":"user","runbook":{"task_definition_list":[{"retries":"0","description":"","type":"DAG","uuid":"94ba2dec-c359-4f6f-8b44-3cc826b3da60","child_tasks_local_reference_list":[{"kind":"app_task","name":"Add AFS Target","uuid":"6a70759d-b71f-4664-a74b-ec8aecee836d"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"c8537784_dag"},{"target_any_local_reference":{"kind":"app_service","name":"HYCU","uuid":"2088365f-88eb-49f4-b2c5-dd2887b746be"},"retries":"0","description":"","type":"EXEC","uuid":"6a70759d-b71f-4664-a74b-ec8aecee836d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"static","type":"","command_line_args":"","exit_status":[],"script":"#script\n\nhycu_ip = '@@{address}@@'\nusername = 'admin'\npassword = 'admin'\ntarget_name = \"@@{HYCU_TARGET_NAME}@@\"\nafs_type = \"@@{NTX_EXISTING_AFS_TYPE}@@\"\nafs_host = \"@@{NTX_EXISTING_AFS_HOST}@@\"\nafs_sharedpath = \"@@{NTX_EXISTING_AFS_SHARED_PATH}@@\"\nsmb_username = \"@@{NTX_EXISTING_SMB_USERNAME}@@\"\nsmb_password = \"@@{NTX_EXISTING_SMB_PASSWORD}@@\"\nsmb_domain = \"@@{NTX_EXISTING_SMB_DOMAIN}@@\"\ntarget_size = @@{NTX_TARGET_SIZE_TB}@@*1024*1024*1024*1024\n\nif afs_type == \"\":\n  print \"INFO: 'NTX_EXISTING_AFS_TYPE' is a mandatory variable\"\nif afs_host == \"\" and afs_sharedpath == \"\" and target_name == \"\":\n  print \"INFO: 'NTX_EXISTING_AFS_HOST', 'NTX_EXISTING_AFS_SHARED_PATH', 'TARGET_NAME' are a mandatory variable\"\n\napi_url = \"https:\/\/\" + hycu_ip + \":8443\/rest\/v1.0\"\n  \nif afs_type == 'NFS':\n  print \"INFO: Creating NFS target '{}'.\".format(target_name)\n  payload = {\n      \"name\": target_name,\n      \"description\": \"\",\n      \"targetType\": \"NFS\",\n      \"allowedBackupStreams\": 1,\n      \"encryption\": False,\n      \"nfsFileSystemDetails\": {\n          \"address\": afs_host,\n          \"sharedPath\": afs_sharedpath\n      },\n      \"advertisedCapacityInBytes\": target_size\n  }\nelif afs_type == 'SMB':\n  print \"INFO: Creating ABS target '{}'.\".format(target_name)\n  payload = {\n\t\"name\": target_name,\n\t\"description\": \"\",\n\t\"targetType\": \"SMB\",\n    \"allowedBackupStreams\": 1,\n    \"encryption\": False,\n\t\"smbFileSystemDetails\": {\n\t\t\"username\": smb_username,\n\t\t\"password\": smb_password,\n\t\t\"domain\": smb_domain,\n\t\t\"sharedPath\": afs_sharedpath,\n\t\t\"address\": afs_host\n\t}\n  }\nelse:\n  print \"ERROR: 'NTX_EXISTING_AFS_TYPE' can only be 'SMB\/NFS'.\".format(target_name)\n  exit(1)\n  \n# -*- Checking existance of the target.\ncheck_target_url = api_url + \"\/targets\"\nresponse = urlreq(check_target_url, verb='GET', auth=\"BASIC\", user=username, passwd=password, verify=False)\ntargets = json.loads(response.content)\nfor target in targets['entities']:\n  if target['name'] == target_name:\n    print \"ERROR: Target with name {} already exists.\".format(target_name)\n    exit(1)\n    \n# -*- Creating Target\ncreate_target_url = api_url + \"\/targets\"\ntry:\n  headers = {'content-type': \"application\/json\"}\n  response = urlreq(create_target_url, verb='POST', auth=\"BASIC\", user=username, passwd=password, params=json.dumps(payload), verify=False, headers=headers)\n  if response.status_code != 202:\n\tprint \"ERROR: creation of target '{}' failed.\".format(target_name)\n  target_create_status = json.loads(response.content)\n  job_uuid = target_create_status[\"entities\"][0][\"jobUuid\"]\nexcept Exception as e:\n  print \"ERROR: Creation of target '{}' failed, check username\/password\".format(target_name) \n  print e.message\n  exit(1)\n\njobs_url = api_url + \"\/jobs\/\" + job_uuid\nwhile(True):\n  response = urlreq(jobs_url, verb='GET', auth=\"BASIC\", user=username, passwd=password, verify=False)\n  if response.status_code != 200:\n    print \"ERROR: Failed to get job status '{}'.\".format(job_uuid)\n  job_status = json.loads(response.content)\n  if job_status[\"entities\"][0][\"status\"] == \"OK\":\n    print \"INFO: creation of target '{}' successful.\".format(target_name)\n    break\n  elif job_status[\"entities\"][0][\"status\"] == \"ERROR\":\n    print \"ERROR: Failed to create '{}'.\".format(target_name)\n    print job_status[\"entities\"][0][\"taskExitMessage\"][\"debug\"]\n    exit(1)\n  else:\n    print \"INFO: creation of target '{}' in-progress sleeping for 5 seconds.\".format(target_name)\n    sleep(5)"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Add AFS Target"}],"description":"","message_list":[],"uuid":"dcae8a52-42f0-4293-b688-6bf6ce8c2284","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"b8bd94e1-8138-43be-87e1-9c62866fdd25","value":"NutanixAFS","label":"","state":"NOT_VALIDATED","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"HYCU_TARGET_NAME"},{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"2b237b9b-4546-475d-aa38-2229dbc4434a","value":"SMB","label":"","state":"NOT_VALIDATED","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"NTX_EXISTING_AFS_TYPE"},{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"c322fb85-b1e9-4e7e-8dbe-4c1ad4efa094","value":"10.46.34.175","label":"","state":"NOT_VALIDATED","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"NTX_EXISTING_AFS_HOST"},{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"9f2f40f8-4b7d-4319-91b0-a247c93b5f5f","value":"smb-share","label":"","state":"NOT_VALIDATED","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"NTX_EXISTING_AFS_SHARED_PATH"},{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"f153c774-3888-49d4-9547-5deb4e5e4893","value":"1","label":"","state":"NOT_VALIDATED","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"NTX_TARGET_SIZE_TB"},{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"22fea95a-1d95-4bdd-9c3a-f3c26faa0a78","value":"","label":"","state":"NOT_VALIDATED","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"NTX_EXISTING_SMB_DOMAIN"},{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"c544db2c-f10a-4610-b6db-7f1019d0fc42","value":"","label":"","state":"NOT_VALIDATED","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"NTX_EXISTING_SMB_USERNAME"},{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"8e91a80c-c3eb-44bd-85fb-756274c1b4b5","value":"","label":"","state":"NOT_VALIDATED","attrs":{"is_secret_modified":false,"secret_reference":{"uuid":"c502442e-0e82-40b6-98d0-e1739a9f9e55"},"type":""},"editables":{"value":true},"is_hidden":false,"type":"SECRET","options":{},"name":"NTX_EXISTING_SMB_PASSWORD"}],"main_task_local_reference":{"kind":"app_task","name":"c8537784_dag","uuid":"94ba2dec-c359-4f6f-8b44-3cc826b3da60"},"name":"16ddab2e_runbook"}},{"description":"System action for creating an application","message_list":[],"uuid":"2370138d-e43e-4fc2-8e2f-e0b8a0b77473","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"Nutanix","uuid":"994a7225-af3b-4caf-b4c5-6e22491d1dbb"},"retries":"0","description":"","type":"DAG","uuid":"cb625335-5c68-4953-bab7-566dc4b5c3cb","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__DE_Provision_f9497542_3359_4892_aad7_ecb44805d12f","uuid":"8493280c-cbf2-495a-b597-ce3e090fa02b"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_819795cb_9f8e_4881_8690_239b4260b9ec","uuid":"e175853e-cb4b-4830-a608-5fa7e24c51e5"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7","uuid":"c71e91bf-bb87-4a9f-ae1e-de50e17e4962"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_245bf4ad_7ce5_4f29_9f09_a4ceab8ed1e0","uuid":"fbc24280-e7dd-41b8-b213-4166bfa91d8f"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be","uuid":"04d22b87-78b3-4d45-84e3-4cbeb3bf5463"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be","uuid":"934f4b1c-7011-448d-9e44-7dc49bdccabc"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be","uuid":"04d22b87-78b3-4d45-84e3-4cbeb3bf5463"},"edge_type":"inherent","type":"","uuid":"60f8beda-8a9a-4d8c-8873-fcaea93898e1","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be","uuid":"934f4b1c-7011-448d-9e44-7dc49bdccabc"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_245bf4ad_7ce5_4f29_9f09_a4ceab8ed1e0","uuid":"fbc24280-e7dd-41b8-b213-4166bfa91d8f"},"edge_type":"inherent","type":"","uuid":"105e6693-01a8-4416-9232-6dba9e362d40","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be","uuid":"04d22b87-78b3-4d45-84e3-4cbeb3bf5463"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_f9497542_3359_4892_aad7_ecb44805d12f","uuid":"8493280c-cbf2-495a-b597-ce3e090fa02b"},"edge_type":"inherent","type":"","uuid":"8a708458-db33-4629-9a05-ed411b8b7bf9","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_819795cb_9f8e_4881_8690_239b4260b9ec","uuid":"e175853e-cb4b-4830-a608-5fa7e24c51e5"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_f9497542_3359_4892_aad7_ecb44805d12f","uuid":"8493280c-cbf2-495a-b597-ce3e090fa02b"},"edge_type":"inherent","type":"","uuid":"4e46324c-b1d9-4623-a97a-13e9b14d3614","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7","uuid":"c71e91bf-bb87-4a9f-ae1e-de50e17e4962"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7","uuid":"c71e91bf-bb87-4a9f-ae1e-de50e17e4962"},"edge_type":"inherent","type":"","uuid":"ab86d8d1-997e-48e6-a239-3b5c2c997ea2","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_245bf4ad_7ce5_4f29_9f09_a4ceab8ed1e0","uuid":"fbc24280-e7dd-41b8-b213-4166bfa91d8f"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_819795cb_9f8e_4881_8690_239b4260b9ec","uuid":"e175853e-cb4b-4830-a608-5fa7e24c51e5"},"edge_type":"inherent","type":"","uuid":"109004de-5543-4823-abc2-fa909e40cf34","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7","uuid":"c71e91bf-bb87-4a9f-ae1e-de50e17e4962"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_994a7225_af3b_4caf_b4c5_6e22491d1dbb"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"b0aa55d2_deployment","uuid":"f9497542-3359-4892-aad7-ecb44805d12f"},"retries":"0","description":"","type":"CREATE_DEPLOYMENT_ELEMENT","uuid":"8493280c-cbf2-495a-b597-ce3e090fa02b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Provision_f9497542_3359_4892_aad7_ecb44805d12f"},{"target_any_local_reference":{"kind":"app_package","name":"HYCU_3_1_3","uuid":"819795cb-9f8e-4881-8690-239b4260b9ec"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"e175853e-cb4b-4830-a608-5fa7e24c51e5","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"b0aa55d2_deployment","uuid":"f9497542-3359-4892-aad7-ecb44805d12f"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_819795cb_9f8e_4881_8690_239b4260b9ec","uuid":"9239d02f-d2a5-4e5b-b364-1bbe36da0508"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_819795cb_9f8e_4881_8690_239b4260b9ec"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHV_HYCU","uuid":"1267daec-7636-4b83-98ac-fdfaae6d41c7"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"c71e91bf-bb87-4a9f-ae1e-de50e17e4962","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"b0aa55d2_deployment","uuid":"f9497542-3359-4892-aad7-ecb44805d12f"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7","uuid":"1de03613-9a43-419e-86a4-871a59f878d0"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7"},{"target_any_local_reference":{"kind":"app_package","name":"AHV_HYCU_Package","uuid":"245bf4ad-7ce5-4f29-9f09-a4ceab8ed1e0"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"fbc24280-e7dd-41b8-b213-4166bfa91d8f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"b0aa55d2_deployment","uuid":"f9497542-3359-4892-aad7-ecb44805d12f"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_245bf4ad_7ce5_4f29_9f09_a4ceab8ed1e0","uuid":"a19dbd98-597b-40f0-8fc3-ea4162fc2379"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_245bf4ad_7ce5_4f29_9f09_a4ceab8ed1e0"},{"target_any_local_reference":{"kind":"app_service","name":"HYCU","uuid":"2088365f-88eb-49f4-b2c5-dd2887b746be"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"04d22b87-78b3-4d45-84e3-4cbeb3bf5463","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"b0aa55d2_deployment","uuid":"f9497542-3359-4892-aad7-ecb44805d12f"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"124cb92b_runbook","uuid":"a46d0adb-d4e9-435a-9f45-0afbfaad8abd"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be"},{"target_any_local_reference":{"kind":"app_service","name":"HYCU","uuid":"2088365f-88eb-49f4-b2c5-dd2887b746be"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"934f4b1c-7011-448d-9e44-7dc49bdccabc","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"b0aa55d2_deployment","uuid":"f9497542-3359-4892-aad7-ecb44805d12f"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"d8e5204b_runbook","uuid":"7b24e645-85fb-45b9-a868-d84f34d21fbc"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be"}],"description":"","message_list":[],"uuid":"d9ece719-ae41-49f9-bcfb-0f407fb31d15","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_994a7225_af3b_4caf_b4c5_6e22491d1dbb","uuid":"cb625335-5c68-4953-bab7-566dc4b5c3cb"},"name":"SYS_GEN__Runbook_Application_994a7225_af3b_4caf_b4c5_6e22491d1dbb"}},{"description":"System action for starting an application","message_list":[],"uuid":"88813233-fbcb-4ecc-86f5-8812cd409d1b","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"Nutanix","uuid":"994a7225-af3b-4caf-b4c5-6e22491d1dbb"},"retries":"0","description":"","type":"DAG","uuid":"c4aa2c8d-38f8-4d82-9ede-4e5ac7d365f7","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7","uuid":"ea8aaf1b-e6a8-4e6b-8fcb-2fe6239b0489"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be","uuid":"ff51d4ce-d7d2-4b34-81de-cc4bb930fb29"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7","uuid":"ea8aaf1b-e6a8-4e6b-8fcb-2fe6239b0489"},"edge_type":"inherent","type":"","uuid":"7eb49789-88c5-4fdf-8ff1-dce0752644b8","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be","uuid":"ff51d4ce-d7d2-4b34-81de-cc4bb930fb29"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_994a7225_af3b_4caf_b4c5_6e22491d1dbb"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHV_HYCU","uuid":"1267daec-7636-4b83-98ac-fdfaae6d41c7"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"ea8aaf1b-e6a8-4e6b-8fcb-2fe6239b0489","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"b0aa55d2_deployment","uuid":"f9497542-3359-4892-aad7-ecb44805d12f"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7","uuid":"aac32bc9-6994-4bb0-a5ef-b5908d54f71c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7"},{"target_any_local_reference":{"kind":"app_service","name":"HYCU","uuid":"2088365f-88eb-49f4-b2c5-dd2887b746be"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"ff51d4ce-d7d2-4b34-81de-cc4bb930fb29","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"b0aa55d2_deployment","uuid":"f9497542-3359-4892-aad7-ecb44805d12f"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"d8e5204b_runbook","uuid":"7b24e645-85fb-45b9-a868-d84f34d21fbc"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be"}],"description":"","message_list":[],"uuid":"67bf56f5-a143-4e8c-ad45-423efff293f9","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_994a7225_af3b_4caf_b4c5_6e22491d1dbb","uuid":"c4aa2c8d-38f8-4d82-9ede-4e5ac7d365f7"},"name":"SYS_GEN__Runbook_Application_994a7225_af3b_4caf_b4c5_6e22491d1dbb"}},{"description":"System action for restarting an application","message_list":[],"uuid":"00b7e130-a54b-4d15-a83b-27be6eb952b6","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"Nutanix","uuid":"994a7225-af3b-4caf-b4c5-6e22491d1dbb"},"retries":"0","description":"","type":"DAG","uuid":"4fae2f3e-7ffb-4b49-a199-7fd5d4f3b97b","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7","uuid":"d49b504c-ecac-4a14-b6ea-d15570ebf6aa"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be","uuid":"00244b31-6f42-4682-8f81-7db11352910f"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7","uuid":"d49b504c-ecac-4a14-b6ea-d15570ebf6aa"},"edge_type":"inherent","type":"","uuid":"5dfca264-37fe-4998-a551-7ee337fb7726","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be","uuid":"00244b31-6f42-4682-8f81-7db11352910f"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_994a7225_af3b_4caf_b4c5_6e22491d1dbb"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHV_HYCU","uuid":"1267daec-7636-4b83-98ac-fdfaae6d41c7"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"d49b504c-ecac-4a14-b6ea-d15570ebf6aa","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"b0aa55d2_deployment","uuid":"f9497542-3359-4892-aad7-ecb44805d12f"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7","uuid":"17978a84-7f9c-47a2-aa73-c240e4d7c802"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7"},{"target_any_local_reference":{"kind":"app_service","name":"HYCU","uuid":"2088365f-88eb-49f4-b2c5-dd2887b746be"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"00244b31-6f42-4682-8f81-7db11352910f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"b0aa55d2_deployment","uuid":"f9497542-3359-4892-aad7-ecb44805d12f"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"b85cb2cc_runbook","uuid":"cde318ea-76f0-449d-afec-fbf2329a758e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be"}],"description":"","message_list":[],"uuid":"e9f54526-d453-445e-931b-a35561b6545f","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_994a7225_af3b_4caf_b4c5_6e22491d1dbb","uuid":"4fae2f3e-7ffb-4b49-a199-7fd5d4f3b97b"},"name":"SYS_GEN__Runbook_Application_994a7225_af3b_4caf_b4c5_6e22491d1dbb"}},{"description":"System action for stopping an application","message_list":[],"uuid":"14f9a42e-3fd7-4693-9b70-4ee65d6ef2a2","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"Nutanix","uuid":"994a7225-af3b-4caf-b4c5-6e22491d1dbb"},"retries":"0","description":"","type":"DAG","uuid":"43fdb5d9-ef7f-4f4a-b4f7-328a6a7789b9","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be","uuid":"d96e5831-1e02-4478-8c17-d03f22f82207"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7","uuid":"f070fc98-5495-499b-82d5-ea082bd08866"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be","uuid":"d96e5831-1e02-4478-8c17-d03f22f82207"},"edge_type":"inherent","type":"","uuid":"e4e14371-2cde-4f97-b0f7-58117b4ec925","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7","uuid":"f070fc98-5495-499b-82d5-ea082bd08866"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_994a7225_af3b_4caf_b4c5_6e22491d1dbb"},{"target_any_local_reference":{"kind":"app_service","name":"HYCU","uuid":"2088365f-88eb-49f4-b2c5-dd2887b746be"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"d96e5831-1e02-4478-8c17-d03f22f82207","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"b0aa55d2_deployment","uuid":"f9497542-3359-4892-aad7-ecb44805d12f"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"f6b78719_runbook","uuid":"23deefe2-36da-460a-93a2-2721ba76563c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHV_HYCU","uuid":"1267daec-7636-4b83-98ac-fdfaae6d41c7"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"f070fc98-5495-499b-82d5-ea082bd08866","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"b0aa55d2_deployment","uuid":"f9497542-3359-4892-aad7-ecb44805d12f"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7","uuid":"801b104e-09e9-40c0-ad32-9d6860f1342a"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7"}],"description":"","message_list":[],"uuid":"69751dc5-8721-456e-a986-36b42c55d822","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_994a7225_af3b_4caf_b4c5_6e22491d1dbb","uuid":"43fdb5d9-ef7f-4f4a-b4f7-328a6a7789b9"},"name":"SYS_GEN__Runbook_Application_994a7225_af3b_4caf_b4c5_6e22491d1dbb"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"c3e12c80-b80a-40c7-9aa3-e5dd995a0d11","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"Nutanix","uuid":"994a7225-af3b-4caf-b4c5-6e22491d1dbb"},"retries":"0","description":"","type":"DAG","uuid":"cd570ce8-f8bb-43be-818f-14af6173d4af","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be","uuid":"29081ff9-bb10-42a7-8e03-814c7a55917d"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be","uuid":"dc6a90ae-131e-4ae2-8c1c-9ad34e22c56f"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_245bf4ad_7ce5_4f29_9f09_a4ceab8ed1e0","uuid":"9c473024-cd6c-47fe-840b-7720a377a238"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7","uuid":"ba1ad181-ac91-4612-8c46-f2b12da0ecb8"},{"kind":"app_task","name":"SYS_GEN__DE_Delete_f9497542_3359_4892_aad7_ecb44805d12f","uuid":"13a536e4-61e0-49be-918f-72846f283e7d"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be","uuid":"29081ff9-bb10-42a7-8e03-814c7a55917d"},"edge_type":"inherent","type":"","uuid":"cde4d614-7499-4cae-9e75-329d88cd8950","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be","uuid":"dc6a90ae-131e-4ae2-8c1c-9ad34e22c56f"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be","uuid":"dc6a90ae-131e-4ae2-8c1c-9ad34e22c56f"},"edge_type":"inherent","type":"","uuid":"25760fff-f3a6-4635-8602-3b0252a6064e","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_245bf4ad_7ce5_4f29_9f09_a4ceab8ed1e0","uuid":"9c473024-cd6c-47fe-840b-7720a377a238"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7","uuid":"ba1ad181-ac91-4612-8c46-f2b12da0ecb8"},"edge_type":"inherent","type":"","uuid":"cf5bfba9-a8b0-4603-9868-552804028d8b","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Delete_f9497542_3359_4892_aad7_ecb44805d12f","uuid":"13a536e4-61e0-49be-918f-72846f283e7d"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_245bf4ad_7ce5_4f29_9f09_a4ceab8ed1e0","uuid":"9c473024-cd6c-47fe-840b-7720a377a238"},"edge_type":"inherent","type":"","uuid":"87965255-23d9-4666-bdd0-b67fd60df341","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7","uuid":"ba1ad181-ac91-4612-8c46-f2b12da0ecb8"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_994a7225_af3b_4caf_b4c5_6e22491d1dbb"},{"target_any_local_reference":{"kind":"app_service","name":"HYCU","uuid":"2088365f-88eb-49f4-b2c5-dd2887b746be"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"29081ff9-bb10-42a7-8e03-814c7a55917d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"b0aa55d2_deployment","uuid":"f9497542-3359-4892-aad7-ecb44805d12f"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"f6b78719_runbook","uuid":"23deefe2-36da-460a-93a2-2721ba76563c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be"},{"target_any_local_reference":{"kind":"app_service","name":"HYCU","uuid":"2088365f-88eb-49f4-b2c5-dd2887b746be"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"dc6a90ae-131e-4ae2-8c1c-9ad34e22c56f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"b0aa55d2_deployment","uuid":"f9497542-3359-4892-aad7-ecb44805d12f"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"ebbad80f_runbook","uuid":"482678b0-5a36-4a07-a6d5-d6cad129ade1"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be"},{"target_any_local_reference":{"kind":"app_package","name":"AHV_HYCU_Package","uuid":"245bf4ad-7ce5-4f29-9f09-a4ceab8ed1e0"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"9c473024-cd6c-47fe-840b-7720a377a238","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"b0aa55d2_deployment","uuid":"f9497542-3359-4892-aad7-ecb44805d12f"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_245bf4ad_7ce5_4f29_9f09_a4ceab8ed1e0","uuid":"e2af7c45-691e-4093-bdeb-1a0285ae4b40"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_245bf4ad_7ce5_4f29_9f09_a4ceab8ed1e0"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHV_HYCU","uuid":"1267daec-7636-4b83-98ac-fdfaae6d41c7"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"ba1ad181-ac91-4612-8c46-f2b12da0ecb8","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"b0aa55d2_deployment","uuid":"f9497542-3359-4892-aad7-ecb44805d12f"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7","uuid":"2eb5297b-c3da-4cbd-bb6c-ad0fd0476386"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"b0aa55d2_deployment","uuid":"f9497542-3359-4892-aad7-ecb44805d12f"},"retries":"0","description":"","type":"DELETE_DEPLOYMENT_ELEMENT","uuid":"13a536e4-61e0-49be-918f-72846f283e7d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Delete_f9497542_3359_4892_aad7_ecb44805d12f"}],"description":"","message_list":[],"uuid":"10a6070d-5907-40fa-82c6-cc3c067a2e4b","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_994a7225_af3b_4caf_b4c5_6e22491d1dbb","uuid":"cd570ce8-f8bb-43be-818f-14af6173d4af"},"name":"SYS_GEN__Runbook_Application_994a7225_af3b_4caf_b4c5_6e22491d1dbb"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"3653af5e-4e77-4517-a6d6-dacad3f3c5cc","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"Nutanix","uuid":"994a7225-af3b-4caf-b4c5-6e22491d1dbb"},"retries":"0","description":"","type":"DAG","uuid":"e54b0a21-19d2-496e-bf07-e9b7c2fbd49d","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be","uuid":"097b7b0b-4c9e-4d3b-a6e6-a3eeac2a68bb"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_245bf4ad_7ce5_4f29_9f09_a4ceab8ed1e0","uuid":"b2541b6c-7f7d-4587-8d5c-97f0e330336a"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7","uuid":"36afda69-e780-4985-98af-22c83bc95170"},{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_f9497542_3359_4892_aad7_ecb44805d12f","uuid":"63f6fa9e-6e38-4c75-afc8-a7bb1caedc35"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be","uuid":"097b7b0b-4c9e-4d3b-a6e6-a3eeac2a68bb"},"edge_type":"inherent","type":"","uuid":"9992fe4b-5806-4335-9593-e7d68c5edc95","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_245bf4ad_7ce5_4f29_9f09_a4ceab8ed1e0","uuid":"b2541b6c-7f7d-4587-8d5c-97f0e330336a"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7","uuid":"36afda69-e780-4985-98af-22c83bc95170"},"edge_type":"inherent","type":"","uuid":"e0acaf01-d5e9-4a4a-9615-f56a36b0d069","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_f9497542_3359_4892_aad7_ecb44805d12f","uuid":"63f6fa9e-6e38-4c75-afc8-a7bb1caedc35"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_245bf4ad_7ce5_4f29_9f09_a4ceab8ed1e0","uuid":"b2541b6c-7f7d-4587-8d5c-97f0e330336a"},"edge_type":"inherent","type":"","uuid":"59bbc7b2-ee3d-41f3-a453-fdcf53f04f79","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7","uuid":"36afda69-e780-4985-98af-22c83bc95170"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_994a7225_af3b_4caf_b4c5_6e22491d1dbb"},{"target_any_local_reference":{"kind":"app_service","name":"HYCU","uuid":"2088365f-88eb-49f4-b2c5-dd2887b746be"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"097b7b0b-4c9e-4d3b-a6e6-a3eeac2a68bb","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"b0aa55d2_deployment","uuid":"f9497542-3359-4892-aad7-ecb44805d12f"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_2088365f_88eb_49f4_b2c5_dd2887b746be","uuid":"2de20819-5bb9-4130-a76d-5656dc54699c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be"},{"target_any_local_reference":{"kind":"app_package","name":"AHV_HYCU_Package","uuid":"245bf4ad-7ce5-4f29-9f09-a4ceab8ed1e0"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"b2541b6c-7f7d-4587-8d5c-97f0e330336a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_245bf4ad_7ce5_4f29_9f09_a4ceab8ed1e0"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHV_HYCU","uuid":"1267daec-7636-4b83-98ac-fdfaae6d41c7"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"36afda69-e780-4985-98af-22c83bc95170","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"b0aa55d2_deployment","uuid":"f9497542-3359-4892-aad7-ecb44805d12f"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7","uuid":"180ba1fa-3508-4017-8c8b-652b8284d1bc"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Substrate_1267daec_7636_4b83_98ac_fdfaae6d41c7"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"b0aa55d2_deployment","uuid":"f9497542-3359-4892-aad7-ecb44805d12f"},"retries":"0","description":"","type":"SOFT_DELETE_DEPLOYMENT_ELEMENT","uuid":"63f6fa9e-6e38-4c75-afc8-a7bb1caedc35","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Soft_Delete_f9497542_3359_4892_aad7_ecb44805d12f"}],"description":"","message_list":[],"uuid":"83fb47d7-a692-484a-a4cb-d110c5610884","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_994a7225_af3b_4caf_b4c5_6e22491d1dbb","uuid":"e54b0a21-19d2-496e-bf07-e9b7c2fbd49d"},"name":"SYS_GEN__Runbook_Application_994a7225_af3b_4caf_b4c5_6e22491d1dbb"}}],"message_list":[],"uuid":"994a7225-af3b-4caf-b4c5-6e22491d1dbb","state":"ACTIVE","dependency_list":[],"variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"d892e3a3-3073-408a-ba7f-c1d0847bee39","value":"https:\/\/10.46.34.88:9440","label":"","state":"ACTIVE","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"NTX_STORAGE_CLUSTER_URL"},{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"04f8c4dc-4f62-4e42-95cc-531ae17e75af","value":"https:\/\/10.46.34.87:9440","label":"","state":"ACTIVE","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"NTX_PRODUCTION_CLUSTER_URL"},{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"bce3a973-08b5-414e-9d50-fa6a5ccb57eb","value":"calm-hycu","label":"","state":"ACTIVE","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"HYCU_HOSTNAME"},{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"ca7a0dfc-e8ff-4052-be86-1db08c6b80ce","value":"10.46.5.201","label":"","state":"ACTIVE","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"HYCU_IP"},{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"dd47a820-4ae8-4320-8f3c-86e4c68cd252","value":"23","label":"","state":"ACTIVE","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"HYCU_PREFIX"},{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"595b3c21-c3a0-466a-b0a9-2b93f3ffac5f","value":"10.46.5.1","label":"","state":"ACTIVE","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"HYCU_GATEWAY"},{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"059b6dd7-30a6-40b5-9909-a950e65ab0dd","value":"8.8.8.8","label":"","state":"ACTIVE","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"HYCU_DNS"},{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"e51e9e87-eccb-4557-8c21-5d082179de60","value":"nutanix.com","label":"","state":"ACTIVE","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"HYCU_DOMAIN"}],"name":"Nutanix"}],"published_service_definition_list":[],"default_credential_local_reference":{"kind":"app_credential","name":"HYCU_CRED","uuid":"fe6cb1e0-8807-4f10-96ec-a427a3da64c1"},"package_definition_list":[{"description":"","action_list":[{"description":"System action for installing an application","message_list":[],"uuid":"bff82728-6524-435f-84a4-cee178a5ab4c","name":"action_install","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHV_HYCU_Package","uuid":"245bf4ad-7ce5-4f29-9f09-a4ceab8ed1e0"},"retries":"0","description":"","type":"DAG","uuid":"59581728-8542-44d4-b23b-c640ad2f8616","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Install_Crb_245bf4ad_7ce5_4f29_9f09_a4ceab8ed1e0","uuid":"442e85aa-3a89-41d1-8e78-92ea33a192ab"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Package_245bf4ad_7ce5_4f29_9f09_a4ceab8ed1e0"},{"target_any_local_reference":{"kind":"app_package","name":"AHV_HYCU_Package","uuid":"245bf4ad-7ce5-4f29-9f09-a4ceab8ed1e0"},"retries":"0","description":"","type":"CUSTOM_PACKAGE_INSTALL","uuid":"442e85aa-3a89-41d1-8e78-92ea33a192ab","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHV_HYCU_Package","uuid":"245bf4ad-7ce5-4f29-9f09-a4ceab8ed1e0"},"retries":"0","description":"","type":"DAG","uuid":"fa63295b-8a4b-4445-af56-985404f68169","child_tasks_local_reference_list":[{"kind":"app_task","name":"Add Storage Cluster","uuid":"8c23b5b1-f23c-42a3-ab3d-461f915e6164"},{"kind":"app_task","name":"Add Prod Clusters","uuid":"07a80e35-4841-4879-88e8-33d3b9b4c614"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Add Storage Cluster","uuid":"8c23b5b1-f23c-42a3-ab3d-461f915e6164"},"edge_type":"user_defined","type":"","uuid":"67ea6567-1a23-435e-a520-26a9702ac483","to_task_reference":{"kind":"app_task","name":"Add Prod Clusters","uuid":"07a80e35-4841-4879-88e8-33d3b9b4c614"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"f098a20c_dag"},{"target_any_local_reference":{"kind":"app_service","name":"HYCU","uuid":"2088365f-88eb-49f4-b2c5-dd2887b746be"},"retries":"0","description":"","type":"EXEC","uuid":"8c23b5b1-f23c-42a3-ab3d-461f915e6164","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"static","type":"","command_line_args":"","exit_status":[],"script":"#script\n\nhycu_ip = '@@{address}@@'\nusername = 'admin'\npassword = 'admin'\npe_ip = \"@@{NTX_STORAGE_CLUSTER_URL}@@\"\npe_username = \"@@{NTX_PRISM_USER_FOR_HYCU.username}@@\"\npe_password = \"@@{NTX_PRISM_USER_FOR_HYCU.secret}@@\"\n\nif pe_ip == \"\":\n  \"ERROR: 'NTX_STORAGE_CLUSTER_URL' should not be empty\".format(pe_ip)\n  exit(1)\n  \nif pe_username == \"\" and pe_password == \"\":\n  \"ERROR: 'NTX_PRISM_USER_FOR_HYCU' should not be empty, plese fill in the PRISM credentials for hycu\".format(pe_ip)\n  exit(1)\n\napi_url = \"https:\/\/\" + hycu_ip + \":8443\/rest\/v1.0\"\n\n# -*- Waiting for api to be ready\nprint \"INFO: Waiting for HYCU to start service.\"\nget_api_url = api_url + \"\/administration\/httpserver\"\ncount = 0\nwhile(True):\n  if count == 20:\n    print \"ERROR: Timout waiting for HYCU service.\".format(pe_ip)\n  try:\n    response = urlreq(get_api_url, verb='GET', auth=\"BASIC\", user=username, passwd=password, verify=False)\n    get_api_status = json.loads(response.content)\n    if get_api_status[\"message\"][\"type\"] == \"OK\":\n      break\n  except Exception as e:\n      print \"INFO: Waiting for HYCU to start service.\"\n      print e.message\n      sleep(10)\n      count += 1\n\nprint \"INFO: Adding Storage cluster '{}'.\".format(pe_ip)\n\n# -*- Retrieving HYCU Node Initiator Name\n\npayload = {\n\t\"username\": pe_username,\n\t\"url\": pe_ip,\n\t\"hypervisorType\": \"KVM\",\n\t\"password\": pe_password\n}\n\ncreate_target_url = api_url + \"\/administration\/clusters\"\ntry:\n  headers = {'content-type': \"application\/json\"}\n  response = urlreq(create_target_url, verb='POST', auth=\"BASIC\", user=username, passwd=password, params=json.dumps(payload), verify=False, headers=headers, timeout=30)\n  if response.status_code != 202:\n\tprint \"ERROR: Adding cluster '{}' failed.\".format(pe_ip)\n  target_create_status = json.loads(response.content)\n  job_uuid = target_create_status[\"entities\"][0][\"jobUuid\"]\nexcept Exception as e:\n  print \"ERROR: Adding cluster '{}' failed, check username\/password\".format(pe_ip) \n  print e.message\n  exit(1)\n    \njobs_url = api_url + \"\/jobs\/\" + job_uuid\nwhile(True):\n  response = urlreq(jobs_url, verb='GET', auth=\"BASIC\", user=username, passwd=password, verify=False)\n  if response.status_code != 200:\n    print \"ERROR: Failed to get job status '{}'.\".format(job_uuid)\n  job_status = json.loads(response.content)\n  if job_status[\"entities\"][0][\"status\"] == \"OK\":\n    print \"INFO: Adding cluster '{}' successful.\".format(pe_ip)\n    break\n  elif job_status[\"entities\"][0][\"status\"] == \"ERROR\":\n    print \"ERROR: Adding cluster '{}' failed.\".format(pe_ip)\n    print job_status[\"entities\"][0][\"taskExitMessage\"][\"debug\"]\n    exit(1)\n  else:\n    print \"INFO: creation of Cluster '{}' in-progress sleeping for 5 seconds.\".format(pe_ip)\n    sleep(5)"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Add Storage Cluster"},{"target_any_local_reference":{"kind":"app_service","name":"HYCU","uuid":"2088365f-88eb-49f4-b2c5-dd2887b746be"},"retries":"0","description":"","type":"EXEC","uuid":"07a80e35-4841-4879-88e8-33d3b9b4c614","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"static","type":"","command_line_args":"","exit_status":[],"script":"#script\n\nhycu_ip = '@@{address}@@'\nusername = 'admin'\npassword = 'admin'\npe_ips = \"@@{NTX_PRODUCTION_CLUSTER_URL}@@\"\npe_username = \"@@{NTX_PRISM_USER_FOR_HYCU.username}@@\"\npe_password = \"@@{NTX_PRISM_USER_FOR_HYCU.secret}@@\"\n\nif pe_ips == \"\":\n  \"INFO: 'NTX_PRODUCTION_CLUSTER_URL' were not specified exiting.\".format(pe_ip) \n  exit(0)\n  \n  \nif pe_username == \"\" and pe_password == \"\":\n  \"ERROR: 'NTX_PRISM_USER_FOR_HYCU' should not be empty, plese fill in the PRISM credentials for hycu\".format(pe_ip) \n  exit(1)\n\napi_url = \"https:\/\/\" + hycu_ip + \":8443\/rest\/v1.0\"\n\nprint \"INFO: Adding prod clusters '{}'.\".format(pe_ips)\n\n# -*- Retrieving HYCU Node Initiator Name\nfor pe_ip in pe_ips.split(\",\"):\n  if pe_ip == \"\":\n    print \"WARNING: PE IP cannot be empty: '{}'.\".format(pe_ip)\n    continue\n\n  payload = {\n      \"username\": pe_username,\n      \"url\": pe_ip,\n      \"hypervisorType\": \"KVM\",\n      \"password\": pe_password\n  }\n\n  create_target_url = api_url + \"\/administration\/clusters\"\n  try:\n    headers = {'content-type': \"application\/json\"}\n    response = urlreq(create_target_url, verb='POST', auth=\"BASIC\", user=username, passwd=password, params=json.dumps(payload), verify=False, headers=headers, timeout=30)\n    if response.status_code != 202:\n      print \"ERROR: Adding cluster '{}' failed.\".format(pe_ip)\n    target_create_status = json.loads(response.content)\n    job_uuid = target_create_status[\"entities\"][0][\"jobUuid\"]\n  except Exception as e:\n    print \"ERROR: Adding cluster '{}' failed, check username\/password\".format(pe_ip) \n    print e.message\n    exit(1)\n  \n  jobs_url = api_url + \"\/jobs\/\" + job_uuid\n  while(True):\n    response = urlreq(jobs_url, verb='GET', auth=\"BASIC\", user=username, passwd=password, verify=False)\n    if response.status_code != 200:\n      print \"ERROR: Failed to get job status '{}'.\".format(job_uuid)\n    job_status = json.loads(response.content)\n    if job_status[\"entities\"][0][\"status\"] == \"OK\":\n      print \"INFO: Adding cluster '{}' successful.\".format(pe_ip)\n      break\n    elif job_status[\"entities\"][0][\"status\"] == \"ERROR\":\n      print \"ERROR: Adding cluster '{}' failed.\".format(pe_ip)\n      print job_status[\"entities\"][0][\"taskExitMessage\"][\"debug\"]\n      exit(1)\n    else:\n      print \"INFO: Addition of Cluster '{}' in-progress sleeping for 5 seconds.\".format(pe_ip)\n      sleep(5)"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Add Prod Clusters"}],"description":"","message_list":[],"uuid":"c13d3473-ca07-48d1-a270-af4809281bfd","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"f098a20c_dag","uuid":"fa63295b-8a4b-4445-af56-985404f68169"},"name":"27de86fc_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHV_HYCU_Package","uuid":"245bf4ad-7ce5-4f29-9f09-a4ceab8ed1e0"},"retries":"0","description":"","type":"DAG","uuid":"6b65e016-0313-45d3-aa22-134787b0d078","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"349d3711_dag"}],"description":"","message_list":[],"uuid":"4c2d9628-b427-4921-9566-4413e54cdc12","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"349d3711_dag","uuid":"6b65e016-0313-45d3-aa22-134787b0d078"},"name":"b8e1f741_runbook"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Install_Crb_245bf4ad_7ce5_4f29_9f09_a4ceab8ed1e0"}],"description":"","message_list":[],"uuid":"a19dbd98-597b-40f0-8fc3-ea4162fc2379","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Package_245bf4ad_7ce5_4f29_9f09_a4ceab8ed1e0","uuid":"59581728-8542-44d4-b23b-c640ad2f8616"},"name":"SYS_GEN__Runbook_Package_245bf4ad_7ce5_4f29_9f09_a4ceab8ed1e0"}},{"description":"System action for creating an application","message_list":[],"uuid":"d7e2ec9c-8326-4486-8216-fb8f0f4c3121","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHV_HYCU_Package","uuid":"245bf4ad-7ce5-4f29-9f09-a4ceab8ed1e0"},"retries":"0","description":"","type":"DAG","uuid":"6ce90d91-34f3-4a73-ab01-84214842a88b","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_245bf4ad_7ce5_4f29_9f09_a4ceab8ed1e0","uuid":"ea0bad86-1f1d-4653-8c69-cb1476642c66"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be","uuid":"029077f4-5f2c-42fc-81c7-1a633b818d3b"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be","uuid":"6a9fdd00-71d2-4413-ab31-ed9175967321"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be","uuid":"029077f4-5f2c-42fc-81c7-1a633b818d3b"},"edge_type":"inherent","type":"","uuid":"ed8d37fa-2f50-40d0-8f5c-71187d35411c","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be","uuid":"6a9fdd00-71d2-4413-ab31-ed9175967321"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_245bf4ad_7ce5_4f29_9f09_a4ceab8ed1e0","uuid":"ea0bad86-1f1d-4653-8c69-cb1476642c66"},"edge_type":"inherent","type":"","uuid":"41790e0b-65a5-46d1-bda0-b60eb271cad8","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be","uuid":"029077f4-5f2c-42fc-81c7-1a633b818d3b"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_245bf4ad_7ce5_4f29_9f09_a4ceab8ed1e0"},{"target_any_local_reference":{"kind":"app_package","name":"AHV_HYCU_Package","uuid":"245bf4ad-7ce5-4f29-9f09-a4ceab8ed1e0"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"ea0bad86-1f1d-4653-8c69-cb1476642c66","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_245bf4ad_7ce5_4f29_9f09_a4ceab8ed1e0","uuid":"a19dbd98-597b-40f0-8fc3-ea4162fc2379"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_245bf4ad_7ce5_4f29_9f09_a4ceab8ed1e0"},{"target_any_local_reference":{"kind":"app_service","name":"HYCU","uuid":"2088365f-88eb-49f4-b2c5-dd2887b746be"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"029077f4-5f2c-42fc-81c7-1a633b818d3b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"124cb92b_runbook","uuid":"a46d0adb-d4e9-435a-9f45-0afbfaad8abd"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be"},{"target_any_local_reference":{"kind":"app_service","name":"HYCU","uuid":"2088365f-88eb-49f4-b2c5-dd2887b746be"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"6a9fdd00-71d2-4413-ab31-ed9175967321","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"d8e5204b_runbook","uuid":"7b24e645-85fb-45b9-a868-d84f34d21fbc"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be"}],"description":"","message_list":[],"uuid":"c533ce48-de19-4eae-a85b-1f05028bf0be","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_245bf4ad_7ce5_4f29_9f09_a4ceab8ed1e0","uuid":"6ce90d91-34f3-4a73-ab01-84214842a88b"},"name":"SYS_GEN__Runbook_Package_245bf4ad_7ce5_4f29_9f09_a4ceab8ed1e0"}},{"description":"System action for uninstalling an application","message_list":[],"uuid":"844c088d-c7b1-4dac-bb5d-c4b73fbf71c9","name":"action_uninstall","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHV_HYCU_Package","uuid":"245bf4ad-7ce5-4f29-9f09-a4ceab8ed1e0"},"retries":"0","description":"","type":"DAG","uuid":"3da62bde-22dd-4454-9f71-981dd2e59ea0","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Uninstall_Crb_245bf4ad_7ce5_4f29_9f09_a4ceab8ed1e0","uuid":"c85f1b7e-2eb0-4107-bbed-717b5938c057"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Package_245bf4ad_7ce5_4f29_9f09_a4ceab8ed1e0"},{"target_any_local_reference":{"kind":"app_package","name":"AHV_HYCU_Package","uuid":"245bf4ad-7ce5-4f29-9f09-a4ceab8ed1e0"},"retries":"0","description":"","type":"CUSTOM_PACKAGE_UNINSTALL","uuid":"c85f1b7e-2eb0-4107-bbed-717b5938c057","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHV_HYCU_Package","uuid":"245bf4ad-7ce5-4f29-9f09-a4ceab8ed1e0"},"retries":"0","description":"","type":"DAG","uuid":"fa63295b-8a4b-4445-af56-985404f68169","child_tasks_local_reference_list":[{"kind":"app_task","name":"Add Storage Cluster","uuid":"8c23b5b1-f23c-42a3-ab3d-461f915e6164"},{"kind":"app_task","name":"Add Prod Clusters","uuid":"07a80e35-4841-4879-88e8-33d3b9b4c614"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Add Storage Cluster","uuid":"8c23b5b1-f23c-42a3-ab3d-461f915e6164"},"edge_type":"user_defined","type":"","uuid":"67ea6567-1a23-435e-a520-26a9702ac483","to_task_reference":{"kind":"app_task","name":"Add Prod Clusters","uuid":"07a80e35-4841-4879-88e8-33d3b9b4c614"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"f098a20c_dag"},{"target_any_local_reference":{"kind":"app_service","name":"HYCU","uuid":"2088365f-88eb-49f4-b2c5-dd2887b746be"},"retries":"0","description":"","type":"EXEC","uuid":"8c23b5b1-f23c-42a3-ab3d-461f915e6164","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"static","type":"","command_line_args":"","exit_status":[],"script":"#script\n\nhycu_ip = '@@{address}@@'\nusername = 'admin'\npassword = 'admin'\npe_ip = \"@@{NTX_STORAGE_CLUSTER_URL}@@\"\npe_username = \"@@{NTX_PRISM_USER_FOR_HYCU.username}@@\"\npe_password = \"@@{NTX_PRISM_USER_FOR_HYCU.secret}@@\"\n\nif pe_ip == \"\":\n  \"ERROR: 'NTX_STORAGE_CLUSTER_URL' should not be empty\".format(pe_ip)\n  exit(1)\n  \nif pe_username == \"\" and pe_password == \"\":\n  \"ERROR: 'NTX_PRISM_USER_FOR_HYCU' should not be empty, plese fill in the PRISM credentials for hycu\".format(pe_ip)\n  exit(1)\n\napi_url = \"https:\/\/\" + hycu_ip + \":8443\/rest\/v1.0\"\n\n# -*- Waiting for api to be ready\nprint \"INFO: Waiting for HYCU to start service.\"\nget_api_url = api_url + \"\/administration\/httpserver\"\ncount = 0\nwhile(True):\n  if count == 20:\n    print \"ERROR: Timout waiting for HYCU service.\".format(pe_ip)\n  try:\n    response = urlreq(get_api_url, verb='GET', auth=\"BASIC\", user=username, passwd=password, verify=False)\n    get_api_status = json.loads(response.content)\n    if get_api_status[\"message\"][\"type\"] == \"OK\":\n      break\n  except Exception as e:\n      print \"INFO: Waiting for HYCU to start service.\"\n      print e.message\n      sleep(10)\n      count += 1\n\nprint \"INFO: Adding Storage cluster '{}'.\".format(pe_ip)\n\n# -*- Retrieving HYCU Node Initiator Name\n\npayload = {\n\t\"username\": pe_username,\n\t\"url\": pe_ip,\n\t\"hypervisorType\": \"KVM\",\n\t\"password\": pe_password\n}\n\ncreate_target_url = api_url + \"\/administration\/clusters\"\ntry:\n  headers = {'content-type': \"application\/json\"}\n  response = urlreq(create_target_url, verb='POST', auth=\"BASIC\", user=username, passwd=password, params=json.dumps(payload), verify=False, headers=headers, timeout=30)\n  if response.status_code != 202:\n\tprint \"ERROR: Adding cluster '{}' failed.\".format(pe_ip)\n  target_create_status = json.loads(response.content)\n  job_uuid = target_create_status[\"entities\"][0][\"jobUuid\"]\nexcept Exception as e:\n  print \"ERROR: Adding cluster '{}' failed, check username\/password\".format(pe_ip) \n  print e.message\n  exit(1)\n    \njobs_url = api_url + \"\/jobs\/\" + job_uuid\nwhile(True):\n  response = urlreq(jobs_url, verb='GET', auth=\"BASIC\", user=username, passwd=password, verify=False)\n  if response.status_code != 200:\n    print \"ERROR: Failed to get job status '{}'.\".format(job_uuid)\n  job_status = json.loads(response.content)\n  if job_status[\"entities\"][0][\"status\"] == \"OK\":\n    print \"INFO: Adding cluster '{}' successful.\".format(pe_ip)\n    break\n  elif job_status[\"entities\"][0][\"status\"] == \"ERROR\":\n    print \"ERROR: Adding cluster '{}' failed.\".format(pe_ip)\n    print job_status[\"entities\"][0][\"taskExitMessage\"][\"debug\"]\n    exit(1)\n  else:\n    print \"INFO: creation of Cluster '{}' in-progress sleeping for 5 seconds.\".format(pe_ip)\n    sleep(5)"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Add Storage Cluster"},{"target_any_local_reference":{"kind":"app_service","name":"HYCU","uuid":"2088365f-88eb-49f4-b2c5-dd2887b746be"},"retries":"0","description":"","type":"EXEC","uuid":"07a80e35-4841-4879-88e8-33d3b9b4c614","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"static","type":"","command_line_args":"","exit_status":[],"script":"#script\n\nhycu_ip = '@@{address}@@'\nusername = 'admin'\npassword = 'admin'\npe_ips = \"@@{NTX_PRODUCTION_CLUSTER_URL}@@\"\npe_username = \"@@{NTX_PRISM_USER_FOR_HYCU.username}@@\"\npe_password = \"@@{NTX_PRISM_USER_FOR_HYCU.secret}@@\"\n\nif pe_ips == \"\":\n  \"INFO: 'NTX_PRODUCTION_CLUSTER_URL' were not specified exiting.\".format(pe_ip) \n  exit(0)\n  \n  \nif pe_username == \"\" and pe_password == \"\":\n  \"ERROR: 'NTX_PRISM_USER_FOR_HYCU' should not be empty, plese fill in the PRISM credentials for hycu\".format(pe_ip) \n  exit(1)\n\napi_url = \"https:\/\/\" + hycu_ip + \":8443\/rest\/v1.0\"\n\nprint \"INFO: Adding prod clusters '{}'.\".format(pe_ips)\n\n# -*- Retrieving HYCU Node Initiator Name\nfor pe_ip in pe_ips.split(\",\"):\n  if pe_ip == \"\":\n    print \"WARNING: PE IP cannot be empty: '{}'.\".format(pe_ip)\n    continue\n\n  payload = {\n      \"username\": pe_username,\n      \"url\": pe_ip,\n      \"hypervisorType\": \"KVM\",\n      \"password\": pe_password\n  }\n\n  create_target_url = api_url + \"\/administration\/clusters\"\n  try:\n    headers = {'content-type': \"application\/json\"}\n    response = urlreq(create_target_url, verb='POST', auth=\"BASIC\", user=username, passwd=password, params=json.dumps(payload), verify=False, headers=headers, timeout=30)\n    if response.status_code != 202:\n      print \"ERROR: Adding cluster '{}' failed.\".format(pe_ip)\n    target_create_status = json.loads(response.content)\n    job_uuid = target_create_status[\"entities\"][0][\"jobUuid\"]\n  except Exception as e:\n    print \"ERROR: Adding cluster '{}' failed, check username\/password\".format(pe_ip) \n    print e.message\n    exit(1)\n  \n  jobs_url = api_url + \"\/jobs\/\" + job_uuid\n  while(True):\n    response = urlreq(jobs_url, verb='GET', auth=\"BASIC\", user=username, passwd=password, verify=False)\n    if response.status_code != 200:\n      print \"ERROR: Failed to get job status '{}'.\".format(job_uuid)\n    job_status = json.loads(response.content)\n    if job_status[\"entities\"][0][\"status\"] == \"OK\":\n      print \"INFO: Adding cluster '{}' successful.\".format(pe_ip)\n      break\n    elif job_status[\"entities\"][0][\"status\"] == \"ERROR\":\n      print \"ERROR: Adding cluster '{}' failed.\".format(pe_ip)\n      print job_status[\"entities\"][0][\"taskExitMessage\"][\"debug\"]\n      exit(1)\n    else:\n      print \"INFO: Addition of Cluster '{}' in-progress sleeping for 5 seconds.\".format(pe_ip)\n      sleep(5)"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Add Prod Clusters"}],"description":"","message_list":[],"uuid":"c13d3473-ca07-48d1-a270-af4809281bfd","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"f098a20c_dag","uuid":"fa63295b-8a4b-4445-af56-985404f68169"},"name":"27de86fc_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHV_HYCU_Package","uuid":"245bf4ad-7ce5-4f29-9f09-a4ceab8ed1e0"},"retries":"0","description":"","type":"DAG","uuid":"6b65e016-0313-45d3-aa22-134787b0d078","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"349d3711_dag"}],"description":"","message_list":[],"uuid":"4c2d9628-b427-4921-9566-4413e54cdc12","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"349d3711_dag","uuid":"6b65e016-0313-45d3-aa22-134787b0d078"},"name":"b8e1f741_runbook"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Uninstall_Crb_245bf4ad_7ce5_4f29_9f09_a4ceab8ed1e0"}],"description":"","message_list":[],"uuid":"e2af7c45-691e-4093-bdeb-1a0285ae4b40","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Package_245bf4ad_7ce5_4f29_9f09_a4ceab8ed1e0","uuid":"3da62bde-22dd-4454-9f71-981dd2e59ea0"},"name":"SYS_GEN__Runbook_Package_245bf4ad_7ce5_4f29_9f09_a4ceab8ed1e0"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"268506fc-23be-4317-82c8-5c2f0ccdd4fb","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHV_HYCU_Package","uuid":"245bf4ad-7ce5-4f29-9f09-a4ceab8ed1e0"},"retries":"0","description":"","type":"DAG","uuid":"fffd0de5-a417-478d-b984-dd0e7cc52c5c","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be","uuid":"39191c5d-18a8-4fe0-855d-a1438f4c285a"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be","uuid":"7f5c1f52-dab9-4c23-b181-f98ec12544f1"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_245bf4ad_7ce5_4f29_9f09_a4ceab8ed1e0","uuid":"33333b3c-1989-4ea3-b0cd-8a7a82954eb9"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be","uuid":"39191c5d-18a8-4fe0-855d-a1438f4c285a"},"edge_type":"inherent","type":"","uuid":"56e03e5f-ee7a-453a-92c3-9fb2280c397e","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be","uuid":"7f5c1f52-dab9-4c23-b181-f98ec12544f1"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be","uuid":"7f5c1f52-dab9-4c23-b181-f98ec12544f1"},"edge_type":"inherent","type":"","uuid":"3f95a0de-45db-4873-9ae3-68ec8b8e1ab5","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_245bf4ad_7ce5_4f29_9f09_a4ceab8ed1e0","uuid":"33333b3c-1989-4ea3-b0cd-8a7a82954eb9"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_245bf4ad_7ce5_4f29_9f09_a4ceab8ed1e0"},{"target_any_local_reference":{"kind":"app_service","name":"HYCU","uuid":"2088365f-88eb-49f4-b2c5-dd2887b746be"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"39191c5d-18a8-4fe0-855d-a1438f4c285a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"f6b78719_runbook","uuid":"23deefe2-36da-460a-93a2-2721ba76563c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be"},{"target_any_local_reference":{"kind":"app_service","name":"HYCU","uuid":"2088365f-88eb-49f4-b2c5-dd2887b746be"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"7f5c1f52-dab9-4c23-b181-f98ec12544f1","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"ebbad80f_runbook","uuid":"482678b0-5a36-4a07-a6d5-d6cad129ade1"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be"},{"target_any_local_reference":{"kind":"app_package","name":"AHV_HYCU_Package","uuid":"245bf4ad-7ce5-4f29-9f09-a4ceab8ed1e0"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"33333b3c-1989-4ea3-b0cd-8a7a82954eb9","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_245bf4ad_7ce5_4f29_9f09_a4ceab8ed1e0","uuid":"e2af7c45-691e-4093-bdeb-1a0285ae4b40"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_245bf4ad_7ce5_4f29_9f09_a4ceab8ed1e0"}],"description":"","message_list":[],"uuid":"eb7a7a80-6b43-4670-ab85-4f44ce517b05","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_245bf4ad_7ce5_4f29_9f09_a4ceab8ed1e0","uuid":"fffd0de5-a417-478d-b984-dd0e7cc52c5c"},"name":"SYS_GEN__Runbook_Package_245bf4ad_7ce5_4f29_9f09_a4ceab8ed1e0"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"9ca503eb-744c-4155-957b-846abec44543","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHV_HYCU_Package","uuid":"245bf4ad-7ce5-4f29-9f09-a4ceab8ed1e0"},"retries":"0","description":"","type":"DAG","uuid":"817a39be-56f4-4b9e-b8f3-521f01befff7","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be","uuid":"a0172ca9-5018-487b-b8db-e57d1af7f0fd"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_245bf4ad_7ce5_4f29_9f09_a4ceab8ed1e0","uuid":"68e96f58-92c7-43ea-a734-c6ab6d6fc370"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be","uuid":"a0172ca9-5018-487b-b8db-e57d1af7f0fd"},"edge_type":"inherent","type":"","uuid":"59c080db-f821-43c0-97bb-55a5076b430e","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_245bf4ad_7ce5_4f29_9f09_a4ceab8ed1e0","uuid":"68e96f58-92c7-43ea-a734-c6ab6d6fc370"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_245bf4ad_7ce5_4f29_9f09_a4ceab8ed1e0"},{"target_any_local_reference":{"kind":"app_service","name":"HYCU","uuid":"2088365f-88eb-49f4-b2c5-dd2887b746be"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"a0172ca9-5018-487b-b8db-e57d1af7f0fd","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_2088365f_88eb_49f4_b2c5_dd2887b746be","uuid":"2de20819-5bb9-4130-a76d-5656dc54699c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be"},{"target_any_local_reference":{"kind":"app_package","name":"AHV_HYCU_Package","uuid":"245bf4ad-7ce5-4f29-9f09-a4ceab8ed1e0"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"68e96f58-92c7-43ea-a734-c6ab6d6fc370","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_245bf4ad_7ce5_4f29_9f09_a4ceab8ed1e0"}],"description":"","message_list":[],"uuid":"6ed44eff-e3af-4de2-88de-4b2c2302b926","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_245bf4ad_7ce5_4f29_9f09_a4ceab8ed1e0","uuid":"817a39be-56f4-4b9e-b8f3-521f01befff7"},"name":"SYS_GEN__Runbook_Package_245bf4ad_7ce5_4f29_9f09_a4ceab8ed1e0"}},{"description":"System action for starting an application","message_list":[],"uuid":"af15711d-345e-459c-8087-8e48592d9a62","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHV_HYCU_Package","uuid":"245bf4ad-7ce5-4f29-9f09-a4ceab8ed1e0"},"retries":"0","description":"","type":"DAG","uuid":"4a79a88b-2005-4b29-bf0d-63737c54c2a0","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be","uuid":"c8189449-b9ad-43b3-8de7-dcd96e975877"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_245bf4ad_7ce5_4f29_9f09_a4ceab8ed1e0"},{"target_any_local_reference":{"kind":"app_service","name":"HYCU","uuid":"2088365f-88eb-49f4-b2c5-dd2887b746be"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"c8189449-b9ad-43b3-8de7-dcd96e975877","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"d8e5204b_runbook","uuid":"7b24e645-85fb-45b9-a868-d84f34d21fbc"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be"}],"description":"","message_list":[],"uuid":"6d78c1e0-39f7-478e-b34f-4bf595937556","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_245bf4ad_7ce5_4f29_9f09_a4ceab8ed1e0","uuid":"4a79a88b-2005-4b29-bf0d-63737c54c2a0"},"name":"SYS_GEN__Runbook_Package_245bf4ad_7ce5_4f29_9f09_a4ceab8ed1e0"}},{"description":"System action for restarting an application","message_list":[],"uuid":"f8e6aab3-c024-42ea-bd18-ed7a1e0f10be","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHV_HYCU_Package","uuid":"245bf4ad-7ce5-4f29-9f09-a4ceab8ed1e0"},"retries":"0","description":"","type":"DAG","uuid":"ee449df5-9346-4373-96dd-4190effcc60f","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be","uuid":"5827eebe-d284-45b8-8fe9-8fe74e2a6f69"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_245bf4ad_7ce5_4f29_9f09_a4ceab8ed1e0"},{"target_any_local_reference":{"kind":"app_service","name":"HYCU","uuid":"2088365f-88eb-49f4-b2c5-dd2887b746be"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"5827eebe-d284-45b8-8fe9-8fe74e2a6f69","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"b85cb2cc_runbook","uuid":"cde318ea-76f0-449d-afec-fbf2329a758e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be"}],"description":"","message_list":[],"uuid":"e50f480c-1c40-493f-b74a-c4f7f2cc0eba","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_245bf4ad_7ce5_4f29_9f09_a4ceab8ed1e0","uuid":"ee449df5-9346-4373-96dd-4190effcc60f"},"name":"SYS_GEN__Runbook_Package_245bf4ad_7ce5_4f29_9f09_a4ceab8ed1e0"}},{"description":"System action for stopping an application","message_list":[],"uuid":"77420868-2bb6-4a5a-8b2a-7cfb5a1c6479","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHV_HYCU_Package","uuid":"245bf4ad-7ce5-4f29-9f09-a4ceab8ed1e0"},"retries":"0","description":"","type":"DAG","uuid":"2f76dab4-90fd-46f8-8bff-cc4e7877fcea","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be","uuid":"f9e9b0fd-dd03-44e6-b7d1-23f31496d3c2"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_245bf4ad_7ce5_4f29_9f09_a4ceab8ed1e0"},{"target_any_local_reference":{"kind":"app_service","name":"HYCU","uuid":"2088365f-88eb-49f4-b2c5-dd2887b746be"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"f9e9b0fd-dd03-44e6-b7d1-23f31496d3c2","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"f6b78719_runbook","uuid":"23deefe2-36da-460a-93a2-2721ba76563c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_2088365f_88eb_49f4_b2c5_dd2887b746be"}],"description":"","message_list":[],"uuid":"ee871d3d-77cf-43d3-bdba-35a7b80b3c98","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_245bf4ad_7ce5_4f29_9f09_a4ceab8ed1e0","uuid":"2f76dab4-90fd-46f8-8bff-cc4e7877fcea"},"name":"SYS_GEN__Runbook_Package_245bf4ad_7ce5_4f29_9f09_a4ceab8ed1e0"}}],"message_list":[],"service_local_reference_list":[{"kind":"app_service","name":"HYCU","uuid":"2088365f-88eb-49f4-b2c5-dd2887b746be"}],"uuid":"245bf4ad-7ce5-4f29-9f09-a4ceab8ed1e0","state":"ACTIVE","version":"","editables":{},"type":"DEB","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHV_HYCU_Package","uuid":"245bf4ad-7ce5-4f29-9f09-a4ceab8ed1e0"},"retries":"0","description":"","type":"DAG","uuid":"fa63295b-8a4b-4445-af56-985404f68169","child_tasks_local_reference_list":[{"kind":"app_task","name":"Add Storage Cluster","uuid":"8c23b5b1-f23c-42a3-ab3d-461f915e6164"},{"kind":"app_task","name":"Add Prod Clusters","uuid":"07a80e35-4841-4879-88e8-33d3b9b4c614"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Add Storage Cluster","uuid":"8c23b5b1-f23c-42a3-ab3d-461f915e6164"},"edge_type":"user_defined","type":"","uuid":"67ea6567-1a23-435e-a520-26a9702ac483","to_task_reference":{"kind":"app_task","name":"Add Prod Clusters","uuid":"07a80e35-4841-4879-88e8-33d3b9b4c614"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"f098a20c_dag"},{"target_any_local_reference":{"kind":"app_service","name":"HYCU","uuid":"2088365f-88eb-49f4-b2c5-dd2887b746be"},"retries":"0","description":"","type":"EXEC","uuid":"8c23b5b1-f23c-42a3-ab3d-461f915e6164","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"static","type":"","command_line_args":"","exit_status":[],"script":"#script\n\nhycu_ip = '@@{address}@@'\nusername = 'admin'\npassword = 'admin'\npe_ip = \"@@{NTX_STORAGE_CLUSTER_URL}@@\"\npe_username = \"@@{NTX_PRISM_USER_FOR_HYCU.username}@@\"\npe_password = \"@@{NTX_PRISM_USER_FOR_HYCU.secret}@@\"\n\nif pe_ip == \"\":\n  \"ERROR: 'NTX_STORAGE_CLUSTER_URL' should not be empty\".format(pe_ip)\n  exit(1)\n  \nif pe_username == \"\" and pe_password == \"\":\n  \"ERROR: 'NTX_PRISM_USER_FOR_HYCU' should not be empty, plese fill in the PRISM credentials for hycu\".format(pe_ip)\n  exit(1)\n\napi_url = \"https:\/\/\" + hycu_ip + \":8443\/rest\/v1.0\"\n\n# -*- Waiting for api to be ready\nprint \"INFO: Waiting for HYCU to start service.\"\nget_api_url = api_url + \"\/administration\/httpserver\"\ncount = 0\nwhile(True):\n  if count == 20:\n    print \"ERROR: Timout waiting for HYCU service.\".format(pe_ip)\n  try:\n    response = urlreq(get_api_url, verb='GET', auth=\"BASIC\", user=username, passwd=password, verify=False)\n    get_api_status = json.loads(response.content)\n    if get_api_status[\"message\"][\"type\"] == \"OK\":\n      break\n  except Exception as e:\n      print \"INFO: Waiting for HYCU to start service.\"\n      print e.message\n      sleep(10)\n      count += 1\n\nprint \"INFO: Adding Storage cluster '{}'.\".format(pe_ip)\n\n# -*- Retrieving HYCU Node Initiator Name\n\npayload = {\n\t\"username\": pe_username,\n\t\"url\": pe_ip,\n\t\"hypervisorType\": \"KVM\",\n\t\"password\": pe_password\n}\n\ncreate_target_url = api_url + \"\/administration\/clusters\"\ntry:\n  headers = {'content-type': \"application\/json\"}\n  response = urlreq(create_target_url, verb='POST', auth=\"BASIC\", user=username, passwd=password, params=json.dumps(payload), verify=False, headers=headers, timeout=30)\n  if response.status_code != 202:\n\tprint \"ERROR: Adding cluster '{}' failed.\".format(pe_ip)\n  target_create_status = json.loads(response.content)\n  job_uuid = target_create_status[\"entities\"][0][\"jobUuid\"]\nexcept Exception as e:\n  print \"ERROR: Adding cluster '{}' failed, check username\/password\".format(pe_ip) \n  print e.message\n  exit(1)\n    \njobs_url = api_url + \"\/jobs\/\" + job_uuid\nwhile(True):\n  response = urlreq(jobs_url, verb='GET', auth=\"BASIC\", user=username, passwd=password, verify=False)\n  if response.status_code != 200:\n    print \"ERROR: Failed to get job status '{}'.\".format(job_uuid)\n  job_status = json.loads(response.content)\n  if job_status[\"entities\"][0][\"status\"] == \"OK\":\n    print \"INFO: Adding cluster '{}' successful.\".format(pe_ip)\n    break\n  elif job_status[\"entities\"][0][\"status\"] == \"ERROR\":\n    print \"ERROR: Adding cluster '{}' failed.\".format(pe_ip)\n    print job_status[\"entities\"][0][\"taskExitMessage\"][\"debug\"]\n    exit(1)\n  else:\n    print \"INFO: creation of Cluster '{}' in-progress sleeping for 5 seconds.\".format(pe_ip)\n    sleep(5)"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Add Storage Cluster"},{"target_any_local_reference":{"kind":"app_service","name":"HYCU","uuid":"2088365f-88eb-49f4-b2c5-dd2887b746be"},"retries":"0","description":"","type":"EXEC","uuid":"07a80e35-4841-4879-88e8-33d3b9b4c614","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"static","type":"","command_line_args":"","exit_status":[],"script":"#script\n\nhycu_ip = '@@{address}@@'\nusername = 'admin'\npassword = 'admin'\npe_ips = \"@@{NTX_PRODUCTION_CLUSTER_URL}@@\"\npe_username = \"@@{NTX_PRISM_USER_FOR_HYCU.username}@@\"\npe_password = \"@@{NTX_PRISM_USER_FOR_HYCU.secret}@@\"\n\nif pe_ips == \"\":\n  \"INFO: 'NTX_PRODUCTION_CLUSTER_URL' were not specified exiting.\".format(pe_ip) \n  exit(0)\n  \n  \nif pe_username == \"\" and pe_password == \"\":\n  \"ERROR: 'NTX_PRISM_USER_FOR_HYCU' should not be empty, plese fill in the PRISM credentials for hycu\".format(pe_ip) \n  exit(1)\n\napi_url = \"https:\/\/\" + hycu_ip + \":8443\/rest\/v1.0\"\n\nprint \"INFO: Adding prod clusters '{}'.\".format(pe_ips)\n\n# -*- Retrieving HYCU Node Initiator Name\nfor pe_ip in pe_ips.split(\",\"):\n  if pe_ip == \"\":\n    print \"WARNING: PE IP cannot be empty: '{}'.\".format(pe_ip)\n    continue\n\n  payload = {\n      \"username\": pe_username,\n      \"url\": pe_ip,\n      \"hypervisorType\": \"KVM\",\n      \"password\": pe_password\n  }\n\n  create_target_url = api_url + \"\/administration\/clusters\"\n  try:\n    headers = {'content-type': \"application\/json\"}\n    response = urlreq(create_target_url, verb='POST', auth=\"BASIC\", user=username, passwd=password, params=json.dumps(payload), verify=False, headers=headers, timeout=30)\n    if response.status_code != 202:\n      print \"ERROR: Adding cluster '{}' failed.\".format(pe_ip)\n    target_create_status = json.loads(response.content)\n    job_uuid = target_create_status[\"entities\"][0][\"jobUuid\"]\n  except Exception as e:\n    print \"ERROR: Adding cluster '{}' failed, check username\/password\".format(pe_ip) \n    print e.message\n    exit(1)\n  \n  jobs_url = api_url + \"\/jobs\/\" + job_uuid\n  while(True):\n    response = urlreq(jobs_url, verb='GET', auth=\"BASIC\", user=username, passwd=password, verify=False)\n    if response.status_code != 200:\n      print \"ERROR: Failed to get job status '{}'.\".format(job_uuid)\n    job_status = json.loads(response.content)\n    if job_status[\"entities\"][0][\"status\"] == \"OK\":\n      print \"INFO: Adding cluster '{}' successful.\".format(pe_ip)\n      break\n    elif job_status[\"entities\"][0][\"status\"] == \"ERROR\":\n      print \"ERROR: Adding cluster '{}' failed.\".format(pe_ip)\n      print job_status[\"entities\"][0][\"taskExitMessage\"][\"debug\"]\n      exit(1)\n    else:\n      print \"INFO: Addition of Cluster '{}' in-progress sleeping for 5 seconds.\".format(pe_ip)\n      sleep(5)"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Add Prod Clusters"}],"description":"","message_list":[],"uuid":"c13d3473-ca07-48d1-a270-af4809281bfd","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"f098a20c_dag","uuid":"fa63295b-8a4b-4445-af56-985404f68169"},"name":"27de86fc_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHV_HYCU_Package","uuid":"245bf4ad-7ce5-4f29-9f09-a4ceab8ed1e0"},"retries":"0","description":"","type":"DAG","uuid":"6b65e016-0313-45d3-aa22-134787b0d078","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"349d3711_dag"}],"description":"","message_list":[],"uuid":"4c2d9628-b427-4921-9566-4413e54cdc12","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"349d3711_dag","uuid":"6b65e016-0313-45d3-aa22-134787b0d078"},"name":"b8e1f741_runbook"}},"variable_list":[],"name":"AHV_HYCU_Package"},{"description":"","action_list":[{"description":"System action for installing an application","message_list":[],"uuid":"af444677-f39d-4fe3-9e82-d4b8142a01bb","name":"action_install","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"HYCU_3_1_3","uuid":"819795cb-9f8e-4881-8690-239b4260b9ec"},"retries":"0","description":"","type":"DAG","uuid":"c49d230c-5609-43d0-8817-d2e0259523c5","child_tasks_local_reference_list":[{"kind":"app_task","name":"Image Fetch task for VM","uuid":"51f2ae73-6cb1-45f1-b7b2-6aef9d0ee236"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Package_819795cb_9f8e_4881_8690_239b4260b9ec"},{"target_any_local_reference":{"kind":"app_package","name":"HYCU_3_1_3","uuid":"819795cb-9f8e-4881-8690-239b4260b9ec"},"retries":"0","description":"","type":"SUBSTRATE_IMAGE_FETCH","uuid":"51f2ae73-6cb1-45f1-b7b2-6aef9d0ee236","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"","name":"HYCU_3_1_3","resources":{"image_type":"DISK_IMAGE","checksum":{"checksum_algorithm":"","type":"","checksum_value":""},"source_uri":"http:\/\/download.nutanix.com\/calm\/Hycu\/3.1.3\/hycu-3.1.3-343.qcow2","version":{"product_version":"3.1.3","type":"","product_name":"HYCU"},"architecture":"X86_64","type":""},"description":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Image Fetch task for VM"}],"description":"","message_list":[],"uuid":"9239d02f-d2a5-4e5b-b364-1bbe36da0508","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Package_819795cb_9f8e_4881_8690_239b4260b9ec","uuid":"c49d230c-5609-43d0-8817-d2e0259523c5"},"name":"SYS_GEN__Runbook_Package_819795cb_9f8e_4881_8690_239b4260b9ec"}},{"description":"System action for creating an application","message_list":[],"uuid":"5088172a-9a71-4e8c-9e8e-a111c2e8d584","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"HYCU_3_1_3","uuid":"819795cb-9f8e-4881-8690-239b4260b9ec"},"retries":"0","description":"","type":"DAG","uuid":"ae9793c2-3fde-4900-9f71-449bdc9a5c34","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_819795cb_9f8e_4881_8690_239b4260b9ec","uuid":"760478f6-38f0-4590-9d56-cdec7c5aa79f"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_819795cb_9f8e_4881_8690_239b4260b9ec"},{"target_any_local_reference":{"kind":"app_package","name":"HYCU_3_1_3","uuid":"819795cb-9f8e-4881-8690-239b4260b9ec"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"760478f6-38f0-4590-9d56-cdec7c5aa79f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_819795cb_9f8e_4881_8690_239b4260b9ec","uuid":"9239d02f-d2a5-4e5b-b364-1bbe36da0508"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_819795cb_9f8e_4881_8690_239b4260b9ec"}],"description":"","message_list":[],"uuid":"6816d08b-7df9-4991-840d-2cdbff8bea62","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_819795cb_9f8e_4881_8690_239b4260b9ec","uuid":"ae9793c2-3fde-4900-9f71-449bdc9a5c34"},"name":"SYS_GEN__Runbook_Package_819795cb_9f8e_4881_8690_239b4260b9ec"}},{"description":"System action for starting an application","message_list":[],"uuid":"62e605b1-2483-405c-a615-91ba039efa30","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"HYCU_3_1_3","uuid":"819795cb-9f8e-4881-8690-239b4260b9ec"},"retries":"0","description":"","type":"DAG","uuid":"93f35371-4ff7-4cc0-ae7d-c8677bdd5381","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_819795cb_9f8e_4881_8690_239b4260b9ec"}],"description":"","message_list":[],"uuid":"3970c570-2521-4731-9e66-32dc0baf289c","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_819795cb_9f8e_4881_8690_239b4260b9ec","uuid":"93f35371-4ff7-4cc0-ae7d-c8677bdd5381"},"name":"SYS_GEN__Runbook_Package_819795cb_9f8e_4881_8690_239b4260b9ec"}},{"description":"System action for restarting an application","message_list":[],"uuid":"5c3acef7-dca7-4356-90ef-9cfa9dff64cb","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"HYCU_3_1_3","uuid":"819795cb-9f8e-4881-8690-239b4260b9ec"},"retries":"0","description":"","type":"DAG","uuid":"cf93d4d0-956c-4a2a-bd81-da39b232e0fe","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_819795cb_9f8e_4881_8690_239b4260b9ec"}],"description":"","message_list":[],"uuid":"da25f647-1b9e-4d3d-9d11-f696516711e2","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_819795cb_9f8e_4881_8690_239b4260b9ec","uuid":"cf93d4d0-956c-4a2a-bd81-da39b232e0fe"},"name":"SYS_GEN__Runbook_Package_819795cb_9f8e_4881_8690_239b4260b9ec"}},{"description":"System action for stopping an application","message_list":[],"uuid":"38417d60-6a13-4668-9650-25e7b2bce382","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"HYCU_3_1_3","uuid":"819795cb-9f8e-4881-8690-239b4260b9ec"},"retries":"0","description":"","type":"DAG","uuid":"da74346d-8643-4c99-80c7-0d3d3d06dffb","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_819795cb_9f8e_4881_8690_239b4260b9ec"}],"description":"","message_list":[],"uuid":"52b5259d-6214-4fc0-a4d8-38bf5596baca","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_819795cb_9f8e_4881_8690_239b4260b9ec","uuid":"da74346d-8643-4c99-80c7-0d3d3d06dffb"},"name":"SYS_GEN__Runbook_Package_819795cb_9f8e_4881_8690_239b4260b9ec"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"e7105b34-a401-4cea-8bc3-cb932759f119","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"HYCU_3_1_3","uuid":"819795cb-9f8e-4881-8690-239b4260b9ec"},"retries":"0","description":"","type":"DAG","uuid":"814b64bc-b7cc-4a74-9ab0-542ee33117df","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_819795cb_9f8e_4881_8690_239b4260b9ec"}],"description":"","message_list":[],"uuid":"5f3e11bd-4dd4-48c0-950a-cf94c8d16c9c","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_819795cb_9f8e_4881_8690_239b4260b9ec","uuid":"814b64bc-b7cc-4a74-9ab0-542ee33117df"},"name":"SYS_GEN__Runbook_Package_819795cb_9f8e_4881_8690_239b4260b9ec"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"508472ba-9a3f-4d81-b9ad-3d40054e9efe","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"HYCU_3_1_3","uuid":"819795cb-9f8e-4881-8690-239b4260b9ec"},"retries":"0","description":"","type":"DAG","uuid":"695daaad-3380-4e07-8404-71f9ae8c96b8","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_819795cb_9f8e_4881_8690_239b4260b9ec"}],"description":"","message_list":[],"uuid":"82f7667d-4097-486f-b8a6-cff40aaf519f","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_819795cb_9f8e_4881_8690_239b4260b9ec","uuid":"695daaad-3380-4e07-8404-71f9ae8c96b8"},"name":"SYS_GEN__Runbook_Package_819795cb_9f8e_4881_8690_239b4260b9ec"}}],"message_list":[],"service_local_reference_list":[],"uuid":"819795cb-9f8e-4881-8690-239b4260b9ec","state":"ACTIVE","version":"","editables":{},"type":"SUBSTRATE_IMAGE","options":{"type":"","name":"HYCU_3_1_3","resources":{"image_type":"DISK_IMAGE","checksum":{"checksum_algorithm":"","type":"","checksum_value":""},"source_uri":"http:\/\/download.nutanix.com\/calm\/Hycu\/3.1.3\/hycu-3.1.3-343.qcow2","version":{"product_version":"3.1.3","type":"","product_name":"HYCU"},"architecture":"X86_64","type":""},"description":""},"variable_list":[],"name":"HYCU_3_1_3"}]},"name":"HYCU X DPaaS on Nutanix Storage OLD"},"spec":{"name":"HYCU X DPaaS on Nutanix Storage OLD","resources":{"service_definition_list":[{"singleton":false,"name":"HYCU","action_list":[{"description":"System action for creating an application","name":"action_create","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","uuid":"2088365f-88eb-49f4-b2c5-dd2887b746be","name":"HYCU"},"retries":"0","description":"","uuid":"db7b64e1-2b4d-436f-aeba-706e7ce1f14e","child_tasks_local_reference_list":[],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"0a8750e2_dag"}],"description":"","uuid":"a46d0adb-d4e9-435a-9f45-0afbfaad8abd","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"0a8750e2_dag","uuid":"db7b64e1-2b4d-436f-aeba-706e7ce1f14e"},"name":"124cb92b_runbook"},"type":"system","uuid":"400b78a3-3bbf-41a6-8067-dbca7675961e"},{"description":"System action for deleting an application. Deletes created VMs as well","name":"action_delete","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","uuid":"2088365f-88eb-49f4-b2c5-dd2887b746be","name":"HYCU"},"retries":"0","description":"","uuid":"9f6a3fdc-456a-4b3f-a9e5-fdf1c74c3a2f","child_tasks_local_reference_list":[],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"c9368241_dag"}],"description":"","uuid":"482678b0-5a36-4a07-a6d5-d6cad129ade1","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"c9368241_dag","uuid":"9f6a3fdc-456a-4b3f-a9e5-fdf1c74c3a2f"},"name":"ebbad80f_runbook"},"type":"system","uuid":"a5614e34-a97d-455e-9997-d5e3b193d98a"},{"description":"System action for starting an application","name":"action_start","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","uuid":"2088365f-88eb-49f4-b2c5-dd2887b746be","name":"HYCU"},"retries":"0","description":"","uuid":"bcf8284e-b825-44a5-b321-c068316c90d4","child_tasks_local_reference_list":[],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"6ed68e83_dag"}],"description":"","uuid":"7b24e645-85fb-45b9-a868-d84f34d21fbc","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"6ed68e83_dag","uuid":"bcf8284e-b825-44a5-b321-c068316c90d4"},"name":"d8e5204b_runbook"},"type":"system","uuid":"f9f4d7c3-a87c-4a36-9161-8a1cce6297cb"},{"description":"System action for stopping an application","name":"action_stop","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","uuid":"2088365f-88eb-49f4-b2c5-dd2887b746be","name":"HYCU"},"retries":"0","description":"","uuid":"d23d291d-972a-45aa-aa12-bf9b03d9a7af","child_tasks_local_reference_list":[],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"13c3aba6_dag"}],"description":"","uuid":"23deefe2-36da-460a-93a2-2721ba76563c","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"13c3aba6_dag","uuid":"d23d291d-972a-45aa-aa12-bf9b03d9a7af"},"name":"f6b78719_runbook"},"type":"system","uuid":"205f67dc-5947-4566-87e4-25ac266326d9"},{"description":"System action for restarting an application","name":"action_restart","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","uuid":"2088365f-88eb-49f4-b2c5-dd2887b746be","name":"HYCU"},"retries":"0","description":"","uuid":"d55e638e-162f-4b48-9217-0a7074565a96","child_tasks_local_reference_list":[],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"fdda3fb0_dag"}],"description":"","uuid":"cde318ea-76f0-449d-afec-fbf2329a758e","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"fdda3fb0_dag","uuid":"d55e638e-162f-4b48-9217-0a7074565a96"},"name":"b85cb2cc_runbook"},"type":"system","uuid":"4c16bf97-4592-43e7-b00e-f318e2a9a3ba"}],"description":"","uuid":"2088365f-88eb-49f4-b2c5-dd2887b746be","port_list":[],"tier":"","variable_list":[{"val_type":"STRING","description":"","uuid":"55ce23d0-fbc2-4bb4-b5a9-93514ac2b36e","value":"","label":"","attrs":{"type":""},"type":"LOCAL","name":"TARGET_IQN"},{"val_type":"STRING","description":"","uuid":"f2f91872-63b7-4253-ad4a-dbe6922fce1b","value":"","label":"","attrs":{"type":""},"type":"LOCAL","name":"INITIATOR_IQN"}],"depends_on_list":[]}],"substrate_definition_list":[{"name":"AHV_HYCU","action_list":[],"uuid":"1267daec-7636-4b83-98ac-fdfaae6d41c7","readiness_probe":{"connection_type":"SSH","retries":"5","disable_readiness_probe":false,"timeout_secs":"300","address":"@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@","delay_secs":"0","connection_port":22,"login_credential_local_reference":{"kind":"app_credential","name":"HYCU_CRED","uuid":"fe6cb1e0-8807-4f10-96ec-a427a3da64c1"}},"editables":{"readiness_probe":{"connection_type":true,"delay_secs":true,"connection_port":true,"timeout_secs":null},"create_spec":{"name":true,"resources":{"nic_list":{"0":{"ip_endpoint_list":{"0":{"ip":true}},"subnet_reference":true}},"serial_port_list":{},"num_vcpus_per_socket":true,"num_sockets":true,"memory_size_mib":true,"guest_customization":true,"disk_list":{"1":{"disk_size_mib":true}}}}},"os_type":"Linux","type":"AHV_VM","create_spec":{"name":"hycu-@@{calm_time}@@","categories":"","availability_zone_reference":null,"backup_policy":null,"type":"","cluster_reference":null,"resources":{"nic_list":[{"nic_type":"NORMAL_NIC","ip_endpoint_list":[{"ip":"@@{HYCU_IP}@@","type":"ASSIGNED"}],"network_function_chain_reference":null,"network_function_nic_type":"INGRESS","mac_address":"","subnet_reference":{"kind":"subnet","type":"","name":"","uuid":"4ad0b85f-6a89-459b-a62f-73eb0e88bb1a"},"type":""}],"serial_port_list":[],"guest_tools":null,"num_vcpus_per_socket":1,"num_sockets":4,"gpu_list":[],"memory_size_mib":4096,"parent_reference":null,"hardware_clock_timezone":"","guest_customization":{"cloud_init":{"meta_data":"","type":"","user_data":"#cloud-config\nbootcmd:\n- \/opt\/grizzly\/bin\/cloud_init_setup.sh @@{HYCU_HOSTNAME}@@ @@{HYCU_IP}@@\/@@{HYCU_PREFIX}@@ @@{HYCU_GATEWAY}@@ @@{HYCU_DNS}@@ @@{HYCU_DOMAIN}@@"},"type":"","sysprep":null},"power_state":"ON","type":"","account_uuid":"efc034e3-b50e-4a48-b02d-25036aeb8bd3","boot_config":{"boot_device":{"type":"","disk_address":{"adapter_type":"SCSI","device_index":0,"type":""}},"type":"","mac_address":""},"disk_list":[{"data_source_reference":{"kind":"app_package","type":"","name":"HYCU_3_1_3","uuid":"819795cb-9f8e-4881-8690-239b4260b9ec"},"type":"","disk_size_mib":0,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":0,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":32768,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":1,"type":""}}}]}},"variable_list":[],"description":""}],"credential_definition_list":[{"username":"hycu","description":"","uuid":"fe6cb1e0-8807-4f10-96ec-a427a3da64c1","secret":{"attrs":{"is_secret_modified":false,"secret_reference":{"uuid":"e7a4e806-84cf-479e-a298-c3a29a49f8ea"}}},"editables":{"username":true,"secret":true},"type":"PASSWORD","name":"HYCU_CRED"},{"username":"admin","description":"","uuid":"0a8e1a81-e237-419a-8ea3-ce8ecc37f4da","secret":{"attrs":{"is_secret_modified":false,"secret_reference":{"uuid":"ec2bf36a-2f9e-4217-99f9-f783633473c8"}}},"editables":{"username":true,"secret":true},"type":"PASSWORD","name":"NTX_PRISM_USER_FOR_HYCU"}],"type":"USER","app_profile_list":[{"deployment_create_list":[{"name":"b0aa55d2_deployment","action_list":[],"package_local_reference_list":[{"kind":"app_package","name":"AHV_HYCU_Package","uuid":"245bf4ad-7ce5-4f29-9f09-a4ceab8ed1e0"}],"uuid":"f9497542-3359-4892-aad7-ecb44805d12f","min_replicas":"1","max_replicas":"1","substrate_local_reference":{"kind":"app_substrate","name":"AHV_HYCU","uuid":"1267daec-7636-4b83-98ac-fdfaae6d41c7"},"type":"GREENFIELD","variable_list":[],"description":""}],"description":"","action_list":[{"description":"Add ","name":"Add ABS target","critical":false,"runbook":{"task_definition_list":[{"retries":"0","description":"","uuid":"590f6940-2c41-48d1-af3b-c6c76413cfa4","child_tasks_local_reference_list":[{"kind":"app_task","name":"Create VG","uuid":"bbf62d47-9592-4ad5-bfc5-acca83ff2a31"},{"kind":"app_task","name":"Get Initiator IQN","uuid":"a403a209-279b-4354-b99d-91ba4e8ad255"},{"kind":"app_task","name":"Attach Client to VG","uuid":"c6107106-3611-4c22-9b70-e67ef4630d3d"},{"kind":"app_task","name":"Add VG target","uuid":"25825f0e-54ab-410b-b290-2e146d748dad"}],"attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Create VG","uuid":"bbf62d47-9592-4ad5-bfc5-acca83ff2a31"},"edge_type":"user_defined","type":"","uuid":"b985ef25-671e-4b1f-bc23-e4ba4310d7af","to_task_reference":{"kind":"app_task","name":"Get Initiator IQN","uuid":"a403a209-279b-4354-b99d-91ba4e8ad255"}},{"from_task_reference":{"kind":"app_task","name":"Get Initiator IQN","uuid":"a403a209-279b-4354-b99d-91ba4e8ad255"},"edge_type":"user_defined","type":"","uuid":"d71a7e85-10cd-4e83-a890-02d054379620","to_task_reference":{"kind":"app_task","name":"Attach Client to VG","uuid":"c6107106-3611-4c22-9b70-e67ef4630d3d"}},{"from_task_reference":{"kind":"app_task","name":"Attach Client to VG","uuid":"c6107106-3611-4c22-9b70-e67ef4630d3d"},"edge_type":"user_defined","type":"","uuid":"fab4da4f-7eb7-4c12-9c04-29f74c1bebcd","to_task_reference":{"kind":"app_task","name":"Add VG target","uuid":"25825f0e-54ab-410b-b290-2e146d748dad"}}],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"05a2ac1c_dag"},{"target_any_local_reference":{"kind":"app_service","uuid":"2088365f-88eb-49f4-b2c5-dd2887b746be","name":"HYCU"},"retries":"0","description":"","uuid":"bbf62d47-9592-4ad5-bfc5-acca83ff2a31","child_tasks_local_reference_list":[],"attrs":{"exit_status":[],"script":"#script\n\nprism_ip = '@@{NTX_STORAGE_CLUSTER_URL}@@'\nusername = '@@{NTX_PRISM_USER_FOR_HYCU.username}@@'\npassword = '@@{NTX_PRISM_USER_FOR_HYCU.secret}@@'\nstorage_container_name = '@@{NTX_CONTAINER_NAME}@@'\nstorage_container_uuid = ''\nvgname = '@@{NTX_VG_NAME}@@'\ntarget_vg_size = @@{NTX_TARGET_SIZE_TB}@@*1024*1024*1024*1024\n\napi_url = prism_ip + \"\/PrismGateway\/services\/rest\/v2.0\/\"\n\nprint \"INFO: Retrieving storage container uuid for: {}.\".format(storage_container_name)\n\n# -*- Get Container UUID\n\nget_container_uuid_url = api_url + \"storage_containers\"\ntry:\n  response = urlreq(get_container_uuid_url, verb='GET', auth=\"BASIC\", user=username, passwd=password, verify=False)\n  storage_containers = json.loads(response.content)\n  for container in storage_containers['entities']:\n    if container['name'] == storage_container_name:\n      storage_container_uuid = container['storage_container_uuid']\nexcept Exception as e:\n\tprint \"ERROR: Failed to get storage container uuid, check storage container name or check username\/password\"\n\tprint e.message\n\texit(1)\n\nprint \"INFO: storage container uuid is: {}.\".format(storage_container_uuid)\n\n# -*- Check volume group existance\n\ncheck_vg_url = api_url + \"volume_groups\"\nresponse = urlreq(check_vg_url, verb='GET', auth=\"BASIC\", user=username, passwd=password, verify=False)\nvgs = json.loads(response.content)\nfor vg in vgs['entities']:\n  if vg['name'] == vgname:\n    print \"ERROR: Volume group with name {} already exists.\".format(vgname)\n    exit(1)\n\nprint \"INFO: Creating volume group '{}'.\".format(vgname)\n\n# -*- Create Volume Group\n\ncreate_vg_url = api_url + \"volume_groups\"\npayload = {\n\t\"disk_list\": [{\n\t\t\"create_config\": {\n\t\t\t\"size\": target_vg_size,\n\t\t\t\"storage_container_uuid\": storage_container_uuid\n\t\t},\n\t\t\"index\": 0\n\t}],\n\t\"is_shared\": True,\n\t\"name\": vgname\n}\n\nresponse = urlreq(create_vg_url, verb='POST', auth=\"BASIC\", user=username, passwd=password, params=json.dumps(payload), verify=False)\nif response.status_code != 201:\n\tprint \"ERROR: creation of volume group '{}' failed.\".format(vgname)\n\nvg_create_status = json.loads(response.content)\ntask_uuid = vg_create_status['task_uuid']\n\nsleep(5)\n\ncheck_vg_creation_url = api_url + \"tasks\/\" + task_uuid\nresponse = response = urlreq(check_vg_creation_url, verb='GET', auth=\"BASIC\", user=username, passwd=password, verify=False)\nvg_create_status = json.loads(response.content)\n\nif vg_create_status['progress_status'] != \"Succeeded\":\n\tprint \"ERROR: creation of volume group '{}' failed.\".format(vgname)\n\texit(1)\nelse:\n\tprint \"INFO: creation of volume group '{}' Successful.\".format(vgname)\n    \n# -*- Get Volume Group Target IQN\n\ncheck_vg_url = api_url + \"volume_groups\"\nresponse = urlreq(check_vg_url, verb='GET', auth=\"BASIC\", user=username, passwd=password, verify=False)\nvgs = json.loads(response.content)\nfor vg in vgs['entities']:\n  if vg['name'] == vgname:\n    iscsi_target=vg[\"iscsi_target\"]\n\nprint \"TARGET_IQN=iqn.2010-06.com.nutanix:\" + iscsi_target","eval_variables":["TARGET_IQN"],"eval_scope":"local","type":"","script_type":"static"},"timeout_secs":"0","type":"SET_VARIABLE","variable_list":[],"name":"Create VG"},{"target_any_local_reference":{"kind":"app_service","uuid":"2088365f-88eb-49f4-b2c5-dd2887b746be","name":"HYCU"},"retries":"0","description":"","uuid":"a403a209-279b-4354-b99d-91ba4e8ad255","child_tasks_local_reference_list":[],"attrs":{"exit_status":[],"script":"#script\n\nhycu_ip = '@@{address}@@'\nusername = 'admin'\npassword = 'admin'\n\napi_url = \"https:\/\/\" + hycu_ip + \":8443\/rest\/v1.0\"\n\nprint \"INFO: Retrieving HYCU Node Initiator Name.\"\n\n# -*- Retrieving HYCU Node Initiator Name\n\nget_iscsiinitiator = api_url + \"\/administration\/iscsiinitiator\"\ntry:\n  response = urlreq(get_iscsiinitiator, verb='GET', auth=\"BASIC\", user=username, passwd=password, verify=False)\n  get_iscsiinitiator = json.loads(response.content)\n  iqn = get_iscsiinitiator[\"entities\"][0][\"initiatorname\"]\nexcept Exception as e:\n\tprint \"ERROR: HYCU Node Initiator Name check username\/password\"\n\tprint e.message\n\texit(1)\n\nprint \"INFO: Initiator Name is: {}.\".format(iqn)\n\nprint \"INITIATOR_IQN=\" + iqn","eval_variables":["INITIATOR_IQN"],"eval_scope":"local","type":"","script_type":"static"},"timeout_secs":"0","type":"SET_VARIABLE","variable_list":[],"name":"Get Initiator IQN"},{"target_any_local_reference":{"kind":"app_service","uuid":"2088365f-88eb-49f4-b2c5-dd2887b746be","name":"HYCU"},"retries":"0","description":"","uuid":"c6107106-3611-4c22-9b70-e67ef4630d3d","child_tasks_local_reference_list":[],"attrs":{"script_type":"static","type":"","command_line_args":"","exit_status":[],"script":"#script\n\nprism_ip = '@@{NTX_STORAGE_CLUSTER_URL}@@'\nusername = '@@{NTX_PRISM_USER_FOR_HYCU.username}@@'\npassword = '@@{NTX_PRISM_USER_FOR_HYCU.secret}@@'\nvgname = '@@{NTX_VG_NAME}@@'\nvg_uuid = ''\nIQN='@@{INITIATOR_IQN}@@'\n\napi_url = prism_ip + \"\/PrismGateway\/services\/rest\/v2.0\/\"\n\nprint \"INFO: Attaching VG {} to node.\".format(vgname)\n\n# -*- Check volume group existance\n\ntry:\n  check_vg_url = api_url + \"volume_groups\"\n  response = urlreq(check_vg_url, verb='GET', auth=\"BASIC\", user=username, passwd=password, verify=False)\n  vgs = json.loads(response.content)\n  for vg in vgs['entities']:\n    if vg['name'] == vgname:\n      vg_uuid = vg['uuid']\nexcept Exception as e:\n\tprint \"ERROR: Failed to get volume group, check volume group or check username\/password\"\n\tprint e.message\n\texit(1)\n    \nif vg_uuid == '':\n  print \"ERROR: Volume group with name {} doesn't exists\".format(vgname)\n  exit(1)\n\n# -*- Attach Volume Group\n\nattach_vg_url = api_url + \"volume_groups\/\" + vg_uuid + \"\/open\"\npayload = {\n  \"iscsi_client\": {\n    \"client_address\": IQN\n  },\n  \"operation\": \"ATTACH\"\n}\n\nresponse = urlreq(attach_vg_url, verb='POST', auth=\"BASIC\", user=username, passwd=password, params=json.dumps(payload), verify=False)\nif response.status_code != 201:\n\tprint \"ERROR: Attaching vg '{}' failed.\".format(vgname)\n\nattach_status = json.loads(response.content)\nif attach_status['value']:\n  print \"INFO: Attaching vg '{}' Successful.\".format(vgname)\nelse:\n  print \"ERROR: Attaching vg '{}' failed.\".format(vgname)"},"timeout_secs":"0","type":"EXEC","variable_list":[],"name":"Attach Client to VG"},{"target_any_local_reference":{"kind":"app_service","uuid":"2088365f-88eb-49f4-b2c5-dd2887b746be","name":"HYCU"},"retries":"0","description":"","uuid":"25825f0e-54ab-410b-b290-2e146d748dad","child_tasks_local_reference_list":[],"attrs":{"script_type":"static","type":"","command_line_args":"","exit_status":[],"script":"#script\n\nhycu_ip = '@@{address}@@'\nusername = 'admin'\npassword = 'admin'\ntarget_name = \"@@{HYCU_TARGET_NAME}@@\"\ndata_service_ip = \"@@{NTX_DATA_SERVICE_IP}@@\"\ndata_service_port = \"@@{NTX_DATA_SERVICE_PORT}@@\"\ntarget_iqn = \"@@{TARGET_IQN}@@\"\n\napi_url = \"https:\/\/\" + hycu_ip + \":8443\/rest\/v1.0\"\n\nprint \"INFO: Creating target '{}'.\".format(target_name)\n\n# -*- Retrieving HYCU Node Initiator Name\n\npayload = {\n\t\"name\": target_name,\n\t\"description\": \"\",\n\t\"targetType\": \"I_SCSI\",\n\t\"allowedBackupStreams\": 1,\n\t\"encryption\": False,\n\t\"iScsiStorageDetails\": {\n\t\t\"port\": data_service_port,\n\t\t\"address\": data_service_ip,\n\t\t\"chap\": False,\n\t\t\"targetname\": target_iqn,\n\t\t\"username\": \"\",\n\t\t\"password\": \"\",\n\t\t\"mutualChap\": False\n\t}\n}\n\n# -*- Checking existance of the target.\ncheck_target_url = api_url + \"\/targets\"\nresponse = urlreq(check_target_url, verb='GET', auth=\"BASIC\", user=username, passwd=password, verify=False)\ntargets = json.loads(response.content)\nfor target in targets['entities']:\n  if target['name'] == target_name:\n    print \"ERROR: Target with name {} already exists.\".format(target_name)\n    exit(1)\n    \n# -*- Creating Target\ncreate_target_url = api_url + \"\/targets\"\ntry:\n  headers = {'content-type': \"application\/json\"}\n  response = urlreq(create_target_url, verb='POST', auth=\"BASIC\", user=username, passwd=password, params=json.dumps(payload), verify=False, headers=headers)\n  if response.status_code != 202:\n\tprint \"ERROR: creation of target '{}' failed.\".format(target_name)\n  target_create_status = json.loads(response.content)\n  job_uuid = target_create_status[\"entities\"][0][\"jobUuid\"]\nexcept Exception as e:\n  print \"ERROR: Creation of target '{}' failed, check username\/password\".format(target_name) \n  print e.message\n  exit(1)\n\n    \njobs_url = api_url + \"\/jobs\/\" + job_uuid\nwhile(True):\n  response = urlreq(jobs_url, verb='GET', auth=\"BASIC\", user=username, passwd=password, verify=False)\n  if response.status_code != 200:\n    print \"ERROR: Failed to get job status '{}'.\".format(job_uuid)\n  job_status = json.loads(response.content)\n  if job_status[\"entities\"][0][\"status\"] == \"OK\":\n    print \"INFO: creation of target '{}' successful.\".format(target_name)\n    break\n  elif job_status[\"entities\"][0][\"status\"] == \"ERROR\":\n    print \"ERROR: Failed to create '{}'.\".format(target_name)\n    print job_status[\"entities\"][0][\"taskExitMessage\"][\"debug\"]\n    exit(1)\n  else:\n    print \"INFO: creation of target '{}' in-progress sleeping for 5 seconds.\".format(target_name)\n    sleep(5)"},"timeout_secs":"0","type":"EXEC","variable_list":[],"name":"Add VG target"}],"description":"","uuid":"537c4590-3c8d-4725-b6a6-bb2cf37a19b8","variable_list":[{"val_type":"STRING","description":"","uuid":"409f8cdc-afaf-4337-8943-9c1b8cd44b2b","value":"NutanixABS","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","name":"HYCU_TARGET_NAME"},{"val_type":"STRING","description":"","uuid":"456bb957-cd2b-44a0-9454-6dac9401b35d","value":"default-container-34275","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","name":"NTX_CONTAINER_NAME"},{"val_type":"STRING","description":"","uuid":"5d812762-88a3-495a-8659-bcb052fcd01d","value":"hycu-volume-group01","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","name":"NTX_VG_NAME"},{"val_type":"STRING","description":"","uuid":"e557018f-9955-4bf0-9e1e-fd266c8e5f2b","value":"10.46.34.39","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","name":"NTX_DATA_SERVICE_IP"},{"val_type":"STRING","description":"","uuid":"c4ad7baf-93ec-426d-a86f-c674a5344ab3","value":"3260","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","name":"NTX_DATA_SERVICE_PORT"},{"val_type":"STRING","description":"","uuid":"72e9723d-ff6a-4bd8-92d4-68c9802bd56b","value":"1","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","name":"NTX_TARGET_SIZE_TB"}],"main_task_local_reference":{"kind":"app_task","name":"05a2ac1c_dag","uuid":"590f6940-2c41-48d1-af3b-c6c76413cfa4"},"name":"320f45b6_runbook"},"type":"user","uuid":"5d2c0305-fe4e-42b7-9eea-0a50d1dd5f1a"},{"description":"","name":"Add AFS target","critical":false,"runbook":{"task_definition_list":[{"retries":"0","description":"","uuid":"94ba2dec-c359-4f6f-8b44-3cc826b3da60","child_tasks_local_reference_list":[{"kind":"app_task","name":"Add AFS Target","uuid":"6a70759d-b71f-4664-a74b-ec8aecee836d"}],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"c8537784_dag"},{"target_any_local_reference":{"kind":"app_service","uuid":"2088365f-88eb-49f4-b2c5-dd2887b746be","name":"HYCU"},"retries":"0","description":"","uuid":"6a70759d-b71f-4664-a74b-ec8aecee836d","child_tasks_local_reference_list":[],"attrs":{"script_type":"static","type":"","command_line_args":"","exit_status":[],"script":"#script\n\nhycu_ip = '@@{address}@@'\nusername = 'admin'\npassword = 'admin'\ntarget_name = \"@@{HYCU_TARGET_NAME}@@\"\nafs_type = \"@@{NTX_EXISTING_AFS_TYPE}@@\"\nafs_host = \"@@{NTX_EXISTING_AFS_HOST}@@\"\nafs_sharedpath = \"@@{NTX_EXISTING_AFS_SHARED_PATH}@@\"\nsmb_username = \"@@{NTX_EXISTING_SMB_USERNAME}@@\"\nsmb_password = \"@@{NTX_EXISTING_SMB_PASSWORD}@@\"\nsmb_domain = \"@@{NTX_EXISTING_SMB_DOMAIN}@@\"\ntarget_size = @@{NTX_TARGET_SIZE_TB}@@*1024*1024*1024*1024\n\nif afs_type == \"\":\n  print \"INFO: 'NTX_EXISTING_AFS_TYPE' is a mandatory variable\"\nif afs_host == \"\" and afs_sharedpath == \"\" and target_name == \"\":\n  print \"INFO: 'NTX_EXISTING_AFS_HOST', 'NTX_EXISTING_AFS_SHARED_PATH', 'TARGET_NAME' are a mandatory variable\"\n\napi_url = \"https:\/\/\" + hycu_ip + \":8443\/rest\/v1.0\"\n  \nif afs_type == 'NFS':\n  print \"INFO: Creating NFS target '{}'.\".format(target_name)\n  payload = {\n      \"name\": target_name,\n      \"description\": \"\",\n      \"targetType\": \"NFS\",\n      \"allowedBackupStreams\": 1,\n      \"encryption\": False,\n      \"nfsFileSystemDetails\": {\n          \"address\": afs_host,\n          \"sharedPath\": afs_sharedpath\n      },\n      \"advertisedCapacityInBytes\": target_size\n  }\nelif afs_type == 'SMB':\n  print \"INFO: Creating ABS target '{}'.\".format(target_name)\n  payload = {\n\t\"name\": target_name,\n\t\"description\": \"\",\n\t\"targetType\": \"SMB\",\n    \"allowedBackupStreams\": 1,\n    \"encryption\": False,\n\t\"smbFileSystemDetails\": {\n\t\t\"username\": smb_username,\n\t\t\"password\": smb_password,\n\t\t\"domain\": smb_domain,\n\t\t\"sharedPath\": afs_sharedpath,\n\t\t\"address\": afs_host\n\t}\n  }\nelse:\n  print \"ERROR: 'NTX_EXISTING_AFS_TYPE' can only be 'SMB\/NFS'.\".format(target_name)\n  exit(1)\n  \n# -*- Checking existance of the target.\ncheck_target_url = api_url + \"\/targets\"\nresponse = urlreq(check_target_url, verb='GET', auth=\"BASIC\", user=username, passwd=password, verify=False)\ntargets = json.loads(response.content)\nfor target in targets['entities']:\n  if target['name'] == target_name:\n    print \"ERROR: Target with name {} already exists.\".format(target_name)\n    exit(1)\n    \n# -*- Creating Target\ncreate_target_url = api_url + \"\/targets\"\ntry:\n  headers = {'content-type': \"application\/json\"}\n  response = urlreq(create_target_url, verb='POST', auth=\"BASIC\", user=username, passwd=password, params=json.dumps(payload), verify=False, headers=headers)\n  if response.status_code != 202:\n\tprint \"ERROR: creation of target '{}' failed.\".format(target_name)\n  target_create_status = json.loads(response.content)\n  job_uuid = target_create_status[\"entities\"][0][\"jobUuid\"]\nexcept Exception as e:\n  print \"ERROR: Creation of target '{}' failed, check username\/password\".format(target_name) \n  print e.message\n  exit(1)\n\njobs_url = api_url + \"\/jobs\/\" + job_uuid\nwhile(True):\n  response = urlreq(jobs_url, verb='GET', auth=\"BASIC\", user=username, passwd=password, verify=False)\n  if response.status_code != 200:\n    print \"ERROR: Failed to get job status '{}'.\".format(job_uuid)\n  job_status = json.loads(response.content)\n  if job_status[\"entities\"][0][\"status\"] == \"OK\":\n    print \"INFO: creation of target '{}' successful.\".format(target_name)\n    break\n  elif job_status[\"entities\"][0][\"status\"] == \"ERROR\":\n    print \"ERROR: Failed to create '{}'.\".format(target_name)\n    print job_status[\"entities\"][0][\"taskExitMessage\"][\"debug\"]\n    exit(1)\n  else:\n    print \"INFO: creation of target '{}' in-progress sleeping for 5 seconds.\".format(target_name)\n    sleep(5)"},"timeout_secs":"0","type":"EXEC","variable_list":[],"name":"Add AFS Target"}],"description":"","uuid":"dcae8a52-42f0-4293-b688-6bf6ce8c2284","variable_list":[{"val_type":"STRING","description":"","uuid":"b8bd94e1-8138-43be-87e1-9c62866fdd25","value":"NutanixAFS","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","name":"HYCU_TARGET_NAME"},{"val_type":"STRING","description":"","uuid":"2b237b9b-4546-475d-aa38-2229dbc4434a","value":"SMB","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","name":"NTX_EXISTING_AFS_TYPE"},{"val_type":"STRING","description":"","uuid":"c322fb85-b1e9-4e7e-8dbe-4c1ad4efa094","value":"10.46.34.175","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","name":"NTX_EXISTING_AFS_HOST"},{"val_type":"STRING","description":"","uuid":"9f2f40f8-4b7d-4319-91b0-a247c93b5f5f","value":"smb-share","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","name":"NTX_EXISTING_AFS_SHARED_PATH"},{"val_type":"STRING","description":"","uuid":"f153c774-3888-49d4-9547-5deb4e5e4893","value":"1","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","name":"NTX_TARGET_SIZE_TB"},{"val_type":"STRING","description":"","uuid":"22fea95a-1d95-4bdd-9c3a-f3c26faa0a78","value":"","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","name":"NTX_EXISTING_SMB_DOMAIN"},{"val_type":"STRING","description":"","uuid":"c544db2c-f10a-4610-b6db-7f1019d0fc42","value":"","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","name":"NTX_EXISTING_SMB_USERNAME"},{"val_type":"STRING","description":"","uuid":"8e91a80c-c3eb-44bd-85fb-756274c1b4b5","label":"","attrs":{"is_secret_modified":false,"secret_reference":{"uuid":"b3b36142-4d9c-4dfb-98ff-9b89a3b22d9e"}},"editables":{"value":true},"type":"SECRET","name":"NTX_EXISTING_SMB_PASSWORD"}],"main_task_local_reference":{"kind":"app_task","name":"c8537784_dag","uuid":"94ba2dec-c359-4f6f-8b44-3cc826b3da60"},"name":"16ddab2e_runbook"},"type":"user","uuid":"e4becff4-0a7f-4252-98d4-0dc385b0e873"}],"name":"Nutanix","variable_list":[{"val_type":"STRING","description":"","uuid":"d892e3a3-3073-408a-ba7f-c1d0847bee39","value":"https:\/\/10.46.34.88:9440","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","name":"NTX_STORAGE_CLUSTER_URL"},{"val_type":"STRING","description":"","uuid":"04f8c4dc-4f62-4e42-95cc-531ae17e75af","value":"https:\/\/10.46.34.87:9440","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","name":"NTX_PRODUCTION_CLUSTER_URL"},{"val_type":"STRING","description":"","uuid":"bce3a973-08b5-414e-9d50-fa6a5ccb57eb","value":"calm-hycu","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","name":"HYCU_HOSTNAME"},{"val_type":"STRING","description":"","uuid":"ca7a0dfc-e8ff-4052-be86-1db08c6b80ce","value":"10.46.5.201","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","name":"HYCU_IP"},{"val_type":"STRING","description":"","uuid":"dd47a820-4ae8-4320-8f3c-86e4c68cd252","value":"23","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","name":"HYCU_PREFIX"},{"val_type":"STRING","description":"","uuid":"595b3c21-c3a0-466a-b0a9-2b93f3ffac5f","value":"10.46.5.1","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","name":"HYCU_GATEWAY"},{"val_type":"STRING","description":"","uuid":"059b6dd7-30a6-40b5-9909-a950e65ab0dd","value":"8.8.8.8","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","name":"HYCU_DNS"},{"val_type":"STRING","description":"","uuid":"e51e9e87-eccb-4557-8c21-5d082179de60","value":"nutanix.com","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","name":"HYCU_DOMAIN"}],"uuid":"994a7225-af3b-4caf-b4c5-6e22491d1dbb"}],"default_credential_local_reference":{"kind":"app_credential","name":"HYCU_CRED","uuid":"fe6cb1e0-8807-4f10-96ec-a427a3da64c1"},"package_definition_list":[{"uuid":"245bf4ad-7ce5-4f29-9f09-a4ceab8ed1e0","action_list":[],"service_local_reference_list":[{"kind":"app_service","name":"HYCU","uuid":"2088365f-88eb-49f4-b2c5-dd2887b746be"}],"name":"AHV_HYCU_Package","version":"","type":"DEB","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHV_HYCU_Package","uuid":"245bf4ad-7ce5-4f29-9f09-a4ceab8ed1e0"},"retries":"0","name":"f098a20c_dag","type":"DAG","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"Add Storage Cluster","uuid":"8c23b5b1-f23c-42a3-ab3d-461f915e6164"},{"kind":"app_task","name":"Add Prod Clusters","uuid":"07a80e35-4841-4879-88e8-33d3b9b4c614"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Add Storage Cluster","uuid":"8c23b5b1-f23c-42a3-ab3d-461f915e6164"},"edge_type":"user_defined","type":"","uuid":"67ea6567-1a23-435e-a520-26a9702ac483","to_task_reference":{"kind":"app_task","name":"Add Prod Clusters","uuid":"07a80e35-4841-4879-88e8-33d3b9b4c614"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"fa63295b-8a4b-4445-af56-985404f68169"},{"target_any_local_reference":{"kind":"app_service","name":"HYCU","uuid":"2088365f-88eb-49f4-b2c5-dd2887b746be"},"retries":"0","name":"Add Storage Cluster","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"static","type":"","command_line_args":"","exit_status":[],"script":"#script\n\nhycu_ip = '@@{address}@@'\nusername = 'admin'\npassword = 'admin'\npe_ip = \"@@{NTX_STORAGE_CLUSTER_URL}@@\"\npe_username = \"@@{NTX_PRISM_USER_FOR_HYCU.username}@@\"\npe_password = \"@@{NTX_PRISM_USER_FOR_HYCU.secret}@@\"\n\nif pe_ip == \"\":\n  \"ERROR: 'NTX_STORAGE_CLUSTER_URL' should not be empty\".format(pe_ip)\n  exit(1)\n  \nif pe_username == \"\" and pe_password == \"\":\n  \"ERROR: 'NTX_PRISM_USER_FOR_HYCU' should not be empty, plese fill in the PRISM credentials for hycu\".format(pe_ip)\n  exit(1)\n\napi_url = \"https:\/\/\" + hycu_ip + \":8443\/rest\/v1.0\"\n\n# -*- Waiting for api to be ready\nprint \"INFO: Waiting for HYCU to start service.\"\nget_api_url = api_url + \"\/administration\/httpserver\"\ncount = 0\nwhile(True):\n  if count == 20:\n    print \"ERROR: Timout waiting for HYCU service.\".format(pe_ip)\n  try:\n    response = urlreq(get_api_url, verb='GET', auth=\"BASIC\", user=username, passwd=password, verify=False)\n    get_api_status = json.loads(response.content)\n    if get_api_status[\"message\"][\"type\"] == \"OK\":\n      break\n  except Exception as e:\n      print \"INFO: Waiting for HYCU to start service.\"\n      print e.message\n      sleep(10)\n      count += 1\n\nprint \"INFO: Adding Storage cluster '{}'.\".format(pe_ip)\n\n# -*- Retrieving HYCU Node Initiator Name\n\npayload = {\n\t\"username\": pe_username,\n\t\"url\": pe_ip,\n\t\"hypervisorType\": \"KVM\",\n\t\"password\": pe_password\n}\n\ncreate_target_url = api_url + \"\/administration\/clusters\"\ntry:\n  headers = {'content-type': \"application\/json\"}\n  response = urlreq(create_target_url, verb='POST', auth=\"BASIC\", user=username, passwd=password, params=json.dumps(payload), verify=False, headers=headers, timeout=30)\n  if response.status_code != 202:\n\tprint \"ERROR: Adding cluster '{}' failed.\".format(pe_ip)\n  target_create_status = json.loads(response.content)\n  job_uuid = target_create_status[\"entities\"][0][\"jobUuid\"]\nexcept Exception as e:\n  print \"ERROR: Adding cluster '{}' failed, check username\/password\".format(pe_ip) \n  print e.message\n  exit(1)\n    \njobs_url = api_url + \"\/jobs\/\" + job_uuid\nwhile(True):\n  response = urlreq(jobs_url, verb='GET', auth=\"BASIC\", user=username, passwd=password, verify=False)\n  if response.status_code != 200:\n    print \"ERROR: Failed to get job status '{}'.\".format(job_uuid)\n  job_status = json.loads(response.content)\n  if job_status[\"entities\"][0][\"status\"] == \"OK\":\n    print \"INFO: Adding cluster '{}' successful.\".format(pe_ip)\n    break\n  elif job_status[\"entities\"][0][\"status\"] == \"ERROR\":\n    print \"ERROR: Adding cluster '{}' failed.\".format(pe_ip)\n    print job_status[\"entities\"][0][\"taskExitMessage\"][\"debug\"]\n    exit(1)\n  else:\n    print \"INFO: creation of Cluster '{}' in-progress sleeping for 5 seconds.\".format(pe_ip)\n    sleep(5)"},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"8c23b5b1-f23c-42a3-ab3d-461f915e6164"},{"target_any_local_reference":{"kind":"app_service","name":"HYCU","uuid":"2088365f-88eb-49f4-b2c5-dd2887b746be"},"retries":"0","name":"Add Prod Clusters","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"static","type":"","command_line_args":"","exit_status":[],"script":"#script\n\nhycu_ip = '@@{address}@@'\nusername = 'admin'\npassword = 'admin'\npe_ips = \"@@{NTX_PRODUCTION_CLUSTER_URL}@@\"\npe_username = \"@@{NTX_PRISM_USER_FOR_HYCU.username}@@\"\npe_password = \"@@{NTX_PRISM_USER_FOR_HYCU.secret}@@\"\n\nif pe_ips == \"\":\n  \"INFO: 'NTX_PRODUCTION_CLUSTER_URL' were not specified exiting.\".format(pe_ip) \n  exit(0)\n  \n  \nif pe_username == \"\" and pe_password == \"\":\n  \"ERROR: 'NTX_PRISM_USER_FOR_HYCU' should not be empty, plese fill in the PRISM credentials for hycu\".format(pe_ip) \n  exit(1)\n\napi_url = \"https:\/\/\" + hycu_ip + \":8443\/rest\/v1.0\"\n\nprint \"INFO: Adding prod clusters '{}'.\".format(pe_ips)\n\n# -*- Retrieving HYCU Node Initiator Name\nfor pe_ip in pe_ips.split(\",\"):\n  if pe_ip == \"\":\n    print \"WARNING: PE IP cannot be empty: '{}'.\".format(pe_ip)\n    continue\n\n  payload = {\n      \"username\": pe_username,\n      \"url\": pe_ip,\n      \"hypervisorType\": \"KVM\",\n      \"password\": pe_password\n  }\n\n  create_target_url = api_url + \"\/administration\/clusters\"\n  try:\n    headers = {'content-type': \"application\/json\"}\n    response = urlreq(create_target_url, verb='POST', auth=\"BASIC\", user=username, passwd=password, params=json.dumps(payload), verify=False, headers=headers, timeout=30)\n    if response.status_code != 202:\n      print \"ERROR: Adding cluster '{}' failed.\".format(pe_ip)\n    target_create_status = json.loads(response.content)\n    job_uuid = target_create_status[\"entities\"][0][\"jobUuid\"]\n  except Exception as e:\n    print \"ERROR: Adding cluster '{}' failed, check username\/password\".format(pe_ip) \n    print e.message\n    exit(1)\n  \n  jobs_url = api_url + \"\/jobs\/\" + job_uuid\n  while(True):\n    response = urlreq(jobs_url, verb='GET', auth=\"BASIC\", user=username, passwd=password, verify=False)\n    if response.status_code != 200:\n      print \"ERROR: Failed to get job status '{}'.\".format(job_uuid)\n    job_status = json.loads(response.content)\n    if job_status[\"entities\"][0][\"status\"] == \"OK\":\n      print \"INFO: Adding cluster '{}' successful.\".format(pe_ip)\n      break\n    elif job_status[\"entities\"][0][\"status\"] == \"ERROR\":\n      print \"ERROR: Adding cluster '{}' failed.\".format(pe_ip)\n      print job_status[\"entities\"][0][\"taskExitMessage\"][\"debug\"]\n      exit(1)\n    else:\n      print \"INFO: Addition of Cluster '{}' in-progress sleeping for 5 seconds.\".format(pe_ip)\n      sleep(5)"},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"07a80e35-4841-4879-88e8-33d3b9b4c614"}],"name":"27de86fc_runbook","description":"","state":"ACTIVE","variable_list":[],"message_list":[],"main_task_local_reference":{"kind":"app_task","name":"f098a20c_dag","uuid":"fa63295b-8a4b-4445-af56-985404f68169"},"uuid":"c13d3473-ca07-48d1-a270-af4809281bfd"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHV_HYCU_Package","uuid":"245bf4ad-7ce5-4f29-9f09-a4ceab8ed1e0"},"retries":"0","name":"349d3711_dag","type":"DAG","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"6b65e016-0313-45d3-aa22-134787b0d078"}],"name":"b8e1f741_runbook","description":"","state":"ACTIVE","variable_list":[],"message_list":[],"main_task_local_reference":{"kind":"app_task","name":"349d3711_dag","uuid":"6b65e016-0313-45d3-aa22-134787b0d078"},"uuid":"4c2d9628-b427-4921-9566-4413e54cdc12"}},"variable_list":[],"description":""},{"uuid":"819795cb-9f8e-4881-8690-239b4260b9ec","action_list":[],"service_local_reference_list":[],"name":"HYCU_3_1_3","version":"","type":"SUBSTRATE_IMAGE","options":{"type":"","name":"HYCU_3_1_3","resources":{"image_type":"DISK_IMAGE","checksum":{},"source_uri":"http:\/\/download.nutanix.com\/calm\/Hycu\/3.1.3\/hycu-3.1.3-343.qcow2","version":{"product_version":"3.1.3","type":"","product_name":"HYCU"},"architecture":"X86_64","type":""},"description":""},"variable_list":[],"description":""}],"client_attrs":{"f9497542-3359-4892-aad7-ecb44805d12f":{"y":306.5,"x":808}}},"description":"* [HYCU](https:\/\/@@{AHV_HYCU.address}@@:8443)"},"api_version":"3.0","metadata":{"last_update_time":"1549428393066042","owner_reference":{"kind":"user","uuid":"00000000-0000-0000-0000-000000000000","name":"admin"},"kind":"blueprint","uuid":"6ab9854e-676f-4b83-8e75-a70fe0eb3459","project_reference":{"kind":"project","name":"default","uuid":"209e0a42-6f2d-4999-9a9b-5aa705d25661"},"spec_version":3,"creation_time":"1549345662428009","name":"HYCU X DPaaS on Nutanix Storage OLD"}}